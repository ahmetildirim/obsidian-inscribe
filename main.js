/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => Inscribe
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/extension/index.ts
var import_view = require("@codemirror/view");
var import_state = require("@codemirror/state");
var TextSplitStrategies = {
  /**
   * Word-level segmentation (space-delimited).
   * Accepts text until (and including) the first space.
   */
  word: (text) => {
    const nextSpace = text.indexOf(" ");
    return nextSpace === -1 ? { accepted: text, remaining: "" } : {
      accepted: text.slice(0, nextSpace + 1),
      remaining: text.slice(nextSpace + 1)
    };
  },
  /**
   * Sentence-level segmentation (punctuation followed by whitespace).
   */
  sentence: (text) => {
    const match2 = text.match(/[.!?]\s+/);
    if (match2 && match2.index !== void 0) {
      return {
        accepted: text.slice(0, match2.index + 1),
        remaining: text.slice(match2.index + 1)
      };
    }
    return { accepted: text, remaining: "" };
  },
  /**
   * Paragraph-level segmentation (double newline).
   */
  paragraph: (text) => {
    const paragraphEnd = text.indexOf("\n\n");
    return paragraphEnd === -1 ? { accepted: text, remaining: "" } : {
      accepted: text.slice(0, paragraphEnd + 2),
      remaining: text.slice(paragraphEnd + 2)
    };
  },
  /**
   * Atomic acceptance â€“ consume the entire suggestion.
   */
  full: (text) => ({ accepted: text, remaining: "" })
};
var SuggestionUpdateEffect = import_state.StateEffect.define();
var suggestionSessionState = import_state.StateField.define({
  create: () => getResetSession(),
  update(session, transaction) {
    const effect = transaction.effects.find(
      (e2) => e2.is(SuggestionUpdateEffect)
    );
    if (effect)
      return updateSessionFromEffect(effect.value);
    if (transaction.docChanged && session.remainingText && session.anchorPosition !== null) {
      return updateSessionOnDocumentChange(session, transaction);
    }
    if (session.remainingText !== null && session.anchorPosition !== null) {
      return updateSessionOnCursorDrift(session, transaction);
    }
    return session;
  }
});
function getResetSession() {
  return {
    fullText: null,
    remainingText: null,
    baselineDocument: null,
    anchorPosition: null
  };
}
function updateSessionFromEffect(effect) {
  return effect.content === null ? getResetSession() : initializeSession(effect);
}
function initializeSession(effect) {
  return {
    fullText: effect.content,
    remainingText: effect.content,
    baselineDocument: effect.document,
    anchorPosition: effect.anchor
  };
}
function updateSessionOnDocumentChange(session, transaction) {
  let insertedContent = "";
  let insertionAtAnchor = false;
  transaction.changes.iterChanges((fromA, toA, _fromB, _toB, inserted) => {
    if (fromA === session.anchorPosition && toA === fromA) {
      insertedContent = inserted.toString();
      insertionAtAnchor = true;
    }
  });
  if (!insertionAtAnchor || !session.remainingText) {
    return invalidateSession(session);
  }
  if (session.remainingText.startsWith(insertedContent)) {
    return advanceSession(session, insertedContent.length);
  }
  return invalidateSession(session);
}
function advanceSession(session, consumedLength) {
  return {
    ...session,
    remainingText: session.remainingText.slice(consumedLength).length > 0 ? session.remainingText.slice(consumedLength) : null,
    anchorPosition: session.anchorPosition + consumedLength
  };
}
function invalidateSession(session) {
  return {
    ...session,
    remainingText: null,
    anchorPosition: null
  };
}
function updateSessionOnCursorDrift(session, transaction) {
  return transaction.state.selection.main.head !== session.anchorPosition ? invalidateSession(session) : session;
}
var _SuggestionWidget = class extends import_view.WidgetType {
  constructor(content) {
    super();
    this.content = content;
  }
  toDOM() {
    const span = document.createElement("span");
    span.className = _SuggestionWidget.CSS_CLASS;
    span.style.opacity = _SuggestionWidget.OPACITY.toString();
    span.textContent = this.content;
    return span;
  }
};
var SuggestionWidget = _SuggestionWidget;
SuggestionWidget.OPACITY = 0.4;
SuggestionWidget.CSS_CLASS = "cm-inline-prediction";
var suggestionRenderer = import_view.ViewPlugin.fromClass(
  class {
    constructor() {
      this.decorations = import_view.Decoration.none;
    }
    update(update) {
      const session = update.state.field(suggestionSessionState);
      this.decorations = session.remainingText ? this.createDecoration(update.view, session.remainingText) : import_view.Decoration.none;
    }
    createDecoration(view, suggestionText) {
      const cursorPosition = view.state.selection.main.head;
      return import_view.Decoration.set([
        import_view.Decoration.widget({
          widget: new SuggestionWidget(suggestionText),
          side: 1
        }).range(cursorPosition)
      ]);
    }
  },
  { decorations: (v) => v.decorations }
);
var createDebouncedFetcher = (fetch4, getDelay) => {
  let activeRequest = true;
  let timeoutId;
  const throttledFetch = async function* (state) {
    clearTimeout(timeoutId);
    activeRequest = true;
    await new Promise((resolve2) => {
      timeoutId = setTimeout(resolve2, getDelay());
    });
    if (activeRequest)
      yield* fetch4(state);
  };
  const fetcherPlugin = import_view.ViewPlugin.fromClass(
    class {
      constructor() {
        this.currentRequestId = 0;
      }
      async update(update) {
        const state = update.state;
        if (!update.docChanged || state.field(suggestionSessionState).remainingText)
          return;
        const requestId = ++this.currentRequestId;
        for await (const suggestion of throttledFetch(state)) {
          if (requestId !== this.currentRequestId)
            return;
          update.view.dispatch({
            effects: SuggestionUpdateEffect.of({
              content: suggestion.text,
              document: state.doc,
              anchor: state.selection.main.head
            })
          });
        }
      }
    }
  );
  return {
    fetcherPlugin,
    terminate: () => {
      activeRequest = false;
      clearTimeout(timeoutId);
    }
  };
};
var createAcceptanceHandler = (terminateFetch, hotkey, getOptions) => import_state.Prec.highest(
  import_view.keymap.of([
    {
      key: hotkey,
      run: (view) => {
        var _a2;
        const session = view.state.field(suggestionSessionState);
        if (!session.remainingText)
          return false;
        const dynamicOptions = getOptions();
        const segmentationKey = (_a2 = dynamicOptions.splitStrategy) != null ? _a2 : "word";
        const { accepted, remaining } = TextSplitStrategies[segmentationKey](session.remainingText);
        if (!accepted)
          return false;
        view.dispatch({
          ...insertCompletion(view.state, accepted),
          effects: SuggestionUpdateEffect.of({
            content: remaining || null,
            document: remaining ? session.baselineDocument : null,
            anchor: remaining ? session.anchorPosition + accepted.length : null
          })
        });
        if (!remaining)
          terminateFetch();
        return true;
      }
    }
  ])
);
var insertCompletion = (state, text) => {
  const cursorPos = state.selection.main.head;
  return {
    ...state.changeByRange(() => ({
      changes: { from: cursorPos, insert: text },
      range: import_state.EditorSelection.cursor(cursorPos + text.length)
    })),
    userEvent: "completion.accept"
  };
};
function inlineSuggestions(config) {
  const { fetchFunc, getOptions } = config;
  const staticHotkey = config.acceptanceHotkey || "Tab";
  const normalizeFetch = async function* (state) {
    const result = await fetchFunc(state);
    if (Symbol.asyncIterator in result) {
      yield* result;
    } else {
      yield result;
    }
  };
  const getDelay = () => {
    var _a2;
    return (_a2 = getOptions().delayMs) != null ? _a2 : 300;
  };
  const { fetcherPlugin, terminate } = createDebouncedFetcher(normalizeFetch, getDelay);
  const acceptanceHandler = createAcceptanceHandler(terminate, staticHotkey, getOptions);
  return [
    suggestionSessionState,
    fetcherPlugin,
    suggestionRenderer,
    acceptanceHandler
  ];
}

// node_modules/ollama/dist/index.mjs
var import_fs = __toESM(require("fs"), 1);
var import_path = require("path");

// node_modules/whatwg-fetch/fetch.js
var g = typeof globalThis !== "undefined" && globalThis || typeof self !== "undefined" && self || // eslint-disable-next-line no-undef
typeof global !== "undefined" && global || {};
var support = {
  searchParams: "URLSearchParams" in g,
  iterable: "Symbol" in g && "iterator" in Symbol,
  blob: "FileReader" in g && "Blob" in g && function() {
    try {
      new Blob();
      return true;
    } catch (e2) {
      return false;
    }
  }(),
  formData: "FormData" in g,
  arrayBuffer: "ArrayBuffer" in g
};
function isDataView(obj) {
  return obj && DataView.prototype.isPrototypeOf(obj);
}
if (support.arrayBuffer) {
  viewClasses = [
    "[object Int8Array]",
    "[object Uint8Array]",
    "[object Uint8ClampedArray]",
    "[object Int16Array]",
    "[object Uint16Array]",
    "[object Int32Array]",
    "[object Uint32Array]",
    "[object Float32Array]",
    "[object Float64Array]"
  ];
  isArrayBufferView = ArrayBuffer.isView || function(obj) {
    return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;
  };
}
var viewClasses;
var isArrayBufferView;
function normalizeName(name) {
  if (typeof name !== "string") {
    name = String(name);
  }
  if (/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(name) || name === "") {
    throw new TypeError('Invalid character in header field name: "' + name + '"');
  }
  return name.toLowerCase();
}
function normalizeValue(value) {
  if (typeof value !== "string") {
    value = String(value);
  }
  return value;
}
function iteratorFor(items) {
  var iterator = {
    next: function() {
      var value = items.shift();
      return { done: value === void 0, value };
    }
  };
  if (support.iterable) {
    iterator[Symbol.iterator] = function() {
      return iterator;
    };
  }
  return iterator;
}
function Headers2(headers) {
  this.map = {};
  if (headers instanceof Headers2) {
    headers.forEach(function(value, name) {
      this.append(name, value);
    }, this);
  } else if (Array.isArray(headers)) {
    headers.forEach(function(header) {
      if (header.length != 2) {
        throw new TypeError("Headers constructor: expected name/value pair to be length 2, found" + header.length);
      }
      this.append(header[0], header[1]);
    }, this);
  } else if (headers) {
    Object.getOwnPropertyNames(headers).forEach(function(name) {
      this.append(name, headers[name]);
    }, this);
  }
}
Headers2.prototype.append = function(name, value) {
  name = normalizeName(name);
  value = normalizeValue(value);
  var oldValue = this.map[name];
  this.map[name] = oldValue ? oldValue + ", " + value : value;
};
Headers2.prototype["delete"] = function(name) {
  delete this.map[normalizeName(name)];
};
Headers2.prototype.get = function(name) {
  name = normalizeName(name);
  return this.has(name) ? this.map[name] : null;
};
Headers2.prototype.has = function(name) {
  return this.map.hasOwnProperty(normalizeName(name));
};
Headers2.prototype.set = function(name, value) {
  this.map[normalizeName(name)] = normalizeValue(value);
};
Headers2.prototype.forEach = function(callback, thisArg) {
  for (var name in this.map) {
    if (this.map.hasOwnProperty(name)) {
      callback.call(thisArg, this.map[name], name, this);
    }
  }
};
Headers2.prototype.keys = function() {
  var items = [];
  this.forEach(function(value, name) {
    items.push(name);
  });
  return iteratorFor(items);
};
Headers2.prototype.values = function() {
  var items = [];
  this.forEach(function(value) {
    items.push(value);
  });
  return iteratorFor(items);
};
Headers2.prototype.entries = function() {
  var items = [];
  this.forEach(function(value, name) {
    items.push([name, value]);
  });
  return iteratorFor(items);
};
if (support.iterable) {
  Headers2.prototype[Symbol.iterator] = Headers2.prototype.entries;
}
function consumed(body) {
  if (body._noBody)
    return;
  if (body.bodyUsed) {
    return Promise.reject(new TypeError("Already read"));
  }
  body.bodyUsed = true;
}
function fileReaderReady(reader) {
  return new Promise(function(resolve2, reject) {
    reader.onload = function() {
      resolve2(reader.result);
    };
    reader.onerror = function() {
      reject(reader.error);
    };
  });
}
function readBlobAsArrayBuffer(blob) {
  var reader = new FileReader();
  var promise = fileReaderReady(reader);
  reader.readAsArrayBuffer(blob);
  return promise;
}
function readBlobAsText(blob) {
  var reader = new FileReader();
  var promise = fileReaderReady(reader);
  var match2 = /charset=([A-Za-z0-9_-]+)/.exec(blob.type);
  var encoding = match2 ? match2[1] : "utf-8";
  reader.readAsText(blob, encoding);
  return promise;
}
function readArrayBufferAsText(buf) {
  var view = new Uint8Array(buf);
  var chars = new Array(view.length);
  for (var i3 = 0; i3 < view.length; i3++) {
    chars[i3] = String.fromCharCode(view[i3]);
  }
  return chars.join("");
}
function bufferClone(buf) {
  if (buf.slice) {
    return buf.slice(0);
  } else {
    var view = new Uint8Array(buf.byteLength);
    view.set(new Uint8Array(buf));
    return view.buffer;
  }
}
function Body() {
  this.bodyUsed = false;
  this._initBody = function(body) {
    this.bodyUsed = this.bodyUsed;
    this._bodyInit = body;
    if (!body) {
      this._noBody = true;
      this._bodyText = "";
    } else if (typeof body === "string") {
      this._bodyText = body;
    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
      this._bodyBlob = body;
    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
      this._bodyFormData = body;
    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
      this._bodyText = body.toString();
    } else if (support.arrayBuffer && support.blob && isDataView(body)) {
      this._bodyArrayBuffer = bufferClone(body.buffer);
      this._bodyInit = new Blob([this._bodyArrayBuffer]);
    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
      this._bodyArrayBuffer = bufferClone(body);
    } else {
      this._bodyText = body = Object.prototype.toString.call(body);
    }
    if (!this.headers.get("content-type")) {
      if (typeof body === "string") {
        this.headers.set("content-type", "text/plain;charset=UTF-8");
      } else if (this._bodyBlob && this._bodyBlob.type) {
        this.headers.set("content-type", this._bodyBlob.type);
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
      }
    }
  };
  if (support.blob) {
    this.blob = function() {
      var rejected = consumed(this);
      if (rejected) {
        return rejected;
      }
      if (this._bodyBlob) {
        return Promise.resolve(this._bodyBlob);
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(new Blob([this._bodyArrayBuffer]));
      } else if (this._bodyFormData) {
        throw new Error("could not read FormData body as blob");
      } else {
        return Promise.resolve(new Blob([this._bodyText]));
      }
    };
  }
  this.arrayBuffer = function() {
    if (this._bodyArrayBuffer) {
      var isConsumed = consumed(this);
      if (isConsumed) {
        return isConsumed;
      } else if (ArrayBuffer.isView(this._bodyArrayBuffer)) {
        return Promise.resolve(
          this._bodyArrayBuffer.buffer.slice(
            this._bodyArrayBuffer.byteOffset,
            this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength
          )
        );
      } else {
        return Promise.resolve(this._bodyArrayBuffer);
      }
    } else if (support.blob) {
      return this.blob().then(readBlobAsArrayBuffer);
    } else {
      throw new Error("could not read as ArrayBuffer");
    }
  };
  this.text = function() {
    var rejected = consumed(this);
    if (rejected) {
      return rejected;
    }
    if (this._bodyBlob) {
      return readBlobAsText(this._bodyBlob);
    } else if (this._bodyArrayBuffer) {
      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));
    } else if (this._bodyFormData) {
      throw new Error("could not read FormData body as text");
    } else {
      return Promise.resolve(this._bodyText);
    }
  };
  if (support.formData) {
    this.formData = function() {
      return this.text().then(decode);
    };
  }
  this.json = function() {
    return this.text().then(JSON.parse);
  };
  return this;
}
var methods = ["CONNECT", "DELETE", "GET", "HEAD", "OPTIONS", "PATCH", "POST", "PUT", "TRACE"];
function normalizeMethod(method) {
  var upcased = method.toUpperCase();
  return methods.indexOf(upcased) > -1 ? upcased : method;
}
function Request2(input, options) {
  if (!(this instanceof Request2)) {
    throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
  }
  options = options || {};
  var body = options.body;
  if (input instanceof Request2) {
    if (input.bodyUsed) {
      throw new TypeError("Already read");
    }
    this.url = input.url;
    this.credentials = input.credentials;
    if (!options.headers) {
      this.headers = new Headers2(input.headers);
    }
    this.method = input.method;
    this.mode = input.mode;
    this.signal = input.signal;
    if (!body && input._bodyInit != null) {
      body = input._bodyInit;
      input.bodyUsed = true;
    }
  } else {
    this.url = String(input);
  }
  this.credentials = options.credentials || this.credentials || "same-origin";
  if (options.headers || !this.headers) {
    this.headers = new Headers2(options.headers);
  }
  this.method = normalizeMethod(options.method || this.method || "GET");
  this.mode = options.mode || this.mode || null;
  this.signal = options.signal || this.signal || function() {
    if ("AbortController" in g) {
      var ctrl = new AbortController();
      return ctrl.signal;
    }
  }();
  this.referrer = null;
  if ((this.method === "GET" || this.method === "HEAD") && body) {
    throw new TypeError("Body not allowed for GET or HEAD requests");
  }
  this._initBody(body);
  if (this.method === "GET" || this.method === "HEAD") {
    if (options.cache === "no-store" || options.cache === "no-cache") {
      var reParamSearch = /([?&])_=[^&]*/;
      if (reParamSearch.test(this.url)) {
        this.url = this.url.replace(reParamSearch, "$1_=" + new Date().getTime());
      } else {
        var reQueryString = /\?/;
        this.url += (reQueryString.test(this.url) ? "&" : "?") + "_=" + new Date().getTime();
      }
    }
  }
}
Request2.prototype.clone = function() {
  return new Request2(this, { body: this._bodyInit });
};
function decode(body) {
  var form = new FormData();
  body.trim().split("&").forEach(function(bytes) {
    if (bytes) {
      var split2 = bytes.split("=");
      var name = split2.shift().replace(/\+/g, " ");
      var value = split2.join("=").replace(/\+/g, " ");
      form.append(decodeURIComponent(name), decodeURIComponent(value));
    }
  });
  return form;
}
function parseHeaders(rawHeaders) {
  var headers = new Headers2();
  var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, " ");
  preProcessedHeaders.split("\r").map(function(header) {
    return header.indexOf("\n") === 0 ? header.substr(1, header.length) : header;
  }).forEach(function(line) {
    var parts = line.split(":");
    var key = parts.shift().trim();
    if (key) {
      var value = parts.join(":").trim();
      try {
        headers.append(key, value);
      } catch (error) {
        console.warn("Response " + error.message);
      }
    }
  });
  return headers;
}
Body.call(Request2.prototype);
function Response2(bodyInit, options) {
  if (!(this instanceof Response2)) {
    throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
  }
  if (!options) {
    options = {};
  }
  this.type = "default";
  this.status = options.status === void 0 ? 200 : options.status;
  if (this.status < 200 || this.status > 599) {
    throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");
  }
  this.ok = this.status >= 200 && this.status < 300;
  this.statusText = options.statusText === void 0 ? "" : "" + options.statusText;
  this.headers = new Headers2(options.headers);
  this.url = options.url || "";
  this._initBody(bodyInit);
}
Body.call(Response2.prototype);
Response2.prototype.clone = function() {
  return new Response2(this._bodyInit, {
    status: this.status,
    statusText: this.statusText,
    headers: new Headers2(this.headers),
    url: this.url
  });
};
Response2.error = function() {
  var response = new Response2(null, { status: 200, statusText: "" });
  response.ok = false;
  response.status = 0;
  response.type = "error";
  return response;
};
var redirectStatuses = [301, 302, 303, 307, 308];
Response2.redirect = function(url, status) {
  if (redirectStatuses.indexOf(status) === -1) {
    throw new RangeError("Invalid status code");
  }
  return new Response2(null, { status, headers: { location: url } });
};
var DOMException = g.DOMException;
try {
  new DOMException();
} catch (err) {
  DOMException = function(message, name) {
    this.message = message;
    this.name = name;
    var error = Error(message);
    this.stack = error.stack;
  };
  DOMException.prototype = Object.create(Error.prototype);
  DOMException.prototype.constructor = DOMException;
}
function fetch2(input, init) {
  return new Promise(function(resolve2, reject) {
    var request = new Request2(input, init);
    if (request.signal && request.signal.aborted) {
      return reject(new DOMException("Aborted", "AbortError"));
    }
    var xhr = new XMLHttpRequest();
    function abortXhr() {
      xhr.abort();
    }
    xhr.onload = function() {
      var options = {
        statusText: xhr.statusText,
        headers: parseHeaders(xhr.getAllResponseHeaders() || "")
      };
      if (request.url.indexOf("file://") === 0 && (xhr.status < 200 || xhr.status > 599)) {
        options.status = 200;
      } else {
        options.status = xhr.status;
      }
      options.url = "responseURL" in xhr ? xhr.responseURL : options.headers.get("X-Request-URL");
      var body = "response" in xhr ? xhr.response : xhr.responseText;
      setTimeout(function() {
        resolve2(new Response2(body, options));
      }, 0);
    };
    xhr.onerror = function() {
      setTimeout(function() {
        reject(new TypeError("Network request failed"));
      }, 0);
    };
    xhr.ontimeout = function() {
      setTimeout(function() {
        reject(new TypeError("Network request timed out"));
      }, 0);
    };
    xhr.onabort = function() {
      setTimeout(function() {
        reject(new DOMException("Aborted", "AbortError"));
      }, 0);
    };
    function fixUrl(url) {
      try {
        return url === "" && g.location.href ? g.location.href : url;
      } catch (e2) {
        return url;
      }
    }
    xhr.open(request.method, fixUrl(request.url), true);
    if (request.credentials === "include") {
      xhr.withCredentials = true;
    } else if (request.credentials === "omit") {
      xhr.withCredentials = false;
    }
    if ("responseType" in xhr) {
      if (support.blob) {
        xhr.responseType = "blob";
      } else if (support.arrayBuffer) {
        xhr.responseType = "arraybuffer";
      }
    }
    if (init && typeof init.headers === "object" && !(init.headers instanceof Headers2 || g.Headers && init.headers instanceof g.Headers)) {
      var names = [];
      Object.getOwnPropertyNames(init.headers).forEach(function(name) {
        names.push(normalizeName(name));
        xhr.setRequestHeader(name, normalizeValue(init.headers[name]));
      });
      request.headers.forEach(function(value, name) {
        if (names.indexOf(name) === -1) {
          xhr.setRequestHeader(name, value);
        }
      });
    } else {
      request.headers.forEach(function(value, name) {
        xhr.setRequestHeader(name, value);
      });
    }
    if (request.signal) {
      request.signal.addEventListener("abort", abortXhr);
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
          request.signal.removeEventListener("abort", abortXhr);
        }
      };
    }
    xhr.send(typeof request._bodyInit === "undefined" ? null : request._bodyInit);
  });
}
fetch2.polyfill = true;
if (!g.fetch) {
  g.fetch = fetch2;
  g.Headers = Headers2;
  g.Request = Request2;
  g.Response = Response2;
}

// node_modules/ollama/dist/browser.mjs
var version = "0.5.12";
var __defProp$1 = Object.defineProperty;
var __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField$1 = (obj, key, value) => {
  __defNormalProp$1(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
var ResponseError = class extends Error {
  constructor(error, status_code) {
    super(error);
    this.error = error;
    this.status_code = status_code;
    this.name = "ResponseError";
    if (Error.captureStackTrace) {
      Error.captureStackTrace(this, ResponseError);
    }
  }
};
var AbortableAsyncIterator = class {
  constructor(abortController, itr, doneCallback) {
    __publicField$1(this, "abortController");
    __publicField$1(this, "itr");
    __publicField$1(this, "doneCallback");
    this.abortController = abortController;
    this.itr = itr;
    this.doneCallback = doneCallback;
  }
  abort() {
    this.abortController.abort();
  }
  async *[Symbol.asyncIterator]() {
    for await (const message of this.itr) {
      if ("error" in message) {
        throw new Error(message.error);
      }
      yield message;
      if (message.done || message.status === "success") {
        this.doneCallback();
        return;
      }
    }
    throw new Error("Did not receive done or success response in stream.");
  }
};
var checkOk = async (response) => {
  var _a2;
  if (response.ok) {
    return;
  }
  let message = `Error ${response.status}: ${response.statusText}`;
  let errorData = null;
  if ((_a2 = response.headers.get("content-type")) == null ? void 0 : _a2.includes("application/json")) {
    try {
      errorData = await response.json();
      message = errorData.error || message;
    } catch (error) {
      console.log("Failed to parse error response as JSON");
    }
  } else {
    try {
      console.log("Getting text from response");
      const textResponse = await response.text();
      message = textResponse || message;
    } catch (error) {
      console.log("Failed to get text from error response");
    }
  }
  throw new ResponseError(message, response.status);
};
function getPlatform() {
  if (typeof window !== "undefined" && window.navigator) {
    return `${window.navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`;
  } else if (typeof process !== "undefined") {
    return `${process.arch} ${process.platform} Node.js/${process.version}`;
  }
  return "";
}
var fetchWithHeaders = async (fetch4, url, options = {}) => {
  const defaultHeaders = {
    "Content-Type": "application/json",
    Accept: "application/json",
    "User-Agent": `ollama-js/${version} (${getPlatform()})`
  };
  if (!options.headers) {
    options.headers = {};
  }
  const customHeaders = Object.fromEntries(
    Object.entries(options.headers).filter(([key]) => !Object.keys(defaultHeaders).some((defaultKey) => defaultKey.toLowerCase() === key.toLowerCase()))
  );
  options.headers = {
    ...defaultHeaders,
    ...customHeaders
  };
  return fetch4(url, options);
};
var get = async (fetch4, host, options) => {
  const response = await fetchWithHeaders(fetch4, host, {
    headers: options == null ? void 0 : options.headers
  });
  await checkOk(response);
  return response;
};
var post = async (fetch4, host, data, options) => {
  const isRecord = (input) => {
    return input !== null && typeof input === "object" && !Array.isArray(input);
  };
  const formattedData = isRecord(data) ? JSON.stringify(data) : data;
  const response = await fetchWithHeaders(fetch4, host, {
    method: "POST",
    body: formattedData,
    signal: options == null ? void 0 : options.signal,
    headers: options == null ? void 0 : options.headers
  });
  await checkOk(response);
  return response;
};
var del = async (fetch4, host, data, options) => {
  const response = await fetchWithHeaders(fetch4, host, {
    method: "DELETE",
    body: JSON.stringify(data),
    headers: options == null ? void 0 : options.headers
  });
  await checkOk(response);
  return response;
};
var parseJSON = async function* (itr) {
  var _a2;
  const decoder = new TextDecoder("utf-8");
  let buffer = "";
  const reader = itr.getReader();
  while (true) {
    const { done, value: chunk } = await reader.read();
    if (done) {
      break;
    }
    buffer += decoder.decode(chunk);
    const parts = buffer.split("\n");
    buffer = (_a2 = parts.pop()) != null ? _a2 : "";
    for (const part of parts) {
      try {
        yield JSON.parse(part);
      } catch (error) {
        console.warn("invalid json: ", part);
      }
    }
  }
  for (const part of buffer.split("\n").filter((p2) => p2 !== "")) {
    try {
      yield JSON.parse(part);
    } catch (error) {
      console.warn("invalid json: ", part);
    }
  }
};
var formatHost = (host) => {
  if (!host) {
    return "http://127.0.0.1:11434";
  }
  let isExplicitProtocol = host.includes("://");
  if (host.startsWith(":")) {
    host = `http://127.0.0.1${host}`;
    isExplicitProtocol = true;
  }
  if (!isExplicitProtocol) {
    host = `http://${host}`;
  }
  const url = new URL(host);
  let port = url.port;
  if (!port) {
    if (!isExplicitProtocol) {
      port = "11434";
    } else {
      port = url.protocol === "https:" ? "443" : "80";
    }
  }
  let formattedHost = `${url.protocol}//${url.hostname}:${port}${url.pathname}`;
  if (formattedHost.endsWith("/")) {
    formattedHost = formattedHost.slice(0, -1);
  }
  return formattedHost;
};
var __defProp2 = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
var Ollama$1 = class Ollama {
  constructor(config) {
    var _a2, _b;
    __publicField(this, "config");
    __publicField(this, "fetch");
    __publicField(this, "ongoingStreamedRequests", []);
    this.config = {
      host: "",
      headers: config == null ? void 0 : config.headers
    };
    if (!(config == null ? void 0 : config.proxy)) {
      this.config.host = formatHost((_a2 = config == null ? void 0 : config.host) != null ? _a2 : "http://127.0.0.1:11434");
    }
    this.fetch = (_b = config == null ? void 0 : config.fetch) != null ? _b : fetch;
  }
  // Abort any ongoing streamed requests to Ollama
  abort() {
    for (const request of this.ongoingStreamedRequests) {
      request.abort();
    }
    this.ongoingStreamedRequests.length = 0;
  }
  /**
   * Processes a request to the Ollama server. If the request is streamable, it will return a
   * AbortableAsyncIterator that yields the response messages. Otherwise, it will return the response
   * object.
   * @param endpoint {string} - The endpoint to send the request to.
   * @param request {object} - The request object to send to the endpoint.
   * @protected {T | AbortableAsyncIterator<T>} - The response object or a AbortableAsyncIterator that yields
   * response messages.
   * @throws {Error} - If the response body is missing or if the response is an error.
   * @returns {Promise<T | AbortableAsyncIterator<T>>} - The response object or a AbortableAsyncIterator that yields the streamed response.
   */
  async processStreamableRequest(endpoint, request) {
    var _a2;
    request.stream = (_a2 = request.stream) != null ? _a2 : false;
    const host = `${this.config.host}/api/${endpoint}`;
    if (request.stream) {
      const abortController = new AbortController();
      const response2 = await post(this.fetch, host, request, {
        signal: abortController.signal,
        headers: this.config.headers
      });
      if (!response2.body) {
        throw new Error("Missing body");
      }
      const itr = parseJSON(response2.body);
      const abortableAsyncIterator = new AbortableAsyncIterator(
        abortController,
        itr,
        () => {
          const i3 = this.ongoingStreamedRequests.indexOf(abortableAsyncIterator);
          if (i3 > -1) {
            this.ongoingStreamedRequests.splice(i3, 1);
          }
        }
      );
      this.ongoingStreamedRequests.push(abortableAsyncIterator);
      return abortableAsyncIterator;
    }
    const response = await post(this.fetch, host, request, {
      headers: this.config.headers
    });
    return await response.json();
  }
  /**
   * Encodes an image to base64 if it is a Uint8Array.
   * @param image {Uint8Array | string} - The image to encode.
   * @returns {Promise<string>} - The base64 encoded image.
   */
  async encodeImage(image) {
    if (typeof image !== "string") {
      const uint8Array = new Uint8Array(image);
      let byteString = "";
      const len = uint8Array.byteLength;
      for (let i3 = 0; i3 < len; i3++) {
        byteString += String.fromCharCode(uint8Array[i3]);
      }
      return btoa(byteString);
    }
    return image;
  }
  /**
   * Generates a response from a text prompt.
   * @param request {GenerateRequest} - The request object.
   * @returns {Promise<GenerateResponse | AbortableAsyncIterator<GenerateResponse>>} - The response object or
   * an AbortableAsyncIterator that yields response messages.
   */
  async generate(request) {
    if (request.images) {
      request.images = await Promise.all(request.images.map(this.encodeImage.bind(this)));
    }
    return this.processStreamableRequest("generate", request);
  }
  /**
   * Chats with the model. The request object can contain messages with images that are either
   * Uint8Arrays or base64 encoded strings. The images will be base64 encoded before sending the
   * request.
   * @param request {ChatRequest} - The request object.
   * @returns {Promise<ChatResponse | AbortableAsyncIterator<ChatResponse>>} - The response object or an
   * AbortableAsyncIterator that yields response messages.
   */
  async chat(request) {
    if (request.messages) {
      for (const message of request.messages) {
        if (message.images) {
          message.images = await Promise.all(
            message.images.map(this.encodeImage.bind(this))
          );
        }
      }
    }
    return this.processStreamableRequest("chat", request);
  }
  /**
   * Creates a new model from a stream of data.
   * @param request {CreateRequest} - The request object.
   * @returns {Promise<ProgressResponse | AbortableAsyncIterator<ProgressResponse>>} - The response object or a stream of progress responses.
   */
  async create(request) {
    return this.processStreamableRequest("create", {
      ...request
    });
  }
  /**
   * Pulls a model from the Ollama registry. The request object can contain a stream flag to indicate if the
   * response should be streamed.
   * @param request {PullRequest} - The request object.
   * @returns {Promise<ProgressResponse | AbortableAsyncIterator<ProgressResponse>>} - The response object or
   * an AbortableAsyncIterator that yields response messages.
   */
  async pull(request) {
    return this.processStreamableRequest("pull", {
      name: request.model,
      stream: request.stream,
      insecure: request.insecure
    });
  }
  /**
   * Pushes a model to the Ollama registry. The request object can contain a stream flag to indicate if the
   * response should be streamed.
   * @param request {PushRequest} - The request object.
   * @returns {Promise<ProgressResponse | AbortableAsyncIterator<ProgressResponse>>} - The response object or
   * an AbortableAsyncIterator that yields response messages.
   */
  async push(request) {
    return this.processStreamableRequest("push", {
      name: request.model,
      stream: request.stream,
      insecure: request.insecure
    });
  }
  /**
   * Deletes a model from the server. The request object should contain the name of the model to
   * delete.
   * @param request {DeleteRequest} - The request object.
   * @returns {Promise<StatusResponse>} - The response object.
   */
  async delete(request) {
    await del(
      this.fetch,
      `${this.config.host}/api/delete`,
      { name: request.model },
      { headers: this.config.headers }
    );
    return { status: "success" };
  }
  /**
   * Copies a model from one name to another. The request object should contain the name of the
   * model to copy and the new name.
   * @param request {CopyRequest} - The request object.
   * @returns {Promise<StatusResponse>} - The response object.
   */
  async copy(request) {
    await post(this.fetch, `${this.config.host}/api/copy`, { ...request }, {
      headers: this.config.headers
    });
    return { status: "success" };
  }
  /**
   * Lists the models on the server.
   * @returns {Promise<ListResponse>} - The response object.
   * @throws {Error} - If the response body is missing.
   */
  async list() {
    const response = await get(this.fetch, `${this.config.host}/api/tags`, {
      headers: this.config.headers
    });
    return await response.json();
  }
  /**
   * Shows the metadata of a model. The request object should contain the name of the model.
   * @param request {ShowRequest} - The request object.
   * @returns {Promise<ShowResponse>} - The response object.
   */
  async show(request) {
    const response = await post(this.fetch, `${this.config.host}/api/show`, {
      ...request
    }, {
      headers: this.config.headers
    });
    return await response.json();
  }
  /**
   * Embeds text input into vectors.
   * @param request {EmbedRequest} - The request object.
   * @returns {Promise<EmbedResponse>} - The response object.
   */
  async embed(request) {
    const response = await post(this.fetch, `${this.config.host}/api/embed`, {
      ...request
    }, {
      headers: this.config.headers
    });
    return await response.json();
  }
  /**
   * Embeds a text prompt into a vector.
   * @param request {EmbeddingsRequest} - The request object.
   * @returns {Promise<EmbeddingsResponse>} - The response object.
   */
  async embeddings(request) {
    const response = await post(this.fetch, `${this.config.host}/api/embeddings`, {
      ...request
    }, {
      headers: this.config.headers
    });
    return await response.json();
  }
  /**
   * Lists the running models on the server
   * @returns {Promise<ListResponse>} - The response object.
   * @throws {Error} - If the response body is missing.
   */
  async ps() {
    const response = await get(this.fetch, `${this.config.host}/api/ps`, {
      headers: this.config.headers
    });
    return await response.json();
  }
};
var browser = new Ollama$1();

// node_modules/ollama/dist/index.mjs
var Ollama2 = class extends Ollama$1 {
  async encodeImage(image) {
    if (typeof image !== "string") {
      return Buffer.from(image).toString("base64");
    }
    try {
      if (import_fs.default.existsSync(image)) {
        const fileBuffer = await import_fs.promises.readFile((0, import_path.resolve)(image));
        return Buffer.from(fileBuffer).toString("base64");
      }
    } catch (e2) {
    }
    return image;
  }
  /**
   * checks if a file exists
   * @param path {string} - The path to the file
   * @private @internal
   * @returns {Promise<boolean>} - Whether the file exists or not
   */
  async fileExists(path) {
    try {
      await import_fs.promises.access(path);
      return true;
    } catch (e2) {
      return false;
    }
  }
  async create(request) {
    if (request.from && await this.fileExists((0, import_path.resolve)(request.from))) {
      throw Error("Creating with a local path is not currently supported from ollama-js");
    }
    if (request.stream) {
      return super.create(request);
    } else {
      return super.create(request);
    }
  }
};
var index = new Ollama2();

// node_modules/mustache/mustache.mjs
var objectToString = Object.prototype.toString;
var isArray = Array.isArray || function isArrayPolyfill(object) {
  return objectToString.call(object) === "[object Array]";
};
function isFunction(object) {
  return typeof object === "function";
}
function typeStr(obj) {
  return isArray(obj) ? "array" : typeof obj;
}
function escapeRegExp(string) {
  return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
}
function hasProperty(obj, propName) {
  return obj != null && typeof obj === "object" && propName in obj;
}
function primitiveHasOwnProperty(primitive, propName) {
  return primitive != null && typeof primitive !== "object" && primitive.hasOwnProperty && primitive.hasOwnProperty(propName);
}
var regExpTest = RegExp.prototype.test;
function testRegExp(re, string) {
  return regExpTest.call(re, string);
}
var nonSpaceRe = /\S/;
function isWhitespace(string) {
  return !testRegExp(nonSpaceRe, string);
}
var entityMap = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;",
  "/": "&#x2F;",
  "`": "&#x60;",
  "=": "&#x3D;"
};
function escapeHtml(string) {
  return String(string).replace(/[&<>"'`=\/]/g, function fromEntityMap(s2) {
    return entityMap[s2];
  });
}
var whiteRe = /\s*/;
var spaceRe = /\s+/;
var equalsRe = /\s*=/;
var curlyRe = /\s*\}/;
var tagRe = /#|\^|\/|>|\{|&|=|!/;
function parseTemplate(template, tags) {
  if (!template)
    return [];
  var lineHasNonSpace = false;
  var sections = [];
  var tokens = [];
  var spaces = [];
  var hasTag = false;
  var nonSpace = false;
  var indentation = "";
  var tagIndex = 0;
  function stripSpace() {
    if (hasTag && !nonSpace) {
      while (spaces.length)
        delete tokens[spaces.pop()];
    } else {
      spaces = [];
    }
    hasTag = false;
    nonSpace = false;
  }
  var openingTagRe, closingTagRe, closingCurlyRe;
  function compileTags(tagsToCompile) {
    if (typeof tagsToCompile === "string")
      tagsToCompile = tagsToCompile.split(spaceRe, 2);
    if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)
      throw new Error("Invalid tags: " + tagsToCompile);
    openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + "\\s*");
    closingTagRe = new RegExp("\\s*" + escapeRegExp(tagsToCompile[1]));
    closingCurlyRe = new RegExp("\\s*" + escapeRegExp("}" + tagsToCompile[1]));
  }
  compileTags(tags || mustache.tags);
  var scanner = new Scanner(template);
  var start2, type, value, chr, token, openSection;
  while (!scanner.eos()) {
    start2 = scanner.pos;
    value = scanner.scanUntil(openingTagRe);
    if (value) {
      for (var i3 = 0, valueLength = value.length; i3 < valueLength; ++i3) {
        chr = value.charAt(i3);
        if (isWhitespace(chr)) {
          spaces.push(tokens.length);
          indentation += chr;
        } else {
          nonSpace = true;
          lineHasNonSpace = true;
          indentation += " ";
        }
        tokens.push(["text", chr, start2, start2 + 1]);
        start2 += 1;
        if (chr === "\n") {
          stripSpace();
          indentation = "";
          tagIndex = 0;
          lineHasNonSpace = false;
        }
      }
    }
    if (!scanner.scan(openingTagRe))
      break;
    hasTag = true;
    type = scanner.scan(tagRe) || "name";
    scanner.scan(whiteRe);
    if (type === "=") {
      value = scanner.scanUntil(equalsRe);
      scanner.scan(equalsRe);
      scanner.scanUntil(closingTagRe);
    } else if (type === "{") {
      value = scanner.scanUntil(closingCurlyRe);
      scanner.scan(curlyRe);
      scanner.scanUntil(closingTagRe);
      type = "&";
    } else {
      value = scanner.scanUntil(closingTagRe);
    }
    if (!scanner.scan(closingTagRe))
      throw new Error("Unclosed tag at " + scanner.pos);
    if (type == ">") {
      token = [type, value, start2, scanner.pos, indentation, tagIndex, lineHasNonSpace];
    } else {
      token = [type, value, start2, scanner.pos];
    }
    tagIndex++;
    tokens.push(token);
    if (type === "#" || type === "^") {
      sections.push(token);
    } else if (type === "/") {
      openSection = sections.pop();
      if (!openSection)
        throw new Error('Unopened section "' + value + '" at ' + start2);
      if (openSection[1] !== value)
        throw new Error('Unclosed section "' + openSection[1] + '" at ' + start2);
    } else if (type === "name" || type === "{" || type === "&") {
      nonSpace = true;
    } else if (type === "=") {
      compileTags(value);
    }
  }
  stripSpace();
  openSection = sections.pop();
  if (openSection)
    throw new Error('Unclosed section "' + openSection[1] + '" at ' + scanner.pos);
  return nestTokens(squashTokens(tokens));
}
function squashTokens(tokens) {
  var squashedTokens = [];
  var token, lastToken;
  for (var i3 = 0, numTokens = tokens.length; i3 < numTokens; ++i3) {
    token = tokens[i3];
    if (token) {
      if (token[0] === "text" && lastToken && lastToken[0] === "text") {
        lastToken[1] += token[1];
        lastToken[3] = token[3];
      } else {
        squashedTokens.push(token);
        lastToken = token;
      }
    }
  }
  return squashedTokens;
}
function nestTokens(tokens) {
  var nestedTokens = [];
  var collector = nestedTokens;
  var sections = [];
  var token, section;
  for (var i3 = 0, numTokens = tokens.length; i3 < numTokens; ++i3) {
    token = tokens[i3];
    switch (token[0]) {
      case "#":
      case "^":
        collector.push(token);
        sections.push(token);
        collector = token[4] = [];
        break;
      case "/":
        section = sections.pop();
        section[5] = token[2];
        collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;
        break;
      default:
        collector.push(token);
    }
  }
  return nestedTokens;
}
function Scanner(string) {
  this.string = string;
  this.tail = string;
  this.pos = 0;
}
Scanner.prototype.eos = function eos() {
  return this.tail === "";
};
Scanner.prototype.scan = function scan(re) {
  var match2 = this.tail.match(re);
  if (!match2 || match2.index !== 0)
    return "";
  var string = match2[0];
  this.tail = this.tail.substring(string.length);
  this.pos += string.length;
  return string;
};
Scanner.prototype.scanUntil = function scanUntil(re) {
  var index4 = this.tail.search(re), match2;
  switch (index4) {
    case -1:
      match2 = this.tail;
      this.tail = "";
      break;
    case 0:
      match2 = "";
      break;
    default:
      match2 = this.tail.substring(0, index4);
      this.tail = this.tail.substring(index4);
  }
  this.pos += match2.length;
  return match2;
};
function Context(view, parentContext) {
  this.view = view;
  this.cache = { ".": this.view };
  this.parent = parentContext;
}
Context.prototype.push = function push(view) {
  return new Context(view, this);
};
Context.prototype.lookup = function lookup(name) {
  var cache = this.cache;
  var value;
  if (cache.hasOwnProperty(name)) {
    value = cache[name];
  } else {
    var context = this, intermediateValue, names, index4, lookupHit = false;
    while (context) {
      if (name.indexOf(".") > 0) {
        intermediateValue = context.view;
        names = name.split(".");
        index4 = 0;
        while (intermediateValue != null && index4 < names.length) {
          if (index4 === names.length - 1)
            lookupHit = hasProperty(intermediateValue, names[index4]) || primitiveHasOwnProperty(intermediateValue, names[index4]);
          intermediateValue = intermediateValue[names[index4++]];
        }
      } else {
        intermediateValue = context.view[name];
        lookupHit = hasProperty(context.view, name);
      }
      if (lookupHit) {
        value = intermediateValue;
        break;
      }
      context = context.parent;
    }
    cache[name] = value;
  }
  if (isFunction(value))
    value = value.call(this.view);
  return value;
};
function Writer() {
  this.templateCache = {
    _cache: {},
    set: function set(key, value) {
      this._cache[key] = value;
    },
    get: function get2(key) {
      return this._cache[key];
    },
    clear: function clear() {
      this._cache = {};
    }
  };
}
Writer.prototype.clearCache = function clearCache() {
  if (typeof this.templateCache !== "undefined") {
    this.templateCache.clear();
  }
};
Writer.prototype.parse = function parse(template, tags) {
  var cache = this.templateCache;
  var cacheKey = template + ":" + (tags || mustache.tags).join(":");
  var isCacheEnabled = typeof cache !== "undefined";
  var tokens = isCacheEnabled ? cache.get(cacheKey) : void 0;
  if (tokens == void 0) {
    tokens = parseTemplate(template, tags);
    isCacheEnabled && cache.set(cacheKey, tokens);
  }
  return tokens;
};
Writer.prototype.render = function render(template, view, partials, config) {
  var tags = this.getConfigTags(config);
  var tokens = this.parse(template, tags);
  var context = view instanceof Context ? view : new Context(view, void 0);
  return this.renderTokens(tokens, context, partials, template, config);
};
Writer.prototype.renderTokens = function renderTokens(tokens, context, partials, originalTemplate, config) {
  var buffer = "";
  var token, symbol, value;
  for (var i3 = 0, numTokens = tokens.length; i3 < numTokens; ++i3) {
    value = void 0;
    token = tokens[i3];
    symbol = token[0];
    if (symbol === "#")
      value = this.renderSection(token, context, partials, originalTemplate, config);
    else if (symbol === "^")
      value = this.renderInverted(token, context, partials, originalTemplate, config);
    else if (symbol === ">")
      value = this.renderPartial(token, context, partials, config);
    else if (symbol === "&")
      value = this.unescapedValue(token, context);
    else if (symbol === "name")
      value = this.escapedValue(token, context, config);
    else if (symbol === "text")
      value = this.rawValue(token);
    if (value !== void 0)
      buffer += value;
  }
  return buffer;
};
Writer.prototype.renderSection = function renderSection(token, context, partials, originalTemplate, config) {
  var self2 = this;
  var buffer = "";
  var value = context.lookup(token[1]);
  function subRender(template) {
    return self2.render(template, context, partials, config);
  }
  if (!value)
    return;
  if (isArray(value)) {
    for (var j2 = 0, valueLength = value.length; j2 < valueLength; ++j2) {
      buffer += this.renderTokens(token[4], context.push(value[j2]), partials, originalTemplate, config);
    }
  } else if (typeof value === "object" || typeof value === "string" || typeof value === "number") {
    buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate, config);
  } else if (isFunction(value)) {
    if (typeof originalTemplate !== "string")
      throw new Error("Cannot use higher-order sections without the original template");
    value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);
    if (value != null)
      buffer += value;
  } else {
    buffer += this.renderTokens(token[4], context, partials, originalTemplate, config);
  }
  return buffer;
};
Writer.prototype.renderInverted = function renderInverted(token, context, partials, originalTemplate, config) {
  var value = context.lookup(token[1]);
  if (!value || isArray(value) && value.length === 0)
    return this.renderTokens(token[4], context, partials, originalTemplate, config);
};
Writer.prototype.indentPartial = function indentPartial(partial, indentation, lineHasNonSpace) {
  var filteredIndentation = indentation.replace(/[^ \t]/g, "");
  var partialByNl = partial.split("\n");
  for (var i3 = 0; i3 < partialByNl.length; i3++) {
    if (partialByNl[i3].length && (i3 > 0 || !lineHasNonSpace)) {
      partialByNl[i3] = filteredIndentation + partialByNl[i3];
    }
  }
  return partialByNl.join("\n");
};
Writer.prototype.renderPartial = function renderPartial(token, context, partials, config) {
  if (!partials)
    return;
  var tags = this.getConfigTags(config);
  var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];
  if (value != null) {
    var lineHasNonSpace = token[6];
    var tagIndex = token[5];
    var indentation = token[4];
    var indentedValue = value;
    if (tagIndex == 0 && indentation) {
      indentedValue = this.indentPartial(value, indentation, lineHasNonSpace);
    }
    var tokens = this.parse(indentedValue, tags);
    return this.renderTokens(tokens, context, partials, indentedValue, config);
  }
};
Writer.prototype.unescapedValue = function unescapedValue(token, context) {
  var value = context.lookup(token[1]);
  if (value != null)
    return value;
};
Writer.prototype.escapedValue = function escapedValue(token, context, config) {
  var escape2 = this.getConfigEscape(config) || mustache.escape;
  var value = context.lookup(token[1]);
  if (value != null)
    return typeof value === "number" && escape2 === mustache.escape ? String(value) : escape2(value);
};
Writer.prototype.rawValue = function rawValue(token) {
  return token[1];
};
Writer.prototype.getConfigTags = function getConfigTags(config) {
  if (isArray(config)) {
    return config;
  } else if (config && typeof config === "object") {
    return config.tags;
  } else {
    return void 0;
  }
};
Writer.prototype.getConfigEscape = function getConfigEscape(config) {
  if (config && typeof config === "object" && !isArray(config)) {
    return config.escape;
  } else {
    return void 0;
  }
};
var mustache = {
  name: "mustache.js",
  version: "4.2.0",
  tags: ["{{", "}}"],
  clearCache: void 0,
  escape: void 0,
  parse: void 0,
  render: void 0,
  Scanner: void 0,
  Context: void 0,
  Writer: void 0,
  /**
   * Allows a user to override the default caching strategy, by providing an
   * object with set, get and clear methods. This can also be used to disable
   * the cache by setting it to the literal `undefined`.
   */
  set templateCache(cache) {
    defaultWriter.templateCache = cache;
  },
  /**
   * Gets the default or overridden caching object from the default writer.
   */
  get templateCache() {
    return defaultWriter.templateCache;
  }
};
var defaultWriter = new Writer();
mustache.clearCache = function clearCache2() {
  return defaultWriter.clearCache();
};
mustache.parse = function parse2(template, tags) {
  return defaultWriter.parse(template, tags);
};
mustache.render = function render2(template, view, partials, config) {
  if (typeof template !== "string") {
    throw new TypeError('Invalid template! Template should be a "string" but "' + typeStr(template) + '" was given as the first argument for mustache#render(template, view, partials)');
  }
  return defaultWriter.render(template, view, partials, config);
};
mustache.escape = escapeHtml;
mustache.Scanner = Scanner;
mustache.Context = Context;
mustache.Writer = Writer;
var mustache_default = mustache;

// node_modules/compromise/src/API/world.js
var methods2 = {
  one: {},
  two: {},
  three: {},
  four: {}
};
var model = {
  one: {},
  two: {},
  three: {}
};
var compute = {};
var hooks = [];
var world_default = { methods: methods2, model, compute, hooks };

// node_modules/compromise/src/API/methods/compute.js
var isArray2 = (input) => Object.prototype.toString.call(input) === "[object Array]";
var fns = {
  /** add metadata to term objects */
  compute: function(input) {
    const { world: world2 } = this;
    const compute4 = world2.compute;
    if (typeof input === "string" && compute4.hasOwnProperty(input)) {
      compute4[input](this);
    } else if (isArray2(input)) {
      input.forEach((name) => {
        if (world2.compute.hasOwnProperty(name)) {
          compute4[name](this);
        } else {
          console.warn("no compute:", input);
        }
      });
    } else if (typeof input === "function") {
      input(this);
    } else {
      console.warn("no compute:", input);
    }
    return this;
  }
};
var compute_default = fns;

// node_modules/compromise/src/API/methods/loops.js
var forEach = function(cb) {
  let ptrs = this.fullPointer;
  ptrs.forEach((ptr, i3) => {
    let view = this.update([ptr]);
    cb(view, i3);
  });
  return this;
};
var map = function(cb, empty) {
  let ptrs = this.fullPointer;
  let res = ptrs.map((ptr, i3) => {
    let view = this.update([ptr]);
    let out2 = cb(view, i3);
    if (out2 === void 0) {
      return this.none();
    }
    return out2;
  });
  if (res.length === 0) {
    return empty || this.update([]);
  }
  if (res[0] !== void 0) {
    if (typeof res[0] === "string") {
      return res;
    }
    if (typeof res[0] === "object" && (res[0] === null || !res[0].isView)) {
      return res;
    }
  }
  let all = [];
  res.forEach((ptr) => {
    all = all.concat(ptr.fullPointer);
  });
  return this.toView(all);
};
var filter = function(cb) {
  let ptrs = this.fullPointer;
  ptrs = ptrs.filter((ptr, i3) => {
    let view = this.update([ptr]);
    return cb(view, i3);
  });
  let res = this.update(ptrs);
  return res;
};
var find = function(cb) {
  let ptrs = this.fullPointer;
  let found = ptrs.find((ptr, i3) => {
    let view = this.update([ptr]);
    return cb(view, i3);
  });
  return this.update([found]);
};
var some = function(cb) {
  let ptrs = this.fullPointer;
  return ptrs.some((ptr, i3) => {
    let view = this.update([ptr]);
    return cb(view, i3);
  });
};
var random = function(n2 = 1) {
  let ptrs = this.fullPointer;
  let r2 = Math.floor(Math.random() * ptrs.length);
  if (r2 + n2 > this.length) {
    r2 = this.length - n2;
    r2 = r2 < 0 ? 0 : r2;
  }
  ptrs = ptrs.slice(r2, r2 + n2);
  return this.update(ptrs);
};
var loops_default = { forEach, map, filter, find, some, random };

// node_modules/compromise/src/API/methods/utils.js
var utils = {
  /** */
  termList: function() {
    return this.methods.one.termList(this.docs);
  },
  /** return individual terms*/
  terms: function(n2) {
    let m = this.match(".");
    return typeof n2 === "number" ? m.eq(n2) : m;
  },
  /** */
  groups: function(group) {
    if (group || group === 0) {
      return this.update(this._groups[group] || []);
    }
    let res = {};
    Object.keys(this._groups).forEach((k2) => {
      res[k2] = this.update(this._groups[k2]);
    });
    return res;
  },
  /** */
  eq: function(n2) {
    let ptr = this.pointer;
    if (!ptr) {
      ptr = this.docs.map((_doc, i3) => [i3]);
    }
    if (ptr[n2]) {
      return this.update([ptr[n2]]);
    }
    return this.none();
  },
  /** */
  first: function() {
    return this.eq(0);
  },
  /** */
  last: function() {
    let n2 = this.fullPointer.length - 1;
    return this.eq(n2);
  },
  /** grab term[0] for every match */
  firstTerms: function() {
    return this.match("^.");
  },
  /** grab the last term for every match  */
  lastTerms: function() {
    return this.match(".$");
  },
  /** */
  slice: function(min, max2) {
    let pntrs = this.pointer || this.docs.map((_o, n2) => [n2]);
    pntrs = pntrs.slice(min, max2);
    return this.update(pntrs);
  },
  /** return a view of the entire document */
  all: function() {
    return this.update().toView();
  },
  /**  */
  fullSentences: function() {
    let ptrs = this.fullPointer.map((a2) => [a2[0]]);
    return this.update(ptrs).toView();
  },
  /** return a view of no parts of the document */
  none: function() {
    return this.update([]);
  },
  /** are these two views looking at the same words? */
  isDoc: function(b) {
    if (!b || !b.isView) {
      return false;
    }
    let aPtr = this.fullPointer;
    let bPtr = b.fullPointer;
    if (!aPtr.length === bPtr.length) {
      return false;
    }
    return aPtr.every((ptr, i3) => {
      if (!bPtr[i3]) {
        return false;
      }
      return ptr[0] === bPtr[i3][0] && ptr[1] === bPtr[i3][1] && ptr[2] === bPtr[i3][2];
    });
  },
  /** how many seperate terms does the document have? */
  wordCount: function() {
    return this.docs.reduce((count, terms) => {
      count += terms.filter((t3) => t3.text !== "").length;
      return count;
    }, 0);
  },
  // is the pointer the full sentence?
  isFull: function() {
    let ptrs = this.pointer;
    if (!ptrs) {
      return true;
    }
    if (ptrs.length === 0 || ptrs[0][0] !== 0) {
      return false;
    }
    let wantTerms = 0;
    let haveTerms = 0;
    this.document.forEach((terms) => wantTerms += terms.length);
    this.docs.forEach((terms) => haveTerms += terms.length);
    return wantTerms === haveTerms;
  },
  // return the nth elem of a doc
  getNth: function(n2) {
    if (typeof n2 === "number") {
      return this.eq(n2);
    } else if (typeof n2 === "string") {
      return this.if(n2);
    }
    return this;
  }
};
utils.group = utils.groups;
utils.fullSentence = utils.fullSentences;
utils.sentence = utils.fullSentences;
utils.lastTerm = utils.lastTerms;
utils.firstTerm = utils.firstTerms;
var utils_default = utils;

// node_modules/compromise/src/API/methods/index.js
var methods3 = Object.assign({}, utils_default, compute_default, loops_default);
methods3.get = methods3.eq;
var methods_default = methods3;

// node_modules/compromise/src/API/View.js
var View = class {
  constructor(document2, pointer, groups = {}) {
    let props = [
      ["document", document2],
      ["world", world_default],
      ["_groups", groups],
      ["_cache", null],
      ["viewType", "View"]
    ];
    props.forEach((a2) => {
      Object.defineProperty(this, a2[0], {
        value: a2[1],
        writable: true
      });
    });
    this.ptrs = pointer;
  }
  /* getters:  */
  get docs() {
    let docs = this.document;
    if (this.ptrs) {
      docs = world_default.methods.one.getDoc(this.ptrs, this.document);
    }
    return docs;
  }
  get pointer() {
    return this.ptrs;
  }
  get methods() {
    return this.world.methods;
  }
  get model() {
    return this.world.model;
  }
  get hooks() {
    return this.world.hooks;
  }
  get isView() {
    return true;
  }
  // is the view not-empty?
  get found() {
    return this.docs.length > 0;
  }
  // how many matches we have
  get length() {
    return this.docs.length;
  }
  // return a more-hackable pointer
  get fullPointer() {
    let { docs, ptrs, document: document2 } = this;
    let pointers = ptrs || docs.map((_d, n2) => [n2]);
    return pointers.map((a2) => {
      let [n2, start2, end2, id, endId] = a2;
      start2 = start2 || 0;
      end2 = end2 || (document2[n2] || []).length;
      if (document2[n2] && document2[n2][start2]) {
        id = id || document2[n2][start2].id;
        if (document2[n2][end2 - 1]) {
          endId = endId || document2[n2][end2 - 1].id;
        }
      }
      return [n2, start2, end2, id, endId];
    });
  }
  // create a new View, from this one
  update(pointer) {
    let m = new View(this.document, pointer);
    if (this._cache && pointer && pointer.length > 0) {
      let cache = [];
      pointer.forEach((ptr, i3) => {
        let [n2, start2, end2] = ptr;
        if (ptr.length === 1) {
          cache[i3] = this._cache[n2];
        } else if (start2 === 0 && this.document[n2].length === end2) {
          cache[i3] = this._cache[n2];
        }
      });
      if (cache.length > 0) {
        m._cache = cache;
      }
    }
    m.world = this.world;
    return m;
  }
  // create a new View, from this one
  toView(pointer) {
    return new View(this.document, pointer || this.pointer);
  }
  fromText(input) {
    const { methods: methods18 } = this;
    let document2 = methods18.one.tokenize.fromString(input, this.world);
    let doc = new View(document2);
    doc.world = this.world;
    doc.compute(["normal", "freeze", "lexicon"]);
    if (this.world.compute.preTagger) {
      doc.compute("preTagger");
    }
    doc.compute("unfreeze");
    return doc;
  }
  clone() {
    let document2 = this.document.slice(0);
    document2 = document2.map((terms) => {
      return terms.map((term) => {
        term = Object.assign({}, term);
        term.tags = new Set(term.tags);
        return term;
      });
    });
    let m = this.update(this.pointer);
    m.document = document2;
    m._cache = this._cache;
    return m;
  }
};
Object.assign(View.prototype, methods_default);
var View_default = View;

// node_modules/compromise/src/_version.js
var version_default = "14.14.4";

// node_modules/compromise/src/API/extend.js
var isObject = function(item) {
  return item && typeof item === "object" && !Array.isArray(item);
};
function mergeDeep(model4, plugin2) {
  if (isObject(plugin2)) {
    for (const key in plugin2) {
      if (isObject(plugin2[key])) {
        if (!model4[key])
          Object.assign(model4, { [key]: {} });
        mergeDeep(model4[key], plugin2[key]);
      } else {
        Object.assign(model4, { [key]: plugin2[key] });
      }
    }
  }
  return model4;
}
function mergeQuick(model4, plugin2) {
  for (const key in plugin2) {
    model4[key] = model4[key] || {};
    Object.assign(model4[key], plugin2[key]);
  }
  return model4;
}
var addIrregulars = function(model4, conj) {
  let m = model4.two.models || {};
  Object.keys(conj).forEach((k2) => {
    if (conj[k2].pastTense) {
      if (m.toPast) {
        m.toPast.ex[k2] = conj[k2].pastTense;
      }
      if (m.fromPast) {
        m.fromPast.ex[conj[k2].pastTense] = k2;
      }
    }
    if (conj[k2].presentTense) {
      if (m.toPresent) {
        m.toPresent.ex[k2] = conj[k2].presentTense;
      }
      if (m.fromPresent) {
        m.fromPresent.ex[conj[k2].presentTense] = k2;
      }
    }
    if (conj[k2].gerund) {
      if (m.toGerund) {
        m.toGerund.ex[k2] = conj[k2].gerund;
      }
      if (m.fromGerund) {
        m.fromGerund.ex[conj[k2].gerund] = k2;
      }
    }
    if (conj[k2].comparative) {
      if (m.toComparative) {
        m.toComparative.ex[k2] = conj[k2].comparative;
      }
      if (m.fromComparative) {
        m.fromComparative.ex[conj[k2].comparative] = k2;
      }
    }
    if (conj[k2].superlative) {
      if (m.toSuperlative) {
        m.toSuperlative.ex[k2] = conj[k2].superlative;
      }
      if (m.fromSuperlative) {
        m.fromSuperlative.ex[conj[k2].superlative] = k2;
      }
    }
  });
};
var extend = function(plugin2, world2, View2, nlp2) {
  const { methods: methods18, model: model4, compute: compute4, hooks: hooks2 } = world2;
  if (plugin2.methods) {
    mergeQuick(methods18, plugin2.methods);
  }
  if (plugin2.model) {
    mergeDeep(model4, plugin2.model);
  }
  if (plugin2.irregulars) {
    addIrregulars(model4, plugin2.irregulars);
  }
  if (plugin2.compute) {
    Object.assign(compute4, plugin2.compute);
  }
  if (hooks2) {
    world2.hooks = hooks2.concat(plugin2.hooks || []);
  }
  if (plugin2.api) {
    plugin2.api(View2);
  }
  if (plugin2.lib) {
    Object.keys(plugin2.lib).forEach((k2) => nlp2[k2] = plugin2.lib[k2]);
  }
  if (plugin2.tags) {
    nlp2.addTags(plugin2.tags);
  }
  if (plugin2.words) {
    nlp2.addWords(plugin2.words);
  }
  if (plugin2.frozen) {
    nlp2.addWords(plugin2.frozen, true);
  }
  if (plugin2.mutate) {
    plugin2.mutate(world2, nlp2);
  }
};
var extend_default = extend;

// node_modules/compromise/src/API/_lib.js
var verbose = function(set) {
  const env = typeof process === "undefined" || !process.env ? self.env || {} : process.env;
  env.DEBUG_TAGS = set === "tagger" || set === true ? true : "";
  env.DEBUG_MATCH = set === "match" || set === true ? true : "";
  env.DEBUG_CHUNKS = set === "chunker" || set === true ? true : "";
  return this;
};

// node_modules/compromise/src/API/inputs.js
var isObject2 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
var isArray3 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var fromJson = function(json) {
  return json.map((o2) => {
    return o2.terms.map((term) => {
      if (isArray3(term.tags)) {
        term.tags = new Set(term.tags);
      }
      return term;
    });
  });
};
var preTokenized = function(arr) {
  return arr.map((a2) => {
    return a2.map((str2) => {
      return {
        text: str2,
        normal: str2,
        //cleanup
        pre: "",
        post: " ",
        tags: /* @__PURE__ */ new Set()
      };
    });
  });
};
var inputs = function(input, View2, world2) {
  const { methods: methods18 } = world2;
  let doc = new View2([]);
  doc.world = world2;
  if (typeof input === "number") {
    input = String(input);
  }
  if (!input) {
    return doc;
  }
  if (typeof input === "string") {
    let document2 = methods18.one.tokenize.fromString(input, world2);
    return new View2(document2);
  }
  if (isObject2(input) && input.isView) {
    return new View2(input.document, input.ptrs);
  }
  if (isArray3(input)) {
    if (isArray3(input[0])) {
      let document3 = preTokenized(input);
      return new View2(document3);
    }
    let document2 = fromJson(input);
    return new View2(document2);
  }
  return doc;
};
var inputs_default = inputs;

// node_modules/compromise/src/nlp.js
var world = Object.assign({}, world_default);
var nlp = function(input, lex) {
  if (lex) {
    nlp.addWords(lex);
  }
  let doc = inputs_default(input, View_default, world);
  if (input) {
    doc.compute(world.hooks);
  }
  return doc;
};
Object.defineProperty(nlp, "_world", {
  value: world,
  writable: true
});
nlp.tokenize = function(input, lex) {
  const { compute: compute4 } = this._world;
  if (lex) {
    nlp.addWords(lex);
  }
  let doc = inputs_default(input, View_default, world);
  if (compute4.contractions) {
    doc.compute(["alias", "normal", "machine", "contractions"]);
  }
  return doc;
};
nlp.plugin = function(plugin2) {
  extend_default(plugin2, this._world, View_default, this);
  return this;
};
nlp.extend = nlp.plugin;
nlp.world = function() {
  return this._world;
};
nlp.model = function() {
  return this._world.model;
};
nlp.methods = function() {
  return this._world.methods;
};
nlp.hooks = function() {
  return this._world.hooks;
};
nlp.verbose = verbose;
nlp.version = version_default;
var nlp_default = nlp;

// node_modules/compromise/src/1-one/cache/methods/cacheDoc.js
var createCache = function(document2) {
  let cache = document2.map((terms) => {
    let items = /* @__PURE__ */ new Set();
    terms.forEach((term) => {
      if (term.normal !== "") {
        items.add(term.normal);
      }
      if (term.switch) {
        items.add(`%${term.switch}%`);
      }
      if (term.implicit) {
        items.add(term.implicit);
      }
      if (term.machine) {
        items.add(term.machine);
      }
      if (term.root) {
        items.add(term.root);
      }
      if (term.alias) {
        term.alias.forEach((str2) => items.add(str2));
      }
      let tags = Array.from(term.tags);
      for (let t3 = 0; t3 < tags.length; t3 += 1) {
        items.add("#" + tags[t3]);
      }
    });
    return items;
  });
  return cache;
};
var cacheDoc_default = createCache;

// node_modules/compromise/src/1-one/cache/methods/index.js
var methods_default2 = {
  one: {
    cacheDoc: cacheDoc_default
  }
};

// node_modules/compromise/src/1-one/cache/api.js
var methods4 = {
  /** */
  cache: function() {
    this._cache = this.methods.one.cacheDoc(this.document);
    return this;
  },
  /** */
  uncache: function() {
    this._cache = null;
    return this;
  }
};
var addAPI = function(View2) {
  Object.assign(View2.prototype, methods4);
};
var api_default = addAPI;

// node_modules/compromise/src/1-one/cache/compute.js
var compute_default2 = {
  cache: function(view) {
    view._cache = view.methods.one.cacheDoc(view.document);
  }
};

// node_modules/compromise/src/1-one/cache/plugin.js
var plugin_default = {
  api: api_default,
  compute: compute_default2,
  methods: methods_default2
};

// node_modules/compromise/src/1-one/change/api/case.js
var case_default = {
  /** */
  toLowerCase: function() {
    this.termList().forEach((t3) => {
      t3.text = t3.text.toLowerCase();
    });
    return this;
  },
  /** */
  toUpperCase: function() {
    this.termList().forEach((t3) => {
      t3.text = t3.text.toUpperCase();
    });
    return this;
  },
  /** */
  toTitleCase: function() {
    this.termList().forEach((t3) => {
      t3.text = t3.text.replace(/^ *[a-z\u00C0-\u00FF]/, (x) => x.toUpperCase());
    });
    return this;
  },
  /** */
  toCamelCase: function() {
    this.docs.forEach((terms) => {
      terms.forEach((t3, i3) => {
        if (i3 !== 0) {
          t3.text = t3.text.replace(/^ *[a-z\u00C0-\u00FF]/, (x) => x.toUpperCase());
        }
        if (i3 !== terms.length - 1) {
          t3.post = "";
        }
      });
    });
    return this;
  }
};

// node_modules/compromise/src/1-one/change/api/lib/insert.js
var isTitleCase = (str2) => /^\p{Lu}[\p{Ll}'â€™]/u.test(str2) || /^\p{Lu}$/u.test(str2);
var toTitleCase = (str2) => str2.replace(/^\p{Ll}/u, (x) => x.toUpperCase());
var toLowerCase = (str2) => str2.replace(/^\p{Lu}/u, (x) => x.toLowerCase());
var spliceArr = (parent, index4, child) => {
  child.forEach((term) => term.dirty = true);
  if (parent) {
    let args = [index4, 0].concat(child);
    Array.prototype.splice.apply(parent, args);
  }
  return parent;
};
var endSpace = function(terms) {
  const hasSpace2 = / $/;
  const hasDash4 = /[-â€“â€”]/;
  let lastTerm = terms[terms.length - 1];
  if (lastTerm && !hasSpace2.test(lastTerm.post) && !hasDash4.test(lastTerm.post)) {
    lastTerm.post += " ";
  }
};
var movePunct = (source, end2, needle) => {
  const juicy = /[-.?!,;:)â€“â€”'"]/g;
  let wasLast = source[end2 - 1];
  if (!wasLast) {
    return;
  }
  let post2 = wasLast.post;
  if (juicy.test(post2)) {
    let punct = post2.match(juicy).join("");
    let last = needle[needle.length - 1];
    last.post = punct + last.post;
    wasLast.post = wasLast.post.replace(juicy, "");
  }
};
var moveTitleCase = function(home, start2, needle) {
  let from = home[start2];
  if (start2 !== 0 || !isTitleCase(from.text)) {
    return;
  }
  needle[0].text = toTitleCase(needle[0].text);
  let old = home[start2];
  if (old.tags.has("ProperNoun") || old.tags.has("Acronym")) {
    return;
  }
  if (isTitleCase(old.text) && old.text.length > 1) {
    old.text = toLowerCase(old.text);
  }
};
var cleanPrepend = function(home, ptr, needle, document2) {
  let [n2, start2, end2] = ptr;
  if (start2 === 0) {
    endSpace(needle);
  } else if (end2 === document2[n2].length) {
    endSpace(needle);
  } else {
    endSpace(needle);
    endSpace([home[ptr[1]]]);
  }
  moveTitleCase(home, start2, needle);
  spliceArr(home, start2, needle);
};
var cleanAppend = function(home, ptr, needle, document2) {
  let [n2, , end2] = ptr;
  let total = (document2[n2] || []).length;
  if (end2 < total) {
    movePunct(home, end2, needle);
    endSpace(needle);
  } else if (total === end2) {
    endSpace(home);
    movePunct(home, end2, needle);
    if (document2[n2 + 1]) {
      needle[needle.length - 1].post += " ";
    }
  }
  spliceArr(home, ptr[2], needle);
  ptr[4] = needle[needle.length - 1].id;
};

// node_modules/compromise/src/1-one/change/compute/uuid.js
var index2 = 0;
var pad3 = (str2) => {
  str2 = str2.length < 3 ? "0" + str2 : str2;
  return str2.length < 3 ? "0" + str2 : str2;
};
var toId = function(term) {
  let [n2, i3] = term.index || [0, 0];
  index2 += 1;
  index2 = index2 > 46655 ? 0 : index2;
  n2 = n2 > 46655 ? 0 : n2;
  i3 = i3 > 1294 ? 0 : i3;
  let id = pad3(index2.toString(36));
  id += pad3(n2.toString(36));
  let tx = i3.toString(36);
  tx = tx.length < 2 ? "0" + tx : tx;
  id += tx;
  let r2 = parseInt(Math.random() * 36, 10);
  id += r2.toString(36);
  return term.normal + "|" + id.toUpperCase();
};
var uuid_default = toId;

// node_modules/compromise/src/1-one/change/api/insert.js
var expand = function(m) {
  if (m.has("@hasContraction") && typeof m.contractions === "function") {
    let more = m.grow("@hasContraction");
    more.contractions().expand();
  }
};
var isArray4 = (arr) => Object.prototype.toString.call(arr) === "[object Array]";
var addIds = function(terms) {
  terms = terms.map((term) => {
    term.id = uuid_default(term);
    return term;
  });
  return terms;
};
var getTerms = function(input, world2) {
  const { methods: methods18 } = world2;
  if (typeof input === "string") {
    return methods18.one.tokenize.fromString(input, world2)[0];
  }
  if (typeof input === "object" && input.isView) {
    return input.clone().docs[0] || [];
  }
  if (isArray4(input)) {
    return isArray4(input[0]) ? input[0] : input;
  }
  return [];
};
var insert = function(input, view, prepend) {
  const { document: document2, world: world2 } = view;
  view.uncache();
  let ptrs = view.fullPointer;
  let selfPtrs = view.fullPointer;
  view.forEach((m, i3) => {
    let ptr = m.fullPointer[0];
    let [n2] = ptr;
    let home = document2[n2];
    let terms = getTerms(input, world2);
    if (terms.length === 0) {
      return;
    }
    terms = addIds(terms);
    if (prepend) {
      expand(view.update([ptr]).firstTerm());
      cleanPrepend(home, ptr, terms, document2);
    } else {
      expand(view.update([ptr]).lastTerm());
      cleanAppend(home, ptr, terms, document2);
    }
    if (document2[n2] && document2[n2][ptr[1]]) {
      ptr[3] = document2[n2][ptr[1]].id;
    }
    selfPtrs[i3] = ptr;
    ptr[2] += terms.length;
    ptrs[i3] = ptr;
  });
  let doc = view.toView(ptrs);
  view.ptrs = selfPtrs;
  doc.compute(["id", "index", "freeze", "lexicon"]);
  if (doc.world.compute.preTagger) {
    doc.compute("preTagger");
  }
  doc.compute("unfreeze");
  return doc;
};
var fns2 = {
  insertAfter: function(input) {
    return insert(input, this, false);
  },
  insertBefore: function(input) {
    return insert(input, this, true);
  }
};
fns2.append = fns2.insertAfter;
fns2.prepend = fns2.insertBefore;
fns2.insert = fns2.insertAfter;
var insert_default = fns2;

// node_modules/compromise/src/1-one/change/api/replace.js
var dollarStub = /\$[0-9a-z]+/g;
var fns3 = {};
var isTitleCase2 = (str2) => /^\p{Lu}[\p{Ll}'â€™]/u.test(str2) || /^\p{Lu}$/u.test(str2);
var toTitleCase2 = (str2) => str2.replace(/^\p{Ll}/u, (x) => x.toUpperCase());
var toLowerCase2 = (str2) => str2.replace(/^\p{Lu}/u, (x) => x.toLowerCase());
var replaceByFn = function(main, fn, keep) {
  main.forEach((m) => {
    let out2 = fn(m);
    m.replaceWith(out2, keep);
  });
  return main;
};
var subDollarSign = function(input, main) {
  if (typeof input !== "string") {
    return input;
  }
  let groups = main.groups();
  input = input.replace(dollarStub, (a2) => {
    let num = a2.replace(/\$/, "");
    if (groups.hasOwnProperty(num)) {
      return groups[num].text();
    }
    return a2;
  });
  return input;
};
fns3.replaceWith = function(input, keep = {}) {
  let ptrs = this.fullPointer;
  let main = this;
  this.uncache();
  if (typeof input === "function") {
    return replaceByFn(main, input, keep);
  }
  let terms = main.docs[0];
  if (!terms)
    return main;
  let isOriginalPossessive = keep.possessives && terms[terms.length - 1].tags.has("Possessive");
  let isOriginalTitleCase = keep.case && isTitleCase2(terms[0].text);
  input = subDollarSign(input, main);
  let original = this.update(ptrs);
  ptrs = ptrs.map((ptr) => ptr.slice(0, 3));
  let oldTags = (original.docs[0] || []).map((term) => Array.from(term.tags));
  let originalPre = original.docs[0][0].pre;
  let originalPost = original.docs[0][original.docs[0].length - 1].post;
  if (typeof input === "string") {
    input = this.fromText(input).compute("id");
  }
  main.insertAfter(input);
  if (original.has("@hasContraction") && main.contractions) {
    let more = main.grow("@hasContraction+");
    more.contractions().expand();
  }
  main.delete(original);
  if (isOriginalPossessive) {
    let tmp = main.docs[0];
    let term = tmp[tmp.length - 1];
    if (!term.tags.has("Possessive")) {
      term.text += "'s";
      term.normal += "'s";
      term.tags.add("Possessive");
    }
  }
  if (originalPre && main.docs[0]) {
    main.docs[0][0].pre = originalPre;
  }
  if (originalPost && main.docs[0]) {
    let lastOne = main.docs[0][main.docs[0].length - 1];
    if (!lastOne.post.trim()) {
      lastOne.post = originalPost;
    }
  }
  let m = main.toView(ptrs).compute(["index", "freeze", "lexicon"]);
  if (m.world.compute.preTagger) {
    m.compute("preTagger");
  }
  m.compute("unfreeze");
  if (keep.tags) {
    m.terms().forEach((term, i3) => {
      term.tagSafe(oldTags[i3]);
    });
  }
  if (!m.docs[0] || !m.docs[0][0])
    return m;
  if (keep.case) {
    let transformCase = isOriginalTitleCase ? toTitleCase2 : toLowerCase2;
    m.docs[0][0].text = transformCase(m.docs[0][0].text);
  }
  return m;
};
fns3.replace = function(match2, input, keep) {
  if (match2 && !input) {
    return this.replaceWith(match2, keep);
  }
  let m = this.match(match2);
  if (!m.found) {
    return this;
  }
  this.soften();
  return m.replaceWith(input, keep);
};
var replace_default = fns3;

// node_modules/compromise/src/1-one/change/api/lib/remove.js
var repairPunct = function(terms, len) {
  let last = terms.length - 1;
  let from = terms[last];
  let to = terms[last - len];
  if (to && from) {
    to.post += from.post;
    to.post = to.post.replace(/ +([.?!,;:])/, "$1");
    to.post = to.post.replace(/[,;:]+([.?!])/, "$1");
  }
};
var pluckOut = function(document2, nots) {
  nots.forEach((ptr) => {
    let [n2, start2, end2] = ptr;
    let len = end2 - start2;
    if (!document2[n2]) {
      return;
    }
    if (end2 === document2[n2].length && end2 > 1) {
      repairPunct(document2[n2], len);
    }
    document2[n2].splice(start2, len);
  });
  for (let i3 = document2.length - 1; i3 >= 0; i3 -= 1) {
    if (document2[i3].length === 0) {
      document2.splice(i3, 1);
      if (i3 === document2.length && document2[i3 - 1]) {
        let terms = document2[i3 - 1];
        let lastTerm = terms[terms.length - 1];
        if (lastTerm) {
          lastTerm.post = lastTerm.post.trimEnd();
        }
      }
    }
  }
  return document2;
};
var remove_default = pluckOut;

// node_modules/compromise/src/1-one/change/api/remove.js
var fixPointers = function(ptrs, gonePtrs) {
  ptrs = ptrs.map((ptr) => {
    let [n2] = ptr;
    if (!gonePtrs[n2]) {
      return ptr;
    }
    gonePtrs[n2].forEach((no) => {
      let len = no[2] - no[1];
      if (ptr[1] <= no[1] && ptr[2] >= no[2]) {
        ptr[2] -= len;
      }
    });
    return ptr;
  });
  ptrs.forEach((ptr, i3) => {
    if (ptr[1] === 0 && ptr[2] == 0) {
      for (let n2 = i3 + 1; n2 < ptrs.length; n2 += 1) {
        ptrs[n2][0] -= 1;
        if (ptrs[n2][0] < 0) {
          ptrs[n2][0] = 0;
        }
      }
    }
  });
  ptrs = ptrs.filter((ptr) => ptr[2] - ptr[1] > 0);
  ptrs = ptrs.map((ptr) => {
    ptr[3] = null;
    ptr[4] = null;
    return ptr;
  });
  return ptrs;
};
var methods5 = {
  /** */
  remove: function(reg) {
    const { indexN: indexN2 } = this.methods.one.pointer;
    this.uncache();
    let self2 = this.all();
    let not = this;
    if (reg) {
      self2 = this;
      not = this.match(reg);
    }
    let isFull = !self2.ptrs;
    if (not.has("@hasContraction") && not.contractions) {
      let more = not.grow("@hasContraction");
      more.contractions().expand();
    }
    let ptrs = self2.fullPointer;
    let nots = not.fullPointer.reverse();
    let document2 = remove_default(this.document, nots);
    let gonePtrs = indexN2(nots);
    ptrs = fixPointers(ptrs, gonePtrs);
    self2.ptrs = ptrs;
    self2.document = document2;
    self2.compute("index");
    if (isFull) {
      self2.ptrs = void 0;
    }
    if (!reg) {
      this.ptrs = [];
      return self2.none();
    }
    let res = self2.toView(ptrs);
    return res;
  }
};
methods5.delete = methods5.remove;
var remove_default2 = methods5;

// node_modules/compromise/src/1-one/change/api/whitespace.js
var methods6 = {
  /** add this punctuation or whitespace before each match: */
  pre: function(str2, concat) {
    if (str2 === void 0 && this.found) {
      return this.docs[0][0].pre;
    }
    this.docs.forEach((terms) => {
      let term = terms[0];
      if (concat === true) {
        term.pre += str2;
      } else {
        term.pre = str2;
      }
    });
    return this;
  },
  /** add this punctuation or whitespace after each match: */
  post: function(str2, concat) {
    if (str2 === void 0) {
      let last = this.docs[this.docs.length - 1];
      return last[last.length - 1].post;
    }
    this.docs.forEach((terms) => {
      let term = terms[terms.length - 1];
      if (concat === true) {
        term.post += str2;
      } else {
        term.post = str2;
      }
    });
    return this;
  },
  /** remove whitespace from start/end */
  trim: function() {
    if (!this.found) {
      return this;
    }
    let docs = this.docs;
    let start2 = docs[0][0];
    start2.pre = start2.pre.trimStart();
    let last = docs[docs.length - 1];
    let end2 = last[last.length - 1];
    end2.post = end2.post.trimEnd();
    return this;
  },
  /** connect words with hyphen, and remove whitespace */
  hyphenate: function() {
    this.docs.forEach((terms) => {
      terms.forEach((t3, i3) => {
        if (i3 !== 0) {
          t3.pre = "";
        }
        if (terms[i3 + 1]) {
          t3.post = "-";
        }
      });
    });
    return this;
  },
  /** remove hyphens between words, and set whitespace */
  dehyphenate: function() {
    const hasHyphen3 = /[-â€“â€”]/;
    this.docs.forEach((terms) => {
      terms.forEach((t3) => {
        if (hasHyphen3.test(t3.post)) {
          t3.post = " ";
        }
      });
    });
    return this;
  },
  /** add quotations around these matches */
  toQuotations: function(start2, end2) {
    start2 = start2 || `"`;
    end2 = end2 || `"`;
    this.docs.forEach((terms) => {
      terms[0].pre = start2 + terms[0].pre;
      let last = terms[terms.length - 1];
      last.post = end2 + last.post;
    });
    return this;
  },
  /** add brackets around these matches */
  toParentheses: function(start2, end2) {
    start2 = start2 || `(`;
    end2 = end2 || `)`;
    this.docs.forEach((terms) => {
      terms[0].pre = start2 + terms[0].pre;
      let last = terms[terms.length - 1];
      last.post = end2 + last.post;
    });
    return this;
  }
};
methods6.deHyphenate = methods6.dehyphenate;
methods6.toQuotation = methods6.toQuotations;
var whitespace_default = methods6;

// node_modules/compromise/src/1-one/change/api/lib/_sort.js
var alpha = (a2, b) => {
  if (a2.normal < b.normal) {
    return -1;
  }
  if (a2.normal > b.normal) {
    return 1;
  }
  return 0;
};
var length = (a2, b) => {
  let left = a2.normal.trim().length;
  let right = b.normal.trim().length;
  if (left < right) {
    return 1;
  }
  if (left > right) {
    return -1;
  }
  return 0;
};
var wordCount = (a2, b) => {
  if (a2.words < b.words) {
    return 1;
  }
  if (a2.words > b.words) {
    return -1;
  }
  return 0;
};
var sequential = (a2, b) => {
  if (a2[0] < b[0]) {
    return 1;
  }
  if (a2[0] > b[0]) {
    return -1;
  }
  return a2[1] > b[1] ? 1 : -1;
};
var byFreq = function(arr) {
  let counts = {};
  arr.forEach((o2) => {
    counts[o2.normal] = counts[o2.normal] || 0;
    counts[o2.normal] += 1;
  });
  arr.sort((a2, b) => {
    let left = counts[a2.normal];
    let right = counts[b.normal];
    if (left < right) {
      return 1;
    }
    if (left > right) {
      return -1;
    }
    return 0;
  });
  return arr;
};
var sort_default = { alpha, length, wordCount, sequential, byFreq };

// node_modules/compromise/src/1-one/change/api/sort.js
var seqNames = /* @__PURE__ */ new Set(["index", "sequence", "seq", "sequential", "chron", "chronological"]);
var freqNames = /* @__PURE__ */ new Set(["freq", "frequency", "topk", "repeats"]);
var alphaNames = /* @__PURE__ */ new Set(["alpha", "alphabetical"]);
var customSort = function(view, fn) {
  let ptrs = view.fullPointer;
  ptrs = ptrs.sort((a2, b) => {
    a2 = view.update([a2]);
    b = view.update([b]);
    return fn(a2, b);
  });
  view.ptrs = ptrs;
  return view;
};
var sort = function(input) {
  let { docs, pointer } = this;
  this.uncache();
  if (typeof input === "function") {
    return customSort(this, input);
  }
  input = input || "alpha";
  let ptrs = pointer || docs.map((_d, n2) => [n2]);
  let arr = docs.map((terms, n2) => {
    return {
      index: n2,
      words: terms.length,
      normal: terms.map((t3) => t3.machine || t3.normal || "").join(" "),
      pointer: ptrs[n2]
    };
  });
  if (seqNames.has(input)) {
    input = "sequential";
  }
  if (alphaNames.has(input)) {
    input = "alpha";
  }
  if (freqNames.has(input)) {
    arr = sort_default.byFreq(arr);
    return this.update(arr.map((o2) => o2.pointer));
  }
  if (typeof sort_default[input] === "function") {
    arr = arr.sort(sort_default[input]);
    return this.update(arr.map((o2) => o2.pointer));
  }
  return this;
};
var reverse = function() {
  let ptrs = this.pointer || this.docs.map((_d, n2) => [n2]);
  ptrs = [].concat(ptrs);
  ptrs = ptrs.reverse();
  if (this._cache) {
    this._cache = this._cache.reverse();
  }
  return this.update(ptrs);
};
var unique = function() {
  let already = /* @__PURE__ */ new Set();
  let res = this.filter((m) => {
    let txt = m.text("machine");
    if (already.has(txt)) {
      return false;
    }
    already.add(txt);
    return true;
  });
  return res;
};
var sort_default2 = { unique, reverse, sort };

// node_modules/compromise/src/1-one/change/api/concat.js
var isArray5 = (arr) => Object.prototype.toString.call(arr) === "[object Array]";
var combineDocs = function(homeDocs, inputDocs) {
  if (homeDocs.length > 0) {
    let end2 = homeDocs[homeDocs.length - 1];
    let last = end2[end2.length - 1];
    if (/ /.test(last.post) === false) {
      last.post += " ";
    }
  }
  homeDocs = homeDocs.concat(inputDocs);
  return homeDocs;
};
var combineViews = function(home, input) {
  if (home.document === input.document) {
    let ptrs2 = home.fullPointer.concat(input.fullPointer);
    return home.toView(ptrs2).compute("index");
  }
  let ptrs = input.fullPointer;
  ptrs.forEach((a2) => {
    a2[0] += home.document.length;
  });
  home.document = combineDocs(home.document, input.docs);
  return home.all();
};
var concat_default = {
  // add string as new match/sentence
  concat: function(input) {
    if (typeof input === "string") {
      let more = this.fromText(input);
      if (!this.found || !this.ptrs) {
        this.document = this.document.concat(more.document);
      } else {
        let ptrs = this.fullPointer;
        let at = ptrs[ptrs.length - 1][0];
        this.document.splice(at, 0, ...more.document);
      }
      return this.all().compute("index");
    }
    if (typeof input === "object" && input.isView) {
      return combineViews(this, input);
    }
    if (isArray5(input)) {
      let docs = combineDocs(this.document, input);
      this.document = docs;
      return this.all();
    }
    return this;
  }
};

// node_modules/compromise/src/1-one/change/api/harden.js
var harden = function() {
  this.ptrs = this.fullPointer;
  return this;
};
var soften = function() {
  let ptr = this.ptrs;
  if (!ptr || ptr.length < 1) {
    return this;
  }
  ptr = ptr.map((a2) => a2.slice(0, 3));
  this.ptrs = ptr;
  return this;
};
var harden_default = { harden, soften };

// node_modules/compromise/src/1-one/change/api/index.js
var methods7 = Object.assign({}, case_default, insert_default, replace_default, remove_default2, whitespace_default, sort_default2, concat_default, harden_default);
var addAPI2 = function(View2) {
  Object.assign(View2.prototype, methods7);
};
var api_default2 = addAPI2;

// node_modules/compromise/src/1-one/change/compute/index.js
var compute2 = {
  id: function(view) {
    let docs = view.docs;
    for (let n2 = 0; n2 < docs.length; n2 += 1) {
      for (let i3 = 0; i3 < docs[n2].length; i3 += 1) {
        let term = docs[n2][i3];
        term.id = term.id || uuid_default(term);
      }
    }
  }
};
var compute_default3 = compute2;

// node_modules/compromise/src/1-one/change/plugin.js
var plugin_default2 = {
  api: api_default2,
  compute: compute_default3
};

// node_modules/compromise/src/1-one/contraction-one/model/contractions.js
var contractions_default = [
  // simple mappings
  { word: "@", out: ["at"] },
  { word: "arent", out: ["are", "not"] },
  { word: "alot", out: ["a", "lot"] },
  { word: "brb", out: ["be", "right", "back"] },
  { word: "cannot", out: ["can", "not"] },
  { word: "dun", out: ["do", "not"] },
  { word: "can't", out: ["can", "not"] },
  { word: "shan't", out: ["should", "not"] },
  { word: "won't", out: ["will", "not"] },
  { word: "that's", out: ["that", "is"] },
  { word: "what's", out: ["what", "is"] },
  { word: "let's", out: ["let", "us"] },
  // { word: "there's", out: ['there', 'is'] },
  { word: "dunno", out: ["do", "not", "know"] },
  { word: "gonna", out: ["going", "to"] },
  { word: "gotta", out: ["have", "got", "to"] },
  //hmm
  { word: "gimme", out: ["give", "me"] },
  { word: "outta", out: ["out", "of"] },
  { word: "tryna", out: ["trying", "to"] },
  { word: "gtg", out: ["got", "to", "go"] },
  { word: "im", out: ["i", "am"] },
  { word: "imma", out: ["I", "will"] },
  { word: "imo", out: ["in", "my", "opinion"] },
  { word: "irl", out: ["in", "real", "life"] },
  { word: "ive", out: ["i", "have"] },
  { word: "rn", out: ["right", "now"] },
  { word: "tbh", out: ["to", "be", "honest"] },
  { word: "wanna", out: ["want", "to"] },
  { word: `c'mere`, out: ["come", "here"] },
  { word: `c'mon`, out: ["come", "on"] },
  // shoulda, coulda
  { word: "shoulda", out: ["should", "have"] },
  { word: "coulda", out: ["coulda", "have"] },
  { word: "woulda", out: ["woulda", "have"] },
  { word: "musta", out: ["must", "have"] },
  { word: "tis", out: ["it", "is"] },
  { word: "twas", out: ["it", "was"] },
  { word: `y'know`, out: ["you", "know"] },
  { word: "ne'er", out: ["never"] },
  { word: "o'er", out: ["over"] },
  // contraction-part mappings
  { after: "ll", out: ["will"] },
  { after: "ve", out: ["have"] },
  { after: "re", out: ["are"] },
  { after: "m", out: ["am"] },
  // french contractions
  { before: "c", out: ["ce"] },
  { before: "m", out: ["me"] },
  { before: "n", out: ["ne"] },
  { before: "qu", out: ["que"] },
  { before: "s", out: ["se"] },
  { before: "t", out: ["tu"] },
  // t'aime
  // missing apostrophes
  { word: "shouldnt", out: ["should", "not"] },
  { word: "couldnt", out: ["could", "not"] },
  { word: "wouldnt", out: ["would", "not"] },
  { word: "hasnt", out: ["has", "not"] },
  { word: "wasnt", out: ["was", "not"] },
  { word: "isnt", out: ["is", "not"] },
  { word: "cant", out: ["can", "not"] },
  { word: "dont", out: ["do", "not"] },
  { word: "wont", out: ["will", "not"] },
  // apostrophe d
  { word: "howd", out: ["how", "did"] },
  { word: "whatd", out: ["what", "did"] },
  { word: "whend", out: ["when", "did"] },
  { word: "whered", out: ["where", "did"] }
];

// node_modules/compromise/src/1-one/contraction-one/model/number-suffix.js
var t = true;
var number_suffix_default = {
  "st": t,
  "nd": t,
  "rd": t,
  "th": t,
  "am": t,
  "pm": t,
  "max": t,
  "\xB0": t,
  "s": t,
  // 1990s
  "e": t,
  // 18e - french/spanish ordinal
  "er": t,
  //french 1er
  "\xE8re": t,
  //''
  "\xE8me": t
  //french 2Ã¨me
};

// node_modules/compromise/src/1-one/contraction-one/model/index.js
var model_default = {
  one: {
    contractions: contractions_default,
    numberSuffixes: number_suffix_default
  }
};

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/_splice.js
var insertContraction = function(document2, point, words) {
  let [n2, w] = point;
  if (!words || words.length === 0) {
    return;
  }
  words = words.map((word, i3) => {
    word.implicit = word.text;
    word.machine = word.text;
    word.pre = "";
    word.post = "";
    word.text = "";
    word.normal = "";
    word.index = [n2, w + i3];
    return word;
  });
  if (words[0]) {
    words[0].pre = document2[n2][w].pre;
    words[words.length - 1].post = document2[n2][w].post;
    words[0].text = document2[n2][w].text;
    words[0].normal = document2[n2][w].normal;
  }
  document2[n2].splice(w, 1, ...words);
};
var splice_default = insertContraction;

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/apostrophe-d.js
var hasContraction = /'/;
var alwaysDid = /* @__PURE__ */ new Set([
  "what",
  "how",
  "when",
  "where",
  "why"
]);
var useWould = /* @__PURE__ */ new Set([
  "be",
  "go",
  "start",
  "think",
  "need"
]);
var useHad = /* @__PURE__ */ new Set([
  "been",
  "gone"
]);
var _apostropheD = function(terms, i3) {
  let before2 = terms[i3].normal.split(hasContraction)[0];
  if (alwaysDid.has(before2)) {
    return [before2, "did"];
  }
  if (terms[i3 + 1]) {
    if (useHad.has(terms[i3 + 1].normal)) {
      return [before2, "had"];
    }
    if (useWould.has(terms[i3 + 1].normal)) {
      return [before2, "would"];
    }
  }
  return null;
};
var apostrophe_d_default = _apostropheD;

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/apostrophe-t.js
var apostropheT = function(terms, i3) {
  if (terms[i3].normal === "ain't" || terms[i3].normal === "aint") {
    return null;
  }
  let before2 = terms[i3].normal.replace(/n't/, "");
  return [before2, "not"];
};
var apostrophe_t_default = apostropheT;

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/french.js
var hasContraction2 = /'/;
var isFeminine = /(e|Ã©|aison|sion|tion)$/;
var isMasculine = /(age|isme|acle|ege|oire)$/;
var preL = (terms, i3) => {
  let after2 = terms[i3].normal.split(hasContraction2)[1];
  if (after2 && after2.endsWith("e")) {
    return ["la", after2];
  }
  return ["le", after2];
};
var preD = (terms, i3) => {
  let after2 = terms[i3].normal.split(hasContraction2)[1];
  if (after2 && isFeminine.test(after2) && !isMasculine.test(after2)) {
    return ["du", after2];
  } else if (after2 && after2.endsWith("s")) {
    return ["des", after2];
  }
  return ["de", after2];
};
var preJ = (terms, i3) => {
  let after2 = terms[i3].normal.split(hasContraction2)[1];
  return ["je", after2];
};
var french_default = {
  preJ,
  preL,
  preD
};

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/number-range.js
var isRange = /^([0-9.]{1,4}[a-z]{0,2}) ?[-â€“â€”] ?([0-9]{1,4}[a-z]{0,2})$/i;
var timeRange = /^([0-9]{1,2}(:[0-9][0-9])?(am|pm)?) ?[-â€“â€”] ?([0-9]{1,2}(:[0-9][0-9])?(am|pm)?)$/i;
var phoneNum = /^[0-9]{3}-[0-9]{4}$/;
var numberRange = function(terms, i3) {
  let term = terms[i3];
  let parts = term.text.match(isRange);
  if (parts !== null) {
    if (term.tags.has("PhoneNumber") === true || phoneNum.test(term.text)) {
      return null;
    }
    return [parts[1], "to", parts[2]];
  } else {
    parts = term.text.match(timeRange);
    if (parts !== null) {
      return [parts[1], "to", parts[4]];
    }
  }
  return null;
};
var number_range_default = numberRange;

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/number-unit.js
var numUnit = /^([+-]?[0-9][.,0-9]*)([a-zÂ°Â²Â³Âµ/]+)$/;
var numberUnit = function(terms, i3, world2) {
  const notUnit = world2.model.one.numberSuffixes || {};
  let term = terms[i3];
  let parts = term.text.match(numUnit);
  if (parts !== null) {
    let unit = parts[2].toLowerCase().trim();
    if (notUnit.hasOwnProperty(unit)) {
      return null;
    }
    return [parts[1], unit];
  }
  return null;
};
var number_unit_default = numberUnit;

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/index.js
var byApostrophe = /'/;
var numDash = /^[0-9][^-â€“â€”]*[-â€“â€”].*?[0-9]/;
var reTag = function(terms, view, start2, len) {
  let tmp = view.update();
  tmp.document = [terms];
  let end2 = start2 + len;
  if (start2 > 0) {
    start2 -= 1;
  }
  if (terms[end2]) {
    end2 += 1;
  }
  tmp.ptrs = [[0, start2, end2]];
};
var byEnd = {
  // ain't
  t: (terms, i3) => apostrophe_t_default(terms, i3),
  // how'd
  d: (terms, i3) => apostrophe_d_default(terms, i3)
};
var byStart = {
  // j'aime
  j: (terms, i3) => french_default.preJ(terms, i3),
  // l'amour
  l: (terms, i3) => french_default.preL(terms, i3),
  // d'amerique
  d: (terms, i3) => french_default.preD(terms, i3)
};
var knownOnes = function(list2, term, before2, after2) {
  for (let i3 = 0; i3 < list2.length; i3 += 1) {
    let o2 = list2[i3];
    if (o2.word === term.normal) {
      return o2.out;
    } else if (after2 !== null && after2 === o2.after) {
      return [before2].concat(o2.out);
    } else if (before2 !== null && before2 === o2.before && after2 && after2.length > 2) {
      return o2.out.concat(after2);
    }
  }
  return null;
};
var toDocs = function(words, view) {
  let doc = view.fromText(words.join(" "));
  doc.compute(["id", "alias"]);
  return doc.docs[0];
};
var thereHas = function(terms, i3) {
  for (let k2 = i3 + 1; k2 < 5; k2 += 1) {
    if (!terms[k2]) {
      break;
    }
    if (terms[k2].normal === "been") {
      return ["there", "has"];
    }
  }
  return ["there", "is"];
};
var contractions = (view) => {
  let { world: world2, document: document2 } = view;
  const { model: model4, methods: methods18 } = world2;
  let list2 = model4.one.contractions || [];
  document2.forEach((terms, n2) => {
    for (let i3 = terms.length - 1; i3 >= 0; i3 -= 1) {
      let before2 = null;
      let after2 = null;
      if (byApostrophe.test(terms[i3].normal) === true) {
        let res = terms[i3].normal.split(byApostrophe);
        before2 = res[0];
        after2 = res[1];
      }
      let words = knownOnes(list2, terms[i3], before2, after2);
      if (!words && byEnd.hasOwnProperty(after2)) {
        words = byEnd[after2](terms, i3, world2);
      }
      if (!words && byStart.hasOwnProperty(before2)) {
        words = byStart[before2](terms, i3);
      }
      if (before2 === "there" && after2 === "s") {
        words = thereHas(terms, i3);
      }
      if (words) {
        words = toDocs(words, view);
        splice_default(document2, [n2, i3], words);
        reTag(document2[n2], view, i3, words.length);
        continue;
      }
      if (numDash.test(terms[i3].normal)) {
        words = number_range_default(terms, i3);
        if (words) {
          words = toDocs(words, view);
          splice_default(document2, [n2, i3], words);
          methods18.one.setTag(words, "NumberRange", world2);
          if (words[2] && words[2].tags.has("Time")) {
            methods18.one.setTag([words[0]], "Time", world2, null, "time-range");
          }
          reTag(document2[n2], view, i3, words.length);
        }
        continue;
      }
      words = number_unit_default(terms, i3, world2);
      if (words) {
        words = toDocs(words, view);
        splice_default(document2, [n2, i3], words);
        methods18.one.setTag([words[1]], "Unit", world2, null, "contraction-unit");
      }
    }
  });
};
var contractions_default2 = contractions;

// node_modules/compromise/src/1-one/contraction-one/compute/index.js
var compute_default4 = { contractions: contractions_default2 };

// node_modules/compromise/src/1-one/contraction-one/plugin.js
var plugin = {
  model: model_default,
  compute: compute_default4,
  hooks: ["contractions"]
};
var plugin_default3 = plugin;

// node_modules/compromise/src/1-one/freeze/compute.js
var freeze = function(view) {
  const world2 = view.world;
  const { model: model4, methods: methods18 } = view.world;
  const setTag2 = methods18.one.setTag;
  const { frozenLex } = model4.one;
  const multi = model4.one._multiCache || {};
  view.docs.forEach((terms) => {
    for (let i3 = 0; i3 < terms.length; i3 += 1) {
      let t3 = terms[i3];
      let word = t3.machine || t3.normal;
      if (multi[word] !== void 0 && terms[i3 + 1]) {
        let end2 = i3 + multi[word] - 1;
        for (let k2 = end2; k2 > i3; k2 -= 1) {
          let words = terms.slice(i3, k2 + 1);
          let str2 = words.map((term) => term.machine || term.normal).join(" ");
          if (frozenLex.hasOwnProperty(str2) === true) {
            setTag2(words, frozenLex[str2], world2, false, "1-frozen-multi-lexicon");
            words.forEach((term) => term.frozen = true);
            continue;
          }
        }
      }
      if (frozenLex[word] !== void 0 && frozenLex.hasOwnProperty(word)) {
        setTag2([t3], frozenLex[word], world2, false, "1-freeze-lexicon");
        t3.frozen = true;
        continue;
      }
    }
  });
};
var unfreeze = function(view) {
  view.docs.forEach((ts) => {
    ts.forEach((term) => {
      delete term.frozen;
    });
  });
  return view;
};
var compute_default5 = { frozen: freeze, freeze, unfreeze };

// node_modules/compromise/src/1-one/freeze/debug.js
var blue = (str2) => "\x1B[34m" + str2 + "\x1B[0m";
var dim = (str2) => "\x1B[3m\x1B[2m" + str2 + "\x1B[0m";
var debug = function(view) {
  view.docs.forEach((terms) => {
    console.log(blue("\n  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"));
    terms.forEach((t3) => {
      let str2 = `  ${dim("\u2502")}  `;
      let txt = t3.implicit || t3.text || "-";
      if (t3.frozen === true) {
        str2 += `${blue(txt)} \u2744\uFE0F`;
      } else {
        str2 += dim(txt);
      }
      console.log(str2);
    });
  });
};
var debug_default = debug;

// node_modules/compromise/src/1-one/freeze/plugin.js
var plugin_default4 = {
  // add .compute('freeze')
  compute: compute_default5,
  mutate: (world2) => {
    const methods18 = world2.methods.one;
    methods18.termMethods.isFrozen = (term) => term.frozen === true;
    methods18.debug.freeze = debug_default;
    methods18.debug.frozen = debug_default;
  },
  api: function(View2) {
    View2.prototype.freeze = function() {
      this.docs.forEach((ts) => {
        ts.forEach((term) => {
          term.frozen = true;
        });
      });
      return this;
    };
    View2.prototype.unfreeze = function() {
      this.compute("unfreeze");
    };
    View2.prototype.isFrozen = function() {
      return this.match("@isFrozen+");
    };
  },
  // run it in init
  hooks: ["freeze"]
};

// node_modules/compromise/src/1-one/lexicon/compute/multi-word.js
var multiWord = function(terms, start_i, world2) {
  const { model: model4, methods: methods18 } = world2;
  const setTag2 = methods18.one.setTag;
  const multi = model4.one._multiCache || {};
  const { lexicon: lexicon3 } = model4.one || {};
  let t3 = terms[start_i];
  let word = t3.machine || t3.normal;
  if (multi[word] !== void 0 && terms[start_i + 1]) {
    let end2 = start_i + multi[word] - 1;
    for (let i3 = end2; i3 > start_i; i3 -= 1) {
      let words = terms.slice(start_i, i3 + 1);
      if (words.length <= 1) {
        return false;
      }
      let str2 = words.map((term) => term.machine || term.normal).join(" ");
      if (lexicon3.hasOwnProperty(str2) === true) {
        let tag = lexicon3[str2];
        setTag2(words, tag, world2, false, "1-multi-lexicon");
        if (tag && tag.length === 2 && (tag[0] === "PhrasalVerb" || tag[1] === "PhrasalVerb")) {
          setTag2([words[1]], "Particle", world2, false, "1-phrasal-particle");
        }
        return true;
      }
    }
    return false;
  }
  return null;
};
var multi_word_default = multiWord;

// node_modules/compromise/src/1-one/lexicon/compute/single-word.js
var prefix = /^(under|over|mis|re|un|dis|semi|pre|post)-?/;
var allowPrefix = /* @__PURE__ */ new Set(["Verb", "Infinitive", "PastTense", "Gerund", "PresentTense", "Adjective", "Participle"]);
var checkLexicon = function(terms, i3, world2) {
  const { model: model4, methods: methods18 } = world2;
  const setTag2 = methods18.one.setTag;
  const { lexicon: lexicon3 } = model4.one;
  let t3 = terms[i3];
  let word = t3.machine || t3.normal;
  if (lexicon3[word] !== void 0 && lexicon3.hasOwnProperty(word)) {
    setTag2([t3], lexicon3[word], world2, false, "1-lexicon");
    return true;
  }
  if (t3.alias) {
    let found = t3.alias.find((str2) => lexicon3.hasOwnProperty(str2));
    if (found) {
      setTag2([t3], lexicon3[found], world2, false, "1-lexicon-alias");
      return true;
    }
  }
  if (prefix.test(word) === true) {
    let stem = word.replace(prefix, "");
    if (lexicon3.hasOwnProperty(stem) && stem.length > 3) {
      if (allowPrefix.has(lexicon3[stem])) {
        setTag2([t3], lexicon3[stem], world2, false, "1-lexicon-prefix");
        return true;
      }
    }
  }
  return null;
};
var single_word_default = checkLexicon;

// node_modules/compromise/src/1-one/lexicon/compute/index.js
var lexicon = function(view) {
  const world2 = view.world;
  view.docs.forEach((terms) => {
    for (let i3 = 0; i3 < terms.length; i3 += 1) {
      if (terms[i3].tags.size === 0) {
        let found = null;
        found = found || multi_word_default(terms, i3, world2);
        found = found || single_word_default(terms, i3, world2);
      }
    }
  });
};
var compute_default6 = {
  lexicon
};

// node_modules/compromise/src/1-one/lexicon/methods/expand.js
var expand2 = function(words) {
  let lex = {};
  let _multi = {};
  Object.keys(words).forEach((word) => {
    let tag = words[word];
    word = word.toLowerCase().trim();
    word = word.replace(/'s\b/, "");
    let split2 = word.split(/ /);
    if (split2.length > 1) {
      if (_multi[split2[0]] === void 0 || split2.length > _multi[split2[0]]) {
        _multi[split2[0]] = split2.length;
      }
    }
    lex[word] = lex[word] || tag;
  });
  delete lex[""];
  delete lex[null];
  delete lex[" "];
  return { lex, _multi };
};
var expand_default = expand2;

// node_modules/compromise/src/1-one/lexicon/methods/index.js
var methods_default3 = {
  one: {
    expandLexicon: expand_default
  }
};

// node_modules/compromise/src/1-one/lexicon/lib.js
var addWords = function(words, isFrozen = false) {
  const world2 = this.world();
  const { methods: methods18, model: model4 } = world2;
  if (!words) {
    return;
  }
  Object.keys(words).forEach((k2) => {
    if (typeof words[k2] === "string" && words[k2].startsWith("#")) {
      words[k2] = words[k2].replace(/^#/, "");
    }
  });
  if (isFrozen === true) {
    let { lex: lex2, _multi: _multi2 } = methods18.one.expandLexicon(words, world2);
    Object.assign(model4.one._multiCache, _multi2);
    Object.assign(model4.one.frozenLex, lex2);
    return;
  }
  if (methods18.two.expandLexicon) {
    let { lex: lex2, _multi: _multi2 } = methods18.two.expandLexicon(words, world2);
    Object.assign(model4.one.lexicon, lex2);
    Object.assign(model4.one._multiCache, _multi2);
  }
  let { lex, _multi } = methods18.one.expandLexicon(words, world2);
  Object.assign(model4.one.lexicon, lex);
  Object.assign(model4.one._multiCache, _multi);
};
var lib_default = { addWords };

// node_modules/compromise/src/1-one/lexicon/plugin.js
var model2 = {
  one: {
    lexicon: {},
    //setup blank lexicon
    _multiCache: {},
    frozenLex: {}
    //2nd lexicon
  }
};
var plugin_default5 = {
  model: model2,
  methods: methods_default3,
  compute: compute_default6,
  lib: lib_default,
  hooks: ["lexicon"]
};

// node_modules/compromise/src/1-one/lookup/api/buildTrie/index.js
var tokenize = function(phrase, world2) {
  const { methods: methods18, model: model4 } = world2;
  let terms = methods18.one.tokenize.splitTerms(phrase, model4).map((t3) => methods18.one.tokenize.splitWhitespace(t3, model4));
  return terms.map((term) => term.text.toLowerCase());
};
var buildTrie = function(phrases, world2) {
  let goNext = [{}];
  let endAs = [null];
  let failTo = [0];
  let xs = [];
  let n2 = 0;
  phrases.forEach(function(phrase) {
    let curr = 0;
    let words = tokenize(phrase, world2);
    for (let i3 = 0; i3 < words.length; i3++) {
      let word = words[i3];
      if (goNext[curr] && goNext[curr].hasOwnProperty(word)) {
        curr = goNext[curr][word];
      } else {
        n2++;
        goNext[curr][word] = n2;
        goNext[n2] = {};
        curr = n2;
        endAs[n2] = null;
      }
    }
    endAs[curr] = [words.length];
  });
  for (let word in goNext[0]) {
    n2 = goNext[0][word];
    failTo[n2] = 0;
    xs.push(n2);
  }
  while (xs.length) {
    let r2 = xs.shift();
    let keys = Object.keys(goNext[r2]);
    for (let i3 = 0; i3 < keys.length; i3 += 1) {
      let word = keys[i3];
      let s2 = goNext[r2][word];
      xs.push(s2);
      n2 = failTo[r2];
      while (n2 > 0 && !goNext[n2].hasOwnProperty(word)) {
        n2 = failTo[n2];
      }
      if (goNext.hasOwnProperty(n2)) {
        let fs2 = goNext[n2][word];
        failTo[s2] = fs2;
        if (endAs[fs2]) {
          endAs[s2] = endAs[s2] || [];
          endAs[s2] = endAs[s2].concat(endAs[fs2]);
        }
      } else {
        failTo[s2] = 0;
      }
    }
  }
  return { goNext, endAs, failTo };
};
var buildTrie_default = buildTrie;

// node_modules/compromise/src/1-one/lookup/api/scan.js
var scanWords = function(terms, trie, opts2) {
  let n2 = 0;
  let results = [];
  for (let i3 = 0; i3 < terms.length; i3++) {
    let word = terms[i3][opts2.form] || terms[i3].normal;
    while (n2 > 0 && (trie.goNext[n2] === void 0 || !trie.goNext[n2].hasOwnProperty(word))) {
      n2 = trie.failTo[n2] || 0;
    }
    if (!trie.goNext[n2].hasOwnProperty(word)) {
      continue;
    }
    n2 = trie.goNext[n2][word];
    if (trie.endAs[n2]) {
      let arr = trie.endAs[n2];
      for (let o2 = 0; o2 < arr.length; o2++) {
        let len = arr[o2];
        let term = terms[i3 - len + 1];
        let [no, start2] = term.index;
        results.push([no, start2, start2 + len, term.id]);
      }
    }
  }
  return results;
};
var cacheMiss = function(words, cache) {
  for (let i3 = 0; i3 < words.length; i3 += 1) {
    if (cache.has(words[i3]) === true) {
      return false;
    }
  }
  return true;
};
var scan2 = function(view, trie, opts2) {
  let results = [];
  opts2.form = opts2.form || "normal";
  let docs = view.docs;
  if (!trie.goNext || !trie.goNext[0]) {
    console.error("Compromise invalid lookup trie");
    return view.none();
  }
  let firstWords = Object.keys(trie.goNext[0]);
  for (let i3 = 0; i3 < docs.length; i3++) {
    if (view._cache && view._cache[i3] && cacheMiss(firstWords, view._cache[i3]) === true) {
      continue;
    }
    let terms = docs[i3];
    let found = scanWords(terms, trie, opts2);
    if (found.length > 0) {
      results = results.concat(found);
    }
  }
  return view.update(results);
};
var scan_default = scan2;

// node_modules/compromise/src/1-one/lookup/api/index.js
var isObject3 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
function api_default3(View2) {
  View2.prototype.lookup = function(input, opts2 = {}) {
    if (!input) {
      return this.none();
    }
    if (typeof input === "string") {
      input = [input];
    }
    let trie = isObject3(input) ? input : buildTrie_default(input, this.world);
    let res = scan_default(this, trie, opts2);
    res = res.settle();
    return res;
  };
}

// node_modules/compromise/src/1-one/lookup/api/buildTrie/compress.js
var truncate = (list2, val) => {
  for (let i3 = list2.length - 1; i3 >= 0; i3 -= 1) {
    if (list2[i3] !== val) {
      list2 = list2.slice(0, i3 + 1);
      return list2;
    }
  }
  return list2;
};
var compress = function(trie) {
  trie.goNext = trie.goNext.map((o2) => {
    if (Object.keys(o2).length === 0) {
      return void 0;
    }
    return o2;
  });
  trie.goNext = truncate(trie.goNext, void 0);
  trie.failTo = truncate(trie.failTo, 0);
  trie.endAs = truncate(trie.endAs, null);
  return trie;
};
var compress_default = compress;

// node_modules/compromise/src/1-one/lookup/plugin.js
var lib = {
  /** turn an array or object into a compressed trie*/
  buildTrie: function(input) {
    const trie = buildTrie_default(input, this.world());
    return compress_default(trie);
  }
};
lib.compile = lib.buildTrie;
var plugin_default6 = {
  api: api_default3,
  lib
};

// node_modules/compromise/src/1-one/match/api/_lib.js
var relPointer = function(ptrs, parent) {
  if (!parent) {
    return ptrs;
  }
  ptrs.forEach((ptr) => {
    let n2 = ptr[0];
    if (parent[n2]) {
      ptr[0] = parent[n2][0];
      ptr[1] += parent[n2][1];
      ptr[2] += parent[n2][1];
    }
  });
  return ptrs;
};
var fixPointers2 = function(res, parent) {
  let { ptrs, byGroup } = res;
  ptrs = relPointer(ptrs, parent);
  Object.keys(byGroup).forEach((k2) => {
    byGroup[k2] = relPointer(byGroup[k2], parent);
  });
  return { ptrs, byGroup };
};
var parseRegs = function(regs, opts2, world2) {
  const one = world2.methods.one;
  if (typeof regs === "number") {
    regs = String(regs);
  }
  if (typeof regs === "string") {
    regs = one.killUnicode(regs, world2);
    regs = one.parseMatch(regs, opts2, world2);
  }
  return regs;
};
var isObject4 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
var isView = (val) => val && isObject4(val) && val.isView === true;
var isNet = (val) => val && isObject4(val) && val.isNet === true;

// node_modules/compromise/src/1-one/match/api/match.js
var match = function(regs, group, opts2) {
  const one = this.methods.one;
  if (isView(regs)) {
    return this.intersection(regs);
  }
  if (isNet(regs)) {
    return this.sweep(regs, { tagger: false }).view.settle();
  }
  regs = parseRegs(regs, opts2, this.world);
  let todo = { regs, group };
  let res = one.match(this.docs, todo, this._cache);
  let { ptrs, byGroup } = fixPointers2(res, this.fullPointer);
  let view = this.toView(ptrs);
  view._groups = byGroup;
  return view;
};
var matchOne = function(regs, group, opts2) {
  const one = this.methods.one;
  if (isView(regs)) {
    return this.intersection(regs).eq(0);
  }
  if (isNet(regs)) {
    return this.sweep(regs, { tagger: false, matchOne: true }).view;
  }
  regs = parseRegs(regs, opts2, this.world);
  let todo = { regs, group, justOne: true };
  let res = one.match(this.docs, todo, this._cache);
  let { ptrs, byGroup } = fixPointers2(res, this.fullPointer);
  let view = this.toView(ptrs);
  view._groups = byGroup;
  return view;
};
var has = function(regs, group, opts2) {
  const one = this.methods.one;
  if (isView(regs)) {
    let ptrs2 = this.intersection(regs).fullPointer;
    return ptrs2.length > 0;
  }
  if (isNet(regs)) {
    return this.sweep(regs, { tagger: false }).view.found;
  }
  regs = parseRegs(regs, opts2, this.world);
  let todo = { regs, group, justOne: true };
  let ptrs = one.match(this.docs, todo, this._cache).ptrs;
  return ptrs.length > 0;
};
var ifFn = function(regs, group, opts2) {
  const one = this.methods.one;
  if (isView(regs)) {
    return this.filter((m) => m.intersection(regs).found);
  }
  if (isNet(regs)) {
    let m = this.sweep(regs, { tagger: false }).view.settle();
    return this.if(m);
  }
  regs = parseRegs(regs, opts2, this.world);
  let todo = { regs, group, justOne: true };
  let ptrs = this.fullPointer;
  let cache = this._cache || [];
  ptrs = ptrs.filter((ptr, i3) => {
    let m = this.update([ptr]);
    let res = one.match(m.docs, todo, cache[i3]).ptrs;
    return res.length > 0;
  });
  let view = this.update(ptrs);
  if (this._cache) {
    view._cache = ptrs.map((ptr) => cache[ptr[0]]);
  }
  return view;
};
var ifNo = function(regs, group, opts2) {
  const { methods: methods18 } = this;
  const one = methods18.one;
  if (isView(regs)) {
    return this.filter((m) => !m.intersection(regs).found);
  }
  if (isNet(regs)) {
    let m = this.sweep(regs, { tagger: false }).view.settle();
    return this.ifNo(m);
  }
  regs = parseRegs(regs, opts2, this.world);
  let cache = this._cache || [];
  let view = this.filter((m, i3) => {
    let todo = { regs, group, justOne: true };
    let ptrs = one.match(m.docs, todo, cache[i3]).ptrs;
    return ptrs.length === 0;
  });
  if (this._cache) {
    view._cache = view.ptrs.map((ptr) => cache[ptr[0]]);
  }
  return view;
};
var match_default = { matchOne, match, has, if: ifFn, ifNo };

// node_modules/compromise/src/1-one/match/api/lookaround.js
var before = function(regs, group, opts2) {
  const { indexN: indexN2 } = this.methods.one.pointer;
  let pre = [];
  let byN = indexN2(this.fullPointer);
  Object.keys(byN).forEach((k2) => {
    let first = byN[k2].sort((a2, b) => a2[1] > b[1] ? 1 : -1)[0];
    if (first[1] > 0) {
      pre.push([first[0], 0, first[1]]);
    }
  });
  let preWords = this.toView(pre);
  if (!regs) {
    return preWords;
  }
  return preWords.match(regs, group, opts2);
};
var after = function(regs, group, opts2) {
  const { indexN: indexN2 } = this.methods.one.pointer;
  let post2 = [];
  let byN = indexN2(this.fullPointer);
  let document2 = this.document;
  Object.keys(byN).forEach((k2) => {
    let last = byN[k2].sort((a2, b) => a2[1] > b[1] ? -1 : 1)[0];
    let [n2, , end2] = last;
    if (end2 < document2[n2].length) {
      post2.push([n2, end2, document2[n2].length]);
    }
  });
  let postWords = this.toView(post2);
  if (!regs) {
    return postWords;
  }
  return postWords.match(regs, group, opts2);
};
var growLeft = function(regs, group, opts2) {
  if (typeof regs === "string") {
    regs = this.world.methods.one.parseMatch(regs, opts2, this.world);
  }
  regs[regs.length - 1].end = true;
  let ptrs = this.fullPointer;
  this.forEach((m, n2) => {
    let more = m.before(regs, group);
    if (more.found) {
      let terms = more.terms();
      ptrs[n2][1] -= terms.length;
      ptrs[n2][3] = terms.docs[0][0].id;
    }
  });
  return this.update(ptrs);
};
var growRight = function(regs, group, opts2) {
  if (typeof regs === "string") {
    regs = this.world.methods.one.parseMatch(regs, opts2, this.world);
  }
  regs[0].start = true;
  let ptrs = this.fullPointer;
  this.forEach((m, n2) => {
    let more = m.after(regs, group);
    if (more.found) {
      let terms = more.terms();
      ptrs[n2][2] += terms.length;
      ptrs[n2][4] = null;
    }
  });
  return this.update(ptrs);
};
var grow = function(regs, group, opts2) {
  return this.growRight(regs, group, opts2).growLeft(regs, group, opts2);
};
var lookaround_default = { before, after, growLeft, growRight, grow };

// node_modules/compromise/src/1-one/match/api/split.js
var combine = function(left, right) {
  return [left[0], left[1], right[2]];
};
var isArray6 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var getDoc = (reg, view, group) => {
  if (typeof reg === "string" || isArray6(reg)) {
    return view.match(reg, group);
  }
  if (!reg) {
    return view.none();
  }
  return reg;
};
var addIds2 = function(ptr, view) {
  let [n2, start2, end2] = ptr;
  if (view.document[n2] && view.document[n2][start2]) {
    ptr[3] = ptr[3] || view.document[n2][start2].id;
    if (view.document[n2][end2 - 1]) {
      ptr[4] = ptr[4] || view.document[n2][end2 - 1].id;
    }
  }
  return ptr;
};
var methods8 = {};
methods8.splitOn = function(m, group) {
  const { splitAll: splitAll2 } = this.methods.one.pointer;
  let splits = getDoc(m, this, group).fullPointer;
  let all = splitAll2(this.fullPointer, splits);
  let res = [];
  all.forEach((o2) => {
    res.push(o2.passthrough);
    res.push(o2.before);
    res.push(o2.match);
    res.push(o2.after);
  });
  res = res.filter((p2) => p2);
  res = res.map((p2) => addIds2(p2, this));
  return this.update(res);
};
methods8.splitBefore = function(m, group) {
  const { splitAll: splitAll2 } = this.methods.one.pointer;
  let splits = getDoc(m, this, group).fullPointer;
  let all = splitAll2(this.fullPointer, splits);
  for (let i3 = 0; i3 < all.length; i3 += 1) {
    if (!all[i3].after && all[i3 + 1] && all[i3 + 1].before) {
      if (all[i3].match && all[i3].match[0] === all[i3 + 1].before[0]) {
        all[i3].after = all[i3 + 1].before;
        delete all[i3 + 1].before;
      }
    }
  }
  let res = [];
  all.forEach((o2) => {
    res.push(o2.passthrough);
    res.push(o2.before);
    if (o2.match && o2.after) {
      res.push(combine(o2.match, o2.after));
    } else {
      res.push(o2.match);
    }
  });
  res = res.filter((p2) => p2);
  res = res.map((p2) => addIds2(p2, this));
  return this.update(res);
};
methods8.splitAfter = function(m, group) {
  const { splitAll: splitAll2 } = this.methods.one.pointer;
  let splits = getDoc(m, this, group).fullPointer;
  let all = splitAll2(this.fullPointer, splits);
  let res = [];
  all.forEach((o2) => {
    res.push(o2.passthrough);
    if (o2.before && o2.match) {
      res.push(combine(o2.before, o2.match));
    } else {
      res.push(o2.before);
      res.push(o2.match);
    }
    res.push(o2.after);
  });
  res = res.filter((p2) => p2);
  res = res.map((p2) => addIds2(p2, this));
  return this.update(res);
};
methods8.split = methods8.splitAfter;
var split_default = methods8;

// node_modules/compromise/src/1-one/match/api/join.js
var isNeighbour = function(ptrL, ptrR) {
  if (!ptrL || !ptrR) {
    return false;
  }
  if (ptrL[0] !== ptrR[0]) {
    return false;
  }
  return ptrL[2] === ptrR[1];
};
var mergeIf = function(doc, lMatch, rMatch) {
  const world2 = doc.world;
  const parseMatch = world2.methods.one.parseMatch;
  lMatch = lMatch || ".$";
  rMatch = rMatch || "^.";
  let leftMatch = parseMatch(lMatch, {}, world2);
  let rightMatch = parseMatch(rMatch, {}, world2);
  leftMatch[leftMatch.length - 1].end = true;
  rightMatch[0].start = true;
  let ptrs = doc.fullPointer;
  let res = [ptrs[0]];
  for (let i3 = 1; i3 < ptrs.length; i3 += 1) {
    let ptrL = res[res.length - 1];
    let ptrR = ptrs[i3];
    let left = doc.update([ptrL]);
    let right = doc.update([ptrR]);
    if (isNeighbour(ptrL, ptrR) && left.has(leftMatch) && right.has(rightMatch)) {
      res[res.length - 1] = [ptrL[0], ptrL[1], ptrR[2], ptrL[3], ptrR[4]];
    } else {
      res.push(ptrR);
    }
  }
  return doc.update(res);
};
var methods9 = {
  //  merge only if conditions are met
  joinIf: function(lMatch, rMatch) {
    return mergeIf(this, lMatch, rMatch);
  },
  // merge all neighbouring matches
  join: function() {
    return mergeIf(this);
  }
};
var join_default = methods9;

// node_modules/compromise/src/1-one/match/api/index.js
var methods10 = Object.assign({}, match_default, lookaround_default, split_default, join_default);
methods10.lookBehind = methods10.before;
methods10.lookBefore = methods10.before;
methods10.lookAhead = methods10.after;
methods10.lookAfter = methods10.after;
methods10.notIf = methods10.ifNo;
var matchAPI = function(View2) {
  Object.assign(View2.prototype, methods10);
};
var api_default4 = matchAPI;

// node_modules/compromise/src/1-one/match/methods/parseMatch/01-parseBlocks.js
var bySlashes = /(?:^|\s)([![^]*(?:<[^<]*>)?\/.*?[^\\/]\/[?\]+*$~]*)(?:\s|$)/;
var byParentheses = /([!~[^]*(?:<[^<]*>)?\([^)]+[^\\)]\)[?\]+*$~]*)(?:\s|$)/;
var byWord = / /g;
var isBlock = (str2) => {
  return /^[![^]*(<[^<]*>)?\(/.test(str2) && /\)[?\]+*$~]*$/.test(str2);
};
var isReg = (str2) => {
  return /^[![^]*(<[^<]*>)?\//.test(str2) && /\/[?\]+*$~]*$/.test(str2);
};
var cleanUp = function(arr) {
  arr = arr.map((str2) => str2.trim());
  arr = arr.filter((str2) => str2);
  return arr;
};
var parseBlocks = function(txt) {
  let arr = txt.split(bySlashes);
  let res = [];
  arr.forEach((str2) => {
    if (isReg(str2)) {
      res.push(str2);
      return;
    }
    res = res.concat(str2.split(byParentheses));
  });
  res = cleanUp(res);
  let final = [];
  res.forEach((str2) => {
    if (isBlock(str2)) {
      final.push(str2);
    } else if (isReg(str2)) {
      final.push(str2);
    } else {
      final = final.concat(str2.split(byWord));
    }
  });
  final = cleanUp(final);
  return final;
};
var parseBlocks_default = parseBlocks;

// node_modules/compromise/src/1-one/match/methods/parseMatch/02-parseToken.js
var hasMinMax = /\{([0-9]+)?(, *[0-9]*)?\}/;
var andSign = /&&/;
var captureName = new RegExp(/^<\s*(\S+)\s*>/);
var titleCase = (str2) => str2.charAt(0).toUpperCase() + str2.substring(1);
var end = (str2) => str2.charAt(str2.length - 1);
var start = (str2) => str2.charAt(0);
var stripStart = (str2) => str2.substring(1);
var stripEnd = (str2) => str2.substring(0, str2.length - 1);
var stripBoth = function(str2) {
  str2 = stripStart(str2);
  str2 = stripEnd(str2);
  return str2;
};
var parseToken = function(w, opts2) {
  let obj = {};
  for (let i3 = 0; i3 < 2; i3 += 1) {
    if (end(w) === "$") {
      obj.end = true;
      w = stripEnd(w);
    }
    if (start(w) === "^") {
      obj.start = true;
      w = stripStart(w);
    }
    if (end(w) === "?") {
      obj.optional = true;
      w = stripEnd(w);
    }
    if (start(w) === "[" || end(w) === "]") {
      obj.group = null;
      if (start(w) === "[") {
        obj.groupStart = true;
      }
      if (end(w) === "]") {
        obj.groupEnd = true;
      }
      w = w.replace(/^\[/, "");
      w = w.replace(/\]$/, "");
      if (start(w) === "<") {
        const res = captureName.exec(w);
        if (res.length >= 2) {
          obj.group = res[1];
          w = w.replace(res[0], "");
        }
      }
    }
    if (end(w) === "+") {
      obj.greedy = true;
      w = stripEnd(w);
    }
    if (w !== "*" && end(w) === "*" && w !== "\\*") {
      obj.greedy = true;
      w = stripEnd(w);
    }
    if (start(w) === "!") {
      obj.negative = true;
      w = stripStart(w);
    }
    if (start(w) === "~" && end(w) === "~" && w.length > 2) {
      w = stripBoth(w);
      obj.fuzzy = true;
      obj.min = opts2.fuzzy || 0.85;
      if (/\(/.test(w) === false) {
        obj.word = w;
        return obj;
      }
    }
    if (start(w) === "/" && end(w) === "/") {
      w = stripBoth(w);
      if (opts2.caseSensitive) {
        obj.use = "text";
      }
      obj.regex = new RegExp(w);
      return obj;
    }
    if (hasMinMax.test(w) === true) {
      w = w.replace(hasMinMax, (_a2, b, c2) => {
        if (c2 === void 0) {
          obj.min = Number(b);
          obj.max = Number(b);
        } else {
          c2 = c2.replace(/, */, "");
          if (b === void 0) {
            obj.min = 0;
            obj.max = Number(c2);
          } else {
            obj.min = Number(b);
            obj.max = Number(c2 || 999);
          }
        }
        obj.greedy = true;
        if (!obj.min) {
          obj.optional = true;
        }
        return "";
      });
    }
    if (start(w) === "(" && end(w) === ")") {
      if (andSign.test(w)) {
        obj.choices = w.split(andSign);
        obj.operator = "and";
      } else {
        obj.choices = w.split("|");
        obj.operator = "or";
      }
      obj.choices[0] = stripStart(obj.choices[0]);
      let last = obj.choices.length - 1;
      obj.choices[last] = stripEnd(obj.choices[last]);
      obj.choices = obj.choices.map((s2) => s2.trim());
      obj.choices = obj.choices.filter((s2) => s2);
      obj.choices = obj.choices.map((str2) => {
        return str2.split(/ /g).map((s2) => parseToken(s2, opts2));
      });
      w = "";
    }
    if (start(w) === "{" && end(w) === "}") {
      w = stripBoth(w);
      obj.root = w;
      if (/\//.test(w)) {
        let split2 = obj.root.split(/\//);
        obj.root = split2[0];
        obj.pos = split2[1];
        if (obj.pos === "adj") {
          obj.pos = "Adjective";
        }
        obj.pos = obj.pos.charAt(0).toUpperCase() + obj.pos.substr(1).toLowerCase();
        if (split2[2] !== void 0) {
          obj.sense = split2[2];
        }
      }
      return obj;
    }
    if (start(w) === "<" && end(w) === ">") {
      w = stripBoth(w);
      obj.chunk = titleCase(w);
      obj.greedy = true;
      return obj;
    }
    if (start(w) === "%" && end(w) === "%") {
      w = stripBoth(w);
      obj.switch = w;
      return obj;
    }
  }
  if (start(w) === "#") {
    obj.tag = stripStart(w);
    obj.tag = titleCase(obj.tag);
    return obj;
  }
  if (start(w) === "@") {
    obj.method = stripStart(w);
    return obj;
  }
  if (w === ".") {
    obj.anything = true;
    return obj;
  }
  if (w === "*") {
    obj.anything = true;
    obj.greedy = true;
    obj.optional = true;
    return obj;
  }
  if (w) {
    w = w.replace("\\*", "*");
    w = w.replace("\\.", ".");
    if (opts2.caseSensitive) {
      obj.use = "text";
    } else {
      w = w.toLowerCase();
    }
    obj.word = w;
  }
  return obj;
};
var parseToken_default = parseToken;

// node_modules/compromise/src/1-one/match/methods/parseMatch/03-splitHyphens.js
var hasDash = /[a-z0-9][-â€“â€”][a-z]/i;
var splitHyphens = function(regs, world2) {
  let prefixes = world2.model.one.prefixes;
  for (let i3 = regs.length - 1; i3 >= 0; i3 -= 1) {
    let reg = regs[i3];
    if (reg.word && hasDash.test(reg.word)) {
      let words = reg.word.split(/[-â€“â€”]/g);
      if (prefixes.hasOwnProperty(words[0])) {
        continue;
      }
      words = words.filter((w) => w).reverse();
      regs.splice(i3, 1);
      words.forEach((w) => {
        let obj = Object.assign({}, reg);
        obj.word = w;
        regs.splice(i3, 0, obj);
      });
    }
  }
  return regs;
};
var splitHyphens_default = splitHyphens;

// node_modules/compromise/src/1-one/match/methods/parseMatch/04-inflect-root.js
var addVerbs = function(token, world2) {
  let { all } = world2.methods.two.transform.verb || {};
  let str2 = token.root;
  if (!all) {
    return [];
  }
  return all(str2, world2.model);
};
var addNoun = function(token, world2) {
  let { all } = world2.methods.two.transform.noun || {};
  if (!all) {
    return [token.root];
  }
  return all(token.root, world2.model);
};
var addAdjective = function(token, world2) {
  let { all } = world2.methods.two.transform.adjective || {};
  if (!all) {
    return [token.root];
  }
  return all(token.root, world2.model);
};
var inflectRoot = function(regs, world2) {
  regs = regs.map((token) => {
    if (token.root) {
      if (world2.methods.two && world2.methods.two.transform) {
        let choices = [];
        if (token.pos) {
          if (token.pos === "Verb") {
            choices = choices.concat(addVerbs(token, world2));
          } else if (token.pos === "Noun") {
            choices = choices.concat(addNoun(token, world2));
          } else if (token.pos === "Adjective") {
            choices = choices.concat(addAdjective(token, world2));
          }
        } else {
          choices = choices.concat(addVerbs(token, world2));
          choices = choices.concat(addNoun(token, world2));
          choices = choices.concat(addAdjective(token, world2));
        }
        choices = choices.filter((str2) => str2);
        if (choices.length > 0) {
          token.operator = "or";
          token.fastOr = new Set(choices);
        }
      } else {
        token.machine = token.root;
        delete token.id;
        delete token.root;
      }
    }
    return token;
  });
  return regs;
};
var inflect_root_default = inflectRoot;

// node_modules/compromise/src/1-one/match/methods/parseMatch/05-postProcess.js
var nameGroups = function(regs) {
  let index4 = 0;
  let inGroup = null;
  for (let i3 = 0; i3 < regs.length; i3++) {
    const token = regs[i3];
    if (token.groupStart === true) {
      inGroup = token.group;
      if (inGroup === null) {
        inGroup = String(index4);
        index4 += 1;
      }
    }
    if (inGroup !== null) {
      token.group = inGroup;
    }
    if (token.groupEnd === true) {
      inGroup = null;
    }
  }
  return regs;
};
var doFastOrMode = function(tokens) {
  return tokens.map((token) => {
    if (token.choices !== void 0) {
      if (token.operator !== "or") {
        return token;
      }
      if (token.fuzzy === true) {
        return token;
      }
      let shouldPack = token.choices.every((block) => {
        if (block.length !== 1) {
          return false;
        }
        let reg = block[0];
        if (reg.fuzzy === true) {
          return false;
        }
        if (reg.start || reg.end) {
          return false;
        }
        if (reg.word !== void 0 && reg.negative !== true && reg.optional !== true && reg.method !== true) {
          return true;
        }
        return false;
      });
      if (shouldPack === true) {
        token.fastOr = /* @__PURE__ */ new Set();
        token.choices.forEach((block) => {
          token.fastOr.add(block[0].word);
        });
        delete token.choices;
      }
    }
    return token;
  });
};
var fuzzyOr = function(regs) {
  return regs.map((reg) => {
    if (reg.fuzzy && reg.choices) {
      reg.choices.forEach((r2) => {
        if (r2.length === 1 && r2[0].word) {
          r2[0].fuzzy = true;
          r2[0].min = reg.min;
        }
      });
    }
    return reg;
  });
};
var postProcess = function(regs) {
  regs = nameGroups(regs);
  regs = doFastOrMode(regs);
  regs = fuzzyOr(regs);
  return regs;
};
var postProcess_default = postProcess;

// node_modules/compromise/src/1-one/match/methods/parseMatch/index.js
var syntax = function(input, opts2, world2) {
  if (input === null || input === void 0 || input === "") {
    return [];
  }
  opts2 = opts2 || {};
  if (typeof input === "number") {
    input = String(input);
  }
  let tokens = parseBlocks_default(input);
  tokens = tokens.map((str2) => parseToken_default(str2, opts2));
  tokens = splitHyphens_default(tokens, world2);
  tokens = inflect_root_default(tokens, world2);
  tokens = postProcess_default(tokens, opts2);
  return tokens;
};
var parseMatch_default = syntax;

// node_modules/compromise/src/1-one/match/methods/match/01-failFast.js
var anyIntersection = function(setA, setB) {
  for (let elem of setB) {
    if (setA.has(elem)) {
      return true;
    }
  }
  return false;
};
var failFast = function(regs, cache) {
  for (let i3 = 0; i3 < regs.length; i3 += 1) {
    let reg = regs[i3];
    if (reg.optional === true || reg.negative === true || reg.fuzzy === true) {
      continue;
    }
    if (reg.word !== void 0 && cache.has(reg.word) === false) {
      return true;
    }
    if (reg.tag !== void 0 && cache.has("#" + reg.tag) === false) {
      return true;
    }
    if (reg.fastOr && anyIntersection(reg.fastOr, cache) === false) {
      return false;
    }
  }
  return false;
};
var failFast_default = failFast;

// node_modules/compromise/src/1-one/match/methods/match/term/_fuzzy.js
var editDistance = function(strA, strB) {
  let aLength = strA.length, bLength = strB.length;
  if (aLength === 0) {
    return bLength;
  }
  if (bLength === 0) {
    return aLength;
  }
  let limit2 = (bLength > aLength ? bLength : aLength) + 1;
  if (Math.abs(aLength - bLength) > (limit2 || 100)) {
    return limit2 || 100;
  }
  let matrix = [];
  for (let i3 = 0; i3 < limit2; i3++) {
    matrix[i3] = [i3];
    matrix[i3].length = limit2;
  }
  for (let i3 = 0; i3 < limit2; i3++) {
    matrix[0][i3] = i3;
  }
  let j2, a_index, b_index, cost, min, t3;
  for (let i3 = 1; i3 <= aLength; ++i3) {
    a_index = strA[i3 - 1];
    for (j2 = 1; j2 <= bLength; ++j2) {
      if (i3 === j2 && matrix[i3][j2] > 4) {
        return aLength;
      }
      b_index = strB[j2 - 1];
      cost = a_index === b_index ? 0 : 1;
      min = matrix[i3 - 1][j2] + 1;
      if ((t3 = matrix[i3][j2 - 1] + 1) < min)
        min = t3;
      if ((t3 = matrix[i3 - 1][j2 - 1] + cost) < min)
        min = t3;
      let shouldUpdate = i3 > 1 && j2 > 1 && a_index === strB[j2 - 2] && strA[i3 - 2] === b_index && (t3 = matrix[i3 - 2][j2 - 2] + cost) < min;
      if (shouldUpdate) {
        matrix[i3][j2] = t3;
      } else {
        matrix[i3][j2] = min;
      }
    }
  }
  return matrix[aLength][bLength];
};
var fuzzyMatch = function(strA, strB, minLength = 3) {
  if (strA === strB) {
    return 1;
  }
  if (strA.length < minLength || strB.length < minLength) {
    return 0;
  }
  const steps = editDistance(strA, strB);
  let length2 = Math.max(strA.length, strB.length);
  let relative = length2 === 0 ? 0 : steps / length2;
  let similarity = 1 - relative;
  return similarity;
};
var fuzzy_default = fuzzyMatch;

// node_modules/compromise/src/1-one/match/methods/termMethods.js
var startQuote = /([\u0022\uFF02\u0027\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F])/;
var endQuote = /([\u0022\uFF02\u0027\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4])/;
var hasHyphen = /^[-â€“â€”]$/;
var hasDash2 = / [-â€“â€”]{1,3} /;
var hasPost = (term, punct) => term.post.indexOf(punct) !== -1;
var methods11 = {
  /** does it have a quotation symbol?  */
  hasQuote: (term) => startQuote.test(term.pre) || endQuote.test(term.post),
  /** does it have a comma?  */
  hasComma: (term) => hasPost(term, ","),
  /** does it end in a period? */
  hasPeriod: (term) => hasPost(term, ".") === true && hasPost(term, "...") === false,
  /** does it end in an exclamation */
  hasExclamation: (term) => hasPost(term, "!"),
  /** does it end with a question mark? */
  hasQuestionMark: (term) => hasPost(term, "?") || hasPost(term, "\xBF"),
  /** is there a ... at the end? */
  hasEllipses: (term) => hasPost(term, "..") || hasPost(term, "\u2026"),
  /** is there a semicolon after term word? */
  hasSemicolon: (term) => hasPost(term, ";"),
  /** is there a colon after term word? */
  hasColon: (term) => hasPost(term, ":"),
  /** is there a slash '/' in term word? */
  hasSlash: (term) => /\//.test(term.text),
  /** a hyphen connects two words like-term */
  hasHyphen: (term) => hasHyphen.test(term.post) || hasHyphen.test(term.pre),
  /** a dash separates words - like that */
  hasDash: (term) => hasDash2.test(term.post) || hasDash2.test(term.pre),
  /** is it multiple words combinded */
  hasContraction: (term) => Boolean(term.implicit),
  /** is it an acronym */
  isAcronym: (term) => term.tags.has("Acronym"),
  /** does it have any tags */
  isKnown: (term) => term.tags.size > 0,
  /** uppercase first letter, then a lowercase */
  isTitleCase: (term) => /^\p{Lu}[a-z'\u00C0-\u00FF]/u.test(term.text),
  /** uppercase all letters */
  isUpperCase: (term) => /^\p{Lu}+$/u.test(term.text)
};
methods11.hasQuotation = methods11.hasQuote;
var termMethods_default = methods11;

// node_modules/compromise/src/1-one/match/methods/match/term/doesMatch.js
var wrapMatch = function() {
};
var doesMatch = function(term, reg, index4, length2) {
  if (reg.anything === true) {
    return true;
  }
  if (reg.start === true && index4 !== 0) {
    return false;
  }
  if (reg.end === true && index4 !== length2 - 1) {
    return false;
  }
  if (reg.id !== void 0 && reg.id === term.id) {
    return true;
  }
  if (reg.word !== void 0) {
    if (reg.use) {
      return reg.word === term[reg.use];
    }
    if (term.machine !== null && term.machine === reg.word) {
      return true;
    }
    if (term.alias !== void 0 && term.alias.hasOwnProperty(reg.word)) {
      return true;
    }
    if (reg.fuzzy === true) {
      if (reg.word === term.root) {
        return true;
      }
      let score = fuzzy_default(reg.word, term.normal);
      if (score >= reg.min) {
        return true;
      }
    }
    if (term.alias && term.alias.some((str2) => str2 === reg.word)) {
      return true;
    }
    return reg.word === term.text || reg.word === term.normal;
  }
  if (reg.tag !== void 0) {
    return term.tags.has(reg.tag) === true;
  }
  if (reg.method !== void 0) {
    if (typeof termMethods_default[reg.method] === "function" && termMethods_default[reg.method](term) === true) {
      return true;
    }
    return false;
  }
  if (reg.pre !== void 0) {
    return term.pre && term.pre.includes(reg.pre);
  }
  if (reg.post !== void 0) {
    return term.post && term.post.includes(reg.post);
  }
  if (reg.regex !== void 0) {
    let str2 = term.normal;
    if (reg.use) {
      str2 = term[reg.use];
    }
    return reg.regex.test(str2);
  }
  if (reg.chunk !== void 0) {
    return term.chunk === reg.chunk;
  }
  if (reg.switch !== void 0) {
    return term.switch === reg.switch;
  }
  if (reg.machine !== void 0) {
    return term.normal === reg.machine || term.machine === reg.machine || term.root === reg.machine;
  }
  if (reg.sense !== void 0) {
    return term.sense === reg.sense;
  }
  if (reg.fastOr !== void 0) {
    if (reg.pos && !term.tags.has(reg.pos)) {
      return null;
    }
    let str2 = term.root || term.implicit || term.machine || term.normal;
    return reg.fastOr.has(str2) || reg.fastOr.has(term.text);
  }
  if (reg.choices !== void 0) {
    if (reg.operator === "and") {
      return reg.choices.every((r2) => wrapMatch(term, r2, index4, length2));
    }
    return reg.choices.some((r2) => wrapMatch(term, r2, index4, length2));
  }
  return false;
};
wrapMatch = function(t3, reg, index4, length2) {
  let result = doesMatch(t3, reg, index4, length2);
  if (reg.negative === true) {
    return !result;
  }
  return result;
};
var doesMatch_default = wrapMatch;

// node_modules/compromise/src/1-one/match/methods/match/steps/logic/greedy.js
var getGreedy = function(state, endReg) {
  let reg = Object.assign({}, state.regs[state.r], { start: false, end: false });
  let start2 = state.t;
  for (; state.t < state.terms.length; state.t += 1) {
    if (endReg && doesMatch_default(state.terms[state.t], endReg, state.start_i + state.t, state.phrase_length)) {
      return state.t;
    }
    let count = state.t - start2 + 1;
    if (reg.max !== void 0 && count === reg.max) {
      return state.t;
    }
    if (doesMatch_default(state.terms[state.t], reg, state.start_i + state.t, state.phrase_length) === false) {
      if (reg.min !== void 0 && count < reg.min) {
        return null;
      }
      return state.t;
    }
  }
  return state.t;
};
var greedyTo = function(state, nextReg) {
  let t3 = state.t;
  if (!nextReg) {
    return state.terms.length;
  }
  for (; t3 < state.terms.length; t3 += 1) {
    if (doesMatch_default(state.terms[t3], nextReg, state.start_i + t3, state.phrase_length) === true) {
      return t3;
    }
  }
  return null;
};
var isEndGreedy = function(reg, state) {
  if (reg.end === true && reg.greedy === true) {
    if (state.start_i + state.t < state.phrase_length - 1) {
      let tmpReg = Object.assign({}, reg, { end: false });
      if (doesMatch_default(state.terms[state.t], tmpReg, state.start_i + state.t, state.phrase_length) === true) {
        return true;
      }
    }
  }
  return false;
};

// node_modules/compromise/src/1-one/match/methods/match/_lib.js
var getGroup = function(state, term_index) {
  if (state.groups[state.inGroup]) {
    return state.groups[state.inGroup];
  }
  state.groups[state.inGroup] = {
    start: term_index,
    length: 0
  };
  return state.groups[state.inGroup];
};

// node_modules/compromise/src/1-one/match/methods/match/steps/astrix.js
var doAstrix = function(state) {
  let { regs } = state;
  let reg = regs[state.r];
  let skipto = greedyTo(state, regs[state.r + 1]);
  if (skipto === null || skipto === 0) {
    return null;
  }
  if (reg.min !== void 0 && skipto - state.t < reg.min) {
    return null;
  }
  if (reg.max !== void 0 && skipto - state.t > reg.max) {
    state.t = state.t + reg.max;
    return true;
  }
  if (state.hasGroup === true) {
    const g3 = getGroup(state, state.t);
    g3.length = skipto - state.t;
  }
  state.t = skipto;
  return true;
};
var astrix_default = doAstrix;

// node_modules/compromise/src/1-one/match/methods/match/steps/logic/and-or.js
var isArray7 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var doOrBlock = function(state, skipN = 0) {
  let block = state.regs[state.r];
  let wasFound = false;
  for (let c2 = 0; c2 < block.choices.length; c2 += 1) {
    let regs = block.choices[c2];
    if (!isArray7(regs)) {
      return false;
    }
    wasFound = regs.every((cr, w_index) => {
      let extra = 0;
      let t3 = state.t + w_index + skipN + extra;
      if (state.terms[t3] === void 0) {
        return false;
      }
      let foundBlock = doesMatch_default(state.terms[t3], cr, t3 + state.start_i, state.phrase_length);
      if (foundBlock === true && cr.greedy === true) {
        for (let i3 = 1; i3 < state.terms.length; i3 += 1) {
          let term = state.terms[t3 + i3];
          if (term) {
            let keepGoing = doesMatch_default(term, cr, state.start_i + i3, state.phrase_length);
            if (keepGoing === true) {
              extra += 1;
            } else {
              break;
            }
          }
        }
      }
      skipN += extra;
      return foundBlock;
    });
    if (wasFound) {
      skipN += regs.length;
      break;
    }
  }
  if (wasFound && block.greedy === true) {
    return doOrBlock(state, skipN);
  }
  return skipN;
};
var doAndBlock = function(state) {
  let longest = 0;
  let reg = state.regs[state.r];
  let allDidMatch = reg.choices.every((block) => {
    let allWords = block.every((cr, w_index) => {
      let tryTerm = state.t + w_index;
      if (state.terms[tryTerm] === void 0) {
        return false;
      }
      return doesMatch_default(state.terms[tryTerm], cr, tryTerm, state.phrase_length);
    });
    if (allWords === true && block.length > longest) {
      longest = block.length;
    }
    return allWords;
  });
  if (allDidMatch === true) {
    return longest;
  }
  return false;
};

// node_modules/compromise/src/1-one/match/methods/match/steps/or-block.js
var orBlock = function(state) {
  const { regs } = state;
  let reg = regs[state.r];
  let skipNum = doOrBlock(state);
  if (skipNum) {
    if (reg.negative === true) {
      return null;
    }
    if (state.hasGroup === true) {
      const g3 = getGroup(state, state.t);
      g3.length += skipNum;
    }
    if (reg.end === true) {
      let end2 = state.phrase_length;
      if (state.t + state.start_i + skipNum !== end2) {
        return null;
      }
    }
    state.t += skipNum;
    return true;
  } else if (!reg.optional) {
    return null;
  }
  return true;
};
var or_block_default = orBlock;

// node_modules/compromise/src/1-one/match/methods/match/steps/and-block.js
var andBlock = function(state) {
  const { regs } = state;
  let reg = regs[state.r];
  let skipNum = doAndBlock(state);
  if (skipNum) {
    if (reg.negative === true) {
      return null;
    }
    if (state.hasGroup === true) {
      const g3 = getGroup(state, state.t);
      g3.length += skipNum;
    }
    if (reg.end === true) {
      let end2 = state.phrase_length - 1;
      if (state.t + state.start_i !== end2) {
        return null;
      }
    }
    state.t += skipNum;
    return true;
  } else if (!reg.optional) {
    return null;
  }
  return true;
};
var and_block_default = andBlock;

// node_modules/compromise/src/1-one/match/methods/match/steps/logic/negative-greedy.js
var negGreedy = function(state, reg, nextReg) {
  let skip = 0;
  for (let t3 = state.t; t3 < state.terms.length; t3 += 1) {
    let found = doesMatch_default(state.terms[t3], reg, state.start_i + state.t, state.phrase_length);
    if (found) {
      break;
    }
    if (nextReg) {
      found = doesMatch_default(state.terms[t3], nextReg, state.start_i + state.t, state.phrase_length);
      if (found) {
        break;
      }
    }
    skip += 1;
    if (reg.max !== void 0 && skip === reg.max) {
      break;
    }
  }
  if (skip === 0) {
    return false;
  }
  if (reg.min && reg.min > skip) {
    return false;
  }
  state.t += skip;
  return true;
};
var negative_greedy_default = negGreedy;

// node_modules/compromise/src/1-one/match/methods/match/steps/negative.js
var doNegative = function(state) {
  const { regs } = state;
  let reg = regs[state.r];
  let tmpReg = Object.assign({}, reg);
  tmpReg.negative = false;
  let found = doesMatch_default(state.terms[state.t], tmpReg, state.start_i + state.t, state.phrase_length);
  if (found) {
    return false;
  }
  if (reg.optional) {
    let nextReg = regs[state.r + 1];
    if (nextReg) {
      let fNext = doesMatch_default(state.terms[state.t], nextReg, state.start_i + state.t, state.phrase_length);
      if (fNext) {
        state.r += 1;
      } else if (nextReg.optional && regs[state.r + 2]) {
        let fNext2 = doesMatch_default(state.terms[state.t], regs[state.r + 2], state.start_i + state.t, state.phrase_length);
        if (fNext2) {
          state.r += 2;
        }
      }
    }
  }
  if (reg.greedy) {
    return negative_greedy_default(state, tmpReg, regs[state.r + 1]);
  }
  state.t += 1;
  return true;
};
var negative_default = doNegative;

// node_modules/compromise/src/1-one/match/methods/match/steps/optional-match.js
var foundOptional = function(state) {
  const { regs } = state;
  let reg = regs[state.r];
  let term = state.terms[state.t];
  let nextRegMatched = doesMatch_default(term, regs[state.r + 1], state.start_i + state.t, state.phrase_length);
  if (reg.negative || nextRegMatched) {
    let nextTerm = state.terms[state.t + 1];
    if (!nextTerm || !doesMatch_default(nextTerm, regs[state.r + 1], state.start_i + state.t, state.phrase_length)) {
      state.r += 1;
    }
  }
};
var optional_match_default = foundOptional;

// node_modules/compromise/src/1-one/match/methods/match/steps/greedy-match.js
var greedyMatch = function(state) {
  const { regs, phrase_length } = state;
  let reg = regs[state.r];
  state.t = getGreedy(state, regs[state.r + 1]);
  if (state.t === null) {
    return null;
  }
  if (reg.min && reg.min > state.t) {
    return null;
  }
  if (reg.end === true && state.start_i + state.t !== phrase_length) {
    return null;
  }
  return true;
};
var greedy_match_default = greedyMatch;

// node_modules/compromise/src/1-one/match/methods/match/steps/contraction-skip.js
var contractionSkip = function(state) {
  let term = state.terms[state.t];
  let reg = state.regs[state.r];
  if (term.implicit && state.terms[state.t + 1]) {
    let nextTerm = state.terms[state.t + 1];
    if (!nextTerm.implicit) {
      return;
    }
    if (reg.word === term.normal) {
      state.t += 1;
    }
    if (reg.method === "hasContraction") {
      state.t += 1;
    }
  }
};
var contraction_skip_default = contractionSkip;

// node_modules/compromise/src/1-one/match/methods/match/steps/simple-match.js
var setGroup = function(state, startAt) {
  let reg = state.regs[state.r];
  const g3 = getGroup(state, startAt);
  if (state.t > 1 && reg.greedy) {
    g3.length += state.t - startAt;
  } else {
    g3.length++;
  }
};
var simpleMatch = function(state) {
  const { regs } = state;
  let reg = regs[state.r];
  let term = state.terms[state.t];
  let startAt = state.t;
  if (reg.optional && regs[state.r + 1] && reg.negative) {
    return true;
  }
  if (reg.optional && regs[state.r + 1]) {
    optional_match_default(state);
  }
  if (term.implicit && state.terms[state.t + 1]) {
    contraction_skip_default(state);
  }
  state.t += 1;
  if (reg.end === true && state.t !== state.terms.length && reg.greedy !== true) {
    return null;
  }
  if (reg.greedy === true) {
    let alive = greedy_match_default(state);
    if (!alive) {
      return null;
    }
  }
  if (state.hasGroup === true) {
    setGroup(state, startAt);
  }
  return true;
};
var simple_match_default = simpleMatch;

// node_modules/compromise/src/1-one/match/methods/match/02-from-here.js
var tryHere = function(terms, regs, start_i, phrase_length) {
  if (terms.length === 0 || regs.length === 0) {
    return null;
  }
  let state = {
    t: 0,
    terms,
    r: 0,
    regs,
    groups: {},
    start_i,
    phrase_length,
    inGroup: null
  };
  for (; state.r < regs.length; state.r += 1) {
    let reg = regs[state.r];
    state.hasGroup = Boolean(reg.group);
    if (state.hasGroup === true) {
      state.inGroup = reg.group;
    } else {
      state.inGroup = null;
    }
    if (!state.terms[state.t]) {
      const alive = regs.slice(state.r).some((remain) => !remain.optional);
      if (alive === false) {
        break;
      }
      return null;
    }
    if (reg.anything === true && reg.greedy === true) {
      let alive = astrix_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (reg.choices !== void 0 && reg.operator === "or") {
      let alive = or_block_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (reg.choices !== void 0 && reg.operator === "and") {
      let alive = and_block_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (reg.anything === true) {
      if (reg.negative && reg.anything) {
        return null;
      }
      let alive = simple_match_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (isEndGreedy(reg, state) === true) {
      let alive = simple_match_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (reg.negative) {
      let alive = negative_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    let hasMatch = doesMatch_default(state.terms[state.t], reg, state.start_i + state.t, state.phrase_length);
    if (hasMatch === true) {
      let alive = simple_match_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (reg.optional === true) {
      continue;
    }
    return null;
  }
  let pntr = [null, start_i, state.t + start_i];
  if (pntr[1] === pntr[2]) {
    return null;
  }
  let groups = {};
  Object.keys(state.groups).forEach((k2) => {
    let o2 = state.groups[k2];
    let start2 = start_i + o2.start;
    groups[k2] = [null, start2, start2 + o2.length];
  });
  return { pointer: pntr, groups };
};
var from_here_default = tryHere;

// node_modules/compromise/src/1-one/match/methods/match/03-getGroup.js
var getGroup2 = function(res, group) {
  let ptrs = [];
  let byGroup = {};
  if (res.length === 0) {
    return { ptrs, byGroup };
  }
  if (typeof group === "number") {
    group = String(group);
  }
  if (group) {
    res.forEach((r2) => {
      if (r2.groups[group]) {
        ptrs.push(r2.groups[group]);
      }
    });
  } else {
    res.forEach((r2) => {
      ptrs.push(r2.pointer);
      Object.keys(r2.groups).forEach((k2) => {
        byGroup[k2] = byGroup[k2] || [];
        byGroup[k2].push(r2.groups[k2]);
      });
    });
  }
  return { ptrs, byGroup };
};
var getGroup_default = getGroup2;

// node_modules/compromise/src/1-one/match/methods/match/03-notIf.js
var notIf = function(results, not, docs) {
  results = results.filter((res) => {
    let [n2, start2, end2] = res.pointer;
    let terms = docs[n2].slice(start2, end2);
    for (let i3 = 0; i3 < terms.length; i3 += 1) {
      let slice = terms.slice(i3);
      let found = from_here_default(slice, not, i3, terms.length);
      if (found !== null) {
        return false;
      }
    }
    return true;
  });
  return results;
};
var notIf_default = notIf;

// node_modules/compromise/src/1-one/match/methods/match/index.js
var addSentence = function(res, n2) {
  res.pointer[0] = n2;
  Object.keys(res.groups).forEach((k2) => {
    res.groups[k2][0] = n2;
  });
  return res;
};
var handleStart = function(terms, regs, n2) {
  let res = from_here_default(terms, regs, 0, terms.length);
  if (res) {
    res = addSentence(res, n2);
    return res;
  }
  return null;
};
var runMatch = function(docs, todo, cache) {
  cache = cache || [];
  let { regs, group, justOne } = todo;
  let results = [];
  if (!regs || regs.length === 0) {
    return { ptrs: [], byGroup: {} };
  }
  const minLength = regs.filter((r2) => r2.optional !== true && r2.negative !== true).length;
  docs:
    for (let n2 = 0; n2 < docs.length; n2 += 1) {
      let terms = docs[n2];
      if (cache[n2] && failFast_default(regs, cache[n2])) {
        continue;
      }
      if (regs[0].start === true) {
        let foundStart = handleStart(terms, regs, n2, group);
        if (foundStart) {
          results.push(foundStart);
        }
        continue;
      }
      for (let i3 = 0; i3 < terms.length; i3 += 1) {
        let slice = terms.slice(i3);
        if (slice.length < minLength) {
          break;
        }
        let res = from_here_default(slice, regs, i3, terms.length);
        if (res) {
          res = addSentence(res, n2);
          results.push(res);
          if (justOne === true) {
            break docs;
          }
          let end2 = res.pointer[2];
          if (Math.abs(end2 - 1) > i3) {
            i3 = Math.abs(end2 - 1);
          }
        }
      }
    }
  if (regs[regs.length - 1].end === true) {
    results = results.filter((res) => {
      let n2 = res.pointer[0];
      return docs[n2].length === res.pointer[2];
    });
  }
  if (todo.notIf) {
    results = notIf_default(results, todo.notIf, docs);
  }
  results = getGroup_default(results, group);
  results.ptrs.forEach((ptr) => {
    let [n2, start2, end2] = ptr;
    ptr[3] = docs[n2][start2].id;
    ptr[4] = docs[n2][end2 - 1].id;
  });
  return results;
};
var match_default2 = runMatch;

// node_modules/compromise/src/1-one/match/methods/index.js
var methods12 = {
  one: {
    termMethods: termMethods_default,
    parseMatch: parseMatch_default,
    match: match_default2
  }
};
var methods_default4 = methods12;

// node_modules/compromise/src/1-one/match/lib.js
var lib_default2 = {
  /** pre-parse any match statements */
  parseMatch: function(str2, opts2) {
    const world2 = this.world();
    let killUnicode2 = world2.methods.one.killUnicode;
    if (killUnicode2) {
      str2 = killUnicode2(str2, world2);
    }
    return world2.methods.one.parseMatch(str2, opts2, world2);
  }
};

// node_modules/compromise/src/1-one/match/plugin.js
var plugin_default7 = {
  api: api_default4,
  methods: methods_default4,
  lib: lib_default2
};

// node_modules/compromise/src/1-one/output/api/html.js
var isClass = /^\../;
var isId = /^#./;
var escapeXml = (str2) => {
  str2 = str2.replace(/&/g, "&amp;");
  str2 = str2.replace(/</g, "&lt;");
  str2 = str2.replace(/>/g, "&gt;");
  str2 = str2.replace(/"/g, "&quot;");
  str2 = str2.replace(/'/g, "&apos;");
  return str2;
};
var toTag = function(k2) {
  let start2 = "";
  let end2 = "</span>";
  k2 = escapeXml(k2);
  if (isClass.test(k2)) {
    start2 = `<span class="${k2.replace(/^\./, "")}"`;
  } else if (isId.test(k2)) {
    start2 = `<span id="${k2.replace(/^#/, "")}"`;
  } else {
    start2 = `<${k2}`;
    end2 = `</${k2}>`;
  }
  start2 += ">";
  return { start: start2, end: end2 };
};
var getIndex = function(doc, obj) {
  let starts = {};
  let ends = {};
  Object.keys(obj).forEach((k2) => {
    let res = obj[k2];
    let tag = toTag(k2);
    if (typeof res === "string") {
      res = doc.match(res);
    }
    res.docs.forEach((terms) => {
      if (terms.every((t3) => t3.implicit)) {
        return;
      }
      let a2 = terms[0].id;
      starts[a2] = starts[a2] || [];
      starts[a2].push(tag.start);
      let b = terms[terms.length - 1].id;
      ends[b] = ends[b] || [];
      ends[b].push(tag.end);
    });
  });
  return { starts, ends };
};
var html = function(obj) {
  let { starts, ends } = getIndex(this, obj);
  let out2 = "";
  this.docs.forEach((terms) => {
    for (let i3 = 0; i3 < terms.length; i3 += 1) {
      let t3 = terms[i3];
      if (starts.hasOwnProperty(t3.id)) {
        out2 += starts[t3.id].join("");
      }
      out2 += t3.pre || "";
      out2 += t3.text || "";
      if (ends.hasOwnProperty(t3.id)) {
        out2 += ends[t3.id].join("");
      }
      out2 += t3.post || "";
    }
  });
  return out2;
};
var html_default = { html };

// node_modules/compromise/src/1-one/output/api/_text.js
var trimEnd = /[,:;)\]*.?~!\u0022\uFF02\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4â€”-]+$/;
var trimStart = /^[(['"*~\uFF02\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F]+/;
var punctToKill = /[,:;)('"\u201D\]]/;
var isHyphen = /^[-â€“â€”]$/;
var hasSpace = / /;
var textFromTerms = function(terms, opts2, keepSpace = true) {
  let txt = "";
  terms.forEach((t3) => {
    let pre = t3.pre || "";
    let post2 = t3.post || "";
    if (opts2.punctuation === "some") {
      pre = pre.replace(trimStart, "");
      if (isHyphen.test(post2)) {
        post2 = " ";
      }
      post2 = post2.replace(punctToKill, "");
      post2 = post2.replace(/\?!+/, "?");
      post2 = post2.replace(/!+/, "!");
      post2 = post2.replace(/\?+/, "?");
      post2 = post2.replace(/\.{2,}/, "");
      if (t3.tags.has("Abbreviation")) {
        post2 = post2.replace(/\./, "");
      }
    }
    if (opts2.whitespace === "some") {
      pre = pre.replace(/\s/, "");
      post2 = post2.replace(/\s+/, " ");
    }
    if (!opts2.keepPunct) {
      pre = pre.replace(trimStart, "");
      if (post2 === "-") {
        post2 = " ";
      } else {
        post2 = post2.replace(trimEnd, "");
      }
    }
    let word = t3[opts2.form || "text"] || t3.normal || "";
    if (opts2.form === "implicit") {
      word = t3.implicit || t3.text;
    }
    if (opts2.form === "root" && t3.implicit) {
      word = t3.root || t3.implicit || t3.normal;
    }
    if ((opts2.form === "machine" || opts2.form === "implicit" || opts2.form === "root") && t3.implicit) {
      if (!post2 || !hasSpace.test(post2)) {
        post2 += " ";
      }
    }
    txt += pre + word + post2;
  });
  if (keepSpace === false) {
    txt = txt.trim();
  }
  if (opts2.lowerCase === true) {
    txt = txt.toLowerCase();
  }
  return txt;
};
var textFromDoc = function(docs, opts2) {
  let text = "";
  if (!docs || !docs[0] || !docs[0][0]) {
    return text;
  }
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    text += textFromTerms(docs[i3], opts2, true);
  }
  if (!opts2.keepSpace) {
    text = text.trim();
  }
  if (opts2.keepEndPunct === false) {
    if (!docs[0][0].tags.has("Emoticon")) {
      text = text.replace(trimStart, "");
    }
    let last = docs[docs.length - 1];
    if (!last[last.length - 1].tags.has("Emoticon")) {
      text = text.replace(trimEnd, "");
    }
    if (text.endsWith(`'`) && !text.endsWith(`s'`)) {
      text = text.replace(/'/, "");
    }
  }
  if (opts2.cleanWhitespace === true) {
    text = text.trim();
  }
  return text;
};

// node_modules/compromise/src/1-one/output/api/_fmts.js
var fmts = {
  text: {
    form: "text"
  },
  normal: {
    whitespace: "some",
    punctuation: "some",
    case: "some",
    unicode: "some",
    form: "normal"
  },
  machine: {
    keepSpace: false,
    whitespace: "some",
    punctuation: "some",
    case: "none",
    unicode: "some",
    form: "machine"
  },
  root: {
    keepSpace: false,
    whitespace: "some",
    punctuation: "some",
    case: "some",
    unicode: "some",
    form: "root"
  },
  implicit: {
    form: "implicit"
  }
};
fmts.clean = fmts.normal;
fmts.reduced = fmts.root;
var fmts_default = fmts;

// node_modules/compromise/src/1-one/output/methods/hash.js
var k = [];
var i = 0;
for (; i < 64; ) {
  k[i] = 0 | Math.sin(++i % Math.PI) * 4294967296;
}
var md5 = function(s2) {
  let b, c2, d2, h2 = [b = 1732584193, c2 = 4023233417, ~b, ~c2], words = [], j2 = decodeURI(encodeURI(s2)) + "\x80", a2 = j2.length;
  s2 = --a2 / 4 + 2 | 15;
  words[--s2] = a2 * 8;
  for (; ~a2; ) {
    words[a2 >> 2] |= j2.charCodeAt(a2) << 8 * a2--;
  }
  for (i = j2 = 0; i < s2; i += 16) {
    a2 = h2;
    for (; j2 < 64; a2 = [
      d2 = a2[3],
      b + ((d2 = a2[0] + [b & c2 | ~b & d2, d2 & b | ~d2 & c2, b ^ c2 ^ d2, c2 ^ (b | ~d2)][a2 = j2 >> 4] + k[j2] + ~~words[i | [j2, 5 * j2 + 1, 3 * j2 + 5, 7 * j2][a2] & 15]) << (a2 = [7, 12, 17, 22, 5, 9, 14, 20, 4, 11, 16, 23, 6, 10, 15, 21][4 * a2 + j2++ % 4]) | d2 >>> -a2),
      b,
      c2
    ]) {
      b = a2[1] | 0;
      c2 = a2[2];
    }
    for (j2 = 4; j2; )
      h2[--j2] += a2[j2];
  }
  for (s2 = ""; j2 < 32; ) {
    s2 += (h2[j2 >> 3] >> (1 ^ j2++) * 4 & 15).toString(16);
  }
  return s2;
};
var hash_default = md5;

// node_modules/compromise/src/1-one/output/api/json.js
var defaults = {
  text: true,
  terms: true
};
var opts = { case: "none", unicode: "some", form: "machine", punctuation: "some" };
var merge = function(a2, b) {
  return Object.assign({}, a2, b);
};
var fns4 = {
  text: (terms) => textFromTerms(terms, { keepPunct: true }, false),
  normal: (terms) => textFromTerms(terms, merge(fmts_default.normal, { keepPunct: true }), false),
  implicit: (terms) => textFromTerms(terms, merge(fmts_default.implicit, { keepPunct: true }), false),
  machine: (terms) => textFromTerms(terms, opts, false),
  root: (terms) => textFromTerms(terms, merge(opts, { form: "root" }), false),
  hash: (terms) => hash_default(textFromTerms(terms, { keepPunct: true }, false)),
  offset: (terms) => {
    let len = fns4.text(terms).length;
    return {
      index: terms[0].offset.index,
      start: terms[0].offset.start,
      length: len
    };
  },
  terms: (terms) => {
    return terms.map((t3) => {
      let term = Object.assign({}, t3);
      term.tags = Array.from(t3.tags);
      return term;
    });
  },
  confidence: (_terms, view, i3) => view.eq(i3).confidence(),
  syllables: (_terms, view, i3) => view.eq(i3).syllables(),
  sentence: (_terms, view, i3) => view.eq(i3).fullSentence().text(),
  dirty: (terms) => terms.some((t3) => t3.dirty === true)
};
fns4.sentences = fns4.sentence;
fns4.clean = fns4.normal;
fns4.reduced = fns4.root;
var toJSON = function(view, option) {
  option = option || {};
  if (typeof option === "string") {
    option = {};
  }
  option = Object.assign({}, defaults, option);
  if (option.offset) {
    view.compute("offset");
  }
  return view.docs.map((terms, i3) => {
    let res = {};
    Object.keys(option).forEach((k2) => {
      if (option[k2] && fns4[k2]) {
        res[k2] = fns4[k2](terms, view, i3);
      }
    });
    return res;
  });
};
var methods13 = {
  /** return data */
  json: function(n2) {
    let res = toJSON(this, n2);
    if (typeof n2 === "number") {
      return res[n2];
    }
    return res;
  }
};
methods13.data = methods13.json;
var json_default = methods13;

// node_modules/compromise/src/1-one/output/api/debug.js
var isClientSide = () => typeof window !== "undefined" && window.document;
var debug2 = function(fmt2) {
  let debugMethods = this.methods.one.debug || {};
  if (fmt2 && debugMethods.hasOwnProperty(fmt2)) {
    debugMethods[fmt2](this);
    return this;
  }
  if (isClientSide()) {
    debugMethods.clientSide(this);
    return this;
  }
  debugMethods.tags(this);
  return this;
};
var debug_default2 = debug2;

// node_modules/compromise/src/1-one/output/api/wrap.js
var toText = function(term) {
  let pre = term.pre || "";
  let post2 = term.post || "";
  return pre + term.text + post2;
};
var findStarts = function(doc, obj) {
  let starts = {};
  Object.keys(obj).forEach((reg) => {
    let m = doc.match(reg);
    m.fullPointer.forEach((a2) => {
      starts[a2[3]] = { fn: obj[reg], end: a2[2] };
    });
  });
  return starts;
};
var wrap = function(doc, obj) {
  let starts = findStarts(doc, obj);
  let text = "";
  doc.docs.forEach((terms, n2) => {
    for (let i3 = 0; i3 < terms.length; i3 += 1) {
      let t3 = terms[i3];
      if (starts.hasOwnProperty(t3.id)) {
        let { fn, end: end2 } = starts[t3.id];
        let m = doc.update([[n2, i3, end2]]);
        text += terms[i3].pre || "";
        text += fn(m);
        i3 = end2 - 1;
        text += terms[i3].post || "";
      } else {
        text += toText(t3);
      }
    }
  });
  return text;
};
var wrap_default = wrap;

// node_modules/compromise/src/1-one/output/api/out.js
var isObject5 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
var topk = function(arr) {
  let obj = {};
  arr.forEach((a2) => {
    obj[a2] = obj[a2] || 0;
    obj[a2] += 1;
  });
  let res = Object.keys(obj).map((k2) => {
    return { normal: k2, count: obj[k2] };
  });
  return res.sort((a2, b) => a2.count > b.count ? -1 : 0);
};
var out = function(method) {
  if (isObject5(method)) {
    return wrap_default(this, method);
  }
  if (method === "text") {
    return this.text();
  }
  if (method === "normal") {
    return this.text("normal");
  }
  if (method === "root") {
    return this.text("root");
  }
  if (method === "machine" || method === "reduced") {
    return this.text("machine");
  }
  if (method === "hash" || method === "md5") {
    return hash_default(this.text());
  }
  if (method === "json") {
    return this.json();
  }
  if (method === "offset" || method === "offsets") {
    this.compute("offset");
    return this.json({ offset: true });
  }
  if (method === "array") {
    let arr = this.docs.map((terms) => {
      return terms.reduce((str2, t3) => {
        return str2 + t3.pre + t3.text + t3.post;
      }, "").trim();
    });
    return arr.filter((str2) => str2);
  }
  if (method === "freq" || method === "frequency" || method === "topk") {
    return topk(this.json({ normal: true }).map((o2) => o2.normal));
  }
  if (method === "terms") {
    let list2 = [];
    this.docs.forEach((terms) => {
      let words = terms.map((t3) => t3.text);
      words = words.filter((t3) => t3);
      list2 = list2.concat(words);
    });
    return list2;
  }
  if (method === "tags") {
    return this.docs.map((terms) => {
      return terms.reduce((h2, t3) => {
        h2[t3.implicit || t3.normal] = Array.from(t3.tags);
        return h2;
      }, {});
    });
  }
  if (method === "debug") {
    return this.debug();
  }
  return this.text();
};
var methods14 = {
  /** */
  debug: debug_default2,
  /** */
  out,
  /** */
  wrap: function(obj) {
    return wrap_default(this, obj);
  }
};
var out_default = methods14;

// node_modules/compromise/src/1-one/output/api/text.js
var isObject6 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
var text_default = {
  /** */
  text: function(fmt2) {
    let opts2 = {};
    if (fmt2 && typeof fmt2 === "string" && fmts_default.hasOwnProperty(fmt2)) {
      opts2 = Object.assign({}, fmts_default[fmt2]);
    } else if (fmt2 && isObject6(fmt2)) {
      opts2 = Object.assign({}, fmt2);
    }
    if (opts2.keepSpace === void 0 && !this.isFull()) {
      opts2.keepSpace = false;
    }
    if (opts2.keepEndPunct === void 0 && this.pointer) {
      let ptr = this.pointer[0];
      if (ptr && ptr[1]) {
        opts2.keepEndPunct = false;
      } else {
        opts2.keepEndPunct = true;
      }
    }
    if (opts2.keepPunct === void 0) {
      opts2.keepPunct = true;
    }
    if (opts2.keepSpace === void 0) {
      opts2.keepSpace = true;
    }
    return textFromDoc(this.docs, opts2);
  }
};

// node_modules/compromise/src/1-one/output/api/index.js
var methods15 = Object.assign({}, out_default, text_default, json_default, html_default);
var addAPI3 = function(View2) {
  Object.assign(View2.prototype, methods15);
};
var api_default5 = addAPI3;

// node_modules/compromise/src/1-one/output/methods/debug/client-side.js
var logClientSide = function(view) {
  console.log("%c -=-=- ", "background-color:#6699cc;");
  view.forEach((m) => {
    console.groupCollapsed(m.text());
    let terms = m.docs[0];
    let out2 = terms.map((t3) => {
      let text = t3.text || "-";
      if (t3.implicit) {
        text = "[" + t3.implicit + "]";
      }
      let tags = "[" + Array.from(t3.tags).join(", ") + "]";
      return { text, tags };
    });
    console.table(out2, ["text", "tags"]);
    console.groupEnd();
  });
};
var client_side_default = logClientSide;

// node_modules/compromise/src/1-one/output/methods/debug/_color.js
var reset = "\x1B[0m";
var cli = {
  green: (str2) => "\x1B[32m" + str2 + reset,
  red: (str2) => "\x1B[31m" + str2 + reset,
  blue: (str2) => "\x1B[34m" + str2 + reset,
  magenta: (str2) => "\x1B[35m" + str2 + reset,
  cyan: (str2) => "\x1B[36m" + str2 + reset,
  yellow: (str2) => "\x1B[33m" + str2 + reset,
  black: (str2) => "\x1B[30m" + str2 + reset,
  dim: (str2) => "\x1B[2m" + str2 + reset,
  i: (str2) => "\x1B[3m" + str2 + reset
};
var color_default = cli;

// node_modules/compromise/src/1-one/output/methods/debug/tags.js
var tagString = function(tags, model4) {
  if (model4.one.tagSet) {
    tags = tags.map((tag) => {
      if (!model4.one.tagSet.hasOwnProperty(tag)) {
        return tag;
      }
      const c2 = model4.one.tagSet[tag].color || "blue";
      return color_default[c2](tag);
    });
  }
  return tags.join(", ");
};
var showTags = function(view) {
  let { docs, model: model4 } = view;
  if (docs.length === 0) {
    console.log(color_default.blue("\n     \u2500\u2500\u2500\u2500\u2500\u2500"));
  }
  docs.forEach((terms) => {
    console.log(color_default.blue("\n  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"));
    terms.forEach((t3) => {
      let tags = [...t3.tags || []];
      let text = t3.text || "-";
      if (t3.sense) {
        text = `{${t3.normal}/${t3.sense}}`;
      }
      if (t3.implicit) {
        text = "[" + t3.implicit + "]";
      }
      text = color_default.yellow(text);
      let word = "'" + text + "'";
      if (t3.reference) {
        let str3 = view.update([t3.reference]).text("normal");
        word += ` - ${color_default.dim(color_default.i("[" + str3 + "]"))}`;
      }
      word = word.padEnd(18);
      let str2 = color_default.blue("  \u2502 ") + color_default.i(word) + "  - " + tagString(tags, model4);
      console.log(str2);
    });
  });
  console.log("\n");
};
var tags_default = showTags;

// node_modules/compromise/src/1-one/output/methods/debug/chunks.js
var showChunks = function(view) {
  let { docs } = view;
  console.log("");
  docs.forEach((terms) => {
    let out2 = [];
    terms.forEach((term) => {
      if (term.chunk === "Noun") {
        out2.push(color_default.blue(term.implicit || term.normal));
      } else if (term.chunk === "Verb") {
        out2.push(color_default.green(term.implicit || term.normal));
      } else if (term.chunk === "Adjective") {
        out2.push(color_default.yellow(term.implicit || term.normal));
      } else if (term.chunk === "Pivot") {
        out2.push(color_default.red(term.implicit || term.normal));
      } else {
        out2.push(term.implicit || term.normal);
      }
    });
    console.log(out2.join(" "), "\n");
  });
  console.log("\n");
};
var chunks_default = showChunks;

// node_modules/compromise/src/1-one/output/methods/debug/highlight.js
var split = (txt, offset2, index4) => {
  let buff = index4 * 9;
  let start2 = offset2.start + buff;
  let end2 = start2 + offset2.length;
  let pre = txt.substring(0, start2);
  let mid = txt.substring(start2, end2);
  let post2 = txt.substring(end2, txt.length);
  return [pre, mid, post2];
};
var spliceIn = function(txt, offset2, index4) {
  let parts = split(txt, offset2, index4);
  return `${parts[0]}${color_default.blue(parts[1])}${parts[2]}`;
};
var showHighlight = function(doc) {
  if (!doc.found) {
    return;
  }
  let bySentence = {};
  doc.fullPointer.forEach((ptr) => {
    bySentence[ptr[0]] = bySentence[ptr[0]] || [];
    bySentence[ptr[0]].push(ptr);
  });
  Object.keys(bySentence).forEach((k2) => {
    let full = doc.update([[Number(k2)]]);
    let txt = full.text();
    let matches = doc.update(bySentence[k2]);
    let json = matches.json({ offset: true });
    json.forEach((obj, i3) => {
      txt = spliceIn(txt, obj.offset, i3);
    });
    console.log(txt);
  });
  console.log("\n");
};
var highlight_default = showHighlight;

// node_modules/compromise/src/1-one/output/methods/debug/index.js
var debug3 = {
  tags: tags_default,
  clientSide: client_side_default,
  chunks: chunks_default,
  highlight: highlight_default
};
var debug_default3 = debug3;

// node_modules/compromise/src/1-one/output/plugin.js
var plugin_default8 = {
  api: api_default5,
  methods: {
    one: {
      hash: hash_default,
      debug: debug_default3
    }
  }
};

// node_modules/compromise/src/1-one/pointers/api/lib/_lib.js
var doesOverlap = function(a2, b) {
  if (a2[0] !== b[0]) {
    return false;
  }
  let [, startA, endA] = a2;
  let [, startB, endB] = b;
  if (startA <= startB && endA > startB) {
    return true;
  }
  if (startB <= startA && endB > startA) {
    return true;
  }
  return false;
};
var getExtent = function(ptrs) {
  let min = ptrs[0][1];
  let max2 = ptrs[0][2];
  ptrs.forEach((ptr) => {
    if (ptr[1] < min) {
      min = ptr[1];
    }
    if (ptr[2] > max2) {
      max2 = ptr[2];
    }
  });
  return [ptrs[0][0], min, max2];
};
var indexN = function(ptrs) {
  let byN = {};
  ptrs.forEach((ref) => {
    byN[ref[0]] = byN[ref[0]] || [];
    byN[ref[0]].push(ref);
  });
  return byN;
};
var uniquePtrs = function(arr) {
  let obj = {};
  for (let i3 = 0; i3 < arr.length; i3 += 1) {
    obj[arr[i3].join(",")] = arr[i3];
  }
  return Object.values(obj);
};

// node_modules/compromise/src/1-one/pointers/api/lib/split.js
var pivotBy = function(full, m) {
  let [n2, start2] = full;
  let mStart = m[1];
  let mEnd = m[2];
  let res = {};
  if (start2 < mStart) {
    let end2 = mStart < full[2] ? mStart : full[2];
    res.before = [n2, start2, end2];
  }
  res.match = m;
  if (full[2] > mEnd) {
    res.after = [n2, mEnd, full[2]];
  }
  return res;
};
var doesMatch2 = function(full, m) {
  return full[1] <= m[1] && m[2] <= full[2];
};
var splitAll = function(full, m) {
  let byN = indexN(m);
  let res = [];
  full.forEach((ptr) => {
    let [n2] = ptr;
    let matches = byN[n2] || [];
    matches = matches.filter((p2) => doesMatch2(ptr, p2));
    if (matches.length === 0) {
      res.push({ passthrough: ptr });
      return;
    }
    matches = matches.sort((a2, b) => a2[1] - b[1]);
    let carry = ptr;
    matches.forEach((p2, i3) => {
      let found = pivotBy(carry, p2);
      if (!matches[i3 + 1]) {
        res.push(found);
      } else {
        res.push({ before: found.before, match: found.match });
        if (found.after) {
          carry = found.after;
        }
      }
    });
  });
  return res;
};
var split_default2 = splitAll;

// node_modules/compromise/src/1-one/pointers/methods/getDoc.js
var max = 20;
var blindSweep = function(id, doc, n2) {
  for (let i3 = 0; i3 < max; i3 += 1) {
    if (doc[n2 - i3]) {
      let index4 = doc[n2 - i3].findIndex((term) => term.id === id);
      if (index4 !== -1) {
        return [n2 - i3, index4];
      }
    }
    if (doc[n2 + i3]) {
      let index4 = doc[n2 + i3].findIndex((term) => term.id === id);
      if (index4 !== -1) {
        return [n2 + i3, index4];
      }
    }
  }
  return null;
};
var repairEnding = function(ptr, document2) {
  let [n2, start2, , , endId] = ptr;
  let terms = document2[n2];
  let newEnd = terms.findIndex((t3) => t3.id === endId);
  if (newEnd === -1) {
    ptr[2] = document2[n2].length;
    ptr[4] = terms.length ? terms[terms.length - 1].id : null;
  } else {
    ptr[2] = newEnd;
  }
  return document2[n2].slice(start2, ptr[2] + 1);
};
var getDoc2 = function(ptrs, document2) {
  let doc = [];
  ptrs.forEach((ptr, i3) => {
    if (!ptr) {
      return;
    }
    let [n2, start2, end2, id, endId] = ptr;
    let terms = document2[n2] || [];
    if (start2 === void 0) {
      start2 = 0;
    }
    if (end2 === void 0) {
      end2 = terms.length;
    }
    if (id && (!terms[start2] || terms[start2].id !== id)) {
      let wild = blindSweep(id, document2, n2);
      if (wild !== null) {
        let len = end2 - start2;
        terms = document2[wild[0]].slice(wild[1], wild[1] + len);
        let startId = terms[0] ? terms[0].id : null;
        ptrs[i3] = [wild[0], wild[1], wild[1] + len, startId];
      }
    } else {
      terms = terms.slice(start2, end2);
    }
    if (terms.length === 0) {
      return;
    }
    if (start2 === end2) {
      return;
    }
    if (endId && terms[terms.length - 1].id !== endId) {
      terms = repairEnding(ptr, document2);
    }
    doc.push(terms);
  });
  doc = doc.filter((a2) => a2.length > 0);
  return doc;
};
var getDoc_default = getDoc2;

// node_modules/compromise/src/1-one/pointers/methods/index.js
var termList = function(docs) {
  let arr = [];
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      arr.push(docs[i3][t3]);
    }
  }
  return arr;
};
var methods_default5 = {
  one: {
    termList,
    getDoc: getDoc_default,
    pointer: {
      indexN,
      splitAll: split_default2
    }
  }
};

// node_modules/compromise/src/1-one/pointers/api/lib/union.js
var getUnion = function(a2, b) {
  let both = a2.concat(b);
  let byN = indexN(both);
  let res = [];
  both.forEach((ptr) => {
    let [n2] = ptr;
    if (byN[n2].length === 1) {
      res.push(ptr);
      return;
    }
    let hmm = byN[n2].filter((m) => doesOverlap(ptr, m));
    hmm.push(ptr);
    let range = getExtent(hmm);
    res.push(range);
  });
  res = uniquePtrs(res);
  return res;
};
var union_default = getUnion;

// node_modules/compromise/src/1-one/pointers/api/lib/difference.js
var subtract = function(refs, not) {
  let res = [];
  let found = split_default2(refs, not);
  found.forEach((o2) => {
    if (o2.passthrough) {
      res.push(o2.passthrough);
    }
    if (o2.before) {
      res.push(o2.before);
    }
    if (o2.after) {
      res.push(o2.after);
    }
  });
  return res;
};
var difference_default = subtract;

// node_modules/compromise/src/1-one/pointers/api/lib/intersection.js
var intersection = function(a2, b) {
  let start2 = a2[1] < b[1] ? b[1] : a2[1];
  let end2 = a2[2] > b[2] ? b[2] : a2[2];
  if (start2 < end2) {
    return [a2[0], start2, end2];
  }
  return null;
};
var getIntersection = function(a2, b) {
  let byN = indexN(b);
  let res = [];
  a2.forEach((ptr) => {
    let hmm = byN[ptr[0]] || [];
    hmm = hmm.filter((p2) => doesOverlap(ptr, p2));
    if (hmm.length === 0) {
      return;
    }
    hmm.forEach((h2) => {
      let overlap = intersection(ptr, h2);
      if (overlap) {
        res.push(overlap);
      }
    });
  });
  return res;
};
var intersection_default = getIntersection;

// node_modules/compromise/src/1-one/pointers/api/index.js
var isArray8 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var getDoc3 = (m, view) => {
  if (typeof m === "string" || isArray8(m)) {
    return view.match(m);
  }
  if (!m) {
    return view.none();
  }
  return m;
};
var addIds3 = function(ptrs, docs) {
  return ptrs.map((ptr) => {
    let [n2, start2] = ptr;
    if (docs[n2] && docs[n2][start2]) {
      ptr[3] = docs[n2][start2].id;
    }
    return ptr;
  });
};
var methods16 = {};
methods16.union = function(m) {
  m = getDoc3(m, this);
  let ptrs = union_default(this.fullPointer, m.fullPointer);
  ptrs = addIds3(ptrs, this.document);
  return this.toView(ptrs);
};
methods16.and = methods16.union;
methods16.intersection = function(m) {
  m = getDoc3(m, this);
  let ptrs = intersection_default(this.fullPointer, m.fullPointer);
  ptrs = addIds3(ptrs, this.document);
  return this.toView(ptrs);
};
methods16.not = function(m) {
  m = getDoc3(m, this);
  let ptrs = difference_default(this.fullPointer, m.fullPointer);
  ptrs = addIds3(ptrs, this.document);
  return this.toView(ptrs);
};
methods16.difference = methods16.not;
methods16.complement = function() {
  let doc = this.all();
  let ptrs = difference_default(doc.fullPointer, this.fullPointer);
  ptrs = addIds3(ptrs, this.document);
  return this.toView(ptrs);
};
methods16.settle = function() {
  let ptrs = this.fullPointer;
  ptrs.forEach((ptr) => {
    ptrs = union_default(ptrs, [ptr]);
  });
  ptrs = addIds3(ptrs, this.document);
  return this.update(ptrs);
};
var addAPI4 = function(View2) {
  Object.assign(View2.prototype, methods16);
};
var api_default6 = addAPI4;

// node_modules/compromise/src/1-one/pointers/plugin.js
var plugin_default9 = {
  methods: methods_default5,
  api: api_default6
};

// node_modules/compromise/src/1-one/sweep/lib.js
var lib_default3 = {
  // compile a list of matches into a match-net
  buildNet: function(matches) {
    const methods18 = this.methods();
    let net = methods18.one.buildNet(matches, this.world());
    net.isNet = true;
    return net;
  }
};

// node_modules/compromise/src/1-one/sweep/api.js
var api = function(View2) {
  View2.prototype.sweep = function(net, opts2 = {}) {
    const { world: world2, docs } = this;
    const { methods: methods18 } = world2;
    let found = methods18.one.bulkMatch(docs, net, this.methods, opts2);
    if (opts2.tagger !== false) {
      methods18.one.bulkTagger(found, docs, this.world);
    }
    found = found.map((o2) => {
      let ptr = o2.pointer;
      let term = docs[ptr[0]][ptr[1]];
      let len = ptr[2] - ptr[1];
      if (term.index) {
        o2.pointer = [
          term.index[0],
          term.index[1],
          ptr[1] + len
        ];
      }
      return o2;
    });
    let ptrs = found.map((o2) => o2.pointer);
    found = found.map((obj) => {
      obj.view = this.update([obj.pointer]);
      delete obj.regs;
      delete obj.needs;
      delete obj.pointer;
      delete obj._expanded;
      return obj;
    });
    return {
      view: this.update(ptrs),
      found
    };
  };
};
var api_default7 = api;

// node_modules/compromise/src/1-one/sweep/methods/buildNet/01-parse.js
var getTokenNeeds = function(reg) {
  if (reg.optional === true || reg.negative === true) {
    return null;
  }
  if (reg.tag) {
    return "#" + reg.tag;
  }
  if (reg.word) {
    return reg.word;
  }
  if (reg.switch) {
    return `%${reg.switch}%`;
  }
  return null;
};
var getNeeds = function(regs) {
  let needs = [];
  regs.forEach((reg) => {
    needs.push(getTokenNeeds(reg));
    if (reg.operator === "and" && reg.choices) {
      reg.choices.forEach((oneSide) => {
        oneSide.forEach((r2) => {
          needs.push(getTokenNeeds(r2));
        });
      });
    }
  });
  return needs.filter((str2) => str2);
};
var getWants = function(regs) {
  let wants = [];
  let count = 0;
  regs.forEach((reg) => {
    if (reg.operator === "or" && !reg.optional && !reg.negative) {
      if (reg.fastOr) {
        Array.from(reg.fastOr).forEach((w) => {
          wants.push(w);
        });
      }
      if (reg.choices) {
        reg.choices.forEach((rs) => {
          rs.forEach((r2) => {
            let n2 = getTokenNeeds(r2);
            if (n2) {
              wants.push(n2);
            }
          });
        });
      }
      count += 1;
    }
  });
  return { wants, count };
};
var parse3 = function(matches, world2) {
  const parseMatch = world2.methods.one.parseMatch;
  matches.forEach((obj) => {
    obj.regs = parseMatch(obj.match, {}, world2);
    if (typeof obj.ifNo === "string") {
      obj.ifNo = [obj.ifNo];
    }
    if (obj.notIf) {
      obj.notIf = parseMatch(obj.notIf, {}, world2);
    }
    obj.needs = getNeeds(obj.regs);
    let { wants, count } = getWants(obj.regs);
    obj.wants = wants;
    obj.minWant = count;
    obj.minWords = obj.regs.filter((o2) => !o2.optional).length;
  });
  return matches;
};
var parse_default = parse3;

// node_modules/compromise/src/1-one/sweep/methods/buildNet/index.js
var buildNet = function(matches, world2) {
  matches = parse_default(matches, world2);
  let hooks2 = {};
  matches.forEach((obj) => {
    obj.needs.forEach((str2) => {
      hooks2[str2] = Array.isArray(hooks2[str2]) ? hooks2[str2] : [];
      hooks2[str2].push(obj);
    });
    obj.wants.forEach((str2) => {
      hooks2[str2] = Array.isArray(hooks2[str2]) ? hooks2[str2] : [];
      hooks2[str2].push(obj);
    });
  });
  Object.keys(hooks2).forEach((k2) => {
    let already = {};
    hooks2[k2] = hooks2[k2].filter((obj) => {
      if (typeof already[obj.match] === "boolean") {
        return false;
      }
      already[obj.match] = true;
      return true;
    });
  });
  let always = matches.filter((o2) => o2.needs.length === 0 && o2.wants.length === 0);
  return {
    hooks: hooks2,
    always
  };
};
var buildNet_default = buildNet;

// node_modules/compromise/src/1-one/sweep/methods/sweep/01-getHooks.js
var getHooks = function(docCaches, hooks2) {
  return docCaches.map((set, i3) => {
    let maybe = [];
    Object.keys(hooks2).forEach((k2) => {
      if (docCaches[i3].has(k2)) {
        maybe = maybe.concat(hooks2[k2]);
      }
    });
    let already = {};
    maybe = maybe.filter((m) => {
      if (typeof already[m.match] === "boolean") {
        return false;
      }
      already[m.match] = true;
      return true;
    });
    return maybe;
  });
};
var getHooks_default = getHooks;

// node_modules/compromise/src/1-one/sweep/methods/sweep/02-trim-down.js
var localTrim = function(maybeList, docCache) {
  return maybeList.map((list2, n2) => {
    let haves = docCache[n2];
    list2 = list2.filter((obj) => {
      return obj.needs.every((need) => haves.has(need));
    });
    list2 = list2.filter((obj) => {
      if (obj.ifNo !== void 0 && obj.ifNo.some((no) => haves.has(no)) === true) {
        return false;
      }
      return true;
    });
    list2 = list2.filter((obj) => {
      if (obj.wants.length === 0) {
        return true;
      }
      let found = obj.wants.filter((str2) => haves.has(str2)).length;
      return found >= obj.minWant;
    });
    return list2;
  });
};
var trim_down_default = localTrim;

// node_modules/compromise/src/1-one/sweep/methods/sweep/04-runMatch.js
var runMatch2 = function(maybeList, document2, docCache, methods18, opts2) {
  let results = [];
  for (let n2 = 0; n2 < maybeList.length; n2 += 1) {
    for (let i3 = 0; i3 < maybeList[n2].length; i3 += 1) {
      let m = maybeList[n2][i3];
      let res = methods18.one.match([document2[n2]], m);
      if (res.ptrs.length > 0) {
        res.ptrs.forEach((ptr) => {
          ptr[0] = n2;
          let todo = Object.assign({}, m, { pointer: ptr });
          if (m.unTag !== void 0) {
            todo.unTag = m.unTag;
          }
          results.push(todo);
        });
        if (opts2.matchOne === true) {
          return [results[0]];
        }
      }
    }
  }
  return results;
};
var runMatch_default = runMatch2;

// node_modules/compromise/src/1-one/sweep/methods/sweep/index.js
var tooSmall = function(maybeList, document2) {
  return maybeList.map((arr, i3) => {
    let termCount = document2[i3].length;
    arr = arr.filter((o2) => {
      return termCount >= o2.minWords;
    });
    return arr;
  });
};
var sweep = function(document2, net, methods18, opts2 = {}) {
  let docCache = methods18.one.cacheDoc(document2);
  let maybeList = getHooks_default(docCache, net.hooks);
  maybeList = trim_down_default(maybeList, docCache, document2);
  if (net.always.length > 0) {
    maybeList = maybeList.map((arr) => arr.concat(net.always));
  }
  maybeList = tooSmall(maybeList, document2);
  let results = runMatch_default(maybeList, document2, docCache, methods18, opts2);
  return results;
};
var sweep_default = sweep;

// node_modules/compromise/src/1-one/sweep/methods/tagger/canBe.js
var canBe = function(terms, tag, model4) {
  let tagSet = model4.one.tagSet;
  if (!tagSet.hasOwnProperty(tag)) {
    return true;
  }
  let not = tagSet[tag].not || [];
  for (let i3 = 0; i3 < terms.length; i3 += 1) {
    let term = terms[i3];
    for (let k2 = 0; k2 < not.length; k2 += 1) {
      if (term.tags.has(not[k2]) === true) {
        return false;
      }
    }
  }
  return true;
};
var canBe_default = canBe;

// node_modules/compromise/src/1-one/sweep/methods/tagger/index.js
var tagger = function(list2, document2, world2) {
  const { model: model4, methods: methods18 } = world2;
  const { getDoc: getDoc4, setTag: setTag2, unTag: unTag2 } = methods18.one;
  const looksPlural = methods18.two.looksPlural;
  if (list2.length === 0) {
    return list2;
  }
  const env = typeof process === "undefined" || !process.env ? self.env || {} : process.env;
  if (env.DEBUG_TAGS) {
    console.log(`

  \x1B[32m\u2192 ${list2.length} post-tagger:\x1B[0m`);
  }
  return list2.map((todo) => {
    if (!todo.tag && !todo.chunk && !todo.unTag) {
      return;
    }
    let reason = todo.reason || todo.match;
    let terms = getDoc4([todo.pointer], document2)[0];
    if (todo.safe === true) {
      if (canBe_default(terms, todo.tag, model4) === false) {
        return;
      }
      if (terms[terms.length - 1].post === "-") {
        return;
      }
    }
    if (todo.tag !== void 0) {
      setTag2(terms, todo.tag, world2, todo.safe, `[post] '${reason}'`);
      if (todo.tag === "Noun" && looksPlural) {
        let term = terms[terms.length - 1];
        if (looksPlural(term.text)) {
          setTag2([term], "Plural", world2, todo.safe, "quick-plural");
        } else {
          setTag2([term], "Singular", world2, todo.safe, "quick-singular");
        }
      }
      if (todo.freeze === true) {
        terms.forEach((term) => term.frozen = true);
      }
    }
    if (todo.unTag !== void 0) {
      unTag2(terms, todo.unTag, world2, todo.safe, reason);
    }
    if (todo.chunk) {
      terms.forEach((t3) => t3.chunk = todo.chunk);
    }
  });
};
var tagger_default = tagger;

// node_modules/compromise/src/1-one/sweep/methods/index.js
var methods_default6 = {
  buildNet: buildNet_default,
  bulkMatch: sweep_default,
  bulkTagger: tagger_default
};

// node_modules/compromise/src/1-one/sweep/plugin.js
var plugin_default10 = {
  lib: lib_default3,
  api: api_default7,
  methods: {
    one: methods_default6
  }
};

// node_modules/compromise/src/1-one/tag/methods/setTag.js
var isMulti = / /;
var addChunk = function(term, tag) {
  if (tag === "Noun") {
    term.chunk = tag;
  }
  if (tag === "Verb") {
    term.chunk = tag;
  }
};
var tagTerm = function(term, tag, tagSet, isSafe) {
  if (term.tags.has(tag) === true) {
    return null;
  }
  if (tag === ".") {
    return null;
  }
  if (term.frozen === true) {
    isSafe = true;
  }
  let known = tagSet[tag];
  if (known) {
    if (known.not && known.not.length > 0) {
      for (let o2 = 0; o2 < known.not.length; o2 += 1) {
        if (isSafe === true && term.tags.has(known.not[o2])) {
          return null;
        }
        term.tags.delete(known.not[o2]);
      }
    }
    if (known.parents && known.parents.length > 0) {
      for (let o2 = 0; o2 < known.parents.length; o2 += 1) {
        term.tags.add(known.parents[o2]);
        addChunk(term, known.parents[o2]);
      }
    }
  }
  term.tags.add(tag);
  term.dirty = true;
  addChunk(term, tag);
  return true;
};
var multiTag = function(terms, tagString2, tagSet, isSafe) {
  let tags = tagString2.split(isMulti);
  terms.forEach((term, i3) => {
    let tag = tags[i3];
    if (tag) {
      tag = tag.replace(/^#/, "");
      tagTerm(term, tag, tagSet, isSafe);
    }
  });
};
var isArray9 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var log = (terms, tag, reason = "") => {
  const yellow = (str2) => "\x1B[33m\x1B[3m" + str2 + "\x1B[0m";
  const i3 = (str2) => "\x1B[3m" + str2 + "\x1B[0m";
  let word = terms.map((t3) => {
    return t3.text || "[" + t3.implicit + "]";
  }).join(" ");
  if (typeof tag !== "string" && tag.length > 2) {
    tag = tag.slice(0, 2).join(", #") + " +";
  }
  tag = typeof tag !== "string" ? tag.join(", #") : tag;
  console.log(` ${yellow(word).padEnd(24)} \x1B[32m\u2192\x1B[0m #${tag.padEnd(22)}  ${i3(reason)}`);
};
var setTag = function(terms, tag, world2 = {}, isSafe, reason) {
  const tagSet = world2.model.one.tagSet || {};
  if (!tag) {
    return;
  }
  const env = typeof process === "undefined" || !process.env ? self.env || {} : process.env;
  if (env && env.DEBUG_TAGS) {
    log(terms, tag, reason);
  }
  if (isArray9(tag) === true) {
    tag.forEach((tg) => setTag(terms, tg, world2, isSafe));
    return;
  }
  if (typeof tag !== "string") {
    console.warn(`compromise: Invalid tag '${tag}'`);
    return;
  }
  tag = tag.trim();
  if (isMulti.test(tag)) {
    multiTag(terms, tag, tagSet, isSafe);
    return;
  }
  tag = tag.replace(/^#/, "");
  for (let i3 = 0; i3 < terms.length; i3 += 1) {
    tagTerm(terms[i3], tag, tagSet, isSafe);
  }
};
var setTag_default = setTag;

// node_modules/compromise/src/1-one/tag/methods/unTag.js
var unTag = function(terms, tag, tagSet) {
  tag = tag.trim().replace(/^#/, "");
  for (let i3 = 0; i3 < terms.length; i3 += 1) {
    let term = terms[i3];
    if (term.frozen === true) {
      continue;
    }
    if (tag === "*") {
      term.tags.clear();
      continue;
    }
    let known = tagSet[tag];
    if (known && known.children.length > 0) {
      for (let o2 = 0; o2 < known.children.length; o2 += 1) {
        term.tags.delete(known.children[o2]);
      }
    }
    term.tags.delete(tag);
  }
};
var unTag_default = unTag;

// node_modules/compromise/src/1-one/tag/methods/canBe.js
var canBe2 = function(term, tag, tagSet) {
  if (!tagSet.hasOwnProperty(tag)) {
    return true;
  }
  let not = tagSet[tag].not || [];
  for (let i3 = 0; i3 < not.length; i3 += 1) {
    if (term.tags.has(not[i3])) {
      return false;
    }
  }
  return true;
};
var canBe_default2 = canBe2;

// node_modules/grad-school/builds/grad-school.mjs
var e = function(e2) {
  return e2.children = e2.children || [], e2._cache = e2._cache || {}, e2.props = e2.props || {}, e2._cache.parents = e2._cache.parents || [], e2._cache.children = e2._cache.children || [], e2;
};
var t2 = /^ *(#|\/\/)/;
var n = function(t3) {
  let n2 = t3.trim().split(/->/), r2 = [];
  n2.forEach((t4) => {
    r2 = r2.concat(function(t5) {
      if (!(t5 = t5.trim()))
        return null;
      if (/^\[/.test(t5) && /\]$/.test(t5)) {
        let n3 = (t5 = (t5 = t5.replace(/^\[/, "")).replace(/\]$/, "")).split(/,/);
        return n3 = n3.map((e2) => e2.trim()).filter((e2) => e2), n3 = n3.map((t6) => e({ id: t6 })), n3;
      }
      return [e({ id: t5 })];
    }(t4));
  }), r2 = r2.filter((e2) => e2);
  let i3 = r2[0];
  for (let e2 = 1; e2 < r2.length; e2 += 1)
    i3.children.push(r2[e2]), i3 = r2[e2];
  return r2[0];
};
var r = (e2, t3) => {
  let n2 = [], r2 = [e2];
  for (; r2.length > 0; ) {
    let e3 = r2.pop();
    n2.push(e3), e3.children && e3.children.forEach((n3) => {
      t3 && t3(e3, n3), r2.push(n3);
    });
  }
  return n2;
};
var i2 = (e2) => "[object Array]" === Object.prototype.toString.call(e2);
var c = (e2) => (e2 = e2 || "").trim();
var s = function(c2 = []) {
  return "string" == typeof c2 ? function(r2) {
    let i3 = r2.split(/\r?\n/), c3 = [];
    i3.forEach((e2) => {
      if (!e2.trim() || t2.test(e2))
        return;
      let r3 = ((e3) => {
        const t3 = /^( {2}|\t)/;
        let n2 = 0;
        for (; t3.test(e3); )
          e3 = e3.replace(t3, ""), n2 += 1;
        return n2;
      })(e2);
      c3.push({ indent: r3, node: n(e2) });
    });
    let s3 = function(e2) {
      let t3 = { children: [] };
      return e2.forEach((n2, r3) => {
        0 === n2.indent ? t3.children = t3.children.concat(n2.node) : e2[r3 - 1] && function(e3, t4) {
          let n3 = e3[t4].indent;
          for (; t4 >= 0; t4 -= 1)
            if (e3[t4].indent < n3)
              return e3[t4];
          return e3[0];
        }(e2, r3).node.children.push(n2.node);
      }), t3;
    }(c3);
    return s3 = e(s3), s3;
  }(c2) : i2(c2) ? function(t3) {
    let n2 = {};
    t3.forEach((e2) => {
      n2[e2.id] = e2;
    });
    let r2 = e({});
    return t3.forEach((t4) => {
      if ((t4 = e(t4)).parent)
        if (n2.hasOwnProperty(t4.parent)) {
          let e2 = n2[t4.parent];
          delete t4.parent, e2.children.push(t4);
        } else
          console.warn(`[Grad] - missing node '${t4.parent}'`);
      else
        r2.children.push(t4);
    }), r2;
  }(c2) : (r(s2 = c2).forEach(e), s2);
  var s2;
};
var h = (e2) => "\x1B[31m" + e2 + "\x1B[0m";
var o = (e2) => "\x1B[2m" + e2 + "\x1B[0m";
var l = function(e2, t3) {
  let n2 = "-> ";
  t3 && (n2 = o("\u2192 "));
  let i3 = "";
  return r(e2).forEach((e3, r2) => {
    let c2 = e3.id || "";
    if (t3 && (c2 = h(c2)), 0 === r2 && !e3.id)
      return;
    let s2 = e3._cache.parents.length;
    i3 += "    ".repeat(s2) + n2 + c2 + "\n";
  }), i3;
};
var a = function(e2) {
  let t3 = r(e2);
  t3.forEach((e3) => {
    delete (e3 = Object.assign({}, e3)).children;
  });
  let n2 = t3[0];
  return n2 && !n2.id && 0 === Object.keys(n2.props).length && t3.shift(), t3;
};
var p = { text: l, txt: l, array: a, flat: a };
var d = function(e2, t3) {
  return "nested" === t3 || "json" === t3 ? e2 : "debug" === t3 ? (console.log(l(e2, true)), null) : p.hasOwnProperty(t3) ? p[t3](e2) : e2;
};
var u = (e2) => {
  r(e2, (e3, t3) => {
    e3.id && (e3._cache.parents = e3._cache.parents || [], t3._cache.parents = e3._cache.parents.concat([e3.id]));
  });
};
var f = (e2, t3) => (Object.keys(t3).forEach((n2) => {
  if (t3[n2] instanceof Set) {
    let r2 = e2[n2] || /* @__PURE__ */ new Set();
    e2[n2] = /* @__PURE__ */ new Set([...r2, ...t3[n2]]);
  } else {
    if (((e3) => e3 && "object" == typeof e3 && !Array.isArray(e3))(t3[n2])) {
      let r2 = e2[n2] || {};
      e2[n2] = Object.assign({}, t3[n2], r2);
    } else
      i2(t3[n2]) ? e2[n2] = t3[n2].concat(e2[n2] || []) : void 0 === e2[n2] && (e2[n2] = t3[n2]);
  }
}), e2);
var j = /\//;
var g2 = class {
  constructor(e2 = {}) {
    Object.defineProperty(this, "json", { enumerable: false, value: e2, writable: true });
  }
  get children() {
    return this.json.children;
  }
  get id() {
    return this.json.id;
  }
  get found() {
    return this.json.id || this.json.children.length > 0;
  }
  props(e2 = {}) {
    let t3 = this.json.props || {};
    return "string" == typeof e2 && (t3[e2] = true), this.json.props = Object.assign(t3, e2), this;
  }
  get(t3) {
    if (t3 = c(t3), !j.test(t3)) {
      let e2 = this.json.children.find((e3) => e3.id === t3);
      return new g2(e2);
    }
    let n2 = ((e2, t4) => {
      let n3 = ((e3) => "string" != typeof e3 ? e3 : (e3 = e3.replace(/^\//, "")).split(/\//))(t4 = t4 || "");
      for (let t5 = 0; t5 < n3.length; t5 += 1) {
        let r2 = e2.children.find((e3) => e3.id === n3[t5]);
        if (!r2)
          return null;
        e2 = r2;
      }
      return e2;
    })(this.json, t3) || e({});
    return new g2(n2);
  }
  add(t3, n2 = {}) {
    if (i2(t3))
      return t3.forEach((e2) => this.add(c(e2), n2)), this;
    t3 = c(t3);
    let r2 = e({ id: t3, props: n2 });
    return this.json.children.push(r2), new g2(r2);
  }
  remove(e2) {
    return e2 = c(e2), this.json.children = this.json.children.filter((t3) => t3.id !== e2), this;
  }
  nodes() {
    return r(this.json).map((e2) => (delete (e2 = Object.assign({}, e2)).children, e2));
  }
  cache() {
    return ((e2) => {
      let t3 = r(e2, (e3, t4) => {
        e3.id && (e3._cache.parents = e3._cache.parents || [], e3._cache.children = e3._cache.children || [], t4._cache.parents = e3._cache.parents.concat([e3.id]));
      }), n2 = {};
      t3.forEach((e3) => {
        e3.id && (n2[e3.id] = e3);
      }), t3.forEach((e3) => {
        e3._cache.parents.forEach((t4) => {
          n2.hasOwnProperty(t4) && n2[t4]._cache.children.push(e3.id);
        });
      }), e2._cache.children = Object.keys(n2);
    })(this.json), this;
  }
  list() {
    return r(this.json);
  }
  fillDown() {
    var e2;
    return e2 = this.json, r(e2, (e3, t3) => {
      t3.props = f(t3.props, e3.props);
    }), this;
  }
  depth() {
    u(this.json);
    let e2 = r(this.json), t3 = e2.length > 1 ? 1 : 0;
    return e2.forEach((e3) => {
      if (0 === e3._cache.parents.length)
        return;
      let n2 = e3._cache.parents.length + 1;
      n2 > t3 && (t3 = n2);
    }), t3;
  }
  out(e2) {
    return u(this.json), d(this.json, e2);
  }
  debug() {
    return u(this.json), d(this.json, "debug"), this;
  }
};
var _ = function(e2) {
  let t3 = s(e2);
  return new g2(t3);
};
_.prototype.plugin = function(e2) {
  e2(this);
};

// node_modules/compromise/src/1-one/tag/methods/addTags/_colors.js
var colors = {
  Noun: "blue",
  Verb: "green",
  Negative: "green",
  Date: "red",
  Value: "red",
  Adjective: "magenta",
  Preposition: "cyan",
  Conjunction: "cyan",
  Determiner: "cyan",
  Hyphenated: "cyan",
  Adverb: "cyan"
};
var colors_default = colors;

// node_modules/compromise/src/1-one/tag/methods/addTags/02-fmt.js
var getColor = function(node) {
  if (colors_default.hasOwnProperty(node.id)) {
    return colors_default[node.id];
  }
  if (colors_default.hasOwnProperty(node.is)) {
    return colors_default[node.is];
  }
  let found = node._cache.parents.find((c2) => colors_default[c2]);
  return colors_default[found];
};
var fmt = function(nodes) {
  const res = {};
  nodes.forEach((node) => {
    let { not, also, is, novel } = node.props;
    let parents = node._cache.parents;
    if (also) {
      parents = parents.concat(also);
    }
    res[node.id] = {
      is,
      not,
      novel,
      also,
      parents,
      children: node._cache.children,
      color: getColor(node)
    };
  });
  Object.keys(res).forEach((k2) => {
    let nots = new Set(res[k2].not);
    res[k2].not.forEach((not) => {
      if (res[not]) {
        res[not].children.forEach((tag) => nots.add(tag));
      }
    });
    res[k2].not = Array.from(nots);
  });
  return res;
};
var fmt_default = fmt;

// node_modules/compromise/src/1-one/tag/methods/addTags/01-validate.js
var toArr = function(input) {
  if (!input) {
    return [];
  }
  if (typeof input === "string") {
    return [input];
  }
  return input;
};
var addImplied = function(tags, already) {
  Object.keys(tags).forEach((k2) => {
    if (tags[k2].isA) {
      tags[k2].is = tags[k2].isA;
    }
    if (tags[k2].notA) {
      tags[k2].not = tags[k2].notA;
    }
    if (tags[k2].is && typeof tags[k2].is === "string") {
      if (!already.hasOwnProperty(tags[k2].is) && !tags.hasOwnProperty(tags[k2].is)) {
        tags[tags[k2].is] = {};
      }
    }
    if (tags[k2].not && typeof tags[k2].not === "string" && !tags.hasOwnProperty(tags[k2].not)) {
      if (!already.hasOwnProperty(tags[k2].not) && !tags.hasOwnProperty(tags[k2].not)) {
        tags[tags[k2].not] = {};
      }
    }
  });
  return tags;
};
var validate = function(tags, already) {
  tags = addImplied(tags, already);
  Object.keys(tags).forEach((k2) => {
    tags[k2].children = toArr(tags[k2].children);
    tags[k2].not = toArr(tags[k2].not);
  });
  Object.keys(tags).forEach((k2) => {
    let nots = tags[k2].not || [];
    nots.forEach((no) => {
      if (tags[no] && tags[no].not) {
        tags[no].not.push(k2);
      }
    });
  });
  return tags;
};
var validate_default = validate;

// node_modules/compromise/src/1-one/tag/methods/addTags/index.js
var compute3 = function(allTags) {
  const flatList = Object.keys(allTags).map((k2) => {
    let o2 = allTags[k2];
    const props = { not: new Set(o2.not), also: o2.also, is: o2.is, novel: o2.novel };
    return { id: k2, parent: o2.is, props, children: [] };
  });
  const graph = _(flatList).cache().fillDown();
  return graph.out("array");
};
var fromUser = function(tags) {
  Object.keys(tags).forEach((k2) => {
    tags[k2] = Object.assign({}, tags[k2]);
    tags[k2].novel = true;
  });
  return tags;
};
var addTags = function(tags, already) {
  if (Object.keys(already).length > 0) {
    tags = fromUser(tags);
  }
  tags = validate_default(tags, already);
  let allTags = Object.assign({}, already, tags);
  const nodes = compute3(allTags);
  const res = fmt_default(nodes);
  return res;
};
var addTags_default = addTags;

// node_modules/compromise/src/1-one/tag/methods/index.js
var methods_default7 = {
  one: {
    setTag: setTag_default,
    unTag: unTag_default,
    addTags: addTags_default,
    canBe: canBe_default2
  }
};

// node_modules/compromise/src/1-one/tag/api/tag.js
var isArray10 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var fns5 = {
  /** add a given tag, to all these terms */
  tag: function(input, reason = "", isSafe) {
    if (!this.found || !input) {
      return this;
    }
    let terms = this.termList();
    if (terms.length === 0) {
      return this;
    }
    const { methods: methods18, verbose: verbose2, world: world2 } = this;
    if (verbose2 === true) {
      console.log(" +  ", input, reason || "");
    }
    if (isArray10(input)) {
      input.forEach((tag) => methods18.one.setTag(terms, tag, world2, isSafe, reason));
    } else {
      methods18.one.setTag(terms, input, world2, isSafe, reason);
    }
    this.uncache();
    return this;
  },
  /** add a given tag, only if it is consistent */
  tagSafe: function(input, reason = "") {
    return this.tag(input, reason, true);
  },
  /** remove a given tag from all these terms */
  unTag: function(input, reason) {
    if (!this.found || !input) {
      return this;
    }
    let terms = this.termList();
    if (terms.length === 0) {
      return this;
    }
    const { methods: methods18, verbose: verbose2, model: model4 } = this;
    if (verbose2 === true) {
      console.log(" -  ", input, reason || "");
    }
    let tagSet = model4.one.tagSet;
    if (isArray10(input)) {
      input.forEach((tag) => methods18.one.unTag(terms, tag, tagSet));
    } else {
      methods18.one.unTag(terms, input, tagSet);
    }
    this.uncache();
    return this;
  },
  /** return only the terms that can be this tag  */
  canBe: function(tag) {
    tag = tag.replace(/^#/, "");
    let tagSet = this.model.one.tagSet;
    let canBe3 = this.methods.one.canBe;
    let nope = [];
    this.document.forEach((terms, n2) => {
      terms.forEach((term, i3) => {
        if (!canBe3(term, tag, tagSet)) {
          nope.push([n2, i3, i3 + 1]);
        }
      });
    });
    let noDoc = this.update(nope);
    return this.difference(noDoc);
  }
};
var tag_default = fns5;

// node_modules/compromise/src/1-one/tag/api/index.js
var tagAPI = function(View2) {
  Object.assign(View2.prototype, tag_default);
};
var api_default8 = tagAPI;

// node_modules/compromise/src/1-one/tag/lib.js
var addTags2 = function(tags) {
  const { model: model4, methods: methods18 } = this.world();
  const tagSet = model4.one.tagSet;
  const fn = methods18.one.addTags;
  let res = fn(tags, tagSet);
  model4.one.tagSet = res;
  return this;
};
var lib_default4 = { addTags: addTags2 };

// node_modules/compromise/src/1-one/tag/compute/tagRank.js
var boringTags = /* @__PURE__ */ new Set(["Auxiliary", "Possessive"]);
var sortByKids = function(tags, tagSet) {
  tags = tags.sort((a2, b) => {
    if (boringTags.has(a2) || !tagSet.hasOwnProperty(b)) {
      return 1;
    }
    if (boringTags.has(b) || !tagSet.hasOwnProperty(a2)) {
      return -1;
    }
    let kids = tagSet[a2].children || [];
    let aKids = kids.length;
    kids = tagSet[b].children || [];
    let bKids = kids.length;
    return aKids - bKids;
  });
  return tags;
};
var tagRank = function(view) {
  const { document: document2, world: world2 } = view;
  const tagSet = world2.model.one.tagSet;
  document2.forEach((terms) => {
    terms.forEach((term) => {
      let tags = Array.from(term.tags);
      term.tagRank = sortByKids(tags, tagSet);
    });
  });
};
var tagRank_default = tagRank;

// node_modules/compromise/src/1-one/tag/plugin.js
var plugin_default11 = {
  model: {
    one: { tagSet: {} }
  },
  compute: {
    tagRank: tagRank_default
  },
  methods: methods_default7,
  api: api_default8,
  lib: lib_default4
};

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/01-simple-split.js
var initSplit = /([.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s)/g;
var splitsOnly = /^[.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s$/;
var newLine = /((?:\r?\n|\r)+)/;
var basicSplit = function(text) {
  let all = [];
  let lines = text.split(newLine);
  for (let i3 = 0; i3 < lines.length; i3++) {
    let arr = lines[i3].split(initSplit);
    for (let o2 = 0; o2 < arr.length; o2++) {
      if (arr[o2 + 1] && splitsOnly.test(arr[o2 + 1]) === true) {
        arr[o2] += arr[o2 + 1];
        arr[o2 + 1] = "";
      }
      if (arr[o2] !== "") {
        all.push(arr[o2]);
      }
    }
  }
  return all;
};
var simple_split_default = basicSplit;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/02-simple-merge.js
var hasLetter = /[a-z0-9\u00C0-\u00FF\u00a9\u00ae\u2000-\u3300\ud000-\udfff]/i;
var hasSomething = /\S/;
var notEmpty = function(splits) {
  let chunks = [];
  for (let i3 = 0; i3 < splits.length; i3++) {
    let s2 = splits[i3];
    if (s2 === void 0 || s2 === "") {
      continue;
    }
    if (hasSomething.test(s2) === false || hasLetter.test(s2) === false) {
      if (chunks[chunks.length - 1]) {
        chunks[chunks.length - 1] += s2;
        continue;
      } else if (splits[i3 + 1]) {
        splits[i3 + 1] = s2 + splits[i3 + 1];
        continue;
      }
    }
    chunks.push(s2);
  }
  return chunks;
};
var simple_merge_default = notEmpty;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/03-smart-merge.js
var smartMerge = function(chunks, world2) {
  const isSentence2 = world2.methods.one.tokenize.isSentence;
  const abbrevs = world2.model.one.abbreviations || /* @__PURE__ */ new Set();
  let sentences = [];
  for (let i3 = 0; i3 < chunks.length; i3++) {
    let c2 = chunks[i3];
    if (chunks[i3 + 1] && isSentence2(c2, abbrevs) === false) {
      chunks[i3 + 1] = c2 + (chunks[i3 + 1] || "");
    } else if (c2 && c2.length > 0) {
      sentences.push(c2);
      chunks[i3] = "";
    }
  }
  return sentences;
};
var smart_merge_default = smartMerge;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/04-quote-merge.js
var MAX_QUOTE = 280;
var pairs = {
  '"': '"',
  // 'StraightDoubleQuotes'
  "\uFF02": "\uFF02",
  // 'StraightDoubleQuotesWide'
  // '\u0027': '\u0027', // 'StraightSingleQuotes'
  "\u201C": "\u201D",
  // 'CommaDoubleQuotes'
  // '\u2018': '\u2019', // 'CommaSingleQuotes'
  "\u201F": "\u201D",
  // 'CurlyDoubleQuotesReversed'
  // '\u201B': '\u2019', // 'CurlySingleQuotesReversed'
  "\u201E": "\u201D",
  // 'LowCurlyDoubleQuotes'
  "\u2E42": "\u201D",
  // 'LowCurlyDoubleQuotesReversed'
  "\u201A": "\u2019",
  // 'LowCurlySingleQuotes'
  "\xAB": "\xBB",
  // 'AngleDoubleQuotes'
  "\u2039": "\u203A",
  // 'AngleSingleQuotes'
  "\u2035": "\u2032",
  // 'PrimeSingleQuotes'
  "\u2036": "\u2033",
  // 'PrimeDoubleQuotes'
  "\u2037": "\u2034",
  // 'PrimeTripleQuotes'
  "\u301D": "\u301E",
  // 'PrimeDoubleQuotes'
  // '\u0060': '\u00B4', // 'PrimeSingleQuotes'
  "\u301F": "\u301E"
  // 'LowPrimeDoubleQuotesReversed'
};
var openQuote = RegExp("[" + Object.keys(pairs).join("") + "]", "g");
var closeQuote = RegExp("[" + Object.values(pairs).join("") + "]", "g");
var closesQuote = function(str2) {
  if (!str2) {
    return false;
  }
  let m = str2.match(closeQuote);
  if (m !== null && m.length === 1) {
    return true;
  }
  return false;
};
var quoteMerge = function(splits) {
  let arr = [];
  for (let i3 = 0; i3 < splits.length; i3 += 1) {
    let split2 = splits[i3];
    let m = split2.match(openQuote);
    if (m !== null && m.length === 1) {
      if (closesQuote(splits[i3 + 1]) && splits[i3 + 1].length < MAX_QUOTE) {
        splits[i3] += splits[i3 + 1];
        arr.push(splits[i3]);
        splits[i3 + 1] = "";
        i3 += 1;
        continue;
      }
      if (closesQuote(splits[i3 + 2])) {
        let toAdd = splits[i3 + 1] + splits[i3 + 2];
        if (toAdd.length < MAX_QUOTE) {
          splits[i3] += toAdd;
          arr.push(splits[i3]);
          splits[i3 + 1] = "";
          splits[i3 + 2] = "";
          i3 += 2;
          continue;
        }
      }
    }
    arr.push(splits[i3]);
  }
  return arr;
};
var quote_merge_default = quoteMerge;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/05-parens-merge.js
var MAX_LEN = 250;
var hasOpen = /\(/g;
var hasClosed = /\)/g;
var mergeParens = function(splits) {
  let arr = [];
  for (let i3 = 0; i3 < splits.length; i3 += 1) {
    let split2 = splits[i3];
    let m = split2.match(hasOpen);
    if (m !== null && m.length === 1) {
      if (splits[i3 + 1] && splits[i3 + 1].length < MAX_LEN) {
        let m2 = splits[i3 + 1].match(hasClosed);
        if (m2 !== null && m.length === 1 && !hasOpen.test(splits[i3 + 1])) {
          splits[i3] += splits[i3 + 1];
          arr.push(splits[i3]);
          splits[i3 + 1] = "";
          i3 += 1;
          continue;
        }
      }
    }
    arr.push(splits[i3]);
  }
  return arr;
};
var parens_merge_default = mergeParens;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/index.js
var hasSomething2 = /\S/;
var startWhitespace = /^\s+/;
var splitSentences = function(text, world2) {
  text = text || "";
  text = String(text);
  if (!text || typeof text !== "string" || hasSomething2.test(text) === false) {
    return [];
  }
  text = text.replace("\xA0", " ");
  let splits = simple_split_default(text);
  let sentences = simple_merge_default(splits);
  sentences = smart_merge_default(sentences, world2);
  sentences = quote_merge_default(sentences);
  sentences = parens_merge_default(sentences);
  if (sentences.length === 0) {
    return [text];
  }
  for (let i3 = 1; i3 < sentences.length; i3 += 1) {
    let ws = sentences[i3].match(startWhitespace);
    if (ws !== null) {
      sentences[i3 - 1] += ws[0];
      sentences[i3] = sentences[i3].replace(startWhitespace, "");
    }
  }
  return sentences;
};
var sentences_default = splitSentences;

// node_modules/compromise/src/1-one/tokenize/methods/02-terms/01-hyphens.js
var hasHyphen2 = function(str2, model4) {
  let parts = str2.split(/[-â€“â€”]/);
  if (parts.length <= 1) {
    return false;
  }
  const { prefixes, suffixes } = model4.one;
  if (parts[0].length === 1 && /[a-z]/i.test(parts[0])) {
    return false;
  }
  if (prefixes.hasOwnProperty(parts[0])) {
    return false;
  }
  parts[1] = parts[1].trim().replace(/[.?!]$/, "");
  if (suffixes.hasOwnProperty(parts[1])) {
    return false;
  }
  let reg = /^([a-z\u00C0-\u00FF`"'/]+)[-â€“â€”]([a-z0-9\u00C0-\u00FF].*)/i;
  if (reg.test(str2) === true) {
    return true;
  }
  let reg2 = /^[('"]?([0-9]{1,4})[-â€“â€”]([a-z\u00C0-\u00FF`"'/-]+[)'"]?$)/i;
  if (reg2.test(str2) === true) {
    return true;
  }
  return false;
};
var splitHyphens2 = function(word) {
  let arr = [];
  const hyphens = word.split(/[-â€“â€”]/);
  let whichDash = "-";
  let found = word.match(/[-â€“â€”]/);
  if (found && found[0]) {
    whichDash = found;
  }
  for (let o2 = 0; o2 < hyphens.length; o2++) {
    if (o2 === hyphens.length - 1) {
      arr.push(hyphens[o2]);
    } else {
      arr.push(hyphens[o2] + whichDash);
    }
  }
  return arr;
};

// node_modules/compromise/src/1-one/tokenize/methods/02-terms/03-ranges.js
var combineRanges = function(arr) {
  const startRange = /^[0-9]{1,4}(:[0-9][0-9])?([a-z]{1,2})? ?[-â€“â€”] ?$/;
  const endRange = /^[0-9]{1,4}([a-z]{1,2})? ?$/;
  for (let i3 = 0; i3 < arr.length - 1; i3 += 1) {
    if (arr[i3 + 1] && startRange.test(arr[i3]) && endRange.test(arr[i3 + 1])) {
      arr[i3] = arr[i3] + arr[i3 + 1];
      arr[i3 + 1] = null;
    }
  }
  return arr;
};
var ranges_default = combineRanges;

// node_modules/compromise/src/1-one/tokenize/methods/02-terms/02-slashes.js
var isSlash = /\p{L} ?\/ ?\p{L}+$/u;
var combineSlashes = function(arr) {
  for (let i3 = 1; i3 < arr.length - 1; i3++) {
    if (isSlash.test(arr[i3])) {
      arr[i3 - 1] += arr[i3] + arr[i3 + 1];
      arr[i3] = null;
      arr[i3 + 1] = null;
    }
  }
  return arr;
};
var slashes_default = combineSlashes;

// node_modules/compromise/src/1-one/tokenize/methods/02-terms/index.js
var wordlike = /\S/;
var isBoundary = /^[!?.]+$/;
var naiiveSplit = /(\S+)/;
var notWord = [
  ".",
  "?",
  "!",
  ":",
  ";",
  "-",
  "\u2013",
  "\u2014",
  "--",
  "...",
  "(",
  ")",
  "[",
  "]",
  '"',
  "'",
  "`",
  "\xAB",
  "\xBB",
  "*",
  "\u2022"
];
notWord = notWord.reduce((h2, c2) => {
  h2[c2] = true;
  return h2;
}, {});
var isArray11 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var splitWords = function(str2, model4) {
  let result = [];
  let arr = [];
  str2 = str2 || "";
  if (typeof str2 === "number") {
    str2 = String(str2);
  }
  if (isArray11(str2)) {
    return str2;
  }
  const words = str2.split(naiiveSplit);
  for (let i3 = 0; i3 < words.length; i3++) {
    if (hasHyphen2(words[i3], model4) === true) {
      arr = arr.concat(splitHyphens2(words[i3]));
      continue;
    }
    arr.push(words[i3]);
  }
  let carry = "";
  for (let i3 = 0; i3 < arr.length; i3++) {
    let word = arr[i3];
    if (wordlike.test(word) === true && notWord.hasOwnProperty(word) === false && isBoundary.test(word) === false) {
      if (result.length > 0) {
        result[result.length - 1] += carry;
        result.push(word);
      } else {
        result.push(carry + word);
      }
      carry = "";
    } else {
      carry += word;
    }
  }
  if (carry) {
    if (result.length === 0) {
      result[0] = "";
    }
    result[result.length - 1] += carry;
  }
  result = slashes_default(result);
  result = ranges_default(result);
  result = result.filter((s2) => s2);
  return result;
};
var terms_default = splitWords;

// node_modules/compromise/src/1-one/tokenize/methods/03-whitespace/tokenize.js
var isLetter = /\p{Letter}/u;
var isNumber = /[\p{Number}\p{Currency_Symbol}]/u;
var hasAcronym = /^[a-z]\.([a-z]\.)+/i;
var chillin = /[sn]['â€™]$/;
var normalizePunctuation = function(str2, model4) {
  let { prePunctuation: prePunctuation2, postPunctuation: postPunctuation2, emoticons: emoticons2 } = model4.one;
  let original = str2;
  let pre = "";
  let post2 = "";
  let chars = Array.from(str2);
  if (emoticons2.hasOwnProperty(str2.trim())) {
    return { str: str2.trim(), pre, post: " " };
  }
  let len = chars.length;
  for (let i3 = 0; i3 < len; i3 += 1) {
    let c2 = chars[0];
    if (prePunctuation2[c2] === true) {
      continue;
    }
    if ((c2 === "+" || c2 === "-") && isNumber.test(chars[1])) {
      break;
    }
    if (c2 === "'" && c2.length === 3 && isNumber.test(chars[1])) {
      break;
    }
    if (isLetter.test(c2) || isNumber.test(c2)) {
      break;
    }
    pre += chars.shift();
  }
  len = chars.length;
  for (let i3 = 0; i3 < len; i3 += 1) {
    let c2 = chars[chars.length - 1];
    if (postPunctuation2[c2] === true) {
      continue;
    }
    if (isLetter.test(c2) || isNumber.test(c2)) {
      break;
    }
    if (c2 === "." && hasAcronym.test(original) === true) {
      continue;
    }
    if (c2 === "'" && chillin.test(original) === true) {
      continue;
    }
    post2 = chars.pop() + post2;
  }
  str2 = chars.join("");
  if (str2 === "") {
    original = original.replace(/ *$/, (after2) => {
      post2 = after2 || "";
      return "";
    });
    str2 = original;
    pre = "";
  }
  return { str: str2, pre, post: post2 };
};
var tokenize_default = normalizePunctuation;

// node_modules/compromise/src/1-one/tokenize/methods/03-whitespace/index.js
var parseTerm = (txt, model4) => {
  let { str: str2, pre, post: post2 } = tokenize_default(txt, model4);
  const parsed = {
    text: str2,
    pre,
    post: post2,
    tags: /* @__PURE__ */ new Set()
  };
  return parsed;
};
var whitespace_default2 = parseTerm;

// node_modules/compromise/src/1-one/tokenize/methods/unicode.js
var killUnicode = function(str2, world2) {
  const unicode2 = world2.model.one.unicode || {};
  str2 = str2 || "";
  let chars = str2.split("");
  chars.forEach((s2, i3) => {
    if (unicode2[s2]) {
      chars[i3] = unicode2[s2];
    }
  });
  return chars.join("");
};
var unicode_default = killUnicode;

// node_modules/compromise/src/1-one/tokenize/compute/normal/01-cleanup.js
var clean = function(str2) {
  str2 = str2 || "";
  str2 = str2.toLowerCase();
  str2 = str2.trim();
  let original = str2;
  str2 = str2.replace(/[,;.!?]+$/, "");
  str2 = str2.replace(/\u2026/g, "...");
  str2 = str2.replace(/\u2013/g, "-");
  if (/^[:;]/.test(str2) === false) {
    str2 = str2.replace(/\.{3,}$/g, "");
    str2 = str2.replace(/[",.!:;?)]+$/g, "");
    str2 = str2.replace(/^['"(]+/g, "");
  }
  str2 = str2.replace(/[\u200B-\u200D\uFEFF]/g, "");
  str2 = str2.trim();
  if (str2 === "") {
    str2 = original;
  }
  str2 = str2.replace(/([0-9]),([0-9])/g, "$1$2");
  return str2;
};
var cleanup_default = clean;

// node_modules/compromise/src/1-one/tokenize/compute/normal/02-acronyms.js
var periodAcronym = /([A-Z]\.)+[A-Z]?,?$/;
var oneLetterAcronym = /^[A-Z]\.,?$/;
var noPeriodAcronym = /[A-Z]{2,}('s|,)?$/;
var lowerCaseAcronym = /([a-z]\.)+[a-z]\.?$/;
var isAcronym = function(str2) {
  if (periodAcronym.test(str2) === true) {
    return true;
  }
  if (lowerCaseAcronym.test(str2) === true) {
    return true;
  }
  if (oneLetterAcronym.test(str2) === true) {
    return true;
  }
  if (noPeriodAcronym.test(str2) === true) {
    return true;
  }
  return false;
};
var doAcronym = function(str2) {
  if (isAcronym(str2)) {
    str2 = str2.replace(/\./g, "");
  }
  return str2;
};
var acronyms_default = doAcronym;

// node_modules/compromise/src/1-one/tokenize/compute/normal/index.js
var normalize = function(term, world2) {
  const killUnicode2 = world2.methods.one.killUnicode;
  let str2 = term.text || "";
  str2 = cleanup_default(str2);
  str2 = killUnicode2(str2, world2);
  str2 = acronyms_default(str2);
  term.normal = str2;
};
var normal_default = normalize;

// node_modules/compromise/src/1-one/tokenize/methods/parse.js
var parse4 = function(input, world2) {
  const { methods: methods18, model: model4 } = world2;
  const { splitSentences: splitSentences2, splitTerms, splitWhitespace } = methods18.one.tokenize;
  input = input || "";
  let sentences = splitSentences2(input, world2);
  input = sentences.map((txt) => {
    let terms = splitTerms(txt, model4);
    terms = terms.map((t3) => splitWhitespace(t3, model4));
    terms.forEach((t3) => {
      normal_default(t3, world2);
    });
    return terms;
  });
  return input;
};
var parse_default2 = parse4;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/is-sentence.js
var isAcronym2 = /[ .][A-Z]\.? *$/i;
var hasEllipse = /(?:\u2026|\.{2,}) *$/;
var hasLetter2 = /\p{L}/u;
var hasPeriod = /\. *$/;
var leadInit = /^[A-Z]\. $/;
var isSentence = function(str2, abbrevs) {
  if (hasLetter2.test(str2) === false) {
    return false;
  }
  if (isAcronym2.test(str2) === true) {
    return false;
  }
  if (str2.length === 3 && leadInit.test(str2)) {
    return false;
  }
  if (hasEllipse.test(str2) === true) {
    return false;
  }
  let txt = str2.replace(/[.!?\u203D\u2E18\u203C\u2047-\u2049] *$/, "");
  let words = txt.split(" ");
  let lastWord = words[words.length - 1].toLowerCase();
  if (abbrevs.hasOwnProperty(lastWord) === true && hasPeriod.test(str2) === true) {
    return false;
  }
  return true;
};
var is_sentence_default = isSentence;

// node_modules/compromise/src/1-one/tokenize/methods/index.js
var methods_default8 = {
  one: {
    killUnicode: unicode_default,
    tokenize: {
      splitSentences: sentences_default,
      isSentence: is_sentence_default,
      splitTerms: terms_default,
      splitWhitespace: whitespace_default2,
      fromString: parse_default2
    }
  }
};

// node_modules/compromise/src/1-one/tokenize/model/aliases.js
var aliases = {
  "&": "and",
  "@": "at",
  "%": "percent",
  "plz": "please",
  "bein": "being"
};
var aliases_default = aliases;

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/misc.js
var misc_default = [
  "approx",
  "apt",
  "bc",
  "cyn",
  "eg",
  "esp",
  "est",
  "etc",
  "ex",
  "exp",
  "prob",
  //probably
  "pron",
  // Pronunciation
  "gal",
  //gallon
  "min",
  "pseud",
  "fig",
  //figure
  "jd",
  "lat",
  //latitude
  "lng",
  //longitude
  "vol",
  //volume
  "fm",
  //not am
  "def",
  //definition
  "misc",
  "plz",
  //please
  "ea",
  //each
  "ps",
  "sec",
  //second
  "pt",
  "pref",
  //preface
  "pl",
  //plural
  "pp",
  //pages
  "qt",
  //quarter
  "fr",
  //french
  "sq",
  "nee",
  //given name at birth
  "ss",
  //ship, or sections
  "tel",
  "temp",
  "vet",
  "ver",
  //version
  "fem",
  //feminine
  "masc",
  //masculine
  "eng",
  //engineering/english
  "adj",
  //adjective
  "vb",
  //verb
  "rb",
  //adverb
  "inf",
  //infinitive
  "situ",
  // in situ
  "vivo",
  "vitro",
  "wr"
  //world record
];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/honorifics.js
var honorifics_default = [
  "adj",
  "adm",
  "adv",
  "asst",
  "atty",
  "bldg",
  "brig",
  "capt",
  "cmdr",
  "comdr",
  "cpl",
  "det",
  "dr",
  "esq",
  "gen",
  "gov",
  "hon",
  "jr",
  "llb",
  "lt",
  "maj",
  "messrs",
  "mlle",
  "mme",
  "mr",
  "mrs",
  "ms",
  "mstr",
  "phd",
  "prof",
  "pvt",
  "rep",
  "reps",
  "res",
  "rev",
  "sen",
  "sens",
  "sfc",
  "sgt",
  "sir",
  "sr",
  "supt",
  "surg"
  //miss
  //misses
];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/months.js
var months_default = ["jan", "feb", "mar", "apr", "jun", "jul", "aug", "sep", "sept", "oct", "nov", "dec"];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/nouns.js
var nouns_default = [
  "ad",
  "al",
  "arc",
  "ba",
  "bl",
  "ca",
  "cca",
  "col",
  "corp",
  "ft",
  "fy",
  "ie",
  "lit",
  "ma",
  "md",
  "pd",
  "tce"
];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/organizations.js
var organizations_default = ["dept", "univ", "assn", "bros", "inc", "ltd", "co"];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/places.js
var places_default = [
  "rd",
  "st",
  "dist",
  "mt",
  "ave",
  "blvd",
  "cl",
  // 'ct',
  "cres",
  "hwy",
  //states
  "ariz",
  "cal",
  "calif",
  "colo",
  "conn",
  "fla",
  "fl",
  "ga",
  "ida",
  "ia",
  "kan",
  "kans",
  "minn",
  "neb",
  "nebr",
  "okla",
  "penna",
  "penn",
  "pa",
  "dak",
  "tenn",
  "tex",
  "ut",
  "vt",
  "va",
  "wis",
  "wisc",
  "wy",
  "wyo",
  "usafa",
  "alta",
  "ont",
  "que",
  "sask"
];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/units.js
var units_default = [
  "dl",
  "ml",
  "gal",
  // 'ft', //ambiguous
  "qt",
  "pt",
  "tbl",
  "tsp",
  "tbsp",
  "km",
  "dm",
  //decimeter
  "cm",
  "mm",
  "mi",
  "td",
  "hr",
  //hour
  "hrs",
  //hour
  "kg",
  "hg",
  "dg",
  //decigram
  "cg",
  //centigram
  "mg",
  //milligram
  "\xB5g",
  //microgram
  "lb",
  //pound
  "oz",
  //ounce
  "sq ft",
  "hz",
  //hertz
  "mps",
  //meters per second
  "mph",
  "kmph",
  //kilometers per hour
  "kb",
  //kilobyte
  "mb",
  //megabyte
  // 'gb', //ambig
  "tb",
  //terabyte
  "lx",
  //lux
  "lm",
  //lumen
  // 'pa', //ambig
  "fl oz",
  //
  "yb"
];

// node_modules/compromise/src/1-one/tokenize/model/lexicon.js
var list = [
  [misc_default],
  [units_default, "Unit"],
  [nouns_default, "Noun"],
  [honorifics_default, "Honorific"],
  [months_default, "Month"],
  [organizations_default, "Organization"],
  [places_default, "Place"]
];
var abbreviations = {};
var lexicon2 = {};
list.forEach((a2) => {
  a2[0].forEach((w) => {
    abbreviations[w] = true;
    lexicon2[w] = "Abbreviation";
    if (a2[1] !== void 0) {
      lexicon2[w] = [lexicon2[w], a2[1]];
    }
  });
});

// node_modules/compromise/src/1-one/tokenize/model/prefixes.js
var prefixes_default = [
  "anti",
  "bi",
  "co",
  "contra",
  "de",
  "extra",
  "infra",
  "inter",
  "intra",
  "macro",
  "micro",
  "mis",
  "mono",
  "multi",
  "peri",
  "pre",
  "pro",
  "proto",
  "pseudo",
  "re",
  "sub",
  "supra",
  "trans",
  "tri",
  "un",
  "out",
  //out-lived
  "ex"
  //ex-wife
  // 'counter',
  // 'mid',
  // 'out',
  // 'non',
  // 'over',
  // 'post',
  // 'semi',
  // 'super', //'super-cool'
  // 'ultra', //'ulta-cool'
  // 'under',
  // 'whole',
].reduce((h2, str2) => {
  h2[str2] = true;
  return h2;
}, {});

// node_modules/compromise/src/1-one/tokenize/model/suffixes.js
var suffixes_default = {
  "like": true,
  "ish": true,
  "less": true,
  "able": true,
  "elect": true,
  "type": true,
  "designate": true
  // 'fold':true,
};

// node_modules/compromise/src/1-one/tokenize/model/unicode.js
var compact = {
  "!": "\xA1",
  "?": "\xBF\u0241",
  '"': '\u201C\u201D"\u275D\u275E',
  "'": "\u2018\u201B\u275B\u275C\u2019",
  "-": "\u2014\u2013",
  a: "\xAA\xC0\xC1\xC2\xC3\xC4\xC5\xE0\xE1\xE2\xE3\xE4\xE5\u0100\u0101\u0102\u0103\u0104\u0105\u01CD\u01CE\u01DE\u01DF\u01E0\u01E1\u01FA\u01FB\u0200\u0201\u0202\u0203\u0226\u0227\u023A\u0386\u0391\u0394\u039B\u03AC\u03B1\u03BB\u0410\u0430\u0466\u0467\u04D0\u04D1\u04D2\u04D3\u019B\xE6",
  b: "\xDF\xFE\u0180\u0181\u0182\u0183\u0184\u0185\u0243\u0392\u03B2\u03D0\u03E6\u0411\u0412\u042A\u042C\u0432\u044A\u044C\u0462\u0463\u048C\u048D",
  c: "\xA2\xA9\xC7\xE7\u0106\u0107\u0108\u0109\u010A\u010B\u010C\u010D\u0186\u0187\u0188\u023B\u023C\u037B\u037C\u03F2\u03F9\u03FD\u03FE\u0421\u0441\u0454\u0480\u0481\u04AA\u04AB",
  d: "\xD0\u010E\u010F\u0110\u0111\u0189\u018A\u0221\u018B\u018C",
  e: "\xC8\xC9\xCA\xCB\xE8\xE9\xEA\xEB\u0112\u0113\u0114\u0115\u0116\u0117\u0118\u0119\u011A\u011B\u0190\u0204\u0205\u0206\u0207\u0228\u0229\u0246\u0247\u0388\u0395\u039E\u03A3\u03AD\u03B5\u03BE\u03F5\u0400\u0401\u0415\u0435\u0450\u0451\u04BC\u04BD\u04BE\u04BF\u04D6\u04D7\u1EC5",
  f: "\u0191\u0192\u03DC\u03DD\u04FA\u04FB\u0492\u0493\u017F",
  g: "\u011C\u011D\u011E\u011F\u0120\u0121\u0122\u0123\u0193\u01E4\u01E5\u01E6\u01E7\u01F4\u01F5",
  h: "\u0124\u0125\u0126\u0127\u0195\u01F6\u021E\u021F\u0389\u0397\u0402\u040A\u040B\u041D\u043D\u0452\u045B\u04A2\u04A3\u04A4\u04A5\u04BA\u04BB\u04C9\u04CA",
  I: "\xCC\xCD\xCE\xCF",
  i: "\xEC\xED\xEE\xEF\u0128\u0129\u012A\u012B\u012C\u012D\u012E\u012F\u0130\u0131\u0196\u0197\u0208\u0209\u020A\u020B\u038A\u0390\u03AA\u03AF\u03B9\u03CA\u0406\u0407\u0456\u0457i\u0307",
  j: "\u0134\u0135\u01F0\u0237\u0248\u0249\u03F3\u0408\u0458",
  k: "\u0136\u0137\u0138\u0198\u0199\u01E8\u01E9\u039A\u03BA\u040C\u0416\u041A\u0436\u043A\u045C\u049A\u049B\u049C\u049D\u049E\u049F\u04A0\u04A1",
  l: "\u0139\u013A\u013B\u013C\u013D\u013E\u013F\u0140\u0141\u0142\u019A\u01AA\u01C0\u01CF\u01D0\u0234\u023D\u0399\u04C0\u04CF",
  m: "\u039C\u03FA\u03FB\u041C\u043C\u04CD\u04CE",
  n: "\xD1\xF1\u0143\u0144\u0145\u0146\u0147\u0148\u0149\u014A\u014B\u019D\u019E\u01F8\u01F9\u0220\u0235\u039D\u03A0\u03AE\u03B7\u03DE\u040D\u0418\u0419\u041B\u041F\u0438\u0439\u043B\u043F\u045D\u048A\u048B\u04C5\u04C6\u04E2\u04E3\u04E4\u04E5\u03C0",
  o: "\xD2\xD3\xD4\xD5\xD6\xD8\xF0\xF2\xF3\xF4\xF5\xF6\xF8\u014C\u014D\u014E\u014F\u0150\u0151\u019F\u01A0\u01A1\u01D1\u01D2\u01EA\u01EB\u01EC\u01ED\u01FE\u01FF\u020C\u020D\u020E\u020F\u022A\u022B\u022C\u022D\u022E\u022F\u0230\u0231\u038C\u0398\u039F\u03B8\u03BF\u03C3\u03CC\u03D5\u03D8\u03D9\u03EC\u03F4\u041E\u0424\u043E\u0472\u0473\u04E6\u04E7\u04E8\u04E9\u04EA\u04EB",
  p: "\u01A4\u03A1\u03C1\u03F7\u03F8\u03FC\u0420\u0440\u048E\u048F\xDE",
  q: "\u024A\u024B",
  r: "\u0154\u0155\u0156\u0157\u0158\u0159\u01A6\u0210\u0211\u0212\u0213\u024C\u024D\u0403\u0413\u042F\u0433\u044F\u0453\u0490\u0491",
  s: "\u015A\u015B\u015C\u015D\u015E\u015F\u0160\u0161\u01A7\u01A8\u0218\u0219\u023F\u0405\u0455",
  t: "\u0162\u0163\u0164\u0165\u0166\u0167\u01AB\u01AC\u01AD\u01AE\u021A\u021B\u0236\u023E\u0393\u03A4\u03C4\u03EE\u0422\u0442",
  u: "\xD9\xDA\xDB\xDC\xF9\xFA\xFB\xFC\u0168\u0169\u016A\u016B\u016C\u016D\u016E\u016F\u0170\u0171\u0172\u0173\u01AF\u01B0\u01B1\u01B2\u01D3\u01D4\u01D5\u01D6\u01D7\u01D8\u01D9\u01DA\u01DB\u01DC\u0214\u0215\u0216\u0217\u0244\u03B0\u03C5\u03CB\u03CD",
  v: "\u03BD\u0474\u0475\u0476\u0477",
  w: "\u0174\u0175\u019C\u03C9\u03CE\u03D6\u03E2\u03E3\u0428\u0429\u0448\u0449\u0461\u047F",
  x: "\xD7\u03A7\u03C7\u03D7\u03F0\u0425\u0445\u04B2\u04B3\u04FC\u04FD\u04FE\u04FF",
  y: "\xDD\xFD\xFF\u0176\u0177\u0178\u01B3\u01B4\u0232\u0233\u024E\u024F\u038E\u03A5\u03AB\u03B3\u03C8\u03D2\u03D3\u03D4\u040E\u0423\u0443\u0447\u045E\u0470\u0471\u04AE\u04AF\u04B0\u04B1\u04EE\u04EF\u04F0\u04F1\u04F2\u04F3",
  z: "\u0179\u017A\u017B\u017C\u017D\u017E\u01B5\u01B6\u0224\u0225\u0240\u0396"
};
var unicode = {};
Object.keys(compact).forEach(function(k2) {
  compact[k2].split("").forEach(function(s2) {
    unicode[s2] = k2;
  });
});
var unicode_default2 = unicode;

// node_modules/compromise/src/1-one/tokenize/model/punctuation.js
var prePunctuation = {
  "#": true,
  //#hastag
  "@": true,
  //@atmention
  "_": true,
  //underscore
  "\xB0": true,
  // '+': true,//+4
  // '\\-',//-4  (escape)
  // '.',//.4
  // zero-width chars
  "\u200B": true,
  "\u200C": true,
  "\u200D": true,
  "\uFEFF": true
};
var postPunctuation = {
  "%": true,
  //88%
  "_": true,
  //underscore
  "\xB0": true,
  //degrees, italian ordinal
  // '\'',// sometimes
  // zero-width chars
  "\u200B": true,
  "\u200C": true,
  "\u200D": true,
  "\uFEFF": true
};
var emoticons = {
  "<3": true,
  "</3": true,
  "<\\3": true,
  ":^P": true,
  ":^p": true,
  ":^O": true,
  ":^3": true
};

// node_modules/compromise/src/1-one/tokenize/model/index.js
var model_default2 = {
  one: {
    aliases: aliases_default,
    abbreviations,
    prefixes: prefixes_default,
    suffixes: suffixes_default,
    prePunctuation,
    postPunctuation,
    lexicon: lexicon2,
    //give this one forward
    unicode: unicode_default2,
    emoticons
  }
};

// node_modules/compromise/src/1-one/tokenize/compute/alias.js
var hasSlash = /\//;
var hasDomain = /[a-z]\.[a-z]/i;
var isMath = /[0-9]/;
var addAliases = function(term, world2) {
  let str2 = term.normal || term.text || term.machine;
  const aliases2 = world2.model.one.aliases;
  if (aliases2.hasOwnProperty(str2)) {
    term.alias = term.alias || [];
    term.alias.push(aliases2[str2]);
  }
  if (hasSlash.test(str2) && !hasDomain.test(str2) && !isMath.test(str2)) {
    let arr = str2.split(hasSlash);
    if (arr.length <= 3) {
      arr.forEach((word) => {
        word = word.trim();
        if (word !== "") {
          term.alias = term.alias || [];
          term.alias.push(word);
        }
      });
    }
  }
  return term;
};
var alias_default = addAliases;

// node_modules/compromise/src/1-one/tokenize/compute/machine.js
var hasDash3 = /^\p{Letter}+-\p{Letter}+$/u;
var doMachine = function(term) {
  let str2 = term.implicit || term.normal || term.text;
  str2 = str2.replace(/['â€™]s$/, "");
  str2 = str2.replace(/s['â€™]$/, "s");
  str2 = str2.replace(/([aeiou][ktrp])in'$/, "$1ing");
  if (hasDash3.test(str2)) {
    str2 = str2.replace(/-/g, "");
  }
  str2 = str2.replace(/^[#@]/, "");
  if (str2 !== term.normal) {
    term.machine = str2;
  }
};
var machine_default = doMachine;

// node_modules/compromise/src/1-one/tokenize/compute/freq.js
var freq = function(view) {
  let docs = view.docs;
  let counts = {};
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      let term = docs[i3][t3];
      let word = term.machine || term.normal;
      counts[word] = counts[word] || 0;
      counts[word] += 1;
    }
  }
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      let term = docs[i3][t3];
      let word = term.machine || term.normal;
      term.freq = counts[word];
    }
  }
};
var freq_default = freq;

// node_modules/compromise/src/1-one/tokenize/compute/offset.js
var offset = function(view) {
  let elapsed = 0;
  let index4 = 0;
  let docs = view.document;
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      let term = docs[i3][t3];
      term.offset = {
        index: index4,
        start: elapsed + term.pre.length,
        length: term.text.length
      };
      elapsed += term.pre.length + term.text.length + term.post.length;
      index4 += 1;
    }
  }
};
var offset_default = offset;

// node_modules/compromise/src/1-one/tokenize/compute/reindex.js
var index3 = function(view) {
  let document2 = view.document;
  for (let n2 = 0; n2 < document2.length; n2 += 1) {
    for (let i3 = 0; i3 < document2[n2].length; i3 += 1) {
      document2[n2][i3].index = [n2, i3];
    }
  }
};
var reindex_default = index3;

// node_modules/compromise/src/1-one/tokenize/compute/wordCount.js
var wordCount2 = function(view) {
  let n2 = 0;
  let docs = view.docs;
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      if (docs[i3][t3].normal === "") {
        continue;
      }
      n2 += 1;
      docs[i3][t3].wordCount = n2;
    }
  }
};
var wordCount_default = wordCount2;

// node_modules/compromise/src/1-one/tokenize/compute/index.js
var termLoop = function(view, fn) {
  let docs = view.docs;
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      fn(docs[i3][t3], view.world);
    }
  }
};
var methods17 = {
  alias: (view) => termLoop(view, alias_default),
  machine: (view) => termLoop(view, machine_default),
  normal: (view) => termLoop(view, normal_default),
  freq: freq_default,
  offset: offset_default,
  index: reindex_default,
  wordCount: wordCount_default
};
var compute_default7 = methods17;

// node_modules/compromise/src/1-one/tokenize/plugin.js
var plugin_default12 = {
  compute: compute_default7,
  methods: methods_default8,
  model: model_default2,
  hooks: ["alias", "machine", "index", "id"]
};

// node_modules/compromise/src/1-one/typeahead/compute.js
var typeahead = function(view) {
  const prefixes = view.model.one.typeahead;
  const docs = view.docs;
  if (docs.length === 0 || Object.keys(prefixes).length === 0) {
    return;
  }
  let lastPhrase = docs[docs.length - 1] || [];
  let lastTerm = lastPhrase[lastPhrase.length - 1];
  if (lastTerm.post) {
    return;
  }
  if (prefixes.hasOwnProperty(lastTerm.normal)) {
    let found = prefixes[lastTerm.normal];
    lastTerm.implicit = found;
    lastTerm.machine = found;
    lastTerm.typeahead = true;
    if (view.compute.preTagger) {
      view.last().unTag("*").compute(["lexicon", "preTagger"]);
    }
  }
};
var compute_default8 = { typeahead };

// node_modules/compromise/src/1-one/typeahead/api.js
var autoFill = function() {
  const docs = this.docs;
  if (docs.length === 0) {
    return this;
  }
  let lastPhrase = docs[docs.length - 1] || [];
  let term = lastPhrase[lastPhrase.length - 1];
  if (term.typeahead === true && term.machine) {
    term.text = term.machine;
    term.normal = term.machine;
  }
  return this;
};
var api2 = function(View2) {
  View2.prototype.autoFill = autoFill;
};
var api_default9 = api2;

// node_modules/compromise/src/1-one/typeahead/lib/allPrefixes.js
var getPrefixes = function(arr, opts2, world2) {
  let index4 = {};
  let collisions = [];
  let existing = world2.prefixes || {};
  arr.forEach((str2) => {
    str2 = str2.toLowerCase().trim();
    let max2 = str2.length;
    if (opts2.max && max2 > opts2.max) {
      max2 = opts2.max;
    }
    for (let size = opts2.min; size < max2; size += 1) {
      let prefix2 = str2.substring(0, size);
      if (opts2.safe && world2.model.one.lexicon.hasOwnProperty(prefix2)) {
        continue;
      }
      if (existing.hasOwnProperty(prefix2) === true) {
        collisions.push(prefix2);
        continue;
      }
      if (index4.hasOwnProperty(prefix2) === true) {
        collisions.push(prefix2);
        continue;
      }
      index4[prefix2] = str2;
    }
  });
  index4 = Object.assign({}, existing, index4);
  collisions.forEach((str2) => {
    delete index4[str2];
  });
  return index4;
};
var allPrefixes_default = getPrefixes;

// node_modules/compromise/src/1-one/typeahead/lib/index.js
var isObject7 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
var defaults2 = {
  safe: true,
  min: 3
};
var prepare = function(words = [], opts2 = {}) {
  let model4 = this.model();
  opts2 = Object.assign({}, defaults2, opts2);
  if (isObject7(words)) {
    Object.assign(model4.one.lexicon, words);
    words = Object.keys(words);
  }
  let prefixes = allPrefixes_default(words, opts2, this.world());
  Object.keys(prefixes).forEach((str2) => {
    if (model4.one.typeahead.hasOwnProperty(str2)) {
      delete model4.one.typeahead[str2];
      return;
    }
    model4.one.typeahead[str2] = prefixes[str2];
  });
  return this;
};
var lib_default5 = {
  typeahead: prepare
};

// node_modules/compromise/src/1-one/typeahead/plugin.js
var model3 = {
  one: {
    typeahead: {}
    //set a blank key-val
  }
};
var plugin_default13 = {
  model: model3,
  api: api_default9,
  lib: lib_default5,
  compute: compute_default8,
  hooks: ["typeahead"]
};

// node_modules/compromise/src/one.js
nlp_default.extend(plugin_default2);
nlp_default.extend(plugin_default8);
nlp_default.extend(plugin_default7);
nlp_default.extend(plugin_default9);
nlp_default.extend(plugin_default11);
nlp_default.plugin(plugin_default3);
nlp_default.extend(plugin_default12);
nlp_default.extend(plugin_default4);
nlp_default.plugin(plugin_default);
nlp_default.extend(plugin_default6);
nlp_default.extend(plugin_default13);
nlp_default.extend(plugin_default5);
nlp_default.extend(plugin_default10);
var one_default = nlp_default;

// src/prompt/prompt.ts
var TEMPLATE_VARIABLES = `{{pre_cursor}}
{{post_cursor}} 
{{active_sentence}} 
{{last_line}}`;
function preparePrompt(editor, template = TEMPLATE_VARIABLES) {
  const cursor = editor.getCursor();
  const preCursor = editor.getRange({ line: 0, ch: 0 }, cursor);
  const postCursor = editor.getRange(cursor, { line: editor.lastLine(), ch: editor.getLine(editor.lastLine()).length });
  const activeSentence = one_default(preCursor).fullSentences().last().out("text");
  const lastLine = editor.getLine(editor.lastLine());
  return renderTemplate(template, {
    pre_cursor: preCursor,
    post_cursor: postCursor,
    active_sentence: activeSentence,
    last_line: lastLine
  });
}
function renderTemplate(template, args) {
  return mustache_default.render(template, args);
}

// src/providers/ollama/provider.ts
var OllamaProvider = class {
  constructor(settins) {
    this.aborted = false;
    this.settings = settins;
    this.client = new Ollama2({ host: this.settings.host });
  }
  async *generate(editor, options) {
    this.aborted = false;
    const prompt = preparePrompt(editor, options.userPrompt);
    const completionIterator = await this.client.generate({
      model: options.model,
      prompt,
      system: options.systemPrompt,
      stream: true,
      options: {
        temperature: options.temperature
      }
    });
    const initialPosition = editor.getCursor();
    let completion = "";
    for await (let response of completionIterator) {
      if (this.aborted) {
        return;
      }
      if (this.cursorMoved(editor, initialPosition)) {
        this.abort();
        return;
      }
      completion += response.response;
      yield completion;
    }
  }
  cursorMoved(editor, initialPosition) {
    const currentPosition = editor.getCursor();
    return currentPosition.line !== initialPosition.line || currentPosition.ch !== initialPosition.ch;
  }
  async abort() {
    if (this.aborted)
      return;
    this.client.abort();
    this.aborted = true;
  }
  async updateModels() {
    const response = await this.client.list();
    this.settings.models = response.models.map((model4) => model4.name);
    return this.settings.models;
  }
  async connectionTest() {
    try {
      await this.client.list();
      return true;
    } catch (error) {
      console.error("Error testing connection:", error);
      return false;
    }
  }
};

// node_modules/openai/internal/qs/formats.mjs
var default_format = "RFC3986";
var formatters = {
  RFC1738: (v) => String(v).replace(/%20/g, "+"),
  RFC3986: (v) => String(v)
};
var RFC1738 = "RFC1738";

// node_modules/openai/internal/qs/utils.mjs
var is_array = Array.isArray;
var hex_table = (() => {
  const array = [];
  for (let i3 = 0; i3 < 256; ++i3) {
    array.push("%" + ((i3 < 16 ? "0" : "") + i3.toString(16)).toUpperCase());
  }
  return array;
})();
var limit = 1024;
var encode = (str2, _defaultEncoder, charset, _kind, format) => {
  if (str2.length === 0) {
    return str2;
  }
  let string = str2;
  if (typeof str2 === "symbol") {
    string = Symbol.prototype.toString.call(str2);
  } else if (typeof str2 !== "string") {
    string = String(str2);
  }
  if (charset === "iso-8859-1") {
    return escape(string).replace(/%u[0-9a-f]{4}/gi, function($0) {
      return "%26%23" + parseInt($0.slice(2), 16) + "%3B";
    });
  }
  let out2 = "";
  for (let j2 = 0; j2 < string.length; j2 += limit) {
    const segment = string.length >= limit ? string.slice(j2, j2 + limit) : string;
    const arr = [];
    for (let i3 = 0; i3 < segment.length; ++i3) {
      let c2 = segment.charCodeAt(i3);
      if (c2 === 45 || // -
      c2 === 46 || // .
      c2 === 95 || // _
      c2 === 126 || // ~
      c2 >= 48 && c2 <= 57 || // 0-9
      c2 >= 65 && c2 <= 90 || // a-z
      c2 >= 97 && c2 <= 122 || // A-Z
      format === RFC1738 && (c2 === 40 || c2 === 41)) {
        arr[arr.length] = segment.charAt(i3);
        continue;
      }
      if (c2 < 128) {
        arr[arr.length] = hex_table[c2];
        continue;
      }
      if (c2 < 2048) {
        arr[arr.length] = hex_table[192 | c2 >> 6] + hex_table[128 | c2 & 63];
        continue;
      }
      if (c2 < 55296 || c2 >= 57344) {
        arr[arr.length] = hex_table[224 | c2 >> 12] + hex_table[128 | c2 >> 6 & 63] + hex_table[128 | c2 & 63];
        continue;
      }
      i3 += 1;
      c2 = 65536 + ((c2 & 1023) << 10 | segment.charCodeAt(i3) & 1023);
      arr[arr.length] = hex_table[240 | c2 >> 18] + hex_table[128 | c2 >> 12 & 63] + hex_table[128 | c2 >> 6 & 63] + hex_table[128 | c2 & 63];
    }
    out2 += arr.join("");
  }
  return out2;
};
function is_buffer(obj) {
  if (!obj || typeof obj !== "object") {
    return false;
  }
  return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));
}
function maybe_map(val, fn) {
  if (is_array(val)) {
    const mapped = [];
    for (let i3 = 0; i3 < val.length; i3 += 1) {
      mapped.push(fn(val[i3]));
    }
    return mapped;
  }
  return fn(val);
}

// node_modules/openai/internal/qs/stringify.mjs
var has2 = Object.prototype.hasOwnProperty;
var array_prefix_generators = {
  brackets(prefix2) {
    return String(prefix2) + "[]";
  },
  comma: "comma",
  indices(prefix2, key) {
    return String(prefix2) + "[" + key + "]";
  },
  repeat(prefix2) {
    return String(prefix2);
  }
};
var is_array2 = Array.isArray;
var push2 = Array.prototype.push;
var push_to_array = function(arr, value_or_array) {
  push2.apply(arr, is_array2(value_or_array) ? value_or_array : [value_or_array]);
};
var to_ISO = Date.prototype.toISOString;
var defaults3 = {
  addQueryPrefix: false,
  allowDots: false,
  allowEmptyArrays: false,
  arrayFormat: "indices",
  charset: "utf-8",
  charsetSentinel: false,
  delimiter: "&",
  encode: true,
  encodeDotInKeys: false,
  encoder: encode,
  encodeValuesOnly: false,
  format: default_format,
  formatter: formatters[default_format],
  /** @deprecated */
  indices: false,
  serializeDate(date) {
    return to_ISO.call(date);
  },
  skipNulls: false,
  strictNullHandling: false
};
function is_non_nullish_primitive(v) {
  return typeof v === "string" || typeof v === "number" || typeof v === "boolean" || typeof v === "symbol" || typeof v === "bigint";
}
var sentinel = {};
function inner_stringify(object, prefix2, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter2, sort2, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {
  let obj = object;
  let tmp_sc = sideChannel;
  let step = 0;
  let find_flag = false;
  while ((tmp_sc = tmp_sc.get(sentinel)) !== void 0 && !find_flag) {
    const pos = tmp_sc.get(object);
    step += 1;
    if (typeof pos !== "undefined") {
      if (pos === step) {
        throw new RangeError("Cyclic object value");
      } else {
        find_flag = true;
      }
    }
    if (typeof tmp_sc.get(sentinel) === "undefined") {
      step = 0;
    }
  }
  if (typeof filter2 === "function") {
    obj = filter2(prefix2, obj);
  } else if (obj instanceof Date) {
    obj = serializeDate == null ? void 0 : serializeDate(obj);
  } else if (generateArrayPrefix === "comma" && is_array2(obj)) {
    obj = maybe_map(obj, function(value) {
      if (value instanceof Date) {
        return serializeDate == null ? void 0 : serializeDate(value);
      }
      return value;
    });
  }
  if (obj === null) {
    if (strictNullHandling) {
      return encoder && !encodeValuesOnly ? (
        // @ts-expect-error
        encoder(prefix2, defaults3.encoder, charset, "key", format)
      ) : prefix2;
    }
    obj = "";
  }
  if (is_non_nullish_primitive(obj) || is_buffer(obj)) {
    if (encoder) {
      const key_value = encodeValuesOnly ? prefix2 : encoder(prefix2, defaults3.encoder, charset, "key", format);
      return [
        (formatter == null ? void 0 : formatter(key_value)) + "=" + // @ts-expect-error
        (formatter == null ? void 0 : formatter(encoder(obj, defaults3.encoder, charset, "value", format)))
      ];
    }
    return [(formatter == null ? void 0 : formatter(prefix2)) + "=" + (formatter == null ? void 0 : formatter(String(obj)))];
  }
  const values = [];
  if (typeof obj === "undefined") {
    return values;
  }
  let obj_keys;
  if (generateArrayPrefix === "comma" && is_array2(obj)) {
    if (encodeValuesOnly && encoder) {
      obj = maybe_map(obj, encoder);
    }
    obj_keys = [{ value: obj.length > 0 ? obj.join(",") || null : void 0 }];
  } else if (is_array2(filter2)) {
    obj_keys = filter2;
  } else {
    const keys = Object.keys(obj);
    obj_keys = sort2 ? keys.sort(sort2) : keys;
  }
  const encoded_prefix = encodeDotInKeys ? String(prefix2).replace(/\./g, "%2E") : String(prefix2);
  const adjusted_prefix = commaRoundTrip && is_array2(obj) && obj.length === 1 ? encoded_prefix + "[]" : encoded_prefix;
  if (allowEmptyArrays && is_array2(obj) && obj.length === 0) {
    return adjusted_prefix + "[]";
  }
  for (let j2 = 0; j2 < obj_keys.length; ++j2) {
    const key = obj_keys[j2];
    const value = (
      // @ts-ignore
      typeof key === "object" && typeof key.value !== "undefined" ? key.value : obj[key]
    );
    if (skipNulls && value === null) {
      continue;
    }
    const encoded_key = allowDots && encodeDotInKeys ? key.replace(/\./g, "%2E") : key;
    const key_prefix = is_array2(obj) ? typeof generateArrayPrefix === "function" ? generateArrayPrefix(adjusted_prefix, encoded_key) : adjusted_prefix : adjusted_prefix + (allowDots ? "." + encoded_key : "[" + encoded_key + "]");
    sideChannel.set(object, step);
    const valueSideChannel = /* @__PURE__ */ new WeakMap();
    valueSideChannel.set(sentinel, sideChannel);
    push_to_array(values, inner_stringify(
      value,
      key_prefix,
      generateArrayPrefix,
      commaRoundTrip,
      allowEmptyArrays,
      strictNullHandling,
      skipNulls,
      encodeDotInKeys,
      // @ts-ignore
      generateArrayPrefix === "comma" && encodeValuesOnly && is_array2(obj) ? null : encoder,
      filter2,
      sort2,
      allowDots,
      serializeDate,
      format,
      formatter,
      encodeValuesOnly,
      charset,
      valueSideChannel
    ));
  }
  return values;
}
function normalize_stringify_options(opts2 = defaults3) {
  if (typeof opts2.allowEmptyArrays !== "undefined" && typeof opts2.allowEmptyArrays !== "boolean") {
    throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");
  }
  if (typeof opts2.encodeDotInKeys !== "undefined" && typeof opts2.encodeDotInKeys !== "boolean") {
    throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");
  }
  if (opts2.encoder !== null && typeof opts2.encoder !== "undefined" && typeof opts2.encoder !== "function") {
    throw new TypeError("Encoder has to be a function.");
  }
  const charset = opts2.charset || defaults3.charset;
  if (typeof opts2.charset !== "undefined" && opts2.charset !== "utf-8" && opts2.charset !== "iso-8859-1") {
    throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
  }
  let format = default_format;
  if (typeof opts2.format !== "undefined") {
    if (!has2.call(formatters, opts2.format)) {
      throw new TypeError("Unknown format option provided.");
    }
    format = opts2.format;
  }
  const formatter = formatters[format];
  let filter2 = defaults3.filter;
  if (typeof opts2.filter === "function" || is_array2(opts2.filter)) {
    filter2 = opts2.filter;
  }
  let arrayFormat;
  if (opts2.arrayFormat && opts2.arrayFormat in array_prefix_generators) {
    arrayFormat = opts2.arrayFormat;
  } else if ("indices" in opts2) {
    arrayFormat = opts2.indices ? "indices" : "repeat";
  } else {
    arrayFormat = defaults3.arrayFormat;
  }
  if ("commaRoundTrip" in opts2 && typeof opts2.commaRoundTrip !== "boolean") {
    throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
  }
  const allowDots = typeof opts2.allowDots === "undefined" ? !!opts2.encodeDotInKeys === true ? true : defaults3.allowDots : !!opts2.allowDots;
  return {
    addQueryPrefix: typeof opts2.addQueryPrefix === "boolean" ? opts2.addQueryPrefix : defaults3.addQueryPrefix,
    // @ts-ignore
    allowDots,
    allowEmptyArrays: typeof opts2.allowEmptyArrays === "boolean" ? !!opts2.allowEmptyArrays : defaults3.allowEmptyArrays,
    arrayFormat,
    charset,
    charsetSentinel: typeof opts2.charsetSentinel === "boolean" ? opts2.charsetSentinel : defaults3.charsetSentinel,
    commaRoundTrip: !!opts2.commaRoundTrip,
    delimiter: typeof opts2.delimiter === "undefined" ? defaults3.delimiter : opts2.delimiter,
    encode: typeof opts2.encode === "boolean" ? opts2.encode : defaults3.encode,
    encodeDotInKeys: typeof opts2.encodeDotInKeys === "boolean" ? opts2.encodeDotInKeys : defaults3.encodeDotInKeys,
    encoder: typeof opts2.encoder === "function" ? opts2.encoder : defaults3.encoder,
    encodeValuesOnly: typeof opts2.encodeValuesOnly === "boolean" ? opts2.encodeValuesOnly : defaults3.encodeValuesOnly,
    filter: filter2,
    format,
    formatter,
    serializeDate: typeof opts2.serializeDate === "function" ? opts2.serializeDate : defaults3.serializeDate,
    skipNulls: typeof opts2.skipNulls === "boolean" ? opts2.skipNulls : defaults3.skipNulls,
    // @ts-ignore
    sort: typeof opts2.sort === "function" ? opts2.sort : null,
    strictNullHandling: typeof opts2.strictNullHandling === "boolean" ? opts2.strictNullHandling : defaults3.strictNullHandling
  };
}
function stringify(object, opts2 = {}) {
  let obj = object;
  const options = normalize_stringify_options(opts2);
  let obj_keys;
  let filter2;
  if (typeof options.filter === "function") {
    filter2 = options.filter;
    obj = filter2("", obj);
  } else if (is_array2(options.filter)) {
    filter2 = options.filter;
    obj_keys = filter2;
  }
  const keys = [];
  if (typeof obj !== "object" || obj === null) {
    return "";
  }
  const generateArrayPrefix = array_prefix_generators[options.arrayFormat];
  const commaRoundTrip = generateArrayPrefix === "comma" && options.commaRoundTrip;
  if (!obj_keys) {
    obj_keys = Object.keys(obj);
  }
  if (options.sort) {
    obj_keys.sort(options.sort);
  }
  const sideChannel = /* @__PURE__ */ new WeakMap();
  for (let i3 = 0; i3 < obj_keys.length; ++i3) {
    const key = obj_keys[i3];
    if (options.skipNulls && obj[key] === null) {
      continue;
    }
    push_to_array(keys, inner_stringify(
      obj[key],
      key,
      // @ts-expect-error
      generateArrayPrefix,
      commaRoundTrip,
      options.allowEmptyArrays,
      options.strictNullHandling,
      options.skipNulls,
      options.encodeDotInKeys,
      options.encode ? options.encoder : null,
      options.filter,
      options.sort,
      options.allowDots,
      options.serializeDate,
      options.format,
      options.formatter,
      options.encodeValuesOnly,
      options.charset,
      sideChannel
    ));
  }
  const joined = keys.join(options.delimiter);
  let prefix2 = options.addQueryPrefix === true ? "?" : "";
  if (options.charsetSentinel) {
    if (options.charset === "iso-8859-1") {
      prefix2 += "utf8=%26%2310003%3B&";
    } else {
      prefix2 += "utf8=%E2%9C%93&";
    }
  }
  return joined.length > 0 ? prefix2 + joined : "";
}

// node_modules/openai/version.mjs
var VERSION = "4.88.0";

// node_modules/openai/_shims/registry.mjs
var auto = false;
var kind = void 0;
var fetch3 = void 0;
var Request3 = void 0;
var Response3 = void 0;
var Headers3 = void 0;
var FormData2 = void 0;
var Blob2 = void 0;
var File2 = void 0;
var ReadableStream2 = void 0;
var getMultipartRequestOptions = void 0;
var getDefaultAgent = void 0;
var fileFromPath = void 0;
var isFsReadStream = void 0;
function setShims(shims, options = { auto: false }) {
  if (auto) {
    throw new Error(`you must \`import 'openai/shims/${shims.kind}'\` before importing anything else from openai`);
  }
  if (kind) {
    throw new Error(`can't \`import 'openai/shims/${shims.kind}'\` after \`import 'openai/shims/${kind}'\``);
  }
  auto = options.auto;
  kind = shims.kind;
  fetch3 = shims.fetch;
  Request3 = shims.Request;
  Response3 = shims.Response;
  Headers3 = shims.Headers;
  FormData2 = shims.FormData;
  Blob2 = shims.Blob;
  File2 = shims.File;
  ReadableStream2 = shims.ReadableStream;
  getMultipartRequestOptions = shims.getMultipartRequestOptions;
  getDefaultAgent = shims.getDefaultAgent;
  fileFromPath = shims.fileFromPath;
  isFsReadStream = shims.isFsReadStream;
}

// node_modules/openai/_shims/MultipartBody.mjs
var MultipartBody = class {
  constructor(body) {
    this.body = body;
  }
  get [Symbol.toStringTag]() {
    return "MultipartBody";
  }
};

// node_modules/openai/_shims/web-runtime.mjs
function getRuntime({ manuallyImported } = {}) {
  const recommendation = manuallyImported ? `You may need to use polyfills` : `Add one of these imports before your first \`import \u2026 from 'openai'\`:
- \`import 'openai/shims/node'\` (if you're running on Node)
- \`import 'openai/shims/web'\` (otherwise)
`;
  let _fetch, _Request, _Response, _Headers;
  try {
    _fetch = fetch;
    _Request = Request;
    _Response = Response;
    _Headers = Headers;
  } catch (error) {
    throw new Error(`this environment is missing the following Web Fetch API type: ${error.message}. ${recommendation}`);
  }
  return {
    kind: "web",
    fetch: _fetch,
    Request: _Request,
    Response: _Response,
    Headers: _Headers,
    FormData: (
      // @ts-ignore
      typeof FormData !== "undefined" ? FormData : class FormData {
        // @ts-ignore
        constructor() {
          throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${recommendation}`);
        }
      }
    ),
    Blob: typeof Blob !== "undefined" ? Blob : class Blob {
      constructor() {
        throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${recommendation}`);
      }
    },
    File: (
      // @ts-ignore
      typeof File !== "undefined" ? File : class File {
        // @ts-ignore
        constructor() {
          throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${recommendation}`);
        }
      }
    ),
    ReadableStream: (
      // @ts-ignore
      typeof ReadableStream !== "undefined" ? ReadableStream : class ReadableStream {
        // @ts-ignore
        constructor() {
          throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${recommendation}`);
        }
      }
    ),
    getMultipartRequestOptions: async (form, opts2) => ({
      ...opts2,
      body: new MultipartBody(form)
    }),
    getDefaultAgent: (url) => void 0,
    fileFromPath: () => {
      throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads");
    },
    isFsReadStream: (value) => false
  };
}

// node_modules/openai/_shims/index.mjs
if (!kind)
  setShims(getRuntime(), { auto: true });

// node_modules/openai/error.mjs
var OpenAIError = class extends Error {
};
var APIError = class extends OpenAIError {
  constructor(status, error, message, headers) {
    super(`${APIError.makeMessage(status, error, message)}`);
    this.status = status;
    this.headers = headers;
    this.request_id = headers == null ? void 0 : headers["x-request-id"];
    this.error = error;
    const data = error;
    this.code = data == null ? void 0 : data["code"];
    this.param = data == null ? void 0 : data["param"];
    this.type = data == null ? void 0 : data["type"];
  }
  static makeMessage(status, error, message) {
    const msg = (error == null ? void 0 : error.message) ? typeof error.message === "string" ? error.message : JSON.stringify(error.message) : error ? JSON.stringify(error) : message;
    if (status && msg) {
      return `${status} ${msg}`;
    }
    if (status) {
      return `${status} status code (no body)`;
    }
    if (msg) {
      return msg;
    }
    return "(no status code or body)";
  }
  static generate(status, errorResponse, message, headers) {
    if (!status || !headers) {
      return new APIConnectionError({ message, cause: castToError(errorResponse) });
    }
    const error = errorResponse == null ? void 0 : errorResponse["error"];
    if (status === 400) {
      return new BadRequestError(status, error, message, headers);
    }
    if (status === 401) {
      return new AuthenticationError(status, error, message, headers);
    }
    if (status === 403) {
      return new PermissionDeniedError(status, error, message, headers);
    }
    if (status === 404) {
      return new NotFoundError(status, error, message, headers);
    }
    if (status === 409) {
      return new ConflictError(status, error, message, headers);
    }
    if (status === 422) {
      return new UnprocessableEntityError(status, error, message, headers);
    }
    if (status === 429) {
      return new RateLimitError(status, error, message, headers);
    }
    if (status >= 500) {
      return new InternalServerError(status, error, message, headers);
    }
    return new APIError(status, error, message, headers);
  }
};
var APIUserAbortError = class extends APIError {
  constructor({ message } = {}) {
    super(void 0, void 0, message || "Request was aborted.", void 0);
  }
};
var APIConnectionError = class extends APIError {
  constructor({ message, cause }) {
    super(void 0, void 0, message || "Connection error.", void 0);
    if (cause)
      this.cause = cause;
  }
};
var APIConnectionTimeoutError = class extends APIConnectionError {
  constructor({ message } = {}) {
    super({ message: message != null ? message : "Request timed out." });
  }
};
var BadRequestError = class extends APIError {
};
var AuthenticationError = class extends APIError {
};
var PermissionDeniedError = class extends APIError {
};
var NotFoundError = class extends APIError {
};
var ConflictError = class extends APIError {
};
var UnprocessableEntityError = class extends APIError {
};
var RateLimitError = class extends APIError {
};
var InternalServerError = class extends APIError {
};
var LengthFinishReasonError = class extends OpenAIError {
  constructor() {
    super(`Could not parse response content as the length limit was reached`);
  }
};
var ContentFilterFinishReasonError = class extends OpenAIError {
  constructor() {
    super(`Could not parse response content as the request was rejected by the content filter`);
  }
};

// node_modules/openai/internal/decoders/line.mjs
var __classPrivateFieldSet = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _LineDecoder_carriageReturnIndex;
var LineDecoder = class {
  constructor() {
    _LineDecoder_carriageReturnIndex.set(this, void 0);
    this.buffer = new Uint8Array();
    __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, "f");
  }
  decode(chunk) {
    if (chunk == null) {
      return [];
    }
    const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === "string" ? new TextEncoder().encode(chunk) : chunk;
    let newData = new Uint8Array(this.buffer.length + binaryChunk.length);
    newData.set(this.buffer);
    newData.set(binaryChunk, this.buffer.length);
    this.buffer = newData;
    const lines = [];
    let patternIndex;
    while ((patternIndex = findNewlineIndex(this.buffer, __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f"))) != null) {
      if (patternIndex.carriage && __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f") == null) {
        __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, patternIndex.index, "f");
        continue;
      }
      if (__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f") != null && (patternIndex.index !== __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f") + 1 || patternIndex.carriage)) {
        lines.push(this.decodeText(this.buffer.slice(0, __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f") - 1)));
        this.buffer = this.buffer.slice(__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f"));
        __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, "f");
        continue;
      }
      const endIndex = __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f") !== null ? patternIndex.preceding - 1 : patternIndex.preceding;
      const line = this.decodeText(this.buffer.slice(0, endIndex));
      lines.push(line);
      this.buffer = this.buffer.slice(patternIndex.index);
      __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, "f");
    }
    return lines;
  }
  decodeText(bytes) {
    var _a2;
    if (bytes == null)
      return "";
    if (typeof bytes === "string")
      return bytes;
    if (typeof Buffer !== "undefined") {
      if (bytes instanceof Buffer) {
        return bytes.toString();
      }
      if (bytes instanceof Uint8Array) {
        return Buffer.from(bytes).toString();
      }
      throw new OpenAIError(`Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`);
    }
    if (typeof TextDecoder !== "undefined") {
      if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {
        (_a2 = this.textDecoder) != null ? _a2 : this.textDecoder = new TextDecoder("utf8");
        return this.textDecoder.decode(bytes);
      }
      throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`);
    }
    throw new OpenAIError(`Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`);
  }
  flush() {
    if (!this.buffer.length) {
      return [];
    }
    return this.decode("\n");
  }
};
_LineDecoder_carriageReturnIndex = /* @__PURE__ */ new WeakMap();
LineDecoder.NEWLINE_CHARS = /* @__PURE__ */ new Set(["\n", "\r"]);
LineDecoder.NEWLINE_REGEXP = /\r\n|[\n\r]/g;
function findNewlineIndex(buffer, startIndex) {
  const newline = 10;
  const carriage = 13;
  for (let i3 = startIndex != null ? startIndex : 0; i3 < buffer.length; i3++) {
    if (buffer[i3] === newline) {
      return { preceding: i3, index: i3 + 1, carriage: false };
    }
    if (buffer[i3] === carriage) {
      return { preceding: i3, index: i3 + 1, carriage: true };
    }
  }
  return null;
}
function findDoubleNewlineIndex(buffer) {
  const newline = 10;
  const carriage = 13;
  for (let i3 = 0; i3 < buffer.length - 1; i3++) {
    if (buffer[i3] === newline && buffer[i3 + 1] === newline) {
      return i3 + 2;
    }
    if (buffer[i3] === carriage && buffer[i3 + 1] === carriage) {
      return i3 + 2;
    }
    if (buffer[i3] === carriage && buffer[i3 + 1] === newline && i3 + 3 < buffer.length && buffer[i3 + 2] === carriage && buffer[i3 + 3] === newline) {
      return i3 + 4;
    }
  }
  return -1;
}

// node_modules/openai/internal/stream-utils.mjs
function ReadableStreamToAsyncIterable(stream) {
  if (stream[Symbol.asyncIterator])
    return stream;
  const reader = stream.getReader();
  return {
    async next() {
      try {
        const result = await reader.read();
        if (result == null ? void 0 : result.done)
          reader.releaseLock();
        return result;
      } catch (e2) {
        reader.releaseLock();
        throw e2;
      }
    },
    async return() {
      const cancelPromise = reader.cancel();
      reader.releaseLock();
      await cancelPromise;
      return { done: true, value: void 0 };
    },
    [Symbol.asyncIterator]() {
      return this;
    }
  };
}

// node_modules/openai/streaming.mjs
var Stream = class {
  constructor(iterator, controller) {
    this.iterator = iterator;
    this.controller = controller;
  }
  static fromSSEResponse(response, controller) {
    let consumed2 = false;
    async function* iterator() {
      if (consumed2) {
        throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
      }
      consumed2 = true;
      let done = false;
      try {
        for await (const sse of _iterSSEMessages(response, controller)) {
          if (done)
            continue;
          if (sse.data.startsWith("[DONE]")) {
            done = true;
            continue;
          }
          if (sse.event === null || sse.event.startsWith("response.")) {
            let data;
            try {
              data = JSON.parse(sse.data);
            } catch (e2) {
              console.error(`Could not parse message into JSON:`, sse.data);
              console.error(`From chunk:`, sse.raw);
              throw e2;
            }
            if (data && data.error) {
              throw new APIError(void 0, data.error, void 0, void 0);
            }
            yield data;
          } else {
            let data;
            try {
              data = JSON.parse(sse.data);
            } catch (e2) {
              console.error(`Could not parse message into JSON:`, sse.data);
              console.error(`From chunk:`, sse.raw);
              throw e2;
            }
            if (sse.event == "error") {
              throw new APIError(void 0, data.error, data.message, void 0);
            }
            yield { event: sse.event, data };
          }
        }
        done = true;
      } catch (e2) {
        if (e2 instanceof Error && e2.name === "AbortError")
          return;
        throw e2;
      } finally {
        if (!done)
          controller.abort();
      }
    }
    return new Stream(iterator, controller);
  }
  /**
   * Generates a Stream from a newline-separated ReadableStream
   * where each item is a JSON value.
   */
  static fromReadableStream(readableStream, controller) {
    let consumed2 = false;
    async function* iterLines() {
      const lineDecoder = new LineDecoder();
      const iter = ReadableStreamToAsyncIterable(readableStream);
      for await (const chunk of iter) {
        for (const line of lineDecoder.decode(chunk)) {
          yield line;
        }
      }
      for (const line of lineDecoder.flush()) {
        yield line;
      }
    }
    async function* iterator() {
      if (consumed2) {
        throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
      }
      consumed2 = true;
      let done = false;
      try {
        for await (const line of iterLines()) {
          if (done)
            continue;
          if (line)
            yield JSON.parse(line);
        }
        done = true;
      } catch (e2) {
        if (e2 instanceof Error && e2.name === "AbortError")
          return;
        throw e2;
      } finally {
        if (!done)
          controller.abort();
      }
    }
    return new Stream(iterator, controller);
  }
  [Symbol.asyncIterator]() {
    return this.iterator();
  }
  /**
   * Splits the stream into two streams which can be
   * independently read from at different speeds.
   */
  tee() {
    const left = [];
    const right = [];
    const iterator = this.iterator();
    const teeIterator = (queue) => {
      return {
        next: () => {
          if (queue.length === 0) {
            const result = iterator.next();
            left.push(result);
            right.push(result);
          }
          return queue.shift();
        }
      };
    };
    return [
      new Stream(() => teeIterator(left), this.controller),
      new Stream(() => teeIterator(right), this.controller)
    ];
  }
  /**
   * Converts this stream to a newline-separated ReadableStream of
   * JSON stringified values in the stream
   * which can be turned back into a Stream with `Stream.fromReadableStream()`.
   */
  toReadableStream() {
    const self2 = this;
    let iter;
    const encoder = new TextEncoder();
    return new ReadableStream2({
      async start() {
        iter = self2[Symbol.asyncIterator]();
      },
      async pull(ctrl) {
        try {
          const { value, done } = await iter.next();
          if (done)
            return ctrl.close();
          const bytes = encoder.encode(JSON.stringify(value) + "\n");
          ctrl.enqueue(bytes);
        } catch (err) {
          ctrl.error(err);
        }
      },
      async cancel() {
        var _a2;
        await ((_a2 = iter.return) == null ? void 0 : _a2.call(iter));
      }
    });
  }
};
async function* _iterSSEMessages(response, controller) {
  if (!response.body) {
    controller.abort();
    throw new OpenAIError(`Attempted to iterate over a response with no body`);
  }
  const sseDecoder = new SSEDecoder();
  const lineDecoder = new LineDecoder();
  const iter = ReadableStreamToAsyncIterable(response.body);
  for await (const sseChunk of iterSSEChunks(iter)) {
    for (const line of lineDecoder.decode(sseChunk)) {
      const sse = sseDecoder.decode(line);
      if (sse)
        yield sse;
    }
  }
  for (const line of lineDecoder.flush()) {
    const sse = sseDecoder.decode(line);
    if (sse)
      yield sse;
  }
}
async function* iterSSEChunks(iterator) {
  let data = new Uint8Array();
  for await (const chunk of iterator) {
    if (chunk == null) {
      continue;
    }
    const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === "string" ? new TextEncoder().encode(chunk) : chunk;
    let newData = new Uint8Array(data.length + binaryChunk.length);
    newData.set(data);
    newData.set(binaryChunk, data.length);
    data = newData;
    let patternIndex;
    while ((patternIndex = findDoubleNewlineIndex(data)) !== -1) {
      yield data.slice(0, patternIndex);
      data = data.slice(patternIndex);
    }
  }
  if (data.length > 0) {
    yield data;
  }
}
var SSEDecoder = class {
  constructor() {
    this.event = null;
    this.data = [];
    this.chunks = [];
  }
  decode(line) {
    if (line.endsWith("\r")) {
      line = line.substring(0, line.length - 1);
    }
    if (!line) {
      if (!this.event && !this.data.length)
        return null;
      const sse = {
        event: this.event,
        data: this.data.join("\n"),
        raw: this.chunks
      };
      this.event = null;
      this.data = [];
      this.chunks = [];
      return sse;
    }
    this.chunks.push(line);
    if (line.startsWith(":")) {
      return null;
    }
    let [fieldname, _2, value] = partition(line, ":");
    if (value.startsWith(" ")) {
      value = value.substring(1);
    }
    if (fieldname === "event") {
      this.event = value;
    } else if (fieldname === "data") {
      this.data.push(value);
    }
    return null;
  }
};
function partition(str2, delimiter) {
  const index4 = str2.indexOf(delimiter);
  if (index4 !== -1) {
    return [str2.substring(0, index4), delimiter, str2.substring(index4 + delimiter.length)];
  }
  return [str2, "", ""];
}

// node_modules/openai/uploads.mjs
var isResponseLike = (value) => value != null && typeof value === "object" && typeof value.url === "string" && typeof value.blob === "function";
var isFileLike = (value) => value != null && typeof value === "object" && typeof value.name === "string" && typeof value.lastModified === "number" && isBlobLike(value);
var isBlobLike = (value) => value != null && typeof value === "object" && typeof value.size === "number" && typeof value.type === "string" && typeof value.text === "function" && typeof value.slice === "function" && typeof value.arrayBuffer === "function";
var isUploadable = (value) => {
  return isFileLike(value) || isResponseLike(value) || isFsReadStream(value);
};
async function toFile(value, name, options) {
  var _a2, _b, _c;
  value = await value;
  if (isFileLike(value)) {
    return value;
  }
  if (isResponseLike(value)) {
    const blob = await value.blob();
    name || (name = (_a2 = new URL(value.url).pathname.split(/[\\/]/).pop()) != null ? _a2 : "unknown_file");
    const data = isBlobLike(blob) ? [await blob.arrayBuffer()] : [blob];
    return new File2(data, name, options);
  }
  const bits = await getBytes(value);
  name || (name = (_b = getName(value)) != null ? _b : "unknown_file");
  if (!(options == null ? void 0 : options.type)) {
    const type = (_c = bits[0]) == null ? void 0 : _c.type;
    if (typeof type === "string") {
      options = { ...options, type };
    }
  }
  return new File2(bits, name, options);
}
async function getBytes(value) {
  var _a2;
  let parts = [];
  if (typeof value === "string" || ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.
  value instanceof ArrayBuffer) {
    parts.push(value);
  } else if (isBlobLike(value)) {
    parts.push(await value.arrayBuffer());
  } else if (isAsyncIterableIterator(value)) {
    for await (const chunk of value) {
      parts.push(chunk);
    }
  } else {
    throw new Error(`Unexpected data type: ${typeof value}; constructor: ${(_a2 = value == null ? void 0 : value.constructor) == null ? void 0 : _a2.name}; props: ${propsForError(value)}`);
  }
  return parts;
}
function propsForError(value) {
  const props = Object.getOwnPropertyNames(value);
  return `[${props.map((p2) => `"${p2}"`).join(", ")}]`;
}
function getName(value) {
  var _a2;
  return getStringFromMaybeBuffer(value.name) || getStringFromMaybeBuffer(value.filename) || // For fs.ReadStream
  ((_a2 = getStringFromMaybeBuffer(value.path)) == null ? void 0 : _a2.split(/[\\/]/).pop());
}
var getStringFromMaybeBuffer = (x) => {
  if (typeof x === "string")
    return x;
  if (typeof Buffer !== "undefined" && x instanceof Buffer)
    return String(x);
  return void 0;
};
var isAsyncIterableIterator = (value) => value != null && typeof value === "object" && typeof value[Symbol.asyncIterator] === "function";
var isMultipartBody = (body) => body && typeof body === "object" && body.body && body[Symbol.toStringTag] === "MultipartBody";
var multipartFormRequestOptions = async (opts2) => {
  const form = await createForm(opts2.body);
  return getMultipartRequestOptions(form, opts2);
};
var createForm = async (body) => {
  const form = new FormData2();
  await Promise.all(Object.entries(body || {}).map(([key, value]) => addFormValue(form, key, value)));
  return form;
};
var addFormValue = async (form, key, value) => {
  if (value === void 0)
    return;
  if (value == null) {
    throw new TypeError(`Received null for "${key}"; to pass null in FormData, you must use the string 'null'`);
  }
  if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
    form.append(key, String(value));
  } else if (isUploadable(value)) {
    const file = await toFile(value);
    form.append(key, file);
  } else if (Array.isArray(value)) {
    await Promise.all(value.map((entry) => addFormValue(form, key + "[]", entry)));
  } else if (typeof value === "object") {
    await Promise.all(Object.entries(value).map(([name, prop]) => addFormValue(form, `${key}[${name}]`, prop)));
  } else {
    throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`);
  }
};

// node_modules/openai/core.mjs
var __classPrivateFieldSet2 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet2 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _AbstractPage_client;
async function defaultParseResponse(props) {
  var _a2;
  const { response } = props;
  if (props.options.stream) {
    debug4("response", response.status, response.url, response.headers, response.body);
    if (props.options.__streamClass) {
      return props.options.__streamClass.fromSSEResponse(response, props.controller);
    }
    return Stream.fromSSEResponse(response, props.controller);
  }
  if (response.status === 204) {
    return null;
  }
  if (props.options.__binaryResponse) {
    return response;
  }
  const contentType = response.headers.get("content-type");
  const mediaType = (_a2 = contentType == null ? void 0 : contentType.split(";")[0]) == null ? void 0 : _a2.trim();
  const isJSON = (mediaType == null ? void 0 : mediaType.includes("application/json")) || (mediaType == null ? void 0 : mediaType.endsWith("+json"));
  if (isJSON) {
    const json = await response.json();
    debug4("response", response.status, response.url, response.headers, json);
    return _addRequestID(json, response);
  }
  const text = await response.text();
  debug4("response", response.status, response.url, response.headers, text);
  return text;
}
function _addRequestID(value, response) {
  if (!value || typeof value !== "object" || Array.isArray(value)) {
    return value;
  }
  return Object.defineProperty(value, "_request_id", {
    value: response.headers.get("x-request-id"),
    enumerable: false
  });
}
var APIPromise = class extends Promise {
  constructor(responsePromise, parseResponse2 = defaultParseResponse) {
    super((resolve2) => {
      resolve2(null);
    });
    this.responsePromise = responsePromise;
    this.parseResponse = parseResponse2;
  }
  _thenUnwrap(transform) {
    return new APIPromise(this.responsePromise, async (props) => _addRequestID(transform(await this.parseResponse(props), props), props.response));
  }
  /**
   * Gets the raw `Response` instance instead of parsing the response
   * data.
   *
   * If you want to parse the response body but still get the `Response`
   * instance, you can use {@link withResponse()}.
   *
   * ðŸ‘‹ Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` if you can,
   * or add one of these imports before your first `import â€¦ from 'openai'`:
   * - `import 'openai/shims/node'` (if you're running on Node)
   * - `import 'openai/shims/web'` (otherwise)
   */
  asResponse() {
    return this.responsePromise.then((p2) => p2.response);
  }
  /**
   * Gets the parsed response data, the raw `Response` instance and the ID of the request,
   * returned via the X-Request-ID header which is useful for debugging requests and reporting
   * issues to OpenAI.
   *
   * If you just want to get the raw `Response` instance without parsing it,
   * you can use {@link asResponse()}.
   *
   *
   * ðŸ‘‹ Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` if you can,
   * or add one of these imports before your first `import â€¦ from 'openai'`:
   * - `import 'openai/shims/node'` (if you're running on Node)
   * - `import 'openai/shims/web'` (otherwise)
   */
  async withResponse() {
    const [data, response] = await Promise.all([this.parse(), this.asResponse()]);
    return { data, response, request_id: response.headers.get("x-request-id") };
  }
  parse() {
    if (!this.parsedPromise) {
      this.parsedPromise = this.responsePromise.then(this.parseResponse);
    }
    return this.parsedPromise;
  }
  then(onfulfilled, onrejected) {
    return this.parse().then(onfulfilled, onrejected);
  }
  catch(onrejected) {
    return this.parse().catch(onrejected);
  }
  finally(onfinally) {
    return this.parse().finally(onfinally);
  }
};
var APIClient = class {
  constructor({
    baseURL,
    maxRetries = 2,
    timeout = 6e5,
    // 10 minutes
    httpAgent,
    fetch: overriddenFetch
  }) {
    this.baseURL = baseURL;
    this.maxRetries = validatePositiveInteger("maxRetries", maxRetries);
    this.timeout = validatePositiveInteger("timeout", timeout);
    this.httpAgent = httpAgent;
    this.fetch = overriddenFetch != null ? overriddenFetch : fetch3;
  }
  authHeaders(opts2) {
    return {};
  }
  /**
   * Override this to add your own default headers, for example:
   *
   *  {
   *    ...super.defaultHeaders(),
   *    Authorization: 'Bearer 123',
   *  }
   */
  defaultHeaders(opts2) {
    return {
      Accept: "application/json",
      "Content-Type": "application/json",
      "User-Agent": this.getUserAgent(),
      ...getPlatformHeaders(),
      ...this.authHeaders(opts2)
    };
  }
  /**
   * Override this to add your own headers validation:
   */
  validateHeaders(headers, customHeaders) {
  }
  defaultIdempotencyKey() {
    return `stainless-node-retry-${uuid4()}`;
  }
  get(path, opts2) {
    return this.methodRequest("get", path, opts2);
  }
  post(path, opts2) {
    return this.methodRequest("post", path, opts2);
  }
  patch(path, opts2) {
    return this.methodRequest("patch", path, opts2);
  }
  put(path, opts2) {
    return this.methodRequest("put", path, opts2);
  }
  delete(path, opts2) {
    return this.methodRequest("delete", path, opts2);
  }
  methodRequest(method, path, opts2) {
    return this.request(Promise.resolve(opts2).then(async (opts3) => {
      const body = opts3 && isBlobLike(opts3 == null ? void 0 : opts3.body) ? new DataView(await opts3.body.arrayBuffer()) : (opts3 == null ? void 0 : opts3.body) instanceof DataView ? opts3.body : (opts3 == null ? void 0 : opts3.body) instanceof ArrayBuffer ? new DataView(opts3.body) : opts3 && ArrayBuffer.isView(opts3 == null ? void 0 : opts3.body) ? new DataView(opts3.body.buffer) : opts3 == null ? void 0 : opts3.body;
      return { method, path, ...opts3, body };
    }));
  }
  getAPIList(path, Page2, opts2) {
    return this.requestAPIList(Page2, { method: "get", path, ...opts2 });
  }
  calculateContentLength(body) {
    if (typeof body === "string") {
      if (typeof Buffer !== "undefined") {
        return Buffer.byteLength(body, "utf8").toString();
      }
      if (typeof TextEncoder !== "undefined") {
        const encoder = new TextEncoder();
        const encoded = encoder.encode(body);
        return encoded.length.toString();
      }
    } else if (ArrayBuffer.isView(body)) {
      return body.byteLength.toString();
    }
    return null;
  }
  buildRequest(options, { retryCount = 0 } = {}) {
    var _a2, _b, _c, _d, _e, _f;
    options = { ...options };
    const { method, path, query, headers = {} } = options;
    const body = ArrayBuffer.isView(options.body) || options.__binaryRequest && typeof options.body === "string" ? options.body : isMultipartBody(options.body) ? options.body.body : options.body ? JSON.stringify(options.body, null, 2) : null;
    const contentLength = this.calculateContentLength(body);
    const url = this.buildURL(path, query);
    if ("timeout" in options)
      validatePositiveInteger("timeout", options.timeout);
    options.timeout = (_a2 = options.timeout) != null ? _a2 : this.timeout;
    const httpAgent = (_c = (_b = options.httpAgent) != null ? _b : this.httpAgent) != null ? _c : getDefaultAgent(url);
    const minAgentTimeout = options.timeout + 1e3;
    if (typeof ((_d = httpAgent == null ? void 0 : httpAgent.options) == null ? void 0 : _d.timeout) === "number" && minAgentTimeout > ((_e = httpAgent.options.timeout) != null ? _e : 0)) {
      httpAgent.options.timeout = minAgentTimeout;
    }
    if (this.idempotencyHeader && method !== "get") {
      if (!options.idempotencyKey)
        options.idempotencyKey = this.defaultIdempotencyKey();
      headers[this.idempotencyHeader] = options.idempotencyKey;
    }
    const reqHeaders = this.buildHeaders({ options, headers, contentLength, retryCount });
    const req = {
      method,
      ...body && { body },
      headers: reqHeaders,
      ...httpAgent && { agent: httpAgent },
      // @ts-ignore node-fetch uses a custom AbortSignal type that is
      // not compatible with standard web types
      signal: (_f = options.signal) != null ? _f : null
    };
    return { req, url, timeout: options.timeout };
  }
  buildHeaders({ options, headers, contentLength, retryCount }) {
    const reqHeaders = {};
    if (contentLength) {
      reqHeaders["content-length"] = contentLength;
    }
    const defaultHeaders = this.defaultHeaders(options);
    applyHeadersMut(reqHeaders, defaultHeaders);
    applyHeadersMut(reqHeaders, headers);
    if (isMultipartBody(options.body) && kind !== "node") {
      delete reqHeaders["content-type"];
    }
    if (getHeader(defaultHeaders, "x-stainless-retry-count") === void 0 && getHeader(headers, "x-stainless-retry-count") === void 0) {
      reqHeaders["x-stainless-retry-count"] = String(retryCount);
    }
    if (getHeader(defaultHeaders, "x-stainless-timeout") === void 0 && getHeader(headers, "x-stainless-timeout") === void 0 && options.timeout) {
      reqHeaders["x-stainless-timeout"] = String(options.timeout);
    }
    this.validateHeaders(reqHeaders, headers);
    return reqHeaders;
  }
  /**
   * Used as a callback for mutating the given `FinalRequestOptions` object.
   */
  async prepareOptions(options) {
  }
  /**
   * Used as a callback for mutating the given `RequestInit` object.
   *
   * This is useful for cases where you want to add certain headers based off of
   * the request properties, e.g. `method` or `url`.
   */
  async prepareRequest(request, { url, options }) {
  }
  parseHeaders(headers) {
    return !headers ? {} : Symbol.iterator in headers ? Object.fromEntries(Array.from(headers).map((header) => [...header])) : { ...headers };
  }
  makeStatusError(status, error, message, headers) {
    return APIError.generate(status, error, message, headers);
  }
  request(options, remainingRetries = null) {
    return new APIPromise(this.makeRequest(options, remainingRetries));
  }
  async makeRequest(optionsInput, retriesRemaining) {
    var _a2, _b, _c;
    const options = await optionsInput;
    const maxRetries = (_a2 = options.maxRetries) != null ? _a2 : this.maxRetries;
    if (retriesRemaining == null) {
      retriesRemaining = maxRetries;
    }
    await this.prepareOptions(options);
    const { req, url, timeout } = this.buildRequest(options, { retryCount: maxRetries - retriesRemaining });
    await this.prepareRequest(req, { url, options });
    debug4("request", url, options, req.headers);
    if ((_b = options.signal) == null ? void 0 : _b.aborted) {
      throw new APIUserAbortError();
    }
    const controller = new AbortController();
    const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);
    if (response instanceof Error) {
      if ((_c = options.signal) == null ? void 0 : _c.aborted) {
        throw new APIUserAbortError();
      }
      if (retriesRemaining) {
        return this.retryRequest(options, retriesRemaining);
      }
      if (response.name === "AbortError") {
        throw new APIConnectionTimeoutError();
      }
      throw new APIConnectionError({ cause: response });
    }
    const responseHeaders = createResponseHeaders(response.headers);
    if (!response.ok) {
      if (retriesRemaining && this.shouldRetry(response)) {
        const retryMessage2 = `retrying, ${retriesRemaining} attempts remaining`;
        debug4(`response (error; ${retryMessage2})`, response.status, url, responseHeaders);
        return this.retryRequest(options, retriesRemaining, responseHeaders);
      }
      const errText = await response.text().catch((e2) => castToError(e2).message);
      const errJSON = safeJSON(errText);
      const errMessage = errJSON ? void 0 : errText;
      const retryMessage = retriesRemaining ? `(error; no more retries left)` : `(error; not retryable)`;
      debug4(`response (error; ${retryMessage})`, response.status, url, responseHeaders, errMessage);
      const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);
      throw err;
    }
    return { response, options, controller };
  }
  requestAPIList(Page2, options) {
    const request = this.makeRequest(options, null);
    return new PagePromise(this, request, Page2);
  }
  buildURL(path, query) {
    const url = isAbsoluteURL(path) ? new URL(path) : new URL(this.baseURL + (this.baseURL.endsWith("/") && path.startsWith("/") ? path.slice(1) : path));
    const defaultQuery = this.defaultQuery();
    if (!isEmptyObj(defaultQuery)) {
      query = { ...defaultQuery, ...query };
    }
    if (typeof query === "object" && query && !Array.isArray(query)) {
      url.search = this.stringifyQuery(query);
    }
    return url.toString();
  }
  stringifyQuery(query) {
    return Object.entries(query).filter(([_2, value]) => typeof value !== "undefined").map(([key, value]) => {
      if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;
      }
      if (value === null) {
        return `${encodeURIComponent(key)}=`;
      }
      throw new OpenAIError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);
    }).join("&");
  }
  async fetchWithTimeout(url, init, ms, controller) {
    const { signal, ...options } = init || {};
    if (signal)
      signal.addEventListener("abort", () => controller.abort());
    const timeout = setTimeout(() => controller.abort(), ms);
    const fetchOptions = {
      signal: controller.signal,
      ...options
    };
    if (fetchOptions.method) {
      fetchOptions.method = fetchOptions.method.toUpperCase();
    }
    return (
      // use undefined this binding; fetch errors if bound to something else in browser/cloudflare
      this.fetch.call(void 0, url, fetchOptions).finally(() => {
        clearTimeout(timeout);
      })
    );
  }
  shouldRetry(response) {
    const shouldRetryHeader = response.headers.get("x-should-retry");
    if (shouldRetryHeader === "true")
      return true;
    if (shouldRetryHeader === "false")
      return false;
    if (response.status === 408)
      return true;
    if (response.status === 409)
      return true;
    if (response.status === 429)
      return true;
    if (response.status >= 500)
      return true;
    return false;
  }
  async retryRequest(options, retriesRemaining, responseHeaders) {
    var _a2;
    let timeoutMillis;
    const retryAfterMillisHeader = responseHeaders == null ? void 0 : responseHeaders["retry-after-ms"];
    if (retryAfterMillisHeader) {
      const timeoutMs = parseFloat(retryAfterMillisHeader);
      if (!Number.isNaN(timeoutMs)) {
        timeoutMillis = timeoutMs;
      }
    }
    const retryAfterHeader = responseHeaders == null ? void 0 : responseHeaders["retry-after"];
    if (retryAfterHeader && !timeoutMillis) {
      const timeoutSeconds = parseFloat(retryAfterHeader);
      if (!Number.isNaN(timeoutSeconds)) {
        timeoutMillis = timeoutSeconds * 1e3;
      } else {
        timeoutMillis = Date.parse(retryAfterHeader) - Date.now();
      }
    }
    if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1e3)) {
      const maxRetries = (_a2 = options.maxRetries) != null ? _a2 : this.maxRetries;
      timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);
    }
    await sleep(timeoutMillis);
    return this.makeRequest(options, retriesRemaining - 1);
  }
  calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {
    const initialRetryDelay = 0.5;
    const maxRetryDelay = 8;
    const numRetries = maxRetries - retriesRemaining;
    const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);
    const jitter = 1 - Math.random() * 0.25;
    return sleepSeconds * jitter * 1e3;
  }
  getUserAgent() {
    return `${this.constructor.name}/JS ${VERSION}`;
  }
};
var AbstractPage = class {
  constructor(client, response, body, options) {
    _AbstractPage_client.set(this, void 0);
    __classPrivateFieldSet2(this, _AbstractPage_client, client, "f");
    this.options = options;
    this.response = response;
    this.body = body;
  }
  hasNextPage() {
    const items = this.getPaginatedItems();
    if (!items.length)
      return false;
    return this.nextPageInfo() != null;
  }
  async getNextPage() {
    const nextInfo = this.nextPageInfo();
    if (!nextInfo) {
      throw new OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");
    }
    const nextOptions = { ...this.options };
    if ("params" in nextInfo && typeof nextOptions.query === "object") {
      nextOptions.query = { ...nextOptions.query, ...nextInfo.params };
    } else if ("url" in nextInfo) {
      const params = [...Object.entries(nextOptions.query || {}), ...nextInfo.url.searchParams.entries()];
      for (const [key, value] of params) {
        nextInfo.url.searchParams.set(key, value);
      }
      nextOptions.query = void 0;
      nextOptions.path = nextInfo.url.toString();
    }
    return await __classPrivateFieldGet2(this, _AbstractPage_client, "f").requestAPIList(this.constructor, nextOptions);
  }
  async *iterPages() {
    let page = this;
    yield page;
    while (page.hasNextPage()) {
      page = await page.getNextPage();
      yield page;
    }
  }
  async *[(_AbstractPage_client = /* @__PURE__ */ new WeakMap(), Symbol.asyncIterator)]() {
    for await (const page of this.iterPages()) {
      for (const item of page.getPaginatedItems()) {
        yield item;
      }
    }
  }
};
var PagePromise = class extends APIPromise {
  constructor(client, request, Page2) {
    super(request, async (props) => new Page2(client, props.response, await defaultParseResponse(props), props.options));
  }
  /**
   * Allow auto-paginating iteration on an unawaited list call, eg:
   *
   *    for await (const item of client.items.list()) {
   *      console.log(item)
   *    }
   */
  async *[Symbol.asyncIterator]() {
    const page = await this;
    for await (const item of page) {
      yield item;
    }
  }
};
var createResponseHeaders = (headers) => {
  return new Proxy(Object.fromEntries(
    // @ts-ignore
    headers.entries()
  ), {
    get(target, name) {
      const key = name.toString();
      return target[key.toLowerCase()] || target[key];
    }
  });
};
var requestOptionsKeys = {
  method: true,
  path: true,
  query: true,
  body: true,
  headers: true,
  maxRetries: true,
  stream: true,
  timeout: true,
  httpAgent: true,
  signal: true,
  idempotencyKey: true,
  __metadata: true,
  __binaryRequest: true,
  __binaryResponse: true,
  __streamClass: true
};
var isRequestOptions = (obj) => {
  return typeof obj === "object" && obj !== null && !isEmptyObj(obj) && Object.keys(obj).every((k2) => hasOwn(requestOptionsKeys, k2));
};
var getPlatformProperties = () => {
  var _a2, _b;
  if (typeof Deno !== "undefined" && Deno.build != null) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(Deno.build.os),
      "X-Stainless-Arch": normalizeArch(Deno.build.arch),
      "X-Stainless-Runtime": "deno",
      "X-Stainless-Runtime-Version": typeof Deno.version === "string" ? Deno.version : (_b = (_a2 = Deno.version) == null ? void 0 : _a2.deno) != null ? _b : "unknown"
    };
  }
  if (typeof EdgeRuntime !== "undefined") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": `other:${EdgeRuntime}`,
      "X-Stainless-Runtime": "edge",
      "X-Stainless-Runtime-Version": process.version
    };
  }
  if (Object.prototype.toString.call(typeof process !== "undefined" ? process : 0) === "[object process]") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(process.platform),
      "X-Stainless-Arch": normalizeArch(process.arch),
      "X-Stainless-Runtime": "node",
      "X-Stainless-Runtime-Version": process.version
    };
  }
  const browserInfo = getBrowserInfo();
  if (browserInfo) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": "unknown",
      "X-Stainless-Runtime": `browser:${browserInfo.browser}`,
      "X-Stainless-Runtime-Version": browserInfo.version
    };
  }
  return {
    "X-Stainless-Lang": "js",
    "X-Stainless-Package-Version": VERSION,
    "X-Stainless-OS": "Unknown",
    "X-Stainless-Arch": "unknown",
    "X-Stainless-Runtime": "unknown",
    "X-Stainless-Runtime-Version": "unknown"
  };
};
function getBrowserInfo() {
  if (typeof navigator === "undefined" || !navigator) {
    return null;
  }
  const browserPatterns = [
    { key: "edge", pattern: /Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "chrome", pattern: /Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "firefox", pattern: /Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "safari", pattern: /(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/ }
  ];
  for (const { key, pattern } of browserPatterns) {
    const match2 = pattern.exec(navigator.userAgent);
    if (match2) {
      const major = match2[1] || 0;
      const minor = match2[2] || 0;
      const patch = match2[3] || 0;
      return { browser: key, version: `${major}.${minor}.${patch}` };
    }
  }
  return null;
}
var normalizeArch = (arch) => {
  if (arch === "x32")
    return "x32";
  if (arch === "x86_64" || arch === "x64")
    return "x64";
  if (arch === "arm")
    return "arm";
  if (arch === "aarch64" || arch === "arm64")
    return "arm64";
  if (arch)
    return `other:${arch}`;
  return "unknown";
};
var normalizePlatform = (platform) => {
  platform = platform.toLowerCase();
  if (platform.includes("ios"))
    return "iOS";
  if (platform === "android")
    return "Android";
  if (platform === "darwin")
    return "MacOS";
  if (platform === "win32")
    return "Windows";
  if (platform === "freebsd")
    return "FreeBSD";
  if (platform === "openbsd")
    return "OpenBSD";
  if (platform === "linux")
    return "Linux";
  if (platform)
    return `Other:${platform}`;
  return "Unknown";
};
var _platformHeaders;
var getPlatformHeaders = () => {
  return _platformHeaders != null ? _platformHeaders : _platformHeaders = getPlatformProperties();
};
var safeJSON = (text) => {
  try {
    return JSON.parse(text);
  } catch (err) {
    return void 0;
  }
};
var startsWithSchemeRegexp = /^[a-z][a-z0-9+.-]*:/i;
var isAbsoluteURL = (url) => {
  return startsWithSchemeRegexp.test(url);
};
var sleep = (ms) => new Promise((resolve2) => setTimeout(resolve2, ms));
var validatePositiveInteger = (name, n2) => {
  if (typeof n2 !== "number" || !Number.isInteger(n2)) {
    throw new OpenAIError(`${name} must be an integer`);
  }
  if (n2 < 0) {
    throw new OpenAIError(`${name} must be a positive integer`);
  }
  return n2;
};
var castToError = (err) => {
  if (err instanceof Error)
    return err;
  if (typeof err === "object" && err !== null) {
    try {
      return new Error(JSON.stringify(err));
    } catch (e2) {
    }
  }
  return new Error(err);
};
var readEnv = (env) => {
  var _a2, _b, _c, _d, _e, _f;
  if (typeof process !== "undefined") {
    return (_c = (_b = (_a2 = process.env) == null ? void 0 : _a2[env]) == null ? void 0 : _b.trim()) != null ? _c : void 0;
  }
  if (typeof Deno !== "undefined") {
    return (_f = (_e = (_d = Deno.env) == null ? void 0 : _d.get) == null ? void 0 : _e.call(_d, env)) == null ? void 0 : _f.trim();
  }
  return void 0;
};
function isEmptyObj(obj) {
  if (!obj)
    return true;
  for (const _k in obj)
    return false;
  return true;
}
function hasOwn(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
}
function applyHeadersMut(targetHeaders, newHeaders) {
  for (const k2 in newHeaders) {
    if (!hasOwn(newHeaders, k2))
      continue;
    const lowerKey = k2.toLowerCase();
    if (!lowerKey)
      continue;
    const val = newHeaders[k2];
    if (val === null) {
      delete targetHeaders[lowerKey];
    } else if (val !== void 0) {
      targetHeaders[lowerKey] = val;
    }
  }
}
var SENSITIVE_HEADERS = /* @__PURE__ */ new Set(["authorization", "api-key"]);
function debug4(action, ...args) {
  var _a2;
  if (typeof process !== "undefined" && ((_a2 = process == null ? void 0 : process.env) == null ? void 0 : _a2["DEBUG"]) === "true") {
    const modifiedArgs = args.map((arg) => {
      if (!arg) {
        return arg;
      }
      if (arg["headers"]) {
        const modifiedArg2 = { ...arg, headers: { ...arg["headers"] } };
        for (const header in arg["headers"]) {
          if (SENSITIVE_HEADERS.has(header.toLowerCase())) {
            modifiedArg2["headers"][header] = "REDACTED";
          }
        }
        return modifiedArg2;
      }
      let modifiedArg = null;
      for (const header in arg) {
        if (SENSITIVE_HEADERS.has(header.toLowerCase())) {
          modifiedArg != null ? modifiedArg : modifiedArg = { ...arg };
          modifiedArg[header] = "REDACTED";
        }
      }
      return modifiedArg != null ? modifiedArg : arg;
    });
    console.log(`OpenAI:DEBUG:${action}`, ...modifiedArgs);
  }
}
var uuid4 = () => {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (c2) => {
    const r2 = Math.random() * 16 | 0;
    const v = c2 === "x" ? r2 : r2 & 3 | 8;
    return v.toString(16);
  });
};
var isRunningInBrowser = () => {
  return (
    // @ts-ignore
    typeof window !== "undefined" && // @ts-ignore
    typeof window.document !== "undefined" && // @ts-ignore
    typeof navigator !== "undefined"
  );
};
var isHeadersProtocol = (headers) => {
  return typeof (headers == null ? void 0 : headers.get) === "function";
};
var getHeader = (headers, header) => {
  var _a2;
  const lowerCasedHeader = header.toLowerCase();
  if (isHeadersProtocol(headers)) {
    const intercapsHeader = ((_a2 = header[0]) == null ? void 0 : _a2.toUpperCase()) + header.substring(1).replace(/([^\w])(\w)/g, (_m, g1, g22) => g1 + g22.toUpperCase());
    for (const key of [header, lowerCasedHeader, header.toUpperCase(), intercapsHeader]) {
      const value = headers.get(key);
      if (value) {
        return value;
      }
    }
  }
  for (const [key, value] of Object.entries(headers)) {
    if (key.toLowerCase() === lowerCasedHeader) {
      if (Array.isArray(value)) {
        if (value.length <= 1)
          return value[0];
        console.warn(`Received ${value.length} entries for the ${header} header, using the first entry.`);
        return value[0];
      }
      return value;
    }
  }
  return void 0;
};
function isObj(obj) {
  return obj != null && typeof obj === "object" && !Array.isArray(obj);
}

// node_modules/openai/pagination.mjs
var Page = class extends AbstractPage {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data || [];
    this.object = body.object;
  }
  getPaginatedItems() {
    var _a2;
    return (_a2 = this.data) != null ? _a2 : [];
  }
  // @deprecated Please use `nextPageInfo()` instead
  /**
   * This page represents a response that isn't actually paginated at the API level
   * so there will never be any next page params.
   */
  nextPageParams() {
    return null;
  }
  nextPageInfo() {
    return null;
  }
};
var CursorPage = class extends AbstractPage {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data || [];
    this.has_more = body.has_more || false;
  }
  getPaginatedItems() {
    var _a2;
    return (_a2 = this.data) != null ? _a2 : [];
  }
  hasNextPage() {
    if (this.has_more === false) {
      return false;
    }
    return super.hasNextPage();
  }
  // @deprecated Please use `nextPageInfo()` instead
  nextPageParams() {
    const info = this.nextPageInfo();
    if (!info)
      return null;
    if ("params" in info)
      return info.params;
    const params = Object.fromEntries(info.url.searchParams);
    if (!Object.keys(params).length)
      return null;
    return params;
  }
  nextPageInfo() {
    var _a2;
    const data = this.getPaginatedItems();
    if (!data.length) {
      return null;
    }
    const id = (_a2 = data[data.length - 1]) == null ? void 0 : _a2.id;
    if (!id) {
      return null;
    }
    return { params: { after: id } };
  }
};

// node_modules/openai/resource.mjs
var APIResource = class {
  constructor(client) {
    this._client = client;
  }
};

// node_modules/openai/resources/chat/completions/messages.mjs
var Messages = class extends APIResource {
  list(completionId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(completionId, {}, query);
    }
    return this._client.getAPIList(`/chat/completions/${completionId}/messages`, ChatCompletionStoreMessagesPage, { query, ...options });
  }
};

// node_modules/openai/resources/chat/completions/completions.mjs
var Completions = class extends APIResource {
  constructor() {
    super(...arguments);
    this.messages = new Messages(this._client);
  }
  create(body, options) {
    var _a2;
    return this._client.post("/chat/completions", { body, ...options, stream: (_a2 = body.stream) != null ? _a2 : false });
  }
  /**
   * Get a stored chat completion. Only Chat Completions that have been created with
   * the `store` parameter set to `true` will be returned.
   */
  retrieve(completionId, options) {
    return this._client.get(`/chat/completions/${completionId}`, options);
  }
  /**
   * Modify a stored chat completion. Only Chat Completions that have been created
   * with the `store` parameter set to `true` can be modified. Currently, the only
   * supported modification is to update the `metadata` field.
   */
  update(completionId, body, options) {
    return this._client.post(`/chat/completions/${completionId}`, { body, ...options });
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/chat/completions", ChatCompletionsPage, { query, ...options });
  }
  /**
   * Delete a stored chat completion. Only Chat Completions that have been created
   * with the `store` parameter set to `true` can be deleted.
   */
  del(completionId, options) {
    return this._client.delete(`/chat/completions/${completionId}`, options);
  }
};
var ChatCompletionsPage = class extends CursorPage {
};
var ChatCompletionStoreMessagesPage = class extends CursorPage {
};
Completions.ChatCompletionsPage = ChatCompletionsPage;
Completions.Messages = Messages;

// node_modules/openai/resources/chat/chat.mjs
var Chat = class extends APIResource {
  constructor() {
    super(...arguments);
    this.completions = new Completions(this._client);
  }
};
Chat.Completions = Completions;
Chat.ChatCompletionsPage = ChatCompletionsPage;

// node_modules/openai/resources/audio/speech.mjs
var Speech = class extends APIResource {
  /**
   * Generates audio from the input text.
   */
  create(body, options) {
    return this._client.post("/audio/speech", {
      body,
      ...options,
      headers: { Accept: "application/octet-stream", ...options == null ? void 0 : options.headers },
      __binaryResponse: true
    });
  }
};

// node_modules/openai/resources/audio/transcriptions.mjs
var Transcriptions = class extends APIResource {
  create(body, options) {
    return this._client.post("/audio/transcriptions", multipartFormRequestOptions({ body, ...options, __metadata: { model: body.model } }));
  }
};

// node_modules/openai/resources/audio/translations.mjs
var Translations = class extends APIResource {
  create(body, options) {
    return this._client.post("/audio/translations", multipartFormRequestOptions({ body, ...options, __metadata: { model: body.model } }));
  }
};

// node_modules/openai/resources/audio/audio.mjs
var Audio = class extends APIResource {
  constructor() {
    super(...arguments);
    this.transcriptions = new Transcriptions(this._client);
    this.translations = new Translations(this._client);
    this.speech = new Speech(this._client);
  }
};
Audio.Transcriptions = Transcriptions;
Audio.Translations = Translations;
Audio.Speech = Speech;

// node_modules/openai/resources/batches.mjs
var Batches = class extends APIResource {
  /**
   * Creates and executes a batch from an uploaded file of requests
   */
  create(body, options) {
    return this._client.post("/batches", { body, ...options });
  }
  /**
   * Retrieves a batch.
   */
  retrieve(batchId, options) {
    return this._client.get(`/batches/${batchId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/batches", BatchesPage, { query, ...options });
  }
  /**
   * Cancels an in-progress batch. The batch will be in status `cancelling` for up to
   * 10 minutes, before changing to `cancelled`, where it will have partial results
   * (if any) available in the output file.
   */
  cancel(batchId, options) {
    return this._client.post(`/batches/${batchId}/cancel`, options);
  }
};
var BatchesPage = class extends CursorPage {
};
Batches.BatchesPage = BatchesPage;

// node_modules/openai/resources/beta/assistants.mjs
var Assistants = class extends APIResource {
  /**
   * Create an assistant with a model and instructions.
   */
  create(body, options) {
    return this._client.post("/assistants", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves an assistant.
   */
  retrieve(assistantId, options) {
    return this._client.get(`/assistants/${assistantId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies an assistant.
   */
  update(assistantId, body, options) {
    return this._client.post(`/assistants/${assistantId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/assistants", AssistantsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete an assistant.
   */
  del(assistantId, options) {
    return this._client.delete(`/assistants/${assistantId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};
var AssistantsPage = class extends CursorPage {
};
Assistants.AssistantsPage = AssistantsPage;

// node_modules/openai/lib/RunnableFunction.mjs
function isRunnableFunctionWithParse(fn) {
  return typeof fn.parse === "function";
}

// node_modules/openai/lib/chatCompletionUtils.mjs
var isAssistantMessage = (message) => {
  return (message == null ? void 0 : message.role) === "assistant";
};
var isFunctionMessage = (message) => {
  return (message == null ? void 0 : message.role) === "function";
};
var isToolMessage = (message) => {
  return (message == null ? void 0 : message.role) === "tool";
};

// node_modules/openai/lib/EventStream.mjs
var __classPrivateFieldSet3 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet3 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _EventStream_instances;
var _EventStream_connectedPromise;
var _EventStream_resolveConnectedPromise;
var _EventStream_rejectConnectedPromise;
var _EventStream_endPromise;
var _EventStream_resolveEndPromise;
var _EventStream_rejectEndPromise;
var _EventStream_listeners;
var _EventStream_ended;
var _EventStream_errored;
var _EventStream_aborted;
var _EventStream_catchingPromiseCreated;
var _EventStream_handleError;
var EventStream = class {
  constructor() {
    _EventStream_instances.add(this);
    this.controller = new AbortController();
    _EventStream_connectedPromise.set(this, void 0);
    _EventStream_resolveConnectedPromise.set(this, () => {
    });
    _EventStream_rejectConnectedPromise.set(this, () => {
    });
    _EventStream_endPromise.set(this, void 0);
    _EventStream_resolveEndPromise.set(this, () => {
    });
    _EventStream_rejectEndPromise.set(this, () => {
    });
    _EventStream_listeners.set(this, {});
    _EventStream_ended.set(this, false);
    _EventStream_errored.set(this, false);
    _EventStream_aborted.set(this, false);
    _EventStream_catchingPromiseCreated.set(this, false);
    __classPrivateFieldSet3(this, _EventStream_connectedPromise, new Promise((resolve2, reject) => {
      __classPrivateFieldSet3(this, _EventStream_resolveConnectedPromise, resolve2, "f");
      __classPrivateFieldSet3(this, _EventStream_rejectConnectedPromise, reject, "f");
    }), "f");
    __classPrivateFieldSet3(this, _EventStream_endPromise, new Promise((resolve2, reject) => {
      __classPrivateFieldSet3(this, _EventStream_resolveEndPromise, resolve2, "f");
      __classPrivateFieldSet3(this, _EventStream_rejectEndPromise, reject, "f");
    }), "f");
    __classPrivateFieldGet3(this, _EventStream_connectedPromise, "f").catch(() => {
    });
    __classPrivateFieldGet3(this, _EventStream_endPromise, "f").catch(() => {
    });
  }
  _run(executor) {
    setTimeout(() => {
      executor().then(() => {
        this._emitFinal();
        this._emit("end");
      }, __classPrivateFieldGet3(this, _EventStream_instances, "m", _EventStream_handleError).bind(this));
    }, 0);
  }
  _connected() {
    if (this.ended)
      return;
    __classPrivateFieldGet3(this, _EventStream_resolveConnectedPromise, "f").call(this);
    this._emit("connect");
  }
  get ended() {
    return __classPrivateFieldGet3(this, _EventStream_ended, "f");
  }
  get errored() {
    return __classPrivateFieldGet3(this, _EventStream_errored, "f");
  }
  get aborted() {
    return __classPrivateFieldGet3(this, _EventStream_aborted, "f");
  }
  abort() {
    this.controller.abort();
  }
  /**
   * Adds the listener function to the end of the listeners array for the event.
   * No checks are made to see if the listener has already been added. Multiple calls passing
   * the same combination of event and listener will result in the listener being added, and
   * called, multiple times.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  on(event, listener) {
    const listeners = __classPrivateFieldGet3(this, _EventStream_listeners, "f")[event] || (__classPrivateFieldGet3(this, _EventStream_listeners, "f")[event] = []);
    listeners.push({ listener });
    return this;
  }
  /**
   * Removes the specified listener from the listener array for the event.
   * off() will remove, at most, one instance of a listener from the listener array. If any single
   * listener has been added multiple times to the listener array for the specified event, then
   * off() must be called multiple times to remove each instance.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  off(event, listener) {
    const listeners = __classPrivateFieldGet3(this, _EventStream_listeners, "f")[event];
    if (!listeners)
      return this;
    const index4 = listeners.findIndex((l2) => l2.listener === listener);
    if (index4 >= 0)
      listeners.splice(index4, 1);
    return this;
  }
  /**
   * Adds a one-time listener function for the event. The next time the event is triggered,
   * this listener is removed and then invoked.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  once(event, listener) {
    const listeners = __classPrivateFieldGet3(this, _EventStream_listeners, "f")[event] || (__classPrivateFieldGet3(this, _EventStream_listeners, "f")[event] = []);
    listeners.push({ listener, once: true });
    return this;
  }
  /**
   * This is similar to `.once()`, but returns a Promise that resolves the next time
   * the event is triggered, instead of calling a listener callback.
   * @returns a Promise that resolves the next time given event is triggered,
   * or rejects if an error is emitted.  (If you request the 'error' event,
   * returns a promise that resolves with the error).
   *
   * Example:
   *
   *   const message = await stream.emitted('message') // rejects if the stream errors
   */
  emitted(event) {
    return new Promise((resolve2, reject) => {
      __classPrivateFieldSet3(this, _EventStream_catchingPromiseCreated, true, "f");
      if (event !== "error")
        this.once("error", reject);
      this.once(event, resolve2);
    });
  }
  async done() {
    __classPrivateFieldSet3(this, _EventStream_catchingPromiseCreated, true, "f");
    await __classPrivateFieldGet3(this, _EventStream_endPromise, "f");
  }
  _emit(event, ...args) {
    if (__classPrivateFieldGet3(this, _EventStream_ended, "f")) {
      return;
    }
    if (event === "end") {
      __classPrivateFieldSet3(this, _EventStream_ended, true, "f");
      __classPrivateFieldGet3(this, _EventStream_resolveEndPromise, "f").call(this);
    }
    const listeners = __classPrivateFieldGet3(this, _EventStream_listeners, "f")[event];
    if (listeners) {
      __classPrivateFieldGet3(this, _EventStream_listeners, "f")[event] = listeners.filter((l2) => !l2.once);
      listeners.forEach(({ listener }) => listener(...args));
    }
    if (event === "abort") {
      const error = args[0];
      if (!__classPrivateFieldGet3(this, _EventStream_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet3(this, _EventStream_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet3(this, _EventStream_rejectEndPromise, "f").call(this, error);
      this._emit("end");
      return;
    }
    if (event === "error") {
      const error = args[0];
      if (!__classPrivateFieldGet3(this, _EventStream_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet3(this, _EventStream_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet3(this, _EventStream_rejectEndPromise, "f").call(this, error);
      this._emit("end");
    }
  }
  _emitFinal() {
  }
};
_EventStream_connectedPromise = /* @__PURE__ */ new WeakMap(), _EventStream_resolveConnectedPromise = /* @__PURE__ */ new WeakMap(), _EventStream_rejectConnectedPromise = /* @__PURE__ */ new WeakMap(), _EventStream_endPromise = /* @__PURE__ */ new WeakMap(), _EventStream_resolveEndPromise = /* @__PURE__ */ new WeakMap(), _EventStream_rejectEndPromise = /* @__PURE__ */ new WeakMap(), _EventStream_listeners = /* @__PURE__ */ new WeakMap(), _EventStream_ended = /* @__PURE__ */ new WeakMap(), _EventStream_errored = /* @__PURE__ */ new WeakMap(), _EventStream_aborted = /* @__PURE__ */ new WeakMap(), _EventStream_catchingPromiseCreated = /* @__PURE__ */ new WeakMap(), _EventStream_instances = /* @__PURE__ */ new WeakSet(), _EventStream_handleError = function _EventStream_handleError2(error) {
  __classPrivateFieldSet3(this, _EventStream_errored, true, "f");
  if (error instanceof Error && error.name === "AbortError") {
    error = new APIUserAbortError();
  }
  if (error instanceof APIUserAbortError) {
    __classPrivateFieldSet3(this, _EventStream_aborted, true, "f");
    return this._emit("abort", error);
  }
  if (error instanceof OpenAIError) {
    return this._emit("error", error);
  }
  if (error instanceof Error) {
    const openAIError = new OpenAIError(error.message);
    openAIError.cause = error;
    return this._emit("error", openAIError);
  }
  return this._emit("error", new OpenAIError(String(error)));
};

// node_modules/openai/lib/parser.mjs
function isAutoParsableResponseFormat(response_format) {
  return (response_format == null ? void 0 : response_format["$brand"]) === "auto-parseable-response-format";
}
function isAutoParsableTool(tool) {
  return (tool == null ? void 0 : tool["$brand"]) === "auto-parseable-tool";
}
function maybeParseChatCompletion(completion, params) {
  if (!params || !hasAutoParseableInput(params)) {
    return {
      ...completion,
      choices: completion.choices.map((choice) => ({
        ...choice,
        message: {
          ...choice.message,
          parsed: null,
          ...choice.message.tool_calls ? {
            tool_calls: choice.message.tool_calls
          } : void 0
        }
      }))
    };
  }
  return parseChatCompletion(completion, params);
}
function parseChatCompletion(completion, params) {
  const choices = completion.choices.map((choice) => {
    var _a2, _b;
    if (choice.finish_reason === "length") {
      throw new LengthFinishReasonError();
    }
    if (choice.finish_reason === "content_filter") {
      throw new ContentFilterFinishReasonError();
    }
    return {
      ...choice,
      message: {
        ...choice.message,
        ...choice.message.tool_calls ? {
          tool_calls: (_b = (_a2 = choice.message.tool_calls) == null ? void 0 : _a2.map((toolCall) => parseToolCall(params, toolCall))) != null ? _b : void 0
        } : void 0,
        parsed: choice.message.content && !choice.message.refusal ? parseResponseFormat(params, choice.message.content) : null
      }
    };
  });
  return { ...completion, choices };
}
function parseResponseFormat(params, content) {
  var _a2, _b;
  if (((_a2 = params.response_format) == null ? void 0 : _a2.type) !== "json_schema") {
    return null;
  }
  if (((_b = params.response_format) == null ? void 0 : _b.type) === "json_schema") {
    if ("$parseRaw" in params.response_format) {
      const response_format = params.response_format;
      return response_format.$parseRaw(content);
    }
    return JSON.parse(content);
  }
  return null;
}
function parseToolCall(params, toolCall) {
  var _a2;
  const inputTool = (_a2 = params.tools) == null ? void 0 : _a2.find((inputTool2) => {
    var _a3;
    return ((_a3 = inputTool2.function) == null ? void 0 : _a3.name) === toolCall.function.name;
  });
  return {
    ...toolCall,
    function: {
      ...toolCall.function,
      parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCall.function.arguments) : (inputTool == null ? void 0 : inputTool.function.strict) ? JSON.parse(toolCall.function.arguments) : null
    }
  };
}
function shouldParseToolCall(params, toolCall) {
  var _a2;
  if (!params) {
    return false;
  }
  const inputTool = (_a2 = params.tools) == null ? void 0 : _a2.find((inputTool2) => {
    var _a3;
    return ((_a3 = inputTool2.function) == null ? void 0 : _a3.name) === toolCall.function.name;
  });
  return isAutoParsableTool(inputTool) || (inputTool == null ? void 0 : inputTool.function.strict) || false;
}
function hasAutoParseableInput(params) {
  var _a2, _b;
  if (isAutoParsableResponseFormat(params.response_format)) {
    return true;
  }
  return (_b = (_a2 = params.tools) == null ? void 0 : _a2.some((t3) => isAutoParsableTool(t3) || t3.type === "function" && t3.function.strict === true)) != null ? _b : false;
}
function validateInputTools(tools) {
  for (const tool of tools != null ? tools : []) {
    if (tool.type !== "function") {
      throw new OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${tool.type}\``);
    }
    if (tool.function.strict !== true) {
      throw new OpenAIError(`The \`${tool.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`);
    }
  }
}

// node_modules/openai/lib/AbstractChatCompletionRunner.mjs
var __classPrivateFieldGet4 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _AbstractChatCompletionRunner_instances;
var _AbstractChatCompletionRunner_getFinalContent;
var _AbstractChatCompletionRunner_getFinalMessage;
var _AbstractChatCompletionRunner_getFinalFunctionCall;
var _AbstractChatCompletionRunner_getFinalFunctionCallResult;
var _AbstractChatCompletionRunner_calculateTotalUsage;
var _AbstractChatCompletionRunner_validateParams;
var _AbstractChatCompletionRunner_stringifyFunctionCallResult;
var DEFAULT_MAX_CHAT_COMPLETIONS = 10;
var AbstractChatCompletionRunner = class extends EventStream {
  constructor() {
    super(...arguments);
    _AbstractChatCompletionRunner_instances.add(this);
    this._chatCompletions = [];
    this.messages = [];
  }
  _addChatCompletion(chatCompletion) {
    var _a2;
    this._chatCompletions.push(chatCompletion);
    this._emit("chatCompletion", chatCompletion);
    const message = (_a2 = chatCompletion.choices[0]) == null ? void 0 : _a2.message;
    if (message)
      this._addMessage(message);
    return chatCompletion;
  }
  _addMessage(message, emit = true) {
    if (!("content" in message))
      message.content = null;
    this.messages.push(message);
    if (emit) {
      this._emit("message", message);
      if ((isFunctionMessage(message) || isToolMessage(message)) && message.content) {
        this._emit("functionCallResult", message.content);
      } else if (isAssistantMessage(message) && message.function_call) {
        this._emit("functionCall", message.function_call);
      } else if (isAssistantMessage(message) && message.tool_calls) {
        for (const tool_call of message.tool_calls) {
          if (tool_call.type === "function") {
            this._emit("functionCall", tool_call.function);
          }
        }
      }
    }
  }
  /**
   * @returns a promise that resolves with the final ChatCompletion, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletion.
   */
  async finalChatCompletion() {
    await this.done();
    const completion = this._chatCompletions[this._chatCompletions.length - 1];
    if (!completion)
      throw new OpenAIError("stream ended without producing a ChatCompletion");
    return completion;
  }
  /**
   * @returns a promise that resolves with the content of the final ChatCompletionMessage, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalContent() {
    await this.done();
    return __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalContent).call(this);
  }
  /**
   * @returns a promise that resolves with the the final assistant ChatCompletionMessage response,
   * or rejects if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalMessage() {
    await this.done();
    return __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this);
  }
  /**
   * @returns a promise that resolves with the content of the final FunctionCall, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalFunctionCall() {
    await this.done();
    return __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);
  }
  async finalFunctionCallResult() {
    await this.done();
    return __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);
  }
  async totalUsage() {
    await this.done();
    return __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_calculateTotalUsage).call(this);
  }
  allChatCompletions() {
    return [...this._chatCompletions];
  }
  _emitFinal() {
    const completion = this._chatCompletions[this._chatCompletions.length - 1];
    if (completion)
      this._emit("finalChatCompletion", completion);
    const finalMessage = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this);
    if (finalMessage)
      this._emit("finalMessage", finalMessage);
    const finalContent = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalContent).call(this);
    if (finalContent)
      this._emit("finalContent", finalContent);
    const finalFunctionCall = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);
    if (finalFunctionCall)
      this._emit("finalFunctionCall", finalFunctionCall);
    const finalFunctionCallResult = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);
    if (finalFunctionCallResult != null)
      this._emit("finalFunctionCallResult", finalFunctionCallResult);
    if (this._chatCompletions.some((c2) => c2.usage)) {
      this._emit("totalUsage", __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_calculateTotalUsage).call(this));
    }
  }
  async _createChatCompletion(client, params, options) {
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_validateParams).call(this, params);
    const chatCompletion = await client.chat.completions.create({ ...params, stream: false }, { ...options, signal: this.controller.signal });
    this._connected();
    return this._addChatCompletion(parseChatCompletion(chatCompletion, params));
  }
  async _runChatCompletion(client, params, options) {
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    return await this._createChatCompletion(client, params, options);
  }
  async _runFunctions(client, params, options) {
    var _a2;
    const role = "function";
    const { function_call = "auto", stream, ...restParams } = params;
    const singleFunctionToCall = typeof function_call !== "string" && (function_call == null ? void 0 : function_call.name);
    const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};
    const functionsByName = {};
    for (const f2 of params.functions) {
      functionsByName[f2.name || f2.function.name] = f2;
    }
    const functions = params.functions.map((f2) => ({
      name: f2.name || f2.function.name,
      parameters: f2.parameters,
      description: f2.description
    }));
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    for (let i3 = 0; i3 < maxChatCompletions; ++i3) {
      const chatCompletion = await this._createChatCompletion(client, {
        ...restParams,
        function_call,
        functions,
        messages: [...this.messages]
      }, options);
      const message = (_a2 = chatCompletion.choices[0]) == null ? void 0 : _a2.message;
      if (!message) {
        throw new OpenAIError(`missing message in ChatCompletion response`);
      }
      if (!message.function_call)
        return;
      const { name, arguments: args } = message.function_call;
      const fn = functionsByName[name];
      if (!fn) {
        const content2 = `Invalid function_call: ${JSON.stringify(name)}. Available options are: ${functions.map((f2) => JSON.stringify(f2.name)).join(", ")}. Please try again`;
        this._addMessage({ role, name, content: content2 });
        continue;
      } else if (singleFunctionToCall && singleFunctionToCall !== name) {
        const content2 = `Invalid function_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;
        this._addMessage({ role, name, content: content2 });
        continue;
      }
      let parsed;
      try {
        parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;
      } catch (error) {
        this._addMessage({
          role,
          name,
          content: error instanceof Error ? error.message : String(error)
        });
        continue;
      }
      const rawContent = await fn.function(parsed, this);
      const content = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);
      this._addMessage({ role, name, content });
      if (singleFunctionToCall)
        return;
    }
  }
  async _runTools(client, params, options) {
    var _a2, _b, _c;
    const role = "tool";
    const { tool_choice = "auto", stream, ...restParams } = params;
    const singleFunctionToCall = typeof tool_choice !== "string" && ((_a2 = tool_choice == null ? void 0 : tool_choice.function) == null ? void 0 : _a2.name);
    const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};
    const inputTools = params.tools.map((tool) => {
      if (isAutoParsableTool(tool)) {
        if (!tool.$callback) {
          throw new OpenAIError("Tool given to `.runTools()` that does not have an associated function");
        }
        return {
          type: "function",
          function: {
            function: tool.$callback,
            name: tool.function.name,
            description: tool.function.description || "",
            parameters: tool.function.parameters,
            parse: tool.$parseRaw,
            strict: true
          }
        };
      }
      return tool;
    });
    const functionsByName = {};
    for (const f2 of inputTools) {
      if (f2.type === "function") {
        functionsByName[f2.function.name || f2.function.function.name] = f2.function;
      }
    }
    const tools = "tools" in params ? inputTools.map((t3) => t3.type === "function" ? {
      type: "function",
      function: {
        name: t3.function.name || t3.function.function.name,
        parameters: t3.function.parameters,
        description: t3.function.description,
        strict: t3.function.strict
      }
    } : t3) : void 0;
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    for (let i3 = 0; i3 < maxChatCompletions; ++i3) {
      const chatCompletion = await this._createChatCompletion(client, {
        ...restParams,
        tool_choice,
        tools,
        messages: [...this.messages]
      }, options);
      const message = (_b = chatCompletion.choices[0]) == null ? void 0 : _b.message;
      if (!message) {
        throw new OpenAIError(`missing message in ChatCompletion response`);
      }
      if (!((_c = message.tool_calls) == null ? void 0 : _c.length)) {
        return;
      }
      for (const tool_call of message.tool_calls) {
        if (tool_call.type !== "function")
          continue;
        const tool_call_id = tool_call.id;
        const { name, arguments: args } = tool_call.function;
        const fn = functionsByName[name];
        if (!fn) {
          const content2 = `Invalid tool_call: ${JSON.stringify(name)}. Available options are: ${Object.keys(functionsByName).map((name2) => JSON.stringify(name2)).join(", ")}. Please try again`;
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        } else if (singleFunctionToCall && singleFunctionToCall !== name) {
          const content2 = `Invalid tool_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        }
        let parsed;
        try {
          parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;
        } catch (error) {
          const content2 = error instanceof Error ? error.message : String(error);
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        }
        const rawContent = await fn.function(parsed, this);
        const content = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);
        this._addMessage({ role, tool_call_id, content });
        if (singleFunctionToCall) {
          return;
        }
      }
    }
    return;
  }
};
_AbstractChatCompletionRunner_instances = /* @__PURE__ */ new WeakSet(), _AbstractChatCompletionRunner_getFinalContent = function _AbstractChatCompletionRunner_getFinalContent2() {
  var _a2;
  return (_a2 = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this).content) != null ? _a2 : null;
}, _AbstractChatCompletionRunner_getFinalMessage = function _AbstractChatCompletionRunner_getFinalMessage2() {
  var _a2, _b;
  let i3 = this.messages.length;
  while (i3-- > 0) {
    const message = this.messages[i3];
    if (isAssistantMessage(message)) {
      const { function_call, ...rest } = message;
      const ret = {
        ...rest,
        content: (_a2 = message.content) != null ? _a2 : null,
        refusal: (_b = message.refusal) != null ? _b : null
      };
      if (function_call) {
        ret.function_call = function_call;
      }
      return ret;
    }
  }
  throw new OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant");
}, _AbstractChatCompletionRunner_getFinalFunctionCall = function _AbstractChatCompletionRunner_getFinalFunctionCall2() {
  var _a2, _b;
  for (let i3 = this.messages.length - 1; i3 >= 0; i3--) {
    const message = this.messages[i3];
    if (isAssistantMessage(message) && (message == null ? void 0 : message.function_call)) {
      return message.function_call;
    }
    if (isAssistantMessage(message) && ((_a2 = message == null ? void 0 : message.tool_calls) == null ? void 0 : _a2.length)) {
      return (_b = message.tool_calls.at(-1)) == null ? void 0 : _b.function;
    }
  }
  return;
}, _AbstractChatCompletionRunner_getFinalFunctionCallResult = function _AbstractChatCompletionRunner_getFinalFunctionCallResult2() {
  for (let i3 = this.messages.length - 1; i3 >= 0; i3--) {
    const message = this.messages[i3];
    if (isFunctionMessage(message) && message.content != null) {
      return message.content;
    }
    if (isToolMessage(message) && message.content != null && typeof message.content === "string" && this.messages.some((x) => {
      var _a2;
      return x.role === "assistant" && ((_a2 = x.tool_calls) == null ? void 0 : _a2.some((y) => y.type === "function" && y.id === message.tool_call_id));
    })) {
      return message.content;
    }
  }
  return;
}, _AbstractChatCompletionRunner_calculateTotalUsage = function _AbstractChatCompletionRunner_calculateTotalUsage2() {
  const total = {
    completion_tokens: 0,
    prompt_tokens: 0,
    total_tokens: 0
  };
  for (const { usage } of this._chatCompletions) {
    if (usage) {
      total.completion_tokens += usage.completion_tokens;
      total.prompt_tokens += usage.prompt_tokens;
      total.total_tokens += usage.total_tokens;
    }
  }
  return total;
}, _AbstractChatCompletionRunner_validateParams = function _AbstractChatCompletionRunner_validateParams2(params) {
  if (params.n != null && params.n > 1) {
    throw new OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.");
  }
}, _AbstractChatCompletionRunner_stringifyFunctionCallResult = function _AbstractChatCompletionRunner_stringifyFunctionCallResult2(rawContent) {
  return typeof rawContent === "string" ? rawContent : rawContent === void 0 ? "undefined" : JSON.stringify(rawContent);
};

// node_modules/openai/lib/ChatCompletionRunner.mjs
var ChatCompletionRunner = class extends AbstractChatCompletionRunner {
  /** @deprecated - please use `runTools` instead. */
  static runFunctions(client, params, options) {
    const runner = new ChatCompletionRunner();
    const opts2 = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runFunctions" }
    };
    runner._run(() => runner._runFunctions(client, params, opts2));
    return runner;
  }
  static runTools(client, params, options) {
    const runner = new ChatCompletionRunner();
    const opts2 = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runTools" }
    };
    runner._run(() => runner._runTools(client, params, opts2));
    return runner;
  }
  _addMessage(message, emit = true) {
    super._addMessage(message, emit);
    if (isAssistantMessage(message) && message.content) {
      this._emit("content", message.content);
    }
  }
};

// node_modules/openai/_vendor/partial-json-parser/parser.mjs
var STR = 1;
var NUM = 2;
var ARR = 4;
var OBJ = 8;
var NULL = 16;
var BOOL = 32;
var NAN = 64;
var INFINITY = 128;
var MINUS_INFINITY = 256;
var INF = INFINITY | MINUS_INFINITY;
var SPECIAL = NULL | BOOL | INF | NAN;
var ATOM = STR | NUM | SPECIAL;
var COLLECTION = ARR | OBJ;
var ALL = ATOM | COLLECTION;
var Allow = {
  STR,
  NUM,
  ARR,
  OBJ,
  NULL,
  BOOL,
  NAN,
  INFINITY,
  MINUS_INFINITY,
  INF,
  SPECIAL,
  ATOM,
  COLLECTION,
  ALL
};
var PartialJSON = class extends Error {
};
var MalformedJSON = class extends Error {
};
function parseJSON2(jsonString, allowPartial = Allow.ALL) {
  if (typeof jsonString !== "string") {
    throw new TypeError(`expecting str, got ${typeof jsonString}`);
  }
  if (!jsonString.trim()) {
    throw new Error(`${jsonString} is empty`);
  }
  return _parseJSON(jsonString.trim(), allowPartial);
}
var _parseJSON = (jsonString, allow) => {
  const length2 = jsonString.length;
  let index4 = 0;
  const markPartialJSON = (msg) => {
    throw new PartialJSON(`${msg} at position ${index4}`);
  };
  const throwMalformedError = (msg) => {
    throw new MalformedJSON(`${msg} at position ${index4}`);
  };
  const parseAny = () => {
    skipBlank();
    if (index4 >= length2)
      markPartialJSON("Unexpected end of input");
    if (jsonString[index4] === '"')
      return parseStr();
    if (jsonString[index4] === "{")
      return parseObj();
    if (jsonString[index4] === "[")
      return parseArr();
    if (jsonString.substring(index4, index4 + 4) === "null" || Allow.NULL & allow && length2 - index4 < 4 && "null".startsWith(jsonString.substring(index4))) {
      index4 += 4;
      return null;
    }
    if (jsonString.substring(index4, index4 + 4) === "true" || Allow.BOOL & allow && length2 - index4 < 4 && "true".startsWith(jsonString.substring(index4))) {
      index4 += 4;
      return true;
    }
    if (jsonString.substring(index4, index4 + 5) === "false" || Allow.BOOL & allow && length2 - index4 < 5 && "false".startsWith(jsonString.substring(index4))) {
      index4 += 5;
      return false;
    }
    if (jsonString.substring(index4, index4 + 8) === "Infinity" || Allow.INFINITY & allow && length2 - index4 < 8 && "Infinity".startsWith(jsonString.substring(index4))) {
      index4 += 8;
      return Infinity;
    }
    if (jsonString.substring(index4, index4 + 9) === "-Infinity" || Allow.MINUS_INFINITY & allow && 1 < length2 - index4 && length2 - index4 < 9 && "-Infinity".startsWith(jsonString.substring(index4))) {
      index4 += 9;
      return -Infinity;
    }
    if (jsonString.substring(index4, index4 + 3) === "NaN" || Allow.NAN & allow && length2 - index4 < 3 && "NaN".startsWith(jsonString.substring(index4))) {
      index4 += 3;
      return NaN;
    }
    return parseNum();
  };
  const parseStr = () => {
    const start2 = index4;
    let escape2 = false;
    index4++;
    while (index4 < length2 && (jsonString[index4] !== '"' || escape2 && jsonString[index4 - 1] === "\\")) {
      escape2 = jsonString[index4] === "\\" ? !escape2 : false;
      index4++;
    }
    if (jsonString.charAt(index4) == '"') {
      try {
        return JSON.parse(jsonString.substring(start2, ++index4 - Number(escape2)));
      } catch (e2) {
        throwMalformedError(String(e2));
      }
    } else if (Allow.STR & allow) {
      try {
        return JSON.parse(jsonString.substring(start2, index4 - Number(escape2)) + '"');
      } catch (e2) {
        return JSON.parse(jsonString.substring(start2, jsonString.lastIndexOf("\\")) + '"');
      }
    }
    markPartialJSON("Unterminated string literal");
  };
  const parseObj = () => {
    index4++;
    skipBlank();
    const obj = {};
    try {
      while (jsonString[index4] !== "}") {
        skipBlank();
        if (index4 >= length2 && Allow.OBJ & allow)
          return obj;
        const key = parseStr();
        skipBlank();
        index4++;
        try {
          const value = parseAny();
          Object.defineProperty(obj, key, { value, writable: true, enumerable: true, configurable: true });
        } catch (e2) {
          if (Allow.OBJ & allow)
            return obj;
          else
            throw e2;
        }
        skipBlank();
        if (jsonString[index4] === ",")
          index4++;
      }
    } catch (e2) {
      if (Allow.OBJ & allow)
        return obj;
      else
        markPartialJSON("Expected '}' at end of object");
    }
    index4++;
    return obj;
  };
  const parseArr = () => {
    index4++;
    const arr = [];
    try {
      while (jsonString[index4] !== "]") {
        arr.push(parseAny());
        skipBlank();
        if (jsonString[index4] === ",") {
          index4++;
        }
      }
    } catch (e2) {
      if (Allow.ARR & allow) {
        return arr;
      }
      markPartialJSON("Expected ']' at end of array");
    }
    index4++;
    return arr;
  };
  const parseNum = () => {
    if (index4 === 0) {
      if (jsonString === "-" && Allow.NUM & allow)
        markPartialJSON("Not sure what '-' is");
      try {
        return JSON.parse(jsonString);
      } catch (e2) {
        if (Allow.NUM & allow) {
          try {
            if ("." === jsonString[jsonString.length - 1])
              return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf(".")));
            return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf("e")));
          } catch (e3) {
          }
        }
        throwMalformedError(String(e2));
      }
    }
    const start2 = index4;
    if (jsonString[index4] === "-")
      index4++;
    while (jsonString[index4] && !",]}".includes(jsonString[index4]))
      index4++;
    if (index4 == length2 && !(Allow.NUM & allow))
      markPartialJSON("Unterminated number literal");
    try {
      return JSON.parse(jsonString.substring(start2, index4));
    } catch (e2) {
      if (jsonString.substring(start2, index4) === "-" && Allow.NUM & allow)
        markPartialJSON("Not sure what '-' is");
      try {
        return JSON.parse(jsonString.substring(start2, jsonString.lastIndexOf("e")));
      } catch (e3) {
        throwMalformedError(String(e3));
      }
    }
  };
  const skipBlank = () => {
    while (index4 < length2 && " \n\r	".includes(jsonString[index4])) {
      index4++;
    }
  };
  return parseAny();
};
var partialParse = (input) => parseJSON2(input, Allow.ALL ^ Allow.NUM);

// node_modules/openai/lib/ChatCompletionStream.mjs
var __classPrivateFieldSet4 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet5 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _ChatCompletionStream_instances;
var _ChatCompletionStream_params;
var _ChatCompletionStream_choiceEventStates;
var _ChatCompletionStream_currentChatCompletionSnapshot;
var _ChatCompletionStream_beginRequest;
var _ChatCompletionStream_getChoiceEventState;
var _ChatCompletionStream_addChunk;
var _ChatCompletionStream_emitToolCallDoneEvent;
var _ChatCompletionStream_emitContentDoneEvents;
var _ChatCompletionStream_endRequest;
var _ChatCompletionStream_getAutoParseableResponseFormat;
var _ChatCompletionStream_accumulateChatCompletion;
var ChatCompletionStream = class extends AbstractChatCompletionRunner {
  constructor(params) {
    super();
    _ChatCompletionStream_instances.add(this);
    _ChatCompletionStream_params.set(this, void 0);
    _ChatCompletionStream_choiceEventStates.set(this, void 0);
    _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);
    __classPrivateFieldSet4(this, _ChatCompletionStream_params, params, "f");
    __classPrivateFieldSet4(this, _ChatCompletionStream_choiceEventStates, [], "f");
  }
  get currentChatCompletionSnapshot() {
    return __classPrivateFieldGet5(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
  }
  /**
   * Intended for use on the frontend, consuming a stream produced with
   * `.toReadableStream()` on the backend.
   *
   * Note that messages sent to the model do not appear in `.on('message')`
   * in this context.
   */
  static fromReadableStream(stream) {
    const runner = new ChatCompletionStream(null);
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  static createChatCompletion(client, params, options) {
    const runner = new ChatCompletionStream(params);
    runner._run(() => runner._runChatCompletion(client, { ...params, stream: true }, { ...options, headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" } }));
    return runner;
  }
  async _createChatCompletion(client, params, options) {
    var _a2;
    super._createChatCompletion;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_beginRequest).call(this);
    const stream = await client.chat.completions.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const chunk of stream) {
      __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_addChunk).call(this, chunk);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addChatCompletion(__classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
  }
  async _fromReadableStream(readableStream, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_beginRequest).call(this);
    this._connected();
    const stream = Stream.fromReadableStream(readableStream, this.controller);
    let chatId;
    for await (const chunk of stream) {
      if (chatId && chatId !== chunk.id) {
        this._addChatCompletion(__classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
      }
      __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_addChunk).call(this, chunk);
      chatId = chunk.id;
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addChatCompletion(__classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
  }
  [(_ChatCompletionStream_params = /* @__PURE__ */ new WeakMap(), _ChatCompletionStream_choiceEventStates = /* @__PURE__ */ new WeakMap(), _ChatCompletionStream_currentChatCompletionSnapshot = /* @__PURE__ */ new WeakMap(), _ChatCompletionStream_instances = /* @__PURE__ */ new WeakSet(), _ChatCompletionStream_beginRequest = function _ChatCompletionStream_beginRequest2() {
    if (this.ended)
      return;
    __classPrivateFieldSet4(this, _ChatCompletionStream_currentChatCompletionSnapshot, void 0, "f");
  }, _ChatCompletionStream_getChoiceEventState = function _ChatCompletionStream_getChoiceEventState2(choice) {
    let state = __classPrivateFieldGet5(this, _ChatCompletionStream_choiceEventStates, "f")[choice.index];
    if (state) {
      return state;
    }
    state = {
      content_done: false,
      refusal_done: false,
      logprobs_content_done: false,
      logprobs_refusal_done: false,
      done_tool_calls: /* @__PURE__ */ new Set(),
      current_tool_call_index: null
    };
    __classPrivateFieldGet5(this, _ChatCompletionStream_choiceEventStates, "f")[choice.index] = state;
    return state;
  }, _ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk2(chunk) {
    var _a2, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t;
    if (this.ended)
      return;
    const completion = __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_accumulateChatCompletion).call(this, chunk);
    this._emit("chunk", chunk, completion);
    for (const choice of chunk.choices) {
      const choiceSnapshot = completion.choices[choice.index];
      if (choice.delta.content != null && ((_a2 = choiceSnapshot.message) == null ? void 0 : _a2.role) === "assistant" && ((_b = choiceSnapshot.message) == null ? void 0 : _b.content)) {
        this._emit("content", choice.delta.content, choiceSnapshot.message.content);
        this._emit("content.delta", {
          delta: choice.delta.content,
          snapshot: choiceSnapshot.message.content,
          parsed: choiceSnapshot.message.parsed
        });
      }
      if (choice.delta.refusal != null && ((_c = choiceSnapshot.message) == null ? void 0 : _c.role) === "assistant" && ((_d = choiceSnapshot.message) == null ? void 0 : _d.refusal)) {
        this._emit("refusal.delta", {
          delta: choice.delta.refusal,
          snapshot: choiceSnapshot.message.refusal
        });
      }
      if (((_e = choice.logprobs) == null ? void 0 : _e.content) != null && ((_f = choiceSnapshot.message) == null ? void 0 : _f.role) === "assistant") {
        this._emit("logprobs.content.delta", {
          content: (_g = choice.logprobs) == null ? void 0 : _g.content,
          snapshot: (_i = (_h = choiceSnapshot.logprobs) == null ? void 0 : _h.content) != null ? _i : []
        });
      }
      if (((_j = choice.logprobs) == null ? void 0 : _j.refusal) != null && ((_k = choiceSnapshot.message) == null ? void 0 : _k.role) === "assistant") {
        this._emit("logprobs.refusal.delta", {
          refusal: (_l = choice.logprobs) == null ? void 0 : _l.refusal,
          snapshot: (_n = (_m = choiceSnapshot.logprobs) == null ? void 0 : _m.refusal) != null ? _n : []
        });
      }
      const state = __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);
      if (choiceSnapshot.finish_reason) {
        __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);
        if (state.current_tool_call_index != null) {
          __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);
        }
      }
      for (const toolCall of (_o = choice.delta.tool_calls) != null ? _o : []) {
        if (state.current_tool_call_index !== toolCall.index) {
          __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);
          if (state.current_tool_call_index != null) {
            __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);
          }
        }
        state.current_tool_call_index = toolCall.index;
      }
      for (const toolCallDelta of (_p = choice.delta.tool_calls) != null ? _p : []) {
        const toolCallSnapshot = (_q = choiceSnapshot.message.tool_calls) == null ? void 0 : _q[toolCallDelta.index];
        if (!(toolCallSnapshot == null ? void 0 : toolCallSnapshot.type)) {
          continue;
        }
        if ((toolCallSnapshot == null ? void 0 : toolCallSnapshot.type) === "function") {
          this._emit("tool_calls.function.arguments.delta", {
            name: (_r = toolCallSnapshot.function) == null ? void 0 : _r.name,
            index: toolCallDelta.index,
            arguments: toolCallSnapshot.function.arguments,
            parsed_arguments: toolCallSnapshot.function.parsed_arguments,
            arguments_delta: (_t = (_s = toolCallDelta.function) == null ? void 0 : _s.arguments) != null ? _t : ""
          });
        } else {
          assertNever(toolCallSnapshot == null ? void 0 : toolCallSnapshot.type);
        }
      }
    }
  }, _ChatCompletionStream_emitToolCallDoneEvent = function _ChatCompletionStream_emitToolCallDoneEvent2(choiceSnapshot, toolCallIndex) {
    var _a2, _b, _c;
    const state = __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);
    if (state.done_tool_calls.has(toolCallIndex)) {
      return;
    }
    const toolCallSnapshot = (_a2 = choiceSnapshot.message.tool_calls) == null ? void 0 : _a2[toolCallIndex];
    if (!toolCallSnapshot) {
      throw new Error("no tool call snapshot");
    }
    if (!toolCallSnapshot.type) {
      throw new Error("tool call snapshot missing `type`");
    }
    if (toolCallSnapshot.type === "function") {
      const inputTool = (_c = (_b = __classPrivateFieldGet5(this, _ChatCompletionStream_params, "f")) == null ? void 0 : _b.tools) == null ? void 0 : _c.find((tool) => tool.type === "function" && tool.function.name === toolCallSnapshot.function.name);
      this._emit("tool_calls.function.arguments.done", {
        name: toolCallSnapshot.function.name,
        index: toolCallIndex,
        arguments: toolCallSnapshot.function.arguments,
        parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCallSnapshot.function.arguments) : (inputTool == null ? void 0 : inputTool.function.strict) ? JSON.parse(toolCallSnapshot.function.arguments) : null
      });
    } else {
      assertNever(toolCallSnapshot.type);
    }
  }, _ChatCompletionStream_emitContentDoneEvents = function _ChatCompletionStream_emitContentDoneEvents2(choiceSnapshot) {
    var _a2, _b;
    const state = __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);
    if (choiceSnapshot.message.content && !state.content_done) {
      state.content_done = true;
      const responseFormat = __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getAutoParseableResponseFormat).call(this);
      this._emit("content.done", {
        content: choiceSnapshot.message.content,
        parsed: responseFormat ? responseFormat.$parseRaw(choiceSnapshot.message.content) : null
      });
    }
    if (choiceSnapshot.message.refusal && !state.refusal_done) {
      state.refusal_done = true;
      this._emit("refusal.done", { refusal: choiceSnapshot.message.refusal });
    }
    if (((_a2 = choiceSnapshot.logprobs) == null ? void 0 : _a2.content) && !state.logprobs_content_done) {
      state.logprobs_content_done = true;
      this._emit("logprobs.content.done", { content: choiceSnapshot.logprobs.content });
    }
    if (((_b = choiceSnapshot.logprobs) == null ? void 0 : _b.refusal) && !state.logprobs_refusal_done) {
      state.logprobs_refusal_done = true;
      this._emit("logprobs.refusal.done", { refusal: choiceSnapshot.logprobs.refusal });
    }
  }, _ChatCompletionStream_endRequest = function _ChatCompletionStream_endRequest2() {
    if (this.ended) {
      throw new OpenAIError(`stream has ended, this shouldn't happen`);
    }
    const snapshot = __classPrivateFieldGet5(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
    if (!snapshot) {
      throw new OpenAIError(`request ended without sending any chunks`);
    }
    __classPrivateFieldSet4(this, _ChatCompletionStream_currentChatCompletionSnapshot, void 0, "f");
    __classPrivateFieldSet4(this, _ChatCompletionStream_choiceEventStates, [], "f");
    return finalizeChatCompletion(snapshot, __classPrivateFieldGet5(this, _ChatCompletionStream_params, "f"));
  }, _ChatCompletionStream_getAutoParseableResponseFormat = function _ChatCompletionStream_getAutoParseableResponseFormat2() {
    var _a2;
    const responseFormat = (_a2 = __classPrivateFieldGet5(this, _ChatCompletionStream_params, "f")) == null ? void 0 : _a2.response_format;
    if (isAutoParsableResponseFormat(responseFormat)) {
      return responseFormat;
    }
    return null;
  }, _ChatCompletionStream_accumulateChatCompletion = function _ChatCompletionStream_accumulateChatCompletion2(chunk) {
    var _a3, _b2, _c2, _d2, _e, _f;
    var _a2, _b, _c, _d;
    let snapshot = __classPrivateFieldGet5(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
    const { choices, ...rest } = chunk;
    if (!snapshot) {
      snapshot = __classPrivateFieldSet4(this, _ChatCompletionStream_currentChatCompletionSnapshot, {
        ...rest,
        choices: []
      }, "f");
    } else {
      Object.assign(snapshot, rest);
    }
    for (const { delta, finish_reason, index: index4, logprobs = null, ...other } of chunk.choices) {
      let choice = snapshot.choices[index4];
      if (!choice) {
        choice = snapshot.choices[index4] = { finish_reason, index: index4, message: {}, logprobs, ...other };
      }
      if (logprobs) {
        if (!choice.logprobs) {
          choice.logprobs = Object.assign({}, logprobs);
        } else {
          const { content: content2, refusal: refusal2, ...rest3 } = logprobs;
          assertIsEmpty(rest3);
          Object.assign(choice.logprobs, rest3);
          if (content2) {
            (_a3 = (_a2 = choice.logprobs).content) != null ? _a3 : _a2.content = [];
            choice.logprobs.content.push(...content2);
          }
          if (refusal2) {
            (_b2 = (_b = choice.logprobs).refusal) != null ? _b2 : _b.refusal = [];
            choice.logprobs.refusal.push(...refusal2);
          }
        }
      }
      if (finish_reason) {
        choice.finish_reason = finish_reason;
        if (__classPrivateFieldGet5(this, _ChatCompletionStream_params, "f") && hasAutoParseableInput(__classPrivateFieldGet5(this, _ChatCompletionStream_params, "f"))) {
          if (finish_reason === "length") {
            throw new LengthFinishReasonError();
          }
          if (finish_reason === "content_filter") {
            throw new ContentFilterFinishReasonError();
          }
        }
      }
      Object.assign(choice, other);
      if (!delta)
        continue;
      const { content, refusal, function_call, role, tool_calls, ...rest2 } = delta;
      assertIsEmpty(rest2);
      Object.assign(choice.message, rest2);
      if (refusal) {
        choice.message.refusal = (choice.message.refusal || "") + refusal;
      }
      if (role)
        choice.message.role = role;
      if (function_call) {
        if (!choice.message.function_call) {
          choice.message.function_call = function_call;
        } else {
          if (function_call.name)
            choice.message.function_call.name = function_call.name;
          if (function_call.arguments) {
            (_c2 = (_c = choice.message.function_call).arguments) != null ? _c2 : _c.arguments = "";
            choice.message.function_call.arguments += function_call.arguments;
          }
        }
      }
      if (content) {
        choice.message.content = (choice.message.content || "") + content;
        if (!choice.message.refusal && __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getAutoParseableResponseFormat).call(this)) {
          choice.message.parsed = partialParse(choice.message.content);
        }
      }
      if (tool_calls) {
        if (!choice.message.tool_calls)
          choice.message.tool_calls = [];
        for (const { index: index5, id, type, function: fn, ...rest3 } of tool_calls) {
          const tool_call = (_d2 = (_d = choice.message.tool_calls)[index5]) != null ? _d2 : _d[index5] = {};
          Object.assign(tool_call, rest3);
          if (id)
            tool_call.id = id;
          if (type)
            tool_call.type = type;
          if (fn)
            (_f = tool_call.function) != null ? _f : tool_call.function = { name: (_e = fn.name) != null ? _e : "", arguments: "" };
          if (fn == null ? void 0 : fn.name)
            tool_call.function.name = fn.name;
          if (fn == null ? void 0 : fn.arguments) {
            tool_call.function.arguments += fn.arguments;
            if (shouldParseToolCall(__classPrivateFieldGet5(this, _ChatCompletionStream_params, "f"), tool_call)) {
              tool_call.function.parsed_arguments = partialParse(tool_call.function.arguments);
            }
          }
        }
      }
    }
    return snapshot;
  }, Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("chunk", (chunk) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(chunk);
      } else {
        pushQueue.push(chunk);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve2, reject) => readQueue.push({ resolve: resolve2, reject })).then((chunk2) => chunk2 ? { value: chunk2, done: false } : { value: void 0, done: true });
        }
        const chunk = pushQueue.shift();
        return { value: chunk, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  toReadableStream() {
    const stream = new Stream(this[Symbol.asyncIterator].bind(this), this.controller);
    return stream.toReadableStream();
  }
};
function finalizeChatCompletion(snapshot, params) {
  const { id, choices, created, model: model4, system_fingerprint, ...rest } = snapshot;
  const completion = {
    ...rest,
    id,
    choices: choices.map(({ message, finish_reason, index: index4, logprobs, ...choiceRest }) => {
      var _a2, _b, _c;
      if (!finish_reason) {
        throw new OpenAIError(`missing finish_reason for choice ${index4}`);
      }
      const { content = null, function_call, tool_calls, ...messageRest } = message;
      const role = message.role;
      if (!role) {
        throw new OpenAIError(`missing role for choice ${index4}`);
      }
      if (function_call) {
        const { arguments: args, name } = function_call;
        if (args == null) {
          throw new OpenAIError(`missing function_call.arguments for choice ${index4}`);
        }
        if (!name) {
          throw new OpenAIError(`missing function_call.name for choice ${index4}`);
        }
        return {
          ...choiceRest,
          message: {
            content,
            function_call: { arguments: args, name },
            role,
            refusal: (_a2 = message.refusal) != null ? _a2 : null
          },
          finish_reason,
          index: index4,
          logprobs
        };
      }
      if (tool_calls) {
        return {
          ...choiceRest,
          index: index4,
          finish_reason,
          logprobs,
          message: {
            ...messageRest,
            role,
            content,
            refusal: (_b = message.refusal) != null ? _b : null,
            tool_calls: tool_calls.map((tool_call, i3) => {
              const { function: fn, type, id: id2, ...toolRest } = tool_call;
              const { arguments: args, name, ...fnRest } = fn || {};
              if (id2 == null) {
                throw new OpenAIError(`missing choices[${index4}].tool_calls[${i3}].id
${str(snapshot)}`);
              }
              if (type == null) {
                throw new OpenAIError(`missing choices[${index4}].tool_calls[${i3}].type
${str(snapshot)}`);
              }
              if (name == null) {
                throw new OpenAIError(`missing choices[${index4}].tool_calls[${i3}].function.name
${str(snapshot)}`);
              }
              if (args == null) {
                throw new OpenAIError(`missing choices[${index4}].tool_calls[${i3}].function.arguments
${str(snapshot)}`);
              }
              return { ...toolRest, id: id2, type, function: { ...fnRest, name, arguments: args } };
            })
          }
        };
      }
      return {
        ...choiceRest,
        message: { ...messageRest, content, role, refusal: (_c = message.refusal) != null ? _c : null },
        finish_reason,
        index: index4,
        logprobs
      };
    }),
    created,
    model: model4,
    object: "chat.completion",
    ...system_fingerprint ? { system_fingerprint } : {}
  };
  return maybeParseChatCompletion(completion, params);
}
function str(x) {
  return JSON.stringify(x);
}
function assertIsEmpty(obj) {
  return;
}
function assertNever(_x) {
}

// node_modules/openai/lib/ChatCompletionStreamingRunner.mjs
var ChatCompletionStreamingRunner = class extends ChatCompletionStream {
  static fromReadableStream(stream) {
    const runner = new ChatCompletionStreamingRunner(null);
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  /** @deprecated - please use `runTools` instead. */
  static runFunctions(client, params, options) {
    const runner = new ChatCompletionStreamingRunner(null);
    const opts2 = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runFunctions" }
    };
    runner._run(() => runner._runFunctions(client, params, opts2));
    return runner;
  }
  static runTools(client, params, options) {
    const runner = new ChatCompletionStreamingRunner(
      // @ts-expect-error TODO these types are incompatible
      params
    );
    const opts2 = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runTools" }
    };
    runner._run(() => runner._runTools(client, params, opts2));
    return runner;
  }
};

// node_modules/openai/resources/beta/chat/completions.mjs
var Completions2 = class extends APIResource {
  parse(body, options) {
    validateInputTools(body.tools);
    return this._client.chat.completions.create(body, {
      ...options,
      headers: {
        ...options == null ? void 0 : options.headers,
        "X-Stainless-Helper-Method": "beta.chat.completions.parse"
      }
    })._thenUnwrap((completion) => parseChatCompletion(completion, body));
  }
  runFunctions(body, options) {
    if (body.stream) {
      return ChatCompletionStreamingRunner.runFunctions(this._client, body, options);
    }
    return ChatCompletionRunner.runFunctions(this._client, body, options);
  }
  runTools(body, options) {
    if (body.stream) {
      return ChatCompletionStreamingRunner.runTools(this._client, body, options);
    }
    return ChatCompletionRunner.runTools(this._client, body, options);
  }
  /**
   * Creates a chat completion stream
   */
  stream(body, options) {
    return ChatCompletionStream.createChatCompletion(this._client, body, options);
  }
};

// node_modules/openai/resources/beta/chat/chat.mjs
var Chat2 = class extends APIResource {
  constructor() {
    super(...arguments);
    this.completions = new Completions2(this._client);
  }
};
(function(Chat3) {
  Chat3.Completions = Completions2;
})(Chat2 || (Chat2 = {}));

// node_modules/openai/resources/beta/realtime/sessions.mjs
var Sessions = class extends APIResource {
  /**
   * Create an ephemeral API token for use in client-side applications with the
   * Realtime API. Can be configured with the same session parameters as the
   * `session.update` client event.
   *
   * It responds with a session object, plus a `client_secret` key which contains a
   * usable ephemeral API token that can be used to authenticate browser clients for
   * the Realtime API.
   */
  create(body, options) {
    return this._client.post("/realtime/sessions", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};

// node_modules/openai/resources/beta/realtime/realtime.mjs
var Realtime = class extends APIResource {
  constructor() {
    super(...arguments);
    this.sessions = new Sessions(this._client);
  }
};
Realtime.Sessions = Sessions;

// node_modules/openai/lib/AssistantStream.mjs
var __classPrivateFieldGet6 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var __classPrivateFieldSet5 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var _AssistantStream_instances;
var _AssistantStream_events;
var _AssistantStream_runStepSnapshots;
var _AssistantStream_messageSnapshots;
var _AssistantStream_messageSnapshot;
var _AssistantStream_finalRun;
var _AssistantStream_currentContentIndex;
var _AssistantStream_currentContent;
var _AssistantStream_currentToolCallIndex;
var _AssistantStream_currentToolCall;
var _AssistantStream_currentEvent;
var _AssistantStream_currentRunSnapshot;
var _AssistantStream_currentRunStepSnapshot;
var _AssistantStream_addEvent;
var _AssistantStream_endRequest;
var _AssistantStream_handleMessage;
var _AssistantStream_handleRunStep;
var _AssistantStream_handleEvent;
var _AssistantStream_accumulateRunStep;
var _AssistantStream_accumulateMessage;
var _AssistantStream_accumulateContent;
var _AssistantStream_handleRun;
var AssistantStream = class extends EventStream {
  constructor() {
    super(...arguments);
    _AssistantStream_instances.add(this);
    _AssistantStream_events.set(this, []);
    _AssistantStream_runStepSnapshots.set(this, {});
    _AssistantStream_messageSnapshots.set(this, {});
    _AssistantStream_messageSnapshot.set(this, void 0);
    _AssistantStream_finalRun.set(this, void 0);
    _AssistantStream_currentContentIndex.set(this, void 0);
    _AssistantStream_currentContent.set(this, void 0);
    _AssistantStream_currentToolCallIndex.set(this, void 0);
    _AssistantStream_currentToolCall.set(this, void 0);
    _AssistantStream_currentEvent.set(this, void 0);
    _AssistantStream_currentRunSnapshot.set(this, void 0);
    _AssistantStream_currentRunStepSnapshot.set(this, void 0);
  }
  [(_AssistantStream_events = /* @__PURE__ */ new WeakMap(), _AssistantStream_runStepSnapshots = /* @__PURE__ */ new WeakMap(), _AssistantStream_messageSnapshots = /* @__PURE__ */ new WeakMap(), _AssistantStream_messageSnapshot = /* @__PURE__ */ new WeakMap(), _AssistantStream_finalRun = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentContentIndex = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentContent = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentToolCallIndex = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentToolCall = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentEvent = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentRunSnapshot = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentRunStepSnapshot = /* @__PURE__ */ new WeakMap(), _AssistantStream_instances = /* @__PURE__ */ new WeakSet(), Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("event", (event) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(event);
      } else {
        pushQueue.push(event);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve2, reject) => readQueue.push({ resolve: resolve2, reject })).then((chunk2) => chunk2 ? { value: chunk2, done: false } : { value: void 0, done: true });
        }
        const chunk = pushQueue.shift();
        return { value: chunk, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  static fromReadableStream(stream) {
    const runner = new AssistantStream();
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  async _fromReadableStream(readableStream, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    this._connected();
    const stream = Stream.fromReadableStream(readableStream, this.controller);
    for await (const event of stream) {
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addRun(__classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  toReadableStream() {
    const stream = new Stream(this[Symbol.asyncIterator].bind(this), this.controller);
    return stream.toReadableStream();
  }
  static createToolAssistantStream(threadId, runId, runs, params, options) {
    const runner = new AssistantStream();
    runner._run(() => runner._runToolAssistantStream(threadId, runId, runs, params, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  async _createToolAssistantStream(run, threadId, runId, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    const body = { ...params, stream: true };
    const stream = await run.submitToolOutputs(threadId, runId, body, {
      ...options,
      signal: this.controller.signal
    });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addRun(__classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  static createThreadAssistantStream(params, thread, options) {
    const runner = new AssistantStream();
    runner._run(() => runner._threadAssistantStream(params, thread, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  static createAssistantStream(threadId, runs, params, options) {
    const runner = new AssistantStream();
    runner._run(() => runner._runAssistantStream(threadId, runs, params, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  currentEvent() {
    return __classPrivateFieldGet6(this, _AssistantStream_currentEvent, "f");
  }
  currentRun() {
    return __classPrivateFieldGet6(this, _AssistantStream_currentRunSnapshot, "f");
  }
  currentMessageSnapshot() {
    return __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f");
  }
  currentRunStepSnapshot() {
    return __classPrivateFieldGet6(this, _AssistantStream_currentRunStepSnapshot, "f");
  }
  async finalRunSteps() {
    await this.done();
    return Object.values(__classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f"));
  }
  async finalMessages() {
    await this.done();
    return Object.values(__classPrivateFieldGet6(this, _AssistantStream_messageSnapshots, "f"));
  }
  async finalRun() {
    await this.done();
    if (!__classPrivateFieldGet6(this, _AssistantStream_finalRun, "f"))
      throw Error("Final run was not received.");
    return __classPrivateFieldGet6(this, _AssistantStream_finalRun, "f");
  }
  async _createThreadAssistantStream(thread, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    const body = { ...params, stream: true };
    const stream = await thread.createAndRun(body, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addRun(__classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  async _createAssistantStream(run, threadId, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    const body = { ...params, stream: true };
    const stream = await run.create(threadId, body, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addRun(__classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  static accumulateDelta(acc, delta) {
    for (const [key, deltaValue] of Object.entries(delta)) {
      if (!acc.hasOwnProperty(key)) {
        acc[key] = deltaValue;
        continue;
      }
      let accValue = acc[key];
      if (accValue === null || accValue === void 0) {
        acc[key] = deltaValue;
        continue;
      }
      if (key === "index" || key === "type") {
        acc[key] = deltaValue;
        continue;
      }
      if (typeof accValue === "string" && typeof deltaValue === "string") {
        accValue += deltaValue;
      } else if (typeof accValue === "number" && typeof deltaValue === "number") {
        accValue += deltaValue;
      } else if (isObj(accValue) && isObj(deltaValue)) {
        accValue = this.accumulateDelta(accValue, deltaValue);
      } else if (Array.isArray(accValue) && Array.isArray(deltaValue)) {
        if (accValue.every((x) => typeof x === "string" || typeof x === "number")) {
          accValue.push(...deltaValue);
          continue;
        }
        for (const deltaEntry of deltaValue) {
          if (!isObj(deltaEntry)) {
            throw new Error(`Expected array delta entry to be an object but got: ${deltaEntry}`);
          }
          const index4 = deltaEntry["index"];
          if (index4 == null) {
            console.error(deltaEntry);
            throw new Error("Expected array delta entry to have an `index` property");
          }
          if (typeof index4 !== "number") {
            throw new Error(`Expected array delta entry \`index\` property to be a number but got ${index4}`);
          }
          const accEntry = accValue[index4];
          if (accEntry == null) {
            accValue.push(deltaEntry);
          } else {
            accValue[index4] = this.accumulateDelta(accEntry, deltaEntry);
          }
        }
        continue;
      } else {
        throw Error(`Unhandled record type: ${key}, deltaValue: ${deltaValue}, accValue: ${accValue}`);
      }
      acc[key] = accValue;
    }
    return acc;
  }
  _addRun(run) {
    return run;
  }
  async _threadAssistantStream(params, thread, options) {
    return await this._createThreadAssistantStream(thread, params, options);
  }
  async _runAssistantStream(threadId, runs, params, options) {
    return await this._createAssistantStream(runs, threadId, params, options);
  }
  async _runToolAssistantStream(threadId, runId, runs, params, options) {
    return await this._createToolAssistantStream(runs, threadId, runId, params, options);
  }
};
_AssistantStream_addEvent = function _AssistantStream_addEvent2(event) {
  if (this.ended)
    return;
  __classPrivateFieldSet5(this, _AssistantStream_currentEvent, event, "f");
  __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_handleEvent).call(this, event);
  switch (event.event) {
    case "thread.created":
      break;
    case "thread.run.created":
    case "thread.run.queued":
    case "thread.run.in_progress":
    case "thread.run.requires_action":
    case "thread.run.completed":
    case "thread.run.incomplete":
    case "thread.run.failed":
    case "thread.run.cancelling":
    case "thread.run.cancelled":
    case "thread.run.expired":
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_handleRun).call(this, event);
      break;
    case "thread.run.step.created":
    case "thread.run.step.in_progress":
    case "thread.run.step.delta":
    case "thread.run.step.completed":
    case "thread.run.step.failed":
    case "thread.run.step.cancelled":
    case "thread.run.step.expired":
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_handleRunStep).call(this, event);
      break;
    case "thread.message.created":
    case "thread.message.in_progress":
    case "thread.message.delta":
    case "thread.message.completed":
    case "thread.message.incomplete":
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_handleMessage).call(this, event);
      break;
    case "error":
      throw new Error("Encountered an error event in event processing - errors should be processed earlier");
    default:
      assertNever2(event);
  }
}, _AssistantStream_endRequest = function _AssistantStream_endRequest2() {
  if (this.ended) {
    throw new OpenAIError(`stream has ended, this shouldn't happen`);
  }
  if (!__classPrivateFieldGet6(this, _AssistantStream_finalRun, "f"))
    throw Error("Final run has not been received");
  return __classPrivateFieldGet6(this, _AssistantStream_finalRun, "f");
}, _AssistantStream_handleMessage = function _AssistantStream_handleMessage2(event) {
  const [accumulatedMessage, newContent] = __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_accumulateMessage).call(this, event, __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f"));
  __classPrivateFieldSet5(this, _AssistantStream_messageSnapshot, accumulatedMessage, "f");
  __classPrivateFieldGet6(this, _AssistantStream_messageSnapshots, "f")[accumulatedMessage.id] = accumulatedMessage;
  for (const content of newContent) {
    const snapshotContent = accumulatedMessage.content[content.index];
    if ((snapshotContent == null ? void 0 : snapshotContent.type) == "text") {
      this._emit("textCreated", snapshotContent.text);
    }
  }
  switch (event.event) {
    case "thread.message.created":
      this._emit("messageCreated", event.data);
      break;
    case "thread.message.in_progress":
      break;
    case "thread.message.delta":
      this._emit("messageDelta", event.data.delta, accumulatedMessage);
      if (event.data.delta.content) {
        for (const content of event.data.delta.content) {
          if (content.type == "text" && content.text) {
            let textDelta = content.text;
            let snapshot = accumulatedMessage.content[content.index];
            if (snapshot && snapshot.type == "text") {
              this._emit("textDelta", textDelta, snapshot.text);
            } else {
              throw Error("The snapshot associated with this text delta is not text or missing");
            }
          }
          if (content.index != __classPrivateFieldGet6(this, _AssistantStream_currentContentIndex, "f")) {
            if (__classPrivateFieldGet6(this, _AssistantStream_currentContent, "f")) {
              switch (__classPrivateFieldGet6(this, _AssistantStream_currentContent, "f").type) {
                case "text":
                  this._emit("textDone", __classPrivateFieldGet6(this, _AssistantStream_currentContent, "f").text, __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f"));
                  break;
                case "image_file":
                  this._emit("imageFileDone", __classPrivateFieldGet6(this, _AssistantStream_currentContent, "f").image_file, __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f"));
                  break;
              }
            }
            __classPrivateFieldSet5(this, _AssistantStream_currentContentIndex, content.index, "f");
          }
          __classPrivateFieldSet5(this, _AssistantStream_currentContent, accumulatedMessage.content[content.index], "f");
        }
      }
      break;
    case "thread.message.completed":
    case "thread.message.incomplete":
      if (__classPrivateFieldGet6(this, _AssistantStream_currentContentIndex, "f") !== void 0) {
        const currentContent = event.data.content[__classPrivateFieldGet6(this, _AssistantStream_currentContentIndex, "f")];
        if (currentContent) {
          switch (currentContent.type) {
            case "image_file":
              this._emit("imageFileDone", currentContent.image_file, __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f"));
              break;
            case "text":
              this._emit("textDone", currentContent.text, __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f"));
              break;
          }
        }
      }
      if (__classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f")) {
        this._emit("messageDone", event.data);
      }
      __classPrivateFieldSet5(this, _AssistantStream_messageSnapshot, void 0, "f");
  }
}, _AssistantStream_handleRunStep = function _AssistantStream_handleRunStep2(event) {
  const accumulatedRunStep = __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_accumulateRunStep).call(this, event);
  __classPrivateFieldSet5(this, _AssistantStream_currentRunStepSnapshot, accumulatedRunStep, "f");
  switch (event.event) {
    case "thread.run.step.created":
      this._emit("runStepCreated", event.data);
      break;
    case "thread.run.step.delta":
      const delta = event.data.delta;
      if (delta.step_details && delta.step_details.type == "tool_calls" && delta.step_details.tool_calls && accumulatedRunStep.step_details.type == "tool_calls") {
        for (const toolCall of delta.step_details.tool_calls) {
          if (toolCall.index == __classPrivateFieldGet6(this, _AssistantStream_currentToolCallIndex, "f")) {
            this._emit("toolCallDelta", toolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index]);
          } else {
            if (__classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f")) {
              this._emit("toolCallDone", __classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f"));
            }
            __classPrivateFieldSet5(this, _AssistantStream_currentToolCallIndex, toolCall.index, "f");
            __classPrivateFieldSet5(this, _AssistantStream_currentToolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index], "f");
            if (__classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f"))
              this._emit("toolCallCreated", __classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f"));
          }
        }
      }
      this._emit("runStepDelta", event.data.delta, accumulatedRunStep);
      break;
    case "thread.run.step.completed":
    case "thread.run.step.failed":
    case "thread.run.step.cancelled":
    case "thread.run.step.expired":
      __classPrivateFieldSet5(this, _AssistantStream_currentRunStepSnapshot, void 0, "f");
      const details = event.data.step_details;
      if (details.type == "tool_calls") {
        if (__classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f")) {
          this._emit("toolCallDone", __classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f"));
          __classPrivateFieldSet5(this, _AssistantStream_currentToolCall, void 0, "f");
        }
      }
      this._emit("runStepDone", event.data, accumulatedRunStep);
      break;
    case "thread.run.step.in_progress":
      break;
  }
}, _AssistantStream_handleEvent = function _AssistantStream_handleEvent2(event) {
  __classPrivateFieldGet6(this, _AssistantStream_events, "f").push(event);
  this._emit("event", event);
}, _AssistantStream_accumulateRunStep = function _AssistantStream_accumulateRunStep2(event) {
  switch (event.event) {
    case "thread.run.step.created":
      __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id] = event.data;
      return event.data;
    case "thread.run.step.delta":
      let snapshot = __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id];
      if (!snapshot) {
        throw Error("Received a RunStepDelta before creation of a snapshot");
      }
      let data = event.data;
      if (data.delta) {
        const accumulated = AssistantStream.accumulateDelta(snapshot, data.delta);
        __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id] = accumulated;
      }
      return __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id];
    case "thread.run.step.completed":
    case "thread.run.step.failed":
    case "thread.run.step.cancelled":
    case "thread.run.step.expired":
    case "thread.run.step.in_progress":
      __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id] = event.data;
      break;
  }
  if (__classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id])
    return __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id];
  throw new Error("No snapshot available");
}, _AssistantStream_accumulateMessage = function _AssistantStream_accumulateMessage2(event, snapshot) {
  let newContent = [];
  switch (event.event) {
    case "thread.message.created":
      return [event.data, newContent];
    case "thread.message.delta":
      if (!snapshot) {
        throw Error("Received a delta with no existing snapshot (there should be one from message creation)");
      }
      let data = event.data;
      if (data.delta.content) {
        for (const contentElement of data.delta.content) {
          if (contentElement.index in snapshot.content) {
            let currentContent = snapshot.content[contentElement.index];
            snapshot.content[contentElement.index] = __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_accumulateContent).call(this, contentElement, currentContent);
          } else {
            snapshot.content[contentElement.index] = contentElement;
            newContent.push(contentElement);
          }
        }
      }
      return [snapshot, newContent];
    case "thread.message.in_progress":
    case "thread.message.completed":
    case "thread.message.incomplete":
      if (snapshot) {
        return [snapshot, newContent];
      } else {
        throw Error("Received thread message event with no existing snapshot");
      }
  }
  throw Error("Tried to accumulate a non-message event");
}, _AssistantStream_accumulateContent = function _AssistantStream_accumulateContent2(contentElement, currentContent) {
  return AssistantStream.accumulateDelta(currentContent, contentElement);
}, _AssistantStream_handleRun = function _AssistantStream_handleRun2(event) {
  __classPrivateFieldSet5(this, _AssistantStream_currentRunSnapshot, event.data, "f");
  switch (event.event) {
    case "thread.run.created":
      break;
    case "thread.run.queued":
      break;
    case "thread.run.in_progress":
      break;
    case "thread.run.requires_action":
    case "thread.run.cancelled":
    case "thread.run.failed":
    case "thread.run.completed":
    case "thread.run.expired":
      __classPrivateFieldSet5(this, _AssistantStream_finalRun, event.data, "f");
      if (__classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f")) {
        this._emit("toolCallDone", __classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f"));
        __classPrivateFieldSet5(this, _AssistantStream_currentToolCall, void 0, "f");
      }
      break;
    case "thread.run.cancelling":
      break;
  }
};
function assertNever2(_x) {
}

// node_modules/openai/resources/beta/threads/messages.mjs
var Messages2 = class extends APIResource {
  /**
   * Create a message.
   */
  create(threadId, body, options) {
    return this._client.post(`/threads/${threadId}/messages`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieve a message.
   */
  retrieve(threadId, messageId, options) {
    return this._client.get(`/threads/${threadId}/messages/${messageId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a message.
   */
  update(threadId, messageId, body, options) {
    return this._client.post(`/threads/${threadId}/messages/${messageId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/messages`, MessagesPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Deletes a message.
   */
  del(threadId, messageId, options) {
    return this._client.delete(`/threads/${threadId}/messages/${messageId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};
var MessagesPage = class extends CursorPage {
};
Messages2.MessagesPage = MessagesPage;

// node_modules/openai/resources/beta/threads/runs/steps.mjs
var Steps = class extends APIResource {
  retrieve(threadId, runId, stepId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.retrieve(threadId, runId, stepId, {}, query);
    }
    return this._client.get(`/threads/${threadId}/runs/${runId}/steps/${stepId}`, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, runId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, runId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/runs/${runId}/steps`, RunStepsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};
var RunStepsPage = class extends CursorPage {
};
Steps.RunStepsPage = RunStepsPage;

// node_modules/openai/resources/beta/threads/runs/runs.mjs
var Runs = class extends APIResource {
  constructor() {
    super(...arguments);
    this.steps = new Steps(this._client);
  }
  create(threadId, params, options) {
    var _a2;
    const { include, ...body } = params;
    return this._client.post(`/threads/${threadId}/runs`, {
      query: { include },
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers },
      stream: (_a2 = params.stream) != null ? _a2 : false
    });
  }
  /**
   * Retrieves a run.
   */
  retrieve(threadId, runId, options) {
    return this._client.get(`/threads/${threadId}/runs/${runId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a run.
   */
  update(threadId, runId, body, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/runs`, RunsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Cancels a run that is `in_progress`.
   */
  cancel(threadId, runId, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}/cancel`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * A helper to create a run an poll for a terminal state. More information on Run
   * lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async createAndPoll(threadId, body, options) {
    const run = await this.create(threadId, body, options);
    return await this.poll(threadId, run.id, options);
  }
  /**
   * Create a Run stream
   *
   * @deprecated use `stream` instead
   */
  createAndStream(threadId, body, options) {
    return AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);
  }
  /**
   * A helper to poll a run status until it reaches a terminal state. More
   * information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async poll(threadId, runId, options) {
    const headers = { ...options == null ? void 0 : options.headers, "X-Stainless-Poll-Helper": "true" };
    if (options == null ? void 0 : options.pollIntervalMs) {
      headers["X-Stainless-Custom-Poll-Interval"] = options.pollIntervalMs.toString();
    }
    while (true) {
      const { data: run, response } = await this.retrieve(threadId, runId, {
        ...options,
        headers: { ...options == null ? void 0 : options.headers, ...headers }
      }).withResponse();
      switch (run.status) {
        case "queued":
        case "in_progress":
        case "cancelling":
          let sleepInterval = 5e3;
          if (options == null ? void 0 : options.pollIntervalMs) {
            sleepInterval = options.pollIntervalMs;
          } else {
            const headerInterval = response.headers.get("openai-poll-after-ms");
            if (headerInterval) {
              const headerIntervalMs = parseInt(headerInterval);
              if (!isNaN(headerIntervalMs)) {
                sleepInterval = headerIntervalMs;
              }
            }
          }
          await sleep(sleepInterval);
          break;
        case "requires_action":
        case "incomplete":
        case "cancelled":
        case "completed":
        case "failed":
        case "expired":
          return run;
      }
    }
  }
  /**
   * Create a Run stream
   */
  stream(threadId, body, options) {
    return AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);
  }
  submitToolOutputs(threadId, runId, body, options) {
    var _a2;
    return this._client.post(`/threads/${threadId}/runs/${runId}/submit_tool_outputs`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers },
      stream: (_a2 = body.stream) != null ? _a2 : false
    });
  }
  /**
   * A helper to submit a tool output to a run and poll for a terminal run state.
   * More information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async submitToolOutputsAndPoll(threadId, runId, body, options) {
    const run = await this.submitToolOutputs(threadId, runId, body, options);
    return await this.poll(threadId, run.id, options);
  }
  /**
   * Submit the tool outputs from a previous run and stream the run to a terminal
   * state. More information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  submitToolOutputsStream(threadId, runId, body, options) {
    return AssistantStream.createToolAssistantStream(threadId, runId, this._client.beta.threads.runs, body, options);
  }
};
var RunsPage = class extends CursorPage {
};
Runs.RunsPage = RunsPage;
Runs.Steps = Steps;
Runs.RunStepsPage = RunStepsPage;

// node_modules/openai/resources/beta/threads/threads.mjs
var Threads = class extends APIResource {
  constructor() {
    super(...arguments);
    this.runs = new Runs(this._client);
    this.messages = new Messages2(this._client);
  }
  create(body = {}, options) {
    if (isRequestOptions(body)) {
      return this.create({}, body);
    }
    return this._client.post("/threads", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a thread.
   */
  retrieve(threadId, options) {
    return this._client.get(`/threads/${threadId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a thread.
   */
  update(threadId, body, options) {
    return this._client.post(`/threads/${threadId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete a thread.
   */
  del(threadId, options) {
    return this._client.delete(`/threads/${threadId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  createAndRun(body, options) {
    var _a2;
    return this._client.post("/threads/runs", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers },
      stream: (_a2 = body.stream) != null ? _a2 : false
    });
  }
  /**
   * A helper to create a thread, start a run and then poll for a terminal state.
   * More information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async createAndRunPoll(body, options) {
    const run = await this.createAndRun(body, options);
    return await this.runs.poll(run.thread_id, run.id, options);
  }
  /**
   * Create a thread and stream the run back
   */
  createAndRunStream(body, options) {
    return AssistantStream.createThreadAssistantStream(body, this._client.beta.threads, options);
  }
};
Threads.Runs = Runs;
Threads.RunsPage = RunsPage;
Threads.Messages = Messages2;
Threads.MessagesPage = MessagesPage;

// node_modules/openai/resources/beta/beta.mjs
var Beta = class extends APIResource {
  constructor() {
    super(...arguments);
    this.realtime = new Realtime(this._client);
    this.chat = new Chat2(this._client);
    this.assistants = new Assistants(this._client);
    this.threads = new Threads(this._client);
  }
};
Beta.Realtime = Realtime;
Beta.Assistants = Assistants;
Beta.AssistantsPage = AssistantsPage;
Beta.Threads = Threads;

// node_modules/openai/resources/completions.mjs
var Completions3 = class extends APIResource {
  create(body, options) {
    var _a2;
    return this._client.post("/completions", { body, ...options, stream: (_a2 = body.stream) != null ? _a2 : false });
  }
};

// node_modules/openai/resources/embeddings.mjs
var Embeddings = class extends APIResource {
  /**
   * Creates an embedding vector representing the input text.
   */
  create(body, options) {
    return this._client.post("/embeddings", { body, ...options });
  }
};

// node_modules/openai/resources/files.mjs
var Files = class extends APIResource {
  /**
   * Upload a file that can be used across various endpoints. Individual files can be
   * up to 512 MB, and the size of all files uploaded by one organization can be up
   * to 100 GB.
   *
   * The Assistants API supports files up to 2 million tokens and of specific file
   * types. See the
   * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for
   * details.
   *
   * The Fine-tuning API only supports `.jsonl` files. The input also has certain
   * required formats for fine-tuning
   * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or
   * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)
   * models.
   *
   * The Batch API only supports `.jsonl` files up to 200 MB in size. The input also
   * has a specific required
   * [format](https://platform.openai.com/docs/api-reference/batch/request-input).
   *
   * Please [contact us](https://help.openai.com/) if you need to increase these
   * storage limits.
   */
  create(body, options) {
    return this._client.post("/files", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Returns information about a specific file.
   */
  retrieve(fileId, options) {
    return this._client.get(`/files/${fileId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/files", FileObjectsPage, { query, ...options });
  }
  /**
   * Delete a file.
   */
  del(fileId, options) {
    return this._client.delete(`/files/${fileId}`, options);
  }
  /**
   * Returns the contents of the specified file.
   */
  content(fileId, options) {
    return this._client.get(`/files/${fileId}/content`, {
      ...options,
      headers: { Accept: "application/binary", ...options == null ? void 0 : options.headers },
      __binaryResponse: true
    });
  }
  /**
   * Returns the contents of the specified file.
   *
   * @deprecated The `.content()` method should be used instead
   */
  retrieveContent(fileId, options) {
    return this._client.get(`/files/${fileId}/content`, options);
  }
  /**
   * Waits for the given file to be processed, default timeout is 30 mins.
   */
  async waitForProcessing(id, { pollInterval = 5e3, maxWait = 30 * 60 * 1e3 } = {}) {
    const TERMINAL_STATES = /* @__PURE__ */ new Set(["processed", "error", "deleted"]);
    const start2 = Date.now();
    let file = await this.retrieve(id);
    while (!file.status || !TERMINAL_STATES.has(file.status)) {
      await sleep(pollInterval);
      file = await this.retrieve(id);
      if (Date.now() - start2 > maxWait) {
        throw new APIConnectionTimeoutError({
          message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`
        });
      }
    }
    return file;
  }
};
var FileObjectsPage = class extends CursorPage {
};
Files.FileObjectsPage = FileObjectsPage;

// node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs
var Checkpoints = class extends APIResource {
  list(fineTuningJobId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(fineTuningJobId, {}, query);
    }
    return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/checkpoints`, FineTuningJobCheckpointsPage, { query, ...options });
  }
};
var FineTuningJobCheckpointsPage = class extends CursorPage {
};
Checkpoints.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage;

// node_modules/openai/resources/fine-tuning/jobs/jobs.mjs
var Jobs = class extends APIResource {
  constructor() {
    super(...arguments);
    this.checkpoints = new Checkpoints(this._client);
  }
  /**
   * Creates a fine-tuning job which begins the process of creating a new model from
   * a given dataset.
   *
   * Response includes details of the enqueued job including job status and the name
   * of the fine-tuned models once complete.
   *
   * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)
   */
  create(body, options) {
    return this._client.post("/fine_tuning/jobs", { body, ...options });
  }
  /**
   * Get info about a fine-tuning job.
   *
   * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)
   */
  retrieve(fineTuningJobId, options) {
    return this._client.get(`/fine_tuning/jobs/${fineTuningJobId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/fine_tuning/jobs", FineTuningJobsPage, { query, ...options });
  }
  /**
   * Immediately cancel a fine-tune job.
   */
  cancel(fineTuningJobId, options) {
    return this._client.post(`/fine_tuning/jobs/${fineTuningJobId}/cancel`, options);
  }
  listEvents(fineTuningJobId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.listEvents(fineTuningJobId, {}, query);
    }
    return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/events`, FineTuningJobEventsPage, {
      query,
      ...options
    });
  }
};
var FineTuningJobsPage = class extends CursorPage {
};
var FineTuningJobEventsPage = class extends CursorPage {
};
Jobs.FineTuningJobsPage = FineTuningJobsPage;
Jobs.FineTuningJobEventsPage = FineTuningJobEventsPage;
Jobs.Checkpoints = Checkpoints;
Jobs.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage;

// node_modules/openai/resources/fine-tuning/fine-tuning.mjs
var FineTuning = class extends APIResource {
  constructor() {
    super(...arguments);
    this.jobs = new Jobs(this._client);
  }
};
FineTuning.Jobs = Jobs;
FineTuning.FineTuningJobsPage = FineTuningJobsPage;
FineTuning.FineTuningJobEventsPage = FineTuningJobEventsPage;

// node_modules/openai/resources/images.mjs
var Images = class extends APIResource {
  /**
   * Creates a variation of a given image.
   */
  createVariation(body, options) {
    return this._client.post("/images/variations", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Creates an edited or extended image given an original image and a prompt.
   */
  edit(body, options) {
    return this._client.post("/images/edits", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Creates an image given a prompt.
   */
  generate(body, options) {
    return this._client.post("/images/generations", { body, ...options });
  }
};

// node_modules/openai/resources/models.mjs
var Models = class extends APIResource {
  /**
   * Retrieves a model instance, providing basic information about the model such as
   * the owner and permissioning.
   */
  retrieve(model4, options) {
    return this._client.get(`/models/${model4}`, options);
  }
  /**
   * Lists the currently available models, and provides basic information about each
   * one such as the owner and availability.
   */
  list(options) {
    return this._client.getAPIList("/models", ModelsPage, options);
  }
  /**
   * Delete a fine-tuned model. You must have the Owner role in your organization to
   * delete a model.
   */
  del(model4, options) {
    return this._client.delete(`/models/${model4}`, options);
  }
};
var ModelsPage = class extends Page {
};
Models.ModelsPage = ModelsPage;

// node_modules/openai/resources/moderations.mjs
var Moderations = class extends APIResource {
  /**
   * Classifies if text and/or image inputs are potentially harmful. Learn more in
   * the [moderation guide](https://platform.openai.com/docs/guides/moderation).
   */
  create(body, options) {
    return this._client.post("/moderations", { body, ...options });
  }
};

// node_modules/openai/lib/ResponsesParser.mjs
function maybeParseResponse(response, params) {
  if (!params || !hasAutoParseableInput2(params)) {
    return {
      ...response,
      output_parsed: null,
      output: response.output.map((item) => {
        if (item.type === "function_call") {
          return {
            ...item,
            parsed_arguments: null
          };
        }
        if (item.type === "message") {
          return {
            ...item,
            content: item.content.map((content) => ({
              ...content,
              parsed: null
            }))
          };
        } else {
          return item;
        }
      })
    };
  }
  return parseResponse(response, params);
}
function parseResponse(response, params) {
  const output = response.output.map((item) => {
    if (item.type === "function_call") {
      return {
        ...item,
        parsed_arguments: parseToolCall2(params, item)
      };
    }
    if (item.type === "message") {
      const content = item.content.map((content2) => {
        if (content2.type === "output_text") {
          return {
            ...content2,
            parsed: parseTextFormat(params, content2.text)
          };
        }
        return content2;
      });
      return {
        ...item,
        content
      };
    }
    return item;
  });
  const parsed = Object.assign({}, response, { output });
  if (!Object.getOwnPropertyDescriptor(response, "output_text")) {
    addOutputText(parsed);
  }
  Object.defineProperty(parsed, "output_parsed", {
    enumerable: true,
    get() {
      for (const output2 of parsed.output) {
        if (output2.type !== "message") {
          continue;
        }
        for (const content of output2.content) {
          if (content.type === "output_text" && content.parsed !== null) {
            return content.parsed;
          }
        }
      }
      return null;
    }
  });
  return parsed;
}
function parseTextFormat(params, content) {
  var _a2, _b, _c, _d;
  if (((_b = (_a2 = params.text) == null ? void 0 : _a2.format) == null ? void 0 : _b.type) !== "json_schema") {
    return null;
  }
  if ("$parseRaw" in ((_c = params.text) == null ? void 0 : _c.format)) {
    const text_format = (_d = params.text) == null ? void 0 : _d.format;
    return text_format.$parseRaw(content);
  }
  return JSON.parse(content);
}
function hasAutoParseableInput2(params) {
  var _a2;
  if (isAutoParsableResponseFormat((_a2 = params.text) == null ? void 0 : _a2.format)) {
    return true;
  }
  return false;
}
function isAutoParsableTool2(tool) {
  return (tool == null ? void 0 : tool["$brand"]) === "auto-parseable-tool";
}
function getInputToolByName(input_tools, name) {
  return input_tools.find((tool) => tool.type === "function" && tool.name === name);
}
function parseToolCall2(params, toolCall) {
  var _a2;
  const inputTool = getInputToolByName((_a2 = params.tools) != null ? _a2 : [], toolCall.name);
  return {
    ...toolCall,
    ...toolCall,
    parsed_arguments: isAutoParsableTool2(inputTool) ? inputTool.$parseRaw(toolCall.arguments) : (inputTool == null ? void 0 : inputTool.strict) ? JSON.parse(toolCall.arguments) : null
  };
}
function addOutputText(rsp) {
  const texts = [];
  for (const output of rsp.output) {
    if (output.type !== "message") {
      continue;
    }
    for (const content of output.content) {
      if (content.type === "output_text") {
        texts.push(content.text);
      }
    }
  }
  rsp.output_text = texts.join("");
}

// node_modules/openai/resources/responses/input-items.mjs
var InputItems = class extends APIResource {
  list(responseId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(responseId, {}, query);
    }
    return this._client.getAPIList(`/responses/${responseId}/input_items`, ResponseItemsPage, {
      query,
      ...options
    });
  }
};

// node_modules/openai/lib/responses/ResponseStream.mjs
var __classPrivateFieldSet6 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet7 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _ResponseStream_instances;
var _ResponseStream_params;
var _ResponseStream_currentResponseSnapshot;
var _ResponseStream_finalResponse;
var _ResponseStream_beginRequest;
var _ResponseStream_addEvent;
var _ResponseStream_endRequest;
var _ResponseStream_accumulateResponse;
var ResponseStream = class extends EventStream {
  constructor(params) {
    super();
    _ResponseStream_instances.add(this);
    _ResponseStream_params.set(this, void 0);
    _ResponseStream_currentResponseSnapshot.set(this, void 0);
    _ResponseStream_finalResponse.set(this, void 0);
    __classPrivateFieldSet6(this, _ResponseStream_params, params, "f");
  }
  static createResponse(client, params, options) {
    const runner = new ResponseStream(params);
    runner._run(() => runner._createResponse(client, params, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  async _createResponse(client, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet7(this, _ResponseStream_instances, "m", _ResponseStream_beginRequest).call(this);
    const stream = await client.responses.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet7(this, _ResponseStream_instances, "m", _ResponseStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return __classPrivateFieldGet7(this, _ResponseStream_instances, "m", _ResponseStream_endRequest).call(this);
  }
  [(_ResponseStream_params = /* @__PURE__ */ new WeakMap(), _ResponseStream_currentResponseSnapshot = /* @__PURE__ */ new WeakMap(), _ResponseStream_finalResponse = /* @__PURE__ */ new WeakMap(), _ResponseStream_instances = /* @__PURE__ */ new WeakSet(), _ResponseStream_beginRequest = function _ResponseStream_beginRequest2() {
    if (this.ended)
      return;
    __classPrivateFieldSet6(this, _ResponseStream_currentResponseSnapshot, void 0, "f");
  }, _ResponseStream_addEvent = function _ResponseStream_addEvent2(event) {
    if (this.ended)
      return;
    const response = __classPrivateFieldGet7(this, _ResponseStream_instances, "m", _ResponseStream_accumulateResponse).call(this, event);
    this._emit("event", event);
    switch (event.type) {
      case "response.output_text.delta": {
        const output = response.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "message") {
          const content = output.content[event.content_index];
          if (!content) {
            throw new OpenAIError(`missing content at index ${event.content_index}`);
          }
          if (content.type !== "output_text") {
            throw new OpenAIError(`expected content to be 'output_text', got ${content.type}`);
          }
          this._emit("response.output_text.delta", {
            ...event,
            snapshot: content.text
          });
        }
        break;
      }
      case "response.function_call_arguments.delta": {
        const output = response.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "function_call") {
          this._emit("response.function_call_arguments.delta", {
            ...event,
            snapshot: output.arguments
          });
        }
        break;
      }
      default:
        this._emit(event.type, event);
        break;
    }
  }, _ResponseStream_endRequest = function _ResponseStream_endRequest2() {
    if (this.ended) {
      throw new OpenAIError(`stream has ended, this shouldn't happen`);
    }
    const snapshot = __classPrivateFieldGet7(this, _ResponseStream_currentResponseSnapshot, "f");
    if (!snapshot) {
      throw new OpenAIError(`request ended without sending any events`);
    }
    __classPrivateFieldSet6(this, _ResponseStream_currentResponseSnapshot, void 0, "f");
    const parsedResponse = finalizeResponse(snapshot, __classPrivateFieldGet7(this, _ResponseStream_params, "f"));
    __classPrivateFieldSet6(this, _ResponseStream_finalResponse, parsedResponse, "f");
    return parsedResponse;
  }, _ResponseStream_accumulateResponse = function _ResponseStream_accumulateResponse2(event) {
    let snapshot = __classPrivateFieldGet7(this, _ResponseStream_currentResponseSnapshot, "f");
    if (!snapshot) {
      if (event.type !== "response.created") {
        throw new OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${event.type}`);
      }
      snapshot = __classPrivateFieldSet6(this, _ResponseStream_currentResponseSnapshot, event.response, "f");
      return snapshot;
    }
    switch (event.type) {
      case "response.output_item.added": {
        snapshot.output.push(event.item);
        break;
      }
      case "response.content_part.added": {
        const output = snapshot.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "message") {
          output.content.push(event.part);
        }
        break;
      }
      case "response.output_text.delta": {
        const output = snapshot.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "message") {
          const content = output.content[event.content_index];
          if (!content) {
            throw new OpenAIError(`missing content at index ${event.content_index}`);
          }
          if (content.type !== "output_text") {
            throw new OpenAIError(`expected content to be 'output_text', got ${content.type}`);
          }
          content.text += event.delta;
        }
        break;
      }
      case "response.function_call_arguments.delta": {
        const output = snapshot.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "function_call") {
          output.arguments += event.delta;
        }
        break;
      }
      case "response.completed": {
        __classPrivateFieldSet6(this, _ResponseStream_currentResponseSnapshot, event.response, "f");
        break;
      }
    }
    return snapshot;
  }, Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("event", (event) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(event);
      } else {
        pushQueue.push(event);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve2, reject) => readQueue.push({ resolve: resolve2, reject })).then((event2) => event2 ? { value: event2, done: false } : { value: void 0, done: true });
        }
        const event = pushQueue.shift();
        return { value: event, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  /**
   * @returns a promise that resolves with the final Response, or rejects
   * if an error occurred or the stream ended prematurely without producing a REsponse.
   */
  async finalResponse() {
    await this.done();
    const response = __classPrivateFieldGet7(this, _ResponseStream_finalResponse, "f");
    if (!response)
      throw new OpenAIError("stream ended without producing a ChatCompletion");
    return response;
  }
};
function finalizeResponse(snapshot, params) {
  return maybeParseResponse(snapshot, params);
}

// node_modules/openai/resources/responses/responses.mjs
var Responses = class extends APIResource {
  constructor() {
    super(...arguments);
    this.inputItems = new InputItems(this._client);
  }
  create(body, options) {
    var _a2;
    return this._client.post("/responses", { body, ...options, stream: (_a2 = body.stream) != null ? _a2 : false })._thenUnwrap((rsp) => {
      if ("object" in rsp && rsp.object === "response") {
        addOutputText(rsp);
      }
      return rsp;
    });
  }
  retrieve(responseId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.retrieve(responseId, {}, query);
    }
    return this._client.get(`/responses/${responseId}`, { query, ...options });
  }
  /**
   * Deletes a model response with the given ID.
   */
  del(responseId, options) {
    return this._client.delete(`/responses/${responseId}`, {
      ...options,
      headers: { Accept: "*/*", ...options == null ? void 0 : options.headers }
    });
  }
  parse(body, options) {
    return this._client.responses.create(body, options)._thenUnwrap((response) => parseResponse(response, body));
  }
  /**
   * Creates a chat completion stream
   */
  stream(body, options) {
    return ResponseStream.createResponse(this._client, body, options);
  }
};
var ResponseItemsPage = class extends CursorPage {
};
Responses.InputItems = InputItems;

// node_modules/openai/resources/uploads/parts.mjs
var Parts = class extends APIResource {
  /**
   * Adds a
   * [Part](https://platform.openai.com/docs/api-reference/uploads/part-object) to an
   * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object.
   * A Part represents a chunk of bytes from the file you are trying to upload.
   *
   * Each Part can be at most 64 MB, and you can add Parts until you hit the Upload
   * maximum of 8 GB.
   *
   * It is possible to add multiple Parts in parallel. You can decide the intended
   * order of the Parts when you
   * [complete the Upload](https://platform.openai.com/docs/api-reference/uploads/complete).
   */
  create(uploadId, body, options) {
    return this._client.post(`/uploads/${uploadId}/parts`, multipartFormRequestOptions({ body, ...options }));
  }
};

// node_modules/openai/resources/uploads/uploads.mjs
var Uploads = class extends APIResource {
  constructor() {
    super(...arguments);
    this.parts = new Parts(this._client);
  }
  /**
   * Creates an intermediate
   * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object
   * that you can add
   * [Parts](https://platform.openai.com/docs/api-reference/uploads/part-object) to.
   * Currently, an Upload can accept at most 8 GB in total and expires after an hour
   * after you create it.
   *
   * Once you complete the Upload, we will create a
   * [File](https://platform.openai.com/docs/api-reference/files/object) object that
   * contains all the parts you uploaded. This File is usable in the rest of our
   * platform as a regular File object.
   *
   * For certain `purpose` values, the correct `mime_type` must be specified. Please
   * refer to documentation for the
   * [supported MIME types for your use case](https://platform.openai.com/docs/assistants/tools/file-search#supported-files).
   *
   * For guidance on the proper filename extensions for each purpose, please follow
   * the documentation on
   * [creating a File](https://platform.openai.com/docs/api-reference/files/create).
   */
  create(body, options) {
    return this._client.post("/uploads", { body, ...options });
  }
  /**
   * Cancels the Upload. No Parts may be added after an Upload is cancelled.
   */
  cancel(uploadId, options) {
    return this._client.post(`/uploads/${uploadId}/cancel`, options);
  }
  /**
   * Completes the
   * [Upload](https://platform.openai.com/docs/api-reference/uploads/object).
   *
   * Within the returned Upload object, there is a nested
   * [File](https://platform.openai.com/docs/api-reference/files/object) object that
   * is ready to use in the rest of the platform.
   *
   * You can specify the order of the Parts by passing in an ordered list of the Part
   * IDs.
   *
   * The number of bytes uploaded upon completion must match the number of bytes
   * initially specified when creating the Upload object. No Parts may be added after
   * an Upload is completed.
   */
  complete(uploadId, body, options) {
    return this._client.post(`/uploads/${uploadId}/complete`, { body, ...options });
  }
};
Uploads.Parts = Parts;

// node_modules/openai/lib/Util.mjs
var allSettledWithThrow = async (promises2) => {
  const results = await Promise.allSettled(promises2);
  const rejected = results.filter((result) => result.status === "rejected");
  if (rejected.length) {
    for (const result of rejected) {
      console.error(result.reason);
    }
    throw new Error(`${rejected.length} promise(s) failed - see the above errors`);
  }
  const values = [];
  for (const result of results) {
    if (result.status === "fulfilled") {
      values.push(result.value);
    }
  }
  return values;
};

// node_modules/openai/resources/vector-stores/files.mjs
var Files2 = class extends APIResource {
  /**
   * Create a vector store file by attaching a
   * [File](https://platform.openai.com/docs/api-reference/files) to a
   * [vector store](https://platform.openai.com/docs/api-reference/vector-stores/object).
   */
  create(vectorStoreId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/files`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a vector store file.
   */
  retrieve(vectorStoreId, fileId, options) {
    return this._client.get(`/vector_stores/${vectorStoreId}/files/${fileId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Update attributes on a vector store file.
   */
  update(vectorStoreId, fileId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/files/${fileId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(vectorStoreId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(vectorStoreId, {}, query);
    }
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files`, VectorStoreFilesPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete a vector store file. This will remove the file from the vector store but
   * the file itself will not be deleted. To delete the file, use the
   * [delete file](https://platform.openai.com/docs/api-reference/files/delete)
   * endpoint.
   */
  del(vectorStoreId, fileId, options) {
    return this._client.delete(`/vector_stores/${vectorStoreId}/files/${fileId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Attach a file to the given vector store and wait for it to be processed.
   */
  async createAndPoll(vectorStoreId, body, options) {
    const file = await this.create(vectorStoreId, body, options);
    return await this.poll(vectorStoreId, file.id, options);
  }
  /**
   * Wait for the vector store file to finish processing.
   *
   * Note: this will return even if the file failed to process, you need to check
   * file.last_error and file.status to handle these cases
   */
  async poll(vectorStoreId, fileId, options) {
    const headers = { ...options == null ? void 0 : options.headers, "X-Stainless-Poll-Helper": "true" };
    if (options == null ? void 0 : options.pollIntervalMs) {
      headers["X-Stainless-Custom-Poll-Interval"] = options.pollIntervalMs.toString();
    }
    while (true) {
      const fileResponse = await this.retrieve(vectorStoreId, fileId, {
        ...options,
        headers
      }).withResponse();
      const file = fileResponse.data;
      switch (file.status) {
        case "in_progress":
          let sleepInterval = 5e3;
          if (options == null ? void 0 : options.pollIntervalMs) {
            sleepInterval = options.pollIntervalMs;
          } else {
            const headerInterval = fileResponse.response.headers.get("openai-poll-after-ms");
            if (headerInterval) {
              const headerIntervalMs = parseInt(headerInterval);
              if (!isNaN(headerIntervalMs)) {
                sleepInterval = headerIntervalMs;
              }
            }
          }
          await sleep(sleepInterval);
          break;
        case "failed":
        case "completed":
          return file;
      }
    }
  }
  /**
   * Upload a file to the `files` API and then attach it to the given vector store.
   *
   * Note the file will be asynchronously processed (you can use the alternative
   * polling helper method to wait for processing to complete).
   */
  async upload(vectorStoreId, file, options) {
    const fileInfo = await this._client.files.create({ file, purpose: "assistants" }, options);
    return this.create(vectorStoreId, { file_id: fileInfo.id }, options);
  }
  /**
   * Add a file to a vector store and poll until processing is complete.
   */
  async uploadAndPoll(vectorStoreId, file, options) {
    const fileInfo = await this.upload(vectorStoreId, file, options);
    return await this.poll(vectorStoreId, fileInfo.id, options);
  }
  /**
   * Retrieve the parsed contents of a vector store file.
   */
  content(vectorStoreId, fileId, options) {
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files/${fileId}/content`, FileContentResponsesPage, { ...options, headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers } });
  }
};
var VectorStoreFilesPage = class extends CursorPage {
};
var FileContentResponsesPage = class extends Page {
};
Files2.VectorStoreFilesPage = VectorStoreFilesPage;
Files2.FileContentResponsesPage = FileContentResponsesPage;

// node_modules/openai/resources/vector-stores/file-batches.mjs
var FileBatches = class extends APIResource {
  /**
   * Create a vector store file batch.
   */
  create(vectorStoreId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/file_batches`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a vector store file batch.
   */
  retrieve(vectorStoreId, batchId, options) {
    return this._client.get(`/vector_stores/${vectorStoreId}/file_batches/${batchId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Cancel a vector store file batch. This attempts to cancel the processing of
   * files in this batch as soon as possible.
   */
  cancel(vectorStoreId, batchId, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/cancel`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Create a vector store batch and poll until all files have been processed.
   */
  async createAndPoll(vectorStoreId, body, options) {
    const batch = await this.create(vectorStoreId, body);
    return await this.poll(vectorStoreId, batch.id, options);
  }
  listFiles(vectorStoreId, batchId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.listFiles(vectorStoreId, batchId, {}, query);
    }
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/files`, VectorStoreFilesPage, { query, ...options, headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers } });
  }
  /**
   * Wait for the given file batch to be processed.
   *
   * Note: this will return even if one of the files failed to process, you need to
   * check batch.file_counts.failed_count to handle this case.
   */
  async poll(vectorStoreId, batchId, options) {
    const headers = { ...options == null ? void 0 : options.headers, "X-Stainless-Poll-Helper": "true" };
    if (options == null ? void 0 : options.pollIntervalMs) {
      headers["X-Stainless-Custom-Poll-Interval"] = options.pollIntervalMs.toString();
    }
    while (true) {
      const { data: batch, response } = await this.retrieve(vectorStoreId, batchId, {
        ...options,
        headers
      }).withResponse();
      switch (batch.status) {
        case "in_progress":
          let sleepInterval = 5e3;
          if (options == null ? void 0 : options.pollIntervalMs) {
            sleepInterval = options.pollIntervalMs;
          } else {
            const headerInterval = response.headers.get("openai-poll-after-ms");
            if (headerInterval) {
              const headerIntervalMs = parseInt(headerInterval);
              if (!isNaN(headerIntervalMs)) {
                sleepInterval = headerIntervalMs;
              }
            }
          }
          await sleep(sleepInterval);
          break;
        case "failed":
        case "cancelled":
        case "completed":
          return batch;
      }
    }
  }
  /**
   * Uploads the given files concurrently and then creates a vector store file batch.
   *
   * The concurrency limit is configurable using the `maxConcurrency` parameter.
   */
  async uploadAndPoll(vectorStoreId, { files, fileIds = [] }, options) {
    var _a2;
    if (files == null || files.length == 0) {
      throw new Error(`No \`files\` provided to process. If you've already uploaded files you should use \`.createAndPoll()\` instead`);
    }
    const configuredConcurrency = (_a2 = options == null ? void 0 : options.maxConcurrency) != null ? _a2 : 5;
    const concurrencyLimit = Math.min(configuredConcurrency, files.length);
    const client = this._client;
    const fileIterator = files.values();
    const allFileIds = [...fileIds];
    async function processFiles(iterator) {
      for (let item of iterator) {
        const fileObj = await client.files.create({ file: item, purpose: "assistants" }, options);
        allFileIds.push(fileObj.id);
      }
    }
    const workers = Array(concurrencyLimit).fill(fileIterator).map(processFiles);
    await allSettledWithThrow(workers);
    return await this.createAndPoll(vectorStoreId, {
      file_ids: allFileIds
    });
  }
};

// node_modules/openai/resources/vector-stores/vector-stores.mjs
var VectorStores = class extends APIResource {
  constructor() {
    super(...arguments);
    this.files = new Files2(this._client);
    this.fileBatches = new FileBatches(this._client);
  }
  /**
   * Create a vector store.
   */
  create(body, options) {
    return this._client.post("/vector_stores", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a vector store.
   */
  retrieve(vectorStoreId, options) {
    return this._client.get(`/vector_stores/${vectorStoreId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a vector store.
   */
  update(vectorStoreId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/vector_stores", VectorStoresPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete a vector store.
   */
  del(vectorStoreId, options) {
    return this._client.delete(`/vector_stores/${vectorStoreId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Search a vector store for relevant chunks based on a query and file attributes
   * filter.
   */
  search(vectorStoreId, body, options) {
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/search`, VectorStoreSearchResponsesPage, {
      body,
      method: "post",
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};
var VectorStoresPage = class extends CursorPage {
};
var VectorStoreSearchResponsesPage = class extends Page {
};
VectorStores.VectorStoresPage = VectorStoresPage;
VectorStores.VectorStoreSearchResponsesPage = VectorStoreSearchResponsesPage;
VectorStores.Files = Files2;
VectorStores.VectorStoreFilesPage = VectorStoreFilesPage;
VectorStores.FileContentResponsesPage = FileContentResponsesPage;
VectorStores.FileBatches = FileBatches;

// node_modules/openai/index.mjs
var _a;
var OpenAI = class extends APIClient {
  /**
   * API Client for interfacing with the OpenAI API.
   *
   * @param {string | undefined} [opts.apiKey=process.env['OPENAI_API_KEY'] ?? undefined]
   * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]
   * @param {string | null | undefined} [opts.project=process.env['OPENAI_PROJECT_ID'] ?? null]
   * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL'] ?? https://api.openai.com/v1] - Override the default base URL for the API.
   * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.
   * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.
   * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.
   * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.
   * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.
   * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.
   * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.
   */
  constructor({ baseURL = readEnv("OPENAI_BASE_URL"), apiKey = readEnv("OPENAI_API_KEY"), organization = ((_a2) => (_a2 = readEnv("OPENAI_ORG_ID")) != null ? _a2 : null)(), project = ((_b) => (_b = readEnv("OPENAI_PROJECT_ID")) != null ? _b : null)(), ...opts2 } = {}) {
    var _a3;
    if (apiKey === void 0) {
      throw new OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");
    }
    const options = {
      apiKey,
      organization,
      project,
      ...opts2,
      baseURL: baseURL || `https://api.openai.com/v1`
    };
    if (!options.dangerouslyAllowBrowser && isRunningInBrowser()) {
      throw new OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");
    }
    super({
      baseURL: options.baseURL,
      timeout: (_a3 = options.timeout) != null ? _a3 : 6e5,
      httpAgent: options.httpAgent,
      maxRetries: options.maxRetries,
      fetch: options.fetch
    });
    this.completions = new Completions3(this);
    this.chat = new Chat(this);
    this.embeddings = new Embeddings(this);
    this.files = new Files(this);
    this.images = new Images(this);
    this.audio = new Audio(this);
    this.moderations = new Moderations(this);
    this.models = new Models(this);
    this.fineTuning = new FineTuning(this);
    this.vectorStores = new VectorStores(this);
    this.beta = new Beta(this);
    this.batches = new Batches(this);
    this.uploads = new Uploads(this);
    this.responses = new Responses(this);
    this._options = options;
    this.apiKey = apiKey;
    this.organization = organization;
    this.project = project;
  }
  defaultQuery() {
    return this._options.defaultQuery;
  }
  defaultHeaders(opts2) {
    return {
      ...super.defaultHeaders(opts2),
      "OpenAI-Organization": this.organization,
      "OpenAI-Project": this.project,
      ...this._options.defaultHeaders
    };
  }
  authHeaders(opts2) {
    return { Authorization: `Bearer ${this.apiKey}` };
  }
  stringifyQuery(query) {
    return stringify(query, { arrayFormat: "brackets" });
  }
};
_a = OpenAI;
OpenAI.OpenAI = _a;
OpenAI.DEFAULT_TIMEOUT = 6e5;
OpenAI.OpenAIError = OpenAIError;
OpenAI.APIError = APIError;
OpenAI.APIConnectionError = APIConnectionError;
OpenAI.APIConnectionTimeoutError = APIConnectionTimeoutError;
OpenAI.APIUserAbortError = APIUserAbortError;
OpenAI.NotFoundError = NotFoundError;
OpenAI.ConflictError = ConflictError;
OpenAI.RateLimitError = RateLimitError;
OpenAI.BadRequestError = BadRequestError;
OpenAI.AuthenticationError = AuthenticationError;
OpenAI.InternalServerError = InternalServerError;
OpenAI.PermissionDeniedError = PermissionDeniedError;
OpenAI.UnprocessableEntityError = UnprocessableEntityError;
OpenAI.toFile = toFile;
OpenAI.fileFromPath = fileFromPath;
OpenAI.Completions = Completions3;
OpenAI.Chat = Chat;
OpenAI.ChatCompletionsPage = ChatCompletionsPage;
OpenAI.Embeddings = Embeddings;
OpenAI.Files = Files;
OpenAI.FileObjectsPage = FileObjectsPage;
OpenAI.Images = Images;
OpenAI.Audio = Audio;
OpenAI.Moderations = Moderations;
OpenAI.Models = Models;
OpenAI.ModelsPage = ModelsPage;
OpenAI.FineTuning = FineTuning;
OpenAI.VectorStores = VectorStores;
OpenAI.VectorStoresPage = VectorStoresPage;
OpenAI.VectorStoreSearchResponsesPage = VectorStoreSearchResponsesPage;
OpenAI.Beta = Beta;
OpenAI.Batches = Batches;
OpenAI.BatchesPage = BatchesPage;
OpenAI.Uploads = Uploads;
OpenAI.Responses = Responses;
var openai_default = OpenAI;

// src/providers/openai/provider.ts
var OpenAIProvider = class {
  constructor(settings) {
    this.aborted = false;
    this.settings = settings;
    this.client = new openai_default({
      apiKey: this.settings.apiKey,
      dangerouslyAllowBrowser: true
    });
  }
  async *generate(editor, options) {
    var _a2, _b;
    this.aborted = false;
    this.abortcontroller = new AbortController();
    const initialPosition = editor.getCursor();
    const prompt = preparePrompt(editor, options.userPrompt);
    const stream = await this.client.chat.completions.create({
      model: options.model,
      messages: [
        { role: "system", content: options.systemPrompt },
        { role: "user", content: prompt }
      ],
      temperature: options.temperature,
      stream: true
    }, { signal: this.abortcontroller.signal });
    let completion = "";
    for await (const chunk of stream) {
      if (this.aborted) {
        return;
      }
      if (this.cursorMoved(editor, initialPosition)) {
        this.abort();
        return;
      }
      const content = ((_b = (_a2 = chunk.choices[0]) == null ? void 0 : _a2.delta) == null ? void 0 : _b.content) || "";
      completion += content;
      yield completion;
    }
  }
  async abort() {
    if (this.aborted)
      return;
    this.aborted = true;
    this.abortcontroller.abort();
  }
  async updateModels() {
    if (!this.client) {
      return this.settings.models;
    }
    const models = await this.client.models.list();
    const chatModels = models.data.filter((model4) => model4.id.includes("gpt")).map((model4) => model4.id);
    this.settings.models = chatModels;
    return chatModels;
  }
  async connectionTest() {
    try {
      await this.client.models.list();
      return true;
    } catch (error) {
      console.error("Error testing connection:", error);
      return false;
    }
  }
  cursorMoved(editor, initialPosition) {
    const currentPosition = editor.getCursor();
    return currentPosition.line !== initialPosition.line || currentPosition.ch !== initialPosition.ch;
  }
};

// src/providers/openai-compat/provider.ts
var OpenAICompatibleProvider = class {
  constructor(settings) {
    this.aborted = false;
    this.settings = settings;
    this.client = new openai_default({
      baseURL: this.settings.baseUrl,
      apiKey: this.settings.apiKey,
      dangerouslyAllowBrowser: true
    });
  }
  async *generate(editor, options) {
    var _a2, _b;
    this.aborted = false;
    this.abortcontroller = new AbortController();
    const initialPosition = editor.getCursor();
    const prompt = preparePrompt(editor, options.userPrompt);
    const stream = await this.client.chat.completions.create({
      model: options.model,
      messages: [
        { role: "system", content: options.systemPrompt },
        { role: "user", content: prompt }
      ],
      temperature: options.temperature,
      stream: true
    }, { signal: this.abortcontroller.signal });
    let completion = "";
    for await (const chunk of stream) {
      if (this.aborted) {
        return;
      }
      if (this.cursorMoved(editor, initialPosition)) {
        this.abort();
        return;
      }
      const content = ((_b = (_a2 = chunk.choices[0]) == null ? void 0 : _a2.delta) == null ? void 0 : _b.content) || "";
      completion += content;
      yield completion;
    }
  }
  async abort() {
    if (this.aborted)
      return;
    this.aborted = true;
    this.abortcontroller.abort();
  }
  async updateModels() {
    if (!this.client) {
      return this.settings.models;
    }
    const models = await this.client.models.list();
    const chatModels = models.data.filter((model4) => model4.id.includes("gpt")).map((model4) => model4.id);
    this.settings.models = chatModels;
    return chatModels;
  }
  async connectionTest() {
    try {
      await this.client.models.list();
      return true;
    } catch (error) {
      console.error("Error testing connection:", error);
      return false;
    }
  }
  cursorMoved(editor, initialPosition) {
    const currentPosition = editor.getCursor();
    return currentPosition.line !== initialPosition.line || currentPosition.ch !== initialPosition.ch;
  }
};

// src/providers/factory.ts
var ProviderFactory = class {
  constructor(plugin2) {
    this.plugin = plugin2;
    this.settings = this.plugin.settings;
    this.providers = this.buildProviders(this.settings);
  }
  rebuildProviders() {
    this.providers = this.buildProviders(this.settings);
  }
  getProvider(provider) {
    return this.providers[provider];
  }
  async updateModels(provider) {
    return this.providers[provider].updateModels();
  }
  async connectionTest(provider) {
    return this.providers[provider].connectionTest();
  }
  buildProviders(settings) {
    return {
      ["ollama" /* OLLAMA */]: new OllamaProvider(settings.providers.ollama),
      ["openai" /* OPENAI */]: new OpenAIProvider(settings.providers.openai),
      ["openai_compatible" /* OPENAI_COMPATIBLE */]: new OpenAICompatibleProvider(settings.providers.openai_compatible)
    };
  }
};

// src/settings/settings.ts
var DEFAULT_PROFILE = "default";
var DEFAULT_PATH = "/";
var DEFAULT_SETTINGS = {
  enabled: false,
  providers: {
    openai: {
      integration: "openai" /* OPENAI */,
      name: "Open AI",
      description: "Use OpenAI APIs to generate text.",
      apiKey: "api-key",
      model: "gpt-4o-mini",
      models: ["gpt-4o", "gpt-4o-mini"],
      configured: false
    },
    ollama: {
      integration: "ollama" /* OLLAMA */,
      name: "Ollama",
      description: "Use your own Ollama instance to generate text.",
      host: "http://localhost:11434",
      models: ["llama3.2:latest", "mistral-nemo"],
      configured: false
    },
    openai_compatible: {
      integration: "openai_compatible" /* OPENAI_COMPATIBLE */,
      name: "OpenAI Compatible",
      description: "Use OpenAI compatible APIs to generate completions.",
      apiKey: "api-key",
      baseUrl: "https://api.openai.com/v1",
      model: "gpt-4o-mini",
      models: ["gpt-4o", "gpt-4o-mini"],
      configured: false
    }
  },
  profiles: {
    default: {
      name: "Default Profile",
      provider: "ollama" /* OLLAMA */,
      delayMs: 500,
      splitStrategy: "sentence",
      completionOptions: {
        model: "gemma3:12b",
        userPrompt: "If the last sentence is incomplete, only complete the sentence and nothing else. If the last sentence is complete, generate a new sentence that follows logically:\n---\n{{pre_cursor}}",
        systemPrompt: "You are a writing assistant that predicts and completes sentences in a natural, context-aware manner. Your goal is to continue the user\u2019s text smoothly, maintaining coherence, fluency, and style. Adapt to the user\u2019s writing tone, whether formal, informal, creative, or technical. Ensure that completions feel intuitive, useful, and free of unnecessary repetition. Do not generate completion that includes the prompt itself.",
        temperature: 0.5
      }
    }
  },
  path_configs: {
    "/": {
      profile: DEFAULT_PROFILE,
      enabled: true
    }
  }
};
function createProfile(settings) {
  const profiles = settings.profiles;
  const id = Math.random().toString(36).substring(2, 6);
  let name = "New Profile";
  let i3 = 1;
  Object.entries(profiles).forEach(([, value]) => {
    if (value.name === name) {
      name = `New Profile ${i3}`;
      i3++;
    }
  });
  const defaultProfile = profiles[DEFAULT_PROFILE];
  const profile = {
    ...defaultProfile,
    name
  };
  profiles[id] = profile;
  return id;
}
function findPathConfig(settings, path) {
  return settings.path_configs[path] || settings.path_configs[DEFAULT_PATH];
}
function createPathConfig(settings, path, profile) {
  path = path || DEFAULT_PATH;
  settings.path_configs[path] = { profile, enabled: true };
}
function resetSettings(settings) {
  Object.assign(settings, DEFAULT_SETTINGS);
}

// src/settings/tab.ts
var import_obsidian2 = require("obsidian");

// src/settings/provider.ts
var import_obsidian = require("obsidian");
var ProviderSettingsModal = class extends import_obsidian.Modal {
  constructor(app, plugin2, providerType) {
    super(app);
    this.plugin = plugin2;
    this.providerType = providerType;
    this.modalEl.addClass("inscribe-provider-settings-modal");
  }
  onOpen() {
    this.renderProviderSettings();
  }
  async renderProviderSettings() {
    const { contentEl } = this;
    contentEl.empty();
    switch (this.providerType) {
      case "ollama" /* OLLAMA */:
        this.renderOllamaSettings();
        break;
      case "openai" /* OPENAI */:
        this.renderOpenAISettings();
        break;
      case "openai_compatible" /* OPENAI_COMPATIBLE */:
        this.renderOpenAICompatibleSettings();
        break;
      default:
        contentEl.createEl("h2", { text: "Unknown provider type" });
        break;
    }
  }
  async renderOllamaSettings() {
    const { contentEl } = this;
    contentEl.empty();
    this.setTitle("Ollama Settings");
    new import_obsidian.Setting(contentEl).setName("Ollama Host").setDesc("The host of the Ollama API").addText((text) => {
      text.setValue(this.plugin.settings.providers.ollama.host).onChange(async (value) => {
        this.plugin.settings.providers.ollama.host = value;
        await this.plugin.saveSettings();
      });
    });
    this.renderConnectionStatus(this.plugin.settings.providers.ollama);
  }
  async renderOpenAISettings() {
    const { contentEl } = this;
    contentEl.empty();
    this.setTitle("OpenAI Settings");
    new import_obsidian.Setting(contentEl).setName("OpenAI API Key").setDesc("The API key for OpenAI").addText((text) => {
      text.setValue(this.plugin.settings.providers.openai.apiKey).onChange(async (value) => {
        this.plugin.settings.providers.openai.apiKey = value;
        await this.plugin.saveSettings();
      });
    });
    this.renderConnectionStatus(this.plugin.settings.providers.openai);
  }
  async renderOpenAICompatibleSettings() {
    const { contentEl } = this;
    contentEl.empty();
    this.setTitle("OpenAI Compatible Provider Settings");
    new import_obsidian.Setting(contentEl).setName("API Key").setDesc("The API key for OpenAI Compatible Provider").addText((text) => {
      text.setValue(this.plugin.settings.providers.openai_compatible.apiKey).onChange(async (value) => {
        this.plugin.settings.providers.openai_compatible.apiKey = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(contentEl).setName("Base URL").setDesc("The base URL for OpenAI Compatible Provider").addText((text) => {
      text.setValue(this.plugin.settings.providers.openai_compatible.baseUrl).onChange(async (value) => {
        this.plugin.settings.providers.openai_compatible.baseUrl = value;
        await this.plugin.saveSettings();
      });
    });
    this.renderConnectionStatus(this.plugin.settings.providers.openai_compatible);
  }
  renderConnectionStatus(provider) {
    new import_obsidian.Setting(this.contentEl).setName("Status").setDesc(`${provider.configured ? "Successful" : "Failed"}`).addButton((button) => {
      button.setButtonText(`Connection Test`).onClick(async () => {
        button.setDisabled(true).setButtonText("Testing...");
        provider.configured = await this.plugin.providerFactory.connectionTest(this.providerType);
        await this.plugin.saveSettings();
        new import_obsidian.Notice(provider.configured ? "Connected!" : "Failed to connect");
        this.renderProviderSettings();
      });
    });
  }
  onClose() {
    var _a2;
    const { contentEl } = this;
    contentEl.empty();
    (_a2 = this.plugin.app.setting) == null ? void 0 : _a2.openTabById(this.plugin.manifest.id);
  }
};

// src/settings/tab.ts
var InscribeSettingsTab = class extends import_obsidian2.PluginSettingTab {
  constructor(plugin2) {
    super(plugin2.app, plugin2);
    this.plugin = plugin2;
  }
  display() {
    this.containerEl.empty();
    const generalContainer = document.createElement("div");
    this.containerEl.appendChild(generalContainer);
    this.generalSection = new GeneralSection(generalContainer, this.plugin, this.display.bind(this));
    this.generalSection.render();
    const providersContainer = document.createElement("div");
    this.containerEl.appendChild(providersContainer);
    this.providersSection = new ProvidersSection(providersContainer, this.app, this.plugin);
    this.providersSection.render();
    const profilesContainer = document.createElement("div");
    this.containerEl.appendChild(profilesContainer);
    this.profilesSection = new ProfilesSection(profilesContainer, this.plugin);
    this.profilesSection.render();
    const pathMappingsContainer = document.createElement("div");
    this.containerEl.appendChild(pathMappingsContainer);
    this.pathConfigsSection = new PathConfigsSection(pathMappingsContainer, this.plugin);
    this.pathConfigsSection.render();
  }
};
var GeneralSection = class {
  constructor(container, plugin2, displayFunc) {
    this.container = container;
    this.plugin = plugin2;
    this.displayFunc = displayFunc;
  }
  async render() {
    this.container.empty();
    new import_obsidian2.Setting(this.container).setName("Enabled").setDesc("Enable or disable completions globally").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.enabled).onChange(async (value) => {
        this.plugin.settings.enabled = value;
        await this.plugin.saveSettings();
        this.plugin.statusBarItem.render();
      });
    });
    new import_obsidian2.Setting(this.container).setName("Reset Settings").setDesc("Reset all settings to default").addButton((button) => {
      button.setWarning().setButtonText("Reset").setTooltip("Reset settings to default").onClick(async () => {
        resetSettings(this.plugin.settings);
        await this.plugin.saveSettings();
        this.displayFunc();
        this.plugin.statusBarItem.render();
        new import_obsidian2.Notice("Settings reset to default");
      });
    });
  }
};
var ProvidersSection = class {
  constructor(container, app, plugin2) {
    this.app = app;
    this.container = container;
    this.plugin = plugin2;
  }
  async render() {
    this.container.empty();
    this.container.createEl("h3", { text: "Providers" });
    new import_obsidian2.Setting(this.container).setName("Ollama").setDesc("Local AI provider running on your machine").addExtraButton((button) => this.createConfigureButton(
      button,
      "ollama" /* OLLAMA */,
      this.plugin.settings.providers.ollama.configured
    ));
    new import_obsidian2.Setting(this.container).setName("OpenAI").setDesc("OpenAI API").addExtraButton((button) => this.createConfigureButton(
      button,
      "openai" /* OPENAI */,
      this.plugin.settings.providers.openai.configured
    ));
    new import_obsidian2.Setting(this.container).setName("OpenAI Compatible").setDesc("OpenAI compatible provider").addExtraButton((button) => this.createConfigureButton(
      button,
      "openai_compatible" /* OPENAI_COMPATIBLE */,
      this.plugin.settings.providers.openai_compatible.configured
    ));
  }
  createConfigureButton(button, type, configured) {
    button.extraSettingsEl.setCssProps({
      color: configured ? "var(--text-success)" : "var(--text-warning)"
    });
    button.setIcon(configured ? "cog" : "cog").setTooltip(configured ? "Provider configured" : "Provider not configured").onClick(() => {
      new ProviderSettingsModal(this.app, this.plugin, type).open();
    });
  }
};
var ProfilesSection = class {
  constructor(container, plugin2) {
    this.displayedProfileId = DEFAULT_PROFILE;
    this.container = container;
    this.plugin = plugin2;
    this.selectionContainer = document.createElement("div");
    this.profileContainer = document.createElement("div");
    this.container.appendChild(this.selectionContainer);
    this.container.appendChild(this.profileContainer);
  }
  async render() {
    this.container.empty();
    this.container.createEl("h3", { text: "Profiles" });
    this.container.appendChild(this.selectionContainer);
    this.container.appendChild(this.profileContainer);
    await this.renderProfileSelection();
    const displayedProfile = this.plugin.settings.profiles[this.displayedProfileId];
    await this.renderProfileSettings(displayedProfile);
  }
  async renderProfileSelection() {
    this.selectionContainer.empty();
    new import_obsidian2.Setting(this.selectionContainer).setName("Manage profile").setDesc("Select a profile to configure its settings").addDropdown((dropdown) => this.createProfileDropdown(dropdown)).addExtraButton((button) => this.createNewProfileButton(button)).addExtraButton((button) => this.createDeleteProfileButton(button));
  }
  createProfileDropdown(dropdown) {
    Object.entries(this.plugin.settings.profiles).forEach(([id, profile]) => {
      dropdown.addOption(id, profile.name);
    });
    dropdown.setValue(this.displayedProfileId).onChange(async (value) => {
      this.displayedProfileId = value;
      await this.renderProfileSettings(this.plugin.settings.profiles[value]);
    });
  }
  createNewProfileButton(button) {
    button.setIcon("plus").setTooltip("Create new profile").onClick(async () => {
      this.displayedProfileId = createProfile(this.plugin.settings);
      await this.plugin.saveSettings();
      await this.render();
    });
  }
  createDeleteProfileButton(button) {
    const isDefault = this.displayedProfileId === DEFAULT_PROFILE;
    button.setDisabled(isDefault).setIcon("trash").setTooltip(isDefault ? "Cannot delete default profile" : "Delete profile").onClick(async () => {
      delete this.plugin.settings.profiles[this.displayedProfileId];
      this.displayedProfileId = DEFAULT_PROFILE;
      await this.plugin.saveSettings();
      await this.render();
    });
  }
  async renderProfileSettings(profile) {
    this.profileContainer.empty();
    new import_obsidian2.Setting(this.profileContainer).setName("Profile Name").setDesc("Name of the profile").addText((text) => {
      text.setValue(profile.name).onChange(async (value) => {
        profile.name = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("AI Provider").setDesc("Choose your preferred AI provider").addDropdown((dropdown) => {
      dropdown.addOption("ollama" /* OLLAMA */, "Ollama").addOption("openai" /* OPENAI */, "OpenAI").addOption("openai_compatible" /* OPENAI_COMPATIBLE */, "OpenAI Compatible").setValue(profile.provider).onChange(async (value) => {
        profile.provider = value;
        await this.plugin.saveSettings();
        await this.renderProfileSettings(profile);
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("Model").setDesc("Select the model to use for completions").addExtraButton((button) => {
      button.setIcon("refresh-ccw").setTooltip("Update model list").onClick(async () => {
        await this.plugin.providerFactory.updateModels(profile.provider);
        await this.plugin.saveSettings();
        await this.renderProfileSettings(profile);
        new import_obsidian2.Notice("Model list updated");
      });
    }).addDropdown(async (dropdown) => {
      const models = this.plugin.settings.providers[profile.provider].models;
      dropdown.addOptions(Object.fromEntries(models.map((model4) => [model4, model4]))).setValue(profile.completionOptions.model).onChange(async (value) => {
        profile.completionOptions.model = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("Temperature").setDesc("Control the randomness of completions (0 = deterministic, 1 = creative)").addSlider((slider) => {
      slider.setLimits(0, 1, 0.1).setValue(profile.completionOptions.temperature).setDynamicTooltip().onChange(async (value) => {
        profile.completionOptions.temperature = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("Suggestion Delay").setDesc("Delay in milliseconds before fetching suggestions").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder("1000").setValue(String(profile.delayMs)).onChange(async (value) => {
        profile.delayMs = parseInt(value);
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("Completion Strategy").setDesc("Choose how completions should be split and accepted").addDropdown((dropdown) => {
      dropdown.addOption("word", "Word by Word").addOption("sentence", "Sentence by Sentence").addOption("paragraph", "Paragraph by Paragraph").addOption("full", "Full Completion").setValue(profile.splitStrategy).onChange(async (value) => {
        profile.splitStrategy = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("System Prompt").setDesc("Set system prompt").addTextArea((text) => {
      text.inputEl.rows = 7;
      text.inputEl.setCssStyles({
        width: "100%",
        resize: "vertical",
        position: "relative"
      });
      text.setValue(profile.completionOptions.systemPrompt).onChange(
        async (value) => {
          profile.completionOptions.systemPrompt = value;
          await this.plugin.saveSettings();
        }
      );
    });
    new import_obsidian2.Setting(this.profileContainer).setName("User Prompt").setDesc("User prompt template.").addExtraButton((button) => {
      button.setIcon("list").setTooltip("Insert mustache template variables").onClick(async () => {
        const text = profile.completionOptions.userPrompt + "\n" + TEMPLATE_VARIABLES;
        profile.completionOptions.userPrompt = text;
        await this.plugin.saveSettings();
        await this.renderProfileSettings(profile);
      });
    }).addTextArea((text) => {
      text.inputEl.rows = 7;
      text.inputEl.setCssStyles({
        width: "100%",
        resize: "vertical",
        position: "relative"
      });
      text.setValue(profile.completionOptions.userPrompt).onChange(
        async (value) => {
          profile.completionOptions.userPrompt = value;
          await this.plugin.saveSettings();
        }
      );
    });
  }
};
var PathConfigsSection = class {
  constructor(container, plugin2) {
    this.container = container;
    this.plugin = plugin2;
    this.tableContainer = document.createElement("div");
  }
  async render() {
    this.container.empty();
    this.container.createEl("h2", { text: "Path Configs" });
    this.container.createEl("p", {
      text: "You can assign profiles to paths. Paths are matched by prefix, with longer paths taking precedence. For example, '/Daily' will match all files in the Daily folder."
    });
    this.container.appendChild(this.tableContainer);
    await this.renderMappingsTable();
  }
  async renderMappingsTable() {
    this.tableContainer.empty();
    const table = this.tableContainer.createEl("table", { cls: "mapping-table" });
    const header = table.createEl("tr");
    header.createEl("th", { text: "Path" });
    header.createEl("th", { text: "Profile" });
    header.createEl("th", { text: "" });
    header.createEl("th", { text: "" });
    const newRow = table.createEl("tr", { cls: "new-mapping-row" });
    let pathInput = "";
    let selectedProfile = DEFAULT_PROFILE;
    const pathCell = newRow.createEl("td");
    new import_obsidian2.TextComponent(pathCell).setPlaceholder("Enter path (e.g., Daily/Work)").onChange((value) => {
      pathInput = value;
    });
    const profileCell = newRow.createEl("td");
    const profileDropdown = new import_obsidian2.DropdownComponent(profileCell).setValue(selectedProfile);
    Object.entries(this.plugin.settings.profiles).forEach(([id, profile]) => {
      profileDropdown.addOption(id, profile.name);
    });
    profileDropdown.onChange((value) => {
      selectedProfile = value;
    });
    newRow.createEl("td");
    const actionCell = newRow.createEl("td");
    new import_obsidian2.ExtraButtonComponent(actionCell).setIcon("plus").setTooltip("Add profile mapping").onClick(async () => {
      if (!pathInput) {
        new import_obsidian2.Notice("Path cannot be empty");
        return;
      }
      createPathConfig(this.plugin.settings, pathInput, selectedProfile);
      await this.plugin.saveSettings();
      await this.render();
    });
    Object.entries(this.plugin.settings.path_configs).forEach(([path, mapping]) => {
      const row = table.createEl("tr");
      const isDefaultMapping = path === DEFAULT_PATH;
      row.createEl("td", { text: isDefaultMapping ? "Root" : path });
      const profileCell2 = row.createEl("td");
      const profileDropdown2 = new import_obsidian2.DropdownComponent(profileCell2).setDisabled(isDefaultMapping);
      Object.entries(this.plugin.settings.profiles).forEach(([id, profile]) => {
        profileDropdown2.addOption(id, profile.name);
      });
      profileDropdown2.setValue(mapping.profile);
      profileDropdown2.onChange(async (value) => {
        createPathConfig(this.plugin.settings, path, value);
        await this.plugin.saveSettings();
      });
      const deleteCell = row.createEl("td");
      new import_obsidian2.ExtraButtonComponent(deleteCell).setIcon("trash").setDisabled(isDefaultMapping).setTooltip("Delete mapping").onClick(async () => {
        delete this.plugin.settings.path_configs[path];
        await this.plugin.saveSettings();
        await this.render();
      });
      const enabledCell = row.createEl("td");
      new import_obsidian2.ToggleComponent(enabledCell).setTooltip("Enable/disable mapping").setValue(mapping.enabled).onChange(async (value) => {
        this.plugin.settings.path_configs[path].enabled = value;
        await this.plugin.saveSettings();
        this.plugin.statusBarItem.render();
      });
    });
  }
};

// src/profile/service.ts
var ProfileService = class {
  constructor(plugin2) {
    this.inlineSuggestionOptions = { delayMs: 300, splitStrategy: "sentence" };
    this.profileChangeCallbacks = [];
    this.plugin = plugin2;
    this.app = this.plugin.app;
    this.settings = this.plugin.settings;
    this.update(this.getActiveFilePath());
    this.app.workspace.on("file-open", (file) => {
      if (!file)
        return;
      this.update(file.path);
    });
  }
  getActiveProfile() {
    return this.activeProfile;
  }
  getActivePath() {
    return this.activePath;
  }
  getActivePathConfig() {
    return findPathConfig(this.settings, this.activePath);
  }
  getOptions() {
    return {
      delayMs: this.activeProfile.delayMs,
      splitStrategy: this.activeProfile.splitStrategy
    };
  }
  onProfileChange(callback) {
    this.profileChangeCallbacks.push(callback);
  }
  update(filePath) {
    [this.activePath, this.activeProfile] = this.resolveProfileFromPath(filePath);
    this.profileChangeCallbacks.forEach((cb) => cb(this.activeProfile));
  }
  getActiveFilePath() {
    const activeEditor = this.app.workspace.activeEditor;
    if (!activeEditor)
      return "";
    if (!activeEditor.file)
      return "";
    return activeEditor.file.path;
  }
  resolveProfileFromPath(filePath) {
    if (!this.settings.path_configs || Object.keys(this.settings.path_configs).length === 0) {
      return [DEFAULT_PATH, this.settings.profiles[DEFAULT_PROFILE]];
    }
    const normalizedPath = filePath.replace(/^\/+|\/+$/g, "");
    let longestMatch = "";
    let matchedProfile = DEFAULT_PROFILE;
    let pathMapping = "/";
    Object.entries(this.settings.path_configs).forEach(([path, mapping]) => {
      const normalizedMappingPath = path.replace(/^\/+|\/+$/g, "");
      if (normalizedPath.startsWith(normalizedMappingPath)) {
        if (normalizedMappingPath.length > longestMatch.length) {
          longestMatch = normalizedMappingPath;
          matchedProfile = mapping.profile;
          pathMapping = path;
        }
      }
    });
    return [pathMapping, this.settings.profiles[matchedProfile]];
  }
  onunload() {
    this.app.workspace.off("file-open", this.update);
  }
};

// src/completions/service.ts
var CompletionService = class {
  constructor(app, settings, profileService, providerFactory) {
    this.completionStatusListeners = [];
    this.app = app;
    this.settings = settings;
    this.profileService = profileService;
    this.providerFactory = providerFactory;
  }
  async *fetchCompletion() {
    if (!this.completionEnabled())
      return;
    const activeEditor = this.app.workspace.activeEditor;
    if (!activeEditor)
      return;
    if (!activeEditor.editor)
      return;
    const profile = this.profileService.getActiveProfile();
    const provider = this.providerFactory.getProvider(profile.provider);
    const options = profile.completionOptions;
    yield* this.complete(activeEditor.editor, provider, options);
  }
  onCompletionStatusChange(listener) {
    this.completionStatusListeners.push(listener);
  }
  completionEnabled() {
    return this.settings.enabled && this.profileService.getActivePathConfig().enabled;
  }
  notifyCompletionStatus(isGenerating) {
    for (const listener of this.completionStatusListeners) {
      listener(isGenerating);
    }
  }
  async *complete(editor, provider, options) {
    await provider.abort();
    const cursor = editor.getCursor();
    const currentLine = editor.getLine(cursor.line);
    if (!currentLine.length)
      return;
    const lastChar = currentLine[cursor.ch - 1];
    if (lastChar !== " ")
      return;
    this.notifyCompletionStatus(true);
    for await (const text of provider.generate(editor, options)) {
      yield { text };
    }
    this.notifyCompletionStatus(false);
  }
};

// src/statusbar/statusbar.ts
var import_obsidian3 = require("obsidian");
var StatusBarItem = class {
  constructor(plugin2, profileService, completionService) {
    this.isGenerating = false;
    this.plugin = plugin2;
    this.profileService = profileService;
    this.completionService = completionService;
    this.profileService.onProfileChange(this.handleProfileChange.bind(this));
    this.completionService.onCompletionStatusChange(this.handleCompletionStatusChange.bind(this));
    this.statusBarItem = this.createStatusBarItem();
    this.render();
  }
  render() {
    if (this.isGenerating) {
      this.statusBarItem.addClass("active");
      (0, import_obsidian3.setTooltip)(this.statusBarItem, "Inscribing...", { placement: "top" });
    } else {
      this.statusBarItem.removeClass("active");
      if (this.completionService.completionEnabled()) {
        this.statusBarItem.removeClass("completion-disabled");
        this.updateProfile(this.profileService.getActiveProfile().name);
      } else {
        this.statusBarItem.addClass("completion-disabled");
        (0, import_obsidian3.setTooltip)(this.statusBarItem, `Completion disabled`, { placement: "top" });
      }
    }
  }
  createStatusBarItem() {
    const item = this.plugin.addStatusBarItem();
    (0, import_obsidian3.setIcon)(item, "feather");
    item.addClasses(["status-bar-item-icon", `mod-clickable`]);
    item.addEventListener("click", this.displayContextMenu.bind(this));
    return item;
  }
  displayContextMenu(event) {
    const menu = new import_obsidian3.Menu();
    const globalCompletionEnabled = this.plugin.settings.enabled;
    const pathCompletionEnabled = this.profileService.getActivePathConfig().enabled;
    const path = this.profileService.getActivePath();
    const profile = this.profileService.getActiveProfile();
    menu.addItem((item) => {
      item.setTitle(`Profile: ${profile.name}`).setIsLabel(true);
    });
    menu.addItem((item) => {
      item.setTitle(`${pathCompletionEnabled ? "Disable" : "Enable"} this path: {${path}]}`).setChecked(pathCompletionEnabled).onClick(() => {
        const pathConfig = findPathConfig(this.plugin.settings, path);
        pathConfig.enabled = !pathCompletionEnabled;
        this.plugin.saveSettings();
        this.render();
      });
    });
    menu.addItem((item) => {
      item.setTitle(`${globalCompletionEnabled ? "Disable" : "Enable"} globally`).setChecked(globalCompletionEnabled).onClick(() => {
        this.plugin.settings.enabled = !globalCompletionEnabled;
        this.plugin.saveSettings();
        this.render();
      });
    });
    menu.addSeparator();
    menu.addItem((item) => {
      item.setTitle("Open settings").onClick(() => {
        const setting = this.plugin.app.setting;
        setting.open();
        setting.openTabById(this.plugin.manifest.id);
      });
    });
    menu.showAtMouseEvent(event);
  }
  handleCompletionStatusChange(isGenerating) {
    this.isGenerating = isGenerating;
    this.render();
  }
  handleProfileChange(profile) {
    this.render();
  }
  updateProfile(profile) {
    (0, import_obsidian3.setTooltip)(this.statusBarItem, `Profile: ${profile}`, { placement: "top" });
  }
};

// src/main.ts
var Inscribe = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.profileService = new ProfileService(this);
    this.providerFactory = new ProviderFactory(this);
    this.completionEngine = new CompletionService(this.app, this.settings, this.profileService, this.providerFactory);
    this.statusBarItem = new StatusBarItem(this, this.profileService, this.completionEngine);
    this.addSettingTab(new InscribeSettingsTab(this));
    await this.setupExtension();
  }
  async onunload() {
    this.profileService.onunload();
  }
  async setupExtension() {
    const extension = inlineSuggestions({
      fetchFunc: () => this.completionEngine.fetchCompletion(),
      getOptions: () => this.profileService.getOptions()
    });
    this.registerEditorExtension(extension);
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.providerFactory.rebuildProviders();
  }
};
/*! Bundled license information:

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2V4dGVuc2lvbi9pbmRleC50cyIsICJub2RlX21vZHVsZXMvb2xsYW1hL2Rpc3QvaW5kZXgubWpzIiwgIm5vZGVfbW9kdWxlcy93aGF0d2ctZmV0Y2gvZmV0Y2guanMiLCAibm9kZV9tb2R1bGVzL29sbGFtYS9kaXN0L2Jyb3dzZXIubWpzIiwgIm5vZGVfbW9kdWxlcy9tdXN0YWNoZS9tdXN0YWNoZS5tanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjL0FQSS93b3JsZC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvQVBJL21ldGhvZHMvY29tcHV0ZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvQVBJL21ldGhvZHMvbG9vcHMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjL0FQSS9tZXRob2RzL3V0aWxzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy9BUEkvbWV0aG9kcy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvQVBJL1ZpZXcuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjL192ZXJzaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy9BUEkvZXh0ZW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy9BUEkvX2xpYi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvQVBJL2lucHV0cy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvbmxwLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jYWNoZS9tZXRob2RzL2NhY2hlRG9jLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jYWNoZS9tZXRob2RzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jYWNoZS9hcGkuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NhY2hlL2NvbXB1dGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NhY2hlL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY2hhbmdlL2FwaS9jYXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jaGFuZ2UvYXBpL2xpYi9pbnNlcnQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9jb21wdXRlL3V1aWQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9hcGkvaW5zZXJ0LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jaGFuZ2UvYXBpL3JlcGxhY2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9hcGkvbGliL3JlbW92ZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY2hhbmdlL2FwaS9yZW1vdmUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9hcGkvd2hpdGVzcGFjZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY2hhbmdlL2FwaS9saWIvX3NvcnQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9hcGkvc29ydC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY2hhbmdlL2FwaS9jb25jYXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9hcGkvaGFyZGVuLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jaGFuZ2UvYXBpL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jaGFuZ2UvY29tcHV0ZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY2hhbmdlL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY29udHJhY3Rpb24tb25lL21vZGVsL2NvbnRyYWN0aW9ucy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY29udHJhY3Rpb24tb25lL21vZGVsL251bWJlci1zdWZmaXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9tb2RlbC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY29udHJhY3Rpb24tb25lL2NvbXB1dGUvY29udHJhY3Rpb25zL19zcGxpY2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9jb21wdXRlL2NvbnRyYWN0aW9ucy9hcG9zdHJvcGhlLWQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9jb21wdXRlL2NvbnRyYWN0aW9ucy9hcG9zdHJvcGhlLXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9jb21wdXRlL2NvbnRyYWN0aW9ucy9mcmVuY2guanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9jb21wdXRlL2NvbnRyYWN0aW9ucy9udW1iZXItcmFuZ2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9jb21wdXRlL2NvbnRyYWN0aW9ucy9udW1iZXItdW5pdC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY29udHJhY3Rpb24tb25lL2NvbXB1dGUvY29udHJhY3Rpb25zL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jb250cmFjdGlvbi1vbmUvY29tcHV0ZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY29udHJhY3Rpb24tb25lL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvZnJlZXplL2NvbXB1dGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2ZyZWV6ZS9kZWJ1Zy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvZnJlZXplL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbGV4aWNvbi9jb21wdXRlL211bHRpLXdvcmQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2xleGljb24vY29tcHV0ZS9zaW5nbGUtd29yZC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbGV4aWNvbi9jb21wdXRlL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9sZXhpY29uL21ldGhvZHMvZXhwYW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9sZXhpY29uL21ldGhvZHMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2xleGljb24vbGliLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9sZXhpY29uL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbG9va3VwL2FwaS9idWlsZFRyaWUvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2xvb2t1cC9hcGkvc2Nhbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbG9va3VwL2FwaS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbG9va3VwL2FwaS9idWlsZFRyaWUvY29tcHJlc3MuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2xvb2t1cC9wbHVnaW4uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL2FwaS9fbGliLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9hcGkvbWF0Y2guanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL2FwaS9sb29rYXJvdW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9hcGkvc3BsaXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL2FwaS9qb2luLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9hcGkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvcGFyc2VNYXRjaC8wMS1wYXJzZUJsb2Nrcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9wYXJzZU1hdGNoLzAyLXBhcnNlVG9rZW4uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvcGFyc2VNYXRjaC8wMy1zcGxpdEh5cGhlbnMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvcGFyc2VNYXRjaC8wNC1pbmZsZWN0LXJvb3QuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvcGFyc2VNYXRjaC8wNS1wb3N0UHJvY2Vzcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9wYXJzZU1hdGNoL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoLzAxLWZhaWxGYXN0LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL3Rlcm0vX2Z1enp5LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL3Rlcm1NZXRob2RzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL3Rlcm0vZG9lc01hdGNoLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL3N0ZXBzL2xvZ2ljL2dyZWVkeS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9fbGliLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL3N0ZXBzL2FzdHJpeC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9zdGVwcy9sb2dpYy9hbmQtb3IuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvbWF0Y2gvc3RlcHMvb3ItYmxvY2suanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvbWF0Y2gvc3RlcHMvYW5kLWJsb2NrLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL3N0ZXBzL2xvZ2ljL25lZ2F0aXZlLWdyZWVkeS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9zdGVwcy9uZWdhdGl2ZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9zdGVwcy9vcHRpb25hbC1tYXRjaC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9zdGVwcy9ncmVlZHktbWF0Y2guanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvbWF0Y2gvc3RlcHMvY29udHJhY3Rpb24tc2tpcC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9zdGVwcy9zaW1wbGUtbWF0Y2guanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvbWF0Y2gvMDItZnJvbS1oZXJlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoLzAzLWdldEdyb3VwLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoLzAzLW5vdElmLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9saWIuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L2FwaS9odG1sLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvYXBpL190ZXh0LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvYXBpL19mbXRzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvbWV0aG9kcy9oYXNoLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvYXBpL2pzb24uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL291dHB1dC9hcGkvZGVidWcuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL291dHB1dC9hcGkvd3JhcC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L2FwaS9vdXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL291dHB1dC9hcGkvdGV4dC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L2FwaS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L21ldGhvZHMvZGVidWcvY2xpZW50LXNpZGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL291dHB1dC9tZXRob2RzL2RlYnVnL19jb2xvci5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L21ldGhvZHMvZGVidWcvdGFncy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L21ldGhvZHMvZGVidWcvY2h1bmtzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvbWV0aG9kcy9kZWJ1Zy9oaWdobGlnaHQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL291dHB1dC9tZXRob2RzL2RlYnVnL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvcGx1Z2luLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9wb2ludGVycy9hcGkvbGliL19saWIuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3BvaW50ZXJzL2FwaS9saWIvc3BsaXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3BvaW50ZXJzL21ldGhvZHMvZ2V0RG9jLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9wb2ludGVycy9tZXRob2RzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9wb2ludGVycy9hcGkvbGliL3VuaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9wb2ludGVycy9hcGkvbGliL2RpZmZlcmVuY2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3BvaW50ZXJzL2FwaS9saWIvaW50ZXJzZWN0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9wb2ludGVycy9hcGkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3BvaW50ZXJzL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvc3dlZXAvbGliLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9zd2VlcC9hcGkuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL21ldGhvZHMvYnVpbGROZXQvMDEtcGFyc2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL21ldGhvZHMvYnVpbGROZXQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL21ldGhvZHMvc3dlZXAvMDEtZ2V0SG9va3MuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL21ldGhvZHMvc3dlZXAvMDItdHJpbS1kb3duLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9zd2VlcC9tZXRob2RzL3N3ZWVwLzA0LXJ1bk1hdGNoLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9zd2VlcC9tZXRob2RzL3N3ZWVwL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9zd2VlcC9tZXRob2RzL3RhZ2dlci9jYW5CZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvc3dlZXAvbWV0aG9kcy90YWdnZXIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL21ldGhvZHMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL21ldGhvZHMvc2V0VGFnLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90YWcvbWV0aG9kcy91blRhZy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL21ldGhvZHMvY2FuQmUuanMiLCAibm9kZV9tb2R1bGVzL2dyYWQtc2Nob29sL2J1aWxkcy9ncmFkLXNjaG9vbC5tanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3RhZy9tZXRob2RzL2FkZFRhZ3MvX2NvbG9ycy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL21ldGhvZHMvYWRkVGFncy8wMi1mbXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3RhZy9tZXRob2RzL2FkZFRhZ3MvMDEtdmFsaWRhdGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3RhZy9tZXRob2RzL2FkZFRhZ3MvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3RhZy9tZXRob2RzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90YWcvYXBpL3RhZy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL2FwaS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL2xpYi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL2NvbXB1dGUvdGFnUmFuay5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbWV0aG9kcy8wMS1zZW50ZW5jZXMvMDEtc2ltcGxlLXNwbGl0LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAxLXNlbnRlbmNlcy8wMi1zaW1wbGUtbWVyZ2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21ldGhvZHMvMDEtc2VudGVuY2VzLzAzLXNtYXJ0LW1lcmdlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAxLXNlbnRlbmNlcy8wNC1xdW90ZS1tZXJnZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbWV0aG9kcy8wMS1zZW50ZW5jZXMvMDUtcGFyZW5zLW1lcmdlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAxLXNlbnRlbmNlcy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbWV0aG9kcy8wMi10ZXJtcy8wMS1oeXBoZW5zLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAyLXRlcm1zLzAzLXJhbmdlcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbWV0aG9kcy8wMi10ZXJtcy8wMi1zbGFzaGVzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAyLXRlcm1zL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAzLXdoaXRlc3BhY2UvdG9rZW5pemUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21ldGhvZHMvMDMtd2hpdGVzcGFjZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbWV0aG9kcy91bmljb2RlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9jb21wdXRlL25vcm1hbC8wMS1jbGVhbnVwLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9jb21wdXRlL25vcm1hbC8wMi1hY3Jvbnltcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvY29tcHV0ZS9ub3JtYWwvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21ldGhvZHMvcGFyc2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21ldGhvZHMvMDEtc2VudGVuY2VzL2lzLXNlbnRlbmNlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tb2RlbC9hbGlhc2VzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tb2RlbC9hYmJyZXZpYXRpb25zL21pc2MuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2FiYnJldmlhdGlvbnMvaG9ub3JpZmljcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbW9kZWwvYWJicmV2aWF0aW9ucy9tb250aHMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2FiYnJldmlhdGlvbnMvbm91bnMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2FiYnJldmlhdGlvbnMvb3JnYW5pemF0aW9ucy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbW9kZWwvYWJicmV2aWF0aW9ucy9wbGFjZXMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2FiYnJldmlhdGlvbnMvdW5pdHMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2xleGljb24uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL3ByZWZpeGVzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tb2RlbC9zdWZmaXhlcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbW9kZWwvdW5pY29kZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbW9kZWwvcHVuY3R1YXRpb24uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9jb21wdXRlL2FsaWFzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9jb21wdXRlL21hY2hpbmUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL2NvbXB1dGUvZnJlcS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvY29tcHV0ZS9vZmZzZXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL2NvbXB1dGUvcmVpbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvY29tcHV0ZS93b3JkQ291bnQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL2NvbXB1dGUvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdHlwZWFoZWFkL2NvbXB1dGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3R5cGVhaGVhZC9hcGkuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3R5cGVhaGVhZC9saWIvYWxsUHJlZml4ZXMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3R5cGVhaGVhZC9saWIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3R5cGVhaGVhZC9wbHVnaW4uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjL29uZS5qcyIsICJzcmMvcHJvbXB0L3Byb21wdC50cyIsICJzcmMvcHJvdmlkZXJzL29sbGFtYS9wcm92aWRlci50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9pbnRlcm5hbC9xcy9mb3JtYXRzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2ludGVybmFsL3FzL3V0aWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2ludGVybmFsL3FzL3N0cmluZ2lmeS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy92ZXJzaW9uLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL19zaGltcy9yZWdpc3RyeS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9fc2hpbXMvTXVsdGlwYXJ0Qm9keS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9fc2hpbXMvd2ViLXJ1bnRpbWUudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvaW5kZXgubWpzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2Vycm9yLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2ludGVybmFsL2RlY29kZXJzL2xpbmUudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvaW50ZXJuYWwvc3RyZWFtLXV0aWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3N0cmVhbWluZy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy91cGxvYWRzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2NvcmUudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcGFnaW5hdGlvbi50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucy9tZXNzYWdlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucy9jb21wbGV0aW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvY2hhdC9jaGF0LnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9hdWRpby9zcGVlY2gudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zY3JpcHRpb25zLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9hdWRpby90cmFuc2xhdGlvbnMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2F1ZGlvL2F1ZGlvLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iYXRjaGVzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL2Fzc2lzdGFudHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL1J1bm5hYmxlRnVuY3Rpb24udHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL2NoYXRDb21wbGV0aW9uVXRpbHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0V2ZW50U3RyZWFtLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9wYXJzZXIudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0NoYXRDb21wbGV0aW9uUnVubmVyLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL192ZW5kb3IvcGFydGlhbC1qc29uLXBhcnNlci9wYXJzZXIudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lci50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS9jaGF0L2NvbXBsZXRpb25zLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL2NoYXQvY2hhdC50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS9yZWFsdGltZS9zZXNzaW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS9yZWFsdGltZS9yZWFsdGltZS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9saWIvQXNzaXN0YW50U3RyZWFtLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvbWVzc2FnZXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3N0ZXBzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvcnVucy9ydW5zLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvdGhyZWFkcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS9iZXRhLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9jb21wbGV0aW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvZW1iZWRkaW5ncy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvZmlsZXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvY2hlY2twb2ludHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvam9icy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvZmluZS10dW5pbmcvZmluZS10dW5pbmcudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2ltYWdlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvbW9kZWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9tb2RlcmF0aW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9saWIvUmVzcG9uc2VzUGFyc2VyLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9yZXNwb25zZXMvaW5wdXQtaXRlbXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL3Jlc3BvbnNlcy9SZXNwb25zZVN0cmVhbS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvcmVzcG9uc2VzL3Jlc3BvbnNlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvdXBsb2Fkcy9wYXJ0cy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvdXBsb2Fkcy91cGxvYWRzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9VdGlsLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL2ZpbGVzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL2ZpbGUtYmF0Y2hlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvdmVjdG9yLXN0b3Jlcy92ZWN0b3Itc3RvcmVzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2luZGV4LnRzIiwgInNyYy9wcm92aWRlcnMvb3BlbmFpL3Byb3ZpZGVyLnRzIiwgInNyYy9wcm92aWRlcnMvb3BlbmFpLWNvbXBhdC9wcm92aWRlci50cyIsICJzcmMvcHJvdmlkZXJzL2ZhY3RvcnkudHMiLCAic3JjL3NldHRpbmdzL3NldHRpbmdzLnRzIiwgInNyYy9zZXR0aW5ncy90YWIudHMiLCAic3JjL3NldHRpbmdzL3Byb3ZpZGVyLnRzIiwgInNyYy9wcm9maWxlL3NlcnZpY2UudHMiLCAic3JjL2NvbXBsZXRpb25zL3NlcnZpY2UudHMiLCAic3JjL3N0YXR1c2Jhci9zdGF0dXNiYXIudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IGlubGluZVN1Z2dlc3Rpb25zIH0gZnJvbSBcIi4vZXh0ZW5zaW9uXCI7XG5pbXBvcnQgeyBTZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4vc2V0dGluZ3Mvc2V0dGluZ3MnO1xuaW1wb3J0IEluc2NyaWJlU2V0dGluZ3NUYWIgZnJvbSAnLi9zZXR0aW5ncy90YWInO1xuaW1wb3J0IHsgUHJvdmlkZXJGYWN0b3J5IH0gZnJvbSAnLi9wcm92aWRlcnMvZmFjdG9yeSc7XG5pbXBvcnQgeyBQcm9maWxlU2VydmljZSB9IGZyb20gJy4vcHJvZmlsZS9zZXJ2aWNlJztcbmltcG9ydCBDb21wbGV0aW9uU2VydmljZSBmcm9tICcuL2NvbXBsZXRpb25zL3NlcnZpY2UnO1xuaW1wb3J0IFN0YXR1c0Jhckl0ZW0gZnJvbSAnLi9zdGF0dXNiYXIvc3RhdHVzYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5zY3JpYmUgZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogU2V0dGluZ3M7XG5cdHByb3ZpZGVyRmFjdG9yeTogUHJvdmlkZXJGYWN0b3J5O1xuXHRzdGF0dXNCYXJJdGVtOiBTdGF0dXNCYXJJdGVtO1xuXG5cdHByaXZhdGUgcHJvZmlsZVNlcnZpY2U6IFByb2ZpbGVTZXJ2aWNlO1xuXHRwcml2YXRlIGNvbXBsZXRpb25FbmdpbmU6IENvbXBsZXRpb25TZXJ2aWNlO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0dGhpcy5wcm9maWxlU2VydmljZSA9IG5ldyBQcm9maWxlU2VydmljZSh0aGlzKTtcblx0XHR0aGlzLnByb3ZpZGVyRmFjdG9yeSA9IG5ldyBQcm92aWRlckZhY3RvcnkodGhpcyk7XG5cdFx0dGhpcy5jb21wbGV0aW9uRW5naW5lID0gbmV3IENvbXBsZXRpb25TZXJ2aWNlKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzLCB0aGlzLnByb2ZpbGVTZXJ2aWNlLCB0aGlzLnByb3ZpZGVyRmFjdG9yeSk7XG5cdFx0dGhpcy5zdGF0dXNCYXJJdGVtID0gbmV3IFN0YXR1c0Jhckl0ZW0odGhpcywgdGhpcy5wcm9maWxlU2VydmljZSwgdGhpcy5jb21wbGV0aW9uRW5naW5lKTtcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgSW5zY3JpYmVTZXR0aW5nc1RhYih0aGlzKSk7XG5cdFx0YXdhaXQgdGhpcy5zZXR1cEV4dGVuc2lvbigpO1xuXHR9XG5cblx0YXN5bmMgb251bmxvYWQoKSB7XG5cdFx0dGhpcy5wcm9maWxlU2VydmljZS5vbnVubG9hZCgpO1xuXHR9XG5cblx0YXN5bmMgc2V0dXBFeHRlbnNpb24oKSB7XG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gaW5saW5lU3VnZ2VzdGlvbnMoe1xuXHRcdFx0ZmV0Y2hGdW5jOiAoKSA9PiB0aGlzLmNvbXBsZXRpb25FbmdpbmUuZmV0Y2hDb21wbGV0aW9uKCksXG5cdFx0XHRnZXRPcHRpb25zOiAoKSA9PiB0aGlzLnByb2ZpbGVTZXJ2aWNlLmdldE9wdGlvbnMoKVxuXHRcdH0pO1xuXHRcdHRoaXMucmVnaXN0ZXJFZGl0b3JFeHRlbnNpb24oZXh0ZW5zaW9uKTtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcblx0XHRcdHt9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcblx0XHRcdGF3YWl0IHRoaXMubG9hZERhdGEoKVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0XHR0aGlzLnByb3ZpZGVyRmFjdG9yeS5yZWJ1aWxkUHJvdmlkZXJzKCk7XG5cdH1cbn0iLCAiLyoqXG4gKiBJbmxpbmUgQ29tcGxldGlvbnMgZXh0ZW5zaW9uIGZvciBDb2RlTWlycm9yXG4gKlxuICogVGhpcyBleHRlbnNpb24gb2ZmZXJzIGlubGluZSBzdWdnZXN0aW9ucyB3aXRoOlxuICogLSBDb25maWd1cmFibGUgc3VnZ2VzdGlvbiBmZXRjaGluZyBzdHJhdGVnaWVzXG4gKiAtIE11bHRpcGxlIHRleHQgc2VnbWVudGF0aW9uIGFwcHJvYWNoZXNcbiAqIC0gRGVib3VuY2VkIG5ldHdvcmsgcmVxdWVzdHNcbiAqIC0gTm9uLWludmFzaXZlIHN1Z2dlc3Rpb24gcmVuZGVyaW5nXG4gKi9cblxuaW1wb3J0IHtcbiAgICBWaWV3UGx1Z2luLFxuICAgIEVkaXRvclZpZXcsXG4gICAgVmlld1VwZGF0ZSxcbiAgICBEZWNvcmF0aW9uLFxuICAgIFdpZGdldFR5cGUsXG4gICAga2V5bWFwLFxufSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7XG4gICAgU3RhdGVFZmZlY3QsXG4gICAgVGV4dCxcbiAgICBTdGF0ZUZpZWxkLFxuICAgIEVkaXRvclN0YXRlLFxuICAgIEVkaXRvclNlbGVjdGlvbixcbiAgICBUcmFuc2FjdGlvbixcbiAgICBQcmVjLFxufSBmcm9tICdAY29kZW1pcnJvci9zdGF0ZSc7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICBUeXBlIERlZmluaXRpb25zXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8qKiBTdXBwb3J0ZWQgc2VnbWVudGF0aW9uIHN0cmF0ZWdpZXMgKi9cbmV4cG9ydCB0eXBlIFNwbGl0U3RyYXRlZ3kgPSBrZXlvZiB0eXBlb2YgVGV4dFNwbGl0U3RyYXRlZ2llcztcblxuLyoqIElubGluZSBzdWdnZXN0aW9uIHN0cnVjdHVyZSBcdTIwMTMgbm93IG9ubHkgY2FycmllcyB0ZXh0LiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWdnZXN0aW9uIHtcbiAgICB0ZXh0OiBzdHJpbmc7XG59XG5cbi8qKiBJbmxpbmUgY29tcGxldGlvbiBjb25maWd1cmF0aW9uLlxuICogXG4gKiBOb3RlOiBJbnN0ZWFkIG9mIGVhY2ggc3VnZ2VzdGlvbiBjYXJyeWluZyBpdHMgc3BsaXQgc3RyYXRlZ3ksXG4gKiB5b3Ugc3VwcGx5IGEgZHluYW1pYyBnZXR0ZXIgZnVuY3Rpb24gKGBnZXRPcHRpb25zYCkgc28gdGhhdCB0aGUgZXh0ZW5zaW9uXG4gKiBhbHdheXMgdXNlcyB0aGUgY3VycmVudCBzZXR0aW5ncy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbmxpbmVDb21wbGV0aW9uQ29uZmlnIHtcbiAgICBmZXRjaEZ1bmM6IChcbiAgICAgICAgc3RhdGU6IEVkaXRvclN0YXRlXG4gICAgKSA9PiBBc3luY0dlbmVyYXRvcjxTdWdnZXN0aW9uPiB8IFByb21pc2U8U3VnZ2VzdGlvbj47XG4gICAgLyoqIChPcHRpb25hbCkgQSBzdGF0aWMgaG90a2V5IGZvciBhY2NlcHRpbmcgc3VnZ2VzdGlvbnMuICovXG4gICAgYWNjZXB0YW5jZUhvdGtleT86IHN0cmluZztcbiAgICAvKiogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgY3VycmVudCBvcHRpb25zLiAqL1xuICAgIGdldE9wdGlvbnM6ICgpID0+IElubGluZUNvbXBsZXRpb25PcHRpb25zO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElubGluZUNvbXBsZXRpb25PcHRpb25zIHtcbiAgICBkZWxheU1zPzogbnVtYmVyO1xuICAgIHNwbGl0U3RyYXRlZ3k/OiBTcGxpdFN0cmF0ZWd5O1xufVxuXG4vKiogSW50ZXJuYWwgc3RhdGUgZm9yIHRoZSBjdXJyZW50IHN1Z2dlc3Rpb24gc2Vzc2lvbi5cbiAqIE5vdGU6IFRoZSBwcmV2aW91cyBcInNlZ21lbnRhdGlvblwiIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQuXG4gKi9cbmludGVyZmFjZSBTdWdnZXN0aW9uU2Vzc2lvbiB7XG4gICAgZnVsbFRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgcmVtYWluaW5nVGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgICBiYXNlbGluZURvY3VtZW50OiBUZXh0IHwgbnVsbDtcbiAgICBhbmNob3JQb3NpdGlvbjogbnVtYmVyIHwgbnVsbDtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgIFRleHQgU2VnbWVudGF0aW9uIFN0cmF0ZWdpZXNcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLyoqXG4gKiBBIHNldCBvZiB0ZXh0IHNwbGl0dGluZyBmdW5jdGlvbnMgdXNlZCB0byBkZXRlcm1pbmUgaG93IG11Y2ggb2YgdGhlXG4gKiBzdWdnZXN0aW9uIHRvIGFjY2VwdCB3aGVuIHRyaWdnZXJlZC5cbiAqL1xuY29uc3QgVGV4dFNwbGl0U3RyYXRlZ2llcyA9IHtcbiAgICAvKipcbiAgICAgKiBXb3JkLWxldmVsIHNlZ21lbnRhdGlvbiAoc3BhY2UtZGVsaW1pdGVkKS5cbiAgICAgKiBBY2NlcHRzIHRleHQgdW50aWwgKGFuZCBpbmNsdWRpbmcpIHRoZSBmaXJzdCBzcGFjZS5cbiAgICAgKi9cbiAgICB3b3JkOiAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHRTcGFjZSA9IHRleHQuaW5kZXhPZignICcpO1xuICAgICAgICByZXR1cm4gbmV4dFNwYWNlID09PSAtMVxuICAgICAgICAgICAgPyB7IGFjY2VwdGVkOiB0ZXh0LCByZW1haW5pbmc6ICcnIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGFjY2VwdGVkOiB0ZXh0LnNsaWNlKDAsIG5leHRTcGFjZSArIDEpLFxuICAgICAgICAgICAgICAgIHJlbWFpbmluZzogdGV4dC5zbGljZShuZXh0U3BhY2UgKyAxKSxcbiAgICAgICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbnRlbmNlLWxldmVsIHNlZ21lbnRhdGlvbiAocHVuY3R1YXRpb24gZm9sbG93ZWQgYnkgd2hpdGVzcGFjZSkuXG4gICAgICovXG4gICAgc2VudGVuY2U6ICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9bLiE/XVxccysvKTtcbiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWNjZXB0ZWQ6IHRleHQuc2xpY2UoMCwgbWF0Y2guaW5kZXggKyAxKSxcbiAgICAgICAgICAgICAgICByZW1haW5pbmc6IHRleHQuc2xpY2UobWF0Y2guaW5kZXggKyAxKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgYWNjZXB0ZWQ6IHRleHQsIHJlbWFpbmluZzogJycgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFyYWdyYXBoLWxldmVsIHNlZ21lbnRhdGlvbiAoZG91YmxlIG5ld2xpbmUpLlxuICAgICAqL1xuICAgIHBhcmFncmFwaDogKHRleHQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBwYXJhZ3JhcGhFbmQgPSB0ZXh0LmluZGV4T2YoJ1xcblxcbicpO1xuICAgICAgICByZXR1cm4gcGFyYWdyYXBoRW5kID09PSAtMVxuICAgICAgICAgICAgPyB7IGFjY2VwdGVkOiB0ZXh0LCByZW1haW5pbmc6ICcnIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGFjY2VwdGVkOiB0ZXh0LnNsaWNlKDAsIHBhcmFncmFwaEVuZCArIDIpLFxuICAgICAgICAgICAgICAgIHJlbWFpbmluZzogdGV4dC5zbGljZShwYXJhZ3JhcGhFbmQgKyAyKSxcbiAgICAgICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF0b21pYyBhY2NlcHRhbmNlIFx1MjAxMyBjb25zdW1lIHRoZSBlbnRpcmUgc3VnZ2VzdGlvbi5cbiAgICAgKi9cbiAgICBmdWxsOiAodGV4dDogc3RyaW5nKSA9PiAoeyBhY2NlcHRlZDogdGV4dCwgcmVtYWluaW5nOiAnJyB9KSxcbn0gYXMgY29uc3Q7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICBTdWdnZXN0aW9uIFNlc3Npb24gU3RhdGUgTWFuYWdlbWVudFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKipcbiAqIEVmZmVjdCB0byB1cGRhdGUgdGhlIHN1Z2dlc3Rpb24gc2Vzc2lvbiBzdGF0ZS5cbiAqIEEgYG51bGxgIGNvbnRlbnQgc2lnbmFscyBhIHJlc2V0LlxuICovXG5jb25zdCBTdWdnZXN0aW9uVXBkYXRlRWZmZWN0ID0gU3RhdGVFZmZlY3QuZGVmaW5lPHtcbiAgICBjb250ZW50OiBzdHJpbmcgfCBudWxsO1xuICAgIGRvY3VtZW50OiBUZXh0IHwgbnVsbDtcbiAgICBhbmNob3I6IG51bWJlciB8IG51bGw7XG59PigpO1xuXG4vKipcbiAqIFRoZSBzdGF0ZSBmaWVsZCB0aGF0IGhvbGRzIHRoZSBjdXJyZW50IHN1Z2dlc3Rpb24gc2Vzc2lvbi5cbiAqL1xuY29uc3Qgc3VnZ2VzdGlvblNlc3Npb25TdGF0ZSA9IFN0YXRlRmllbGQuZGVmaW5lPFN1Z2dlc3Rpb25TZXNzaW9uPih7XG4gICAgY3JlYXRlOiAoKSA9PiBnZXRSZXNldFNlc3Npb24oKSxcblxuICAgIHVwZGF0ZShzZXNzaW9uLCB0cmFuc2FjdGlvbikge1xuICAgICAgICAvLyBQcm9jZXNzIGV4cGxpY2l0IHNlc3Npb24gdXBkYXRlIGVmZmVjdHMuXG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IHRyYW5zYWN0aW9uLmVmZmVjdHMuZmluZCgoZSkgPT5cbiAgICAgICAgICAgIGUuaXMoU3VnZ2VzdGlvblVwZGF0ZUVmZmVjdClcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVmZmVjdCkgcmV0dXJuIHVwZGF0ZVNlc3Npb25Gcm9tRWZmZWN0KGVmZmVjdC52YWx1ZSk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGRvY3VtZW50IGhhcyBjaGFuZ2VkLCBhZGp1c3QgdGhlIHNlc3Npb24uXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmRvY0NoYW5nZWQgJiZcbiAgICAgICAgICAgIHNlc3Npb24ucmVtYWluaW5nVGV4dCAmJlxuICAgICAgICAgICAgc2Vzc2lvbi5hbmNob3JQb3NpdGlvbiAhPT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVTZXNzaW9uT25Eb2N1bWVudENoYW5nZShzZXNzaW9uLCB0cmFuc2FjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBhY3RpdmUgc3VnZ2VzdGlvbiBidXQgdGhlIGN1cnNvciBoYXMgbW92ZWQsIGNhbmNlbCBpdC5cbiAgICAgICAgaWYgKHNlc3Npb24ucmVtYWluaW5nVGV4dCAhPT0gbnVsbCAmJiBzZXNzaW9uLmFuY2hvclBvc2l0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlU2Vzc2lvbk9uQ3Vyc29yRHJpZnQoc2Vzc2lvbiwgdHJhbnNhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfSxcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmcmVzaCwgZW1wdHkgc3VnZ2VzdGlvbiBzZXNzaW9uLlxuICovXG5mdW5jdGlvbiBnZXRSZXNldFNlc3Npb24oKTogU3VnZ2VzdGlvblNlc3Npb24ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGZ1bGxUZXh0OiBudWxsLFxuICAgICAgICByZW1haW5pbmdUZXh0OiBudWxsLFxuICAgICAgICBiYXNlbGluZURvY3VtZW50OiBudWxsLFxuICAgICAgICBhbmNob3JQb3NpdGlvbjogbnVsbCxcbiAgICB9O1xufVxuXG4vKipcbiAqIFVwZGF0ZSBzZXNzaW9uIHN0YXRlIGJhc2VkIG9uIGFuIGluY29taW5nIGVmZmVjdC5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU2Vzc2lvbkZyb21FZmZlY3QoZWZmZWN0OiB7XG4gICAgY29udGVudDogc3RyaW5nIHwgbnVsbDtcbiAgICBkb2N1bWVudDogVGV4dCB8IG51bGw7XG4gICAgYW5jaG9yOiBudW1iZXIgfCBudWxsO1xufSk6IFN1Z2dlc3Rpb25TZXNzaW9uIHtcbiAgICByZXR1cm4gZWZmZWN0LmNvbnRlbnQgPT09IG51bGxcbiAgICAgICAgPyBnZXRSZXNldFNlc3Npb24oKVxuICAgICAgICA6IGluaXRpYWxpemVTZXNzaW9uKGVmZmVjdCBhcyB7XG4gICAgICAgICAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgICAgICAgICBkb2N1bWVudDogVGV4dDtcbiAgICAgICAgICAgIGFuY2hvcjogbnVtYmVyO1xuICAgICAgICB9KTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIG5ldyBzdWdnZXN0aW9uIHNlc3Npb24gd2l0aCBwcm92aWRlZCBlZmZlY3QgZGF0YS5cbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZVNlc3Npb24oZWZmZWN0OiB7XG4gICAgY29udGVudDogc3RyaW5nO1xuICAgIGRvY3VtZW50OiBUZXh0O1xuICAgIGFuY2hvcjogbnVtYmVyO1xufSk6IFN1Z2dlc3Rpb25TZXNzaW9uIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBmdWxsVGV4dDogZWZmZWN0LmNvbnRlbnQsXG4gICAgICAgIHJlbWFpbmluZ1RleHQ6IGVmZmVjdC5jb250ZW50LFxuICAgICAgICBiYXNlbGluZURvY3VtZW50OiBlZmZlY3QuZG9jdW1lbnQsXG4gICAgICAgIGFuY2hvclBvc2l0aW9uOiBlZmZlY3QuYW5jaG9yLFxuICAgIH07XG59XG5cbi8qKlxuICogQWRqdXN0IHRoZSBzdWdnZXN0aW9uIHNlc3Npb24gaW4gcmVzcG9uc2UgdG8gZG9jdW1lbnQgY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU2Vzc2lvbk9uRG9jdW1lbnRDaGFuZ2UoXG4gICAgc2Vzc2lvbjogU3VnZ2VzdGlvblNlc3Npb24sXG4gICAgdHJhbnNhY3Rpb246IFRyYW5zYWN0aW9uXG4pOiBTdWdnZXN0aW9uU2Vzc2lvbiB7XG4gICAgbGV0IGluc2VydGVkQ29udGVudCA9ICcnO1xuICAgIGxldCBpbnNlcnRpb25BdEFuY2hvciA9IGZhbHNlO1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIGRvY3VtZW50IGNoYW5nZXMgdG8gZGV0ZWN0IGFuIGluc2VydGlvbiBhdCB0aGUgc3VnZ2VzdGlvbidzIGFuY2hvci5cbiAgICB0cmFuc2FjdGlvbi5jaGFuZ2VzLml0ZXJDaGFuZ2VzKChmcm9tQSwgdG9BLCBfZnJvbUIsIF90b0IsIGluc2VydGVkKSA9PiB7XG4gICAgICAgIGlmIChmcm9tQSA9PT0gc2Vzc2lvbi5hbmNob3JQb3NpdGlvbiAmJiB0b0EgPT09IGZyb21BKSB7XG4gICAgICAgICAgICBpbnNlcnRlZENvbnRlbnQgPSBpbnNlcnRlZC50b1N0cmluZygpO1xuICAgICAgICAgICAgaW5zZXJ0aW9uQXRBbmNob3IgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIWluc2VydGlvbkF0QW5jaG9yIHx8ICFzZXNzaW9uLnJlbWFpbmluZ1RleHQpIHtcbiAgICAgICAgcmV0dXJuIGludmFsaWRhdGVTZXNzaW9uKHNlc3Npb24pO1xuICAgIH1cblxuICAgIC8vIFZlcmlmeSB0aGUgaW5zZXJ0ZWQgdGV4dCBtYXRjaGVzIHRoZSBwZW5kaW5nIHN1Z2dlc3Rpb24uXG4gICAgaWYgKHNlc3Npb24ucmVtYWluaW5nVGV4dC5zdGFydHNXaXRoKGluc2VydGVkQ29udGVudCkpIHtcbiAgICAgICAgcmV0dXJuIGFkdmFuY2VTZXNzaW9uKHNlc3Npb24sIGluc2VydGVkQ29udGVudC5sZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiBpbnZhbGlkYXRlU2Vzc2lvbihzZXNzaW9uKTtcbn1cblxuLyoqXG4gKiBBZHZhbmNlIHRoZSBzZXNzaW9uIGJ5IGNvbnN1bWluZyBhY2NlcHRlZCB0ZXh0LlxuICovXG5mdW5jdGlvbiBhZHZhbmNlU2Vzc2lvbihcbiAgICBzZXNzaW9uOiBTdWdnZXN0aW9uU2Vzc2lvbixcbiAgICBjb25zdW1lZExlbmd0aDogbnVtYmVyXG4pOiBTdWdnZXN0aW9uU2Vzc2lvbiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc2Vzc2lvbixcbiAgICAgICAgcmVtYWluaW5nVGV4dDpcbiAgICAgICAgICAgIHNlc3Npb24ucmVtYWluaW5nVGV4dCEuc2xpY2UoY29uc3VtZWRMZW5ndGgpLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICA/IHNlc3Npb24ucmVtYWluaW5nVGV4dCEuc2xpY2UoY29uc3VtZWRMZW5ndGgpXG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICBhbmNob3JQb3NpdGlvbjogc2Vzc2lvbi5hbmNob3JQb3NpdGlvbiEgKyBjb25zdW1lZExlbmd0aCxcbiAgICB9O1xufVxuXG4vKipcbiAqIEludmFsaWRhdGUgdGhlIHNlc3Npb24sIGVmZmVjdGl2ZWx5IGNhbmNlbGxpbmcgYW55IHBlbmRpbmcgc3VnZ2VzdGlvbi5cbiAqL1xuZnVuY3Rpb24gaW52YWxpZGF0ZVNlc3Npb24oc2Vzc2lvbjogU3VnZ2VzdGlvblNlc3Npb24pOiBTdWdnZXN0aW9uU2Vzc2lvbiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc2Vzc2lvbixcbiAgICAgICAgcmVtYWluaW5nVGV4dDogbnVsbCxcbiAgICAgICAgYW5jaG9yUG9zaXRpb246IG51bGwsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBDYW5jZWwgdGhlIHN1Z2dlc3Rpb24gaWYgdGhlIGN1cnNvciBoYXMgZHJpZnRlZCBhd2F5LlxuICovXG5mdW5jdGlvbiB1cGRhdGVTZXNzaW9uT25DdXJzb3JEcmlmdChcbiAgICBzZXNzaW9uOiBTdWdnZXN0aW9uU2Vzc2lvbixcbiAgICB0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb25cbik6IFN1Z2dlc3Rpb25TZXNzaW9uIHtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb24uc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCAhPT0gc2Vzc2lvbi5hbmNob3JQb3NpdGlvblxuICAgICAgICA/IGludmFsaWRhdGVTZXNzaW9uKHNlc3Npb24pXG4gICAgICAgIDogc2Vzc2lvbjtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgIFN1Z2dlc3Rpb24gUmVuZGVyaW5nIChWaXN1YWxpemF0aW9uIExheWVyKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKipcbiAqIFdpZGdldCBmb3IgcmVuZGVyaW5nIGlubGluZSBzdWdnZXN0aW9uIHRleHQuXG4gKi9cbmNsYXNzIFN1Z2dlc3Rpb25XaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgT1BBQ0lUWSA9IDAuNDtcbiAgICBzdGF0aWMgcmVhZG9ubHkgQ1NTX0NMQVNTID0gJ2NtLWlubGluZS1wcmVkaWN0aW9uJztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgY29udGVudDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgdG9ET00oKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFN1Z2dlc3Rpb25XaWRnZXQuQ1NTX0NMQVNTO1xuICAgICAgICBzcGFuLnN0eWxlLm9wYWNpdHkgPSBTdWdnZXN0aW9uV2lkZ2V0Lk9QQUNJVFkudG9TdHJpbmcoKTtcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IHRoaXMuY29udGVudDtcbiAgICAgICAgcmV0dXJuIHNwYW47XG4gICAgfVxufVxuXG4vKipcbiAqIFBsdWdpbiB0aGF0IHJlbmRlcnMgaW5saW5lIHN1Z2dlc3Rpb24gZGVjb3JhdGlvbnMuXG4gKi9cbmNvbnN0IHN1Z2dlc3Rpb25SZW5kZXJlciA9IFZpZXdQbHVnaW4uZnJvbUNsYXNzKFxuICAgIGNsYXNzIHtcbiAgICAgICAgZGVjb3JhdGlvbnMgPSBEZWNvcmF0aW9uLm5vbmU7XG5cbiAgICAgICAgdXBkYXRlKHVwZGF0ZTogVmlld1VwZGF0ZSkge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHVwZGF0ZS5zdGF0ZS5maWVsZChzdWdnZXN0aW9uU2Vzc2lvblN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSBzZXNzaW9uLnJlbWFpbmluZ1RleHRcbiAgICAgICAgICAgICAgICA/IHRoaXMuY3JlYXRlRGVjb3JhdGlvbih1cGRhdGUudmlldywgc2Vzc2lvbi5yZW1haW5pbmdUZXh0KVxuICAgICAgICAgICAgICAgIDogRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVEZWNvcmF0aW9uKHZpZXc6IEVkaXRvclZpZXcsIHN1Z2dlc3Rpb25UZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnNvclBvc2l0aW9uID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkO1xuICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24uc2V0KFtcbiAgICAgICAgICAgICAgICBEZWNvcmF0aW9uLndpZGdldCh7XG4gICAgICAgICAgICAgICAgICAgIHdpZGdldDogbmV3IFN1Z2dlc3Rpb25XaWRnZXQoc3VnZ2VzdGlvblRleHQpLFxuICAgICAgICAgICAgICAgICAgICBzaWRlOiAxLFxuICAgICAgICAgICAgICAgIH0pLnJhbmdlKGN1cnNvclBvc2l0aW9uKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7IGRlY29yYXRpb25zOiAodikgPT4gdi5kZWNvcmF0aW9ucyB9XG4pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgU3VnZ2VzdGlvbiBGZXRjaGluZyAoRGVib3VuY2VkIEZldGNoZXIpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmZXRjaGVyIGZvciBzdWdnZXN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gZmV0Y2ggLSBUaGUgc3VnZ2VzdGlvbiBmZXRjaCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBnZXREZWxheSAtIEEgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBjdXJyZW50IGRlYm91bmNlIGRlbGF5IGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuY29uc3QgY3JlYXRlRGVib3VuY2VkRmV0Y2hlciA9IChcbiAgICBmZXRjaDogKHN0YXRlOiBFZGl0b3JTdGF0ZSkgPT4gQXN5bmNHZW5lcmF0b3I8U3VnZ2VzdGlvbj4sXG4gICAgZ2V0RGVsYXk6ICgpID0+IG51bWJlclxuKSA9PiB7XG4gICAgbGV0IGFjdGl2ZVJlcXVlc3QgPSB0cnVlO1xuICAgIGxldCB0aW1lb3V0SWQ6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+O1xuXG4gICAgLyoqXG4gICAgICogVGhyb3R0bGVkIGZldGNoIHRoYXQgd2FpdHMgZm9yIHRoZSBkZWJvdW5jZSBpbnRlcnZhbC5cbiAgICAgKi9cbiAgICBjb25zdCB0aHJvdHRsZWRGZXRjaCA9IGFzeW5jIGZ1bmN0aW9uKiAoc3RhdGU6IEVkaXRvclN0YXRlKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICBhY3RpdmVSZXF1ZXN0ID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQocmVzb2x2ZSwgZ2V0RGVsYXkoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWN0aXZlUmVxdWVzdCkgeWllbGQqIGZldGNoKHN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGx1Z2luIHRoYXQgaW5pdGlhdGVzIHN1Z2dlc3Rpb24gZmV0Y2hpbmcgb24gZG9jdW1lbnQgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBjb25zdCBmZXRjaGVyUGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoXG4gICAgICAgIGNsYXNzIHtcbiAgICAgICAgICAgIHByaXZhdGUgY3VycmVudFJlcXVlc3RJZCA9IDA7XG5cbiAgICAgICAgICAgIGFzeW5jIHVwZGF0ZSh1cGRhdGU6IFZpZXdVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHVwZGF0ZS5zdGF0ZTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHRyaWdnZXIgZmV0Y2ggaWYgdGhlcmUgaXMgbm8gYWN0aXZlIHN1Z2dlc3Rpb24uXG4gICAgICAgICAgICAgICAgaWYgKCF1cGRhdGUuZG9jQ2hhbmdlZCB8fCBzdGF0ZS5maWVsZChzdWdnZXN0aW9uU2Vzc2lvblN0YXRlKS5yZW1haW5pbmdUZXh0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0SWQgPSArK3RoaXMuY3VycmVudFJlcXVlc3RJZDtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHN1Z2dlc3Rpb24gb2YgdGhyb3R0bGVkRmV0Y2goc3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBzdGFsZSByZXF1ZXN0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RJZCAhPT0gdGhpcy5jdXJyZW50UmVxdWVzdElkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZS52aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFN1Z2dlc3Rpb25VcGRhdGVFZmZlY3Qub2Yoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHN1Z2dlc3Rpb24udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudDogc3RhdGUuZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmV0Y2hlclBsdWdpbixcbiAgICAgICAgdGVybWluYXRlOiAoKSA9PiB7XG4gICAgICAgICAgICBhY3RpdmVSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgIFVzZXIgSW50ZXJhY3Rpb24gKEFjY2VwdGFuY2UgSGFuZGxlcilcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLyoqXG4gKiBSZXR1cm5zIGEga2V5IGJpbmRpbmcgdGhhdCBhY2NlcHRzIHRoZSBjdXJyZW50IHN1Z2dlc3Rpb24uXG4gKlxuICogQHBhcmFtIHRlcm1pbmF0ZUZldGNoIC0gRnVuY3Rpb24gdG8gc3RvcCBmdXJ0aGVyIGZldGNoaW5nLlxuICogQHBhcmFtIGhvdGtleSAtIFRoZSBrZXkgdGhhdCB0cmlnZ2VycyBhY2NlcHRhbmNlLlxuICogQHBhcmFtIGdldE9wdGlvbnMgLSBGdW5jdGlvbiByZXR1cm5pbmcgZHluYW1pYyBvcHRpb25zIChpbmNsdWRpbmcgc3BsaXRTdHJhdGVneSkuXG4gKi9cbmNvbnN0IGNyZWF0ZUFjY2VwdGFuY2VIYW5kbGVyID0gKFxuICAgIHRlcm1pbmF0ZUZldGNoOiAoKSA9PiB2b2lkLFxuICAgIGhvdGtleTogc3RyaW5nLFxuICAgIGdldE9wdGlvbnM6ICgpID0+IHsgZGVsYXlNcz86IG51bWJlcjsgc3BsaXRTdHJhdGVneT86IFNwbGl0U3RyYXRlZ3kgfVxuKSA9PlxuICAgIFByZWMuaGlnaGVzdChcbiAgICAgICAga2V5bWFwLm9mKFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBrZXk6IGhvdGtleSxcbiAgICAgICAgICAgICAgICBydW46ICh2aWV3OiBFZGl0b3JWaWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSB2aWV3LnN0YXRlLmZpZWxkKHN1Z2dlc3Rpb25TZXNzaW9uU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb24ucmVtYWluaW5nVGV4dCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBvYnRhaW4gdGhlIGN1cnJlbnQgc3BsaXQgc3RyYXRlZ3kgZnJvbSBnZXRPcHRpb25zLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkeW5hbWljT3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VnbWVudGF0aW9uS2V5ID0gZHluYW1pY09wdGlvbnMuc3BsaXRTdHJhdGVneSA/PyAnd29yZCc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYWNjZXB0ZWQsIHJlbWFpbmluZyB9ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIFRleHRTcGxpdFN0cmF0ZWdpZXNbc2VnbWVudGF0aW9uS2V5XShzZXNzaW9uLnJlbWFpbmluZ1RleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWNjZXB0ZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJbnNlcnQgdGhlIGFjY2VwdGVkIHN1Z2dlc3Rpb24gdGV4dC5cbiAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5pbnNlcnRDb21wbGV0aW9uKHZpZXcuc3RhdGUsIGFjY2VwdGVkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFN1Z2dlc3Rpb25VcGRhdGVFZmZlY3Qub2Yoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlbWFpbmluZyB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50OiByZW1haW5pbmcgPyBzZXNzaW9uLmJhc2VsaW5lRG9jdW1lbnQgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogcmVtYWluaW5nID8gc2Vzc2lvbi5hbmNob3JQb3NpdGlvbiEgKyBhY2NlcHRlZC5sZW5ndGggOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVtYWluaW5nKSB0ZXJtaW5hdGVGZXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSlcbiAgICApO1xuXG4vKipcbiAqIEhlbHBlciB0byBjcmVhdGUgYSB0cmFuc2FjdGlvbiB0aGF0IGluc2VydHMgY29tcGxldGlvbiB0ZXh0LlxuICovXG5jb25zdCBpbnNlcnRDb21wbGV0aW9uID0gKHN0YXRlOiBFZGl0b3JTdGF0ZSwgdGV4dDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY3Vyc29yUG9zID0gc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZDtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZS5jaGFuZ2VCeVJhbmdlKCgpID0+ICh7XG4gICAgICAgICAgICBjaGFuZ2VzOiB7IGZyb206IGN1cnNvclBvcywgaW5zZXJ0OiB0ZXh0IH0sXG4gICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihjdXJzb3JQb3MgKyB0ZXh0Lmxlbmd0aCksXG4gICAgICAgIH0pKSxcbiAgICAgICAgdXNlckV2ZW50OiAnY29tcGxldGlvbi5hY2NlcHQnLFxuICAgIH07XG59O1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgUHVibGljIEFQSVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKipcbiAqIFRoZSBtYWluIGV4dGVuc2lvbiBmdW5jdGlvbi4gSXQgd2lyZXMgdXAgc2Vzc2lvbiBzdGF0ZSBtYW5hZ2VtZW50LFxuICogc3VnZ2VzdGlvbiBmZXRjaGluZywgcmVuZGVyaW5nLCBhbmQgdXNlciBpbnRlcmFjdGlvbi5cbiAqXG4gKiBOb3RpY2UgdGhhdCB0aGUgc3VnZ2VzdGlvbiBub3cgb25seSBjb250YWlucyB0ZXh0LlxuICogVGhlIHNwbGl0IHN0cmF0ZWd5IGlzIGFsd2F5cyBvYnRhaW5lZCBkeW5hbWljYWxseSB2aWEgYGdldE9wdGlvbnMoKWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmxpbmVTdWdnZXN0aW9ucyhjb25maWc6IElubGluZUNvbXBsZXRpb25Db25maWcpIHtcbiAgICBjb25zdCB7IGZldGNoRnVuYywgZ2V0T3B0aW9ucyB9ID0gY29uZmlnO1xuICAgIC8vIFVzZSB0aGUgaG90a2V5IGZyb20gdGhlIGNvbmZpZyBpZiBwcm92aWRlZDsgb3RoZXJ3aXNlLCBkZWZhdWx0IHRvIFwiVGFiXCIuXG4gICAgY29uc3Qgc3RhdGljSG90a2V5ID0gY29uZmlnLmFjY2VwdGFuY2VIb3RrZXkgfHwgJ1RhYic7XG5cbiAgICAvLyBOb3JtYWxpemUgdGhlIGZldGNoIGZ1bmN0aW9uIHRvIGFsd2F5cyByZXR1cm4gYW4gYXN5bmMgZ2VuZXJhdG9yLlxuICAgIGNvbnN0IG5vcm1hbGl6ZUZldGNoID0gYXN5bmMgZnVuY3Rpb24qIChzdGF0ZTogRWRpdG9yU3RhdGUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2hGdW5jKHN0YXRlKTtcbiAgICAgICAgaWYgKFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgeWllbGQqIHJlc3VsdCBhcyBBc3luY0dlbmVyYXRvcjxTdWdnZXN0aW9uPjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHlpZWxkIHJlc3VsdCBhcyBTdWdnZXN0aW9uO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFVzZSBnZXRPcHRpb25zKCkgdG8gb2J0YWluIHRoZSBjdXJyZW50IGRlYm91bmNlIGRlbGF5LlxuICAgIGNvbnN0IGdldERlbGF5ID0gKCkgPT4gZ2V0T3B0aW9ucygpLmRlbGF5TXMgPz8gMzAwO1xuICAgIGNvbnN0IHsgZmV0Y2hlclBsdWdpbiwgdGVybWluYXRlIH0gPSBjcmVhdGVEZWJvdW5jZWRGZXRjaGVyKG5vcm1hbGl6ZUZldGNoLCBnZXREZWxheSk7XG4gICAgY29uc3QgYWNjZXB0YW5jZUhhbmRsZXIgPSBjcmVhdGVBY2NlcHRhbmNlSGFuZGxlcih0ZXJtaW5hdGUsIHN0YXRpY0hvdGtleSwgZ2V0T3B0aW9ucyk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgICBzdWdnZXN0aW9uU2Vzc2lvblN0YXRlLFxuICAgICAgICBmZXRjaGVyUGx1Z2luLFxuICAgICAgICBzdWdnZXN0aW9uUmVuZGVyZXIsXG4gICAgICAgIGFjY2VwdGFuY2VIYW5kbGVyLFxuICAgIF07XG59XG4iLCAiaW1wb3J0IGZzLCB7IHByb21pc2VzIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgT2xsYW1hIGFzIE9sbGFtYSQxIH0gZnJvbSAnLi9icm93c2VyLm1qcyc7XG5pbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XG5cbmNsYXNzIE9sbGFtYSBleHRlbmRzIE9sbGFtYSQxIHtcbiAgYXN5bmMgZW5jb2RlSW1hZ2UoaW1hZ2UpIHtcbiAgICBpZiAodHlwZW9mIGltYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gQnVmZmVyLmZyb20oaW1hZ2UpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoaW1hZ2UpKSB7XG4gICAgICAgIGNvbnN0IGZpbGVCdWZmZXIgPSBhd2FpdCBwcm9taXNlcy5yZWFkRmlsZShyZXNvbHZlKGltYWdlKSk7XG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShmaWxlQnVmZmVyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICB9XG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG4gIC8qKlxuICAgKiBjaGVja3MgaWYgYSBmaWxlIGV4aXN0c1xuICAgKiBAcGFyYW0gcGF0aCB7c3RyaW5nfSAtIFRoZSBwYXRoIHRvIHRoZSBmaWxlXG4gICAqIEBwcml2YXRlIEBpbnRlcm5hbFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gLSBXaGV0aGVyIHRoZSBmaWxlIGV4aXN0cyBvciBub3RcbiAgICovXG4gIGFzeW5jIGZpbGVFeGlzdHMocGF0aCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwcm9taXNlcy5hY2Nlc3MocGF0aCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgY3JlYXRlKHJlcXVlc3QpIHtcbiAgICBpZiAocmVxdWVzdC5mcm9tICYmIGF3YWl0IHRoaXMuZmlsZUV4aXN0cyhyZXNvbHZlKHJlcXVlc3QuZnJvbSkpKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkNyZWF0aW5nIHdpdGggYSBsb2NhbCBwYXRoIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGZyb20gb2xsYW1hLWpzXCIpO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdC5zdHJlYW0pIHtcbiAgICAgIHJldHVybiBzdXBlci5jcmVhdGUocmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdXBlci5jcmVhdGUocmVxdWVzdCk7XG4gICAgfVxuICB9XG59XG5jb25zdCBpbmRleCA9IG5ldyBPbGxhbWEoKTtcblxuZXhwb3J0IHsgT2xsYW1hLCBpbmRleCBhcyBkZWZhdWx0IH07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zICovXG52YXIgZyA9XG4gICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcykgfHxcbiAgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmKSB8fFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbCkgfHxcbiAge31cblxudmFyIHN1cHBvcnQgPSB7XG4gIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gZyxcbiAgaXRlcmFibGU6ICdTeW1ib2wnIGluIGcgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gIGJsb2I6XG4gICAgJ0ZpbGVSZWFkZXInIGluIGcgJiZcbiAgICAnQmxvYicgaW4gZyAmJlxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gZyxcbiAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gZ1xufVxuXG5mdW5jdGlvbiBpc0RhdGFWaWV3KG9iaikge1xuICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbn1cblxuaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gIF1cblxuICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPVxuICAgIEFycmF5QnVmZmVyLmlzVmlldyB8fFxuICAgIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgfVxuICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5eX2B8fiFdL2kudGVzdChuYW1lKSB8fCBuYW1lID09PSAnJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lOiBcIicgKyBuYW1lICsgJ1wiJylcbiAgfVxuICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gIH1cbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG5mdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpdGVyYXRvclxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gIHRoaXMubWFwID0ge31cblxuICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIGlmIChoZWFkZXIubGVuZ3RoICE9IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSGVhZGVycyBjb25zdHJ1Y3RvcjogZXhwZWN0ZWQgbmFtZS92YWx1ZSBwYWlyIHRvIGJlIGxlbmd0aCAyLCBmb3VuZCcgKyBoZWFkZXIubGVuZ3RoKVxuICAgICAgfVxuICAgICAgdGhpcy5hcHBlbmQoaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG4gICAgfSwgdGhpcylcbiAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgIH0sIHRoaXMpXG4gIH1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlICsgJywgJyArIHZhbHVlIDogdmFsdWVcbn1cblxuSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgfVxuICB9XG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgaXRlbXMucHVzaChuYW1lKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpdGVtcy5wdXNoKHZhbHVlKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbmlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG59XG5cbmZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgaWYgKGJvZHkuX25vQm9keSkgcmV0dXJuXG4gIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICB9XG4gIGJvZHkuYm9keVVzZWQgPSB0cnVlXG59XG5cbmZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICB9XG4gICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgdmFyIG1hdGNoID0gL2NoYXJzZXQ9KFtBLVphLXowLTlfLV0rKS8uZXhlYyhibG9iLnR5cGUpXG4gIHZhciBlbmNvZGluZyA9IG1hdGNoID8gbWF0Y2hbMV0gOiAndXRmLTgnXG4gIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IsIGVuY29kaW5nKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gIH1cbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICB9IGVsc2Uge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgfVxufVxuXG5mdW5jdGlvbiBCb2R5KCkge1xuICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAvKlxuICAgICAgZmV0Y2gtbW9jayB3cmFwcyB0aGUgUmVzcG9uc2Ugb2JqZWN0IGluIGFuIEVTNiBQcm94eSB0b1xuICAgICAgcHJvdmlkZSB1c2VmdWwgdGVzdCBoYXJuZXNzIGZlYXR1cmVzIHN1Y2ggYXMgZmx1c2guIEhvd2V2ZXIsIG9uXG4gICAgICBFUzUgYnJvd3NlcnMgd2l0aG91dCBmZXRjaCBvciBQcm94eSBzdXBwb3J0IHBvbGx5ZmlsbHMgbXVzdCBiZSB1c2VkO1xuICAgICAgdGhlIHByb3h5LXBvbGx5ZmlsbCBpcyB1bmFibGUgdG8gcHJveHkgYW4gYXR0cmlidXRlIHVubGVzcyBpdCBleGlzdHNcbiAgICAgIG9uIHRoZSBvYmplY3QgYmVmb3JlIHRoZSBQcm94eSBpcyBjcmVhdGVkLiBUaGlzIGNoYW5nZSBlbnN1cmVzXG4gICAgICBSZXNwb25zZS5ib2R5VXNlZCBleGlzdHMgb24gdGhlIGluc3RhbmNlLCB3aGlsZSBtYWludGFpbmluZyB0aGVcbiAgICAgIHNlbWFudGljIG9mIHNldHRpbmcgUmVxdWVzdC5ib2R5VXNlZCBpbiB0aGUgY29uc3RydWN0b3IgYmVmb3JlXG4gICAgICBfaW5pdEJvZHkgaXMgY2FsbGVkLlxuICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtYXNzaWduXG4gICAgdGhpcy5ib2R5VXNlZCA9IHRoaXMuYm9keVVzZWRcbiAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIHRoaXMuX25vQm9keSA9IHRydWU7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIGlzQ29uc3VtZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKGlzQ29uc3VtZWQpIHtcbiAgICAgICAgcmV0dXJuIGlzQ29uc3VtZWRcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShcbiAgICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIuYnVmZmVyLnNsaWNlKFxuICAgICAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyLmJ5dGVPZmZzZXQsXG4gICAgICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIuYnl0ZU9mZnNldCArIHRoaXMuX2JvZHlBcnJheUJ1ZmZlci5ieXRlTGVuZ3RoXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIGFzIEFycmF5QnVmZmVyJylcbiAgICB9XG4gIH1cblxuICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICB9XG4gIH1cblxuICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG52YXIgbWV0aG9kcyA9IFsnQ09OTkVDVCcsICdERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQQVRDSCcsICdQT1NUJywgJ1BVVCcsICdUUkFDRSddXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXF1ZXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BsZWFzZSB1c2UgdGhlIFwibmV3XCIgb3BlcmF0b3IsIHRoaXMgRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uJylcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICB9XG4gICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgdGhpcy5zaWduYWwgPSBpbnB1dC5zaWduYWxcbiAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgfVxuXG4gIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ3NhbWUtb3JpZ2luJ1xuICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gIH1cbiAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICB0aGlzLnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsIHx8IHRoaXMuc2lnbmFsIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCdBYm9ydENvbnRyb2xsZXInIGluIGcpIHtcbiAgICAgIHZhciBjdHJsID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgcmV0dXJuIGN0cmwuc2lnbmFsO1xuICAgIH1cbiAgfSgpKTtcbiAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICB9XG4gIHRoaXMuX2luaXRCb2R5KGJvZHkpXG5cbiAgaWYgKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSB7XG4gICAgaWYgKG9wdGlvbnMuY2FjaGUgPT09ICduby1zdG9yZScgfHwgb3B0aW9ucy5jYWNoZSA9PT0gJ25vLWNhY2hlJykge1xuICAgICAgLy8gU2VhcmNoIGZvciBhICdfJyBwYXJhbWV0ZXIgaW4gdGhlIHF1ZXJ5IHN0cmluZ1xuICAgICAgdmFyIHJlUGFyYW1TZWFyY2ggPSAvKFs/Jl0pXz1bXiZdKi9cbiAgICAgIGlmIChyZVBhcmFtU2VhcmNoLnRlc3QodGhpcy51cmwpKSB7XG4gICAgICAgIC8vIElmIGl0IGFscmVhZHkgZXhpc3RzIHRoZW4gc2V0IHRoZSB2YWx1ZSB3aXRoIHRoZSBjdXJyZW50IHRpbWVcbiAgICAgICAgdGhpcy51cmwgPSB0aGlzLnVybC5yZXBsYWNlKHJlUGFyYW1TZWFyY2gsICckMV89JyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBhIG5ldyAnXycgcGFyYW1ldGVyIHRvIHRoZSBlbmQgd2l0aCB0aGUgY3VycmVudCB0aW1lXG4gICAgICAgIHZhciByZVF1ZXJ5U3RyaW5nID0gL1xcPy9cbiAgICAgICAgdGhpcy51cmwgKz0gKHJlUXVlcnlTdHJpbmcudGVzdCh0aGlzLnVybCkgPyAnJicgOiAnPycpICsgJ189JyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7Ym9keTogdGhpcy5fYm9keUluaXR9KVxufVxuXG5mdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gIGJvZHlcbiAgICAudHJpbSgpXG4gICAgLnNwbGl0KCcmJylcbiAgICAuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgcmV0dXJuIGZvcm1cbn1cblxuZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gIC8vIFJlcGxhY2UgaW5zdGFuY2VzIG9mIFxcclxcbiBhbmQgXFxuIGZvbGxvd2VkIGJ5IGF0IGxlYXN0IG9uZSBzcGFjZSBvciBob3Jpem9udGFsIHRhYiB3aXRoIGEgc3BhY2VcbiAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcyMzAjc2VjdGlvbi0zLjJcbiAgdmFyIHByZVByb2Nlc3NlZEhlYWRlcnMgPSByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJylcbiAgLy8gQXZvaWRpbmcgc3BsaXQgdmlhIHJlZ2V4IHRvIHdvcmsgYXJvdW5kIGEgY29tbW9uIElFMTEgYnVnIHdpdGggdGhlIGNvcmUtanMgMy42LjAgcmVnZXggcG9seWZpbGxcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dpdGh1Yi9mZXRjaC9pc3N1ZXMvNzQ4XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy83NTFcbiAgcHJlUHJvY2Vzc2VkSGVhZGVyc1xuICAgIC5zcGxpdCgnXFxyJylcbiAgICAubWFwKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgcmV0dXJuIGhlYWRlci5pbmRleE9mKCdcXG4nKSA9PT0gMCA/IGhlYWRlci5zdWJzdHIoMSwgaGVhZGVyLmxlbmd0aCkgOiBoZWFkZXJcbiAgICB9KVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignUmVzcG9uc2UgJyArIGVycm9yLm1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICByZXR1cm4gaGVhZGVyc1xufVxuXG5Cb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbmV4cG9ydCBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVzcG9uc2UpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGxlYXNlIHVzZSB0aGUgXCJuZXdcIiBvcGVyYXRvciwgdGhpcyBET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4nKVxuICB9XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fVxuICB9XG5cbiAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXMgPT09IHVuZGVmaW5lZCA/IDIwMCA6IG9wdGlvbnMuc3RhdHVzXG4gIGlmICh0aGlzLnN0YXR1cyA8IDIwMCB8fCB0aGlzLnN0YXR1cyA+IDU5OSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzcG9uc2UnOiBUaGUgc3RhdHVzIHByb3ZpZGVkICgwKSBpcyBvdXRzaWRlIHRoZSByYW5nZSBbMjAwLCA1OTldLlwiKVxuICB9XG4gIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgdGhpcy5zdGF0dXNUZXh0ID0gb3B0aW9ucy5zdGF0dXNUZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6ICcnICsgb3B0aW9ucy5zdGF0dXNUZXh0XG4gIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbn1cblxuQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgIHVybDogdGhpcy51cmxcbiAgfSlcbn1cblxuUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDIwMCwgc3RhdHVzVGV4dDogJyd9KVxuICByZXNwb25zZS5vayA9IGZhbHNlXG4gIHJlc3BvbnNlLnN0YXR1cyA9IDBcbiAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgcmV0dXJuIHJlc3BvbnNlXG59XG5cbnZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG5SZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gIH1cblxuICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbn1cblxuZXhwb3J0IHZhciBET01FeGNlcHRpb24gPSBnLkRPTUV4Y2VwdGlvblxudHJ5IHtcbiAgbmV3IERPTUV4Y2VwdGlvbigpXG59IGNhdGNoIChlcnIpIHtcbiAgRE9NRXhjZXB0aW9uID0gZnVuY3Rpb24obWVzc2FnZSwgbmFtZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2VcbiAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgdmFyIGVycm9yID0gRXJyb3IobWVzc2FnZSlcbiAgICB0aGlzLnN0YWNrID0gZXJyb3Iuc3RhY2tcbiAgfVxuICBET01FeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpXG4gIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBET01FeGNlcHRpb25cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoKGlucHV0LCBpbml0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuXG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsICYmIHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IERPTUV4Y2VwdGlvbignQWJvcnRlZCcsICdBYm9ydEVycm9yJykpXG4gICAgfVxuXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICBmdW5jdGlvbiBhYm9ydFhocigpIHtcbiAgICAgIHhoci5hYm9ydCgpXG4gICAgfVxuXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgfVxuICAgICAgLy8gVGhpcyBjaGVjayBpZiBzcGVjaWZpY2FsbHkgZm9yIHdoZW4gYSB1c2VyIGZldGNoZXMgYSBmaWxlIGxvY2FsbHkgZnJvbSB0aGUgZmlsZSBzeXN0ZW1cbiAgICAgIC8vIE9ubHkgaWYgdGhlIHN0YXR1cyBpcyBvdXQgb2YgYSBub3JtYWwgcmFuZ2VcbiAgICAgIGlmIChyZXF1ZXN0LnVybC5pbmRleE9mKCdmaWxlOi8vJykgPT09IDAgJiYgKHhoci5zdGF0dXMgPCAyMDAgfHwgeGhyLnN0YXR1cyA+IDU5OSkpIHtcbiAgICAgICAgb3B0aW9ucy5zdGF0dXMgPSAyMDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLnN0YXR1cyA9IHhoci5zdGF0dXM7XG4gICAgICB9XG4gICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG4gICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9LCAwKVxuICAgIH1cblxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfSwgMClcbiAgICB9XG5cbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IHRpbWVkIG91dCcpKVxuICAgICAgfSwgMClcbiAgICB9XG5cbiAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpKVxuICAgICAgfSwgMClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaXhVcmwodXJsKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdXJsID09PSAnJyAmJiBnLmxvY2F0aW9uLmhyZWYgPyBnLmxvY2F0aW9uLmhyZWYgOiB1cmxcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVybFxuICAgICAgfVxuICAgIH1cblxuICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCBmaXhVcmwocmVxdWVzdC51cmwpLCB0cnVlKVxuXG4gICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICB9IGVsc2UgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdvbWl0Jykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhocikge1xuICAgICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBzdXBwb3J0LmFycmF5QnVmZmVyXG4gICAgICApIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcidcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5pdCAmJiB0eXBlb2YgaW5pdC5oZWFkZXJzID09PSAnb2JqZWN0JyAmJiAhKGluaXQuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMgfHwgKGcuSGVhZGVycyAmJiBpbml0LmhlYWRlcnMgaW5zdGFuY2VvZiBnLkhlYWRlcnMpKSkge1xuICAgICAgdmFyIG5hbWVzID0gW107XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhpbml0LmhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICBuYW1lcy5wdXNoKG5vcm1hbGl6ZU5hbWUobmFtZSkpXG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIG5vcm1hbGl6ZVZhbHVlKGluaXQuaGVhZGVyc1tuYW1lXSkpXG4gICAgICB9KVxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWVzLmluZGV4T2YobmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwpIHtcbiAgICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG5cbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRE9ORSAoc3VjY2VzcyBvciBmYWlsdXJlKVxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgfSlcbn1cblxuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG5cbmlmICghZy5mZXRjaCkge1xuICBnLmZldGNoID0gZmV0Y2hcbiAgZy5IZWFkZXJzID0gSGVhZGVyc1xuICBnLlJlcXVlc3QgPSBSZXF1ZXN0XG4gIGcuUmVzcG9uc2UgPSBSZXNwb25zZVxufVxuIiwgImltcG9ydCAnd2hhdHdnLWZldGNoJztcblxuY29uc3QgdmVyc2lvbiA9IFwiMC41LjEyXCI7XG5cbnZhciBfX2RlZlByb3AkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AkMSA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCQxID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xuICBfX2RlZk5vcm1hbFByb3AkMShvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5jbGFzcyBSZXNwb25zZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihlcnJvciwgc3RhdHVzX2NvZGUpIHtcbiAgICBzdXBlcihlcnJvcik7XG4gICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIHRoaXMuc3RhdHVzX2NvZGUgPSBzdGF0dXNfY29kZTtcbiAgICB0aGlzLm5hbWUgPSBcIlJlc3BvbnNlRXJyb3JcIjtcbiAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFJlc3BvbnNlRXJyb3IpO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgQWJvcnRhYmxlQXN5bmNJdGVyYXRvciB7XG4gIGNvbnN0cnVjdG9yKGFib3J0Q29udHJvbGxlciwgaXRyLCBkb25lQ2FsbGJhY2spIHtcbiAgICBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJhYm9ydENvbnRyb2xsZXJcIik7XG4gICAgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwiaXRyXCIpO1xuICAgIF9fcHVibGljRmllbGQkMSh0aGlzLCBcImRvbmVDYWxsYmFja1wiKTtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlciA9IGFib3J0Q29udHJvbGxlcjtcbiAgICB0aGlzLml0ciA9IGl0cjtcbiAgICB0aGlzLmRvbmVDYWxsYmFjayA9IGRvbmVDYWxsYmFjaztcbiAgfVxuICBhYm9ydCgpIHtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICB9XG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGZvciBhd2FpdCAoY29uc3QgbWVzc2FnZSBvZiB0aGlzLml0cikge1xuICAgICAgaWYgKFwiZXJyb3JcIiBpbiBtZXNzYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlLmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHlpZWxkIG1lc3NhZ2U7XG4gICAgICBpZiAobWVzc2FnZS5kb25lIHx8IG1lc3NhZ2Uuc3RhdHVzID09PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICB0aGlzLmRvbmVDYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkRpZCBub3QgcmVjZWl2ZSBkb25lIG9yIHN1Y2Nlc3MgcmVzcG9uc2UgaW4gc3RyZWFtLlwiKTtcbiAgfVxufVxuY29uc3QgY2hlY2tPayA9IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG1lc3NhZ2UgPSBgRXJyb3IgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YDtcbiAgbGV0IGVycm9yRGF0YSA9IG51bGw7XG4gIGlmIChyZXNwb25zZS5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKT8uaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIG1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgbWVzc2FnZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gcGFyc2UgZXJyb3IgcmVzcG9uc2UgYXMgSlNPTlwiKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiR2V0dGluZyB0ZXh0IGZyb20gcmVzcG9uc2VcIik7XG4gICAgICBjb25zdCB0ZXh0UmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICBtZXNzYWdlID0gdGV4dFJlc3BvbnNlIHx8IG1lc3NhZ2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGdldCB0ZXh0IGZyb20gZXJyb3IgcmVzcG9uc2VcIik7XG4gICAgfVxuICB9XG4gIHRocm93IG5ldyBSZXNwb25zZUVycm9yKG1lc3NhZ2UsIHJlc3BvbnNlLnN0YXR1cyk7XG59O1xuZnVuY3Rpb24gZ2V0UGxhdGZvcm0oKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYXZpZ2F0b3IpIHtcbiAgICByZXR1cm4gYCR7d2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpfSBCcm93c2VyLyR7bmF2aWdhdG9yLnVzZXJBZ2VudH07YDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBgJHtwcm9jZXNzLmFyY2h9ICR7cHJvY2Vzcy5wbGF0Zm9ybX0gTm9kZS5qcy8ke3Byb2Nlc3MudmVyc2lvbn1gO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuY29uc3QgZmV0Y2hXaXRoSGVhZGVycyA9IGFzeW5jIChmZXRjaCwgdXJsLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgZGVmYXVsdEhlYWRlcnMgPSB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICBcIlVzZXItQWdlbnRcIjogYG9sbGFtYS1qcy8ke3ZlcnNpb259ICgke2dldFBsYXRmb3JtKCl9KWBcbiAgfTtcbiAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICBvcHRpb25zLmhlYWRlcnMgPSB7fTtcbiAgfVxuICBjb25zdCBjdXN0b21IZWFkZXJzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuaGVhZGVycykuZmlsdGVyKChba2V5XSkgPT4gIU9iamVjdC5rZXlzKGRlZmF1bHRIZWFkZXJzKS5zb21lKChkZWZhdWx0S2V5KSA9PiBkZWZhdWx0S2V5LnRvTG93ZXJDYXNlKCkgPT09IGtleS50b0xvd2VyQ2FzZSgpKSlcbiAgKTtcbiAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgIC4uLmRlZmF1bHRIZWFkZXJzLFxuICAgIC4uLmN1c3RvbUhlYWRlcnNcbiAgfTtcbiAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucyk7XG59O1xuY29uc3QgZ2V0ID0gYXN5bmMgKGZldGNoLCBob3N0LCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoSGVhZGVycyhmZXRjaCwgaG9zdCwge1xuICAgIGhlYWRlcnM6IG9wdGlvbnM/LmhlYWRlcnNcbiAgfSk7XG4gIGF3YWl0IGNoZWNrT2socmVzcG9uc2UpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgcG9zdCA9IGFzeW5jIChmZXRjaCwgaG9zdCwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBpc1JlY29yZCA9IChpbnB1dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoaW5wdXQpO1xuICB9O1xuICBjb25zdCBmb3JtYXR0ZWREYXRhID0gaXNSZWNvcmQoZGF0YSkgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IGRhdGE7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoSGVhZGVycyhmZXRjaCwgaG9zdCwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogZm9ybWF0dGVkRGF0YSxcbiAgICBzaWduYWw6IG9wdGlvbnM/LnNpZ25hbCxcbiAgICBoZWFkZXJzOiBvcHRpb25zPy5oZWFkZXJzXG4gIH0pO1xuICBhd2FpdCBjaGVja09rKHJlc3BvbnNlKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlbCA9IGFzeW5jIChmZXRjaCwgaG9zdCwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aEhlYWRlcnMoZmV0Y2gsIGhvc3QsIHtcbiAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgaGVhZGVyczogb3B0aW9ucz8uaGVhZGVyc1xuICB9KTtcbiAgYXdhaXQgY2hlY2tPayhyZXNwb25zZSk7XG4gIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBwYXJzZUpTT04gPSBhc3luYyBmdW5jdGlvbiogKGl0cikge1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIik7XG4gIGxldCBidWZmZXIgPSBcIlwiO1xuICBjb25zdCByZWFkZXIgPSBpdHIuZ2V0UmVhZGVyKCk7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgeyBkb25lLCB2YWx1ZTogY2h1bmsgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBidWZmZXIgKz0gZGVjb2Rlci5kZWNvZGUoY2h1bmspO1xuICAgIGNvbnN0IHBhcnRzID0gYnVmZmVyLnNwbGl0KFwiXFxuXCIpO1xuICAgIGJ1ZmZlciA9IHBhcnRzLnBvcCgpID8/IFwiXCI7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICB5aWVsZCBKU09OLnBhcnNlKHBhcnQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiaW52YWxpZCBqc29uOiBcIiwgcGFydCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgcGFydCBvZiBidWZmZXIuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChwKSA9PiBwICE9PSBcIlwiKSkge1xuICAgIHRyeSB7XG4gICAgICB5aWVsZCBKU09OLnBhcnNlKHBhcnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJpbnZhbGlkIGpzb246IFwiLCBwYXJ0KTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBmb3JtYXRIb3N0ID0gKGhvc3QpID0+IHtcbiAgaWYgKCFob3N0KSB7XG4gICAgcmV0dXJuIFwiaHR0cDovLzEyNy4wLjAuMToxMTQzNFwiO1xuICB9XG4gIGxldCBpc0V4cGxpY2l0UHJvdG9jb2wgPSBob3N0LmluY2x1ZGVzKFwiOi8vXCIpO1xuICBpZiAoaG9zdC5zdGFydHNXaXRoKFwiOlwiKSkge1xuICAgIGhvc3QgPSBgaHR0cDovLzEyNy4wLjAuMSR7aG9zdH1gO1xuICAgIGlzRXhwbGljaXRQcm90b2NvbCA9IHRydWU7XG4gIH1cbiAgaWYgKCFpc0V4cGxpY2l0UHJvdG9jb2wpIHtcbiAgICBob3N0ID0gYGh0dHA6Ly8ke2hvc3R9YDtcbiAgfVxuICBjb25zdCB1cmwgPSBuZXcgVVJMKGhvc3QpO1xuICBsZXQgcG9ydCA9IHVybC5wb3J0O1xuICBpZiAoIXBvcnQpIHtcbiAgICBpZiAoIWlzRXhwbGljaXRQcm90b2NvbCkge1xuICAgICAgcG9ydCA9IFwiMTE0MzRcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9ydCA9IHVybC5wcm90b2NvbCA9PT0gXCJodHRwczpcIiA/IFwiNDQzXCIgOiBcIjgwXCI7XG4gICAgfVxuICB9XG4gIGxldCBmb3JtYXR0ZWRIb3N0ID0gYCR7dXJsLnByb3RvY29sfS8vJHt1cmwuaG9zdG5hbWV9OiR7cG9ydH0ke3VybC5wYXRobmFtZX1gO1xuICBpZiAoZm9ybWF0dGVkSG9zdC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICBmb3JtYXR0ZWRIb3N0ID0gZm9ybWF0dGVkSG9zdC5zbGljZSgwLCAtMSk7XG4gIH1cbiAgcmV0dXJuIGZvcm1hdHRlZEhvc3Q7XG59O1xuXG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gIF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5sZXQgT2xsYW1hJDEgPSBjbGFzcyBPbGxhbWEge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY29uZmlnXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJmZXRjaFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib25nb2luZ1N0cmVhbWVkUmVxdWVzdHNcIiwgW10pO1xuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgaG9zdDogXCJcIixcbiAgICAgIGhlYWRlcnM6IGNvbmZpZz8uaGVhZGVyc1xuICAgIH07XG4gICAgaWYgKCFjb25maWc/LnByb3h5KSB7XG4gICAgICB0aGlzLmNvbmZpZy5ob3N0ID0gZm9ybWF0SG9zdChjb25maWc/Lmhvc3QgPz8gXCJodHRwOi8vMTI3LjAuMC4xOjExNDM0XCIpO1xuICAgIH1cbiAgICB0aGlzLmZldGNoID0gY29uZmlnPy5mZXRjaCA/PyBmZXRjaDtcbiAgfVxuICAvLyBBYm9ydCBhbnkgb25nb2luZyBzdHJlYW1lZCByZXF1ZXN0cyB0byBPbGxhbWFcbiAgYWJvcnQoKSB7XG4gICAgZm9yIChjb25zdCByZXF1ZXN0IG9mIHRoaXMub25nb2luZ1N0cmVhbWVkUmVxdWVzdHMpIHtcbiAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICB9XG4gICAgdGhpcy5vbmdvaW5nU3RyZWFtZWRSZXF1ZXN0cy5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxuICAgKiBQcm9jZXNzZXMgYSByZXF1ZXN0IHRvIHRoZSBPbGxhbWEgc2VydmVyLiBJZiB0aGUgcmVxdWVzdCBpcyBzdHJlYW1hYmxlLCBpdCB3aWxsIHJldHVybiBhXG4gICAqIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHMgdGhlIHJlc3BvbnNlIG1lc3NhZ2VzLiBPdGhlcndpc2UsIGl0IHdpbGwgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgKiBvYmplY3QuXG4gICAqIEBwYXJhbSBlbmRwb2ludCB7c3RyaW5nfSAtIFRoZSBlbmRwb2ludCB0byBzZW5kIHRoZSByZXF1ZXN0IHRvLlxuICAgKiBAcGFyYW0gcmVxdWVzdCB7b2JqZWN0fSAtIFRoZSByZXF1ZXN0IG9iamVjdCB0byBzZW5kIHRvIHRoZSBlbmRwb2ludC5cbiAgICogQHByb3RlY3RlZCB7VCB8IEFib3J0YWJsZUFzeW5jSXRlcmF0b3I8VD59IC0gVGhlIHJlc3BvbnNlIG9iamVjdCBvciBhIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHNcbiAgICogcmVzcG9uc2UgbWVzc2FnZXMuXG4gICAqIEB0aHJvd3Mge0Vycm9yfSAtIElmIHRoZSByZXNwb25zZSBib2R5IGlzIG1pc3Npbmcgb3IgaWYgdGhlIHJlc3BvbnNlIGlzIGFuIGVycm9yLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxUIHwgQWJvcnRhYmxlQXN5bmNJdGVyYXRvcjxUPj59IC0gVGhlIHJlc3BvbnNlIG9iamVjdCBvciBhIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHMgdGhlIHN0cmVhbWVkIHJlc3BvbnNlLlxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc1N0cmVhbWFibGVSZXF1ZXN0KGVuZHBvaW50LCByZXF1ZXN0KSB7XG4gICAgcmVxdWVzdC5zdHJlYW0gPSByZXF1ZXN0LnN0cmVhbSA/PyBmYWxzZTtcbiAgICBjb25zdCBob3N0ID0gYCR7dGhpcy5jb25maWcuaG9zdH0vYXBpLyR7ZW5kcG9pbnR9YDtcbiAgICBpZiAocmVxdWVzdC5zdHJlYW0pIHtcbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHBvc3QodGhpcy5mZXRjaCwgaG9zdCwgcmVxdWVzdCwge1xuICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmhlYWRlcnNcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZTIuYm9keSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGJvZHlcIik7XG4gICAgICB9XG4gICAgICBjb25zdCBpdHIgPSBwYXJzZUpTT04ocmVzcG9uc2UyLmJvZHkpO1xuICAgICAgY29uc3QgYWJvcnRhYmxlQXN5bmNJdGVyYXRvciA9IG5ldyBBYm9ydGFibGVBc3luY0l0ZXJhdG9yKFxuICAgICAgICBhYm9ydENvbnRyb2xsZXIsXG4gICAgICAgIGl0cixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLm9uZ29pbmdTdHJlYW1lZFJlcXVlc3RzLmluZGV4T2YoYWJvcnRhYmxlQXN5bmNJdGVyYXRvcik7XG4gICAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5vbmdvaW5nU3RyZWFtZWRSZXF1ZXN0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdGhpcy5vbmdvaW5nU3RyZWFtZWRSZXF1ZXN0cy5wdXNoKGFib3J0YWJsZUFzeW5jSXRlcmF0b3IpO1xuICAgICAgcmV0dXJuIGFib3J0YWJsZUFzeW5jSXRlcmF0b3I7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLmZldGNoLCBob3N0LCByZXF1ZXN0LCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmNvbmZpZy5oZWFkZXJzXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICAvKipcbiAgICogRW5jb2RlcyBhbiBpbWFnZSB0byBiYXNlNjQgaWYgaXQgaXMgYSBVaW50OEFycmF5LlxuICAgKiBAcGFyYW0gaW1hZ2Uge1VpbnQ4QXJyYXkgfCBzdHJpbmd9IC0gVGhlIGltYWdlIHRvIGVuY29kZS5cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgYmFzZTY0IGVuY29kZWQgaW1hZ2UuXG4gICAqL1xuICBhc3luYyBlbmNvZGVJbWFnZShpbWFnZSkge1xuICAgIGlmICh0eXBlb2YgaW1hZ2UgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IHVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheShpbWFnZSk7XG4gICAgICBsZXQgYnl0ZVN0cmluZyA9IFwiXCI7XG4gICAgICBjb25zdCBsZW4gPSB1aW50OEFycmF5LmJ5dGVMZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGJ5dGVTdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1aW50OEFycmF5W2ldKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBidG9hKGJ5dGVTdHJpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gaW1hZ2U7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIHJlc3BvbnNlIGZyb20gYSB0ZXh0IHByb21wdC5cbiAgICogQHBhcmFtIHJlcXVlc3Qge0dlbmVyYXRlUmVxdWVzdH0gLSBUaGUgcmVxdWVzdCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEdlbmVyYXRlUmVzcG9uc2UgfCBBYm9ydGFibGVBc3luY0l0ZXJhdG9yPEdlbmVyYXRlUmVzcG9uc2U+Pn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0IG9yXG4gICAqIGFuIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHMgcmVzcG9uc2UgbWVzc2FnZXMuXG4gICAqL1xuICBhc3luYyBnZW5lcmF0ZShyZXF1ZXN0KSB7XG4gICAgaWYgKHJlcXVlc3QuaW1hZ2VzKSB7XG4gICAgICByZXF1ZXN0LmltYWdlcyA9IGF3YWl0IFByb21pc2UuYWxsKHJlcXVlc3QuaW1hZ2VzLm1hcCh0aGlzLmVuY29kZUltYWdlLmJpbmQodGhpcykpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1N0cmVhbWFibGVSZXF1ZXN0KFwiZ2VuZXJhdGVcIiwgcmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIENoYXRzIHdpdGggdGhlIG1vZGVsLiBUaGUgcmVxdWVzdCBvYmplY3QgY2FuIGNvbnRhaW4gbWVzc2FnZXMgd2l0aCBpbWFnZXMgdGhhdCBhcmUgZWl0aGVyXG4gICAqIFVpbnQ4QXJyYXlzIG9yIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3MuIFRoZSBpbWFnZXMgd2lsbCBiZSBiYXNlNjQgZW5jb2RlZCBiZWZvcmUgc2VuZGluZyB0aGVcbiAgICogcmVxdWVzdC5cbiAgICogQHBhcmFtIHJlcXVlc3Qge0NoYXRSZXF1ZXN0fSAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICogQHJldHVybnMge1Byb21pc2U8Q2hhdFJlc3BvbnNlIHwgQWJvcnRhYmxlQXN5bmNJdGVyYXRvcjxDaGF0UmVzcG9uc2U+Pn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0IG9yIGFuXG4gICAqIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHMgcmVzcG9uc2UgbWVzc2FnZXMuXG4gICAqL1xuICBhc3luYyBjaGF0KHJlcXVlc3QpIHtcbiAgICBpZiAocmVxdWVzdC5tZXNzYWdlcykge1xuICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHJlcXVlc3QubWVzc2FnZXMpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuaW1hZ2VzKSB7XG4gICAgICAgICAgbWVzc2FnZS5pbWFnZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIG1lc3NhZ2UuaW1hZ2VzLm1hcCh0aGlzLmVuY29kZUltYWdlLmJpbmQodGhpcykpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzU3RyZWFtYWJsZVJlcXVlc3QoXCJjaGF0XCIsIHJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IG1vZGVsIGZyb20gYSBzdHJlYW0gb2YgZGF0YS5cbiAgICogQHBhcmFtIHJlcXVlc3Qge0NyZWF0ZVJlcXVlc3R9IC0gVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxQcm9ncmVzc1Jlc3BvbnNlIHwgQWJvcnRhYmxlQXN5bmNJdGVyYXRvcjxQcm9ncmVzc1Jlc3BvbnNlPj59IC0gVGhlIHJlc3BvbnNlIG9iamVjdCBvciBhIHN0cmVhbSBvZiBwcm9ncmVzcyByZXNwb25zZXMuXG4gICAqL1xuICBhc3luYyBjcmVhdGUocmVxdWVzdCkge1xuICAgIHJldHVybiB0aGlzLnByb2Nlc3NTdHJlYW1hYmxlUmVxdWVzdChcImNyZWF0ZVwiLCB7XG4gICAgICAuLi5yZXF1ZXN0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFB1bGxzIGEgbW9kZWwgZnJvbSB0aGUgT2xsYW1hIHJlZ2lzdHJ5LiBUaGUgcmVxdWVzdCBvYmplY3QgY2FuIGNvbnRhaW4gYSBzdHJlYW0gZmxhZyB0byBpbmRpY2F0ZSBpZiB0aGVcbiAgICogcmVzcG9uc2Ugc2hvdWxkIGJlIHN0cmVhbWVkLlxuICAgKiBAcGFyYW0gcmVxdWVzdCB7UHVsbFJlcXVlc3R9IC0gVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxQcm9ncmVzc1Jlc3BvbnNlIHwgQWJvcnRhYmxlQXN5bmNJdGVyYXRvcjxQcm9ncmVzc1Jlc3BvbnNlPj59IC0gVGhlIHJlc3BvbnNlIG9iamVjdCBvclxuICAgKiBhbiBBYm9ydGFibGVBc3luY0l0ZXJhdG9yIHRoYXQgeWllbGRzIHJlc3BvbnNlIG1lc3NhZ2VzLlxuICAgKi9cbiAgYXN5bmMgcHVsbChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1N0cmVhbWFibGVSZXF1ZXN0KFwicHVsbFwiLCB7XG4gICAgICBuYW1lOiByZXF1ZXN0Lm1vZGVsLFxuICAgICAgc3RyZWFtOiByZXF1ZXN0LnN0cmVhbSxcbiAgICAgIGluc2VjdXJlOiByZXF1ZXN0Lmluc2VjdXJlXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFB1c2hlcyBhIG1vZGVsIHRvIHRoZSBPbGxhbWEgcmVnaXN0cnkuIFRoZSByZXF1ZXN0IG9iamVjdCBjYW4gY29udGFpbiBhIHN0cmVhbSBmbGFnIHRvIGluZGljYXRlIGlmIHRoZVxuICAgKiByZXNwb25zZSBzaG91bGQgYmUgc3RyZWFtZWQuXG4gICAqIEBwYXJhbSByZXF1ZXN0IHtQdXNoUmVxdWVzdH0gLSBUaGUgcmVxdWVzdCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFByb2dyZXNzUmVzcG9uc2UgfCBBYm9ydGFibGVBc3luY0l0ZXJhdG9yPFByb2dyZXNzUmVzcG9uc2U+Pn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0IG9yXG4gICAqIGFuIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHMgcmVzcG9uc2UgbWVzc2FnZXMuXG4gICAqL1xuICBhc3luYyBwdXNoKHJlcXVlc3QpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzU3RyZWFtYWJsZVJlcXVlc3QoXCJwdXNoXCIsIHtcbiAgICAgIG5hbWU6IHJlcXVlc3QubW9kZWwsXG4gICAgICBzdHJlYW06IHJlcXVlc3Quc3RyZWFtLFxuICAgICAgaW5zZWN1cmU6IHJlcXVlc3QuaW5zZWN1cmVcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlcyBhIG1vZGVsIGZyb20gdGhlIHNlcnZlci4gVGhlIHJlcXVlc3Qgb2JqZWN0IHNob3VsZCBjb250YWluIHRoZSBuYW1lIG9mIHRoZSBtb2RlbCB0b1xuICAgKiBkZWxldGUuXG4gICAqIEBwYXJhbSByZXF1ZXN0IHtEZWxldGVSZXF1ZXN0fSAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICogQHJldHVybnMge1Byb21pc2U8U3RhdHVzUmVzcG9uc2U+fSAtIFRoZSByZXNwb25zZSBvYmplY3QuXG4gICAqL1xuICBhc3luYyBkZWxldGUocmVxdWVzdCkge1xuICAgIGF3YWl0IGRlbChcbiAgICAgIHRoaXMuZmV0Y2gsXG4gICAgICBgJHt0aGlzLmNvbmZpZy5ob3N0fS9hcGkvZGVsZXRlYCxcbiAgICAgIHsgbmFtZTogcmVxdWVzdC5tb2RlbCB9LFxuICAgICAgeyBoZWFkZXJzOiB0aGlzLmNvbmZpZy5oZWFkZXJzIH1cbiAgICApO1xuICAgIHJldHVybiB7IHN0YXR1czogXCJzdWNjZXNzXCIgfTtcbiAgfVxuICAvKipcbiAgICogQ29waWVzIGEgbW9kZWwgZnJvbSBvbmUgbmFtZSB0byBhbm90aGVyLiBUaGUgcmVxdWVzdCBvYmplY3Qgc2hvdWxkIGNvbnRhaW4gdGhlIG5hbWUgb2YgdGhlXG4gICAqIG1vZGVsIHRvIGNvcHkgYW5kIHRoZSBuZXcgbmFtZS5cbiAgICogQHBhcmFtIHJlcXVlc3Qge0NvcHlSZXF1ZXN0fSAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICogQHJldHVybnMge1Byb21pc2U8U3RhdHVzUmVzcG9uc2U+fSAtIFRoZSByZXNwb25zZSBvYmplY3QuXG4gICAqL1xuICBhc3luYyBjb3B5KHJlcXVlc3QpIHtcbiAgICBhd2FpdCBwb3N0KHRoaXMuZmV0Y2gsIGAke3RoaXMuY29uZmlnLmhvc3R9L2FwaS9jb3B5YCwgeyAuLi5yZXF1ZXN0IH0sIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmhlYWRlcnNcbiAgICB9KTtcbiAgICByZXR1cm4geyBzdGF0dXM6IFwic3VjY2Vzc1wiIH07XG4gIH1cbiAgLyoqXG4gICAqIExpc3RzIHRoZSBtb2RlbHMgb24gdGhlIHNlcnZlci5cbiAgICogQHJldHVybnMge1Byb21pc2U8TGlzdFJlc3BvbnNlPn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0LlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gLSBJZiB0aGUgcmVzcG9uc2UgYm9keSBpcyBtaXNzaW5nLlxuICAgKi9cbiAgYXN5bmMgbGlzdCgpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldCh0aGlzLmZldGNoLCBgJHt0aGlzLmNvbmZpZy5ob3N0fS9hcGkvdGFnc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmhlYWRlcnNcbiAgICB9KTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyB0aGUgbWV0YWRhdGEgb2YgYSBtb2RlbC4gVGhlIHJlcXVlc3Qgb2JqZWN0IHNob3VsZCBjb250YWluIHRoZSBuYW1lIG9mIHRoZSBtb2RlbC5cbiAgICogQHBhcmFtIHJlcXVlc3Qge1Nob3dSZXF1ZXN0fSAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICogQHJldHVybnMge1Byb21pc2U8U2hvd1Jlc3BvbnNlPn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0LlxuICAgKi9cbiAgYXN5bmMgc2hvdyhyZXF1ZXN0KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwb3N0KHRoaXMuZmV0Y2gsIGAke3RoaXMuY29uZmlnLmhvc3R9L2FwaS9zaG93YCwge1xuICAgICAgLi4ucmVxdWVzdFxuICAgIH0sIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmhlYWRlcnNcbiAgICB9KTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIC8qKlxuICAgKiBFbWJlZHMgdGV4dCBpbnB1dCBpbnRvIHZlY3RvcnMuXG4gICAqIEBwYXJhbSByZXF1ZXN0IHtFbWJlZFJlcXVlc3R9IC0gVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxFbWJlZFJlc3BvbnNlPn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0LlxuICAgKi9cbiAgYXN5bmMgZW1iZWQocmVxdWVzdCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLmZldGNoLCBgJHt0aGlzLmNvbmZpZy5ob3N0fS9hcGkvZW1iZWRgLCB7XG4gICAgICAuLi5yZXF1ZXN0XG4gICAgfSwge1xuICAgICAgaGVhZGVyczogdGhpcy5jb25maWcuaGVhZGVyc1xuICAgIH0pO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVtYmVkcyBhIHRleHQgcHJvbXB0IGludG8gYSB2ZWN0b3IuXG4gICAqIEBwYXJhbSByZXF1ZXN0IHtFbWJlZGRpbmdzUmVxdWVzdH0gLSBUaGUgcmVxdWVzdCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEVtYmVkZGluZ3NSZXNwb25zZT59IC0gVGhlIHJlc3BvbnNlIG9iamVjdC5cbiAgICovXG4gIGFzeW5jIGVtYmVkZGluZ3MocmVxdWVzdCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLmZldGNoLCBgJHt0aGlzLmNvbmZpZy5ob3N0fS9hcGkvZW1iZWRkaW5nc2AsIHtcbiAgICAgIC4uLnJlcXVlc3RcbiAgICB9LCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmNvbmZpZy5oZWFkZXJzXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICAvKipcbiAgICogTGlzdHMgdGhlIHJ1bm5pbmcgbW9kZWxzIG9uIHRoZSBzZXJ2ZXJcbiAgICogQHJldHVybnMge1Byb21pc2U8TGlzdFJlc3BvbnNlPn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0LlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gLSBJZiB0aGUgcmVzcG9uc2UgYm9keSBpcyBtaXNzaW5nLlxuICAgKi9cbiAgYXN5bmMgcHMoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXQodGhpcy5mZXRjaCwgYCR7dGhpcy5jb25maWcuaG9zdH0vYXBpL3BzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5jb25maWcuaGVhZGVyc1xuICAgIH0pO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbn07XG5jb25zdCBicm93c2VyID0gbmV3IE9sbGFtYSQxKCk7XG5cbmV4cG9ydCB7IE9sbGFtYSQxIGFzIE9sbGFtYSwgYnJvd3NlciBhcyBkZWZhdWx0IH07XG4iLCAiLyohXG4gKiBtdXN0YWNoZS5qcyAtIExvZ2ljLWxlc3Mge3ttdXN0YWNoZX19IHRlbXBsYXRlcyB3aXRoIEphdmFTY3JpcHRcbiAqIGh0dHA6Ly9naXRodWIuY29tL2phbmwvbXVzdGFjaGUuanNcbiAqL1xuXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXlQb2x5ZmlsbCAob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3RUb1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uIChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogTW9yZSBjb3JyZWN0IHR5cGVvZiBzdHJpbmcgaGFuZGxpbmcgYXJyYXlcbiAqIHdoaWNoIG5vcm1hbGx5IHJldHVybnMgdHlwZW9mICdvYmplY3QnXG4gKi9cbmZ1bmN0aW9uIHR5cGVTdHIgKG9iaikge1xuICByZXR1cm4gaXNBcnJheShvYmopID8gJ2FycmF5JyA6IHR5cGVvZiBvYmo7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cCAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbn1cblxuLyoqXG4gKiBOdWxsIHNhZmUgd2F5IG9mIGNoZWNraW5nIHdoZXRoZXIgb3Igbm90IGFuIG9iamVjdCxcbiAqIGluY2x1ZGluZyBpdHMgcHJvdG90eXBlLCBoYXMgYSBnaXZlbiBwcm9wZXJ0eVxuICovXG5mdW5jdGlvbiBoYXNQcm9wZXJ0eSAob2JqLCBwcm9wTmFtZSkge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgKHByb3BOYW1lIGluIG9iaik7XG59XG5cbi8qKlxuICogU2FmZSB3YXkgb2YgZGV0ZWN0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiB0aGluZyBpcyBhIHByaW1pdGl2ZSBhbmRcbiAqIHdoZXRoZXIgaXQgaGFzIHRoZSBnaXZlbiBwcm9wZXJ0eVxuICovXG5mdW5jdGlvbiBwcmltaXRpdmVIYXNPd25Qcm9wZXJ0eSAocHJpbWl0aXZlLCBwcm9wTmFtZSkge1xuICByZXR1cm4gKFxuICAgIHByaW1pdGl2ZSAhPSBudWxsXG4gICAgJiYgdHlwZW9mIHByaW1pdGl2ZSAhPT0gJ29iamVjdCdcbiAgICAmJiBwcmltaXRpdmUuaGFzT3duUHJvcGVydHlcbiAgICAmJiBwcmltaXRpdmUuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpXG4gICk7XG59XG5cbi8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvQ09VQ0hEQi01Nzdcbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFubC9tdXN0YWNoZS5qcy9pc3N1ZXMvMTg5XG52YXIgcmVnRXhwVGVzdCA9IFJlZ0V4cC5wcm90b3R5cGUudGVzdDtcbmZ1bmN0aW9uIHRlc3RSZWdFeHAgKHJlLCBzdHJpbmcpIHtcbiAgcmV0dXJuIHJlZ0V4cFRlc3QuY2FsbChyZSwgc3RyaW5nKTtcbn1cblxudmFyIG5vblNwYWNlUmUgPSAvXFxTLztcbmZ1bmN0aW9uIGlzV2hpdGVzcGFjZSAoc3RyaW5nKSB7XG4gIHJldHVybiAhdGVzdFJlZ0V4cChub25TcGFjZVJlLCBzdHJpbmcpO1xufVxuXG52YXIgZW50aXR5TWFwID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiMzOTsnLFxuICAnLyc6ICcmI3gyRjsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5mdW5jdGlvbiBlc2NhcGVIdG1sIChzdHJpbmcpIHtcbiAgcmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UoL1smPD5cIidgPVxcL10vZywgZnVuY3Rpb24gZnJvbUVudGl0eU1hcCAocykge1xuICAgIHJldHVybiBlbnRpdHlNYXBbc107XG4gIH0pO1xufVxuXG52YXIgd2hpdGVSZSA9IC9cXHMqLztcbnZhciBzcGFjZVJlID0gL1xccysvO1xudmFyIGVxdWFsc1JlID0gL1xccyo9LztcbnZhciBjdXJseVJlID0gL1xccypcXH0vO1xudmFyIHRhZ1JlID0gLyN8XFxefFxcL3w+fFxce3wmfD18IS87XG5cbi8qKlxuICogQnJlYWtzIHVwIHRoZSBnaXZlbiBgdGVtcGxhdGVgIHN0cmluZyBpbnRvIGEgdHJlZSBvZiB0b2tlbnMuIElmIHRoZSBgdGFnc2BcbiAqIGFyZ3VtZW50IGlzIGdpdmVuIGhlcmUgaXQgbXVzdCBiZSBhbiBhcnJheSB3aXRoIHR3byBzdHJpbmcgdmFsdWVzOiB0aGVcbiAqIG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFncyB1c2VkIGluIHRoZSB0ZW1wbGF0ZSAoZS5nLiBbIFwiPCVcIiwgXCIlPlwiIF0pLiBPZlxuICogY291cnNlLCB0aGUgZGVmYXVsdCBpcyB0byB1c2UgbXVzdGFjaGVzIChpLmUuIG11c3RhY2hlLnRhZ3MpLlxuICpcbiAqIEEgdG9rZW4gaXMgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCA0IGVsZW1lbnRzLiBUaGUgZmlyc3QgZWxlbWVudCBpcyB0aGVcbiAqIG11c3RhY2hlIHN5bWJvbCB0aGF0IHdhcyB1c2VkIGluc2lkZSB0aGUgdGFnLCBlLmcuIFwiI1wiIG9yIFwiJlwiLiBJZiB0aGUgdGFnXG4gKiBkaWQgbm90IGNvbnRhaW4gYSBzeW1ib2wgKGkuZS4ge3tteVZhbHVlfX0pIHRoaXMgZWxlbWVudCBpcyBcIm5hbWVcIi4gRm9yXG4gKiBhbGwgdGV4dCB0aGF0IGFwcGVhcnMgb3V0c2lkZSBhIHN5bWJvbCB0aGlzIGVsZW1lbnQgaXMgXCJ0ZXh0XCIuXG4gKlxuICogVGhlIHNlY29uZCBlbGVtZW50IG9mIGEgdG9rZW4gaXMgaXRzIFwidmFsdWVcIi4gRm9yIG11c3RhY2hlIHRhZ3MgdGhpcyBpc1xuICogd2hhdGV2ZXIgZWxzZSB3YXMgaW5zaWRlIHRoZSB0YWcgYmVzaWRlcyB0aGUgb3BlbmluZyBzeW1ib2wuIEZvciB0ZXh0IHRva2Vuc1xuICogdGhpcyBpcyB0aGUgdGV4dCBpdHNlbGYuXG4gKlxuICogVGhlIHRoaXJkIGFuZCBmb3VydGggZWxlbWVudHMgb2YgdGhlIHRva2VuIGFyZSB0aGUgc3RhcnQgYW5kIGVuZCBpbmRpY2VzLFxuICogcmVzcGVjdGl2ZWx5LCBvZiB0aGUgdG9rZW4gaW4gdGhlIG9yaWdpbmFsIHRlbXBsYXRlLlxuICpcbiAqIFRva2VucyB0aGF0IGFyZSB0aGUgcm9vdCBub2RlIG9mIGEgc3VidHJlZSBjb250YWluIHR3byBtb3JlIGVsZW1lbnRzOiAxKSBhblxuICogYXJyYXkgb2YgdG9rZW5zIGluIHRoZSBzdWJ0cmVlIGFuZCAyKSB0aGUgaW5kZXggaW4gdGhlIG9yaWdpbmFsIHRlbXBsYXRlIGF0XG4gKiB3aGljaCB0aGUgY2xvc2luZyB0YWcgZm9yIHRoYXQgc2VjdGlvbiBiZWdpbnMuXG4gKlxuICogVG9rZW5zIGZvciBwYXJ0aWFscyBhbHNvIGNvbnRhaW4gdHdvIG1vcmUgZWxlbWVudHM6IDEpIGEgc3RyaW5nIHZhbHVlIG9mXG4gKiBpbmRlbmRhdGlvbiBwcmlvciB0byB0aGF0IHRhZyBhbmQgMikgdGhlIGluZGV4IG9mIHRoYXQgdGFnIG9uIHRoYXQgbGluZSAtXG4gKiBlZyBhIHZhbHVlIG9mIDIgaW5kaWNhdGVzIHRoZSBwYXJ0aWFsIGlzIHRoZSB0aGlyZCB0YWcgb24gdGhpcyBsaW5lLlxuICovXG5mdW5jdGlvbiBwYXJzZVRlbXBsYXRlICh0ZW1wbGF0ZSwgdGFncykge1xuICBpZiAoIXRlbXBsYXRlKVxuICAgIHJldHVybiBbXTtcbiAgdmFyIGxpbmVIYXNOb25TcGFjZSA9IGZhbHNlO1xuICB2YXIgc2VjdGlvbnMgPSBbXTsgICAgIC8vIFN0YWNrIHRvIGhvbGQgc2VjdGlvbiB0b2tlbnNcbiAgdmFyIHRva2VucyA9IFtdOyAgICAgICAvLyBCdWZmZXIgdG8gaG9sZCB0aGUgdG9rZW5zXG4gIHZhciBzcGFjZXMgPSBbXTsgICAgICAgLy8gSW5kaWNlcyBvZiB3aGl0ZXNwYWNlIHRva2VucyBvbiB0aGUgY3VycmVudCBsaW5lXG4gIHZhciBoYXNUYWcgPSBmYWxzZTsgICAgLy8gSXMgdGhlcmUgYSB7e3RhZ319IG9uIHRoZSBjdXJyZW50IGxpbmU/XG4gIHZhciBub25TcGFjZSA9IGZhbHNlOyAgLy8gSXMgdGhlcmUgYSBub24tc3BhY2UgY2hhciBvbiB0aGUgY3VycmVudCBsaW5lP1xuICB2YXIgaW5kZW50YXRpb24gPSAnJzsgIC8vIFRyYWNrcyBpbmRlbnRhdGlvbiBmb3IgdGFncyB0aGF0IHVzZSBpdFxuICB2YXIgdGFnSW5kZXggPSAwOyAgICAgIC8vIFN0b3JlcyBhIGNvdW50IG9mIG51bWJlciBvZiB0YWdzIGVuY291bnRlcmVkIG9uIGEgbGluZVxuXG4gIC8vIFN0cmlwcyBhbGwgd2hpdGVzcGFjZSB0b2tlbnMgYXJyYXkgZm9yIHRoZSBjdXJyZW50IGxpbmVcbiAgLy8gaWYgdGhlcmUgd2FzIGEge3sjdGFnfX0gb24gaXQgYW5kIG90aGVyd2lzZSBvbmx5IHNwYWNlLlxuICBmdW5jdGlvbiBzdHJpcFNwYWNlICgpIHtcbiAgICBpZiAoaGFzVGFnICYmICFub25TcGFjZSkge1xuICAgICAgd2hpbGUgKHNwYWNlcy5sZW5ndGgpXG4gICAgICAgIGRlbGV0ZSB0b2tlbnNbc3BhY2VzLnBvcCgpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3BhY2VzID0gW107XG4gICAgfVxuXG4gICAgaGFzVGFnID0gZmFsc2U7XG4gICAgbm9uU3BhY2UgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBvcGVuaW5nVGFnUmUsIGNsb3NpbmdUYWdSZSwgY2xvc2luZ0N1cmx5UmU7XG4gIGZ1bmN0aW9uIGNvbXBpbGVUYWdzICh0YWdzVG9Db21waWxlKSB7XG4gICAgaWYgKHR5cGVvZiB0YWdzVG9Db21waWxlID09PSAnc3RyaW5nJylcbiAgICAgIHRhZ3NUb0NvbXBpbGUgPSB0YWdzVG9Db21waWxlLnNwbGl0KHNwYWNlUmUsIDIpO1xuXG4gICAgaWYgKCFpc0FycmF5KHRhZ3NUb0NvbXBpbGUpIHx8IHRhZ3NUb0NvbXBpbGUubGVuZ3RoICE9PSAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRhZ3M6ICcgKyB0YWdzVG9Db21waWxlKTtcblxuICAgIG9wZW5pbmdUYWdSZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKHRhZ3NUb0NvbXBpbGVbMF0pICsgJ1xcXFxzKicpO1xuICAgIGNsb3NpbmdUYWdSZSA9IG5ldyBSZWdFeHAoJ1xcXFxzKicgKyBlc2NhcGVSZWdFeHAodGFnc1RvQ29tcGlsZVsxXSkpO1xuICAgIGNsb3NpbmdDdXJseVJlID0gbmV3IFJlZ0V4cCgnXFxcXHMqJyArIGVzY2FwZVJlZ0V4cCgnfScgKyB0YWdzVG9Db21waWxlWzFdKSk7XG4gIH1cblxuICBjb21waWxlVGFncyh0YWdzIHx8IG11c3RhY2hlLnRhZ3MpO1xuXG4gIHZhciBzY2FubmVyID0gbmV3IFNjYW5uZXIodGVtcGxhdGUpO1xuXG4gIHZhciBzdGFydCwgdHlwZSwgdmFsdWUsIGNociwgdG9rZW4sIG9wZW5TZWN0aW9uO1xuICB3aGlsZSAoIXNjYW5uZXIuZW9zKCkpIHtcbiAgICBzdGFydCA9IHNjYW5uZXIucG9zO1xuXG4gICAgLy8gTWF0Y2ggYW55IHRleHQgYmV0d2VlbiB0YWdzLlxuICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwob3BlbmluZ1RhZ1JlKTtcblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgdmFsdWVMZW5ndGg7ICsraSkge1xuICAgICAgICBjaHIgPSB2YWx1ZS5jaGFyQXQoaSk7XG5cbiAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjaHIpKSB7XG4gICAgICAgICAgc3BhY2VzLnB1c2godG9rZW5zLmxlbmd0aCk7XG4gICAgICAgICAgaW5kZW50YXRpb24gKz0gY2hyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vblNwYWNlID0gdHJ1ZTtcbiAgICAgICAgICBsaW5lSGFzTm9uU3BhY2UgPSB0cnVlO1xuICAgICAgICAgIGluZGVudGF0aW9uICs9ICcgJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRva2Vucy5wdXNoKFsgJ3RleHQnLCBjaHIsIHN0YXJ0LCBzdGFydCArIDEgXSk7XG4gICAgICAgIHN0YXJ0ICs9IDE7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIHdoaXRlc3BhY2Ugb24gdGhlIGN1cnJlbnQgbGluZS5cbiAgICAgICAgaWYgKGNociA9PT0gJ1xcbicpIHtcbiAgICAgICAgICBzdHJpcFNwYWNlKCk7XG4gICAgICAgICAgaW5kZW50YXRpb24gPSAnJztcbiAgICAgICAgICB0YWdJbmRleCA9IDA7XG4gICAgICAgICAgbGluZUhhc05vblNwYWNlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNYXRjaCB0aGUgb3BlbmluZyB0YWcuXG4gICAgaWYgKCFzY2FubmVyLnNjYW4ob3BlbmluZ1RhZ1JlKSlcbiAgICAgIGJyZWFrO1xuXG4gICAgaGFzVGFnID0gdHJ1ZTtcblxuICAgIC8vIEdldCB0aGUgdGFnIHR5cGUuXG4gICAgdHlwZSA9IHNjYW5uZXIuc2Nhbih0YWdSZSkgfHwgJ25hbWUnO1xuICAgIHNjYW5uZXIuc2Nhbih3aGl0ZVJlKTtcblxuICAgIC8vIEdldCB0aGUgdGFnIHZhbHVlLlxuICAgIGlmICh0eXBlID09PSAnPScpIHtcbiAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwoZXF1YWxzUmUpO1xuICAgICAgc2Nhbm5lci5zY2FuKGVxdWFsc1JlKTtcbiAgICAgIHNjYW5uZXIuc2NhblVudGlsKGNsb3NpbmdUYWdSZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAneycpIHtcbiAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ0N1cmx5UmUpO1xuICAgICAgc2Nhbm5lci5zY2FuKGN1cmx5UmUpO1xuICAgICAgc2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ1RhZ1JlKTtcbiAgICAgIHR5cGUgPSAnJic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ1RhZ1JlKTtcbiAgICB9XG5cbiAgICAvLyBNYXRjaCB0aGUgY2xvc2luZyB0YWcuXG4gICAgaWYgKCFzY2FubmVyLnNjYW4oY2xvc2luZ1RhZ1JlKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgdGFnIGF0ICcgKyBzY2FubmVyLnBvcyk7XG5cbiAgICBpZiAodHlwZSA9PSAnPicpIHtcbiAgICAgIHRva2VuID0gWyB0eXBlLCB2YWx1ZSwgc3RhcnQsIHNjYW5uZXIucG9zLCBpbmRlbnRhdGlvbiwgdGFnSW5kZXgsIGxpbmVIYXNOb25TcGFjZSBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2tlbiA9IFsgdHlwZSwgdmFsdWUsIHN0YXJ0LCBzY2FubmVyLnBvcyBdO1xuICAgIH1cbiAgICB0YWdJbmRleCsrO1xuICAgIHRva2Vucy5wdXNoKHRva2VuKTtcblxuICAgIGlmICh0eXBlID09PSAnIycgfHwgdHlwZSA9PT0gJ14nKSB7XG4gICAgICBzZWN0aW9ucy5wdXNoKHRva2VuKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICcvJykge1xuICAgICAgLy8gQ2hlY2sgc2VjdGlvbiBuZXN0aW5nLlxuICAgICAgb3BlblNlY3Rpb24gPSBzZWN0aW9ucy5wb3AoKTtcblxuICAgICAgaWYgKCFvcGVuU2VjdGlvbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbm9wZW5lZCBzZWN0aW9uIFwiJyArIHZhbHVlICsgJ1wiIGF0ICcgKyBzdGFydCk7XG5cbiAgICAgIGlmIChvcGVuU2VjdGlvblsxXSAhPT0gdmFsdWUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiBcIicgKyBvcGVuU2VjdGlvblsxXSArICdcIiBhdCAnICsgc3RhcnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ25hbWUnIHx8IHR5cGUgPT09ICd7JyB8fCB0eXBlID09PSAnJicpIHtcbiAgICAgIG5vblNwYWNlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICc9Jykge1xuICAgICAgLy8gU2V0IHRoZSB0YWdzIGZvciB0aGUgbmV4dCB0aW1lIGFyb3VuZC5cbiAgICAgIGNvbXBpbGVUYWdzKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBzdHJpcFNwYWNlKCk7XG5cbiAgLy8gTWFrZSBzdXJlIHRoZXJlIGFyZSBubyBvcGVuIHNlY3Rpb25zIHdoZW4gd2UncmUgZG9uZS5cbiAgb3BlblNlY3Rpb24gPSBzZWN0aW9ucy5wb3AoKTtcblxuICBpZiAob3BlblNlY3Rpb24pXG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmNsb3NlZCBzZWN0aW9uIFwiJyArIG9wZW5TZWN0aW9uWzFdICsgJ1wiIGF0ICcgKyBzY2FubmVyLnBvcyk7XG5cbiAgcmV0dXJuIG5lc3RUb2tlbnMoc3F1YXNoVG9rZW5zKHRva2VucykpO1xufVxuXG4vKipcbiAqIENvbWJpbmVzIHRoZSB2YWx1ZXMgb2YgY29uc2VjdXRpdmUgdGV4dCB0b2tlbnMgaW4gdGhlIGdpdmVuIGB0b2tlbnNgIGFycmF5XG4gKiB0byBhIHNpbmdsZSB0b2tlbi5cbiAqL1xuZnVuY3Rpb24gc3F1YXNoVG9rZW5zICh0b2tlbnMpIHtcbiAgdmFyIHNxdWFzaGVkVG9rZW5zID0gW107XG5cbiAgdmFyIHRva2VuLCBsYXN0VG9rZW47XG4gIGZvciAodmFyIGkgPSAwLCBudW1Ub2tlbnMgPSB0b2tlbnMubGVuZ3RoOyBpIDwgbnVtVG9rZW5zOyArK2kpIHtcbiAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgIGlmICh0b2tlbikge1xuICAgICAgaWYgKHRva2VuWzBdID09PSAndGV4dCcgJiYgbGFzdFRva2VuICYmIGxhc3RUb2tlblswXSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGxhc3RUb2tlblsxXSArPSB0b2tlblsxXTtcbiAgICAgICAgbGFzdFRva2VuWzNdID0gdG9rZW5bM107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcXVhc2hlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgbGFzdFRva2VuID0gdG9rZW47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNxdWFzaGVkVG9rZW5zO1xufVxuXG4vKipcbiAqIEZvcm1zIHRoZSBnaXZlbiBhcnJheSBvZiBgdG9rZW5zYCBpbnRvIGEgbmVzdGVkIHRyZWUgc3RydWN0dXJlIHdoZXJlXG4gKiB0b2tlbnMgdGhhdCByZXByZXNlbnQgYSBzZWN0aW9uIGhhdmUgdHdvIGFkZGl0aW9uYWwgaXRlbXM6IDEpIGFuIGFycmF5IG9mXG4gKiBhbGwgdG9rZW5zIHRoYXQgYXBwZWFyIGluIHRoYXQgc2VjdGlvbiBhbmQgMikgdGhlIGluZGV4IGluIHRoZSBvcmlnaW5hbFxuICogdGVtcGxhdGUgdGhhdCByZXByZXNlbnRzIHRoZSBlbmQgb2YgdGhhdCBzZWN0aW9uLlxuICovXG5mdW5jdGlvbiBuZXN0VG9rZW5zICh0b2tlbnMpIHtcbiAgdmFyIG5lc3RlZFRva2VucyA9IFtdO1xuICB2YXIgY29sbGVjdG9yID0gbmVzdGVkVG9rZW5zO1xuICB2YXIgc2VjdGlvbnMgPSBbXTtcblxuICB2YXIgdG9rZW4sIHNlY3Rpb247XG4gIGZvciAodmFyIGkgPSAwLCBudW1Ub2tlbnMgPSB0b2tlbnMubGVuZ3RoOyBpIDwgbnVtVG9rZW5zOyArK2kpIHtcbiAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgIHN3aXRjaCAodG9rZW5bMF0pIHtcbiAgICAgIGNhc2UgJyMnOlxuICAgICAgY2FzZSAnXic6XG4gICAgICAgIGNvbGxlY3Rvci5wdXNoKHRva2VuKTtcbiAgICAgICAgc2VjdGlvbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbGxlY3RvciA9IHRva2VuWzRdID0gW107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnLyc6XG4gICAgICAgIHNlY3Rpb24gPSBzZWN0aW9ucy5wb3AoKTtcbiAgICAgICAgc2VjdGlvbls1XSA9IHRva2VuWzJdO1xuICAgICAgICBjb2xsZWN0b3IgPSBzZWN0aW9ucy5sZW5ndGggPiAwID8gc2VjdGlvbnNbc2VjdGlvbnMubGVuZ3RoIC0gMV1bNF0gOiBuZXN0ZWRUb2tlbnM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29sbGVjdG9yLnB1c2godG9rZW4pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXN0ZWRUb2tlbnM7XG59XG5cbi8qKlxuICogQSBzaW1wbGUgc3RyaW5nIHNjYW5uZXIgdGhhdCBpcyB1c2VkIGJ5IHRoZSB0ZW1wbGF0ZSBwYXJzZXIgdG8gZmluZFxuICogdG9rZW5zIGluIHRlbXBsYXRlIHN0cmluZ3MuXG4gKi9cbmZ1bmN0aW9uIFNjYW5uZXIgKHN0cmluZykge1xuICB0aGlzLnN0cmluZyA9IHN0cmluZztcbiAgdGhpcy50YWlsID0gc3RyaW5nO1xuICB0aGlzLnBvcyA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhaWwgaXMgZW1wdHkgKGVuZCBvZiBzdHJpbmcpLlxuICovXG5TY2FubmVyLnByb3RvdHlwZS5lb3MgPSBmdW5jdGlvbiBlb3MgKCkge1xuICByZXR1cm4gdGhpcy50YWlsID09PSAnJztcbn07XG5cbi8qKlxuICogVHJpZXMgdG8gbWF0Y2ggdGhlIGdpdmVuIHJlZ3VsYXIgZXhwcmVzc2lvbiBhdCB0aGUgY3VycmVudCBwb3NpdGlvbi5cbiAqIFJldHVybnMgdGhlIG1hdGNoZWQgdGV4dCBpZiBpdCBjYW4gbWF0Y2gsIHRoZSBlbXB0eSBzdHJpbmcgb3RoZXJ3aXNlLlxuICovXG5TY2FubmVyLnByb3RvdHlwZS5zY2FuID0gZnVuY3Rpb24gc2NhbiAocmUpIHtcbiAgdmFyIG1hdGNoID0gdGhpcy50YWlsLm1hdGNoKHJlKTtcblxuICBpZiAoIW1hdGNoIHx8IG1hdGNoLmluZGV4ICE9PSAwKVxuICAgIHJldHVybiAnJztcblxuICB2YXIgc3RyaW5nID0gbWF0Y2hbMF07XG5cbiAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZyhzdHJpbmcubGVuZ3RoKTtcbiAgdGhpcy5wb3MgKz0gc3RyaW5nLmxlbmd0aDtcblxuICByZXR1cm4gc3RyaW5nO1xufTtcblxuLyoqXG4gKiBTa2lwcyBhbGwgdGV4dCB1bnRpbCB0aGUgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uIGNhbiBiZSBtYXRjaGVkLiBSZXR1cm5zXG4gKiB0aGUgc2tpcHBlZCBzdHJpbmcsIHdoaWNoIGlzIHRoZSBlbnRpcmUgdGFpbCBpZiBubyBtYXRjaCBjYW4gYmUgbWFkZS5cbiAqL1xuU2Nhbm5lci5wcm90b3R5cGUuc2NhblVudGlsID0gZnVuY3Rpb24gc2NhblVudGlsIChyZSkge1xuICB2YXIgaW5kZXggPSB0aGlzLnRhaWwuc2VhcmNoKHJlKSwgbWF0Y2g7XG5cbiAgc3dpdGNoIChpbmRleCkge1xuICAgIGNhc2UgLTE6XG4gICAgICBtYXRjaCA9IHRoaXMudGFpbDtcbiAgICAgIHRoaXMudGFpbCA9ICcnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAwOlxuICAgICAgbWF0Y2ggPSAnJztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBtYXRjaCA9IHRoaXMudGFpbC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZyhpbmRleCk7XG4gIH1cblxuICB0aGlzLnBvcyArPSBtYXRjaC5sZW5ndGg7XG5cbiAgcmV0dXJuIG1hdGNoO1xufTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgcmVuZGVyaW5nIGNvbnRleHQgYnkgd3JhcHBpbmcgYSB2aWV3IG9iamVjdCBhbmRcbiAqIG1haW50YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgY29udGV4dC5cbiAqL1xuZnVuY3Rpb24gQ29udGV4dCAodmlldywgcGFyZW50Q29udGV4dCkge1xuICB0aGlzLnZpZXcgPSB2aWV3O1xuICB0aGlzLmNhY2hlID0geyAnLic6IHRoaXMudmlldyB9O1xuICB0aGlzLnBhcmVudCA9IHBhcmVudENvbnRleHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBjb250ZXh0IHVzaW5nIHRoZSBnaXZlbiB2aWV3IHdpdGggdGhpcyBjb250ZXh0XG4gKiBhcyB0aGUgcGFyZW50LlxuICovXG5Db250ZXh0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAodmlldykge1xuICByZXR1cm4gbmV3IENvbnRleHQodmlldywgdGhpcyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBuYW1lIGluIHRoaXMgY29udGV4dCwgdHJhdmVyc2luZ1xuICogdXAgdGhlIGNvbnRleHQgaGllcmFyY2h5IGlmIHRoZSB2YWx1ZSBpcyBhYnNlbnQgaW4gdGhpcyBjb250ZXh0J3Mgdmlldy5cbiAqL1xuQ29udGV4dC5wcm90b3R5cGUubG9va3VwID0gZnVuY3Rpb24gbG9va3VwIChuYW1lKSB7XG4gIHZhciBjYWNoZSA9IHRoaXMuY2FjaGU7XG5cbiAgdmFyIHZhbHVlO1xuICBpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICB2YWx1ZSA9IGNhY2hlW25hbWVdO1xuICB9IGVsc2Uge1xuICAgIHZhciBjb250ZXh0ID0gdGhpcywgaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzLCBpbmRleCwgbG9va3VwSGl0ID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoY29udGV4dCkge1xuICAgICAgaWYgKG5hbWUuaW5kZXhPZignLicpID4gMCkge1xuICAgICAgICBpbnRlcm1lZGlhdGVWYWx1ZSA9IGNvbnRleHQudmlldztcbiAgICAgICAgbmFtZXMgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgIGluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNpbmcgdGhlIGRvdCBub3Rpb24gcGF0aCBpbiBgbmFtZWAsIHdlIGRlc2NlbmQgdGhyb3VnaCB0aGVcbiAgICAgICAgICogbmVzdGVkIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRvIGJlIGNlcnRhaW4gdGhhdCB0aGUgbG9va3VwIGhhcyBiZWVuIHN1Y2Nlc3NmdWwsIHdlIGhhdmUgdG9cbiAgICAgICAgICogY2hlY2sgaWYgdGhlIGxhc3Qgb2JqZWN0IGluIHRoZSBwYXRoIGFjdHVhbGx5IGhhcyB0aGUgcHJvcGVydHlcbiAgICAgICAgICogd2UgYXJlIGxvb2tpbmcgZm9yLiBXZSBzdG9yZSB0aGUgcmVzdWx0IGluIGBsb29rdXBIaXRgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIHNwZWNpYWxseSBuZWNlc3NhcnkgZm9yIHdoZW4gdGhlIHZhbHVlIGhhcyBiZWVuIHNldCB0b1xuICAgICAgICAgKiBgdW5kZWZpbmVkYCBhbmQgd2Ugd2FudCB0byBhdm9pZCBsb29raW5nIHVwIHBhcmVudCBjb250ZXh0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhlIGNhc2Ugd2hlcmUgZG90IG5vdGF0aW9uIGlzIHVzZWQsIHdlIGNvbnNpZGVyIHRoZSBsb29rdXBcbiAgICAgICAgICogdG8gYmUgc3VjY2Vzc2Z1bCBldmVuIGlmIHRoZSBsYXN0IFwib2JqZWN0XCIgaW4gdGhlIHBhdGggaXNcbiAgICAgICAgICogbm90IGFjdHVhbGx5IGFuIG9iamVjdCBidXQgYSBwcmltaXRpdmUgKGUuZy4sIGEgc3RyaW5nLCBvciBhblxuICAgICAgICAgKiBpbnRlZ2VyKSwgYmVjYXVzZSBpdCBpcyBzb21ldGltZXMgdXNlZnVsIHRvIGFjY2VzcyBhIHByb3BlcnR5XG4gICAgICAgICAqIG9mIGFuIGF1dG9ib3hlZCBwcmltaXRpdmUsIHN1Y2ggYXMgdGhlIGxlbmd0aCBvZiBhIHN0cmluZy5cbiAgICAgICAgICoqL1xuICAgICAgICB3aGlsZSAoaW50ZXJtZWRpYXRlVmFsdWUgIT0gbnVsbCAmJiBpbmRleCA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gbmFtZXMubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIGxvb2t1cEhpdCA9IChcbiAgICAgICAgICAgICAgaGFzUHJvcGVydHkoaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzW2luZGV4XSlcbiAgICAgICAgICAgICAgfHwgcHJpbWl0aXZlSGFzT3duUHJvcGVydHkoaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzW2luZGV4XSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICBpbnRlcm1lZGlhdGVWYWx1ZSA9IGludGVybWVkaWF0ZVZhbHVlW25hbWVzW2luZGV4KytdXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW50ZXJtZWRpYXRlVmFsdWUgPSBjb250ZXh0LnZpZXdbbmFtZV07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9ubHkgY2hlY2tpbmcgYWdhaW5zdCBgaGFzUHJvcGVydHlgLCB3aGljaCBhbHdheXMgcmV0dXJucyBgZmFsc2VgIGlmXG4gICAgICAgICAqIGBjb250ZXh0LnZpZXdgIGlzIG5vdCBhbiBvYmplY3QuIERlbGliZXJhdGVseSBvbWl0dGluZyB0aGUgY2hlY2tcbiAgICAgICAgICogYWdhaW5zdCBgcHJpbWl0aXZlSGFzT3duUHJvcGVydHlgIGlmIGRvdCBub3RhdGlvbiBpcyBub3QgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQ29uc2lkZXIgdGhpcyBleGFtcGxlOlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogTXVzdGFjaGUucmVuZGVyKFwiVGhlIGxlbmd0aCBvZiBhIGZvb3RiYWxsIGZpZWxkIGlzIHt7I2xlbmd0aH19e3tsZW5ndGh9fXt7L2xlbmd0aH19LlwiLCB7bGVuZ3RoOiBcIjEwMCB5YXJkc1wifSlcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHdlIHdlcmUgdG8gY2hlY2sgYWxzbyBhZ2FpbnN0IGBwcmltaXRpdmVIYXNPd25Qcm9wZXJ0eWAsIGFzIHdlIGRvXG4gICAgICAgICAqIGluIHRoZSBkb3Qgbm90YXRpb24gY2FzZSwgdGhlbiByZW5kZXIgY2FsbCB3b3VsZCByZXR1cm46XG4gICAgICAgICAqXG4gICAgICAgICAqIFwiVGhlIGxlbmd0aCBvZiBhIGZvb3RiYWxsIGZpZWxkIGlzIDkuXCJcbiAgICAgICAgICpcbiAgICAgICAgICogcmF0aGVyIHRoYW4gdGhlIGV4cGVjdGVkOlxuICAgICAgICAgKlxuICAgICAgICAgKiBcIlRoZSBsZW5ndGggb2YgYSBmb290YmFsbCBmaWVsZCBpcyAxMDAgeWFyZHMuXCJcbiAgICAgICAgICoqL1xuICAgICAgICBsb29rdXBIaXQgPSBoYXNQcm9wZXJ0eShjb250ZXh0LnZpZXcsIG5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAobG9va3VwSGl0KSB7XG4gICAgICAgIHZhbHVlID0gaW50ZXJtZWRpYXRlVmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0ID0gY29udGV4dC5wYXJlbnQ7XG4gICAgfVxuXG4gICAgY2FjaGVbbmFtZV0gPSB2YWx1ZTtcbiAgfVxuXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSlcbiAgICB2YWx1ZSA9IHZhbHVlLmNhbGwodGhpcy52aWV3KTtcblxuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIEEgV3JpdGVyIGtub3dzIGhvdyB0byB0YWtlIGEgc3RyZWFtIG9mIHRva2VucyBhbmQgcmVuZGVyIHRoZW0gdG8gYVxuICogc3RyaW5nLCBnaXZlbiBhIGNvbnRleHQuIEl0IGFsc28gbWFpbnRhaW5zIGEgY2FjaGUgb2YgdGVtcGxhdGVzIHRvXG4gKiBhdm9pZCB0aGUgbmVlZCB0byBwYXJzZSB0aGUgc2FtZSB0ZW1wbGF0ZSB0d2ljZS5cbiAqL1xuZnVuY3Rpb24gV3JpdGVyICgpIHtcbiAgdGhpcy50ZW1wbGF0ZUNhY2hlID0ge1xuICAgIF9jYWNoZToge30sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQgKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuX2NhY2hlW2tleV0gPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24gZ2V0IChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZVtrZXldO1xuICAgIH0sXG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIENsZWFycyBhbGwgY2FjaGVkIHRlbXBsYXRlcyBpbiB0aGlzIHdyaXRlci5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSAoKSB7XG4gIGlmICh0eXBlb2YgdGhpcy50ZW1wbGF0ZUNhY2hlICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRoaXMudGVtcGxhdGVDYWNoZS5jbGVhcigpO1xuICB9XG59O1xuXG4vKipcbiAqIFBhcnNlcyBhbmQgY2FjaGVzIHRoZSBnaXZlbiBgdGVtcGxhdGVgIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gYHRhZ3NgIG9yXG4gKiBgbXVzdGFjaGUudGFnc2AgaWYgYHRhZ3NgIGlzIG9taXR0ZWQsICBhbmQgcmV0dXJucyB0aGUgYXJyYXkgb2YgdG9rZW5zXG4gKiB0aGF0IGlzIGdlbmVyYXRlZCBmcm9tIHRoZSBwYXJzZS5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlICh0ZW1wbGF0ZSwgdGFncykge1xuICB2YXIgY2FjaGUgPSB0aGlzLnRlbXBsYXRlQ2FjaGU7XG4gIHZhciBjYWNoZUtleSA9IHRlbXBsYXRlICsgJzonICsgKHRhZ3MgfHwgbXVzdGFjaGUudGFncykuam9pbignOicpO1xuICB2YXIgaXNDYWNoZUVuYWJsZWQgPSB0eXBlb2YgY2FjaGUgIT09ICd1bmRlZmluZWQnO1xuICB2YXIgdG9rZW5zID0gaXNDYWNoZUVuYWJsZWQgPyBjYWNoZS5nZXQoY2FjaGVLZXkpIDogdW5kZWZpbmVkO1xuXG4gIGlmICh0b2tlbnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgdG9rZW5zID0gcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGFncyk7XG4gICAgaXNDYWNoZUVuYWJsZWQgJiYgY2FjaGUuc2V0KGNhY2hlS2V5LCB0b2tlbnMpO1xuICB9XG4gIHJldHVybiB0b2tlbnM7XG59O1xuXG4vKipcbiAqIEhpZ2gtbGV2ZWwgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byByZW5kZXIgdGhlIGdpdmVuIGB0ZW1wbGF0ZWAgd2l0aFxuICogdGhlIGdpdmVuIGB2aWV3YC5cbiAqXG4gKiBUaGUgb3B0aW9uYWwgYHBhcnRpYWxzYCBhcmd1bWVudCBtYXkgYmUgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlXG4gKiBuYW1lcyBhbmQgdGVtcGxhdGVzIG9mIHBhcnRpYWxzIHRoYXQgYXJlIHVzZWQgaW4gdGhlIHRlbXBsYXRlLiBJdCBtYXlcbiAqIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbG9hZCBwYXJ0aWFsIHRlbXBsYXRlcyBvbiB0aGUgZmx5XG4gKiB0aGF0IHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50OiB0aGUgbmFtZSBvZiB0aGUgcGFydGlhbC5cbiAqXG4gKiBJZiB0aGUgb3B0aW9uYWwgYGNvbmZpZ2AgYXJndW1lbnQgaXMgZ2l2ZW4gaGVyZSwgdGhlbiBpdCBzaG91bGQgYmUgYW5cbiAqIG9iamVjdCB3aXRoIGEgYHRhZ3NgIGF0dHJpYnV0ZSBvciBhbiBgZXNjYXBlYCBhdHRyaWJ1dGUgb3IgYm90aC5cbiAqIElmIGFuIGFycmF5IGlzIHBhc3NlZCwgdGhlbiBpdCB3aWxsIGJlIGludGVycHJldGVkIHRoZSBzYW1lIHdheSBhc1xuICogYSBgdGFnc2AgYXR0cmlidXRlIG9uIGEgYGNvbmZpZ2Agb2JqZWN0LlxuICpcbiAqIFRoZSBgdGFnc2AgYXR0cmlidXRlIG9mIGEgYGNvbmZpZ2Agb2JqZWN0IG11c3QgYmUgYW4gYXJyYXkgd2l0aCB0d29cbiAqIHN0cmluZyB2YWx1ZXM6IHRoZSBvcGVuaW5nIGFuZCBjbG9zaW5nIHRhZ3MgdXNlZCBpbiB0aGUgdGVtcGxhdGUgKGUuZy5cbiAqIFsgXCI8JVwiLCBcIiU+XCIgXSkuIFRoZSBkZWZhdWx0IGlzIHRvIG11c3RhY2hlLnRhZ3MuXG4gKlxuICogVGhlIGBlc2NhcGVgIGF0dHJpYnV0ZSBvZiBhIGBjb25maWdgIG9iamVjdCBtdXN0IGJlIGEgZnVuY3Rpb24gd2hpY2hcbiAqIGFjY2VwdHMgYSBzdHJpbmcgYXMgaW5wdXQgYW5kIG91dHB1dHMgYSBzYWZlbHkgZXNjYXBlZCBzdHJpbmcuXG4gKiBJZiBhbiBgZXNjYXBlYCBmdW5jdGlvbiBpcyBub3QgcHJvdmlkZWQsIHRoZW4gYW4gSFRNTC1zYWZlIHN0cmluZ1xuICogZXNjYXBpbmcgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgZGVmYXVsdC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgY29uZmlnKSB7XG4gIHZhciB0YWdzID0gdGhpcy5nZXRDb25maWdUYWdzKGNvbmZpZyk7XG4gIHZhciB0b2tlbnMgPSB0aGlzLnBhcnNlKHRlbXBsYXRlLCB0YWdzKTtcbiAgdmFyIGNvbnRleHQgPSAodmlldyBpbnN0YW5jZW9mIENvbnRleHQpID8gdmlldyA6IG5ldyBDb250ZXh0KHZpZXcsIHVuZGVmaW5lZCk7XG4gIHJldHVybiB0aGlzLnJlbmRlclRva2Vucyh0b2tlbnMsIGNvbnRleHQsIHBhcnRpYWxzLCB0ZW1wbGF0ZSwgY29uZmlnKTtcbn07XG5cbi8qKlxuICogTG93LWxldmVsIG1ldGhvZCB0aGF0IHJlbmRlcnMgdGhlIGdpdmVuIGFycmF5IG9mIGB0b2tlbnNgIHVzaW5nXG4gKiB0aGUgZ2l2ZW4gYGNvbnRleHRgIGFuZCBgcGFydGlhbHNgLlxuICpcbiAqIE5vdGU6IFRoZSBgb3JpZ2luYWxUZW1wbGF0ZWAgaXMgb25seSBldmVyIHVzZWQgdG8gZXh0cmFjdCB0aGUgcG9ydGlvblxuICogb2YgdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRoYXQgd2FzIGNvbnRhaW5lZCBpbiBhIGhpZ2hlci1vcmRlciBzZWN0aW9uLlxuICogSWYgdGhlIHRlbXBsYXRlIGRvZXNuJ3QgdXNlIGhpZ2hlci1vcmRlciBzZWN0aW9ucywgdGhpcyBhcmd1bWVudCBtYXlcbiAqIGJlIG9taXR0ZWQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUucmVuZGVyVG9rZW5zID0gZnVuY3Rpb24gcmVuZGVyVG9rZW5zICh0b2tlbnMsIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlLCBjb25maWcpIHtcbiAgdmFyIGJ1ZmZlciA9ICcnO1xuXG4gIHZhciB0b2tlbiwgc3ltYm9sLCB2YWx1ZTtcbiAgZm9yICh2YXIgaSA9IDAsIG51bVRva2VucyA9IHRva2Vucy5sZW5ndGg7IGkgPCBudW1Ub2tlbnM7ICsraSkge1xuICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgIHN5bWJvbCA9IHRva2VuWzBdO1xuXG4gICAgaWYgKHN5bWJvbCA9PT0gJyMnKSB2YWx1ZSA9IHRoaXMucmVuZGVyU2VjdGlvbih0b2tlbiwgY29udGV4dCwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUsIGNvbmZpZyk7XG4gICAgZWxzZSBpZiAoc3ltYm9sID09PSAnXicpIHZhbHVlID0gdGhpcy5yZW5kZXJJbnZlcnRlZCh0b2tlbiwgY29udGV4dCwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUsIGNvbmZpZyk7XG4gICAgZWxzZSBpZiAoc3ltYm9sID09PSAnPicpIHZhbHVlID0gdGhpcy5yZW5kZXJQYXJ0aWFsKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgY29uZmlnKTtcbiAgICBlbHNlIGlmIChzeW1ib2wgPT09ICcmJykgdmFsdWUgPSB0aGlzLnVuZXNjYXBlZFZhbHVlKHRva2VuLCBjb250ZXh0KTtcbiAgICBlbHNlIGlmIChzeW1ib2wgPT09ICduYW1lJykgdmFsdWUgPSB0aGlzLmVzY2FwZWRWYWx1ZSh0b2tlbiwgY29udGV4dCwgY29uZmlnKTtcbiAgICBlbHNlIGlmIChzeW1ib2wgPT09ICd0ZXh0JykgdmFsdWUgPSB0aGlzLnJhd1ZhbHVlKHRva2VuKTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgYnVmZmVyICs9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZmZlcjtcbn07XG5cbldyaXRlci5wcm90b3R5cGUucmVuZGVyU2VjdGlvbiA9IGZ1bmN0aW9uIHJlbmRlclNlY3Rpb24gKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSwgY29uZmlnKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGJ1ZmZlciA9ICcnO1xuICB2YXIgdmFsdWUgPSBjb250ZXh0Lmxvb2t1cCh0b2tlblsxXSk7XG5cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlbmRlciBhbiBhcmJpdHJhcnkgdGVtcGxhdGVcbiAgLy8gaW4gdGhlIGN1cnJlbnQgY29udGV4dCBieSBoaWdoZXItb3JkZXIgc2VjdGlvbnMuXG4gIGZ1bmN0aW9uIHN1YlJlbmRlciAodGVtcGxhdGUpIHtcbiAgICByZXR1cm4gc2VsZi5yZW5kZXIodGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzLCBjb25maWcpO1xuICB9XG5cbiAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuXG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAodmFyIGogPSAwLCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaiA8IHZhbHVlTGVuZ3RoOyArK2opIHtcbiAgICAgIGJ1ZmZlciArPSB0aGlzLnJlbmRlclRva2Vucyh0b2tlbls0XSwgY29udGV4dC5wdXNoKHZhbHVlW2pdKSwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUsIGNvbmZpZyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgYnVmZmVyICs9IHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LnB1c2godmFsdWUpLCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSwgY29uZmlnKTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxUZW1wbGF0ZSAhPT0gJ3N0cmluZycpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCB1c2UgaGlnaGVyLW9yZGVyIHNlY3Rpb25zIHdpdGhvdXQgdGhlIG9yaWdpbmFsIHRlbXBsYXRlJyk7XG5cbiAgICAvLyBFeHRyYWN0IHRoZSBwb3J0aW9uIG9mIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0aGF0IHRoZSBzZWN0aW9uIGNvbnRhaW5zLlxuICAgIHZhbHVlID0gdmFsdWUuY2FsbChjb250ZXh0LnZpZXcsIG9yaWdpbmFsVGVtcGxhdGUuc2xpY2UodG9rZW5bM10sIHRva2VuWzVdKSwgc3ViUmVuZGVyKTtcblxuICAgIGlmICh2YWx1ZSAhPSBudWxsKVxuICAgICAgYnVmZmVyICs9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGJ1ZmZlciArPSB0aGlzLnJlbmRlclRva2Vucyh0b2tlbls0XSwgY29udGV4dCwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUsIGNvbmZpZyk7XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlcjtcbn07XG5cbldyaXRlci5wcm90b3R5cGUucmVuZGVySW52ZXJ0ZWQgPSBmdW5jdGlvbiByZW5kZXJJbnZlcnRlZCAodG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlLCBjb25maWcpIHtcbiAgdmFyIHZhbHVlID0gY29udGV4dC5sb29rdXAodG9rZW5bMV0pO1xuXG4gIC8vIFVzZSBKYXZhU2NyaXB0J3MgZGVmaW5pdGlvbiBvZiBmYWxzeS4gSW5jbHVkZSBlbXB0eSBhcnJheXMuXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFubC9tdXN0YWNoZS5qcy9pc3N1ZXMvMTg2XG4gIGlmICghdmFsdWUgfHwgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkpXG4gICAgcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSwgY29uZmlnKTtcbn07XG5cbldyaXRlci5wcm90b3R5cGUuaW5kZW50UGFydGlhbCA9IGZ1bmN0aW9uIGluZGVudFBhcnRpYWwgKHBhcnRpYWwsIGluZGVudGF0aW9uLCBsaW5lSGFzTm9uU3BhY2UpIHtcbiAgdmFyIGZpbHRlcmVkSW5kZW50YXRpb24gPSBpbmRlbnRhdGlvbi5yZXBsYWNlKC9bXiBcXHRdL2csICcnKTtcbiAgdmFyIHBhcnRpYWxCeU5sID0gcGFydGlhbC5zcGxpdCgnXFxuJyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydGlhbEJ5TmwubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocGFydGlhbEJ5TmxbaV0ubGVuZ3RoICYmIChpID4gMCB8fCAhbGluZUhhc05vblNwYWNlKSkge1xuICAgICAgcGFydGlhbEJ5TmxbaV0gPSBmaWx0ZXJlZEluZGVudGF0aW9uICsgcGFydGlhbEJ5TmxbaV07XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJ0aWFsQnlObC5qb2luKCdcXG4nKTtcbn07XG5cbldyaXRlci5wcm90b3R5cGUucmVuZGVyUGFydGlhbCA9IGZ1bmN0aW9uIHJlbmRlclBhcnRpYWwgKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgY29uZmlnKSB7XG4gIGlmICghcGFydGlhbHMpIHJldHVybjtcbiAgdmFyIHRhZ3MgPSB0aGlzLmdldENvbmZpZ1RhZ3MoY29uZmlnKTtcblxuICB2YXIgdmFsdWUgPSBpc0Z1bmN0aW9uKHBhcnRpYWxzKSA/IHBhcnRpYWxzKHRva2VuWzFdKSA6IHBhcnRpYWxzW3Rva2VuWzFdXTtcbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICB2YXIgbGluZUhhc05vblNwYWNlID0gdG9rZW5bNl07XG4gICAgdmFyIHRhZ0luZGV4ID0gdG9rZW5bNV07XG4gICAgdmFyIGluZGVudGF0aW9uID0gdG9rZW5bNF07XG4gICAgdmFyIGluZGVudGVkVmFsdWUgPSB2YWx1ZTtcbiAgICBpZiAodGFnSW5kZXggPT0gMCAmJiBpbmRlbnRhdGlvbikge1xuICAgICAgaW5kZW50ZWRWYWx1ZSA9IHRoaXMuaW5kZW50UGFydGlhbCh2YWx1ZSwgaW5kZW50YXRpb24sIGxpbmVIYXNOb25TcGFjZSk7XG4gICAgfVxuICAgIHZhciB0b2tlbnMgPSB0aGlzLnBhcnNlKGluZGVudGVkVmFsdWUsIHRhZ3MpO1xuICAgIHJldHVybiB0aGlzLnJlbmRlclRva2Vucyh0b2tlbnMsIGNvbnRleHQsIHBhcnRpYWxzLCBpbmRlbnRlZFZhbHVlLCBjb25maWcpO1xuICB9XG59O1xuXG5Xcml0ZXIucHJvdG90eXBlLnVuZXNjYXBlZFZhbHVlID0gZnVuY3Rpb24gdW5lc2NhcGVkVmFsdWUgKHRva2VuLCBjb250ZXh0KSB7XG4gIHZhciB2YWx1ZSA9IGNvbnRleHQubG9va3VwKHRva2VuWzFdKTtcbiAgaWYgKHZhbHVlICE9IG51bGwpXG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuV3JpdGVyLnByb3RvdHlwZS5lc2NhcGVkVmFsdWUgPSBmdW5jdGlvbiBlc2NhcGVkVmFsdWUgKHRva2VuLCBjb250ZXh0LCBjb25maWcpIHtcbiAgdmFyIGVzY2FwZSA9IHRoaXMuZ2V0Q29uZmlnRXNjYXBlKGNvbmZpZykgfHwgbXVzdGFjaGUuZXNjYXBlO1xuICB2YXIgdmFsdWUgPSBjb250ZXh0Lmxvb2t1cCh0b2tlblsxXSk7XG4gIGlmICh2YWx1ZSAhPSBudWxsKVxuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBlc2NhcGUgPT09IG11c3RhY2hlLmVzY2FwZSkgPyBTdHJpbmcodmFsdWUpIDogZXNjYXBlKHZhbHVlKTtcbn07XG5cbldyaXRlci5wcm90b3R5cGUucmF3VmFsdWUgPSBmdW5jdGlvbiByYXdWYWx1ZSAodG9rZW4pIHtcbiAgcmV0dXJuIHRva2VuWzFdO1xufTtcblxuV3JpdGVyLnByb3RvdHlwZS5nZXRDb25maWdUYWdzID0gZnVuY3Rpb24gZ2V0Q29uZmlnVGFncyAoY29uZmlnKSB7XG4gIGlmIChpc0FycmF5KGNvbmZpZykpIHtcbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG4gIGVsc2UgaWYgKGNvbmZpZyAmJiB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBjb25maWcudGFncztcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59O1xuXG5Xcml0ZXIucHJvdG90eXBlLmdldENvbmZpZ0VzY2FwZSA9IGZ1bmN0aW9uIGdldENvbmZpZ0VzY2FwZSAoY29uZmlnKSB7XG4gIGlmIChjb25maWcgJiYgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgIWlzQXJyYXkoY29uZmlnKSkge1xuICAgIHJldHVybiBjb25maWcuZXNjYXBlO1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbnZhciBtdXN0YWNoZSA9IHtcbiAgbmFtZTogJ211c3RhY2hlLmpzJyxcbiAgdmVyc2lvbjogJzQuMi4wJyxcbiAgdGFnczogWyAne3snLCAnfX0nIF0sXG4gIGNsZWFyQ2FjaGU6IHVuZGVmaW5lZCxcbiAgZXNjYXBlOiB1bmRlZmluZWQsXG4gIHBhcnNlOiB1bmRlZmluZWQsXG4gIHJlbmRlcjogdW5kZWZpbmVkLFxuICBTY2FubmVyOiB1bmRlZmluZWQsXG4gIENvbnRleHQ6IHVuZGVmaW5lZCxcbiAgV3JpdGVyOiB1bmRlZmluZWQsXG4gIC8qKlxuICAgKiBBbGxvd3MgYSB1c2VyIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNhY2hpbmcgc3RyYXRlZ3ksIGJ5IHByb3ZpZGluZyBhblxuICAgKiBvYmplY3Qgd2l0aCBzZXQsIGdldCBhbmQgY2xlYXIgbWV0aG9kcy4gVGhpcyBjYW4gYWxzbyBiZSB1c2VkIHRvIGRpc2FibGVcbiAgICogdGhlIGNhY2hlIGJ5IHNldHRpbmcgaXQgdG8gdGhlIGxpdGVyYWwgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBzZXQgdGVtcGxhdGVDYWNoZSAoY2FjaGUpIHtcbiAgICBkZWZhdWx0V3JpdGVyLnRlbXBsYXRlQ2FjaGUgPSBjYWNoZTtcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgdGhlIGRlZmF1bHQgb3Igb3ZlcnJpZGRlbiBjYWNoaW5nIG9iamVjdCBmcm9tIHRoZSBkZWZhdWx0IHdyaXRlci5cbiAgICovXG4gIGdldCB0ZW1wbGF0ZUNhY2hlICgpIHtcbiAgICByZXR1cm4gZGVmYXVsdFdyaXRlci50ZW1wbGF0ZUNhY2hlO1xuICB9XG59O1xuXG4vLyBBbGwgaGlnaC1sZXZlbCBtdXN0YWNoZS4qIGZ1bmN0aW9ucyB1c2UgdGhpcyB3cml0ZXIuXG52YXIgZGVmYXVsdFdyaXRlciA9IG5ldyBXcml0ZXIoKTtcblxuLyoqXG4gKiBDbGVhcnMgYWxsIGNhY2hlZCB0ZW1wbGF0ZXMgaW4gdGhlIGRlZmF1bHQgd3JpdGVyLlxuICovXG5tdXN0YWNoZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSAoKSB7XG4gIHJldHVybiBkZWZhdWx0V3JpdGVyLmNsZWFyQ2FjaGUoKTtcbn07XG5cbi8qKlxuICogUGFyc2VzIGFuZCBjYWNoZXMgdGhlIGdpdmVuIHRlbXBsYXRlIGluIHRoZSBkZWZhdWx0IHdyaXRlciBhbmQgcmV0dXJucyB0aGVcbiAqIGFycmF5IG9mIHRva2VucyBpdCBjb250YWlucy4gRG9pbmcgdGhpcyBhaGVhZCBvZiB0aW1lIGF2b2lkcyB0aGUgbmVlZCB0b1xuICogcGFyc2UgdGVtcGxhdGVzIG9uIHRoZSBmbHkgYXMgdGhleSBhcmUgcmVuZGVyZWQuXG4gKi9cbm11c3RhY2hlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UgKHRlbXBsYXRlLCB0YWdzKSB7XG4gIHJldHVybiBkZWZhdWx0V3JpdGVyLnBhcnNlKHRlbXBsYXRlLCB0YWdzKTtcbn07XG5cbi8qKlxuICogUmVuZGVycyB0aGUgYHRlbXBsYXRlYCB3aXRoIHRoZSBnaXZlbiBgdmlld2AsIGBwYXJ0aWFsc2AsIGFuZCBgY29uZmlnYFxuICogdXNpbmcgdGhlIGRlZmF1bHQgd3JpdGVyLlxuICovXG5tdXN0YWNoZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgY29uZmlnKSB7XG4gIGlmICh0eXBlb2YgdGVtcGxhdGUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB0ZW1wbGF0ZSEgVGVtcGxhdGUgc2hvdWxkIGJlIGEgXCJzdHJpbmdcIiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdidXQgXCInICsgdHlwZVN0cih0ZW1wbGF0ZSkgKyAnXCIgd2FzIGdpdmVuIGFzIHRoZSBmaXJzdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCBmb3IgbXVzdGFjaGUjcmVuZGVyKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscyknKTtcbiAgfVxuXG4gIHJldHVybiBkZWZhdWx0V3JpdGVyLnJlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMsIGNvbmZpZyk7XG59O1xuXG4vLyBFeHBvcnQgdGhlIGVzY2FwaW5nIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIHVzZXIgbWF5IG92ZXJyaWRlIGl0LlxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW5sL211c3RhY2hlLmpzL2lzc3Vlcy8yNDRcbm11c3RhY2hlLmVzY2FwZSA9IGVzY2FwZUh0bWw7XG5cbi8vIEV4cG9ydCB0aGVzZSBtYWlubHkgZm9yIHRlc3RpbmcsIGJ1dCBhbHNvIGZvciBhZHZhbmNlZCB1c2FnZS5cbm11c3RhY2hlLlNjYW5uZXIgPSBTY2FubmVyO1xubXVzdGFjaGUuQ29udGV4dCA9IENvbnRleHQ7XG5tdXN0YWNoZS5Xcml0ZXIgPSBXcml0ZXI7XG5cbmV4cG9ydCBkZWZhdWx0IG11c3RhY2hlO1xuIiwgImxldCBtZXRob2RzID0ge1xuICBvbmU6IHt9LFxuICB0d286IHt9LFxuICB0aHJlZToge30sXG4gIGZvdXI6IHt9LFxufVxuXG5sZXQgbW9kZWwgPSB7XG4gIG9uZToge30sXG4gIHR3bzoge30sXG4gIHRocmVlOiB7fSxcbn1cbmxldCBjb21wdXRlID0ge31cbmxldCBob29rcyA9IFtdXG5cbmV4cG9ydCBkZWZhdWx0IHsgbWV0aG9kcywgbW9kZWwsIGNvbXB1dGUsIGhvb2tzIH1cbiIsICJjb25zdCBpc0FycmF5ID0gaW5wdXQgPT4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuXG5jb25zdCBmbnMgPSB7XG4gIC8qKiBhZGQgbWV0YWRhdGEgdG8gdGVybSBvYmplY3RzICovXG4gIGNvbXB1dGU6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIGNvbnN0IHsgd29ybGQgfSA9IHRoaXNcbiAgICBjb25zdCBjb21wdXRlID0gd29ybGQuY29tcHV0ZVxuICAgIC8vIGRvIG9uZSBtZXRob2RcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyAmJiBjb21wdXRlLmhhc093blByb3BlcnR5KGlucHV0KSkge1xuICAgICAgY29tcHV0ZVtpbnB1dF0odGhpcylcbiAgICB9XG4gICAgLy8gYWxsb3cgYSBsaXN0IG9mIG1ldGhvZHNcbiAgICBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgaW5wdXQuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgaWYgKHdvcmxkLmNvbXB1dGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBjb21wdXRlW25hbWVdKHRoaXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdubyBjb21wdXRlOicsIGlucHV0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIC8vIGFsbG93IGEgY3VzdG9tIGNvbXB1dGUgZnVuY3Rpb25cbiAgICBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlucHV0KHRoaXMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2Fybignbm8gY29tcHV0ZTonLCBpbnB1dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9LFxufVxuZXhwb3J0IGRlZmF1bHQgZm5zXG4iLCAiLy8gd3JhcHBlcnMgZm9yIGxvb3BzIGluIGphdmFzY3JpcHQgYXJyYXlzXG5cbmNvbnN0IGZvckVhY2ggPSBmdW5jdGlvbiAoY2IpIHtcbiAgbGV0IHB0cnMgPSB0aGlzLmZ1bGxQb2ludGVyXG4gIHB0cnMuZm9yRWFjaCgocHRyLCBpKSA9PiB7XG4gICAgbGV0IHZpZXcgPSB0aGlzLnVwZGF0ZShbcHRyXSlcbiAgICBjYih2aWV3LCBpKVxuICB9KVxuICByZXR1cm4gdGhpc1xufVxuXG5jb25zdCBtYXAgPSBmdW5jdGlvbiAoY2IsIGVtcHR5KSB7XG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICBsZXQgcmVzID0gcHRycy5tYXAoKHB0ciwgaSkgPT4ge1xuICAgIGxldCB2aWV3ID0gdGhpcy51cGRhdGUoW3B0cl0pXG4gICAgbGV0IG91dCA9IGNiKHZpZXcsIGkpXG4gICAgLy8gaWYgd2UgcmV0dXJuZWQgbm90aGluZywgcmV0dXJuIGEgdmlld1xuICAgIGlmIChvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9uZSgpXG4gICAgfVxuICAgIHJldHVybiBvdXRcbiAgfSlcbiAgaWYgKHJlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZW1wdHkgfHwgdGhpcy51cGRhdGUoW10pXG4gIH1cbiAgLy8gcmV0dXJuIGFuIGFycmF5IG9mIHZhbHVlcywgb3IgVmlldyBvYmplY3RzP1xuICAvLyB1c2VyIGNhbiByZXR1cm4gZWl0aGVyIGZyb20gdGhlaXIgY2FsbGJhY2tcbiAgaWYgKHJlc1swXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gYXJyYXkgb2Ygc3RyaW5nc1xuICAgIGlmICh0eXBlb2YgcmVzWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHJlc1xuICAgIH1cbiAgICAvLyBhcnJheSBvZiBvYmplY3RzXG4gICAgaWYgKHR5cGVvZiByZXNbMF0gPT09ICdvYmplY3QnICYmIChyZXNbMF0gPT09IG51bGwgfHwgIXJlc1swXS5pc1ZpZXcpKSB7XG4gICAgICByZXR1cm4gcmVzXG4gICAgfVxuICB9XG4gIC8vIHJldHVybiBhIFZpZXcgb2JqZWN0XG4gIGxldCBhbGwgPSBbXVxuICByZXMuZm9yRWFjaChwdHIgPT4ge1xuICAgIGFsbCA9IGFsbC5jb25jYXQocHRyLmZ1bGxQb2ludGVyKVxuICB9KVxuICByZXR1cm4gdGhpcy50b1ZpZXcoYWxsKVxufVxuXG5jb25zdCBmaWx0ZXIgPSBmdW5jdGlvbiAoY2IpIHtcbiAgbGV0IHB0cnMgPSB0aGlzLmZ1bGxQb2ludGVyXG4gIHB0cnMgPSBwdHJzLmZpbHRlcigocHRyLCBpKSA9PiB7XG4gICAgbGV0IHZpZXcgPSB0aGlzLnVwZGF0ZShbcHRyXSlcbiAgICByZXR1cm4gY2IodmlldywgaSlcbiAgfSlcbiAgbGV0IHJlcyA9IHRoaXMudXBkYXRlKHB0cnMpXG4gIHJldHVybiByZXNcbn1cblxuY29uc3QgZmluZCA9IGZ1bmN0aW9uIChjYikge1xuICBsZXQgcHRycyA9IHRoaXMuZnVsbFBvaW50ZXJcbiAgbGV0IGZvdW5kID0gcHRycy5maW5kKChwdHIsIGkpID0+IHtcbiAgICBsZXQgdmlldyA9IHRoaXMudXBkYXRlKFtwdHJdKVxuICAgIHJldHVybiBjYih2aWV3LCBpKVxuICB9KVxuICByZXR1cm4gdGhpcy51cGRhdGUoW2ZvdW5kXSlcbn1cblxuY29uc3Qgc29tZSA9IGZ1bmN0aW9uIChjYikge1xuICBsZXQgcHRycyA9IHRoaXMuZnVsbFBvaW50ZXJcbiAgcmV0dXJuIHB0cnMuc29tZSgocHRyLCBpKSA9PiB7XG4gICAgbGV0IHZpZXcgPSB0aGlzLnVwZGF0ZShbcHRyXSlcbiAgICByZXR1cm4gY2IodmlldywgaSlcbiAgfSlcbn1cblxuY29uc3QgcmFuZG9tID0gZnVuY3Rpb24gKG4gPSAxKSB7XG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICBsZXQgciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHB0cnMubGVuZ3RoKVxuICAvL3ByZXZlbnQgaXQgZnJvbSBnb2luZyBvdmVyIHRoZSBlbmRcbiAgaWYgKHIgKyBuID4gdGhpcy5sZW5ndGgpIHtcbiAgICByID0gdGhpcy5sZW5ndGggLSBuXG4gICAgciA9IHIgPCAwID8gMCA6IHJcbiAgfVxuICBwdHJzID0gcHRycy5zbGljZShyLCByICsgbilcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHB0cnMpXG59XG5leHBvcnQgZGVmYXVsdCB7IGZvckVhY2gsIG1hcCwgZmlsdGVyLCBmaW5kLCBzb21lLCByYW5kb20gfVxuIiwgImNvbnN0IHV0aWxzID0ge1xuICAvKiogKi9cbiAgdGVybUxpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tZXRob2RzLm9uZS50ZXJtTGlzdCh0aGlzLmRvY3MpXG4gIH0sXG4gIC8qKiByZXR1cm4gaW5kaXZpZHVhbCB0ZXJtcyovXG4gIHRlcm1zOiBmdW5jdGlvbiAobikge1xuICAgIGxldCBtID0gdGhpcy5tYXRjaCgnLicpXG4gICAgLy8gdGhpcyBpcyBhIGJpdCBmYXN0ZXIgdGhhbiAubWF0Y2goJy4nKSBcbiAgICAvLyBsZXQgcHRycyA9IFtdXG4gICAgLy8gdGhpcy5kb2NzLmZvckVhY2goKHRlcm1zKSA9PiB7XG4gICAgLy8gICB0ZXJtcy5mb3JFYWNoKCh0ZXJtKSA9PiB7XG4gICAgLy8gICAgIGxldCBbeSwgeF0gPSB0ZXJtLmluZGV4IHx8IFtdXG4gICAgLy8gICAgIHB0cnMucHVzaChbeSwgeCwgeCArIDFdKVxuICAgIC8vICAgfSlcbiAgICAvLyB9KVxuICAgIC8vIGxldCBtID0gdGhpcy51cGRhdGUocHRycylcbiAgICByZXR1cm4gdHlwZW9mIG4gPT09ICdudW1iZXInID8gbS5lcShuKSA6IG1cbiAgfSxcblxuICAvKiogKi9cbiAgZ3JvdXBzOiBmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICBpZiAoZ3JvdXAgfHwgZ3JvdXAgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh0aGlzLl9ncm91cHNbZ3JvdXBdIHx8IFtdKVxuICAgIH1cbiAgICAvLyByZXR1cm4gYW4gb2JqZWN0IG9mIFZpZXdzXG4gICAgbGV0IHJlcyA9IHt9XG4gICAgT2JqZWN0LmtleXModGhpcy5fZ3JvdXBzKS5mb3JFYWNoKGsgPT4ge1xuICAgICAgcmVzW2tdID0gdGhpcy51cGRhdGUodGhpcy5fZ3JvdXBzW2tdKVxuICAgIH0pXG4gICAgLy8gdGhpcy5fZ3JvdXBzID0gbnVsbFxuICAgIHJldHVybiByZXNcbiAgfSxcbiAgLyoqICovXG4gIGVxOiBmdW5jdGlvbiAobikge1xuICAgIGxldCBwdHIgPSB0aGlzLnBvaW50ZXJcbiAgICBpZiAoIXB0cikge1xuICAgICAgcHRyID0gdGhpcy5kb2NzLm1hcCgoX2RvYywgaSkgPT4gW2ldKVxuICAgIH1cbiAgICBpZiAocHRyW25dKSB7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGUoW3B0cltuXV0pXG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5vbmUoKVxuICB9LFxuICAvKiogKi9cbiAgZmlyc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lcSgwKVxuICB9LFxuICAvKiogKi9cbiAgbGFzdDogZnVuY3Rpb24gKCkge1xuICAgIGxldCBuID0gdGhpcy5mdWxsUG9pbnRlci5sZW5ndGggLSAxXG4gICAgcmV0dXJuIHRoaXMuZXEobilcbiAgfSxcblxuICAvKiogZ3JhYiB0ZXJtWzBdIGZvciBldmVyeSBtYXRjaCAqL1xuICBmaXJzdFRlcm1zOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2goJ14uJylcbiAgfSxcblxuICAvKiogZ3JhYiB0aGUgbGFzdCB0ZXJtIGZvciBldmVyeSBtYXRjaCAgKi9cbiAgbGFzdFRlcm1zOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2goJy4kJylcbiAgfSxcblxuICAvKiogKi9cbiAgc2xpY2U6IGZ1bmN0aW9uIChtaW4sIG1heCkge1xuICAgIGxldCBwbnRycyA9IHRoaXMucG9pbnRlciB8fCB0aGlzLmRvY3MubWFwKChfbywgbikgPT4gW25dKVxuICAgIHBudHJzID0gcG50cnMuc2xpY2UobWluLCBtYXgpXG4gICAgcmV0dXJuIHRoaXMudXBkYXRlKHBudHJzKVxuICB9LFxuXG4gIC8qKiByZXR1cm4gYSB2aWV3IG9mIHRoZSBlbnRpcmUgZG9jdW1lbnQgKi9cbiAgYWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlKCkudG9WaWV3KClcbiAgfSxcbiAgLyoqICAqL1xuICBmdWxsU2VudGVuY2VzOiBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHB0cnMgPSB0aGlzLmZ1bGxQb2ludGVyLm1hcChhID0+IFthWzBdXSkgLy9sYXp5IVxuICAgIHJldHVybiB0aGlzLnVwZGF0ZShwdHJzKS50b1ZpZXcoKVxuICB9LFxuICAvKiogcmV0dXJuIGEgdmlldyBvZiBubyBwYXJ0cyBvZiB0aGUgZG9jdW1lbnQgKi9cbiAgbm9uZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZShbXSlcbiAgfSxcblxuICAvKiogYXJlIHRoZXNlIHR3byB2aWV3cyBsb29raW5nIGF0IHRoZSBzYW1lIHdvcmRzPyAqL1xuICBpc0RvYzogZnVuY3Rpb24gKGIpIHtcbiAgICBpZiAoIWIgfHwgIWIuaXNWaWV3KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgbGV0IGFQdHIgPSB0aGlzLmZ1bGxQb2ludGVyXG4gICAgbGV0IGJQdHIgPSBiLmZ1bGxQb2ludGVyXG4gICAgaWYgKCFhUHRyLmxlbmd0aCA9PT0gYlB0ci5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICAvLyBlbnN1cmUgcG9pbnRlcnMgYXJlIHRoZSBzYW1lXG4gICAgcmV0dXJuIGFQdHIuZXZlcnkoKHB0ciwgaSkgPT4ge1xuICAgICAgaWYgKCFiUHRyW2ldKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgLy8gZW5zdXJlIFtuLCBzdGFydCwgZW5kXSBhcmUgYWxsIHRoZSBzYW1lXG4gICAgICByZXR1cm4gcHRyWzBdID09PSBiUHRyW2ldWzBdICYmIHB0clsxXSA9PT0gYlB0cltpXVsxXSAmJiBwdHJbMl0gPT09IGJQdHJbaV1bMl1cbiAgICB9KVxuICB9LFxuXG4gIC8qKiBob3cgbWFueSBzZXBlcmF0ZSB0ZXJtcyBkb2VzIHRoZSBkb2N1bWVudCBoYXZlPyAqL1xuICB3b3JkQ291bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kb2NzLnJlZHVjZSgoY291bnQsIHRlcm1zKSA9PiB7XG4gICAgICBjb3VudCArPSB0ZXJtcy5maWx0ZXIodCA9PiB0LnRleHQgIT09ICcnKS5sZW5ndGhcbiAgICAgIHJldHVybiBjb3VudFxuICAgIH0sIDApXG4gIH0sXG5cbiAgLy8gaXMgdGhlIHBvaW50ZXIgdGhlIGZ1bGwgc2VudGVuY2U/XG4gIGlzRnVsbDogZnVuY3Rpb24gKCkge1xuICAgIGxldCBwdHJzID0gdGhpcy5wb2ludGVyXG4gICAgaWYgKCFwdHJzKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBtdXN0IHN0YXJ0IGF0IGJlZ2lubmluZ1xuICAgIGlmIChwdHJzLmxlbmd0aCA9PT0gMCB8fCBwdHJzWzBdWzBdICE9PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgbGV0IHdhbnRUZXJtcyA9IDBcbiAgICBsZXQgaGF2ZVRlcm1zID0gMFxuICAgIHRoaXMuZG9jdW1lbnQuZm9yRWFjaCh0ZXJtcyA9PiB3YW50VGVybXMgKz0gdGVybXMubGVuZ3RoKVxuICAgIHRoaXMuZG9jcy5mb3JFYWNoKHRlcm1zID0+IGhhdmVUZXJtcyArPSB0ZXJtcy5sZW5ndGgpXG4gICAgcmV0dXJuIHdhbnRUZXJtcyA9PT0gaGF2ZVRlcm1zXG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBwdHJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgLy8gICBsZXQgW24sIHN0YXJ0LCBlbmRdID0gcHRyc1tpXVxuICAgIC8vICAgLy8gaXQncyBub3QgdGhlIHN0YXJ0XG4gICAgLy8gICBpZiAobiAhPT0gaSB8fCBzdGFydCAhPT0gMCkge1xuICAgIC8vICAgICByZXR1cm4gZmFsc2VcbiAgICAvLyAgIH1cbiAgICAvLyAgIC8vIGl0J3MgdG9vIHNob3J0XG4gICAgLy8gICBpZiAoZG9jdW1lbnRbbl0ubGVuZ3RoID4gZW5kKSB7XG4gICAgLy8gICAgIHJldHVybiBmYWxzZVxuICAgIC8vICAgfVxuICAgIC8vIH1cbiAgICAvLyByZXR1cm4gdHJ1ZVxuICB9LFxuXG4gIC8vIHJldHVybiB0aGUgbnRoIGVsZW0gb2YgYSBkb2NcbiAgZ2V0TnRoOiBmdW5jdGlvbiAobikge1xuICAgIGlmICh0eXBlb2YgbiA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiB0aGlzLmVxKG4pXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB0aGlzLmlmKG4pXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufVxudXRpbHMuZ3JvdXAgPSB1dGlscy5ncm91cHNcbnV0aWxzLmZ1bGxTZW50ZW5jZSA9IHV0aWxzLmZ1bGxTZW50ZW5jZXNcbnV0aWxzLnNlbnRlbmNlID0gdXRpbHMuZnVsbFNlbnRlbmNlc1xudXRpbHMubGFzdFRlcm0gPSB1dGlscy5sYXN0VGVybXNcbnV0aWxzLmZpcnN0VGVybSA9IHV0aWxzLmZpcnN0VGVybXNcbmV4cG9ydCBkZWZhdWx0IHV0aWxzXG4iLCAiaW1wb3J0IGNvbXB1dGUgZnJvbSAnLi9jb21wdXRlLmpzJ1xuaW1wb3J0IGxvb3BzIGZyb20gJy4vbG9vcHMuanMnXG5pbXBvcnQgdXRpbCBmcm9tICcuL3V0aWxzLmpzJ1xuXG5jb25zdCBtZXRob2RzID0gT2JqZWN0LmFzc2lnbih7fSwgdXRpbCwgY29tcHV0ZSwgbG9vcHMpXG5cbi8vIGFsaWFzZXNcbm1ldGhvZHMuZ2V0ID0gbWV0aG9kcy5lcVxuZXhwb3J0IGRlZmF1bHQgbWV0aG9kc1xuIiwgImltcG9ydCB3b3JsZCBmcm9tICcuL3dvcmxkLmpzJ1xuaW1wb3J0IGFwaSBmcm9tICcuL21ldGhvZHMvaW5kZXguanMnXG5cbmNsYXNzIFZpZXcge1xuICBjb25zdHJ1Y3Rvcihkb2N1bWVudCwgcG9pbnRlciwgZ3JvdXBzID0ge30pIHtcbiAgICAvLyBpbnZpc2libGUgcHJvcHNcbiAgICBsZXQgcHJvcHMgPSBbXG4gICAgICBbJ2RvY3VtZW50JywgZG9jdW1lbnRdLFxuICAgICAgWyd3b3JsZCcsIHdvcmxkXSxcbiAgICAgIFsnX2dyb3VwcycsIGdyb3Vwc10sXG4gICAgICBbJ19jYWNoZScsIG51bGxdLFxuICAgICAgWyd2aWV3VHlwZScsICdWaWV3J10sXG4gICAgXVxuICAgIHByb3BzLmZvckVhY2goYSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgYVswXSwge1xuICAgICAgICB2YWx1ZTogYVsxXSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB9KVxuICAgIH0pXG4gICAgdGhpcy5wdHJzID0gcG9pbnRlclxuICB9XG4gIC8qIGdldHRlcnM6ICAqL1xuICBnZXQgZG9jcygpIHtcbiAgICBsZXQgZG9jcyA9IHRoaXMuZG9jdW1lbnRcbiAgICBpZiAodGhpcy5wdHJzKSB7XG4gICAgICBkb2NzID0gd29ybGQubWV0aG9kcy5vbmUuZ2V0RG9jKHRoaXMucHRycywgdGhpcy5kb2N1bWVudClcbiAgICB9XG4gICAgcmV0dXJuIGRvY3NcbiAgfVxuICBnZXQgcG9pbnRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wdHJzXG4gIH1cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMud29ybGQubWV0aG9kc1xuICB9XG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy53b3JsZC5tb2RlbFxuICB9XG4gIGdldCBob29rcygpIHtcbiAgICByZXR1cm4gdGhpcy53b3JsZC5ob29rc1xuICB9XG4gIGdldCBpc1ZpZXcoKSB7XG4gICAgcmV0dXJuIHRydWUgLy90aGlzIGNvbWVzIGluIGhhbmR5IHNvbWV0aW1lc1xuICB9XG4gIC8vIGlzIHRoZSB2aWV3IG5vdC1lbXB0eT9cbiAgZ2V0IGZvdW5kKCkge1xuICAgIHJldHVybiB0aGlzLmRvY3MubGVuZ3RoID4gMFxuICB9XG4gIC8vIGhvdyBtYW55IG1hdGNoZXMgd2UgaGF2ZVxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLmRvY3MubGVuZ3RoXG4gIH1cbiAgLy8gcmV0dXJuIGEgbW9yZS1oYWNrYWJsZSBwb2ludGVyXG4gIGdldCBmdWxsUG9pbnRlcigpIHtcbiAgICBsZXQgeyBkb2NzLCBwdHJzLCBkb2N1bWVudCB9ID0gdGhpc1xuICAgIC8vIGNvbXB1dGUgYSBwcm9wZXIgcG9pbnRlciwgZnJvbSBkb2NzXG4gICAgbGV0IHBvaW50ZXJzID0gcHRycyB8fCBkb2NzLm1hcCgoX2QsIG4pID0+IFtuXSlcbiAgICAvLyBkbyB3ZSBuZWVkIHRvIHJlcGFpciBpdCwgZmlyc3Q/XG4gICAgcmV0dXJuIHBvaW50ZXJzLm1hcChhID0+IHtcbiAgICAgIGxldCBbbiwgc3RhcnQsIGVuZCwgaWQsIGVuZElkXSA9IGFcbiAgICAgIHN0YXJ0ID0gc3RhcnQgfHwgMFxuICAgICAgZW5kID0gZW5kIHx8IChkb2N1bWVudFtuXSB8fCBbXSkubGVuZ3RoXG4gICAgICAvL2FkZCBmcm96ZW4gaWQsIGZvciBnb29kLW1lYXN1cmVcbiAgICAgIGlmIChkb2N1bWVudFtuXSAmJiBkb2N1bWVudFtuXVtzdGFydF0pIHtcbiAgICAgICAgaWQgPSBpZCB8fCBkb2N1bWVudFtuXVtzdGFydF0uaWRcbiAgICAgICAgaWYgKGRvY3VtZW50W25dW2VuZCAtIDFdKSB7XG4gICAgICAgICAgZW5kSWQgPSBlbmRJZCB8fCBkb2N1bWVudFtuXVtlbmQgLSAxXS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gW24sIHN0YXJ0LCBlbmQsIGlkLCBlbmRJZF1cbiAgICB9KVxuICB9XG4gIC8vIGNyZWF0ZSBhIG5ldyBWaWV3LCBmcm9tIHRoaXMgb25lXG4gIHVwZGF0ZShwb2ludGVyKSB7XG4gICAgbGV0IG0gPSBuZXcgVmlldyh0aGlzLmRvY3VtZW50LCBwb2ludGVyKVxuICAgIC8vIHNlbmQgdGhlIGNhY2hlIGRvd24sIHRvbz9cbiAgICBpZiAodGhpcy5fY2FjaGUgJiYgcG9pbnRlciAmJiBwb2ludGVyLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIG9ubHkga2VlcCBjYWNoZSBpZiBpdCdzIGEgZnVsbC1zZW50ZW5jZVxuICAgICAgbGV0IGNhY2hlID0gW11cbiAgICAgIHBvaW50ZXIuZm9yRWFjaCgocHRyLCBpKSA9PiB7XG4gICAgICAgIGxldCBbbiwgc3RhcnQsIGVuZF0gPSBwdHJcbiAgICAgICAgaWYgKHB0ci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjYWNoZVtpXSA9IHRoaXMuX2NhY2hlW25dXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhcnQgPT09IDAgJiYgdGhpcy5kb2N1bWVudFtuXS5sZW5ndGggPT09IGVuZCkge1xuICAgICAgICAgIGNhY2hlW2ldID0gdGhpcy5fY2FjaGVbbl1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGlmIChjYWNoZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIG0uX2NhY2hlID0gY2FjaGVcbiAgICAgIH1cbiAgICB9XG4gICAgbS53b3JsZCA9IHRoaXMud29ybGRcbiAgICByZXR1cm4gbVxuICB9XG4gIC8vIGNyZWF0ZSBhIG5ldyBWaWV3LCBmcm9tIHRoaXMgb25lXG4gIHRvVmlldyhwb2ludGVyKSB7XG4gICAgcmV0dXJuIG5ldyBWaWV3KHRoaXMuZG9jdW1lbnQsIHBvaW50ZXIgfHwgdGhpcy5wb2ludGVyKVxuICB9XG4gIGZyb21UZXh0KGlucHV0KSB7XG4gICAgY29uc3QgeyBtZXRob2RzIH0gPSB0aGlzXG4gICAgLy9hc3N1bWUgLi8wMS10b2tlbml6ZSBpcyBpbnN0YWxsZWRcbiAgICBsZXQgZG9jdW1lbnQgPSBtZXRob2RzLm9uZS50b2tlbml6ZS5mcm9tU3RyaW5nKGlucHV0LCB0aGlzLndvcmxkKVxuICAgIGxldCBkb2MgPSBuZXcgVmlldyhkb2N1bWVudClcbiAgICBkb2Mud29ybGQgPSB0aGlzLndvcmxkXG4gICAgZG9jLmNvbXB1dGUoWydub3JtYWwnLCAnZnJlZXplJywgJ2xleGljb24nXSlcbiAgICBpZiAodGhpcy53b3JsZC5jb21wdXRlLnByZVRhZ2dlcikge1xuICAgICAgZG9jLmNvbXB1dGUoJ3ByZVRhZ2dlcicpXG4gICAgfVxuICAgIGRvYy5jb21wdXRlKCd1bmZyZWV6ZScpXG4gICAgcmV0dXJuIGRvY1xuICB9XG4gIGNsb25lKCkge1xuICAgIC8vIGNsb25lIHRoZSB3aG9sZSBkb2N1bWVudFxuICAgIGxldCBkb2N1bWVudCA9IHRoaXMuZG9jdW1lbnQuc2xpY2UoMCkgLy9ub2RlIDE3OiBzdHJ1Y3R1cmVkQ2xvbmUoZG9jdW1lbnQpO1xuICAgIGRvY3VtZW50ID0gZG9jdW1lbnQubWFwKHRlcm1zID0+IHtcbiAgICAgIHJldHVybiB0ZXJtcy5tYXAodGVybSA9PiB7XG4gICAgICAgIHRlcm0gPSBPYmplY3QuYXNzaWduKHt9LCB0ZXJtKVxuICAgICAgICB0ZXJtLnRhZ3MgPSBuZXcgU2V0KHRlcm0udGFncylcbiAgICAgICAgcmV0dXJuIHRlcm1cbiAgICAgIH0pXG4gICAgfSlcbiAgICAvLyBjbG9uZSBvbmx5IHN1Yi1kb2N1bWVudCA/XG4gICAgbGV0IG0gPSB0aGlzLnVwZGF0ZSh0aGlzLnBvaW50ZXIpXG4gICAgbS5kb2N1bWVudCA9IGRvY3VtZW50XG4gICAgbS5fY2FjaGUgPSB0aGlzLl9jYWNoZSAvL2Nsb25lIHRoaXMgdG9vP1xuICAgIHJldHVybiBtXG4gIH1cbn1cbk9iamVjdC5hc3NpZ24oVmlldy5wcm90b3R5cGUsIGFwaSlcbmV4cG9ydCBkZWZhdWx0IFZpZXdcbiIsICJleHBvcnQgZGVmYXVsdCAnMTQuMTQuNCciLCAiY29uc3QgaXNPYmplY3QgPSBmdW5jdGlvbiAoaXRlbSkge1xuICByZXR1cm4gaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSlcbn1cblxuLy8gcmVjdXJzaXZlIG1lcmdlIG9mIG9iamVjdHNcbmZ1bmN0aW9uIG1lcmdlRGVlcChtb2RlbCwgcGx1Z2luKSB7XG4gIGlmIChpc09iamVjdChwbHVnaW4pKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGx1Z2luKSB7XG4gICAgICBpZiAoaXNPYmplY3QocGx1Z2luW2tleV0pKSB7XG4gICAgICAgIGlmICghbW9kZWxba2V5XSkgT2JqZWN0LmFzc2lnbihtb2RlbCwgeyBba2V5XToge30gfSlcbiAgICAgICAgbWVyZ2VEZWVwKG1vZGVsW2tleV0sIHBsdWdpbltrZXldKSAvL3JlY3Vyc2lvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihtb2RlbCwgeyBba2V5XTogcGx1Z2luW2tleV0gfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1vZGVsXG59XG4vLyBjb25zdCBtZXJnZWQgPSBtZXJnZURlZXAoeyBhOiAxIH0sIHsgYjogeyBjOiB7IGQ6IHsgZTogMTIzNDUgfSB9IH0gfSlcbi8vIGNvbnNvbGUuZGlyKG1lcmdlZCwgeyBkZXB0aDogNSB9KVxuXG4vLyB2cm9vbVxuZnVuY3Rpb24gbWVyZ2VRdWljayhtb2RlbCwgcGx1Z2luKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIHBsdWdpbikge1xuICAgIG1vZGVsW2tleV0gPSBtb2RlbFtrZXldIHx8IHt9XG4gICAgT2JqZWN0LmFzc2lnbihtb2RlbFtrZXldLCBwbHVnaW5ba2V5XSlcbiAgfVxuICByZXR1cm4gbW9kZWxcbn1cblxuY29uc3QgYWRkSXJyZWd1bGFycyA9IGZ1bmN0aW9uIChtb2RlbCwgY29uaikge1xuICBsZXQgbSA9IG1vZGVsLnR3by5tb2RlbHMgfHwge31cbiAgT2JqZWN0LmtleXMoY29uaikuZm9yRWFjaChrID0+IHtcbiAgICAvLyB2ZXJiIGZvcm1zXG4gICAgaWYgKGNvbmpba10ucGFzdFRlbnNlKSB7XG4gICAgICBpZiAobS50b1Bhc3QpIHtcbiAgICAgICAgbS50b1Bhc3QuZXhba10gPSBjb25qW2tdLnBhc3RUZW5zZVxuICAgICAgfVxuICAgICAgaWYgKG0uZnJvbVBhc3QpIHtcbiAgICAgICAgbS5mcm9tUGFzdC5leFtjb25qW2tdLnBhc3RUZW5zZV0gPSBrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb25qW2tdLnByZXNlbnRUZW5zZSkge1xuICAgICAgaWYgKG0udG9QcmVzZW50KSB7XG4gICAgICAgIG0udG9QcmVzZW50LmV4W2tdID0gY29ualtrXS5wcmVzZW50VGVuc2VcbiAgICAgIH1cbiAgICAgIGlmIChtLmZyb21QcmVzZW50KSB7XG4gICAgICAgIG0uZnJvbVByZXNlbnQuZXhbY29ualtrXS5wcmVzZW50VGVuc2VdID0ga1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29ualtrXS5nZXJ1bmQpIHtcbiAgICAgIGlmIChtLnRvR2VydW5kKSB7XG4gICAgICAgIG0udG9HZXJ1bmQuZXhba10gPSBjb25qW2tdLmdlcnVuZFxuICAgICAgfVxuICAgICAgaWYgKG0uZnJvbUdlcnVuZCkge1xuICAgICAgICBtLmZyb21HZXJ1bmQuZXhbY29ualtrXS5nZXJ1bmRdID0ga1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBhZGplY3RpdmUgZm9ybXNcbiAgICBpZiAoY29ualtrXS5jb21wYXJhdGl2ZSkge1xuICAgICAgaWYgKG0udG9Db21wYXJhdGl2ZSkge1xuICAgICAgICBtLnRvQ29tcGFyYXRpdmUuZXhba10gPSBjb25qW2tdLmNvbXBhcmF0aXZlXG4gICAgICB9XG4gICAgICBpZiAobS5mcm9tQ29tcGFyYXRpdmUpIHtcbiAgICAgICAgbS5mcm9tQ29tcGFyYXRpdmUuZXhbY29ualtrXS5jb21wYXJhdGl2ZV0gPSBrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb25qW2tdLnN1cGVybGF0aXZlKSB7XG4gICAgICBpZiAobS50b1N1cGVybGF0aXZlKSB7XG4gICAgICAgIG0udG9TdXBlcmxhdGl2ZS5leFtrXSA9IGNvbmpba10uc3VwZXJsYXRpdmVcbiAgICAgIH1cbiAgICAgIGlmIChtLmZyb21TdXBlcmxhdGl2ZSkge1xuICAgICAgICBtLmZyb21TdXBlcmxhdGl2ZS5leFtjb25qW2tdLnN1cGVybGF0aXZlXSA9IGtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5cbmNvbnN0IGV4dGVuZCA9IGZ1bmN0aW9uIChwbHVnaW4sIHdvcmxkLCBWaWV3LCBubHApIHtcbiAgY29uc3QgeyBtZXRob2RzLCBtb2RlbCwgY29tcHV0ZSwgaG9va3MgfSA9IHdvcmxkXG4gIGlmIChwbHVnaW4ubWV0aG9kcykge1xuICAgIG1lcmdlUXVpY2sobWV0aG9kcywgcGx1Z2luLm1ldGhvZHMpXG4gIH1cbiAgaWYgKHBsdWdpbi5tb2RlbCkge1xuICAgIG1lcmdlRGVlcChtb2RlbCwgcGx1Z2luLm1vZGVsKVxuICB9XG4gIGlmIChwbHVnaW4uaXJyZWd1bGFycykge1xuICAgIGFkZElycmVndWxhcnMobW9kZWwsIHBsdWdpbi5pcnJlZ3VsYXJzKVxuICB9XG4gIC8vIHNoYWxsb3ctbWVyZ2UgY29tcHV0ZVxuICBpZiAocGx1Z2luLmNvbXB1dGUpIHtcbiAgICBPYmplY3QuYXNzaWduKGNvbXB1dGUsIHBsdWdpbi5jb21wdXRlKVxuICB9XG4gIC8vIGFwcGVuZCBuZXcgaG9va3NcbiAgaWYgKGhvb2tzKSB7XG4gICAgd29ybGQuaG9va3MgPSBob29rcy5jb25jYXQocGx1Z2luLmhvb2tzIHx8IFtdKVxuICB9XG4gIC8vIGFzc2lnbiBuZXcgY2xhc3MgbWV0aG9kc1xuICBpZiAocGx1Z2luLmFwaSkge1xuICAgIHBsdWdpbi5hcGkoVmlldylcbiAgfVxuICBpZiAocGx1Z2luLmxpYikge1xuICAgIE9iamVjdC5rZXlzKHBsdWdpbi5saWIpLmZvckVhY2goayA9PiAobmxwW2tdID0gcGx1Z2luLmxpYltrXSkpXG4gIH1cbiAgaWYgKHBsdWdpbi50YWdzKSB7XG4gICAgbmxwLmFkZFRhZ3MocGx1Z2luLnRhZ3MpXG4gIH1cbiAgaWYgKHBsdWdpbi53b3Jkcykge1xuICAgIG5scC5hZGRXb3JkcyhwbHVnaW4ud29yZHMpXG4gIH1cbiAgaWYgKHBsdWdpbi5mcm96ZW4pIHtcbiAgICBubHAuYWRkV29yZHMocGx1Z2luLmZyb3plbiwgdHJ1ZSlcbiAgfVxuICBpZiAocGx1Z2luLm11dGF0ZSkge1xuICAgIHBsdWdpbi5tdXRhdGUod29ybGQsIG5scClcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZXh0ZW5kXG4iLCAiXG4vKiogbG9nIHRoZSBkZWNpc2lvbi1tYWtpbmcgdG8gY29uc29sZSAqL1xuY29uc3QgdmVyYm9zZSA9IGZ1bmN0aW9uIChzZXQpIHtcbiAgY29uc3QgZW52ID0gdHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnIHx8ICFwcm9jZXNzLmVudiA/IHNlbGYuZW52IHx8IHt9IDogcHJvY2Vzcy5lbnYgLy91c2Ugd2luZG93LCBpbiBicm93c2VyXG4gIGVudi5ERUJVR19UQUdTID0gc2V0ID09PSAndGFnZ2VyJyB8fCBzZXQgPT09IHRydWUgPyB0cnVlIDogJydcbiAgZW52LkRFQlVHX01BVENIID0gc2V0ID09PSAnbWF0Y2gnIHx8IHNldCA9PT0gdHJ1ZSA/IHRydWUgOiAnJ1xuICBlbnYuREVCVUdfQ0hVTktTID0gc2V0ID09PSAnY2h1bmtlcicgfHwgc2V0ID09PSB0cnVlID8gdHJ1ZSA6ICcnXG4gIHJldHVybiB0aGlzXG59XG5cbmV4cG9ydCB7IHZlcmJvc2UgfSIsICJjb25zdCBpc09iamVjdCA9IHZhbCA9PiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSdcbn1cblxuY29uc3QgaXNBcnJheSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nXG59XG5cbi8vIGludGVybmFsIFRlcm0gb2JqZWN0cyBhcmUgc2xpZ2h0bHkgZGlmZmVyZW50XG5jb25zdCBmcm9tSnNvbiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gIHJldHVybiBqc29uLm1hcChvID0+IHtcbiAgICByZXR1cm4gby50ZXJtcy5tYXAodGVybSA9PiB7XG4gICAgICBpZiAoaXNBcnJheSh0ZXJtLnRhZ3MpKSB7XG4gICAgICAgIHRlcm0udGFncyA9IG5ldyBTZXQodGVybS50YWdzKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRlcm1cbiAgICB9KVxuICB9KVxufVxuXG4vLyBpbnRlcnByZXQgYW4gYXJyYXktb2YtYXJyYXlzXG5jb25zdCBwcmVUb2tlbml6ZWQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBhcnIubWFwKChhKSA9PiB7XG4gICAgcmV0dXJuIGEubWFwKHN0ciA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiBzdHIsXG4gICAgICAgIG5vcm1hbDogc3RyLC8vY2xlYW51cFxuICAgICAgICBwcmU6ICcnLFxuICAgICAgICBwb3N0OiAnICcsXG4gICAgICAgIHRhZ3M6IG5ldyBTZXQoKVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG59XG5cbmNvbnN0IGlucHV0cyA9IGZ1bmN0aW9uIChpbnB1dCwgVmlldywgd29ybGQpIHtcbiAgY29uc3QgeyBtZXRob2RzIH0gPSB3b3JsZFxuICBsZXQgZG9jID0gbmV3IFZpZXcoW10pXG4gIGRvYy53b3JsZCA9IHdvcmxkXG4gIC8vIHN1cHBvcnQgYSBudW1iZXJcbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICBpbnB1dCA9IFN0cmluZyhpbnB1dClcbiAgfVxuICAvLyByZXR1cm4gZW1wdHkgZG9jXG4gIGlmICghaW5wdXQpIHtcbiAgICByZXR1cm4gZG9jXG4gIH1cbiAgLy8gcGFyc2UgYSBzdHJpbmdcbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICBsZXQgZG9jdW1lbnQgPSBtZXRob2RzLm9uZS50b2tlbml6ZS5mcm9tU3RyaW5nKGlucHV0LCB3b3JsZClcbiAgICByZXR1cm4gbmV3IFZpZXcoZG9jdW1lbnQpXG4gIH1cbiAgLy8gaGFuZGxlIGNvbXByb21pc2UgVmlld1xuICBpZiAoaXNPYmplY3QoaW5wdXQpICYmIGlucHV0LmlzVmlldykge1xuICAgIHJldHVybiBuZXcgVmlldyhpbnB1dC5kb2N1bWVudCwgaW5wdXQucHRycylcbiAgfVxuICAvLyBoYW5kbGUganNvbiBpbnB1dFxuICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAvLyBwcmUtdG9rZW5pemVkIGFycmF5LW9mLWFycmF5cyBcbiAgICBpZiAoaXNBcnJheShpbnB1dFswXSkpIHtcbiAgICAgIGxldCBkb2N1bWVudCA9IHByZVRva2VuaXplZChpbnB1dClcbiAgICAgIHJldHVybiBuZXcgVmlldyhkb2N1bWVudClcbiAgICB9XG4gICAgLy8gaGFuZGxlIGpzb24gb3V0cHV0XG4gICAgbGV0IGRvY3VtZW50ID0gZnJvbUpzb24oaW5wdXQpXG4gICAgcmV0dXJuIG5ldyBWaWV3KGRvY3VtZW50KVxuICB9XG4gIHJldHVybiBkb2Ncbn1cbmV4cG9ydCBkZWZhdWx0IGlucHV0cyIsICJpbXBvcnQgVmlldyBmcm9tICcuL0FQSS9WaWV3LmpzJ1xuaW1wb3J0IHRtcFdybGQgZnJvbSAnLi9BUEkvd29ybGQuanMnXG5pbXBvcnQgdmVyc2lvbiBmcm9tICcuL192ZXJzaW9uLmpzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICcuL0FQSS9leHRlbmQuanMnXG5pbXBvcnQgeyB2ZXJib3NlIH0gZnJvbSAnLi9BUEkvX2xpYi5qcydcbmltcG9ydCBoYW5kbGVJbnB1dHMgZnJvbSAnLi9BUEkvaW5wdXRzLmpzJ1xuXG5sZXQgd29ybGQgPSBPYmplY3QuYXNzaWduKHt9LCB0bXBXcmxkKVxuXG5jb25zdCBubHAgPSBmdW5jdGlvbiAoaW5wdXQsIGxleCkge1xuICBpZiAobGV4KSB7XG4gICAgbmxwLmFkZFdvcmRzKGxleClcbiAgfVxuICBsZXQgZG9jID0gaGFuZGxlSW5wdXRzKGlucHV0LCBWaWV3LCB3b3JsZClcbiAgaWYgKGlucHV0KSB7XG4gICAgZG9jLmNvbXB1dGUod29ybGQuaG9va3MpXG4gIH1cbiAgcmV0dXJuIGRvY1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KG5scCwgJ193b3JsZCcsIHtcbiAgdmFsdWU6IHdvcmxkLFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pXG5cbi8qKiBkb24ndCBydW4gdGhlIFBPUy10YWdnZXIgKi9cbm5scC50b2tlbml6ZSA9IGZ1bmN0aW9uIChpbnB1dCwgbGV4KSB7XG4gIGNvbnN0IHsgY29tcHV0ZSB9ID0gdGhpcy5fd29ybGRcbiAgLy8gYWRkIHVzZXItZ2l2ZW4gd29yZHMgdG8gbGV4aWNvblxuICBpZiAobGV4KSB7XG4gICAgbmxwLmFkZFdvcmRzKGxleClcbiAgfVxuICAvLyBydW4gdGhlIHRva2VuaXplclxuICBsZXQgZG9jID0gaGFuZGxlSW5wdXRzKGlucHV0LCBWaWV3LCB3b3JsZClcbiAgLy8gZ2l2ZSBjb250cmFjdGlvbnMgYSBzaG90LCBhdCBsZWFzdFxuICBpZiAoY29tcHV0ZS5jb250cmFjdGlvbnMpIHtcbiAgICBkb2MuY29tcHV0ZShbJ2FsaWFzJywgJ25vcm1hbCcsICdtYWNoaW5lJywgJ2NvbnRyYWN0aW9ucyddKSAvL3J1biBpdCBpZiB3ZSd2ZSBnb3QgaXRcbiAgfVxuICByZXR1cm4gZG9jXG59XG5cbi8qKiBleHRlbmQgY29tcHJvbWlzZSBmdW5jdGlvbmFsaXR5ICovXG5ubHAucGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICBleHRlbmQocGx1Z2luLCB0aGlzLl93b3JsZCwgVmlldywgdGhpcylcbiAgcmV0dXJuIHRoaXNcbn1cbm5scC5leHRlbmQgPSBubHAucGx1Z2luXG5cblxuLyoqIHJlYWNoLWludG8gY29tcHJvbWlzZSBpbnRlcm5hbHMgKi9cbm5scC53b3JsZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3dvcmxkXG59XG5ubHAubW9kZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl93b3JsZC5tb2RlbFxufVxubmxwLm1ldGhvZHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl93b3JsZC5tZXRob2RzXG59XG5ubHAuaG9va3MgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl93b3JsZC5ob29rc1xufVxuXG4vKiogbG9nIHRoZSBkZWNpc2lvbi1tYWtpbmcgdG8gY29uc29sZSAqL1xubmxwLnZlcmJvc2UgPSB2ZXJib3NlXG4vKiogY3VycmVudCBsaWJyYXJ5IHJlbGVhc2UgdmVyc2lvbiAqL1xubmxwLnZlcnNpb24gPSB2ZXJzaW9uXG5cbmV4cG9ydCBkZWZhdWx0IG5scFxuIiwgImNvbnN0IGNyZWF0ZUNhY2hlID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XG4gIGxldCBjYWNoZSA9IGRvY3VtZW50Lm1hcCh0ZXJtcyA9PiB7XG4gICAgbGV0IGl0ZW1zID0gbmV3IFNldCgpXG4gICAgdGVybXMuZm9yRWFjaCh0ZXJtID0+IHtcbiAgICAgIC8vIGFkZCB3b3Jkc1xuICAgICAgaWYgKHRlcm0ubm9ybWFsICE9PSAnJykge1xuICAgICAgICBpdGVtcy5hZGQodGVybS5ub3JtYWwpXG4gICAgICB9XG4gICAgICAvLyBjYWNoZSBzd2l0Y2gtc3RhdHVzIC0gJyVOb3VufFZlcmIlJ1xuICAgICAgaWYgKHRlcm0uc3dpdGNoKSB7XG4gICAgICAgIGl0ZW1zLmFkZChgJSR7dGVybS5zd2l0Y2h9JWApXG4gICAgICB9XG4gICAgICAvLyBjYWNoZSBpbXBsaWNpdCB3b3JkcywgdG9vXG4gICAgICBpZiAodGVybS5pbXBsaWNpdCkge1xuICAgICAgICBpdGVtcy5hZGQodGVybS5pbXBsaWNpdClcbiAgICAgIH1cbiAgICAgIGlmICh0ZXJtLm1hY2hpbmUpIHtcbiAgICAgICAgaXRlbXMuYWRkKHRlcm0ubWFjaGluZSlcbiAgICAgIH1cbiAgICAgIGlmICh0ZXJtLnJvb3QpIHtcbiAgICAgICAgaXRlbXMuYWRkKHRlcm0ucm9vdClcbiAgICAgIH1cbiAgICAgIC8vIGNhY2hlIHNsYXNoZXMgd29yZHMsIGV0Y1xuICAgICAgaWYgKHRlcm0uYWxpYXMpIHtcbiAgICAgICAgdGVybS5hbGlhcy5mb3JFYWNoKHN0ciA9PiBpdGVtcy5hZGQoc3RyKSlcbiAgICAgIH1cbiAgICAgIGxldCB0YWdzID0gQXJyYXkuZnJvbSh0ZXJtLnRhZ3MpXG4gICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRhZ3MubGVuZ3RoOyB0ICs9IDEpIHtcbiAgICAgICAgaXRlbXMuYWRkKCcjJyArIHRhZ3NbdF0pXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gaXRlbXNcbiAgfSlcbiAgcmV0dXJuIGNhY2hlXG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDYWNoZVxuIiwgImltcG9ydCBjYWNoZURvYyBmcm9tICcuL2NhY2hlRG9jLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG9uZToge1xuICAgIGNhY2hlRG9jLFxuICB9LFxufVxuIiwgImNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiAqL1xuICBjYWNoZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2NhY2hlID0gdGhpcy5tZXRob2RzLm9uZS5jYWNoZURvYyh0aGlzLmRvY3VtZW50KVxuICAgIHJldHVybiB0aGlzXG4gIH0sXG4gIC8qKiAqL1xuICB1bmNhY2hlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fY2FjaGUgPSBudWxsXG4gICAgcmV0dXJuIHRoaXNcbiAgfSxcbn1cbmNvbnN0IGFkZEFQSSA9IGZ1bmN0aW9uIChWaWV3KSB7XG4gIE9iamVjdC5hc3NpZ24oVmlldy5wcm90b3R5cGUsIG1ldGhvZHMpXG59XG5leHBvcnQgZGVmYXVsdCBhZGRBUElcbiIsICJcbmV4cG9ydCBkZWZhdWx0IHtcbiAgY2FjaGU6IGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgdmlldy5fY2FjaGUgPSB2aWV3Lm1ldGhvZHMub25lLmNhY2hlRG9jKHZpZXcuZG9jdW1lbnQpXG4gIH1cbn0iLCAiaW1wb3J0IG1ldGhvZHMgZnJvbSAnLi9tZXRob2RzL2luZGV4LmpzJ1xuaW1wb3J0IGFwaSBmcm9tICcuL2FwaS5qcydcbmltcG9ydCBjb21wdXRlIGZyb20gJy4vY29tcHV0ZS5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBhcGksXG4gIGNvbXB1dGUsXG4gIG1ldGhvZHMsXG59XG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICAvKiogKi9cbiAgdG9Mb3dlckNhc2U6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRlcm1MaXN0KCkuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudGV4dCA9IHQudGV4dC50b0xvd2VyQ2FzZSgpXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuICAvKiogKi9cbiAgdG9VcHBlckNhc2U6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRlcm1MaXN0KCkuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudGV4dCA9IHQudGV4dC50b1VwcGVyQ2FzZSgpXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuICAvKiogKi9cbiAgdG9UaXRsZUNhc2U6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRlcm1MaXN0KCkuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudGV4dCA9IHQudGV4dC5yZXBsYWNlKC9eICpbYS16XFx1MDBDMC1cXHUwMEZGXS8sIHggPT4geC50b1VwcGVyQ2FzZSgpKSAvL3N1cHBvcnQgdW5pY29kZT9cbiAgICB9KVxuICAgIHJldHVybiB0aGlzXG4gIH0sXG4gIC8qKiAqL1xuICB0b0NhbWVsQ2FzZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZG9jcy5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICAgIHRlcm1zLmZvckVhY2goKHQsIGkpID0+IHtcbiAgICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgICB0LnRleHQgPSB0LnRleHQucmVwbGFjZSgvXiAqW2EtelxcdTAwQzAtXFx1MDBGRl0vLCB4ID0+IHgudG9VcHBlckNhc2UoKSkgLy9zdXBwb3J0IHVuaWNvZGU/XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgIT09IHRlcm1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICB0LnBvc3QgPSAnJ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXNcbiAgfSxcbn1cbiIsICIvLyBjYXNlIGxvZ2ljXG5jb25zdCBpc1RpdGxlQ2FzZSA9IChzdHIpID0+IC9eXFxwe0x1fVtcXHB7TGx9J1x1MjAxOV0vdS50ZXN0KHN0cikgfHwgL15cXHB7THV9JC91LnRlc3Qoc3RyKVxuY29uc3QgdG9UaXRsZUNhc2UgPSAoc3RyKSA9PiBzdHIucmVwbGFjZSgvXlxccHtMbH0vdSwgeCA9PiB4LnRvVXBwZXJDYXNlKCkpXG5jb25zdCB0b0xvd2VyQ2FzZSA9IChzdHIpID0+IHN0ci5yZXBsYWNlKC9eXFxwe0x1fS91LCB4ID0+IHgudG9Mb3dlckNhc2UoKSlcblxuLy8gc3BsaWNlIGFuIGFycmF5IGludG8gYW4gYXJyYXlcbmNvbnN0IHNwbGljZUFyciA9IChwYXJlbnQsIGluZGV4LCBjaGlsZCkgPT4ge1xuICAvLyB0YWcgdGhlbSBhcyBkaXJ0eVxuICBjaGlsZC5mb3JFYWNoKHRlcm0gPT4gdGVybS5kaXJ0eSA9IHRydWUpXG4gIGlmIChwYXJlbnQpIHtcbiAgICBsZXQgYXJncyA9IFtpbmRleCwgMF0uY29uY2F0KGNoaWxkKVxuICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocGFyZW50LCBhcmdzKVxuICB9XG4gIHJldHVybiBwYXJlbnRcbn1cblxuLy8gYWRkIGEgc3BhY2UgYXQgZW5kLCBpZiByZXF1aXJlZFxuY29uc3QgZW5kU3BhY2UgPSBmdW5jdGlvbiAodGVybXMpIHtcbiAgY29uc3QgaGFzU3BhY2UgPSAvICQvXG4gIGNvbnN0IGhhc0Rhc2ggPSAvWy1cdTIwMTNcdTIwMTRdL1xuICBsZXQgbGFzdFRlcm0gPSB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXVxuICBpZiAobGFzdFRlcm0gJiYgIWhhc1NwYWNlLnRlc3QobGFzdFRlcm0ucG9zdCkgJiYgIWhhc0Rhc2gudGVzdChsYXN0VGVybS5wb3N0KSkge1xuICAgIGxhc3RUZXJtLnBvc3QgKz0gJyAnXG4gIH1cbn1cblxuLy8gc2VudGVuY2UtZW5kaW5nIHB1bmN0dWF0aW9uIHNob3VsZCBtb3ZlIGluIGFwcGVuZFxuY29uc3QgbW92ZVB1bmN0ID0gKHNvdXJjZSwgZW5kLCBuZWVkbGUpID0+IHtcbiAgY29uc3QganVpY3kgPSAvWy0uPyEsOzopXHUyMDEzXHUyMDE0J1wiXS9nXG4gIGxldCB3YXNMYXN0ID0gc291cmNlW2VuZCAtIDFdXG4gIGlmICghd2FzTGFzdCkge1xuICAgIHJldHVyblxuICB9XG4gIGxldCBwb3N0ID0gd2FzTGFzdC5wb3N0XG4gIGlmIChqdWljeS50ZXN0KHBvc3QpKSB7XG4gICAgbGV0IHB1bmN0ID0gcG9zdC5tYXRjaChqdWljeSkuam9pbignJykgLy9ub3QgcGVyZmVjdFxuICAgIGxldCBsYXN0ID0gbmVlZGxlW25lZWRsZS5sZW5ndGggLSAxXVxuICAgIGxhc3QucG9zdCA9IHB1bmN0ICsgbGFzdC5wb3N0XG4gICAgLy8gcmVtb3ZlIGl0LCBmcm9tIHNvdXJjZVxuICAgIHdhc0xhc3QucG9zdCA9IHdhc0xhc3QucG9zdC5yZXBsYWNlKGp1aWN5LCAnJylcbiAgfVxufVxuXG5cbmNvbnN0IG1vdmVUaXRsZUNhc2UgPSBmdW5jdGlvbiAoaG9tZSwgc3RhcnQsIG5lZWRsZSkge1xuICBsZXQgZnJvbSA9IGhvbWVbc3RhcnRdXG4gIC8vIHNob3VsZCB3ZSBib3RoZXI/XG4gIGlmIChzdGFydCAhPT0gMCB8fCAhaXNUaXRsZUNhc2UoZnJvbS50ZXh0KSkge1xuICAgIHJldHVyblxuICB9XG4gIC8vIHRpdGxlY2FzZSBuZXcgZmlyc3QgdGVybVxuICBuZWVkbGVbMF0udGV4dCA9IHRvVGl0bGVDYXNlKG5lZWRsZVswXS50ZXh0KVxuICAvLyBzaG91bGQgd2UgdW4tdGl0bGVjYXNlIHRoZSBvbGQgd29yZD9cbiAgbGV0IG9sZCA9IGhvbWVbc3RhcnRdXG4gIGlmIChvbGQudGFncy5oYXMoJ1Byb3Blck5vdW4nKSB8fCBvbGQudGFncy5oYXMoJ0Fjcm9ueW0nKSkge1xuICAgIHJldHVyblxuICB9XG4gIGlmIChpc1RpdGxlQ2FzZShvbGQudGV4dCkgJiYgb2xkLnRleHQubGVuZ3RoID4gMSkge1xuICAgIG9sZC50ZXh0ID0gdG9Mb3dlckNhc2Uob2xkLnRleHQpXG4gIH1cbn1cblxuLy8gcHV0IHRoZXNlIHdvcmRzIGJlZm9yZSB0aGUgb3RoZXJzXG5jb25zdCBjbGVhblByZXBlbmQgPSBmdW5jdGlvbiAoaG9tZSwgcHRyLCBuZWVkbGUsIGRvY3VtZW50KSB7XG4gIGxldCBbbiwgc3RhcnQsIGVuZF0gPSBwdHJcbiAgLy8gaW50cm9kdWNlIHNwYWNlcyBhcHByb3ByaWF0ZWx5XG4gIGlmIChzdGFydCA9PT0gMCkge1xuICAgIC8vIGF0IHN0YXJ0IC0gbmVlZCBzcGFjZSBpbiBpbnNlcnRcbiAgICBlbmRTcGFjZShuZWVkbGUpXG4gIH0gZWxzZSBpZiAoZW5kID09PSBkb2N1bWVudFtuXS5sZW5ndGgpIHtcbiAgICAvLyBhdCBlbmQgLSBuZWVkIHNwYWNlIGluIGhvbWVcbiAgICBlbmRTcGFjZShuZWVkbGUpXG4gIH0gZWxzZSB7XG4gICAgLy8gaW4gbWlkZGxlIC0gbmVlZCBzcGFjZSBpbiBob21lIGFuZCBpbnNlcnRcbiAgICBlbmRTcGFjZShuZWVkbGUpXG4gICAgZW5kU3BhY2UoW2hvbWVbcHRyWzFdXV0pXG4gIH1cbiAgbW92ZVRpdGxlQ2FzZShob21lLCBzdGFydCwgbmVlZGxlKVxuICAvLyBtb3ZlUHVuY3QoaG9tZSwgZW5kLCBuZWVkbGUpXG4gIHNwbGljZUFycihob21lLCBzdGFydCwgbmVlZGxlKVxufVxuXG5jb25zdCBjbGVhbkFwcGVuZCA9IGZ1bmN0aW9uIChob21lLCBwdHIsIG5lZWRsZSwgZG9jdW1lbnQpIHtcbiAgbGV0IFtuLCAsIGVuZF0gPSBwdHJcbiAgbGV0IHRvdGFsID0gKGRvY3VtZW50W25dIHx8IFtdKS5sZW5ndGhcbiAgaWYgKGVuZCA8IHRvdGFsKSB7XG4gICAgLy8gYXJlIHdlIGluIHRoZSBtaWRkbGU/XG4gICAgLy8gYWRkIHRyYWlsaW5nIHNwYWNlIG9uIHNlbGZcbiAgICBtb3ZlUHVuY3QoaG9tZSwgZW5kLCBuZWVkbGUpXG4gICAgZW5kU3BhY2UobmVlZGxlKVxuICB9IGVsc2UgaWYgKHRvdGFsID09PSBlbmQpIHtcbiAgICAvLyBhcmUgd2UgYXQgdGhlIGVuZD9cbiAgICAvLyBhZGQgYSBzcGFjZSB0byBwcmVkZWNlc3NvclxuICAgIGVuZFNwYWNlKGhvbWUpXG4gICAgLy8gdmVyeSBlbmQsIG1vdmUgcGVyaW9kXG4gICAgbW92ZVB1bmN0KGhvbWUsIGVuZCwgbmVlZGxlKVxuICAgIC8vIGlzIHRoZXJlIGFub3RoZXIgc2VudGVuY2UgYWZ0ZXI/XG4gICAgaWYgKGRvY3VtZW50W24gKyAxXSkge1xuICAgICAgbmVlZGxlW25lZWRsZS5sZW5ndGggLSAxXS5wb3N0ICs9ICcgJ1xuICAgIH1cbiAgfVxuICBzcGxpY2VBcnIoaG9tZSwgcHRyWzJdLCBuZWVkbGUpXG4gIC8vIHNldCBuZXcgZW5kSWRcbiAgcHRyWzRdID0gbmVlZGxlW25lZWRsZS5sZW5ndGggLSAxXS5pZFxufVxuXG5leHBvcnQgeyBjbGVhblByZXBlbmQsIGNsZWFuQXBwZW5kLCBzcGxpY2VBcnIgfVxuIiwgIi8qXG51bmlxdWUgJiBvcmRlcmVkIHRlcm0gaWRzLCBiYXNlZCBvbiB0aW1lICYgdGVybSBpbmRleFxuXG5CYXNlIDM2IChudW1iZXJzK2FzY2lpKVxuICAzIGRpZ2l0IDQsNjAwXG4gIDIgZGlnaXQgMSwyMDBcbiAgMSBkaWdpdCAzNlxuXG4gIFRUVHxOTk58SUl8UlxuXG5UVFQgLT4gNDYgdGVybXMgc2luY2UgbG9hZFxuTk5OIC0+IDQ2IHRob3VzYW5kIHNlbnRlbmNlcyAoPjEgaW5mLWplc3QpXG5JSSAgLT4gMSwyMDAgd29yZHMgaW4gYSBzZW50ZW5jZSAobnV0cylcblIgICAtPiAxLTM2IHJhbmRvbSBudW1iZXIgXG5cbm5vdmVsczogXG4gIGF2ZyA4MCwwMDAgd29yZHNcbiAgICAxNSB3b3JkcyBwZXIgc2VudGVuY2VcbiAgNSwwMDAgc2VudGVuY2VzXG5cbkluZmluaXRlIEplc3Q6XG4gIDM2LDI0NyBzZW50ZW5jZXNcbiAgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9sb25nZXN0X25vdmVsc1xuXG5jb2xsaXNpb25zIGFyZSBtb3JlLWxpa2VseSBhZnRlclxuICAgIDQ2IHNlY29uZHMgaGF2ZSBwYXNzZWQsXG4gIGFuZCBcbiAgICBhZnRlciA0Ni10aG91c2FuZCBzZW50ZW5jZXNcblxuKi9cbmxldCBpbmRleCA9IDBcblxuY29uc3QgcGFkMyA9IChzdHIpID0+IHtcbiAgc3RyID0gc3RyLmxlbmd0aCA8IDMgPyAnMCcgKyBzdHIgOiBzdHJcbiAgcmV0dXJuIHN0ci5sZW5ndGggPCAzID8gJzAnICsgc3RyIDogc3RyXG59XG5cbmNvbnN0IHRvSWQgPSBmdW5jdGlvbiAodGVybSkge1xuICBsZXQgW24sIGldID0gdGVybS5pbmRleCB8fCBbMCwgMF1cbiAgaW5kZXggKz0gMVxuXG4gIC8vZG9uJ3Qgb3ZlcmZsb3cgaW5kZXhcbiAgaW5kZXggPSBpbmRleCA+IDQ2NjU1ID8gMCA6IGluZGV4XG4gIC8vZG9uJ3Qgb3ZlcmZsb3cgc2VudGVuY2VzXG4gIG4gPSBuID4gNDY2NTUgPyAwIDogblxuICAvLyAvL2Rvbid0IG92ZXJmbG93IHRlcm1zXG4gIGkgPSBpID4gMTI5NCA/IDAgOiBpXG5cbiAgLy8gMyBkaWdpdHMgZm9yIHRpbWVcbiAgbGV0IGlkID0gcGFkMyhpbmRleC50b1N0cmluZygzNikpXG4gIC8vIDMgZGlnaXQgIGZvciBzZW50ZW5jZSBpbmRleCAoNDZrKVxuICBpZCArPSBwYWQzKG4udG9TdHJpbmcoMzYpKVxuXG4gIC8vIDEgZGlnaXQgZm9yIHRlcm0gaW5kZXggKDM2KVxuICBsZXQgdHggPSBpLnRvU3RyaW5nKDM2KVxuICB0eCA9IHR4Lmxlbmd0aCA8IDIgPyAnMCcgKyB0eCA6IHR4IC8vcGFkMlxuICBpZCArPSB0eFxuXG4gIC8vIDEgZGlnaXQgcmFuZG9tIG51bWJlclxuICBsZXQgciA9IHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAzNiwgMTApXG4gIGlkICs9IChyKS50b1N0cmluZygzNilcblxuICByZXR1cm4gdGVybS5ub3JtYWwgKyAnfCcgKyBpZC50b1VwcGVyQ2FzZSgpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHRvSWRcblxuLy8gc2V0SW50ZXJ2YWwoKCkgPT4gY29uc29sZS5sb2codG9JZCg0LCAxMikpLCAxMDApXG4iLCAiaW1wb3J0IHsgY2xlYW5BcHBlbmQsIGNsZWFuUHJlcGVuZCB9IGZyb20gJy4vbGliL2luc2VydC5qcydcbmltcG9ydCB1dWlkIGZyb20gJy4uL2NvbXB1dGUvdXVpZC5qcydcbi8vIGFyZSB3ZSBpbnNlcnRpbmcgaW5zaWRlIGEgY29udHJhY3Rpb24/XG4vLyBleHBhbmQgaXQgZmlyc3RcbmNvbnN0IGV4cGFuZCA9IGZ1bmN0aW9uIChtKSB7XG4gIGlmIChtLmhhcygnQGhhc0NvbnRyYWN0aW9uJykgJiYgdHlwZW9mIG0uY29udHJhY3Rpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8mJiBtLmFmdGVyKCdeLicpLmhhcygnQGhhc0NvbnRyYWN0aW9uJylcbiAgICBsZXQgbW9yZSA9IG0uZ3JvdygnQGhhc0NvbnRyYWN0aW9uJylcbiAgICBtb3JlLmNvbnRyYWN0aW9ucygpLmV4cGFuZCgpXG4gIH1cbn1cblxuY29uc3QgaXNBcnJheSA9IGFyciA9PiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuXG4vLyBzZXQgbmV3IGlkcyBmb3IgZWFjaCB0ZXJtc1xuY29uc3QgYWRkSWRzID0gZnVuY3Rpb24gKHRlcm1zKSB7XG4gIHRlcm1zID0gdGVybXMubWFwKHRlcm0gPT4ge1xuICAgIHRlcm0uaWQgPSB1dWlkKHRlcm0pXG4gICAgcmV0dXJuIHRlcm1cbiAgfSlcbiAgcmV0dXJuIHRlcm1zXG59XG5cbmNvbnN0IGdldFRlcm1zID0gZnVuY3Rpb24gKGlucHV0LCB3b3JsZCkge1xuICBjb25zdCB7IG1ldGhvZHMgfSA9IHdvcmxkXG4gIC8vIGNyZWF0ZSBvdXIgdGVybXMgZnJvbSBhIHN0cmluZ1xuICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBtZXRob2RzLm9uZS50b2tlbml6ZS5mcm9tU3RyaW5nKGlucHV0LCB3b3JsZClbMF0gLy9hc3N1bWUgb25lIHNlbnRlbmNlXG4gIH1cbiAgLy9hbGxvdyBhIHZpZXcgb2JqZWN0XG4gIGlmICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0LmlzVmlldykge1xuICAgIHJldHVybiBpbnB1dC5jbG9uZSgpLmRvY3NbMF0gfHwgW10gLy9hc3N1bWUgb25lIHNlbnRlbmNlXG4gIH1cbiAgLy9hbGxvdyBhbiBhcnJheSBvZiB0ZXJtcywgdG9vXG4gIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgIHJldHVybiBpc0FycmF5KGlucHV0WzBdKSA/IGlucHV0WzBdIDogaW5wdXRcbiAgfVxuICByZXR1cm4gW11cbn1cblxuY29uc3QgaW5zZXJ0ID0gZnVuY3Rpb24gKGlucHV0LCB2aWV3LCBwcmVwZW5kKSB7XG4gIGNvbnN0IHsgZG9jdW1lbnQsIHdvcmxkIH0gPSB2aWV3XG4gIHZpZXcudW5jYWNoZSgpXG4gIC8vIGluc2VydCB3b3JkcyBhdCBlbmQgb2YgZWFjaCBkb2NcbiAgbGV0IHB0cnMgPSB2aWV3LmZ1bGxQb2ludGVyXG4gIGxldCBzZWxmUHRycyA9IHZpZXcuZnVsbFBvaW50ZXJcbiAgdmlldy5mb3JFYWNoKChtLCBpKSA9PiB7XG4gICAgbGV0IHB0ciA9IG0uZnVsbFBvaW50ZXJbMF1cbiAgICBsZXQgW25dID0gcHRyXG4gICAgLy8gYWRkLWluIHRoZSB3b3Jkc1xuICAgIGxldCBob21lID0gZG9jdW1lbnRbbl1cbiAgICBsZXQgdGVybXMgPSBnZXRUZXJtcyhpbnB1dCwgd29ybGQpXG4gICAgLy8gYXJlIHdlIGluc2VydGluZyBub3RoaW5nP1xuICAgIGlmICh0ZXJtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0ZXJtcyA9IGFkZElkcyh0ZXJtcylcbiAgICBpZiAocHJlcGVuZCkge1xuICAgICAgZXhwYW5kKHZpZXcudXBkYXRlKFtwdHJdKS5maXJzdFRlcm0oKSlcbiAgICAgIGNsZWFuUHJlcGVuZChob21lLCBwdHIsIHRlcm1zLCBkb2N1bWVudClcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwYW5kKHZpZXcudXBkYXRlKFtwdHJdKS5sYXN0VGVybSgpKVxuICAgICAgY2xlYW5BcHBlbmQoaG9tZSwgcHRyLCB0ZXJtcywgZG9jdW1lbnQpXG4gICAgfVxuICAgIC8vIGhhcmRlbiB0aGUgcG9pbnRlclxuICAgIGlmIChkb2N1bWVudFtuXSAmJiBkb2N1bWVudFtuXVtwdHJbMV1dKSB7XG4gICAgICBwdHJbM10gPSBkb2N1bWVudFtuXVtwdHJbMV1dLmlkXG4gICAgfVxuICAgIC8vIGNoYW5nZSBzZWxmIGJhY2t3YXJkcyBieSBsZW5cbiAgICBzZWxmUHRyc1tpXSA9IHB0clxuICAgIC8vIGV4dGVuZCB0aGUgcG9pbnRlclxuICAgIHB0clsyXSArPSB0ZXJtcy5sZW5ndGhcbiAgICBwdHJzW2ldID0gcHRyXG4gIH0pXG4gIGxldCBkb2MgPSB2aWV3LnRvVmlldyhwdHJzKVxuICAvLyBzaGlmdCBvdXIgc2VsZiBwb2ludGVyLCBpZiBuZWNlc3NhcnlcbiAgdmlldy5wdHJzID0gc2VsZlB0cnNcbiAgLy8gdHJ5IHRvIHRhZyB0aGVtLCB0b29cbiAgZG9jLmNvbXB1dGUoWydpZCcsICdpbmRleCcsICdmcmVlemUnLCAnbGV4aWNvbiddKVxuICBpZiAoZG9jLndvcmxkLmNvbXB1dGUucHJlVGFnZ2VyKSB7XG4gICAgZG9jLmNvbXB1dGUoJ3ByZVRhZ2dlcicpXG4gIH1cbiAgZG9jLmNvbXB1dGUoJ3VuZnJlZXplJylcbiAgcmV0dXJuIGRvY1xufVxuXG5jb25zdCBmbnMgPSB7XG4gIGluc2VydEFmdGVyOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5zZXJ0KGlucHV0LCB0aGlzLCBmYWxzZSlcbiAgfSxcbiAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5zZXJ0KGlucHV0LCB0aGlzLCB0cnVlKVxuICB9LFxufVxuZm5zLmFwcGVuZCA9IGZucy5pbnNlcnRBZnRlclxuZm5zLnByZXBlbmQgPSBmbnMuaW5zZXJ0QmVmb3JlXG5mbnMuaW5zZXJ0ID0gZm5zLmluc2VydEFmdGVyXG5cbmV4cG9ydCBkZWZhdWx0IGZuc1xuIiwgImNvbnN0IGRvbGxhclN0dWIgPSAvXFwkWzAtOWEtel0rL2dcbmNvbnN0IGZucyA9IHt9XG5cbi8vIGNhc2UgbG9naWNcbmNvbnN0IGlzVGl0bGVDYXNlID0gKHN0cikgPT4gL15cXHB7THV9W1xccHtMbH0nXHUyMDE5XS91LnRlc3Qoc3RyKSB8fCAvXlxccHtMdX0kL3UudGVzdChzdHIpXG5jb25zdCB0b1RpdGxlQ2FzZSA9IChzdHIpID0+IHN0ci5yZXBsYWNlKC9eXFxwe0xsfS91LCB4ID0+IHgudG9VcHBlckNhc2UoKSlcbmNvbnN0IHRvTG93ZXJDYXNlID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoL15cXHB7THV9L3UsIHggPT4geC50b0xvd2VyQ2FzZSgpKVxuXG4vLyBkb2MucmVwbGFjZSgnZm9vJywgKG0pPT57fSlcbmNvbnN0IHJlcGxhY2VCeUZuID0gZnVuY3Rpb24gKG1haW4sIGZuLCBrZWVwKSB7XG4gIG1haW4uZm9yRWFjaChtID0+IHtcbiAgICBsZXQgb3V0ID0gZm4obSlcbiAgICBtLnJlcGxhY2VXaXRoKG91dCwga2VlcClcbiAgfSlcbiAgcmV0dXJuIG1haW5cbn1cblxuLy8gc3VwcG9ydCAnZm9vICQwJyByZXBsYWNlbWVudHNcbmNvbnN0IHN1YkRvbGxhclNpZ24gPSBmdW5jdGlvbiAoaW5wdXQsIG1haW4pIHtcbiAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gaW5wdXRcbiAgfVxuICBsZXQgZ3JvdXBzID0gbWFpbi5ncm91cHMoKVxuICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoZG9sbGFyU3R1YiwgYSA9PiB7XG4gICAgbGV0IG51bSA9IGEucmVwbGFjZSgvXFwkLywgJycpXG4gICAgaWYgKGdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShudW0pKSB7XG4gICAgICByZXR1cm4gZ3JvdXBzW251bV0udGV4dCgpXG4gICAgfVxuICAgIHJldHVybiBhXG4gIH0pXG4gIHJldHVybiBpbnB1dFxufVxuXG5mbnMucmVwbGFjZVdpdGggPSBmdW5jdGlvbiAoaW5wdXQsIGtlZXAgPSB7fSkge1xuICBsZXQgcHRycyA9IHRoaXMuZnVsbFBvaW50ZXJcbiAgbGV0IG1haW4gPSB0aGlzXG4gIHRoaXMudW5jYWNoZSgpXG4gIGlmICh0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gcmVwbGFjZUJ5Rm4obWFpbiwgaW5wdXQsIGtlZXApXG4gIH1cbiAgbGV0IHRlcm1zID0gbWFpbi5kb2NzWzBdXG4gIGlmICghdGVybXMpIHJldHVybiBtYWluXG4gIGxldCBpc09yaWdpbmFsUG9zc2Vzc2l2ZSA9IGtlZXAucG9zc2Vzc2l2ZXMgJiYgdGVybXNbdGVybXMubGVuZ3RoIC0gMV0udGFncy5oYXMoJ1Bvc3Nlc3NpdmUnKVxuICBsZXQgaXNPcmlnaW5hbFRpdGxlQ2FzZSA9IGtlZXAuY2FzZSAmJiBpc1RpdGxlQ2FzZSh0ZXJtc1swXS50ZXh0KVxuICAvLyBzdXBwb3J0ICdmb28gJDAnIHJlcGxhY2VtZW50c1xuICBpbnB1dCA9IHN1YkRvbGxhclNpZ24oaW5wdXQsIG1haW4pXG5cbiAgbGV0IG9yaWdpbmFsID0gdGhpcy51cGRhdGUocHRycylcbiAgLy8gc29mdGVuLXVwIHBvaW50ZXJcbiAgcHRycyA9IHB0cnMubWFwKHB0ciA9PiBwdHIuc2xpY2UoMCwgMykpXG4gIC8vIG9yaWdpbmFsLmZyZWV6ZSgpXG4gIGxldCBvbGRUYWdzID0gKG9yaWdpbmFsLmRvY3NbMF0gfHwgW10pLm1hcCh0ZXJtID0+IEFycmF5LmZyb20odGVybS50YWdzKSlcbiAgbGV0IG9yaWdpbmFsUHJlID0gb3JpZ2luYWwuZG9jc1swXVswXS5wcmVcbiAgbGV0IG9yaWdpbmFsUG9zdCA9IG9yaWdpbmFsLmRvY3NbMF1bb3JpZ2luYWwuZG9jc1swXS5sZW5ndGggLSAxXS5wb3N0XG4gIC8vIHNsaWRlIHRoaXMgaW5cbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICBpbnB1dCA9IHRoaXMuZnJvbVRleHQoaW5wdXQpLmNvbXB1dGUoJ2lkJylcbiAgfVxuICBtYWluLmluc2VydEFmdGVyKGlucHV0KVxuICAvLyBhcmUgd2UgcmVwbGFjaW5nIHBhcnQgb2YgYSBjb250cmFjdGlvbj9cbiAgaWYgKG9yaWdpbmFsLmhhcygnQGhhc0NvbnRyYWN0aW9uJykgJiYgbWFpbi5jb250cmFjdGlvbnMpIHtcbiAgICBsZXQgbW9yZSA9IG1haW4uZ3JvdygnQGhhc0NvbnRyYWN0aW9uKycpXG4gICAgbW9yZS5jb250cmFjdGlvbnMoKS5leHBhbmQoKVxuICB9XG4gIC8vIGRlbGV0ZSB0aGUgb3JpZ2luYWwgdGVybXNcbiAgbWFpbi5kZWxldGUob3JpZ2luYWwpIC8vc2NpZW5jZS5cblxuICAvLyBrZWVwIFwiSm9obidzXCJcbiAgaWYgKGlzT3JpZ2luYWxQb3NzZXNzaXZlKSB7XG4gICAgbGV0IHRtcCA9IG1haW4uZG9jc1swXVxuICAgIGxldCB0ZXJtID0gdG1wW3RtcC5sZW5ndGggLSAxXVxuICAgIGlmICghdGVybS50YWdzLmhhcygnUG9zc2Vzc2l2ZScpKSB7XG4gICAgICB0ZXJtLnRleHQgKz0gXCInc1wiXG4gICAgICB0ZXJtLm5vcm1hbCArPSBcIidzXCJcbiAgICAgIHRlcm0udGFncy5hZGQoJ1Bvc3Nlc3NpdmUnKVxuICAgIH1cbiAgfVxuXG4gIC8vIHRyeSB0byBrZWVwIHNvbWUgcHJlLXB1bmN0dWF0aW9uXG4gIGlmIChvcmlnaW5hbFByZSAmJiBtYWluLmRvY3NbMF0pIHtcbiAgICBtYWluLmRvY3NbMF1bMF0ucHJlID0gb3JpZ2luYWxQcmVcbiAgfVxuICAvLyB0cnkgdG8ga2VlcCBhbnkgcG9zdC1wdW5jdHVhdGlvblxuICBpZiAob3JpZ2luYWxQb3N0ICYmIG1haW4uZG9jc1swXSkge1xuICAgIGxldCBsYXN0T25lID0gbWFpbi5kb2NzWzBdW21haW4uZG9jc1swXS5sZW5ndGggLSAxXVxuICAgIGlmICghbGFzdE9uZS5wb3N0LnRyaW0oKSkge1xuICAgICAgbGFzdE9uZS5wb3N0ID0gb3JpZ2luYWxQb3N0XG4gICAgfVxuICB9XG5cbiAgLy8gd2hhdCBzaG91bGQgd2UgcmV0dXJuP1xuICBsZXQgbSA9IG1haW4udG9WaWV3KHB0cnMpLmNvbXB1dGUoWydpbmRleCcsICdmcmVlemUnLCAnbGV4aWNvbiddKVxuICBpZiAobS53b3JsZC5jb21wdXRlLnByZVRhZ2dlcikge1xuICAgIG0uY29tcHV0ZSgncHJlVGFnZ2VyJylcbiAgfVxuICBtLmNvbXB1dGUoJ3VuZnJlZXplJylcbiAgLy8gcmVwbGFjZSBhbnkgb2xkIHRhZ3NcbiAgaWYgKGtlZXAudGFncykge1xuICAgIG0udGVybXMoKS5mb3JFYWNoKCh0ZXJtLCBpKSA9PiB7XG4gICAgICB0ZXJtLnRhZ1NhZmUob2xkVGFnc1tpXSlcbiAgICB9KVxuICB9XG5cbiAgaWYgKCFtLmRvY3NbMF0gfHwgIW0uZG9jc1swXVswXSkgcmV0dXJuIG1cblxuICAvLyB0cnkgdG8gY28tZXJjZSBjYXNlLCB0b29cbiAgaWYgKGtlZXAuY2FzZSkge1xuICAgIGxldCB0cmFuc2Zvcm1DYXNlID0gaXNPcmlnaW5hbFRpdGxlQ2FzZSA/IHRvVGl0bGVDYXNlIDogdG9Mb3dlckNhc2VcbiAgICBtLmRvY3NbMF1bMF0udGV4dCA9IHRyYW5zZm9ybUNhc2UobS5kb2NzWzBdWzBdLnRleHQpXG4gIH1cblxuICAvLyBjb25zb2xlLmxvZyhpbnB1dC5kb2NzWzBdKVxuICAvLyBsZXQgcmVncyA9IGlucHV0LmRvY3NbMF0ubWFwKHQgPT4ge1xuICAvLyAgIHJldHVybiB7IGlkOiB0LmlkLCBvcHRpb25hbDogdHJ1ZSB9XG4gIC8vIH0pXG4gIC8vIG0uYWZ0ZXIoJyhhfGhveSknKS5kZWJ1ZygpXG4gIC8vIG0uZ3Jvd1JpZ2h0KCcoYXxob3kpJykuZGVidWcoKVxuICAvLyBjb25zb2xlLmxvZyhtKVxuICByZXR1cm4gbVxufVxuXG5mbnMucmVwbGFjZSA9IGZ1bmN0aW9uIChtYXRjaCwgaW5wdXQsIGtlZXApIHtcbiAgaWYgKG1hdGNoICYmICFpbnB1dCkge1xuICAgIHJldHVybiB0aGlzLnJlcGxhY2VXaXRoKG1hdGNoLCBrZWVwKVxuICB9XG4gIGxldCBtID0gdGhpcy5tYXRjaChtYXRjaClcbiAgaWYgKCFtLmZvdW5kKSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICB0aGlzLnNvZnRlbigpXG4gIHJldHVybiBtLnJlcGxhY2VXaXRoKGlucHV0LCBrZWVwKVxufVxuZXhwb3J0IGRlZmF1bHQgZm5zXG4iLCAiXG4vLyB0cmFuc2ZlciBzZW50ZW5jZS1lbmRpbmcgcHVuY3R1YXRpb25cbmNvbnN0IHJlcGFpclB1bmN0ID0gZnVuY3Rpb24gKHRlcm1zLCBsZW4pIHtcbiAgbGV0IGxhc3QgPSB0ZXJtcy5sZW5ndGggLSAxXG4gIGxldCBmcm9tID0gdGVybXNbbGFzdF1cbiAgbGV0IHRvID0gdGVybXNbbGFzdCAtIGxlbl1cbiAgaWYgKHRvICYmIGZyb20pIHtcbiAgICB0by5wb3N0ICs9IGZyb20ucG9zdCAvL3RoaXMgaXNuJ3QgcGVyZmVjdC5cbiAgICB0by5wb3N0ID0gdG8ucG9zdC5yZXBsYWNlKC8gKyhbLj8hLDs6XSkvLCAnJDEnKVxuICAgIC8vIGRvbid0IGFsbG93IGFueSBzaWxseSBwdW5jdHVhdGlvbiBvdXRjb21lcyBsaWtlICcsISdcbiAgICB0by5wb3N0ID0gdG8ucG9zdC5yZXBsYWNlKC9bLDs6XSsoWy4/IV0pLywgJyQxJylcbiAgfVxufVxuXG4vLyByZW1vdmUgdGVybXMgZnJvbSBkb2N1bWVudCBqc29uXG5jb25zdCBwbHVja091dCA9IGZ1bmN0aW9uIChkb2N1bWVudCwgbm90cykge1xuICBub3RzLmZvckVhY2gocHRyID0+IHtcbiAgICBsZXQgW24sIHN0YXJ0LCBlbmRdID0gcHRyXG4gICAgbGV0IGxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgaWYgKCFkb2N1bWVudFtuXSkge1xuICAgICAgcmV0dXJuIC8vIHdlaXJkIVxuICAgIH1cbiAgICBpZiAoZW5kID09PSBkb2N1bWVudFtuXS5sZW5ndGggJiYgZW5kID4gMSkge1xuICAgICAgcmVwYWlyUHVuY3QoZG9jdW1lbnRbbl0sIGxlbilcbiAgICB9XG4gICAgZG9jdW1lbnRbbl0uc3BsaWNlKHN0YXJ0LCBsZW4pIC8vIHJlcGxhY2VzIGxlbiB0ZXJtcyBhdCBpbmRleCBzdGFydFxuICB9KVxuICAvLyByZW1vdmUgYW55IG5vdy1lbXB0eSBzZW50ZW5jZXNcbiAgLy8gKGZvcmVhY2ggKyBzcGxpY2UgPSAnbXV0YWJsZSBmaWx0ZXInKVxuICBmb3IgKGxldCBpID0gZG9jdW1lbnQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICBpZiAoZG9jdW1lbnRbaV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICBkb2N1bWVudC5zcGxpY2UoaSwgMSlcbiAgICAgIC8vIHJlbW92ZSBhbnkgdHJhaWxpbmcgd2hpdGVzcGFjZSBiZWZvcmUgb3VyIHJlbW92ZWQgc2VudGVuY2VcbiAgICAgIGlmIChpID09PSBkb2N1bWVudC5sZW5ndGggJiYgZG9jdW1lbnRbaSAtIDFdKSB7XG4gICAgICAgIGxldCB0ZXJtcyA9IGRvY3VtZW50W2kgLSAxXVxuICAgICAgICBsZXQgbGFzdFRlcm0gPSB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXVxuICAgICAgICBpZiAobGFzdFRlcm0pIHtcbiAgICAgICAgICBsYXN0VGVybS5wb3N0ID0gbGFzdFRlcm0ucG9zdC50cmltRW5kKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gcmVwYWlyIGFueSBkb3duc3RyZWFtIGluZGV4ZXNcbiAgICAgIC8vIGZvciAobGV0IGsgPSBpOyBrIDwgZG9jdW1lbnQubGVuZ3RoOyBrICs9IDEpIHtcbiAgICAgIC8vICAgZG9jdW1lbnRba10uZm9yRWFjaCh0ZXJtID0+IHRlcm0uaW5kZXhbMF0gLT0gMSlcbiAgICAgIC8vIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWNrT3V0IiwgImltcG9ydCBwbHVja091dFRlcm0gZnJvbSAnLi9saWIvcmVtb3ZlLmpzJ1xuXG5jb25zdCBmaXhQb2ludGVycyA9IGZ1bmN0aW9uIChwdHJzLCBnb25lUHRycykge1xuICBwdHJzID0gcHRycy5tYXAocHRyID0+IHtcbiAgICBsZXQgW25dID0gcHRyXG4gICAgaWYgKCFnb25lUHRyc1tuXSkge1xuICAgICAgcmV0dXJuIHB0clxuICAgIH1cbiAgICBnb25lUHRyc1tuXS5mb3JFYWNoKG5vID0+IHtcbiAgICAgIGxldCBsZW4gPSBub1syXSAtIG5vWzFdXG4gICAgICAvLyBkb2VzIGl0IGVmZmVjdCBvdXIgcG9pbnRlcj9cbiAgICAgIGlmIChwdHJbMV0gPD0gbm9bMV0gJiYgcHRyWzJdID49IG5vWzJdKSB7XG4gICAgICAgIHB0clsyXSAtPSBsZW5cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBwdHJcbiAgfSlcblxuICAvLyBkZWNyZW1lbnQgYW55IHBvaW50ZXJzIGFmdGVyIGEgbm93LWVtcHR5IHBvaW50ZXJcbiAgcHRycy5mb3JFYWNoKChwdHIsIGkpID0+IHtcbiAgICAvLyBpcyB0aGUgcG9pbnRlciBub3cgZW1wdHk/XG4gICAgaWYgKHB0clsxXSA9PT0gMCAmJiBwdHJbMl0gPT0gMCkge1xuICAgICAgLy8gZ28gZG93biBzdWJzZXF1ZW50IHBvaW50ZXJzXG4gICAgICBmb3IgKGxldCBuID0gaSArIDE7IG4gPCBwdHJzLmxlbmd0aDsgbiArPSAxKSB7XG4gICAgICAgIHB0cnNbbl1bMF0gLT0gMVxuICAgICAgICBpZiAocHRyc1tuXVswXSA8IDApIHtcbiAgICAgICAgICBwdHJzW25dWzBdID0gMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KVxuICAvLyByZW1vdmUgYW55IG5vdy1lbXB0eSBwb2ludGVyc1xuICBwdHJzID0gcHRycy5maWx0ZXIocHRyID0+IHB0clsyXSAtIHB0clsxXSA+IDApXG5cbiAgLy8gcmVtb3ZlIG9sZCBoYXJkLXBvaW50ZXJzXG4gIHB0cnMgPSBwdHJzLm1hcCgocHRyKSA9PiB7XG4gICAgcHRyWzNdID0gbnVsbFxuICAgIHB0cls0XSA9IG51bGxcbiAgICByZXR1cm4gcHRyXG4gIH0pXG4gIHJldHVybiBwdHJzXG59XG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiAqL1xuICByZW1vdmU6IGZ1bmN0aW9uIChyZWcpIHtcbiAgICBjb25zdCB7IGluZGV4TiB9ID0gdGhpcy5tZXRob2RzLm9uZS5wb2ludGVyXG4gICAgdGhpcy51bmNhY2hlKClcbiAgICAvLyB0d28gbW9kZXM6XG4gICAgLy8gIC0gYS4gcmVtb3ZlIHNlbGYsIGZyb20gZnVsbCBwYXJlbnRcbiAgICBsZXQgc2VsZiA9IHRoaXMuYWxsKClcbiAgICBsZXQgbm90ID0gdGhpc1xuICAgIC8vICAtIGIuIHJlbW92ZSBhIG1hdGNoLCBmcm9tIHNlbGZcbiAgICBpZiAocmVnKSB7XG4gICAgICBzZWxmID0gdGhpc1xuICAgICAgbm90ID0gdGhpcy5tYXRjaChyZWcpXG4gICAgfVxuICAgIGxldCBpc0Z1bGwgPSAhc2VsZi5wdHJzXG4gICAgLy8gaXMgaXQgcGFydCBvZiBhIGNvbnRyYWN0aW9uP1xuICAgIGlmIChub3QuaGFzKCdAaGFzQ29udHJhY3Rpb24nKSAmJiBub3QuY29udHJhY3Rpb25zKSB7XG4gICAgICBsZXQgbW9yZSA9IG5vdC5ncm93KCdAaGFzQ29udHJhY3Rpb24nKVxuICAgICAgbW9yZS5jb250cmFjdGlvbnMoKS5leHBhbmQoKVxuICAgIH1cblxuICAgIGxldCBwdHJzID0gc2VsZi5mdWxsUG9pbnRlclxuICAgIGxldCBub3RzID0gbm90LmZ1bGxQb2ludGVyLnJldmVyc2UoKVxuICAgIC8vIHJlbW92ZSB0aGVtIGZyb20gdGhlIGFjdHVhbCBkb2N1bWVudClcbiAgICBsZXQgZG9jdW1lbnQgPSBwbHVja091dFRlcm0odGhpcy5kb2N1bWVudCwgbm90cylcbiAgICAvLyByZXBhaXIgb3VyIHBvaW50ZXJzXG4gICAgbGV0IGdvbmVQdHJzID0gaW5kZXhOKG5vdHMpXG4gICAgcHRycyA9IGZpeFBvaW50ZXJzKHB0cnMsIGdvbmVQdHJzKVxuICAgIC8vIGNsZWFuIHVwIG91ciBvcmlnaW5hbCBpbnB1dHNcbiAgICBzZWxmLnB0cnMgPSBwdHJzXG4gICAgc2VsZi5kb2N1bWVudCA9IGRvY3VtZW50XG4gICAgc2VsZi5jb21wdXRlKCdpbmRleCcpXG4gICAgLy8gaWYgd2Ugc3RhcnRlZCB6b29tZWQtb3V0LCB0cnkgdG8gZW5kIHpvb21lZC1vdXRcbiAgICBpZiAoaXNGdWxsKSB7XG4gICAgICBzZWxmLnB0cnMgPSB1bmRlZmluZWRcbiAgICB9XG4gICAgaWYgKCFyZWcpIHtcbiAgICAgIHRoaXMucHRycyA9IFtdXG4gICAgICByZXR1cm4gc2VsZi5ub25lKClcbiAgICB9XG4gICAgbGV0IHJlcyA9IHNlbGYudG9WaWV3KHB0cnMpIC8vcmV0dXJuIG5ldyBkb2N1bWVudFxuICAgIHJldHVybiByZXNcbiAgfSxcbn1cblxuLy8gYWxpYXNlc1xubWV0aG9kcy5kZWxldGUgPSBtZXRob2RzLnJlbW92ZVxuZXhwb3J0IGRlZmF1bHQgbWV0aG9kc1xuIiwgImNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiBhZGQgdGhpcyBwdW5jdHVhdGlvbiBvciB3aGl0ZXNwYWNlIGJlZm9yZSBlYWNoIG1hdGNoOiAqL1xuICBwcmU6IGZ1bmN0aW9uIChzdHIsIGNvbmNhdCkge1xuICAgIGlmIChzdHIgPT09IHVuZGVmaW5lZCAmJiB0aGlzLmZvdW5kKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb2NzWzBdWzBdLnByZVxuICAgIH1cbiAgICB0aGlzLmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgICBsZXQgdGVybSA9IHRlcm1zWzBdXG4gICAgICBpZiAoY29uY2F0ID09PSB0cnVlKSB7XG4gICAgICAgIHRlcm0ucHJlICs9IHN0clxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGVybS5wcmUgPSBzdHJcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiB0aGlzXG4gIH0sXG5cbiAgLyoqIGFkZCB0aGlzIHB1bmN0dWF0aW9uIG9yIHdoaXRlc3BhY2UgYWZ0ZXIgZWFjaCBtYXRjaDogKi9cbiAgcG9zdDogZnVuY3Rpb24gKHN0ciwgY29uY2F0KSB7XG4gICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgbGFzdCA9IHRoaXMuZG9jc1t0aGlzLmRvY3MubGVuZ3RoIC0gMV1cbiAgICAgIHJldHVybiBsYXN0W2xhc3QubGVuZ3RoIC0gMV0ucG9zdFxuICAgIH1cbiAgICB0aGlzLmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgICBsZXQgdGVybSA9IHRlcm1zW3Rlcm1zLmxlbmd0aCAtIDFdXG4gICAgICBpZiAoY29uY2F0ID09PSB0cnVlKSB7XG4gICAgICAgIHRlcm0ucG9zdCArPSBzdHJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRlcm0ucG9zdCA9IHN0clxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXNcbiAgfSxcblxuICAvKiogcmVtb3ZlIHdoaXRlc3BhY2UgZnJvbSBzdGFydC9lbmQgKi9cbiAgdHJpbTogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5mb3VuZCkge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgbGV0IGRvY3MgPSB0aGlzLmRvY3NcbiAgICBsZXQgc3RhcnQgPSBkb2NzWzBdWzBdXG4gICAgc3RhcnQucHJlID0gc3RhcnQucHJlLnRyaW1TdGFydCgpXG4gICAgbGV0IGxhc3QgPSBkb2NzW2RvY3MubGVuZ3RoIC0gMV1cbiAgICBsZXQgZW5kID0gbGFzdFtsYXN0Lmxlbmd0aCAtIDFdXG4gICAgZW5kLnBvc3QgPSBlbmQucG9zdC50cmltRW5kKClcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiBjb25uZWN0IHdvcmRzIHdpdGggaHlwaGVuLCBhbmQgcmVtb3ZlIHdoaXRlc3BhY2UgKi9cbiAgaHlwaGVuYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kb2NzLmZvckVhY2godGVybXMgPT4ge1xuICAgICAgLy9yZW1vdmUgd2hpdGVzcGFjZVxuICAgICAgdGVybXMuZm9yRWFjaCgodCwgaSkgPT4ge1xuICAgICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICAgIHQucHJlID0gJydcbiAgICAgICAgfVxuICAgICAgICBpZiAodGVybXNbaSArIDFdKSB7XG4gICAgICAgICAgdC5wb3N0ID0gJy0nXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiByZW1vdmUgaHlwaGVucyBiZXR3ZWVuIHdvcmRzLCBhbmQgc2V0IHdoaXRlc3BhY2UgKi9cbiAgZGVoeXBoZW5hdGU6IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBoYXNIeXBoZW4gPSAvWy1cdTIwMTNcdTIwMTRdL1xuICAgIHRoaXMuZG9jcy5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICAgIC8vcmVtb3ZlIHdoaXRlc3BhY2VcbiAgICAgIHRlcm1zLmZvckVhY2godCA9PiB7XG4gICAgICAgIGlmIChoYXNIeXBoZW4udGVzdCh0LnBvc3QpKSB7XG4gICAgICAgICAgdC5wb3N0ID0gJyAnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiBhZGQgcXVvdGF0aW9ucyBhcm91bmQgdGhlc2UgbWF0Y2hlcyAqL1xuICB0b1F1b3RhdGlvbnM6IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgc3RhcnQgPSBzdGFydCB8fCBgXCJgXG4gICAgZW5kID0gZW5kIHx8IGBcImBcbiAgICB0aGlzLmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgICB0ZXJtc1swXS5wcmUgPSBzdGFydCArIHRlcm1zWzBdLnByZVxuICAgICAgbGV0IGxhc3QgPSB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXVxuICAgICAgbGFzdC5wb3N0ID0gZW5kICsgbGFzdC5wb3N0XG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiBhZGQgYnJhY2tldHMgYXJvdW5kIHRoZXNlIG1hdGNoZXMgKi9cbiAgdG9QYXJlbnRoZXNlczogZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICBzdGFydCA9IHN0YXJ0IHx8IGAoYFxuICAgIGVuZCA9IGVuZCB8fCBgKWBcbiAgICB0aGlzLmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgICB0ZXJtc1swXS5wcmUgPSBzdGFydCArIHRlcm1zWzBdLnByZVxuICAgICAgbGV0IGxhc3QgPSB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXVxuICAgICAgbGFzdC5wb3N0ID0gZW5kICsgbGFzdC5wb3N0XG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxufVxuXG4vLyBhbGlhc2VzXG5tZXRob2RzLmRlSHlwaGVuYXRlID0gbWV0aG9kcy5kZWh5cGhlbmF0ZVxubWV0aG9kcy50b1F1b3RhdGlvbiA9IG1ldGhvZHMudG9RdW90YXRpb25zXG5cbmV4cG9ydCBkZWZhdWx0IG1ldGhvZHNcbiIsICIvKiogYWxwaGFiZXRpY2FsIG9yZGVyICovXG5jb25zdCBhbHBoYSA9IChhLCBiKSA9PiB7XG4gIGlmIChhLm5vcm1hbCA8IGIubm9ybWFsKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKGEubm9ybWFsID4gYi5ub3JtYWwpIHtcbiAgICByZXR1cm4gMVxuICB9XG4gIHJldHVybiAwXG59XG5cbi8qKiBjb3VudCB0aGUgIyBvZiBjaGFyYWN0ZXJzIG9mIGVhY2ggbWF0Y2ggKi9cbmNvbnN0IGxlbmd0aCA9IChhLCBiKSA9PiB7XG4gIGxldCBsZWZ0ID0gYS5ub3JtYWwudHJpbSgpLmxlbmd0aFxuICBsZXQgcmlnaHQgPSBiLm5vcm1hbC50cmltKCkubGVuZ3RoXG4gIGlmIChsZWZ0IDwgcmlnaHQpIHtcbiAgICByZXR1cm4gMVxuICB9XG4gIGlmIChsZWZ0ID4gcmlnaHQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICByZXR1cm4gMFxufVxuXG4vKiogY291bnQgdGhlICMgb2YgdGVybXMgaW4gZWFjaCBtYXRjaCAqL1xuY29uc3Qgd29yZENvdW50ID0gKGEsIGIpID0+IHtcbiAgaWYgKGEud29yZHMgPCBiLndvcmRzKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuICBpZiAoYS53b3JkcyA+IGIud29yZHMpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICByZXR1cm4gMFxufVxuXG4vKiogY291bnQgdGhlICMgb2YgdGVybXMgaW4gZWFjaCBtYXRjaCAqL1xuY29uc3Qgc2VxdWVudGlhbCA9IChhLCBiKSA9PiB7XG4gIGlmIChhWzBdIDwgYlswXSkge1xuICAgIHJldHVybiAxXG4gIH1cbiAgaWYgKGFbMF0gPiBiWzBdKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgcmV0dXJuIGFbMV0gPiBiWzFdID8gMSA6IC0xXG59XG5cbi8qKiBzb3J0IGJ5ICMgb2YgZHVwbGljYXRlcyBpbiB0aGUgZG9jdW1lbnQqL1xuY29uc3QgYnlGcmVxID0gZnVuY3Rpb24gKGFycikge1xuICBsZXQgY291bnRzID0ge31cbiAgYXJyLmZvckVhY2gobyA9PiB7XG4gICAgY291bnRzW28ubm9ybWFsXSA9IGNvdW50c1tvLm5vcm1hbF0gfHwgMFxuICAgIGNvdW50c1tvLm5vcm1hbF0gKz0gMVxuICB9KVxuICAvLyBzb3J0IGJ5IGZyZXFcbiAgYXJyLnNvcnQoKGEsIGIpID0+IHtcbiAgICBsZXQgbGVmdCA9IGNvdW50c1thLm5vcm1hbF1cbiAgICBsZXQgcmlnaHQgPSBjb3VudHNbYi5ub3JtYWxdXG4gICAgaWYgKGxlZnQgPCByaWdodCkge1xuICAgICAgcmV0dXJuIDFcbiAgICB9XG4gICAgaWYgKGxlZnQgPiByaWdodCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH0pXG4gIHJldHVybiBhcnJcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBhbHBoYSwgbGVuZ3RoLCB3b3JkQ291bnQsIHNlcXVlbnRpYWwsIGJ5RnJlcSB9XG4iLCAiaW1wb3J0IG1ldGhvZHMgZnJvbSAnLi9saWIvX3NvcnQuanMnXG4vLyBhbGlhc2VzXG5jb25zdCBzZXFOYW1lcyA9IG5ldyBTZXQoWydpbmRleCcsICdzZXF1ZW5jZScsICdzZXEnLCAnc2VxdWVudGlhbCcsICdjaHJvbicsICdjaHJvbm9sb2dpY2FsJ10pXG5jb25zdCBmcmVxTmFtZXMgPSBuZXcgU2V0KFsnZnJlcScsICdmcmVxdWVuY3knLCAndG9waycsICdyZXBlYXRzJ10pXG5jb25zdCBhbHBoYU5hbWVzID0gbmV3IFNldChbJ2FscGhhJywgJ2FscGhhYmV0aWNhbCddKVxuXG4vLyBzdXBwb3J0IGZ1bmN0aW9uIGFzIHBhcmFtZXRlclxuY29uc3QgY3VzdG9tU29ydCA9IGZ1bmN0aW9uICh2aWV3LCBmbikge1xuICBsZXQgcHRycyA9IHZpZXcuZnVsbFBvaW50ZXJcbiAgcHRycyA9IHB0cnMuc29ydCgoYSwgYikgPT4ge1xuICAgIGEgPSB2aWV3LnVwZGF0ZShbYV0pXG4gICAgYiA9IHZpZXcudXBkYXRlKFtiXSlcbiAgICByZXR1cm4gZm4oYSwgYilcbiAgfSlcbiAgdmlldy5wdHJzID0gcHRycyAvL211dGF0ZSBvcmlnaW5hbFxuICByZXR1cm4gdmlld1xufVxuXG4vKiogcmUtYXJyYW5nZSB0aGUgb3JkZXIgb2YgdGhlIG1hdGNoZXMgKGluIHBsYWNlKSAqL1xuY29uc3Qgc29ydCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICBsZXQgeyBkb2NzLCBwb2ludGVyIH0gPSB0aGlzXG4gIHRoaXMudW5jYWNoZSgpXG4gIGlmICh0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gY3VzdG9tU29ydCh0aGlzLCBpbnB1dClcbiAgfVxuICBpbnB1dCA9IGlucHV0IHx8ICdhbHBoYSdcbiAgbGV0IHB0cnMgPSBwb2ludGVyIHx8IGRvY3MubWFwKChfZCwgbikgPT4gW25dKVxuICBsZXQgYXJyID0gZG9jcy5tYXAoKHRlcm1zLCBuKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiBuLFxuICAgICAgd29yZHM6IHRlcm1zLmxlbmd0aCxcbiAgICAgIG5vcm1hbDogdGVybXMubWFwKHQgPT4gdC5tYWNoaW5lIHx8IHQubm9ybWFsIHx8ICcnKS5qb2luKCcgJyksXG4gICAgICBwb2ludGVyOiBwdHJzW25dLFxuICAgIH1cbiAgfSlcbiAgLy8gJ2Nocm9ub2xvZ2ljYWwnIHNvcnRpbmdcbiAgaWYgKHNlcU5hbWVzLmhhcyhpbnB1dCkpIHtcbiAgICBpbnB1dCA9ICdzZXF1ZW50aWFsJ1xuICB9XG4gIC8vIGFscGhhYmV0aWNhbCBzb3J0aW5nXG4gIGlmIChhbHBoYU5hbWVzLmhhcyhpbnB1dCkpIHtcbiAgICBpbnB1dCA9ICdhbHBoYSdcbiAgfVxuICAvLyBzb3J0IGJ5IGZyZXF1ZW5jeVxuICBpZiAoZnJlcU5hbWVzLmhhcyhpbnB1dCkpIHtcbiAgICBhcnIgPSBtZXRob2RzLmJ5RnJlcShhcnIpXG4gICAgcmV0dXJuIHRoaXMudXBkYXRlKGFyci5tYXAobyA9PiBvLnBvaW50ZXIpKVxuICB9XG4gIC8vIGFwcGx5IHNvcnQgbWV0aG9kIG9uIGVhY2ggcGhyYXNlXG4gIGlmICh0eXBlb2YgbWV0aG9kc1tpbnB1dF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICBhcnIgPSBhcnIuc29ydChtZXRob2RzW2lucHV0XSlcbiAgICByZXR1cm4gdGhpcy51cGRhdGUoYXJyLm1hcChvID0+IG8ucG9pbnRlcikpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuLyoqIHJldmVyc2UgdGhlIG9yZGVyIG9mIHRoZSBtYXRjaGVzLCBidXQgbm90IHRoZSB3b3JkcyBvciBpbmRleCAqL1xuY29uc3QgcmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHB0cnMgPSB0aGlzLnBvaW50ZXIgfHwgdGhpcy5kb2NzLm1hcCgoX2QsIG4pID0+IFtuXSlcbiAgcHRycyA9IFtdLmNvbmNhdChwdHJzKVxuICBwdHJzID0gcHRycy5yZXZlcnNlKClcbiAgaWYgKHRoaXMuX2NhY2hlKSB7XG4gICAgdGhpcy5fY2FjaGUgPSB0aGlzLl9jYWNoZS5yZXZlcnNlKClcbiAgfVxuICByZXR1cm4gdGhpcy51cGRhdGUocHRycylcbn1cblxuLyoqIHJlbW92ZSBhbnkgZHVwbGljYXRlIG1hdGNoZXMgKi9cbmNvbnN0IHVuaXF1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGFscmVhZHkgPSBuZXcgU2V0KClcbiAgbGV0IHJlcyA9IHRoaXMuZmlsdGVyKG0gPT4ge1xuICAgIGxldCB0eHQgPSBtLnRleHQoJ21hY2hpbmUnKVxuICAgIGlmIChhbHJlYWR5Lmhhcyh0eHQpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgYWxyZWFkeS5hZGQodHh0KVxuICAgIHJldHVybiB0cnVlXG4gIH0pXG4gIC8vIHRoaXMucHRycyA9IHJlcy5wdHJzIC8vbXV0YXRlIG9yaWdpbmFsP1xuICByZXR1cm4gcmVzLy8uY29tcHV0ZSgnaW5kZXgnKVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IHVuaXF1ZSwgcmV2ZXJzZSwgc29ydCB9XG4iLCAiY29uc3QgaXNBcnJheSA9IChhcnIpID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nXG5cbi8vIGFwcGVuZCBhIG5ldyBkb2N1bWVudCwgc29tZWhvd1xuY29uc3QgY29tYmluZURvY3MgPSBmdW5jdGlvbiAoaG9tZURvY3MsIGlucHV0RG9jcykge1xuICBpZiAoaG9tZURvY3MubGVuZ3RoID4gMCkge1xuICAgIC8vIGFkZCBhIHNwYWNlXG4gICAgbGV0IGVuZCA9IGhvbWVEb2NzW2hvbWVEb2NzLmxlbmd0aCAtIDFdXG4gICAgbGV0IGxhc3QgPSBlbmRbZW5kLmxlbmd0aCAtIDFdXG4gICAgaWYgKC8gLy50ZXN0KGxhc3QucG9zdCkgPT09IGZhbHNlKSB7XG4gICAgICBsYXN0LnBvc3QgKz0gJyAnXG4gICAgfVxuICB9XG4gIGhvbWVEb2NzID0gaG9tZURvY3MuY29uY2F0KGlucHV0RG9jcylcbiAgcmV0dXJuIGhvbWVEb2NzXG59XG5cbmNvbnN0IGNvbWJpbmVWaWV3cyA9IGZ1bmN0aW9uIChob21lLCBpbnB1dCkge1xuICAvLyBpcyBpdCBhIHZpZXcgZnJvbSB0aGUgc2FtZSBkb2N1bWVudD9cbiAgaWYgKGhvbWUuZG9jdW1lbnQgPT09IGlucHV0LmRvY3VtZW50KSB7XG4gICAgbGV0IHB0cnMgPSBob21lLmZ1bGxQb2ludGVyLmNvbmNhdChpbnB1dC5mdWxsUG9pbnRlcilcbiAgICByZXR1cm4gaG9tZS50b1ZpZXcocHRycykuY29tcHV0ZSgnaW5kZXgnKVxuICB9XG4gIC8vIHVwZGF0ZSBuIG9mIG5ldyBwb2ludGVyLCB0byBlbmQgb2Ygb3VyIHBvaW50ZXJcbiAgbGV0IHB0cnMgPSBpbnB1dC5mdWxsUG9pbnRlclxuICBwdHJzLmZvckVhY2goYSA9PiB7XG4gICAgYVswXSArPSBob21lLmRvY3VtZW50Lmxlbmd0aFxuICB9KVxuICBob21lLmRvY3VtZW50ID0gY29tYmluZURvY3MoaG9tZS5kb2N1bWVudCwgaW5wdXQuZG9jcylcbiAgcmV0dXJuIGhvbWUuYWxsKClcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAvLyBhZGQgc3RyaW5nIGFzIG5ldyBtYXRjaC9zZW50ZW5jZVxuICBjb25jYXQ6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIC8vIHBhcnNlIGFuZCBzcGxpY2UtaW4gbmV3IHRlcm1zXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxldCBtb3JlID0gdGhpcy5mcm9tVGV4dChpbnB1dClcbiAgICAgIC8vIGVhc3kgY29uY2F0XG4gICAgICBpZiAoIXRoaXMuZm91bmQgfHwgIXRoaXMucHRycykge1xuICAgICAgICB0aGlzLmRvY3VtZW50ID0gdGhpcy5kb2N1bWVudC5jb25jYXQobW9yZS5kb2N1bWVudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZSBpbiB0aGUgbWlkZGxlLCB0aGlzIGlzIGFjdHVhbGx5IGEgc3BsaWNlIG9wZXJhdGlvblxuICAgICAgICBsZXQgcHRycyA9IHRoaXMuZnVsbFBvaW50ZXJcbiAgICAgICAgbGV0IGF0ID0gcHRyc1twdHJzLmxlbmd0aCAtIDFdWzBdXG4gICAgICAgIHRoaXMuZG9jdW1lbnQuc3BsaWNlKGF0LCAwLCAuLi5tb3JlLmRvY3VtZW50KVxuICAgICAgfVxuICAgICAgLy8gcHV0IHRoZSBkb2NzXG4gICAgICByZXR1cm4gdGhpcy5hbGwoKS5jb21wdXRlKCdpbmRleCcpXG4gICAgfVxuICAgIC8vIHBsb3Agc29tZSB2aWV3IG9iamVjdHMgdG9nZXRoZXJcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJiBpbnB1dC5pc1ZpZXcpIHtcbiAgICAgIHJldHVybiBjb21iaW5lVmlld3ModGhpcywgaW5wdXQpXG4gICAgfVxuICAgIC8vIGFzc3VtZSBpdCdzIGFuIGFycmF5IG9mIHRlcm1zXG4gICAgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICBsZXQgZG9jcyA9IGNvbWJpbmVEb2NzKHRoaXMuZG9jdW1lbnQsIGlucHV0KVxuICAgICAgdGhpcy5kb2N1bWVudCA9IGRvY3NcbiAgICAgIHJldHVybiB0aGlzLmFsbCgpXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH0sXG59IiwgIi8vIGFkZCBpbmRleGVzIHRvIHBvaW50ZXJzXG5jb25zdCBoYXJkZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucHRycyA9IHRoaXMuZnVsbFBvaW50ZXJcbiAgcmV0dXJuIHRoaXNcbn1cbi8vIHJlbW92ZSBpbmRleGVzIGZyb20gcG9pbnRlcnNcbmNvbnN0IHNvZnRlbiA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHB0ciA9IHRoaXMucHRyc1xuICBpZiAoIXB0ciB8fCBwdHIubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgcHRyID0gcHRyLm1hcChhID0+IGEuc2xpY2UoMCwgMykpXG4gIHRoaXMucHRycyA9IHB0clxuICByZXR1cm4gdGhpc1xufVxuZXhwb3J0IGRlZmF1bHQgeyBoYXJkZW4sIHNvZnRlbiB9IiwgImltcG9ydCBjYXNlRm5zIGZyb20gJy4vY2FzZS5qcydcbmltcG9ydCBpbnNlcnQgZnJvbSAnLi9pbnNlcnQuanMnXG5pbXBvcnQgcmVwbGFjZSBmcm9tICcuL3JlcGxhY2UuanMnXG5pbXBvcnQgcmVtb3ZlIGZyb20gJy4vcmVtb3ZlLmpzJ1xuaW1wb3J0IHdoaXRlc3BhY2UgZnJvbSAnLi93aGl0ZXNwYWNlLmpzJ1xuaW1wb3J0IHNvcnQgZnJvbSAnLi9zb3J0LmpzJ1xuaW1wb3J0IGNvbmNhdCBmcm9tICcuL2NvbmNhdC5qcydcbmltcG9ydCBoYXJkZW4gZnJvbSAnLi9oYXJkZW4uanMnXG5cbmNvbnN0IG1ldGhvZHMgPSBPYmplY3QuYXNzaWduKHt9LCBjYXNlRm5zLCBpbnNlcnQsIHJlcGxhY2UsIHJlbW92ZSwgd2hpdGVzcGFjZSwgc29ydCwgY29uY2F0LCBoYXJkZW4pXG5cbmNvbnN0IGFkZEFQSSA9IGZ1bmN0aW9uIChWaWV3KSB7XG4gIE9iamVjdC5hc3NpZ24oVmlldy5wcm90b3R5cGUsIG1ldGhvZHMpXG59XG5leHBvcnQgZGVmYXVsdCBhZGRBUElcbiIsICJpbXBvcnQgdXVpZCBmcm9tICcuL3V1aWQuanMnXG5cbmNvbnN0IGNvbXB1dGUgPSB7XG4gIGlkOiBmdW5jdGlvbiAodmlldykge1xuICAgIGxldCBkb2NzID0gdmlldy5kb2NzXG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCBkb2NzLmxlbmd0aDsgbiArPSAxKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3Nbbl0ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgbGV0IHRlcm0gPSBkb2NzW25dW2ldXG4gICAgICAgIHRlcm0uaWQgPSB0ZXJtLmlkIHx8IHV1aWQodGVybSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29tcHV0ZSIsICJpbXBvcnQgYXBpIGZyb20gJy4vYXBpL2luZGV4LmpzJ1xuaW1wb3J0IGNvbXB1dGUgZnJvbSAnLi9jb21wdXRlL2luZGV4LmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFwaSxcbiAgY29tcHV0ZSxcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBbXG4gIC8vIHNpbXBsZSBtYXBwaW5nc1xuICB7IHdvcmQ6ICdAJywgb3V0OiBbJ2F0J10gfSxcbiAgeyB3b3JkOiAnYXJlbnQnLCBvdXQ6IFsnYXJlJywgJ25vdCddIH0sXG4gIHsgd29yZDogJ2Fsb3QnLCBvdXQ6IFsnYScsICdsb3QnXSB9LFxuICB7IHdvcmQ6ICdicmInLCBvdXQ6IFsnYmUnLCAncmlnaHQnLCAnYmFjayddIH0sXG4gIHsgd29yZDogJ2Nhbm5vdCcsIG91dDogWydjYW4nLCAnbm90J10gfSxcbiAgeyB3b3JkOiAnZHVuJywgb3V0OiBbJ2RvJywgJ25vdCddIH0sXG4gIHsgd29yZDogXCJjYW4ndFwiLCBvdXQ6IFsnY2FuJywgJ25vdCddIH0sXG4gIHsgd29yZDogXCJzaGFuJ3RcIiwgb3V0OiBbJ3Nob3VsZCcsICdub3QnXSB9LFxuICB7IHdvcmQ6IFwid29uJ3RcIiwgb3V0OiBbJ3dpbGwnLCAnbm90J10gfSxcbiAgeyB3b3JkOiBcInRoYXQnc1wiLCBvdXQ6IFsndGhhdCcsICdpcyddIH0sXG4gIHsgd29yZDogXCJ3aGF0J3NcIiwgb3V0OiBbJ3doYXQnLCAnaXMnXSB9LFxuICB7IHdvcmQ6IFwibGV0J3NcIiwgb3V0OiBbJ2xldCcsICd1cyddIH0sXG4gIC8vIHsgd29yZDogXCJ0aGVyZSdzXCIsIG91dDogWyd0aGVyZScsICdpcyddIH0sXG4gIHsgd29yZDogJ2R1bm5vJywgb3V0OiBbJ2RvJywgJ25vdCcsICdrbm93J10gfSxcbiAgeyB3b3JkOiAnZ29ubmEnLCBvdXQ6IFsnZ29pbmcnLCAndG8nXSB9LFxuICB7IHdvcmQ6ICdnb3R0YScsIG91dDogWydoYXZlJywgJ2dvdCcsICd0byddIH0sIC8vaG1tXG4gIHsgd29yZDogJ2dpbW1lJywgb3V0OiBbJ2dpdmUnLCAnbWUnXSB9LFxuICB7IHdvcmQ6ICdvdXR0YScsIG91dDogWydvdXQnLCAnb2YnXSB9LFxuICB7IHdvcmQ6ICd0cnluYScsIG91dDogWyd0cnlpbmcnLCAndG8nXSB9LFxuICB7IHdvcmQ6ICdndGcnLCBvdXQ6IFsnZ290JywgJ3RvJywgJ2dvJ10gfSxcbiAgeyB3b3JkOiAnaW0nLCBvdXQ6IFsnaScsICdhbSddIH0sXG4gIHsgd29yZDogJ2ltbWEnLCBvdXQ6IFsnSScsICd3aWxsJ10gfSxcbiAgeyB3b3JkOiAnaW1vJywgb3V0OiBbJ2luJywgJ215JywgJ29waW5pb24nXSB9LFxuICB7IHdvcmQ6ICdpcmwnLCBvdXQ6IFsnaW4nLCAncmVhbCcsICdsaWZlJ10gfSxcbiAgeyB3b3JkOiAnaXZlJywgb3V0OiBbJ2knLCAnaGF2ZSddIH0sXG4gIHsgd29yZDogJ3JuJywgb3V0OiBbJ3JpZ2h0JywgJ25vdyddIH0sXG4gIHsgd29yZDogJ3RiaCcsIG91dDogWyd0bycsICdiZScsICdob25lc3QnXSB9LFxuICB7IHdvcmQ6ICd3YW5uYScsIG91dDogWyd3YW50JywgJ3RvJ10gfSxcbiAgeyB3b3JkOiBgYydtZXJlYCwgb3V0OiBbJ2NvbWUnLCAnaGVyZSddIH0sXG4gIHsgd29yZDogYGMnbW9uYCwgb3V0OiBbJ2NvbWUnLCAnb24nXSB9LFxuICAvLyBzaG91bGRhLCBjb3VsZGFcbiAgeyB3b3JkOiAnc2hvdWxkYScsIG91dDogWydzaG91bGQnLCAnaGF2ZSddIH0sXG4gIHsgd29yZDogJ2NvdWxkYScsIG91dDogWydjb3VsZGEnLCAnaGF2ZSddIH0sXG4gIHsgd29yZDogJ3dvdWxkYScsIG91dDogWyd3b3VsZGEnLCAnaGF2ZSddIH0sXG4gIHsgd29yZDogJ211c3RhJywgb3V0OiBbJ211c3QnLCAnaGF2ZSddIH0sXG5cbiAgeyB3b3JkOiBcInRpc1wiLCBvdXQ6IFsnaXQnLCAnaXMnXSB9LFxuICB7IHdvcmQ6IFwidHdhc1wiLCBvdXQ6IFsnaXQnLCAnd2FzJ10gfSxcbiAgeyB3b3JkOiBgeSdrbm93YCwgb3V0OiBbJ3lvdScsICdrbm93J10gfSxcbiAgeyB3b3JkOiBcIm5lJ2VyXCIsIG91dDogWyduZXZlciddIH0sXG4gIHsgd29yZDogXCJvJ2VyXCIsIG91dDogWydvdmVyJ10gfSxcbiAgLy8gY29udHJhY3Rpb24tcGFydCBtYXBwaW5nc1xuICB7IGFmdGVyOiAnbGwnLCBvdXQ6IFsnd2lsbCddIH0sXG4gIHsgYWZ0ZXI6ICd2ZScsIG91dDogWydoYXZlJ10gfSxcbiAgeyBhZnRlcjogJ3JlJywgb3V0OiBbJ2FyZSddIH0sXG4gIHsgYWZ0ZXI6ICdtJywgb3V0OiBbJ2FtJ10gfSxcbiAgLy8gZnJlbmNoIGNvbnRyYWN0aW9uc1xuICB7IGJlZm9yZTogJ2MnLCBvdXQ6IFsnY2UnXSB9LFxuICB7IGJlZm9yZTogJ20nLCBvdXQ6IFsnbWUnXSB9LFxuICB7IGJlZm9yZTogJ24nLCBvdXQ6IFsnbmUnXSB9LFxuICB7IGJlZm9yZTogJ3F1Jywgb3V0OiBbJ3F1ZSddIH0sXG4gIHsgYmVmb3JlOiAncycsIG91dDogWydzZSddIH0sXG4gIHsgYmVmb3JlOiAndCcsIG91dDogWyd0dSddIH0sIC8vIHQnYWltZVxuXG4gIC8vIG1pc3NpbmcgYXBvc3Ryb3BoZXNcbiAgeyB3b3JkOiAnc2hvdWxkbnQnLCBvdXQ6IFsnc2hvdWxkJywgJ25vdCddIH0sXG4gIHsgd29yZDogJ2NvdWxkbnQnLCBvdXQ6IFsnY291bGQnLCAnbm90J10gfSxcbiAgeyB3b3JkOiAnd291bGRudCcsIG91dDogWyd3b3VsZCcsICdub3QnXSB9LFxuICB7IHdvcmQ6ICdoYXNudCcsIG91dDogWydoYXMnLCAnbm90J10gfSxcbiAgeyB3b3JkOiAnd2FzbnQnLCBvdXQ6IFsnd2FzJywgJ25vdCddIH0sXG4gIHsgd29yZDogJ2lzbnQnLCBvdXQ6IFsnaXMnLCAnbm90J10gfSxcbiAgeyB3b3JkOiAnY2FudCcsIG91dDogWydjYW4nLCAnbm90J10gfSxcbiAgeyB3b3JkOiAnZG9udCcsIG91dDogWydkbycsICdub3QnXSB9LFxuICB7IHdvcmQ6ICd3b250Jywgb3V0OiBbJ3dpbGwnLCAnbm90J10gfSxcbiAgLy8gYXBvc3Ryb3BoZSBkXG4gIHsgd29yZDogJ2hvd2QnLCBvdXQ6IFsnaG93JywgJ2RpZCddIH0sXG4gIHsgd29yZDogJ3doYXRkJywgb3V0OiBbJ3doYXQnLCAnZGlkJ10gfSxcbiAgeyB3b3JkOiAnd2hlbmQnLCBvdXQ6IFsnd2hlbicsICdkaWQnXSB9LFxuICB7IHdvcmQ6ICd3aGVyZWQnLCBvdXQ6IFsnd2hlcmUnLCAnZGlkJ10gfSxcbl1cbiIsICIvLyBudW1iZXIgc3VmZml4ZXMgdGhhdCBhcmUgbm90IHVuaXRzXG5jb25zdCB0ID0gdHJ1ZVxuZXhwb3J0IGRlZmF1bHQge1xuICAnc3QnOiB0LFxuICAnbmQnOiB0LFxuICAncmQnOiB0LFxuICAndGgnOiB0LFxuICAnYW0nOiB0LFxuICAncG0nOiB0LFxuICAnbWF4JzogdCxcbiAgJ1x1MDBCMCc6IHQsXG4gICdzJzogdCwgLy8gMTk5MHNcbiAgJ2UnOiB0LCAvLyAxOGUgLSBmcmVuY2gvc3BhbmlzaCBvcmRpbmFsXG4gICdlcic6IHQsIC8vZnJlbmNoIDFlclxuICAnXHUwMEU4cmUnOiB0LCAvLycnXG4gICdcdTAwRThtZSc6IHQsIC8vZnJlbmNoIDJcdTAwRThtZVxufSIsICJpbXBvcnQgY29udHJhY3Rpb25zIGZyb20gJy4vY29udHJhY3Rpb25zLmpzJ1xuaW1wb3J0IG51bWJlclN1ZmZpeGVzIGZyb20gJy4vbnVtYmVyLXN1ZmZpeC5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBvbmU6IHtcbiAgICBjb250cmFjdGlvbnMsXG4gICAgbnVtYmVyU3VmZml4ZXNcbiAgfVxufVxuIiwgIi8vIHB1dCBuIG5ldyB3b3JkcyB3aGVyZSAxIHdvcmQgd2FzXG5jb25zdCBpbnNlcnRDb250cmFjdGlvbiA9IGZ1bmN0aW9uIChkb2N1bWVudCwgcG9pbnQsIHdvcmRzKSB7XG4gIGxldCBbbiwgd10gPSBwb2ludFxuICBpZiAoIXdvcmRzIHx8IHdvcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVyblxuICB9XG4gIHdvcmRzID0gd29yZHMubWFwKCh3b3JkLCBpKSA9PiB7XG4gICAgd29yZC5pbXBsaWNpdCA9IHdvcmQudGV4dFxuICAgIHdvcmQubWFjaGluZSA9IHdvcmQudGV4dFxuICAgIHdvcmQucHJlID0gJydcbiAgICB3b3JkLnBvc3QgPSAnJ1xuICAgIHdvcmQudGV4dCA9ICcnXG4gICAgd29yZC5ub3JtYWwgPSAnJ1xuICAgIHdvcmQuaW5kZXggPSBbbiwgdyArIGldXG4gICAgcmV0dXJuIHdvcmRcbiAgfSlcbiAgaWYgKHdvcmRzWzBdKSB7XG4gICAgLy8gbW92ZSB3aGl0ZXNwYWNlIG92ZXJcbiAgICB3b3Jkc1swXS5wcmUgPSBkb2N1bWVudFtuXVt3XS5wcmVcbiAgICB3b3Jkc1t3b3Jkcy5sZW5ndGggLSAxXS5wb3N0ID0gZG9jdW1lbnRbbl1bd10ucG9zdFxuICAgIC8vIGFkZCB0aGUgdGV4dC9ub3JtYWwgdG8gdGhlIGZpcnN0IHRlcm1cbiAgICB3b3Jkc1swXS50ZXh0ID0gZG9jdW1lbnRbbl1bd10udGV4dFxuICAgIHdvcmRzWzBdLm5vcm1hbCA9IGRvY3VtZW50W25dW3ddLm5vcm1hbCAvLyBtb3ZlIHRhZ3MgdG9vP1xuICB9XG4gIC8vIGRvIHRoZSBzcGxpY2VcbiAgZG9jdW1lbnRbbl0uc3BsaWNlKHcsIDEsIC4uLndvcmRzKVxufVxuZXhwb3J0IGRlZmF1bHQgaW5zZXJ0Q29udHJhY3Rpb25cbiIsICJjb25zdCBoYXNDb250cmFjdGlvbiA9IC8nL1xuLy9sb29rIGZvciBhIHBhc3QtdGVuc2UgdmVyYlxuLy8gY29uc3QgaGFzUGFzdFRlbnNlID0gKHRlcm1zLCBpKSA9PiB7XG4vLyAgIGxldCBhZnRlciA9IHRlcm1zLnNsaWNlKGkgKyAxLCBpICsgMylcbi8vICAgcmV0dXJuIGFmdGVyLnNvbWUodCA9PiB0LnRhZ3MuaGFzKCdQYXN0VGVuc2UnKSlcbi8vIH1cbi8vIGhlJ2Qgd2Fsa2VkIC0+IGhhZFxuLy8gaG93J2QgLT4gZGlkXG4vLyBoZSdkIGdvIC0+IHdvdWxkXG5cbmNvbnN0IGFsd2F5c0RpZCA9IG5ldyBTZXQoW1xuICAnd2hhdCcsXG4gICdob3cnLFxuICAnd2hlbicsXG4gICd3aGVyZScsXG4gICd3aHknLFxuXSlcblxuLy8gYWZ0ZXItd29yZHNcbmNvbnN0IHVzZVdvdWxkID0gbmV3IFNldChbXG4gICdiZScsXG4gICdnbycsXG4gICdzdGFydCcsXG4gICd0aGluaycsXG4gICduZWVkJyxcbl0pXG5cbmNvbnN0IHVzZUhhZCA9IG5ldyBTZXQoW1xuICAnYmVlbicsXG4gICdnb25lJ1xuXSlcbi8vIHRoZXknZCBnb25lXG4vLyB0aGV5J2QgZ29cblxuXG4vLyBoZSdkIGJlZW5cbi8vICAgIGhlIGhhZCBiZWVuXG4vLyAgICBoZSB3b3VsZCBiZWVuXG5cbmNvbnN0IF9hcG9zdHJvcGhlRCA9IGZ1bmN0aW9uICh0ZXJtcywgaSkge1xuICBsZXQgYmVmb3JlID0gdGVybXNbaV0ubm9ybWFsLnNwbGl0KGhhc0NvbnRyYWN0aW9uKVswXVxuXG4gIC8vIHdoYXQnZCwgaG93J2RcbiAgaWYgKGFsd2F5c0RpZC5oYXMoYmVmb3JlKSkge1xuICAgIHJldHVybiBbYmVmb3JlLCAnZGlkJ11cbiAgfVxuICBpZiAodGVybXNbaSArIDFdKSB7XG4gICAgLy8gdGhleSdkIGdvbmVcbiAgICBpZiAodXNlSGFkLmhhcyh0ZXJtc1tpICsgMV0ubm9ybWFsKSkge1xuICAgICAgcmV0dXJuIFtiZWZvcmUsICdoYWQnXVxuICAgIH1cbiAgICAvLyB0aGV5J2QgZ29cbiAgICBpZiAodXNlV291bGQuaGFzKHRlcm1zW2kgKyAxXS5ub3JtYWwpKSB7XG4gICAgICByZXR1cm4gW2JlZm9yZSwgJ3dvdWxkJ11cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGxcbiAgLy8gICBpZiAoaGFzUGFzdFRlbnNlKHRlcm1zLCBpKSA9PT0gdHJ1ZSkge1xuICAvLyAgICAgcmV0dXJuIFtiZWZvcmUsICdoYWQnXVxuICAvLyAgIH1cbiAgLy8gICAvLyBoYWQvd291bGQvZGlkXG4gIC8vICAgcmV0dXJuIFtiZWZvcmUsICd3b3VsZCddXG59XG5leHBvcnQgZGVmYXVsdCBfYXBvc3Ryb3BoZURcbiIsICJcbi8vYWluJ3QgLT4gYXJlL2lzIG5vdFxuY29uc3QgYXBvc3Ryb3BoZVQgPSBmdW5jdGlvbiAodGVybXMsIGkpIHtcbiAgaWYgKHRlcm1zW2ldLm5vcm1hbCA9PT0gXCJhaW4ndFwiIHx8IHRlcm1zW2ldLm5vcm1hbCA9PT0gJ2FpbnQnKSB7XG4gICAgcmV0dXJuIG51bGwgLy9kbyB0aGlzIGluIC4vdHdvL1xuICB9XG4gIGxldCBiZWZvcmUgPSB0ZXJtc1tpXS5ub3JtYWwucmVwbGFjZSgvbid0LywgJycpXG4gIHJldHVybiBbYmVmb3JlLCAnbm90J11cbn1cblxuZXhwb3J0IGRlZmF1bHQgYXBvc3Ryb3BoZVRcbiIsICJjb25zdCBoYXNDb250cmFjdGlvbiA9IC8nL1xuY29uc3QgaXNGZW1pbmluZSA9IC8oZXxcdTAwRTl8YWlzb258c2lvbnx0aW9uKSQvXG5jb25zdCBpc01hc2N1bGluZSA9IC8oYWdlfGlzbWV8YWNsZXxlZ2V8b2lyZSkkL1xuLy8gbCdhbW91clxuY29uc3QgcHJlTCA9ICh0ZXJtcywgaSkgPT4ge1xuICAvLyBsZS9sYVxuICBsZXQgYWZ0ZXIgPSB0ZXJtc1tpXS5ub3JtYWwuc3BsaXQoaGFzQ29udHJhY3Rpb24pWzFdXG4gIC8vIHF1aWNrIGZyZW5jaCBnZW5kZXIgZGlzYW1iaWcgKHJvdWdoKVxuICBpZiAoYWZ0ZXIgJiYgYWZ0ZXIuZW5kc1dpdGgoJ2UnKSkge1xuICAgIHJldHVybiBbJ2xhJywgYWZ0ZXJdXG4gIH1cbiAgcmV0dXJuIFsnbGUnLCBhZnRlcl1cbn1cblxuLy8gZCdhbWVyaXF1ZVxuY29uc3QgcHJlRCA9ICh0ZXJtcywgaSkgPT4ge1xuICBsZXQgYWZ0ZXIgPSB0ZXJtc1tpXS5ub3JtYWwuc3BsaXQoaGFzQ29udHJhY3Rpb24pWzFdXG4gIC8vIHF1aWNrIGd1ZXNzIGZvciBub3VuLWFncmVlbWVudCAocm91Z2gpXG4gIGlmIChhZnRlciAmJiBpc0ZlbWluaW5lLnRlc3QoYWZ0ZXIpICYmICFpc01hc2N1bGluZS50ZXN0KGFmdGVyKSkge1xuICAgIHJldHVybiBbJ2R1JywgYWZ0ZXJdXG4gIH0gZWxzZSBpZiAoYWZ0ZXIgJiYgYWZ0ZXIuZW5kc1dpdGgoJ3MnKSkge1xuICAgIHJldHVybiBbJ2RlcycsIGFmdGVyXVxuICB9XG4gIHJldHVybiBbJ2RlJywgYWZ0ZXJdXG59XG5cbi8vIGonYWltZVxuY29uc3QgcHJlSiA9ICh0ZXJtcywgaSkgPT4ge1xuICBsZXQgYWZ0ZXIgPSB0ZXJtc1tpXS5ub3JtYWwuc3BsaXQoaGFzQ29udHJhY3Rpb24pWzFdXG4gIHJldHVybiBbJ2plJywgYWZ0ZXJdXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcHJlSixcbiAgcHJlTCxcbiAgcHJlRCxcbn1cbiIsICJjb25zdCBpc1JhbmdlID0gL14oWzAtOS5dezEsNH1bYS16XXswLDJ9KSA/Wy1cdTIwMTNcdTIwMTRdID8oWzAtOV17MSw0fVthLXpdezAsMn0pJC9pXG5jb25zdCB0aW1lUmFuZ2UgPSAvXihbMC05XXsxLDJ9KDpbMC05XVswLTldKT8oYW18cG0pPykgP1stXHUyMDEzXHUyMDE0XSA/KFswLTldezEsMn0oOlswLTldWzAtOV0pPyhhbXxwbSk/KSQvaVxuY29uc3QgcGhvbmVOdW0gPSAvXlswLTldezN9LVswLTldezR9JC9cblxuY29uc3QgbnVtYmVyUmFuZ2UgPSBmdW5jdGlvbiAodGVybXMsIGkpIHtcbiAgbGV0IHRlcm0gPSB0ZXJtc1tpXVxuICBsZXQgcGFydHMgPSB0ZXJtLnRleHQubWF0Y2goaXNSYW5nZSlcbiAgaWYgKHBhcnRzICE9PSBudWxsKSB7XG4gICAgLy8gMTIzLTEyMzQgaXMgYSBwaG9uZSBudW1iZXIsIG5vdCBhIG51bWJlci1yYW5nZVxuICAgIGlmICh0ZXJtLnRhZ3MuaGFzKCdQaG9uZU51bWJlcicpID09PSB0cnVlIHx8IHBob25lTnVtLnRlc3QodGVybS50ZXh0KSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIFtwYXJ0c1sxXSwgJ3RvJywgcGFydHNbMl1dXG4gIH0gZWxzZSB7XG4gICAgcGFydHMgPSB0ZXJtLnRleHQubWF0Y2godGltZVJhbmdlKVxuICAgIGlmIChwYXJ0cyAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFtwYXJ0c1sxXSwgJ3RvJywgcGFydHNbNF1dXG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5leHBvcnQgZGVmYXVsdCBudW1iZXJSYW5nZVxuIiwgImNvbnN0IG51bVVuaXQgPSAvXihbKy1dP1swLTldWy4sMC05XSopKFthLXpcdTAwQjBcdTAwQjJcdTAwQjNcdTAwQjUvXSspJC8gLy8obXVzdCBiZSBsb3dlcmNhc2UpXG5cbmNvbnN0IG51bWJlclVuaXQgPSBmdW5jdGlvbiAodGVybXMsIGksIHdvcmxkKSB7XG4gIGNvbnN0IG5vdFVuaXQgPSB3b3JsZC5tb2RlbC5vbmUubnVtYmVyU3VmZml4ZXMgfHwge31cbiAgbGV0IHRlcm0gPSB0ZXJtc1tpXVxuICBsZXQgcGFydHMgPSB0ZXJtLnRleHQubWF0Y2gobnVtVW5pdClcbiAgaWYgKHBhcnRzICE9PSBudWxsKSB7XG4gICAgLy8gaXMgaXQgYSByZWNvZ25pemVkIHVuaXQsIGxpa2UgJ2ttJz9cbiAgICBsZXQgdW5pdCA9IHBhcnRzWzJdLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgLy8gZG9uJ3Qgc3BsaXQgJzNyZCdcbiAgICBpZiAobm90VW5pdC5oYXNPd25Qcm9wZXJ0eSh1bml0KSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIFtwYXJ0c1sxXSwgdW5pdF0gLy9zcGxpdCBpdFxuICB9XG4gIHJldHVybiBudWxsXG59XG5leHBvcnQgZGVmYXVsdCBudW1iZXJVbml0XG4iLCAiaW1wb3J0IHNwbGljZSBmcm9tICcuL19zcGxpY2UuanMnXG5pbXBvcnQgYXBvc3Ryb3BoZUQgZnJvbSAnLi9hcG9zdHJvcGhlLWQuanMnXG5pbXBvcnQgYXBvc3Ryb3BoZVQgZnJvbSAnLi9hcG9zdHJvcGhlLXQuanMnXG5pbXBvcnQgZnJlbmNoIGZyb20gJy4vZnJlbmNoLmpzJ1xuaW1wb3J0IG51bWJlclJhbmdlIGZyb20gJy4vbnVtYmVyLXJhbmdlLmpzJ1xuaW1wb3J0IG51bWJlclVuaXQgZnJvbSAnLi9udW1iZXItdW5pdC5qcydcblxuY29uc3QgYnlBcG9zdHJvcGhlID0gLycvXG5jb25zdCBudW1EYXNoID0gL15bMC05XVteLVx1MjAxM1x1MjAxNF0qWy1cdTIwMTNcdTIwMTRdLio/WzAtOV0vXG5cbi8vIHJ1biB0YWdnZXIgb24gb3VyIG5ldyBpbXBsaWNpdCB0ZXJtc1xuY29uc3QgcmVUYWcgPSBmdW5jdGlvbiAodGVybXMsIHZpZXcsIHN0YXJ0LCBsZW4pIHtcbiAgbGV0IHRtcCA9IHZpZXcudXBkYXRlKClcbiAgdG1wLmRvY3VtZW50ID0gW3Rlcm1zXVxuICAvLyBvZmZlciB0byByZS10YWcgbmVpZ2hib3VycywgdG9vXG4gIGxldCBlbmQgPSBzdGFydCArIGxlblxuICBpZiAoc3RhcnQgPiAwKSB7XG4gICAgc3RhcnQgLT0gMVxuICB9XG4gIGlmICh0ZXJtc1tlbmRdKSB7XG4gICAgZW5kICs9IDFcbiAgfVxuICB0bXAucHRycyA9IFtbMCwgc3RhcnQsIGVuZF1dXG59XG5cbmNvbnN0IGJ5RW5kID0ge1xuICAvLyBhaW4ndFxuICB0OiAodGVybXMsIGkpID0+IGFwb3N0cm9waGVUKHRlcm1zLCBpKSxcbiAgLy8gaG93J2RcbiAgZDogKHRlcm1zLCBpKSA9PiBhcG9zdHJvcGhlRCh0ZXJtcywgaSksXG59XG5cbmNvbnN0IGJ5U3RhcnQgPSB7XG4gIC8vIGonYWltZVxuICBqOiAodGVybXMsIGkpID0+IGZyZW5jaC5wcmVKKHRlcm1zLCBpKSxcbiAgLy8gbCdhbW91clxuICBsOiAodGVybXMsIGkpID0+IGZyZW5jaC5wcmVMKHRlcm1zLCBpKSxcbiAgLy8gZCdhbWVyaXF1ZVxuICBkOiAodGVybXMsIGkpID0+IGZyZW5jaC5wcmVEKHRlcm1zLCBpKSxcbn1cblxuLy8gcHVsbC1hcGFydCBrbm93biBjb250cmFjdGlvbnMgZnJvbSBtb2RlbFxuY29uc3Qga25vd25PbmVzID0gZnVuY3Rpb24gKGxpc3QsIHRlcm0sIGJlZm9yZSwgYWZ0ZXIpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGV0IG8gPSBsaXN0W2ldXG4gICAgLy8gbG9vayBmb3Igd29yZC13b3JkIG1hdGNoIChjYW5ub3QtPiBbY2FuLCBub3RdKVxuICAgIGlmIChvLndvcmQgPT09IHRlcm0ubm9ybWFsKSB7XG4gICAgICByZXR1cm4gby5vdXRcbiAgICB9XG4gICAgLy8gbG9vayBmb3IgYWZ0ZXItbWF0Y2ggKCdyZSAtPiBbXywgYXJlXSlcbiAgICBlbHNlIGlmIChhZnRlciAhPT0gbnVsbCAmJiBhZnRlciA9PT0gby5hZnRlcikge1xuICAgICAgcmV0dXJuIFtiZWZvcmVdLmNvbmNhdChvLm91dClcbiAgICB9XG4gICAgLy8gbG9vayBmb3IgYmVmb3JlLW1hdGNoIChsJyAtPiBbbGUsIF9dKVxuICAgIGVsc2UgaWYgKGJlZm9yZSAhPT0gbnVsbCAmJiBiZWZvcmUgPT09IG8uYmVmb3JlICYmIGFmdGVyICYmIGFmdGVyLmxlbmd0aCA+IDIpIHtcbiAgICAgIHJldHVybiBvLm91dC5jb25jYXQoYWZ0ZXIpXG4gICAgICAvLyByZXR1cm4gW28ub3V0LCBhZnRlcl0gLy90eXBlb2Ygby5vdXQgPT09ICdzdHJpbmcnID8gW28ub3V0LCBhZnRlcl0gOiBvLm91dCh0ZXJtcywgaSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuY29uc3QgdG9Eb2NzID0gZnVuY3Rpb24gKHdvcmRzLCB2aWV3KSB7XG4gIGxldCBkb2MgPSB2aWV3LmZyb21UZXh0KHdvcmRzLmpvaW4oJyAnKSlcbiAgZG9jLmNvbXB1dGUoWydpZCcsICdhbGlhcyddKVxuICByZXR1cm4gZG9jLmRvY3NbMF1cbn1cblxuLy8gdGhlcmUncyBpcyB1c3VhbGx5IFt0aGVyZSwgaXNdXG4vLyBidXQgY2FuIGJlICd0aGVyZSBoYXMnIGZvciAndGhlcmUgaGFzICguLikgYmVlbidcbmNvbnN0IHRoZXJlSGFzID0gZnVuY3Rpb24gKHRlcm1zLCBpKSB7XG4gIGZvciAobGV0IGsgPSBpICsgMTsgayA8IDU7IGsgKz0gMSkge1xuICAgIGlmICghdGVybXNba10pIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGlmICh0ZXJtc1trXS5ub3JtYWwgPT09ICdiZWVuJykge1xuICAgICAgcmV0dXJuIFsndGhlcmUnLCAnaGFzJ11cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFsndGhlcmUnLCAnaXMnXVxufVxuXG4vL3JlYWxseSBlYXN5IG9uZXNcbmNvbnN0IGNvbnRyYWN0aW9ucyA9IHZpZXcgPT4ge1xuICBsZXQgeyB3b3JsZCwgZG9jdW1lbnQgfSA9IHZpZXdcbiAgY29uc3QgeyBtb2RlbCwgbWV0aG9kcyB9ID0gd29ybGRcbiAgbGV0IGxpc3QgPSBtb2RlbC5vbmUuY29udHJhY3Rpb25zIHx8IFtdXG4gIC8vIGxldCB1bml0cyA9IG5ldyBTZXQobW9kZWwub25lLnVuaXRzIHx8IFtdKVxuICAvLyBlYWNoIHNlbnRlbmNlXG4gIGRvY3VtZW50LmZvckVhY2goKHRlcm1zLCBuKSA9PiB7XG4gICAgLy8gbG9vcCB0aHJvdWdoIHRlcm1zIGJhY2t3YXJkc1xuICAgIGZvciAobGV0IGkgPSB0ZXJtcy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgbGV0IGJlZm9yZSA9IG51bGxcbiAgICAgIGxldCBhZnRlciA9IG51bGxcbiAgICAgIGlmIChieUFwb3N0cm9waGUudGVzdCh0ZXJtc1tpXS5ub3JtYWwpID09PSB0cnVlKSB7XG4gICAgICAgIGxldCByZXMgPSB0ZXJtc1tpXS5ub3JtYWwuc3BsaXQoYnlBcG9zdHJvcGhlKVxuICAgICAgICBiZWZvcmUgPSByZXNbMF1cbiAgICAgICAgYWZ0ZXIgPSByZXNbMV1cbiAgICAgIH1cbiAgICAgIC8vIGFueSBrbm93bi1vbmVzLCBsaWtlICdkdW5ubyc/XG4gICAgICBsZXQgd29yZHMgPSBrbm93bk9uZXMobGlzdCwgdGVybXNbaV0sIGJlZm9yZSwgYWZ0ZXIpXG4gICAgICAvLyBbJ2ZvbycsICdzJ11cbiAgICAgIGlmICghd29yZHMgJiYgYnlFbmQuaGFzT3duUHJvcGVydHkoYWZ0ZXIpKSB7XG4gICAgICAgIHdvcmRzID0gYnlFbmRbYWZ0ZXJdKHRlcm1zLCBpLCB3b3JsZClcbiAgICAgIH1cbiAgICAgIC8vIFsnaicsICdhaW1lJ11cbiAgICAgIGlmICghd29yZHMgJiYgYnlTdGFydC5oYXNPd25Qcm9wZXJ0eShiZWZvcmUpKSB7XG4gICAgICAgIHdvcmRzID0gYnlTdGFydFtiZWZvcmVdKHRlcm1zLCBpKVxuICAgICAgfVxuICAgICAgLy8gJ3RoZXJlIGlzJyB2cyAndGhlcmUgaGFzJ1xuICAgICAgaWYgKGJlZm9yZSA9PT0gJ3RoZXJlJyAmJiBhZnRlciA9PT0gJ3MnKSB7XG4gICAgICAgIHdvcmRzID0gdGhlcmVIYXModGVybXMsIGkpXG4gICAgICB9XG4gICAgICAvLyBhY3R1YWxseSBpbnNlcnQgdGhlIG5ldyB0ZXJtc1xuICAgICAgaWYgKHdvcmRzKSB7XG4gICAgICAgIHdvcmRzID0gdG9Eb2NzKHdvcmRzLCB2aWV3KVxuICAgICAgICBzcGxpY2UoZG9jdW1lbnQsIFtuLCBpXSwgd29yZHMpXG4gICAgICAgIHJlVGFnKGRvY3VtZW50W25dLCB2aWV3LCBpLCB3b3Jkcy5sZW5ndGgpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICAvLyAnNDQtMicgaGFzIHNwZWNpYWwgY2FyZVxuICAgICAgaWYgKG51bURhc2gudGVzdCh0ZXJtc1tpXS5ub3JtYWwpKSB7XG4gICAgICAgIHdvcmRzID0gbnVtYmVyUmFuZ2UodGVybXMsIGkpXG4gICAgICAgIGlmICh3b3Jkcykge1xuICAgICAgICAgIHdvcmRzID0gdG9Eb2NzKHdvcmRzLCB2aWV3KVxuICAgICAgICAgIHNwbGljZShkb2N1bWVudCwgW24sIGldLCB3b3JkcylcbiAgICAgICAgICBtZXRob2RzLm9uZS5zZXRUYWcod29yZHMsICdOdW1iZXJSYW5nZScsIHdvcmxkKSAvL2FkZCBjdXN0b20gdGFnXG4gICAgICAgICAgLy8gaXMgaXQgYSB0aW1lLXJhbmdlLCBsaWtlICc1LTlwbSdcbiAgICAgICAgICBpZiAod29yZHNbMl0gJiYgd29yZHNbMl0udGFncy5oYXMoJ1RpbWUnKSkge1xuICAgICAgICAgICAgbWV0aG9kcy5vbmUuc2V0VGFnKFt3b3Jkc1swXV0sICdUaW1lJywgd29ybGQsIG51bGwsICd0aW1lLXJhbmdlJylcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVUYWcoZG9jdW1lbnRbbl0sIHZpZXcsIGksIHdvcmRzLmxlbmd0aClcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgLy8gc3BsaXQtYXBhcnQgJzRrbSdcbiAgICAgIHdvcmRzID0gbnVtYmVyVW5pdCh0ZXJtcywgaSwgd29ybGQpXG4gICAgICBpZiAod29yZHMpIHtcbiAgICAgICAgd29yZHMgPSB0b0RvY3Mod29yZHMsIHZpZXcpXG4gICAgICAgIHNwbGljZShkb2N1bWVudCwgW24sIGldLCB3b3JkcylcbiAgICAgICAgbWV0aG9kcy5vbmUuc2V0VGFnKFt3b3Jkc1sxXV0sICdVbml0Jywgd29ybGQsIG51bGwsICdjb250cmFjdGlvbi11bml0JylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5leHBvcnQgZGVmYXVsdCBjb250cmFjdGlvbnNcbiIsICJpbXBvcnQgY29udHJhY3Rpb25zIGZyb20gJy4vY29udHJhY3Rpb25zL2luZGV4LmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7IGNvbnRyYWN0aW9ucyB9XG4iLCAiaW1wb3J0IG1vZGVsIGZyb20gJy4vbW9kZWwvaW5kZXguanMnXG5pbXBvcnQgY29tcHV0ZSBmcm9tICcuL2NvbXB1dGUvaW5kZXguanMnXG5cbmNvbnN0IHBsdWdpbiA9IHtcbiAgbW9kZWw6IG1vZGVsLFxuICBjb21wdXRlOiBjb21wdXRlLFxuICBob29rczogWydjb250cmFjdGlvbnMnXSxcbn1cbmV4cG9ydCBkZWZhdWx0IHBsdWdpblxuIiwgImNvbnN0IGZyZWV6ZSA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIGNvbnN0IHdvcmxkID0gdmlldy53b3JsZFxuICBjb25zdCB7IG1vZGVsLCBtZXRob2RzIH0gPSB2aWV3LndvcmxkXG4gIGNvbnN0IHNldFRhZyA9IG1ldGhvZHMub25lLnNldFRhZ1xuICBjb25zdCB7IGZyb3plbkxleCB9ID0gbW9kZWwub25lXG4gIGNvbnN0IG11bHRpID0gbW9kZWwub25lLl9tdWx0aUNhY2hlIHx8IHt9XG5cbiAgdmlldy5kb2NzLmZvckVhY2godGVybXMgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVybXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIC8vIGJhc2ljIGxleGljb24gbG9va3VwXG4gICAgICBsZXQgdCA9IHRlcm1zW2ldXG4gICAgICBsZXQgd29yZCA9IHQubWFjaGluZSB8fCB0Lm5vcm1hbFxuXG4gICAgICAvLyB0ZXN0IGEgbXVsdGktd29yZFxuICAgICAgaWYgKG11bHRpW3dvcmRdICE9PSB1bmRlZmluZWQgJiYgdGVybXNbaSArIDFdKSB7XG4gICAgICAgIGxldCBlbmQgPSBpICsgbXVsdGlbd29yZF0gLSAxXG4gICAgICAgIGZvciAobGV0IGsgPSBlbmQ7IGsgPiBpOyBrIC09IDEpIHtcbiAgICAgICAgICBsZXQgd29yZHMgPSB0ZXJtcy5zbGljZShpLCBrICsgMSlcbiAgICAgICAgICBsZXQgc3RyID0gd29yZHMubWFwKHRlcm0gPT4gdGVybS5tYWNoaW5lIHx8IHRlcm0ubm9ybWFsKS5qb2luKCcgJylcbiAgICAgICAgICAvLyBsb29rdXAgZnJvemVuIGxleGljb25cbiAgICAgICAgICBpZiAoZnJvemVuTGV4Lmhhc093blByb3BlcnR5KHN0cikgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHNldFRhZyh3b3JkcywgZnJvemVuTGV4W3N0cl0sIHdvcmxkLCBmYWxzZSwgJzEtZnJvemVuLW11bHRpLWxleGljb24nKVxuICAgICAgICAgICAgd29yZHMuZm9yRWFjaCh0ZXJtID0+ICh0ZXJtLmZyb3plbiA9IHRydWUpKVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHRlc3Qgc2luZ2xlIHdvcmRcbiAgICAgIGlmIChmcm96ZW5MZXhbd29yZF0gIT09IHVuZGVmaW5lZCAmJiBmcm96ZW5MZXguaGFzT3duUHJvcGVydHkod29yZCkpIHtcbiAgICAgICAgc2V0VGFnKFt0XSwgZnJvemVuTGV4W3dvcmRdLCB3b3JsZCwgZmFsc2UsICcxLWZyZWV6ZS1sZXhpY29uJylcbiAgICAgICAgdC5mcm96ZW4gPSB0cnVlXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG5jb25zdCB1bmZyZWV6ZSA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIHZpZXcuZG9jcy5mb3JFYWNoKHRzID0+IHtcbiAgICB0cy5mb3JFYWNoKHRlcm0gPT4ge1xuICAgICAgZGVsZXRlIHRlcm0uZnJvemVuXG4gICAgfSlcbiAgfSlcbiAgcmV0dXJuIHZpZXdcbn1cbmV4cG9ydCBkZWZhdWx0IHsgZnJvemVuOiBmcmVlemUsIGZyZWV6ZSwgdW5mcmVlemUgfVxuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmNvbnN0IGJsdWUgPSBzdHIgPT4gJ1xceDFiWzM0bScgKyBzdHIgKyAnXFx4MWJbMG0nXG5jb25zdCBkaW0gPSBzdHIgPT4gJ1xceDFiWzNtXFx4MWJbMm0nICsgc3RyICsgJ1xceDFiWzBtJ1xuXG5jb25zdCBkZWJ1ZyA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIHZpZXcuZG9jcy5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICBjb25zb2xlLmxvZyhibHVlKCdcXG4gIFx1MjUwQ1x1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMCcpKVxuICAgIHRlcm1zLmZvckVhY2godCA9PiB7XG4gICAgICBsZXQgc3RyID0gYCAgJHtkaW0oJ1x1MjUwMicpfSAgYFxuICAgICAgbGV0IHR4dCA9IHQuaW1wbGljaXQgfHwgdC50ZXh0IHx8ICctJ1xuICAgICAgaWYgKHQuZnJvemVuID09PSB0cnVlKSB7XG4gICAgICAgIHN0ciArPSBgJHtibHVlKHR4dCl9IFx1Mjc0NFx1RkUwRmBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciArPSBkaW0odHh0KVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coc3RyKVxuICAgIH0pXG4gIH0pXG59XG5leHBvcnQgZGVmYXVsdCBkZWJ1Z1xuIiwgImltcG9ydCBjb21wdXRlIGZyb20gJy4vY29tcHV0ZS5qcydcbmltcG9ydCBkZWJ1ZyBmcm9tICcuL2RlYnVnLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8vIGFkZCAuY29tcHV0ZSgnZnJlZXplJylcbiAgY29tcHV0ZSxcblxuICBtdXRhdGU6IHdvcmxkID0+IHtcbiAgICBjb25zdCBtZXRob2RzID0gd29ybGQubWV0aG9kcy5vbmVcbiAgICAvLyBhZGQgQGlzRnJvemVuIG1ldGhvZFxuICAgIG1ldGhvZHMudGVybU1ldGhvZHMuaXNGcm96ZW4gPSB0ZXJtID0+IHRlcm0uZnJvemVuID09PSB0cnVlXG4gICAgLy8gYWRkcyBgLmRlYnVnKCdmcm96ZW4nKWBcbiAgICBtZXRob2RzLmRlYnVnLmZyZWV6ZSA9IGRlYnVnXG4gICAgbWV0aG9kcy5kZWJ1Zy5mcm96ZW4gPSBkZWJ1Z1xuICB9LFxuXG4gIGFwaTogZnVuY3Rpb24gKFZpZXcpIHtcbiAgICAvLyBzZXQgYWxsIHRlcm1zIHRvIHJlamVjdCBhbnkgZGVzY3RydWN0aXZlIHRhZ3NcbiAgICBWaWV3LnByb3RvdHlwZS5mcmVlemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmRvY3MuZm9yRWFjaCh0cyA9PiB7XG4gICAgICAgIHRzLmZvckVhY2godGVybSA9PiB7XG4gICAgICAgICAgdGVybS5mcm96ZW4gPSB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgLy8gcmVzZXQgYWxsIHRlcm1zIHRvIGFsbG93ICBhbnkgZGVzY3RydWN0aXZlIHRhZ3NcbiAgICBWaWV3LnByb3RvdHlwZS51bmZyZWV6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY29tcHV0ZSgndW5mcmVlemUnKVxuICAgIH1cbiAgICAvLyByZXR1cm4gYWxsIGZyb3plbiB0ZXJtc1xuICAgIFZpZXcucHJvdG90eXBlLmlzRnJvemVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2goJ0Bpc0Zyb3plbisnKVxuICAgIH1cbiAgfSxcbiAgLy8gcnVuIGl0IGluIGluaXRcbiAgaG9va3M6IFsnZnJlZXplJ10sXG59XG4iLCAiLy8gc2Nhbi1haGVhZCB0byBtYXRjaCBtdWx0aXBsZS13b3JkIHRlcm1zIC0gJ2phY2sgcmFiYml0J1xuY29uc3QgbXVsdGlXb3JkID0gZnVuY3Rpb24gKHRlcm1zLCBzdGFydF9pLCB3b3JsZCkge1xuICBjb25zdCB7IG1vZGVsLCBtZXRob2RzIH0gPSB3b3JsZFxuICBjb25zdCBzZXRUYWcgPSBtZXRob2RzLm9uZS5zZXRUYWdcbiAgY29uc3QgbXVsdGkgPSBtb2RlbC5vbmUuX211bHRpQ2FjaGUgfHwge31cbiAgY29uc3QgeyBsZXhpY29uIH0gPSBtb2RlbC5vbmUgfHwge31cbiAgbGV0IHQgPSB0ZXJtc1tzdGFydF9pXVxuICBsZXQgd29yZCA9IHQubWFjaGluZSB8fCB0Lm5vcm1hbFxuXG4gIC8vIGZvdW5kIGEgd29yZCB0byBzY2FuLWFoZWFkIG9uXG4gIGlmIChtdWx0aVt3b3JkXSAhPT0gdW5kZWZpbmVkICYmIHRlcm1zW3N0YXJ0X2kgKyAxXSkge1xuICAgIGxldCBlbmQgPSBzdGFydF9pICsgbXVsdGlbd29yZF0gLSAxXG4gICAgZm9yIChsZXQgaSA9IGVuZDsgaSA+IHN0YXJ0X2k7IGkgLT0gMSkge1xuICAgICAgbGV0IHdvcmRzID0gdGVybXMuc2xpY2Uoc3RhcnRfaSwgaSArIDEpXG4gICAgICBpZiAod29yZHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBsZXQgc3RyID0gd29yZHMubWFwKHRlcm0gPT4gdGVybS5tYWNoaW5lIHx8IHRlcm0ubm9ybWFsKS5qb2luKCcgJylcbiAgICAgIC8vIGxvb2t1cCByZWd1bGFyIGxleGljb25cbiAgICAgIGlmIChsZXhpY29uLmhhc093blByb3BlcnR5KHN0cikgPT09IHRydWUpIHtcbiAgICAgICAgbGV0IHRhZyA9IGxleGljb25bc3RyXVxuICAgICAgICBzZXRUYWcod29yZHMsIHRhZywgd29ybGQsIGZhbHNlLCAnMS1tdWx0aS1sZXhpY29uJylcbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBwaHJhc2FsLXZlcmJzIC0gMm5kIHdvcmQgaXMgYSAjUGFydGljbGVcbiAgICAgICAgaWYgKHRhZyAmJiB0YWcubGVuZ3RoID09PSAyICYmICh0YWdbMF0gPT09ICdQaHJhc2FsVmVyYicgfHwgdGFnWzFdID09PSAnUGhyYXNhbFZlcmInKSkge1xuICAgICAgICAgIHNldFRhZyhbd29yZHNbMV1dLCAnUGFydGljbGUnLCB3b3JsZCwgZmFsc2UsICcxLXBocmFzYWwtcGFydGljbGUnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHJldHVybiBudWxsXG59XG5leHBvcnQgZGVmYXVsdCBtdWx0aVdvcmRcbiIsICJjb25zdCBwcmVmaXggPSAvXih1bmRlcnxvdmVyfG1pc3xyZXx1bnxkaXN8c2VtaXxwcmV8cG9zdCktPy9cbi8vIGFudGl8bm9ufGV4dHJhfGludGVyfGludHJhfG92ZXJcbmNvbnN0IGFsbG93UHJlZml4ID0gbmV3IFNldChbJ1ZlcmInLCAnSW5maW5pdGl2ZScsICdQYXN0VGVuc2UnLCAnR2VydW5kJywgJ1ByZXNlbnRUZW5zZScsICdBZGplY3RpdmUnLCAnUGFydGljaXBsZSddKVxuXG4vLyB0YWcgYW55IHdvcmRzIGluIG91ciBsZXhpY29uXG5jb25zdCBjaGVja0xleGljb24gPSBmdW5jdGlvbiAodGVybXMsIGksIHdvcmxkKSB7XG4gIGNvbnN0IHsgbW9kZWwsIG1ldGhvZHMgfSA9IHdvcmxkXG4gIC8vIGNvbnN0IGZhc3RUYWcgPSBtZXRob2RzLm9uZS5mYXN0VGFnXG4gIGNvbnN0IHNldFRhZyA9IG1ldGhvZHMub25lLnNldFRhZ1xuICBjb25zdCB7IGxleGljb24gfSA9IG1vZGVsLm9uZVxuXG4gIC8vIGJhc2ljIGxleGljb24gbG9va3VwXG4gIGxldCB0ID0gdGVybXNbaV1cbiAgbGV0IHdvcmQgPSB0Lm1hY2hpbmUgfHwgdC5ub3JtYWxcbiAgLy8gbm9ybWFsIGxleGljb24gbG9va3VwXG4gIGlmIChsZXhpY29uW3dvcmRdICE9PSB1bmRlZmluZWQgJiYgbGV4aWNvbi5oYXNPd25Qcm9wZXJ0eSh3b3JkKSkge1xuICAgIHNldFRhZyhbdF0sIGxleGljb25bd29yZF0sIHdvcmxkLCBmYWxzZSwgJzEtbGV4aWNvbicpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICAvLyBsb29rdXAgYWxpYXNlcyBpbiB0aGUgbGV4aWNvblxuICBpZiAodC5hbGlhcykge1xuICAgIGxldCBmb3VuZCA9IHQuYWxpYXMuZmluZChzdHIgPT4gbGV4aWNvbi5oYXNPd25Qcm9wZXJ0eShzdHIpKVxuICAgIGlmIChmb3VuZCkge1xuICAgICAgc2V0VGFnKFt0XSwgbGV4aWNvbltmb3VuZF0sIHdvcmxkLCBmYWxzZSwgJzEtbGV4aWNvbi1hbGlhcycpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuICAvLyBwcmVmaXhpbmcgZm9yIHZlcmJzL2FkamVjdGl2ZXNcbiAgaWYgKHByZWZpeC50ZXN0KHdvcmQpID09PSB0cnVlKSB7XG4gICAgbGV0IHN0ZW0gPSB3b3JkLnJlcGxhY2UocHJlZml4LCAnJylcbiAgICBpZiAobGV4aWNvbi5oYXNPd25Qcm9wZXJ0eShzdGVtKSAmJiBzdGVtLmxlbmd0aCA+IDMpIHtcbiAgICAgIC8vIG9ubHkgYWxsb3cgcHJlZml4ZXMgZm9yIHZlcmJzL2FkamVjdGl2ZXNcbiAgICAgIGlmIChhbGxvd1ByZWZpeC5oYXMobGV4aWNvbltzdGVtXSkpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJy0+Jywgd29yZCwgc3RlbSwgbGV4aWNvbltzdGVtXSlcbiAgICAgICAgc2V0VGFnKFt0XSwgbGV4aWNvbltzdGVtXSwgd29ybGQsIGZhbHNlLCAnMS1sZXhpY29uLXByZWZpeCcpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5leHBvcnQgZGVmYXVsdCBjaGVja0xleGljb25cbiIsICJpbXBvcnQgbXVsdGlXb3JkIGZyb20gJy4vbXVsdGktd29yZC5qcydcbmltcG9ydCBzaW5nbGVXb3JkIGZyb20gJy4vc2luZ2xlLXdvcmQuanMnXG5cbi8vIHRhZyBhbnkgd29yZHMgaW4gb3VyIGxleGljb24gLSBldmVuIGlmIGl0IGhhc24ndCBiZWVuIGZpbGxlZC11cCB5ZXRcbi8vIHJlc3Qgb2YgcHJlLXRhZ2dlciBpcyBpbiAuL3R3by9wcmVUYWdnZXJcbmNvbnN0IGxleGljb24gPSBmdW5jdGlvbiAodmlldykge1xuICBjb25zdCB3b3JsZCA9IHZpZXcud29ybGRcbiAgLy8gbG9vcCB0aHJvdWdoIG91ciB0ZXJtc1xuICB2aWV3LmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHRlcm1zW2ldLnRhZ3Muc2l6ZSA9PT0gMCkge1xuICAgICAgICBsZXQgZm91bmQgPSBudWxsXG4gICAgICAgIGZvdW5kID0gZm91bmQgfHwgbXVsdGlXb3JkKHRlcm1zLCBpLCB3b3JsZClcbiAgICAgICAgLy8gbG9va3VwIGtub3duIHdvcmRzXG4gICAgICAgIGZvdW5kID0gZm91bmQgfHwgc2luZ2xlV29yZCh0ZXJtcywgaSwgd29ybGQpXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGxleGljb24sXG59XG4iLCAiLy8gZGVyaXZlIGNsZXZlciB0aGluZ3MgZnJvbSBvdXIgbGV4aWNvbiBrZXktdmFsdWUgcGFpcnNcbmNvbnN0IGV4cGFuZCA9IGZ1bmN0aW9uICh3b3Jkcykge1xuICAvLyBjb25zdCB7IG1ldGhvZHMsIG1vZGVsIH0gPSB3b3JsZFxuICBsZXQgbGV4ID0ge31cbiAgLy8gY29uc29sZS5sb2coJ3N0YXJ0OicsIE9iamVjdC5rZXlzKGxleCkubGVuZ3RoKVxuICBsZXQgX211bHRpID0ge31cbiAgLy8gZ28gdGhyb3VnaCBlYWNoIHdvcmQgaW4gdGhpcyBrZXktdmFsdWUgb2JqOlxuICBPYmplY3Qua2V5cyh3b3JkcykuZm9yRWFjaCh3b3JkID0+IHtcbiAgICBsZXQgdGFnID0gd29yZHNbd29yZF1cbiAgICAvLyBub3JtYWxpemUgbGV4aWNvbiBhIGxpdHRsZSBiaXRcbiAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgIHdvcmQgPSB3b3JkLnJlcGxhY2UoLydzXFxiLywgJycpXG4gICAgLy8gY2FjaGUgbXVsdGktd29yZCB0ZXJtc1xuICAgIGxldCBzcGxpdCA9IHdvcmQuc3BsaXQoLyAvKVxuICAgIGlmIChzcGxpdC5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBwcmVmZXIgbG9uZ2VyIG9uZXNcbiAgICAgIGlmIChfbXVsdGlbc3BsaXRbMF1dID09PSB1bmRlZmluZWQgfHwgc3BsaXQubGVuZ3RoID4gX211bHRpW3NwbGl0WzBdXSkge1xuICAgICAgICBfbXVsdGlbc3BsaXRbMF1dID0gc3BsaXQubGVuZ3RoXG4gICAgICB9XG4gICAgfVxuICAgIGxleFt3b3JkXSA9IGxleFt3b3JkXSB8fCB0YWdcbiAgfSlcbiAgLy8gY2xlYW51cFxuICBkZWxldGUgbGV4WycnXVxuICBkZWxldGUgbGV4W251bGxdXG4gIGRlbGV0ZSBsZXhbJyAnXVxuICByZXR1cm4geyBsZXgsIF9tdWx0aSB9XG59XG5leHBvcnQgZGVmYXVsdCBleHBhbmRcbiIsICJpbXBvcnQgZXhwYW5kTGV4aWNvbiBmcm9tICcuL2V4cGFuZC5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBvbmU6IHtcbiAgICBleHBhbmRMZXhpY29uLFxuICB9XG59IiwgIi8qKiBpbnNlcnQgbmV3IHdvcmRzL3BocmFzZXMgaW50byB0aGUgbGV4aWNvbiAqL1xuY29uc3QgYWRkV29yZHMgPSBmdW5jdGlvbiAod29yZHMsIGlzRnJvemVuID0gZmFsc2UpIHtcbiAgY29uc3Qgd29ybGQgPSB0aGlzLndvcmxkKClcbiAgY29uc3QgeyBtZXRob2RzLCBtb2RlbCB9ID0gd29ybGRcbiAgaWYgKCF3b3Jkcykge1xuICAgIHJldHVyblxuICB9XG4gIC8vIG5vcm1hbGl6ZSB0YWcgdmFsc1xuICBPYmplY3Qua2V5cyh3b3JkcykuZm9yRWFjaChrID0+IHtcbiAgICBpZiAodHlwZW9mIHdvcmRzW2tdID09PSAnc3RyaW5nJyAmJiB3b3Jkc1trXS5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgIHdvcmRzW2tdID0gd29yZHNba10ucmVwbGFjZSgvXiMvLCAnJylcbiAgICB9XG4gIH0pXG4gIC8vIHRoZXNlIHdvcmRzIGdvIGludG8gYSBzZXBlcmF0ZSBsZXhpY29uXG4gIGlmIChpc0Zyb3plbiA9PT0gdHJ1ZSkge1xuICAgIGxldCB7IGxleCwgX211bHRpIH0gPSBtZXRob2RzLm9uZS5leHBhbmRMZXhpY29uKHdvcmRzLCB3b3JsZClcbiAgICBPYmplY3QuYXNzaWduKG1vZGVsLm9uZS5fbXVsdGlDYWNoZSwgX211bHRpKVxuICAgIE9iamVjdC5hc3NpZ24obW9kZWwub25lLmZyb3plbkxleCwgbGV4KVxuICAgIHJldHVyblxuICB9XG4gIC8vIGFkZCBzb21lIHdvcmRzIHRvIG91ciBsZXhpY29uXG4gIGlmIChtZXRob2RzLnR3by5leHBhbmRMZXhpY29uKSB7XG4gICAgLy8gZG8gZmFuY3kgLi90d28gdmVyc2lvblxuICAgIGxldCB7IGxleCwgX211bHRpIH0gPSBtZXRob2RzLnR3by5leHBhbmRMZXhpY29uKHdvcmRzLCB3b3JsZClcbiAgICBPYmplY3QuYXNzaWduKG1vZGVsLm9uZS5sZXhpY29uLCBsZXgpXG4gICAgT2JqZWN0LmFzc2lnbihtb2RlbC5vbmUuX211bHRpQ2FjaGUsIF9tdWx0aSlcbiAgfVxuICAvLyBkbyBiYXNpYyAuL29uZSB2ZXJzaW9uXG4gIGxldCB7IGxleCwgX211bHRpIH0gPSBtZXRob2RzLm9uZS5leHBhbmRMZXhpY29uKHdvcmRzLCB3b3JsZClcbiAgT2JqZWN0LmFzc2lnbihtb2RlbC5vbmUubGV4aWNvbiwgbGV4KVxuICBPYmplY3QuYXNzaWduKG1vZGVsLm9uZS5fbXVsdGlDYWNoZSwgX211bHRpKVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGFkZFdvcmRzIH1cbiIsICJpbXBvcnQgY29tcHV0ZSBmcm9tICcuL2NvbXB1dGUvaW5kZXguanMnXG5pbXBvcnQgbWV0aG9kcyBmcm9tICcuL21ldGhvZHMvaW5kZXguanMnXG5pbXBvcnQgbGliIGZyb20gJy4vbGliLmpzJ1xuXG5jb25zdCBtb2RlbCA9IHtcbiAgb25lOiB7XG4gICAgbGV4aWNvbjoge30sIC8vc2V0dXAgYmxhbmsgbGV4aWNvblxuICAgIF9tdWx0aUNhY2hlOiB7fSxcbiAgICBmcm96ZW5MZXg6IHt9LCAvLzJuZCBsZXhpY29uXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbW9kZWwsXG4gIG1ldGhvZHMsXG4gIGNvbXB1dGUsXG4gIGxpYixcbiAgaG9va3M6IFsnbGV4aWNvbiddLFxufVxuIiwgIi8vIGVkaXRlZCBieSBTcGVuY2VyIEtlbGx5XG4vLyBjcmVkaXQgdG8gaHR0cHM6Ly9naXRodWIuY29tL0JydW5vUkIvYWhvY29yYXNpY2sgYnkgQnJ1bm8gUm9iZXJ0byBCXHUwMEZBcmlnby5cblxuY29uc3QgdG9rZW5pemUgPSBmdW5jdGlvbiAocGhyYXNlLCB3b3JsZCkge1xuICBjb25zdCB7IG1ldGhvZHMsIG1vZGVsIH0gPSB3b3JsZFxuICBsZXQgdGVybXMgPSBtZXRob2RzLm9uZS50b2tlbml6ZS5zcGxpdFRlcm1zKHBocmFzZSwgbW9kZWwpLm1hcCh0ID0+IG1ldGhvZHMub25lLnRva2VuaXplLnNwbGl0V2hpdGVzcGFjZSh0LCBtb2RlbCkpXG4gIHJldHVybiB0ZXJtcy5tYXAodGVybSA9PiB0ZXJtLnRleHQudG9Mb3dlckNhc2UoKSlcbn1cblxuLy8gdHVybiBhbiBhcnJheSBvciBvYmplY3QgaW50byBhIGNvbXByZXNzZWQgYWhvLWNvcmFzaWNrIHN0cnVjdHVyZVxuY29uc3QgYnVpbGRUcmllID0gZnVuY3Rpb24gKHBocmFzZXMsIHdvcmxkKSB7XG5cbiAgLy8gY29uc3QgdG9rZW5pemU9bWV0aG9kcy5vbmUuXG4gIGxldCBnb05leHQgPSBbe31dXG4gIGxldCBlbmRBcyA9IFtudWxsXVxuICBsZXQgZmFpbFRvID0gWzBdXG5cbiAgbGV0IHhzID0gW11cbiAgbGV0IG4gPSAwXG4gIHBocmFzZXMuZm9yRWFjaChmdW5jdGlvbiAocGhyYXNlKSB7XG4gICAgbGV0IGN1cnIgPSAwXG4gICAgLy8gbGV0IHdvcmRzQiA9IHBocmFzZS5zcGxpdCgvIC9nKS5maWx0ZXIodyA9PiB3KVxuICAgIGxldCB3b3JkcyA9IHRva2VuaXplKHBocmFzZSwgd29ybGQpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHdvcmQgPSB3b3Jkc1tpXVxuICAgICAgaWYgKGdvTmV4dFtjdXJyXSAmJiBnb05leHRbY3Vycl0uaGFzT3duUHJvcGVydHkod29yZCkpIHtcbiAgICAgICAgY3VyciA9IGdvTmV4dFtjdXJyXVt3b3JkXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbisrXG4gICAgICAgIGdvTmV4dFtjdXJyXVt3b3JkXSA9IG5cbiAgICAgICAgZ29OZXh0W25dID0ge31cbiAgICAgICAgY3VyciA9IG5cbiAgICAgICAgZW5kQXNbbl0gPSBudWxsXG4gICAgICB9XG4gICAgfVxuICAgIGVuZEFzW2N1cnJdID0gW3dvcmRzLmxlbmd0aF1cbiAgfSlcbiAgLy8gZihzKSA9IDAgZm9yIGFsbCBzdGF0ZXMgb2YgZGVwdGggMSAodGhlIG9uZXMgZnJvbSB3aGljaCB0aGUgMCBzdGF0ZSBjYW4gdHJhbnNpdGlvbiB0bylcbiAgZm9yIChsZXQgd29yZCBpbiBnb05leHRbMF0pIHtcbiAgICBuID0gZ29OZXh0WzBdW3dvcmRdXG4gICAgZmFpbFRvW25dID0gMFxuICAgIHhzLnB1c2gobilcbiAgfVxuXG4gIHdoaWxlICh4cy5sZW5ndGgpIHtcbiAgICBsZXQgciA9IHhzLnNoaWZ0KClcbiAgICAvLyBmb3IgZWFjaCBzeW1ib2wgYSBzdWNoIHRoYXQgZyhyLCBhKSA9IHNcbiAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKGdvTmV4dFtyXSlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGxldCB3b3JkID0ga2V5c1tpXVxuICAgICAgbGV0IHMgPSBnb05leHRbcl1bd29yZF1cbiAgICAgIHhzLnB1c2gocylcbiAgICAgIC8vIHNldCBzdGF0ZSA9IGYocilcbiAgICAgIG4gPSBmYWlsVG9bcl1cbiAgICAgIHdoaWxlIChuID4gMCAmJiAhZ29OZXh0W25dLmhhc093blByb3BlcnR5KHdvcmQpKSB7XG4gICAgICAgIG4gPSBmYWlsVG9bbl1cbiAgICAgIH1cbiAgICAgIGlmIChnb05leHQuaGFzT3duUHJvcGVydHkobikpIHtcbiAgICAgICAgbGV0IGZzID0gZ29OZXh0W25dW3dvcmRdXG4gICAgICAgIGZhaWxUb1tzXSA9IGZzXG4gICAgICAgIGlmIChlbmRBc1tmc10pIHtcbiAgICAgICAgICBlbmRBc1tzXSA9IGVuZEFzW3NdIHx8IFtdXG4gICAgICAgICAgZW5kQXNbc10gPSBlbmRBc1tzXS5jb25jYXQoZW5kQXNbZnNdKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmYWlsVG9bc10gPSAwXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7IGdvTmV4dCwgZW5kQXMsIGZhaWxUbyB9XG59XG5leHBvcnQgZGVmYXVsdCBidWlsZFRyaWVcblxuLy8gY29uc29sZS5sb2coYnVpbGRUcmllKFsnc21hcnQgYW5kIGNvb2wnLCAnc21hcnQgYW5kIG5pY2UnXSkpXG4iLCAiLy8gZm9sbG93IG91ciB0cmllIHN0cnVjdHVyZVxuY29uc3Qgc2NhbldvcmRzID0gZnVuY3Rpb24gKHRlcm1zLCB0cmllLCBvcHRzKSB7XG4gIGxldCBuID0gMFxuICBsZXQgcmVzdWx0cyA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGVybXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgd29yZCA9IHRlcm1zW2ldW29wdHMuZm9ybV0gfHwgdGVybXNbaV0ubm9ybWFsXG4gICAgLy8gbWFpbiBtYXRjaC1sb2dpYyBsb29wOlxuICAgIHdoaWxlIChuID4gMCAmJiAodHJpZS5nb05leHRbbl0gPT09IHVuZGVmaW5lZCB8fCAhdHJpZS5nb05leHRbbl0uaGFzT3duUHJvcGVydHkod29yZCkpKSB7XG4gICAgICBuID0gdHJpZS5mYWlsVG9bbl0gfHwgMCAvLyAodXN1YWxseSBiYWNrIHRvIDApXG4gICAgfVxuICAgIC8vIGRpZCB3ZSBmYWlsP1xuICAgIGlmICghdHJpZS5nb05leHRbbl0uaGFzT3duUHJvcGVydHkod29yZCkpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIG4gPSB0cmllLmdvTmV4dFtuXVt3b3JkXVxuICAgIGlmICh0cmllLmVuZEFzW25dKSB7XG4gICAgICBsZXQgYXJyID0gdHJpZS5lbmRBc1tuXVxuICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCBhcnIubGVuZ3RoOyBvKyspIHtcbiAgICAgICAgbGV0IGxlbiA9IGFycltvXVxuICAgICAgICBsZXQgdGVybSA9IHRlcm1zW2kgLSBsZW4gKyAxXVxuICAgICAgICBsZXQgW25vLCBzdGFydF0gPSB0ZXJtLmluZGV4XG4gICAgICAgIHJlc3VsdHMucHVzaChbbm8sIHN0YXJ0LCBzdGFydCArIGxlbiwgdGVybS5pZF0pXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzXG59XG5cbmNvbnN0IGNhY2hlTWlzcyA9IGZ1bmN0aW9uICh3b3JkcywgY2FjaGUpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChjYWNoZS5oYXMod29yZHNbaV0pID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuY29uc3Qgc2NhbiA9IGZ1bmN0aW9uICh2aWV3LCB0cmllLCBvcHRzKSB7XG4gIGxldCByZXN1bHRzID0gW11cbiAgb3B0cy5mb3JtID0gb3B0cy5mb3JtIHx8ICdub3JtYWwnXG4gIGxldCBkb2NzID0gdmlldy5kb2NzXG4gIGlmICghdHJpZS5nb05leHQgfHwgIXRyaWUuZ29OZXh0WzBdKSB7XG4gICAgY29uc29sZS5lcnJvcignQ29tcHJvbWlzZSBpbnZhbGlkIGxvb2t1cCB0cmllJykvL2VzbGludC1kaXNhYmxlLWxpbmVcbiAgICByZXR1cm4gdmlldy5ub25lKClcbiAgfVxuICBsZXQgZmlyc3RXb3JkcyA9IE9iamVjdC5rZXlzKHRyaWUuZ29OZXh0WzBdKVxuICAvLyBkbyBlYWNoIHBocmFzZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBjYW4gd2Ugc2tpcCB0aGUgcGhyYXNlLCBhbGwgdG9nZXRoZXI/XG4gICAgaWYgKHZpZXcuX2NhY2hlICYmIHZpZXcuX2NhY2hlW2ldICYmIGNhY2hlTWlzcyhmaXJzdFdvcmRzLCB2aWV3Ll9jYWNoZVtpXSkgPT09IHRydWUpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIGxldCB0ZXJtcyA9IGRvY3NbaV1cbiAgICBsZXQgZm91bmQgPSBzY2FuV29yZHModGVybXMsIHRyaWUsIG9wdHMpXG4gICAgaWYgKGZvdW5kLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChmb3VuZClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZpZXcudXBkYXRlKHJlc3VsdHMpXG59XG5leHBvcnQgZGVmYXVsdCBzY2FuXG4iLCAiaW1wb3J0IGJ1aWxkIGZyb20gJy4vYnVpbGRUcmllL2luZGV4LmpzJ1xuaW1wb3J0IHNjYW4gZnJvbSAnLi9zY2FuLmpzJ1xuXG5jb25zdCBpc09iamVjdCA9IHZhbCA9PiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSdcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKFZpZXcpIHtcblxuICAvKiogZmluZCBhbGwgbWF0Y2hlcyBpbiB0aGlzIGRvY3VtZW50ICovXG4gIFZpZXcucHJvdG90eXBlLmxvb2t1cCA9IGZ1bmN0aW9uIChpbnB1dCwgb3B0cyA9IHt9KSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9uZSgpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpbnB1dCA9IFtpbnB1dF1cbiAgICB9XG4gICAgbGV0IHRyaWUgPSBpc09iamVjdChpbnB1dCkgPyBpbnB1dCA6IGJ1aWxkKGlucHV0LCB0aGlzLndvcmxkKVxuICAgIGxldCByZXMgPSBzY2FuKHRoaXMsIHRyaWUsIG9wdHMpXG4gICAgcmVzID0gcmVzLnNldHRsZSgpXG4gICAgcmV0dXJuIHJlc1xuICB9XG59IiwgIi8vIGNob3Atb2ZmIHRhaWwgb2YgcmVkdW5kYW50IHZhbHMgYXQgZW5kIG9mIGFycmF5XG5jb25zdCB0cnVuY2F0ZSA9IChsaXN0LCB2YWwpID0+IHtcbiAgZm9yIChsZXQgaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICBpZiAobGlzdFtpXSAhPT0gdmFsKSB7XG4gICAgICBsaXN0ID0gbGlzdC5zbGljZSgwLCBpICsgMSlcbiAgICAgIHJldHVybiBsaXN0XG4gICAgfVxuICB9XG4gIHJldHVybiBsaXN0XG59XG5cbi8vIHBydW5lIHRyaWUgYSBiaXRcbmNvbnN0IGNvbXByZXNzID0gZnVuY3Rpb24gKHRyaWUpIHtcbiAgdHJpZS5nb05leHQgPSB0cmllLmdvTmV4dC5tYXAobyA9PiB7XG4gICAgaWYgKE9iamVjdC5rZXlzKG8pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgICByZXR1cm4gb1xuICB9KVxuICAvLyBjaG9wLW9mZiB0YWlsIG9mIHVuZGVmaW5lZCB2YWxzIGluIGdvTmV4dCBhcnJheVxuICB0cmllLmdvTmV4dCA9IHRydW5jYXRlKHRyaWUuZ29OZXh0LCB1bmRlZmluZWQpXG4gIC8vIGNob3Atb2ZmIHRhaWwgb2YgemVyb3MgaW4gZmFpbFRvIGFycmF5XG4gIHRyaWUuZmFpbFRvID0gdHJ1bmNhdGUodHJpZS5mYWlsVG8sIDApXG4gIC8vIGNob3Atb2ZmIHRhaWwgb2YgbnVsbHMgaW4gZW5kQXMgYXJyYXlcbiAgdHJpZS5lbmRBcyA9IHRydW5jYXRlKHRyaWUuZW5kQXMsIG51bGwpXG4gIHJldHVybiB0cmllXG59XG5leHBvcnQgZGVmYXVsdCBjb21wcmVzcyIsICJpbXBvcnQgYXBpIGZyb20gJy4vYXBpL2luZGV4LmpzJ1xuaW1wb3J0IGNvbXByZXNzIGZyb20gJy4vYXBpL2J1aWxkVHJpZS9jb21wcmVzcy5qcydcbmltcG9ydCBidWlsZCBmcm9tICcuL2FwaS9idWlsZFRyaWUvaW5kZXguanMnXG5cbi8qKiBwcmUtY29tcGlsZSBhIGxpc3Qgb2YgbWF0Y2hlcyB0byBsb29rdXAgKi9cbmNvbnN0IGxpYiA9IHtcbiAgLyoqIHR1cm4gYW4gYXJyYXkgb3Igb2JqZWN0IGludG8gYSBjb21wcmVzc2VkIHRyaWUqL1xuICBidWlsZFRyaWU6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIGNvbnN0IHRyaWUgPSBidWlsZChpbnB1dCwgdGhpcy53b3JsZCgpKVxuICAgIHJldHVybiBjb21wcmVzcyh0cmllKVxuICB9XG59XG4vLyBhZGQgYWxpYXNcbmxpYi5jb21waWxlID0gbGliLmJ1aWxkVHJpZVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFwaSxcbiAgbGliXG59XG4iLCAiZXhwb3J0IGNvbnN0IHJlbFBvaW50ZXIgPSBmdW5jdGlvbiAocHRycywgcGFyZW50KSB7XG4gIGlmICghcGFyZW50KSB7XG4gICAgcmV0dXJuIHB0cnNcbiAgfVxuICBwdHJzLmZvckVhY2gocHRyID0+IHtcbiAgICBsZXQgbiA9IHB0clswXVxuICAgIGlmIChwYXJlbnRbbl0pIHtcbiAgICAgIHB0clswXSA9IHBhcmVudFtuXVswXSAvL25cbiAgICAgIHB0clsxXSArPSBwYXJlbnRbbl1bMV0gLy9zdGFydFxuICAgICAgcHRyWzJdICs9IHBhcmVudFtuXVsxXSAvL2VuZFxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHB0cnNcbn1cblxuLy8gbWFrZSBtYXRjaC1yZXN1bHQgcmVsYXRpdmUgdG8gd2hvbGUgZG9jdW1lbnRcbmV4cG9ydCBjb25zdCBmaXhQb2ludGVycyA9IGZ1bmN0aW9uIChyZXMsIHBhcmVudCkge1xuICBsZXQgeyBwdHJzLCBieUdyb3VwIH0gPSByZXNcbiAgcHRycyA9IHJlbFBvaW50ZXIocHRycywgcGFyZW50KVxuICBPYmplY3Qua2V5cyhieUdyb3VwKS5mb3JFYWNoKGsgPT4ge1xuICAgIGJ5R3JvdXBba10gPSByZWxQb2ludGVyKGJ5R3JvdXBba10sIHBhcmVudClcbiAgfSlcbiAgcmV0dXJuIHsgcHRycywgYnlHcm91cCB9XG59XG5cbi8vIHR1cm4gYW55IG1hdGNoYWJsZSBpbnB1dCBpbnRwIGEgbGlzdCBvZiBtYXRjaGVzXG5leHBvcnQgY29uc3QgcGFyc2VSZWdzID0gZnVuY3Rpb24gKHJlZ3MsIG9wdHMsIHdvcmxkKSB7XG4gIGNvbnN0IG9uZSA9IHdvcmxkLm1ldGhvZHMub25lXG4gIGlmICh0eXBlb2YgcmVncyA9PT0gJ251bWJlcicpIHtcbiAgICByZWdzID0gU3RyaW5nKHJlZ3MpXG4gIH1cbiAgLy8gc3VwcG9ydCBwYXJhbSBhcyBzdHJpbmdcbiAgaWYgKHR5cGVvZiByZWdzID09PSAnc3RyaW5nJykge1xuICAgIHJlZ3MgPSBvbmUua2lsbFVuaWNvZGUocmVncywgd29ybGQpXG4gICAgcmVncyA9IG9uZS5wYXJzZU1hdGNoKHJlZ3MsIG9wdHMsIHdvcmxkKVxuICB9XG4gIHJldHVybiByZWdzXG59XG5cbmNvbnN0IGlzT2JqZWN0ID0gdmFsID0+IHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJ1xufVxuXG4vLyBkaWQgdGhleSBwYXNzLWluIGEgY29tcHJvbWlzZSBvYmplY3Q/XG5leHBvcnQgY29uc3QgaXNWaWV3ID0gdmFsID0+IHZhbCAmJiBpc09iamVjdCh2YWwpICYmIHZhbC5pc1ZpZXcgPT09IHRydWVcblxuZXhwb3J0IGNvbnN0IGlzTmV0ID0gdmFsID0+IHZhbCAmJiBpc09iamVjdCh2YWwpICYmIHZhbC5pc05ldCA9PT0gdHJ1ZVxuIiwgImltcG9ydCB7IGZpeFBvaW50ZXJzLCBpc1ZpZXcsIGlzTmV0LCBwYXJzZVJlZ3MgfSBmcm9tICcuL19saWIuanMnXG5cbmNvbnN0IG1hdGNoID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IG9uZSA9IHRoaXMubWV0aG9kcy5vbmVcbiAgLy8gc3VwcG9ydCBwYXJhbSBhcyB2aWV3IG9iamVjdFxuICBpZiAoaXNWaWV3KHJlZ3MpKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uKHJlZ3MpXG4gIH1cbiAgLy8gc3VwcG9ydCBhIGNvbXBpbGVkIHNldCBvZiBtYXRjaGVzXG4gIGlmIChpc05ldChyZWdzKSkge1xuICAgIHJldHVybiB0aGlzLnN3ZWVwKHJlZ3MsIHsgdGFnZ2VyOiBmYWxzZSB9KS52aWV3LnNldHRsZSgpXG4gIH1cbiAgcmVncyA9IHBhcnNlUmVncyhyZWdzLCBvcHRzLCB0aGlzLndvcmxkKVxuICBsZXQgdG9kbyA9IHsgcmVncywgZ3JvdXAgfVxuICBsZXQgcmVzID0gb25lLm1hdGNoKHRoaXMuZG9jcywgdG9kbywgdGhpcy5fY2FjaGUpXG4gIGxldCB7IHB0cnMsIGJ5R3JvdXAgfSA9IGZpeFBvaW50ZXJzKHJlcywgdGhpcy5mdWxsUG9pbnRlcilcbiAgbGV0IHZpZXcgPSB0aGlzLnRvVmlldyhwdHJzKVxuICB2aWV3Ll9ncm91cHMgPSBieUdyb3VwXG4gIHJldHVybiB2aWV3XG59XG5cbmNvbnN0IG1hdGNoT25lID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IG9uZSA9IHRoaXMubWV0aG9kcy5vbmVcbiAgLy8gc3VwcG9ydCBhdCB2aWV3IGFzIGEgcGFyYW1cbiAgaWYgKGlzVmlldyhyZWdzKSkge1xuICAgIHJldHVybiB0aGlzLmludGVyc2VjdGlvbihyZWdzKS5lcSgwKVxuICB9XG4gIC8vIHN1cHBvcnQgYSBjb21waWxlZCBzZXQgb2YgbWF0Y2hlc1xuICBpZiAoaXNOZXQocmVncykpIHtcbiAgICByZXR1cm4gdGhpcy5zd2VlcChyZWdzLCB7IHRhZ2dlcjogZmFsc2UsIG1hdGNoT25lOiB0cnVlIH0pLnZpZXdcbiAgfVxuICByZWdzID0gcGFyc2VSZWdzKHJlZ3MsIG9wdHMsIHRoaXMud29ybGQpXG4gIGxldCB0b2RvID0geyByZWdzLCBncm91cCwganVzdE9uZTogdHJ1ZSB9XG4gIGxldCByZXMgPSBvbmUubWF0Y2godGhpcy5kb2NzLCB0b2RvLCB0aGlzLl9jYWNoZSlcbiAgbGV0IHsgcHRycywgYnlHcm91cCB9ID0gZml4UG9pbnRlcnMocmVzLCB0aGlzLmZ1bGxQb2ludGVyKVxuICBsZXQgdmlldyA9IHRoaXMudG9WaWV3KHB0cnMpXG4gIHZpZXcuX2dyb3VwcyA9IGJ5R3JvdXBcbiAgcmV0dXJuIHZpZXdcbn1cblxuY29uc3QgaGFzID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IG9uZSA9IHRoaXMubWV0aG9kcy5vbmVcbiAgLy8gc3VwcG9ydCB2aWV3IGFzIGlucHV0XG4gIGlmIChpc1ZpZXcocmVncykpIHtcbiAgICBsZXQgcHRycyA9IHRoaXMuaW50ZXJzZWN0aW9uKHJlZ3MpLmZ1bGxQb2ludGVyXG4gICAgcmV0dXJuIHB0cnMubGVuZ3RoID4gMFxuICB9XG4gIC8vIHN1cHBvcnQgYSBjb21waWxlZCBzZXQgb2YgbWF0Y2hlc1xuICBpZiAoaXNOZXQocmVncykpIHtcbiAgICByZXR1cm4gdGhpcy5zd2VlcChyZWdzLCB7IHRhZ2dlcjogZmFsc2UgfSkudmlldy5mb3VuZFxuICB9XG4gIHJlZ3MgPSBwYXJzZVJlZ3MocmVncywgb3B0cywgdGhpcy53b3JsZClcbiAgbGV0IHRvZG8gPSB7IHJlZ3MsIGdyb3VwLCBqdXN0T25lOiB0cnVlIH1cbiAgbGV0IHB0cnMgPSBvbmUubWF0Y2godGhpcy5kb2NzLCB0b2RvLCB0aGlzLl9jYWNoZSkucHRyc1xuICByZXR1cm4gcHRycy5sZW5ndGggPiAwXG59XG5cbi8vICdpZidcbmNvbnN0IGlmRm4gPSBmdW5jdGlvbiAocmVncywgZ3JvdXAsIG9wdHMpIHtcbiAgY29uc3Qgb25lID0gdGhpcy5tZXRob2RzLm9uZVxuICAvLyBzdXBwb3J0IHZpZXcgYXMgaW5wdXRcbiAgaWYgKGlzVmlldyhyZWdzKSkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcihtID0+IG0uaW50ZXJzZWN0aW9uKHJlZ3MpLmZvdW5kKVxuICB9XG4gIC8vIHN1cHBvcnQgYSBjb21waWxlZCBzZXQgb2YgbWF0Y2hlc1xuICBpZiAoaXNOZXQocmVncykpIHtcbiAgICBsZXQgbSA9IHRoaXMuc3dlZXAocmVncywgeyB0YWdnZXI6IGZhbHNlIH0pLnZpZXcuc2V0dGxlKClcbiAgICByZXR1cm4gdGhpcy5pZihtKSAvL3JlY3Vyc2Ugd2l0aCByZXN1bHRcbiAgfVxuICByZWdzID0gcGFyc2VSZWdzKHJlZ3MsIG9wdHMsIHRoaXMud29ybGQpXG4gIGxldCB0b2RvID0geyByZWdzLCBncm91cCwganVzdE9uZTogdHJ1ZSB9XG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICBsZXQgY2FjaGUgPSB0aGlzLl9jYWNoZSB8fCBbXVxuICBwdHJzID0gcHRycy5maWx0ZXIoKHB0ciwgaSkgPT4ge1xuICAgIGxldCBtID0gdGhpcy51cGRhdGUoW3B0cl0pXG4gICAgbGV0IHJlcyA9IG9uZS5tYXRjaChtLmRvY3MsIHRvZG8sIGNhY2hlW2ldKS5wdHJzXG4gICAgcmV0dXJuIHJlcy5sZW5ndGggPiAwXG4gIH0pXG4gIGxldCB2aWV3ID0gdGhpcy51cGRhdGUocHRycylcbiAgLy8gdHJ5IGFuZCByZWNvbnN0cnVjdCB0aGUgY2FjaGVcbiAgaWYgKHRoaXMuX2NhY2hlKSB7XG4gICAgdmlldy5fY2FjaGUgPSBwdHJzLm1hcChwdHIgPT4gY2FjaGVbcHRyWzBdXSlcbiAgfVxuICByZXR1cm4gdmlld1xufVxuXG5jb25zdCBpZk5vID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IHsgbWV0aG9kcyB9ID0gdGhpc1xuICBjb25zdCBvbmUgPSBtZXRob2RzLm9uZVxuICAvLyBzdXBwb3J0IGEgdmlldyBvYmplY3QgYXMgaW5wdXRcbiAgaWYgKGlzVmlldyhyZWdzKSkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcihtID0+ICFtLmludGVyc2VjdGlvbihyZWdzKS5mb3VuZClcbiAgfVxuICAvLyBzdXBwb3J0IGEgY29tcGlsZWQgc2V0IG9mIG1hdGNoZXNcbiAgaWYgKGlzTmV0KHJlZ3MpKSB7XG4gICAgbGV0IG0gPSB0aGlzLnN3ZWVwKHJlZ3MsIHsgdGFnZ2VyOiBmYWxzZSB9KS52aWV3LnNldHRsZSgpXG4gICAgcmV0dXJuIHRoaXMuaWZObyhtKVxuICB9XG4gIC8vIG90aGVyd2lzZSBwYXJzZSB0aGUgbWF0Y2ggc3RyaW5nXG4gIHJlZ3MgPSBwYXJzZVJlZ3MocmVncywgb3B0cywgdGhpcy53b3JsZClcbiAgbGV0IGNhY2hlID0gdGhpcy5fY2FjaGUgfHwgW11cbiAgbGV0IHZpZXcgPSB0aGlzLmZpbHRlcigobSwgaSkgPT4ge1xuICAgIGxldCB0b2RvID0geyByZWdzLCBncm91cCwganVzdE9uZTogdHJ1ZSB9XG4gICAgbGV0IHB0cnMgPSBvbmUubWF0Y2gobS5kb2NzLCB0b2RvLCBjYWNoZVtpXSkucHRyc1xuICAgIHJldHVybiBwdHJzLmxlbmd0aCA9PT0gMFxuICB9KVxuICAvLyB0cnkgdG8gcmVjb25zdHJ1Y3QgdGhlIGNhY2hlXG4gIGlmICh0aGlzLl9jYWNoZSkge1xuICAgIHZpZXcuX2NhY2hlID0gdmlldy5wdHJzLm1hcChwdHIgPT4gY2FjaGVbcHRyWzBdXSlcbiAgfVxuICByZXR1cm4gdmlld1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IG1hdGNoT25lLCBtYXRjaCwgaGFzLCBpZjogaWZGbiwgaWZObyB9XG4iLCAiY29uc3QgYmVmb3JlID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IHsgaW5kZXhOIH0gPSB0aGlzLm1ldGhvZHMub25lLnBvaW50ZXJcbiAgbGV0IHByZSA9IFtdXG4gIGxldCBieU4gPSBpbmRleE4odGhpcy5mdWxsUG9pbnRlcilcbiAgT2JqZWN0LmtleXMoYnlOKS5mb3JFYWNoKGsgPT4ge1xuICAgIC8vIGNoZWNrIG9ubHkgdGhlIGVhcmxpZXN0IG1hdGNoIGluIHRoZSBzZW50ZW5jZVxuICAgIGxldCBmaXJzdCA9IGJ5TltrXS5zb3J0KChhLCBiKSA9PiAoYVsxXSA+IGJbMV0gPyAxIDogLTEpKVswXVxuICAgIGlmIChmaXJzdFsxXSA+IDApIHtcbiAgICAgIHByZS5wdXNoKFtmaXJzdFswXSwgMCwgZmlyc3RbMV1dKVxuICAgIH1cbiAgfSlcbiAgbGV0IHByZVdvcmRzID0gdGhpcy50b1ZpZXcocHJlKVxuICBpZiAoIXJlZ3MpIHtcbiAgICByZXR1cm4gcHJlV29yZHNcbiAgfVxuICByZXR1cm4gcHJlV29yZHMubWF0Y2gocmVncywgZ3JvdXAsIG9wdHMpXG59XG5cbmNvbnN0IGFmdGVyID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IHsgaW5kZXhOIH0gPSB0aGlzLm1ldGhvZHMub25lLnBvaW50ZXJcbiAgbGV0IHBvc3QgPSBbXVxuICBsZXQgYnlOID0gaW5kZXhOKHRoaXMuZnVsbFBvaW50ZXIpXG4gIGxldCBkb2N1bWVudCA9IHRoaXMuZG9jdW1lbnRcbiAgT2JqZWN0LmtleXMoYnlOKS5mb3JFYWNoKGsgPT4ge1xuICAgIC8vIGNoZWNrIG9ubHkgdGhlIGxhdGVzdCBtYXRjaCBpbiB0aGUgc2VudGVuY2VcbiAgICBsZXQgbGFzdCA9IGJ5TltrXS5zb3J0KChhLCBiKSA9PiAoYVsxXSA+IGJbMV0gPyAtMSA6IDEpKVswXVxuICAgIGxldCBbbiwgLCBlbmRdID0gbGFzdFxuICAgIGlmIChlbmQgPCBkb2N1bWVudFtuXS5sZW5ndGgpIHtcbiAgICAgIHBvc3QucHVzaChbbiwgZW5kLCBkb2N1bWVudFtuXS5sZW5ndGhdKVxuICAgIH1cbiAgfSlcbiAgbGV0IHBvc3RXb3JkcyA9IHRoaXMudG9WaWV3KHBvc3QpXG4gIGlmICghcmVncykge1xuICAgIHJldHVybiBwb3N0V29yZHNcbiAgfVxuICByZXR1cm4gcG9zdFdvcmRzLm1hdGNoKHJlZ3MsIGdyb3VwLCBvcHRzKVxufVxuXG5jb25zdCBncm93TGVmdCA9IGZ1bmN0aW9uIChyZWdzLCBncm91cCwgb3B0cykge1xuICBpZiAodHlwZW9mIHJlZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgcmVncyA9IHRoaXMud29ybGQubWV0aG9kcy5vbmUucGFyc2VNYXRjaChyZWdzLCBvcHRzLCB0aGlzLndvcmxkKVxuICB9XG4gIHJlZ3NbcmVncy5sZW5ndGggLSAxXS5lbmQgPSB0cnVlIC8vIGVuc3VyZSBtYXRjaGVzIGFyZSBiZXNpZGUgdXMgXHUyMTkwXG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICB0aGlzLmZvckVhY2goKG0sIG4pID0+IHtcbiAgICBsZXQgbW9yZSA9IG0uYmVmb3JlKHJlZ3MsIGdyb3VwKVxuICAgIGlmIChtb3JlLmZvdW5kKSB7XG4gICAgICBsZXQgdGVybXMgPSBtb3JlLnRlcm1zKClcbiAgICAgIHB0cnNbbl1bMV0gLT0gdGVybXMubGVuZ3RoXG4gICAgICBwdHJzW25dWzNdID0gdGVybXMuZG9jc1swXVswXS5pZFxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHB0cnMpXG59XG5cbmNvbnN0IGdyb3dSaWdodCA9IGZ1bmN0aW9uIChyZWdzLCBncm91cCwgb3B0cykge1xuICBpZiAodHlwZW9mIHJlZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgcmVncyA9IHRoaXMud29ybGQubWV0aG9kcy5vbmUucGFyc2VNYXRjaChyZWdzLCBvcHRzLCB0aGlzLndvcmxkKVxuICB9XG4gIHJlZ3NbMF0uc3RhcnQgPSB0cnVlIC8vIGVuc3VyZSBtYXRjaGVzIGFyZSBiZXNpZGUgdXMgXHUyMTkyXG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICB0aGlzLmZvckVhY2goKG0sIG4pID0+IHtcbiAgICBsZXQgbW9yZSA9IG0uYWZ0ZXIocmVncywgZ3JvdXApXG4gICAgaWYgKG1vcmUuZm91bmQpIHtcbiAgICAgIGxldCB0ZXJtcyA9IG1vcmUudGVybXMoKVxuICAgICAgcHRyc1tuXVsyXSArPSB0ZXJtcy5sZW5ndGhcbiAgICAgIHB0cnNbbl1bNF0gPSBudWxsIC8vcmVtb3ZlIGVuZC1pZFxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHB0cnMpXG59XG5cbmNvbnN0IGdyb3cgPSBmdW5jdGlvbiAocmVncywgZ3JvdXAsIG9wdHMpIHtcbiAgcmV0dXJuIHRoaXMuZ3Jvd1JpZ2h0KHJlZ3MsIGdyb3VwLCBvcHRzKS5ncm93TGVmdChyZWdzLCBncm91cCwgb3B0cylcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBiZWZvcmUsIGFmdGVyLCBncm93TGVmdCwgZ3Jvd1JpZ2h0LCBncm93IH1cbiIsICJjb25zdCBjb21iaW5lID0gZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBbbGVmdFswXSwgbGVmdFsxXSwgcmlnaHRbMl1dXG59XG5cbmNvbnN0IGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG5jb25zdCBnZXREb2MgPSAocmVnLCB2aWV3LCBncm91cCkgPT4ge1xuICBpZiAodHlwZW9mIHJlZyA9PT0gJ3N0cmluZycgfHwgaXNBcnJheShyZWcpKSB7XG4gICAgcmV0dXJuIHZpZXcubWF0Y2gocmVnLCBncm91cClcbiAgfVxuICBpZiAoIXJlZykge1xuICAgIHJldHVybiB2aWV3Lm5vbmUoKVxuICB9XG4gIHJldHVybiByZWdcbn1cblxuY29uc3QgYWRkSWRzID0gZnVuY3Rpb24gKHB0ciwgdmlldykge1xuICBsZXQgW24sIHN0YXJ0LCBlbmRdID0gcHRyXG4gIGlmICh2aWV3LmRvY3VtZW50W25dICYmIHZpZXcuZG9jdW1lbnRbbl1bc3RhcnRdKSB7XG4gICAgcHRyWzNdID0gcHRyWzNdIHx8IHZpZXcuZG9jdW1lbnRbbl1bc3RhcnRdLmlkXG4gICAgaWYgKHZpZXcuZG9jdW1lbnRbbl1bZW5kIC0gMV0pIHtcbiAgICAgIHB0cls0XSA9IHB0cls0XSB8fCB2aWV3LmRvY3VtZW50W25dW2VuZCAtIDFdLmlkXG4gICAgfVxuICB9XG4gIHJldHVybiBwdHJcbn1cblxuY29uc3QgbWV0aG9kcyA9IHt9XG4vLyBbYmVmb3JlXSwgW21hdGNoXSwgW2FmdGVyXVxubWV0aG9kcy5zcGxpdE9uID0gZnVuY3Rpb24gKG0sIGdyb3VwKSB7XG4gIGNvbnN0IHsgc3BsaXRBbGwgfSA9IHRoaXMubWV0aG9kcy5vbmUucG9pbnRlclxuICBsZXQgc3BsaXRzID0gZ2V0RG9jKG0sIHRoaXMsIGdyb3VwKS5mdWxsUG9pbnRlclxuICBsZXQgYWxsID0gc3BsaXRBbGwodGhpcy5mdWxsUG9pbnRlciwgc3BsaXRzKVxuICBsZXQgcmVzID0gW11cbiAgYWxsLmZvckVhY2gobyA9PiB7XG4gICAgcmVzLnB1c2goby5wYXNzdGhyb3VnaClcbiAgICByZXMucHVzaChvLmJlZm9yZSlcbiAgICByZXMucHVzaChvLm1hdGNoKVxuICAgIHJlcy5wdXNoKG8uYWZ0ZXIpXG4gIH0pXG4gIHJlcyA9IHJlcy5maWx0ZXIocCA9PiBwKVxuICByZXMgPSByZXMubWFwKHAgPT4gYWRkSWRzKHAsIHRoaXMpKVxuICByZXR1cm4gdGhpcy51cGRhdGUocmVzKVxufVxuXG4vLyBbYmVmb3JlXSwgW21hdGNoIGFmdGVyXVxubWV0aG9kcy5zcGxpdEJlZm9yZSA9IGZ1bmN0aW9uIChtLCBncm91cCkge1xuICBjb25zdCB7IHNwbGl0QWxsIH0gPSB0aGlzLm1ldGhvZHMub25lLnBvaW50ZXJcbiAgbGV0IHNwbGl0cyA9IGdldERvYyhtLCB0aGlzLCBncm91cCkuZnVsbFBvaW50ZXJcbiAgbGV0IGFsbCA9IHNwbGl0QWxsKHRoaXMuZnVsbFBvaW50ZXIsIHNwbGl0cylcbiAgLy8gcmVwYWlyIG1hdGNoZXMgdG8gZmF2b3IgW21hdGNoLCBhZnRlcl1cbiAgLy8gLSBpbnN0ZWFkIG9mIFtiZWZvcmUsIG1hdGNoXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIC8vIG1vdmUgYSBiZWZvcmUgdG8gYSBwcmVjZWRpbmcgYWZ0ZXJcbiAgICBpZiAoIWFsbFtpXS5hZnRlciAmJiBhbGxbaSArIDFdICYmIGFsbFtpICsgMV0uYmVmb3JlKSB7XG4gICAgICAvLyBlbnN1cmUgaXQncyBmcm9tIHRoZSBzYW1lIG9yaWdpbmFsIHNlbnRlbmNlXG4gICAgICBpZiAoYWxsW2ldLm1hdGNoICYmIGFsbFtpXS5tYXRjaFswXSA9PT0gYWxsW2kgKyAxXS5iZWZvcmVbMF0pIHtcbiAgICAgICAgYWxsW2ldLmFmdGVyID0gYWxsW2kgKyAxXS5iZWZvcmVcbiAgICAgICAgZGVsZXRlIGFsbFtpICsgMV0uYmVmb3JlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlcyA9IFtdXG4gIGFsbC5mb3JFYWNoKG8gPT4ge1xuICAgIHJlcy5wdXNoKG8ucGFzc3Rocm91Z2gpXG4gICAgcmVzLnB1c2goby5iZWZvcmUpXG4gICAgLy8gYSwgW3gsIGJdXG4gICAgaWYgKG8ubWF0Y2ggJiYgby5hZnRlcikge1xuICAgICAgcmVzLnB1c2goY29tYmluZShvLm1hdGNoLCBvLmFmdGVyKSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYSwgW3hdLCBiXG4gICAgICByZXMucHVzaChvLm1hdGNoKVxuICAgIH1cbiAgfSlcbiAgcmVzID0gcmVzLmZpbHRlcihwID0+IHApXG4gIHJlcyA9IHJlcy5tYXAocCA9PiBhZGRJZHMocCwgdGhpcykpXG4gIHJldHVybiB0aGlzLnVwZGF0ZShyZXMpXG59XG5cbi8vIFtiZWZvcmUgbWF0Y2hdLCBbYWZ0ZXJdXG5tZXRob2RzLnNwbGl0QWZ0ZXIgPSBmdW5jdGlvbiAobSwgZ3JvdXApIHtcbiAgY29uc3QgeyBzcGxpdEFsbCB9ID0gdGhpcy5tZXRob2RzLm9uZS5wb2ludGVyXG4gIGxldCBzcGxpdHMgPSBnZXREb2MobSwgdGhpcywgZ3JvdXApLmZ1bGxQb2ludGVyXG4gIGxldCBhbGwgPSBzcGxpdEFsbCh0aGlzLmZ1bGxQb2ludGVyLCBzcGxpdHMpXG4gIGxldCByZXMgPSBbXVxuICBhbGwuZm9yRWFjaChvID0+IHtcbiAgICByZXMucHVzaChvLnBhc3N0aHJvdWdoKVxuICAgIGlmIChvLmJlZm9yZSAmJiBvLm1hdGNoKSB7XG4gICAgICByZXMucHVzaChjb21iaW5lKG8uYmVmb3JlLCBvLm1hdGNoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnB1c2goby5iZWZvcmUpXG4gICAgICByZXMucHVzaChvLm1hdGNoKVxuICAgIH1cbiAgICByZXMucHVzaChvLmFmdGVyKVxuICB9KVxuICByZXMgPSByZXMuZmlsdGVyKHAgPT4gcClcbiAgcmVzID0gcmVzLm1hcChwID0+IGFkZElkcyhwLCB0aGlzKSlcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHJlcylcbn1cbm1ldGhvZHMuc3BsaXQgPSBtZXRob2RzLnNwbGl0QWZ0ZXJcblxuZXhwb3J0IGRlZmF1bHQgbWV0aG9kc1xuIiwgIi8vIGNoZWNrIGlmIHR3byBwb2ludGVycyBhcmUgcGVyZmVjdGx5IGNvbnNlY3V0aXZlXG5jb25zdCBpc05laWdoYm91ciA9IGZ1bmN0aW9uIChwdHJMLCBwdHJSKSB7XG4gIC8vIHZhbGlkYXRlXG4gIGlmICghcHRyTCB8fCAhcHRyUikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIC8vIHNhbWUgc2VudGVuY2VcbiAgaWYgKHB0ckxbMF0gIT09IHB0clJbMF0pIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvLyBlbnN1cmUgUiBzdGFydHMgd2hlcmUgTCBlbmRzXG4gIHJldHVybiBwdHJMWzJdID09PSBwdHJSWzFdXG59XG5cbi8vIGpvaW4gdHdvIG5laWdoYm91cmluZyB3b3JkcywgaWYgdGhleSBib3RoIG1hdGNoXG5jb25zdCBtZXJnZUlmID0gZnVuY3Rpb24gKGRvYywgbE1hdGNoLCByTWF0Y2gpIHtcbiAgY29uc3Qgd29ybGQgPSBkb2Mud29ybGRcbiAgY29uc3QgcGFyc2VNYXRjaCA9IHdvcmxkLm1ldGhvZHMub25lLnBhcnNlTWF0Y2hcbiAgbE1hdGNoID0gbE1hdGNoIHx8ICcuJCcgLy9kZWZhdWx0c1xuICByTWF0Y2ggPSByTWF0Y2ggfHwgJ14uJ1xuICBsZXQgbGVmdE1hdGNoID0gcGFyc2VNYXRjaChsTWF0Y2gsIHt9LCB3b3JsZClcbiAgbGV0IHJpZ2h0TWF0Y2ggPSBwYXJzZU1hdGNoKHJNYXRjaCwge30sIHdvcmxkKVxuICAvLyBlbnN1cmUgZW5kLXJlcXVpcmVtZW50IHRvIGxlZnQtbWF0Y2gsIHN0YXJ0LXJlcXVpcmVtbnRzIHRvIHJpZ2h0IG1hdGNoXG4gIGxlZnRNYXRjaFtsZWZ0TWF0Y2gubGVuZ3RoIC0gMV0uZW5kID0gdHJ1ZVxuICByaWdodE1hdGNoWzBdLnN0YXJ0ID0gdHJ1ZVxuICAvLyBsZXQncyBnZXQgZ29pbmcuXG4gIGxldCBwdHJzID0gZG9jLmZ1bGxQb2ludGVyXG4gIGxldCByZXMgPSBbcHRyc1swXV1cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBwdHJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGV0IHB0ckwgPSByZXNbcmVzLmxlbmd0aCAtIDFdXG4gICAgbGV0IHB0clIgPSBwdHJzW2ldXG4gICAgbGV0IGxlZnQgPSBkb2MudXBkYXRlKFtwdHJMXSlcbiAgICBsZXQgcmlnaHQgPSBkb2MudXBkYXRlKFtwdHJSXSlcbiAgICAvLyBzaG91bGQgd2UgbWFyZ2UgbGVmdCtyaWdodD9cbiAgICBpZiAoaXNOZWlnaGJvdXIocHRyTCwgcHRyUikgJiYgbGVmdC5oYXMobGVmdE1hdGNoKSAmJiByaWdodC5oYXMocmlnaHRNYXRjaCkpIHtcbiAgICAgIC8vIG1lcmdlIHJpZ2h0IHB0ciBpbnRvIGV4aXN0aW5nIHJlc3VsdFxuICAgICAgcmVzW3Jlcy5sZW5ndGggLSAxXSA9IFtwdHJMWzBdLCBwdHJMWzFdLCBwdHJSWzJdLCBwdHJMWzNdLCBwdHJSWzRdXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXMucHVzaChwdHJSKVxuICAgIH1cbiAgfVxuICAvLyByZXR1cm4gbmV3IHBvaW50ZXJzXG4gIHJldHVybiBkb2MudXBkYXRlKHJlcylcbn1cblxuY29uc3QgbWV0aG9kcyA9IHtcbiAgLy8gIG1lcmdlIG9ubHkgaWYgY29uZGl0aW9ucyBhcmUgbWV0XG4gIGpvaW5JZjogZnVuY3Rpb24gKGxNYXRjaCwgck1hdGNoKSB7XG4gICAgcmV0dXJuIG1lcmdlSWYodGhpcywgbE1hdGNoLCByTWF0Y2gpXG4gIH0sXG4gIC8vIG1lcmdlIGFsbCBuZWlnaGJvdXJpbmcgbWF0Y2hlc1xuICBqb2luOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG1lcmdlSWYodGhpcylcbiAgfSxcbn1cbmV4cG9ydCBkZWZhdWx0IG1ldGhvZHNcbiIsICJpbXBvcnQgbWF0Y2ggZnJvbSAnLi9tYXRjaC5qcydcbmltcG9ydCBsb29rYXJvdW5kIGZyb20gJy4vbG9va2Fyb3VuZC5qcydcbmltcG9ydCBzcGxpdCBmcm9tICcuL3NwbGl0LmpzJ1xuaW1wb3J0IGpvaW4gZnJvbSAnLi9qb2luLmpzJ1xuXG5jb25zdCBtZXRob2RzID0gT2JqZWN0LmFzc2lnbih7fSwgbWF0Y2gsIGxvb2thcm91bmQsIHNwbGl0LCBqb2luKVxuLy8gYWxpYXNlc1xubWV0aG9kcy5sb29rQmVoaW5kID0gbWV0aG9kcy5iZWZvcmVcbm1ldGhvZHMubG9va0JlZm9yZSA9IG1ldGhvZHMuYmVmb3JlXG5cbm1ldGhvZHMubG9va0FoZWFkID0gbWV0aG9kcy5hZnRlclxubWV0aG9kcy5sb29rQWZ0ZXIgPSBtZXRob2RzLmFmdGVyXG5cbm1ldGhvZHMubm90SWYgPSBtZXRob2RzLmlmTm9cbmNvbnN0IG1hdGNoQVBJID0gZnVuY3Rpb24gKFZpZXcpIHtcbiAgT2JqZWN0LmFzc2lnbihWaWV3LnByb3RvdHlwZSwgbWV0aG9kcylcbn1cbmV4cG9ydCBkZWZhdWx0IG1hdGNoQVBJXG4iLCAiLy8gbWF0Y2ggICdmb28gL3llcy8nIGFuZCBub3QgJ2Zvby9uby9iYXInXG5jb25zdCBieVNsYXNoZXMgPSAvKD86XnxcXHMpKFshW15dKig/OjxbXjxdKj4pP1xcLy4qP1teXFxcXC9dXFwvWz9cXF0rKiR+XSopKD86XFxzfCQpL1xuLy8gbWF0Y2ggJyh5ZXMpIGJ1dCBub3QgZm9vKG5vKWJhcidcbmNvbnN0IGJ5UGFyZW50aGVzZXMgPSAvKFshflteXSooPzo8W148XSo+KT9cXChbXildK1teXFxcXCldXFwpWz9cXF0rKiR+XSopKD86XFxzfCQpL1xuLy8gb2theVxuY29uc3QgYnlXb3JkID0gLyAvZ1xuXG5jb25zdCBpc0Jsb2NrID0gc3RyID0+IHtcbiAgcmV0dXJuIC9eWyFbXl0qKDxbXjxdKj4pP1xcKC8udGVzdChzdHIpICYmIC9cXClbP1xcXSsqJH5dKiQvLnRlc3Qoc3RyKVxufVxuY29uc3QgaXNSZWcgPSBzdHIgPT4ge1xuICByZXR1cm4gL15bIVteXSooPFtePF0qPik/XFwvLy50ZXN0KHN0cikgJiYgL1xcL1s/XFxdKyokfl0qJC8udGVzdChzdHIpXG59XG5cbmNvbnN0IGNsZWFuVXAgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyciA9IGFyci5tYXAoc3RyID0+IHN0ci50cmltKCkpXG4gIGFyciA9IGFyci5maWx0ZXIoc3RyID0+IHN0cilcbiAgcmV0dXJuIGFyclxufVxuXG5jb25zdCBwYXJzZUJsb2NrcyA9IGZ1bmN0aW9uICh0eHQpIHtcbiAgLy8gcGFyc2UgYnkgL3JlZ2V4LyBmaXJzdFxuICBsZXQgYXJyID0gdHh0LnNwbGl0KGJ5U2xhc2hlcylcbiAgbGV0IHJlcyA9IFtdXG4gIC8vIHBhcnNlIGJ5IChibG9ja3MpLCBuZXh0XG4gIGFyci5mb3JFYWNoKHN0ciA9PiB7XG4gICAgaWYgKGlzUmVnKHN0cikpIHtcbiAgICAgIHJlcy5wdXNoKHN0cilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICByZXMgPSByZXMuY29uY2F0KHN0ci5zcGxpdChieVBhcmVudGhlc2VzKSlcbiAgfSlcbiAgcmVzID0gY2xlYW5VcChyZXMpXG4gIC8vIHNwbGl0IGJ5IHNwYWNlcywgbm93XG4gIGxldCBmaW5hbCA9IFtdXG4gIHJlcy5mb3JFYWNoKHN0ciA9PiB7XG4gICAgaWYgKGlzQmxvY2soc3RyKSkge1xuICAgICAgZmluYWwucHVzaChzdHIpXG4gICAgfSBlbHNlIGlmIChpc1JlZyhzdHIpKSB7XG4gICAgICBmaW5hbC5wdXNoKHN0cilcbiAgICB9IGVsc2Uge1xuICAgICAgZmluYWwgPSBmaW5hbC5jb25jYXQoc3RyLnNwbGl0KGJ5V29yZCkpXG4gICAgfVxuICB9KVxuICBmaW5hbCA9IGNsZWFuVXAoZmluYWwpXG4gIHJldHVybiBmaW5hbFxufVxuZXhwb3J0IGRlZmF1bHQgcGFyc2VCbG9ja3NcbiIsICJjb25zdCBoYXNNaW5NYXggPSAvXFx7KFswLTldKyk/KCwgKlswLTldKik/XFx9L1xuY29uc3QgYW5kU2lnbiA9IC8mJi9cbi8vIGNvbnN0IGhhc0Rhc2ggPSAvXFxwe0xldHRlcn1bLVx1MjAxM1x1MjAxNF1cXHB7TGV0dGVyfS91XG5jb25zdCBjYXB0dXJlTmFtZSA9IG5ldyBSZWdFeHAoL148XFxzKihcXFMrKVxccyo+Lylcbi8qIGJyZWFrLWRvd24gYSBtYXRjaCBleHByZXNzaW9uIGludG8gdGhpczpcbntcbiAgd29yZDonJyxcbiAgdGFnOicnLFxuICByZWdleDonJyxcblxuICBzdGFydDpmYWxzZSxcbiAgZW5kOmZhbHNlLFxuICBuZWdhdGl2ZTpmYWxzZSxcbiAgYW55dGhpbmc6ZmFsc2UsXG4gIGdyZWVkeTpmYWxzZSxcbiAgb3B0aW9uYWw6ZmFsc2UsXG5cbiAgbmFtZWQ6JycsXG4gIGNob2ljZXM6W10sXG59XG4qL1xuY29uc3QgdGl0bGVDYXNlID0gc3RyID0+IHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zdWJzdHJpbmcoMSlcbmNvbnN0IGVuZCA9IChzdHIpID0+IHN0ci5jaGFyQXQoc3RyLmxlbmd0aCAtIDEpXG5jb25zdCBzdGFydCA9IChzdHIpID0+IHN0ci5jaGFyQXQoMClcbmNvbnN0IHN0cmlwU3RhcnQgPSAoc3RyKSA9PiBzdHIuc3Vic3RyaW5nKDEpXG5jb25zdCBzdHJpcEVuZCA9IChzdHIpID0+IHN0ci5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpXG5cbmNvbnN0IHN0cmlwQm90aCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgc3RyID0gc3RyaXBTdGFydChzdHIpXG4gIHN0ciA9IHN0cmlwRW5kKHN0cilcbiAgcmV0dXJuIHN0clxufVxuLy9cbmNvbnN0IHBhcnNlVG9rZW4gPSBmdW5jdGlvbiAodywgb3B0cykge1xuICBsZXQgb2JqID0ge31cbiAgLy9jb2xsZWN0IGFueSBmbGFncyAoZG8gaXQgdHdpY2UpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSArPSAxKSB7XG4gICAgLy9lbmQtZmxhZ1xuICAgIGlmIChlbmQodykgPT09ICckJykge1xuICAgICAgb2JqLmVuZCA9IHRydWVcbiAgICAgIHcgPSBzdHJpcEVuZCh3KVxuICAgIH1cbiAgICAvL2Zyb250LWZsYWdcbiAgICBpZiAoc3RhcnQodykgPT09ICdeJykge1xuICAgICAgb2JqLnN0YXJ0ID0gdHJ1ZVxuICAgICAgdyA9IHN0cmlwU3RhcnQodylcbiAgICB9XG4gICAgaWYgKGVuZCh3KSA9PT0gJz8nKSB7XG4gICAgICBvYmoub3B0aW9uYWwgPSB0cnVlXG4gICAgICB3ID0gc3RyaXBFbmQodylcbiAgICB9XG4gICAgLy9jYXB0dXJlIGdyb3VwICh0aGlzIG9uZSBjYW4gc3BhbiBtdWx0aXBsZS10ZXJtcylcbiAgICBpZiAoc3RhcnQodykgPT09ICdbJyB8fCBlbmQodykgPT09ICddJykge1xuICAgICAgb2JqLmdyb3VwID0gbnVsbFxuICAgICAgaWYgKHN0YXJ0KHcpID09PSAnWycpIHtcbiAgICAgICAgb2JqLmdyb3VwU3RhcnQgPSB0cnVlXG4gICAgICB9XG4gICAgICBpZiAoZW5kKHcpID09PSAnXScpIHtcbiAgICAgICAgb2JqLmdyb3VwRW5kID0gdHJ1ZVxuICAgICAgfVxuICAgICAgdyA9IHcucmVwbGFjZSgvXlxcWy8sICcnKVxuICAgICAgdyA9IHcucmVwbGFjZSgvXFxdJC8sICcnKVxuICAgICAgLy8gVXNlIGNhcHR1cmUgZ3JvdXAgbmFtZVxuICAgICAgaWYgKHN0YXJ0KHcpID09PSAnPCcpIHtcbiAgICAgICAgY29uc3QgcmVzID0gY2FwdHVyZU5hbWUuZXhlYyh3KVxuICAgICAgICBpZiAocmVzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgb2JqLmdyb3VwID0gcmVzWzFdXG4gICAgICAgICAgdyA9IHcucmVwbGFjZShyZXNbMF0sICcnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vYmFjay1mbGFnc1xuICAgIGlmIChlbmQodykgPT09ICcrJykge1xuICAgICAgb2JqLmdyZWVkeSA9IHRydWVcbiAgICAgIHcgPSBzdHJpcEVuZCh3KVxuICAgIH1cbiAgICBpZiAodyAhPT0gJyonICYmIGVuZCh3KSA9PT0gJyonICYmIHcgIT09ICdcXFxcKicpIHtcbiAgICAgIG9iai5ncmVlZHkgPSB0cnVlXG4gICAgICB3ID0gc3RyaXBFbmQodylcbiAgICB9XG4gICAgaWYgKHN0YXJ0KHcpID09PSAnIScpIHtcbiAgICAgIG9iai5uZWdhdGl2ZSA9IHRydWVcbiAgICAgIC8vIG9iai5vcHRpb25hbCA9IHRydWVcbiAgICAgIHcgPSBzdHJpcFN0YXJ0KHcpXG4gICAgfVxuICAgIC8vc29mdC1tYXRjaFxuICAgIGlmIChzdGFydCh3KSA9PT0gJ34nICYmIGVuZCh3KSA9PT0gJ34nICYmIHcubGVuZ3RoID4gMikge1xuICAgICAgdyA9IHN0cmlwQm90aCh3KVxuICAgICAgb2JqLmZ1enp5ID0gdHJ1ZVxuICAgICAgb2JqLm1pbiA9IG9wdHMuZnV6enkgfHwgMC44NVxuICAgICAgaWYgKC9cXCgvLnRlc3QodykgPT09IGZhbHNlKSB7XG4gICAgICAgIG9iai53b3JkID0gd1xuICAgICAgICByZXR1cm4gb2JqXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9yZWdleFxuICAgIGlmIChzdGFydCh3KSA9PT0gJy8nICYmIGVuZCh3KSA9PT0gJy8nKSB7XG4gICAgICB3ID0gc3RyaXBCb3RoKHcpXG4gICAgICBpZiAob3B0cy5jYXNlU2Vuc2l0aXZlKSB7XG4gICAgICAgIG9iai51c2UgPSAndGV4dCdcbiAgICAgIH1cbiAgICAgIG9iai5yZWdleCA9IG5ldyBSZWdFeHAodykgLy9wb3RlbnRpYWwgdnVsbiAtIHNlY3VyaXR5L2RldGVjdC1ub24tbGl0ZXJhbC1yZWdleHBcbiAgICAgIHJldHVybiBvYmpcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0IGZvb3sxLDl9XG4gICAgaWYgKGhhc01pbk1heC50ZXN0KHcpID09PSB0cnVlKSB7XG4gICAgICB3ID0gdy5yZXBsYWNlKGhhc01pbk1heCwgKF9hLCBiLCBjKSA9PiB7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyAnezN9J1x0RXhhY3RseSB0aHJlZSB0aW1lc1xuICAgICAgICAgIG9iai5taW4gPSBOdW1iZXIoYilcbiAgICAgICAgICBvYmoubWF4ID0gTnVtYmVyKGIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYyA9IGMucmVwbGFjZSgvLCAqLywgJycpXG4gICAgICAgICAgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gJ3ssOX0nIGltcGxpZWQgemVybyBtaW5cbiAgICAgICAgICAgIG9iai5taW4gPSAwXG4gICAgICAgICAgICBvYmoubWF4ID0gTnVtYmVyKGMpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICd7Miw0fScgVHdvIHRvIGZvdXIgdGltZXNcbiAgICAgICAgICAgIG9iai5taW4gPSBOdW1iZXIoYilcbiAgICAgICAgICAgIC8vICd7Myx9JyBUaHJlZSBvciBtb3JlIHRpbWVzXG4gICAgICAgICAgICBvYmoubWF4ID0gTnVtYmVyKGMgfHwgOTk5KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB1c2Ugc2FtZSBtZXRob2QgYXMgJysnXG4gICAgICAgIG9iai5ncmVlZHkgPSB0cnVlXG4gICAgICAgIC8vIDAgYXMgbWluIG1lYW5zIHRoZSBzYW1lIGFzICc/J1xuICAgICAgICBpZiAoIW9iai5taW4pIHtcbiAgICAgICAgICBvYmoub3B0aW9uYWwgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vd3JhcHBlZC1mbGFnc1xuICAgIGlmIChzdGFydCh3KSA9PT0gJygnICYmIGVuZCh3KSA9PT0gJyknKSB7XG4gICAgICAvLyBzdXBwb3J0IChvbmUgJiYgdHdvKVxuICAgICAgaWYgKGFuZFNpZ24udGVzdCh3KSkge1xuICAgICAgICBvYmouY2hvaWNlcyA9IHcuc3BsaXQoYW5kU2lnbilcbiAgICAgICAgb2JqLm9wZXJhdG9yID0gJ2FuZCdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iai5jaG9pY2VzID0gdy5zcGxpdCgnfCcpXG4gICAgICAgIG9iai5vcGVyYXRvciA9ICdvcidcbiAgICAgIH1cbiAgICAgIC8vcmVtb3ZlICcoJyBhbmQgJyknXG4gICAgICBvYmouY2hvaWNlc1swXSA9IHN0cmlwU3RhcnQob2JqLmNob2ljZXNbMF0pXG4gICAgICBsZXQgbGFzdCA9IG9iai5jaG9pY2VzLmxlbmd0aCAtIDFcbiAgICAgIG9iai5jaG9pY2VzW2xhc3RdID0gc3RyaXBFbmQob2JqLmNob2ljZXNbbGFzdF0pXG4gICAgICAvLyBjbGVhbiB1cCB0aGUgcmVzdWx0c1xuICAgICAgb2JqLmNob2ljZXMgPSBvYmouY2hvaWNlcy5tYXAocyA9PiBzLnRyaW0oKSlcbiAgICAgIG9iai5jaG9pY2VzID0gb2JqLmNob2ljZXMuZmlsdGVyKHMgPT4gcylcbiAgICAgIC8vcmVjdXJzaW9uIGFsZXJ0IVxuICAgICAgb2JqLmNob2ljZXMgPSBvYmouY2hvaWNlcy5tYXAoc3RyID0+IHtcbiAgICAgICAgcmV0dXJuIHN0ci5zcGxpdCgvIC9nKS5tYXAocyA9PiBwYXJzZVRva2VuKHMsIG9wdHMpKVxuICAgICAgfSlcbiAgICAgIHcgPSAnJ1xuICAgIH1cblxuICAgIC8vcm9vdC9zZW5zZSBvdmVybG9hZGVkXG4gICAgaWYgKHN0YXJ0KHcpID09PSAneycgJiYgZW5kKHcpID09PSAnfScpIHtcbiAgICAgIHcgPSBzdHJpcEJvdGgodylcbiAgICAgIC8vIG9iai5zZW5zZSA9IHdcbiAgICAgIG9iai5yb290ID0gd1xuICAgICAgaWYgKC9cXC8vLnRlc3QodykpIHtcbiAgICAgICAgbGV0IHNwbGl0ID0gb2JqLnJvb3Quc3BsaXQoL1xcLy8pXG4gICAgICAgIG9iai5yb290ID0gc3BsaXRbMF1cbiAgICAgICAgb2JqLnBvcyA9IHNwbGl0WzFdXG4gICAgICAgIGlmIChvYmoucG9zID09PSAnYWRqJykge1xuICAgICAgICAgIG9iai5wb3MgPSAnQWRqZWN0aXZlJ1xuICAgICAgICB9XG4gICAgICAgIC8vIHRpdGxlY2FzZVxuICAgICAgICBvYmoucG9zID0gb2JqLnBvcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG9iai5wb3Muc3Vic3RyKDEpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLy8gYWRkIHNlbnNlLW51bWJlciB0b29cbiAgICAgICAgaWYgKHNwbGl0WzJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBvYmouc2Vuc2UgPSBzcGxpdFsyXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqXG4gICAgfVxuICAgIC8vY2h1bmtzXG4gICAgaWYgKHN0YXJ0KHcpID09PSAnPCcgJiYgZW5kKHcpID09PSAnPicpIHtcbiAgICAgIHcgPSBzdHJpcEJvdGgodylcbiAgICAgIG9iai5jaHVuayA9IHRpdGxlQ2FzZSh3KVxuICAgICAgb2JqLmdyZWVkeSA9IHRydWVcbiAgICAgIHJldHVybiBvYmpcbiAgICB9XG4gICAgaWYgKHN0YXJ0KHcpID09PSAnJScgJiYgZW5kKHcpID09PSAnJScpIHtcbiAgICAgIHcgPSBzdHJpcEJvdGgodylcbiAgICAgIG9iai5zd2l0Y2ggPSB3XG4gICAgICByZXR1cm4gb2JqXG4gICAgfVxuICB9XG4gIC8vZG8gdGhlIGFjdHVhbCB0b2tlbiBjb250ZW50XG4gIGlmIChzdGFydCh3KSA9PT0gJyMnKSB7XG4gICAgb2JqLnRhZyA9IHN0cmlwU3RhcnQodylcbiAgICBvYmoudGFnID0gdGl0bGVDYXNlKG9iai50YWcpXG4gICAgcmV0dXJuIG9ialxuICB9XG4gIC8vZHluYW1pYyBmdW5jdGlvbiBvbiBhIHRlcm0gb2JqZWN0XG4gIGlmIChzdGFydCh3KSA9PT0gJ0AnKSB7XG4gICAgb2JqLm1ldGhvZCA9IHN0cmlwU3RhcnQodylcbiAgICByZXR1cm4gb2JqXG4gIH1cbiAgaWYgKHcgPT09ICcuJykge1xuICAgIG9iai5hbnl0aGluZyA9IHRydWVcbiAgICByZXR1cm4gb2JqXG4gIH1cbiAgLy9zdXBwb3J0IGFsb25lLWFzdHJpeFxuICBpZiAodyA9PT0gJyonKSB7XG4gICAgb2JqLmFueXRoaW5nID0gdHJ1ZVxuICAgIG9iai5ncmVlZHkgPSB0cnVlXG4gICAgb2JqLm9wdGlvbmFsID0gdHJ1ZVxuICAgIHJldHVybiBvYmpcbiAgfVxuICBpZiAodykge1xuICAgIC8vc29tZWhvdyBoYW5kbGUgZW5jb2RlZC1jaGFycz9cbiAgICB3ID0gdy5yZXBsYWNlKCdcXFxcKicsICcqJylcbiAgICB3ID0gdy5yZXBsYWNlKCdcXFxcLicsICcuJylcbiAgICBpZiAob3B0cy5jYXNlU2Vuc2l0aXZlKSB7XG4gICAgICBvYmoudXNlID0gJ3RleHQnXG4gICAgfSBlbHNlIHtcbiAgICAgIHcgPSB3LnRvTG93ZXJDYXNlKClcbiAgICB9XG4gICAgb2JqLndvcmQgPSB3XG4gIH1cbiAgcmV0dXJuIG9ialxufVxuZXhwb3J0IGRlZmF1bHQgcGFyc2VUb2tlblxuIiwgImNvbnN0IGhhc0Rhc2ggPSAvW2EtejAtOV1bLVx1MjAxM1x1MjAxNF1bYS16XS9pXG5cbi8vIG1hdGNoICdyZS1kbycgLT4gWydyZScsJ2RvJ11cbmNvbnN0IHNwbGl0SHlwaGVucyA9IGZ1bmN0aW9uIChyZWdzLCB3b3JsZCkge1xuICBsZXQgcHJlZml4ZXMgPSB3b3JsZC5tb2RlbC5vbmUucHJlZml4ZXNcbiAgZm9yIChsZXQgaSA9IHJlZ3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICBsZXQgcmVnID0gcmVnc1tpXVxuICAgIGlmIChyZWcud29yZCAmJiBoYXNEYXNoLnRlc3QocmVnLndvcmQpKSB7XG4gICAgICBsZXQgd29yZHMgPSByZWcud29yZC5zcGxpdCgvWy1cdTIwMTNcdTIwMTRdL2cpXG4gICAgICAvLyBkb24ndCBzcGxpdCAncmUtY3ljbGUnLCBldGNcbiAgICAgIGlmIChwcmVmaXhlcy5oYXNPd25Qcm9wZXJ0eSh3b3Jkc1swXSkpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIHdvcmRzID0gd29yZHMuZmlsdGVyKHcgPT4gdykucmV2ZXJzZSgpXG4gICAgICByZWdzLnNwbGljZShpLCAxKVxuICAgICAgd29yZHMuZm9yRWFjaCh3ID0+IHtcbiAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHJlZylcbiAgICAgICAgb2JqLndvcmQgPSB3XG4gICAgICAgIHJlZ3Muc3BsaWNlKGksIDAsIG9iailcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIHJldHVybiByZWdzXG59XG5leHBvcnQgZGVmYXVsdCBzcGxpdEh5cGhlbnMiLCAiXG4vLyBhZGQgYWxsIGNvbmp1Z2F0aW9ucyBvZiB0aGlzIHZlcmJcbmNvbnN0IGFkZFZlcmJzID0gZnVuY3Rpb24gKHRva2VuLCB3b3JsZCkge1xuICBsZXQgeyBhbGwgfSA9IHdvcmxkLm1ldGhvZHMudHdvLnRyYW5zZm9ybS52ZXJiIHx8IHt9XG4gIGxldCBzdHIgPSB0b2tlbi5yb290XG4gIGlmICghYWxsKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbiAgcmV0dXJuIGFsbChzdHIsIHdvcmxkLm1vZGVsKVxufVxuXG4vLyBhZGQgYWxsIGluZmxlY3Rpb25zIG9mIHRoaXMgbm91blxuY29uc3QgYWRkTm91biA9IGZ1bmN0aW9uICh0b2tlbiwgd29ybGQpIHtcbiAgbGV0IHsgYWxsIH0gPSB3b3JsZC5tZXRob2RzLnR3by50cmFuc2Zvcm0ubm91biB8fCB7fVxuICBpZiAoIWFsbCkge1xuICAgIHJldHVybiBbdG9rZW4ucm9vdF1cbiAgfVxuICByZXR1cm4gYWxsKHRva2VuLnJvb3QsIHdvcmxkLm1vZGVsKVxufVxuXG4vLyBhZGQgYWxsIGluZmxlY3Rpb25zIG9mIHRoaXMgYWRqZWN0aXZlXG5jb25zdCBhZGRBZGplY3RpdmUgPSBmdW5jdGlvbiAodG9rZW4sIHdvcmxkKSB7XG4gIGxldCB7IGFsbCB9ID0gd29ybGQubWV0aG9kcy50d28udHJhbnNmb3JtLmFkamVjdGl2ZSB8fCB7fVxuICBpZiAoIWFsbCkge1xuICAgIHJldHVybiBbdG9rZW4ucm9vdF1cbiAgfVxuICByZXR1cm4gYWxsKHRva2VuLnJvb3QsIHdvcmxkLm1vZGVsKVxufVxuXG4vLyB0dXJuICd7d2Fsa30nIGludG8gJ3dhbGtpbmcnLCAnd2Fsa2VkJywgZXRjXG5jb25zdCBpbmZsZWN0Um9vdCA9IGZ1bmN0aW9uIChyZWdzLCB3b3JsZCkge1xuICAvLyBkbyB3ZSBoYXZlIGNvbXByb21pc2UvdHdvP1xuICByZWdzID0gcmVncy5tYXAodG9rZW4gPT4ge1xuICAgIC8vIGEgcmVnIHRvIGNvbnZlcnQgJ3tmb299J1xuICAgIGlmICh0b2tlbi5yb290KSB7XG4gICAgICAvLyBjaGVjayBpZiBjb21wcm9taXNlL3R3byBpcyBsb2FkZWRcbiAgICAgIGlmICh3b3JsZC5tZXRob2RzLnR3byAmJiB3b3JsZC5tZXRob2RzLnR3by50cmFuc2Zvcm0pIHtcbiAgICAgICAgbGV0IGNob2ljZXMgPSBbXVxuICAgICAgICAvLyBoYXZlIGV4cGxpY2l0bHkgc2V0IGZyb20gUE9TIC0gJ3tzd2VldC9hZGplY3RpdmV9J1xuICAgICAgICBpZiAodG9rZW4ucG9zKSB7XG4gICAgICAgICAgaWYgKHRva2VuLnBvcyA9PT0gJ1ZlcmInKSB7XG4gICAgICAgICAgICBjaG9pY2VzID0gY2hvaWNlcy5jb25jYXQoYWRkVmVyYnModG9rZW4sIHdvcmxkKSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnBvcyA9PT0gJ05vdW4nKSB7XG4gICAgICAgICAgICBjaG9pY2VzID0gY2hvaWNlcy5jb25jYXQoYWRkTm91bih0b2tlbiwgd29ybGQpKVxuICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4ucG9zID09PSAnQWRqZWN0aXZlJykge1xuICAgICAgICAgICAgY2hvaWNlcyA9IGNob2ljZXMuY29uY2F0KGFkZEFkamVjdGl2ZSh0b2tlbiwgd29ybGQpKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBkbyB2ZXJiL25vdW4vYWRqIGJ5IGRlZmF1bHRcbiAgICAgICAgICBjaG9pY2VzID0gY2hvaWNlcy5jb25jYXQoYWRkVmVyYnModG9rZW4sIHdvcmxkKSlcbiAgICAgICAgICBjaG9pY2VzID0gY2hvaWNlcy5jb25jYXQoYWRkTm91bih0b2tlbiwgd29ybGQpKVxuICAgICAgICAgIGNob2ljZXMgPSBjaG9pY2VzLmNvbmNhdChhZGRBZGplY3RpdmUodG9rZW4sIHdvcmxkKSlcbiAgICAgICAgfVxuICAgICAgICBjaG9pY2VzID0gY2hvaWNlcy5maWx0ZXIoc3RyID0+IHN0cilcbiAgICAgICAgaWYgKGNob2ljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRva2VuLm9wZXJhdG9yID0gJ29yJ1xuICAgICAgICAgIHRva2VuLmZhc3RPciA9IG5ldyBTZXQoY2hvaWNlcylcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgbm8gY29tcHJvbWlzZS90d28sIGRyb3AgZG93biBpbnRvICdtYWNoaW5lJyBsb29rdXBcbiAgICAgICAgdG9rZW4ubWFjaGluZSA9IHRva2VuLnJvb3RcbiAgICAgICAgZGVsZXRlIHRva2VuLmlkXG4gICAgICAgIGRlbGV0ZSB0b2tlbi5yb290XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0b2tlblxuICB9KVxuXG4gIHJldHVybiByZWdzXG59XG5leHBvcnQgZGVmYXVsdCBpbmZsZWN0Um9vdCIsICIvLyBuYW1lIGFueSBbdW5uYW1lZF0gY2FwdHVyZS1ncm91cHMgd2l0aCBhIG51bWJlclxuY29uc3QgbmFtZUdyb3VwcyA9IGZ1bmN0aW9uIChyZWdzKSB7XG4gIGxldCBpbmRleCA9IDBcbiAgbGV0IGluR3JvdXAgPSBudWxsXG4gIC8vJ2ZpbGwgaW4nIGNhcHR1cmUgZ3JvdXBzIGJldHdlZW4gc3RhcnQtZW5kXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRva2VuID0gcmVnc1tpXVxuICAgIGlmICh0b2tlbi5ncm91cFN0YXJ0ID09PSB0cnVlKSB7XG4gICAgICBpbkdyb3VwID0gdG9rZW4uZ3JvdXBcbiAgICAgIGlmIChpbkdyb3VwID09PSBudWxsKSB7XG4gICAgICAgIGluR3JvdXAgPSBTdHJpbmcoaW5kZXgpXG4gICAgICAgIGluZGV4ICs9IDFcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluR3JvdXAgIT09IG51bGwpIHtcbiAgICAgIHRva2VuLmdyb3VwID0gaW5Hcm91cFxuICAgIH1cbiAgICBpZiAodG9rZW4uZ3JvdXBFbmQgPT09IHRydWUpIHtcbiAgICAgIGluR3JvdXAgPSBudWxsXG4gICAgfVxuICB9XG4gIHJldHVybiByZWdzXG59XG5cbi8vIG9wdGltaXplIGFuICdvcicgbG9va3VwLCB3aGVuIHRoZSAoYXxifGMpIGxpc3QgaXMgc2ltcGxlIG9yIG11bHRpLXdvcmRcbmNvbnN0IGRvRmFzdE9yTW9kZSA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcbiAgcmV0dXJuIHRva2Vucy5tYXAodG9rZW4gPT4ge1xuICAgIGlmICh0b2tlbi5jaG9pY2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSBpdCdzIGFuIE9SXG4gICAgICBpZiAodG9rZW4ub3BlcmF0b3IgIT09ICdvcicpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuXG4gICAgICB9XG4gICAgICBpZiAodG9rZW4uZnV6enkgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuXG4gICAgICB9XG4gICAgICAvLyBhcmUgdGhleSBhbGwgc3RyYWlnaHQtdXAgd29yZHM/IHRoZW4gb3B0aW1pemUgdGhlbS5cbiAgICAgIGxldCBzaG91bGRQYWNrID0gdG9rZW4uY2hvaWNlcy5ldmVyeShibG9jayA9PiB7XG4gICAgICAgIGlmIChibG9jay5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVnID0gYmxvY2tbMF1cbiAgICAgICAgLy8gfmZ1enp5fiB3b3JkcyBuZWVkIG1vcmUgY2FyZVxuICAgICAgICBpZiAocmVnLmZ1enp5ID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgLy8gXiBhbmQgJCBnZXQgbG9zdCBpbiBmYXN0T3JcbiAgICAgICAgaWYgKHJlZy5zdGFydCB8fCByZWcuZW5kKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZy53b3JkICE9PSB1bmRlZmluZWQgJiYgcmVnLm5lZ2F0aXZlICE9PSB0cnVlICYmIHJlZy5vcHRpb25hbCAhPT0gdHJ1ZSAmJiByZWcubWV0aG9kICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWUgLy9yZWcgaXMgc2ltcGxlLWVub3VnaFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSlcbiAgICAgIGlmIChzaG91bGRQYWNrID09PSB0cnVlKSB7XG4gICAgICAgIHRva2VuLmZhc3RPciA9IG5ldyBTZXQoKVxuICAgICAgICB0b2tlbi5jaG9pY2VzLmZvckVhY2goYmxvY2sgPT4ge1xuICAgICAgICAgIHRva2VuLmZhc3RPci5hZGQoYmxvY2tbMF0ud29yZClcbiAgICAgICAgfSlcbiAgICAgICAgZGVsZXRlIHRva2VuLmNob2ljZXNcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRva2VuXG4gIH0pXG59XG5cbi8vIHN1cHBvcnQgfihhfGJ8Yyl+XG5jb25zdCBmdXp6eU9yID0gZnVuY3Rpb24gKHJlZ3MpIHtcbiAgcmV0dXJuIHJlZ3MubWFwKHJlZyA9PiB7XG4gICAgaWYgKHJlZy5mdXp6eSAmJiByZWcuY2hvaWNlcykge1xuICAgICAgLy8gcGFzcyBmdXp6eS1kYXRhIHRvIGVhY2ggT1IgY2hvaWNlXG4gICAgICByZWcuY2hvaWNlcy5mb3JFYWNoKHIgPT4ge1xuICAgICAgICBpZiAoci5sZW5ndGggPT09IDEgJiYgclswXS53b3JkKSB7XG4gICAgICAgICAgclswXS5mdXp6eSA9IHRydWVcbiAgICAgICAgICByWzBdLm1pbiA9IHJlZy5taW5cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHJlZ1xuICB9KVxufVxuXG5jb25zdCBwb3N0UHJvY2VzcyA9IGZ1bmN0aW9uIChyZWdzKSB7XG4gIC8vIGVuc3VyZSBhbGwgY2FwdHVyZSBncm91cHMgbmFtZXMgYXJlIGZpbGxlZCBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmRcbiAgcmVncyA9IG5hbWVHcm91cHMocmVncylcbiAgLy8gY29udmVydCAnY2hvaWNlcycgZm9ybWF0IHRvICdmYXN0T3InIGZvcm1hdFxuICByZWdzID0gZG9GYXN0T3JNb2RlKHJlZ3MpXG4gIC8vIHN1cHBvcnQgfihmb298YmFyKX5cbiAgcmVncyA9IGZ1enp5T3IocmVncylcbiAgcmV0dXJuIHJlZ3Ncbn1cbmV4cG9ydCBkZWZhdWx0IHBvc3RQcm9jZXNzXG4iLCAiaW1wb3J0IHBhcnNlQmxvY2tzIGZyb20gJy4vMDEtcGFyc2VCbG9ja3MuanMnXG5pbXBvcnQgcGFyc2VUb2tlbiBmcm9tICcuLzAyLXBhcnNlVG9rZW4uanMnXG5pbXBvcnQgc3BsaXRIeXBoZW5zIGZyb20gJy4vMDMtc3BsaXRIeXBoZW5zLmpzJ1xuaW1wb3J0IGluZmxlY3RSb290IGZyb20gJy4vMDQtaW5mbGVjdC1yb290LmpzJ1xuaW1wb3J0IHBvc3RQcm9jZXNzIGZyb20gJy4vMDUtcG9zdFByb2Nlc3MuanMnXG5cbi8qKiBwYXJzZSBhIG1hdGNoLXN5bnRheCBzdHJpbmcgaW50byBqc29uICovXG5jb25zdCBzeW50YXggPSBmdW5jdGlvbiAoaW5wdXQsIG9wdHMsIHdvcmxkKSB7XG4gIC8vIGZhaWwtZmFzdFxuICBpZiAoaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHVuZGVmaW5lZCB8fCBpbnB1dCA9PT0gJycpIHtcbiAgICByZXR1cm4gW11cbiAgfVxuICBvcHRzID0gb3B0cyB8fCB7fVxuICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgIGlucHV0ID0gU3RyaW5nKGlucHV0KSAvL2dvIGZvciBpdD9cbiAgfVxuICBsZXQgdG9rZW5zID0gcGFyc2VCbG9ja3MoaW5wdXQpXG4gIC8vdHVybiB0aGVtIGludG8gb2JqZWN0c1xuICB0b2tlbnMgPSB0b2tlbnMubWFwKHN0ciA9PiBwYXJzZVRva2VuKHN0ciwgb3B0cykpXG4gIC8vICd+cmUtZG9+J1xuICB0b2tlbnMgPSBzcGxpdEh5cGhlbnModG9rZW5zLCB3b3JsZClcbiAgLy8gJ3t3YWxrfSdcbiAgdG9rZW5zID0gaW5mbGVjdFJvb3QodG9rZW5zLCB3b3JsZClcbiAgLy9jbGVhbiB1cCBhbnl0aGluZyB3ZWlyZFxuICB0b2tlbnMgPSBwb3N0UHJvY2Vzcyh0b2tlbnMsIG9wdHMpXG4gIC8vIGNvbnNvbGUubG9nKHRva2VucylcbiAgcmV0dXJuIHRva2Vuc1xufVxuZXhwb3J0IGRlZmF1bHQgc3ludGF4XG4iLCAiY29uc3QgYW55SW50ZXJzZWN0aW9uID0gZnVuY3Rpb24gKHNldEEsIHNldEIpIHtcbiAgZm9yIChsZXQgZWxlbSBvZiBzZXRCKSB7XG4gICAgaWYgKHNldEEuaGFzKGVsZW0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cbi8vIGNoZWNrIHdvcmRzL3RhZ3MgYWdhaW5zdCBvdXIgY2FjaGVcbmNvbnN0IGZhaWxGYXN0ID0gZnVuY3Rpb24gKHJlZ3MsIGNhY2hlKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVncy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGxldCByZWcgPSByZWdzW2ldXG4gICAgaWYgKHJlZy5vcHRpb25hbCA9PT0gdHJ1ZSB8fCByZWcubmVnYXRpdmUgPT09IHRydWUgfHwgcmVnLmZ1enp5ID09PSB0cnVlKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyBpcyB0aGUgd29yZCBtaXNzaW5nIGZyb20gdGhlIGNhY2hlP1xuICAgIGlmIChyZWcud29yZCAhPT0gdW5kZWZpbmVkICYmIGNhY2hlLmhhcyhyZWcud29yZCkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBpcyB0aGUgdGFnIG1pc3Npbmc/XG4gICAgaWYgKHJlZy50YWcgIT09IHVuZGVmaW5lZCAmJiBjYWNoZS5oYXMoJyMnICsgcmVnLnRhZykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBwZXJmb3JtIGEgc3BlZWR1cCBmb3IgZmFzdC1vclxuICAgIGlmIChyZWcuZmFzdE9yICYmIGFueUludGVyc2VjdGlvbihyZWcuZmFzdE9yLCBjYWNoZSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5leHBvcnQgZGVmYXVsdCBmYWlsRmFzdFxuIiwgIi8vIGZ1enp5LW1hdGNoIChkYW1lcmF1LWxldmVuc2h0ZWluKVxuLy8gQmFzZWQgb24gIHRhZC1saXNweSAvbm9kZS1kYW1lcmF1LWxldmVuc2h0ZWluXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGFkLWxpc3B5L25vZGUtZGFtZXJhdS1sZXZlbnNodGVpbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gY291bnQgc3RlcHMgKGluc2VydGlvbnMsIGRlbGV0aW9ucywgc3Vic3RpdHV0aW9ucywgb3IgdHJhbnNwb3NpdGlvbnMpXG5jb25zdCBlZGl0RGlzdGFuY2UgPSBmdW5jdGlvbiAoc3RyQSwgc3RyQikge1xuICBsZXQgYUxlbmd0aCA9IHN0ckEubGVuZ3RoLFxuICAgIGJMZW5ndGggPSBzdHJCLmxlbmd0aFxuICAvLyBmYWlsLWZhc3RcbiAgaWYgKGFMZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYkxlbmd0aFxuICB9XG4gIGlmIChiTGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGFMZW5ndGhcbiAgfVxuICAvLyBJZiB0aGUgbGltaXQgaXMgbm90IGRlZmluZWQgaXQgd2lsbCBiZSBjYWxjdWxhdGUgZnJvbSB0aGlzIGFuZCB0aGF0IGFyZ3MuXG4gIGxldCBsaW1pdCA9IChiTGVuZ3RoID4gYUxlbmd0aCA/IGJMZW5ndGggOiBhTGVuZ3RoKSArIDFcbiAgaWYgKE1hdGguYWJzKGFMZW5ndGggLSBiTGVuZ3RoKSA+IChsaW1pdCB8fCAxMDApKSB7XG4gICAgcmV0dXJuIGxpbWl0IHx8IDEwMFxuICB9XG4gIC8vIGluaXQgdGhlIGFycmF5XG4gIGxldCBtYXRyaXggPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbWl0OyBpKyspIHtcbiAgICBtYXRyaXhbaV0gPSBbaV1cbiAgICBtYXRyaXhbaV0ubGVuZ3RoID0gbGltaXRcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbWl0OyBpKyspIHtcbiAgICBtYXRyaXhbMF1baV0gPSBpXG4gIH1cbiAgLy8gQ2FsY3VsYXRlIG1hdHJpeC5cbiAgbGV0IGosIGFfaW5kZXgsIGJfaW5kZXgsIGNvc3QsIG1pbiwgdFxuICBmb3IgKGxldCBpID0gMTsgaSA8PSBhTGVuZ3RoOyArK2kpIHtcbiAgICBhX2luZGV4ID0gc3RyQVtpIC0gMV1cbiAgICBmb3IgKGogPSAxOyBqIDw9IGJMZW5ndGg7ICsraikge1xuICAgICAgLy8gQ2hlY2sgdGhlIGphZ2dlZCBkaXN0YW5jZSB0b3RhbCBzbyBmYXJcbiAgICAgIGlmIChpID09PSBqICYmIG1hdHJpeFtpXVtqXSA+IDQpIHtcbiAgICAgICAgcmV0dXJuIGFMZW5ndGhcbiAgICAgIH1cbiAgICAgIGJfaW5kZXggPSBzdHJCW2ogLSAxXVxuICAgICAgY29zdCA9IGFfaW5kZXggPT09IGJfaW5kZXggPyAwIDogMSAvLyBTdGVwIDVcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgbWluaW11bSAobXVjaCBmYXN0ZXIgdGhhbiBNYXRoLm1pbiguLi4pKS5cbiAgICAgIG1pbiA9IG1hdHJpeFtpIC0gMV1bal0gKyAxIC8vIERlbGV0aW9uLlxuICAgICAgaWYgKCh0ID0gbWF0cml4W2ldW2ogLSAxXSArIDEpIDwgbWluKSBtaW4gPSB0IC8vIEluc2VydGlvbi5cbiAgICAgIGlmICgodCA9IG1hdHJpeFtpIC0gMV1baiAtIDFdICsgY29zdCkgPCBtaW4pIG1pbiA9IHQgLy8gU3Vic3RpdHV0aW9uLlxuICAgICAgLy8gVXBkYXRlIG1hdHJpeC5cbiAgICAgIGxldCBzaG91bGRVcGRhdGUgPVxuICAgICAgICBpID4gMSAmJiBqID4gMSAmJiBhX2luZGV4ID09PSBzdHJCW2ogLSAyXSAmJiBzdHJBW2kgLSAyXSA9PT0gYl9pbmRleCAmJiAodCA9IG1hdHJpeFtpIC0gMl1baiAtIDJdICsgY29zdCkgPCBtaW5cbiAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgbWF0cml4W2ldW2pdID0gdFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0cml4W2ldW2pdID0gbWluXG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIHJldHVybiBudW1iZXIgb2Ygc3RlcHNcbiAgcmV0dXJuIG1hdHJpeFthTGVuZ3RoXVtiTGVuZ3RoXVxufVxuLy8gc2NvcmUgc2ltaWxhcml0eSBieSBmcm9tIDAtMSAoc3RlcHMvbGVuZ3RoKVxuY29uc3QgZnV6enlNYXRjaCA9IGZ1bmN0aW9uIChzdHJBLCBzdHJCLCBtaW5MZW5ndGggPSAzKSB7XG4gIGlmIChzdHJBID09PSBzdHJCKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuICAvL2Rvbid0IGV2ZW4gYm90aGVyIG9uIHRpbnkgc3RyaW5nc1xuICBpZiAoc3RyQS5sZW5ndGggPCBtaW5MZW5ndGggfHwgc3RyQi5sZW5ndGggPCBtaW5MZW5ndGgpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGNvbnN0IHN0ZXBzID0gZWRpdERpc3RhbmNlKHN0ckEsIHN0ckIpXG4gIGxldCBsZW5ndGggPSBNYXRoLm1heChzdHJBLmxlbmd0aCwgc3RyQi5sZW5ndGgpXG4gIGxldCByZWxhdGl2ZSA9IGxlbmd0aCA9PT0gMCA/IDAgOiBzdGVwcyAvIGxlbmd0aFxuICBsZXQgc2ltaWxhcml0eSA9IDEgLSByZWxhdGl2ZVxuICByZXR1cm4gc2ltaWxhcml0eVxufVxuZXhwb3J0IGRlZmF1bHQgZnV6enlNYXRjaFxuIiwgIi8vIHRoZXNlIG1ldGhvZHMgYXJlIGNhbGxlZCB3aXRoICdAaGFzQ29tbWEnIGluIHRoZSBtYXRjaCBzeW50YXhcbi8vIHZhcmlvdXMgdW5pY29kZSBxdW90YXRpb24tbWFyayBmb3JtYXRzXG5jb25zdCBzdGFydFF1b3RlID1cbiAgLyhbXFx1MDAyMlxcdUZGMDJcXHUwMDI3XFx1MjAxQ1xcdTIwMThcXHUyMDFGXFx1MjAxQlxcdTIwMUVcXHUyRTQyXFx1MjAxQVxcdTAwQUJcXHUyMDM5XFx1MjAzNVxcdTIwMzZcXHUyMDM3XFx1MzAxRFxcdTAwNjBcXHUzMDFGXSkvXG5cbmNvbnN0IGVuZFF1b3RlID0gLyhbXFx1MDAyMlxcdUZGMDJcXHUwMDI3XFx1MjAxRFxcdTIwMTlcXHUwMEJCXFx1MjAzQVxcdTIwMzJcXHUyMDMzXFx1MjAzNFxcdTMwMUVcXHUwMEI0XSkvXG5cbmNvbnN0IGhhc0h5cGhlbiA9IC9eWy1cdTIwMTNcdTIwMTRdJC9cbmNvbnN0IGhhc0Rhc2ggPSAvIFstXHUyMDEzXHUyMDE0XXsxLDN9IC9cblxuLyoqIHNlYXJjaCB0aGUgdGVybSdzICdwb3N0JyBwdW5jdHVhdGlvbiAgKi9cbmNvbnN0IGhhc1Bvc3QgPSAodGVybSwgcHVuY3QpID0+IHRlcm0ucG9zdC5pbmRleE9mKHB1bmN0KSAhPT0gLTFcbi8qKiBzZWFyY2ggdGhlIHRlcm0ncyAncHJlJyBwdW5jdHVhdGlvbiAgKi9cbi8vIGNvbnN0IGhhc1ByZSA9ICh0ZXJtLCBwdW5jdCkgPT4gdGVybS5wcmUuaW5kZXhPZihwdW5jdCkgIT09IC0xXG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiBkb2VzIGl0IGhhdmUgYSBxdW90YXRpb24gc3ltYm9sPyAgKi9cbiAgaGFzUXVvdGU6IHRlcm0gPT4gc3RhcnRRdW90ZS50ZXN0KHRlcm0ucHJlKSB8fCBlbmRRdW90ZS50ZXN0KHRlcm0ucG9zdCksXG4gIC8qKiBkb2VzIGl0IGhhdmUgYSBjb21tYT8gICovXG4gIGhhc0NvbW1hOiB0ZXJtID0+IGhhc1Bvc3QodGVybSwgJywnKSxcbiAgLyoqIGRvZXMgaXQgZW5kIGluIGEgcGVyaW9kPyAqL1xuICBoYXNQZXJpb2Q6IHRlcm0gPT4gaGFzUG9zdCh0ZXJtLCAnLicpID09PSB0cnVlICYmIGhhc1Bvc3QodGVybSwgJy4uLicpID09PSBmYWxzZSxcbiAgLyoqIGRvZXMgaXQgZW5kIGluIGFuIGV4Y2xhbWF0aW9uICovXG4gIGhhc0V4Y2xhbWF0aW9uOiB0ZXJtID0+IGhhc1Bvc3QodGVybSwgJyEnKSxcbiAgLyoqIGRvZXMgaXQgZW5kIHdpdGggYSBxdWVzdGlvbiBtYXJrPyAqL1xuICBoYXNRdWVzdGlvbk1hcms6IHRlcm0gPT4gaGFzUG9zdCh0ZXJtLCAnPycpIHx8IGhhc1Bvc3QodGVybSwgJ1x1MDBCRicpLFxuICAvKiogaXMgdGhlcmUgYSAuLi4gYXQgdGhlIGVuZD8gKi9cbiAgaGFzRWxsaXBzZXM6IHRlcm0gPT4gaGFzUG9zdCh0ZXJtLCAnLi4nKSB8fCBoYXNQb3N0KHRlcm0sICdcdTIwMjYnKSxcbiAgLyoqIGlzIHRoZXJlIGEgc2VtaWNvbG9uIGFmdGVyIHRlcm0gd29yZD8gKi9cbiAgaGFzU2VtaWNvbG9uOiB0ZXJtID0+IGhhc1Bvc3QodGVybSwgJzsnKSxcbiAgLyoqIGlzIHRoZXJlIGEgY29sb24gYWZ0ZXIgdGVybSB3b3JkPyAqL1xuICBoYXNDb2xvbjogdGVybSA9PiBoYXNQb3N0KHRlcm0sICc6JyksXG4gIC8qKiBpcyB0aGVyZSBhIHNsYXNoICcvJyBpbiB0ZXJtIHdvcmQ/ICovXG4gIGhhc1NsYXNoOiB0ZXJtID0+IC9cXC8vLnRlc3QodGVybS50ZXh0KSxcbiAgLyoqIGEgaHlwaGVuIGNvbm5lY3RzIHR3byB3b3JkcyBsaWtlLXRlcm0gKi9cbiAgaGFzSHlwaGVuOiB0ZXJtID0+IGhhc0h5cGhlbi50ZXN0KHRlcm0ucG9zdCkgfHwgaGFzSHlwaGVuLnRlc3QodGVybS5wcmUpLFxuICAvKiogYSBkYXNoIHNlcGFyYXRlcyB3b3JkcyAtIGxpa2UgdGhhdCAqL1xuICBoYXNEYXNoOiB0ZXJtID0+IGhhc0Rhc2gudGVzdCh0ZXJtLnBvc3QpIHx8IGhhc0Rhc2gudGVzdCh0ZXJtLnByZSksXG4gIC8qKiBpcyBpdCBtdWx0aXBsZSB3b3JkcyBjb21iaW5kZWQgKi9cbiAgaGFzQ29udHJhY3Rpb246IHRlcm0gPT4gQm9vbGVhbih0ZXJtLmltcGxpY2l0KSxcbiAgLyoqIGlzIGl0IGFuIGFjcm9ueW0gKi9cbiAgaXNBY3JvbnltOiB0ZXJtID0+IHRlcm0udGFncy5oYXMoJ0Fjcm9ueW0nKSxcbiAgLyoqIGRvZXMgaXQgaGF2ZSBhbnkgdGFncyAqL1xuICBpc0tub3duOiB0ZXJtID0+IHRlcm0udGFncy5zaXplID4gMCxcbiAgLyoqIHVwcGVyY2FzZSBmaXJzdCBsZXR0ZXIsIHRoZW4gYSBsb3dlcmNhc2UgKi9cbiAgaXNUaXRsZUNhc2U6IHRlcm0gPT4gL15cXHB7THV9W2EteidcXHUwMEMwLVxcdTAwRkZdL3UudGVzdCh0ZXJtLnRleHQpLFxuICAvKiogdXBwZXJjYXNlIGFsbCBsZXR0ZXJzICovXG4gIGlzVXBwZXJDYXNlOiB0ZXJtID0+IC9eXFxwe0x1fSskL3UudGVzdCh0ZXJtLnRleHQpLFxufVxuLy8gYWxpYXNlc1xubWV0aG9kcy5oYXNRdW90YXRpb24gPSBtZXRob2RzLmhhc1F1b3RlXG5cbmV4cG9ydCBkZWZhdWx0IG1ldGhvZHNcbiIsICJpbXBvcnQgZnV6enkgZnJvbSAnLi9fZnV6enkuanMnXG5pbXBvcnQgbWV0aG9kcyBmcm9tICcuLi8uLi90ZXJtTWV0aG9kcy5qcycgLy90aGlzIHNob3VsZCBsb2FkIG9mZiBvZiAnbWV0aG9kcy5vbmUudGVybU1ldGhvZHMnXG5cbi8vZGVjbGFyZSBpdCB1cCBoZXJlXG5sZXQgd3JhcE1hdGNoID0gZnVuY3Rpb24gKCkgeyB9XG4vKiogaWdub3JlIG9wdGlvbmFsL2dyZWVkeSBsb2dpYywgc3RyYWlnaHQtdXAgdGVybSBtYXRjaCovXG5jb25zdCBkb2VzTWF0Y2ggPSBmdW5jdGlvbiAodGVybSwgcmVnLCBpbmRleCwgbGVuZ3RoKSB7XG4gIC8vIHN1cHBvcnQgJy4nXG4gIGlmIChyZWcuYW55dGhpbmcgPT09IHRydWUpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vIHN1cHBvcnQgJ14nIChpbiBwYXJlbnRoZXNlcylcbiAgaWYgKHJlZy5zdGFydCA9PT0gdHJ1ZSAmJiBpbmRleCAhPT0gMCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIC8vIHN1cHBvcnQgJyQnIChpbiBwYXJlbnRoZXNlcylcbiAgaWYgKHJlZy5lbmQgPT09IHRydWUgJiYgaW5kZXggIT09IGxlbmd0aCAtIDEpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvLyBtYXRjaCBhbiBpZFxuICBpZiAocmVnLmlkICE9PSB1bmRlZmluZWQgJiYgcmVnLmlkID09PSB0ZXJtLmlkKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICAvL3N1cHBvcnQgYSB0ZXh0IG1hdGNoXG4gIGlmIChyZWcud29yZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gY2hlY2sgY2FzZS1zZW5zaXRpdml0eSwgZXRjXG4gICAgaWYgKHJlZy51c2UpIHtcbiAgICAgIHJldHVybiByZWcud29yZCA9PT0gdGVybVtyZWcudXNlXVxuICAgIH1cbiAgICAvL21hdGNoIGNvbnRyYWN0aW9ucywgbWFjaGluZS1mb3JtXG4gICAgaWYgKHRlcm0ubWFjaGluZSAhPT0gbnVsbCAmJiB0ZXJtLm1hY2hpbmUgPT09IHJlZy53b3JkKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyB0ZXJtIGFsaWFzZXMgZm9yIHNsYXNoZXMgYW5kIHRoaW5nc1xuICAgIGlmICh0ZXJtLmFsaWFzICE9PSB1bmRlZmluZWQgJiYgdGVybS5hbGlhcy5oYXNPd25Qcm9wZXJ0eShyZWcud29yZCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIC8vIHN1cHBvcnQgfiBmdXp6eSBtYXRjaFxuICAgIGlmIChyZWcuZnV6enkgPT09IHRydWUpIHtcbiAgICAgIGlmIChyZWcud29yZCA9PT0gdGVybS5yb290KSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgICBsZXQgc2NvcmUgPSBmdXp6eShyZWcud29yZCwgdGVybS5ub3JtYWwpXG4gICAgICBpZiAoc2NvcmUgPj0gcmVnLm1pbikge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBtYXRjaCBzbGFzaGVzIGFuZCB0aGluZ3NcbiAgICBpZiAodGVybS5hbGlhcyAmJiB0ZXJtLmFsaWFzLnNvbWUoc3RyID0+IHN0ciA9PT0gcmVnLndvcmQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvL21hdGNoIGVpdGhlciAubm9ybWFsIG9yIC50ZXh0XG4gICAgcmV0dXJuIHJlZy53b3JkID09PSB0ZXJtLnRleHQgfHwgcmVnLndvcmQgPT09IHRlcm0ubm9ybWFsXG4gIH1cbiAgLy9zdXBwb3J0ICNUYWdcbiAgaWYgKHJlZy50YWcgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0ZXJtLnRhZ3MuaGFzKHJlZy50YWcpID09PSB0cnVlXG4gIH1cbiAgLy9zdXBwb3J0IEBtZXRob2RcbiAgaWYgKHJlZy5tZXRob2QgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgbWV0aG9kc1tyZWcubWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJyAmJiBtZXRob2RzW3JlZy5tZXRob2RdKHRlcm0pID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvL3N1cHBvcnQgd2hpdGVzcGFjZS9wdW5jdHVhdGlvblxuICBpZiAocmVnLnByZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRlcm0ucHJlICYmIHRlcm0ucHJlLmluY2x1ZGVzKHJlZy5wcmUpXG4gIH1cbiAgaWYgKHJlZy5wb3N0ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGVybS5wb3N0ICYmIHRlcm0ucG9zdC5pbmNsdWRlcyhyZWcucG9zdClcbiAgfVxuICAvL3N1cHBvcnQgL3JlZy9cbiAgaWYgKHJlZy5yZWdleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbGV0IHN0ciA9IHRlcm0ubm9ybWFsXG4gICAgaWYgKHJlZy51c2UpIHtcbiAgICAgIHN0ciA9IHRlcm1bcmVnLnVzZV1cbiAgICB9XG4gICAgcmV0dXJuIHJlZy5yZWdleC50ZXN0KHN0cilcbiAgfVxuICAvL3N1cHBvcnQgPGNodW5rPlxuICBpZiAocmVnLmNodW5rICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGVybS5jaHVuayA9PT0gcmVnLmNodW5rXG4gIH1cbiAgLy9zdXBwb3J0ICVOb3VufFZlcmIlXG4gIGlmIChyZWcuc3dpdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGVybS5zd2l0Y2ggPT09IHJlZy5zd2l0Y2hcbiAgfVxuICAvL3N1cHBvcnQge21hY2hpbmV9XG4gIGlmIChyZWcubWFjaGluZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRlcm0ubm9ybWFsID09PSByZWcubWFjaGluZSB8fCB0ZXJtLm1hY2hpbmUgPT09IHJlZy5tYWNoaW5lIHx8IHRlcm0ucm9vdCA9PT0gcmVnLm1hY2hpbmVcbiAgfVxuICAvL3N1cHBvcnQge3dvcmQvc2Vuc2V9XG4gIGlmIChyZWcuc2Vuc2UgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0ZXJtLnNlbnNlID09PSByZWcuc2Vuc2VcbiAgfVxuICAvLyBzdXBwb3J0IG9wdGltaXplZCAob25lfHR3bylcbiAgaWYgKHJlZy5mYXN0T3IgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIHt3b3JrL3ZlcmJ9IG11c3QgYmUgYSB2ZXJiXG4gICAgaWYgKHJlZy5wb3MgJiYgIXRlcm0udGFncy5oYXMocmVnLnBvcykpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGxldCBzdHIgPSB0ZXJtLnJvb3QgfHwgdGVybS5pbXBsaWNpdCB8fCB0ZXJtLm1hY2hpbmUgfHwgdGVybS5ub3JtYWxcbiAgICByZXR1cm4gcmVnLmZhc3RPci5oYXMoc3RyKSB8fCByZWcuZmFzdE9yLmhhcyh0ZXJtLnRleHQpXG4gIH1cbiAgLy9zdXBwb3J0IHNsb3dlciAob25lfHR3bylcbiAgaWYgKHJlZy5jaG9pY2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyB0cnkgdG8gc3VwcG9ydCAmJiBvcGVyYXRvclxuICAgIGlmIChyZWcub3BlcmF0b3IgPT09ICdhbmQnKSB7XG4gICAgICAvLyBtdXN0IG1hdGNoIHRoZW0gYWxsXG4gICAgICByZXR1cm4gcmVnLmNob2ljZXMuZXZlcnkociA9PiB3cmFwTWF0Y2godGVybSwgciwgaW5kZXgsIGxlbmd0aCkpXG4gICAgfVxuICAgIC8vIG9yIG11c3QgbWF0Y2ggb25lXG4gICAgcmV0dXJuIHJlZy5jaG9pY2VzLnNvbWUociA9PiB3cmFwTWF0Y2godGVybSwgciwgaW5kZXgsIGxlbmd0aCkpXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG4vLyB3cmFwIHJlc3VsdCBmb3IgIW5lZ2F0aXZlIG1hdGNoIGxvZ2ljXG53cmFwTWF0Y2ggPSBmdW5jdGlvbiAodCwgcmVnLCBpbmRleCwgbGVuZ3RoKSB7XG4gIGxldCByZXN1bHQgPSBkb2VzTWF0Y2godCwgcmVnLCBpbmRleCwgbGVuZ3RoKVxuICBpZiAocmVnLm5lZ2F0aXZlID09PSB0cnVlKSB7XG4gICAgcmV0dXJuICFyZXN1bHRcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5leHBvcnQgZGVmYXVsdCB3cmFwTWF0Y2hcbiIsICJpbXBvcnQgZG9lc01hdGNoIGZyb20gJy4uLy4uL3Rlcm0vZG9lc01hdGNoLmpzJ1xuXG4vLyBmb3IgZ3JlZWR5IGNoZWNraW5nLCB3ZSBubyBsb25nZXIgY2FyZSBhYm91dCB0aGUgcmVnLnN0YXJ0XG4vLyB2YWx1ZSwgYW5kIGxlYXZpbmcgaXQgY2FuIGNhdXNlIGZhaWx1cmVzIGZvciBhbmNob3JlZCBncmVlZHlcbi8vIG1hdGNoZXMuICBkaXR0byBmb3IgZW5kLWdyZWVkeSBtYXRjaGVzOiB3ZSBuZWVkIGFuIGVhcmxpZXIgbm9uLVxuLy8gZW5kaW5nIG1hdGNoIHRvIHN1Y2NjZWVkIHVudGlsIHdlIGdldCB0byB0aGUgYWN0dWFsIGVuZC5cbmNvbnN0IGdldEdyZWVkeSA9IGZ1bmN0aW9uIChzdGF0ZSwgZW5kUmVnKSB7XG4gIGxldCByZWcgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yZWdzW3N0YXRlLnJdLCB7IHN0YXJ0OiBmYWxzZSwgZW5kOiBmYWxzZSB9KVxuICBsZXQgc3RhcnQgPSBzdGF0ZS50XG4gIGZvciAoOyBzdGF0ZS50IDwgc3RhdGUudGVybXMubGVuZ3RoOyBzdGF0ZS50ICs9IDEpIHtcbiAgICAvL3N0b3AgZm9yIG5leHQtcmVnIG1hdGNoXG4gICAgaWYgKGVuZFJlZyAmJiBkb2VzTWF0Y2goc3RhdGUudGVybXNbc3RhdGUudF0sIGVuZFJlZywgc3RhdGUuc3RhcnRfaSArIHN0YXRlLnQsIHN0YXRlLnBocmFzZV9sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gc3RhdGUudFxuICAgIH1cbiAgICBsZXQgY291bnQgPSBzdGF0ZS50IC0gc3RhcnQgKyAxXG4gICAgLy8gaXMgaXQgbWF4LWxlbmd0aCBub3c/XG4gICAgaWYgKHJlZy5tYXggIT09IHVuZGVmaW5lZCAmJiBjb3VudCA9PT0gcmVnLm1heCkge1xuICAgICAgcmV0dXJuIHN0YXRlLnRcbiAgICB9XG4gICAgLy9zdG9wIGhlcmVcbiAgICBpZiAoZG9lc01hdGNoKHN0YXRlLnRlcm1zW3N0YXRlLnRdLCByZWcsIHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50LCBzdGF0ZS5waHJhc2VfbGVuZ3RoKSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGlzIGl0IHRvbyBzaG9ydD9cbiAgICAgIGlmIChyZWcubWluICE9PSB1bmRlZmluZWQgJiYgY291bnQgPCByZWcubWluKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGUudFxuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhdGUudFxufVxuXG5jb25zdCBncmVlZHlUbyA9IGZ1bmN0aW9uIChzdGF0ZSwgbmV4dFJlZykge1xuICBsZXQgdCA9IHN0YXRlLnRcbiAgLy9pZiB0aGVyZSdzIG5vIG5leHQgb25lLCBqdXN0IGdvIG9mZiB0aGUgZW5kIVxuICBpZiAoIW5leHRSZWcpIHtcbiAgICByZXR1cm4gc3RhdGUudGVybXMubGVuZ3RoXG4gIH1cbiAgLy9vdGhlcndpc2UsIHdlJ3JlIGxvb2tpbmcgZm9yIHRoZSBuZXh0IG9uZVxuICBmb3IgKDsgdCA8IHN0YXRlLnRlcm1zLmxlbmd0aDsgdCArPSAxKSB7XG4gICAgaWYgKGRvZXNNYXRjaChzdGF0ZS50ZXJtc1t0XSwgbmV4dFJlZywgc3RhdGUuc3RhcnRfaSArIHQsIHN0YXRlLnBocmFzZV9sZW5ndGgpID09PSB0cnVlKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgZ3JlZWR5VG8gJHtzdGF0ZS50ZXJtc1t0XS5ub3JtYWx9YClcbiAgICAgIHJldHVybiB0XG4gICAgfVxuICB9XG4gIC8vZ3Vlc3MgaXQgZG9lc24ndCBleGlzdCwgdGhlbi5cbiAgcmV0dXJuIG51bGxcbn1cblxuY29uc3QgaXNFbmRHcmVlZHkgPSBmdW5jdGlvbiAocmVnLCBzdGF0ZSkge1xuICBpZiAocmVnLmVuZCA9PT0gdHJ1ZSAmJiByZWcuZ3JlZWR5ID09PSB0cnVlKSB7XG4gICAgaWYgKHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50IDwgc3RhdGUucGhyYXNlX2xlbmd0aCAtIDEpIHtcbiAgICAgIGxldCB0bXBSZWcgPSBPYmplY3QuYXNzaWduKHt9LCByZWcsIHsgZW5kOiBmYWxzZSB9KVxuICAgICAgaWYgKGRvZXNNYXRjaChzdGF0ZS50ZXJtc1tzdGF0ZS50XSwgdG1wUmVnLCBzdGF0ZS5zdGFydF9pICsgc3RhdGUudCwgc3RhdGUucGhyYXNlX2xlbmd0aCkgPT09IHRydWUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYGVuZEdyZWVkeSAke3N0YXRlLnRlcm1zW3N0YXRlLnRdLm5vcm1hbH1gKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZXhwb3J0IHsgaXNFbmRHcmVlZHksIGdyZWVkeVRvLCBnZXRHcmVlZHkgfSIsICJcblxuZXhwb3J0IGNvbnN0IGdldEdyb3VwID0gZnVuY3Rpb24gKHN0YXRlLCB0ZXJtX2luZGV4KSB7XG4gIGlmIChzdGF0ZS5ncm91cHNbc3RhdGUuaW5Hcm91cF0pIHtcbiAgICByZXR1cm4gc3RhdGUuZ3JvdXBzW3N0YXRlLmluR3JvdXBdXG4gIH1cbiAgc3RhdGUuZ3JvdXBzW3N0YXRlLmluR3JvdXBdID0ge1xuICAgIHN0YXJ0OiB0ZXJtX2luZGV4LFxuICAgIGxlbmd0aDogMCxcbiAgfVxuICByZXR1cm4gc3RhdGUuZ3JvdXBzW3N0YXRlLmluR3JvdXBdXG59XG4iLCAiaW1wb3J0IHsgZ3JlZWR5VG8gfSBmcm9tICcuL2xvZ2ljL2dyZWVkeS5qcydcbmltcG9ydCB7IGdldEdyb3VwIH0gZnJvbSAnLi4vX2xpYi5qcydcblxuLy9zdXBwb3J0ICd1bnNwZWNpZmljIGdyZWVkeScgLiogcHJvcGVybHlcbi8vIGl0cyBsb2dpYyBpcyAnZ3JlZWR5IHVudGlsJywgd2hlcmUgaXQncyBsb29raW5nIGZvciB0aGUgbmV4dCB0b2tlblxuLy8gJy4rIGZvbycgbWVhbnMgd2UgY2hlY2sgZm9yICdmb28nLCBpbmRlZmluZXRseVxuY29uc3QgZG9Bc3RyaXggPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgbGV0IHsgcmVncyB9ID0gc3RhdGVcbiAgbGV0IHJlZyA9IHJlZ3Nbc3RhdGUucl1cblxuICBsZXQgc2tpcHRvID0gZ3JlZWR5VG8oc3RhdGUsIHJlZ3Nbc3RhdGUuciArIDFdKVxuICAvL21heWJlIHdlIGNvdWxkbid0IGZpbmQgaXRcbiAgaWYgKHNraXB0byA9PT0gbnVsbCB8fCBza2lwdG8gPT09IDApIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIC8vIGVuc3VyZSBpdCdzIGxvbmcgZW5vdWdoXG4gIGlmIChyZWcubWluICE9PSB1bmRlZmluZWQgJiYgc2tpcHRvIC0gc3RhdGUudCA8IHJlZy5taW4pIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIC8vIHJlZHVjZSBpdCBiYWNrLCBpZiBpdCdzIHRvbyBsb25nXG4gIGlmIChyZWcubWF4ICE9PSB1bmRlZmluZWQgJiYgc2tpcHRvIC0gc3RhdGUudCA+IHJlZy5tYXgpIHtcbiAgICBzdGF0ZS50ID0gc3RhdGUudCArIHJlZy5tYXhcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vIHNldCB0aGUgZ3JvdXAgcmVzdWx0XG4gIGlmIChzdGF0ZS5oYXNHcm91cCA9PT0gdHJ1ZSkge1xuICAgIGNvbnN0IGcgPSBnZXRHcm91cChzdGF0ZSwgc3RhdGUudClcbiAgICBnLmxlbmd0aCA9IHNraXB0byAtIHN0YXRlLnRcbiAgfVxuICBzdGF0ZS50ID0gc2tpcHRvXG4gIC8vIGxvZyhgXHUyNzEzIHxncmVlZHl8YClcbiAgcmV0dXJuIHRydWVcbn1cbmV4cG9ydCBkZWZhdWx0IGRvQXN0cml4IiwgImltcG9ydCBkb2VzTWF0Y2ggZnJvbSAnLi4vLi4vdGVybS9kb2VzTWF0Y2guanMnXG5cbmNvbnN0IGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG5leHBvcnQgY29uc3QgZG9PckJsb2NrID0gZnVuY3Rpb24gKHN0YXRlLCBza2lwTiA9IDApIHtcbiAgbGV0IGJsb2NrID0gc3RhdGUucmVnc1tzdGF0ZS5yXVxuICBsZXQgd2FzRm91bmQgPSBmYWxzZVxuICAvLyBkbyBlYWNoIG11bHRpd29yZCBzZXF1ZW5jZVxuICBmb3IgKGxldCBjID0gMDsgYyA8IGJsb2NrLmNob2ljZXMubGVuZ3RoOyBjICs9IDEpIHtcbiAgICAvLyB0cnkgdG8gbWF0Y2ggdGhpcyBsaXN0IG9mIHRva2Vuc1xuICAgIGxldCByZWdzID0gYmxvY2suY2hvaWNlc1tjXVxuICAgIGlmICghaXNBcnJheShyZWdzKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHdhc0ZvdW5kID0gcmVncy5ldmVyeSgoY3IsIHdfaW5kZXgpID0+IHtcbiAgICAgIGxldCBleHRyYSA9IDBcbiAgICAgIGxldCB0ID0gc3RhdGUudCArIHdfaW5kZXggKyBza2lwTiArIGV4dHJhXG4gICAgICBpZiAoc3RhdGUudGVybXNbdF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGxldCBmb3VuZEJsb2NrID0gZG9lc01hdGNoKHN0YXRlLnRlcm1zW3RdLCBjciwgdCArIHN0YXRlLnN0YXJ0X2ksIHN0YXRlLnBocmFzZV9sZW5ndGgpXG4gICAgICAvLyB0aGlzIGNhbiBiZSBncmVlZHkgLSAnKGZvbysgYmFyKSdcbiAgICAgIGlmIChmb3VuZEJsb2NrID09PSB0cnVlICYmIGNyLmdyZWVkeSA9PT0gdHJ1ZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN0YXRlLnRlcm1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgbGV0IHRlcm0gPSBzdGF0ZS50ZXJtc1t0ICsgaV1cbiAgICAgICAgICBpZiAodGVybSkge1xuICAgICAgICAgICAgbGV0IGtlZXBHb2luZyA9IGRvZXNNYXRjaCh0ZXJtLCBjciwgc3RhdGUuc3RhcnRfaSArIGksIHN0YXRlLnBocmFzZV9sZW5ndGgpXG4gICAgICAgICAgICBpZiAoa2VlcEdvaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGV4dHJhICs9IDFcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBza2lwTiArPSBleHRyYVxuICAgICAgcmV0dXJuIGZvdW5kQmxvY2tcbiAgICB9KVxuICAgIGlmICh3YXNGb3VuZCkge1xuICAgICAgc2tpcE4gKz0gcmVncy5sZW5ndGhcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIC8vIHdlIGZvdW5kIGEgbWF0Y2ggLSAgaXMgaXQgZ3JlZWR5IHRob3VnaD9cbiAgaWYgKHdhc0ZvdW5kICYmIGJsb2NrLmdyZWVkeSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBkb09yQmxvY2soc3RhdGUsIHNraXBOKSAvLyB0cnkgaXQgYWdhaW4hXG4gIH1cbiAgcmV0dXJuIHNraXBOXG59XG5cbmNvbnN0IGRvQW5kQmxvY2sgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgbGV0IGxvbmdlc3QgPSAwXG4gIC8vIGFsbCBibG9ja3MgbXVzdCBtYXRjaCwgYW5kIHdlIHJldHVybiB0aGUgZ3JlZWRpZXN0IG1hdGNoXG4gIGxldCByZWcgPSBzdGF0ZS5yZWdzW3N0YXRlLnJdXG4gIGxldCBhbGxEaWRNYXRjaCA9IHJlZy5jaG9pY2VzLmV2ZXJ5KGJsb2NrID0+IHtcbiAgICAvLyAgZm9yIG11bHRpLXdvcmQgYmxvY2tzLCBhbGwgbXVzdCBtYXRjaFxuICAgIGxldCBhbGxXb3JkcyA9IGJsb2NrLmV2ZXJ5KChjciwgd19pbmRleCkgPT4ge1xuICAgICAgbGV0IHRyeVRlcm0gPSBzdGF0ZS50ICsgd19pbmRleFxuICAgICAgaWYgKHN0YXRlLnRlcm1zW3RyeVRlcm1dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICByZXR1cm4gZG9lc01hdGNoKHN0YXRlLnRlcm1zW3RyeVRlcm1dLCBjciwgdHJ5VGVybSwgc3RhdGUucGhyYXNlX2xlbmd0aClcbiAgICB9KVxuICAgIGlmIChhbGxXb3JkcyA9PT0gdHJ1ZSAmJiBibG9jay5sZW5ndGggPiBsb25nZXN0KSB7XG4gICAgICBsb25nZXN0ID0gYmxvY2subGVuZ3RoXG4gICAgfVxuICAgIHJldHVybiBhbGxXb3Jkc1xuICB9KVxuICBpZiAoYWxsRGlkTWF0Y2ggPT09IHRydWUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhgZG9BbmRCbG9jayAke3N0YXRlLnRlcm1zW3N0YXRlLnRdLm5vcm1hbH1gKVxuICAgIHJldHVybiBsb25nZXN0XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5leHBvcnQgeyBkb0FuZEJsb2NrIH0iLCAiaW1wb3J0IHsgZG9PckJsb2NrIH0gZnJvbSAnLi9sb2dpYy9hbmQtb3IuanMnXG5pbXBvcnQgeyBnZXRHcm91cCB9IGZyb20gJy4uL19saWIuanMnXG5cbmNvbnN0IG9yQmxvY2sgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY29uc3QgeyByZWdzIH0gPSBzdGF0ZVxuICBsZXQgcmVnID0gcmVnc1tzdGF0ZS5yXVxuICBsZXQgc2tpcE51bSA9IGRvT3JCbG9jayhzdGF0ZSlcbiAgLy8gZGlkIHdlIGZpbmQgYSBtYXRjaD9cbiAgaWYgKHNraXBOdW0pIHtcbiAgICAvLyBoYW5kbGUgJ25vdCcgbG9naWNcbiAgICBpZiAocmVnLm5lZ2F0aXZlID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gbnVsbCAvLyBkaWVcbiAgICB9XG4gICAgLy8gdHVjayBpbiBhcyBuYW1lZC1ncm91cFxuICAgIGlmIChzdGF0ZS5oYXNHcm91cCA9PT0gdHJ1ZSkge1xuICAgICAgY29uc3QgZyA9IGdldEdyb3VwKHN0YXRlLCBzdGF0ZS50KVxuICAgICAgZy5sZW5ndGggKz0gc2tpcE51bVxuICAgIH1cbiAgICAvLyBlbnN1cmUgd2UncmUgYXQgdGhlIGVuZFxuICAgIGlmIChyZWcuZW5kID09PSB0cnVlKSB7XG4gICAgICBsZXQgZW5kID0gc3RhdGUucGhyYXNlX2xlbmd0aFxuICAgICAgaWYgKHN0YXRlLnQgKyBzdGF0ZS5zdGFydF9pICsgc2tpcE51bSAhPT0gZW5kKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfVxuICAgIHN0YXRlLnQgKz0gc2tpcE51bVxuICAgIC8vIGxvZyhgXHUyNzEzIHxmb3VuZC1vcnxgKVxuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSBpZiAoIXJlZy5vcHRpb25hbCkge1xuICAgIHJldHVybiBudWxsIC8vZGllXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cbmV4cG9ydCBkZWZhdWx0IG9yQmxvY2siLCAiaW1wb3J0IHsgZG9BbmRCbG9jayB9IGZyb20gJy4vbG9naWMvYW5kLW9yLmpzJ1xuaW1wb3J0IHsgZ2V0R3JvdXAgfSBmcm9tICcuLi9fbGliLmpzJ1xuXG4vLyAnKGZvbyAmJiAjTm91biknIC0gcmVxdWlyZSBhbGwgbWF0Y2hlcyBvbiB0aGUgdGVybVxuY29uc3QgYW5kQmxvY2sgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY29uc3QgeyByZWdzIH0gPSBzdGF0ZVxuICBsZXQgcmVnID0gcmVnc1tzdGF0ZS5yXVxuXG4gIGxldCBza2lwTnVtID0gZG9BbmRCbG9jayhzdGF0ZSlcbiAgaWYgKHNraXBOdW0pIHtcbiAgICAvLyBoYW5kbGUgJ25vdCcgbG9naWNcbiAgICBpZiAocmVnLm5lZ2F0aXZlID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gbnVsbCAvLyBkaWVcbiAgICB9XG4gICAgaWYgKHN0YXRlLmhhc0dyb3VwID09PSB0cnVlKSB7XG4gICAgICBjb25zdCBnID0gZ2V0R3JvdXAoc3RhdGUsIHN0YXRlLnQpXG4gICAgICBnLmxlbmd0aCArPSBza2lwTnVtXG4gICAgfVxuICAgIC8vIGVuc3VyZSB3ZSdyZSBhdCB0aGUgZW5kXG4gICAgaWYgKHJlZy5lbmQgPT09IHRydWUpIHtcbiAgICAgIGxldCBlbmQgPSBzdGF0ZS5waHJhc2VfbGVuZ3RoIC0gMVxuICAgICAgaWYgKHN0YXRlLnQgKyBzdGF0ZS5zdGFydF9pICE9PSBlbmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICB9XG4gICAgc3RhdGUudCArPSBza2lwTnVtXG4gICAgLy8gbG9nKGBcdTI3MTMgfGZvdW5kLWFuZHxgKVxuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSBpZiAoIXJlZy5vcHRpb25hbCkge1xuICAgIHJldHVybiBudWxsIC8vZGllXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cbmV4cG9ydCBkZWZhdWx0IGFuZEJsb2NrIiwgImltcG9ydCBkb2VzTWF0Y2ggZnJvbSAnLi4vLi4vdGVybS9kb2VzTWF0Y2guanMnXG5cbmNvbnN0IG5lZ0dyZWVkeSA9IGZ1bmN0aW9uIChzdGF0ZSwgcmVnLCBuZXh0UmVnKSB7XG4gIGxldCBza2lwID0gMFxuICBmb3IgKGxldCB0ID0gc3RhdGUudDsgdCA8IHN0YXRlLnRlcm1zLmxlbmd0aDsgdCArPSAxKSB7XG4gICAgbGV0IGZvdW5kID0gZG9lc01hdGNoKHN0YXRlLnRlcm1zW3RdLCByZWcsIHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50LCBzdGF0ZS5waHJhc2VfbGVuZ3RoKVxuICAgIC8vIHdlIGRvbid0IHdhbnQgYSBtYXRjaCwgaGVyZVxuICAgIGlmIChmb3VuZCkge1xuICAgICAgYnJlYWsvL3N0b3AgZ29pbmdcbiAgICB9XG4gICAgLy8gYXJlIHdlIGRvaW5nICdncmVlZHktdG8nP1xuICAgIC8vIC0gXCIhZm9vKyBhZnRlclwiICBzaG91bGQgc3RvcCBhdCAnYWZ0ZXInXG4gICAgaWYgKG5leHRSZWcpIHtcbiAgICAgIGZvdW5kID0gZG9lc01hdGNoKHN0YXRlLnRlcm1zW3RdLCBuZXh0UmVnLCBzdGF0ZS5zdGFydF9pICsgc3RhdGUudCwgc3RhdGUucGhyYXNlX2xlbmd0aClcbiAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICBza2lwICs9IDFcbiAgICAvLyBpcyBpdCBtYXgtbGVuZ3RoIG5vdz9cbiAgICBpZiAocmVnLm1heCAhPT0gdW5kZWZpbmVkICYmIHNraXAgPT09IHJlZy5tYXgpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIGlmIChza2lwID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlIC8vZGVhZFxuICB9XG4gIC8vIGRpZCB3ZSBzYXRpc2Z5IG1pbiBmb3IgIWZvb3ttaW4sbWF4fVxuICBpZiAocmVnLm1pbiAmJiByZWcubWluID4gc2tpcCkge1xuICAgIHJldHVybiBmYWxzZS8vZGVhZFxuICB9XG4gIHN0YXRlLnQgKz0gc2tpcFxuICAvLyBzdGF0ZS5yICs9IDFcbiAgcmV0dXJuIHRydWVcbn1cblxuZXhwb3J0IGRlZmF1bHQgbmVnR3JlZWR5IiwgImltcG9ydCBtYXRjaFRlcm0gZnJvbSAnLi4vdGVybS9kb2VzTWF0Y2guanMnXG5pbXBvcnQgbmVnR3JlZWR5IGZyb20gJy4vbG9naWMvbmVnYXRpdmUtZ3JlZWR5LmpzJ1xuXG4vLyAnIWZvbycgc2hvdWxkIG1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgJ2Zvbydcbi8vIGlmIGl0IG1hdGNoZXMsIHJldHVybiBmYWxzZVxuY29uc3QgZG9OZWdhdGl2ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICBjb25zdCB7IHJlZ3MgfSA9IHN0YXRlXG4gIGxldCByZWcgPSByZWdzW3N0YXRlLnJdXG5cbiAgLy8gbWF0Y2ggKmFueXRoaW5nKiBidXQgdGhpcyB0ZXJtXG4gIGxldCB0bXBSZWcgPSBPYmplY3QuYXNzaWduKHt9LCByZWcpXG4gIHRtcFJlZy5uZWdhdGl2ZSA9IGZhbHNlIC8vIHRyeSByZW1vdmluZyBpdFxuXG4gIC8vIGZvdW5kIGl0PyBpZiBzbywgd2UgZGllIGhlcmVcbiAgbGV0IGZvdW5kID0gbWF0Y2hUZXJtKHN0YXRlLnRlcm1zW3N0YXRlLnRdLCB0bXBSZWcsIHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50LCBzdGF0ZS5waHJhc2VfbGVuZ3RoKVxuICBpZiAoZm91bmQpIHtcbiAgICByZXR1cm4gZmFsc2UvL2J5ZVxuICB9XG4gIC8vIHNob3VsZCB3ZSBza2lwIHRoZSB0ZXJtIHRvbz9cbiAgaWYgKHJlZy5vcHRpb25hbCkge1xuICAgIC8vIFwiYmVmb3JlIGFmdGVyXCIgLSBcImJlZm9yZSAhZm9vPyBhZnRlclwiXG4gICAgLy8gZG9lcyB0aGUgbmV4dCByZWcgbWF0Y2ggdGhlIHRoaXMgdGVybT9cbiAgICBsZXQgbmV4dFJlZyA9IHJlZ3Nbc3RhdGUuciArIDFdXG4gICAgaWYgKG5leHRSZWcpIHtcbiAgICAgIGxldCBmTmV4dCA9IG1hdGNoVGVybShzdGF0ZS50ZXJtc1tzdGF0ZS50XSwgbmV4dFJlZywgc3RhdGUuc3RhcnRfaSArIHN0YXRlLnQsIHN0YXRlLnBocmFzZV9sZW5ndGgpXG4gICAgICBpZiAoZk5leHQpIHtcbiAgICAgICAgc3RhdGUuciArPSAxXG4gICAgICB9IGVsc2UgaWYgKG5leHRSZWcub3B0aW9uYWwgJiYgcmVnc1tzdGF0ZS5yICsgMl0pIHtcbiAgICAgICAgLy8gdWdoLiBvayxcbiAgICAgICAgLy8gc3VwcG9ydCBcIiFmb28/IGV4dHJhPyBuZWVkXCJcbiAgICAgICAgLy8gYnV0IGRvbid0IHNjYW4gYWhlYWQgbW9yZSB0aGFuIHRoYXQuXG4gICAgICAgIGxldCBmTmV4dDIgPSBtYXRjaFRlcm0oc3RhdGUudGVybXNbc3RhdGUudF0sIHJlZ3Nbc3RhdGUuciArIDJdLCBzdGF0ZS5zdGFydF9pICsgc3RhdGUudCwgc3RhdGUucGhyYXNlX2xlbmd0aClcbiAgICAgICAgaWYgKGZOZXh0Mikge1xuICAgICAgICAgIHN0YXRlLnIgKz0gMlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIG5lZ2F0aXZlIGdyZWVkeSAtICFmb28rICAtIHN1cGVyIGhhcmQhXG4gIGlmIChyZWcuZ3JlZWR5KSB7XG4gICAgcmV0dXJuIG5lZ0dyZWVkeShzdGF0ZSwgdG1wUmVnLCByZWdzW3N0YXRlLnIgKyAxXSlcbiAgfVxuICBzdGF0ZS50ICs9IDFcbiAgcmV0dXJuIHRydWVcbn1cbmV4cG9ydCBkZWZhdWx0IGRvTmVnYXRpdmUiLCAiaW1wb3J0IG1hdGNoVGVybSBmcm9tICcuLi90ZXJtL2RvZXNNYXRjaC5qcydcblxuLy8gJ2Zvbz8gZm9vJyBtYXRjaGVzIGFyZSB0cmlja3kuXG5jb25zdCBmb3VuZE9wdGlvbmFsID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIGNvbnN0IHsgcmVncyB9ID0gc3RhdGVcbiAgbGV0IHJlZyA9IHJlZ3Nbc3RhdGUucl1cbiAgbGV0IHRlcm0gPSBzdGF0ZS50ZXJtc1tzdGF0ZS50XVxuICAvLyBkb2VzIHRoZSBuZXh0IHJlZyBtYXRjaCBpdCB0b28/XG4gIGxldCBuZXh0UmVnTWF0Y2hlZCA9IG1hdGNoVGVybSh0ZXJtLCByZWdzW3N0YXRlLnIgKyAxXSwgc3RhdGUuc3RhcnRfaSArIHN0YXRlLnQsIHN0YXRlLnBocmFzZV9sZW5ndGgpXG4gIGlmIChyZWcubmVnYXRpdmUgfHwgbmV4dFJlZ01hdGNoZWQpIHtcbiAgICAvLyBidXQgZG9lcyB0aGUgbmV4dCByZWcgbWF0Y2ggdGhlIG5leHQgdGVybT8/XG4gICAgLy8gb25seSBza2lwIGlmIGl0IGRvZXNuJ3RcbiAgICBsZXQgbmV4dFRlcm0gPSBzdGF0ZS50ZXJtc1tzdGF0ZS50ICsgMV1cbiAgICBpZiAoIW5leHRUZXJtIHx8ICFtYXRjaFRlcm0obmV4dFRlcm0sIHJlZ3Nbc3RhdGUuciArIDFdLCBzdGF0ZS5zdGFydF9pICsgc3RhdGUudCwgc3RhdGUucGhyYXNlX2xlbmd0aCkpIHtcbiAgICAgIHN0YXRlLnIgKz0gMVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmb3VuZE9wdGlvbmFsIiwgImltcG9ydCB7IGdldEdyZWVkeSB9IGZyb20gJy4vbG9naWMvZ3JlZWR5LmpzJ1xuXG4vLyBrZWVwICdmb28rJyBvciAnZm9vKicgZ29pbmcuLlxuY29uc3QgZ3JlZWR5TWF0Y2ggPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY29uc3QgeyByZWdzLCBwaHJhc2VfbGVuZ3RoIH0gPSBzdGF0ZVxuICBsZXQgcmVnID0gcmVnc1tzdGF0ZS5yXVxuICBzdGF0ZS50ID0gZ2V0R3JlZWR5KHN0YXRlLCByZWdzW3N0YXRlLnIgKyAxXSlcbiAgaWYgKHN0YXRlLnQgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbCAvL2dyZWVkeSB3YXMgdG9vIHNob3J0XG4gIH1cbiAgLy8gZm9vezIsNH0gLSBoYXMgYSBncmVlZC1taW5pbXVtXG4gIGlmIChyZWcubWluICYmIHJlZy5taW4gPiBzdGF0ZS50KSB7XG4gICAgcmV0dXJuIG51bGwgLy9ncmVlZHkgd2FzIHRvbyBzaG9ydFxuICB9XG4gIC8vICdmb28rJCcgLSBpZiBhbHNvIGFuIGVuZC1hbmNob3IsIGVuc3VyZSB3ZSByZWFsbHkgcmVhY2hlZCB0aGUgZW5kXG4gIGlmIChyZWcuZW5kID09PSB0cnVlICYmIHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50ICE9PSBwaHJhc2VfbGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGwgLy9ncmVlZHkgZGlkbid0IHJlYWNoIHRoZSBlbmRcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuZXhwb3J0IGRlZmF1bHQgZ3JlZWR5TWF0Y2giLCAiLy8gZm9yOiBbJ3dlJywgJ2hhdmUnXVxuLy8gYSBtYXRjaCBmb3IgXCJ3ZSBoYXZlXCIgc2hvdWxkIHdvcmsgYXMgbm9ybWFsXG4vLyBidXQgbWF0Y2hpbmcgXCJ3ZSd2ZVwiIHNob3VsZCBza2lwIG92ZXIgaW1wbGljdCB0ZXJtc1xuY29uc3QgY29udHJhY3Rpb25Ta2lwID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIGxldCB0ZXJtID0gc3RhdGUudGVybXNbc3RhdGUudF1cbiAgbGV0IHJlZyA9IHN0YXRlLnJlZ3Nbc3RhdGUucl1cbiAgLy8gZGlkIHdlIG1hdGNoIHRoZSBmaXJzdCBwYXJ0IG9mIGEgY29udHJhY3Rpb24/XG4gIGlmICh0ZXJtLmltcGxpY2l0ICYmIHN0YXRlLnRlcm1zW3N0YXRlLnQgKyAxXSkge1xuICAgIGxldCBuZXh0VGVybSA9IHN0YXRlLnRlcm1zW3N0YXRlLnQgKyAxXVxuICAgIC8vIGVuc3VyZSBuZXh0IHdvcmQgaXMgaW1wbGljaXRcbiAgICBpZiAoIW5leHRUZXJtLmltcGxpY2l0KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gd2UgbWF0Y2hlZCBcIndlJ3ZlXCIgLSBza2lwLW92ZXIgW3dlLCBoYXZlXVxuICAgIGlmIChyZWcud29yZCA9PT0gdGVybS5ub3JtYWwpIHtcbiAgICAgIHN0YXRlLnQgKz0gMVxuICAgIH1cbiAgICAvLyBhbHNvIHNraXAgZm9yIEBoYXNDb250cmFjdGlvblxuICAgIGlmIChyZWcubWV0aG9kID09PSAnaGFzQ29udHJhY3Rpb24nKSB7XG4gICAgICBzdGF0ZS50ICs9IDFcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGNvbnRyYWN0aW9uU2tpcCIsICJpbXBvcnQgeyBnZXRHcm91cCB9IGZyb20gJy4uL19saWIuanMnXG5pbXBvcnQgZm91bmRPcHRpb25hbCBmcm9tICcuL29wdGlvbmFsLW1hdGNoLmpzJ1xuaW1wb3J0IGdyZWVkeU1hdGNoIGZyb20gJy4vZ3JlZWR5LW1hdGNoLmpzJ1xuaW1wb3J0IGNvbnRyYWN0aW9uU2tpcCBmcm9tICcuL2NvbnRyYWN0aW9uLXNraXAuanMnXG5cblxuLy8gJ1tmb29dJyBzaG91bGQgYWxzbyBiZSBsb2dnZWQgYXMgYSBncm91cFxuY29uc3Qgc2V0R3JvdXAgPSBmdW5jdGlvbiAoc3RhdGUsIHN0YXJ0QXQpIHtcbiAgbGV0IHJlZyA9IHN0YXRlLnJlZ3Nbc3RhdGUucl1cbiAgLy8gR2V0IG9yIGNyZWF0ZSBjYXB0dXJlIGdyb3VwXG4gIGNvbnN0IGcgPSBnZXRHcm91cChzdGF0ZSwgc3RhcnRBdClcbiAgLy8gVXBkYXRlIGdyb3VwIC0gYWRkIGdyZWVkeSBvciBpbmNyZW1lbnQgbGVuZ3RoXG4gIGlmIChzdGF0ZS50ID4gMSAmJiByZWcuZ3JlZWR5KSB7XG4gICAgZy5sZW5ndGggKz0gc3RhdGUudCAtIHN0YXJ0QXRcbiAgfSBlbHNlIHtcbiAgICBnLmxlbmd0aCsrXG4gIH1cbn1cblxuLy8gd2hlbiBhIHJlZyBtYXRjaGVzIGEgdGVybVxuY29uc3Qgc2ltcGxlTWF0Y2ggPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY29uc3QgeyByZWdzIH0gPSBzdGF0ZVxuICBsZXQgcmVnID0gcmVnc1tzdGF0ZS5yXVxuICBsZXQgdGVybSA9IHN0YXRlLnRlcm1zW3N0YXRlLnRdXG4gIGxldCBzdGFydEF0ID0gc3RhdGUudFxuICAvLyBpZiBpdCdzIGEgbmVnYXRpdmUgb3B0aW9uYWwgbWF0Y2guLi4gOjBcbiAgaWYgKHJlZy5vcHRpb25hbCAmJiByZWdzW3N0YXRlLnIgKyAxXSAmJiByZWcubmVnYXRpdmUpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vIG9rYXksIGl0IHdhcyBhIG1hdGNoLCBidXQgaWYgaXQncyBvcHRpb25hbCB0b28sXG4gIC8vIHdlIHNob3VsZCBjaGVjayB0aGUgbmV4dCByZWcgdG9vLCB0byBza2lwIGl0P1xuICBpZiAocmVnLm9wdGlvbmFsICYmIHJlZ3Nbc3RhdGUuciArIDFdKSB7XG4gICAgZm91bmRPcHRpb25hbChzdGF0ZSlcbiAgfVxuICAvLyBDb250cmFjdGlvbiBza2lwOlxuICAvLyBkaWQgd2UgbWF0Y2ggdGhlIGZpcnN0IHBhcnQgb2YgYSBjb250cmFjdGlvbj9cbiAgaWYgKHRlcm0uaW1wbGljaXQgJiYgc3RhdGUudGVybXNbc3RhdGUudCArIDFdKSB7XG4gICAgY29udHJhY3Rpb25Ta2lwKHN0YXRlKVxuICB9XG4gIC8vYWR2YW5jZSB0byB0aGUgbmV4dCB0ZXJtIVxuICBzdGF0ZS50ICs9IDFcbiAgLy9jaGVjayBhbnkgZW5kaW5nICckJyBmbGFnc1xuICAvL2lmIHRoaXMgaXNuJ3QgdGhlIGxhc3QgdGVybSwgcmVmdXNlIHRoZSBtYXRjaFxuICBpZiAocmVnLmVuZCA9PT0gdHJ1ZSAmJiBzdGF0ZS50ICE9PSBzdGF0ZS50ZXJtcy5sZW5ndGggJiYgcmVnLmdyZWVkeSAhPT0gdHJ1ZSkge1xuICAgIHJldHVybiBudWxsIC8vZGllXG4gIH1cbiAgLy8ga2VlcCAnZm9vKycgZ29pbmcuLi5cbiAgaWYgKHJlZy5ncmVlZHkgPT09IHRydWUpIHtcbiAgICBsZXQgYWxpdmUgPSBncmVlZHlNYXRjaChzdGF0ZSlcbiAgICBpZiAoIWFsaXZlKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuICAvLyBsb2cgJ1tmb29dJyBhcyBhIGdyb3VwXG4gIGlmIChzdGF0ZS5oYXNHcm91cCA9PT0gdHJ1ZSkge1xuICAgIHNldEdyb3VwKHN0YXRlLCBzdGFydEF0KVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5leHBvcnQgZGVmYXVsdCBzaW1wbGVNYXRjaCIsICJpbXBvcnQgZG9Bc3RyaXggZnJvbSAnLi9zdGVwcy9hc3RyaXguanMnXG5pbXBvcnQgZG9PckJsb2NrIGZyb20gJy4vc3RlcHMvb3ItYmxvY2suanMnXG5pbXBvcnQgZG9BbmRCbG9jayBmcm9tICcuL3N0ZXBzL2FuZC1ibG9jay5qcydcbmltcG9ydCBkb05lZ2F0aXZlIGZyb20gJy4vc3RlcHMvbmVnYXRpdmUuanMnXG5pbXBvcnQgc2ltcGxlTWF0Y2ggZnJvbSAnLi9zdGVwcy9zaW1wbGUtbWF0Y2guanMnXG5pbXBvcnQgeyBpc0VuZEdyZWVkeSB9IGZyb20gJy4vc3RlcHMvbG9naWMvZ3JlZWR5LmpzJ1xuaW1wb3J0IG1hdGNoVGVybSBmcm9tICcuL3Rlcm0vZG9lc01hdGNoLmpzJ1xuLy8gaSBmb3JtYWxseSBhcG9sb2dpemUgZm9yIGhvdyBjb21wbGljYXRlZCB0aGlzIGlzLlxuXG4vKiogXG4gKiB0cnkgYSBzZXF1ZW5jZSBvZiBtYXRjaCB0b2tlbnMgKCdyZWdzJykgXG4gKiBvbiBhIHNlcXVlbmNlIG9mIHRlcm1zLCBcbiAqIHN0YXJ0aW5nIGF0IHRoaXMgY2VydGFpbiB0ZXJtLlxuICovXG5jb25zdCB0cnlIZXJlID0gZnVuY3Rpb24gKHRlcm1zLCByZWdzLCBzdGFydF9pLCBwaHJhc2VfbGVuZ3RoKSB7XG4gIC8vIGNvbnNvbGUubG9nKGBcXG5cXG46c3RhcnQ6ICcke3Rlcm1zWzBdLnRleHR9JzpgKVxuICBpZiAodGVybXMubGVuZ3RoID09PSAwIHx8IHJlZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICAvLyBhbGwgdGhlIHZhcmlhYmxlcyB0aGF0IG1hdHRlclxuICBsZXQgc3RhdGUgPSB7XG4gICAgdDogMCxcbiAgICB0ZXJtczogdGVybXMsXG4gICAgcjogMCxcbiAgICByZWdzOiByZWdzLFxuICAgIGdyb3Vwczoge30sXG4gICAgc3RhcnRfaTogc3RhcnRfaSxcbiAgICBwaHJhc2VfbGVuZ3RoOiBwaHJhc2VfbGVuZ3RoLFxuICAgIGluR3JvdXA6IG51bGwsXG4gIH1cblxuICAvLyB3ZSBtdXN0IHNhdGlzZnkgZXZlcnkgdG9rZW4gaW4gJ3JlZ3MnXG4gIC8vIGlmIHdlIGdldCB0byB0aGUgZW5kLCB3ZSBoYXZlIGEgbWF0Y2guXG4gIGZvciAoOyBzdGF0ZS5yIDwgcmVncy5sZW5ndGg7IHN0YXRlLnIgKz0gMSkge1xuICAgIGxldCByZWcgPSByZWdzW3N0YXRlLnJdXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyByZWcgaGFzIGEgbmFtZWQgY2FwdHVyZSBncm91cFxuICAgIHN0YXRlLmhhc0dyb3VwID0gQm9vbGVhbihyZWcuZ3JvdXApXG4gICAgLy8gUmV1c2UgcHJldmlvdXMgY2FwdHVyZSBncm91cCBpZiBzYW1lXG4gICAgaWYgKHN0YXRlLmhhc0dyb3VwID09PSB0cnVlKSB7XG4gICAgICBzdGF0ZS5pbkdyb3VwID0gcmVnLmdyb3VwXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmluR3JvdXAgPSBudWxsXG4gICAgfVxuICAgIC8vaGF2ZSB3ZSBydW4tb3V0IG9mIHRlcm1zP1xuICAgIGlmICghc3RhdGUudGVybXNbc3RhdGUudF0pIHtcbiAgICAgIC8vYXJlIGFsbCByZW1haW5pbmcgcmVncyBvcHRpb25hbCBvciBuZWdhdGl2ZT9cbiAgICAgIGNvbnN0IGFsaXZlID0gcmVncy5zbGljZShzdGF0ZS5yKS5zb21lKHJlbWFpbiA9PiAhcmVtYWluLm9wdGlvbmFsKVxuICAgICAgaWYgKGFsaXZlID09PSBmYWxzZSkge1xuICAgICAgICBicmVhayAvL2RvbmUhXG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbCAvLyBkaWVcbiAgICB9XG4gICAgLy8gc3VwcG9ydCAndW5zcGVjaWZpYyBncmVlZHknIC4qIHByb3Blcmx5XG4gICAgaWYgKHJlZy5hbnl0aGluZyA9PT0gdHJ1ZSAmJiByZWcuZ3JlZWR5ID09PSB0cnVlKSB7XG4gICAgICBsZXQgYWxpdmUgPSBkb0FzdHJpeChzdGF0ZSlcbiAgICAgIGlmICghYWxpdmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIHNsb3ctT1IgLSBtdWx0aS13b3JkIE9SIChhfGJ8Zm9vIGJhcilcbiAgICBpZiAocmVnLmNob2ljZXMgIT09IHVuZGVmaW5lZCAmJiByZWcub3BlcmF0b3IgPT09ICdvcicpIHtcbiAgICAgIGxldCBhbGl2ZSA9IGRvT3JCbG9jayhzdGF0ZSlcbiAgICAgIGlmICghYWxpdmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIHNsb3ctQU5EIC0gbXVsdGktd29yZCBBTkQgKCNOb3VuICYmIGZvbykgYmxvY2tzXG4gICAgaWYgKHJlZy5jaG9pY2VzICE9PSB1bmRlZmluZWQgJiYgcmVnLm9wZXJhdG9yID09PSAnYW5kJykge1xuICAgICAgbGV0IGFsaXZlID0gZG9BbmRCbG9jayhzdGF0ZSlcbiAgICAgIGlmICghYWxpdmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIHN1cHBvcnQgJy4nIGFzIGFueS1zaW5nbGVcbiAgICBpZiAocmVnLmFueXRoaW5nID09PSB0cnVlKSB7XG4gICAgICAvLyAnIS4nIG5lZ2F0aXZlIGFueXRoaW5nIHNob3VsZCBpbnN0YS1mYWlsXG4gICAgICBpZiAocmVnLm5lZ2F0aXZlICYmIHJlZy5hbnl0aGluZykge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgICAgbGV0IGFsaXZlID0gc2ltcGxlTWF0Y2goc3RhdGUpXG4gICAgICBpZiAoIWFsaXZlKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyBzdXBwb3J0ICdmb28qJCcgdW50aWwgdGhlIGVuZFxuICAgIGlmIChpc0VuZEdyZWVkeShyZWcsIHN0YXRlKSA9PT0gdHJ1ZSkge1xuICAgICAgbGV0IGFsaXZlID0gc2ltcGxlTWF0Y2goc3RhdGUpXG4gICAgICBpZiAoIWFsaXZlKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyBvaywgaXQgZG9lc24ndCBtYXRjaCAtIGJ1dCBtYXliZSBpdCB3YXNuJ3QgKnN1cHBvc2VkKiB0bz9cbiAgICBpZiAocmVnLm5lZ2F0aXZlKSB7XG4gICAgICAvLyB3ZSB3YW50ICphbnl0aGluZyogYnV0IHRoaXMgdGVybVxuICAgICAgbGV0IGFsaXZlID0gZG9OZWdhdGl2ZShzdGF0ZSlcbiAgICAgIGlmICghYWxpdmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIG9rLCBmaW5hbGx5IHRlc3QgdGhlIHRlcm0tcmVnXG4gICAgbGV0IGhhc01hdGNoID0gbWF0Y2hUZXJtKHN0YXRlLnRlcm1zW3N0YXRlLnRdLCByZWcsIHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50LCBzdGF0ZS5waHJhc2VfbGVuZ3RoKVxuICAgIGlmIChoYXNNYXRjaCA9PT0gdHJ1ZSkge1xuICAgICAgbGV0IGFsaXZlID0gc2ltcGxlTWF0Y2goc3RhdGUpXG4gICAgICBpZiAoIWFsaXZlKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvL29rIHdobyBjYXJlcywga2VlcCBnb2luZ1xuICAgIGlmIChyZWcub3B0aW9uYWwgPT09IHRydWUpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgLy8gZmluYWxseSwgd2UgZGllXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICAvL3JldHVybiBvdXIgcmVzdWx0cywgYXMgcG9pbnRlcnNcbiAgbGV0IHBudHIgPSBbbnVsbCwgc3RhcnRfaSwgc3RhdGUudCArIHN0YXJ0X2ldXG4gIGlmIChwbnRyWzFdID09PSBwbnRyWzJdKSB7XG4gICAgcmV0dXJuIG51bGwgLy9mb3VuZCAwIHRlcm1zXG4gIH1cbiAgbGV0IGdyb3VwcyA9IHt9XG4gIE9iamVjdC5rZXlzKHN0YXRlLmdyb3VwcykuZm9yRWFjaChrID0+IHtcbiAgICBsZXQgbyA9IHN0YXRlLmdyb3Vwc1trXVxuICAgIGxldCBzdGFydCA9IHN0YXJ0X2kgKyBvLnN0YXJ0XG4gICAgZ3JvdXBzW2tdID0gW251bGwsIHN0YXJ0LCBzdGFydCArIG8ubGVuZ3RoXVxuICB9KVxuICByZXR1cm4geyBwb2ludGVyOiBwbnRyLCBncm91cHM6IGdyb3VwcyB9XG59XG5leHBvcnQgZGVmYXVsdCB0cnlIZXJlXG4iLCAiLy8gc3VwcG9ydCByZXR1cm5pbmcgYSBzdWJzZXQgb2YgYSBtYXRjaFxuLy8gbGlrZSAnZm9vIFtiYXJdIGJheicgLT4gYmFyXG5jb25zdCBnZXRHcm91cCA9IGZ1bmN0aW9uIChyZXMsIGdyb3VwKSB7XG4gIGxldCBwdHJzID0gW11cbiAgbGV0IGJ5R3JvdXAgPSB7fVxuICBpZiAocmVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IHB0cnMsIGJ5R3JvdXAgfVxuICB9XG4gIGlmICh0eXBlb2YgZ3JvdXAgPT09ICdudW1iZXInKSB7XG4gICAgZ3JvdXAgPSBTdHJpbmcoZ3JvdXApXG4gIH1cbiAgaWYgKGdyb3VwKSB7XG4gICAgcmVzLmZvckVhY2gociA9PiB7XG4gICAgICBpZiAoci5ncm91cHNbZ3JvdXBdKSB7XG4gICAgICAgIHB0cnMucHVzaChyLmdyb3Vwc1tncm91cF0pXG4gICAgICB9XG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICByZXMuZm9yRWFjaChyID0+IHtcbiAgICAgIHB0cnMucHVzaChyLnBvaW50ZXIpXG4gICAgICBPYmplY3Qua2V5cyhyLmdyb3VwcykuZm9yRWFjaChrID0+IHtcbiAgICAgICAgYnlHcm91cFtrXSA9IGJ5R3JvdXBba10gfHwgW11cbiAgICAgICAgYnlHcm91cFtrXS5wdXNoKHIuZ3JvdXBzW2tdKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG4gIHJldHVybiB7IHB0cnMsIGJ5R3JvdXAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZ2V0R3JvdXBcbiIsICJpbXBvcnQgZnJvbUhlcmUgZnJvbSAnLi8wMi1mcm9tLWhlcmUuanMnXG5cbmNvbnN0IG5vdElmID0gZnVuY3Rpb24gKHJlc3VsdHMsIG5vdCwgZG9jcykge1xuICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIocmVzID0+IHtcbiAgICBsZXQgW24sIHN0YXJ0LCBlbmRdID0gcmVzLnBvaW50ZXJcbiAgICBsZXQgdGVybXMgPSBkb2NzW25dLnNsaWNlKHN0YXJ0LCBlbmQpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IHNsaWNlID0gdGVybXMuc2xpY2UoaSlcbiAgICAgIGxldCBmb3VuZCA9IGZyb21IZXJlKHNsaWNlLCBub3QsIGksIHRlcm1zLmxlbmd0aClcbiAgICAgIGlmIChmb3VuZCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfSlcbiAgcmV0dXJuIHJlc3VsdHNcbn1cblxuZXhwb3J0IGRlZmF1bHQgbm90SWYiLCAiaW1wb3J0IGZhaWxGYXN0IGZyb20gJy4vMDEtZmFpbEZhc3QuanMnXG5pbXBvcnQgZnJvbUhlcmUgZnJvbSAnLi8wMi1mcm9tLWhlcmUuanMnXG5pbXBvcnQgZ2V0R3JvdXAgZnJvbSAnLi8wMy1nZXRHcm91cC5qcydcbmltcG9ydCBub3RJZiBmcm9tICcuLzAzLW5vdElmLmpzJ1xuXG5cbi8vIG1ha2UgcHJvcGVyIHBvaW50ZXJzXG5jb25zdCBhZGRTZW50ZW5jZSA9IGZ1bmN0aW9uIChyZXMsIG4pIHtcbiAgcmVzLnBvaW50ZXJbMF0gPSBuXG4gIE9iamVjdC5rZXlzKHJlcy5ncm91cHMpLmZvckVhY2goayA9PiB7XG4gICAgcmVzLmdyb3Vwc1trXVswXSA9IG5cbiAgfSlcbiAgcmV0dXJuIHJlc1xufVxuXG5jb25zdCBoYW5kbGVTdGFydCA9IGZ1bmN0aW9uICh0ZXJtcywgcmVncywgbikge1xuICBsZXQgcmVzID0gZnJvbUhlcmUodGVybXMsIHJlZ3MsIDAsIHRlcm1zLmxlbmd0aClcbiAgaWYgKHJlcykge1xuICAgIHJlcyA9IGFkZFNlbnRlbmNlKHJlcywgbilcbiAgICByZXR1cm4gcmVzIC8vZ2V0R3JvdXAoW3Jlc10sIGdyb3VwKVxuICB9XG4gIHJldHVybiBudWxsXG59XG5cbi8vIG9rLCBoZXJlIHdlIGdvLlxuY29uc3QgcnVuTWF0Y2ggPSBmdW5jdGlvbiAoZG9jcywgdG9kbywgY2FjaGUpIHtcbiAgY2FjaGUgPSBjYWNoZSB8fCBbXVxuICBsZXQgeyByZWdzLCBncm91cCwganVzdE9uZSB9ID0gdG9kb1xuICBsZXQgcmVzdWx0cyA9IFtdXG4gIGlmICghcmVncyB8fCByZWdzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IHB0cnM6IFtdLCBieUdyb3VwOiB7fSB9XG4gIH1cblxuICBjb25zdCBtaW5MZW5ndGggPSByZWdzLmZpbHRlcihyID0+IHIub3B0aW9uYWwgIT09IHRydWUgJiYgci5uZWdhdGl2ZSAhPT0gdHJ1ZSkubGVuZ3RoXG4gIGRvY3M6IGZvciAobGV0IG4gPSAwOyBuIDwgZG9jcy5sZW5ndGg7IG4gKz0gMSkge1xuICAgIGxldCB0ZXJtcyA9IGRvY3Nbbl1cbiAgICAvLyBsZXQgaW5kZXggPSB0ZXJtc1swXS5pbmRleCB8fCBbXVxuICAgIC8vIGNhbiB3ZSBza2lwIHRoaXMgc2VudGVuY2U/XG4gICAgaWYgKGNhY2hlW25dICYmIGZhaWxGYXN0KHJlZ3MsIGNhY2hlW25dKSkge1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgLy8gXnN0YXJ0IHJlZ3Mgb25seSBydW4gb25jZSwgcGVyIHBocmFzZVxuICAgIGlmIChyZWdzWzBdLnN0YXJ0ID09PSB0cnVlKSB7XG4gICAgICBsZXQgZm91bmRTdGFydCA9IGhhbmRsZVN0YXJ0KHRlcm1zLCByZWdzLCBuLCBncm91cClcbiAgICAgIGlmIChmb3VuZFN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChmb3VuZFN0YXJ0KVxuICAgICAgfVxuICAgICAgY29udGludWVcbiAgICB9XG4gICAgLy9vaywgdHJ5IHN0YXJ0aW5nIHRoZSBtYXRjaCBub3cgZnJvbSBldmVyeSB0ZXJtXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IHNsaWNlID0gdGVybXMuc2xpY2UoaSlcbiAgICAgIC8vIGVuc3VyZSBpdCdzIGxvbmctZW5vdWdoXG4gICAgICBpZiAoc2xpY2UubGVuZ3RoIDwgbWluTGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBsZXQgcmVzID0gZnJvbUhlcmUoc2xpY2UsIHJlZ3MsIGksIHRlcm1zLmxlbmd0aClcbiAgICAgIC8vIGRpZCB3ZSBmaW5kIGEgcmVzdWx0P1xuICAgICAgaWYgKHJlcykge1xuICAgICAgICAvLyByZXMgPSBhZGRTZW50ZW5jZShyZXMsIGluZGV4WzBdKVxuICAgICAgICByZXMgPSBhZGRTZW50ZW5jZShyZXMsIG4pXG4gICAgICAgIHJlc3VsdHMucHVzaChyZXMpXG4gICAgICAgIC8vIHNob3VsZCB3ZSBzdG9wIGhlcmU/XG4gICAgICAgIGlmIChqdXN0T25lID09PSB0cnVlKSB7XG4gICAgICAgICAgYnJlYWsgZG9jc1xuICAgICAgICB9XG4gICAgICAgIC8vIHNraXAgYWhlYWQsIG92ZXIgdGhlc2UgcmVzdWx0c1xuICAgICAgICBsZXQgZW5kID0gcmVzLnBvaW50ZXJbMl1cbiAgICAgICAgaWYgKE1hdGguYWJzKGVuZCAtIDEpID4gaSkge1xuICAgICAgICAgIGkgPSBNYXRoLmFicyhlbmQgLSAxKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIGVuc3VyZSBhbnkgZW5kLXJlc3VsdHMgKCQpIG1hdGNoIHVudGlsIHRoZSBsYXN0IHRlcm1cbiAgaWYgKHJlZ3NbcmVncy5sZW5ndGggLSAxXS5lbmQgPT09IHRydWUpIHtcbiAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIocmVzID0+IHtcbiAgICAgIGxldCBuID0gcmVzLnBvaW50ZXJbMF1cbiAgICAgIHJldHVybiBkb2NzW25dLmxlbmd0aCA9PT0gcmVzLnBvaW50ZXJbMl1cbiAgICB9KVxuICB9XG4gIGlmICh0b2RvLm5vdElmKSB7XG4gICAgcmVzdWx0cyA9IG5vdElmKHJlc3VsdHMsIHRvZG8ubm90SWYsIGRvY3MpXG4gIH1cbiAgLy8gZ3JhYiB0aGUgcmVxdWVzdGVkIGdyb3VwXG4gIHJlc3VsdHMgPSBnZXRHcm91cChyZXN1bHRzLCBncm91cClcbiAgLy8gYWRkIGlkcyB0byBwb2ludGVyc1xuICByZXN1bHRzLnB0cnMuZm9yRWFjaChwdHIgPT4ge1xuICAgIGxldCBbbiwgc3RhcnQsIGVuZF0gPSBwdHJcbiAgICBwdHJbM10gPSBkb2NzW25dW3N0YXJ0XS5pZC8vc3RhcnQtaWRcbiAgICBwdHJbNF0gPSBkb2NzW25dW2VuZCAtIDFdLmlkLy9lbmQtaWRcbiAgfSlcbiAgcmV0dXJuIHJlc3VsdHNcbn1cblxuZXhwb3J0IGRlZmF1bHQgcnVuTWF0Y2hcbiIsICJpbXBvcnQgcGFyc2VNYXRjaCBmcm9tICcuL3BhcnNlTWF0Y2gvaW5kZXguanMnXG5pbXBvcnQgbWF0Y2ggZnJvbSAnLi9tYXRjaC9pbmRleC5qcydcbmltcG9ydCB0ZXJtTWV0aG9kcyBmcm9tICcuL3Rlcm1NZXRob2RzLmpzJ1xuXG5jb25zdCBtZXRob2RzID0ge1xuICBvbmU6IHtcbiAgICB0ZXJtTWV0aG9kcyxcbiAgICBwYXJzZU1hdGNoLFxuICAgIG1hdGNoLFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBtZXRob2RzXG4iLCAiXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKiBwcmUtcGFyc2UgYW55IG1hdGNoIHN0YXRlbWVudHMgKi9cbiAgcGFyc2VNYXRjaDogZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuICAgIGNvbnN0IHdvcmxkID0gdGhpcy53b3JsZCgpXG4gICAgbGV0IGtpbGxVbmljb2RlID0gd29ybGQubWV0aG9kcy5vbmUua2lsbFVuaWNvZGVcbiAgICBpZiAoa2lsbFVuaWNvZGUpIHtcbiAgICAgIHN0ciA9IGtpbGxVbmljb2RlKHN0ciwgd29ybGQpXG4gICAgfVxuICAgIHJldHVybiB3b3JsZC5tZXRob2RzLm9uZS5wYXJzZU1hdGNoKHN0ciwgb3B0cywgd29ybGQpXG4gIH1cbn0iLCAiaW1wb3J0IGFwaSBmcm9tICcuL2FwaS9pbmRleC5qcydcbmltcG9ydCBtZXRob2RzIGZyb20gJy4vbWV0aG9kcy9pbmRleC5qcydcbmltcG9ydCBsaWIgZnJvbSAnLi9saWIuanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXBpLFxuICBtZXRob2RzLFxuICBsaWIsXG59XG4iLCAiY29uc3QgaXNDbGFzcyA9IC9eXFwuLi9cbmNvbnN0IGlzSWQgPSAvXiMuL1xuXG5jb25zdCBlc2NhcGVYbWwgPSBzdHIgPT4ge1xuICBzdHIgPSBzdHIucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICBzdHIgPSBzdHIucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgc3RyID0gc3RyLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICBzdHIgPSBzdHIucmVwbGFjZSgvJy9nLCAnJmFwb3M7JylcbiAgcmV0dXJuIHN0clxufVxuXG4vLyBpbnRlcnByZXQgLmNsYXNzLCAjaWQsIHRhZ05hbWVcbmNvbnN0IHRvVGFnID0gZnVuY3Rpb24gKGspIHtcbiAgbGV0IHN0YXJ0ID0gJydcbiAgbGV0IGVuZCA9ICc8L3NwYW4+J1xuICBrID0gZXNjYXBlWG1sKGspXG4gIGlmIChpc0NsYXNzLnRlc3QoaykpIHtcbiAgICBzdGFydCA9IGA8c3BhbiBjbGFzcz1cIiR7ay5yZXBsYWNlKC9eXFwuLywgJycpfVwiYFxuICB9IGVsc2UgaWYgKGlzSWQudGVzdChrKSkge1xuICAgIHN0YXJ0ID0gYDxzcGFuIGlkPVwiJHtrLnJlcGxhY2UoL14jLywgJycpfVwiYFxuICB9IGVsc2Uge1xuICAgIHN0YXJ0ID0gYDwke2t9YFxuICAgIGVuZCA9IGA8LyR7a30+YFxuICB9XG4gIHN0YXJ0ICs9ICc+J1xuICByZXR1cm4geyBzdGFydCwgZW5kIH1cbn1cblxuY29uc3QgZ2V0SW5kZXggPSBmdW5jdGlvbiAoZG9jLCBvYmopIHtcbiAgbGV0IHN0YXJ0cyA9IHt9XG4gIGxldCBlbmRzID0ge31cbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGsgPT4ge1xuICAgIGxldCByZXMgPSBvYmpba11cbiAgICBsZXQgdGFnID0gdG9UYWcoaylcbiAgICBpZiAodHlwZW9mIHJlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJlcyA9IGRvYy5tYXRjaChyZXMpXG4gICAgfVxuICAgIHJlcy5kb2NzLmZvckVhY2godGVybXMgPT4ge1xuICAgICAgLy8gZG9uJ3QgaGlnaGxpZ2h0IGltcGxpY2l0IHRlcm1zXG4gICAgICBpZiAodGVybXMuZXZlcnkodCA9PiB0LmltcGxpY2l0KSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGxldCBhID0gdGVybXNbMF0uaWRcbiAgICAgIHN0YXJ0c1thXSA9IHN0YXJ0c1thXSB8fCBbXVxuICAgICAgc3RhcnRzW2FdLnB1c2godGFnLnN0YXJ0KVxuICAgICAgbGV0IGIgPSB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXS5pZFxuICAgICAgZW5kc1tiXSA9IGVuZHNbYl0gfHwgW11cbiAgICAgIGVuZHNbYl0ucHVzaCh0YWcuZW5kKVxuICAgIH0pXG4gIH0pXG4gIHJldHVybiB7IHN0YXJ0cywgZW5kcyB9XG59XG5cbmNvbnN0IGh0bWwgPSBmdW5jdGlvbiAob2JqKSB7XG4gIC8vIGluZGV4IGlkcyB0byBoaWdobGlnaHRcbiAgbGV0IHsgc3RhcnRzLCBlbmRzIH0gPSBnZXRJbmRleCh0aGlzLCBvYmopXG4gIC8vIGNyZWF0ZSB0aGUgdGV4dCBvdXRwdXRcbiAgbGV0IG91dCA9ICcnXG4gIHRoaXMuZG9jcy5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlcm1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBsZXQgdCA9IHRlcm1zW2ldXG4gICAgICAvLyBkbyBhIHNwYW4gdGFnXG4gICAgICBpZiAoc3RhcnRzLmhhc093blByb3BlcnR5KHQuaWQpKSB7XG4gICAgICAgIG91dCArPSBzdGFydHNbdC5pZF0uam9pbignJylcbiAgICAgIH1cbiAgICAgIG91dCArPSB0LnByZSB8fCAnJ1xuICAgICAgb3V0ICs9IHQudGV4dCB8fCAnJ1xuICAgICAgaWYgKGVuZHMuaGFzT3duUHJvcGVydHkodC5pZCkpIHtcbiAgICAgICAgb3V0ICs9IGVuZHNbdC5pZF0uam9pbignJylcbiAgICAgIH1cbiAgICAgIG91dCArPSB0LnBvc3QgfHwgJydcbiAgICB9XG4gIH0pXG4gIHJldHVybiBvdXRcbn1cbmV4cG9ydCBkZWZhdWx0IHsgaHRtbCB9XG4iLCAiY29uc3QgdHJpbUVuZCA9IC9bLDo7KVxcXSouP34hXFx1MDAyMlxcdUZGMDJcXHUyMDFEXFx1MjAxOVxcdTAwQkJcXHUyMDNBXFx1MjAzMlxcdTIwMzNcXHUyMDM0XFx1MzAxRVxcdTAwQjRcdTIwMTQtXSskL1xuY29uc3QgdHJpbVN0YXJ0ID1cbiAgL15bKFsnXCIqflxcdUZGMDJcXHUyMDFDXFx1MjAxOFxcdTIwMUZcXHUyMDFCXFx1MjAxRVxcdTJFNDJcXHUyMDFBXFx1MDBBQlxcdTIwMzlcXHUyMDM1XFx1MjAzNlxcdTIwMzdcXHUzMDFEXFx1MDA2MFxcdTMwMUZdKy9cblxuY29uc3QgcHVuY3RUb0tpbGwgPSAvWyw6OykoJ1wiXFx1MjAxRFxcXV0vXG5jb25zdCBpc0h5cGhlbiA9IC9eWy1cdTIwMTNcdTIwMTRdJC9cbmNvbnN0IGhhc1NwYWNlID0gLyAvXG5cbmNvbnN0IHRleHRGcm9tVGVybXMgPSBmdW5jdGlvbiAodGVybXMsIG9wdHMsIGtlZXBTcGFjZSA9IHRydWUpIHtcbiAgbGV0IHR4dCA9ICcnXG4gIHRlcm1zLmZvckVhY2godCA9PiB7XG4gICAgbGV0IHByZSA9IHQucHJlIHx8ICcnXG4gICAgbGV0IHBvc3QgPSB0LnBvc3QgfHwgJydcbiAgICBpZiAob3B0cy5wdW5jdHVhdGlvbiA9PT0gJ3NvbWUnKSB7XG4gICAgICBwcmUgPSBwcmUucmVwbGFjZSh0cmltU3RhcnQsICcnKVxuICAgICAgLy8gcmVwbGFjZSBhIGh5cGhlbiB3aXRoIGEgc3BhY2VcbiAgICAgIGlmIChpc0h5cGhlbi50ZXN0KHBvc3QpKSB7XG4gICAgICAgIHBvc3QgPSAnICdcbiAgICAgIH1cbiAgICAgIHBvc3QgPSBwb3N0LnJlcGxhY2UocHVuY3RUb0tpbGwsICcnKVxuICAgICAgLy8gY2xlYW51cCBleGNsYW1hdGlvbnNcbiAgICAgIHBvc3QgPSBwb3N0LnJlcGxhY2UoL1xcPyErLywgJz8nKVxuICAgICAgcG9zdCA9IHBvc3QucmVwbGFjZSgvISsvLCAnIScpXG4gICAgICBwb3N0ID0gcG9zdC5yZXBsYWNlKC9cXD8rLywgJz8nKVxuICAgICAgLy8ga2lsbCBlbGlwc2VzXG4gICAgICBwb3N0ID0gcG9zdC5yZXBsYWNlKC9cXC57Mix9LywgJycpXG4gICAgICAvLyBraWxsIGFiYnJldmlhdGlvbiBwZXJpb2RzXG4gICAgICBpZiAodC50YWdzLmhhcygnQWJicmV2aWF0aW9uJykpIHtcbiAgICAgICAgcG9zdCA9IHBvc3QucmVwbGFjZSgvXFwuLywgJycpXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRzLndoaXRlc3BhY2UgPT09ICdzb21lJykge1xuICAgICAgcHJlID0gcHJlLnJlcGxhY2UoL1xccy8sICcnKSAvL3JlbW92ZSBwcmUtd2hpdGVzcGFjZVxuICAgICAgcG9zdCA9IHBvc3QucmVwbGFjZSgvXFxzKy8sICcgJykgLy9yZXBsYWNlIHBvc3Qtd2hpdGVzcGFjZSB3aXRoIGEgc3BhY2VcbiAgICB9XG4gICAgaWYgKCFvcHRzLmtlZXBQdW5jdCkge1xuICAgICAgcHJlID0gcHJlLnJlcGxhY2UodHJpbVN0YXJ0LCAnJylcbiAgICAgIGlmIChwb3N0ID09PSAnLScpIHtcbiAgICAgICAgcG9zdCA9ICcgJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9zdCA9IHBvc3QucmVwbGFjZSh0cmltRW5kLCAnJylcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gZ3JhYiB0aGUgY29ycmVjdCB3b3JkIGZvcm1hdFxuICAgIGxldCB3b3JkID0gdFtvcHRzLmZvcm0gfHwgJ3RleHQnXSB8fCB0Lm5vcm1hbCB8fCAnJ1xuICAgIGlmIChvcHRzLmZvcm0gPT09ICdpbXBsaWNpdCcpIHtcbiAgICAgIHdvcmQgPSB0LmltcGxpY2l0IHx8IHQudGV4dFxuICAgIH1cbiAgICBpZiAob3B0cy5mb3JtID09PSAncm9vdCcgJiYgdC5pbXBsaWNpdCkge1xuICAgICAgd29yZCA9IHQucm9vdCB8fCB0LmltcGxpY2l0IHx8IHQubm9ybWFsXG4gICAgfVxuICAgIC8vIGFkZCBhbiBpbXBsaWNpdCBzcGFjZSwgZm9yIGNvbnRyYWN0aW9uc1xuICAgIGlmICgob3B0cy5mb3JtID09PSAnbWFjaGluZScgfHwgb3B0cy5mb3JtID09PSAnaW1wbGljaXQnIHx8IG9wdHMuZm9ybSA9PT0gJ3Jvb3QnKSAmJiB0LmltcGxpY2l0KSB7XG4gICAgICBpZiAoIXBvc3QgfHwgIWhhc1NwYWNlLnRlc3QocG9zdCkpIHtcbiAgICAgICAgcG9zdCArPSAnICdcbiAgICAgIH1cbiAgICB9XG4gICAgdHh0ICs9IHByZSArIHdvcmQgKyBwb3N0XG4gIH0pXG4gIGlmIChrZWVwU3BhY2UgPT09IGZhbHNlKSB7XG4gICAgdHh0ID0gdHh0LnRyaW0oKVxuICB9XG4gIGlmIChvcHRzLmxvd2VyQ2FzZSA9PT0gdHJ1ZSkge1xuICAgIHR4dCA9IHR4dC50b0xvd2VyQ2FzZSgpXG4gIH1cbiAgcmV0dXJuIHR4dFxufVxuXG5jb25zdCB0ZXh0RnJvbURvYyA9IGZ1bmN0aW9uIChkb2NzLCBvcHRzKSB7XG4gIGxldCB0ZXh0ID0gJydcbiAgaWYgKCFkb2NzIHx8ICFkb2NzWzBdIHx8ICFkb2NzWzBdWzBdKSB7XG4gICAgcmV0dXJuIHRleHRcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAvLyBtaWRkbGVcbiAgICB0ZXh0ICs9IHRleHRGcm9tVGVybXMoZG9jc1tpXSwgb3B0cywgdHJ1ZSlcbiAgfVxuICBpZiAoIW9wdHMua2VlcFNwYWNlKSB7XG4gICAgdGV4dCA9IHRleHQudHJpbSgpXG4gIH1cbiAgaWYgKG9wdHMua2VlcEVuZFB1bmN0ID09PSBmYWxzZSkge1xuICAgIC8vIGRvbid0IHJlbW92ZSAnOiknIGV0Y1xuICAgIGlmICghZG9jc1swXVswXS50YWdzLmhhcygnRW1vdGljb24nKSkge1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSh0cmltU3RhcnQsICcnKVxuICAgIH1cbiAgICAvLyByZW1vdmUgZW5kaW5nIHBlcmlvZHNcbiAgICBsZXQgbGFzdCA9IGRvY3NbZG9jcy5sZW5ndGggLSAxXVxuICAgIGlmICghbGFzdFtsYXN0Lmxlbmd0aCAtIDFdLnRhZ3MuaGFzKCdFbW90aWNvbicpKSB7XG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHRyaW1FbmQsICcnKVxuICAgIH1cbiAgICAvLyBraWxsIGVuZCBxdW90YXRpb25zXG4gICAgaWYgKHRleHQuZW5kc1dpdGgoYCdgKSAmJiAhdGV4dC5lbmRzV2l0aChgcydgKSkge1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvJy8sICcnKVxuICAgIH1cbiAgfVxuICBpZiAob3B0cy5jbGVhbldoaXRlc3BhY2UgPT09IHRydWUpIHtcbiAgICB0ZXh0ID0gdGV4dC50cmltKClcbiAgfVxuICByZXR1cm4gdGV4dFxufVxuZXhwb3J0IHsgdGV4dEZyb21Eb2MsIHRleHRGcm9tVGVybXMgfVxuIiwgImNvbnN0IGZtdHMgPSB7XG4gIHRleHQ6IHtcbiAgICBmb3JtOiAndGV4dCcsXG4gIH0sXG4gIG5vcm1hbDoge1xuICAgIHdoaXRlc3BhY2U6ICdzb21lJyxcbiAgICBwdW5jdHVhdGlvbjogJ3NvbWUnLFxuICAgIGNhc2U6ICdzb21lJyxcbiAgICB1bmljb2RlOiAnc29tZScsXG4gICAgZm9ybTogJ25vcm1hbCcsXG4gIH0sXG4gIG1hY2hpbmU6IHtcbiAgICBrZWVwU3BhY2U6IGZhbHNlLFxuICAgIHdoaXRlc3BhY2U6ICdzb21lJyxcbiAgICBwdW5jdHVhdGlvbjogJ3NvbWUnLFxuICAgIGNhc2U6ICdub25lJyxcbiAgICB1bmljb2RlOiAnc29tZScsXG4gICAgZm9ybTogJ21hY2hpbmUnLFxuICB9LFxuICByb290OiB7XG4gICAga2VlcFNwYWNlOiBmYWxzZSxcbiAgICB3aGl0ZXNwYWNlOiAnc29tZScsXG4gICAgcHVuY3R1YXRpb246ICdzb21lJyxcbiAgICBjYXNlOiAnc29tZScsXG4gICAgdW5pY29kZTogJ3NvbWUnLFxuICAgIGZvcm06ICdyb290JyxcbiAgfSxcbiAgaW1wbGljaXQ6IHtcbiAgICBmb3JtOiAnaW1wbGljaXQnLFxuICB9XG59XG5mbXRzLmNsZWFuID0gZm10cy5ub3JtYWxcbmZtdHMucmVkdWNlZCA9IGZtdHMucm9vdFxuZXhwb3J0IGRlZmF1bHQgZm10cyIsICIvKiBlc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1taXhlZC1vcGVyYXRvcnMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW11bHRpLWFzc2lnbiAqL1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vamJ0L3RpbnktaGFzaGVzL1xubGV0IGsgPSBbXSxcbiAgaSA9IDBcbmZvciAoOyBpIDwgNjQ7ICkge1xuICBrW2ldID0gMCB8IChNYXRoLnNpbigrK2kgJSBNYXRoLlBJKSAqIDQyOTQ5NjcyOTYpXG59XG5cbmNvbnN0IG1kNSA9IGZ1bmN0aW9uIChzKSB7XG4gIGxldCBiLFxuICAgIGMsXG4gICAgZCxcbiAgICBoID0gWyhiID0gMHg2NzQ1MjMwMSksIChjID0gMHhlZmNkYWI4OSksIH5iLCB+Y10sXG4gICAgd29yZHMgPSBbXSxcbiAgICBqID0gZGVjb2RlVVJJKGVuY29kZVVSSShzKSkgKyAnXFx4ODAnLFxuICAgIGEgPSBqLmxlbmd0aFxuXG4gIHMgPSAoLS1hIC8gNCArIDIpIHwgMTVcblxuICB3b3Jkc1stLXNdID0gYSAqIDhcblxuICBmb3IgKDsgfmE7ICkge1xuICAgIHdvcmRzW2EgPj4gMl0gfD0gai5jaGFyQ29kZUF0KGEpIDw8ICg4ICogYS0tKVxuICB9XG5cbiAgZm9yIChpID0gaiA9IDA7IGkgPCBzOyBpICs9IDE2KSB7XG4gICAgYSA9IGhcblxuICAgIGZvciAoXG4gICAgICA7XG4gICAgICBqIDwgNjQ7XG4gICAgICBhID0gW1xuICAgICAgICAoZCA9IGFbM10pLFxuICAgICAgICBiICtcbiAgICAgICAgICAoKChkID1cbiAgICAgICAgICAgIGFbMF0gK1xuICAgICAgICAgICAgWyhiICYgYykgfCAofmIgJiBkKSwgKGQgJiBiKSB8ICh+ZCAmIGMpLCBiIF4gYyBeIGQsIGMgXiAoYiB8IH5kKV1bKGEgPSBqID4+IDQpXSArXG4gICAgICAgICAgICBrW2pdICtcbiAgICAgICAgICAgIH5+d29yZHNbaSB8IChbaiwgNSAqIGogKyAxLCAzICogaiArIDUsIDcgKiBqXVthXSAmIDE1KV0pIDw8XG4gICAgICAgICAgICAoYSA9IFs3LCAxMiwgMTcsIDIyLCA1LCA5LCAxNCwgMjAsIDQsIDExLCAxNiwgMjMsIDYsIDEwLCAxNSwgMjFdWzQgKiBhICsgKGorKyAlIDQpXSkpIHxcbiAgICAgICAgICAgIChkID4+PiAtYSkpLFxuICAgICAgICBiLFxuICAgICAgICBjLFxuICAgICAgXVxuICAgICkge1xuICAgICAgYiA9IGFbMV0gfCAwXG4gICAgICBjID0gYVsyXVxuICAgIH1cbiAgICBmb3IgKGogPSA0OyBqOyApIGhbLS1qXSArPSBhW2pdXG4gIH1cblxuICBmb3IgKHMgPSAnJzsgaiA8IDMyOyApIHtcbiAgICBzICs9ICgoaFtqID4+IDNdID4+ICgoMSBeIGorKykgKiA0KSkgJiAxNSkudG9TdHJpbmcoMTYpXG4gIH1cblxuICByZXR1cm4gc1xufVxuZXhwb3J0IGRlZmF1bHQgbWQ1XG4vLyBjb25zb2xlLmxvZyhtZDUoJ2Zvb2Qtc2FmZXR5JykpXG4iLCAiaW1wb3J0IHsgdGV4dEZyb21UZXJtcyB9IGZyb20gJy4vX3RleHQuanMnXG5pbXBvcnQgZm10cyBmcm9tICcuL19mbXRzLmpzJ1xuaW1wb3J0IGhhc2ggZnJvbSAnLi4vbWV0aG9kcy9oYXNoLmpzJ1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgdGV4dDogdHJ1ZSxcbiAgdGVybXM6IHRydWUsXG59XG5cbmxldCBvcHRzID0geyBjYXNlOiAnbm9uZScsIHVuaWNvZGU6ICdzb21lJywgZm9ybTogJ21hY2hpbmUnLCBwdW5jdHVhdGlvbjogJ3NvbWUnIH1cblxuY29uc3QgbWVyZ2UgPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYSwgYilcbn1cblxuY29uc3QgZm5zID0ge1xuICB0ZXh0OiB0ZXJtcyA9PiB0ZXh0RnJvbVRlcm1zKHRlcm1zLCB7IGtlZXBQdW5jdDogdHJ1ZSB9LCBmYWxzZSksXG4gIG5vcm1hbDogdGVybXMgPT4gdGV4dEZyb21UZXJtcyh0ZXJtcywgbWVyZ2UoZm10cy5ub3JtYWwsIHsga2VlcFB1bmN0OiB0cnVlIH0pLCBmYWxzZSksXG4gIGltcGxpY2l0OiB0ZXJtcyA9PiB0ZXh0RnJvbVRlcm1zKHRlcm1zLCBtZXJnZShmbXRzLmltcGxpY2l0LCB7IGtlZXBQdW5jdDogdHJ1ZSB9KSwgZmFsc2UpLFxuXG4gIG1hY2hpbmU6IHRlcm1zID0+IHRleHRGcm9tVGVybXModGVybXMsIG9wdHMsIGZhbHNlKSxcbiAgcm9vdDogdGVybXMgPT4gdGV4dEZyb21UZXJtcyh0ZXJtcywgbWVyZ2Uob3B0cywgeyBmb3JtOiAncm9vdCcgfSksIGZhbHNlKSxcblxuICBoYXNoOiB0ZXJtcyA9PiBoYXNoKHRleHRGcm9tVGVybXModGVybXMsIHsga2VlcFB1bmN0OiB0cnVlIH0sIGZhbHNlKSksXG5cbiAgb2Zmc2V0OiB0ZXJtcyA9PiB7XG4gICAgbGV0IGxlbiA9IGZucy50ZXh0KHRlcm1zKS5sZW5ndGhcbiAgICByZXR1cm4ge1xuICAgICAgaW5kZXg6IHRlcm1zWzBdLm9mZnNldC5pbmRleCxcbiAgICAgIHN0YXJ0OiB0ZXJtc1swXS5vZmZzZXQuc3RhcnQsXG4gICAgICBsZW5ndGg6IGxlbixcbiAgICB9XG4gIH0sXG4gIHRlcm1zOiB0ZXJtcyA9PiB7XG4gICAgcmV0dXJuIHRlcm1zLm1hcCh0ID0+IHtcbiAgICAgIGxldCB0ZXJtID0gT2JqZWN0LmFzc2lnbih7fSwgdClcbiAgICAgIHRlcm0udGFncyA9IEFycmF5LmZyb20odC50YWdzKVxuICAgICAgcmV0dXJuIHRlcm1cbiAgICB9KVxuICB9LFxuICBjb25maWRlbmNlOiAoX3Rlcm1zLCB2aWV3LCBpKSA9PiB2aWV3LmVxKGkpLmNvbmZpZGVuY2UoKSxcbiAgc3lsbGFibGVzOiAoX3Rlcm1zLCB2aWV3LCBpKSA9PiB2aWV3LmVxKGkpLnN5bGxhYmxlcygpLFxuICBzZW50ZW5jZTogKF90ZXJtcywgdmlldywgaSkgPT4gdmlldy5lcShpKS5mdWxsU2VudGVuY2UoKS50ZXh0KCksXG4gIGRpcnR5OiB0ZXJtcyA9PiB0ZXJtcy5zb21lKHQgPT4gdC5kaXJ0eSA9PT0gdHJ1ZSksXG59XG5mbnMuc2VudGVuY2VzID0gZm5zLnNlbnRlbmNlXG5mbnMuY2xlYW4gPSBmbnMubm9ybWFsXG5mbnMucmVkdWNlZCA9IGZucy5yb290XG5cbmNvbnN0IHRvSlNPTiA9IGZ1bmN0aW9uICh2aWV3LCBvcHRpb24pIHtcbiAgb3B0aW9uID0gb3B0aW9uIHx8IHt9XG4gIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJykge1xuICAgIG9wdGlvbiA9IHt9XG4gIH1cbiAgb3B0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIG9wdGlvbilcbiAgLy8gcnVuIGFueSBuZWNlc3NhcnkgdXBmcm9udCBzdGVwc1xuICBpZiAob3B0aW9uLm9mZnNldCkge1xuICAgIHZpZXcuY29tcHV0ZSgnb2Zmc2V0JylcbiAgfVxuICByZXR1cm4gdmlldy5kb2NzLm1hcCgodGVybXMsIGkpID0+IHtcbiAgICBsZXQgcmVzID0ge31cbiAgICBPYmplY3Qua2V5cyhvcHRpb24pLmZvckVhY2goayA9PiB7XG4gICAgICBpZiAob3B0aW9uW2tdICYmIGZuc1trXSkge1xuICAgICAgICByZXNba10gPSBmbnNba10odGVybXMsIHZpZXcsIGkpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcmVzXG4gIH0pXG59XG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiByZXR1cm4gZGF0YSAqL1xuICBqc29uOiBmdW5jdGlvbiAobikge1xuICAgIGxldCByZXMgPSB0b0pTT04odGhpcywgbilcbiAgICBpZiAodHlwZW9mIG4gPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcmVzW25dXG4gICAgfVxuICAgIHJldHVybiByZXNcbiAgfSxcbn1cbm1ldGhvZHMuZGF0YSA9IG1ldGhvZHMuanNvblxuZXhwb3J0IGRlZmF1bHQgbWV0aG9kc1xuIiwgImNvbnN0IGlzQ2xpZW50U2lkZSA9ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudFxuXG4vL291dHB1dCBzb21lIGhlbHBmdWwgc3R1ZmYgdG8gdGhlIGNvbnNvbGVcbmNvbnN0IGRlYnVnID0gZnVuY3Rpb24gKGZtdCkge1xuICBsZXQgZGVidWdNZXRob2RzID0gdGhpcy5tZXRob2RzLm9uZS5kZWJ1ZyB8fCB7fVxuICAvLyBzZWUgaWYgbWV0aG9kIG5hbWUgZXhpc3RzXG4gIGlmIChmbXQgJiYgZGVidWdNZXRob2RzLmhhc093blByb3BlcnR5KGZtdCkpIHtcbiAgICBkZWJ1Z01ldGhvZHNbZm10XSh0aGlzKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgLy8gbG9nIGRlZmF1bHQgY2xpZW50LXNpZGUgdmlld1xuICBpZiAoaXNDbGllbnRTaWRlKCkpIHtcbiAgICBkZWJ1Z01ldGhvZHMuY2xpZW50U2lkZSh0aGlzKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgLy8gZWxzZSwgc2hvdyByZWd1bGFyIHNlcnZlci1zaWRlIHRhZ3Mgdmlld1xuICBkZWJ1Z01ldGhvZHMudGFncyh0aGlzKVxuICByZXR1cm4gdGhpc1xufVxuZXhwb3J0IGRlZmF1bHQgZGVidWdcbiIsICJjb25zdCB0b1RleHQgPSBmdW5jdGlvbiAodGVybSkge1xuICBsZXQgcHJlID0gdGVybS5wcmUgfHwgJydcbiAgbGV0IHBvc3QgPSB0ZXJtLnBvc3QgfHwgJydcbiAgcmV0dXJuIHByZSArIHRlcm0udGV4dCArIHBvc3Rcbn1cblxuY29uc3QgZmluZFN0YXJ0cyA9IGZ1bmN0aW9uIChkb2MsIG9iaikge1xuICBsZXQgc3RhcnRzID0ge31cbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKHJlZyA9PiB7XG4gICAgbGV0IG0gPSBkb2MubWF0Y2gocmVnKVxuICAgIG0uZnVsbFBvaW50ZXIuZm9yRWFjaChhID0+IHtcbiAgICAgIHN0YXJ0c1thWzNdXSA9IHsgZm46IG9ialtyZWddLCBlbmQ6IGFbMl0gfVxuICAgIH0pXG4gIH0pXG4gIHJldHVybiBzdGFydHNcbn1cblxuY29uc3Qgd3JhcCA9IGZ1bmN0aW9uIChkb2MsIG9iaikge1xuICAvLyBpbmRleCBpZHMgdG8gaGlnaGxpZ2h0XG4gIGxldCBzdGFydHMgPSBmaW5kU3RhcnRzKGRvYywgb2JqKVxuICBsZXQgdGV4dCA9ICcnXG4gIGRvYy5kb2NzLmZvckVhY2goKHRlcm1zLCBuKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IHQgPSB0ZXJtc1tpXVxuICAgICAgLy8gZG8gYSBzcGFuIHRhZ1xuICAgICAgaWYgKHN0YXJ0cy5oYXNPd25Qcm9wZXJ0eSh0LmlkKSkge1xuICAgICAgICBsZXQgeyBmbiwgZW5kIH0gPSBzdGFydHNbdC5pZF1cbiAgICAgICAgbGV0IG0gPSBkb2MudXBkYXRlKFtbbiwgaSwgZW5kXV0pXG4gICAgICAgIHRleHQgKz0gdGVybXNbaV0ucHJlIHx8ICcnXG4gICAgICAgIHRleHQgKz0gZm4obSlcbiAgICAgICAgaSA9IGVuZCAtIDFcbiAgICAgICAgdGV4dCArPSB0ZXJtc1tpXS5wb3N0IHx8ICcnXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ICs9IHRvVGV4dCh0KVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHRleHRcbn1cbmV4cG9ydCBkZWZhdWx0IHdyYXAiLCAiaW1wb3J0IGRlYnVnIGZyb20gJy4vZGVidWcuanMnXG5pbXBvcnQgd3JhcCBmcm9tICcuL3dyYXAuanMnXG5pbXBvcnQgaGFzaCBmcm9tICcuLi9tZXRob2RzL2hhc2guanMnXG5cbmNvbnN0IGlzT2JqZWN0ID0gdmFsID0+IHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJ1xufVxuXG4vLyBzb3J0IGJ5IGZyZXF1ZW5jeVxuY29uc3QgdG9wayA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgbGV0IG9iaiA9IHt9XG4gIGFyci5mb3JFYWNoKGEgPT4ge1xuICAgIG9ialthXSA9IG9ialthXSB8fCAwXG4gICAgb2JqW2FdICs9IDFcbiAgfSlcbiAgbGV0IHJlcyA9IE9iamVjdC5rZXlzKG9iaikubWFwKGsgPT4ge1xuICAgIHJldHVybiB7IG5vcm1hbDogaywgY291bnQ6IG9ialtrXSB9XG4gIH0pXG4gIHJldHVybiByZXMuc29ydCgoYSwgYikgPT4gKGEuY291bnQgPiBiLmNvdW50ID8gLTEgOiAwKSlcbn1cblxuLyoqIHNvbWUgbmFtZWQgb3V0cHV0IGZvcm1hdHMgKi9cbmNvbnN0IG91dCA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgLy8gc3VwcG9ydCBjdXN0b20gb3V0cHV0c1xuICBpZiAoaXNPYmplY3QobWV0aG9kKSkge1xuICAgIHJldHVybiB3cmFwKHRoaXMsIG1ldGhvZClcbiAgfVxuICAvLyB0ZXh0IG91dCBmb3JtYXRzXG4gIGlmIChtZXRob2QgPT09ICd0ZXh0Jykge1xuICAgIHJldHVybiB0aGlzLnRleHQoKVxuICB9XG4gIGlmIChtZXRob2QgPT09ICdub3JtYWwnKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dCgnbm9ybWFsJylcbiAgfVxuICBpZiAobWV0aG9kID09PSAncm9vdCcpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0KCdyb290JylcbiAgfVxuICBpZiAobWV0aG9kID09PSAnbWFjaGluZScgfHwgbWV0aG9kID09PSAncmVkdWNlZCcpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0KCdtYWNoaW5lJylcbiAgfVxuICBpZiAobWV0aG9kID09PSAnaGFzaCcgfHwgbWV0aG9kID09PSAnbWQ1Jykge1xuICAgIHJldHVybiBoYXNoKHRoaXMudGV4dCgpKVxuICB9XG5cbiAgLy8ganNvbiBkYXRhIGZvcm1hdHNcbiAgaWYgKG1ldGhvZCA9PT0gJ2pzb24nKSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbigpXG4gIH1cbiAgaWYgKG1ldGhvZCA9PT0gJ29mZnNldCcgfHwgbWV0aG9kID09PSAnb2Zmc2V0cycpIHtcbiAgICB0aGlzLmNvbXB1dGUoJ29mZnNldCcpXG4gICAgcmV0dXJuIHRoaXMuanNvbih7IG9mZnNldDogdHJ1ZSB9KVxuICB9XG4gIGlmIChtZXRob2QgPT09ICdhcnJheScpIHtcbiAgICBsZXQgYXJyID0gdGhpcy5kb2NzLm1hcCh0ZXJtcyA9PiB7XG4gICAgICByZXR1cm4gdGVybXNcbiAgICAgICAgLnJlZHVjZSgoc3RyLCB0KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHN0ciArIHQucHJlICsgdC50ZXh0ICsgdC5wb3N0XG4gICAgICAgIH0sICcnKVxuICAgICAgICAudHJpbSgpXG4gICAgfSlcbiAgICByZXR1cm4gYXJyLmZpbHRlcihzdHIgPT4gc3RyKVxuICB9XG4gIC8vIHJldHVybiB0ZXJtcyBzb3J0ZWQgYnkgZnJlcXVlbmN5XG4gIGlmIChtZXRob2QgPT09ICdmcmVxJyB8fCBtZXRob2QgPT09ICdmcmVxdWVuY3knIHx8IG1ldGhvZCA9PT0gJ3RvcGsnKSB7XG4gICAgcmV0dXJuIHRvcGsodGhpcy5qc29uKHsgbm9ybWFsOiB0cnVlIH0pLm1hcChvID0+IG8ubm9ybWFsKSlcbiAgfVxuXG4gIC8vIHNvbWUgaGFuZHkgYWQtaG9jIG91dHB1dHNcbiAgaWYgKG1ldGhvZCA9PT0gJ3Rlcm1zJykge1xuICAgIGxldCBsaXN0ID0gW11cbiAgICB0aGlzLmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgICBsZXQgd29yZHMgPSB0ZXJtcy5tYXAodCA9PiB0LnRleHQpXG4gICAgICB3b3JkcyA9IHdvcmRzLmZpbHRlcih0ID0+IHQpXG4gICAgICBsaXN0ID0gbGlzdC5jb25jYXQod29yZHMpXG4gICAgfSlcbiAgICByZXR1cm4gbGlzdFxuICB9XG4gIGlmIChtZXRob2QgPT09ICd0YWdzJykge1xuICAgIHJldHVybiB0aGlzLmRvY3MubWFwKHRlcm1zID0+IHtcbiAgICAgIHJldHVybiB0ZXJtcy5yZWR1Y2UoKGgsIHQpID0+IHtcbiAgICAgICAgaFt0LmltcGxpY2l0IHx8IHQubm9ybWFsXSA9IEFycmF5LmZyb20odC50YWdzKVxuICAgICAgICByZXR1cm4gaFxuICAgICAgfSwge30pXG4gICAgfSlcbiAgfVxuICBpZiAobWV0aG9kID09PSAnZGVidWcnKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVidWcoKSAvL2FsbG93XG4gIH1cbiAgcmV0dXJuIHRoaXMudGV4dCgpXG59XG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiAqL1xuICBkZWJ1ZzogZGVidWcsXG4gIC8qKiAqL1xuICBvdXQsXG4gIC8qKiAqL1xuICB3cmFwOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHdyYXAodGhpcywgb2JqKVxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBtZXRob2RzXG4iLCAiaW1wb3J0IHsgdGV4dEZyb21Eb2MgfSBmcm9tICcuL190ZXh0LmpzJ1xuaW1wb3J0IGZtdHMgZnJvbSAnLi9fZm10cy5qcydcblxuY29uc3QgaXNPYmplY3QgPSB2YWwgPT4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IE9iamVjdF0nXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqICovXG4gIHRleHQ6IGZ1bmN0aW9uIChmbXQpIHtcbiAgICBsZXQgb3B0cyA9IHt9XG4gICAgaWYgKGZtdCAmJiB0eXBlb2YgZm10ID09PSAnc3RyaW5nJyAmJiBmbXRzLmhhc093blByb3BlcnR5KGZtdCkpIHtcbiAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBmbXRzW2ZtdF0pXG4gICAgfSBlbHNlIGlmIChmbXQgJiYgaXNPYmplY3QoZm10KSkge1xuICAgICAgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGZtdCkgLy90b2RvOiBmaXhtZVxuICAgIH1cbiAgICAvLyBpcyBpdCBhIGZ1bGwgZG9jdW1lbnQ/XG4gICAgaWYgKG9wdHMua2VlcFNwYWNlID09PSB1bmRlZmluZWQgJiYgIXRoaXMuaXNGdWxsKCkpIHtcbiAgICAgIC8vXG4gICAgICBvcHRzLmtlZXBTcGFjZSA9IGZhbHNlXG4gICAgfVxuICAgIGlmIChvcHRzLmtlZXBFbmRQdW5jdCA9PT0gdW5kZWZpbmVkICYmIHRoaXMucG9pbnRlcikge1xuICAgICAgbGV0IHB0ciA9IHRoaXMucG9pbnRlclswXVxuICAgICAgaWYgKHB0ciAmJiBwdHJbMV0pIHtcbiAgICAgICAgb3B0cy5rZWVwRW5kUHVuY3QgPSBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0cy5rZWVwRW5kUHVuY3QgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIC8vIHNldCBkZWZhdWx0c1xuICAgIGlmIChvcHRzLmtlZXBQdW5jdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvcHRzLmtlZXBQdW5jdCA9IHRydWVcbiAgICB9XG4gICAgaWYgKG9wdHMua2VlcFNwYWNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdHMua2VlcFNwYWNlID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gdGV4dEZyb21Eb2ModGhpcy5kb2NzLCBvcHRzKVxuICB9LFxufVxuIiwgImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5qcydcbmltcG9ydCBqc29uIGZyb20gJy4vanNvbi5qcydcbmltcG9ydCBvdXQgZnJvbSAnLi9vdXQuanMnXG5pbXBvcnQgdGV4dCBmcm9tICcuL3RleHQuanMnXG5cbmNvbnN0IG1ldGhvZHMgPSBPYmplY3QuYXNzaWduKHt9LCBvdXQsIHRleHQsIGpzb24sIGh0bWwpXG5cbmNvbnN0IGFkZEFQSSA9IGZ1bmN0aW9uIChWaWV3KSB7XG4gIE9iamVjdC5hc3NpZ24oVmlldy5wcm90b3R5cGUsIG1ldGhvZHMpXG59XG5leHBvcnQgZGVmYXVsdCBhZGRBUElcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5jb25zdCBsb2dDbGllbnRTaWRlID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgY29uc29sZS5sb2coJyVjIC09LT0tICcsICdiYWNrZ3JvdW5kLWNvbG9yOiM2Njk5Y2M7JylcbiAgdmlldy5mb3JFYWNoKG0gPT4ge1xuICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQobS50ZXh0KCkpXG4gICAgbGV0IHRlcm1zID0gbS5kb2NzWzBdXG4gICAgbGV0IG91dCA9IHRlcm1zLm1hcCh0ID0+IHtcbiAgICAgIGxldCB0ZXh0ID0gdC50ZXh0IHx8ICctJ1xuICAgICAgaWYgKHQuaW1wbGljaXQpIHtcbiAgICAgICAgdGV4dCA9ICdbJyArIHQuaW1wbGljaXQgKyAnXSdcbiAgICAgIH1cbiAgICAgIGxldCB0YWdzID0gJ1snICsgQXJyYXkuZnJvbSh0LnRhZ3MpLmpvaW4oJywgJykgKyAnXSdcbiAgICAgIHJldHVybiB7IHRleHQsIHRhZ3MgfVxuICAgIH0pXG4gICAgY29uc29sZS50YWJsZShvdXQsIFsndGV4dCcsICd0YWdzJ10pXG4gICAgY29uc29sZS5ncm91cEVuZCgpXG4gIH0pXG59XG5leHBvcnQgZGVmYXVsdCBsb2dDbGllbnRTaWRlXG4iLCAiLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvOTc4MTIxOC9ob3ctdG8tY2hhbmdlLW5vZGUtanNzLWNvbnNvbGUtZm9udC1jb2xvclxuY29uc3QgcmVzZXQgPSAnXFx4MWJbMG0nXG5cbi8vY2hlYXBlciB0aGFuIHJlcXVpcmluZyBjaGFsa1xuY29uc3QgY2xpID0ge1xuICBncmVlbjogc3RyID0+ICdcXHgxYlszMm0nICsgc3RyICsgcmVzZXQsXG4gIHJlZDogc3RyID0+ICdcXHgxYlszMW0nICsgc3RyICsgcmVzZXQsXG4gIGJsdWU6IHN0ciA9PiAnXFx4MWJbMzRtJyArIHN0ciArIHJlc2V0LFxuICBtYWdlbnRhOiBzdHIgPT4gJ1xceDFiWzM1bScgKyBzdHIgKyByZXNldCxcbiAgY3lhbjogc3RyID0+ICdcXHgxYlszNm0nICsgc3RyICsgcmVzZXQsXG4gIHllbGxvdzogc3RyID0+ICdcXHgxYlszM20nICsgc3RyICsgcmVzZXQsXG4gIGJsYWNrOiBzdHIgPT4gJ1xceDFiWzMwbScgKyBzdHIgKyByZXNldCxcbiAgZGltOiBzdHIgPT4gJ1xceDFiWzJtJyArIHN0ciArIHJlc2V0LFxuICBpOiBzdHIgPT4gJ1xceDFiWzNtJyArIHN0ciArIHJlc2V0LFxufVxuZXhwb3J0IGRlZmF1bHQgY2xpXG4iLCAiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuaW1wb3J0IGNsaSBmcm9tICcuL19jb2xvci5qcydcblxuY29uc3QgdGFnU3RyaW5nID0gZnVuY3Rpb24gKHRhZ3MsIG1vZGVsKSB7XG4gIGlmIChtb2RlbC5vbmUudGFnU2V0KSB7XG4gICAgdGFncyA9IHRhZ3MubWFwKHRhZyA9PiB7XG4gICAgICBpZiAoIW1vZGVsLm9uZS50YWdTZXQuaGFzT3duUHJvcGVydHkodGFnKSkge1xuICAgICAgICByZXR1cm4gdGFnXG4gICAgICB9XG4gICAgICBjb25zdCBjID0gbW9kZWwub25lLnRhZ1NldFt0YWddLmNvbG9yIHx8ICdibHVlJ1xuICAgICAgcmV0dXJuIGNsaVtjXSh0YWcpXG4gICAgfSlcbiAgfVxuICByZXR1cm4gdGFncy5qb2luKCcsICcpXG59XG5cbmNvbnN0IHNob3dUYWdzID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgbGV0IHsgZG9jcywgbW9kZWwgfSA9IHZpZXdcbiAgaWYgKGRvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS5sb2coY2xpLmJsdWUoJ1xcbiAgICAgXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwJykpXG4gIH1cbiAgZG9jcy5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICBjb25zb2xlLmxvZyhjbGkuYmx1ZSgnXFxuICBcdTI1MENcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDAnKSlcbiAgICB0ZXJtcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgbGV0IHRhZ3MgPSBbLi4uKHQudGFncyB8fCBbXSldXG4gICAgICBsZXQgdGV4dCA9IHQudGV4dCB8fCAnLSdcbiAgICAgIGlmICh0LnNlbnNlKSB7XG4gICAgICAgIHRleHQgPSBgeyR7dC5ub3JtYWx9LyR7dC5zZW5zZX19YFxuICAgICAgfVxuICAgICAgaWYgKHQuaW1wbGljaXQpIHtcbiAgICAgICAgdGV4dCA9ICdbJyArIHQuaW1wbGljaXQgKyAnXSdcbiAgICAgIH1cbiAgICAgIHRleHQgPSBjbGkueWVsbG93KHRleHQpXG4gICAgICBsZXQgd29yZCA9IFwiJ1wiICsgdGV4dCArIFwiJ1wiXG4gICAgICBpZiAodC5yZWZlcmVuY2UpIHtcbiAgICAgICAgbGV0IHN0ciA9IHZpZXcudXBkYXRlKFt0LnJlZmVyZW5jZV0pLnRleHQoJ25vcm1hbCcpXG4gICAgICAgIHdvcmQgKz0gYCAtICR7Y2xpLmRpbShjbGkuaSgnWycgKyBzdHIgKyAnXScpKX1gXG4gICAgICB9XG4gICAgICB3b3JkID0gd29yZC5wYWRFbmQoMTgpXG4gICAgICBsZXQgc3RyID0gY2xpLmJsdWUoJyAgXHUyNTAyICcpICsgY2xpLmkod29yZCkgKyAnICAtICcgKyB0YWdTdHJpbmcodGFncywgbW9kZWwpXG4gICAgICBjb25zb2xlLmxvZyhzdHIpXG4gICAgfSlcbiAgfSlcbiAgY29uc29sZS5sb2coJ1xcbicpXG59XG5leHBvcnQgZGVmYXVsdCBzaG93VGFnc1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmltcG9ydCBjbGkgZnJvbSAnLi9fY29sb3IuanMnXG5cbmNvbnN0IHNob3dDaHVua3MgPSBmdW5jdGlvbiAodmlldykge1xuICBsZXQgeyBkb2NzIH0gPSB2aWV3XG4gIGNvbnNvbGUubG9nKCcnKVxuICBkb2NzLmZvckVhY2godGVybXMgPT4ge1xuICAgIGxldCBvdXQgPSBbXVxuICAgIHRlcm1zLmZvckVhY2godGVybSA9PiB7XG4gICAgICBpZiAodGVybS5jaHVuayA9PT0gJ05vdW4nKSB7XG4gICAgICAgIG91dC5wdXNoKGNsaS5ibHVlKHRlcm0uaW1wbGljaXQgfHwgdGVybS5ub3JtYWwpKVxuICAgICAgfSBlbHNlIGlmICh0ZXJtLmNodW5rID09PSAnVmVyYicpIHtcbiAgICAgICAgb3V0LnB1c2goY2xpLmdyZWVuKHRlcm0uaW1wbGljaXQgfHwgdGVybS5ub3JtYWwpKVxuICAgICAgfSBlbHNlIGlmICh0ZXJtLmNodW5rID09PSAnQWRqZWN0aXZlJykge1xuICAgICAgICBvdXQucHVzaChjbGkueWVsbG93KHRlcm0uaW1wbGljaXQgfHwgdGVybS5ub3JtYWwpKVxuICAgICAgfSBlbHNlIGlmICh0ZXJtLmNodW5rID09PSAnUGl2b3QnKSB7XG4gICAgICAgIG91dC5wdXNoKGNsaS5yZWQodGVybS5pbXBsaWNpdCB8fCB0ZXJtLm5vcm1hbCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQucHVzaCh0ZXJtLmltcGxpY2l0IHx8IHRlcm0ubm9ybWFsKVxuICAgICAgfVxuICAgIH0pXG4gICAgY29uc29sZS5sb2cob3V0LmpvaW4oJyAnKSwgJ1xcbicpXG4gIH0pXG4gIGNvbnNvbGUubG9nKCdcXG4nKVxufVxuZXhwb3J0IGRlZmF1bHQgc2hvd0NodW5rc1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmltcG9ydCBjbGkgZnJvbSAnLi9fY29sb3IuanMnXG5cbmNvbnN0IHNwbGl0ID0gKHR4dCwgb2Zmc2V0LCBpbmRleCkgPT4ge1xuICBsZXQgYnVmZiA9IGluZGV4ICogOSAvL3RoZXJlIGFyZSA5IG5ldyBjaGFycyBhZGRkZWQgdG8gZWFjaCBoaWdobGlnaHRcbiAgbGV0IHN0YXJ0ID0gb2Zmc2V0LnN0YXJ0ICsgYnVmZlxuICBsZXQgZW5kID0gc3RhcnQgKyBvZmZzZXQubGVuZ3RoXG4gIGxldCBwcmUgPSB0eHQuc3Vic3RyaW5nKDAsIHN0YXJ0KVxuICBsZXQgbWlkID0gdHh0LnN1YnN0cmluZyhzdGFydCwgZW5kKVxuICBsZXQgcG9zdCA9IHR4dC5zdWJzdHJpbmcoZW5kLCB0eHQubGVuZ3RoKVxuICByZXR1cm4gW3ByZSwgbWlkLCBwb3N0XVxufVxuXG5jb25zdCBzcGxpY2VJbiA9IGZ1bmN0aW9uICh0eHQsIG9mZnNldCwgaW5kZXgpIHtcbiAgbGV0IHBhcnRzID0gc3BsaXQodHh0LCBvZmZzZXQsIGluZGV4KVxuICByZXR1cm4gYCR7cGFydHNbMF19JHtjbGkuYmx1ZShwYXJ0c1sxXSl9JHtwYXJ0c1syXX1gXG59XG5cbmNvbnN0IHNob3dIaWdobGlnaHQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gIGlmICghZG9jLmZvdW5kKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgbGV0IGJ5U2VudGVuY2UgPSB7fVxuICBkb2MuZnVsbFBvaW50ZXIuZm9yRWFjaChwdHIgPT4ge1xuICAgIGJ5U2VudGVuY2VbcHRyWzBdXSA9IGJ5U2VudGVuY2VbcHRyWzBdXSB8fCBbXVxuICAgIGJ5U2VudGVuY2VbcHRyWzBdXS5wdXNoKHB0cilcbiAgfSlcbiAgT2JqZWN0LmtleXMoYnlTZW50ZW5jZSkuZm9yRWFjaChrID0+IHtcbiAgICBsZXQgZnVsbCA9IGRvYy51cGRhdGUoW1tOdW1iZXIoayldXSlcbiAgICBsZXQgdHh0ID0gZnVsbC50ZXh0KClcbiAgICBsZXQgbWF0Y2hlcyA9IGRvYy51cGRhdGUoYnlTZW50ZW5jZVtrXSlcbiAgICBsZXQganNvbiA9IG1hdGNoZXMuanNvbih7IG9mZnNldDogdHJ1ZSB9KVxuICAgIGpzb24uZm9yRWFjaCgob2JqLCBpKSA9PiB7XG4gICAgICB0eHQgPSBzcGxpY2VJbih0eHQsIG9iai5vZmZzZXQsIGkpXG4gICAgfSlcbiAgICBjb25zb2xlLmxvZyh0eHQpXG4gIH0pXG4gIGNvbnNvbGUubG9nKCdcXG4nKVxufVxuZXhwb3J0IGRlZmF1bHQgc2hvd0hpZ2hsaWdodFxuIiwgImltcG9ydCBjbGllbnRTaWRlIGZyb20gJy4vY2xpZW50LXNpZGUuanMnXG5pbXBvcnQgdGFncyBmcm9tICcuL3RhZ3MuanMnXG5pbXBvcnQgY2h1bmtzIGZyb20gJy4vY2h1bmtzLmpzJ1xuaW1wb3J0IGhpZ2hsaWdodCBmcm9tICcuL2hpZ2hsaWdodC5qcydcblxuY29uc3QgZGVidWcgPSB7XG4gIHRhZ3MsXG4gIGNsaWVudFNpZGUsXG4gIGNodW5rcyxcbiAgaGlnaGxpZ2h0LFxufVxuZXhwb3J0IGRlZmF1bHQgZGVidWdcbiIsICJpbXBvcnQgYXBpIGZyb20gJy4vYXBpL2luZGV4LmpzJ1xuaW1wb3J0IHsgZGVidWcsIGhhc2ggfSBmcm9tICcuL21ldGhvZHMvaW5kZXguanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXBpLFxuICBtZXRob2RzOiB7XG4gICAgb25lOiB7XG4gICAgICBoYXNoLFxuICAgICAgZGVidWcsXG4gICAgfSxcbiAgfSxcbn1cbiIsICIvLyBkbyB0aGUgcG9pbnRlcnMgaW50ZXJzZWN0P1xuZXhwb3J0IGNvbnN0IGRvZXNPdmVybGFwID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgaWYgKGFbMF0gIT09IGJbMF0pIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBsZXQgWywgc3RhcnRBLCBlbmRBXSA9IGFcbiAgbGV0IFssIHN0YXJ0QiwgZW5kQl0gPSBiXG4gIC8vIFthLGEsYSwtLC0sLSxdXG4gIC8vIFstLC0sYixiLGIsLSxdXG4gIGlmIChzdGFydEEgPD0gc3RhcnRCICYmIGVuZEEgPiBzdGFydEIpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vIFstLC0sLSxhLGEsLSxdXG4gIC8vIFstLC0sYixiLGIsLSxdXG4gIGlmIChzdGFydEIgPD0gc3RhcnRBICYmIGVuZEIgPiBzdGFydEEpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyBnZXQgd2lkZXN0IG1pbi9tYXhcbmV4cG9ydCBjb25zdCBnZXRFeHRlbnQgPSBmdW5jdGlvbiAocHRycykge1xuICBsZXQgbWluID0gcHRyc1swXVsxXVxuICBsZXQgbWF4ID0gcHRyc1swXVsyXVxuICBwdHJzLmZvckVhY2gocHRyID0+IHtcbiAgICBpZiAocHRyWzFdIDwgbWluKSB7XG4gICAgICBtaW4gPSBwdHJbMV1cbiAgICB9XG4gICAgaWYgKHB0clsyXSA+IG1heCkge1xuICAgICAgbWF4ID0gcHRyWzJdXG4gICAgfVxuICB9KVxuICByZXR1cm4gW3B0cnNbMF1bMF0sIG1pbiwgbWF4XVxufVxuXG4vLyBjb2xsZWN0IHBvaW50ZXJzIGJ5IHNlbnRlbmNlIG51bWJlclxuZXhwb3J0IGNvbnN0IGluZGV4TiA9IGZ1bmN0aW9uIChwdHJzKSB7XG4gIGxldCBieU4gPSB7fVxuICBwdHJzLmZvckVhY2gocmVmID0+IHtcbiAgICBieU5bcmVmWzBdXSA9IGJ5TltyZWZbMF1dIHx8IFtdXG4gICAgYnlOW3JlZlswXV0ucHVzaChyZWYpXG4gIH0pXG4gIHJldHVybiBieU5cbn1cblxuLy8gcmVtb3ZlIGV4YWN0IGR1cGxpY2F0ZXNcbmV4cG9ydCBjb25zdCB1bmlxdWVQdHJzID0gZnVuY3Rpb24gKGFycikge1xuICBsZXQgb2JqID0ge31cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBvYmpbYXJyW2ldLmpvaW4oJywnKV0gPSBhcnJbaV1cbiAgfVxuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhvYmopXG59XG5cbi8vIGEgYmVmb3JlIGJcbi8vIGNvbnNvbGUubG9nKGRvZXNPdmVybGFwKFswLCAwLCA0XSwgWzAsIDIsIDVdKSlcbi8vIC8vIGIgYmVmb3JlIGFcbi8vIGNvbnNvbGUubG9nKGRvZXNPdmVybGFwKFswLCAzLCA0XSwgWzAsIDEsIDVdKSlcbi8vIC8vIGRpc2pvaW50XG4vLyBjb25zb2xlLmxvZyhkb2VzT3ZlcmxhcChbMCwgMCwgM10sIFswLCA0LCA1XSkpXG4vLyBuZWlnaGJvdXJzXG4vLyBjb25zb2xlLmxvZyhkb2VzT3ZlcmxhcChbMCwgMSwgM10sIFswLCAzLCA1XSkpXG4vLyBjb25zb2xlLmxvZyhkb2VzT3ZlcmxhcChbMCwgMywgNV0sIFswLCAxLCAzXSkpXG5cbi8vIGNvbnNvbGUubG9nKFxuLy8gICBnZXRFeHRlbnQoW1xuLy8gICAgIFswLCAzLCA0XSxcbi8vICAgICBbMCwgNCwgNV0sXG4vLyAgICAgWzAsIDEsIDJdLFxuLy8gICBdKVxuLy8gKVxuIiwgImltcG9ydCB7IGluZGV4TiB9IGZyb20gJy4vX2xpYi5qcydcblxuLy8gc3BsaXQgYSBwb2ludGVyLCBieSBtYXRjaCBwb2ludGVyXG5jb25zdCBwaXZvdEJ5ID0gZnVuY3Rpb24gKGZ1bGwsIG0pIHtcbiAgbGV0IFtuLCBzdGFydF0gPSBmdWxsXG4gIGxldCBtU3RhcnQgPSBtWzFdXG4gIGxldCBtRW5kID0gbVsyXVxuICBsZXQgcmVzID0ge31cbiAgLy8gaXMgdGhlcmUgc3BhY2UgYmVmb3JlIHRoZSBtYXRjaD9cbiAgaWYgKHN0YXJ0IDwgbVN0YXJ0KSB7XG4gICAgbGV0IGVuZCA9IG1TdGFydCA8IGZ1bGxbMl0gPyBtU3RhcnQgOiBmdWxsWzJdIC8vIGZpbmQgY2xvc2VzdCBlbmQtcG9pbnRcbiAgICByZXMuYmVmb3JlID0gW24sIHN0YXJ0LCBlbmRdIC8vYmVmb3JlIHNlZ21lbnRcbiAgfVxuICByZXMubWF0Y2ggPSBtXG4gIC8vIGlzIHRoZXJlIHNwYWNlIGFmdGVyIHRoZSBtYXRjaD9cbiAgaWYgKGZ1bGxbMl0gPiBtRW5kKSB7XG4gICAgcmVzLmFmdGVyID0gW24sIG1FbmQsIGZ1bGxbMl1dIC8vYWZ0ZXIgc2VnbWVudFxuICB9XG4gIHJldHVybiByZXNcbn1cblxuY29uc3QgZG9lc01hdGNoID0gZnVuY3Rpb24gKGZ1bGwsIG0pIHtcbiAgcmV0dXJuIGZ1bGxbMV0gPD0gbVsxXSAmJiBtWzJdIDw9IGZ1bGxbMl1cbn1cblxuY29uc3Qgc3BsaXRBbGwgPSBmdW5jdGlvbiAoZnVsbCwgbSkge1xuICBsZXQgYnlOID0gaW5kZXhOKG0pXG4gIGxldCByZXMgPSBbXVxuICBmdWxsLmZvckVhY2gocHRyID0+IHtcbiAgICBsZXQgW25dID0gcHRyXG4gICAgbGV0IG1hdGNoZXMgPSBieU5bbl0gfHwgW11cbiAgICBtYXRjaGVzID0gbWF0Y2hlcy5maWx0ZXIocCA9PiBkb2VzTWF0Y2gocHRyLCBwKSlcbiAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlcy5wdXNoKHsgcGFzc3Rocm91Z2g6IHB0ciB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIGVuc3VyZSBtYXRjaGVzIGFyZSBpbi1vcmRlclxuICAgIG1hdGNoZXMgPSBtYXRjaGVzLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKVxuICAgIC8vIHN0YXJ0IHNwbGl0dGluZyBvdXIgbGVmdC10by1yaWdodFxuICAgIGxldCBjYXJyeSA9IHB0clxuICAgIG1hdGNoZXMuZm9yRWFjaCgocCwgaSkgPT4ge1xuICAgICAgbGV0IGZvdW5kID0gcGl2b3RCeShjYXJyeSwgcClcbiAgICAgIC8vIGxhc3Qgb25lXG4gICAgICBpZiAoIW1hdGNoZXNbaSArIDFdKSB7XG4gICAgICAgIHJlcy5wdXNoKGZvdW5kKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnB1c2goeyBiZWZvcmU6IGZvdW5kLmJlZm9yZSwgbWF0Y2g6IGZvdW5kLm1hdGNoIH0pXG4gICAgICAgIGlmIChmb3VuZC5hZnRlcikge1xuICAgICAgICAgIGNhcnJ5ID0gZm91bmQuYWZ0ZXJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG4gIHJldHVybiByZXNcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3BsaXRBbGxcbiIsICJjb25zdCBtYXggPSAyMFxuXG4vLyBzd2VlcC1hcm91bmQgbG9va2luZyBmb3Igb3VyIHN0YXJ0IHRlcm0gdXVpZFxuY29uc3QgYmxpbmRTd2VlcCA9IGZ1bmN0aW9uIChpZCwgZG9jLCBuKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4OyBpICs9IDEpIHtcbiAgICAvLyBsb29rIHVwIGEgc2VudGVuY2VcbiAgICBpZiAoZG9jW24gLSBpXSkge1xuICAgICAgbGV0IGluZGV4ID0gZG9jW24gLSBpXS5maW5kSW5kZXgodGVybSA9PiB0ZXJtLmlkID09PSBpZClcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFtuIC0gaSwgaW5kZXhdXG4gICAgICB9XG4gICAgfVxuICAgIC8vIGxvb2sgZG93biBhIHNlbnRlbmNlXG4gICAgaWYgKGRvY1tuICsgaV0pIHtcbiAgICAgIGxldCBpbmRleCA9IGRvY1tuICsgaV0uZmluZEluZGV4KHRlcm0gPT4gdGVybS5pZCA9PT0gaWQpXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBbbiArIGksIGluZGV4XVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5jb25zdCByZXBhaXJFbmRpbmcgPSBmdW5jdGlvbiAocHRyLCBkb2N1bWVudCkge1xuICBsZXQgW24sIHN0YXJ0LCAsICwgZW5kSWRdID0gcHRyXG4gIGxldCB0ZXJtcyA9IGRvY3VtZW50W25dXG4gIC8vIGxvb2sgZm9yIGVuZC1pZFxuICBsZXQgbmV3RW5kID0gdGVybXMuZmluZEluZGV4KHQgPT4gdC5pZCA9PT0gZW5kSWQpXG4gIGlmIChuZXdFbmQgPT09IC0xKSB7XG4gICAgLy8gaWYgZW5kLXRlcm0gd2Fzbid0IGZvdW5kLCBzbyBnbyBhbGwgdGhlIHdheSB0byB0aGUgZW5kXG4gICAgcHRyWzJdID0gZG9jdW1lbnRbbl0ubGVuZ3RoXG4gICAgcHRyWzRdID0gdGVybXMubGVuZ3RoID8gdGVybXNbdGVybXMubGVuZ3RoIC0gMV0uaWQgOiBudWxsXG4gIH0gZWxzZSB7XG4gICAgcHRyWzJdID0gbmV3RW5kIC8vIHJlcGFpciBlbmRpbmcgcG9pbnRlclxuICB9XG4gIHJldHVybiBkb2N1bWVudFtuXS5zbGljZShzdGFydCwgcHRyWzJdICsgMSlcbn1cblxuLyoqIHJldHVybiBhIHN1YnNldCBvZiB0aGUgZG9jdW1lbnQsIGZyb20gYSBwb2ludGVyICovXG5jb25zdCBnZXREb2MgPSBmdW5jdGlvbiAocHRycywgZG9jdW1lbnQpIHtcbiAgbGV0IGRvYyA9IFtdXG4gIHB0cnMuZm9yRWFjaCgocHRyLCBpKSA9PiB7XG4gICAgaWYgKCFwdHIpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBsZXQgW24sIHN0YXJ0LCBlbmQsIGlkLCBlbmRJZF0gPSBwdHIgLy9wYXJzZVBvaW50ZXIocHRyKVxuICAgIGxldCB0ZXJtcyA9IGRvY3VtZW50W25dIHx8IFtdXG4gICAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHN0YXJ0ID0gMFxuICAgIH1cbiAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVuZCA9IHRlcm1zLmxlbmd0aFxuICAgIH1cbiAgICBpZiAoaWQgJiYgKCF0ZXJtc1tzdGFydF0gfHwgdGVybXNbc3RhcnRdLmlkICE9PSBpZCkpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCcgIHJlcGFpcmluZyBwb2ludGVyLi4uJylcbiAgICAgIGxldCB3aWxkID0gYmxpbmRTd2VlcChpZCwgZG9jdW1lbnQsIG4pXG4gICAgICBpZiAod2lsZCAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgbGVuID0gZW5kIC0gc3RhcnRcbiAgICAgICAgdGVybXMgPSBkb2N1bWVudFt3aWxkWzBdXS5zbGljZSh3aWxkWzFdLCB3aWxkWzFdICsgbGVuKVxuICAgICAgICAvLyBhY3R1YWxseSBjaGFuZ2UgdGhlIHBvaW50ZXJcbiAgICAgICAgbGV0IHN0YXJ0SWQgPSB0ZXJtc1swXSA/IHRlcm1zWzBdLmlkIDogbnVsbFxuICAgICAgICBwdHJzW2ldID0gW3dpbGRbMF0sIHdpbGRbMV0sIHdpbGRbMV0gKyBsZW4sIHN0YXJ0SWRdXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlcm1zID0gdGVybXMuc2xpY2Uoc3RhcnQsIGVuZClcbiAgICB9XG4gICAgaWYgKHRlcm1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmIChzdGFydCA9PT0gZW5kKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gdGVzdCBlbmQtaWQsIGlmIGl0IGV4aXN0c1xuICAgIGlmIChlbmRJZCAmJiB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXS5pZCAhPT0gZW5kSWQpIHtcbiAgICAgIHRlcm1zID0gcmVwYWlyRW5kaW5nKHB0ciwgZG9jdW1lbnQpXG4gICAgfVxuICAgIC8vIG90aGVyd2lzZSwgbG9va3MgZ29vZCFcbiAgICBkb2MucHVzaCh0ZXJtcylcbiAgfSlcbiAgZG9jID0gZG9jLmZpbHRlcihhID0+IGEubGVuZ3RoID4gMClcbiAgcmV0dXJuIGRvY1xufVxuZXhwb3J0IGRlZmF1bHQgZ2V0RG9jIiwgImltcG9ydCB7IGluZGV4TiB9IGZyb20gJy4uL2FwaS9saWIvX2xpYi5qcydcbmltcG9ydCBzcGxpdEFsbCBmcm9tICcuLi9hcGkvbGliL3NwbGl0LmpzJ1xuaW1wb3J0IGdldERvYyBmcm9tICcuL2dldERvYy5qcydcblxuLy8gZmxhdCBsaXN0IG9mIHRlcm1zIGZyb20gbmVzdGVkIGRvY3VtZW50XG5jb25zdCB0ZXJtTGlzdCA9IGZ1bmN0aW9uIChkb2NzKSB7XG4gIGxldCBhcnIgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBmb3IgKGxldCB0ID0gMDsgdCA8IGRvY3NbaV0ubGVuZ3RoOyB0ICs9IDEpIHtcbiAgICAgIGFyci5wdXNoKGRvY3NbaV1bdF0pXG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBvbmU6IHtcbiAgICB0ZXJtTGlzdCxcbiAgICBnZXREb2MsXG4gICAgcG9pbnRlcjoge1xuICAgICAgaW5kZXhOLFxuICAgICAgc3BsaXRBbGwsXG4gICAgfVxuICB9LFxufVxuIiwgImltcG9ydCB7IGRvZXNPdmVybGFwLCBnZXRFeHRlbnQsIGluZGV4TiwgdW5pcXVlUHRycyB9IGZyb20gJy4vX2xpYi5qcydcblxuLy8gYSB1bmlvbiBpcyBhICsgYiwgbWludXMgZHVwbGljYXRlc1xuY29uc3QgZ2V0VW5pb24gPSBmdW5jdGlvbiAoYSwgYikge1xuICBsZXQgYm90aCA9IGEuY29uY2F0KGIpXG4gIGxldCBieU4gPSBpbmRleE4oYm90aClcbiAgbGV0IHJlcyA9IFtdXG4gIGJvdGguZm9yRWFjaChwdHIgPT4ge1xuICAgIGxldCBbbl0gPSBwdHJcbiAgICBpZiAoYnlOW25dLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gd2UncmUgYWxvbmUgb24gdGhpcyBzZW50ZW5jZSwgc28gd2UncmUgZ29vZFxuICAgICAgcmVzLnB1c2gocHRyKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIHRoZXJlIG1heSBiZSBvdmVybGFwc1xuICAgIGxldCBobW0gPSBieU5bbl0uZmlsdGVyKG0gPT4gZG9lc092ZXJsYXAocHRyLCBtKSlcbiAgICBobW0ucHVzaChwdHIpXG4gICAgbGV0IHJhbmdlID0gZ2V0RXh0ZW50KGhtbSlcbiAgICByZXMucHVzaChyYW5nZSlcbiAgfSlcbiAgcmVzID0gdW5pcXVlUHRycyhyZXMpXG4gIHJldHVybiByZXNcbn1cbmV4cG9ydCBkZWZhdWx0IGdldFVuaW9uXG5cbi8vIHR3byBkaXNqb2ludFxuLy8gY29uc29sZS5sb2coZ2V0VW5pb24oW1sxLCAzLCA0XV0sIFtbMCwgMSwgMl1dKSlcbi8vIHR3byBkaXNqb2ludFxuLy8gY29uc29sZS5sb2coZ2V0VW5pb24oW1swLCAzLCA0XV0sIFtbMCwgMSwgMl1dKSlcbi8vIG92ZXJsYXAtcGx1c1xuLy8gY29uc29sZS5sb2coZ2V0VW5pb24oW1swLCAxLCA0XV0sIFtbMCwgMiwgNl1dKSlcbi8vIG92ZXJsYXBcbi8vIGNvbnNvbGUubG9nKGdldFVuaW9uKFtbMCwgMSwgNF1dLCBbWzAsIDIsIDNdXSkpXG4vLyBuZWlnaGJvdXJzXG4vLyBjb25zb2xlLmxvZyhnZXRVbmlvbihbWzAsIDEsIDNdXSwgW1swLCAzLCA1XV0pKVxuIiwgImltcG9ydCBzcGxpdEFsbCBmcm9tICcuL3NwbGl0LmpzJ1xuXG5jb25zdCBzdWJ0cmFjdCA9IGZ1bmN0aW9uIChyZWZzLCBub3QpIHtcbiAgbGV0IHJlcyA9IFtdXG4gIGxldCBmb3VuZCA9IHNwbGl0QWxsKHJlZnMsIG5vdClcbiAgZm91bmQuZm9yRWFjaChvID0+IHtcbiAgICBpZiAoby5wYXNzdGhyb3VnaCkge1xuICAgICAgcmVzLnB1c2goby5wYXNzdGhyb3VnaClcbiAgICB9XG4gICAgaWYgKG8uYmVmb3JlKSB7XG4gICAgICByZXMucHVzaChvLmJlZm9yZSlcbiAgICB9XG4gICAgaWYgKG8uYWZ0ZXIpIHtcbiAgICAgIHJlcy5wdXNoKG8uYWZ0ZXIpXG4gICAgfVxuICB9KVxuICByZXR1cm4gcmVzXG59XG5leHBvcnQgZGVmYXVsdCBzdWJ0cmFjdFxuXG4vLyBjb25zb2xlLmxvZyhzdWJ0cmFjdChbWzAsIDAsIDJdXSwgW1swLCAwLCAxXV0pKVxuLy8gY29uc29sZS5sb2coc3VidHJhY3QoW1swLCAwLCAyXV0sIFtbMCwgMSwgMl1dKSlcbiIsICJpbXBvcnQgeyBkb2VzT3ZlcmxhcCwgaW5kZXhOIH0gZnJvbSAnLi9fbGliLmpzJ1xuXG4vLyBbYSxhLGEsYSwtLC0sXVxuLy8gWy0sLSxiLGIsYiwtLF1cbi8vIFstLC0seCx4LC0sLSxdXG5jb25zdCBpbnRlcnNlY3Rpb24gPSBmdW5jdGlvbiAoYSwgYikge1xuICAvLyBmaW5kIHRoZSBsYXRlc3Qtc3RhcnRcbiAgbGV0IHN0YXJ0ID0gYVsxXSA8IGJbMV0gPyBiWzFdIDogYVsxXVxuICAvLyBmaW5kIHRoZSBlYXJsaWVzdC1lbmRcbiAgbGV0IGVuZCA9IGFbMl0gPiBiWzJdID8gYlsyXSA6IGFbMl1cbiAgLy8gZG9lcyBpdCBmb3JtIGEgdmFsaWQgcG9pbnRlcj9cbiAgaWYgKHN0YXJ0IDwgZW5kKSB7XG4gICAgcmV0dXJuIFthWzBdLCBzdGFydCwgZW5kXVxuICB9XG4gIHJldHVybiBudWxsXG59XG5cbmNvbnN0IGdldEludGVyc2VjdGlvbiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIGxldCBieU4gPSBpbmRleE4oYilcbiAgbGV0IHJlcyA9IFtdXG4gIGEuZm9yRWFjaChwdHIgPT4ge1xuICAgIGxldCBobW0gPSBieU5bcHRyWzBdXSB8fCBbXVxuICAgIGhtbSA9IGhtbS5maWx0ZXIocCA9PiBkb2VzT3ZlcmxhcChwdHIsIHApKVxuICAgIC8vIG5vIHNlbnRlbmNlLXBhaXJzLCBzbyBubyBpbnRlcnNlY3Rpb25cbiAgICBpZiAoaG1tLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGhtbS5mb3JFYWNoKGggPT4ge1xuICAgICAgbGV0IG92ZXJsYXAgPSBpbnRlcnNlY3Rpb24ocHRyLCBoKVxuICAgICAgaWYgKG92ZXJsYXApIHtcbiAgICAgICAgcmVzLnB1c2gob3ZlcmxhcClcbiAgICAgIH1cbiAgICB9KVxuICB9KVxuICByZXR1cm4gcmVzXG59XG5leHBvcnQgZGVmYXVsdCBnZXRJbnRlcnNlY3Rpb25cblxuLy8gY29uc29sZS5sb2coZ2V0SW50ZXJzZWN0aW9uKFtbMCwgMSwgM11dLCBbWzAsIDIsIDRdXSkpXG4iLCAiaW1wb3J0IGdldFVuaW9uIGZyb20gJy4vbGliL3VuaW9uLmpzJ1xuaW1wb3J0IGdldERpZmZlcmVuY2UgZnJvbSAnLi9saWIvZGlmZmVyZW5jZS5qcydcbmltcG9ydCBnZXRJbnRlcnNlY3Rpb24gZnJvbSAnLi9saWIvaW50ZXJzZWN0aW9uLmpzJ1xuXG5jb25zdCBpc0FycmF5ID0gZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT09ICdbb2JqZWN0IEFycmF5XSdcbn1cblxuY29uc3QgZ2V0RG9jID0gKG0sIHZpZXcpID0+IHtcbiAgaWYgKHR5cGVvZiBtID09PSAnc3RyaW5nJyB8fCBpc0FycmF5KG0pKSB7XG4gICAgcmV0dXJuIHZpZXcubWF0Y2gobSlcbiAgfVxuICBpZiAoIW0pIHtcbiAgICByZXR1cm4gdmlldy5ub25lKClcbiAgfVxuICAvLyBzdXBwb3J0IHByZS1wYXJzZWQgcmVnIG9iamVjdFxuICByZXR1cm4gbVxufVxuXG4vLyAnaGFyZGVuJyBvdXIganNvbiBwb2ludGVycywgYWdhaW5cbmNvbnN0IGFkZElkcyA9IGZ1bmN0aW9uIChwdHJzLCBkb2NzKSB7XG4gIHJldHVybiBwdHJzLm1hcChwdHIgPT4ge1xuICAgIGxldCBbbiwgc3RhcnRdID0gcHRyXG4gICAgaWYgKGRvY3Nbbl0gJiYgZG9jc1tuXVtzdGFydF0pIHtcbiAgICAgIHB0clszXSA9IGRvY3Nbbl1bc3RhcnRdLmlkXG4gICAgfVxuICAgIHJldHVybiBwdHJcbiAgfSlcbn1cblxuY29uc3QgbWV0aG9kcyA9IHt9XG5cbi8vIGFsbCBwYXJ0cywgbWludXMgZHVwbGljYXRlc1xubWV0aG9kcy51bmlvbiA9IGZ1bmN0aW9uIChtKSB7XG4gIG0gPSBnZXREb2MobSwgdGhpcylcbiAgbGV0IHB0cnMgPSBnZXRVbmlvbih0aGlzLmZ1bGxQb2ludGVyLCBtLmZ1bGxQb2ludGVyKVxuICBwdHJzID0gYWRkSWRzKHB0cnMsIHRoaXMuZG9jdW1lbnQpXG4gIHJldHVybiB0aGlzLnRvVmlldyhwdHJzKVxufVxubWV0aG9kcy5hbmQgPSBtZXRob2RzLnVuaW9uXG5cbi8vIG9ubHkgcGFydHMgdGhleSBib3RoIGhhdmVcbm1ldGhvZHMuaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24gKG0pIHtcbiAgbSA9IGdldERvYyhtLCB0aGlzKVxuICBsZXQgcHRycyA9IGdldEludGVyc2VjdGlvbih0aGlzLmZ1bGxQb2ludGVyLCBtLmZ1bGxQb2ludGVyKVxuICBwdHJzID0gYWRkSWRzKHB0cnMsIHRoaXMuZG9jdW1lbnQpXG4gIHJldHVybiB0aGlzLnRvVmlldyhwdHJzKVxufVxuXG4vLyBvbmx5IHBhcnRzIG9mIGEgdGhhdCBiIGRvZXMgbm90IGhhdmVcbm1ldGhvZHMubm90ID0gZnVuY3Rpb24gKG0pIHtcbiAgbSA9IGdldERvYyhtLCB0aGlzKVxuICBsZXQgcHRycyA9IGdldERpZmZlcmVuY2UodGhpcy5mdWxsUG9pbnRlciwgbS5mdWxsUG9pbnRlcilcbiAgcHRycyA9IGFkZElkcyhwdHJzLCB0aGlzLmRvY3VtZW50KVxuICByZXR1cm4gdGhpcy50b1ZpZXcocHRycylcbn1cbm1ldGhvZHMuZGlmZmVyZW5jZSA9IG1ldGhvZHMubm90XG5cbi8vIGdldCBvcHBvc2l0ZSBvZiBhIG1hdGNoXG5tZXRob2RzLmNvbXBsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBkb2MgPSB0aGlzLmFsbCgpXG4gIGxldCBwdHJzID0gZ2V0RGlmZmVyZW5jZShkb2MuZnVsbFBvaW50ZXIsIHRoaXMuZnVsbFBvaW50ZXIpXG4gIHB0cnMgPSBhZGRJZHMocHRycywgdGhpcy5kb2N1bWVudClcbiAgcmV0dXJuIHRoaXMudG9WaWV3KHB0cnMpXG59XG5cbi8vIHJlbW92ZSBvdmVybGFwc1xubWV0aG9kcy5zZXR0bGUgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICBwdHJzLmZvckVhY2gocHRyID0+IHtcbiAgICBwdHJzID0gZ2V0VW5pb24ocHRycywgW3B0cl0pXG4gIH0pXG4gIHB0cnMgPSBhZGRJZHMocHRycywgdGhpcy5kb2N1bWVudClcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHB0cnMpXG59XG5cbmNvbnN0IGFkZEFQSSA9IGZ1bmN0aW9uIChWaWV3KSB7XG4gIC8vIGFkZCBzZXQvaW50ZXJzZWN0aW9uL3VuaW9uXG4gIE9iamVjdC5hc3NpZ24oVmlldy5wcm90b3R5cGUsIG1ldGhvZHMpXG59XG5leHBvcnQgZGVmYXVsdCBhZGRBUElcbiIsICJpbXBvcnQgbWV0aG9kcyBmcm9tICcuL21ldGhvZHMvaW5kZXguanMnXG5pbXBvcnQgYXBpIGZyb20gJy4vYXBpL2luZGV4LmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG1ldGhvZHMsXG4gIGFwaSxcbn1cbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gIC8vIGNvbXBpbGUgYSBsaXN0IG9mIG1hdGNoZXMgaW50byBhIG1hdGNoLW5ldFxuICBidWlsZE5ldDogZnVuY3Rpb24gKG1hdGNoZXMpIHtcbiAgICBjb25zdCBtZXRob2RzID0gdGhpcy5tZXRob2RzKClcbiAgICBsZXQgbmV0ID0gbWV0aG9kcy5vbmUuYnVpbGROZXQobWF0Y2hlcywgdGhpcy53b3JsZCgpKVxuICAgIG5ldC5pc05ldCA9IHRydWVcbiAgICByZXR1cm4gbmV0XG4gIH1cbn0iLCAiY29uc3QgYXBpID0gZnVuY3Rpb24gKFZpZXcpIHtcblxuICAvKiogc3BlZWR5IG1hdGNoIGEgc2VxdWVuY2Ugb2YgbWF0Y2hlcyAqL1xuICBWaWV3LnByb3RvdHlwZS5zd2VlcCA9IGZ1bmN0aW9uIChuZXQsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgd29ybGQsIGRvY3MgfSA9IHRoaXNcbiAgICBjb25zdCB7IG1ldGhvZHMgfSA9IHdvcmxkXG4gICAgbGV0IGZvdW5kID0gbWV0aG9kcy5vbmUuYnVsa01hdGNoKGRvY3MsIG5ldCwgdGhpcy5tZXRob2RzLCBvcHRzKVxuXG4gICAgLy8gYXBwbHkgYW55IGNoYW5nZXNcbiAgICBpZiAob3B0cy50YWdnZXIgIT09IGZhbHNlKSB7XG4gICAgICBtZXRob2RzLm9uZS5idWxrVGFnZ2VyKGZvdW5kLCBkb2NzLCB0aGlzLndvcmxkKVxuICAgIH1cbiAgICAvLyBmaXggdGhlIHBvaW50ZXJzXG4gICAgLy8gY29sbGVjdCBhbGwgZm91bmQgcmVzdWx0cyBpbnRvIGEgVmlld1xuICAgIGZvdW5kID0gZm91bmQubWFwKG8gPT4ge1xuICAgICAgbGV0IHB0ciA9IG8ucG9pbnRlclxuICAgICAgbGV0IHRlcm0gPSBkb2NzW3B0clswXV1bcHRyWzFdXVxuICAgICAgbGV0IGxlbiA9IHB0clsyXSAtIHB0clsxXVxuICAgICAgaWYgKHRlcm0uaW5kZXgpIHtcbiAgICAgICAgby5wb2ludGVyID0gW1xuICAgICAgICAgIHRlcm0uaW5kZXhbMF0sXG4gICAgICAgICAgdGVybS5pbmRleFsxXSxcbiAgICAgICAgICBwdHJbMV0gKyBsZW5cbiAgICAgICAgXVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9cbiAgICB9KVxuICAgIGxldCBwdHJzID0gZm91bmQubWFwKG8gPT4gby5wb2ludGVyKVxuICAgIC8vIGNsZWFudXAgcmVzdWx0cyBhIGJpdFxuICAgIGZvdW5kID0gZm91bmQubWFwKG9iaiA9PiB7XG4gICAgICBvYmoudmlldyA9IHRoaXMudXBkYXRlKFtvYmoucG9pbnRlcl0pXG4gICAgICBkZWxldGUgb2JqLnJlZ3NcbiAgICAgIGRlbGV0ZSBvYmoubmVlZHNcbiAgICAgIGRlbGV0ZSBvYmoucG9pbnRlclxuICAgICAgZGVsZXRlIG9iai5fZXhwYW5kZWRcbiAgICAgIHJldHVybiBvYmpcbiAgICB9KVxuICAgIHJldHVybiB7XG4gICAgICB2aWV3OiB0aGlzLnVwZGF0ZShwdHJzKSxcbiAgICAgIGZvdW5kXG4gICAgfVxuICB9XG5cbn1cbmV4cG9ydCBkZWZhdWx0IGFwaSIsICIvLyBleHRyYWN0IHRoZSBjbGVhciBuZWVkcyBmb3IgYW4gaW5kaXZpZHVhbCBtYXRjaCB0b2tlblxuY29uc3QgZ2V0VG9rZW5OZWVkcyA9IGZ1bmN0aW9uIChyZWcpIHtcbiAgLy8gbmVnYXRpdmVzIGNhbid0IGJlIGNhY2hlZFxuICBpZiAocmVnLm9wdGlvbmFsID09PSB0cnVlIHx8IHJlZy5uZWdhdGl2ZSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgaWYgKHJlZy50YWcpIHtcbiAgICByZXR1cm4gJyMnICsgcmVnLnRhZ1xuICB9XG4gIGlmIChyZWcud29yZCkge1xuICAgIHJldHVybiByZWcud29yZFxuICB9XG4gIGlmIChyZWcuc3dpdGNoKSB7XG4gICAgcmV0dXJuIGAlJHtyZWcuc3dpdGNofSVgXG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuY29uc3QgZ2V0TmVlZHMgPSBmdW5jdGlvbiAocmVncykge1xuICBsZXQgbmVlZHMgPSBbXVxuICByZWdzLmZvckVhY2gocmVnID0+IHtcbiAgICBuZWVkcy5wdXNoKGdldFRva2VuTmVlZHMocmVnKSlcbiAgICAvLyBzdXBwb3J0IEFORCAoZm9vICYmIHRhZylcbiAgICBpZiAocmVnLm9wZXJhdG9yID09PSAnYW5kJyAmJiByZWcuY2hvaWNlcykge1xuICAgICAgcmVnLmNob2ljZXMuZm9yRWFjaChvbmVTaWRlID0+IHtcbiAgICAgICAgb25lU2lkZS5mb3JFYWNoKHIgPT4ge1xuICAgICAgICAgIG5lZWRzLnB1c2goZ2V0VG9rZW5OZWVkcyhyKSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9KVxuICByZXR1cm4gbmVlZHMuZmlsdGVyKHN0ciA9PiBzdHIpXG59XG5cbmNvbnN0IGdldFdhbnRzID0gZnVuY3Rpb24gKHJlZ3MpIHtcbiAgbGV0IHdhbnRzID0gW11cbiAgbGV0IGNvdW50ID0gMFxuICByZWdzLmZvckVhY2gocmVnID0+IHtcbiAgICBpZiAocmVnLm9wZXJhdG9yID09PSAnb3InICYmICFyZWcub3B0aW9uYWwgJiYgIXJlZy5uZWdhdGl2ZSkge1xuICAgICAgLy8gYWRkIGZhc3Qtb3IgdGVybXNcbiAgICAgIGlmIChyZWcuZmFzdE9yKSB7XG4gICAgICAgIEFycmF5LmZyb20ocmVnLmZhc3RPcikuZm9yRWFjaCh3ID0+IHtcbiAgICAgICAgICB3YW50cy5wdXNoKHcpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICAvLyBhZGQgc2xvdy1vclxuICAgICAgaWYgKHJlZy5jaG9pY2VzKSB7XG4gICAgICAgIHJlZy5jaG9pY2VzLmZvckVhY2gocnMgPT4ge1xuICAgICAgICAgIHJzLmZvckVhY2gociA9PiB7XG4gICAgICAgICAgICBsZXQgbiA9IGdldFRva2VuTmVlZHMocilcbiAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgIHdhbnRzLnB1c2gobilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgY291bnQgKz0gMVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHsgd2FudHMsIGNvdW50IH1cbn1cblxuY29uc3QgcGFyc2UgPSBmdW5jdGlvbiAobWF0Y2hlcywgd29ybGQpIHtcbiAgY29uc3QgcGFyc2VNYXRjaCA9IHdvcmxkLm1ldGhvZHMub25lLnBhcnNlTWF0Y2hcbiAgbWF0Y2hlcy5mb3JFYWNoKG9iaiA9PiB7XG4gICAgb2JqLnJlZ3MgPSBwYXJzZU1hdGNoKG9iai5tYXRjaCwge30sIHdvcmxkKVxuICAgIC8vIHdyYXAgdGhlc2UgaWZObyBwcm9wZXJ0aWVzIGludG8gYW4gYXJyYXlcbiAgICBpZiAodHlwZW9mIG9iai5pZk5vID09PSAnc3RyaW5nJykge1xuICAgICAgb2JqLmlmTm8gPSBbb2JqLmlmTm9dXG4gICAgfVxuICAgIGlmIChvYmoubm90SWYpIHtcbiAgICAgIG9iai5ub3RJZiA9IHBhcnNlTWF0Y2gob2JqLm5vdElmLCB7fSwgd29ybGQpXG4gICAgfVxuICAgIC8vIGNhY2hlIGFueSByZXF1aXJlbWVudHMgdXAtZnJvbnQgXG4gICAgb2JqLm5lZWRzID0gZ2V0TmVlZHMob2JqLnJlZ3MpXG4gICAgbGV0IHsgd2FudHMsIGNvdW50IH0gPSBnZXRXYW50cyhvYmoucmVncylcbiAgICBvYmoud2FudHMgPSB3YW50c1xuICAgIG9iai5taW5XYW50ID0gY291bnRcbiAgICAvLyBnZXQgcmlkIG9mIHRpbnkgc2VudGVuY2VzXG4gICAgb2JqLm1pbldvcmRzID0gb2JqLnJlZ3MuZmlsdGVyKG8gPT4gIW8ub3B0aW9uYWwpLmxlbmd0aFxuICB9KVxuICByZXR1cm4gbWF0Y2hlc1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZVxuIiwgImltcG9ydCBwYXJzZSBmcm9tICcuLzAxLXBhcnNlLmpzJ1xuXG4vLyBkbyBzb21lIGluZGV4aW5nIG9uIHRoZSBsaXN0IG9mIG1hdGNoZXNcbmNvbnN0IGJ1aWxkTmV0ID0gZnVuY3Rpb24gKG1hdGNoZXMsIHdvcmxkKSB7XG4gIC8vIHR1cm4gbWF0Y2gtc3ludGF4IGludG8ganNvblxuICBtYXRjaGVzID0gcGFyc2UobWF0Y2hlcywgd29ybGQpXG5cbiAgLy8gY29sbGVjdCBieSB3YW50cyBhbmQgbmVlZHNcbiAgbGV0IGhvb2tzID0ge31cbiAgbWF0Y2hlcy5mb3JFYWNoKG9iaiA9PiB7XG4gICAgLy8gYWRkIG5lZWRzXG4gICAgb2JqLm5lZWRzLmZvckVhY2goc3RyID0+IHtcbiAgICAgIGhvb2tzW3N0cl0gPSBBcnJheS5pc0FycmF5KGhvb2tzW3N0cl0pID8gaG9va3Nbc3RyXSA6IFtdXG4gICAgICBob29rc1tzdHJdLnB1c2gob2JqKVxuICAgIH0pXG4gICAgLy8gYWRkIHdhbnRzXG4gICAgb2JqLndhbnRzLmZvckVhY2goc3RyID0+IHtcbiAgICAgIGhvb2tzW3N0cl0gPSBBcnJheS5pc0FycmF5KGhvb2tzW3N0cl0pID8gaG9va3Nbc3RyXSA6IFtdXG4gICAgICBob29rc1tzdHJdLnB1c2gob2JqKVxuICAgIH0pXG4gIH0pXG4gIC8vIHJlbW92ZSBkdXBsaWNhdGVzXG4gIE9iamVjdC5rZXlzKGhvb2tzKS5mb3JFYWNoKGsgPT4ge1xuICAgIGxldCBhbHJlYWR5ID0ge31cbiAgICBob29rc1trXSA9IGhvb2tzW2tdLmZpbHRlcihvYmogPT4ge1xuICAgICAgaWYgKHR5cGVvZiBhbHJlYWR5W29iai5tYXRjaF0gPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGFscmVhZHlbb2JqLm1hdGNoXSA9IHRydWVcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSlcbiAgfSlcblxuICAvLyBrZWVwIGFsbCB1bi1jYWNoZWFibGUgbWF0Y2hlcyAodGhvc2Ugd2l0aCBubyBuZWVkcykgXG4gIGxldCBhbHdheXMgPSBtYXRjaGVzLmZpbHRlcihvID0+IG8ubmVlZHMubGVuZ3RoID09PSAwICYmIG8ud2FudHMubGVuZ3RoID09PSAwKVxuICByZXR1cm4ge1xuICAgIGhvb2tzLFxuICAgIGFsd2F5c1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJ1aWxkTmV0XG4iLCAiLy8gZm9yIGVhY2ggY2FjaGVkLXNlbnRlbmNlLCBmaW5kIGEgbGlzdCBvZiBwb3NzaWJsZSBtYXRjaGVzXG5jb25zdCBnZXRIb29rcyA9IGZ1bmN0aW9uIChkb2NDYWNoZXMsIGhvb2tzKSB7XG4gIHJldHVybiBkb2NDYWNoZXMubWFwKChzZXQsIGkpID0+IHtcbiAgICBsZXQgbWF5YmUgPSBbXVxuICAgIE9iamVjdC5rZXlzKGhvb2tzKS5mb3JFYWNoKGsgPT4ge1xuICAgICAgaWYgKGRvY0NhY2hlc1tpXS5oYXMoaykpIHtcbiAgICAgICAgbWF5YmUgPSBtYXliZS5jb25jYXQoaG9va3Nba10pXG4gICAgICB9XG4gICAgfSlcbiAgICAvLyByZW1vdmUgZHVwbGljYXRlc1xuICAgIGxldCBhbHJlYWR5ID0ge31cbiAgICBtYXliZSA9IG1heWJlLmZpbHRlcihtID0+IHtcbiAgICAgIGlmICh0eXBlb2YgYWxyZWFkeVttLm1hdGNoXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgYWxyZWFkeVttLm1hdGNoXSA9IHRydWVcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSlcbiAgICByZXR1cm4gbWF5YmVcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0SG9va3NcbiIsICIvLyBmaWx0ZXItZG93biBsaXN0IG9mIG1heWJlLW1hdGNoZXNcbmNvbnN0IGxvY2FsVHJpbSA9IGZ1bmN0aW9uIChtYXliZUxpc3QsIGRvY0NhY2hlKSB7XG4gIHJldHVybiBtYXliZUxpc3QubWFwKChsaXN0LCBuKSA9PiB7XG4gICAgbGV0IGhhdmVzID0gZG9jQ2FjaGVbbl1cbiAgICAvLyBlbnN1cmUgYWxsIHN0YXRlZC1uZWVkcyBvZiB0aGUgbWF0Y2ggYXJlIG1ldFxuICAgIGxpc3QgPSBsaXN0LmZpbHRlcihvYmogPT4ge1xuICAgICAgcmV0dXJuIG9iai5uZWVkcy5ldmVyeShuZWVkID0+IGhhdmVzLmhhcyhuZWVkKSlcbiAgICB9KVxuICAgIC8vIGVuc3VyZSBub3RoaW5nIG1hdGNoZXMgaW4gb3VyICdpZk5vJyBwcm9wZXJ0eVxuICAgIGxpc3QgPSBsaXN0LmZpbHRlcihvYmogPT4ge1xuICAgICAgaWYgKG9iai5pZk5vICE9PSB1bmRlZmluZWQgJiYgb2JqLmlmTm8uc29tZShubyA9PiBoYXZlcy5oYXMobm8pKSA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSlcbiAgICAvLyBlbnN1cmUgYXRsZWFzdCBvbmUoPykgb2YgdGhlIHdhbnRzIGlzIGZvdW5kXG4gICAgbGlzdCA9IGxpc3QuZmlsdGVyKG9iaiA9PiB7XG4gICAgICBpZiAob2JqLndhbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgLy8gZW5zdXJlIHRoZXJlJ3Mgb25lIGNhY2hlLWhpdFxuICAgICAgbGV0IGZvdW5kID0gb2JqLndhbnRzLmZpbHRlcihzdHIgPT4gaGF2ZXMuaGFzKHN0cikpLmxlbmd0aFxuICAgICAgcmV0dXJuIGZvdW5kID49IG9iai5taW5XYW50XG4gICAgfSlcbiAgICByZXR1cm4gbGlzdFxuICB9KVxufVxuZXhwb3J0IGRlZmF1bHQgbG9jYWxUcmltXG4iLCAiLy8gZmluYWxseSxcbi8vIGFjdHVhbGx5IHJ1biB0aGVzZSBtYXRjaC1zdGF0ZW1lbnRzIG9uIHRoZSB0ZXJtc1xuY29uc3QgcnVuTWF0Y2ggPSBmdW5jdGlvbiAobWF5YmVMaXN0LCBkb2N1bWVudCwgZG9jQ2FjaGUsIG1ldGhvZHMsIG9wdHMpIHtcbiAgbGV0IHJlc3VsdHMgPSBbXVxuICBmb3IgKGxldCBuID0gMDsgbiA8IG1heWJlTGlzdC5sZW5ndGg7IG4gKz0gMSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF5YmVMaXN0W25dLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBsZXQgbSA9IG1heWJlTGlzdFtuXVtpXVxuICAgICAgLy8gb2ssIGFjdHVhbGx5IGRvIHRoZSB3b3JrLlxuICAgICAgbGV0IHJlcyA9IG1ldGhvZHMub25lLm1hdGNoKFtkb2N1bWVudFtuXV0sIG0pXG4gICAgICAvLyBmb3VuZCBzb21ldGhpbmcuXG4gICAgICBpZiAocmVzLnB0cnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXMucHRycy5mb3JFYWNoKHB0ciA9PiB7XG4gICAgICAgICAgcHRyWzBdID0gbiAvLyBmaXggdGhlIHNlbnRlbmNlIHBvaW50ZXJcbiAgICAgICAgICAvLyBjaGVjayBpZk5vXG4gICAgICAgICAgLy8gaWYgKG0uaWZObyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gICBsZXQgdGVybXMgPSBkb2N1bWVudFtuXS5zbGljZShwdHJbMV0sIHB0clsyXSlcbiAgICAgICAgICAvLyAgIGZvciAobGV0IGsgPSAwOyBrIDwgbS5pZk5vLmxlbmd0aDsgayArPSAxKSB7XG4gICAgICAgICAgLy8gICAgIGNvbnN0IG5vID0gbS5pZk5vW2tdXG4gICAgICAgICAgLy8gICAgIC8vIHF1aWNrLWNoZWNrIGNhY2hlXG4gICAgICAgICAgLy8gICAgIGlmIChkb2NDYWNoZVtuXS5oYXMobm8pKSB7XG4gICAgICAgICAgLy8gICAgICAgaWYgKG5vLnN0YXJ0c1dpdGgoJyMnKSkge1xuICAgICAgICAgIC8vICAgICAgICAgbGV0IHRhZyA9IG5vLnJlcGxhY2UoL14jLywgJycpXG4gICAgICAgICAgLy8gICAgICAgICBpZiAodGVybXMuZmluZCh0ID0+IHQudGFncy5oYXModGFnKSkpIHtcbiAgICAgICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coJysnICsgdGFnKVxuICAgICAgICAgIC8vICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAvLyAgICAgICB9IGVsc2UgaWYgKHRlcm1zLmZpbmQodCA9PiB0Lm5vcm1hbCA9PT0gbm8gfHwgdC50YWdzLmhhcyhubykpKSB7XG4gICAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnKycgKyBubylcbiAgICAgICAgICAvLyAgICAgICAgIHJldHVyblxuICAgICAgICAgIC8vICAgICAgIH1cbiAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgIC8vICAgfVxuICAgICAgICAgIC8vIH1cbiAgICAgICAgICBsZXQgdG9kbyA9IE9iamVjdC5hc3NpZ24oe30sIG0sIHsgcG9pbnRlcjogcHRyIH0pXG4gICAgICAgICAgaWYgKG0udW5UYWcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdG9kby51blRhZyA9IG0udW5UYWdcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHRvZG8pXG4gICAgICAgIH0pXG4gICAgICAgIC8vb2sgY29vbCwgY2FuIHdlIHN0b3AgZWFybHk/XG4gICAgICAgIGlmIChvcHRzLm1hdGNoT25lID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIFtyZXN1bHRzWzBdXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzXG59XG5leHBvcnQgZGVmYXVsdCBydW5NYXRjaFxuIiwgImltcG9ydCBnZXRIb29rcyBmcm9tICcuLzAxLWdldEhvb2tzLmpzJ1xuaW1wb3J0IHRyaW1Eb3duIGZyb20gJy4vMDItdHJpbS1kb3duLmpzJ1xuLy8gaW1wb3J0IGdldFdhbnRzIGZyb20gJy4vMDMtZ2V0LXdhbnRzLmpzJ1xuaW1wb3J0IHJ1bk1hdGNoIGZyb20gJy4vMDQtcnVuTWF0Y2guanMnXG5cblxuY29uc3QgdG9vU21hbGwgPSBmdW5jdGlvbiAobWF5YmVMaXN0LCBkb2N1bWVudCkge1xuICByZXR1cm4gbWF5YmVMaXN0Lm1hcCgoYXJyLCBpKSA9PiB7XG4gICAgbGV0IHRlcm1Db3VudCA9IGRvY3VtZW50W2ldLmxlbmd0aFxuICAgIGFyciA9IGFyci5maWx0ZXIobyA9PiB7XG4gICAgICByZXR1cm4gdGVybUNvdW50ID49IG8ubWluV29yZHNcbiAgICB9KVxuICAgIHJldHVybiBhcnJcbiAgfSlcbn1cblxuY29uc3Qgc3dlZXAgPSBmdW5jdGlvbiAoZG9jdW1lbnQsIG5ldCwgbWV0aG9kcywgb3B0cyA9IHt9KSB7XG4gIC8vIGZpbmQgc3VpdGFibGUgbWF0Y2hlcyB0byBhdHRlbXB0LCBvbiBlYWNoIHNlbnRlbmNlXG4gIGxldCBkb2NDYWNoZSA9IG1ldGhvZHMub25lLmNhY2hlRG9jKGRvY3VtZW50KVxuICAvLyBjb2xsZWN0IHBvc3NpYmxlIG1hdGNoZXMgZm9yIHRoaXMgZG9jdW1lbnRcbiAgbGV0IG1heWJlTGlzdCA9IGdldEhvb2tzKGRvY0NhY2hlLCBuZXQuaG9va3MpXG4gIC8vIGVuc3VyZSBhbGwgZGVmaW5lZCBuZWVkcyBhcmUgbWV0IGZvciBlYWNoIG1hdGNoXG4gIG1heWJlTGlzdCA9IHRyaW1Eb3duKG1heWJlTGlzdCwgZG9jQ2FjaGUsIGRvY3VtZW50KVxuICAvLyBhZGQgdW5jaGFjaGVhYmxlIG1hdGNoZXMgdG8gZWFjaCBzZW50ZW5jZSdzIHRvZG8tbGlzdFxuICBpZiAobmV0LmFsd2F5cy5sZW5ndGggPiAwKSB7XG4gICAgbWF5YmVMaXN0ID0gbWF5YmVMaXN0Lm1hcChhcnIgPT4gYXJyLmNvbmNhdChuZXQuYWx3YXlzKSlcbiAgfVxuICAvLyBpZiB3ZSBkb24ndCBoYXZlIGVub3VnaCB3b3Jkc1xuICBtYXliZUxpc3QgPSB0b29TbWFsbChtYXliZUxpc3QsIGRvY3VtZW50KVxuXG4gIC8vIG5vdyBhY3R1YWxseSBydW4gdGhlIG1hdGNoZXNcbiAgbGV0IHJlc3VsdHMgPSBydW5NYXRjaChtYXliZUxpc3QsIGRvY3VtZW50LCBkb2NDYWNoZSwgbWV0aG9kcywgb3B0cylcbiAgLy8gY29uc29sZS5kaXIocmVzdWx0cywgeyBkZXB0aDogNSB9KVxuICByZXR1cm4gcmVzdWx0c1xufVxuZXhwb3J0IGRlZmF1bHQgc3dlZXBcbiIsICIvLyBpcyB0aGlzIHRhZyBjb25zaXN0ZW50IHdpdGggdGhlIHRhZ3MgdGhleSBhbHJlYWR5IGhhdmU/XG5jb25zdCBjYW5CZSA9IGZ1bmN0aW9uICh0ZXJtcywgdGFnLCBtb2RlbCkge1xuICBsZXQgdGFnU2V0ID0gbW9kZWwub25lLnRhZ1NldFxuICBpZiAoIXRhZ1NldC5oYXNPd25Qcm9wZXJ0eSh0YWcpKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBsZXQgbm90ID0gdGFnU2V0W3RhZ10ubm90IHx8IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGVybXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBsZXQgdGVybSA9IHRlcm1zW2ldXG4gICAgZm9yIChsZXQgayA9IDA7IGsgPCBub3QubGVuZ3RoOyBrICs9IDEpIHtcbiAgICAgIGlmICh0ZXJtLnRhZ3MuaGFzKG5vdFtrXSkgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlIC8vZm91bmQgYSB0YWcgY29uZmxpY3QgLSBiYWlsIVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuZXhwb3J0IGRlZmF1bHQgY2FuQmVcbiIsICJpbXBvcnQgY2FuQmUgZnJvbSAnLi9jYW5CZS5qcydcblxuY29uc3QgdGFnZ2VyID0gZnVuY3Rpb24gKGxpc3QsIGRvY3VtZW50LCB3b3JsZCkge1xuICBjb25zdCB7IG1vZGVsLCBtZXRob2RzIH0gPSB3b3JsZFxuICBjb25zdCB7IGdldERvYywgc2V0VGFnLCB1blRhZyB9ID0gbWV0aG9kcy5vbmVcbiAgY29uc3QgbG9va3NQbHVyYWwgPSBtZXRob2RzLnR3by5sb29rc1BsdXJhbFxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbGlzdFxuICB9XG4gIC8vIHNvbWUgbG9nZ2luZyBmb3IgZGVidWdnaW5nXG4gIGNvbnN0IGVudiA9IHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCAhcHJvY2Vzcy5lbnYgPyBzZWxmLmVudiB8fCB7fSA6IHByb2Nlc3MuZW52XG4gIGlmIChlbnYuREVCVUdfVEFHUykge1xuICAgIGNvbnNvbGUubG9nKGBcXG5cXG4gIFxceDFiWzMybVx1MjE5MiAke2xpc3QubGVuZ3RofSBwb3N0LXRhZ2dlcjpcXHgxYlswbWApIC8vZXNsaW50LWRpc2FibGUtbGluZVxuICB9XG4gIHJldHVybiBsaXN0Lm1hcCh0b2RvID0+IHtcbiAgICBpZiAoIXRvZG8udGFnICYmICF0b2RvLmNodW5rICYmICF0b2RvLnVuVGFnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgbGV0IHJlYXNvbiA9IHRvZG8ucmVhc29uIHx8IHRvZG8ubWF0Y2hcbiAgICBsZXQgdGVybXMgPSBnZXREb2MoW3RvZG8ucG9pbnRlcl0sIGRvY3VtZW50KVswXVxuICAgIC8vIGhhbmRsZSAnc2FmZScgdGFnXG4gICAgaWYgKHRvZG8uc2FmZSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gY2hlY2sgZm9yIGNvbmZsaWN0aW5nIHRhZ3NcbiAgICAgIGlmIChjYW5CZSh0ZXJtcywgdG9kby50YWcsIG1vZGVsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvLyBkb250IHRhZyBoYWxmIG9mIGEgaHlwaGVuYXRlZCB3b3JkXG4gICAgICBpZiAodGVybXNbdGVybXMubGVuZ3RoIC0gMV0ucG9zdCA9PT0gJy0nKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodG9kby50YWcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0VGFnKHRlcm1zLCB0b2RvLnRhZywgd29ybGQsIHRvZG8uc2FmZSwgYFtwb3N0XSAnJHtyZWFzb259J2ApXG4gICAgICAvLyBxdWljayBhbmQgZGlydHkgcGx1cmFsIHRhZ2dlciBcdUQ4M0RcdURFMTVcbiAgICAgIGlmICh0b2RvLnRhZyA9PT0gJ05vdW4nICYmIGxvb2tzUGx1cmFsKSB7XG4gICAgICAgIGxldCB0ZXJtID0gdGVybXNbdGVybXMubGVuZ3RoIC0gMV1cbiAgICAgICAgaWYgKGxvb2tzUGx1cmFsKHRlcm0udGV4dCkpIHtcbiAgICAgICAgICBzZXRUYWcoW3Rlcm1dLCAnUGx1cmFsJywgd29ybGQsIHRvZG8uc2FmZSwgJ3F1aWNrLXBsdXJhbCcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VGFnKFt0ZXJtXSwgJ1Npbmd1bGFyJywgd29ybGQsIHRvZG8uc2FmZSwgJ3F1aWNrLXNpbmd1bGFyJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gYWxsb3cgZnJlZXppbmcgdGhpcyBtYXRjaCwgdG9vXG4gICAgICBpZiAodG9kby5mcmVlemUgPT09IHRydWUpIHtcbiAgICAgICAgdGVybXMuZm9yRWFjaCh0ZXJtID0+ICh0ZXJtLmZyb3plbiA9IHRydWUpKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodG9kby51blRhZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1blRhZyh0ZXJtcywgdG9kby51blRhZywgd29ybGQsIHRvZG8uc2FmZSwgcmVhc29uKVxuICAgIH1cbiAgICAvLyBhbGxvdyBzZXR0aW5nIGNodW5rcywgdG9vXG4gICAgaWYgKHRvZG8uY2h1bmspIHtcbiAgICAgIHRlcm1zLmZvckVhY2godCA9PiAodC5jaHVuayA9IHRvZG8uY2h1bmspKVxuICAgIH1cbiAgfSlcbn1cbmV4cG9ydCBkZWZhdWx0IHRhZ2dlclxuIiwgImltcG9ydCBidWlsZE5ldCBmcm9tICcuL2J1aWxkTmV0L2luZGV4LmpzJ1xuaW1wb3J0IGJ1bGtNYXRjaCBmcm9tICcuL3N3ZWVwL2luZGV4LmpzJ1xuaW1wb3J0IGJ1bGtUYWdnZXIgZnJvbSAnLi90YWdnZXIvaW5kZXguanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYnVpbGROZXQsXG4gIGJ1bGtNYXRjaCxcbiAgYnVsa1RhZ2dlclxufSIsICJpbXBvcnQgbGliIGZyb20gJy4vbGliLmpzJ1xuaW1wb3J0IGFwaSBmcm9tICcuL2FwaS5qcydcbmltcG9ydCBtZXRob2RzIGZyb20gJy4vbWV0aG9kcy9pbmRleC5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBsaWIsXG4gIGFwaSxcbiAgbWV0aG9kczoge1xuICAgIG9uZTogbWV0aG9kcyxcbiAgfVxufSIsICJjb25zdCBpc011bHRpID0gLyAvXG5cbmNvbnN0IGFkZENodW5rID0gZnVuY3Rpb24gKHRlcm0sIHRhZykge1xuICBpZiAodGFnID09PSAnTm91bicpIHtcbiAgICB0ZXJtLmNodW5rID0gdGFnXG4gIH1cbiAgaWYgKHRhZyA9PT0gJ1ZlcmInKSB7XG4gICAgdGVybS5jaHVuayA9IHRhZ1xuICB9XG59XG5cbmNvbnN0IHRhZ1Rlcm0gPSBmdW5jdGlvbiAodGVybSwgdGFnLCB0YWdTZXQsIGlzU2FmZSkge1xuICAvLyBkb2VzIGl0IGFscmVhZHkgaGF2ZSB0aGlzIHRhZz9cbiAgaWYgKHRlcm0udGFncy5oYXModGFnKSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgLy8gYWxsb3cgdGhpcyBzaG9ydGhhbmQgaW4gbXVsdGlwbGUtdGFnIHN0cmluZ3NcbiAgaWYgKHRhZyA9PT0gJy4nKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICAvLyBkb24ndCBvdmVyd3JpdGUgYW55IHRhZ3MsIGlmIHRlcm0gaXMgZnJvemVuXG4gIGlmICh0ZXJtLmZyb3plbiA9PT0gdHJ1ZSkge1xuICAgIGlzU2FmZSA9IHRydWVcbiAgfVxuICAvLyBmb3Iga25vd24gdGFncywgZG8gbG9naWNhbCBkZXBlbmRlbmNpZXMgZmlyc3RcbiAgbGV0IGtub3duID0gdGFnU2V0W3RhZ11cbiAgaWYgKGtub3duKSB7XG4gICAgLy8gZmlyc3QsIHdlIHJlbW92ZSBhbnkgY29uZmxpY3RpbmcgdGFnc1xuICAgIGlmIChrbm93bi5ub3QgJiYga25vd24ubm90Lmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IG8gPSAwOyBvIDwga25vd24ubm90Lmxlbmd0aDsgbyArPSAxKSB7XG4gICAgICAgIC8vIGlmIHdlJ3JlIGluIHRhZ1NhZmUsIHNraXAgdGhpcyB0ZXJtLlxuICAgICAgICBpZiAoaXNTYWZlID09PSB0cnVlICYmIHRlcm0udGFncy5oYXMoa25vd24ubm90W29dKSkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgdGVybS50YWdzLmRlbGV0ZShrbm93bi5ub3Rbb10pXG4gICAgICB9XG4gICAgfVxuICAgIC8vIGFkZCBwYXJlbnQgdGFnc1xuICAgIGlmIChrbm93bi5wYXJlbnRzICYmIGtub3duLnBhcmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCBrbm93bi5wYXJlbnRzLmxlbmd0aDsgbyArPSAxKSB7XG4gICAgICAgIHRlcm0udGFncy5hZGQoa25vd24ucGFyZW50c1tvXSlcbiAgICAgICAgYWRkQ2h1bmsodGVybSwga25vd24ucGFyZW50c1tvXSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gZmluYWxseSwgYWRkIG91ciB0YWdcbiAgdGVybS50YWdzLmFkZCh0YWcpXG4gIC8vIG5vdyBpdCdzIGRpcnR5P1xuICB0ZXJtLmRpcnR5ID0gdHJ1ZVxuICAvLyBhZGQgYSBjaHVuayB0b28sIGlmIGl0J3MgZWFzeVxuICBhZGRDaHVuayh0ZXJtLCB0YWcpXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIHN1cHBvcnQgJyNOb3VuIC4gI0FkamVjdGl2ZScgc3ludGF4XG5jb25zdCBtdWx0aVRhZyA9IGZ1bmN0aW9uICh0ZXJtcywgdGFnU3RyaW5nLCB0YWdTZXQsIGlzU2FmZSkge1xuICBsZXQgdGFncyA9IHRhZ1N0cmluZy5zcGxpdChpc011bHRpKVxuICB0ZXJtcy5mb3JFYWNoKCh0ZXJtLCBpKSA9PiB7XG4gICAgbGV0IHRhZyA9IHRhZ3NbaV1cbiAgICBpZiAodGFnKSB7XG4gICAgICB0YWcgPSB0YWcucmVwbGFjZSgvXiMvLCAnJylcbiAgICAgIHRhZ1Rlcm0odGVybSwgdGFnLCB0YWdTZXQsIGlzU2FmZSlcbiAgICB9XG4gIH0pXG59XG5cbmNvbnN0IGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG4vLyB2ZXJib3NlLW1vZGUgdGFnZ2VyIGRlYnVnaW5nXG5jb25zdCBsb2cgPSAodGVybXMsIHRhZywgcmVhc29uID0gJycpID0+IHtcbiAgY29uc3QgeWVsbG93ID0gc3RyID0+ICdcXHgxYlszM21cXHgxYlszbScgKyBzdHIgKyAnXFx4MWJbMG0nXG4gIGNvbnN0IGkgPSBzdHIgPT4gJ1xceDFiWzNtJyArIHN0ciArICdcXHgxYlswbSdcbiAgbGV0IHdvcmQgPSB0ZXJtc1xuICAgIC5tYXAodCA9PiB7XG4gICAgICByZXR1cm4gdC50ZXh0IHx8ICdbJyArIHQuaW1wbGljaXQgKyAnXSdcbiAgICB9KVxuICAgIC5qb2luKCcgJylcbiAgaWYgKHR5cGVvZiB0YWcgIT09ICdzdHJpbmcnICYmIHRhZy5sZW5ndGggPiAyKSB7XG4gICAgdGFnID0gdGFnLnNsaWNlKDAsIDIpLmpvaW4oJywgIycpICsgJyArJyAvL3RydW5jYXRlIHRoZSBsaXN0IG9mIHRhZ3NcbiAgfVxuICB0YWcgPSB0eXBlb2YgdGFnICE9PSAnc3RyaW5nJyA/IHRhZy5qb2luKCcsICMnKSA6IHRhZ1xuICBjb25zb2xlLmxvZyhgICR7eWVsbG93KHdvcmQpLnBhZEVuZCgyNCl9IFxceDFiWzMybVx1MjE5MlxceDFiWzBtICMke3RhZy5wYWRFbmQoMjIpfSAgJHtpKHJlYXNvbil9YCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxufVxuXG4vLyBhZGQgYSB0YWcgdG8gYWxsIHRoZXNlIHRlcm1zXG5jb25zdCBzZXRUYWcgPSBmdW5jdGlvbiAodGVybXMsIHRhZywgd29ybGQgPSB7fSwgaXNTYWZlLCByZWFzb24pIHtcbiAgY29uc3QgdGFnU2V0ID0gd29ybGQubW9kZWwub25lLnRhZ1NldCB8fCB7fVxuICBpZiAoIXRhZykge1xuICAgIHJldHVyblxuICB9XG4gIC8vIHNvbWUgbG9nZ2luZyBmb3IgZGVidWdnaW5nXG4gIGNvbnN0IGVudiA9IHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCAhcHJvY2Vzcy5lbnYgPyBzZWxmLmVudiB8fCB7fSA6IHByb2Nlc3MuZW52XG4gIGlmIChlbnYgJiYgZW52LkRFQlVHX1RBR1MpIHtcbiAgICBsb2codGVybXMsIHRhZywgcmVhc29uKVxuICB9XG4gIGlmIChpc0FycmF5KHRhZykgPT09IHRydWUpIHtcbiAgICB0YWcuZm9yRWFjaCh0ZyA9PiBzZXRUYWcodGVybXMsIHRnLCB3b3JsZCwgaXNTYWZlKSlcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodHlwZW9mIHRhZyAhPT0gJ3N0cmluZycpIHtcbiAgICBjb25zb2xlLndhcm4oYGNvbXByb21pc2U6IEludmFsaWQgdGFnICcke3RhZ30nYCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIHJldHVyblxuICB9XG4gIHRhZyA9IHRhZy50cmltKClcbiAgLy8gc3VwcG9ydCAnI05vdW4gLiAjQWRqZWN0aXZlJyBzeW50YXhcbiAgaWYgKGlzTXVsdGkudGVzdCh0YWcpKSB7XG4gICAgbXVsdGlUYWcodGVybXMsIHRhZywgdGFnU2V0LCBpc1NhZmUpXG4gICAgcmV0dXJuXG4gIH1cbiAgdGFnID0gdGFnLnJlcGxhY2UoL14jLywgJycpXG4gIC8vIGxldCBzZXQgPSBmYWxzZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRlcm1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGFnVGVybSh0ZXJtc1tpXSwgdGFnLCB0YWdTZXQsIGlzU2FmZSlcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgc2V0VGFnXG4iLCAiLy8gcmVtb3ZlIHRoaXMgdGFnLCBhbmQgaXRzIGNoaWxkcmVuLCBmcm9tIHRoZXNlIHRlcm1zXG5jb25zdCB1blRhZyA9IGZ1bmN0aW9uICh0ZXJtcywgdGFnLCB0YWdTZXQpIHtcbiAgdGFnID0gdGFnLnRyaW0oKS5yZXBsYWNlKC9eIy8sICcnKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRlcm1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGV0IHRlcm0gPSB0ZXJtc1tpXVxuICAgIC8vIGRvbid0IHVudGFnIGFueXRoaW5nIGlmIHRlcm0gaXMgZnJvemVuXG4gICAgaWYgKHRlcm0uZnJvemVuID09PSB0cnVlKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyBzdXBwb3J0IGNsZWFyaW5nIGFsbCB0YWdzLCB3aXRoICcqJ1xuICAgIGlmICh0YWcgPT09ICcqJykge1xuICAgICAgdGVybS50YWdzLmNsZWFyKClcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIGZvciBrbm93biB0YWdzLCBkbyBsb2dpY2FsIGRlcGVuZGVuY2llcyBmaXJzdFxuICAgIGxldCBrbm93biA9IHRhZ1NldFt0YWddXG4gICAgLy8gcmVtb3ZpbmcgI1ZlcmIgc2hvdWxkIGFsc28gcmVtb3ZlICNQYXN0VGVuc2VcbiAgICBpZiAoa25vd24gJiYga25vd24uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCBrbm93bi5jaGlsZHJlbi5sZW5ndGg7IG8gKz0gMSkge1xuICAgICAgICB0ZXJtLnRhZ3MuZGVsZXRlKGtub3duLmNoaWxkcmVuW29dKVxuICAgICAgfVxuICAgIH1cbiAgICB0ZXJtLnRhZ3MuZGVsZXRlKHRhZylcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgdW5UYWdcbiIsICIvLyBxdWljayBjaGVjayBpZiB0aGlzIHRhZyB3aWxsIHJlcXVpcmUgYW55IHVudGFnZ2luZ1xuY29uc3QgY2FuQmUgPSBmdW5jdGlvbiAodGVybSwgdGFnLCB0YWdTZXQpIHtcbiAgaWYgKCF0YWdTZXQuaGFzT3duUHJvcGVydHkodGFnKSkge1xuICAgIHJldHVybiB0cnVlIC8vIGV2ZXJ5dGhpbmcgY2FuIGJlIGFuIHVua25vd24gdGFnXG4gIH1cbiAgbGV0IG5vdCA9IHRhZ1NldFt0YWddLm5vdCB8fCBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5vdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0ZXJtLnRhZ3MuaGFzKG5vdFtpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuZXhwb3J0IGRlZmF1bHQgY2FuQmVcbiIsICJjb25zdCBlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkcmVuPWUuY2hpbGRyZW58fFtdLGUuX2NhY2hlPWUuX2NhY2hlfHx7fSxlLnByb3BzPWUucHJvcHN8fHt9LGUuX2NhY2hlLnBhcmVudHM9ZS5fY2FjaGUucGFyZW50c3x8W10sZS5fY2FjaGUuY2hpbGRyZW49ZS5fY2FjaGUuY2hpbGRyZW58fFtdLGV9LHQ9L14gKigjfFxcL1xcLykvLG49ZnVuY3Rpb24odCl7bGV0IG49dC50cmltKCkuc3BsaXQoLy0+Lykscj1bXTtuLmZvckVhY2goKHQ9PntyPXIuY29uY2F0KGZ1bmN0aW9uKHQpe2lmKCEodD10LnRyaW0oKSkpcmV0dXJuIG51bGw7aWYoL15cXFsvLnRlc3QodCkmJi9cXF0kLy50ZXN0KHQpKXtsZXQgbj0odD0odD10LnJlcGxhY2UoL15cXFsvLFwiXCIpKS5yZXBsYWNlKC9cXF0kLyxcIlwiKSkuc3BsaXQoLywvKTtyZXR1cm4gbj1uLm1hcCgoZT0+ZS50cmltKCkpKS5maWx0ZXIoKGU9PmUpKSxuPW4ubWFwKCh0PT5lKHtpZDp0fSkpKSxufXJldHVybltlKHtpZDp0fSldfSh0KSl9KSkscj1yLmZpbHRlcigoZT0+ZSkpO2xldCBpPXJbMF07Zm9yKGxldCBlPTE7ZTxyLmxlbmd0aDtlKz0xKWkuY2hpbGRyZW4ucHVzaChyW2VdKSxpPXJbZV07cmV0dXJuIHJbMF19LHI9KGUsdCk9PntsZXQgbj1bXSxyPVtlXTtmb3IoO3IubGVuZ3RoPjA7KXtsZXQgZT1yLnBvcCgpO24ucHVzaChlKSxlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmZvckVhY2goKG49Pnt0JiZ0KGUsbiksci5wdXNoKG4pfSkpfXJldHVybiBufSxpPWU9PlwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSxjPWU9PihlPWV8fFwiXCIpLnRyaW0oKSxzPWZ1bmN0aW9uKGM9W10pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBjP2Z1bmN0aW9uKHIpe2xldCBpPXIuc3BsaXQoL1xccj9cXG4vKSxjPVtdO2kuZm9yRWFjaCgoZT0+e2lmKCFlLnRyaW0oKXx8dC50ZXN0KGUpKXJldHVybjtsZXQgcj0oZT0+e2NvbnN0IHQ9L14oIHsyfXxcXHQpLztsZXQgbj0wO2Zvcig7dC50ZXN0KGUpOyllPWUucmVwbGFjZSh0LFwiXCIpLG4rPTE7cmV0dXJuIG59KShlKTtjLnB1c2goe2luZGVudDpyLG5vZGU6bihlKX0pfSkpO2xldCBzPWZ1bmN0aW9uKGUpe2xldCB0PXtjaGlsZHJlbjpbXX07cmV0dXJuIGUuZm9yRWFjaCgoKG4scik9PnswPT09bi5pbmRlbnQ/dC5jaGlsZHJlbj10LmNoaWxkcmVuLmNvbmNhdChuLm5vZGUpOmVbci0xXSYmZnVuY3Rpb24oZSx0KXtsZXQgbj1lW3RdLmluZGVudDtmb3IoO3Q+PTA7dC09MSlpZihlW3RdLmluZGVudDxuKXJldHVybiBlW3RdO3JldHVybiBlWzBdfShlLHIpLm5vZGUuY2hpbGRyZW4ucHVzaChuLm5vZGUpfSkpLHR9KGMpO3JldHVybiBzPWUocyksc30oYyk6aShjKT9mdW5jdGlvbih0KXtsZXQgbj17fTt0LmZvckVhY2goKGU9PntuW2UuaWRdPWV9KSk7bGV0IHI9ZSh7fSk7cmV0dXJuIHQuZm9yRWFjaCgodD0+e2lmKCh0PWUodCkpLnBhcmVudClpZihuLmhhc093blByb3BlcnR5KHQucGFyZW50KSl7bGV0IGU9blt0LnBhcmVudF07ZGVsZXRlIHQucGFyZW50LGUuY2hpbGRyZW4ucHVzaCh0KX1lbHNlIGNvbnNvbGUud2FybihgW0dyYWRdIC0gbWlzc2luZyBub2RlICcke3QucGFyZW50fSdgKTtlbHNlIHIuY2hpbGRyZW4ucHVzaCh0KX0pKSxyfShjKToocihzPWMpLmZvckVhY2goZSkscyk7dmFyIHN9LGg9ZT0+XCJcdTAwMUJbMzFtXCIrZStcIlx1MDAxQlswbVwiLG89ZT0+XCJcdTAwMUJbMm1cIitlK1wiXHUwMDFCWzBtXCIsbD1mdW5jdGlvbihlLHQpe2xldCBuPVwiLT4gXCI7dCYmKG49byhcIlx1MjE5MiBcIikpO2xldCBpPVwiXCI7cmV0dXJuIHIoZSkuZm9yRWFjaCgoKGUscik9PntsZXQgYz1lLmlkfHxcIlwiO2lmKHQmJihjPWgoYykpLDA9PT1yJiYhZS5pZClyZXR1cm47bGV0IHM9ZS5fY2FjaGUucGFyZW50cy5sZW5ndGg7aSs9XCIgICAgXCIucmVwZWF0KHMpK24rYytcIlxcblwifSkpLGl9LGE9ZnVuY3Rpb24oZSl7bGV0IHQ9cihlKTt0LmZvckVhY2goKGU9PntkZWxldGUoZT1PYmplY3QuYXNzaWduKHt9LGUpKS5jaGlsZHJlbn0pKTtsZXQgbj10WzBdO3JldHVybiBuJiYhbi5pZCYmMD09PU9iamVjdC5rZXlzKG4ucHJvcHMpLmxlbmd0aCYmdC5zaGlmdCgpLHR9LHA9e3RleHQ6bCx0eHQ6bCxhcnJheTphLGZsYXQ6YX0sZD1mdW5jdGlvbihlLHQpe3JldHVyblwibmVzdGVkXCI9PT10fHxcImpzb25cIj09PXQ/ZTpcImRlYnVnXCI9PT10Pyhjb25zb2xlLmxvZyhsKGUsITApKSxudWxsKTpwLmhhc093blByb3BlcnR5KHQpP3BbdF0oZSk6ZX0sdT1lPT57cihlLCgoZSx0KT0+e2UuaWQmJihlLl9jYWNoZS5wYXJlbnRzPWUuX2NhY2hlLnBhcmVudHN8fFtdLHQuX2NhY2hlLnBhcmVudHM9ZS5fY2FjaGUucGFyZW50cy5jb25jYXQoW2UuaWRdKSl9KSl9LGY9KGUsdCk9PihPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChuPT57aWYodFtuXWluc3RhbmNlb2YgU2V0KXtsZXQgcj1lW25dfHxuZXcgU2V0O2Vbbl09bmV3IFNldChbLi4uciwuLi50W25dXSl9ZWxzZXtpZigoZT0+ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpKSh0W25dKSl7bGV0IHI9ZVtuXXx8e307ZVtuXT1PYmplY3QuYXNzaWduKHt9LHRbbl0scil9ZWxzZSBpKHRbbl0pP2Vbbl09dFtuXS5jb25jYXQoZVtuXXx8W10pOnZvaWQgMD09PWVbbl0mJihlW25dPXRbbl0pfX0pKSxlKSxqPS9cXC8vO2NsYXNzIGd7Y29uc3RydWN0b3IoZT17fSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJqc29uXCIse2VudW1lcmFibGU6ITEsdmFsdWU6ZSx3cml0YWJsZTohMH0pfWdldCBjaGlsZHJlbigpe3JldHVybiB0aGlzLmpzb24uY2hpbGRyZW59Z2V0IGlkKCl7cmV0dXJuIHRoaXMuanNvbi5pZH1nZXQgZm91bmQoKXtyZXR1cm4gdGhpcy5qc29uLmlkfHx0aGlzLmpzb24uY2hpbGRyZW4ubGVuZ3RoPjB9cHJvcHMoZT17fSl7bGV0IHQ9dGhpcy5qc29uLnByb3BzfHx7fTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKHRbZV09ITApLHRoaXMuanNvbi5wcm9wcz1PYmplY3QuYXNzaWduKHQsZSksdGhpc31nZXQodCl7aWYodD1jKHQpLCFqLnRlc3QodCkpe2xldCBlPXRoaXMuanNvbi5jaGlsZHJlbi5maW5kKChlPT5lLmlkPT09dCkpO3JldHVybiBuZXcgZyhlKX1sZXQgbj0oKGUsdCk9PntsZXQgbj0oZT0+XCJzdHJpbmdcIiE9dHlwZW9mIGU/ZTooZT1lLnJlcGxhY2UoL15cXC8vLFwiXCIpKS5zcGxpdCgvXFwvLykpKHQ9dHx8XCJcIik7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kz0xKXtsZXQgcj1lLmNoaWxkcmVuLmZpbmQoKGU9PmUuaWQ9PT1uW3RdKSk7aWYoIXIpcmV0dXJuIG51bGw7ZT1yfXJldHVybiBlfSkodGhpcy5qc29uLHQpfHxlKHt9KTtyZXR1cm4gbmV3IGcobil9YWRkKHQsbj17fSl7aWYoaSh0KSlyZXR1cm4gdC5mb3JFYWNoKChlPT50aGlzLmFkZChjKGUpLG4pKSksdGhpczt0PWModCk7bGV0IHI9ZSh7aWQ6dCxwcm9wczpufSk7cmV0dXJuIHRoaXMuanNvbi5jaGlsZHJlbi5wdXNoKHIpLG5ldyBnKHIpfXJlbW92ZShlKXtyZXR1cm4gZT1jKGUpLHRoaXMuanNvbi5jaGlsZHJlbj10aGlzLmpzb24uY2hpbGRyZW4uZmlsdGVyKCh0PT50LmlkIT09ZSkpLHRoaXN9bm9kZXMoKXtyZXR1cm4gcih0aGlzLmpzb24pLm1hcCgoZT0+KGRlbGV0ZShlPU9iamVjdC5hc3NpZ24oe30sZSkpLmNoaWxkcmVuLGUpKSl9Y2FjaGUoKXtyZXR1cm4oZT0+e2xldCB0PXIoZSwoKGUsdCk9PntlLmlkJiYoZS5fY2FjaGUucGFyZW50cz1lLl9jYWNoZS5wYXJlbnRzfHxbXSxlLl9jYWNoZS5jaGlsZHJlbj1lLl9jYWNoZS5jaGlsZHJlbnx8W10sdC5fY2FjaGUucGFyZW50cz1lLl9jYWNoZS5wYXJlbnRzLmNvbmNhdChbZS5pZF0pKX0pKSxuPXt9O3QuZm9yRWFjaCgoZT0+e2UuaWQmJihuW2UuaWRdPWUpfSkpLHQuZm9yRWFjaCgoZT0+e2UuX2NhY2hlLnBhcmVudHMuZm9yRWFjaCgodD0+e24uaGFzT3duUHJvcGVydHkodCkmJm5bdF0uX2NhY2hlLmNoaWxkcmVuLnB1c2goZS5pZCl9KSl9KSksZS5fY2FjaGUuY2hpbGRyZW49T2JqZWN0LmtleXMobil9KSh0aGlzLmpzb24pLHRoaXN9bGlzdCgpe3JldHVybiByKHRoaXMuanNvbil9ZmlsbERvd24oKXt2YXIgZTtyZXR1cm4gZT10aGlzLmpzb24scihlLCgoZSx0KT0+e3QucHJvcHM9Zih0LnByb3BzLGUucHJvcHMpfSkpLHRoaXN9ZGVwdGgoKXt1KHRoaXMuanNvbik7bGV0IGU9cih0aGlzLmpzb24pLHQ9ZS5sZW5ndGg+MT8xOjA7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2lmKDA9PT1lLl9jYWNoZS5wYXJlbnRzLmxlbmd0aClyZXR1cm47bGV0IG49ZS5fY2FjaGUucGFyZW50cy5sZW5ndGgrMTtuPnQmJih0PW4pfSkpLHR9b3V0KGUpe3JldHVybiB1KHRoaXMuanNvbiksZCh0aGlzLmpzb24sZSl9ZGVidWcoKXtyZXR1cm4gdSh0aGlzLmpzb24pLGQodGhpcy5qc29uLFwiZGVidWdcIiksdGhpc319Y29uc3QgXz1mdW5jdGlvbihlKXtsZXQgdD1zKGUpO3JldHVybiBuZXcgZyh0KX07Xy5wcm90b3R5cGUucGx1Z2luPWZ1bmN0aW9uKGUpe2UodGhpcyl9O2V4cG9ydHtfIGFzIGRlZmF1bHR9O1xuIiwgIi8vIGkganVzdCBtYWRlIHRoZXNlIHVwXG5jb25zdCBjb2xvcnMgPSB7XG4gIE5vdW46ICdibHVlJyxcbiAgVmVyYjogJ2dyZWVuJyxcbiAgTmVnYXRpdmU6ICdncmVlbicsXG4gIERhdGU6ICdyZWQnLFxuICBWYWx1ZTogJ3JlZCcsXG4gIEFkamVjdGl2ZTogJ21hZ2VudGEnLFxuICBQcmVwb3NpdGlvbjogJ2N5YW4nLFxuICBDb25qdW5jdGlvbjogJ2N5YW4nLFxuICBEZXRlcm1pbmVyOiAnY3lhbicsXG4gIEh5cGhlbmF0ZWQ6ICdjeWFuJyxcbiAgQWR2ZXJiOiAnY3lhbicsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbG9ycyIsICJpbXBvcnQgY29sb3JzIGZyb20gJy4vX2NvbG9ycy5qcydcblxuY29uc3QgZ2V0Q29sb3IgPSBmdW5jdGlvbiAobm9kZSkge1xuICBpZiAoY29sb3JzLmhhc093blByb3BlcnR5KG5vZGUuaWQpKSB7XG4gICAgcmV0dXJuIGNvbG9yc1tub2RlLmlkXVxuICB9XG4gIGlmIChjb2xvcnMuaGFzT3duUHJvcGVydHkobm9kZS5pcykpIHtcbiAgICByZXR1cm4gY29sb3JzW25vZGUuaXNdXG4gIH1cbiAgbGV0IGZvdW5kID0gbm9kZS5fY2FjaGUucGFyZW50cy5maW5kKGMgPT4gY29sb3JzW2NdKVxuICByZXR1cm4gY29sb3JzW2ZvdW5kXVxufVxuXG4vLyBjb252ZXJ0IHRhZ3MgdG8gb3VyIGZpbmFsIGZvcm1hdFxuY29uc3QgZm10ID0gZnVuY3Rpb24gKG5vZGVzKSB7XG4gIGNvbnN0IHJlcyA9IHt9XG4gIG5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgbGV0IHsgbm90LCBhbHNvLCBpcywgbm92ZWwgfSA9IG5vZGUucHJvcHNcbiAgICBsZXQgcGFyZW50cyA9IG5vZGUuX2NhY2hlLnBhcmVudHNcbiAgICBpZiAoYWxzbykge1xuICAgICAgcGFyZW50cyA9IHBhcmVudHMuY29uY2F0KGFsc28pXG4gICAgfVxuICAgIHJlc1tub2RlLmlkXSA9IHtcbiAgICAgIGlzLFxuICAgICAgbm90LFxuICAgICAgbm92ZWwsXG4gICAgICBhbHNvLFxuICAgICAgcGFyZW50cyxcbiAgICAgIGNoaWxkcmVuOiBub2RlLl9jYWNoZS5jaGlsZHJlbixcbiAgICAgIGNvbG9yOiBnZXRDb2xvcihub2RlKVxuICAgIH1cbiAgfSlcbiAgLy8gbGFzdGx5LCBhZGQgYWxsIGNoaWxkcmVuIG9mIGFsbCBub3RzXG4gIE9iamVjdC5rZXlzKHJlcykuZm9yRWFjaChrID0+IHtcbiAgICBsZXQgbm90cyA9IG5ldyBTZXQocmVzW2tdLm5vdClcbiAgICByZXNba10ubm90LmZvckVhY2gobm90ID0+IHtcbiAgICAgIGlmIChyZXNbbm90XSkge1xuICAgICAgICByZXNbbm90XS5jaGlsZHJlbi5mb3JFYWNoKHRhZyA9PiBub3RzLmFkZCh0YWcpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmVzW2tdLm5vdCA9IEFycmF5LmZyb20obm90cylcbiAgfSlcbiAgcmV0dXJuIHJlc1xufVxuXG5leHBvcnQgZGVmYXVsdCBmbXQiLCAiXG5jb25zdCB0b0FyciA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICBpZiAoIWlucHV0KSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gW2lucHV0XVxuICB9XG4gIHJldHVybiBpbnB1dFxufVxuXG5jb25zdCBhZGRJbXBsaWVkID0gZnVuY3Rpb24gKHRhZ3MsIGFscmVhZHkpIHtcbiAgT2JqZWN0LmtleXModGFncykuZm9yRWFjaChrID0+IHtcbiAgICAvLyBzdXBwb3J0IGRlcHJlY2F0ZWQgZm10c1xuICAgIGlmICh0YWdzW2tdLmlzQSkge1xuICAgICAgdGFnc1trXS5pcyA9IHRhZ3Nba10uaXNBXG4gICAgfVxuICAgIGlmICh0YWdzW2tdLm5vdEEpIHtcbiAgICAgIHRhZ3Nba10ubm90ID0gdGFnc1trXS5ub3RBXG4gICAgfVxuICAgIC8vIGFkZCBhbnkgaW1wbGljaXQgJ2lzJyB0YWdzXG4gICAgaWYgKHRhZ3Nba10uaXMgJiYgdHlwZW9mIHRhZ3Nba10uaXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoIWFscmVhZHkuaGFzT3duUHJvcGVydHkodGFnc1trXS5pcykgJiYgIXRhZ3MuaGFzT3duUHJvcGVydHkodGFnc1trXS5pcykpIHtcbiAgICAgICAgdGFnc1t0YWdzW2tdLmlzXSA9IHt9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGFkZCBhbnkgaW1wbGljaXQgJ25vdCcgdGFnc1xuICAgIGlmICh0YWdzW2tdLm5vdCAmJiB0eXBlb2YgdGFnc1trXS5ub3QgPT09ICdzdHJpbmcnICYmICF0YWdzLmhhc093blByb3BlcnR5KHRhZ3Nba10ubm90KSkge1xuICAgICAgaWYgKCFhbHJlYWR5Lmhhc093blByb3BlcnR5KHRhZ3Nba10ubm90KSAmJiAhdGFncy5oYXNPd25Qcm9wZXJ0eSh0YWdzW2tdLm5vdCkpIHtcbiAgICAgICAgdGFnc1t0YWdzW2tdLm5vdF0gPSB7fVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHRhZ3Ncbn1cblxuXG5jb25zdCB2YWxpZGF0ZSA9IGZ1bmN0aW9uICh0YWdzLCBhbHJlYWR5KSB7XG5cbiAgdGFncyA9IGFkZEltcGxpZWQodGFncywgYWxyZWFkeSlcblxuICAvLyBwcm9wZXJ0eSB2YWxpZGF0aW9uXG4gIE9iamVjdC5rZXlzKHRhZ3MpLmZvckVhY2goayA9PiB7XG4gICAgdGFnc1trXS5jaGlsZHJlbiA9IHRvQXJyKHRhZ3Nba10uY2hpbGRyZW4pXG4gICAgdGFnc1trXS5ub3QgPSB0b0Fycih0YWdzW2tdLm5vdClcbiAgfSlcbiAgLy8gbm90IGxpbmtzIGFyZSBiaS1kaXJlY3Rpb25hbFxuICAvLyBhZGQgYW55IGluY29taW5nIG5vdCB0YWdzXG4gIE9iamVjdC5rZXlzKHRhZ3MpLmZvckVhY2goayA9PiB7XG4gICAgbGV0IG5vdHMgPSB0YWdzW2tdLm5vdCB8fCBbXVxuICAgIG5vdHMuZm9yRWFjaChubyA9PiB7XG4gICAgICBpZiAodGFnc1tub10gJiYgdGFnc1tub10ubm90KSB7XG4gICAgICAgIHRhZ3Nbbm9dLm5vdC5wdXNoKGspXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbiAgcmV0dXJuIHRhZ3Ncbn1cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlIiwgImltcG9ydCBncmFkIGZyb20gJ2dyYWQtc2Nob29sJ1xuaW1wb3J0IGZtdCBmcm9tICcuLzAyLWZtdC5qcydcbmltcG9ydCB2YWxpZGF0ZSBmcm9tICcuLzAxLXZhbGlkYXRlLmpzJ1xuXG4vLyAnZmlsbC1kb3duJyBwYXJlbnQgbG9naWMgaW5mZXJlbmNlXG5jb25zdCBjb21wdXRlID0gZnVuY3Rpb24gKGFsbFRhZ3MpIHtcbiAgLy8gc2V0dXAgZ3JhcGgtbGliIGZvcm1hdFxuICBjb25zdCBmbGF0TGlzdCA9IE9iamVjdC5rZXlzKGFsbFRhZ3MpLm1hcChrID0+IHtcbiAgICBsZXQgbyA9IGFsbFRhZ3Nba11cbiAgICBjb25zdCBwcm9wcyA9IHsgbm90OiBuZXcgU2V0KG8ubm90KSwgYWxzbzogby5hbHNvLCBpczogby5pcywgbm92ZWw6IG8ubm92ZWwgfVxuICAgIHJldHVybiB7IGlkOiBrLCBwYXJlbnQ6IG8uaXMsIHByb3BzLCBjaGlsZHJlbjogW10gfVxuICB9KVxuICBjb25zdCBncmFwaCA9IGdyYWQoZmxhdExpc3QpLmNhY2hlKCkuZmlsbERvd24oKVxuICByZXR1cm4gZ3JhcGgub3V0KCdhcnJheScpXG59XG5cbmNvbnN0IGZyb21Vc2VyID0gZnVuY3Rpb24gKHRhZ3MpIHtcbiAgT2JqZWN0LmtleXModGFncykuZm9yRWFjaChrID0+IHtcbiAgICB0YWdzW2tdID0gT2JqZWN0LmFzc2lnbih7fSwgdGFnc1trXSlcbiAgICB0YWdzW2tdLm5vdmVsID0gdHJ1ZVxuICB9KVxuICByZXR1cm4gdGFnc1xufVxuXG5jb25zdCBhZGRUYWdzID0gZnVuY3Rpb24gKHRhZ3MsIGFscmVhZHkpIHtcbiAgLy8gYXJlIHRoZXNlIHRhZ3MgaW50ZXJuYWwgb25lcywgb3IgdXNlci1nZW5lcmF0ZWQ/XG4gIGlmIChPYmplY3Qua2V5cyhhbHJlYWR5KS5sZW5ndGggPiAwKSB7XG4gICAgdGFncyA9IGZyb21Vc2VyKHRhZ3MpXG4gIH1cbiAgdGFncyA9IHZhbGlkYXRlKHRhZ3MsIGFscmVhZHkpXG5cbiAgbGV0IGFsbFRhZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBhbHJlYWR5LCB0YWdzKVxuICAvLyBkbyBzb21lIGJhc2ljIHNldHRpbmctdXBcbiAgLy8gJ2ZpbGwtZG93bicgcGFyZW50IGxvZ2ljXG4gIGNvbnN0IG5vZGVzID0gY29tcHV0ZShhbGxUYWdzKVxuICAvLyBjb252ZXJ0IGl0IHRvIG91ciBmaW5hbCBmb3JtYXRcbiAgY29uc3QgcmVzID0gZm10KG5vZGVzKVxuICByZXR1cm4gcmVzXG59XG5leHBvcnQgZGVmYXVsdCBhZGRUYWdzXG4iLCAiaW1wb3J0IHNldFRhZyBmcm9tICcuL3NldFRhZy5qcydcbmltcG9ydCB1blRhZyBmcm9tICcuL3VuVGFnLmpzJ1xuaW1wb3J0IGNhbkJlIGZyb20gJy4vY2FuQmUuanMnXG5pbXBvcnQgYWRkVGFncyBmcm9tICcuL2FkZFRhZ3MvaW5kZXguanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgb25lOiB7XG4gICAgc2V0VGFnLFxuICAgIHVuVGFnLFxuICAgIGFkZFRhZ3MsXG4gICAgY2FuQmUsXG4gIH0sXG59XG4iLCAiLyogZXNsaW50IG5vLWNvbnNvbGU6IDAgKi9cbmNvbnN0IGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuY29uc3QgZm5zID0ge1xuICAvKiogYWRkIGEgZ2l2ZW4gdGFnLCB0byBhbGwgdGhlc2UgdGVybXMgKi9cbiAgdGFnOiBmdW5jdGlvbiAoaW5wdXQsIHJlYXNvbiA9ICcnLCBpc1NhZmUpIHtcbiAgICBpZiAoIXRoaXMuZm91bmQgfHwgIWlucHV0KSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBsZXQgdGVybXMgPSB0aGlzLnRlcm1MaXN0KClcbiAgICBpZiAodGVybXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBjb25zdCB7IG1ldGhvZHMsIHZlcmJvc2UsIHdvcmxkIH0gPSB0aGlzXG4gICAgLy8gbG9nZ2VyXG4gICAgaWYgKHZlcmJvc2UgPT09IHRydWUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCcgKyAgJywgaW5wdXQsIHJlYXNvbiB8fCAnJylcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICBpbnB1dC5mb3JFYWNoKHRhZyA9PiBtZXRob2RzLm9uZS5zZXRUYWcodGVybXMsIHRhZywgd29ybGQsIGlzU2FmZSwgcmVhc29uKSlcbiAgICB9IGVsc2Uge1xuICAgICAgbWV0aG9kcy5vbmUuc2V0VGFnKHRlcm1zLCBpbnB1dCwgd29ybGQsIGlzU2FmZSwgcmVhc29uKVxuICAgIH1cbiAgICAvLyB1bmNhY2hlXG4gICAgdGhpcy51bmNhY2hlKClcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiBhZGQgYSBnaXZlbiB0YWcsIG9ubHkgaWYgaXQgaXMgY29uc2lzdGVudCAqL1xuICB0YWdTYWZlOiBmdW5jdGlvbiAoaW5wdXQsIHJlYXNvbiA9ICcnKSB7XG4gICAgcmV0dXJuIHRoaXMudGFnKGlucHV0LCByZWFzb24sIHRydWUpXG4gIH0sXG5cbiAgLyoqIHJlbW92ZSBhIGdpdmVuIHRhZyBmcm9tIGFsbCB0aGVzZSB0ZXJtcyAqL1xuICB1blRhZzogZnVuY3Rpb24gKGlucHV0LCByZWFzb24pIHtcbiAgICBpZiAoIXRoaXMuZm91bmQgfHwgIWlucHV0KSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBsZXQgdGVybXMgPSB0aGlzLnRlcm1MaXN0KClcbiAgICBpZiAodGVybXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBjb25zdCB7IG1ldGhvZHMsIHZlcmJvc2UsIG1vZGVsIH0gPSB0aGlzXG4gICAgLy8gbG9nZ2VyXG4gICAgaWYgKHZlcmJvc2UgPT09IHRydWUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCcgLSAgJywgaW5wdXQsIHJlYXNvbiB8fCAnJylcbiAgICB9XG4gICAgbGV0IHRhZ1NldCA9IG1vZGVsLm9uZS50YWdTZXRcbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIGlucHV0LmZvckVhY2godGFnID0+IG1ldGhvZHMub25lLnVuVGFnKHRlcm1zLCB0YWcsIHRhZ1NldCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIG1ldGhvZHMub25lLnVuVGFnKHRlcm1zLCBpbnB1dCwgdGFnU2V0KVxuICAgIH1cbiAgICAvLyB1bmNhY2hlXG4gICAgdGhpcy51bmNhY2hlKClcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiByZXR1cm4gb25seSB0aGUgdGVybXMgdGhhdCBjYW4gYmUgdGhpcyB0YWcgICovXG4gIGNhbkJlOiBmdW5jdGlvbiAodGFnKSB7XG4gICAgdGFnID0gdGFnLnJlcGxhY2UoL14jLywgJycpXG4gICAgbGV0IHRhZ1NldCA9IHRoaXMubW9kZWwub25lLnRhZ1NldFxuICAgIGxldCBjYW5CZSA9IHRoaXMubWV0aG9kcy5vbmUuY2FuQmVcbiAgICBsZXQgbm9wZSA9IFtdXG4gICAgdGhpcy5kb2N1bWVudC5mb3JFYWNoKCh0ZXJtcywgbikgPT4ge1xuICAgICAgdGVybXMuZm9yRWFjaCgodGVybSwgaSkgPT4ge1xuICAgICAgICBpZiAoIWNhbkJlKHRlcm0sIHRhZywgdGFnU2V0KSkge1xuICAgICAgICAgIG5vcGUucHVzaChbbiwgaSwgaSArIDFdKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gICAgbGV0IG5vRG9jID0gdGhpcy51cGRhdGUobm9wZSlcbiAgICByZXR1cm4gdGhpcy5kaWZmZXJlbmNlKG5vRG9jKVxuICB9LFxufVxuZXhwb3J0IGRlZmF1bHQgZm5zXG4iLCAiaW1wb3J0IHRhZyBmcm9tICcuL3RhZy5qcydcblxuY29uc3QgdGFnQVBJID0gZnVuY3Rpb24gKFZpZXcpIHtcbiAgT2JqZWN0LmFzc2lnbihWaWV3LnByb3RvdHlwZSwgdGFnKVxufVxuZXhwb3J0IGRlZmF1bHQgdGFnQVBJXG4iLCAiLy8gd2lyZS11cCBtb3JlIHBvcy10YWdzIHRvIG91ciBtb2RlbFxuY29uc3QgYWRkVGFncyA9IGZ1bmN0aW9uICh0YWdzKSB7XG4gIGNvbnN0IHsgbW9kZWwsIG1ldGhvZHMgfSA9IHRoaXMud29ybGQoKVxuICBjb25zdCB0YWdTZXQgPSBtb2RlbC5vbmUudGFnU2V0XG4gIGNvbnN0IGZuID0gbWV0aG9kcy5vbmUuYWRkVGFnc1xuICBsZXQgcmVzID0gZm4odGFncywgdGFnU2V0KVxuICBtb2RlbC5vbmUudGFnU2V0ID0gcmVzXG4gIHJldHVybiB0aGlzXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgYWRkVGFncyB9IiwgImNvbnN0IGJvcmluZ1RhZ3MgPSBuZXcgU2V0KFsnQXV4aWxpYXJ5JywgJ1Bvc3Nlc3NpdmUnXSlcblxuY29uc3Qgc29ydEJ5S2lkcyA9IGZ1bmN0aW9uICh0YWdzLCB0YWdTZXQpIHtcbiAgdGFncyA9IHRhZ3Muc29ydCgoYSwgYikgPT4ge1xuICAgIC8vICh1bmtub3duIHRhZ3MgYXJlIGludGVyZXN0aW5nKVxuICAgIGlmIChib3JpbmdUYWdzLmhhcyhhKSB8fCAhdGFnU2V0Lmhhc093blByb3BlcnR5KGIpKSB7XG4gICAgICByZXR1cm4gMVxuICAgIH1cbiAgICBpZiAoYm9yaW5nVGFncy5oYXMoYikgfHwgIXRhZ1NldC5oYXNPd25Qcm9wZXJ0eShhKSkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIGxldCBraWRzID0gdGFnU2V0W2FdLmNoaWxkcmVuIHx8IFtdXG4gICAgbGV0IGFLaWRzID0ga2lkcy5sZW5ndGhcbiAgICBraWRzID0gdGFnU2V0W2JdLmNoaWxkcmVuIHx8IFtdXG4gICAgbGV0IGJLaWRzID0ga2lkcy5sZW5ndGhcbiAgICByZXR1cm4gYUtpZHMgLSBiS2lkc1xuICB9KVxuICByZXR1cm4gdGFnc1xufVxuXG5jb25zdCB0YWdSYW5rID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgY29uc3QgeyBkb2N1bWVudCwgd29ybGQgfSA9IHZpZXdcbiAgY29uc3QgdGFnU2V0ID0gd29ybGQubW9kZWwub25lLnRhZ1NldFxuICBkb2N1bWVudC5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICB0ZXJtcy5mb3JFYWNoKHRlcm0gPT4ge1xuICAgICAgbGV0IHRhZ3MgPSBBcnJheS5mcm9tKHRlcm0udGFncylcbiAgICAgIHRlcm0udGFnUmFuayA9IHNvcnRCeUtpZHModGFncywgdGFnU2V0KVxuICAgIH0pXG4gIH0pXG59XG5leHBvcnQgZGVmYXVsdCB0YWdSYW5rXG4iLCAiaW1wb3J0IG1ldGhvZHMgZnJvbSAnLi9tZXRob2RzL2luZGV4LmpzJ1xuaW1wb3J0IGFwaSBmcm9tICcuL2FwaS9pbmRleC5qcydcbmltcG9ydCBsaWIgZnJvbSAnLi9saWIuanMnXG5pbXBvcnQgdGFnUmFuayBmcm9tICcuL2NvbXB1dGUvdGFnUmFuay5qcydcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG1vZGVsOiB7XG4gICAgb25lOiB7IHRhZ1NldDoge30gfVxuICB9LFxuICBjb21wdXRlOiB7XG4gICAgdGFnUmFua1xuICB9LFxuICBtZXRob2RzLFxuICBhcGksXG4gIGxpYlxufVxuIiwgIi8vIHNwbGl0IGJ5IHBlcmlvZHMsIHF1ZXN0aW9uIG1hcmtzLCB1bmljb2RlIFx1MjA0NywgZXRjXG5jb25zdCBpbml0U3BsaXQgPSAvKFsuIT9cXHUyMDNEXFx1MkUxOFxcdTIwM0NcXHUyMDQ3LVxcdTIwNDlcXHUzMDAyXStcXHMpL2dcbi8vIG1lcmdlIHRoZXNlIGJhY2sgaW50byBwcmV2IHNlbnRlbmNlXG5jb25zdCBzcGxpdHNPbmx5ID0gL15bLiE/XFx1MjAzRFxcdTJFMThcXHUyMDNDXFx1MjA0Ny1cXHUyMDQ5XFx1MzAwMl0rXFxzJC9cbmNvbnN0IG5ld0xpbmUgPSAvKCg/Olxccj9cXG58XFxyKSspLyAvLyBNYXRjaCBkaWZmZXJlbnQgbmV3LWxpbmUgZm9ybWF0c1xuXG4vLyBTdGFydCB3aXRoIGEgcmVnZXg6XG5jb25zdCBiYXNpY1NwbGl0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgbGV0IGFsbCA9IFtdXG4gIC8vZmlyc3QsIHNwbGl0IGJ5IG5ld2xpbmVcbiAgbGV0IGxpbmVzID0gdGV4dC5zcGxpdChuZXdMaW5lKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy9zcGxpdCBieSBwZXJpb2QsIHF1ZXN0aW9uLW1hcmssIGFuZCBleGNsYW1hdGlvbi1tYXJrXG4gICAgbGV0IGFyciA9IGxpbmVzW2ldLnNwbGl0KGluaXRTcGxpdClcbiAgICBmb3IgKGxldCBvID0gMDsgbyA8IGFyci5sZW5ndGg7IG8rKykge1xuICAgICAgLy8gbWVyZ2UgJ2ZvbycgKyAnLidcbiAgICAgIGlmIChhcnJbbyArIDFdICYmIHNwbGl0c09ubHkudGVzdChhcnJbbyArIDFdKSA9PT0gdHJ1ZSkge1xuICAgICAgICBhcnJbb10gKz0gYXJyW28gKyAxXVxuICAgICAgICBhcnJbbyArIDFdID0gJydcbiAgICAgIH1cbiAgICAgIGlmIChhcnJbb10gIT09ICcnKSB7XG4gICAgICAgIGFsbC5wdXNoKGFycltvXSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFsbFxufVxuZXhwb3J0IGRlZmF1bHQgYmFzaWNTcGxpdFxuIiwgImNvbnN0IGhhc0xldHRlciA9IC9bYS16MC05XFx1MDBDMC1cXHUwMEZGXFx1MDBhOVxcdTAwYWVcXHUyMDAwLVxcdTMzMDBcXHVkMDAwLVxcdWRmZmZdL2lcbmNvbnN0IGhhc1NvbWV0aGluZyA9IC9cXFMvXG5cbmNvbnN0IG5vdEVtcHR5ID0gZnVuY3Rpb24gKHNwbGl0cykge1xuICBsZXQgY2h1bmtzID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGxpdHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgcyA9IHNwbGl0c1tpXVxuICAgIGlmIChzID09PSB1bmRlZmluZWQgfHwgcyA9PT0gJycpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vdGhpcyBpcyBtZWFuaW5nZnVsIHdoaXRlc3BhY2VcbiAgICBpZiAoaGFzU29tZXRoaW5nLnRlc3QocykgPT09IGZhbHNlIHx8IGhhc0xldHRlci50ZXN0KHMpID09PSBmYWxzZSkge1xuICAgICAgLy9hZGQgaXQgdG8gdGhlIGxhc3Qgb25lXG4gICAgICBpZiAoY2h1bmtzW2NodW5rcy5sZW5ndGggLSAxXSkge1xuICAgICAgICBjaHVua3NbY2h1bmtzLmxlbmd0aCAtIDFdICs9IHNcbiAgICAgICAgY29udGludWVcbiAgICAgIH0gZWxzZSBpZiAoc3BsaXRzW2kgKyAxXSkge1xuICAgICAgICAvL2FkZCBpdCB0byB0aGUgbmV4dCBvbmVcbiAgICAgICAgc3BsaXRzW2kgKyAxXSA9IHMgKyBzcGxpdHNbaSArIDFdXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgfVxuICAgIC8vZWxzZSwgb25seSB3aGl0ZXNwYWNlLCBubyB0ZXJtcywgbm8gc2VudGVuY2VcbiAgICBjaHVua3MucHVzaChzKVxuICB9XG4gIHJldHVybiBjaHVua3Ncbn1cbmV4cG9ydCBkZWZhdWx0IG5vdEVtcHR5IiwgIlxuLy9sb29wIHRocm91Z2ggdGhlc2UgY2h1bmtzLCBhbmQgam9pbiB0aGUgbm9uLXNlbnRlbmNlIGNodW5rcyBiYWNrIHRvZ2V0aGVyLi5cbmNvbnN0IHNtYXJ0TWVyZ2UgPSBmdW5jdGlvbiAoY2h1bmtzLCB3b3JsZCkge1xuICBjb25zdCBpc1NlbnRlbmNlID0gd29ybGQubWV0aG9kcy5vbmUudG9rZW5pemUuaXNTZW50ZW5jZVxuICBjb25zdCBhYmJyZXZzID0gd29ybGQubW9kZWwub25lLmFiYnJldmlhdGlvbnMgfHwgbmV3IFNldCgpXG5cbiAgbGV0IHNlbnRlbmNlcyA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2h1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGMgPSBjaHVua3NbaV1cbiAgICAvL3Nob3VsZCB0aGlzIGNodW5rIGJlIGNvbWJpbmVkIHdpdGggdGhlIG5leHQgb25lP1xuICAgIGlmIChjaHVua3NbaSArIDFdICYmIGlzU2VudGVuY2UoYywgYWJicmV2cykgPT09IGZhbHNlKSB7XG4gICAgICBjaHVua3NbaSArIDFdID0gYyArIChjaHVua3NbaSArIDFdIHx8ICcnKVxuICAgIH0gZWxzZSBpZiAoYyAmJiBjLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vdGhpcyBjaHVuayBpcyBhIHByb3BlciBzZW50ZW5jZS4uXG4gICAgICBzZW50ZW5jZXMucHVzaChjKVxuICAgICAgY2h1bmtzW2ldID0gJydcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlbnRlbmNlc1xufVxuZXhwb3J0IGRlZmF1bHQgc21hcnRNZXJnZSIsICIvKiBlc2xpbnQtZGlzYWJsZSByZWdleHAvbm8tZHVwZS1jaGFyYWN0ZXJzLWNoYXJhY3Rlci1jbGFzcyAqL1xuXG4vLyBtZXJnZSBlbWJlZGRlZCBxdW90ZXMgaW50byAxIHNlbnRlbmNlXG4vLyBsaWtlIC0gJ2hlIHNhaWQgXCJubyFcIiBhbmQgbGVmdC4nXG5jb25zdCBNQVhfUVVPVEUgPSAyODAvLyBcdTAwQUZcXF8oXHUzMEM0KV8vXHUwMEFGXG5cbi8vIGRvbid0IHN1cHBvcnQgc2luZ2xlLXF1b3RlcyBmb3IgbXVsdGktc2VudGVuY2VzXG5jb25zdCBwYWlycyA9IHtcbiAgJ1xcdTAwMjInOiAnXFx1MDAyMicsIC8vICdTdHJhaWdodERvdWJsZVF1b3RlcydcbiAgJ1xcdUZGMDInOiAnXFx1RkYwMicsIC8vICdTdHJhaWdodERvdWJsZVF1b3Rlc1dpZGUnXG4gIC8vICdcXHUwMDI3JzogJ1xcdTAwMjcnLCAvLyAnU3RyYWlnaHRTaW5nbGVRdW90ZXMnXG4gICdcXHUyMDFDJzogJ1xcdTIwMUQnLCAvLyAnQ29tbWFEb3VibGVRdW90ZXMnXG4gIC8vICdcXHUyMDE4JzogJ1xcdTIwMTknLCAvLyAnQ29tbWFTaW5nbGVRdW90ZXMnXG4gICdcXHUyMDFGJzogJ1xcdTIwMUQnLCAvLyAnQ3VybHlEb3VibGVRdW90ZXNSZXZlcnNlZCdcbiAgLy8gJ1xcdTIwMUInOiAnXFx1MjAxOScsIC8vICdDdXJseVNpbmdsZVF1b3Rlc1JldmVyc2VkJ1xuICAnXFx1MjAxRSc6ICdcXHUyMDFEJywgLy8gJ0xvd0N1cmx5RG91YmxlUXVvdGVzJ1xuICAnXFx1MkU0Mic6ICdcXHUyMDFEJywgLy8gJ0xvd0N1cmx5RG91YmxlUXVvdGVzUmV2ZXJzZWQnXG4gICdcXHUyMDFBJzogJ1xcdTIwMTknLCAvLyAnTG93Q3VybHlTaW5nbGVRdW90ZXMnXG4gICdcXHUwMEFCJzogJ1xcdTAwQkInLCAvLyAnQW5nbGVEb3VibGVRdW90ZXMnXG4gICdcXHUyMDM5JzogJ1xcdTIwM0EnLCAvLyAnQW5nbGVTaW5nbGVRdW90ZXMnXG4gICdcXHUyMDM1JzogJ1xcdTIwMzInLCAvLyAnUHJpbWVTaW5nbGVRdW90ZXMnXG4gICdcXHUyMDM2JzogJ1xcdTIwMzMnLCAvLyAnUHJpbWVEb3VibGVRdW90ZXMnXG4gICdcXHUyMDM3JzogJ1xcdTIwMzQnLCAvLyAnUHJpbWVUcmlwbGVRdW90ZXMnXG4gICdcXHUzMDFEJzogJ1xcdTMwMUUnLCAvLyAnUHJpbWVEb3VibGVRdW90ZXMnXG4gIC8vICdcXHUwMDYwJzogJ1xcdTAwQjQnLCAvLyAnUHJpbWVTaW5nbGVRdW90ZXMnXG4gICdcXHUzMDFGJzogJ1xcdTMwMUUnLCAvLyAnTG93UHJpbWVEb3VibGVRdW90ZXNSZXZlcnNlZCdcbn1cbmNvbnN0IG9wZW5RdW90ZSA9IFJlZ0V4cCgnWycgKyBPYmplY3Qua2V5cyhwYWlycykuam9pbignJykgKyAnXScsICdnJylcbmNvbnN0IGNsb3NlUXVvdGUgPSBSZWdFeHAoJ1snICsgT2JqZWN0LnZhbHVlcyhwYWlycykuam9pbignJykgKyAnXScsICdnJylcblxuY29uc3QgY2xvc2VzUXVvdGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIGlmICghc3RyKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgbGV0IG0gPSBzdHIubWF0Y2goY2xvc2VRdW90ZSlcbiAgaWYgKG0gIT09IG51bGwgJiYgbS5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyBhbGxvdyBtaWNyby1zZW50ZW5jZXMgd2hlbiBpbnNpZGUgYSBxdW90YXRpb24sIGxpa2U6XG4vLyB0aGUgZG9jIHNhaWQgXCJubyBzaXIuIGkgd2lsbCBub3QgYmVnXCIgYW5kIHdhbGtlZCBhd2F5LlxuY29uc3QgcXVvdGVNZXJnZSA9IGZ1bmN0aW9uIChzcGxpdHMpIHtcbiAgbGV0IGFyciA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3BsaXRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGV0IHNwbGl0ID0gc3BsaXRzW2ldXG4gICAgLy8gZG8gd2UgaGF2ZSBhbiBvcGVuLXF1b3RlIGFuZCBub3QgYSBjbG9zZWQgb25lP1xuICAgIGxldCBtID0gc3BsaXQubWF0Y2gob3BlblF1b3RlKVxuICAgIGlmIChtICE9PSBudWxsICYmIG0ubGVuZ3RoID09PSAxKSB7XG5cbiAgICAgIC8vIGxvb2sgYXQgdGhlIG5leHQgc2VudGVuY2UgZm9yIGEgY2xvc2luZyBxdW90ZSxcbiAgICAgIGlmIChjbG9zZXNRdW90ZShzcGxpdHNbaSArIDFdKSAmJiBzcGxpdHNbaSArIDFdLmxlbmd0aCA8IE1BWF9RVU9URSkge1xuICAgICAgICBzcGxpdHNbaV0gKz0gc3BsaXRzW2kgKyAxXS8vIG1lcmdlIHRoZW1cbiAgICAgICAgYXJyLnB1c2goc3BsaXRzW2ldKVxuICAgICAgICBzcGxpdHNbaSArIDFdID0gJydcbiAgICAgICAgaSArPSAxXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICAvLyBsb29rIGF0IG4rMiBmb3IgYSBjbG9zaW5nIHF1b3RlLFxuICAgICAgaWYgKGNsb3Nlc1F1b3RlKHNwbGl0c1tpICsgMl0pKSB7XG4gICAgICAgIGxldCB0b0FkZCA9IHNwbGl0c1tpICsgMV0gKyBzcGxpdHNbaSArIDJdLy8gbWVyZ2UgdGhlbSBhbGxcbiAgICAgICAgLy9tYWtlIHN1cmUgaXQncyBub3QgdG9vLWxvbmdcbiAgICAgICAgaWYgKHRvQWRkLmxlbmd0aCA8IE1BWF9RVU9URSkge1xuICAgICAgICAgIHNwbGl0c1tpXSArPSB0b0FkZFxuICAgICAgICAgIGFyci5wdXNoKHNwbGl0c1tpXSlcbiAgICAgICAgICBzcGxpdHNbaSArIDFdID0gJydcbiAgICAgICAgICBzcGxpdHNbaSArIDJdID0gJydcbiAgICAgICAgICBpICs9IDJcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGFyci5wdXNoKHNwbGl0c1tpXSlcbiAgfVxuICByZXR1cm4gYXJyXG59XG5leHBvcnQgZGVmYXVsdCBxdW90ZU1lcmdlXG4iLCAiY29uc3QgTUFYX0xFTiA9IDI1MC8vIFx1MDBBRlxcXyhcdTMwQzQpXy9cdTAwQUZcblxuLy8gc3VwcG9ydCB1bmljb2RlIHZhcmlhbnRzP1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTM1MzUxNzIvbGlzdC1vZi1hbGwtdW5pY29kZXMtb3Blbi1jbG9zZS1icmFja2V0c1xuY29uc3QgaGFzT3BlbiA9IC9cXCgvZ1xuY29uc3QgaGFzQ2xvc2VkID0gL1xcKS9nXG5jb25zdCBtZXJnZVBhcmVucyA9IGZ1bmN0aW9uIChzcGxpdHMpIHtcbiAgbGV0IGFyciA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3BsaXRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGV0IHNwbGl0ID0gc3BsaXRzW2ldXG4gICAgbGV0IG0gPSBzcGxpdC5tYXRjaChoYXNPcGVuKVxuICAgIGlmIChtICE9PSBudWxsICYmIG0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBsb29rIGF0IG5leHQgc2VudGVuY2UsIGZvciBjbG9zaW5nIHBhcmVudGhlc2lzXG4gICAgICBpZiAoc3BsaXRzW2kgKyAxXSAmJiBzcGxpdHNbaSArIDFdLmxlbmd0aCA8IE1BWF9MRU4pIHtcbiAgICAgICAgbGV0IG0yID0gc3BsaXRzW2kgKyAxXS5tYXRjaChoYXNDbG9zZWQpXG4gICAgICAgIGlmIChtMiAhPT0gbnVsbCAmJiBtLmxlbmd0aCA9PT0gMSAmJiAhaGFzT3Blbi50ZXN0KHNwbGl0c1tpICsgMV0pKSB7XG4gICAgICAgICAgLy8gbWVyZ2UgaW4gMm5kIHNlbnRlbmNlXG4gICAgICAgICAgc3BsaXRzW2ldICs9IHNwbGl0c1tpICsgMV1cbiAgICAgICAgICBhcnIucHVzaChzcGxpdHNbaV0pXG4gICAgICAgICAgc3BsaXRzW2kgKyAxXSA9ICcnXG4gICAgICAgICAgaSArPSAxXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBhcnIucHVzaChzcGxpdHNbaV0pXG4gIH1cbiAgcmV0dXJuIGFyclxufVxuZXhwb3J0IGRlZmF1bHQgbWVyZ2VQYXJlbnMiLCAiaW1wb3J0IHNpbXBsZVNwbGl0IGZyb20gJy4vMDEtc2ltcGxlLXNwbGl0LmpzJ1xuaW1wb3J0IHNpbXBsZU1lcmdlIGZyb20gJy4vMDItc2ltcGxlLW1lcmdlLmpzJ1xuaW1wb3J0IHNtYXJ0TWVyZ2UgZnJvbSAnLi8wMy1zbWFydC1tZXJnZS5qcydcbmltcG9ydCBxdW90ZU1lcmdlIGZyb20gJy4vMDQtcXVvdGUtbWVyZ2UuanMnXG5pbXBvcnQgcGFyZW5zTWVyZ2UgZnJvbSAnLi8wNS1wYXJlbnMtbWVyZ2UuanMnXG4vLyhSdWxlLWJhc2VkIHNlbnRlbmNlIGJvdW5kYXJ5IHNlZ21lbnRhdGlvbikgLSBjaG9wIGdpdmVuIHRleHQgaW50byBpdHMgcHJvcGVyIHNlbnRlbmNlcy5cbi8vIElnbm9yZSBwZXJpb2RzL3F1ZXN0aW9ucy9leGNsYW1hdGlvbnMgdXNlZCBpbiBhY3Jvbnltcy9hYmJyZXZpYXRpb25zL251bWJlcnMsIGV0Yy5cbi8vcmVncy1cbmNvbnN0IGhhc1NvbWV0aGluZyA9IC9cXFMvXG5jb25zdCBzdGFydFdoaXRlc3BhY2UgPSAvXlxccysvXG5cbmNvbnN0IHNwbGl0U2VudGVuY2VzID0gZnVuY3Rpb24gKHRleHQsIHdvcmxkKSB7XG4gIHRleHQgPSB0ZXh0IHx8ICcnXG4gIHRleHQgPSBTdHJpbmcodGV4dClcbiAgLy8gRW5zdXJlIGl0ICdzbWVsbHMgbGlrZScgYSBzZW50ZW5jZVxuICBpZiAoIXRleHQgfHwgdHlwZW9mIHRleHQgIT09ICdzdHJpbmcnIHx8IGhhc1NvbWV0aGluZy50ZXN0KHRleHQpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBbXVxuICB9XG4gIC8vIGNsZWFudXAgdW5pY29kZS1zcGFjZXNcbiAgdGV4dCA9IHRleHQucmVwbGFjZSgnXFx4YTAnLCAnICcpXG4gIC8vIEZpcnN0IGRvIGEgZ3JlZWR5LXNwbGl0Li5cbiAgbGV0IHNwbGl0cyA9IHNpbXBsZVNwbGl0KHRleHQpXG4gIC8vIEZpbHRlci1vdXQgdGhlIGNyYXAgb25lc1xuICBsZXQgc2VudGVuY2VzID0gc2ltcGxlTWVyZ2Uoc3BsaXRzKVxuICAvL2RldGVjdGlvbiBvZiBub24tc2VudGVuY2UgY2h1bmtzOlxuICBzZW50ZW5jZXMgPSBzbWFydE1lcmdlKHNlbnRlbmNlcywgd29ybGQpXG4gIC8vIGFsbG93ICdoZSBzYWlkIFwibm8gc2lyLlwiIGFuZCBsZWZ0LidcbiAgc2VudGVuY2VzID0gcXVvdGVNZXJnZShzZW50ZW5jZXMpXG4gIC8vIGFsbG93ICdpIHRob3VnaHQgKG5vIHdheSEpIGFuZCBsZWZ0LidcbiAgc2VudGVuY2VzID0gcGFyZW5zTWVyZ2Uoc2VudGVuY2VzKVxuICAvL2lmIHdlIG5ldmVyIGdvdCBhIHNlbnRlbmNlLCByZXR1cm4gdGhlIGdpdmVuIHRleHRcbiAgaWYgKHNlbnRlbmNlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW3RleHRdXG4gIH1cbiAgLy9tb3ZlIHdoaXRlc3BhY2UgdG8gdGhlIGVuZHMgb2Ygc2VudGVuY2VzLCB3aGVuIHBvc3NpYmxlXG4gIC8vWydoZWxsbycsJyB3b3JsZCddIC0+IFsnaGVsbG8gJywnd29ybGQnXVxuICBmb3IgKGxldCBpID0gMTsgaSA8IHNlbnRlbmNlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGxldCB3cyA9IHNlbnRlbmNlc1tpXS5tYXRjaChzdGFydFdoaXRlc3BhY2UpXG4gICAgaWYgKHdzICE9PSBudWxsKSB7XG4gICAgICBzZW50ZW5jZXNbaSAtIDFdICs9IHdzWzBdXG4gICAgICBzZW50ZW5jZXNbaV0gPSBzZW50ZW5jZXNbaV0ucmVwbGFjZShzdGFydFdoaXRlc3BhY2UsICcnKVxuICAgIH1cbiAgfVxuICByZXR1cm4gc2VudGVuY2VzXG59XG5leHBvcnQgZGVmYXVsdCBzcGxpdFNlbnRlbmNlc1xuIiwgImNvbnN0IGhhc0h5cGhlbiA9IGZ1bmN0aW9uIChzdHIsIG1vZGVsKSB7XG4gIGxldCBwYXJ0cyA9IHN0ci5zcGxpdCgvWy1cdTIwMTNcdTIwMTRdLylcbiAgaWYgKHBhcnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgY29uc3QgeyBwcmVmaXhlcywgc3VmZml4ZXMgfSA9IG1vZGVsLm9uZVxuXG4gIC8vIGwtdGhlYW5pbmUsIHgtcmF5XG4gIGlmIChwYXJ0c1swXS5sZW5ndGggPT09IDEgJiYgL1thLXpdL2kudGVzdChwYXJ0c1swXSkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvL2RvbnQgc3BsaXQgJ3JlLWRvJ1xuICBpZiAocHJlZml4ZXMuaGFzT3duUHJvcGVydHkocGFydHNbMF0pKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgLy9kb250IHNwbGl0ICdmbG93ZXItbGlrZSdcbiAgcGFydHNbMV0gPSBwYXJ0c1sxXS50cmltKCkucmVwbGFjZSgvWy4/IV0kLywgJycpXG4gIGlmIChzdWZmaXhlcy5oYXNPd25Qcm9wZXJ0eShwYXJ0c1sxXSkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvL2xldHRlci1udW1iZXIgJ2F1Zy0yMCdcbiAgbGV0IHJlZyA9IC9eKFthLXpcXHUwMEMwLVxcdTAwRkZgXCInL10rKVstXHUyMDEzXHUyMDE0XShbYS16MC05XFx1MDBDMC1cXHUwMEZGXS4qKS9pXG4gIGlmIChyZWcudGVzdChzdHIpID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICAvL251bWJlci1sZXR0ZXIgJzIwLWF1ZydcbiAgbGV0IHJlZzIgPSAvXlsoJ1wiXT8oWzAtOV17MSw0fSlbLVx1MjAxM1x1MjAxNF0oW2EtelxcdTAwQzAtXFx1MDBGRmBcIicvLV0rWyknXCJdPyQpL2lcbiAgaWYgKHJlZzIudGVzdChzdHIpID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuY29uc3Qgc3BsaXRIeXBoZW5zID0gZnVuY3Rpb24gKHdvcmQpIHtcbiAgbGV0IGFyciA9IFtdXG4gIC8vc3VwcG9ydCBtdWx0aXBsZS1oeXBoZW5hdGVkLXRlcm1zXG4gIGNvbnN0IGh5cGhlbnMgPSB3b3JkLnNwbGl0KC9bLVx1MjAxM1x1MjAxNF0vKVxuICBsZXQgd2hpY2hEYXNoID0gJy0nXG4gIGxldCBmb3VuZCA9IHdvcmQubWF0Y2goL1stXHUyMDEzXHUyMDE0XS8pXG4gIGlmIChmb3VuZCAmJiBmb3VuZFswXSkge1xuICAgIHdoaWNoRGFzaCA9IGZvdW5kXG4gIH1cbiAgZm9yIChsZXQgbyA9IDA7IG8gPCBoeXBoZW5zLmxlbmd0aDsgbysrKSB7XG4gICAgaWYgKG8gPT09IGh5cGhlbnMubGVuZ3RoIC0gMSkge1xuICAgICAgYXJyLnB1c2goaHlwaGVuc1tvXSlcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyLnB1c2goaHlwaGVuc1tvXSArIHdoaWNoRGFzaClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFyclxufVxuXG5leHBvcnQgeyBzcGxpdEh5cGhlbnMsIGhhc0h5cGhlbiB9XG4iLCAiLy8gY29tYmluZSAnMiAtIDUnIGxpa2UgJzItNScgaXNcbi8vIDItNDogMiwgNFxuY29uc3QgY29tYmluZVJhbmdlcyA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgY29uc3Qgc3RhcnRSYW5nZSA9IC9eWzAtOV17MSw0fSg6WzAtOV1bMC05XSk/KFthLXpdezEsMn0pPyA/Wy1cdTIwMTNcdTIwMTRdID8kL1xuICBjb25zdCBlbmRSYW5nZSA9IC9eWzAtOV17MSw0fShbYS16XXsxLDJ9KT8gPyQvXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aCAtIDE7IGkgKz0gMSkge1xuICAgIGlmIChhcnJbaSArIDFdICYmIHN0YXJ0UmFuZ2UudGVzdChhcnJbaV0pICYmIGVuZFJhbmdlLnRlc3QoYXJyW2kgKyAxXSkpIHtcbiAgICAgIGFycltpXSA9IGFycltpXSArIGFycltpICsgMV1cbiAgICAgIGFycltpICsgMV0gPSBudWxsXG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJcbn1cbmV4cG9ydCBkZWZhdWx0IGNvbWJpbmVSYW5nZXNcbiIsICJjb25zdCBpc1NsYXNoID0gL1xccHtMfSA/XFwvID9cXHB7TH0rJC91XG5cbi8vICdoZSAvIHNoZScgc2hvdWxkIGJlIG9uZSB3b3JkXG5jb25zdCBjb21iaW5lU2xhc2hlcyA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcnIubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgaWYgKGlzU2xhc2gudGVzdChhcnJbaV0pKSB7XG4gICAgICBhcnJbaSAtIDFdICs9IGFycltpXSArIGFycltpICsgMV1cbiAgICAgIGFycltpXSA9IG51bGxcbiAgICAgIGFycltpICsgMV0gPSBudWxsXG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJcbn1cbmV4cG9ydCBkZWZhdWx0IGNvbWJpbmVTbGFzaGVzXG4iLCAiaW1wb3J0IHsgaGFzSHlwaGVuLCBzcGxpdEh5cGhlbnMgfSBmcm9tICcuLzAxLWh5cGhlbnMuanMnXG5pbXBvcnQgY29tYmluZVJhbmdlcyBmcm9tICcuLzAzLXJhbmdlcy5qcydcbmltcG9ydCBjb21iaW5lU2xhc2hlcyBmcm9tICcuLzAyLXNsYXNoZXMuanMnXG5cbmNvbnN0IHdvcmRsaWtlID0gL1xcUy9cbmNvbnN0IGlzQm91bmRhcnkgPSAvXlshPy5dKyQvXG5jb25zdCBuYWlpdmVTcGxpdCA9IC8oXFxTKykvXG5cbmxldCBub3RXb3JkID0gW1xuICAnLicsXG4gICc/JyxcbiAgJyEnLFxuICAnOicsXG4gICc7JyxcbiAgJy0nLFxuICAnXHUyMDEzJyxcbiAgJ1x1MjAxNCcsXG4gICctLScsXG4gICcuLi4nLFxuICAnKCcsXG4gICcpJyxcbiAgJ1snLFxuICAnXScsXG4gICdcIicsXG4gIFwiJ1wiLFxuICAnYCcsXG4gICdcdTAwQUInLFxuICAnXHUwMEJCJyxcbiAgJyonLFxuICAnXHUyMDIyJyxcbl1cbm5vdFdvcmQgPSBub3RXb3JkLnJlZHVjZSgoaCwgYykgPT4ge1xuICBoW2NdID0gdHJ1ZVxuICByZXR1cm4gaFxufSwge30pXG5cbmNvbnN0IGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG4vL3R1cm4gYSBzdHJpbmcgaW50byBhbiBhcnJheSBvZiBzdHJpbmdzIChuYWlpdmUgZm9yIG5vdywgbHVtcGVkIGxhdGVyKVxuY29uc3Qgc3BsaXRXb3JkcyA9IGZ1bmN0aW9uIChzdHIsIG1vZGVsKSB7XG4gIGxldCByZXN1bHQgPSBbXVxuICBsZXQgYXJyID0gW11cbiAgLy9zdGFydCB3aXRoIGEgbmFpaXZlIHNwbGl0XG4gIHN0ciA9IHN0ciB8fCAnJ1xuICBpZiAodHlwZW9mIHN0ciA9PT0gJ251bWJlcicpIHtcbiAgICBzdHIgPSBTdHJpbmcoc3RyKVxuICB9XG4gIGlmIChpc0FycmF5KHN0cikpIHtcbiAgICByZXR1cm4gc3RyXG4gIH1cbiAgY29uc3Qgd29yZHMgPSBzdHIuc3BsaXQobmFpaXZlU3BsaXQpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAvL3NwbGl0ICdvbmUtdHdvJ1xuICAgIGlmIChoYXNIeXBoZW4od29yZHNbaV0sIG1vZGVsKSA9PT0gdHJ1ZSkge1xuICAgICAgYXJyID0gYXJyLmNvbmNhdChzcGxpdEh5cGhlbnMod29yZHNbaV0pKVxuICAgICAgY29udGludWVcbiAgICB9XG4gICAgYXJyLnB1c2god29yZHNbaV0pXG4gIH1cbiAgLy9ncmVlZHkgbWVyZ2Ugd2hpdGVzcGFjZSthcnIgdG8gdGhlIHJpZ2h0XG4gIGxldCBjYXJyeSA9ICcnXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHdvcmQgPSBhcnJbaV1cbiAgICAvL2lmIGl0J3MgbW9yZSB0aGFuIGEgd2hpdGVzcGFjZVxuICAgIGlmICh3b3JkbGlrZS50ZXN0KHdvcmQpID09PSB0cnVlICYmIG5vdFdvcmQuaGFzT3duUHJvcGVydHkod29yZCkgPT09IGZhbHNlICYmIGlzQm91bmRhcnkudGVzdCh3b3JkKSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vcHV0IHdoaXRlc3BhY2Ugb24gZW5kIG9mIHByZXZpb3VzIHRlcm0sIGlmIHBvc3NpYmxlXG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSArPSBjYXJyeVxuICAgICAgICByZXN1bHQucHVzaCh3b3JkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9vdGhlcndpc2UsIGJ1dCB3aGl0ZXNwYWNlIGJlZm9yZVxuICAgICAgICByZXN1bHQucHVzaChjYXJyeSArIHdvcmQpXG4gICAgICB9XG4gICAgICBjYXJyeSA9ICcnXG4gICAgfSBlbHNlIHtcbiAgICAgIGNhcnJ5ICs9IHdvcmRcbiAgICB9XG4gIH1cbiAgLy9oYW5kbGUgbGFzdCBvbmVcbiAgaWYgKGNhcnJ5KSB7XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlc3VsdFswXSA9ICcnXG4gICAgfVxuICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gKz0gY2FycnkgLy9wdXQgaXQgb24gdGhlIGVuZFxuICB9XG4gIC8vIGNvbWJpbmUgJ29uZSAvIHR3bydcbiAgcmVzdWx0ID0gY29tYmluZVNsYXNoZXMocmVzdWx0KVxuICByZXN1bHQgPSBjb21iaW5lUmFuZ2VzKHJlc3VsdClcbiAgLy8gcmVtb3ZlIGVtcHR5IHJlc3VsdHNcbiAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihzID0+IHMpXG4gIHJldHVybiByZXN1bHRcbn1cbmV4cG9ydCBkZWZhdWx0IHNwbGl0V29yZHNcbiIsICIvL2FsbCBwdW5jdHVhdGlvbiBtYXJrcywgZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QdW5jdHVhdGlvblxuXG4vL3dlIGhhdmUgc2xpZ2h0bHkgZGlmZmVyZW50IHJ1bGVzIGZvciBzdGFydC9lbmQgLSBsaWtlICNoYXNodGFncy5cbmNvbnN0IGlzTGV0dGVyID0gL1xccHtMZXR0ZXJ9L3VcbmNvbnN0IGlzTnVtYmVyID0gL1tcXHB7TnVtYmVyfVxccHtDdXJyZW5jeV9TeW1ib2x9XS91XG5jb25zdCBoYXNBY3JvbnltID0gL15bYS16XVxcLihbYS16XVxcLikrL2lcbmNvbnN0IGNoaWxsaW4gPSAvW3NuXVsnXHUyMDE5XSQvXG5cbmNvbnN0IG5vcm1hbGl6ZVB1bmN0dWF0aW9uID0gZnVuY3Rpb24gKHN0ciwgbW9kZWwpIHtcbiAgLy8gcXVpY2sgbG9va3VwIGZvciBhbGxvd2VkIHByZS9wb3N0IHB1bmN0dWF0aW9uXG4gIGxldCB7IHByZVB1bmN0dWF0aW9uLCBwb3N0UHVuY3R1YXRpb24sIGVtb3RpY29ucyB9ID0gbW9kZWwub25lXG4gIGxldCBvcmlnaW5hbCA9IHN0clxuICBsZXQgcHJlID0gJydcbiAgbGV0IHBvc3QgPSAnJ1xuICBsZXQgY2hhcnMgPSBBcnJheS5mcm9tKHN0cilcblxuICAvLyBwdW5jdHVhdGlvbi1vbmx5IHdvcmRzLCBsaWtlICc8MydcbiAgaWYgKGVtb3RpY29ucy5oYXNPd25Qcm9wZXJ0eShzdHIudHJpbSgpKSkge1xuICAgIHJldHVybiB7IHN0cjogc3RyLnRyaW0oKSwgcHJlLCBwb3N0OiAnICcgfSAvL25vdCBncmVhdFxuICB9XG5cbiAgLy8gcG9wIGFueSBwdW5jdHVhdGlvbiBvZmYgb2YgdGhlIHN0YXJ0XG4gIGxldCBsZW4gPSBjaGFycy5sZW5ndGhcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIGxldCBjID0gY2hhcnNbMF1cbiAgICAvLyBrZWVwIGFueSBkZWNsYXJlZCBjaGFyc1xuICAgIGlmIChwcmVQdW5jdHVhdGlvbltjXSA9PT0gdHJ1ZSkge1xuICAgICAgY29udGludWUvL2tlZXAgaXRcbiAgICB9XG4gICAgLy8ga2VlcCAnKycgb3IgJy0nIG9ubHkgYmVmb3JlIGEgbnVtYmVyXG4gICAgaWYgKChjID09PSAnKycgfHwgYyA9PT0gJy0nKSAmJiBpc051bWJlci50ZXN0KGNoYXJzWzFdKSkge1xuICAgICAgYnJlYWsvL2RvbmVcbiAgICB9XG4gICAgLy8gJzk3IC0geWVhciBzaG9ydC1mb3JtXG4gICAgaWYgKGMgPT09IFwiJ1wiICYmIGMubGVuZ3RoID09PSAzICYmIGlzTnVtYmVyLnRlc3QoY2hhcnNbMV0pKSB7XG4gICAgICBicmVhay8vZG9uZVxuICAgIH1cbiAgICAvLyBzdGFydCBvZiB3b3JkXG4gICAgaWYgKGlzTGV0dGVyLnRlc3QoYykgfHwgaXNOdW1iZXIudGVzdChjKSkge1xuICAgICAgYnJlYWsgLy9kb25lXG4gICAgfVxuICAgIC8vIHB1bmN0dWF0aW9uXG4gICAgcHJlICs9IGNoYXJzLnNoaWZ0KCkvL2tlZXAgZ29pbmdcbiAgfVxuXG4gIC8vIHBvcCBhbnkgcHVuY3R1YXRpb24gb2ZmIG9mIHRoZSBlbmRcbiAgbGVuID0gY2hhcnMubGVuZ3RoXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICBsZXQgYyA9IGNoYXJzW2NoYXJzLmxlbmd0aCAtIDFdXG4gICAgLy8ga2VlcCBhbnkgZGVjbGFyZWQgY2hhcnNcbiAgICBpZiAocG9zdFB1bmN0dWF0aW9uW2NdID09PSB0cnVlKSB7XG4gICAgICBjb250aW51ZS8va2VlcCBpdFxuICAgIH1cbiAgICAvLyBzdGFydCBvZiB3b3JkXG4gICAgaWYgKGlzTGV0dGVyLnRlc3QoYykgfHwgaXNOdW1iZXIudGVzdChjKSkge1xuICAgICAgYnJlYWsgLy9kb25lXG4gICAgfVxuICAgIC8vIEYuQi5JLlxuICAgIGlmIChjID09PSAnLicgJiYgaGFzQWNyb255bS50ZXN0KG9yaWdpbmFsKSA9PT0gdHJ1ZSkge1xuICAgICAgY29udGludWUvL2tlZXAgaXRcbiAgICB9XG4gICAgLy8gIGtlZXAgcy1hcG9zdHJvcGhlIC0gXCJmbGFuZGVycydcIiBvciBcImNoaWxsaW4nXCJcbiAgICBpZiAoYyA9PT0gXCInXCIgJiYgY2hpbGxpbi50ZXN0KG9yaWdpbmFsKSA9PT0gdHJ1ZSkge1xuICAgICAgY29udGludWUvL2tlZXAgaXRcbiAgICB9XG4gICAgLy8gcHVuY3R1YXRpb25cbiAgICBwb3N0ID0gY2hhcnMucG9wKCkgKyBwb3N0Ly9rZWVwIGdvaW5nXG4gIH1cbiAgc3RyID0gY2hhcnMuam9pbignJylcbiAgLy93ZSB3ZW50IHRvbyBmYXIuLlxuICBpZiAoc3RyID09PSAnJykge1xuICAgIC8vIGRvIGEgdmVyeSBtaWxkIHBhcnNlLCBhbmQgaG9wZSBmb3IgdGhlIGJlc3QuXG4gICAgb3JpZ2luYWwgPSBvcmlnaW5hbC5yZXBsYWNlKC8gKiQvLCBhZnRlciA9PiB7XG4gICAgICBwb3N0ID0gYWZ0ZXIgfHwgJydcbiAgICAgIHJldHVybiAnJ1xuICAgIH0pXG4gICAgc3RyID0gb3JpZ2luYWxcbiAgICBwcmUgPSAnJ1xuICB9XG4gIHJldHVybiB7IHN0ciwgcHJlLCBwb3N0IH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5vcm1hbGl6ZVB1bmN0dWF0aW9uXG4iLCAiaW1wb3J0IHRva2VuaXplIGZyb20gJy4vdG9rZW5pemUuanMnXG5cbmNvbnN0IHBhcnNlVGVybSA9ICh0eHQsIG1vZGVsKSA9PiB7XG4gIC8vIGNsZWFudXAgYW55IHB1bmN0dWF0aW9uIGFzIHdoaXRlc3BhY2VcbiAgbGV0IHsgc3RyLCBwcmUsIHBvc3QgfSA9IHRva2VuaXplKHR4dCwgbW9kZWwpXG4gIGNvbnN0IHBhcnNlZCA9IHtcbiAgICB0ZXh0OiBzdHIsXG4gICAgcHJlOiBwcmUsXG4gICAgcG9zdDogcG9zdCxcbiAgICB0YWdzOiBuZXcgU2V0KCksXG4gIH1cbiAgcmV0dXJuIHBhcnNlZFxufVxuZXhwb3J0IGRlZmF1bHQgcGFyc2VUZXJtXG4iLCAiLy8gJ0JqXHUwMEY2cmsnIHRvICdCam9yaycuXG5jb25zdCBraWxsVW5pY29kZSA9IGZ1bmN0aW9uIChzdHIsIHdvcmxkKSB7XG4gIGNvbnN0IHVuaWNvZGUgPSB3b3JsZC5tb2RlbC5vbmUudW5pY29kZSB8fCB7fVxuICBzdHIgPSBzdHIgfHwgJydcbiAgbGV0IGNoYXJzID0gc3RyLnNwbGl0KCcnKVxuICBjaGFycy5mb3JFYWNoKChzLCBpKSA9PiB7XG4gICAgaWYgKHVuaWNvZGVbc10pIHtcbiAgICAgIGNoYXJzW2ldID0gdW5pY29kZVtzXVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG59XG5leHBvcnQgZGVmYXVsdCBraWxsVW5pY29kZVxuIiwgIi8qKiBzb21lIGJhc2ljIG9wZXJhdGlvbnMgb24gYSBzdHJpbmcgdG8gcmVkdWNlIG5vaXNlICovXG5jb25zdCBjbGVhbiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgc3RyID0gc3RyIHx8ICcnXG4gIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpXG4gIHN0ciA9IHN0ci50cmltKClcbiAgbGV0IG9yaWdpbmFsID0gc3RyXG4gIC8vcHVuY3R1YXRpb25cbiAgc3RyID0gc3RyLnJlcGxhY2UoL1ssOy4hP10rJC8sICcnKVxuICAvL2NvZXJjZSBVbmljb2RlIGVsbGlwc2VzXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC9cXHUyMDI2L2csICcuLi4nKVxuICAvL2VuLWRhc2hcbiAgc3RyID0gc3RyLnJlcGxhY2UoL1xcdTIwMTMvZywgJy0nKVxuICAvL3N0cmlwIGxlYWRpbmcgJiB0cmFpbGluZyBncmFtbWF0aWNhbCBwdW5jdHVhdGlvblxuICBpZiAoL15bOjtdLy50ZXN0KHN0cikgPT09IGZhbHNlKSB7XG4gICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcLnszLH0kL2csICcnKVxuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9bXCIsLiE6Oz8pXSskL2csICcnKVxuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9eWydcIihdKy9nLCAnJylcbiAgfVxuICAvLyByZW1vdmUgemVyby13aWR0aCBjaGFyYWN0ZXJzXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC9bXFx1MjAwQi1cXHUyMDBEXFx1RkVGRl0vZywgJycpXG4gIC8vZG8gdGhpcyBhZ2Fpbi4uXG4gIHN0ciA9IHN0ci50cmltKClcbiAgLy9vaCBzaHVja3MsXG4gIGlmIChzdHIgPT09ICcnKSB7XG4gICAgc3RyID0gb3JpZ2luYWxcbiAgfVxuICAvL25vLWNvbW1hcyBpbiBudW1iZXJzXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC8oWzAtOV0pLChbMC05XSkvZywgJyQxJDInKVxuICByZXR1cm4gc3RyXG59XG5leHBvcnQgZGVmYXVsdCBjbGVhblxuIiwgIi8vIGRvIGFjcm9ueW1zIG5lZWQgdG8gYmUgQVNDSUk/ICAuLi4ga2luZCBvZj9cbmNvbnN0IHBlcmlvZEFjcm9ueW0gPSAvKFtBLVpdXFwuKStbQS1aXT8sPyQvXG5jb25zdCBvbmVMZXR0ZXJBY3JvbnltID0gL15bQS1aXVxcLiw/JC9cbmNvbnN0IG5vUGVyaW9kQWNyb255bSA9IC9bQS1aXXsyLH0oJ3N8LCk/JC9cbmNvbnN0IGxvd2VyQ2FzZUFjcm9ueW0gPSAvKFthLXpdXFwuKStbYS16XVxcLj8kL1xuXG5jb25zdCBpc0Fjcm9ueW0gPSBmdW5jdGlvbiAoc3RyKSB7XG4gIC8vbGlrZSBOLkQuQVxuICBpZiAocGVyaW9kQWNyb255bS50ZXN0KHN0cikgPT09IHRydWUpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vbGlrZSBjLmUub1xuICBpZiAobG93ZXJDYXNlQWNyb255bS50ZXN0KHN0cikgPT09IHRydWUpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vbGlrZSAnRi4nXG4gIGlmIChvbmVMZXR0ZXJBY3JvbnltLnRlc3Qoc3RyKSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgLy9saWtlIE5EQVxuICBpZiAobm9QZXJpb2RBY3JvbnltLnRlc3Qoc3RyKSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmNvbnN0IGRvQWNyb255bSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgaWYgKGlzQWNyb255bShzdHIpKSB7XG4gICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcLi9nLCAnJylcbiAgfVxuICByZXR1cm4gc3RyXG59XG5leHBvcnQgZGVmYXVsdCBkb0Fjcm9ueW1cbiIsICJpbXBvcnQgY2xlYW51cCBmcm9tICcuLzAxLWNsZWFudXAuanMnXG4vLyBpbXBvcnQgZG9Vbmljb2RlIGZyb20gJy4vMDItdW5pY29kZS5qcydcbmltcG9ydCBkb0Fjcm9ueW1zIGZyb20gJy4vMDItYWNyb255bXMuanMnXG5cbmNvbnN0IG5vcm1hbGl6ZSA9IGZ1bmN0aW9uICh0ZXJtLCB3b3JsZCkge1xuICBjb25zdCBraWxsVW5pY29kZSA9IHdvcmxkLm1ldGhvZHMub25lLmtpbGxVbmljb2RlXG4gIC8vIGNvbnNvbGUubG9nKHdvcmxkLm1ldGhvZHMub25lKVxuICBsZXQgc3RyID0gdGVybS50ZXh0IHx8ICcnXG4gIHN0ciA9IGNsZWFudXAoc3RyKVxuICAvLyh2ZXJ5KSByb3VnaCBBU0NJSSB0cmFuc2xpdGVyYXRpb24gLSAgYmpcdTAxNEZyayAtPiBiam9ya1xuICBzdHIgPSBraWxsVW5pY29kZShzdHIsIHdvcmxkKVxuICBzdHIgPSBkb0Fjcm9ueW1zKHN0cilcbiAgdGVybS5ub3JtYWwgPSBzdHJcbn1cbmV4cG9ydCBkZWZhdWx0IG5vcm1hbGl6ZVxuIiwgImltcG9ydCBub3JtYWxpemUgZnJvbSAnLi4vY29tcHV0ZS9ub3JtYWwvaW5kZXguanMnXG5cbi8vIHR1cm4gYSBzdHJpbmcgaW5wdXQgaW50byBhICdkb2N1bWVudCcganNvbiBmb3JtYXRcbmNvbnN0IHBhcnNlID0gZnVuY3Rpb24gKGlucHV0LCB3b3JsZCkge1xuICBjb25zdCB7IG1ldGhvZHMsIG1vZGVsIH0gPSB3b3JsZFxuICBjb25zdCB7IHNwbGl0U2VudGVuY2VzLCBzcGxpdFRlcm1zLCBzcGxpdFdoaXRlc3BhY2UgfSA9IG1ldGhvZHMub25lLnRva2VuaXplXG4gIGlucHV0ID0gaW5wdXQgfHwgJydcbiAgLy8gc3BsaXQgaW50byBzZW50ZW5jZXNcbiAgbGV0IHNlbnRlbmNlcyA9IHNwbGl0U2VudGVuY2VzKGlucHV0LCB3b3JsZClcbiAgLy8gc3BsaXQgaW50byB3b3JkIG9iamVjdHNcbiAgaW5wdXQgPSBzZW50ZW5jZXMubWFwKCh0eHQpID0+IHtcbiAgICBsZXQgdGVybXMgPSBzcGxpdFRlcm1zKHR4dCwgbW9kZWwpXG4gICAgLy8gc3BsaXQgaW50byBbcHJlLXRleHQtcG9zdF1cbiAgICB0ZXJtcyA9IHRlcm1zLm1hcCh0ID0+IHNwbGl0V2hpdGVzcGFjZSh0LCBtb2RlbCkpXG4gICAgLy8gYWRkIG5vcm1hbGl6ZWQgdGVybSBmb3JtYXQsIGFsd2F5c1xuICAgIHRlcm1zLmZvckVhY2goKHQpID0+IHtcbiAgICAgIG5vcm1hbGl6ZSh0LCB3b3JsZClcbiAgICB9KVxuICAgIHJldHVybiB0ZXJtc1xuICB9KVxuICByZXR1cm4gaW5wdXRcbn1cbmV4cG9ydCBkZWZhdWx0IHBhcnNlIiwgImNvbnN0IGlzQWNyb255bSA9IC9bIC5dW0EtWl1cXC4/ICokL2kgLy9hc2NpIC0gJ24ucy5hLidcbmNvbnN0IGhhc0VsbGlwc2UgPSAvKD86XFx1MjAyNnxcXC57Mix9KSAqJC8gLy8gJy4uLidcbmNvbnN0IGhhc0xldHRlciA9IC9cXHB7TH0vdVxuY29uc3QgaGFzUGVyaW9kID0gL1xcLiAqJC9cbmNvbnN0IGxlYWRJbml0ID0gL15bQS1aXVxcLiAkLyAvLyBcIlcuIEtlbnNpbmd0b25cIlxuXG4vKiogZG9lcyB0aGlzIGxvb2sgbGlrZSBhIHNlbnRlbmNlPyAqL1xuY29uc3QgaXNTZW50ZW5jZSA9IGZ1bmN0aW9uIChzdHIsIGFiYnJldnMpIHtcbiAgLy8gbXVzdCBoYXZlIGEgbGV0dGVyXG4gIGlmIChoYXNMZXR0ZXIudGVzdChzdHIpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIC8vIGNoZWNrIGZvciAnRi5CLkkuJ1xuICBpZiAoaXNBY3JvbnltLnRlc3Qoc3RyKSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIC8vIGNoZWNrIGZvciBsZWFkaW5nIGluaXRpYWwgLSBcIlcuIEtlbnNpbmd0b25cIlxuICBpZiAoc3RyLmxlbmd0aCA9PT0gMyAmJiBsZWFkSW5pdC50ZXN0KHN0cikpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvL2NoZWNrIGZvciAnLi4uJ1xuICBpZiAoaGFzRWxsaXBzZS50ZXN0KHN0cikgPT09IHRydWUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBsZXQgdHh0ID0gc3RyLnJlcGxhY2UoL1suIT9cXHUyMDNEXFx1MkUxOFxcdTIwM0NcXHUyMDQ3LVxcdTIwNDldICokLywgJycpXG4gIGxldCB3b3JkcyA9IHR4dC5zcGxpdCgnICcpXG4gIGxldCBsYXN0V29yZCA9IHdvcmRzW3dvcmRzLmxlbmd0aCAtIDFdLnRvTG93ZXJDYXNlKClcbiAgLy8gY2hlY2sgZm9yICdNci4nIChhbmQgbm90IG1yPylcbiAgaWYgKGFiYnJldnMuaGFzT3duUHJvcGVydHkobGFzdFdvcmQpID09PSB0cnVlICYmIGhhc1BlcmlvZC50ZXN0KHN0cikgPT09IHRydWUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvLyAvL2NoZWNrIGZvciBqZW9wYXJkeSFcbiAgLy8gaWYgKGJsYWNrbGlzdC5oYXNPd25Qcm9wZXJ0eShsYXN0V29yZCkpIHtcbiAgLy8gICByZXR1cm4gZmFsc2VcbiAgLy8gfVxuICByZXR1cm4gdHJ1ZVxufVxuZXhwb3J0IGRlZmF1bHQgaXNTZW50ZW5jZVxuIiwgImltcG9ydCBzcGxpdFNlbnRlbmNlcyBmcm9tICcuLzAxLXNlbnRlbmNlcy9pbmRleC5qcydcbmltcG9ydCBzcGxpdFRlcm1zIGZyb20gJy4vMDItdGVybXMvaW5kZXguanMnXG5pbXBvcnQgc3BsaXRXaGl0ZXNwYWNlIGZyb20gJy4vMDMtd2hpdGVzcGFjZS9pbmRleC5qcydcbmltcG9ydCBraWxsVW5pY29kZSBmcm9tICcuL3VuaWNvZGUuanMnXG5pbXBvcnQgZnJvbVN0cmluZyBmcm9tICcuL3BhcnNlLmpzJ1xuaW1wb3J0IGlzU2VudGVuY2UgZnJvbSAnLi8wMS1zZW50ZW5jZXMvaXMtc2VudGVuY2UuanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgb25lOiB7XG4gICAga2lsbFVuaWNvZGUsXG4gICAgdG9rZW5pemU6IHtcbiAgICAgIHNwbGl0U2VudGVuY2VzLFxuICAgICAgaXNTZW50ZW5jZSxcbiAgICAgIHNwbGl0VGVybXMsXG4gICAgICBzcGxpdFdoaXRlc3BhY2UsXG4gICAgICBmcm9tU3RyaW5nLFxuICAgIH0sXG4gIH0sXG59XG4iLCAiY29uc3QgYWxpYXNlcyA9IHtcbiAgJyYnOiAnYW5kJyxcbiAgJ0AnOiAnYXQnLFxuICAnJSc6ICdwZXJjZW50JyxcbiAgJ3Bseic6ICdwbGVhc2UnLFxuICAnYmVpbic6ICdiZWluZycsXG59XG5leHBvcnQgZGVmYXVsdCBhbGlhc2VzXG4iLCAiZXhwb3J0IGRlZmF1bHQgW1xuICAnYXBwcm94JyxcbiAgJ2FwdCcsXG4gICdiYycsXG4gICdjeW4nLFxuICAnZWcnLFxuICAnZXNwJyxcbiAgJ2VzdCcsXG4gICdldGMnLFxuICAnZXgnLFxuICAnZXhwJyxcbiAgJ3Byb2InLCAvL3Byb2JhYmx5XG4gICdwcm9uJywgLy8gUHJvbnVuY2lhdGlvblxuICAnZ2FsJywgLy9nYWxsb25cbiAgJ21pbicsXG4gICdwc2V1ZCcsXG4gICdmaWcnLCAvL2ZpZ3VyZVxuICAnamQnLFxuICAnbGF0JywgLy9sYXRpdHVkZVxuICAnbG5nJywgLy9sb25naXR1ZGVcbiAgJ3ZvbCcsIC8vdm9sdW1lXG4gICdmbScsIC8vbm90IGFtXG4gICdkZWYnLCAvL2RlZmluaXRpb25cbiAgJ21pc2MnLFxuICAncGx6JywgLy9wbGVhc2VcbiAgJ2VhJywgLy9lYWNoXG4gICdwcycsXG4gICdzZWMnLCAvL3NlY29uZFxuICAncHQnLFxuICAncHJlZicsIC8vcHJlZmFjZVxuICAncGwnLCAvL3BsdXJhbFxuICAncHAnLCAvL3BhZ2VzXG4gICdxdCcsIC8vcXVhcnRlclxuICAnZnInLCAvL2ZyZW5jaFxuICAnc3EnLFxuICAnbmVlJywgLy9naXZlbiBuYW1lIGF0IGJpcnRoXG4gICdzcycsIC8vc2hpcCwgb3Igc2VjdGlvbnNcbiAgJ3RlbCcsXG4gICd0ZW1wJyxcbiAgJ3ZldCcsXG4gICd2ZXInLCAvL3ZlcnNpb25cbiAgJ2ZlbScsIC8vZmVtaW5pbmVcbiAgJ21hc2MnLCAvL21hc2N1bGluZVxuICAnZW5nJywgLy9lbmdpbmVlcmluZy9lbmdsaXNoXG4gICdhZGonLCAvL2FkamVjdGl2ZVxuICAndmInLCAvL3ZlcmJcbiAgJ3JiJywgLy9hZHZlcmJcbiAgJ2luZicsIC8vaW5maW5pdGl2ZVxuICAnc2l0dScsIC8vIGluIHNpdHVcbiAgJ3Zpdm8nLFxuICAndml0cm8nLFxuICAnd3InLCAvL3dvcmxkIHJlY29yZFxuXVxuIiwgImV4cG9ydCBkZWZhdWx0IFtcbiAgJ2FkaicsXG4gICdhZG0nLFxuICAnYWR2JyxcbiAgJ2Fzc3QnLFxuICAnYXR0eScsXG4gICdibGRnJyxcbiAgJ2JyaWcnLFxuICAnY2FwdCcsXG4gICdjbWRyJyxcbiAgJ2NvbWRyJyxcbiAgJ2NwbCcsXG4gICdkZXQnLFxuICAnZHInLFxuICAnZXNxJyxcbiAgJ2dlbicsXG4gICdnb3YnLFxuICAnaG9uJyxcbiAgJ2pyJyxcbiAgJ2xsYicsXG4gICdsdCcsXG4gICdtYWonLFxuICAnbWVzc3JzJyxcbiAgJ21sbGUnLFxuICAnbW1lJyxcbiAgJ21yJyxcbiAgJ21ycycsXG4gICdtcycsXG4gICdtc3RyJyxcbiAgJ3BoZCcsXG4gICdwcm9mJyxcbiAgJ3B2dCcsXG4gICdyZXAnLFxuICAncmVwcycsXG4gICdyZXMnLFxuICAncmV2JyxcbiAgJ3NlbicsXG4gICdzZW5zJyxcbiAgJ3NmYycsXG4gICdzZ3QnLFxuICAnc2lyJyxcbiAgJ3NyJyxcbiAgJ3N1cHQnLFxuICAnc3VyZydcbiAgLy9taXNzXG4gIC8vbWlzc2VzXG5dXG4iLCAiZXhwb3J0IGRlZmF1bHQgWydqYW4nLCAnZmViJywgJ21hcicsICdhcHInLCAnanVuJywgJ2p1bCcsICdhdWcnLCAnc2VwJywgJ3NlcHQnLCAnb2N0JywgJ25vdicsICdkZWMnXVxuIiwgImV4cG9ydCBkZWZhdWx0IFtcbiAgJ2FkJyxcbiAgJ2FsJyxcbiAgJ2FyYycsXG4gICdiYScsXG4gICdibCcsXG4gICdjYScsXG4gICdjY2EnLFxuICAnY29sJyxcbiAgJ2NvcnAnLFxuICAnZnQnLFxuICAnZnknLFxuICAnaWUnLFxuICAnbGl0JyxcbiAgJ21hJyxcbiAgJ21kJyxcbiAgJ3BkJyxcbiAgJ3RjZScsXG5dXG4iLCAiZXhwb3J0IGRlZmF1bHQgWydkZXB0JywgJ3VuaXYnLCAnYXNzbicsICdicm9zJywgJ2luYycsICdsdGQnLCAnY28nXVxuIiwgImV4cG9ydCBkZWZhdWx0IFtcbiAgJ3JkJyxcbiAgJ3N0JyxcbiAgJ2Rpc3QnLFxuICAnbXQnLFxuICAnYXZlJyxcbiAgJ2JsdmQnLFxuICAnY2wnLFxuICAvLyAnY3QnLFxuICAnY3JlcycsXG4gICdod3knLFxuICAvL3N0YXRlc1xuICAnYXJpeicsXG4gICdjYWwnLFxuICAnY2FsaWYnLFxuICAnY29sbycsXG4gICdjb25uJyxcbiAgJ2ZsYScsXG4gICdmbCcsXG4gICdnYScsXG4gICdpZGEnLFxuICAnaWEnLFxuICAna2FuJyxcbiAgJ2thbnMnLFxuXG4gICdtaW5uJyxcbiAgJ25lYicsXG4gICduZWJyJyxcbiAgJ29rbGEnLFxuICAncGVubmEnLFxuICAncGVubicsXG4gICdwYScsXG4gICdkYWsnLFxuICAndGVubicsXG4gICd0ZXgnLFxuICAndXQnLFxuICAndnQnLFxuICAndmEnLFxuICAnd2lzJyxcbiAgJ3dpc2MnLFxuICAnd3knLFxuICAnd3lvJyxcbiAgJ3VzYWZhJyxcbiAgJ2FsdGEnLFxuICAnb250JyxcbiAgJ3F1ZScsXG4gICdzYXNrJyxcbl1cbiIsICIvLyB1bml0cyB0aGF0IGFyZSBhYmJyZXZpYXRpb25zIHRvb1xuZXhwb3J0IGRlZmF1bHQgW1xuICAnZGwnLFxuICAnbWwnLFxuICAnZ2FsJyxcbiAgLy8gJ2Z0JywgLy9hbWJpZ3VvdXNcbiAgJ3F0JyxcbiAgJ3B0JyxcbiAgJ3RibCcsXG4gICd0c3AnLFxuICAndGJzcCcsXG4gICdrbScsXG4gICdkbScsIC8vZGVjaW1ldGVyXG4gICdjbScsXG4gICdtbScsXG4gICdtaScsXG4gICd0ZCcsXG4gICdocicsIC8vaG91clxuICAnaHJzJywgLy9ob3VyXG4gICdrZycsXG4gICdoZycsXG4gICdkZycsIC8vZGVjaWdyYW1cbiAgJ2NnJywgLy9jZW50aWdyYW1cbiAgJ21nJywgLy9taWxsaWdyYW1cbiAgJ1x1MDBCNWcnLCAvL21pY3JvZ3JhbVxuICAnbGInLCAvL3BvdW5kXG4gICdveicsIC8vb3VuY2VcbiAgJ3NxIGZ0JyxcbiAgJ2h6JywgLy9oZXJ0elxuICAnbXBzJywgLy9tZXRlcnMgcGVyIHNlY29uZFxuICAnbXBoJyxcbiAgJ2ttcGgnLCAvL2tpbG9tZXRlcnMgcGVyIGhvdXJcbiAgJ2tiJywgLy9raWxvYnl0ZVxuICAnbWInLCAvL21lZ2FieXRlXG4gIC8vICdnYicsIC8vYW1iaWdcbiAgJ3RiJywgLy90ZXJhYnl0ZVxuICAnbHgnLCAvL2x1eFxuICAnbG0nLCAvL2x1bWVuXG4gIC8vICdwYScsIC8vYW1iaWdcbiAgJ2ZsIG96JywgLy9cbiAgJ3liJyxcbl1cbiIsICJpbXBvcnQgbWlzYyBmcm9tICcuL2FiYnJldmlhdGlvbnMvbWlzYy5qcydcbmltcG9ydCBob25vcmlmaWNzIGZyb20gJy4vYWJicmV2aWF0aW9ucy9ob25vcmlmaWNzLmpzJ1xuaW1wb3J0IG1vbnRocyBmcm9tICcuL2FiYnJldmlhdGlvbnMvbW9udGhzLmpzJ1xuaW1wb3J0IG5vdW5zIGZyb20gJy4vYWJicmV2aWF0aW9ucy9ub3Vucy5qcydcbmltcG9ydCBvcmdhbml6YXRpb25zIGZyb20gJy4vYWJicmV2aWF0aW9ucy9vcmdhbml6YXRpb25zLmpzJ1xuaW1wb3J0IHBsYWNlcyBmcm9tICcuL2FiYnJldmlhdGlvbnMvcGxhY2VzLmpzJ1xuaW1wb3J0IHVuaXRzIGZyb20gJy4vYWJicmV2aWF0aW9ucy91bml0cy5qcydcblxuLy8gYWRkIG91ciBhYmJyZXZpYXRpb24gbGlzdCB0byBvdXIgbGV4aWNvblxubGV0IGxpc3QgPSBbXG4gIFttaXNjXSxcbiAgW3VuaXRzLCAnVW5pdCddLFxuICBbbm91bnMsICdOb3VuJ10sXG4gIFtob25vcmlmaWNzLCAnSG9ub3JpZmljJ10sXG4gIFttb250aHMsICdNb250aCddLFxuICBbb3JnYW5pemF0aW9ucywgJ09yZ2FuaXphdGlvbiddLFxuICBbcGxhY2VzLCAnUGxhY2UnXSxcbl1cbi8vIGNyZWF0ZSBrZXktdmFsIGZvciBzZW50ZW5jZS10b2tlbml6ZXJcbmxldCBhYmJyZXZpYXRpb25zID0ge31cbi8vIGFkZCB0aGVtIHRvIGEgZnV0dXJlIGxleGljb25cbmxldCBsZXhpY29uID0ge31cblxubGlzdC5mb3JFYWNoKGEgPT4ge1xuICBhWzBdLmZvckVhY2godyA9PiB7XG4gICAgLy8gc2VudGVuY2UgYWJicmV2c1xuICAgIGFiYnJldmlhdGlvbnNbd10gPSB0cnVlXG4gICAgLy8gZnV0dXJlLWxleGljb25cbiAgICBsZXhpY29uW3ddID0gJ0FiYnJldmlhdGlvbidcbiAgICBpZiAoYVsxXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXhpY29uW3ddID0gW2xleGljb25bd10sIGFbMV1dXG4gICAgfVxuICB9KVxufSlcblxuZXhwb3J0IHsgbGV4aWNvbiwgYWJicmV2aWF0aW9ucyB9XG4iLCAiLy8gZGFzaGVkIHByZWZpeGVzIHRoYXQgYXJlIG5vdCBpbmRlcGVuZGVudCB3b3Jkc1xuLy8gICdtaWQtY2VudHVyeScsICdwcmUtaGlzdG9yeSdcbmV4cG9ydCBkZWZhdWx0IFtcbiAgJ2FudGknLFxuICAnYmknLFxuICAnY28nLFxuICAnY29udHJhJyxcbiAgJ2RlJyxcbiAgJ2V4dHJhJyxcbiAgJ2luZnJhJyxcbiAgJ2ludGVyJyxcbiAgJ2ludHJhJyxcbiAgJ21hY3JvJyxcbiAgJ21pY3JvJyxcbiAgJ21pcycsXG4gICdtb25vJyxcbiAgJ211bHRpJyxcbiAgJ3BlcmknLFxuICAncHJlJyxcbiAgJ3BybycsXG4gICdwcm90bycsXG4gICdwc2V1ZG8nLFxuICAncmUnLFxuICAnc3ViJyxcbiAgJ3N1cHJhJyxcbiAgJ3RyYW5zJyxcbiAgJ3RyaScsXG4gICd1bicsXG4gICdvdXQnLCAvL291dC1saXZlZFxuICAnZXgnLC8vZXgtd2lmZVxuXG4gIC8vICdjb3VudGVyJyxcbiAgLy8gJ21pZCcsXG4gIC8vICdvdXQnLFxuICAvLyAnbm9uJyxcbiAgLy8gJ292ZXInLFxuICAvLyAncG9zdCcsXG4gIC8vICdzZW1pJyxcbiAgLy8gJ3N1cGVyJywgLy8nc3VwZXItY29vbCdcbiAgLy8gJ3VsdHJhJywgLy8ndWx0YS1jb29sJ1xuICAvLyAndW5kZXInLFxuICAvLyAnd2hvbGUnLFxuXS5yZWR1Y2UoKGgsIHN0cikgPT4ge1xuICBoW3N0cl0gPSB0cnVlXG4gIHJldHVybiBoXG59LCB7fSkiLCAiLy8gZGFzaGVkIHN1ZmZpeGVzIHRoYXQgYXJlIG5vdCBpbmRlcGVuZGVudCB3b3Jkc1xuLy8gICdmbG93ZXItbGlrZScsICdwcmVzaWRlbnQtZWxlY3QnXG5leHBvcnQgZGVmYXVsdCB7XG4gICdsaWtlJzogdHJ1ZSxcbiAgJ2lzaCc6IHRydWUsXG4gICdsZXNzJzogdHJ1ZSxcbiAgJ2FibGUnOiB0cnVlLFxuICAnZWxlY3QnOiB0cnVlLFxuICAndHlwZSc6IHRydWUsXG4gICdkZXNpZ25hdGUnOiB0cnVlLFxuICAvLyAnZm9sZCc6dHJ1ZSxcbn0iLCAiLy9hIGh1Z2VseS1pZ25vcmFudCwgYW5kIHdpZGVseSBzdWJqZWN0aXZlIHRyYW5zbGl0ZXJhdGlvbiBvZiBsYXRpbiwgY3J5bGxpYywgZ3JlZWsgdW5pY29kZSBjaGFyYWN0ZXJzIHRvIGVuZ2xpc2ggYXNjaWkuXG4vL2FwcHJveGltYXRlIHZpc3VhbCAobm90IHNlbWFudGljIG9yIHBob25ldGljKSByZWxhdGlvbnNoaXAgYmV0d2VlbiB1bmljb2RlIGFuZCBhc2NpaSBjaGFyYWN0ZXJzXG4vL2h0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9Vbmljb2RlX2NoYXJhY3RlcnNcbi8vaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXQvY2NjP2tleT0wQWg0Nno3NTVqN2NWZEZSRE0xQTJZVnB3YTFaWVdscEpNMnBRWjAwM00wRVxubGV0IGNvbXBhY3QgPSB7XG4gICchJzogJ1x1MDBBMScsXG4gICc/JzogJ1x1MDBCRlx1MDI0MScsXG4gICdcIic6ICdcdTIwMUNcdTIwMURcIlx1Mjc1RFx1Mjc1RScsXG4gIFwiJ1wiOiAnXHUyMDE4XHUyMDFCXHUyNzVCXHUyNzVDXHUyMDE5JyxcbiAgJy0nOiAnXHUyMDE0XHUyMDEzJyxcbiAgYTogJ1x1MDBBQVx1MDBDMFx1MDBDMVx1MDBDMlx1MDBDM1x1MDBDNFx1MDBDNVx1MDBFMFx1MDBFMVx1MDBFMlx1MDBFM1x1MDBFNFx1MDBFNVx1MDEwMFx1MDEwMVx1MDEwMlx1MDEwM1x1MDEwNFx1MDEwNVx1MDFDRFx1MDFDRVx1MDFERVx1MDFERlx1MDFFMFx1MDFFMVx1MDFGQVx1MDFGQlx1MDIwMFx1MDIwMVx1MDIwMlx1MDIwM1x1MDIyNlx1MDIyN1x1MDIzQVx1MDM4Nlx1MDM5MVx1MDM5NFx1MDM5Qlx1MDNBQ1x1MDNCMVx1MDNCQlx1MDQxMFx1MDQzMFx1MDQ2Nlx1MDQ2N1x1MDREMFx1MDREMVx1MDREMlx1MDREM1x1MDE5Qlx1MDBFNicsXG4gIGI6ICdcdTAwREZcdTAwRkVcdTAxODBcdTAxODFcdTAxODJcdTAxODNcdTAxODRcdTAxODVcdTAyNDNcdTAzOTJcdTAzQjJcdTAzRDBcdTAzRTZcdTA0MTFcdTA0MTJcdTA0MkFcdTA0MkNcdTA0MzJcdTA0NEFcdTA0NENcdTA0NjJcdTA0NjNcdTA0OENcdTA0OEQnLFxuICBjOiAnXHUwMEEyXHUwMEE5XHUwMEM3XHUwMEU3XHUwMTA2XHUwMTA3XHUwMTA4XHUwMTA5XHUwMTBBXHUwMTBCXHUwMTBDXHUwMTBEXHUwMTg2XHUwMTg3XHUwMTg4XHUwMjNCXHUwMjNDXHUwMzdCXHUwMzdDXHUwM0YyXHUwM0Y5XHUwM0ZEXHUwM0ZFXHUwNDIxXHUwNDQxXHUwNDU0XHUwNDgwXHUwNDgxXHUwNEFBXHUwNEFCJyxcbiAgZDogJ1x1MDBEMFx1MDEwRVx1MDEwRlx1MDExMFx1MDExMVx1MDE4OVx1MDE4QVx1MDIyMVx1MDE4Qlx1MDE4QycsXG4gIGU6ICdcdTAwQzhcdTAwQzlcdTAwQ0FcdTAwQ0JcdTAwRThcdTAwRTlcdTAwRUFcdTAwRUJcdTAxMTJcdTAxMTNcdTAxMTRcdTAxMTVcdTAxMTZcdTAxMTdcdTAxMThcdTAxMTlcdTAxMUFcdTAxMUJcdTAxOTBcdTAyMDRcdTAyMDVcdTAyMDZcdTAyMDdcdTAyMjhcdTAyMjlcdTAyNDZcdTAyNDdcdTAzODhcdTAzOTVcdTAzOUVcdTAzQTNcdTAzQURcdTAzQjVcdTAzQkVcdTAzRjVcdTA0MDBcdTA0MDFcdTA0MTVcdTA0MzVcdTA0NTBcdTA0NTFcdTA0QkNcdTA0QkRcdTA0QkVcdTA0QkZcdTA0RDZcdTA0RDdcdTFFQzUnLFxuICBmOiAnXHUwMTkxXHUwMTkyXHUwM0RDXHUwM0REXHUwNEZBXHUwNEZCXHUwNDkyXHUwNDkzXHUwMTdGJyxcbiAgZzogJ1x1MDExQ1x1MDExRFx1MDExRVx1MDExRlx1MDEyMFx1MDEyMVx1MDEyMlx1MDEyM1x1MDE5M1x1MDFFNFx1MDFFNVx1MDFFNlx1MDFFN1x1MDFGNFx1MDFGNScsXG4gIGg6ICdcdTAxMjRcdTAxMjVcdTAxMjZcdTAxMjdcdTAxOTVcdTAxRjZcdTAyMUVcdTAyMUZcdTAzODlcdTAzOTdcdTA0MDJcdTA0MEFcdTA0MEJcdTA0MURcdTA0M0RcdTA0NTJcdTA0NUJcdTA0QTJcdTA0QTNcdTA0QTRcdTA0QTVcdTA0QkFcdTA0QkJcdTA0QzlcdTA0Q0EnLFxuICBJOiAnXHUwMENDXHUwMENEXHUwMENFXHUwMENGJyxcbiAgaTogJ1x1MDBFQ1x1MDBFRFx1MDBFRVx1MDBFRlx1MDEyOFx1MDEyOVx1MDEyQVx1MDEyQlx1MDEyQ1x1MDEyRFx1MDEyRVx1MDEyRlx1MDEzMFx1MDEzMVx1MDE5Nlx1MDE5N1x1MDIwOFx1MDIwOVx1MDIwQVx1MDIwQlx1MDM4QVx1MDM5MFx1MDNBQVx1MDNBRlx1MDNCOVx1MDNDQVx1MDQwNlx1MDQwN1x1MDQ1Nlx1MDQ1N2lcdTAzMDcnLFxuICBqOiAnXHUwMTM0XHUwMTM1XHUwMUYwXHUwMjM3XHUwMjQ4XHUwMjQ5XHUwM0YzXHUwNDA4XHUwNDU4JyxcbiAgazogJ1x1MDEzNlx1MDEzN1x1MDEzOFx1MDE5OFx1MDE5OVx1MDFFOFx1MDFFOVx1MDM5QVx1MDNCQVx1MDQwQ1x1MDQxNlx1MDQxQVx1MDQzNlx1MDQzQVx1MDQ1Q1x1MDQ5QVx1MDQ5Qlx1MDQ5Q1x1MDQ5RFx1MDQ5RVx1MDQ5Rlx1MDRBMFx1MDRBMScsXG4gIGw6ICdcdTAxMzlcdTAxM0FcdTAxM0JcdTAxM0NcdTAxM0RcdTAxM0VcdTAxM0ZcdTAxNDBcdTAxNDFcdTAxNDJcdTAxOUFcdTAxQUFcdTAxQzBcdTAxQ0ZcdTAxRDBcdTAyMzRcdTAyM0RcdTAzOTlcdTA0QzBcdTA0Q0YnLFxuICBtOiAnXHUwMzlDXHUwM0ZBXHUwM0ZCXHUwNDFDXHUwNDNDXHUwNENEXHUwNENFJyxcbiAgbjogJ1x1MDBEMVx1MDBGMVx1MDE0M1x1MDE0NFx1MDE0NVx1MDE0Nlx1MDE0N1x1MDE0OFx1MDE0OVx1MDE0QVx1MDE0Qlx1MDE5RFx1MDE5RVx1MDFGOFx1MDFGOVx1MDIyMFx1MDIzNVx1MDM5RFx1MDNBMFx1MDNBRVx1MDNCN1x1MDNERVx1MDQwRFx1MDQxOFx1MDQxOVx1MDQxQlx1MDQxRlx1MDQzOFx1MDQzOVx1MDQzQlx1MDQzRlx1MDQ1RFx1MDQ4QVx1MDQ4Qlx1MDRDNVx1MDRDNlx1MDRFMlx1MDRFM1x1MDRFNFx1MDRFNVx1MDNDMCcsXG4gIG86ICdcdTAwRDJcdTAwRDNcdTAwRDRcdTAwRDVcdTAwRDZcdTAwRDhcdTAwRjBcdTAwRjJcdTAwRjNcdTAwRjRcdTAwRjVcdTAwRjZcdTAwRjhcdTAxNENcdTAxNERcdTAxNEVcdTAxNEZcdTAxNTBcdTAxNTFcdTAxOUZcdTAxQTBcdTAxQTFcdTAxRDFcdTAxRDJcdTAxRUFcdTAxRUJcdTAxRUNcdTAxRURcdTAxRkVcdTAxRkZcdTAyMENcdTAyMERcdTAyMEVcdTAyMEZcdTAyMkFcdTAyMkJcdTAyMkNcdTAyMkRcdTAyMkVcdTAyMkZcdTAyMzBcdTAyMzFcdTAzOENcdTAzOThcdTAzOUZcdTAzQjhcdTAzQkZcdTAzQzNcdTAzQ0NcdTAzRDVcdTAzRDhcdTAzRDlcdTAzRUNcdTAzRjRcdTA0MUVcdTA0MjRcdTA0M0VcdTA0NzJcdTA0NzNcdTA0RTZcdTA0RTdcdTA0RThcdTA0RTlcdTA0RUFcdTA0RUInLFxuICBwOiAnXHUwMUE0XHUwM0ExXHUwM0MxXHUwM0Y3XHUwM0Y4XHUwM0ZDXHUwNDIwXHUwNDQwXHUwNDhFXHUwNDhGXHUwMERFJyxcbiAgcTogJ1x1MDI0QVx1MDI0QicsXG4gIHI6ICdcdTAxNTRcdTAxNTVcdTAxNTZcdTAxNTdcdTAxNThcdTAxNTlcdTAxQTZcdTAyMTBcdTAyMTFcdTAyMTJcdTAyMTNcdTAyNENcdTAyNERcdTA0MDNcdTA0MTNcdTA0MkZcdTA0MzNcdTA0NEZcdTA0NTNcdTA0OTBcdTA0OTEnLFxuICBzOiAnXHUwMTVBXHUwMTVCXHUwMTVDXHUwMTVEXHUwMTVFXHUwMTVGXHUwMTYwXHUwMTYxXHUwMUE3XHUwMUE4XHUwMjE4XHUwMjE5XHUwMjNGXHUwNDA1XHUwNDU1JyxcbiAgdDogJ1x1MDE2Mlx1MDE2M1x1MDE2NFx1MDE2NVx1MDE2Nlx1MDE2N1x1MDFBQlx1MDFBQ1x1MDFBRFx1MDFBRVx1MDIxQVx1MDIxQlx1MDIzNlx1MDIzRVx1MDM5M1x1MDNBNFx1MDNDNFx1MDNFRVx1MDQyMlx1MDQ0MicsXG4gIHU6ICdcdTAwRDlcdTAwREFcdTAwREJcdTAwRENcdTAwRjlcdTAwRkFcdTAwRkJcdTAwRkNcdTAxNjhcdTAxNjlcdTAxNkFcdTAxNkJcdTAxNkNcdTAxNkRcdTAxNkVcdTAxNkZcdTAxNzBcdTAxNzFcdTAxNzJcdTAxNzNcdTAxQUZcdTAxQjBcdTAxQjFcdTAxQjJcdTAxRDNcdTAxRDRcdTAxRDVcdTAxRDZcdTAxRDdcdTAxRDhcdTAxRDlcdTAxREFcdTAxREJcdTAxRENcdTAyMTRcdTAyMTVcdTAyMTZcdTAyMTdcdTAyNDRcdTAzQjBcdTAzQzVcdTAzQ0JcdTAzQ0QnLFxuICB2OiAnXHUwM0JEXHUwNDc0XHUwNDc1XHUwNDc2XHUwNDc3JyxcbiAgdzogJ1x1MDE3NFx1MDE3NVx1MDE5Q1x1MDNDOVx1MDNDRVx1MDNENlx1MDNFMlx1MDNFM1x1MDQyOFx1MDQyOVx1MDQ0OFx1MDQ0OVx1MDQ2MVx1MDQ3RicsXG4gIHg6ICdcdTAwRDdcdTAzQTdcdTAzQzdcdTAzRDdcdTAzRjBcdTA0MjVcdTA0NDVcdTA0QjJcdTA0QjNcdTA0RkNcdTA0RkRcdTA0RkVcdTA0RkYnLFxuICB5OiAnXHUwMEREXHUwMEZEXHUwMEZGXHUwMTc2XHUwMTc3XHUwMTc4XHUwMUIzXHUwMUI0XHUwMjMyXHUwMjMzXHUwMjRFXHUwMjRGXHUwMzhFXHUwM0E1XHUwM0FCXHUwM0IzXHUwM0M4XHUwM0QyXHUwM0QzXHUwM0Q0XHUwNDBFXHUwNDIzXHUwNDQzXHUwNDQ3XHUwNDVFXHUwNDcwXHUwNDcxXHUwNEFFXHUwNEFGXHUwNEIwXHUwNEIxXHUwNEVFXHUwNEVGXHUwNEYwXHUwNEYxXHUwNEYyXHUwNEYzJyxcbiAgejogJ1x1MDE3OVx1MDE3QVx1MDE3Qlx1MDE3Q1x1MDE3RFx1MDE3RVx1MDFCNVx1MDFCNlx1MDIyNFx1MDIyNVx1MDI0MFx1MDM5NicsXG59XG4vL2RlY29tcHJlc3MgZGF0YSBpbnRvIHR3byBoYXNoZXNcbmxldCB1bmljb2RlID0ge31cbk9iamVjdC5rZXlzKGNvbXBhY3QpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgY29tcGFjdFtrXS5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgIHVuaWNvZGVbc10gPSBrXG4gIH0pXG59KVxuZXhwb3J0IGRlZmF1bHQgdW5pY29kZVxuIiwgIi8vIGh0dHBzOi8vdXRpbC51bmljb2RlLm9yZy9Vbmljb2RlSnNwcy9saXN0LXVuaWNvZGVzZXQuanNwP2E9JTVDcCU3QnB1bmN0dWF0aW9uJTdEXG5cbi8vIHB1bmN0dWF0aW9uIHRvIGtlZXAgYXQgc3RhcnQgb2Ygd29yZFxuY29uc3QgcHJlUHVuY3R1YXRpb24gPSB7XG4gICcjJzogdHJ1ZSwgLy8jaGFzdGFnXG4gICdAJzogdHJ1ZSwgLy9AYXRtZW50aW9uXG4gICdfJzogdHJ1ZSwvL3VuZGVyc2NvcmVcbiAgJ1x1MDBCMCc6IHRydWUsXG4gIC8vICcrJzogdHJ1ZSwvLys0XG4gIC8vICdcXFxcLScsLy8tNCAgKGVzY2FwZSlcbiAgLy8gJy4nLC8vLjRcbiAgLy8gemVyby13aWR0aCBjaGFyc1xuICAnXFx1MjAwQic6IHRydWUsXG4gICdcXHUyMDBDJzogdHJ1ZSxcbiAgJ1xcdTIwMEQnOiB0cnVlLFxuICAnXFx1RkVGRic6IHRydWVcbn1cblxuLy8gcHVuY3R1YXRpb24gdG8ga2VlcCBhdCBlbmQgb2Ygd29yZFxuY29uc3QgcG9zdFB1bmN0dWF0aW9uID0ge1xuICAnJSc6IHRydWUsLy84OCVcbiAgJ18nOiB0cnVlLC8vdW5kZXJzY29yZVxuICAnXHUwMEIwJzogdHJ1ZSwvL2RlZ3JlZXMsIGl0YWxpYW4gb3JkaW5hbFxuICAvLyAnXFwnJywvLyBzb21ldGltZXNcbiAgLy8gemVyby13aWR0aCBjaGFyc1xuICAnXFx1MjAwQic6IHRydWUsXG4gICdcXHUyMDBDJzogdHJ1ZSxcbiAgJ1xcdTIwMEQnOiB0cnVlLFxuICAnXFx1RkVGRic6IHRydWVcbn1cblxuY29uc3QgZW1vdGljb25zID0ge1xuICAnPDMnOiB0cnVlLFxuICAnPC8zJzogdHJ1ZSxcbiAgJzxcXFxcMyc6IHRydWUsXG4gICc6XlAnOiB0cnVlLFxuICAnOl5wJzogdHJ1ZSxcbiAgJzpeTyc6IHRydWUsXG4gICc6XjMnOiB0cnVlLFxufVxuXG5leHBvcnQgeyBwcmVQdW5jdHVhdGlvbiwgcG9zdFB1bmN0dWF0aW9uLCBlbW90aWNvbnMgfSIsICJpbXBvcnQgYWxpYXNlcyBmcm9tICcuL2FsaWFzZXMuanMnXG5pbXBvcnQgeyBsZXhpY29uLCBhYmJyZXZpYXRpb25zIH0gZnJvbSAnLi9sZXhpY29uLmpzJ1xuaW1wb3J0IHByZWZpeGVzIGZyb20gJy4vcHJlZml4ZXMuanMnXG5pbXBvcnQgc3VmZml4ZXMgZnJvbSAnLi9zdWZmaXhlcy5qcydcbmltcG9ydCB1bmljb2RlIGZyb20gJy4vdW5pY29kZS5qcydcbmltcG9ydCB7IHByZVB1bmN0dWF0aW9uLCBwb3N0UHVuY3R1YXRpb24sIGVtb3RpY29ucyB9IGZyb20gJy4vcHVuY3R1YXRpb24uanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgb25lOiB7XG4gICAgYWxpYXNlcyxcbiAgICBhYmJyZXZpYXRpb25zLFxuICAgIHByZWZpeGVzLFxuICAgIHN1ZmZpeGVzLFxuICAgIHByZVB1bmN0dWF0aW9uLFxuICAgIHBvc3RQdW5jdHVhdGlvbixcbiAgICBsZXhpY29uLCAvL2dpdmUgdGhpcyBvbmUgZm9yd2FyZFxuICAgIHVuaWNvZGUsXG4gICAgZW1vdGljb25zXG4gIH0sXG59XG4iLCAiY29uc3QgaGFzU2xhc2ggPSAvXFwvL1xuY29uc3QgaGFzRG9tYWluID0gL1thLXpdXFwuW2Etel0vaVxuY29uc3QgaXNNYXRoID0gL1swLTldL1xuLy8gY29uc3QgaGFzU2xhc2ggPSAvW2EtelxcdTAwQzAtXFx1MDBGRl0gP1xcLyA/W2EtelxcdTAwQzAtXFx1MDBGRl0vXG4vLyBjb25zdCBoYXNBcG9zdHJvcGhlID0gL1snXHUyMDE5XXMkL1xuXG5jb25zdCBhZGRBbGlhc2VzID0gZnVuY3Rpb24gKHRlcm0sIHdvcmxkKSB7XG4gIGxldCBzdHIgPSB0ZXJtLm5vcm1hbCB8fCB0ZXJtLnRleHQgfHwgdGVybS5tYWNoaW5lXG4gIGNvbnN0IGFsaWFzZXMgPSB3b3JsZC5tb2RlbC5vbmUuYWxpYXNlc1xuICAvLyBsb29rdXAga25vd24gYWxpYXNlcyBsaWtlICcmJ1xuICBpZiAoYWxpYXNlcy5oYXNPd25Qcm9wZXJ0eShzdHIpKSB7XG4gICAgdGVybS5hbGlhcyA9IHRlcm0uYWxpYXMgfHwgW11cbiAgICB0ZXJtLmFsaWFzLnB1c2goYWxpYXNlc1tzdHJdKVxuICB9XG4gIC8vIHN1cHBvcnQgc2xhc2hlcyBhcyBhbGlhc2VzXG4gIGlmIChoYXNTbGFzaC50ZXN0KHN0cikgJiYgIWhhc0RvbWFpbi50ZXN0KHN0cikgJiYgIWlzTWF0aC50ZXN0KHN0cikpIHtcbiAgICBsZXQgYXJyID0gc3RyLnNwbGl0KGhhc1NsYXNoKVxuICAgIC8vIGRvbid0IHNwbGl0IHVybHMgYW5kIHRoaW5nc1xuICAgIGlmIChhcnIubGVuZ3RoIDw9IDMpIHtcbiAgICAgIGFyci5mb3JFYWNoKHdvcmQgPT4ge1xuICAgICAgICB3b3JkID0gd29yZC50cmltKClcbiAgICAgICAgaWYgKHdvcmQgIT09ICcnKSB7XG4gICAgICAgICAgdGVybS5hbGlhcyA9IHRlcm0uYWxpYXMgfHwgW11cbiAgICAgICAgICB0ZXJtLmFsaWFzLnB1c2god29yZClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgLy8gYWxpYXNlcyBmb3IgYXBvc3Ryb3BoZS1zXG4gIC8vIGlmIChoYXNBcG9zdHJvcGhlLnRlc3Qoc3RyKSkge1xuICAvLyAgIGxldCBtYWluID0gc3RyLnJlcGxhY2UoaGFzQXBvc3Ryb3BoZSwgJycpLnRyaW0oKVxuICAvLyAgIHRlcm0uYWxpYXMgPSB0ZXJtLmFsaWFzIHx8IFtdXG4gIC8vICAgdGVybS5hbGlhcy5wdXNoKG1haW4pXG4gIC8vIH1cbiAgcmV0dXJuIHRlcm1cbn1cbmV4cG9ydCBkZWZhdWx0IGFkZEFsaWFzZXNcbiIsICJjb25zdCBoYXNEYXNoID0gL15cXHB7TGV0dGVyfSstXFxwe0xldHRlcn0rJC91XG4vLyAnbWFjaGluZScgaXMgYSBub3JtYWxpemVkIGZvcm0gdGhhdCBsb29zZXMgaHVtYW4tcmVhZGFiaWxpdHlcbmNvbnN0IGRvTWFjaGluZSA9IGZ1bmN0aW9uICh0ZXJtKSB7XG4gIGxldCBzdHIgPSB0ZXJtLmltcGxpY2l0IHx8IHRlcm0ubm9ybWFsIHx8IHRlcm0udGV4dFxuICAvLyByZW1vdmUgYXBvc3Ryb3BoZXNcbiAgc3RyID0gc3RyLnJlcGxhY2UoL1snXHUyMDE5XXMkLywgJycpXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC9zWydcdTIwMTldJC8sICdzJylcbiAgLy9sb29raW4nLT5sb29raW5nIChtYWtlIGl0IGVhc2llciBmb3IgY29uanVnYXRpb24pXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC8oW2FlaW91XVtrdHJwXSlpbickLywgJyQxaW5nJylcbiAgLy90dXJuIHJlLWVuYWN0bWVudCB0byByZWVuYWN0bWVudFxuICBpZiAoaGFzRGFzaC50ZXN0KHN0cikpIHtcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgvLS9nLCAnJylcbiAgfVxuICAvLyN0YWdzLCBAbWVudGlvbnNcbiAgc3RyID0gc3RyLnJlcGxhY2UoL15bI0BdLywgJycpXG4gIGlmIChzdHIgIT09IHRlcm0ubm9ybWFsKSB7XG4gICAgdGVybS5tYWNoaW5lID0gc3RyXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGRvTWFjaGluZVxuIiwgIi8vIHNvcnQgd29yZHMgYnkgZnJlcXVlbmN5XG5jb25zdCBmcmVxID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgbGV0IGRvY3MgPSB2aWV3LmRvY3NcbiAgbGV0IGNvdW50cyA9IHt9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGZvciAobGV0IHQgPSAwOyB0IDwgZG9jc1tpXS5sZW5ndGg7IHQgKz0gMSkge1xuICAgICAgbGV0IHRlcm0gPSBkb2NzW2ldW3RdXG4gICAgICBsZXQgd29yZCA9IHRlcm0ubWFjaGluZSB8fCB0ZXJtLm5vcm1hbFxuICAgICAgY291bnRzW3dvcmRdID0gY291bnRzW3dvcmRdIHx8IDBcbiAgICAgIGNvdW50c1t3b3JkXSArPSAxXG4gICAgfVxuICB9XG4gIC8vIGFkZCBjb3VudHMgb24gZWFjaCB0ZXJtXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGZvciAobGV0IHQgPSAwOyB0IDwgZG9jc1tpXS5sZW5ndGg7IHQgKz0gMSkge1xuICAgICAgbGV0IHRlcm0gPSBkb2NzW2ldW3RdXG4gICAgICBsZXQgd29yZCA9IHRlcm0ubWFjaGluZSB8fCB0ZXJtLm5vcm1hbFxuICAgICAgdGVybS5mcmVxID0gY291bnRzW3dvcmRdXG4gICAgfVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBmcmVxXG4iLCAiLy8gZ2V0IGFsbCBjaGFyYWN0ZXIgc3RhcnRpbmdzIGluIGRvY1xuY29uc3Qgb2Zmc2V0ID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgbGV0IGVsYXBzZWQgPSAwXG4gIGxldCBpbmRleCA9IDBcbiAgbGV0IGRvY3MgPSB2aWV3LmRvY3VtZW50IC8vc3RhcnQgZnJvbSB0aGUgYWN0dWFsLXRvcFxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBmb3IgKGxldCB0ID0gMDsgdCA8IGRvY3NbaV0ubGVuZ3RoOyB0ICs9IDEpIHtcbiAgICAgIGxldCB0ZXJtID0gZG9jc1tpXVt0XVxuICAgICAgdGVybS5vZmZzZXQgPSB7XG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgc3RhcnQ6IGVsYXBzZWQgKyB0ZXJtLnByZS5sZW5ndGgsXG4gICAgICAgIGxlbmd0aDogdGVybS50ZXh0Lmxlbmd0aCxcbiAgICAgIH1cbiAgICAgIGVsYXBzZWQgKz0gdGVybS5wcmUubGVuZ3RoICsgdGVybS50ZXh0Lmxlbmd0aCArIHRlcm0ucG9zdC5sZW5ndGhcbiAgICAgIGluZGV4ICs9IDFcbiAgICB9XG4gIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBvZmZzZXRcbiIsICIvLyBjaGVhdC0gYWRkIHRoZSBkb2N1bWVudCdzIHBvaW50ZXIgdG8gdGhlIHRlcm1zXG5jb25zdCBpbmRleCA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIC8vIGNvbnNvbGUubG9nKCdyZWluZGV4JylcbiAgbGV0IGRvY3VtZW50ID0gdmlldy5kb2N1bWVudFxuICBmb3IgKGxldCBuID0gMDsgbiA8IGRvY3VtZW50Lmxlbmd0aDsgbiArPSAxKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2N1bWVudFtuXS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgZG9jdW1lbnRbbl1baV0uaW5kZXggPSBbbiwgaV1cbiAgICB9XG4gIH1cbiAgLy8gbGV0IHB0cnMgPSBiLmZ1bGxQb2ludGVyXG4gIC8vIGNvbnNvbGUubG9nKHB0cnMpXG4gIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAvLyAgIGNvbnN0IFtuLCBzdGFydF0gPSBwdHJzW2ldXG4gIC8vICAgZm9yIChsZXQgdCA9IDA7IHQgPCBkb2NzW2ldLmxlbmd0aDsgdCArPSAxKSB7XG4gIC8vICAgICBsZXQgdGVybSA9IGRvY3NbaV1bdF1cbiAgLy8gICAgIHRlcm0uaW5kZXggPSBbbiwgc3RhcnQgKyB0XVxuICAvLyAgIH1cbiAgLy8gfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmRleCIsICJjb25zdCB3b3JkQ291bnQgPSBmdW5jdGlvbiAodmlldykge1xuICBsZXQgbiA9IDBcbiAgbGV0IGRvY3MgPSB2aWV3LmRvY3NcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2NzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZm9yIChsZXQgdCA9IDA7IHQgPCBkb2NzW2ldLmxlbmd0aDsgdCArPSAxKSB7XG4gICAgICBpZiAoZG9jc1tpXVt0XS5ub3JtYWwgPT09ICcnKSB7XG4gICAgICAgIGNvbnRpbnVlIC8vc2tpcCBpbXBsaWNpdCB3b3Jkc1xuICAgICAgfVxuICAgICAgbiArPSAxXG4gICAgICBkb2NzW2ldW3RdLndvcmRDb3VudCA9IG5cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd29yZENvdW50XG4iLCAiaW1wb3J0IGFsaWFzIGZyb20gJy4vYWxpYXMuanMnXG5pbXBvcnQgbm9ybWFsIGZyb20gJy4vbm9ybWFsL2luZGV4LmpzJ1xuaW1wb3J0IG1hY2hpbmUgZnJvbSAnLi9tYWNoaW5lLmpzJ1xuaW1wb3J0IGZyZXEgZnJvbSAnLi9mcmVxLmpzJ1xuaW1wb3J0IG9mZnNldCBmcm9tICcuL29mZnNldC5qcydcbmltcG9ydCBpbmRleCBmcm9tICcuL3JlaW5kZXguanMnXG5pbXBvcnQgd29yZENvdW50IGZyb20gJy4vd29yZENvdW50LmpzJ1xuXG4vLyBjaGVhdC1tZXRob2QgZm9yIGEgcXVpY2sgbG9vcFxuY29uc3QgdGVybUxvb3AgPSBmdW5jdGlvbiAodmlldywgZm4pIHtcbiAgbGV0IGRvY3MgPSB2aWV3LmRvY3NcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2NzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZm9yIChsZXQgdCA9IDA7IHQgPCBkb2NzW2ldLmxlbmd0aDsgdCArPSAxKSB7XG4gICAgICBmbihkb2NzW2ldW3RdLCB2aWV3LndvcmxkKVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBtZXRob2RzID0ge1xuICBhbGlhczogKHZpZXcpID0+IHRlcm1Mb29wKHZpZXcsIGFsaWFzKSxcbiAgbWFjaGluZTogKHZpZXcpID0+IHRlcm1Mb29wKHZpZXcsIG1hY2hpbmUpLFxuICBub3JtYWw6ICh2aWV3KSA9PiB0ZXJtTG9vcCh2aWV3LCBub3JtYWwpLFxuICBmcmVxLFxuICBvZmZzZXQsXG4gIGluZGV4LFxuICB3b3JkQ291bnQsXG59XG5leHBvcnQgZGVmYXVsdCBtZXRob2RzXG4iLCAiaW1wb3J0IG1ldGhvZHMgZnJvbSAnLi9tZXRob2RzL2luZGV4LmpzJ1xuaW1wb3J0IG1vZGVsIGZyb20gJy4vbW9kZWwvaW5kZXguanMnXG5pbXBvcnQgY29tcHV0ZSBmcm9tICcuL2NvbXB1dGUvaW5kZXguanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcHV0ZSxcbiAgbWV0aG9kcyxcbiAgbW9kZWwsXG4gIGhvb2tzOiBbJ2FsaWFzJywgJ21hY2hpbmUnLCAnaW5kZXgnLCAnaWQnXSxcbn1cblxuLy8gY29uc3QgcGx1Z2luID0gZnVuY3Rpb24gKHdvcmxkKSB7XG4vLyAgIGxldCB7IG1ldGhvZHMsIG1vZGVsLCBwYXJzZXJzIH0gPSB3b3JsZFxuLy8gICBPYmplY3QuYXNzaWduKHt9LCBtZXRob2RzLCBfbWV0aG9kcylcbi8vICAgT2JqZWN0LmFzc2lnbihtb2RlbCwgX21vZGVsKVxuLy8gICBtZXRob2RzLm9uZS50b2tlbml6ZS5mcm9tU3RyaW5nID0gdG9rZW5pemVcbi8vICAgcGFyc2Vycy5wdXNoKCdub3JtYWwnKVxuLy8gICBwYXJzZXJzLnB1c2goJ2FsaWFzJylcbi8vICAgcGFyc2Vycy5wdXNoKCdtYWNoaW5lJylcbi8vICAgLy8gZXh0ZW5kIFZpZXcgY2xhc3Ncbi8vICAgLy8gYWRkTWV0aG9kcyhWaWV3KVxuLy8gfVxuLy8gZXhwb3J0IGRlZmF1bHQgcGx1Z2luXG4iLCAiLy8gbG9va3VwIGxhc3Qgd29yZCBpbiB0aGUgdHlwZS1haGVhZCBwcmVmaXhlc1xuY29uc3QgdHlwZWFoZWFkID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgY29uc3QgcHJlZml4ZXMgPSB2aWV3Lm1vZGVsLm9uZS50eXBlYWhlYWRcbiAgY29uc3QgZG9jcyA9IHZpZXcuZG9jc1xuICBpZiAoZG9jcy5sZW5ndGggPT09IDAgfHwgT2JqZWN0LmtleXMocHJlZml4ZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVyblxuICB9XG4gIGxldCBsYXN0UGhyYXNlID0gZG9jc1tkb2NzLmxlbmd0aCAtIDFdIHx8IFtdXG4gIGxldCBsYXN0VGVybSA9IGxhc3RQaHJhc2VbbGFzdFBocmFzZS5sZW5ndGggLSAxXVxuICAvLyBpZiB3ZSd2ZSBhbHJlYWR5IHB1dCB3aGl0ZXNwYWNlLCBlbmQuXG4gIGlmIChsYXN0VGVybS5wb3N0KSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgLy8gaWYgd2UgZm91bmQgc29tZXRoaW5nXG4gIGlmIChwcmVmaXhlcy5oYXNPd25Qcm9wZXJ0eShsYXN0VGVybS5ub3JtYWwpKSB7XG4gICAgbGV0IGZvdW5kID0gcHJlZml4ZXNbbGFzdFRlcm0ubm9ybWFsXVxuICAgIC8vIGFkZCBmdWxsLXdvcmQgYXMgYW4gaW1wbGljaXQgcmVzdWx0XG4gICAgbGFzdFRlcm0uaW1wbGljaXQgPSBmb3VuZFxuICAgIGxhc3RUZXJtLm1hY2hpbmUgPSBmb3VuZFxuICAgIGxhc3RUZXJtLnR5cGVhaGVhZCA9IHRydWVcbiAgICAvLyB0YWcgaXQsIGFzIG91ciBhc3N1bWVkIHRlcm1cbiAgICBpZiAodmlldy5jb21wdXRlLnByZVRhZ2dlcikge1xuICAgICAgdmlldy5sYXN0KCkudW5UYWcoJyonKS5jb21wdXRlKFsnbGV4aWNvbicsICdwcmVUYWdnZXInXSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgeyB0eXBlYWhlYWQgfVxuIiwgIi8vIGFzc3VtZSBhbnkgZGlzY292ZXJlZCBwcmVmaXhlc1xuY29uc3QgYXV0b0ZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGRvY3MgPSB0aGlzLmRvY3NcbiAgaWYgKGRvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBsZXQgbGFzdFBocmFzZSA9IGRvY3NbZG9jcy5sZW5ndGggLSAxXSB8fCBbXVxuICBsZXQgdGVybSA9IGxhc3RQaHJhc2VbbGFzdFBocmFzZS5sZW5ndGggLSAxXVxuICBpZiAodGVybS50eXBlYWhlYWQgPT09IHRydWUgJiYgdGVybS5tYWNoaW5lKSB7XG4gICAgdGVybS50ZXh0ID0gdGVybS5tYWNoaW5lXG4gICAgdGVybS5ub3JtYWwgPSB0ZXJtLm1hY2hpbmVcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5jb25zdCBhcGkgPSBmdW5jdGlvbiAoVmlldykge1xuICBWaWV3LnByb3RvdHlwZS5hdXRvRmlsbCA9IGF1dG9GaWxsXG59XG5leHBvcnQgZGVmYXVsdCBhcGkiLCAiLy8gZ2VuZXJhdGUgYWxsIHRoZSBwb3NzaWJsZSBwcmVmaXhlcyB1cC1mcm9udFxuY29uc3QgZ2V0UHJlZml4ZXMgPSBmdW5jdGlvbiAoYXJyLCBvcHRzLCB3b3JsZCkge1xuICBsZXQgaW5kZXggPSB7fVxuICBsZXQgY29sbGlzaW9ucyA9IFtdXG4gIGxldCBleGlzdGluZyA9IHdvcmxkLnByZWZpeGVzIHx8IHt9XG4gIGFyci5mb3JFYWNoKChzdHIpID0+IHtcbiAgICBzdHIgPSBzdHIudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICBsZXQgbWF4ID0gc3RyLmxlbmd0aFxuICAgIGlmIChvcHRzLm1heCAmJiBtYXggPiBvcHRzLm1heCkge1xuICAgICAgbWF4ID0gb3B0cy5tYXhcbiAgICB9XG4gICAgZm9yIChsZXQgc2l6ZSA9IG9wdHMubWluOyBzaXplIDwgbWF4OyBzaXplICs9IDEpIHtcbiAgICAgIGxldCBwcmVmaXggPSBzdHIuc3Vic3RyaW5nKDAsIHNpemUpXG4gICAgICAvLyBlbnN1cmUgcHJlZml4IGlzIG5vdCBhIHdvcmRcbiAgICAgIGlmIChvcHRzLnNhZmUgJiYgd29ybGQubW9kZWwub25lLmxleGljb24uaGFzT3duUHJvcGVydHkocHJlZml4KSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgLy8gZG9lcyBpdCBhbHJlYWR5IGV4aXN0P1xuICAgICAgaWYgKGV4aXN0aW5nLmhhc093blByb3BlcnR5KHByZWZpeCkgPT09IHRydWUpIHtcbiAgICAgICAgY29sbGlzaW9ucy5wdXNoKHByZWZpeClcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGlmIChpbmRleC5oYXNPd25Qcm9wZXJ0eShwcmVmaXgpID09PSB0cnVlKSB7XG4gICAgICAgIGNvbGxpc2lvbnMucHVzaChwcmVmaXgpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBpbmRleFtwcmVmaXhdID0gc3RyXG4gICAgfVxuICB9KVxuICAvLyBtZXJnZSB3aXRoIGV4aXN0aW5nIHByZWZpeGVzXG4gIGluZGV4ID0gT2JqZWN0LmFzc2lnbih7fSwgZXhpc3RpbmcsIGluZGV4KVxuICAvLyByZW1vdmUgYW1iaWd1b3VzLXByZWZpeGVzXG4gIGNvbGxpc2lvbnMuZm9yRWFjaCgoc3RyKSA9PiB7XG4gICAgZGVsZXRlIGluZGV4W3N0cl1cbiAgfSlcbiAgcmV0dXJuIGluZGV4XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFByZWZpeGVzXG4iLCAiaW1wb3J0IGFsbFByZWZpeGVzIGZyb20gJy4vYWxsUHJlZml4ZXMuanMnXG5cbmNvbnN0IGlzT2JqZWN0ID0gdmFsID0+IHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJ1xufVxuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgc2FmZTogdHJ1ZSxcbiAgbWluOiAzLFxufVxuXG5jb25zdCBwcmVwYXJlID0gZnVuY3Rpb24gKHdvcmRzID0gW10sIG9wdHMgPSB7fSkge1xuICBsZXQgbW9kZWwgPSB0aGlzLm1vZGVsKClcbiAgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRzKVxuICBpZiAoaXNPYmplY3Qod29yZHMpKSB7XG4gICAgT2JqZWN0LmFzc2lnbihtb2RlbC5vbmUubGV4aWNvbiwgd29yZHMpXG4gICAgd29yZHMgPSBPYmplY3Qua2V5cyh3b3JkcylcbiAgfVxuICBsZXQgcHJlZml4ZXMgPSBhbGxQcmVmaXhlcyh3b3Jkcywgb3B0cywgdGhpcy53b3JsZCgpKVxuICAvLyBtYW51YWxseSBjb21iaW5lIHRoZXNlIHdpdGggYW55IGV4aXN0aW5nIHByZWZpeGVzXG4gIE9iamVjdC5rZXlzKHByZWZpeGVzKS5mb3JFYWNoKHN0ciA9PiB7XG4gICAgLy8gZXhwbG9kZSBhbnkgb3ZlcmxhcHNcbiAgICBpZiAobW9kZWwub25lLnR5cGVhaGVhZC5oYXNPd25Qcm9wZXJ0eShzdHIpKSB7XG4gICAgICBkZWxldGUgbW9kZWwub25lLnR5cGVhaGVhZFtzdHJdXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgbW9kZWwub25lLnR5cGVhaGVhZFtzdHJdID0gcHJlZml4ZXNbc3RyXVxuICB9KVxuICByZXR1cm4gdGhpc1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHR5cGVhaGVhZDogcHJlcGFyZVxufSIsICJpbXBvcnQgY29tcHV0ZSBmcm9tICcuL2NvbXB1dGUuanMnXG5pbXBvcnQgYXBpIGZyb20gJy4vYXBpLmpzJ1xuaW1wb3J0IGxpYiBmcm9tICcuL2xpYi9pbmRleC5qcydcblxuY29uc3QgbW9kZWwgPSB7XG4gIG9uZToge1xuICAgIHR5cGVhaGVhZDoge30gLy9zZXQgYSBibGFuayBrZXktdmFsXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbW9kZWwsXG4gIGFwaSxcbiAgbGliLFxuICBjb21wdXRlLFxuICBob29rczogWyd0eXBlYWhlYWQnXVxufVxuXG4iLCAiaW1wb3J0IG5scCBmcm9tICcuL25scC5qcycgLy8gNWtiXG5pbXBvcnQgY2FjaGUgZnJvbSAnLi8xLW9uZS9jYWNoZS9wbHVnaW4uanMnXG5pbXBvcnQgY2hhbmdlIGZyb20gJy4vMS1vbmUvY2hhbmdlL3BsdWdpbi5qcydcbmltcG9ydCBjb250cmFjdGlvbnMgZnJvbSAnLi8xLW9uZS9jb250cmFjdGlvbi1vbmUvcGx1Z2luLmpzJ1xuaW1wb3J0IGZyZWV6ZSBmcm9tICcuLzEtb25lL2ZyZWV6ZS9wbHVnaW4uanMnXG5pbXBvcnQgbGV4aWNvbiBmcm9tICcuLzEtb25lL2xleGljb24vcGx1Z2luLmpzJ1xuaW1wb3J0IGxvb2t1cCBmcm9tICcuLzEtb25lL2xvb2t1cC9wbHVnaW4uanMnXG5pbXBvcnQgbWF0Y2ggZnJvbSAnLi8xLW9uZS9tYXRjaC9wbHVnaW4uanMnXG5pbXBvcnQgb3V0cHV0IGZyb20gJy4vMS1vbmUvb3V0cHV0L3BsdWdpbi5qcydcbmltcG9ydCBwb2ludGVycyBmcm9tICcuLzEtb25lL3BvaW50ZXJzL3BsdWdpbi5qcydcbmltcG9ydCBzd2VlcCBmcm9tICcuLzEtb25lL3N3ZWVwL3BsdWdpbi5qcydcbmltcG9ydCB0YWcgZnJvbSAnLi8xLW9uZS90YWcvcGx1Z2luLmpzJ1xuaW1wb3J0IHRva2VuaXplIGZyb20gJy4vMS1vbmUvdG9rZW5pemUvcGx1Z2luLmpzJ1xuaW1wb3J0IHR5cGVhaGVhZCBmcm9tICcuLzEtb25lL3R5cGVhaGVhZC9wbHVnaW4uanMnXG5cbi8vIG9yZGVyIGhlcmUgbWF0dGVyc1xubmxwLmV4dGVuZChjaGFuZ2UpIC8vMGtiXG5ubHAuZXh0ZW5kKG91dHB1dCkgLy8wa2Jcbm5scC5leHRlbmQobWF0Y2gpIC8vMTBrYlxubmxwLmV4dGVuZChwb2ludGVycykgLy8ya2Jcbm5scC5leHRlbmQodGFnKSAvLzJrYlxubmxwLnBsdWdpbihjb250cmFjdGlvbnMpIC8vfjZrYlxubmxwLmV4dGVuZCh0b2tlbml6ZSkgLy83a2Jcbm5scC5leHRlbmQoZnJlZXplKSAvL1xubmxwLnBsdWdpbihjYWNoZSkgLy9+MWtiXG5ubHAuZXh0ZW5kKGxvb2t1cCkgLy83a2Jcbm5scC5leHRlbmQodHlwZWFoZWFkKSAvLzFrYlxubmxwLmV4dGVuZChsZXhpY29uKSAvLzFrYlxubmxwLmV4dGVuZChzd2VlcCkgLy8xa2JcblxuZXhwb3J0IGRlZmF1bHQgbmxwIC8vIDQwa2JcbiIsICJpbXBvcnQgTXVzdGFjaGUgZnJvbSAnbXVzdGFjaGUnO1xuaW1wb3J0IHsgRWRpdG9yIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IG5scCBmcm9tICdjb21wcm9taXNlL29uZSdcblxuZXhwb3J0IGNvbnN0IFRFTVBMQVRFX1ZBUklBQkxFUyA9IGB7e3ByZV9jdXJzb3J9fVxcbnt7cG9zdF9jdXJzb3J9fSBcXG57e2FjdGl2ZV9zZW50ZW5jZX19IFxcbnt7bGFzdF9saW5lfX1gO1xuXG5pbnRlcmZhY2UgVGVtcGxhdGVBcmdzIHtcbiAgICBwcmVfY3Vyc29yOiBzdHJpbmc7XG4gICAgcG9zdF9jdXJzb3I6IHN0cmluZztcbiAgICBhY3RpdmVfc2VudGVuY2U6IHN0cmluZztcbiAgICBsYXN0X2xpbmU6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJlcGFyZVByb21wdChlZGl0b3I6IEVkaXRvciwgdGVtcGxhdGU6IHN0cmluZyA9IFRFTVBMQVRFX1ZBUklBQkxFUyk6IHN0cmluZyB7XG4gICAgY29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgIGNvbnN0IHByZUN1cnNvciA9IGVkaXRvci5nZXRSYW5nZSh7IGxpbmU6IDAsIGNoOiAwIH0sIGN1cnNvcik7XG4gICAgY29uc3QgcG9zdEN1cnNvciA9IGVkaXRvci5nZXRSYW5nZShjdXJzb3IsIHsgbGluZTogZWRpdG9yLmxhc3RMaW5lKCksIGNoOiBlZGl0b3IuZ2V0TGluZShlZGl0b3IubGFzdExpbmUoKSkubGVuZ3RoIH0pO1xuICAgIGNvbnN0IGFjdGl2ZVNlbnRlbmNlID0gbmxwKHByZUN1cnNvcikuZnVsbFNlbnRlbmNlcygpLmxhc3QoKS5vdXQoJ3RleHQnKTtcbiAgICBjb25zdCBsYXN0TGluZSA9IGVkaXRvci5nZXRMaW5lKGVkaXRvci5sYXN0TGluZSgpKTtcblxuICAgIHJldHVybiByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwge1xuICAgICAgICBwcmVfY3Vyc29yOiBwcmVDdXJzb3IsXG4gICAgICAgIHBvc3RfY3Vyc29yOiBwb3N0Q3Vyc29yLFxuICAgICAgICBhY3RpdmVfc2VudGVuY2U6IGFjdGl2ZVNlbnRlbmNlLFxuICAgICAgICBsYXN0X2xpbmU6IGxhc3RMaW5lXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlOiBzdHJpbmcsIGFyZ3M6IFRlbXBsYXRlQXJncyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIE11c3RhY2hlLnJlbmRlcih0ZW1wbGF0ZSwgYXJncyk7XG59IiwgImltcG9ydCB7IE1vZGVsUmVzcG9uc2UsIE9sbGFtYSB9IGZyb20gXCJvbGxhbWFcIjtcbmltcG9ydCB7IE9sbGFtYVNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBFZGl0b3IgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBwcmVwYXJlUHJvbXB0IGZyb20gXCJzcmMvcHJvbXB0L3Byb21wdFwiO1xuaW1wb3J0IHsgQ29tcGxldGlvbk9wdGlvbnMgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzXCI7XG5cbmV4cG9ydCBjbGFzcyBPbGxhbWFQcm92aWRlciBpbXBsZW1lbnRzIFByb3ZpZGVyIHtcbiAgICBjbGllbnQ6IE9sbGFtYVxuICAgIHNldHRpbmdzOiBPbGxhbWFTZXR0aW5ncztcbiAgICBhYm9ydGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5zOiBPbGxhbWFTZXR0aW5ncykge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGlucztcbiAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT2xsYW1hKHsgaG9zdDogdGhpcy5zZXR0aW5ncy5ob3N0IH0pO1xuICAgIH1cblxuICAgIGFzeW5jICpnZW5lcmF0ZShlZGl0b3I6IEVkaXRvciwgb3B0aW9uczogQ29tcGxldGlvbk9wdGlvbnMpOiBBc3luY0dlbmVyYXRvcjxzdHJpbmc+IHtcbiAgICAgICAgdGhpcy5hYm9ydGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHByb21wdCA9IHByZXBhcmVQcm9tcHQoZWRpdG9yLCBvcHRpb25zLnVzZXJQcm9tcHQpO1xuXG4gICAgICAgIGNvbnN0IGNvbXBsZXRpb25JdGVyYXRvciA9IGF3YWl0IHRoaXMuY2xpZW50LmdlbmVyYXRlKHtcbiAgICAgICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsLFxuICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHQsXG4gICAgICAgICAgICBzeXN0ZW06IG9wdGlvbnMuc3lzdGVtUHJvbXB0LFxuICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlOiBvcHRpb25zLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBpbml0aWFsUG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGxldCBjb21wbGV0aW9uID0gXCJcIjtcbiAgICAgICAgZm9yIGF3YWl0IChsZXQgcmVzcG9uc2Ugb2YgY29tcGxldGlvbkl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY3Vyc29yTW92ZWQoZWRpdG9yLCBpbml0aWFsUG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBsZXRpb24gKz0gcmVzcG9uc2UucmVzcG9uc2U7XG4gICAgICAgICAgICB5aWVsZCBjb21wbGV0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjdXJzb3JNb3ZlZChlZGl0b3I6IEVkaXRvciwgaW5pdGlhbFBvc2l0aW9uOiB7IGxpbmU6IG51bWJlciwgY2g6IG51bWJlciB9KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IGVkaXRvci5nZXRDdXJzb3IoKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQb3NpdGlvbi5saW5lICE9PSBpbml0aWFsUG9zaXRpb24ubGluZSB8fCBjdXJyZW50UG9zaXRpb24uY2ggIT09IGluaXRpYWxQb3NpdGlvbi5jaDtcbiAgICB9XG5cbiAgICBhc3luYyBhYm9ydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmNsaWVudC5hYm9ydCgpO1xuICAgICAgICB0aGlzLmFib3J0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZU1vZGVscygpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQubGlzdCgpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLm1vZGVscyA9IHJlc3BvbnNlLm1vZGVscy5tYXAoKG1vZGVsOiBNb2RlbFJlc3BvbnNlKSA9PiBtb2RlbC5uYW1lKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tb2RlbHM7XG4gICAgfVxuXG4gICAgYXN5bmMgY29ubmVjdGlvblRlc3QoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5saXN0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB0ZXN0aW5nIGNvbm5lY3Rpb246XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4iLCAiaW1wb3J0IHR5cGUgeyBGb3JtYXQgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRfZm9ybWF0OiBGb3JtYXQgPSAnUkZDMzk4Nic7XG5leHBvcnQgY29uc3QgZm9ybWF0dGVyczogUmVjb3JkPEZvcm1hdCwgKHN0cjogUHJvcGVydHlLZXkpID0+IHN0cmluZz4gPSB7XG4gIFJGQzE3Mzg6ICh2OiBQcm9wZXJ0eUtleSkgPT4gU3RyaW5nKHYpLnJlcGxhY2UoLyUyMC9nLCAnKycpLFxuICBSRkMzOTg2OiAodjogUHJvcGVydHlLZXkpID0+IFN0cmluZyh2KSxcbn07XG5leHBvcnQgY29uc3QgUkZDMTczOCA9ICdSRkMxNzM4JztcbmV4cG9ydCBjb25zdCBSRkMzOTg2ID0gJ1JGQzM5ODYnO1xuIiwgImltcG9ydCB7IFJGQzE3MzggfSBmcm9tICcuL2Zvcm1hdHMnO1xuaW1wb3J0IHR5cGUgeyBEZWZhdWx0RW5jb2RlciwgRm9ybWF0IH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5jb25zdCBpc19hcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbmNvbnN0IGhleF90YWJsZSA9ICgoKSA9PiB7XG4gIGNvbnN0IGFycmF5ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICBhcnJheS5wdXNoKCclJyArICgoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCkpO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufSkoKTtcblxuZnVuY3Rpb24gY29tcGFjdF9xdWV1ZTxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4ocXVldWU6IEFycmF5PHsgb2JqOiBUOyBwcm9wOiBzdHJpbmcgfT4pIHtcbiAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDEpIHtcbiAgICBjb25zdCBpdGVtID0gcXVldWUucG9wKCk7XG4gICAgaWYgKCFpdGVtKSBjb250aW51ZTtcblxuICAgIGNvbnN0IG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICBpZiAoaXNfYXJyYXkob2JqKSkge1xuICAgICAgY29uc3QgY29tcGFjdGVkOiB1bmtub3duW10gPSBbXTtcblxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvYmoubGVuZ3RoOyArK2opIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbal0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29tcGFjdGVkLnB1c2gob2JqW2pdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBpdGVtLm9ialtpdGVtLnByb3BdID0gY29tcGFjdGVkO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJheV90b19vYmplY3Qoc291cmNlOiBhbnlbXSwgb3B0aW9uczogeyBwbGFpbk9iamVjdHM6IGJvb2xlYW4gfSkge1xuICBjb25zdCBvYmogPSBvcHRpb25zICYmIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgIGlmICh0eXBlb2Ygc291cmNlW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgb2JqW2ldID0gc291cmNlW2ldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShcbiAgdGFyZ2V0OiBhbnksXG4gIHNvdXJjZTogYW55LFxuICBvcHRpb25zOiB7IHBsYWluT2JqZWN0cz86IGJvb2xlYW47IGFsbG93UHJvdG90eXBlcz86IGJvb2xlYW4gfSA9IHt9LFxuKSB7XG4gIGlmICghc291cmNlKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xuICAgIGlmIChpc19hcnJheSh0YXJnZXQpKSB7XG4gICAgICB0YXJnZXQucHVzaChzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoXG4gICAgICAgIChvcHRpb25zICYmIChvcHRpb25zLnBsYWluT2JqZWN0cyB8fCBvcHRpb25zLmFsbG93UHJvdG90eXBlcykpIHx8XG4gICAgICAgICFoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzb3VyY2UpXG4gICAgICApIHtcbiAgICAgICAgdGFyZ2V0W3NvdXJjZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW3RhcmdldCwgc291cmNlXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgaWYgKCF0YXJnZXQgfHwgdHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gW3RhcmdldF0uY29uY2F0KHNvdXJjZSk7XG4gIH1cblxuICBsZXQgbWVyZ2VUYXJnZXQgPSB0YXJnZXQ7XG4gIGlmIChpc19hcnJheSh0YXJnZXQpICYmICFpc19hcnJheShzb3VyY2UpKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG1lcmdlVGFyZ2V0ID0gYXJyYXlfdG9fb2JqZWN0KHRhcmdldCwgb3B0aW9ucyk7XG4gIH1cblxuICBpZiAoaXNfYXJyYXkodGFyZ2V0KSAmJiBpc19hcnJheShzb3VyY2UpKSB7XG4gICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgIGlmIChoYXMuY2FsbCh0YXJnZXQsIGkpKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldEl0ZW0gPSB0YXJnZXRbaV07XG4gICAgICAgIGlmICh0YXJnZXRJdGVtICYmIHR5cGVvZiB0YXJnZXRJdGVtID09PSAnb2JqZWN0JyAmJiBpdGVtICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRhcmdldFtpXSA9IG1lcmdlKHRhcmdldEl0ZW0sIGl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldC5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRbaV0gPSBpdGVtO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgY29uc3QgdmFsdWUgPSBzb3VyY2Vba2V5XTtcblxuICAgIGlmIChoYXMuY2FsbChhY2MsIGtleSkpIHtcbiAgICAgIGFjY1trZXldID0gbWVyZ2UoYWNjW2tleV0sIHZhbHVlLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgbWVyZ2VUYXJnZXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduX3NpbmdsZV9zb3VyY2UodGFyZ2V0OiBhbnksIHNvdXJjZTogYW55KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICBhY2Nba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHRhcmdldCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUoc3RyOiBzdHJpbmcsIF86IGFueSwgY2hhcnNldDogc3RyaW5nKSB7XG4gIGNvbnN0IHN0cldpdGhvdXRQbHVzID0gc3RyLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgLy8gdW5lc2NhcGUgbmV2ZXIgdGhyb3dzLCBubyB0cnkuLi5jYXRjaCBuZWVkZWQ6XG4gICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzLnJlcGxhY2UoLyVbMC05YS1mXXsyfS9naSwgdW5lc2NhcGUpO1xuICB9XG4gIC8vIHV0Zi04XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHJXaXRob3V0UGx1cyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gc3RyV2l0aG91dFBsdXM7XG4gIH1cbn1cblxuY29uc3QgbGltaXQgPSAxMDI0O1xuXG5leHBvcnQgY29uc3QgZW5jb2RlOiAoXG4gIHN0cjogYW55LFxuICBkZWZhdWx0RW5jb2RlcjogRGVmYXVsdEVuY29kZXIsXG4gIGNoYXJzZXQ6IHN0cmluZyxcbiAgdHlwZTogJ2tleScgfCAndmFsdWUnLFxuICBmb3JtYXQ6IEZvcm1hdCxcbikgPT4gc3RyaW5nID0gKHN0ciwgX2RlZmF1bHRFbmNvZGVyLCBjaGFyc2V0LCBfa2luZCwgZm9ybWF0OiBGb3JtYXQpID0+IHtcbiAgLy8gVGhpcyBjb2RlIHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gYnkgQnJpYW4gV2hpdGUgZm9yIHRoZSBpby5qcyBjb3JlIHF1ZXJ5c3RyaW5nIGxpYnJhcnkuXG4gIC8vIEl0IGhhcyBiZWVuIGFkYXB0ZWQgaGVyZSBmb3Igc3RyaWN0ZXIgYWRoZXJlbmNlIHRvIFJGQyAzOTg2XG4gIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIGxldCBzdHJpbmcgPSBzdHI7XG4gIGlmICh0eXBlb2Ygc3RyID09PSAnc3ltYm9sJykge1xuICAgIHN0cmluZyA9IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdHIpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gU3RyaW5nKHN0cik7XG4gIH1cblxuICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgcmV0dXJuIGVzY2FwZShzdHJpbmcpLnJlcGxhY2UoLyV1WzAtOWEtZl17NH0vZ2ksIGZ1bmN0aW9uICgkMCkge1xuICAgICAgcmV0dXJuICclMjYlMjMnICsgcGFyc2VJbnQoJDAuc2xpY2UoMiksIDE2KSArICclM0InO1xuICAgIH0pO1xuICB9XG5cbiAgbGV0IG91dCA9ICcnO1xuICBmb3IgKGxldCBqID0gMDsgaiA8IHN0cmluZy5sZW5ndGg7IGogKz0gbGltaXQpIHtcbiAgICBjb25zdCBzZWdtZW50ID0gc3RyaW5nLmxlbmd0aCA+PSBsaW1pdCA/IHN0cmluZy5zbGljZShqLCBqICsgbGltaXQpIDogc3RyaW5nO1xuICAgIGNvbnN0IGFyciA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZXQgYyA9IHNlZ21lbnQuY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChcbiAgICAgICAgYyA9PT0gMHgyZCB8fCAvLyAtXG4gICAgICAgIGMgPT09IDB4MmUgfHwgLy8gLlxuICAgICAgICBjID09PSAweDVmIHx8IC8vIF9cbiAgICAgICAgYyA9PT0gMHg3ZSB8fCAvLyB+XG4gICAgICAgIChjID49IDB4MzAgJiYgYyA8PSAweDM5KSB8fCAvLyAwLTlcbiAgICAgICAgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NWEpIHx8IC8vIGEtelxuICAgICAgICAoYyA+PSAweDYxICYmIGMgPD0gMHg3YSkgfHwgLy8gQS1aXG4gICAgICAgIChmb3JtYXQgPT09IFJGQzE3MzggJiYgKGMgPT09IDB4MjggfHwgYyA9PT0gMHgyOSkpIC8vICggKVxuICAgICAgKSB7XG4gICAgICAgIGFyclthcnIubGVuZ3RoXSA9IHNlZ21lbnQuY2hhckF0KGkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgIGFyclthcnIubGVuZ3RoXSA9IGhleF90YWJsZVtjXTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgYXJyW2Fyci5sZW5ndGhdID0gaGV4X3RhYmxlWzB4YzAgfCAoYyA+PiA2KV0hICsgaGV4X3RhYmxlWzB4ODAgfCAoYyAmIDB4M2YpXTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjIDwgMHhkODAwIHx8IGMgPj0gMHhlMDAwKSB7XG4gICAgICAgIGFyclthcnIubGVuZ3RoXSA9XG4gICAgICAgICAgaGV4X3RhYmxlWzB4ZTAgfCAoYyA+PiAxMildISArIGhleF90YWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzZildICsgaGV4X3RhYmxlWzB4ODAgfCAoYyAmIDB4M2YpXTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGkgKz0gMTtcbiAgICAgIGMgPSAweDEwMDAwICsgKCgoYyAmIDB4M2ZmKSA8PCAxMCkgfCAoc2VnbWVudC5jaGFyQ29kZUF0KGkpICYgMHgzZmYpKTtcblxuICAgICAgYXJyW2Fyci5sZW5ndGhdID1cbiAgICAgICAgaGV4X3RhYmxlWzB4ZjAgfCAoYyA+PiAxOCldISArXG4gICAgICAgIGhleF90YWJsZVsweDgwIHwgKChjID4+IDEyKSAmIDB4M2YpXSArXG4gICAgICAgIGhleF90YWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzZildICtcbiAgICAgICAgaGV4X3RhYmxlWzB4ODAgfCAoYyAmIDB4M2YpXTtcbiAgICB9XG5cbiAgICBvdXQgKz0gYXJyLmpvaW4oJycpO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYWN0KHZhbHVlOiBhbnkpIHtcbiAgY29uc3QgcXVldWUgPSBbeyBvYmo6IHsgbzogdmFsdWUgfSwgcHJvcDogJ28nIH1dO1xuICBjb25zdCByZWZzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IGl0ZW0gPSBxdWV1ZVtpXTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3Qgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcblxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwga2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tqXSE7XG4gICAgICBjb25zdCB2YWwgPSBvYmpba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwgJiYgcmVmcy5pbmRleE9mKHZhbCkgPT09IC0xKSB7XG4gICAgICAgIHF1ZXVlLnB1c2goeyBvYmo6IG9iaiwgcHJvcDoga2V5IH0pO1xuICAgICAgICByZWZzLnB1c2godmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wYWN0X3F1ZXVlKHF1ZXVlKTtcblxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc19yZWdleHAob2JqOiBhbnkpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzX2J1ZmZlcihvYmo6IGFueSkge1xuICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiAhIShvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmUoYTogYW55LCBiOiBhbnkpIHtcbiAgcmV0dXJuIFtdLmNvbmNhdChhLCBiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1heWJlX21hcDxUPih2YWw6IFRbXSwgZm46ICh2OiBUKSA9PiBUKSB7XG4gIGlmIChpc19hcnJheSh2YWwpKSB7XG4gICAgY29uc3QgbWFwcGVkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIG1hcHBlZC5wdXNoKGZuKHZhbFtpXSEpKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcHBlZDtcbiAgfVxuICByZXR1cm4gZm4odmFsKTtcbn1cbiIsICJpbXBvcnQgeyBlbmNvZGUsIGlzX2J1ZmZlciwgbWF5YmVfbWFwIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBkZWZhdWx0X2Zvcm1hdCwgZm9ybWF0dGVycyB9IGZyb20gJy4vZm9ybWF0cyc7XG5pbXBvcnQgdHlwZSB7IE5vbk51bGxhYmxlUHJvcGVydGllcywgU3RyaW5naWZ5T3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5jb25zdCBhcnJheV9wcmVmaXhfZ2VuZXJhdG9ycyA9IHtcbiAgYnJhY2tldHMocHJlZml4OiBQcm9wZXJ0eUtleSkge1xuICAgIHJldHVybiBTdHJpbmcocHJlZml4KSArICdbXSc7XG4gIH0sXG4gIGNvbW1hOiAnY29tbWEnLFxuICBpbmRpY2VzKHByZWZpeDogUHJvcGVydHlLZXksIGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIFN0cmluZyhwcmVmaXgpICsgJ1snICsga2V5ICsgJ10nO1xuICB9LFxuICByZXBlYXQocHJlZml4OiBQcm9wZXJ0eUtleSkge1xuICAgIHJldHVybiBTdHJpbmcocHJlZml4KTtcbiAgfSxcbn07XG5cbmNvbnN0IGlzX2FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IHB1c2ggPSBBcnJheS5wcm90b3R5cGUucHVzaDtcbmNvbnN0IHB1c2hfdG9fYXJyYXkgPSBmdW5jdGlvbiAoYXJyOiBhbnlbXSwgdmFsdWVfb3JfYXJyYXk6IGFueSkge1xuICBwdXNoLmFwcGx5KGFyciwgaXNfYXJyYXkodmFsdWVfb3JfYXJyYXkpID8gdmFsdWVfb3JfYXJyYXkgOiBbdmFsdWVfb3JfYXJyYXldKTtcbn07XG5cbmNvbnN0IHRvX0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgYWRkUXVlcnlQcmVmaXg6IGZhbHNlLFxuICBhbGxvd0RvdHM6IGZhbHNlLFxuICBhbGxvd0VtcHR5QXJyYXlzOiBmYWxzZSxcbiAgYXJyYXlGb3JtYXQ6ICdpbmRpY2VzJyxcbiAgY2hhcnNldDogJ3V0Zi04JyxcbiAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgZGVsaW1pdGVyOiAnJicsXG4gIGVuY29kZTogdHJ1ZSxcbiAgZW5jb2RlRG90SW5LZXlzOiBmYWxzZSxcbiAgZW5jb2RlcjogZW5jb2RlLFxuICBlbmNvZGVWYWx1ZXNPbmx5OiBmYWxzZSxcbiAgZm9ybWF0OiBkZWZhdWx0X2Zvcm1hdCxcbiAgZm9ybWF0dGVyOiBmb3JtYXR0ZXJzW2RlZmF1bHRfZm9ybWF0XSxcbiAgLyoqIEBkZXByZWNhdGVkICovXG4gIGluZGljZXM6IGZhbHNlLFxuICBzZXJpYWxpemVEYXRlKGRhdGUpIHtcbiAgICByZXR1cm4gdG9fSVNPLmNhbGwoZGF0ZSk7XG4gIH0sXG4gIHNraXBOdWxsczogZmFsc2UsXG4gIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2UsXG59IGFzIE5vbk51bGxhYmxlUHJvcGVydGllczxTdHJpbmdpZnlPcHRpb25zICYgeyBmb3JtYXR0ZXI6ICh0eXBlb2YgZm9ybWF0dGVycylbJ1JGQzE3MzgnXSB9PjtcblxuZnVuY3Rpb24gaXNfbm9uX251bGxpc2hfcHJpbWl0aXZlKHY6IHVua25vd24pOiB2IGlzIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBzeW1ib2wgfCBiaWdpbnQge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB2ID09PSAnc3RyaW5nJyB8fFxuICAgIHR5cGVvZiB2ID09PSAnbnVtYmVyJyB8fFxuICAgIHR5cGVvZiB2ID09PSAnYm9vbGVhbicgfHxcbiAgICB0eXBlb2YgdiA9PT0gJ3N5bWJvbCcgfHxcbiAgICB0eXBlb2YgdiA9PT0gJ2JpZ2ludCdcbiAgKTtcbn1cblxuY29uc3Qgc2VudGluZWwgPSB7fTtcblxuZnVuY3Rpb24gaW5uZXJfc3RyaW5naWZ5KFxuICBvYmplY3Q6IGFueSxcbiAgcHJlZml4OiBQcm9wZXJ0eUtleSxcbiAgZ2VuZXJhdGVBcnJheVByZWZpeDogU3RyaW5naWZ5T3B0aW9uc1snYXJyYXlGb3JtYXQnXSB8ICgocHJlZml4OiBzdHJpbmcsIGtleTogc3RyaW5nKSA9PiBzdHJpbmcpLFxuICBjb21tYVJvdW5kVHJpcDogYm9vbGVhbixcbiAgYWxsb3dFbXB0eUFycmF5czogYm9vbGVhbixcbiAgc3RyaWN0TnVsbEhhbmRsaW5nOiBib29sZWFuLFxuICBza2lwTnVsbHM6IGJvb2xlYW4sXG4gIGVuY29kZURvdEluS2V5czogYm9vbGVhbixcbiAgZW5jb2RlcjogU3RyaW5naWZ5T3B0aW9uc1snZW5jb2RlciddLFxuICBmaWx0ZXI6IFN0cmluZ2lmeU9wdGlvbnNbJ2ZpbHRlciddLFxuICBzb3J0OiBTdHJpbmdpZnlPcHRpb25zWydzb3J0J10sXG4gIGFsbG93RG90czogU3RyaW5naWZ5T3B0aW9uc1snYWxsb3dEb3RzJ10sXG4gIHNlcmlhbGl6ZURhdGU6IFN0cmluZ2lmeU9wdGlvbnNbJ3NlcmlhbGl6ZURhdGUnXSxcbiAgZm9ybWF0OiBTdHJpbmdpZnlPcHRpb25zWydmb3JtYXQnXSxcbiAgZm9ybWF0dGVyOiBTdHJpbmdpZnlPcHRpb25zWydmb3JtYXR0ZXInXSxcbiAgZW5jb2RlVmFsdWVzT25seTogYm9vbGVhbixcbiAgY2hhcnNldDogU3RyaW5naWZ5T3B0aW9uc1snY2hhcnNldCddLFxuICBzaWRlQ2hhbm5lbDogV2Vha01hcDxhbnksIGFueT4sXG4pIHtcbiAgbGV0IG9iaiA9IG9iamVjdDtcblxuICBsZXQgdG1wX3NjID0gc2lkZUNoYW5uZWw7XG4gIGxldCBzdGVwID0gMDtcbiAgbGV0IGZpbmRfZmxhZyA9IGZhbHNlO1xuICB3aGlsZSAoKHRtcF9zYyA9IHRtcF9zYy5nZXQoc2VudGluZWwpKSAhPT0gdm9pZCB1bmRlZmluZWQgJiYgIWZpbmRfZmxhZykge1xuICAgIC8vIFdoZXJlIG9iamVjdCBsYXN0IGFwcGVhcmVkIGluIHRoZSByZWYgdHJlZVxuICAgIGNvbnN0IHBvcyA9IHRtcF9zYy5nZXQob2JqZWN0KTtcbiAgICBzdGVwICs9IDE7XG4gICAgaWYgKHR5cGVvZiBwb3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAocG9zID09PSBzdGVwKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdDeWNsaWMgb2JqZWN0IHZhbHVlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaW5kX2ZsYWcgPSB0cnVlOyAvLyBCcmVhayB3aGlsZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHRtcF9zYy5nZXQoc2VudGluZWwpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgc3RlcCA9IDA7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvYmogPSBmaWx0ZXIocHJlZml4LCBvYmopO1xuICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICBvYmogPSBzZXJpYWxpemVEYXRlPy4ob2JqKTtcbiAgfSBlbHNlIGlmIChnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIGlzX2FycmF5KG9iaikpIHtcbiAgICBvYmogPSBtYXliZV9tYXAob2JqLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZURhdGU/Lih2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgaWYgKHN0cmljdE51bGxIYW5kbGluZykge1xuICAgICAgcmV0dXJuIGVuY29kZXIgJiYgIWVuY29kZVZhbHVlc09ubHkgP1xuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScsIGZvcm1hdClcbiAgICAgICAgOiBwcmVmaXg7XG4gICAgfVxuXG4gICAgb2JqID0gJyc7XG4gIH1cblxuICBpZiAoaXNfbm9uX251bGxpc2hfcHJpbWl0aXZlKG9iaikgfHwgaXNfYnVmZmVyKG9iaikpIHtcbiAgICBpZiAoZW5jb2Rlcikge1xuICAgICAgY29uc3Qga2V5X3ZhbHVlID1cbiAgICAgICAgZW5jb2RlVmFsdWVzT25seSA/IHByZWZpeFxuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgOiBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScsIGZvcm1hdCk7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBmb3JtYXR0ZXI/LihrZXlfdmFsdWUpICtcbiAgICAgICAgICAnPScgK1xuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICBmb3JtYXR0ZXI/LihlbmNvZGVyKG9iaiwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ3ZhbHVlJywgZm9ybWF0KSksXG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gW2Zvcm1hdHRlcj8uKHByZWZpeCkgKyAnPScgKyBmb3JtYXR0ZXI/LihTdHJpbmcob2JqKSldO1xuICB9XG5cbiAgY29uc3QgdmFsdWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICBsZXQgb2JqX2tleXM7XG4gIGlmIChnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIGlzX2FycmF5KG9iaikpIHtcbiAgICAvLyB3ZSBuZWVkIHRvIGpvaW4gZWxlbWVudHMgaW5cbiAgICBpZiAoZW5jb2RlVmFsdWVzT25seSAmJiBlbmNvZGVyKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHZhbHVlcyBvbmx5XG4gICAgICBvYmogPSBtYXliZV9tYXAob2JqLCBlbmNvZGVyKTtcbiAgICB9XG4gICAgb2JqX2tleXMgPSBbeyB2YWx1ZTogb2JqLmxlbmd0aCA+IDAgPyBvYmouam9pbignLCcpIHx8IG51bGwgOiB2b2lkIHVuZGVmaW5lZCB9XTtcbiAgfSBlbHNlIGlmIChpc19hcnJheShmaWx0ZXIpKSB7XG4gICAgb2JqX2tleXMgPSBmaWx0ZXI7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgb2JqX2tleXMgPSBzb3J0ID8ga2V5cy5zb3J0KHNvcnQpIDoga2V5cztcbiAgfVxuXG4gIGNvbnN0IGVuY29kZWRfcHJlZml4ID0gZW5jb2RlRG90SW5LZXlzID8gU3RyaW5nKHByZWZpeCkucmVwbGFjZSgvXFwuL2csICclMkUnKSA6IFN0cmluZyhwcmVmaXgpO1xuXG4gIGNvbnN0IGFkanVzdGVkX3ByZWZpeCA9XG4gICAgY29tbWFSb3VuZFRyaXAgJiYgaXNfYXJyYXkob2JqKSAmJiBvYmoubGVuZ3RoID09PSAxID8gZW5jb2RlZF9wcmVmaXggKyAnW10nIDogZW5jb2RlZF9wcmVmaXg7XG5cbiAgaWYgKGFsbG93RW1wdHlBcnJheXMgJiYgaXNfYXJyYXkob2JqKSAmJiBvYmoubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGFkanVzdGVkX3ByZWZpeCArICdbXSc7XG4gIH1cblxuICBmb3IgKGxldCBqID0gMDsgaiA8IG9ial9rZXlzLmxlbmd0aDsgKytqKSB7XG4gICAgY29uc3Qga2V5ID0gb2JqX2tleXNbal07XG4gICAgY29uc3QgdmFsdWUgPVxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdHlwZW9mIGtleSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGtleS52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgPyBrZXkudmFsdWUgOiBvYmpba2V5IGFzIGFueV07XG5cbiAgICBpZiAoc2tpcE51bGxzICYmIHZhbHVlID09PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgZW5jb2RlZF9rZXkgPSBhbGxvd0RvdHMgJiYgZW5jb2RlRG90SW5LZXlzID8gKGtleSBhcyBhbnkpLnJlcGxhY2UoL1xcLi9nLCAnJTJFJykgOiBrZXk7XG4gICAgY29uc3Qga2V5X3ByZWZpeCA9XG4gICAgICBpc19hcnJheShvYmopID9cbiAgICAgICAgdHlwZW9mIGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgoYWRqdXN0ZWRfcHJlZml4LCBlbmNvZGVkX2tleSlcbiAgICAgICAgOiBhZGp1c3RlZF9wcmVmaXhcbiAgICAgIDogYWRqdXN0ZWRfcHJlZml4ICsgKGFsbG93RG90cyA/ICcuJyArIGVuY29kZWRfa2V5IDogJ1snICsgZW5jb2RlZF9rZXkgKyAnXScpO1xuXG4gICAgc2lkZUNoYW5uZWwuc2V0KG9iamVjdCwgc3RlcCk7XG4gICAgY29uc3QgdmFsdWVTaWRlQ2hhbm5lbCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgdmFsdWVTaWRlQ2hhbm5lbC5zZXQoc2VudGluZWwsIHNpZGVDaGFubmVsKTtcbiAgICBwdXNoX3RvX2FycmF5KFxuICAgICAgdmFsdWVzLFxuICAgICAgaW5uZXJfc3RyaW5naWZ5KFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAga2V5X3ByZWZpeCxcbiAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgY29tbWFSb3VuZFRyaXAsXG4gICAgICAgIGFsbG93RW1wdHlBcnJheXMsXG4gICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgc2tpcE51bGxzLFxuICAgICAgICBlbmNvZGVEb3RJbktleXMsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBlbmNvZGVWYWx1ZXNPbmx5ICYmIGlzX2FycmF5KG9iaikgPyBudWxsIDogZW5jb2RlcixcbiAgICAgICAgZmlsdGVyLFxuICAgICAgICBzb3J0LFxuICAgICAgICBhbGxvd0RvdHMsXG4gICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgIGZvcm1hdCxcbiAgICAgICAgZm9ybWF0dGVyLFxuICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICBjaGFyc2V0LFxuICAgICAgICB2YWx1ZVNpZGVDaGFubmVsLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplX3N0cmluZ2lmeV9vcHRpb25zKFxuICBvcHRzOiBTdHJpbmdpZnlPcHRpb25zID0gZGVmYXVsdHMsXG4pOiBOb25OdWxsYWJsZVByb3BlcnRpZXM8T21pdDxTdHJpbmdpZnlPcHRpb25zLCAnaW5kaWNlcyc+PiAmIHsgaW5kaWNlcz86IGJvb2xlYW4gfSB7XG4gIGlmICh0eXBlb2Ygb3B0cy5hbGxvd0VtcHR5QXJyYXlzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb3B0cy5hbGxvd0VtcHR5QXJyYXlzICE9PSAnYm9vbGVhbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgYWxsb3dFbXB0eUFycmF5c2Agb3B0aW9uIGNhbiBvbmx5IGJlIGB0cnVlYCBvciBgZmFsc2VgLCB3aGVuIHByb3ZpZGVkJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIG9wdHMuZW5jb2RlRG90SW5LZXlzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb3B0cy5lbmNvZGVEb3RJbktleXMgIT09ICdib29sZWFuJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2BlbmNvZGVEb3RJbktleXNgIG9wdGlvbiBjYW4gb25seSBiZSBgdHJ1ZWAgb3IgYGZhbHNlYCwgd2hlbiBwcm92aWRlZCcpO1xuICB9XG5cbiAgaWYgKG9wdHMuZW5jb2RlciAhPT0gbnVsbCAmJiB0eXBlb2Ygb3B0cy5lbmNvZGVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb3B0cy5lbmNvZGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRW5jb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIGNvbnN0IGNoYXJzZXQgPSBvcHRzLmNoYXJzZXQgfHwgZGVmYXVsdHMuY2hhcnNldDtcbiAgaWYgKHR5cGVvZiBvcHRzLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdHMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRzLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gIH1cblxuICBsZXQgZm9ybWF0ID0gZGVmYXVsdF9mb3JtYXQ7XG4gIGlmICh0eXBlb2Ygb3B0cy5mb3JtYXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKCFoYXMuY2FsbChmb3JtYXR0ZXJzLCBvcHRzLmZvcm1hdCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZm9ybWF0IG9wdGlvbiBwcm92aWRlZC4nKTtcbiAgICB9XG4gICAgZm9ybWF0ID0gb3B0cy5mb3JtYXQ7XG4gIH1cbiAgY29uc3QgZm9ybWF0dGVyID0gZm9ybWF0dGVyc1tmb3JtYXRdO1xuXG4gIGxldCBmaWx0ZXIgPSBkZWZhdWx0cy5maWx0ZXI7XG4gIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicgfHwgaXNfYXJyYXkob3B0cy5maWx0ZXIpKSB7XG4gICAgZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gIH1cblxuICBsZXQgYXJyYXlGb3JtYXQ6IFN0cmluZ2lmeU9wdGlvbnNbJ2FycmF5Rm9ybWF0J107XG4gIGlmIChvcHRzLmFycmF5Rm9ybWF0ICYmIG9wdHMuYXJyYXlGb3JtYXQgaW4gYXJyYXlfcHJlZml4X2dlbmVyYXRvcnMpIHtcbiAgICBhcnJheUZvcm1hdCA9IG9wdHMuYXJyYXlGb3JtYXQ7XG4gIH0gZWxzZSBpZiAoJ2luZGljZXMnIGluIG9wdHMpIHtcbiAgICBhcnJheUZvcm1hdCA9IG9wdHMuaW5kaWNlcyA/ICdpbmRpY2VzJyA6ICdyZXBlYXQnO1xuICB9IGVsc2Uge1xuICAgIGFycmF5Rm9ybWF0ID0gZGVmYXVsdHMuYXJyYXlGb3JtYXQ7XG4gIH1cblxuICBpZiAoJ2NvbW1hUm91bmRUcmlwJyBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLmNvbW1hUm91bmRUcmlwICE9PSAnYm9vbGVhbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgY29tbWFSb3VuZFRyaXBgIG11c3QgYmUgYSBib29sZWFuLCBvciBhYnNlbnQnKTtcbiAgfVxuXG4gIGNvbnN0IGFsbG93RG90cyA9XG4gICAgdHlwZW9mIG9wdHMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/XG4gICAgICAhIW9wdHMuZW5jb2RlRG90SW5LZXlzID09PSB0cnVlID9cbiAgICAgICAgdHJ1ZVxuICAgICAgOiBkZWZhdWx0cy5hbGxvd0RvdHNcbiAgICA6ICEhb3B0cy5hbGxvd0RvdHM7XG5cbiAgcmV0dXJuIHtcbiAgICBhZGRRdWVyeVByZWZpeDogdHlwZW9mIG9wdHMuYWRkUXVlcnlQcmVmaXggPT09ICdib29sZWFuJyA/IG9wdHMuYWRkUXVlcnlQcmVmaXggOiBkZWZhdWx0cy5hZGRRdWVyeVByZWZpeCxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgYWxsb3dEb3RzOiBhbGxvd0RvdHMsXG4gICAgYWxsb3dFbXB0eUFycmF5czpcbiAgICAgIHR5cGVvZiBvcHRzLmFsbG93RW1wdHlBcnJheXMgPT09ICdib29sZWFuJyA/ICEhb3B0cy5hbGxvd0VtcHR5QXJyYXlzIDogZGVmYXVsdHMuYWxsb3dFbXB0eUFycmF5cyxcbiAgICBhcnJheUZvcm1hdDogYXJyYXlGb3JtYXQsXG4gICAgY2hhcnNldDogY2hhcnNldCxcbiAgICBjaGFyc2V0U2VudGluZWw6XG4gICAgICB0eXBlb2Ygb3B0cy5jaGFyc2V0U2VudGluZWwgPT09ICdib29sZWFuJyA/IG9wdHMuY2hhcnNldFNlbnRpbmVsIDogZGVmYXVsdHMuY2hhcnNldFNlbnRpbmVsLFxuICAgIGNvbW1hUm91bmRUcmlwOiAhIW9wdHMuY29tbWFSb3VuZFRyaXAsXG4gICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0cy5kZWxpbWl0ZXIsXG4gICAgZW5jb2RlOiB0eXBlb2Ygb3B0cy5lbmNvZGUgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlIDogZGVmYXVsdHMuZW5jb2RlLFxuICAgIGVuY29kZURvdEluS2V5czpcbiAgICAgIHR5cGVvZiBvcHRzLmVuY29kZURvdEluS2V5cyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5lbmNvZGVEb3RJbktleXMgOiBkZWZhdWx0cy5lbmNvZGVEb3RJbktleXMsXG4gICAgZW5jb2RlcjogdHlwZW9mIG9wdHMuZW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZW5jb2RlciA6IGRlZmF1bHRzLmVuY29kZXIsXG4gICAgZW5jb2RlVmFsdWVzT25seTpcbiAgICAgIHR5cGVvZiBvcHRzLmVuY29kZVZhbHVlc09ubHkgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlVmFsdWVzT25seSA6IGRlZmF1bHRzLmVuY29kZVZhbHVlc09ubHksXG4gICAgZmlsdGVyOiBmaWx0ZXIsXG4gICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgZm9ybWF0dGVyOiBmb3JtYXR0ZXIsXG4gICAgc2VyaWFsaXplRGF0ZTogdHlwZW9mIG9wdHMuc2VyaWFsaXplRGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc2VyaWFsaXplRGF0ZSA6IGRlZmF1bHRzLnNlcmlhbGl6ZURhdGUsXG4gICAgc2tpcE51bGxzOiB0eXBlb2Ygb3B0cy5za2lwTnVsbHMgPT09ICdib29sZWFuJyA/IG9wdHMuc2tpcE51bGxzIDogZGVmYXVsdHMuc2tpcE51bGxzLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBzb3J0OiB0eXBlb2Ygb3B0cy5zb3J0ID09PSAnZnVuY3Rpb24nID8gb3B0cy5zb3J0IDogbnVsbCxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6XG4gICAgICB0eXBlb2Ygb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KG9iamVjdDogYW55LCBvcHRzOiBTdHJpbmdpZnlPcHRpb25zID0ge30pIHtcbiAgbGV0IG9iaiA9IG9iamVjdDtcbiAgY29uc3Qgb3B0aW9ucyA9IG5vcm1hbGl6ZV9zdHJpbmdpZnlfb3B0aW9ucyhvcHRzKTtcblxuICBsZXQgb2JqX2tleXM6IFByb3BlcnR5S2V5W10gfCB1bmRlZmluZWQ7XG4gIGxldCBmaWx0ZXI7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgIG9iaiA9IGZpbHRlcignJywgb2JqKTtcbiAgfSBlbHNlIGlmIChpc19hcnJheShvcHRpb25zLmZpbHRlcikpIHtcbiAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICBvYmpfa2V5cyA9IGZpbHRlcjtcbiAgfVxuXG4gIGNvbnN0IGtleXM6IHN0cmluZ1tdID0gW107XG5cbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGNvbnN0IGdlbmVyYXRlQXJyYXlQcmVmaXggPSBhcnJheV9wcmVmaXhfZ2VuZXJhdG9yc1tvcHRpb25zLmFycmF5Rm9ybWF0XTtcbiAgY29uc3QgY29tbWFSb3VuZFRyaXAgPSBnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIG9wdGlvbnMuY29tbWFSb3VuZFRyaXA7XG5cbiAgaWYgKCFvYmpfa2V5cykge1xuICAgIG9ial9rZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICBvYmpfa2V5cy5zb3J0KG9wdGlvbnMuc29ydCk7XG4gIH1cblxuICBjb25zdCBzaWRlQ2hhbm5lbCA9IG5ldyBXZWFrTWFwKCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqX2tleXMubGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCBrZXkgPSBvYmpfa2V5c1tpXSE7XG5cbiAgICBpZiAob3B0aW9ucy5za2lwTnVsbHMgJiYgb2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBwdXNoX3RvX2FycmF5KFxuICAgICAga2V5cyxcbiAgICAgIGlubmVyX3N0cmluZ2lmeShcbiAgICAgICAgb2JqW2tleV0sXG4gICAgICAgIGtleSxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICBjb21tYVJvdW5kVHJpcCxcbiAgICAgICAgb3B0aW9ucy5hbGxvd0VtcHR5QXJyYXlzLFxuICAgICAgICBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgb3B0aW9ucy5za2lwTnVsbHMsXG4gICAgICAgIG9wdGlvbnMuZW5jb2RlRG90SW5LZXlzLFxuICAgICAgICBvcHRpb25zLmVuY29kZSA/IG9wdGlvbnMuZW5jb2RlciA6IG51bGwsXG4gICAgICAgIG9wdGlvbnMuZmlsdGVyLFxuICAgICAgICBvcHRpb25zLnNvcnQsXG4gICAgICAgIG9wdGlvbnMuYWxsb3dEb3RzLFxuICAgICAgICBvcHRpb25zLnNlcmlhbGl6ZURhdGUsXG4gICAgICAgIG9wdGlvbnMuZm9ybWF0LFxuICAgICAgICBvcHRpb25zLmZvcm1hdHRlcixcbiAgICAgICAgb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICBvcHRpb25zLmNoYXJzZXQsXG4gICAgICAgIHNpZGVDaGFubmVsLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3Qgam9pbmVkID0ga2V5cy5qb2luKG9wdGlvbnMuZGVsaW1pdGVyKTtcbiAgbGV0IHByZWZpeCA9IG9wdGlvbnMuYWRkUXVlcnlQcmVmaXggPT09IHRydWUgPyAnPycgOiAnJztcblxuICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgnJiMxMDAwMzsnKSwgdGhlIFwibnVtZXJpYyBlbnRpdHlcIiByZXByZXNlbnRhdGlvbiBvZiBhIGNoZWNrbWFya1xuICAgICAgcHJlZml4ICs9ICd1dGY4PSUyNiUyMzEwMDAzJTNCJic7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgnXHUyNzEzJylcbiAgICAgIHByZWZpeCArPSAndXRmOD0lRTIlOUMlOTMmJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gam9pbmVkLmxlbmd0aCA+IDAgPyBwcmVmaXggKyBqb2luZWQgOiAnJztcbn1cbiIsICJleHBvcnQgY29uc3QgVkVSU0lPTiA9ICc0Ljg4LjAnOyAvLyB4LXJlbGVhc2UtcGxlYXNlLXZlcnNpb25cbiIsICIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmltcG9ydCB7IHR5cGUgUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi9jb3JlJztcblxuZXhwb3J0IGludGVyZmFjZSBTaGltcyB7XG4gIGtpbmQ6IHN0cmluZztcbiAgZmV0Y2g6IGFueTtcbiAgUmVxdWVzdDogYW55O1xuICBSZXNwb25zZTogYW55O1xuICBIZWFkZXJzOiBhbnk7XG4gIEZvcm1EYXRhOiBhbnk7XG4gIEJsb2I6IGFueTtcbiAgRmlsZTogYW55O1xuICBSZWFkYWJsZVN0cmVhbTogYW55O1xuICBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9uczogPFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oXG4gICAgZm9ybTogU2hpbXNbJ0Zvcm1EYXRhJ10sXG4gICAgb3B0czogUmVxdWVzdE9wdGlvbnM8VD4sXG4gICkgPT4gUHJvbWlzZTxSZXF1ZXN0T3B0aW9uczxUPj47XG4gIGdldERlZmF1bHRBZ2VudDogKHVybDogc3RyaW5nKSA9PiBhbnk7XG4gIGZpbGVGcm9tUGF0aDpcbiAgICB8ICgocGF0aDogc3RyaW5nLCBmaWxlbmFtZT86IHN0cmluZywgb3B0aW9ucz86IHt9KSA9PiBQcm9taXNlPFNoaW1zWydGaWxlJ10+KVxuICAgIHwgKChwYXRoOiBzdHJpbmcsIG9wdGlvbnM/OiB7fSkgPT4gUHJvbWlzZTxTaGltc1snRmlsZSddPik7XG4gIGlzRnNSZWFkU3RyZWFtOiAodmFsdWU6IGFueSkgPT4gYm9vbGVhbjtcbn1cblxuZXhwb3J0IGxldCBhdXRvID0gZmFsc2U7XG5leHBvcnQgbGV0IGtpbmQ6IFNoaW1zWydraW5kJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGZldGNoOiBTaGltc1snZmV0Y2gnXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgUmVxdWVzdDogU2hpbXNbJ1JlcXVlc3QnXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgUmVzcG9uc2U6IFNoaW1zWydSZXNwb25zZSddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBIZWFkZXJzOiBTaGltc1snSGVhZGVycyddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBGb3JtRGF0YTogU2hpbXNbJ0Zvcm1EYXRhJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IEJsb2I6IFNoaW1zWydCbG9iJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IEZpbGU6IFNoaW1zWydGaWxlJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IFJlYWRhYmxlU3RyZWFtOiBTaGltc1snUmVhZGFibGVTdHJlYW0nXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnM6IFNoaW1zWydnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBnZXREZWZhdWx0QWdlbnQ6IFNoaW1zWydnZXREZWZhdWx0QWdlbnQnXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgZmlsZUZyb21QYXRoOiBTaGltc1snZmlsZUZyb21QYXRoJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGlzRnNSZWFkU3RyZWFtOiBTaGltc1snaXNGc1JlYWRTdHJlYW0nXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNoaW1zKHNoaW1zOiBTaGltcywgb3B0aW9uczogeyBhdXRvOiBib29sZWFuIH0gPSB7IGF1dG86IGZhbHNlIH0pIHtcbiAgaWYgKGF1dG8pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgeW91IG11c3QgXFxgaW1wb3J0ICdvcGVuYWkvc2hpbXMvJHtzaGltcy5raW5kfSdcXGAgYmVmb3JlIGltcG9ydGluZyBhbnl0aGluZyBlbHNlIGZyb20gb3BlbmFpYCxcbiAgICApO1xuICB9XG4gIGlmIChraW5kKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBjYW4ndCBcXGBpbXBvcnQgJ29wZW5haS9zaGltcy8ke3NoaW1zLmtpbmR9J1xcYCBhZnRlciBcXGBpbXBvcnQgJ29wZW5haS9zaGltcy8ke2tpbmR9J1xcYGApO1xuICB9XG4gIGF1dG8gPSBvcHRpb25zLmF1dG87XG4gIGtpbmQgPSBzaGltcy5raW5kO1xuICBmZXRjaCA9IHNoaW1zLmZldGNoO1xuICBSZXF1ZXN0ID0gc2hpbXMuUmVxdWVzdDtcbiAgUmVzcG9uc2UgPSBzaGltcy5SZXNwb25zZTtcbiAgSGVhZGVycyA9IHNoaW1zLkhlYWRlcnM7XG4gIEZvcm1EYXRhID0gc2hpbXMuRm9ybURhdGE7XG4gIEJsb2IgPSBzaGltcy5CbG9iO1xuICBGaWxlID0gc2hpbXMuRmlsZTtcbiAgUmVhZGFibGVTdHJlYW0gPSBzaGltcy5SZWFkYWJsZVN0cmVhbTtcbiAgZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMgPSBzaGltcy5nZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucztcbiAgZ2V0RGVmYXVsdEFnZW50ID0gc2hpbXMuZ2V0RGVmYXVsdEFnZW50O1xuICBmaWxlRnJvbVBhdGggPSBzaGltcy5maWxlRnJvbVBhdGg7XG4gIGlzRnNSZWFkU3RyZWFtID0gc2hpbXMuaXNGc1JlYWRTdHJlYW07XG59XG4iLCAiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5leHBvcnQgY2xhc3MgTXVsdGlwYXJ0Qm9keSB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBib2R5OiBhbnkpIHt9XG4gIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnTXVsdGlwYXJ0Qm9keSc7XG4gIH1cbn1cbiIsICIvKipcbiAqIERpc2NsYWltZXI6IG1vZHVsZXMgaW4gX3NoaW1zIGFyZW4ndCBpbnRlbmRlZCB0byBiZSBpbXBvcnRlZCBieSBTREsgdXNlcnMuXG4gKi9cbmltcG9ydCB7IE11bHRpcGFydEJvZHkgfSBmcm9tICcuL011bHRpcGFydEJvZHknO1xuaW1wb3J0IHsgdHlwZSBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0IHsgdHlwZSBTaGltcyB9IGZyb20gJy4vcmVnaXN0cnknO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UnVudGltZSh7IG1hbnVhbGx5SW1wb3J0ZWQgfTogeyBtYW51YWxseUltcG9ydGVkPzogYm9vbGVhbiB9ID0ge30pOiBTaGltcyB7XG4gIGNvbnN0IHJlY29tbWVuZGF0aW9uID1cbiAgICBtYW51YWxseUltcG9ydGVkID9cbiAgICAgIGBZb3UgbWF5IG5lZWQgdG8gdXNlIHBvbHlmaWxsc2BcbiAgICA6IGBBZGQgb25lIG9mIHRoZXNlIGltcG9ydHMgYmVmb3JlIHlvdXIgZmlyc3QgXFxgaW1wb3J0IFx1MjAyNiBmcm9tICdvcGVuYWknXFxgOlxuLSBcXGBpbXBvcnQgJ29wZW5haS9zaGltcy9ub2RlJ1xcYCAoaWYgeW91J3JlIHJ1bm5pbmcgb24gTm9kZSlcbi0gXFxgaW1wb3J0ICdvcGVuYWkvc2hpbXMvd2ViJ1xcYCAob3RoZXJ3aXNlKVxuYDtcblxuICBsZXQgX2ZldGNoLCBfUmVxdWVzdCwgX1Jlc3BvbnNlLCBfSGVhZGVycztcbiAgdHJ5IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgX2ZldGNoID0gZmV0Y2g7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIF9SZXF1ZXN0ID0gUmVxdWVzdDtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgX1Jlc3BvbnNlID0gUmVzcG9uc2U7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIF9IZWFkZXJzID0gSGVhZGVycztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgdGhpcyBlbnZpcm9ubWVudCBpcyBtaXNzaW5nIHRoZSBmb2xsb3dpbmcgV2ViIEZldGNoIEFQSSB0eXBlOiAke1xuICAgICAgICAoZXJyb3IgYXMgYW55KS5tZXNzYWdlXG4gICAgICB9LiAke3JlY29tbWVuZGF0aW9ufWAsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAga2luZDogJ3dlYicsXG4gICAgZmV0Y2g6IF9mZXRjaCxcbiAgICBSZXF1ZXN0OiBfUmVxdWVzdCxcbiAgICBSZXNwb25zZTogX1Jlc3BvbnNlLFxuICAgIEhlYWRlcnM6IF9IZWFkZXJzLFxuICAgIEZvcm1EYXRhOlxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyA/IEZvcm1EYXRhIDogKFxuICAgICAgICBjbGFzcyBGb3JtRGF0YSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgZmlsZSB1cGxvYWRzIGFyZW4ndCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCB5ZXQgYXMgJ0Zvcm1EYXRhJyBpcyB1bmRlZmluZWQuICR7cmVjb21tZW5kYXRpb259YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApLFxuICAgIEJsb2I6XG4gICAgICB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iIDogKFxuICAgICAgICBjbGFzcyBCbG9iIHtcbiAgICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYGZpbGUgdXBsb2FkcyBhcmVuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQgeWV0IGFzICdCbG9iJyBpcyB1bmRlZmluZWQuICR7cmVjb21tZW5kYXRpb259YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApLFxuICAgIEZpbGU6XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0eXBlb2YgRmlsZSAhPT0gJ3VuZGVmaW5lZCcgPyBGaWxlIDogKFxuICAgICAgICBjbGFzcyBGaWxlIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBmaWxlIHVwbG9hZHMgYXJlbid0IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IHlldCBhcyAnRmlsZScgaXMgdW5kZWZpbmVkLiAke3JlY29tbWVuZGF0aW9ufWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICBSZWFkYWJsZVN0cmVhbTpcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHR5cGVvZiBSZWFkYWJsZVN0cmVhbSAhPT0gJ3VuZGVmaW5lZCcgPyBSZWFkYWJsZVN0cmVhbSA6IChcbiAgICAgICAgY2xhc3MgUmVhZGFibGVTdHJlYW0ge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYHN0cmVhbWluZyBpc24ndCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCB5ZXQgYXMgJ1JlYWRhYmxlU3RyZWFtJyBpcyB1bmRlZmluZWQuICR7cmVjb21tZW5kYXRpb259YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApLFxuICAgIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zOiBhc3luYyA8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+PihcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGZvcm06IEZvcm1EYXRhLFxuICAgICAgb3B0czogUmVxdWVzdE9wdGlvbnM8VD4sXG4gICAgKTogUHJvbWlzZTxSZXF1ZXN0T3B0aW9uczxUPj4gPT4gKHtcbiAgICAgIC4uLm9wdHMsXG4gICAgICBib2R5OiBuZXcgTXVsdGlwYXJ0Qm9keShmb3JtKSBhcyBhbnksXG4gICAgfSksXG4gICAgZ2V0RGVmYXVsdEFnZW50OiAodXJsOiBzdHJpbmcpID0+IHVuZGVmaW5lZCxcbiAgICBmaWxlRnJvbVBhdGg6ICgpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBgZmlsZUZyb21QYXRoYCBmdW5jdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBpbiBOb2RlLiBTZWUgdGhlIFJFQURNRSBmb3IgbW9yZSBkZXRhaWxzOiBodHRwczovL3d3dy5naXRodWIuY29tL29wZW5haS9vcGVuYWktbm9kZSNmaWxlLXVwbG9hZHMnLFxuICAgICAgKTtcbiAgICB9LFxuICAgIGlzRnNSZWFkU3RyZWFtOiAodmFsdWU6IGFueSkgPT4gZmFsc2UsXG4gIH07XG59XG4iLCAiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5pbXBvcnQgKiBhcyBzaGltcyBmcm9tICcuL3JlZ2lzdHJ5Lm1qcyc7XG5pbXBvcnQgKiBhcyBhdXRvIGZyb20gJ29wZW5haS9fc2hpbXMvYXV0by9ydW50aW1lJztcbmlmICghc2hpbXMua2luZCkgc2hpbXMuc2V0U2hpbXMoYXV0by5nZXRSdW50aW1lKCksIHsgYXV0bzogdHJ1ZSB9KTtcbmV4cG9ydCAqIGZyb20gJy4vcmVnaXN0cnkubWpzJztcbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBjYXN0VG9FcnJvciwgSGVhZGVycyB9IGZyb20gJy4vY29yZSc7XG5cbmV4cG9ydCBjbGFzcyBPcGVuQUlFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbmV4cG9ydCBjbGFzcyBBUElFcnJvcjxcbiAgVFN0YXR1cyBleHRlbmRzIG51bWJlciB8IHVuZGVmaW5lZCA9IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgVEhlYWRlcnMgZXh0ZW5kcyBIZWFkZXJzIHwgdW5kZWZpbmVkID0gSGVhZGVycyB8IHVuZGVmaW5lZCxcbiAgVEVycm9yIGV4dGVuZHMgT2JqZWN0IHwgdW5kZWZpbmVkID0gT2JqZWN0IHwgdW5kZWZpbmVkLFxuPiBleHRlbmRzIE9wZW5BSUVycm9yIHtcbiAgLyoqIEhUVFAgc3RhdHVzIGZvciB0aGUgcmVzcG9uc2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yICovXG4gIHJlYWRvbmx5IHN0YXR1czogVFN0YXR1cztcbiAgLyoqIEhUVFAgaGVhZGVycyBmb3IgdGhlIHJlc3BvbnNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvciAqL1xuICByZWFkb25seSBoZWFkZXJzOiBUSGVhZGVycztcbiAgLyoqIEpTT04gYm9keSBvZiB0aGUgcmVzcG9uc2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yICovXG4gIHJlYWRvbmx5IGVycm9yOiBURXJyb3I7XG5cbiAgcmVhZG9ubHkgY29kZTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcGFyYW06IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICByZWFkb25seSByZXF1ZXN0X2lkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKHN0YXR1czogVFN0YXR1cywgZXJyb3I6IFRFcnJvciwgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBoZWFkZXJzOiBUSGVhZGVycykge1xuICAgIHN1cGVyKGAke0FQSUVycm9yLm1ha2VNZXNzYWdlKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UpfWApO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgdGhpcy5yZXF1ZXN0X2lkID0gaGVhZGVycz8uWyd4LXJlcXVlc3QtaWQnXTtcbiAgICB0aGlzLmVycm9yID0gZXJyb3I7XG5cbiAgICBjb25zdCBkYXRhID0gZXJyb3IgYXMgUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICB0aGlzLmNvZGUgPSBkYXRhPy5bJ2NvZGUnXTtcbiAgICB0aGlzLnBhcmFtID0gZGF0YT8uWydwYXJhbSddO1xuICAgIHRoaXMudHlwZSA9IGRhdGE/LlsndHlwZSddO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgbWFrZU1lc3NhZ2Uoc3RhdHVzOiBudW1iZXIgfCB1bmRlZmluZWQsIGVycm9yOiBhbnksIG1lc3NhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IG1zZyA9XG4gICAgICBlcnJvcj8ubWVzc2FnZSA/XG4gICAgICAgIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgZXJyb3IubWVzc2FnZVxuICAgICAgICA6IEpTT04uc3RyaW5naWZ5KGVycm9yLm1lc3NhZ2UpXG4gICAgICA6IGVycm9yID8gSlNPTi5zdHJpbmdpZnkoZXJyb3IpXG4gICAgICA6IG1lc3NhZ2U7XG5cbiAgICBpZiAoc3RhdHVzICYmIG1zZykge1xuICAgICAgcmV0dXJuIGAke3N0YXR1c30gJHttc2d9YDtcbiAgICB9XG4gICAgaWYgKHN0YXR1cykge1xuICAgICAgcmV0dXJuIGAke3N0YXR1c30gc3RhdHVzIGNvZGUgKG5vIGJvZHkpYDtcbiAgICB9XG4gICAgaWYgKG1zZykge1xuICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgcmV0dXJuICcobm8gc3RhdHVzIGNvZGUgb3IgYm9keSknO1xuICB9XG5cbiAgc3RhdGljIGdlbmVyYXRlKFxuICAgIHN0YXR1czogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICAgIGVycm9yUmVzcG9uc2U6IE9iamVjdCB8IHVuZGVmaW5lZCxcbiAgICBtZXNzYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgaGVhZGVyczogSGVhZGVycyB8IHVuZGVmaW5lZCxcbiAgKTogQVBJRXJyb3Ige1xuICAgIGlmICghc3RhdHVzIHx8ICFoZWFkZXJzKSB7XG4gICAgICByZXR1cm4gbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IG1lc3NhZ2UsIGNhdXNlOiBjYXN0VG9FcnJvcihlcnJvclJlc3BvbnNlKSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvciA9IChlcnJvclJlc3BvbnNlIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pPy5bJ2Vycm9yJ107XG5cbiAgICBpZiAoc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHJldHVybiBuZXcgQmFkUmVxdWVzdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IDQwMSkge1xuICAgICAgcmV0dXJuIG5ldyBBdXRoZW50aWNhdGlvbkVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgICAgcmV0dXJuIG5ldyBQZXJtaXNzaW9uRGVuaWVkRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICByZXR1cm4gbmV3IENvbmZsaWN0RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gNDIyKSB7XG4gICAgICByZXR1cm4gbmV3IFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSA0MjkpIHtcbiAgICAgIHJldHVybiBuZXcgUmF0ZUxpbWl0RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA+PSA1MDApIHtcbiAgICAgIHJldHVybiBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEFQSUVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBUElVc2VyQWJvcnRFcnJvciBleHRlbmRzIEFQSUVycm9yPHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQ+IHtcbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH06IHsgbWVzc2FnZT86IHN0cmluZyB9ID0ge30pIHtcbiAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnUmVxdWVzdCB3YXMgYWJvcnRlZC4nLCB1bmRlZmluZWQpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBUElDb25uZWN0aW9uRXJyb3IgZXh0ZW5kcyBBUElFcnJvcjx1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkPiB7XG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSwgY2F1c2UgfTogeyBtZXNzYWdlPzogc3RyaW5nIHwgdW5kZWZpbmVkOyBjYXVzZT86IEVycm9yIHwgdW5kZWZpbmVkIH0pIHtcbiAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnQ29ubmVjdGlvbiBlcnJvci4nLCB1bmRlZmluZWQpO1xuICAgIC8vIGluIHNvbWUgZW52aXJvbm1lbnRzIHRoZSAnY2F1c2UnIHByb3BlcnR5IGlzIGFscmVhZHkgZGVjbGFyZWRcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGNhdXNlKSB0aGlzLmNhdXNlID0gY2F1c2U7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IgZXh0ZW5kcyBBUElDb25uZWN0aW9uRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgfTogeyBtZXNzYWdlPzogc3RyaW5nIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZTogbWVzc2FnZSA/PyAnUmVxdWVzdCB0aW1lZCBvdXQuJyB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFkUmVxdWVzdEVycm9yIGV4dGVuZHMgQVBJRXJyb3I8NDAwLCBIZWFkZXJzPiB7fVxuXG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRpb25FcnJvciBleHRlbmRzIEFQSUVycm9yPDQwMSwgSGVhZGVycz4ge31cblxuZXhwb3J0IGNsYXNzIFBlcm1pc3Npb25EZW5pZWRFcnJvciBleHRlbmRzIEFQSUVycm9yPDQwMywgSGVhZGVycz4ge31cblxuZXhwb3J0IGNsYXNzIE5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBBUElFcnJvcjw0MDQsIEhlYWRlcnM+IHt9XG5cbmV4cG9ydCBjbGFzcyBDb25mbGljdEVycm9yIGV4dGVuZHMgQVBJRXJyb3I8NDA5LCBIZWFkZXJzPiB7fVxuXG5leHBvcnQgY2xhc3MgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yIGV4dGVuZHMgQVBJRXJyb3I8NDIyLCBIZWFkZXJzPiB7fVxuXG5leHBvcnQgY2xhc3MgUmF0ZUxpbWl0RXJyb3IgZXh0ZW5kcyBBUElFcnJvcjw0MjksIEhlYWRlcnM+IHt9XG5cbmV4cG9ydCBjbGFzcyBJbnRlcm5hbFNlcnZlckVycm9yIGV4dGVuZHMgQVBJRXJyb3I8bnVtYmVyLCBIZWFkZXJzPiB7fVxuXG5leHBvcnQgY2xhc3MgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IgZXh0ZW5kcyBPcGVuQUlFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKGBDb3VsZCBub3QgcGFyc2UgcmVzcG9uc2UgY29udGVudCBhcyB0aGUgbGVuZ3RoIGxpbWl0IHdhcyByZWFjaGVkYCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvciBleHRlbmRzIE9wZW5BSUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoYENvdWxkIG5vdCBwYXJzZSByZXNwb25zZSBjb250ZW50IGFzIHRoZSByZXF1ZXN0IHdhcyByZWplY3RlZCBieSB0aGUgY29udGVudCBmaWx0ZXJgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3InO1xuXG5leHBvcnQgdHlwZSBCeXRlcyA9IHN0cmluZyB8IEFycmF5QnVmZmVyIHwgVWludDhBcnJheSB8IEJ1ZmZlciB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSByZS1pbXBsZW1lbnRhdGlvbiBvZiBodHRweCdzIGBMaW5lRGVjb2RlcmAgaW4gUHl0aG9uIHRoYXQgaGFuZGxlcyBpbmNyZW1lbnRhbGx5XG4gKiByZWFkaW5nIGxpbmVzIGZyb20gdGV4dC5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZW5jb2RlL2h0dHB4L2Jsb2IvOTIwMzMzZWE5ODExOGU5Y2Y2MTdmMjQ2OTA1ZDdiMjAyNTEwOTQxYy9odHRweC9fZGVjb2RlcnMucHkjTDI1OFxuICovXG5leHBvcnQgY2xhc3MgTGluZURlY29kZXIge1xuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgc3RhdGljIE5FV0xJTkVfQ0hBUlMgPSBuZXcgU2V0KFsnXFxuJywgJ1xcciddKTtcbiAgc3RhdGljIE5FV0xJTkVfUkVHRVhQID0gL1xcclxcbnxbXFxuXFxyXS9nO1xuXG4gIGJ1ZmZlcjogVWludDhBcnJheTtcbiAgI2NhcnJpYWdlUmV0dXJuSW5kZXg6IG51bWJlciB8IG51bGw7XG4gIHRleHREZWNvZGVyOiBhbnk7IC8vIFRleHREZWNvZGVyIGZvdW5kIGluIGJyb3dzZXJzOyBub3QgdHlwZWQgdG8gYXZvaWQgcHVsbGluZyBpbiBlaXRoZXIgXCJkb21cIiBvciBcIm5vZGVcIiB0eXBlcy5cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgdGhpcy4jY2FycmlhZ2VSZXR1cm5JbmRleCA9IG51bGw7XG4gIH1cblxuICBkZWNvZGUoY2h1bms6IEJ5dGVzKTogc3RyaW5nW10ge1xuICAgIGlmIChjaHVuayA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgYmluYXJ5Q2h1bmsgPVxuICAgICAgY2h1bmsgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBVaW50OEFycmF5KGNodW5rKVxuICAgICAgOiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnID8gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGNodW5rKVxuICAgICAgOiBjaHVuaztcblxuICAgIGxldCBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIubGVuZ3RoICsgYmluYXJ5Q2h1bmsubGVuZ3RoKTtcbiAgICBuZXdEYXRhLnNldCh0aGlzLmJ1ZmZlcik7XG4gICAgbmV3RGF0YS5zZXQoYmluYXJ5Q2h1bmssIHRoaXMuYnVmZmVyLmxlbmd0aCk7XG4gICAgdGhpcy5idWZmZXIgPSBuZXdEYXRhO1xuXG4gICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IHBhdHRlcm5JbmRleDtcbiAgICB3aGlsZSAoKHBhdHRlcm5JbmRleCA9IGZpbmROZXdsaW5lSW5kZXgodGhpcy5idWZmZXIsIHRoaXMuI2NhcnJpYWdlUmV0dXJuSW5kZXgpKSAhPSBudWxsKSB7XG4gICAgICBpZiAocGF0dGVybkluZGV4LmNhcnJpYWdlICYmIHRoaXMuI2NhcnJpYWdlUmV0dXJuSW5kZXggPT0gbnVsbCkge1xuICAgICAgICAvLyBza2lwIHVudGlsIHdlIGVpdGhlciBnZXQgYSBjb3JyZXNwb25kaW5nIGBcXG5gLCBhIG5ldyBgXFxyYCBvciBub3RoaW5nXG4gICAgICAgIHRoaXMuI2NhcnJpYWdlUmV0dXJuSW5kZXggPSBwYXR0ZXJuSW5kZXguaW5kZXg7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyB3ZSBnb3QgZG91YmxlIFxcciBvciBcXHJ0ZXh0XFxuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuI2NhcnJpYWdlUmV0dXJuSW5kZXggIT0gbnVsbCAmJlxuICAgICAgICAocGF0dGVybkluZGV4LmluZGV4ICE9PSB0aGlzLiNjYXJyaWFnZVJldHVybkluZGV4ICsgMSB8fCBwYXR0ZXJuSW5kZXguY2FycmlhZ2UpXG4gICAgICApIHtcbiAgICAgICAgbGluZXMucHVzaCh0aGlzLmRlY29kZVRleHQodGhpcy5idWZmZXIuc2xpY2UoMCwgdGhpcy4jY2FycmlhZ2VSZXR1cm5JbmRleCAtIDEpKSk7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UodGhpcy4jY2FycmlhZ2VSZXR1cm5JbmRleCk7XG4gICAgICAgIHRoaXMuI2NhcnJpYWdlUmV0dXJuSW5kZXggPSBudWxsO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZW5kSW5kZXggPVxuICAgICAgICB0aGlzLiNjYXJyaWFnZVJldHVybkluZGV4ICE9PSBudWxsID8gcGF0dGVybkluZGV4LnByZWNlZGluZyAtIDEgOiBwYXR0ZXJuSW5kZXgucHJlY2VkaW5nO1xuXG4gICAgICBjb25zdCBsaW5lID0gdGhpcy5kZWNvZGVUZXh0KHRoaXMuYnVmZmVyLnNsaWNlKDAsIGVuZEluZGV4KSk7XG4gICAgICBsaW5lcy5wdXNoKGxpbmUpO1xuXG4gICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLnNsaWNlKHBhdHRlcm5JbmRleC5pbmRleCk7XG4gICAgICB0aGlzLiNjYXJyaWFnZVJldHVybkluZGV4ID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGluZXM7XG4gIH1cblxuICBkZWNvZGVUZXh0KGJ5dGVzOiBCeXRlcyk6IHN0cmluZyB7XG4gICAgaWYgKGJ5dGVzID09IG51bGwpIHJldHVybiAnJztcbiAgICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykgcmV0dXJuIGJ5dGVzO1xuXG4gICAgLy8gTm9kZTpcbiAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChieXRlcyBpbnN0YW5jZW9mIEJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gYnl0ZXMudG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIGlmIChieXRlcyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGJ5dGVzKS50b1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgIGBVbmV4cGVjdGVkOiByZWNlaXZlZCBub24tVWludDhBcnJheSAoJHtieXRlcy5jb25zdHJ1Y3Rvci5uYW1lfSkgc3RyZWFtIGNodW5rIGluIGFuIGVudmlyb25tZW50IHdpdGggYSBnbG9iYWwgXCJCdWZmZXJcIiBkZWZpbmVkLCB3aGljaCB0aGlzIGxpYnJhcnkgYXNzdW1lcyB0byBiZSBOb2RlLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQnJvd3NlclxuICAgIGlmICh0eXBlb2YgVGV4dERlY29kZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoYnl0ZXMgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8IGJ5dGVzIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgdGhpcy50ZXh0RGVjb2RlciA/Pz0gbmV3IFRleHREZWNvZGVyKCd1dGY4Jyk7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHREZWNvZGVyLmRlY29kZShieXRlcyk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihcbiAgICAgICAgYFVuZXhwZWN0ZWQ6IHJlY2VpdmVkIG5vbi1VaW50OEFycmF5L0FycmF5QnVmZmVyICgke1xuICAgICAgICAgIChieXRlcyBhcyBhbnkpLmNvbnN0cnVjdG9yLm5hbWVcbiAgICAgICAgfSkgaW4gYSB3ZWIgcGxhdGZvcm0uIFBsZWFzZSByZXBvcnQgdGhpcyBlcnJvci5gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICBgVW5leHBlY3RlZDogbmVpdGhlciBCdWZmZXIgbm9yIFRleHREZWNvZGVyIGFyZSBhdmFpbGFibGUgYXMgZ2xvYmFscy4gUGxlYXNlIHJlcG9ydCB0aGlzIGVycm9yLmAsXG4gICAgKTtcbiAgfVxuXG4gIGZsdXNoKCk6IHN0cmluZ1tdIHtcbiAgICBpZiAoIXRoaXMuYnVmZmVyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kZWNvZGUoJ1xcbicpO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzZWFyY2hlcyB0aGUgYnVmZmVyIGZvciB0aGUgZW5kIHBhdHRlcm5zLCAoXFxyIG9yIFxcbilcbiAqIGFuZCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBpbmRleCBwcmVjZWRpbmcgdGhlIG1hdGNoZWQgbmV3bGluZSBhbmQgdGhlXG4gKiBpbmRleCBhZnRlciB0aGUgbmV3bGluZSBjaGFyLiBgbnVsbGAgaXMgcmV0dXJuZWQgaWYgbm8gbmV3IGxpbmUgaXMgZm91bmQuXG4gKlxuICogYGBgdHNcbiAqIGZpbmROZXdMaW5lSW5kZXgoJ2FiY1xcbmRlZicpIC0+IHsgcHJlY2VkaW5nOiAyLCBpbmRleDogMyB9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gZmluZE5ld2xpbmVJbmRleChcbiAgYnVmZmVyOiBVaW50OEFycmF5LFxuICBzdGFydEluZGV4OiBudW1iZXIgfCBudWxsLFxuKTogeyBwcmVjZWRpbmc6IG51bWJlcjsgaW5kZXg6IG51bWJlcjsgY2FycmlhZ2U6IGJvb2xlYW4gfSB8IG51bGwge1xuICBjb25zdCBuZXdsaW5lID0gMHgwYTsgLy8gXFxuXG4gIGNvbnN0IGNhcnJpYWdlID0gMHgwZDsgLy8gXFxyXG5cbiAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXggPz8gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChidWZmZXJbaV0gPT09IG5ld2xpbmUpIHtcbiAgICAgIHJldHVybiB7IHByZWNlZGluZzogaSwgaW5kZXg6IGkgKyAxLCBjYXJyaWFnZTogZmFsc2UgfTtcbiAgICB9XG5cbiAgICBpZiAoYnVmZmVyW2ldID09PSBjYXJyaWFnZSkge1xuICAgICAgcmV0dXJuIHsgcHJlY2VkaW5nOiBpLCBpbmRleDogaSArIDEsIGNhcnJpYWdlOiB0cnVlIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRG91YmxlTmV3bGluZUluZGV4KGJ1ZmZlcjogVWludDhBcnJheSk6IG51bWJlciB7XG4gIC8vIFRoaXMgZnVuY3Rpb24gc2VhcmNoZXMgdGhlIGJ1ZmZlciBmb3IgdGhlIGVuZCBwYXR0ZXJucyAoXFxyXFxyLCBcXG5cXG4sIFxcclxcblxcclxcbilcbiAgLy8gYW5kIHJldHVybnMgdGhlIGluZGV4IHJpZ2h0IGFmdGVyIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFueSBwYXR0ZXJuLFxuICAvLyBvciAtMSBpZiBub25lIG9mIHRoZSBwYXR0ZXJucyBhcmUgZm91bmQuXG4gIGNvbnN0IG5ld2xpbmUgPSAweDBhOyAvLyBcXG5cbiAgY29uc3QgY2FycmlhZ2UgPSAweDBkOyAvLyBcXHJcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBpZiAoYnVmZmVyW2ldID09PSBuZXdsaW5lICYmIGJ1ZmZlcltpICsgMV0gPT09IG5ld2xpbmUpIHtcbiAgICAgIC8vIFxcblxcblxuICAgICAgcmV0dXJuIGkgKyAyO1xuICAgIH1cbiAgICBpZiAoYnVmZmVyW2ldID09PSBjYXJyaWFnZSAmJiBidWZmZXJbaSArIDFdID09PSBjYXJyaWFnZSkge1xuICAgICAgLy8gXFxyXFxyXG4gICAgICByZXR1cm4gaSArIDI7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGJ1ZmZlcltpXSA9PT0gY2FycmlhZ2UgJiZcbiAgICAgIGJ1ZmZlcltpICsgMV0gPT09IG5ld2xpbmUgJiZcbiAgICAgIGkgKyAzIDwgYnVmZmVyLmxlbmd0aCAmJlxuICAgICAgYnVmZmVyW2kgKyAyXSA9PT0gY2FycmlhZ2UgJiZcbiAgICAgIGJ1ZmZlcltpICsgM10gPT09IG5ld2xpbmVcbiAgICApIHtcbiAgICAgIC8vIFxcclxcblxcclxcblxuICAgICAgcmV0dXJuIGkgKyA0O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cbiIsICIvKipcbiAqIE1vc3QgYnJvd3NlcnMgZG9uJ3QgeWV0IGhhdmUgYXN5bmMgaXRlcmFibGUgc3VwcG9ydCBmb3IgUmVhZGFibGVTdHJlYW0sXG4gKiBhbmQgTm9kZSBoYXMgYSB2ZXJ5IGRpZmZlcmVudCB3YXkgb2YgcmVhZGluZyBieXRlcyBmcm9tIGl0cyBcIlJlYWRhYmxlU3RyZWFtXCIuXG4gKlxuICogVGhpcyBwb2x5ZmlsbCB3YXMgcHVsbGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsL3B1bGwvMTIyI2lzc3VlY29tbWVudC0xNjI3MzU0NDkwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZTxUPihzdHJlYW06IGFueSk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gIGlmIChzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSByZXR1cm4gc3RyZWFtO1xuXG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgcmV0dXJuIHtcbiAgICBhc3luYyBuZXh0KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKHJlc3VsdD8uZG9uZSkgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGNsb3NlZFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTsgLy8gcmVsZWFzZSBsb2NrIHdoZW4gc3RyZWFtIGJlY29tZXMgZXJyb3JlZFxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgY29uc3QgY2FuY2VsUHJvbWlzZSA9IHJlYWRlci5jYW5jZWwoKTtcbiAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgICAgYXdhaXQgY2FuY2VsUHJvbWlzZTtcbiAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICB9LFxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICB9O1xufVxuIiwgImltcG9ydCB7IFJlYWRhYmxlU3RyZWFtLCB0eXBlIFJlc3BvbnNlIH0gZnJvbSAnLi9fc2hpbXMvaW5kZXgnO1xuaW1wb3J0IHsgT3BlbkFJRXJyb3IgfSBmcm9tICcuL2Vycm9yJztcbmltcG9ydCB7IGZpbmREb3VibGVOZXdsaW5lSW5kZXgsIExpbmVEZWNvZGVyIH0gZnJvbSAnLi9pbnRlcm5hbC9kZWNvZGVycy9saW5lJztcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9zdHJlYW0tdXRpbHMnO1xuXG5pbXBvcnQgeyBBUElFcnJvciB9IGZyb20gJy4vZXJyb3InO1xuXG50eXBlIEJ5dGVzID0gc3RyaW5nIHwgQXJyYXlCdWZmZXIgfCBVaW50OEFycmF5IHwgQnVmZmVyIHwgbnVsbCB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgU2VydmVyU2VudEV2ZW50ID0ge1xuICBldmVudDogc3RyaW5nIHwgbnVsbDtcbiAgZGF0YTogc3RyaW5nO1xuICByYXc6IHN0cmluZ1tdO1xufTtcblxuZXhwb3J0IGNsYXNzIFN0cmVhbTxJdGVtPiBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGU8SXRlbT4ge1xuICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBpdGVyYXRvcjogKCkgPT4gQXN5bmNJdGVyYXRvcjxJdGVtPixcbiAgICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIsXG4gICkge1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gIH1cblxuICBzdGF0aWMgZnJvbVNTRVJlc3BvbnNlPEl0ZW0+KHJlc3BvbnNlOiBSZXNwb25zZSwgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyKTogU3RyZWFtPEl0ZW0+IHtcbiAgICBsZXQgY29uc3VtZWQgPSBmYWxzZTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyYXRvcigpOiBBc3luY0l0ZXJhdG9yPEl0ZW0sIGFueSwgdW5kZWZpbmVkPiB7XG4gICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaXRlcmF0ZSBvdmVyIGEgY29uc3VtZWQgc3RyZWFtLCB1c2UgYC50ZWUoKWAgdG8gc3BsaXQgdGhlIHN0cmVhbS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN1bWVkID0gdHJ1ZTtcbiAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHNzZSBvZiBfaXRlclNTRU1lc3NhZ2VzKHJlc3BvbnNlLCBjb250cm9sbGVyKSkge1xuICAgICAgICAgIGlmIChkb25lKSBjb250aW51ZTtcblxuICAgICAgICAgIGlmIChzc2UuZGF0YS5zdGFydHNXaXRoKCdbRE9ORV0nKSkge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3NlLmV2ZW50ID09PSBudWxsIHx8IHNzZS5ldmVudC5zdGFydHNXaXRoKCdyZXNwb25zZS4nKSkge1xuICAgICAgICAgICAgbGV0IGRhdGE7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHNzZS5kYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2UgaW50byBKU09OOmAsIHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRnJvbSBjaHVuazpgLCBzc2UucmF3KTtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgQVBJRXJyb3IodW5kZWZpbmVkLCBkYXRhLmVycm9yLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHlpZWxkIGRhdGE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2Uoc3NlLmRhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZSBpbnRvIEpTT046YCwgc3NlLmRhdGEpO1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGcm9tIGNodW5rOmAsIHNzZS5yYXcpO1xuICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogSXMgdGhpcyB3aGVyZSB0aGUgZXJyb3Igc2hvdWxkIGJlIHRocm93bj9cbiAgICAgICAgICAgIGlmIChzc2UuZXZlbnQgPT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgQVBJRXJyb3IodW5kZWZpbmVkLCBkYXRhLmVycm9yLCBkYXRhLm1lc3NhZ2UsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCB7IGV2ZW50OiBzc2UuZXZlbnQsIGRhdGE6IGRhdGEgfSBhcyBhbnk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBjYWxscyBgc3RyZWFtLmNvbnRyb2xsZXIuYWJvcnQoKWAsIHdlIHNob3VsZCBleGl0IHdpdGhvdXQgdGhyb3dpbmcuXG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHJldHVybjtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGBicmVha2BzLCBhYm9ydCB0aGUgb25nb2luZyByZXF1ZXN0LlxuICAgICAgICBpZiAoIWRvbmUpIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFN0cmVhbShpdGVyYXRvciwgY29udHJvbGxlcik7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgU3RyZWFtIGZyb20gYSBuZXdsaW5lLXNlcGFyYXRlZCBSZWFkYWJsZVN0cmVhbVxuICAgKiB3aGVyZSBlYWNoIGl0ZW0gaXMgYSBKU09OIHZhbHVlLlxuICAgKi9cbiAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbTxJdGVtPihyZWFkYWJsZVN0cmVhbTogUmVhZGFibGVTdHJlYW0sIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcik6IFN0cmVhbTxJdGVtPiB7XG4gICAgbGV0IGNvbnN1bWVkID0gZmFsc2U7XG5cbiAgICBhc3luYyBmdW5jdGlvbiogaXRlckxpbmVzKCk6IEFzeW5jR2VuZXJhdG9yPHN0cmluZywgdm9pZCwgdW5rbm93bj4ge1xuICAgICAgY29uc3QgbGluZURlY29kZXIgPSBuZXcgTGluZURlY29kZXIoKTtcblxuICAgICAgY29uc3QgaXRlciA9IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlPEJ5dGVzPihyZWFkYWJsZVN0cmVhbSk7XG4gICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGl0ZXIpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmRlY29kZShjaHVuaykpIHtcbiAgICAgICAgICB5aWVsZCBsaW5lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5mbHVzaCgpKSB7XG4gICAgICAgIHlpZWxkIGxpbmU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24qIGl0ZXJhdG9yKCk6IEFzeW5jSXRlcmF0b3I8SXRlbSwgYW55LCB1bmRlZmluZWQ+IHtcbiAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpdGVyYXRlIG92ZXIgYSBjb25zdW1lZCBzdHJlYW0sIHVzZSBgLnRlZSgpYCB0byBzcGxpdCB0aGUgc3RyZWFtLicpO1xuICAgICAgfVxuICAgICAgY29uc3VtZWQgPSB0cnVlO1xuICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgbGluZSBvZiBpdGVyTGluZXMoKSkge1xuICAgICAgICAgIGlmIChkb25lKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAobGluZSkgeWllbGQgSlNPTi5wYXJzZShsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgY2FsbHMgYHN0cmVhbS5jb250cm9sbGVyLmFib3J0KClgLCB3ZSBzaG91bGQgZXhpdCB3aXRob3V0IHRocm93aW5nLlxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSByZXR1cm47XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBgYnJlYWtgcywgYWJvcnQgdGhlIG9uZ29pbmcgcmVxdWVzdC5cbiAgICAgICAgaWYgKCFkb25lKSBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBTdHJlYW0oaXRlcmF0b3IsIGNvbnRyb2xsZXIpO1xuICB9XG5cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpOiBBc3luY0l0ZXJhdG9yPEl0ZW0+IHtcbiAgICByZXR1cm4gdGhpcy5pdGVyYXRvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyB0aGUgc3RyZWFtIGludG8gdHdvIHN0cmVhbXMgd2hpY2ggY2FuIGJlXG4gICAqIGluZGVwZW5kZW50bHkgcmVhZCBmcm9tIGF0IGRpZmZlcmVudCBzcGVlZHMuXG4gICAqL1xuICB0ZWUoKTogW1N0cmVhbTxJdGVtPiwgU3RyZWFtPEl0ZW0+XSB7XG4gICAgY29uc3QgbGVmdDogQXJyYXk8UHJvbWlzZTxJdGVyYXRvclJlc3VsdDxJdGVtPj4+ID0gW107XG4gICAgY29uc3QgcmlnaHQ6IEFycmF5PFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8SXRlbT4+PiA9IFtdO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuXG4gICAgY29uc3QgdGVlSXRlcmF0b3IgPSAocXVldWU6IEFycmF5PFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8SXRlbT4+Pik6IEFzeW5jSXRlcmF0b3I8SXRlbT4gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGxlZnQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgcmlnaHQucHVzaChyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcXVldWUuc2hpZnQoKSE7XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gW1xuICAgICAgbmV3IFN0cmVhbSgoKSA9PiB0ZWVJdGVyYXRvcihsZWZ0KSwgdGhpcy5jb250cm9sbGVyKSxcbiAgICAgIG5ldyBTdHJlYW0oKCkgPT4gdGVlSXRlcmF0b3IocmlnaHQpLCB0aGlzLmNvbnRyb2xsZXIpLFxuICAgIF07XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgdGhpcyBzdHJlYW0gdG8gYSBuZXdsaW5lLXNlcGFyYXRlZCBSZWFkYWJsZVN0cmVhbSBvZlxuICAgKiBKU09OIHN0cmluZ2lmaWVkIHZhbHVlcyBpbiB0aGUgc3RyZWFtXG4gICAqIHdoaWNoIGNhbiBiZSB0dXJuZWQgYmFjayBpbnRvIGEgU3RyZWFtIHdpdGggYFN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0oKWAuXG4gICAqL1xuICB0b1JlYWRhYmxlU3RyZWFtKCk6IFJlYWRhYmxlU3RyZWFtIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgaXRlcjogQXN5bmNJdGVyYXRvcjxJdGVtPjtcbiAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG5cbiAgICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgICBpdGVyID0gc2VsZltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBwdWxsKGN0cmw6IGFueSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGl0ZXIubmV4dCgpO1xuICAgICAgICAgIGlmIChkb25lKSByZXR1cm4gY3RybC5jbG9zZSgpO1xuXG4gICAgICAgICAgY29uc3QgYnl0ZXMgPSBlbmNvZGVyLmVuY29kZShKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyAnXFxuJyk7XG5cbiAgICAgICAgICBjdHJsLmVucXVldWUoYnl0ZXMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjdHJsLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBjYW5jZWwoKSB7XG4gICAgICAgIGF3YWl0IGl0ZXIucmV0dXJuPy4oKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBfaXRlclNTRU1lc3NhZ2VzKFxuICByZXNwb25zZTogUmVzcG9uc2UsXG4gIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcixcbik6IEFzeW5jR2VuZXJhdG9yPFNlcnZlclNlbnRFdmVudCwgdm9pZCwgdW5rbm93bj4ge1xuICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBBdHRlbXB0ZWQgdG8gaXRlcmF0ZSBvdmVyIGEgcmVzcG9uc2Ugd2l0aCBubyBib2R5YCk7XG4gIH1cblxuICBjb25zdCBzc2VEZWNvZGVyID0gbmV3IFNTRURlY29kZXIoKTtcbiAgY29uc3QgbGluZURlY29kZXIgPSBuZXcgTGluZURlY29kZXIoKTtcblxuICBjb25zdCBpdGVyID0gUmVhZGFibGVTdHJlYW1Ub0FzeW5jSXRlcmFibGU8Qnl0ZXM+KHJlc3BvbnNlLmJvZHkpO1xuICBmb3IgYXdhaXQgKGNvbnN0IHNzZUNodW5rIG9mIGl0ZXJTU0VDaHVua3MoaXRlcikpIHtcbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZURlY29kZXIuZGVjb2RlKHNzZUNodW5rKSkge1xuICAgICAgY29uc3Qgc3NlID0gc3NlRGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICBpZiAoc3NlKSB5aWVsZCBzc2U7XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmZsdXNoKCkpIHtcbiAgICBjb25zdCBzc2UgPSBzc2VEZWNvZGVyLmRlY29kZShsaW5lKTtcbiAgICBpZiAoc3NlKSB5aWVsZCBzc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBHaXZlbiBhbiBhc3luYyBpdGVyYWJsZSBpdGVyYXRvciwgaXRlcmF0ZXMgb3ZlciBpdCBhbmQgeWllbGRzIGZ1bGxcbiAqIFNTRSBjaHVua3MsIGkuZS4geWllbGRzIHdoZW4gYSBkb3VibGUgbmV3LWxpbmUgaXMgZW5jb3VudGVyZWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uKiBpdGVyU1NFQ2h1bmtzKGl0ZXJhdG9yOiBBc3luY0l0ZXJhYmxlSXRlcmF0b3I8Qnl0ZXM+KTogQXN5bmNHZW5lcmF0b3I8VWludDhBcnJheT4ge1xuICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KCk7XG5cbiAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpdGVyYXRvcikge1xuICAgIGlmIChjaHVuayA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBiaW5hcnlDaHVuayA9XG4gICAgICBjaHVuayBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gbmV3IFVpbnQ4QXJyYXkoY2h1bmspXG4gICAgICA6IHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycgPyBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoY2h1bmspXG4gICAgICA6IGNodW5rO1xuXG4gICAgbGV0IG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCArIGJpbmFyeUNodW5rLmxlbmd0aCk7XG4gICAgbmV3RGF0YS5zZXQoZGF0YSk7XG4gICAgbmV3RGF0YS5zZXQoYmluYXJ5Q2h1bmssIGRhdGEubGVuZ3RoKTtcbiAgICBkYXRhID0gbmV3RGF0YTtcblxuICAgIGxldCBwYXR0ZXJuSW5kZXg7XG4gICAgd2hpbGUgKChwYXR0ZXJuSW5kZXggPSBmaW5kRG91YmxlTmV3bGluZUluZGV4KGRhdGEpKSAhPT0gLTEpIHtcbiAgICAgIHlpZWxkIGRhdGEuc2xpY2UoMCwgcGF0dGVybkluZGV4KTtcbiAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKHBhdHRlcm5JbmRleCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgIHlpZWxkIGRhdGE7XG4gIH1cbn1cblxuY2xhc3MgU1NFRGVjb2RlciB7XG4gIHByaXZhdGUgZGF0YTogc3RyaW5nW107XG4gIHByaXZhdGUgZXZlbnQ6IHN0cmluZyB8IG51bGw7XG4gIHByaXZhdGUgY2h1bmtzOiBzdHJpbmdbXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB0aGlzLmNodW5rcyA9IFtdO1xuICB9XG5cbiAgZGVjb2RlKGxpbmU6IHN0cmluZykge1xuICAgIGlmIChsaW5lLmVuZHNXaXRoKCdcXHInKSkge1xuICAgICAgbGluZSA9IGxpbmUuc3Vic3RyaW5nKDAsIGxpbmUubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgaWYgKCFsaW5lKSB7XG4gICAgICAvLyBlbXB0eSBsaW5lIGFuZCB3ZSBkaWRuJ3QgcHJldmlvdXNseSBlbmNvdW50ZXIgYW55IG1lc3NhZ2VzXG4gICAgICBpZiAoIXRoaXMuZXZlbnQgJiYgIXRoaXMuZGF0YS5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gICAgICBjb25zdCBzc2U6IFNlcnZlclNlbnRFdmVudCA9IHtcbiAgICAgICAgZXZlbnQ6IHRoaXMuZXZlbnQsXG4gICAgICAgIGRhdGE6IHRoaXMuZGF0YS5qb2luKCdcXG4nKSxcbiAgICAgICAgcmF3OiB0aGlzLmNodW5rcyxcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZXZlbnQgPSBudWxsO1xuICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICB0aGlzLmNodW5rcyA9IFtdO1xuXG4gICAgICByZXR1cm4gc3NlO1xuICAgIH1cblxuICAgIHRoaXMuY2h1bmtzLnB1c2gobGluZSk7XG5cbiAgICBpZiAobGluZS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxldCBbZmllbGRuYW1lLCBfLCB2YWx1ZV0gPSBwYXJ0aXRpb24obGluZSwgJzonKTtcblxuICAgIGlmICh2YWx1ZS5zdGFydHNXaXRoKCcgJykpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIGlmIChmaWVsZG5hbWUgPT09ICdldmVudCcpIHtcbiAgICAgIHRoaXMuZXZlbnQgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkbmFtZSA9PT0gJ2RhdGEnKSB7XG4gICAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFydGl0aW9uKHN0cjogc3RyaW5nLCBkZWxpbWl0ZXI6IHN0cmluZyk6IFtzdHJpbmcsIHN0cmluZywgc3RyaW5nXSB7XG4gIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZGVsaW1pdGVyKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHJldHVybiBbc3RyLnN1YnN0cmluZygwLCBpbmRleCksIGRlbGltaXRlciwgc3RyLnN1YnN0cmluZyhpbmRleCArIGRlbGltaXRlci5sZW5ndGgpXTtcbiAgfVxuXG4gIHJldHVybiBbc3RyLCAnJywgJyddO1xufVxuIiwgImltcG9ydCB7IHR5cGUgUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuL2NvcmUnO1xuaW1wb3J0IHtcbiAgRm9ybURhdGEsXG4gIEZpbGUsXG4gIHR5cGUgQmxvYixcbiAgdHlwZSBGaWxlUHJvcGVydHlCYWcsXG4gIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zLFxuICB0eXBlIEZzUmVhZFN0cmVhbSxcbiAgaXNGc1JlYWRTdHJlYW0sXG59IGZyb20gJy4vX3NoaW1zL2luZGV4JztcbmltcG9ydCB7IE11bHRpcGFydEJvZHkgfSBmcm9tICcuL19zaGltcy9NdWx0aXBhcnRCb2R5JztcbmV4cG9ydCB7IGZpbGVGcm9tUGF0aCB9IGZyb20gJy4vX3NoaW1zL2luZGV4JztcblxudHlwZSBCbG9iTGlrZVBhcnQgPSBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlldyB8IEJsb2JMaWtlIHwgVWludDhBcnJheSB8IERhdGFWaWV3O1xuZXhwb3J0IHR5cGUgQmxvYlBhcnQgPSBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlldyB8IEJsb2IgfCBVaW50OEFycmF5IHwgRGF0YVZpZXc7XG5cbi8qKlxuICogVHlwaWNhbGx5LCB0aGlzIGlzIGEgbmF0aXZlIFwiRmlsZVwiIGNsYXNzLlxuICpcbiAqIFdlIHByb3ZpZGUgdGhlIHtAbGluayB0b0ZpbGV9IHV0aWxpdHkgdG8gY29udmVydCBhIHZhcmlldHkgb2Ygb2JqZWN0c1xuICogaW50byB0aGUgRmlsZSBjbGFzcy5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGEgZmV0Y2ggUmVzcG9uc2UsIG9yIGluIE5vZGUsXG4gKiB0aGUgcmVzdWx0IG9mIGZzLmNyZWF0ZVJlYWRTdHJlYW0oKS5cbiAqL1xuZXhwb3J0IHR5cGUgVXBsb2FkYWJsZSA9IEZpbGVMaWtlIHwgUmVzcG9uc2VMaWtlIHwgRnNSZWFkU3RyZWFtO1xuXG4vKipcbiAqIEludGVuZGVkIHRvIG1hdGNoIHdlYi5CbG9iLCBub2RlLkJsb2IsIG5vZGUtZmV0Y2guQmxvYiwgZXRjLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2JMaWtlIHtcbiAgLyoqIFtNRE4gUmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQmxvYi9zaXplKSAqL1xuICByZWFkb25seSBzaXplOiBudW1iZXI7XG4gIC8qKiBbTUROIFJlZmVyZW5jZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0Jsb2IvdHlwZSkgKi9cbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAvKiogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9CbG9iL3RleHQpICovXG4gIHRleHQoKTogUHJvbWlzZTxzdHJpbmc+O1xuICAvKiogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9CbG9iL3NsaWNlKSAqL1xuICBzbGljZShzdGFydD86IG51bWJlciwgZW5kPzogbnVtYmVyKTogQmxvYkxpa2U7XG4gIC8vIHVuZm9ydHVuYXRlbHkgQHR5cGVzL25vZGUtZmV0Y2hAXjIuNi40IGRvZXNuJ3QgdHlwZSB0aGUgYXJyYXlCdWZmZXIgbWV0aG9kXG59XG5cbi8qKlxuICogSW50ZW5kZWQgdG8gbWF0Y2ggd2ViLkZpbGUsIG5vZGUuRmlsZSwgbm9kZS1mZXRjaC5GaWxlLCBldGMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUxpa2UgZXh0ZW5kcyBCbG9iTGlrZSB7XG4gIC8qKiBbTUROIFJlZmVyZW5jZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0ZpbGUvbGFzdE1vZGlmaWVkKSAqL1xuICByZWFkb25seSBsYXN0TW9kaWZpZWQ6IG51bWJlcjtcbiAgLyoqIFtNRE4gUmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvRmlsZS9uYW1lKSAqL1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG59XG5cbi8qKlxuICogSW50ZW5kZWQgdG8gbWF0Y2ggd2ViLlJlc3BvbnNlLCBub2RlLlJlc3BvbnNlLCBub2RlLWZldGNoLlJlc3BvbnNlLCBldGMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VMaWtlIHtcbiAgdXJsOiBzdHJpbmc7XG4gIGJsb2IoKTogUHJvbWlzZTxCbG9iTGlrZT47XG59XG5cbmV4cG9ydCBjb25zdCBpc1Jlc3BvbnNlTGlrZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgUmVzcG9uc2VMaWtlID0+XG4gIHZhbHVlICE9IG51bGwgJiZcbiAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICB0eXBlb2YgdmFsdWUudXJsID09PSAnc3RyaW5nJyAmJlxuICB0eXBlb2YgdmFsdWUuYmxvYiA9PT0gJ2Z1bmN0aW9uJztcblxuZXhwb3J0IGNvbnN0IGlzRmlsZUxpa2UgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIEZpbGVMaWtlID0+XG4gIHZhbHVlICE9IG51bGwgJiZcbiAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICB0eXBlb2YgdmFsdWUubmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgdHlwZW9mIHZhbHVlLmxhc3RNb2RpZmllZCA9PT0gJ251bWJlcicgJiZcbiAgaXNCbG9iTGlrZSh2YWx1ZSk7XG5cbi8qKlxuICogVGhlIEJsb2JMaWtlIHR5cGUgb21pdHMgYXJyYXlCdWZmZXIoKSBiZWNhdXNlIEB0eXBlcy9ub2RlLWZldGNoQF4yLjYuNCBsYWNrcyBpdDsgYnV0IHRoaXMgY2hlY2tcbiAqIGFkZHMgdGhlIGFycmF5QnVmZmVyKCkgbWV0aG9kIHR5cGUgYmVjYXVzZSBpdCBpcyBhdmFpbGFibGUgYW5kIHVzZWQgYXQgcnVudGltZVxuICovXG5leHBvcnQgY29uc3QgaXNCbG9iTGlrZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgQmxvYkxpa2UgJiB7IGFycmF5QnVmZmVyKCk6IFByb21pc2U8QXJyYXlCdWZmZXI+IH0gPT5cbiAgdmFsdWUgIT0gbnVsbCAmJlxuICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gIHR5cGVvZiB2YWx1ZS5zaXplID09PSAnbnVtYmVyJyAmJlxuICB0eXBlb2YgdmFsdWUudHlwZSA9PT0gJ3N0cmluZycgJiZcbiAgdHlwZW9mIHZhbHVlLnRleHQgPT09ICdmdW5jdGlvbicgJiZcbiAgdHlwZW9mIHZhbHVlLnNsaWNlID09PSAnZnVuY3Rpb24nICYmXG4gIHR5cGVvZiB2YWx1ZS5hcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJztcblxuZXhwb3J0IGNvbnN0IGlzVXBsb2FkYWJsZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgVXBsb2FkYWJsZSA9PiB7XG4gIHJldHVybiBpc0ZpbGVMaWtlKHZhbHVlKSB8fCBpc1Jlc3BvbnNlTGlrZSh2YWx1ZSkgfHwgaXNGc1JlYWRTdHJlYW0odmFsdWUpO1xufTtcblxuZXhwb3J0IHR5cGUgVG9GaWxlSW5wdXQgPSBVcGxvYWRhYmxlIHwgRXhjbHVkZTxCbG9iTGlrZVBhcnQsIHN0cmluZz4gfCBBc3luY0l0ZXJhYmxlPEJsb2JMaWtlUGFydD47XG5cbi8qKlxuICogSGVscGVyIGZvciBjcmVhdGluZyBhIHtAbGluayBGaWxlfSB0byBwYXNzIHRvIGFuIFNESyB1cGxvYWQgbWV0aG9kIGZyb20gYSB2YXJpZXR5IG9mIGRpZmZlcmVudCBkYXRhIGZvcm1hdHNcbiAqIEBwYXJhbSB2YWx1ZSB0aGUgcmF3IGNvbnRlbnQgb2YgdGhlIGZpbGUuICBDYW4gYmUgYW4ge0BsaW5rIFVwbG9hZGFibGV9LCB7QGxpbmsgQmxvYkxpa2VQYXJ0fSwgb3Ige0BsaW5rIEFzeW5jSXRlcmFibGV9IG9mIHtAbGluayBCbG9iTGlrZVBhcnR9c1xuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBmaWxlLiBJZiBvbWl0dGVkLCB0b0ZpbGUgd2lsbCB0cnkgdG8gZGV0ZXJtaW5lIGEgZmlsZSBuYW1lIGZyb20gYml0cyBpZiBwb3NzaWJsZVxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRpb25zLnR5cGUgdGhlIE1JTUUgdHlwZSBvZiB0aGUgY29udGVudFxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRpb25zLmxhc3RNb2RpZmllZCB0aGUgbGFzdCBtb2RpZmllZCB0aW1lc3RhbXBcbiAqIEByZXR1cm5zIGEge0BsaW5rIEZpbGV9IHdpdGggdGhlIGdpdmVuIHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvRmlsZShcbiAgdmFsdWU6IFRvRmlsZUlucHV0IHwgUHJvbWlzZUxpa2U8VG9GaWxlSW5wdXQ+LFxuICBuYW1lPzogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgb3B0aW9ucz86IEZpbGVQcm9wZXJ0eUJhZyB8IHVuZGVmaW5lZCxcbik6IFByb21pc2U8RmlsZUxpa2U+IHtcbiAgLy8gSWYgaXQncyBhIHByb21pc2UsIHJlc29sdmUgaXQuXG4gIHZhbHVlID0gYXdhaXQgdmFsdWU7XG5cbiAgLy8gSWYgd2UndmUgYmVlbiBnaXZlbiBhIGBGaWxlYCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXG4gIGlmIChpc0ZpbGVMaWtlKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGlmIChpc1Jlc3BvbnNlTGlrZSh2YWx1ZSkpIHtcbiAgICBjb25zdCBibG9iID0gYXdhaXQgdmFsdWUuYmxvYigpO1xuICAgIG5hbWUgfHw9IG5ldyBVUkwodmFsdWUudXJsKS5wYXRobmFtZS5zcGxpdCgvW1xcXFwvXS8pLnBvcCgpID8/ICd1bmtub3duX2ZpbGUnO1xuXG4gICAgLy8gd2UgbmVlZCB0byBjb252ZXJ0IHRoZSBgQmxvYmAgaW50byBhbiBhcnJheSBidWZmZXIgYmVjYXVzZSB0aGUgYEJsb2JgIGNsYXNzXG4gICAgLy8gdGhhdCBgbm9kZS1mZXRjaGAgZGVmaW5lcyBpcyBpbmNvbXBhdGlibGUgd2l0aCB0aGUgd2ViIHN0YW5kYXJkIHdoaWNoIHJlc3VsdHNcbiAgICAvLyBpbiBgbmV3IEZpbGVgIGludGVycHJldGluZyBpdCBhcyBhIHN0cmluZyBpbnN0ZWFkIG9mIGJpbmFyeSBkYXRhLlxuICAgIGNvbnN0IGRhdGEgPSBpc0Jsb2JMaWtlKGJsb2IpID8gWyhhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpIGFzIGFueV0gOiBbYmxvYl07XG5cbiAgICByZXR1cm4gbmV3IEZpbGUoZGF0YSwgbmFtZSwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25zdCBiaXRzID0gYXdhaXQgZ2V0Qnl0ZXModmFsdWUpO1xuXG4gIG5hbWUgfHw9IGdldE5hbWUodmFsdWUpID8/ICd1bmtub3duX2ZpbGUnO1xuXG4gIGlmICghb3B0aW9ucz8udHlwZSkge1xuICAgIGNvbnN0IHR5cGUgPSAoYml0c1swXSBhcyBhbnkpPy50eXBlO1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMsIHR5cGUgfTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IEZpbGUoYml0cywgbmFtZSwgb3B0aW9ucyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEJ5dGVzKHZhbHVlOiBUb0ZpbGVJbnB1dCk6IFByb21pc2U8QXJyYXk8QmxvYlBhcnQ+PiB7XG4gIGxldCBwYXJ0czogQXJyYXk8QmxvYlBhcnQ+ID0gW107XG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSB8fCAvLyBpbmNsdWRlcyBVaW50OEFycmF5LCBCdWZmZXIsIGV0Yy5cbiAgICB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyXG4gICkge1xuICAgIHBhcnRzLnB1c2godmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzQmxvYkxpa2UodmFsdWUpKSB7XG4gICAgcGFydHMucHVzaChhd2FpdCB2YWx1ZS5hcnJheUJ1ZmZlcigpKTtcbiAgfSBlbHNlIGlmIChcbiAgICBpc0FzeW5jSXRlcmFibGVJdGVyYXRvcih2YWx1ZSkgLy8gaW5jbHVkZXMgUmVhZGFibGUsIFJlYWRhYmxlU3RyZWFtLCBldGMuXG4gICkge1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdmFsdWUpIHtcbiAgICAgIHBhcnRzLnB1c2goY2h1bmsgYXMgQmxvYlBhcnQpOyAvLyBUT0RPLCBjb25zaWRlciB2YWxpZGF0aW5nP1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVW5leHBlY3RlZCBkYXRhIHR5cGU6ICR7dHlwZW9mIHZhbHVlfTsgY29uc3RydWN0b3I6ICR7dmFsdWU/LmNvbnN0cnVjdG9yXG4gICAgICAgID8ubmFtZX07IHByb3BzOiAke3Byb3BzRm9yRXJyb3IodmFsdWUpfWAsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuZnVuY3Rpb24gcHJvcHNGb3JFcnJvcih2YWx1ZTogYW55KTogc3RyaW5nIHtcbiAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIHJldHVybiBgWyR7cHJvcHMubWFwKChwKSA9PiBgXCIke3B9XCJgKS5qb2luKCcsICcpfV1gO1xufVxuXG5mdW5jdGlvbiBnZXROYW1lKHZhbHVlOiBhbnkpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICByZXR1cm4gKFxuICAgIGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5uYW1lKSB8fFxuICAgIGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5maWxlbmFtZSkgfHxcbiAgICAvLyBGb3IgZnMuUmVhZFN0cmVhbVxuICAgIGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5wYXRoKT8uc3BsaXQoL1tcXFxcL10vKS5wb3AoKVxuICApO1xufVxuXG5jb25zdCBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIgPSAoeDogc3RyaW5nIHwgQnVmZmVyIHwgdW5rbm93bik6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHJldHVybiB4O1xuICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgeCBpbnN0YW5jZW9mIEJ1ZmZlcikgcmV0dXJuIFN0cmluZyh4KTtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmNvbnN0IGlzQXN5bmNJdGVyYWJsZUl0ZXJhdG9yID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBBc3luY0l0ZXJhYmxlSXRlcmF0b3I8dW5rbm93bj4gPT5cbiAgdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG5cbmV4cG9ydCBjb25zdCBpc011bHRpcGFydEJvZHkgPSAoYm9keTogYW55KTogYm9keSBpcyBNdWx0aXBhcnRCb2R5ID0+XG4gIGJvZHkgJiYgdHlwZW9mIGJvZHkgPT09ICdvYmplY3QnICYmIGJvZHkuYm9keSAmJiBib2R5W1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNdWx0aXBhcnRCb2R5JztcblxuLyoqXG4gKiBSZXR1cm5zIGEgbXVsdGlwYXJ0L2Zvcm0tZGF0YSByZXF1ZXN0IGlmIGFueSBwYXJ0IG9mIHRoZSBnaXZlbiByZXF1ZXN0IGJvZHkgY29udGFpbnMgYSBGaWxlIC8gQmxvYiB2YWx1ZS5cbiAqIE90aGVyd2lzZSByZXR1cm5zIHRoZSByZXF1ZXN0IGFzIGlzLlxuICovXG5leHBvcnQgY29uc3QgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgPSBhc3luYyA8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+PihcbiAgb3B0czogUmVxdWVzdE9wdGlvbnM8VD4sXG4pOiBQcm9taXNlPFJlcXVlc3RPcHRpb25zPFQgfCBNdWx0aXBhcnRCb2R5Pj4gPT4ge1xuICBpZiAoIWhhc1VwbG9hZGFibGVWYWx1ZShvcHRzLmJvZHkpKSByZXR1cm4gb3B0cztcblxuICBjb25zdCBmb3JtID0gYXdhaXQgY3JlYXRlRm9ybShvcHRzLmJvZHkpO1xuICByZXR1cm4gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cyk7XG59O1xuXG5leHBvcnQgY29uc3QgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zID0gYXN5bmMgPFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oXG4gIG9wdHM6IFJlcXVlc3RPcHRpb25zPFQ+LFxuKTogUHJvbWlzZTxSZXF1ZXN0T3B0aW9uczxUIHwgTXVsdGlwYXJ0Qm9keT4+ID0+IHtcbiAgY29uc3QgZm9ybSA9IGF3YWl0IGNyZWF0ZUZvcm0ob3B0cy5ib2R5KTtcbiAgcmV0dXJuIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zKGZvcm0sIG9wdHMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZvcm0gPSBhc3luYyA8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+Pihib2R5OiBUIHwgdW5kZWZpbmVkKTogUHJvbWlzZTxGb3JtRGF0YT4gPT4ge1xuICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gIGF3YWl0IFByb21pc2UuYWxsKE9iamVjdC5lbnRyaWVzKGJvZHkgfHwge30pLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5LCB2YWx1ZSkpKTtcbiAgcmV0dXJuIGZvcm07XG59O1xuXG5jb25zdCBoYXNVcGxvYWRhYmxlVmFsdWUgPSAodmFsdWU6IHVua25vd24pOiBib29sZWFuID0+IHtcbiAgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5zb21lKGhhc1VwbG9hZGFibGVWYWx1ZSk7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yIChjb25zdCBrIGluIHZhbHVlKSB7XG4gICAgICBpZiAoaGFzVXBsb2FkYWJsZVZhbHVlKCh2YWx1ZSBhcyBhbnkpW2tdKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IGFkZEZvcm1WYWx1ZSA9IGFzeW5jIChmb3JtOiBGb3JtRGF0YSwga2V5OiBzdHJpbmcsIHZhbHVlOiB1bmtub3duKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgIGBSZWNlaXZlZCBudWxsIGZvciBcIiR7a2V5fVwiOyB0byBwYXNzIG51bGwgaW4gRm9ybURhdGEsIHlvdSBtdXN0IHVzZSB0aGUgc3RyaW5nICdudWxsJ2AsXG4gICAgKTtcbiAgfVxuXG4gIC8vIFRPRE86IG1ha2UgbmVzdGVkIGZvcm1hdHMgY29uZmlndXJhYmxlXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICBmb3JtLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpO1xuICB9IGVsc2UgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpIHtcbiAgICBjb25zdCBmaWxlID0gYXdhaXQgdG9GaWxlKHZhbHVlKTtcbiAgICBmb3JtLmFwcGVuZChrZXksIGZpbGUgYXMgRmlsZSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh2YWx1ZS5tYXAoKGVudHJ5KSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5ICsgJ1tdJywgZW50cnkpKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW25hbWUsIHByb3BdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwgYCR7a2V5fVske25hbWV9XWAsIHByb3ApKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgSW52YWxpZCB2YWx1ZSBnaXZlbiB0byBmb3JtLCBleHBlY3RlZCBhIHN0cmluZywgbnVtYmVyLCBib29sZWFuLCBvYmplY3QsIEFycmF5LCBGaWxlIG9yIEJsb2IgYnV0IGdvdCAke3ZhbHVlfSBpbnN0ZWFkYCxcbiAgICApO1xuICB9XG59O1xuIiwgImltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL3ZlcnNpb24nO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi9zdHJlYW1pbmcnO1xuaW1wb3J0IHtcbiAgT3BlbkFJRXJyb3IsXG4gIEFQSUVycm9yLFxuICBBUElDb25uZWN0aW9uRXJyb3IsXG4gIEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IsXG4gIEFQSVVzZXJBYm9ydEVycm9yLFxufSBmcm9tICcuL2Vycm9yJztcbmltcG9ydCB7XG4gIGtpbmQgYXMgc2hpbXNLaW5kLFxuICB0eXBlIFJlYWRhYmxlLFxuICBnZXREZWZhdWx0QWdlbnQsXG4gIHR5cGUgQWdlbnQsXG4gIGZldGNoLFxuICB0eXBlIFJlcXVlc3RJbmZvLFxuICB0eXBlIFJlcXVlc3RJbml0LFxuICB0eXBlIFJlc3BvbnNlLFxuICB0eXBlIEhlYWRlcnNJbml0LFxufSBmcm9tICcuL19zaGltcy9pbmRleCc7XG5leHBvcnQgeyB0eXBlIFJlc3BvbnNlIH07XG5pbXBvcnQgeyBCbG9iTGlrZSwgaXNCbG9iTGlrZSwgaXNNdWx0aXBhcnRCb2R5IH0gZnJvbSAnLi91cGxvYWRzJztcbmV4cG9ydCB7XG4gIG1heWJlTXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zLFxuICBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMsXG4gIGNyZWF0ZUZvcm0sXG4gIHR5cGUgVXBsb2FkYWJsZSxcbn0gZnJvbSAnLi91cGxvYWRzJztcblxuZXhwb3J0IHR5cGUgRmV0Y2ggPSAodXJsOiBSZXF1ZXN0SW5mbywgaW5pdD86IFJlcXVlc3RJbml0KSA9PiBQcm9taXNlPFJlc3BvbnNlPjtcblxudHlwZSBQcm9taXNlT3JWYWx1ZTxUPiA9IFQgfCBQcm9taXNlPFQ+O1xuXG50eXBlIEFQSVJlc3BvbnNlUHJvcHMgPSB7XG4gIHJlc3BvbnNlOiBSZXNwb25zZTtcbiAgb3B0aW9uczogRmluYWxSZXF1ZXN0T3B0aW9ucztcbiAgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdFBhcnNlUmVzcG9uc2U8VD4ocHJvcHM6IEFQSVJlc3BvbnNlUHJvcHMpOiBQcm9taXNlPFdpdGhSZXF1ZXN0SUQ8VD4+IHtcbiAgY29uc3QgeyByZXNwb25zZSB9ID0gcHJvcHM7XG4gIGlmIChwcm9wcy5vcHRpb25zLnN0cmVhbSkge1xuICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCByZXNwb25zZS5ib2R5KTtcblxuICAgIC8vIE5vdGU6IHRoZXJlIGlzIGFuIGludmFyaWFudCBoZXJlIHRoYXQgaXNuJ3QgcmVwcmVzZW50ZWQgaW4gdGhlIHR5cGUgc3lzdGVtXG4gICAgLy8gdGhhdCBpZiB5b3Ugc2V0IGBzdHJlYW06IHRydWVgIHRoZSByZXNwb25zZSB0eXBlIG11c3QgYWxzbyBiZSBgU3RyZWFtPFQ+YFxuXG4gICAgaWYgKHByb3BzLm9wdGlvbnMuX19zdHJlYW1DbGFzcykge1xuICAgICAgcmV0dXJuIHByb3BzLm9wdGlvbnMuX19zdHJlYW1DbGFzcy5mcm9tU1NFUmVzcG9uc2UocmVzcG9uc2UsIHByb3BzLmNvbnRyb2xsZXIpIGFzIGFueTtcbiAgICB9XG5cbiAgICByZXR1cm4gU3RyZWFtLmZyb21TU0VSZXNwb25zZShyZXNwb25zZSwgcHJvcHMuY29udHJvbGxlcikgYXMgYW55O1xuICB9XG5cbiAgLy8gZmV0Y2ggcmVmdXNlcyB0byByZWFkIHRoZSBib2R5IHdoZW4gdGhlIHN0YXR1cyBjb2RlIGlzIDIwNC5cbiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgcmV0dXJuIG51bGwgYXMgV2l0aFJlcXVlc3RJRDxUPjtcbiAgfVxuXG4gIGlmIChwcm9wcy5vcHRpb25zLl9fYmluYXJ5UmVzcG9uc2UpIHtcbiAgICByZXR1cm4gcmVzcG9uc2UgYXMgdW5rbm93biBhcyBXaXRoUmVxdWVzdElEPFQ+O1xuICB9XG5cbiAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gIGNvbnN0IG1lZGlhVHlwZSA9IGNvbnRlbnRUeXBlPy5zcGxpdCgnOycpWzBdPy50cmltKCk7XG4gIGNvbnN0IGlzSlNPTiA9IG1lZGlhVHlwZT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSB8fCBtZWRpYVR5cGU/LmVuZHNXaXRoKCcranNvbicpO1xuICBpZiAoaXNKU09OKSB7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCBqc29uKTtcblxuICAgIHJldHVybiBfYWRkUmVxdWVzdElEKGpzb24sIHJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCB0ZXh0KTtcblxuICAvLyBUT0RPIGhhbmRsZSBibG9iLCBhcnJheWJ1ZmZlciwgb3RoZXIgY29udGVudCB0eXBlcywgZXRjLlxuICByZXR1cm4gdGV4dCBhcyB1bmtub3duIGFzIFdpdGhSZXF1ZXN0SUQ8VD47XG59XG5cbnR5cGUgV2l0aFJlcXVlc3RJRDxUPiA9XG4gIFQgZXh0ZW5kcyBBcnJheTxhbnk+IHwgUmVzcG9uc2UgfCBBYnN0cmFjdFBhZ2U8YW55PiA/IFRcbiAgOiBUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA/IFQgJiB7IF9yZXF1ZXN0X2lkPzogc3RyaW5nIHwgbnVsbCB9XG4gIDogVDtcblxuZnVuY3Rpb24gX2FkZFJlcXVlc3RJRDxUPih2YWx1ZTogVCwgcmVzcG9uc2U6IFJlc3BvbnNlKTogV2l0aFJlcXVlc3RJRDxUPiB7XG4gIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZSBhcyBXaXRoUmVxdWVzdElEPFQ+O1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YWx1ZSwgJ19yZXF1ZXN0X2lkJywge1xuICAgIHZhbHVlOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1yZXF1ZXN0LWlkJyksXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gIH0pIGFzIFdpdGhSZXF1ZXN0SUQ8VD47XG59XG5cbi8qKlxuICogQSBzdWJjbGFzcyBvZiBgUHJvbWlzZWAgcHJvdmlkaW5nIGFkZGl0aW9uYWwgaGVscGVyIG1ldGhvZHNcbiAqIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBTREsuXG4gKi9cbmV4cG9ydCBjbGFzcyBBUElQcm9taXNlPFQ+IGV4dGVuZHMgUHJvbWlzZTxXaXRoUmVxdWVzdElEPFQ+PiB7XG4gIHByaXZhdGUgcGFyc2VkUHJvbWlzZTogUHJvbWlzZTxXaXRoUmVxdWVzdElEPFQ+PiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlc3BvbnNlUHJvbWlzZTogUHJvbWlzZTxBUElSZXNwb25zZVByb3BzPixcbiAgICBwcml2YXRlIHBhcnNlUmVzcG9uc2U6IChcbiAgICAgIHByb3BzOiBBUElSZXNwb25zZVByb3BzLFxuICAgICkgPT4gUHJvbWlzZU9yVmFsdWU8V2l0aFJlcXVlc3RJRDxUPj4gPSBkZWZhdWx0UGFyc2VSZXNwb25zZSxcbiAgKSB7XG4gICAgc3VwZXIoKHJlc29sdmUpID0+IHtcbiAgICAgIC8vIHRoaXMgaXMgbWF5YmUgYSBiaXQgd2VpcmQgYnV0IHRoaXMgaGFzIHRvIGJlIGEgbm8tb3AgdG8gbm90IGltcGxpY2l0bHlcbiAgICAgIC8vIHBhcnNlIHRoZSByZXNwb25zZSBib2R5OyBpbnN0ZWFkIC50aGVuLCAuY2F0Y2gsIC5maW5hbGx5IGFyZSBvdmVycmlkZGVuXG4gICAgICAvLyB0byBwYXJzZSB0aGUgcmVzcG9uc2VcbiAgICAgIHJlc29sdmUobnVsbCBhcyBhbnkpO1xuICAgIH0pO1xuICB9XG5cbiAgX3RoZW5VbndyYXA8VT4odHJhbnNmb3JtOiAoZGF0YTogVCwgcHJvcHM6IEFQSVJlc3BvbnNlUHJvcHMpID0+IFUpOiBBUElQcm9taXNlPFU+IHtcbiAgICByZXR1cm4gbmV3IEFQSVByb21pc2UodGhpcy5yZXNwb25zZVByb21pc2UsIGFzeW5jIChwcm9wcykgPT5cbiAgICAgIF9hZGRSZXF1ZXN0SUQodHJhbnNmb3JtKGF3YWl0IHRoaXMucGFyc2VSZXNwb25zZShwcm9wcyksIHByb3BzKSwgcHJvcHMucmVzcG9uc2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UgaW5zdGVhZCBvZiBwYXJzaW5nIHRoZSByZXNwb25zZVxuICAgKiBkYXRhLlxuICAgKlxuICAgKiBJZiB5b3Ugd2FudCB0byBwYXJzZSB0aGUgcmVzcG9uc2UgYm9keSBidXQgc3RpbGwgZ2V0IHRoZSBgUmVzcG9uc2VgXG4gICAqIGluc3RhbmNlLCB5b3UgY2FuIHVzZSB7QGxpbmsgd2l0aFJlc3BvbnNlKCl9LlxuICAgKlxuICAgKiBcdUQ4M0RcdURDNEIgR2V0dGluZyB0aGUgd3JvbmcgVHlwZVNjcmlwdCB0eXBlIGZvciBgUmVzcG9uc2VgP1xuICAgKiBUcnkgc2V0dGluZyBgXCJtb2R1bGVSZXNvbHV0aW9uXCI6IFwiTm9kZU5leHRcImAgaWYgeW91IGNhbixcbiAgICogb3IgYWRkIG9uZSBvZiB0aGVzZSBpbXBvcnRzIGJlZm9yZSB5b3VyIGZpcnN0IGBpbXBvcnQgXHUyMDI2IGZyb20gJ29wZW5haSdgOlxuICAgKiAtIGBpbXBvcnQgJ29wZW5haS9zaGltcy9ub2RlJ2AgKGlmIHlvdSdyZSBydW5uaW5nIG9uIE5vZGUpXG4gICAqIC0gYGltcG9ydCAnb3BlbmFpL3NoaW1zL3dlYidgIChvdGhlcndpc2UpXG4gICAqL1xuICBhc1Jlc3BvbnNlKCk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZVByb21pc2UudGhlbigocCkgPT4gcC5yZXNwb25zZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcGFyc2VkIHJlc3BvbnNlIGRhdGEsIHRoZSByYXcgYFJlc3BvbnNlYCBpbnN0YW5jZSBhbmQgdGhlIElEIG9mIHRoZSByZXF1ZXN0LFxuICAgKiByZXR1cm5lZCB2aWEgdGhlIFgtUmVxdWVzdC1JRCBoZWFkZXIgd2hpY2ggaXMgdXNlZnVsIGZvciBkZWJ1Z2dpbmcgcmVxdWVzdHMgYW5kIHJlcG9ydGluZ1xuICAgKiBpc3N1ZXMgdG8gT3BlbkFJLlxuICAgKlxuICAgKiBJZiB5b3UganVzdCB3YW50IHRvIGdldCB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2Ugd2l0aG91dCBwYXJzaW5nIGl0LFxuICAgKiB5b3UgY2FuIHVzZSB7QGxpbmsgYXNSZXNwb25zZSgpfS5cbiAgICpcbiAgICpcbiAgICogXHVEODNEXHVEQzRCIEdldHRpbmcgdGhlIHdyb25nIFR5cGVTY3JpcHQgdHlwZSBmb3IgYFJlc3BvbnNlYD9cbiAgICogVHJ5IHNldHRpbmcgYFwibW9kdWxlUmVzb2x1dGlvblwiOiBcIk5vZGVOZXh0XCJgIGlmIHlvdSBjYW4sXG4gICAqIG9yIGFkZCBvbmUgb2YgdGhlc2UgaW1wb3J0cyBiZWZvcmUgeW91ciBmaXJzdCBgaW1wb3J0IFx1MjAyNiBmcm9tICdvcGVuYWknYDpcbiAgICogLSBgaW1wb3J0ICdvcGVuYWkvc2hpbXMvbm9kZSdgIChpZiB5b3UncmUgcnVubmluZyBvbiBOb2RlKVxuICAgKiAtIGBpbXBvcnQgJ29wZW5haS9zaGltcy93ZWInYCAob3RoZXJ3aXNlKVxuICAgKi9cbiAgYXN5bmMgd2l0aFJlc3BvbnNlKCk6IFByb21pc2U8eyBkYXRhOiBUOyByZXNwb25zZTogUmVzcG9uc2U7IHJlcXVlc3RfaWQ6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgfT4ge1xuICAgIGNvbnN0IFtkYXRhLCByZXNwb25zZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wYXJzZSgpLCB0aGlzLmFzUmVzcG9uc2UoKV0pO1xuICAgIHJldHVybiB7IGRhdGEsIHJlc3BvbnNlLCByZXF1ZXN0X2lkOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1yZXF1ZXN0LWlkJykgfTtcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2UoKTogUHJvbWlzZTxXaXRoUmVxdWVzdElEPFQ+PiB7XG4gICAgaWYgKCF0aGlzLnBhcnNlZFByb21pc2UpIHtcbiAgICAgIHRoaXMucGFyc2VkUHJvbWlzZSA9IHRoaXMucmVzcG9uc2VQcm9taXNlLnRoZW4odGhpcy5wYXJzZVJlc3BvbnNlKSBhcyBhbnkgYXMgUHJvbWlzZTxXaXRoUmVxdWVzdElEPFQ+PjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGFyc2VkUHJvbWlzZTtcbiAgfVxuXG4gIG92ZXJyaWRlIHRoZW48VFJlc3VsdDEgPSBXaXRoUmVxdWVzdElEPFQ+LCBUUmVzdWx0MiA9IG5ldmVyPihcbiAgICBvbmZ1bGZpbGxlZD86ICgodmFsdWU6IFdpdGhSZXF1ZXN0SUQ8VD4pID0+IFRSZXN1bHQxIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDE+KSB8IHVuZGVmaW5lZCB8IG51bGwsXG4gICAgb25yZWplY3RlZD86ICgocmVhc29uOiBhbnkpID0+IFRSZXN1bHQyIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDI+KSB8IHVuZGVmaW5lZCB8IG51bGwsXG4gICk6IFByb21pc2U8VFJlc3VsdDEgfCBUUmVzdWx0Mj4ge1xuICAgIHJldHVybiB0aGlzLnBhcnNlKCkudGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XG4gIH1cblxuICBvdmVycmlkZSBjYXRjaDxUUmVzdWx0ID0gbmV2ZXI+KFxuICAgIG9ucmVqZWN0ZWQ/OiAoKHJlYXNvbjogYW55KSA9PiBUUmVzdWx0IHwgUHJvbWlzZUxpa2U8VFJlc3VsdD4pIHwgdW5kZWZpbmVkIHwgbnVsbCxcbiAgKTogUHJvbWlzZTxXaXRoUmVxdWVzdElEPFQ+IHwgVFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnBhcnNlKCkuY2F0Y2gob25yZWplY3RlZCk7XG4gIH1cblxuICBvdmVycmlkZSBmaW5hbGx5KG9uZmluYWxseT86ICgoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZCB8IG51bGwpOiBQcm9taXNlPFdpdGhSZXF1ZXN0SUQ8VD4+IHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZSgpLmZpbmFsbHkob25maW5hbGx5KTtcbiAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQVBJQ2xpZW50IHtcbiAgYmFzZVVSTDogc3RyaW5nO1xuICBtYXhSZXRyaWVzOiBudW1iZXI7XG4gIHRpbWVvdXQ6IG51bWJlcjtcbiAgaHR0cEFnZW50OiBBZ2VudCB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGZldGNoOiBGZXRjaDtcbiAgcHJvdGVjdGVkIGlkZW1wb3RlbmN5SGVhZGVyPzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBiYXNlVVJMLFxuICAgIG1heFJldHJpZXMgPSAyLFxuICAgIHRpbWVvdXQgPSA2MDAwMDAsIC8vIDEwIG1pbnV0ZXNcbiAgICBodHRwQWdlbnQsXG4gICAgZmV0Y2g6IG92ZXJyaWRkZW5GZXRjaCxcbiAgfToge1xuICAgIGJhc2VVUkw6IHN0cmluZztcbiAgICBtYXhSZXRyaWVzPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHRpbWVvdXQ6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBodHRwQWdlbnQ6IEFnZW50IHwgdW5kZWZpbmVkO1xuICAgIGZldGNoOiBGZXRjaCB8IHVuZGVmaW5lZDtcbiAgfSkge1xuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgdGhpcy5tYXhSZXRyaWVzID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ21heFJldHJpZXMnLCBtYXhSZXRyaWVzKTtcbiAgICB0aGlzLnRpbWVvdXQgPSB2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlcigndGltZW91dCcsIHRpbWVvdXQpO1xuICAgIHRoaXMuaHR0cEFnZW50ID0gaHR0cEFnZW50O1xuXG4gICAgdGhpcy5mZXRjaCA9IG92ZXJyaWRkZW5GZXRjaCA/PyBmZXRjaDtcbiAgfVxuXG4gIHByb3RlY3RlZCBhdXRoSGVhZGVycyhvcHRzOiBGaW5hbFJlcXVlc3RPcHRpb25zKTogSGVhZGVycyB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoaXMgdG8gYWRkIHlvdXIgb3duIGRlZmF1bHQgaGVhZGVycywgZm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICB7XG4gICAqICAgIC4uLnN1cGVyLmRlZmF1bHRIZWFkZXJzKCksXG4gICAqICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgMTIzJyxcbiAgICogIH1cbiAgICovXG4gIHByb3RlY3RlZCBkZWZhdWx0SGVhZGVycyhvcHRzOiBGaW5hbFJlcXVlc3RPcHRpb25zKTogSGVhZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdVc2VyLUFnZW50JzogdGhpcy5nZXRVc2VyQWdlbnQoKSxcbiAgICAgIC4uLmdldFBsYXRmb3JtSGVhZGVycygpLFxuICAgICAgLi4udGhpcy5hdXRoSGVhZGVycyhvcHRzKSxcbiAgICB9O1xuICB9XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGRlZmF1bHRRdWVyeSgpOiBEZWZhdWx0UXVlcnkgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoaXMgdG8gYWRkIHlvdXIgb3duIGhlYWRlcnMgdmFsaWRhdGlvbjpcbiAgICovXG4gIHByb3RlY3RlZCB2YWxpZGF0ZUhlYWRlcnMoaGVhZGVyczogSGVhZGVycywgY3VzdG9tSGVhZGVyczogSGVhZGVycykge31cblxuICBwcm90ZWN0ZWQgZGVmYXVsdElkZW1wb3RlbmN5S2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBzdGFpbmxlc3Mtbm9kZS1yZXRyeS0ke3V1aWQ0KCl9YDtcbiAgfVxuXG4gIGdldDxSZXEsIFJzcD4ocGF0aDogc3RyaW5nLCBvcHRzPzogUHJvbWlzZU9yVmFsdWU8UmVxdWVzdE9wdGlvbnM8UmVxPj4pOiBBUElQcm9taXNlPFJzcD4ge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ2dldCcsIHBhdGgsIG9wdHMpO1xuICB9XG5cbiAgcG9zdDxSZXEsIFJzcD4ocGF0aDogc3RyaW5nLCBvcHRzPzogUHJvbWlzZU9yVmFsdWU8UmVxdWVzdE9wdGlvbnM8UmVxPj4pOiBBUElQcm9taXNlPFJzcD4ge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3Bvc3QnLCBwYXRoLCBvcHRzKTtcbiAgfVxuXG4gIHBhdGNoPFJlcSwgUnNwPihwYXRoOiBzdHJpbmcsIG9wdHM/OiBQcm9taXNlT3JWYWx1ZTxSZXF1ZXN0T3B0aW9uczxSZXE+Pik6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncGF0Y2gnLCBwYXRoLCBvcHRzKTtcbiAgfVxuXG4gIHB1dDxSZXEsIFJzcD4ocGF0aDogc3RyaW5nLCBvcHRzPzogUHJvbWlzZU9yVmFsdWU8UmVxdWVzdE9wdGlvbnM8UmVxPj4pOiBBUElQcm9taXNlPFJzcD4ge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3B1dCcsIHBhdGgsIG9wdHMpO1xuICB9XG5cbiAgZGVsZXRlPFJlcSwgUnNwPihwYXRoOiBzdHJpbmcsIG9wdHM/OiBQcm9taXNlT3JWYWx1ZTxSZXF1ZXN0T3B0aW9uczxSZXE+Pik6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgnZGVsZXRlJywgcGF0aCwgb3B0cyk7XG4gIH1cblxuICBwcml2YXRlIG1ldGhvZFJlcXVlc3Q8UmVxLCBSc3A+KFxuICAgIG1ldGhvZDogSFRUUE1ldGhvZCxcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgb3B0cz86IFByb21pc2VPclZhbHVlPFJlcXVlc3RPcHRpb25zPFJlcT4+LFxuICApOiBBUElQcm9taXNlPFJzcD4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoXG4gICAgICBQcm9taXNlLnJlc29sdmUob3B0cykudGhlbihhc3luYyAob3B0cykgPT4ge1xuICAgICAgICBjb25zdCBib2R5ID1cbiAgICAgICAgICBvcHRzICYmIGlzQmxvYkxpa2Uob3B0cz8uYm9keSkgPyBuZXcgRGF0YVZpZXcoYXdhaXQgb3B0cy5ib2R5LmFycmF5QnVmZmVyKCkpXG4gICAgICAgICAgOiBvcHRzPy5ib2R5IGluc3RhbmNlb2YgRGF0YVZpZXcgPyBvcHRzLmJvZHlcbiAgICAgICAgICA6IG9wdHM/LmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBEYXRhVmlldyhvcHRzLmJvZHkpXG4gICAgICAgICAgOiBvcHRzICYmIEFycmF5QnVmZmVyLmlzVmlldyhvcHRzPy5ib2R5KSA/IG5ldyBEYXRhVmlldyhvcHRzLmJvZHkuYnVmZmVyKVxuICAgICAgICAgIDogb3B0cz8uYm9keTtcbiAgICAgICAgcmV0dXJuIHsgbWV0aG9kLCBwYXRoLCAuLi5vcHRzLCBib2R5IH07XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgZ2V0QVBJTGlzdDxJdGVtLCBQYWdlQ2xhc3MgZXh0ZW5kcyBBYnN0cmFjdFBhZ2U8SXRlbT4gPSBBYnN0cmFjdFBhZ2U8SXRlbT4+KFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBQYWdlOiBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBQYWdlQ2xhc3MsXG4gICAgb3B0cz86IFJlcXVlc3RPcHRpb25zPGFueT4sXG4gICk6IFBhZ2VQcm9taXNlPFBhZ2VDbGFzcywgSXRlbT4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3RBUElMaXN0KFBhZ2UsIHsgbWV0aG9kOiAnZ2V0JywgcGF0aCwgLi4ub3B0cyB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlQ29udGVudExlbmd0aChib2R5OiB1bmtub3duKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBCdWZmZXIuYnl0ZUxlbmd0aChib2R5LCAndXRmOCcpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZXIuZW5jb2RlKGJvZHkpO1xuICAgICAgICByZXR1cm4gZW5jb2RlZC5sZW5ndGgudG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhib2R5KSkge1xuICAgICAgcmV0dXJuIGJvZHkuYnl0ZUxlbmd0aC50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYnVpbGRSZXF1ZXN0PFJlcT4oXG4gICAgb3B0aW9uczogRmluYWxSZXF1ZXN0T3B0aW9uczxSZXE+LFxuICAgIHsgcmV0cnlDb3VudCA9IDAgfTogeyByZXRyeUNvdW50PzogbnVtYmVyIH0gPSB7fSxcbiAgKTogeyByZXE6IFJlcXVlc3RJbml0OyB1cmw6IHN0cmluZzsgdGltZW91dDogbnVtYmVyIH0ge1xuICAgIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMgfTtcbiAgICBjb25zdCB7IG1ldGhvZCwgcGF0aCwgcXVlcnksIGhlYWRlcnM6IGhlYWRlcnMgPSB7fSB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IGJvZHkgPVxuICAgICAgQXJyYXlCdWZmZXIuaXNWaWV3KG9wdGlvbnMuYm9keSkgfHwgKG9wdGlvbnMuX19iaW5hcnlSZXF1ZXN0ICYmIHR5cGVvZiBvcHRpb25zLmJvZHkgPT09ICdzdHJpbmcnKSA/XG4gICAgICAgIG9wdGlvbnMuYm9keVxuICAgICAgOiBpc011bHRpcGFydEJvZHkob3B0aW9ucy5ib2R5KSA/IG9wdGlvbnMuYm9keS5ib2R5XG4gICAgICA6IG9wdGlvbnMuYm9keSA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSwgbnVsbCwgMilcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5jYWxjdWxhdGVDb250ZW50TGVuZ3RoKGJvZHkpO1xuXG4gICAgY29uc3QgdXJsID0gdGhpcy5idWlsZFVSTChwYXRoISwgcXVlcnkpO1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0aW9ucykgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCBvcHRpb25zLnRpbWVvdXQpO1xuICAgIG9wdGlvbnMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCA/PyB0aGlzLnRpbWVvdXQ7XG4gICAgY29uc3QgaHR0cEFnZW50ID0gb3B0aW9ucy5odHRwQWdlbnQgPz8gdGhpcy5odHRwQWdlbnQgPz8gZ2V0RGVmYXVsdEFnZW50KHVybCk7XG4gICAgY29uc3QgbWluQWdlbnRUaW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0ICsgMTAwMDtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgKGh0dHBBZ2VudCBhcyBhbnkpPy5vcHRpb25zPy50aW1lb3V0ID09PSAnbnVtYmVyJyAmJlxuICAgICAgbWluQWdlbnRUaW1lb3V0ID4gKChodHRwQWdlbnQgYXMgYW55KS5vcHRpb25zLnRpbWVvdXQgPz8gMClcbiAgICApIHtcbiAgICAgIC8vIEFsbG93IGFueSBnaXZlbiByZXF1ZXN0IHRvIGJ1bXAgb3VyIGFnZW50IGFjdGl2ZSBzb2NrZXQgdGltZW91dC5cbiAgICAgIC8vIFRoaXMgbWF5IHNlZW0gc3RyYW5nZSwgYnV0IGxlYWtpbmcgYWN0aXZlIHNvY2tldHMgc2hvdWxkIGJlIHJhcmUgYW5kIG5vdCBwYXJ0aWN1bGFybHkgcHJvYmxlbWF0aWMsXG4gICAgICAvLyBhbmQgd2l0aG91dCBtdXRhdGluZyBhZ2VudCB3ZSB3b3VsZCBuZWVkIHRvIGNyZWF0ZSBtb3JlIG9mIHRoZW0uXG4gICAgICAvLyBUaGlzIHRyYWRlb2ZmIG9wdGltaXplcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICAoaHR0cEFnZW50IGFzIGFueSkub3B0aW9ucy50aW1lb3V0ID0gbWluQWdlbnRUaW1lb3V0O1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlkZW1wb3RlbmN5SGVhZGVyICYmIG1ldGhvZCAhPT0gJ2dldCcpIHtcbiAgICAgIGlmICghb3B0aW9ucy5pZGVtcG90ZW5jeUtleSkgb3B0aW9ucy5pZGVtcG90ZW5jeUtleSA9IHRoaXMuZGVmYXVsdElkZW1wb3RlbmN5S2V5KCk7XG4gICAgICBoZWFkZXJzW3RoaXMuaWRlbXBvdGVuY3lIZWFkZXJdID0gb3B0aW9ucy5pZGVtcG90ZW5jeUtleTtcbiAgICB9XG5cbiAgICBjb25zdCByZXFIZWFkZXJzID0gdGhpcy5idWlsZEhlYWRlcnMoeyBvcHRpb25zLCBoZWFkZXJzLCBjb250ZW50TGVuZ3RoLCByZXRyeUNvdW50IH0pO1xuXG4gICAgY29uc3QgcmVxOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIC4uLihib2R5ICYmIHsgYm9keTogYm9keSBhcyBhbnkgfSksXG4gICAgICBoZWFkZXJzOiByZXFIZWFkZXJzLFxuICAgICAgLi4uKGh0dHBBZ2VudCAmJiB7IGFnZW50OiBodHRwQWdlbnQgfSksXG4gICAgICAvLyBAdHMtaWdub3JlIG5vZGUtZmV0Y2ggdXNlcyBhIGN1c3RvbSBBYm9ydFNpZ25hbCB0eXBlIHRoYXQgaXNcbiAgICAgIC8vIG5vdCBjb21wYXRpYmxlIHdpdGggc3RhbmRhcmQgd2ViIHR5cGVzXG4gICAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsID8/IG51bGwsXG4gICAgfTtcblxuICAgIHJldHVybiB7IHJlcSwgdXJsLCB0aW1lb3V0OiBvcHRpb25zLnRpbWVvdXQgfTtcbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRIZWFkZXJzKHtcbiAgICBvcHRpb25zLFxuICAgIGhlYWRlcnMsXG4gICAgY29udGVudExlbmd0aCxcbiAgICByZXRyeUNvdW50LFxuICB9OiB7XG4gICAgb3B0aW9uczogRmluYWxSZXF1ZXN0T3B0aW9ucztcbiAgICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkPjtcbiAgICBjb250ZW50TGVuZ3RoOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuICAgIHJldHJ5Q291bnQ6IG51bWJlcjtcbiAgfSk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICAgIGNvbnN0IHJlcUhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAoY29udGVudExlbmd0aCkge1xuICAgICAgcmVxSGVhZGVyc1snY29udGVudC1sZW5ndGgnXSA9IGNvbnRlbnRMZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc3QgZGVmYXVsdEhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzKG9wdGlvbnMpO1xuICAgIGFwcGx5SGVhZGVyc011dChyZXFIZWFkZXJzLCBkZWZhdWx0SGVhZGVycyk7XG4gICAgYXBwbHlIZWFkZXJzTXV0KHJlcUhlYWRlcnMsIGhlYWRlcnMpO1xuXG4gICAgLy8gbGV0IGJ1aWx0aW4gZmV0Y2ggc2V0IHRoZSBDb250ZW50LVR5cGUgZm9yIG11bHRpcGFydCBib2RpZXNcbiAgICBpZiAoaXNNdWx0aXBhcnRCb2R5KG9wdGlvbnMuYm9keSkgJiYgc2hpbXNLaW5kICE9PSAnbm9kZScpIHtcbiAgICAgIGRlbGV0ZSByZXFIZWFkZXJzWydjb250ZW50LXR5cGUnXTtcbiAgICB9XG5cbiAgICAvLyBEb24ndCBzZXQgdGhlc2VzIGhlYWRlcnMgaWYgdGhleSB3ZXJlIGFscmVhZHkgc2V0IG9yIHJlbW92ZWQgdGhyb3VnaCBkZWZhdWx0IGhlYWRlcnMgb3IgYnkgdGhlIGNhbGxlci5cbiAgICAvLyBXZSBjaGVjayBgZGVmYXVsdEhlYWRlcnNgIGFuZCBgaGVhZGVyc2AsIHdoaWNoIGNhbiBjb250YWluIG51bGxzLCBpbnN0ZWFkIG9mIGByZXFIZWFkZXJzYCB0byBhY2NvdW50XG4gICAgLy8gZm9yIHRoZSByZW1vdmFsIGNhc2UuXG4gICAgaWYgKFxuICAgICAgZ2V0SGVhZGVyKGRlZmF1bHRIZWFkZXJzLCAneC1zdGFpbmxlc3MtcmV0cnktY291bnQnKSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICBnZXRIZWFkZXIoaGVhZGVycywgJ3gtc3RhaW5sZXNzLXJldHJ5LWNvdW50JykgPT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgcmVxSGVhZGVyc1sneC1zdGFpbmxlc3MtcmV0cnktY291bnQnXSA9IFN0cmluZyhyZXRyeUNvdW50KTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgZ2V0SGVhZGVyKGRlZmF1bHRIZWFkZXJzLCAneC1zdGFpbmxlc3MtdGltZW91dCcpID09PSB1bmRlZmluZWQgJiZcbiAgICAgIGdldEhlYWRlcihoZWFkZXJzLCAneC1zdGFpbmxlc3MtdGltZW91dCcpID09PSB1bmRlZmluZWQgJiZcbiAgICAgIG9wdGlvbnMudGltZW91dFxuICAgICkge1xuICAgICAgcmVxSGVhZGVyc1sneC1zdGFpbmxlc3MtdGltZW91dCddID0gU3RyaW5nKG9wdGlvbnMudGltZW91dCk7XG4gICAgfVxuXG4gICAgdGhpcy52YWxpZGF0ZUhlYWRlcnMocmVxSGVhZGVycywgaGVhZGVycyk7XG5cbiAgICByZXR1cm4gcmVxSGVhZGVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGFzIGEgY2FsbGJhY2sgZm9yIG11dGF0aW5nIHRoZSBnaXZlbiBgRmluYWxSZXF1ZXN0T3B0aW9uc2Agb2JqZWN0LlxuICAgKi9cbiAgcHJvdGVjdGVkIGFzeW5jIHByZXBhcmVPcHRpb25zKG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHt9XG5cbiAgLyoqXG4gICAqIFVzZWQgYXMgYSBjYWxsYmFjayBmb3IgbXV0YXRpbmcgdGhlIGdpdmVuIGBSZXF1ZXN0SW5pdGAgb2JqZWN0LlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2FzZXMgd2hlcmUgeW91IHdhbnQgdG8gYWRkIGNlcnRhaW4gaGVhZGVycyBiYXNlZCBvZmYgb2ZcbiAgICogdGhlIHJlcXVlc3QgcHJvcGVydGllcywgZS5nLiBgbWV0aG9kYCBvciBgdXJsYC5cbiAgICovXG4gIHByb3RlY3RlZCBhc3luYyBwcmVwYXJlUmVxdWVzdChcbiAgICByZXF1ZXN0OiBSZXF1ZXN0SW5pdCxcbiAgICB7IHVybCwgb3B0aW9ucyB9OiB7IHVybDogc3RyaW5nOyBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zIH0sXG4gICk6IFByb21pc2U8dm9pZD4ge31cblxuICBwcm90ZWN0ZWQgcGFyc2VIZWFkZXJzKGhlYWRlcnM6IEhlYWRlcnNJbml0IHwgbnVsbCB8IHVuZGVmaW5lZCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICAgIHJldHVybiAoXG4gICAgICAhaGVhZGVycyA/IHt9XG4gICAgICA6IFN5bWJvbC5pdGVyYXRvciBpbiBoZWFkZXJzID9cbiAgICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKEFycmF5LmZyb20oaGVhZGVycyBhcyBJdGVyYWJsZTxzdHJpbmdbXT4pLm1hcCgoaGVhZGVyKSA9PiBbLi4uaGVhZGVyXSkpXG4gICAgICA6IHsgLi4uaGVhZGVycyB9XG4gICAgKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBtYWtlU3RhdHVzRXJyb3IoXG4gICAgc3RhdHVzOiBudW1iZXIgfCB1bmRlZmluZWQsXG4gICAgZXJyb3I6IE9iamVjdCB8IHVuZGVmaW5lZCxcbiAgICBtZXNzYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgaGVhZGVyczogSGVhZGVycyB8IHVuZGVmaW5lZCxcbiAgKTogQVBJRXJyb3Ige1xuICAgIHJldHVybiBBUElFcnJvci5nZW5lcmF0ZShzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgfVxuXG4gIHJlcXVlc3Q8UmVxLCBSc3A+KFxuICAgIG9wdGlvbnM6IFByb21pc2VPclZhbHVlPEZpbmFsUmVxdWVzdE9wdGlvbnM8UmVxPj4sXG4gICAgcmVtYWluaW5nUmV0cmllczogbnVtYmVyIHwgbnVsbCA9IG51bGwsXG4gICk6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIG5ldyBBUElQcm9taXNlKHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgcmVtYWluaW5nUmV0cmllcykpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdDxSZXE+KFxuICAgIG9wdGlvbnNJbnB1dDogUHJvbWlzZU9yVmFsdWU8RmluYWxSZXF1ZXN0T3B0aW9uczxSZXE+PixcbiAgICByZXRyaWVzUmVtYWluaW5nOiBudW1iZXIgfCBudWxsLFxuICApOiBQcm9taXNlPEFQSVJlc3BvbnNlUHJvcHM+IHtcbiAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgb3B0aW9uc0lucHV0O1xuICAgIGNvbnN0IG1heFJldHJpZXMgPSBvcHRpb25zLm1heFJldHJpZXMgPz8gdGhpcy5tYXhSZXRyaWVzO1xuICAgIGlmIChyZXRyaWVzUmVtYWluaW5nID09IG51bGwpIHtcbiAgICAgIHJldHJpZXNSZW1haW5pbmcgPSBtYXhSZXRyaWVzO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMucHJlcGFyZU9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICBjb25zdCB7IHJlcSwgdXJsLCB0aW1lb3V0IH0gPSB0aGlzLmJ1aWxkUmVxdWVzdChvcHRpb25zLCB7IHJldHJ5Q291bnQ6IG1heFJldHJpZXMgLSByZXRyaWVzUmVtYWluaW5nIH0pO1xuXG4gICAgYXdhaXQgdGhpcy5wcmVwYXJlUmVxdWVzdChyZXEsIHsgdXJsLCBvcHRpb25zIH0pO1xuXG4gICAgZGVidWcoJ3JlcXVlc3QnLCB1cmwsIG9wdGlvbnMsIHJlcS5oZWFkZXJzKTtcblxuICAgIGlmIChvcHRpb25zLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2hXaXRoVGltZW91dCh1cmwsIHJlcSwgdGltZW91dCwgY29udHJvbGxlcikuY2F0Y2goY2FzdFRvRXJyb3IpO1xuXG4gICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGlmIChvcHRpb25zLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXNwb25zZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBBUElDb25uZWN0aW9uRXJyb3IoeyBjYXVzZTogcmVzcG9uc2UgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gY3JlYXRlUmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgaWYgKHJldHJpZXNSZW1haW5pbmcgJiYgdGhpcy5zaG91bGRSZXRyeShyZXNwb25zZSkpIHtcbiAgICAgICAgY29uc3QgcmV0cnlNZXNzYWdlID0gYHJldHJ5aW5nLCAke3JldHJpZXNSZW1haW5pbmd9IGF0dGVtcHRzIHJlbWFpbmluZ2A7XG4gICAgICAgIGRlYnVnKGByZXNwb25zZSAoZXJyb3I7ICR7cmV0cnlNZXNzYWdlfSlgLCByZXNwb25zZS5zdGF0dXMsIHVybCwgcmVzcG9uc2VIZWFkZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV0cnlSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcsIHJlc3BvbnNlSGVhZGVycyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVyclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKGUpID0+IGNhc3RUb0Vycm9yKGUpLm1lc3NhZ2UpO1xuICAgICAgY29uc3QgZXJySlNPTiA9IHNhZmVKU09OKGVyclRleHQpO1xuICAgICAgY29uc3QgZXJyTWVzc2FnZSA9IGVyckpTT04gPyB1bmRlZmluZWQgOiBlcnJUZXh0O1xuICAgICAgY29uc3QgcmV0cnlNZXNzYWdlID0gcmV0cmllc1JlbWFpbmluZyA/IGAoZXJyb3I7IG5vIG1vcmUgcmV0cmllcyBsZWZ0KWAgOiBgKGVycm9yOyBub3QgcmV0cnlhYmxlKWA7XG5cbiAgICAgIGRlYnVnKGByZXNwb25zZSAoZXJyb3I7ICR7cmV0cnlNZXNzYWdlfSlgLCByZXNwb25zZS5zdGF0dXMsIHVybCwgcmVzcG9uc2VIZWFkZXJzLCBlcnJNZXNzYWdlKTtcblxuICAgICAgY29uc3QgZXJyID0gdGhpcy5tYWtlU3RhdHVzRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCBlcnJKU09OLCBlcnJNZXNzYWdlLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cblxuICAgIHJldHVybiB7IHJlc3BvbnNlLCBvcHRpb25zLCBjb250cm9sbGVyIH07XG4gIH1cblxuICByZXF1ZXN0QVBJTGlzdDxJdGVtID0gdW5rbm93biwgUGFnZUNsYXNzIGV4dGVuZHMgQWJzdHJhY3RQYWdlPEl0ZW0+ID0gQWJzdHJhY3RQYWdlPEl0ZW0+PihcbiAgICBQYWdlOiBuZXcgKC4uLmFyZ3M6IENvbnN0cnVjdG9yUGFyYW1ldGVyczx0eXBlb2YgQWJzdHJhY3RQYWdlPikgPT4gUGFnZUNsYXNzLFxuICAgIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnMsXG4gICk6IFBhZ2VQcm9taXNlPFBhZ2VDbGFzcywgSXRlbT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIG51bGwpO1xuICAgIHJldHVybiBuZXcgUGFnZVByb21pc2U8UGFnZUNsYXNzLCBJdGVtPih0aGlzLCByZXF1ZXN0LCBQYWdlKTtcbiAgfVxuXG4gIGJ1aWxkVVJMPFJlcT4ocGF0aDogc3RyaW5nLCBxdWVyeTogUmVxIHwgbnVsbCB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG4gICAgY29uc3QgdXJsID1cbiAgICAgIGlzQWJzb2x1dGVVUkwocGF0aCkgP1xuICAgICAgICBuZXcgVVJMKHBhdGgpXG4gICAgICA6IG5ldyBVUkwodGhpcy5iYXNlVVJMICsgKHRoaXMuYmFzZVVSTC5lbmRzV2l0aCgnLycpICYmIHBhdGguc3RhcnRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgxKSA6IHBhdGgpKTtcblxuICAgIGNvbnN0IGRlZmF1bHRRdWVyeSA9IHRoaXMuZGVmYXVsdFF1ZXJ5KCk7XG4gICAgaWYgKCFpc0VtcHR5T2JqKGRlZmF1bHRRdWVyeSkpIHtcbiAgICAgIHF1ZXJ5ID0geyAuLi5kZWZhdWx0UXVlcnksIC4uLnF1ZXJ5IH0gYXMgUmVxO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcXVlcnkgPT09ICdvYmplY3QnICYmIHF1ZXJ5ICYmICFBcnJheS5pc0FycmF5KHF1ZXJ5KSkge1xuICAgICAgdXJsLnNlYXJjaCA9IHRoaXMuc3RyaW5naWZ5UXVlcnkocXVlcnkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pO1xuICAgIH1cblxuICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBzdHJpbmdpZnlRdWVyeShxdWVyeTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiBzdHJpbmcge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhxdWVyeSlcbiAgICAgIC5maWx0ZXIoKFtfLCB2YWx1ZV0pID0+IHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIHJldHVybiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT1gO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihcbiAgICAgICAgICBgQ2Fubm90IHN0cmluZ2lmeSB0eXBlICR7dHlwZW9mIHZhbHVlfTsgRXhwZWN0ZWQgc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIG9yIG51bGwuIElmIHlvdSBuZWVkIHRvIHBhc3MgbmVzdGVkIHF1ZXJ5IHBhcmFtZXRlcnMsIHlvdSBjYW4gbWFudWFsbHkgZW5jb2RlIHRoZW0sIGUuZy4geyBxdWVyeTogeyAnZm9vW2tleTFdJzogdmFsdWUxLCAnZm9vW2tleTJdJzogdmFsdWUyIH0gfSwgYW5kIHBsZWFzZSBvcGVuIGEgR2l0SHViIGlzc3VlIHJlcXVlc3RpbmcgYmV0dGVyIHN1cHBvcnQgZm9yIHlvdXIgdXNlIGNhc2UuYCxcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAuam9pbignJicpO1xuICB9XG5cbiAgYXN5bmMgZmV0Y2hXaXRoVGltZW91dChcbiAgICB1cmw6IFJlcXVlc3RJbmZvLFxuICAgIGluaXQ6IFJlcXVlc3RJbml0IHwgdW5kZWZpbmVkLFxuICAgIG1zOiBudW1iZXIsXG4gICAgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyLFxuICApOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgeyBzaWduYWwsIC4uLm9wdGlvbnMgfSA9IGluaXQgfHwge307XG4gICAgaWYgKHNpZ25hbCkgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gY29udHJvbGxlci5hYm9ydCgpKTtcblxuICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgbXMpO1xuXG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0ge1xuICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCBhcyBhbnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH07XG4gICAgaWYgKGZldGNoT3B0aW9ucy5tZXRob2QpIHtcbiAgICAgIC8vIEN1c3RvbSBtZXRob2RzIGxpa2UgJ3BhdGNoJyBuZWVkIHRvIGJlIHVwcGVyY2FzZWRcbiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL3VuZGljaS9pc3N1ZXMvMjI5NFxuICAgICAgZmV0Y2hPcHRpb25zLm1ldGhvZCA9IGZldGNoT3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgLy8gdXNlIHVuZGVmaW5lZCB0aGlzIGJpbmRpbmc7IGZldGNoIGVycm9ycyBpZiBib3VuZCB0byBzb21ldGhpbmcgZWxzZSBpbiBicm93c2VyL2Nsb3VkZmxhcmVcbiAgICAgIHRoaXMuZmV0Y2guY2FsbCh1bmRlZmluZWQsIHVybCwgZmV0Y2hPcHRpb25zKS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG91bGRSZXRyeShyZXNwb25zZTogUmVzcG9uc2UpOiBib29sZWFuIHtcbiAgICAvLyBOb3RlIHRoaXMgaXMgbm90IGEgc3RhbmRhcmQgaGVhZGVyLlxuICAgIGNvbnN0IHNob3VsZFJldHJ5SGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtc2hvdWxkLXJldHJ5Jyk7XG5cbiAgICAvLyBJZiB0aGUgc2VydmVyIGV4cGxpY2l0bHkgc2F5cyB3aGV0aGVyIG9yIG5vdCB0byByZXRyeSwgb2JleS5cbiAgICBpZiAoc2hvdWxkUmV0cnlIZWFkZXIgPT09ICd0cnVlJykgcmV0dXJuIHRydWU7XG4gICAgaWYgKHNob3VsZFJldHJ5SGVhZGVyID09PSAnZmFsc2UnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBSZXRyeSBvbiByZXF1ZXN0IHRpbWVvdXRzLlxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOCkgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBSZXRyeSBvbiBsb2NrIHRpbWVvdXRzLlxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBSZXRyeSBvbiByYXRlIGxpbWl0cy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gUmV0cnkgaW50ZXJuYWwgZXJyb3JzLlxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gNTAwKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmV0cnlSZXF1ZXN0KFxuICAgIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnMsXG4gICAgcmV0cmllc1JlbWFpbmluZzogbnVtYmVyLFxuICAgIHJlc3BvbnNlSGVhZGVycz86IEhlYWRlcnMgfCB1bmRlZmluZWQsXG4gICk6IFByb21pc2U8QVBJUmVzcG9uc2VQcm9wcz4ge1xuICAgIGxldCB0aW1lb3V0TWlsbGlzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICAvLyBOb3RlIHRoZSBgcmV0cnktYWZ0ZXItbXNgIGhlYWRlciBtYXkgbm90IGJlIHN0YW5kYXJkLCBidXQgaXMgYSBnb29kIGlkZWEgYW5kIHdlJ2QgbGlrZSBwcm9hY3RpdmUgc3VwcG9ydCBmb3IgaXQuXG4gICAgY29uc3QgcmV0cnlBZnRlck1pbGxpc0hlYWRlciA9IHJlc3BvbnNlSGVhZGVycz8uWydyZXRyeS1hZnRlci1tcyddO1xuICAgIGlmIChyZXRyeUFmdGVyTWlsbGlzSGVhZGVyKSB7XG4gICAgICBjb25zdCB0aW1lb3V0TXMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIpO1xuICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dE1zKSkge1xuICAgICAgICB0aW1lb3V0TWlsbGlzID0gdGltZW91dE1zO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFib3V0IHRoZSBSZXRyeS1BZnRlciBoZWFkZXI6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9SZXRyeS1BZnRlclxuICAgIGNvbnN0IHJldHJ5QWZ0ZXJIZWFkZXIgPSByZXNwb25zZUhlYWRlcnM/LlsncmV0cnktYWZ0ZXInXTtcbiAgICBpZiAocmV0cnlBZnRlckhlYWRlciAmJiAhdGltZW91dE1pbGxpcykge1xuICAgICAgY29uc3QgdGltZW91dFNlY29uZHMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXJIZWFkZXIpO1xuICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dFNlY29uZHMpKSB7XG4gICAgICAgIHRpbWVvdXRNaWxsaXMgPSB0aW1lb3V0U2Vjb25kcyAqIDEwMDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0TWlsbGlzID0gRGF0ZS5wYXJzZShyZXRyeUFmdGVySGVhZGVyKSAtIERhdGUubm93KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIEFQSSBhc2tzIHVzIHRvIHdhaXQgYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1lIChhbmQgaXQncyBhIHJlYXNvbmFibGUgYW1vdW50KSxcbiAgICAvLyBqdXN0IGRvIHdoYXQgaXQgc2F5cywgYnV0IG90aGVyd2lzZSBjYWxjdWxhdGUgYSBkZWZhdWx0XG4gICAgaWYgKCEodGltZW91dE1pbGxpcyAmJiAwIDw9IHRpbWVvdXRNaWxsaXMgJiYgdGltZW91dE1pbGxpcyA8IDYwICogMTAwMCkpIHtcbiAgICAgIGNvbnN0IG1heFJldHJpZXMgPSBvcHRpb25zLm1heFJldHJpZXMgPz8gdGhpcy5tYXhSZXRyaWVzO1xuICAgICAgdGltZW91dE1pbGxpcyA9IHRoaXMuY2FsY3VsYXRlRGVmYXVsdFJldHJ5VGltZW91dE1pbGxpcyhyZXRyaWVzUmVtYWluaW5nLCBtYXhSZXRyaWVzKTtcbiAgICB9XG4gICAgYXdhaXQgc2xlZXAodGltZW91dE1pbGxpcyk7XG5cbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nIC0gMSk7XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZURlZmF1bHRSZXRyeVRpbWVvdXRNaWxsaXMocmV0cmllc1JlbWFpbmluZzogbnVtYmVyLCBtYXhSZXRyaWVzOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGluaXRpYWxSZXRyeURlbGF5ID0gMC41O1xuICAgIGNvbnN0IG1heFJldHJ5RGVsYXkgPSA4LjA7XG5cbiAgICBjb25zdCBudW1SZXRyaWVzID0gbWF4UmV0cmllcyAtIHJldHJpZXNSZW1haW5pbmc7XG5cbiAgICAvLyBBcHBseSBleHBvbmVudGlhbCBiYWNrb2ZmLCBidXQgbm90IG1vcmUgdGhhbiB0aGUgbWF4LlxuICAgIGNvbnN0IHNsZWVwU2Vjb25kcyA9IE1hdGgubWluKGluaXRpYWxSZXRyeURlbGF5ICogTWF0aC5wb3coMiwgbnVtUmV0cmllcyksIG1heFJldHJ5RGVsYXkpO1xuXG4gICAgLy8gQXBwbHkgc29tZSBqaXR0ZXIsIHRha2UgdXAgdG8gYXQgbW9zdCAyNSBwZXJjZW50IG9mIHRoZSByZXRyeSB0aW1lLlxuICAgIGNvbnN0IGppdHRlciA9IDEgLSBNYXRoLnJhbmRvbSgpICogMC4yNTtcblxuICAgIHJldHVybiBzbGVlcFNlY29uZHMgKiBqaXR0ZXIgKiAxMDAwO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRVc2VyQWdlbnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfS9KUyAke1ZFUlNJT059YDtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBQYWdlSW5mbyA9IHsgdXJsOiBVUkwgfSB8IHsgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IG51bGwgfTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0UGFnZTxJdGVtPiBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGU8SXRlbT4ge1xuICAjY2xpZW50OiBBUElDbGllbnQ7XG4gIHByb3RlY3RlZCBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zO1xuXG4gIHByb3RlY3RlZCByZXNwb25zZTogUmVzcG9uc2U7XG4gIHByb3RlY3RlZCBib2R5OiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKGNsaWVudDogQVBJQ2xpZW50LCByZXNwb25zZTogUmVzcG9uc2UsIGJvZHk6IHVua25vd24sIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnMpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgbmV4dFBhZ2VJbmZvIGluc3RlYWRcbiAgICovXG4gIGFic3RyYWN0IG5leHRQYWdlUGFyYW1zKCk6IFBhcnRpYWw8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+IHwgbnVsbDtcbiAgYWJzdHJhY3QgbmV4dFBhZ2VJbmZvKCk6IFBhZ2VJbmZvIHwgbnVsbDtcblxuICBhYnN0cmFjdCBnZXRQYWdpbmF0ZWRJdGVtcygpOiBJdGVtW107XG5cbiAgaGFzTmV4dFBhZ2UoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLmdldFBhZ2luYXRlZEl0ZW1zKCk7XG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdGhpcy5uZXh0UGFnZUluZm8oKSAhPSBudWxsO1xuICB9XG5cbiAgYXN5bmMgZ2V0TmV4dFBhZ2UoKTogUHJvbWlzZTx0aGlzPiB7XG4gICAgY29uc3QgbmV4dEluZm8gPSB0aGlzLm5leHRQYWdlSW5mbygpO1xuICAgIGlmICghbmV4dEluZm8pIHtcbiAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihcbiAgICAgICAgJ05vIG5leHQgcGFnZSBleHBlY3RlZDsgcGxlYXNlIGNoZWNrIGAuaGFzTmV4dFBhZ2UoKWAgYmVmb3JlIGNhbGxpbmcgYC5nZXROZXh0UGFnZSgpYC4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgbmV4dE9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucyB9O1xuICAgIGlmICgncGFyYW1zJyBpbiBuZXh0SW5mbyAmJiB0eXBlb2YgbmV4dE9wdGlvbnMucXVlcnkgPT09ICdvYmplY3QnKSB7XG4gICAgICBuZXh0T3B0aW9ucy5xdWVyeSA9IHsgLi4ubmV4dE9wdGlvbnMucXVlcnksIC4uLm5leHRJbmZvLnBhcmFtcyB9O1xuICAgIH0gZWxzZSBpZiAoJ3VybCcgaW4gbmV4dEluZm8pIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFsuLi5PYmplY3QuZW50cmllcyhuZXh0T3B0aW9ucy5xdWVyeSB8fCB7fSksIC4uLm5leHRJbmZvLnVybC5zZWFyY2hQYXJhbXMuZW50cmllcygpXTtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHBhcmFtcykge1xuICAgICAgICBuZXh0SW5mby51cmwuc2VhcmNoUGFyYW1zLnNldChrZXksIHZhbHVlIGFzIGFueSk7XG4gICAgICB9XG4gICAgICBuZXh0T3B0aW9ucy5xdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgIG5leHRPcHRpb25zLnBhdGggPSBuZXh0SW5mby51cmwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuI2NsaWVudC5yZXF1ZXN0QVBJTGlzdCh0aGlzLmNvbnN0cnVjdG9yIGFzIGFueSwgbmV4dE9wdGlvbnMpO1xuICB9XG5cbiAgYXN5bmMgKml0ZXJQYWdlcygpOiBBc3luY0dlbmVyYXRvcjx0aGlzPiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgbGV0IHBhZ2U6IHRoaXMgPSB0aGlzO1xuICAgIHlpZWxkIHBhZ2U7XG4gICAgd2hpbGUgKHBhZ2UuaGFzTmV4dFBhZ2UoKSkge1xuICAgICAgcGFnZSA9IGF3YWl0IHBhZ2UuZ2V0TmV4dFBhZ2UoKTtcbiAgICAgIHlpZWxkIHBhZ2U7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgKltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTogQXN5bmNHZW5lcmF0b3I8SXRlbT4ge1xuICAgIGZvciBhd2FpdCAoY29uc3QgcGFnZSBvZiB0aGlzLml0ZXJQYWdlcygpKSB7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcGFnZS5nZXRQYWdpbmF0ZWRJdGVtcygpKSB7XG4gICAgICAgIHlpZWxkIGl0ZW07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGhpcyBzdWJjbGFzcyBvZiBQcm9taXNlIHdpbGwgcmVzb2x2ZSB0byBhbiBpbnN0YW50aWF0ZWQgUGFnZSBvbmNlIHRoZSByZXF1ZXN0IGNvbXBsZXRlcy5cbiAqXG4gKiBJdCBhbHNvIGltcGxlbWVudHMgQXN5bmNJdGVyYWJsZSB0byBhbGxvdyBhdXRvLXBhZ2luYXRpbmcgaXRlcmF0aW9uIG9uIGFuIHVuYXdhaXRlZCBsaXN0IGNhbGwsIGVnOlxuICpcbiAqICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBjbGllbnQuaXRlbXMubGlzdCgpKSB7XG4gKiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXG4gKiAgICB9XG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlUHJvbWlzZTxcbiAgICBQYWdlQ2xhc3MgZXh0ZW5kcyBBYnN0cmFjdFBhZ2U8SXRlbT4sXG4gICAgSXRlbSA9IFJldHVyblR5cGU8UGFnZUNsYXNzWydnZXRQYWdpbmF0ZWRJdGVtcyddPltudW1iZXJdLFxuICA+XG4gIGV4dGVuZHMgQVBJUHJvbWlzZTxQYWdlQ2xhc3M+XG4gIGltcGxlbWVudHMgQXN5bmNJdGVyYWJsZTxJdGVtPlxue1xuICBjb25zdHJ1Y3RvcihcbiAgICBjbGllbnQ6IEFQSUNsaWVudCxcbiAgICByZXF1ZXN0OiBQcm9taXNlPEFQSVJlc3BvbnNlUHJvcHM+LFxuICAgIFBhZ2U6IG5ldyAoLi4uYXJnczogQ29uc3RydWN0b3JQYXJhbWV0ZXJzPHR5cGVvZiBBYnN0cmFjdFBhZ2U+KSA9PiBQYWdlQ2xhc3MsXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGFzeW5jIChwcm9wcykgPT5cbiAgICAgICAgbmV3IFBhZ2UoXG4gICAgICAgICAgY2xpZW50LFxuICAgICAgICAgIHByb3BzLnJlc3BvbnNlLFxuICAgICAgICAgIGF3YWl0IGRlZmF1bHRQYXJzZVJlc3BvbnNlKHByb3BzKSxcbiAgICAgICAgICBwcm9wcy5vcHRpb25zLFxuICAgICAgICApIGFzIFdpdGhSZXF1ZXN0SUQ8UGFnZUNsYXNzPixcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsbG93IGF1dG8tcGFnaW5hdGluZyBpdGVyYXRpb24gb24gYW4gdW5hd2FpdGVkIGxpc3QgY2FsbCwgZWc6XG4gICAqXG4gICAqICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBjbGllbnQuaXRlbXMubGlzdCgpKSB7XG4gICAqICAgICAgY29uc29sZS5sb2coaXRlbSlcbiAgICogICAgfVxuICAgKi9cbiAgYXN5bmMgKltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTogQXN5bmNHZW5lcmF0b3I8SXRlbT4ge1xuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCB0aGlzO1xuICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBwYWdlKSB7XG4gICAgICB5aWVsZCBpdGVtO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlUmVzcG9uc2VIZWFkZXJzID0gKFxuICBoZWFkZXJzOiBBd2FpdGVkPFJldHVyblR5cGU8RmV0Y2g+PlsnaGVhZGVycyddLFxuKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9PiB7XG4gIHJldHVybiBuZXcgUHJveHkoXG4gICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaGVhZGVycy5lbnRyaWVzKCksXG4gICAgKSxcbiAgICB7XG4gICAgICBnZXQodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5hbWUudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtrZXkudG9Mb3dlckNhc2UoKV0gfHwgdGFyZ2V0W2tleV07XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG59O1xuXG50eXBlIEhUVFBNZXRob2QgPSAnZ2V0JyB8ICdwb3N0JyB8ICdwdXQnIHwgJ3BhdGNoJyB8ICdkZWxldGUnO1xuXG5leHBvcnQgdHlwZSBSZXF1ZXN0Q2xpZW50ID0geyBmZXRjaDogRmV0Y2ggfTtcbmV4cG9ydCB0eXBlIEhlYWRlcnMgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkPjtcbmV4cG9ydCB0eXBlIERlZmF1bHRRdWVyeSA9IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG5leHBvcnQgdHlwZSBLZXlzRW51bTxUPiA9IHsgW1AgaW4ga2V5b2YgUmVxdWlyZWQ8VD5dOiB0cnVlIH07XG5cbmV4cG9ydCB0eXBlIFJlcXVlc3RPcHRpb25zPFxuICBSZXEgPSB1bmtub3duIHwgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBSZWFkYWJsZSB8IEJsb2JMaWtlIHwgQXJyYXlCdWZmZXJWaWV3IHwgQXJyYXlCdWZmZXIsXG4+ID0ge1xuICBtZXRob2Q/OiBIVFRQTWV0aG9kO1xuICBwYXRoPzogc3RyaW5nO1xuICBxdWVyeT86IFJlcSB8IHVuZGVmaW5lZDtcbiAgYm9keT86IFJlcSB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIGhlYWRlcnM/OiBIZWFkZXJzIHwgdW5kZWZpbmVkO1xuXG4gIG1heFJldHJpZXM/OiBudW1iZXI7XG4gIHN0cmVhbT86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHRpbWVvdXQ/OiBudW1iZXI7XG4gIGh0dHBBZ2VudD86IEFnZW50O1xuICBzaWduYWw/OiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZCB8IG51bGw7XG4gIGlkZW1wb3RlbmN5S2V5Pzogc3RyaW5nO1xuXG4gIF9fbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgX19iaW5hcnlSZXF1ZXN0PzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgX19iaW5hcnlSZXNwb25zZT86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIF9fc3RyZWFtQ2xhc3M/OiB0eXBlb2YgU3RyZWFtO1xufTtcblxuLy8gVGhpcyBpcyByZXF1aXJlZCBzbyB0aGF0IHdlIGNhbiBkZXRlcm1pbmUgaWYgYSBnaXZlbiBvYmplY3QgbWF0Y2hlcyB0aGUgUmVxdWVzdE9wdGlvbnNcbi8vIHR5cGUgYXQgcnVudGltZS4gV2hpbGUgdGhpcyByZXF1aXJlcyBkdXBsaWNhdGlvbiwgaXQgaXMgZW5mb3JjZWQgYnkgdGhlIFR5cGVTY3JpcHRcbi8vIGNvbXBpbGVyIHN1Y2ggdGhhdCBhbnkgbWlzc2luZyAvIGV4dHJhbmVvdXMga2V5cyB3aWxsIGNhdXNlIGFuIGVycm9yLlxuY29uc3QgcmVxdWVzdE9wdGlvbnNLZXlzOiBLZXlzRW51bTxSZXF1ZXN0T3B0aW9ucz4gPSB7XG4gIG1ldGhvZDogdHJ1ZSxcbiAgcGF0aDogdHJ1ZSxcbiAgcXVlcnk6IHRydWUsXG4gIGJvZHk6IHRydWUsXG4gIGhlYWRlcnM6IHRydWUsXG5cbiAgbWF4UmV0cmllczogdHJ1ZSxcbiAgc3RyZWFtOiB0cnVlLFxuICB0aW1lb3V0OiB0cnVlLFxuICBodHRwQWdlbnQ6IHRydWUsXG4gIHNpZ25hbDogdHJ1ZSxcbiAgaWRlbXBvdGVuY3lLZXk6IHRydWUsXG5cbiAgX19tZXRhZGF0YTogdHJ1ZSxcbiAgX19iaW5hcnlSZXF1ZXN0OiB0cnVlLFxuICBfX2JpbmFyeVJlc3BvbnNlOiB0cnVlLFxuICBfX3N0cmVhbUNsYXNzOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IGlzUmVxdWVzdE9wdGlvbnMgPSAob2JqOiB1bmtub3duKTogb2JqIGlzIFJlcXVlc3RPcHRpb25zID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJlxuICAgIG9iaiAhPT0gbnVsbCAmJlxuICAgICFpc0VtcHR5T2JqKG9iaikgJiZcbiAgICBPYmplY3Qua2V5cyhvYmopLmV2ZXJ5KChrKSA9PiBoYXNPd24ocmVxdWVzdE9wdGlvbnNLZXlzLCBrKSlcbiAgKTtcbn07XG5cbmV4cG9ydCB0eXBlIEZpbmFsUmVxdWVzdE9wdGlvbnM8UmVxID0gdW5rbm93biB8IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgUmVhZGFibGUgfCBEYXRhVmlldz4gPVxuICBSZXF1ZXN0T3B0aW9uczxSZXE+ICYge1xuICAgIG1ldGhvZDogSFRUUE1ldGhvZDtcbiAgICBwYXRoOiBzdHJpbmc7XG4gIH07XG5cbmRlY2xhcmUgY29uc3QgRGVubzogYW55O1xuZGVjbGFyZSBjb25zdCBFZGdlUnVudGltZTogYW55O1xudHlwZSBBcmNoID0gJ3gzMicgfCAneDY0JyB8ICdhcm0nIHwgJ2FybTY0JyB8IGBvdGhlcjoke3N0cmluZ31gIHwgJ3Vua25vd24nO1xudHlwZSBQbGF0Zm9ybU5hbWUgPVxuICB8ICdNYWNPUydcbiAgfCAnTGludXgnXG4gIHwgJ1dpbmRvd3MnXG4gIHwgJ0ZyZWVCU0QnXG4gIHwgJ09wZW5CU0QnXG4gIHwgJ2lPUydcbiAgfCAnQW5kcm9pZCdcbiAgfCBgT3RoZXI6JHtzdHJpbmd9YFxuICB8ICdVbmtub3duJztcbnR5cGUgQnJvd3NlciA9ICdpZScgfCAnZWRnZScgfCAnY2hyb21lJyB8ICdmaXJlZm94JyB8ICdzYWZhcmknO1xudHlwZSBQbGF0Zm9ybVByb3BlcnRpZXMgPSB7XG4gICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJztcbiAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IHN0cmluZztcbiAgJ1gtU3RhaW5sZXNzLU9TJzogUGxhdGZvcm1OYW1lO1xuICAnWC1TdGFpbmxlc3MtQXJjaCc6IEFyY2g7XG4gICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ25vZGUnIHwgJ2Rlbm8nIHwgJ2VkZ2UnIHwgYGJyb3dzZXI6JHtCcm93c2VyfWAgfCAndW5rbm93bic7XG4gICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBzdHJpbmc7XG59O1xuY29uc3QgZ2V0UGxhdGZvcm1Qcm9wZXJ0aWVzID0gKCk6IFBsYXRmb3JtUHJvcGVydGllcyA9PiB7XG4gIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcgJiYgRGVuby5idWlsZCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0oRGVuby5idWlsZC5vcyksXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2goRGVuby5idWlsZC5hcmNoKSxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ2Rlbm8nLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6XG4gICAgICAgIHR5cGVvZiBEZW5vLnZlcnNpb24gPT09ICdzdHJpbmcnID8gRGVuby52ZXJzaW9uIDogRGVuby52ZXJzaW9uPy5kZW5vID8/ICd1bmtub3duJyxcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgRWRnZVJ1bnRpbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBgb3RoZXI6JHtFZGdlUnVudGltZX1gLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnZWRnZScsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogcHJvY2Vzcy52ZXJzaW9uLFxuICAgIH07XG4gIH1cbiAgLy8gQ2hlY2sgaWYgTm9kZS5qc1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/IHByb2Nlc3MgOiAwKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0ocHJvY2Vzcy5wbGF0Zm9ybSksXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2gocHJvY2Vzcy5hcmNoKSxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ25vZGUnLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IHByb2Nlc3MudmVyc2lvbixcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgYnJvd3NlckluZm8gPSBnZXRCcm93c2VySW5mbygpO1xuICBpZiAoYnJvd3NlckluZm8pIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAnWC1TdGFpbmxlc3MtT1MnOiAnVW5rbm93bicsXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6ICd1bmtub3duJyxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogYGJyb3dzZXI6JHticm93c2VySW5mby5icm93c2VyfWAsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogYnJvd3NlckluZm8udmVyc2lvbixcbiAgICB9O1xuICB9XG5cbiAgLy8gVE9ETyBhZGQgc3VwcG9ydCBmb3IgQ2xvdWRmbGFyZSB3b3JrZXJzLCBldGMuXG4gIHJldHVybiB7XG4gICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICdYLVN0YWlubGVzcy1PUyc6ICdVbmtub3duJyxcbiAgICAnWC1TdGFpbmxlc3MtQXJjaCc6ICd1bmtub3duJyxcbiAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICd1bmtub3duJyxcbiAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogJ3Vua25vd24nLFxuICB9O1xufTtcblxudHlwZSBCcm93c2VySW5mbyA9IHtcbiAgYnJvd3NlcjogQnJvd3NlcjtcbiAgdmVyc2lvbjogc3RyaW5nO1xufTtcblxuZGVjbGFyZSBjb25zdCBuYXZpZ2F0b3I6IHsgdXNlckFnZW50OiBzdHJpbmcgfSB8IHVuZGVmaW5lZDtcblxuLy8gTm90ZTogbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vSlMtRGV2VG9vbHMvaG9zdC1lbnZpcm9ubWVudC9ibG9iL2IxYWI3OWVjZGUzN2RiNWQ2ZTE2M2MwNTBlNTRmZTdkMjg3ZDdjOTIvc3JjL2lzb21vcnBoaWMuYnJvd3Nlci50c1xuZnVuY3Rpb24gZ2V0QnJvd3NlckluZm8oKTogQnJvd3NlckluZm8gfCBudWxsIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE5PVEU6IFRoZSBvcmRlciBtYXR0ZXJzIGhlcmUhXG4gIGNvbnN0IGJyb3dzZXJQYXR0ZXJucyA9IFtcbiAgICB7IGtleTogJ2VkZ2UnIGFzIGNvbnN0LCBwYXR0ZXJuOiAvRWRnZSg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgIHsga2V5OiAnaWUnIGFzIGNvbnN0LCBwYXR0ZXJuOiAvTVNJRSg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgIHsga2V5OiAnaWUnIGFzIGNvbnN0LCBwYXR0ZXJuOiAvVHJpZGVudCg/Oi4qcnZcXDooXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgIHsga2V5OiAnY2hyb21lJyBhcyBjb25zdCwgcGF0dGVybjogL0Nocm9tZSg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgIHsga2V5OiAnZmlyZWZveCcgYXMgY29uc3QsIHBhdHRlcm46IC9GaXJlZm94KD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdzYWZhcmknIGFzIGNvbnN0LCBwYXR0ZXJuOiAvKD86VmVyc2lvblxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/KD86XFxXK01vYmlsZVxcUyopP1xcVytTYWZhcmkvIH0sXG4gIF07XG5cbiAgLy8gRmluZCB0aGUgRklSU1QgbWF0Y2hpbmcgYnJvd3NlclxuICBmb3IgKGNvbnN0IHsga2V5LCBwYXR0ZXJuIH0gb2YgYnJvd3NlclBhdHRlcm5zKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBjb25zdCBtYWpvciA9IG1hdGNoWzFdIHx8IDA7XG4gICAgICBjb25zdCBtaW5vciA9IG1hdGNoWzJdIHx8IDA7XG4gICAgICBjb25zdCBwYXRjaCA9IG1hdGNoWzNdIHx8IDA7XG5cbiAgICAgIHJldHVybiB7IGJyb3dzZXI6IGtleSwgdmVyc2lvbjogYCR7bWFqb3J9LiR7bWlub3J9LiR7cGF0Y2h9YCB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCBub3JtYWxpemVBcmNoID0gKGFyY2g6IHN0cmluZyk6IEFyY2ggPT4ge1xuICAvLyBOb2RlIGRvY3M6XG4gIC8vIC0gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wcm9jZXNzLmh0bWwjcHJvY2Vzc2FyY2hcbiAgLy8gRGVubyBkb2NzOlxuICAvLyAtIGh0dHBzOi8vZG9jLmRlbm8ubGFuZC9kZW5vL3N0YWJsZS9+L0Rlbm8uYnVpbGRcbiAgaWYgKGFyY2ggPT09ICd4MzInKSByZXR1cm4gJ3gzMic7XG4gIGlmIChhcmNoID09PSAneDg2XzY0JyB8fCBhcmNoID09PSAneDY0JykgcmV0dXJuICd4NjQnO1xuICBpZiAoYXJjaCA9PT0gJ2FybScpIHJldHVybiAnYXJtJztcbiAgaWYgKGFyY2ggPT09ICdhYXJjaDY0JyB8fCBhcmNoID09PSAnYXJtNjQnKSByZXR1cm4gJ2FybTY0JztcbiAgaWYgKGFyY2gpIHJldHVybiBgb3RoZXI6JHthcmNofWA7XG4gIHJldHVybiAndW5rbm93bic7XG59O1xuXG5jb25zdCBub3JtYWxpemVQbGF0Zm9ybSA9IChwbGF0Zm9ybTogc3RyaW5nKTogUGxhdGZvcm1OYW1lID0+IHtcbiAgLy8gTm9kZSBwbGF0Zm9ybXM6XG4gIC8vIC0gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wcm9jZXNzLmh0bWwjcHJvY2Vzc3BsYXRmb3JtXG4gIC8vIERlbm8gcGxhdGZvcm1zOlxuICAvLyAtIGh0dHBzOi8vZG9jLmRlbm8ubGFuZC9kZW5vL3N0YWJsZS9+L0Rlbm8uYnVpbGRcbiAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vZGVub2xhbmQvZGVuby9pc3N1ZXMvMTQ3OTlcblxuICBwbGF0Zm9ybSA9IHBsYXRmb3JtLnRvTG93ZXJDYXNlKCk7XG5cbiAgLy8gTk9URTogdGhpcyBpT1MgY2hlY2sgaXMgdW50ZXN0ZWQgYW5kIG1heSBub3Qgd29ya1xuICAvLyBOb2RlIGRvZXMgbm90IHdvcmsgbmF0aXZlbHkgb24gSU9TLCB0aGVyZSBpcyBhIGZvcmsgYXRcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy1tb2JpbGUvbm9kZWpzLW1vYmlsZVxuICAvLyBob3dldmVyIGl0IGlzIHVua25vd24gYXQgdGhlIHRpbWUgb2Ygd3JpdGluZyBob3cgdG8gZGV0ZWN0IGlmIGl0IGlzIHJ1bm5pbmdcbiAgaWYgKHBsYXRmb3JtLmluY2x1ZGVzKCdpb3MnKSkgcmV0dXJuICdpT1MnO1xuICBpZiAocGxhdGZvcm0gPT09ICdhbmRyb2lkJykgcmV0dXJuICdBbmRyb2lkJztcbiAgaWYgKHBsYXRmb3JtID09PSAnZGFyd2luJykgcmV0dXJuICdNYWNPUyc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJykgcmV0dXJuICdXaW5kb3dzJztcbiAgaWYgKHBsYXRmb3JtID09PSAnZnJlZWJzZCcpIHJldHVybiAnRnJlZUJTRCc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ29wZW5ic2QnKSByZXR1cm4gJ09wZW5CU0QnO1xuICBpZiAocGxhdGZvcm0gPT09ICdsaW51eCcpIHJldHVybiAnTGludXgnO1xuICBpZiAocGxhdGZvcm0pIHJldHVybiBgT3RoZXI6JHtwbGF0Zm9ybX1gO1xuICByZXR1cm4gJ1Vua25vd24nO1xufTtcblxubGV0IF9wbGF0Zm9ybUhlYWRlcnM6IFBsYXRmb3JtUHJvcGVydGllcztcbmNvbnN0IGdldFBsYXRmb3JtSGVhZGVycyA9ICgpID0+IHtcbiAgcmV0dXJuIChfcGxhdGZvcm1IZWFkZXJzID8/PSBnZXRQbGF0Zm9ybVByb3BlcnRpZXMoKSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2FmZUpTT04gPSAodGV4dDogc3RyaW5nKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsLXNjaGVtZS1zdHJpbmdcbmNvbnN0IHN0YXJ0c1dpdGhTY2hlbWVSZWdleHAgPSAvXlthLXpdW2EtejAtOSsuLV0qOi9pO1xuY29uc3QgaXNBYnNvbHV0ZVVSTCA9ICh1cmw6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cC50ZXN0KHVybCk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2xlZXAgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcblxuY29uc3QgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIgPSAobmFtZTogc3RyaW5nLCBuOiB1bmtub3duKTogbnVtYmVyID0+IHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCAhTnVtYmVyLmlzSW50ZWdlcihuKSkge1xuICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgJHtuYW1lfSBtdXN0IGJlIGFuIGludGVnZXJgKTtcbiAgfVxuICBpZiAobiA8IDApIHtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXJgKTtcbiAgfVxuICByZXR1cm4gbjtcbn07XG5cbmV4cG9ydCBjb25zdCBjYXN0VG9FcnJvciA9IChlcnI6IGFueSk6IEVycm9yID0+IHtcbiAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gZXJyO1xuICBpZiAodHlwZW9mIGVyciA9PT0gJ29iamVjdCcgJiYgZXJyICE9PSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XG4gICAgfSBjYXRjaCB7fVxuICB9XG4gIHJldHVybiBuZXcgRXJyb3IoZXJyKTtcbn07XG5cbmV4cG9ydCBjb25zdCBlbnN1cmVQcmVzZW50ID0gPFQ+KHZhbHVlOiBUIHwgbnVsbCB8IHVuZGVmaW5lZCk6IFQgPT4ge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBFeHBlY3RlZCBhIHZhbHVlIHRvIGJlIGdpdmVuIGJ1dCByZWNlaXZlZCAke3ZhbHVlfSBpbnN0ZWFkLmApO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIFJlYWQgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUuXG4gKlxuICogVHJpbXMgYmVnaW5uaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLlxuICpcbiAqIFdpbGwgcmV0dXJuIHVuZGVmaW5lZCBpZiB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGUgZG9lc24ndCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkRW52ID0gKGVudjogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBwcm9jZXNzLmVudj8uW2Vudl0/LnRyaW0oKSA/PyB1bmRlZmluZWQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBEZW5vICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBEZW5vLmVudj8uZ2V0Py4oZW52KT8udHJpbSgpO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgY29lcmNlSW50ZWdlciA9ICh2YWx1ZTogdW5rbm93bik6IG51bWJlciA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcblxuICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgJHt2YWx1ZX0gKHR5cGU6ICR7dHlwZW9mIHZhbHVlfSkgaW50byBhIG51bWJlcmApO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvZXJjZUZsb2F0ID0gKHZhbHVlOiB1bmtub3duKTogbnVtYmVyID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHJldHVybiB2YWx1ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcblxuICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgJHt2YWx1ZX0gKHR5cGU6ICR7dHlwZW9mIHZhbHVlfSkgaW50byBhIG51bWJlcmApO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvZXJjZUJvb2xlYW4gPSAodmFsdWU6IHVua25vd24pOiBib29sZWFuID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gdmFsdWU7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm4gdmFsdWUgPT09ICd0cnVlJztcbiAgcmV0dXJuIEJvb2xlYW4odmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IG1heWJlQ29lcmNlSW50ZWdlciA9ICh2YWx1ZTogdW5rbm93bik6IG51bWJlciB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gY29lcmNlSW50ZWdlcih2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VGbG9hdCA9ICh2YWx1ZTogdW5rbm93bik6IG51bWJlciB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gY29lcmNlRmxvYXQodmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IG1heWJlQ29lcmNlQm9vbGVhbiA9ICh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4gfCB1bmRlZmluZWQgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGNvZXJjZUJvb2xlYW4odmFsdWUpO1xufTtcblxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM0NDkxMjg3XG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eU9iaihvYmo6IE9iamVjdCB8IG51bGwgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgaWYgKCFvYmopIHJldHVybiB0cnVlO1xuICBmb3IgKGNvbnN0IF9rIGluIG9iaikgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gaHR0cHM6Ly9lc2xpbnQub3JnL2RvY3MvbGF0ZXN0L3J1bGVzL25vLXByb3RvdHlwZS1idWlsdGluc1xuZXhwb3J0IGZ1bmN0aW9uIGhhc093bihvYmo6IE9iamVjdCwga2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG5cbi8qKlxuICogQ29waWVzIGhlYWRlcnMgZnJvbSBcIm5ld0hlYWRlcnNcIiBvbnRvIFwidGFyZ2V0SGVhZGVyc1wiLFxuICogdXNpbmcgbG93ZXItY2FzZSBmb3IgYWxsIHByb3BlcnRpZXMsXG4gKiBpZ25vcmluZyBhbnkga2V5cyB3aXRoIHVuZGVmaW5lZCB2YWx1ZXMsXG4gKiBhbmQgZGVsZXRpbmcgYW55IGtleXMgd2l0aCBudWxsIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gYXBwbHlIZWFkZXJzTXV0KHRhcmdldEhlYWRlcnM6IEhlYWRlcnMsIG5ld0hlYWRlcnM6IEhlYWRlcnMpOiB2b2lkIHtcbiAgZm9yIChjb25zdCBrIGluIG5ld0hlYWRlcnMpIHtcbiAgICBpZiAoIWhhc093bihuZXdIZWFkZXJzLCBrKSkgY29udGludWU7XG4gICAgY29uc3QgbG93ZXJLZXkgPSBrLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCFsb3dlcktleSkgY29udGludWU7XG5cbiAgICBjb25zdCB2YWwgPSBuZXdIZWFkZXJzW2tdO1xuXG4gICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgZGVsZXRlIHRhcmdldEhlYWRlcnNbbG93ZXJLZXldO1xuICAgIH0gZWxzZSBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldEhlYWRlcnNbbG93ZXJLZXldID0gdmFsO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBTRU5TSVRJVkVfSEVBREVSUyA9IG5ldyBTZXQoWydhdXRob3JpemF0aW9uJywgJ2FwaS1rZXknXSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1ZyhhY3Rpb246IHN0cmluZywgLi4uYXJnczogYW55W10pIHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzPy5lbnY/LlsnREVCVUcnXSA9PT0gJ3RydWUnKSB7XG4gICAgY29uc3QgbW9kaWZpZWRBcmdzID0gYXJncy5tYXAoKGFyZykgPT4ge1xuICAgICAgaWYgKCFhcmcpIHtcbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIHNlbnNpdGl2ZSBoZWFkZXJzIGluIHJlcXVlc3QgYm9keSAnaGVhZGVycycgb2JqZWN0XG4gICAgICBpZiAoYXJnWydoZWFkZXJzJ10pIHtcbiAgICAgICAgLy8gY2xvbmUgc28gd2UgZG9uJ3QgbXV0YXRlXG4gICAgICAgIGNvbnN0IG1vZGlmaWVkQXJnID0geyAuLi5hcmcsIGhlYWRlcnM6IHsgLi4uYXJnWydoZWFkZXJzJ10gfSB9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaGVhZGVyIGluIGFyZ1snaGVhZGVycyddKSB7XG4gICAgICAgICAgaWYgKFNFTlNJVElWRV9IRUFERVJTLmhhcyhoZWFkZXIudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkQXJnWydoZWFkZXJzJ11baGVhZGVyXSA9ICdSRURBQ1RFRCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1vZGlmaWVkQXJnO1xuICAgICAgfVxuXG4gICAgICBsZXQgbW9kaWZpZWRBcmcgPSBudWxsO1xuXG4gICAgICAvLyBDaGVjayBmb3Igc2Vuc2l0aXZlIGhlYWRlcnMgaW4gaGVhZGVycyBvYmplY3RcbiAgICAgIGZvciAoY29uc3QgaGVhZGVyIGluIGFyZykge1xuICAgICAgICBpZiAoU0VOU0lUSVZFX0hFQURFUlMuaGFzKGhlYWRlci50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgIC8vIGF2b2lkIG1ha2luZyBhIGNvcHkgdW50aWwgd2UgbmVlZCB0b1xuICAgICAgICAgIG1vZGlmaWVkQXJnID8/PSB7IC4uLmFyZyB9O1xuICAgICAgICAgIG1vZGlmaWVkQXJnW2hlYWRlcl0gPSAnUkVEQUNURUQnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtb2RpZmllZEFyZyA/PyBhcmc7XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coYE9wZW5BSTpERUJVRzoke2FjdGlvbn1gLCAuLi5tb2RpZmllZEFyZ3MpO1xuICB9XG59XG5cbi8qKlxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjNcbiAqL1xuY29uc3QgdXVpZDQgPSAoKSA9PiB7XG4gIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIChjKSA9PiB7XG4gICAgY29uc3QgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMDtcbiAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzUnVubmluZ0luQnJvd3NlciA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGVhZGVyc1Byb3RvY29sIHtcbiAgZ2V0OiAoaGVhZGVyOiBzdHJpbmcpID0+IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG59XG5leHBvcnQgdHlwZSBIZWFkZXJzTGlrZSA9IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkPiB8IEhlYWRlcnNQcm90b2NvbDtcblxuZXhwb3J0IGNvbnN0IGlzSGVhZGVyc1Byb3RvY29sID0gKGhlYWRlcnM6IGFueSk6IGhlYWRlcnMgaXMgSGVhZGVyc1Byb3RvY29sID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBoZWFkZXJzPy5nZXQgPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UmVxdWlyZWRIZWFkZXIgPSAoaGVhZGVyczogSGVhZGVyc0xpa2UgfCBIZWFkZXJzLCBoZWFkZXI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGZvdW5kSGVhZGVyID0gZ2V0SGVhZGVyKGhlYWRlcnMsIGhlYWRlcik7XG4gIGlmIChmb3VuZEhlYWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCAke2hlYWRlcn0gaGVhZGVyYCk7XG4gIH1cbiAgcmV0dXJuIGZvdW5kSGVhZGVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEhlYWRlciA9IChoZWFkZXJzOiBIZWFkZXJzTGlrZSB8IEhlYWRlcnMsIGhlYWRlcjogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgbG93ZXJDYXNlZEhlYWRlciA9IGhlYWRlci50b0xvd2VyQ2FzZSgpO1xuICBpZiAoaXNIZWFkZXJzUHJvdG9jb2woaGVhZGVycykpIHtcbiAgICAvLyB0byBkZWFsIHdpdGggdGhlIGNhc2Ugd2hlcmUgdGhlIGhlYWRlciBsb29rcyBsaWtlIFN0YWlubGVzcy1FdmVudC1JZFxuICAgIGNvbnN0IGludGVyY2Fwc0hlYWRlciA9XG4gICAgICBoZWFkZXJbMF0/LnRvVXBwZXJDYXNlKCkgK1xuICAgICAgaGVhZGVyLnN1YnN0cmluZygxKS5yZXBsYWNlKC8oW15cXHddKShcXHcpL2csIChfbSwgZzEsIGcyKSA9PiBnMSArIGcyLnRvVXBwZXJDYXNlKCkpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIFtoZWFkZXIsIGxvd2VyQ2FzZWRIZWFkZXIsIGhlYWRlci50b1VwcGVyQ2FzZSgpLCBpbnRlcmNhcHNIZWFkZXJdKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGhlYWRlcnMuZ2V0KGtleSk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpKSB7XG4gICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBsb3dlckNhc2VkSGVhZGVyKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8PSAxKSByZXR1cm4gdmFsdWVbMF07XG4gICAgICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgJHt2YWx1ZS5sZW5ndGh9IGVudHJpZXMgZm9yIHRoZSAke2hlYWRlcn0gaGVhZGVyLCB1c2luZyB0aGUgZmlyc3QgZW50cnkuYCk7XG4gICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBFbmNvZGVzIGEgc3RyaW5nIHRvIEJhc2U2NCBmb3JtYXQuXG4gKi9cbmV4cG9ydCBjb25zdCB0b0Jhc2U2NCA9IChzdHI6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpOiBzdHJpbmcgPT4ge1xuICBpZiAoIXN0cikgcmV0dXJuICcnO1xuICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIH1cblxuICBpZiAodHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGJ0b2Eoc3RyKTtcbiAgfVxuXG4gIHRocm93IG5ldyBPcGVuQUlFcnJvcignQ2Fubm90IGdlbmVyYXRlIGI2NCBzdHJpbmc7IEV4cGVjdGVkIGBCdWZmZXJgIG9yIGBidG9hYCB0byBiZSBkZWZpbmVkJyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNPYmoob2JqOiB1bmtub3duKTogb2JqIGlzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQWJzdHJhY3RQYWdlLCBSZXNwb25zZSwgQVBJQ2xpZW50LCBGaW5hbFJlcXVlc3RPcHRpb25zLCBQYWdlSW5mbyB9IGZyb20gJy4vY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFnZVJlc3BvbnNlPEl0ZW0+IHtcbiAgZGF0YTogQXJyYXk8SXRlbT47XG5cbiAgb2JqZWN0OiBzdHJpbmc7XG59XG5cbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgUGFnZTxJdGVtPiBleHRlbmRzIEFic3RyYWN0UGFnZTxJdGVtPiBpbXBsZW1lbnRzIFBhZ2VSZXNwb25zZTxJdGVtPiB7XG4gIGRhdGE6IEFycmF5PEl0ZW0+O1xuXG4gIG9iamVjdDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGNsaWVudDogQVBJQ2xpZW50LCByZXNwb25zZTogUmVzcG9uc2UsIGJvZHk6IFBhZ2VSZXNwb25zZTxJdGVtPiwgb3B0aW9uczogRmluYWxSZXF1ZXN0T3B0aW9ucykge1xuICAgIHN1cGVyKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5kYXRhID0gYm9keS5kYXRhIHx8IFtdO1xuICAgIHRoaXMub2JqZWN0ID0gYm9keS5vYmplY3Q7XG4gIH1cblxuICBnZXRQYWdpbmF0ZWRJdGVtcygpOiBJdGVtW10ge1xuICAgIHJldHVybiB0aGlzLmRhdGEgPz8gW107XG4gIH1cblxuICAvLyBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIGBuZXh0UGFnZUluZm8oKWAgaW5zdGVhZFxuICAvKipcbiAgICogVGhpcyBwYWdlIHJlcHJlc2VudHMgYSByZXNwb25zZSB0aGF0IGlzbid0IGFjdHVhbGx5IHBhZ2luYXRlZCBhdCB0aGUgQVBJIGxldmVsXG4gICAqIHNvIHRoZXJlIHdpbGwgbmV2ZXIgYmUgYW55IG5leHQgcGFnZSBwYXJhbXMuXG4gICAqL1xuICBuZXh0UGFnZVBhcmFtcygpOiBudWxsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG5leHRQYWdlSW5mbygpOiBudWxsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEN1cnNvclBhZ2VSZXNwb25zZTxJdGVtPiB7XG4gIGRhdGE6IEFycmF5PEl0ZW0+O1xuXG4gIGhhc19tb3JlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEN1cnNvclBhZ2VQYXJhbXMge1xuICBhZnRlcj86IHN0cmluZztcblxuICBsaW1pdD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEN1cnNvclBhZ2U8SXRlbSBleHRlbmRzIHsgaWQ6IHN0cmluZyB9PlxuICBleHRlbmRzIEFic3RyYWN0UGFnZTxJdGVtPlxuICBpbXBsZW1lbnRzIEN1cnNvclBhZ2VSZXNwb25zZTxJdGVtPlxue1xuICBkYXRhOiBBcnJheTxJdGVtPjtcblxuICBoYXNfbW9yZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjbGllbnQ6IEFQSUNsaWVudCxcbiAgICByZXNwb25zZTogUmVzcG9uc2UsXG4gICAgYm9keTogQ3Vyc29yUGFnZVJlc3BvbnNlPEl0ZW0+LFxuICAgIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnMsXG4gICkge1xuICAgIHN1cGVyKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5kYXRhID0gYm9keS5kYXRhIHx8IFtdO1xuICAgIHRoaXMuaGFzX21vcmUgPSBib2R5Lmhhc19tb3JlIHx8IGZhbHNlO1xuICB9XG5cbiAgZ2V0UGFnaW5hdGVkSXRlbXMoKTogSXRlbVtdIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhID8/IFtdO1xuICB9XG5cbiAgb3ZlcnJpZGUgaGFzTmV4dFBhZ2UoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaGFzX21vcmUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cGVyLmhhc05leHRQYWdlKCk7XG4gIH1cblxuICAvLyBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIGBuZXh0UGFnZUluZm8oKWAgaW5zdGVhZFxuICBuZXh0UGFnZVBhcmFtcygpOiBQYXJ0aWFsPEN1cnNvclBhZ2VQYXJhbXM+IHwgbnVsbCB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMubmV4dFBhZ2VJbmZvKCk7XG4gICAgaWYgKCFpbmZvKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoJ3BhcmFtcycgaW4gaW5mbykgcmV0dXJuIGluZm8ucGFyYW1zO1xuICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5mcm9tRW50cmllcyhpbmZvLnVybC5zZWFyY2hQYXJhbXMpO1xuICAgIGlmICghT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICBuZXh0UGFnZUluZm8oKTogUGFnZUluZm8gfCBudWxsIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5nZXRQYWdpbmF0ZWRJdGVtcygpO1xuICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGlkID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdPy5pZDtcbiAgICBpZiAoIWlkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4geyBwYXJhbXM6IHsgYWZ0ZXI6IGlkIH0gfTtcbiAgfVxufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB0eXBlIHsgT3BlbkFJIH0gZnJvbSAnLi9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBBUElSZXNvdXJjZSB7XG4gIHByb3RlY3RlZCBfY2xpZW50OiBPcGVuQUk7XG5cbiAgY29uc3RydWN0b3IoY2xpZW50OiBPcGVuQUkpIHtcbiAgICB0aGlzLl9jbGllbnQgPSBjbGllbnQ7XG4gIH1cbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDb21wbGV0aW9uc0FQSSBmcm9tICcuL2NvbXBsZXRpb25zJztcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlc1BhZ2UgfSBmcm9tICcuL2NvbXBsZXRpb25zJztcbmltcG9ydCB7IHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gJy4uLy4uLy4uL3BhZ2luYXRpb24nO1xuXG5leHBvcnQgY2xhc3MgTWVzc2FnZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBHZXQgdGhlIG1lc3NhZ2VzIGluIGEgc3RvcmVkIGNoYXQgY29tcGxldGlvbi4gT25seSBDaGF0IENvbXBsZXRpb25zIHRoYXQgaGF2ZVxuICAgKiBiZWVuIGNyZWF0ZWQgd2l0aCB0aGUgYHN0b3JlYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYCB3aWxsIGJlIHJldHVybmVkLlxuICAgKi9cbiAgbGlzdChcbiAgICBjb21wbGV0aW9uSWQ6IHN0cmluZyxcbiAgICBxdWVyeT86IE1lc3NhZ2VMaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlc1BhZ2UsIENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlPjtcbiAgbGlzdChcbiAgICBjb21wbGV0aW9uSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZXNQYWdlLCBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZT47XG4gIGxpc3QoXG4gICAgY29tcGxldGlvbklkOiBzdHJpbmcsXG4gICAgcXVlcnk6IE1lc3NhZ2VMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlc1BhZ2UsIENvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlPiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0KGNvbXBsZXRpb25JZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KFxuICAgICAgYC9jaGF0L2NvbXBsZXRpb25zLyR7Y29tcGxldGlvbklkfS9tZXNzYWdlc2AsXG4gICAgICBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZXNQYWdlLFxuICAgICAgeyBxdWVyeSwgLi4ub3B0aW9ucyB9LFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlTGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge1xuICAvKipcbiAgICogU29ydCBvcmRlciBmb3IgbWVzc2FnZXMgYnkgdGltZXN0YW1wLiBVc2UgYGFzY2AgZm9yIGFzY2VuZGluZyBvcmRlciBvciBgZGVzY2BcbiAgICogZm9yIGRlc2NlbmRpbmcgb3JkZXIuIERlZmF1bHRzIHRvIGBhc2NgLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcbn1cblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIE1lc3NhZ2VzIHtcbiAgZXhwb3J0IHsgdHlwZSBNZXNzYWdlTGlzdFBhcmFtcyBhcyBNZXNzYWdlTGlzdFBhcmFtcyB9O1xufVxuXG5leHBvcnQgeyBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZXNQYWdlIH07XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBBUElQcm9taXNlIH0gZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29tcGxldGlvbnNDb21wbGV0aW9uc0FQSSBmcm9tICcuL2NvbXBsZXRpb25zJztcbmltcG9ydCAqIGFzIENvbXBsZXRpb25zQVBJIGZyb20gJy4uLy4uL2NvbXBsZXRpb25zJztcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tICcuLi8uLi9zaGFyZWQnO1xuaW1wb3J0ICogYXMgTWVzc2FnZXNBUEkgZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBNZXNzYWdlTGlzdFBhcmFtcywgTWVzc2FnZXMgfSBmcm9tICcuL21lc3NhZ2VzJztcbmltcG9ydCB7IEN1cnNvclBhZ2UsIHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gJy4uLy4uLy4uL3BhZ2luYXRpb24nO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi4vLi4vLi4vc3RyZWFtaW5nJztcblxuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBtZXNzYWdlczogTWVzc2FnZXNBUEkuTWVzc2FnZXMgPSBuZXcgTWVzc2FnZXNBUEkuTWVzc2FnZXModGhpcy5fY2xpZW50KTtcblxuICAvKipcbiAgICogKipTdGFydGluZyBhIG5ldyBwcm9qZWN0PyoqIFdlIHJlY29tbWVuZCB0cnlpbmdcbiAgICogW1Jlc3BvbnNlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9yZXNwb25zZXMpIHRvIHRha2VcbiAgICogYWR2YW50YWdlIG9mIHRoZSBsYXRlc3QgT3BlbkFJIHBsYXRmb3JtIGZlYXR1cmVzLiBDb21wYXJlXG4gICAqIFtDaGF0IENvbXBsZXRpb25zIHdpdGggUmVzcG9uc2VzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvcmVzcG9uc2VzLXZzLWNoYXQtY29tcGxldGlvbnM/YXBpLW1vZGU9cmVzcG9uc2VzKS5cbiAgICpcbiAgICogLS0tXG4gICAqXG4gICAqIENyZWF0ZXMgYSBtb2RlbCByZXNwb25zZSBmb3IgdGhlIGdpdmVuIGNoYXQgY29udmVyc2F0aW9uLiBMZWFybiBtb3JlIGluIHRoZVxuICAgKiBbdGV4dCBnZW5lcmF0aW9uXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dC1nZW5lcmF0aW9uKSxcbiAgICogW3Zpc2lvbl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Zpc2lvbiksIGFuZFxuICAgKiBbYXVkaW9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9hdWRpbykgZ3VpZGVzLlxuICAgKlxuICAgKiBQYXJhbWV0ZXIgc3VwcG9ydCBjYW4gZGlmZmVyIGRlcGVuZGluZyBvbiB0aGUgbW9kZWwgdXNlZCB0byBnZW5lcmF0ZSB0aGVcbiAgICogcmVzcG9uc2UsIHBhcnRpY3VsYXJseSBmb3IgbmV3ZXIgcmVhc29uaW5nIG1vZGVscy4gUGFyYW1ldGVycyB0aGF0IGFyZSBvbmx5XG4gICAqIHN1cHBvcnRlZCBmb3IgcmVhc29uaW5nIG1vZGVscyBhcmUgbm90ZWQgYmVsb3cuIEZvciB0aGUgY3VycmVudCBzdGF0ZSBvZlxuICAgKiB1bnN1cHBvcnRlZCBwYXJhbWV0ZXJzIGluIHJlYXNvbmluZyBtb2RlbHMsXG4gICAqIFtyZWZlciB0byB0aGUgcmVhc29uaW5nIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvcmVhc29uaW5nKS5cbiAgICovXG4gIGNyZWF0ZShcbiAgICBib2R5OiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxDaGF0Q29tcGxldGlvbj47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08Q2hhdENvbXBsZXRpb25DaHVuaz4+O1xuICBjcmVhdGUoXG4gICAgYm9keTogQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFN0cmVhbTxDaGF0Q29tcGxldGlvbkNodW5rPiB8IENoYXRDb21wbGV0aW9uPjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPENoYXRDb21wbGV0aW9uPiB8IEFQSVByb21pc2U8U3RyZWFtPENoYXRDb21wbGV0aW9uQ2h1bms+PiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvY2hhdC9jb21wbGV0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KSBhc1xuICAgICAgfCBBUElQcm9taXNlPENoYXRDb21wbGV0aW9uPlxuICAgICAgfCBBUElQcm9taXNlPFN0cmVhbTxDaGF0Q29tcGxldGlvbkNodW5rPj47XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgc3RvcmVkIGNoYXQgY29tcGxldGlvbi4gT25seSBDaGF0IENvbXBsZXRpb25zIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aFxuICAgKiB0aGUgYHN0b3JlYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYCB3aWxsIGJlIHJldHVybmVkLlxuICAgKi9cbiAgcmV0cmlldmUoY29tcGxldGlvbklkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPENoYXRDb21wbGV0aW9uPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9jaGF0L2NvbXBsZXRpb25zLyR7Y29tcGxldGlvbklkfWAsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vZGlmeSBhIHN0b3JlZCBjaGF0IGNvbXBsZXRpb24uIE9ubHkgQ2hhdCBDb21wbGV0aW9ucyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkXG4gICAqIHdpdGggdGhlIGBzdG9yZWAgcGFyYW1ldGVyIHNldCB0byBgdHJ1ZWAgY2FuIGJlIG1vZGlmaWVkLiBDdXJyZW50bHksIHRoZSBvbmx5XG4gICAqIHN1cHBvcnRlZCBtb2RpZmljYXRpb24gaXMgdG8gdXBkYXRlIHRoZSBgbWV0YWRhdGFgIGZpZWxkLlxuICAgKi9cbiAgdXBkYXRlKFxuICAgIGNvbXBsZXRpb25JZDogc3RyaW5nLFxuICAgIGJvZHk6IENoYXRDb21wbGV0aW9uVXBkYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8Q2hhdENvbXBsZXRpb24+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC9jaGF0L2NvbXBsZXRpb25zLyR7Y29tcGxldGlvbklkfWAsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0IHN0b3JlZCBDaGF0IENvbXBsZXRpb25zLiBPbmx5IENoYXQgQ29tcGxldGlvbnMgdGhhdCBoYXZlIGJlZW4gc3RvcmVkIHdpdGhcbiAgICogdGhlIGBzdG9yZWAgcGFyYW1ldGVyIHNldCB0byBgdHJ1ZWAgd2lsbCBiZSByZXR1cm5lZC5cbiAgICovXG4gIGxpc3QoXG4gICAgcXVlcnk/OiBDaGF0Q29tcGxldGlvbkxpc3RQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8Q2hhdENvbXBsZXRpb25zUGFnZSwgQ2hhdENvbXBsZXRpb24+O1xuICBsaXN0KG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxDaGF0Q29tcGxldGlvbnNQYWdlLCBDaGF0Q29tcGxldGlvbj47XG4gIGxpc3QoXG4gICAgcXVlcnk6IENoYXRDb21wbGV0aW9uTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxDaGF0Q29tcGxldGlvbnNQYWdlLCBDaGF0Q29tcGxldGlvbj4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9jaGF0L2NvbXBsZXRpb25zJywgQ2hhdENvbXBsZXRpb25zUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBzdG9yZWQgY2hhdCBjb21wbGV0aW9uLiBPbmx5IENoYXQgQ29tcGxldGlvbnMgdGhhdCBoYXZlIGJlZW4gY3JlYXRlZFxuICAgKiB3aXRoIHRoZSBgc3RvcmVgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgIGNhbiBiZSBkZWxldGVkLlxuICAgKi9cbiAgZGVsKGNvbXBsZXRpb25JZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxDaGF0Q29tcGxldGlvbkRlbGV0ZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL2NoYXQvY29tcGxldGlvbnMvJHtjb21wbGV0aW9uSWR9YCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlPENoYXRDb21wbGV0aW9uPiB7fVxuXG5leHBvcnQgY2xhc3MgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2VzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8Q2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2U+IHt9XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNoYXQgY29tcGxldGlvbiByZXNwb25zZSByZXR1cm5lZCBieSBtb2RlbCwgYmFzZWQgb24gdGhlIHByb3ZpZGVkXG4gKiBpbnB1dC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbiB7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2hhdCBjb21wbGV0aW9uLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIGNoYXQgY29tcGxldGlvbiBjaG9pY2VzLiBDYW4gYmUgbW9yZSB0aGFuIG9uZSBpZiBgbmAgaXMgZ3JlYXRlclxuICAgKiB0aGFuIDEuXG4gICAqL1xuICBjaG9pY2VzOiBBcnJheTxDaGF0Q29tcGxldGlvbi5DaG9pY2U+O1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIG9mIHdoZW4gdGhlIGNoYXQgY29tcGxldGlvbiB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHVzZWQgZm9yIHRoZSBjaGF0IGNvbXBsZXRpb24uXG4gICAqL1xuICBtb2RlbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgY2hhdC5jb21wbGV0aW9uYC5cbiAgICovXG4gIG9iamVjdDogJ2NoYXQuY29tcGxldGlvbic7XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2aWNlIHRpZXIgdXNlZCBmb3IgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC5cbiAgICovXG4gIHNlcnZpY2VfdGllcj86ICdzY2FsZScgfCAnZGVmYXVsdCcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGlzIGZpbmdlcnByaW50IHJlcHJlc2VudHMgdGhlIGJhY2tlbmQgY29uZmlndXJhdGlvbiB0aGF0IHRoZSBtb2RlbCBydW5zIHdpdGguXG4gICAqXG4gICAqIENhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIGBzZWVkYCByZXF1ZXN0IHBhcmFtZXRlciB0byB1bmRlcnN0YW5kIHdoZW5cbiAgICogYmFja2VuZCBjaGFuZ2VzIGhhdmUgYmVlbiBtYWRlIHRoYXQgbWlnaHQgaW1wYWN0IGRldGVybWluaXNtLlxuICAgKi9cbiAgc3lzdGVtX2ZpbmdlcnByaW50Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBVc2FnZSBzdGF0aXN0aWNzIGZvciB0aGUgY29tcGxldGlvbiByZXF1ZXN0LlxuICAgKi9cbiAgdXNhZ2U/OiBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9uVXNhZ2U7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb24ge1xuICBleHBvcnQgaW50ZXJmYWNlIENob2ljZSB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlYXNvbiB0aGUgbW9kZWwgc3RvcHBlZCBnZW5lcmF0aW5nIHRva2Vucy4gVGhpcyB3aWxsIGJlIGBzdG9wYCBpZiB0aGUgbW9kZWxcbiAgICAgKiBoaXQgYSBuYXR1cmFsIHN0b3AgcG9pbnQgb3IgYSBwcm92aWRlZCBzdG9wIHNlcXVlbmNlLCBgbGVuZ3RoYCBpZiB0aGUgbWF4aW11bVxuICAgICAqIG51bWJlciBvZiB0b2tlbnMgc3BlY2lmaWVkIGluIHRoZSByZXF1ZXN0IHdhcyByZWFjaGVkLCBgY29udGVudF9maWx0ZXJgIGlmXG4gICAgICogY29udGVudCB3YXMgb21pdHRlZCBkdWUgdG8gYSBmbGFnIGZyb20gb3VyIGNvbnRlbnQgZmlsdGVycywgYHRvb2xfY2FsbHNgIGlmIHRoZVxuICAgICAqIG1vZGVsIGNhbGxlZCBhIHRvb2wsIG9yIGBmdW5jdGlvbl9jYWxsYCAoZGVwcmVjYXRlZCkgaWYgdGhlIG1vZGVsIGNhbGxlZCBhXG4gICAgICogZnVuY3Rpb24uXG4gICAgICovXG4gICAgZmluaXNoX3JlYXNvbjogJ3N0b3AnIHwgJ2xlbmd0aCcgfCAndG9vbF9jYWxscycgfCAnY29udGVudF9maWx0ZXInIHwgJ2Z1bmN0aW9uX2NhbGwnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBjaG9pY2UgaW4gdGhlIGxpc3Qgb2YgY2hvaWNlcy5cbiAgICAgKi9cbiAgICBpbmRleDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogTG9nIHByb2JhYmlsaXR5IGluZm9ybWF0aW9uIGZvciB0aGUgY2hvaWNlLlxuICAgICAqL1xuICAgIGxvZ3Byb2JzOiBDaG9pY2UuTG9ncHJvYnMgfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBjaGF0IGNvbXBsZXRpb24gbWVzc2FnZSBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IENvbXBsZXRpb25zQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25NZXNzYWdlO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBDaG9pY2Uge1xuICAgIC8qKlxuICAgICAqIExvZyBwcm9iYWJpbGl0eSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNob2ljZS5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIExvZ3Byb2JzIHtcbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIG1lc3NhZ2UgY29udGVudCB0b2tlbnMgd2l0aCBsb2cgcHJvYmFiaWxpdHkgaW5mb3JtYXRpb24uXG4gICAgICAgKi9cbiAgICAgIGNvbnRlbnQ6IEFycmF5PENvbXBsZXRpb25zQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2I+IHwgbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgbWVzc2FnZSByZWZ1c2FsIHRva2VucyB3aXRoIGxvZyBwcm9iYWJpbGl0eSBpbmZvcm1hdGlvbi5cbiAgICAgICAqL1xuICAgICAgcmVmdXNhbDogQXJyYXk8Q29tcGxldGlvbnNDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYj4gfCBudWxsO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIE1lc3NhZ2VzIHNlbnQgYnkgdGhlIG1vZGVsIGluIHJlc3BvbnNlIHRvIHVzZXIgbWVzc2FnZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0ge1xuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2VzIGF1dGhvciwgaW4gdGhpcyBjYXNlIGBhc3Npc3RhbnRgLlxuICAgKi9cbiAgcm9sZTogJ2Fzc2lzdGFudCc7XG5cbiAgLyoqXG4gICAqIERhdGEgYWJvdXQgYSBwcmV2aW91cyBhdWRpbyByZXNwb25zZSBmcm9tIHRoZSBtb2RlbC5cbiAgICogW0xlYXJuIG1vcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9hdWRpbykuXG4gICAqL1xuICBhdWRpbz86IENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtLkF1ZGlvIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSBhc3Npc3RhbnQgbWVzc2FnZS4gUmVxdWlyZWQgdW5sZXNzIGB0b29sX2NhbGxzYCBvclxuICAgKiBgZnVuY3Rpb25fY2FsbGAgaXMgc3BlY2lmaWVkLlxuICAgKi9cbiAgY29udGVudD86IHN0cmluZyB8IEFycmF5PENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0IHwgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFJlZnVzYWw+IHwgbnVsbDtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBhbmQgcmVwbGFjZWQgYnkgYHRvb2xfY2FsbHNgLiBUaGUgbmFtZSBhbmQgYXJndW1lbnRzIG9mIGFcbiAgICogZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgZnVuY3Rpb25fY2FsbD86IENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtLkZ1bmN0aW9uQ2FsbCB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIG5hbWUgZm9yIHRoZSBwYXJ0aWNpcGFudC4gUHJvdmlkZXMgdGhlIG1vZGVsIGluZm9ybWF0aW9uIHRvXG4gICAqIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBwYXJ0aWNpcGFudHMgb2YgdGhlIHNhbWUgcm9sZS5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByZWZ1c2FsIG1lc3NhZ2UgYnkgdGhlIGFzc2lzdGFudC5cbiAgICovXG4gIHJlZnVzYWw/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgdG9vbCBjYWxscyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLCBzdWNoIGFzIGZ1bmN0aW9uIGNhbGxzLlxuICAgKi9cbiAgdG9vbF9jYWxscz86IEFycmF5PENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsPjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSB7XG4gIC8qKlxuICAgKiBEYXRhIGFib3V0IGEgcHJldmlvdXMgYXVkaW8gcmVzcG9uc2UgZnJvbSB0aGUgbW9kZWwuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvYXVkaW8pLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBBdWRpbyB7XG4gICAgLyoqXG4gICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgcHJldmlvdXMgYXVkaW8gcmVzcG9uc2UgZnJvbSB0aGUgbW9kZWwuXG4gICAgICovXG4gICAgaWQ6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkIGFuZCByZXBsYWNlZCBieSBgdG9vbF9jYWxsc2AuIFRoZSBuYW1lIGFuZCBhcmd1bWVudHMgb2YgYVxuICAgKiBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbCB7XG4gICAgLyoqXG4gICAgICogVGhlIGFyZ3VtZW50cyB0byBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGluIEpTT05cbiAgICAgKiBmb3JtYXQuIE5vdGUgdGhhdCB0aGUgbW9kZWwgZG9lcyBub3QgYWx3YXlzIGdlbmVyYXRlIHZhbGlkIEpTT04sIGFuZCBtYXlcbiAgICAgKiBoYWxsdWNpbmF0ZSBwYXJhbWV0ZXJzIG5vdCBkZWZpbmVkIGJ5IHlvdXIgZnVuY3Rpb24gc2NoZW1hLiBWYWxpZGF0ZSB0aGVcbiAgICAgKiBhcmd1bWVudHMgaW4geW91ciBjb2RlIGJlZm9yZSBjYWxsaW5nIHlvdXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBJZiB0aGUgYXVkaW8gb3V0cHV0IG1vZGFsaXR5IGlzIHJlcXVlc3RlZCwgdGhpcyBvYmplY3QgY29udGFpbnMgZGF0YSBhYm91dCB0aGVcbiAqIGF1ZGlvIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLlxuICogW0xlYXJuIG1vcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9hdWRpbykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25BdWRpbyB7XG4gIC8qKlxuICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBhdWRpbyByZXNwb25zZS5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEJhc2U2NCBlbmNvZGVkIGF1ZGlvIGJ5dGVzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwsIGluIHRoZSBmb3JtYXQgc3BlY2lmaWVkIGluXG4gICAqIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgZGF0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoaXMgYXVkaW8gcmVzcG9uc2Ugd2lsbCBubyBsb25nZXIgYmVcbiAgICogYWNjZXNzaWJsZSBvbiB0aGUgc2VydmVyIGZvciB1c2UgaW4gbXVsdGktdHVybiBjb252ZXJzYXRpb25zLlxuICAgKi9cbiAgZXhwaXJlc19hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUcmFuc2NyaXB0IG9mIHRoZSBhdWRpbyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgdHJhbnNjcmlwdDogc3RyaW5nO1xufVxuXG4vKipcbiAqIFBhcmFtZXRlcnMgZm9yIGF1ZGlvIG91dHB1dC4gUmVxdWlyZWQgd2hlbiBhdWRpbyBvdXRwdXQgaXMgcmVxdWVzdGVkIHdpdGhcbiAqIGBtb2RhbGl0aWVzOiBbXCJhdWRpb1wiXWAuXG4gKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2F1ZGlvKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkF1ZGlvUGFyYW0ge1xuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSBvdXRwdXQgYXVkaW8gZm9ybWF0LiBNdXN0IGJlIG9uZSBvZiBgd2F2YCwgYG1wM2AsIGBmbGFjYCwgYG9wdXNgLFxuICAgKiBvciBgcGNtMTZgLlxuICAgKi9cbiAgZm9ybWF0OiAnd2F2JyB8ICdtcDMnIHwgJ2ZsYWMnIHwgJ29wdXMnIHwgJ3BjbTE2JztcblxuICAvKipcbiAgICogVGhlIHZvaWNlIHRoZSBtb2RlbCB1c2VzIHRvIHJlc3BvbmQuIFN1cHBvcnRlZCB2b2ljZXMgYXJlIGBhbGxveWAsIGBhc2hgLFxuICAgKiBgYmFsbGFkYCwgYGNvcmFsYCwgYGVjaG9gLCBgc2FnZWAsIGFuZCBgc2hpbW1lcmAuXG4gICAqL1xuICB2b2ljZTogJ2FsbG95JyB8ICdhc2gnIHwgJ2JhbGxhZCcgfCAnY29yYWwnIHwgJ2VjaG8nIHwgJ3NhZ2UnIHwgJ3NoaW1tZXInIHwgJ3ZlcnNlJztcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc3RyZWFtZWQgY2h1bmsgb2YgYSBjaGF0IGNvbXBsZXRpb24gcmVzcG9uc2UgcmV0dXJuZWQgYnkgdGhlIG1vZGVsLFxuICogYmFzZWQgb24gdGhlIHByb3ZpZGVkIGlucHV0LlxuICogW0xlYXJuIG1vcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJlYW1pbmctcmVzcG9uc2VzKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkNodW5rIHtcbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjaGF0IGNvbXBsZXRpb24uIEVhY2ggY2h1bmsgaGFzIHRoZSBzYW1lIElELlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIGNoYXQgY29tcGxldGlvbiBjaG9pY2VzLiBDYW4gY29udGFpbiBtb3JlIHRoYW4gb25lIGVsZW1lbnRzIGlmIGBuYCBpc1xuICAgKiBncmVhdGVyIHRoYW4gMS4gQ2FuIGFsc28gYmUgZW1wdHkgZm9yIHRoZSBsYXN0IGNodW5rIGlmIHlvdSBzZXRcbiAgICogYHN0cmVhbV9vcHRpb25zOiB7XCJpbmNsdWRlX3VzYWdlXCI6IHRydWV9YC5cbiAgICovXG4gIGNob2ljZXM6IEFycmF5PENoYXRDb21wbGV0aW9uQ2h1bmsuQ2hvaWNlPjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBvZiB3aGVuIHRoZSBjaGF0IGNvbXBsZXRpb24gd2FzIGNyZWF0ZWQuIEVhY2hcbiAgICogY2h1bmsgaGFzIHRoZSBzYW1lIHRpbWVzdGFtcC5cbiAgICovXG4gIGNyZWF0ZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHRvIGdlbmVyYXRlIHRoZSBjb21wbGV0aW9uLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYGNoYXQuY29tcGxldGlvbi5jaHVua2AuXG4gICAqL1xuICBvYmplY3Q6ICdjaGF0LmNvbXBsZXRpb24uY2h1bmsnO1xuXG4gIC8qKlxuICAgKiBUaGUgc2VydmljZSB0aWVyIHVzZWQgZm9yIHByb2Nlc3NpbmcgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBzZXJ2aWNlX3RpZXI/OiAnc2NhbGUnIHwgJ2RlZmF1bHQnIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhpcyBmaW5nZXJwcmludCByZXByZXNlbnRzIHRoZSBiYWNrZW5kIGNvbmZpZ3VyYXRpb24gdGhhdCB0aGUgbW9kZWwgcnVucyB3aXRoLlxuICAgKiBDYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSBgc2VlZGAgcmVxdWVzdCBwYXJhbWV0ZXIgdG8gdW5kZXJzdGFuZCB3aGVuXG4gICAqIGJhY2tlbmQgY2hhbmdlcyBoYXZlIGJlZW4gbWFkZSB0aGF0IG1pZ2h0IGltcGFjdCBkZXRlcm1pbmlzbS5cbiAgICovXG4gIHN5c3RlbV9maW5nZXJwcmludD86IHN0cmluZztcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgZmllbGQgdGhhdCB3aWxsIG9ubHkgYmUgcHJlc2VudCB3aGVuIHlvdSBzZXRcbiAgICogYHN0cmVhbV9vcHRpb25zOiB7XCJpbmNsdWRlX3VzYWdlXCI6IHRydWV9YCBpbiB5b3VyIHJlcXVlc3QuIFdoZW4gcHJlc2VudCwgaXRcbiAgICogY29udGFpbnMgYSBudWxsIHZhbHVlICoqZXhjZXB0IGZvciB0aGUgbGFzdCBjaHVuayoqIHdoaWNoIGNvbnRhaW5zIHRoZSB0b2tlblxuICAgKiB1c2FnZSBzdGF0aXN0aWNzIGZvciB0aGUgZW50aXJlIHJlcXVlc3QuXG4gICAqXG4gICAqICoqTk9URToqKiBJZiB0aGUgc3RyZWFtIGlzIGludGVycnVwdGVkIG9yIGNhbmNlbGxlZCwgeW91IG1heSBub3QgcmVjZWl2ZSB0aGVcbiAgICogZmluYWwgdXNhZ2UgY2h1bmsgd2hpY2ggY29udGFpbnMgdGhlIHRvdGFsIHRva2VuIHVzYWdlIGZvciB0aGUgcmVxdWVzdC5cbiAgICovXG4gIHVzYWdlPzogQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvblVzYWdlO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uQ2h1bmsge1xuICBleHBvcnQgaW50ZXJmYWNlIENob2ljZSB7XG4gICAgLyoqXG4gICAgICogQSBjaGF0IGNvbXBsZXRpb24gZGVsdGEgZ2VuZXJhdGVkIGJ5IHN0cmVhbWVkIG1vZGVsIHJlc3BvbnNlcy5cbiAgICAgKi9cbiAgICBkZWx0YTogQ2hvaWNlLkRlbHRhO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlYXNvbiB0aGUgbW9kZWwgc3RvcHBlZCBnZW5lcmF0aW5nIHRva2Vucy4gVGhpcyB3aWxsIGJlIGBzdG9wYCBpZiB0aGUgbW9kZWxcbiAgICAgKiBoaXQgYSBuYXR1cmFsIHN0b3AgcG9pbnQgb3IgYSBwcm92aWRlZCBzdG9wIHNlcXVlbmNlLCBgbGVuZ3RoYCBpZiB0aGUgbWF4aW11bVxuICAgICAqIG51bWJlciBvZiB0b2tlbnMgc3BlY2lmaWVkIGluIHRoZSByZXF1ZXN0IHdhcyByZWFjaGVkLCBgY29udGVudF9maWx0ZXJgIGlmXG4gICAgICogY29udGVudCB3YXMgb21pdHRlZCBkdWUgdG8gYSBmbGFnIGZyb20gb3VyIGNvbnRlbnQgZmlsdGVycywgYHRvb2xfY2FsbHNgIGlmIHRoZVxuICAgICAqIG1vZGVsIGNhbGxlZCBhIHRvb2wsIG9yIGBmdW5jdGlvbl9jYWxsYCAoZGVwcmVjYXRlZCkgaWYgdGhlIG1vZGVsIGNhbGxlZCBhXG4gICAgICogZnVuY3Rpb24uXG4gICAgICovXG4gICAgZmluaXNoX3JlYXNvbjogJ3N0b3AnIHwgJ2xlbmd0aCcgfCAndG9vbF9jYWxscycgfCAnY29udGVudF9maWx0ZXInIHwgJ2Z1bmN0aW9uX2NhbGwnIHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgY2hvaWNlIGluIHRoZSBsaXN0IG9mIGNob2ljZXMuXG4gICAgICovXG4gICAgaW5kZXg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIExvZyBwcm9iYWJpbGl0eSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNob2ljZS5cbiAgICAgKi9cbiAgICBsb2dwcm9icz86IENob2ljZS5Mb2dwcm9icyB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIENob2ljZSB7XG4gICAgLyoqXG4gICAgICogQSBjaGF0IGNvbXBsZXRpb24gZGVsdGEgZ2VuZXJhdGVkIGJ5IHN0cmVhbWVkIG1vZGVsIHJlc3BvbnNlcy5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIERlbHRhIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSBjaHVuayBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICBjb250ZW50Pzogc3RyaW5nIHwgbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkIGFuZCByZXBsYWNlZCBieSBgdG9vbF9jYWxsc2AuIFRoZSBuYW1lIGFuZCBhcmd1bWVudHMgb2YgYVxuICAgICAgICogZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbl9jYWxsPzogRGVsdGEuRnVuY3Rpb25DYWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSByZWZ1c2FsIG1lc3NhZ2UgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICAgICAqL1xuICAgICAgcmVmdXNhbD86IHN0cmluZyB8IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHJvbGUgb2YgdGhlIGF1dGhvciBvZiB0aGlzIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIHJvbGU/OiAnZGV2ZWxvcGVyJyB8ICdzeXN0ZW0nIHwgJ3VzZXInIHwgJ2Fzc2lzdGFudCcgfCAndG9vbCc7XG5cbiAgICAgIHRvb2xfY2FsbHM/OiBBcnJheTxEZWx0YS5Ub29sQ2FsbD47XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBEZWx0YSB7XG4gICAgICAvKipcbiAgICAgICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQgYW5kIHJlcGxhY2VkIGJ5IGB0b29sX2NhbGxzYC4gVGhlIG5hbWUgYW5kIGFyZ3VtZW50cyBvZiBhXG4gICAgICAgKiBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAgICAgKi9cbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25DYWxsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcmd1bWVudHMgdG8gY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiBKU09OXG4gICAgICAgICAqIGZvcm1hdC4gTm90ZSB0aGF0IHRoZSBtb2RlbCBkb2VzIG5vdCBhbHdheXMgZ2VuZXJhdGUgdmFsaWQgSlNPTiwgYW5kIG1heVxuICAgICAgICAgKiBoYWxsdWNpbmF0ZSBwYXJhbWV0ZXJzIG5vdCBkZWZpbmVkIGJ5IHlvdXIgZnVuY3Rpb24gc2NoZW1hLiBWYWxpZGF0ZSB0aGVcbiAgICAgICAgICogYXJndW1lbnRzIGluIHlvdXIgY29kZSBiZWZvcmUgY2FsbGluZyB5b3VyIGZ1bmN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgYXJndW1lbnRzPzogc3RyaW5nO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgICAgICovXG4gICAgICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgVG9vbENhbGwge1xuICAgICAgICBpbmRleDogbnVtYmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICAgICAgICovXG4gICAgICAgIGlkPzogc3RyaW5nO1xuXG4gICAgICAgIGZ1bmN0aW9uPzogVG9vbENhbGwuRnVuY3Rpb247XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSB0b29sLiBDdXJyZW50bHksIG9ubHkgYGZ1bmN0aW9uYCBpcyBzdXBwb3J0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0eXBlPzogJ2Z1bmN0aW9uJztcbiAgICAgIH1cblxuICAgICAgZXhwb3J0IG5hbWVzcGFjZSBUb29sQ2FsbCB7XG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb24ge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoZSBhcmd1bWVudHMgdG8gY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiBKU09OXG4gICAgICAgICAgICogZm9ybWF0LiBOb3RlIHRoYXQgdGhlIG1vZGVsIGRvZXMgbm90IGFsd2F5cyBnZW5lcmF0ZSB2YWxpZCBKU09OLCBhbmQgbWF5XG4gICAgICAgICAgICogaGFsbHVjaW5hdGUgcGFyYW1ldGVycyBub3QgZGVmaW5lZCBieSB5b3VyIGZ1bmN0aW9uIHNjaGVtYS4gVmFsaWRhdGUgdGhlXG4gICAgICAgICAgICogYXJndW1lbnRzIGluIHlvdXIgY29kZSBiZWZvcmUgY2FsbGluZyB5b3VyIGZ1bmN0aW9uLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGFyZ3VtZW50cz86IHN0cmluZztcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgcHJvYmFiaWxpdHkgaW5mb3JtYXRpb24gZm9yIHRoZSBjaG9pY2UuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBMb2dwcm9icyB7XG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiBtZXNzYWdlIGNvbnRlbnQgdG9rZW5zIHdpdGggbG9nIHByb2JhYmlsaXR5IGluZm9ybWF0aW9uLlxuICAgICAgICovXG4gICAgICBjb250ZW50OiBBcnJheTxDb21wbGV0aW9uc0NvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iPiB8IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIG1lc3NhZ2UgcmVmdXNhbCB0b2tlbnMgd2l0aCBsb2cgcHJvYmFiaWxpdHkgaW5mb3JtYXRpb24uXG4gICAgICAgKi9cbiAgICAgIHJlZnVzYWw6IEFycmF5PENvbXBsZXRpb25zQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2I+IHwgbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBMZWFybiBhYm91dFxuICogW3RleHQgaW5wdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dC1nZW5lcmF0aW9uKS5cbiAqL1xuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydCA9XG4gIHwgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHRcbiAgfCBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2VcbiAgfCBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW5wdXRBdWRpb1xuICB8IENoYXRDb21wbGV0aW9uQ29udGVudFBhcnQuRmlsZTtcblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0IHtcbiAgLyoqXG4gICAqIExlYXJuIGFib3V0IFtmaWxlIGlucHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3RleHQpIGZvciB0ZXh0XG4gICAqIGdlbmVyYXRpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZpbGUge1xuICAgIGZpbGU6IEZpbGUuRmlsZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBjb250ZW50IHBhcnQuIEFsd2F5cyBgZmlsZWAuXG4gICAgICovXG4gICAgdHlwZTogJ2ZpbGUnO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBGaWxlIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGUge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgYmFzZTY0IGVuY29kZWQgZmlsZSBkYXRhLCB1c2VkIHdoZW4gcGFzc2luZyB0aGUgZmlsZSB0byB0aGUgbW9kZWwgYXMgYVxuICAgICAgICogc3RyaW5nLlxuICAgICAgICovXG4gICAgICBmaWxlX2RhdGE/OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIElEIG9mIGFuIHVwbG9hZGVkIGZpbGUgdG8gdXNlIGFzIGlucHV0LlxuICAgICAgICovXG4gICAgICBmaWxlX2lkPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmaWxlLCB1c2VkIHdoZW4gcGFzc2luZyB0aGUgZmlsZSB0byB0aGUgbW9kZWwgYXMgYSBzdHJpbmcuXG4gICAgICAgKi9cbiAgICAgIGZpbGVuYW1lPzogc3RyaW5nO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIExlYXJuIGFib3V0IFtpbWFnZSBpbnB1dHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy92aXNpb24pLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZSB7XG4gIGltYWdlX3VybDogQ2hhdENvbXBsZXRpb25Db250ZW50UGFydEltYWdlLkltYWdlVVJMO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgY29udGVudCBwYXJ0LlxuICAgKi9cbiAgdHlwZTogJ2ltYWdlX3VybCc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydEltYWdlIHtcbiAgZXhwb3J0IGludGVyZmFjZSBJbWFnZVVSTCB7XG4gICAgLyoqXG4gICAgICogRWl0aGVyIGEgVVJMIG9mIHRoZSBpbWFnZSBvciB0aGUgYmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YS5cbiAgICAgKi9cbiAgICB1cmw6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZGV0YWlsIGxldmVsIG9mIHRoZSBpbWFnZS4gTGVhcm4gbW9yZSBpbiB0aGVcbiAgICAgKiBbVmlzaW9uIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdmlzaW9uI2xvdy1vci1oaWdoLWZpZGVsaXR5LWltYWdlLXVuZGVyc3RhbmRpbmcpLlxuICAgICAqL1xuICAgIGRldGFpbD86ICdhdXRvJyB8ICdsb3cnIHwgJ2hpZ2gnO1xuICB9XG59XG5cbi8qKlxuICogTGVhcm4gYWJvdXQgW2F1ZGlvIGlucHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2F1ZGlvKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW5wdXRBdWRpbyB7XG4gIGlucHV0X2F1ZGlvOiBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW5wdXRBdWRpby5JbnB1dEF1ZGlvO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgY29udGVudCBwYXJ0LiBBbHdheXMgYGlucHV0X2F1ZGlvYC5cbiAgICovXG4gIHR5cGU6ICdpbnB1dF9hdWRpbyc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydElucHV0QXVkaW8ge1xuICBleHBvcnQgaW50ZXJmYWNlIElucHV0QXVkaW8ge1xuICAgIC8qKlxuICAgICAqIEJhc2U2NCBlbmNvZGVkIGF1ZGlvIGRhdGEuXG4gICAgICovXG4gICAgZGF0YTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZvcm1hdCBvZiB0aGUgZW5jb2RlZCBhdWRpbyBkYXRhLiBDdXJyZW50bHkgc3VwcG9ydHMgXCJ3YXZcIiBhbmQgXCJtcDNcIi5cbiAgICAgKi9cbiAgICBmb3JtYXQ6ICd3YXYnIHwgJ21wMyc7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0UmVmdXNhbCB7XG4gIC8qKlxuICAgKiBUaGUgcmVmdXNhbCBtZXNzYWdlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICByZWZ1c2FsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBjb250ZW50IHBhcnQuXG4gICAqL1xuICB0eXBlOiAncmVmdXNhbCc7XG59XG5cbi8qKlxuICogTGVhcm4gYWJvdXRcbiAqIFt0ZXh0IGlucHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3RleHQtZ2VuZXJhdGlvbikuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQge1xuICAvKipcbiAgICogVGhlIHRleHQgY29udGVudC5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGNvbnRlbnQgcGFydC5cbiAgICovXG4gIHR5cGU6ICd0ZXh0Jztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkRlbGV0ZWQge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBjaGF0IGNvbXBsZXRpb24gdGhhdCB3YXMgZGVsZXRlZC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGNoYXQgY29tcGxldGlvbiB3YXMgZGVsZXRlZC5cbiAgICovXG4gIGRlbGV0ZWQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIG9iamVjdCBiZWluZyBkZWxldGVkLlxuICAgKi9cbiAgb2JqZWN0OiAnY2hhdC5jb21wbGV0aW9uLmRlbGV0ZWQnO1xufVxuXG4vKipcbiAqIERldmVsb3Blci1wcm92aWRlZCBpbnN0cnVjdGlvbnMgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIGZvbGxvdywgcmVnYXJkbGVzcyBvZlxuICogbWVzc2FnZXMgc2VudCBieSB0aGUgdXNlci4gV2l0aCBvMSBtb2RlbHMgYW5kIG5ld2VyLCBgZGV2ZWxvcGVyYCBtZXNzYWdlc1xuICogcmVwbGFjZSB0aGUgcHJldmlvdXMgYHN5c3RlbWAgbWVzc2FnZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25EZXZlbG9wZXJNZXNzYWdlUGFyYW0ge1xuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSBkZXZlbG9wZXIgbWVzc2FnZS5cbiAgICovXG4gIGNvbnRlbnQ6IHN0cmluZyB8IEFycmF5PENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0PjtcblxuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2VzIGF1dGhvciwgaW4gdGhpcyBjYXNlIGBkZXZlbG9wZXJgLlxuICAgKi9cbiAgcm9sZTogJ2RldmVsb3Blcic7XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIG5hbWUgZm9yIHRoZSBwYXJ0aWNpcGFudC4gUHJvdmlkZXMgdGhlIG1vZGVsIGluZm9ybWF0aW9uIHRvXG4gICAqIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBwYXJ0aWNpcGFudHMgb2YgdGhlIHNhbWUgcm9sZS5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgZnVuY3Rpb24gdmlhIGB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn1gIGZvcmNlcyB0aGUgbW9kZWxcbiAqIHRvIGNhbGwgdGhhdCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbiB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICovXG4gIG5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW0ge1xuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSBmdW5jdGlvbiBtZXNzYWdlLlxuICAgKi9cbiAgY29udGVudDogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlcyBhdXRob3IsIGluIHRoaXMgY2FzZSBgZnVuY3Rpb25gLlxuICAgKi9cbiAgcm9sZTogJ2Z1bmN0aW9uJztcbn1cblxuLyoqXG4gKiBBIGNoYXQgY29tcGxldGlvbiBtZXNzYWdlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25NZXNzYWdlIHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgbWVzc2FnZS5cbiAgICovXG4gIGNvbnRlbnQ6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSByZWZ1c2FsIG1lc3NhZ2UgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICovXG4gIHJlZnVzYWw6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBhdXRob3Igb2YgdGhpcyBtZXNzYWdlLlxuICAgKi9cbiAgcm9sZTogJ2Fzc2lzdGFudCc7XG5cbiAgLyoqXG4gICAqIEFubm90YXRpb25zIGZvciB0aGUgbWVzc2FnZSwgd2hlbiBhcHBsaWNhYmxlLCBhcyB3aGVuIHVzaW5nIHRoZVxuICAgKiBbd2ViIHNlYXJjaCB0b29sXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtd2ViLXNlYXJjaD9hcGktbW9kZT1jaGF0KS5cbiAgICovXG4gIGFubm90YXRpb25zPzogQXJyYXk8Q2hhdENvbXBsZXRpb25NZXNzYWdlLkFubm90YXRpb24+O1xuXG4gIC8qKlxuICAgKiBJZiB0aGUgYXVkaW8gb3V0cHV0IG1vZGFsaXR5IGlzIHJlcXVlc3RlZCwgdGhpcyBvYmplY3QgY29udGFpbnMgZGF0YSBhYm91dCB0aGVcbiAgICogYXVkaW8gcmVzcG9uc2UgZnJvbSB0aGUgbW9kZWwuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvYXVkaW8pLlxuICAgKi9cbiAgYXVkaW8/OiBDaGF0Q29tcGxldGlvbkF1ZGlvIHwgbnVsbDtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBhbmQgcmVwbGFjZWQgYnkgYHRvb2xfY2FsbHNgLiBUaGUgbmFtZSBhbmQgYXJndW1lbnRzIG9mIGFcbiAgICogZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgZnVuY3Rpb25fY2FsbD86IENoYXRDb21wbGV0aW9uTWVzc2FnZS5GdW5jdGlvbkNhbGwgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgdG9vbCBjYWxscyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLCBzdWNoIGFzIGZ1bmN0aW9uIGNhbGxzLlxuICAgKi9cbiAgdG9vbF9jYWxscz86IEFycmF5PENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsPjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2Uge1xuICAvKipcbiAgICogQSBVUkwgY2l0YXRpb24gd2hlbiB1c2luZyB3ZWIgc2VhcmNoLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBBbm5vdGF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgVVJMIGNpdGF0aW9uLiBBbHdheXMgYHVybF9jaXRhdGlvbmAuXG4gICAgICovXG4gICAgdHlwZTogJ3VybF9jaXRhdGlvbic7XG5cbiAgICAvKipcbiAgICAgKiBBIFVSTCBjaXRhdGlvbiB3aGVuIHVzaW5nIHdlYiBzZWFyY2guXG4gICAgICovXG4gICAgdXJsX2NpdGF0aW9uOiBBbm5vdGF0aW9uLlVSTENpdGF0aW9uO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBBbm5vdGF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBBIFVSTCBjaXRhdGlvbiB3aGVuIHVzaW5nIHdlYiBzZWFyY2guXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBVUkxDaXRhdGlvbiB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBpbmRleCBvZiB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgdGhlIFVSTCBjaXRhdGlvbiBpbiB0aGUgbWVzc2FnZS5cbiAgICAgICAqL1xuICAgICAgZW5kX2luZGV4OiBudW1iZXI7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIGluZGV4IG9mIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgdGhlIFVSTCBjaXRhdGlvbiBpbiB0aGUgbWVzc2FnZS5cbiAgICAgICAqL1xuICAgICAgc3RhcnRfaW5kZXg6IG51bWJlcjtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdGl0bGUgb2YgdGhlIHdlYiByZXNvdXJjZS5cbiAgICAgICAqL1xuICAgICAgdGl0bGU6IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgVVJMIG9mIHRoZSB3ZWIgcmVzb3VyY2UuXG4gICAgICAgKi9cbiAgICAgIHVybDogc3RyaW5nO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkIGFuZCByZXBsYWNlZCBieSBgdG9vbF9jYWxsc2AuIFRoZSBuYW1lIGFuZCBhcmd1bWVudHMgb2YgYVxuICAgKiBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbCB7XG4gICAgLyoqXG4gICAgICogVGhlIGFyZ3VtZW50cyB0byBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGluIEpTT05cbiAgICAgKiBmb3JtYXQuIE5vdGUgdGhhdCB0aGUgbW9kZWwgZG9lcyBub3QgYWx3YXlzIGdlbmVyYXRlIHZhbGlkIEpTT04sIGFuZCBtYXlcbiAgICAgKiBoYWxsdWNpbmF0ZSBwYXJhbWV0ZXJzIG5vdCBkZWZpbmVkIGJ5IHlvdXIgZnVuY3Rpb24gc2NoZW1hLiBWYWxpZGF0ZSB0aGVcbiAgICAgKiBhcmd1bWVudHMgaW4geW91ciBjb2RlIGJlZm9yZSBjYWxsaW5nIHlvdXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBEZXZlbG9wZXItcHJvdmlkZWQgaW5zdHJ1Y3Rpb25zIHRoYXQgdGhlIG1vZGVsIHNob3VsZCBmb2xsb3csIHJlZ2FyZGxlc3Mgb2ZcbiAqIG1lc3NhZ2VzIHNlbnQgYnkgdGhlIHVzZXIuIFdpdGggbzEgbW9kZWxzIGFuZCBuZXdlciwgYGRldmVsb3BlcmAgbWVzc2FnZXNcbiAqIHJlcGxhY2UgdGhlIHByZXZpb3VzIGBzeXN0ZW1gIG1lc3NhZ2VzLlxuICovXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSA9XG4gIHwgQ2hhdENvbXBsZXRpb25EZXZlbG9wZXJNZXNzYWdlUGFyYW1cbiAgfCBDaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbVxuICB8IENoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbVxuICB8IENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtXG4gIHwgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtXG4gIHwgQ2hhdENvbXBsZXRpb25GdW5jdGlvbk1lc3NhZ2VQYXJhbTtcblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBmdW5jdGlvbiB0aGF0IHRoZSBtb2RlbCBjYWxsZWQuXG4gICAqL1xuICBmdW5jdGlvbjogQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwuRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSB0b29sLiBDdXJyZW50bHksIG9ubHkgYGZ1bmN0aW9uYCBpcyBzdXBwb3J0ZWQuXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSBmdW5jdGlvbiB0aGF0IHRoZSBtb2RlbCBjYWxsZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgYXJndW1lbnRzIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGgsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gSlNPTlxuICAgICAqIGZvcm1hdC4gTm90ZSB0aGF0IHRoZSBtb2RlbCBkb2VzIG5vdCBhbHdheXMgZ2VuZXJhdGUgdmFsaWQgSlNPTiwgYW5kIG1heVxuICAgICAqIGhhbGx1Y2luYXRlIHBhcmFtZXRlcnMgbm90IGRlZmluZWQgYnkgeW91ciBmdW5jdGlvbiBzY2hlbWEuIFZhbGlkYXRlIHRoZVxuICAgICAqIGFyZ3VtZW50cyBpbiB5b3VyIGNvZGUgYmVmb3JlIGNhbGxpbmcgeW91ciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBhcmd1bWVudHM6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZztcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvbk1vZGFsaXR5ID0gJ3RleHQnIHwgJ2F1ZGlvJztcblxuLyoqXG4gKiBTcGVjaWZpZXMgYSB0b29sIHRoZSBtb2RlbCBzaG91bGQgdXNlLiBVc2UgdG8gZm9yY2UgdGhlIG1vZGVsIHRvIGNhbGwgYSBzcGVjaWZpY1xuICogZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2Uge1xuICBmdW5jdGlvbjogQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UuRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSB0b29sLiBDdXJyZW50bHksIG9ubHkgYGZ1bmN0aW9uYCBpcyBzdXBwb3J0ZWQuXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uTmFtZWRUb29sQ2hvaWNlIHtcbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogU3RhdGljIHByZWRpY3RlZCBvdXRwdXQgY29udGVudCwgc3VjaCBhcyB0aGUgY29udGVudCBvZiBhIHRleHQgZmlsZSB0aGF0IGlzXG4gKiBiZWluZyByZWdlbmVyYXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblByZWRpY3Rpb25Db250ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IHRoYXQgc2hvdWxkIGJlIG1hdGNoZWQgd2hlbiBnZW5lcmF0aW5nIGEgbW9kZWwgcmVzcG9uc2UuIElmXG4gICAqIGdlbmVyYXRlZCB0b2tlbnMgd291bGQgbWF0Y2ggdGhpcyBjb250ZW50LCB0aGUgZW50aXJlIG1vZGVsIHJlc3BvbnNlIGNhbiBiZVxuICAgKiByZXR1cm5lZCBtdWNoIG1vcmUgcXVpY2tseS5cbiAgICovXG4gIGNvbnRlbnQ6IHN0cmluZyB8IEFycmF5PENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0PjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHByZWRpY3RlZCBjb250ZW50IHlvdSB3YW50IHRvIHByb3ZpZGUuIFRoaXMgdHlwZSBpcyBjdXJyZW50bHlcbiAgICogYWx3YXlzIGBjb250ZW50YC5cbiAgICovXG4gIHR5cGU6ICdjb250ZW50Jztcbn1cblxuLyoqXG4gKiBUaGUgcm9sZSBvZiB0aGUgYXV0aG9yIG9mIGEgbWVzc2FnZVxuICovXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvblJvbGUgPSAnZGV2ZWxvcGVyJyB8ICdzeXN0ZW0nIHwgJ3VzZXInIHwgJ2Fzc2lzdGFudCcgfCAndG9vbCcgfCAnZnVuY3Rpb24nO1xuXG4vKipcbiAqIEEgY2hhdCBjb21wbGV0aW9uIG1lc3NhZ2UgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZSBleHRlbmRzIENoYXRDb21wbGV0aW9uTWVzc2FnZSB7XG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciBvZiB0aGUgY2hhdCBtZXNzYWdlLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBPcHRpb25zIGZvciBzdHJlYW1pbmcgcmVzcG9uc2UuIE9ubHkgc2V0IHRoaXMgd2hlbiB5b3Ugc2V0IGBzdHJlYW06IHRydWVgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uU3RyZWFtT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBJZiBzZXQsIGFuIGFkZGl0aW9uYWwgY2h1bmsgd2lsbCBiZSBzdHJlYW1lZCBiZWZvcmUgdGhlIGBkYXRhOiBbRE9ORV1gIG1lc3NhZ2UuXG4gICAqIFRoZSBgdXNhZ2VgIGZpZWxkIG9uIHRoaXMgY2h1bmsgc2hvd3MgdGhlIHRva2VuIHVzYWdlIHN0YXRpc3RpY3MgZm9yIHRoZSBlbnRpcmVcbiAgICogcmVxdWVzdCwgYW5kIHRoZSBgY2hvaWNlc2AgZmllbGQgd2lsbCBhbHdheXMgYmUgYW4gZW1wdHkgYXJyYXkuXG4gICAqXG4gICAqIEFsbCBvdGhlciBjaHVua3Mgd2lsbCBhbHNvIGluY2x1ZGUgYSBgdXNhZ2VgIGZpZWxkLCBidXQgd2l0aCBhIG51bGwgdmFsdWUuXG4gICAqICoqTk9URToqKiBJZiB0aGUgc3RyZWFtIGlzIGludGVycnVwdGVkLCB5b3UgbWF5IG5vdCByZWNlaXZlIHRoZSBmaW5hbCB1c2FnZVxuICAgKiBjaHVuayB3aGljaCBjb250YWlucyB0aGUgdG90YWwgdG9rZW4gdXNhZ2UgZm9yIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgaW5jbHVkZV91c2FnZT86IGJvb2xlYW47XG59XG5cbi8qKlxuICogRGV2ZWxvcGVyLXByb3ZpZGVkIGluc3RydWN0aW9ucyB0aGF0IHRoZSBtb2RlbCBzaG91bGQgZm9sbG93LCByZWdhcmRsZXNzIG9mXG4gKiBtZXNzYWdlcyBzZW50IGJ5IHRoZSB1c2VyLiBXaXRoIG8xIG1vZGVscyBhbmQgbmV3ZXIsIHVzZSBgZGV2ZWxvcGVyYCBtZXNzYWdlc1xuICogZm9yIHRoaXMgcHVycG9zZSBpbnN0ZWFkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uU3lzdGVtTWVzc2FnZVBhcmFtIHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgc3lzdGVtIG1lc3NhZ2UuXG4gICAqL1xuICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dD47XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlcyBhdXRob3IsIGluIHRoaXMgY2FzZSBgc3lzdGVtYC5cbiAgICovXG4gIHJvbGU6ICdzeXN0ZW0nO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBuYW1lIGZvciB0aGUgcGFydGljaXBhbnQuIFByb3ZpZGVzIHRoZSBtb2RlbCBpbmZvcm1hdGlvbiB0b1xuICAgKiBkaWZmZXJlbnRpYXRlIGJldHdlZW4gcGFydGljaXBhbnRzIG9mIHRoZSBzYW1lIHJvbGUuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iIHtcbiAgLyoqXG4gICAqIFRoZSB0b2tlbi5cbiAgICovXG4gIHRva2VuOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBpbnRlZ2VycyByZXByZXNlbnRpbmcgdGhlIFVURi04IGJ5dGVzIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0b2tlbi5cbiAgICogVXNlZnVsIGluIGluc3RhbmNlcyB3aGVyZSBjaGFyYWN0ZXJzIGFyZSByZXByZXNlbnRlZCBieSBtdWx0aXBsZSB0b2tlbnMgYW5kXG4gICAqIHRoZWlyIGJ5dGUgcmVwcmVzZW50YXRpb25zIG11c3QgYmUgY29tYmluZWQgdG8gZ2VuZXJhdGUgdGhlIGNvcnJlY3QgdGV4dFxuICAgKiByZXByZXNlbnRhdGlvbi4gQ2FuIGJlIGBudWxsYCBpZiB0aGVyZSBpcyBubyBieXRlcyByZXByZXNlbnRhdGlvbiBmb3IgdGhlIHRva2VuLlxuICAgKi9cbiAgYnl0ZXM6IEFycmF5PG51bWJlcj4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbG9nIHByb2JhYmlsaXR5IG9mIHRoaXMgdG9rZW4sIGlmIGl0IGlzIHdpdGhpbiB0aGUgdG9wIDIwIG1vc3QgbGlrZWx5XG4gICAqIHRva2Vucy4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgYC05OTk5LjBgIGlzIHVzZWQgdG8gc2lnbmlmeSB0aGF0IHRoZSB0b2tlbiBpcyB2ZXJ5XG4gICAqIHVubGlrZWx5LlxuICAgKi9cbiAgbG9ncHJvYjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBMaXN0IG9mIHRoZSBtb3N0IGxpa2VseSB0b2tlbnMgYW5kIHRoZWlyIGxvZyBwcm9iYWJpbGl0eSwgYXQgdGhpcyB0b2tlblxuICAgKiBwb3NpdGlvbi4gSW4gcmFyZSBjYXNlcywgdGhlcmUgbWF5IGJlIGZld2VyIHRoYW4gdGhlIG51bWJlciBvZiByZXF1ZXN0ZWRcbiAgICogYHRvcF9sb2dwcm9ic2AgcmV0dXJuZWQuXG4gICAqL1xuICB0b3BfbG9ncHJvYnM6IEFycmF5PENoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iLlRvcExvZ3Byb2I+O1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iIHtcbiAgZXhwb3J0IGludGVyZmFjZSBUb3BMb2dwcm9iIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdG9rZW4uXG4gICAgICovXG4gICAgdG9rZW46IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBpbnRlZ2VycyByZXByZXNlbnRpbmcgdGhlIFVURi04IGJ5dGVzIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0b2tlbi5cbiAgICAgKiBVc2VmdWwgaW4gaW5zdGFuY2VzIHdoZXJlIGNoYXJhY3RlcnMgYXJlIHJlcHJlc2VudGVkIGJ5IG11bHRpcGxlIHRva2VucyBhbmRcbiAgICAgKiB0aGVpciBieXRlIHJlcHJlc2VudGF0aW9ucyBtdXN0IGJlIGNvbWJpbmVkIHRvIGdlbmVyYXRlIHRoZSBjb3JyZWN0IHRleHRcbiAgICAgKiByZXByZXNlbnRhdGlvbi4gQ2FuIGJlIGBudWxsYCBpZiB0aGVyZSBpcyBubyBieXRlcyByZXByZXNlbnRhdGlvbiBmb3IgdGhlIHRva2VuLlxuICAgICAqL1xuICAgIGJ5dGVzOiBBcnJheTxudW1iZXI+IHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2cgcHJvYmFiaWxpdHkgb2YgdGhpcyB0b2tlbiwgaWYgaXQgaXMgd2l0aGluIHRoZSB0b3AgMjAgbW9zdCBsaWtlbHlcbiAgICAgKiB0b2tlbnMuIE90aGVyd2lzZSwgdGhlIHZhbHVlIGAtOTk5OS4wYCBpcyB1c2VkIHRvIHNpZ25pZnkgdGhhdCB0aGUgdG9rZW4gaXMgdmVyeVxuICAgICAqIHVubGlrZWx5LlxuICAgICAqL1xuICAgIGxvZ3Byb2I6IG51bWJlcjtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uVG9vbCB7XG4gIGZ1bmN0aW9uOiBTaGFyZWQuRnVuY3Rpb25EZWZpbml0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbC4gQ3VycmVudGx5LCBvbmx5IGBmdW5jdGlvbmAgaXMgc3VwcG9ydGVkLlxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uJztcbn1cblxuLyoqXG4gKiBDb250cm9scyB3aGljaCAoaWYgYW55KSB0b29sIGlzIGNhbGxlZCBieSB0aGUgbW9kZWwuIGBub25lYCBtZWFucyB0aGUgbW9kZWwgd2lsbFxuICogbm90IGNhbGwgYW55IHRvb2wgYW5kIGluc3RlYWQgZ2VuZXJhdGVzIGEgbWVzc2FnZS4gYGF1dG9gIG1lYW5zIHRoZSBtb2RlbCBjYW5cbiAqIHBpY2sgYmV0d2VlbiBnZW5lcmF0aW5nIGEgbWVzc2FnZSBvciBjYWxsaW5nIG9uZSBvciBtb3JlIHRvb2xzLiBgcmVxdWlyZWRgIG1lYW5zXG4gKiB0aGUgbW9kZWwgbXVzdCBjYWxsIG9uZSBvciBtb3JlIHRvb2xzLiBTcGVjaWZ5aW5nIGEgcGFydGljdWxhciB0b29sIHZpYVxuICogYHtcInR5cGVcIjogXCJmdW5jdGlvblwiLCBcImZ1bmN0aW9uXCI6IHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifX1gIGZvcmNlcyB0aGUgbW9kZWwgdG9cbiAqIGNhbGwgdGhhdCB0b29sLlxuICpcbiAqIGBub25lYCBpcyB0aGUgZGVmYXVsdCB3aGVuIG5vIHRvb2xzIGFyZSBwcmVzZW50LiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgaWYgdG9vbHNcbiAqIGFyZSBwcmVzZW50LlxuICovXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb24gPSAnbm9uZScgfCAnYXV0bycgfCAncmVxdWlyZWQnIHwgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2U7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtIHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgdG9vbCBtZXNzYWdlLlxuICAgKi9cbiAgY29udGVudDogc3RyaW5nIHwgQXJyYXk8Q2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgcm9sZSBvZiB0aGUgbWVzc2FnZXMgYXV0aG9yLCBpbiB0aGlzIGNhc2UgYHRvb2xgLlxuICAgKi9cbiAgcm9sZTogJ3Rvb2wnO1xuXG4gIC8qKlxuICAgKiBUb29sIGNhbGwgdGhhdCB0aGlzIG1lc3NhZ2UgaXMgcmVzcG9uZGluZyB0by5cbiAgICovXG4gIHRvb2xfY2FsbF9pZDogc3RyaW5nO1xufVxuXG4vKipcbiAqIE1lc3NhZ2VzIHNlbnQgYnkgYW4gZW5kIHVzZXIsIGNvbnRhaW5pbmcgcHJvbXB0cyBvciBhZGRpdGlvbmFsIGNvbnRleHRcbiAqIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbSB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgdGhlIHVzZXIgbWVzc2FnZS5cbiAgICovXG4gIGNvbnRlbnQ6IHN0cmluZyB8IEFycmF5PENoYXRDb21wbGV0aW9uQ29udGVudFBhcnQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgcm9sZSBvZiB0aGUgbWVzc2FnZXMgYXV0aG9yLCBpbiB0aGlzIGNhc2UgYHVzZXJgLlxuICAgKi9cbiAgcm9sZTogJ3VzZXInO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBuYW1lIGZvciB0aGUgcGFydGljaXBhbnQuIFByb3ZpZGVzIHRoZSBtb2RlbCBpbmZvcm1hdGlvbiB0b1xuICAgKiBkaWZmZXJlbnRpYXRlIGJldHdlZW4gcGFydGljaXBhbnRzIG9mIHRoZSBzYW1lIHJvbGUuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtIHNob3VsZCBiZSB1c2VkIGluc3RlYWRcbiAqL1xuZXhwb3J0IHR5cGUgQ3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0TWVzc2FnZSA9IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtO1xuXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvblJlYXNvbmluZ0VmZm9ydCA9IFNoYXJlZC5SZWFzb25pbmdFZmZvcnQgfCBudWxsO1xuXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyA9XG4gIHwgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmdcbiAgfCBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZztcblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogQSBsaXN0IG9mIG1lc3NhZ2VzIGNvbXByaXNpbmcgdGhlIGNvbnZlcnNhdGlvbiBzbyBmYXIuIERlcGVuZGluZyBvbiB0aGVcbiAgICogW21vZGVsXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMpIHlvdSB1c2UsIGRpZmZlcmVudCBtZXNzYWdlXG4gICAqIHR5cGVzIChtb2RhbGl0aWVzKSBhcmUgc3VwcG9ydGVkLCBsaWtlXG4gICAqIFt0ZXh0XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dC1nZW5lcmF0aW9uKSxcbiAgICogW2ltYWdlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Zpc2lvbiksIGFuZFxuICAgKiBbYXVkaW9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9hdWRpbykuXG4gICAqL1xuICBtZXNzYWdlczogQXJyYXk8Q2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0+O1xuXG4gIC8qKlxuICAgKiBNb2RlbCBJRCB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXNwb25zZSwgbGlrZSBgZ3B0LTRvYCBvciBgbzFgLiBPcGVuQUkgb2ZmZXJzIGFcbiAgICogd2lkZSByYW5nZSBvZiBtb2RlbHMgd2l0aCBkaWZmZXJlbnQgY2FwYWJpbGl0aWVzLCBwZXJmb3JtYW5jZSBjaGFyYWN0ZXJpc3RpY3MsXG4gICAqIGFuZCBwcmljZSBwb2ludHMuIFJlZmVyIHRvIHRoZVxuICAgKiBbbW9kZWwgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscykgdG8gYnJvd3NlIGFuZCBjb21wYXJlXG4gICAqIGF2YWlsYWJsZSBtb2RlbHMuXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8IFNoYXJlZC5DaGF0TW9kZWw7XG5cbiAgLyoqXG4gICAqIFBhcmFtZXRlcnMgZm9yIGF1ZGlvIG91dHB1dC4gUmVxdWlyZWQgd2hlbiBhdWRpbyBvdXRwdXQgaXMgcmVxdWVzdGVkIHdpdGhcbiAgICogYG1vZGFsaXRpZXM6IFtcImF1ZGlvXCJdYC5cbiAgICogW0xlYXJuIG1vcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9hdWRpbykuXG4gICAqL1xuICBhdWRpbz86IENoYXRDb21wbGV0aW9uQXVkaW9QYXJhbSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE51bWJlciBiZXR3ZWVuIC0yLjAgYW5kIDIuMC4gUG9zaXRpdmUgdmFsdWVzIHBlbmFsaXplIG5ldyB0b2tlbnMgYmFzZWQgb24gdGhlaXJcbiAgICogZXhpc3RpbmcgZnJlcXVlbmN5IGluIHRoZSB0ZXh0IHNvIGZhciwgZGVjcmVhc2luZyB0aGUgbW9kZWwncyBsaWtlbGlob29kIHRvXG4gICAqIHJlcGVhdCB0aGUgc2FtZSBsaW5lIHZlcmJhdGltLlxuICAgKi9cbiAgZnJlcXVlbmN5X3BlbmFsdHk/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGB0b29sX2Nob2ljZWAuXG4gICAqXG4gICAqIENvbnRyb2xzIHdoaWNoIChpZiBhbnkpIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSB0aGUgbW9kZWwuXG4gICAqXG4gICAqIGBub25lYCBtZWFucyB0aGUgbW9kZWwgd2lsbCBub3QgY2FsbCBhIGZ1bmN0aW9uIGFuZCBpbnN0ZWFkIGdlbmVyYXRlcyBhIG1lc3NhZ2UuXG4gICAqXG4gICAqIGBhdXRvYCBtZWFucyB0aGUgbW9kZWwgY2FuIHBpY2sgYmV0d2VlbiBnZW5lcmF0aW5nIGEgbWVzc2FnZSBvciBjYWxsaW5nIGFcbiAgICogZnVuY3Rpb24uXG4gICAqXG4gICAqIFNwZWNpZnlpbmcgYSBwYXJ0aWN1bGFyIGZ1bmN0aW9uIHZpYSBge1wibmFtZVwiOiBcIm15X2Z1bmN0aW9uXCJ9YCBmb3JjZXMgdGhlIG1vZGVsXG4gICAqIHRvIGNhbGwgdGhhdCBmdW5jdGlvbi5cbiAgICpcbiAgICogYG5vbmVgIGlzIHRoZSBkZWZhdWx0IHdoZW4gbm8gZnVuY3Rpb25zIGFyZSBwcmVzZW50LiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgaWZcbiAgICogZnVuY3Rpb25zIGFyZSBwcmVzZW50LlxuICAgKi9cbiAgZnVuY3Rpb25fY2FsbD86ICdub25lJyB8ICdhdXRvJyB8IENoYXRDb21wbGV0aW9uRnVuY3Rpb25DYWxsT3B0aW9uO1xuXG4gIC8qKlxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGB0b29sc2AuXG4gICAqXG4gICAqIEEgbGlzdCBvZiBmdW5jdGlvbnMgdGhlIG1vZGVsIG1heSBnZW5lcmF0ZSBKU09OIGlucHV0cyBmb3IuXG4gICAqL1xuICBmdW5jdGlvbnM/OiBBcnJheTxDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcy5GdW5jdGlvbj47XG5cbiAgLyoqXG4gICAqIE1vZGlmeSB0aGUgbGlrZWxpaG9vZCBvZiBzcGVjaWZpZWQgdG9rZW5zIGFwcGVhcmluZyBpbiB0aGUgY29tcGxldGlvbi5cbiAgICpcbiAgICogQWNjZXB0cyBhIEpTT04gb2JqZWN0IHRoYXQgbWFwcyB0b2tlbnMgKHNwZWNpZmllZCBieSB0aGVpciB0b2tlbiBJRCBpbiB0aGVcbiAgICogdG9rZW5pemVyKSB0byBhbiBhc3NvY2lhdGVkIGJpYXMgdmFsdWUgZnJvbSAtMTAwIHRvIDEwMC4gTWF0aGVtYXRpY2FsbHksIHRoZVxuICAgKiBiaWFzIGlzIGFkZGVkIHRvIHRoZSBsb2dpdHMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBwcmlvciB0byBzYW1wbGluZy4gVGhlIGV4YWN0XG4gICAqIGVmZmVjdCB3aWxsIHZhcnkgcGVyIG1vZGVsLCBidXQgdmFsdWVzIGJldHdlZW4gLTEgYW5kIDEgc2hvdWxkIGRlY3JlYXNlIG9yXG4gICAqIGluY3JlYXNlIGxpa2VsaWhvb2Qgb2Ygc2VsZWN0aW9uOyB2YWx1ZXMgbGlrZSAtMTAwIG9yIDEwMCBzaG91bGQgcmVzdWx0IGluIGEgYmFuXG4gICAqIG9yIGV4Y2x1c2l2ZSBzZWxlY3Rpb24gb2YgdGhlIHJlbGV2YW50IHRva2VuLlxuICAgKi9cbiAgbG9naXRfYmlhcz86IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHJldHVybiBsb2cgcHJvYmFiaWxpdGllcyBvZiB0aGUgb3V0cHV0IHRva2VucyBvciBub3QuIElmIHRydWUsXG4gICAqIHJldHVybnMgdGhlIGxvZyBwcm9iYWJpbGl0aWVzIG9mIGVhY2ggb3V0cHV0IHRva2VuIHJldHVybmVkIGluIHRoZSBgY29udGVudGAgb2ZcbiAgICogYG1lc3NhZ2VgLlxuICAgKi9cbiAgbG9ncHJvYnM/OiBib29sZWFuIHwgbnVsbDtcblxuICAvKipcbiAgICogQW4gdXBwZXIgYm91bmQgZm9yIHRoZSBudW1iZXIgb2YgdG9rZW5zIHRoYXQgY2FuIGJlIGdlbmVyYXRlZCBmb3IgYSBjb21wbGV0aW9uLFxuICAgKiBpbmNsdWRpbmcgdmlzaWJsZSBvdXRwdXQgdG9rZW5zIGFuZFxuICAgKiBbcmVhc29uaW5nIHRva2Vuc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3JlYXNvbmluZykuXG4gICAqL1xuICBtYXhfY29tcGxldGlvbl90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgW3Rva2Vuc10oL3Rva2VuaXplcikgdGhhdCBjYW4gYmUgZ2VuZXJhdGVkIGluIHRoZSBjaGF0XG4gICAqIGNvbXBsZXRpb24uIFRoaXMgdmFsdWUgY2FuIGJlIHVzZWQgdG8gY29udHJvbFxuICAgKiBbY29zdHNdKGh0dHBzOi8vb3BlbmFpLmNvbS9hcGkvcHJpY2luZy8pIGZvciB0ZXh0IGdlbmVyYXRlZCB2aWEgQVBJLlxuICAgKlxuICAgKiBUaGlzIHZhbHVlIGlzIG5vdyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIGBtYXhfY29tcGxldGlvbl90b2tlbnNgLCBhbmQgaXMgbm90XG4gICAqIGNvbXBhdGlibGUgd2l0aFxuICAgKiBbbzEgc2VyaWVzIG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3JlYXNvbmluZykuXG4gICAqL1xuICBtYXhfdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogT3V0cHV0IHR5cGVzIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIG1vZGVsIHRvIGdlbmVyYXRlLiBNb3N0IG1vZGVscyBhcmUgY2FwYWJsZVxuICAgKiBvZiBnZW5lcmF0aW5nIHRleHQsIHdoaWNoIGlzIHRoZSBkZWZhdWx0OlxuICAgKlxuICAgKiBgW1widGV4dFwiXWBcbiAgICpcbiAgICogVGhlIGBncHQtNG8tYXVkaW8tcHJldmlld2AgbW9kZWwgY2FuIGFsc28gYmUgdXNlZCB0b1xuICAgKiBbZ2VuZXJhdGUgYXVkaW9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9hdWRpbykuIFRvIHJlcXVlc3QgdGhhdFxuICAgKiB0aGlzIG1vZGVsIGdlbmVyYXRlIGJvdGggdGV4dCBhbmQgYXVkaW8gcmVzcG9uc2VzLCB5b3UgY2FuIHVzZTpcbiAgICpcbiAgICogYFtcInRleHRcIiwgXCJhdWRpb1wiXWBcbiAgICovXG4gIG1vZGFsaXRpZXM/OiBBcnJheTwndGV4dCcgfCAnYXVkaW8nPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEhvdyBtYW55IGNoYXQgY29tcGxldGlvbiBjaG9pY2VzIHRvIGdlbmVyYXRlIGZvciBlYWNoIGlucHV0IG1lc3NhZ2UuIE5vdGUgdGhhdFxuICAgKiB5b3Ugd2lsbCBiZSBjaGFyZ2VkIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgZ2VuZXJhdGVkIHRva2VucyBhY3Jvc3MgYWxsIG9mIHRoZVxuICAgKiBjaG9pY2VzLiBLZWVwIGBuYCBhcyBgMWAgdG8gbWluaW1pemUgY29zdHMuXG4gICAqL1xuICBuPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGVcbiAgICogW3BhcmFsbGVsIGZ1bmN0aW9uIGNhbGxpbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9mdW5jdGlvbi1jYWxsaW5nI2NvbmZpZ3VyaW5nLXBhcmFsbGVsLWZ1bmN0aW9uLWNhbGxpbmcpXG4gICAqIGR1cmluZyB0b29sIHVzZS5cbiAgICovXG4gIHBhcmFsbGVsX3Rvb2xfY2FsbHM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTdGF0aWMgcHJlZGljdGVkIG91dHB1dCBjb250ZW50LCBzdWNoIGFzIHRoZSBjb250ZW50IG9mIGEgdGV4dCBmaWxlIHRoYXQgaXNcbiAgICogYmVpbmcgcmVnZW5lcmF0ZWQuXG4gICAqL1xuICBwcmVkaWN0aW9uPzogQ2hhdENvbXBsZXRpb25QcmVkaWN0aW9uQ29udGVudCB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE51bWJlciBiZXR3ZWVuIC0yLjAgYW5kIDIuMC4gUG9zaXRpdmUgdmFsdWVzIHBlbmFsaXplIG5ldyB0b2tlbnMgYmFzZWQgb25cbiAgICogd2hldGhlciB0aGV5IGFwcGVhciBpbiB0aGUgdGV4dCBzbyBmYXIsIGluY3JlYXNpbmcgdGhlIG1vZGVsJ3MgbGlrZWxpaG9vZCB0b1xuICAgKiB0YWxrIGFib3V0IG5ldyB0b3BpY3MuXG4gICAqL1xuICBwcmVzZW5jZV9wZW5hbHR5PzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogKipvLXNlcmllcyBtb2RlbHMgb25seSoqXG4gICAqXG4gICAqIENvbnN0cmFpbnMgZWZmb3J0IG9uIHJlYXNvbmluZyBmb3JcbiAgICogW3JlYXNvbmluZyBtb2RlbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9yZWFzb25pbmcpLiBDdXJyZW50bHlcbiAgICogc3VwcG9ydGVkIHZhbHVlcyBhcmUgYGxvd2AsIGBtZWRpdW1gLCBhbmQgYGhpZ2hgLiBSZWR1Y2luZyByZWFzb25pbmcgZWZmb3J0IGNhblxuICAgKiByZXN1bHQgaW4gZmFzdGVyIHJlc3BvbnNlcyBhbmQgZmV3ZXIgdG9rZW5zIHVzZWQgb24gcmVhc29uaW5nIGluIGEgcmVzcG9uc2UuXG4gICAqL1xuICByZWFzb25pbmdfZWZmb3J0PzogU2hhcmVkLlJlYXNvbmluZ0VmZm9ydCB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIG9iamVjdCBzcGVjaWZ5aW5nIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9zY2hlbWFcIiwgXCJqc29uX3NjaGVtYVwiOiB7Li4ufSB9YCBlbmFibGVzIFN0cnVjdHVyZWRcbiAgICogT3V0cHV0cyB3aGljaCBlbnN1cmVzIHRoZSBtb2RlbCB3aWxsIG1hdGNoIHlvdXIgc3VwcGxpZWQgSlNPTiBzY2hlbWEuIExlYXJuIG1vcmVcbiAgICogaW4gdGhlXG4gICAqIFtTdHJ1Y3R1cmVkIE91dHB1dHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyB0aGUgb2xkZXIgSlNPTiBtb2RlLCB3aGljaFxuICAgKiBlbnN1cmVzIHRoZSBtZXNzYWdlIHRoZSBtb2RlbCBnZW5lcmF0ZXMgaXMgdmFsaWQgSlNPTi4gVXNpbmcgYGpzb25fc2NoZW1hYCBpc1xuICAgKiBwcmVmZXJyZWQgZm9yIG1vZGVscyB0aGF0IHN1cHBvcnQgaXQuXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OlxuICAgIHwgU2hhcmVkLlJlc3BvbnNlRm9ybWF0VGV4dFxuICAgIHwgU2hhcmVkLlJlc3BvbnNlRm9ybWF0SlNPTlNjaGVtYVxuICAgIHwgU2hhcmVkLlJlc3BvbnNlRm9ybWF0SlNPTk9iamVjdDtcblxuICAvKipcbiAgICogVGhpcyBmZWF0dXJlIGlzIGluIEJldGEuIElmIHNwZWNpZmllZCwgb3VyIHN5c3RlbSB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0b1xuICAgKiBzYW1wbGUgZGV0ZXJtaW5pc3RpY2FsbHksIHN1Y2ggdGhhdCByZXBlYXRlZCByZXF1ZXN0cyB3aXRoIHRoZSBzYW1lIGBzZWVkYCBhbmRcbiAgICogcGFyYW1ldGVycyBzaG91bGQgcmV0dXJuIHRoZSBzYW1lIHJlc3VsdC4gRGV0ZXJtaW5pc20gaXMgbm90IGd1YXJhbnRlZWQsIGFuZCB5b3VcbiAgICogc2hvdWxkIHJlZmVyIHRvIHRoZSBgc3lzdGVtX2ZpbmdlcnByaW50YCByZXNwb25zZSBwYXJhbWV0ZXIgdG8gbW9uaXRvciBjaGFuZ2VzXG4gICAqIGluIHRoZSBiYWNrZW5kLlxuICAgKi9cbiAgc2VlZD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgbGF0ZW5jeSB0aWVyIHRvIHVzZSBmb3IgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC4gVGhpcyBwYXJhbWV0ZXIgaXNcbiAgICogcmVsZXZhbnQgZm9yIGN1c3RvbWVycyBzdWJzY3JpYmVkIHRvIHRoZSBzY2FsZSB0aWVyIHNlcnZpY2U6XG4gICAqXG4gICAqIC0gSWYgc2V0IHRvICdhdXRvJywgYW5kIHRoZSBQcm9qZWN0IGlzIFNjYWxlIHRpZXIgZW5hYmxlZCwgdGhlIHN5c3RlbSB3aWxsXG4gICAqICAgdXRpbGl6ZSBzY2FsZSB0aWVyIGNyZWRpdHMgdW50aWwgdGhleSBhcmUgZXhoYXVzdGVkLlxuICAgKiAtIElmIHNldCB0byAnYXV0bycsIGFuZCB0aGUgUHJvamVjdCBpcyBub3QgU2NhbGUgdGllciBlbmFibGVkLCB0aGUgcmVxdWVzdCB3aWxsXG4gICAqICAgYmUgcHJvY2Vzc2VkIHVzaW5nIHRoZSBkZWZhdWx0IHNlcnZpY2UgdGllciB3aXRoIGEgbG93ZXIgdXB0aW1lIFNMQSBhbmQgbm9cbiAgICogICBsYXRlbmN5IGd1YXJlbnRlZS5cbiAgICogLSBJZiBzZXQgdG8gJ2RlZmF1bHQnLCB0aGUgcmVxdWVzdCB3aWxsIGJlIHByb2Nlc3NlZCB1c2luZyB0aGUgZGVmYXVsdCBzZXJ2aWNlXG4gICAqICAgdGllciB3aXRoIGEgbG93ZXIgdXB0aW1lIFNMQSBhbmQgbm8gbGF0ZW5jeSBndWFyZW50ZWUuXG4gICAqIC0gV2hlbiBub3Qgc2V0LCB0aGUgZGVmYXVsdCBiZWhhdmlvciBpcyAnYXV0bycuXG4gICAqXG4gICAqIFdoZW4gdGhpcyBwYXJhbWV0ZXIgaXMgc2V0LCB0aGUgcmVzcG9uc2UgYm9keSB3aWxsIGluY2x1ZGUgdGhlIGBzZXJ2aWNlX3RpZXJgXG4gICAqIHV0aWxpemVkLlxuICAgKi9cbiAgc2VydmljZV90aWVyPzogJ2F1dG8nIHwgJ2RlZmF1bHQnIHwgbnVsbDtcblxuICAvKipcbiAgICogVXAgdG8gNCBzZXF1ZW5jZXMgd2hlcmUgdGhlIEFQSSB3aWxsIHN0b3AgZ2VuZXJhdGluZyBmdXJ0aGVyIHRva2Vucy4gVGhlXG4gICAqIHJldHVybmVkIHRleHQgd2lsbCBub3QgY29udGFpbiB0aGUgc3RvcCBzZXF1ZW5jZS5cbiAgICovXG4gIHN0b3A/OiBzdHJpbmcgfCBudWxsIHwgQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdG8gc3RvcmUgdGhlIG91dHB1dCBvZiB0aGlzIGNoYXQgY29tcGxldGlvbiByZXF1ZXN0IGZvciB1c2UgaW5cbiAgICogb3VyIFttb2RlbCBkaXN0aWxsYXRpb25dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9kaXN0aWxsYXRpb24pXG4gICAqIG9yIFtldmFsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2V2YWxzKSBwcm9kdWN0cy5cbiAgICovXG4gIHN0b3JlPzogYm9vbGVhbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGUgbW9kZWwgcmVzcG9uc2UgZGF0YSB3aWxsIGJlIHN0cmVhbWVkIHRvIHRoZSBjbGllbnQgYXMgaXQgaXNcbiAgICogZ2VuZXJhdGVkIHVzaW5nXG4gICAqIFtzZXJ2ZXItc2VudCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2ZXItc2VudF9ldmVudHMvVXNpbmdfc2VydmVyLXNlbnRfZXZlbnRzI0V2ZW50X3N0cmVhbV9mb3JtYXQpLlxuICAgKiBTZWUgdGhlXG4gICAqIFtTdHJlYW1pbmcgc2VjdGlvbiBiZWxvd10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jaGF0L3N0cmVhbWluZylcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24sIGFsb25nIHdpdGggdGhlXG4gICAqIFtzdHJlYW1pbmcgcmVzcG9uc2VzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RyZWFtaW5nLXJlc3BvbnNlcylcbiAgICogZ3VpZGUgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIGhhbmRsZSB0aGUgc3RyZWFtaW5nIGV2ZW50cy5cbiAgICovXG4gIHN0cmVhbT86IGJvb2xlYW4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBPcHRpb25zIGZvciBzdHJlYW1pbmcgcmVzcG9uc2UuIE9ubHkgc2V0IHRoaXMgd2hlbiB5b3Ugc2V0IGBzdHJlYW06IHRydWVgLlxuICAgKi9cbiAgc3RyZWFtX29wdGlvbnM/OiBDaGF0Q29tcGxldGlvblN0cmVhbU9wdGlvbnMgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGxcbiAgICogbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmVcbiAgICogZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy4gV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIGB0b3BfcGAgYnV0XG4gICAqIG5vdCBib3RoLlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGljaCAoaWYgYW55KSB0b29sIGlzIGNhbGxlZCBieSB0aGUgbW9kZWwuIGBub25lYCBtZWFucyB0aGUgbW9kZWwgd2lsbFxuICAgKiBub3QgY2FsbCBhbnkgdG9vbCBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLiBgYXV0b2AgbWVhbnMgdGhlIG1vZGVsIGNhblxuICAgKiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3IgY2FsbGluZyBvbmUgb3IgbW9yZSB0b29scy4gYHJlcXVpcmVkYCBtZWFuc1xuICAgKiB0aGUgbW9kZWwgbXVzdCBjYWxsIG9uZSBvciBtb3JlIHRvb2xzLiBTcGVjaWZ5aW5nIGEgcGFydGljdWxhciB0b29sIHZpYVxuICAgKiBge1widHlwZVwiOiBcImZ1bmN0aW9uXCIsIFwiZnVuY3Rpb25cIjoge1wibmFtZVwiOiBcIm15X2Z1bmN0aW9uXCJ9fWAgZm9yY2VzIHRoZSBtb2RlbCB0b1xuICAgKiBjYWxsIHRoYXQgdG9vbC5cbiAgICpcbiAgICogYG5vbmVgIGlzIHRoZSBkZWZhdWx0IHdoZW4gbm8gdG9vbHMgYXJlIHByZXNlbnQuIGBhdXRvYCBpcyB0aGUgZGVmYXVsdCBpZiB0b29sc1xuICAgKiBhcmUgcHJlc2VudC5cbiAgICovXG4gIHRvb2xfY2hvaWNlPzogQ2hhdENvbXBsZXRpb25Ub29sQ2hvaWNlT3B0aW9uO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdG9vbHMgdGhlIG1vZGVsIG1heSBjYWxsLiBDdXJyZW50bHksIG9ubHkgZnVuY3Rpb25zIGFyZSBzdXBwb3J0ZWQgYXMgYVxuICAgKiB0b29sLiBVc2UgdGhpcyB0byBwcm92aWRlIGEgbGlzdCBvZiBmdW5jdGlvbnMgdGhlIG1vZGVsIG1heSBnZW5lcmF0ZSBKU09OIGlucHV0c1xuICAgKiBmb3IuIEEgbWF4IG9mIDEyOCBmdW5jdGlvbnMgYXJlIHN1cHBvcnRlZC5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8Q2hhdENvbXBsZXRpb25Ub29sPjtcblxuICAvKipcbiAgICogQW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDIwIHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiBtb3N0IGxpa2VseSB0b2tlbnMgdG9cbiAgICogcmV0dXJuIGF0IGVhY2ggdG9rZW4gcG9zaXRpb24sIGVhY2ggd2l0aCBhbiBhc3NvY2lhdGVkIGxvZyBwcm9iYWJpbGl0eS5cbiAgICogYGxvZ3Byb2JzYCBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgaWYgdGhpcyBwYXJhbWV0ZXIgaXMgdXNlZC5cbiAgICovXG4gIHRvcF9sb2dwcm9icz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIGFsdGVybmF0aXZlIHRvIHNhbXBsaW5nIHdpdGggdGVtcGVyYXR1cmUsIGNhbGxlZCBudWNsZXVzIHNhbXBsaW5nLCB3aGVyZSB0aGVcbiAgICogbW9kZWwgY29uc2lkZXJzIHRoZSByZXN1bHRzIG9mIHRoZSB0b2tlbnMgd2l0aCB0b3BfcCBwcm9iYWJpbGl0eSBtYXNzLiBTbyAwLjFcbiAgICogbWVhbnMgb25seSB0aGUgdG9rZW5zIGNvbXByaXNpbmcgdGhlIHRvcCAxMCUgcHJvYmFiaWxpdHkgbWFzcyBhcmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIGB0ZW1wZXJhdHVyZWAgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvclxuICAgKiBhbmQgZGV0ZWN0IGFidXNlLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcyNlbmQtdXNlci1pZHMpLlxuICAgKi9cbiAgdXNlcj86IHN0cmluZztcblxuICAvKipcbiAgICogVGhpcyB0b29sIHNlYXJjaGVzIHRoZSB3ZWIgZm9yIHJlbGV2YW50IHJlc3VsdHMgdG8gdXNlIGluIGEgcmVzcG9uc2UuIExlYXJuIG1vcmVcbiAgICogYWJvdXQgdGhlXG4gICAqIFt3ZWIgc2VhcmNoIHRvb2xdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy13ZWItc2VhcmNoP2FwaS1tb2RlPWNoYXQpLlxuICAgKi9cbiAgd2ViX3NlYXJjaF9vcHRpb25zPzogQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMuV2ViU2VhcmNoT3B0aW9ucztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC4gTXVzdCBiZSBhLXosIEEtWiwgMC05LCBvciBjb250YWluXG4gICAgICogdW5kZXJzY29yZXMgYW5kIGRhc2hlcywgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0LlxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGUgZnVuY3Rpb24gZG9lcywgdXNlZCBieSB0aGUgbW9kZWwgdG8gY2hvb3NlIHdoZW4gYW5kXG4gICAgICogaG93IHRvIGNhbGwgdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBhcmFtZXRlcnMgdGhlIGZ1bmN0aW9ucyBhY2NlcHRzLCBkZXNjcmliZWQgYXMgYSBKU09OIFNjaGVtYSBvYmplY3QuIFNlZSB0aGVcbiAgICAgKiBbZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9mdW5jdGlvbi1jYWxsaW5nKSBmb3IgZXhhbXBsZXMsXG4gICAgICogYW5kIHRoZVxuICAgICAqIFtKU09OIFNjaGVtYSByZWZlcmVuY2VdKGh0dHBzOi8vanNvbi1zY2hlbWEub3JnL3VuZGVyc3RhbmRpbmctanNvbi1zY2hlbWEvKSBmb3JcbiAgICAgKiBkb2N1bWVudGF0aW9uIGFib3V0IHRoZSBmb3JtYXQuXG4gICAgICpcbiAgICAgKiBPbWl0dGluZyBgcGFyYW1ldGVyc2AgZGVmaW5lcyBhIGZ1bmN0aW9uIHdpdGggYW4gZW1wdHkgcGFyYW1ldGVyIGxpc3QuXG4gICAgICovXG4gICAgcGFyYW1ldGVycz86IFNoYXJlZC5GdW5jdGlvblBhcmFtZXRlcnM7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyB0b29sIHNlYXJjaGVzIHRoZSB3ZWIgZm9yIHJlbGV2YW50IHJlc3VsdHMgdG8gdXNlIGluIGEgcmVzcG9uc2UuIExlYXJuIG1vcmVcbiAgICogYWJvdXQgdGhlXG4gICAqIFt3ZWIgc2VhcmNoIHRvb2xdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy13ZWItc2VhcmNoP2FwaS1tb2RlPWNoYXQpLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBXZWJTZWFyY2hPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBIaWdoIGxldmVsIGd1aWRhbmNlIGZvciB0aGUgYW1vdW50IG9mIGNvbnRleHQgd2luZG93IHNwYWNlIHRvIHVzZSBmb3IgdGhlXG4gICAgICogc2VhcmNoLiBPbmUgb2YgYGxvd2AsIGBtZWRpdW1gLCBvciBgaGlnaGAuIGBtZWRpdW1gIGlzIHRoZSBkZWZhdWx0LlxuICAgICAqL1xuICAgIHNlYXJjaF9jb250ZXh0X3NpemU/OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xuXG4gICAgLyoqXG4gICAgICogQXBwcm94aW1hdGUgbG9jYXRpb24gcGFyYW1ldGVycyBmb3IgdGhlIHNlYXJjaC5cbiAgICAgKi9cbiAgICB1c2VyX2xvY2F0aW9uPzogV2ViU2VhcmNoT3B0aW9ucy5Vc2VyTG9jYXRpb24gfCBudWxsO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBXZWJTZWFyY2hPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBBcHByb3hpbWF0ZSBsb2NhdGlvbiBwYXJhbWV0ZXJzIGZvciB0aGUgc2VhcmNoLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXNlckxvY2F0aW9uIHtcbiAgICAgIC8qKlxuICAgICAgICogQXBwcm94aW1hdGUgbG9jYXRpb24gcGFyYW1ldGVycyBmb3IgdGhlIHNlYXJjaC5cbiAgICAgICAqL1xuICAgICAgYXBwcm94aW1hdGU6IFVzZXJMb2NhdGlvbi5BcHByb3hpbWF0ZTtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdHlwZSBvZiBsb2NhdGlvbiBhcHByb3hpbWF0aW9uLiBBbHdheXMgYGFwcHJveGltYXRlYC5cbiAgICAgICAqL1xuICAgICAgdHlwZTogJ2FwcHJveGltYXRlJztcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIFVzZXJMb2NhdGlvbiB7XG4gICAgICAvKipcbiAgICAgICAqIEFwcHJveGltYXRlIGxvY2F0aW9uIHBhcmFtZXRlcnMgZm9yIHRoZSBzZWFyY2guXG4gICAgICAgKi9cbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgQXBwcm94aW1hdGUge1xuICAgICAgICAvKipcbiAgICAgICAgICogRnJlZSB0ZXh0IGlucHV0IGZvciB0aGUgY2l0eSBvZiB0aGUgdXNlciwgZS5nLiBgU2FuIEZyYW5jaXNjb2AuXG4gICAgICAgICAqL1xuICAgICAgICBjaXR5Pzogc3RyaW5nO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHdvLWxldHRlciBbSVNPIGNvdW50cnkgY29kZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzMxNjYtMSkgb2ZcbiAgICAgICAgICogdGhlIHVzZXIsIGUuZy4gYFVTYC5cbiAgICAgICAgICovXG4gICAgICAgIGNvdW50cnk/OiBzdHJpbmc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyZWUgdGV4dCBpbnB1dCBmb3IgdGhlIHJlZ2lvbiBvZiB0aGUgdXNlciwgZS5nLiBgQ2FsaWZvcm5pYWAuXG4gICAgICAgICAqL1xuICAgICAgICByZWdpb24/OiBzdHJpbmc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBbSUFOQSB0aW1lem9uZV0oaHR0cHM6Ly90aW1lYXBpLmlvL2RvY3VtZW50YXRpb24vaWFuYS10aW1lem9uZXMpIG9mIHRoZVxuICAgICAgICAgKiB1c2VyLCBlLmcuIGBBbWVyaWNhL0xvc19BbmdlbGVzYC5cbiAgICAgICAgICovXG4gICAgICAgIHRpbWV6b25lPzogc3RyaW5nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nID1cbiAgICBDb21wbGV0aW9uc0NvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyA9XG4gICAgQ29tcGxldGlvbnNDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZztcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMgaW5zdGVhZFxuICovXG5leHBvcnQgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zID0gQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXM7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgZXh0ZW5kcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBtb2RlbCByZXNwb25zZSBkYXRhIHdpbGwgYmUgc3RyZWFtZWQgdG8gdGhlIGNsaWVudCBhcyBpdCBpc1xuICAgKiBnZW5lcmF0ZWQgdXNpbmdcbiAgICogW3NlcnZlci1zZW50IGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHMjRXZlbnRfc3RyZWFtX2Zvcm1hdCkuXG4gICAqIFNlZSB0aGVcbiAgICogW1N0cmVhbWluZyBzZWN0aW9uIGJlbG93XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2NoYXQvc3RyZWFtaW5nKVxuICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiwgYWxvbmcgd2l0aCB0aGVcbiAgICogW3N0cmVhbWluZyByZXNwb25zZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJlYW1pbmctcmVzcG9uc2VzKVxuICAgKiBndWlkZSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBob3cgdG8gaGFuZGxlIHRoZSBzdHJlYW1pbmcgZXZlbnRzLlxuICAgKi9cbiAgc3RyZWFtPzogZmFsc2UgfCBudWxsO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyBpbnN0ZWFkXG4gKi9cbmV4cG9ydCB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgPSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZztcblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyBleHRlbmRzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIG1vZGVsIHJlc3BvbnNlIGRhdGEgd2lsbCBiZSBzdHJlYW1lZCB0byB0aGUgY2xpZW50IGFzIGl0IGlzXG4gICAqIGdlbmVyYXRlZCB1c2luZ1xuICAgKiBbc2VydmVyLXNlbnQgZXZlbnRzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmVyLXNlbnRfZXZlbnRzL1VzaW5nX3NlcnZlci1zZW50X2V2ZW50cyNFdmVudF9zdHJlYW1fZm9ybWF0KS5cbiAgICogU2VlIHRoZVxuICAgKiBbU3RyZWFtaW5nIHNlY3Rpb24gYmVsb3ddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvY2hhdC9zdHJlYW1pbmcpXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLCBhbG9uZyB3aXRoIHRoZVxuICAgKiBbc3RyZWFtaW5nIHJlc3BvbnNlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cmVhbWluZy1yZXNwb25zZXMpXG4gICAqIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGhvdyB0byBoYW5kbGUgdGhlIHN0cmVhbWluZyBldmVudHMuXG4gICAqL1xuICBzdHJlYW06IHRydWU7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGluc3RlYWRcbiAqL1xuZXhwb3J0IHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyA9IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uVXBkYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YTogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgQ2hhdENvbXBsZXRpb25VcGRhdGVQYXJhbXMgaW5zdGVhZFxuICovXG5leHBvcnQgdHlwZSBDb21wbGV0aW9uVXBkYXRlUGFyYW1zID0gQ2hhdENvbXBsZXRpb25VcGRhdGVQYXJhbXM7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25MaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgbWV0YWRhdGEga2V5cyB0byBmaWx0ZXIgdGhlIENoYXQgQ29tcGxldGlvbnMgYnkuIEV4YW1wbGU6XG4gICAqXG4gICAqIGBtZXRhZGF0YVtrZXkxXT12YWx1ZTEmbWV0YWRhdGFba2V5Ml09dmFsdWUyYFxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbW9kZWwgdXNlZCB0byBnZW5lcmF0ZSB0aGUgQ2hhdCBDb21wbGV0aW9ucy5cbiAgICovXG4gIG1vZGVsPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTb3J0IG9yZGVyIGZvciBDaGF0IENvbXBsZXRpb25zIGJ5IHRpbWVzdGFtcC4gVXNlIGBhc2NgIGZvciBhc2NlbmRpbmcgb3JkZXIgb3JcbiAgICogYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLiBEZWZhdWx0cyB0byBgYXNjYC5cbiAgICovXG4gIG9yZGVyPzogJ2FzYycgfCAnZGVzYyc7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENoYXRDb21wbGV0aW9uTGlzdFBhcmFtcyBpbnN0ZWFkXG4gKi9cbmV4cG9ydCB0eXBlIENvbXBsZXRpb25MaXN0UGFyYW1zID0gQ2hhdENvbXBsZXRpb25MaXN0UGFyYW1zO1xuXG5Db21wbGV0aW9ucy5DaGF0Q29tcGxldGlvbnNQYWdlID0gQ2hhdENvbXBsZXRpb25zUGFnZTtcbkNvbXBsZXRpb25zLk1lc3NhZ2VzID0gTWVzc2FnZXM7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBDb21wbGV0aW9ucyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbiBhcyBDaGF0Q29tcGxldGlvbixcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25BdWRpbyBhcyBDaGF0Q29tcGxldGlvbkF1ZGlvLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25BdWRpb1BhcmFtIGFzIENoYXRDb21wbGV0aW9uQXVkaW9QYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ2h1bmsgYXMgQ2hhdENvbXBsZXRpb25DaHVuayxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnQgYXMgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZSBhcyBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW5wdXRBdWRpbyBhcyBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW5wdXRBdWRpbyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRSZWZ1c2FsIGFzIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRSZWZ1c2FsLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQgYXMgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkRlbGV0ZWQgYXMgQ2hhdENvbXBsZXRpb25EZWxldGVkLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25EZXZlbG9wZXJNZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25EZXZlbG9wZXJNZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbiBhcyBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbixcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25GdW5jdGlvbk1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTWVzc2FnZSBhcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsIGFzIENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Nb2RhbGl0eSBhcyBDaGF0Q29tcGxldGlvbk1vZGFsaXR5LFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UgYXMgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblByZWRpY3Rpb25Db250ZW50IGFzIENoYXRDb21wbGV0aW9uUHJlZGljdGlvbkNvbnRlbnQsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblJvbGUgYXMgQ2hhdENvbXBsZXRpb25Sb2xlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2UgYXMgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblN0cmVhbU9wdGlvbnMgYXMgQ2hhdENvbXBsZXRpb25TdHJlYW1PcHRpb25zLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25TeXN0ZW1NZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25TeXN0ZW1NZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYiBhcyBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYixcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVG9vbCBhcyBDaGF0Q29tcGxldGlvblRvb2wsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb24gYXMgQ2hhdENvbXBsZXRpb25Ub29sQ2hvaWNlT3B0aW9uLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3RNZXNzYWdlIGFzIENyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdE1lc3NhZ2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblJlYXNvbmluZ0VmZm9ydCBhcyBDaGF0Q29tcGxldGlvblJlYXNvbmluZ0VmZm9ydCxcbiAgICBDaGF0Q29tcGxldGlvbnNQYWdlIGFzIENoYXRDb21wbGV0aW9uc1BhZ2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyBhcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXMgYXMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIGFzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyBhcyBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgYXMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGFzIENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblVwZGF0ZVBhcmFtcyBhcyBDaGF0Q29tcGxldGlvblVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIENvbXBsZXRpb25VcGRhdGVQYXJhbXMgYXMgQ29tcGxldGlvblVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTGlzdFBhcmFtcyBhcyBDaGF0Q29tcGxldGlvbkxpc3RQYXJhbXMsXG4gICAgdHlwZSBDb21wbGV0aW9uTGlzdFBhcmFtcyBhcyBDb21wbGV0aW9uTGlzdFBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQgeyBNZXNzYWdlcyBhcyBNZXNzYWdlcywgdHlwZSBNZXNzYWdlTGlzdFBhcmFtcyBhcyBNZXNzYWdlTGlzdFBhcmFtcyB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gJy4uL3NoYXJlZCc7XG5pbXBvcnQgKiBhcyBDb21wbGV0aW9uc0FQSSBmcm9tICcuL2NvbXBsZXRpb25zL2NvbXBsZXRpb25zJztcbmltcG9ydCB7XG4gIENoYXRDb21wbGV0aW9uLFxuICBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25BdWRpbyxcbiAgQ2hhdENvbXBsZXRpb25BdWRpb1BhcmFtLFxuICBDaGF0Q29tcGxldGlvbkNodW5rLFxuICBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0LFxuICBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2UsXG4gIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbnB1dEF1ZGlvLFxuICBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0UmVmdXNhbCxcbiAgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQsXG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gIENoYXRDb21wbGV0aW9uRGVsZXRlZCxcbiAgQ2hhdENvbXBsZXRpb25EZXZlbG9wZXJNZXNzYWdlUGFyYW0sXG4gIENoYXRDb21wbGV0aW9uRnVuY3Rpb25DYWxsT3B0aW9uLFxuICBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtLFxuICBDaGF0Q29tcGxldGlvbkxpc3RQYXJhbXMsXG4gIENoYXRDb21wbGV0aW9uTWVzc2FnZSxcbiAgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sXG4gIENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsLFxuICBDaGF0Q29tcGxldGlvbk1vZGFsaXR5LFxuICBDaGF0Q29tcGxldGlvbk5hbWVkVG9vbENob2ljZSxcbiAgQ2hhdENvbXBsZXRpb25QcmVkaWN0aW9uQ29udGVudCxcbiAgQ2hhdENvbXBsZXRpb25SZWFzb25pbmdFZmZvcnQsXG4gIENoYXRDb21wbGV0aW9uUm9sZSxcbiAgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2UsXG4gIENoYXRDb21wbGV0aW9uU3RyZWFtT3B0aW9ucyxcbiAgQ2hhdENvbXBsZXRpb25TeXN0ZW1NZXNzYWdlUGFyYW0sXG4gIENoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iLFxuICBDaGF0Q29tcGxldGlvblRvb2wsXG4gIENoYXRDb21wbGV0aW9uVG9vbENob2ljZU9wdGlvbixcbiAgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtLFxuICBDaGF0Q29tcGxldGlvblVwZGF0ZVBhcmFtcyxcbiAgQ2hhdENvbXBsZXRpb25Vc2VyTWVzc2FnZVBhcmFtLFxuICBDaGF0Q29tcGxldGlvbnNQYWdlLFxuICBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICBDb21wbGV0aW9uTGlzdFBhcmFtcyxcbiAgQ29tcGxldGlvblVwZGF0ZVBhcmFtcyxcbiAgQ29tcGxldGlvbnMsXG4gIENyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdE1lc3NhZ2UsXG59IGZyb20gJy4vY29tcGxldGlvbnMvY29tcGxldGlvbnMnO1xuXG5leHBvcnQgY2xhc3MgQ2hhdCBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgY29tcGxldGlvbnM6IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25zID0gbmV3IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25zKHRoaXMuX2NsaWVudCk7XG59XG5cbmV4cG9ydCB0eXBlIENoYXRNb2RlbCA9IFNoYXJlZC5DaGF0TW9kZWw7XG5cbkNoYXQuQ29tcGxldGlvbnMgPSBDb21wbGV0aW9ucztcbkNoYXQuQ2hhdENvbXBsZXRpb25zUGFnZSA9IENoYXRDb21wbGV0aW9uc1BhZ2U7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBDaGF0IHtcbiAgZXhwb3J0IHsgdHlwZSBDaGF0TW9kZWwgYXMgQ2hhdE1vZGVsIH07XG5cbiAgZXhwb3J0IHtcbiAgICBDb21wbGV0aW9ucyBhcyBDb21wbGV0aW9ucyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uIGFzIENoYXRDb21wbGV0aW9uLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkF1ZGlvIGFzIENoYXRDb21wbGV0aW9uQXVkaW8sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkF1ZGlvUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25BdWRpb1BhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25DaHVuayBhcyBDaGF0Q29tcGxldGlvbkNodW5rLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydCBhcyBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0LFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydEltYWdlIGFzIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbnB1dEF1ZGlvIGFzIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbnB1dEF1ZGlvLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFJlZnVzYWwgYXMgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFJlZnVzYWwsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dCBhcyBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uRGVsZXRlZCBhcyBDaGF0Q29tcGxldGlvbkRlbGV0ZWQsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkRldmVsb3Blck1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvbkRldmVsb3Blck1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uRnVuY3Rpb25DYWxsT3B0aW9uIGFzIENoYXRDb21wbGV0aW9uRnVuY3Rpb25DYWxsT3B0aW9uLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25GdW5jdGlvbk1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlIGFzIENoYXRDb21wbGV0aW9uTWVzc2FnZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwgYXMgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbk1vZGFsaXR5IGFzIENoYXRDb21wbGV0aW9uTW9kYWxpdHksXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbk5hbWVkVG9vbENob2ljZSBhcyBDaGF0Q29tcGxldGlvbk5hbWVkVG9vbENob2ljZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uUHJlZGljdGlvbkNvbnRlbnQgYXMgQ2hhdENvbXBsZXRpb25QcmVkaWN0aW9uQ29udGVudCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uUm9sZSBhcyBDaGF0Q29tcGxldGlvblJvbGUsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZSBhcyBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtT3B0aW9ucyBhcyBDaGF0Q29tcGxldGlvblN0cmVhbU9wdGlvbnMsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iIGFzIENoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sIGFzIENoYXRDb21wbGV0aW9uVG9vbCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVG9vbENob2ljZU9wdGlvbiBhcyBDaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb24sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblRvb2xNZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Vc2VyTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdE1lc3NhZ2UgYXMgQ3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0TWVzc2FnZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uUmVhc29uaW5nRWZmb3J0IGFzIENoYXRDb21wbGV0aW9uUmVhc29uaW5nRWZmb3J0LFxuICAgIENoYXRDb21wbGV0aW9uc1BhZ2UgYXMgQ2hhdENvbXBsZXRpb25zUGFnZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIGFzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyBhcyBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgYXMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIGFzIENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyBhcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgICB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgYXMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVXBkYXRlUGFyYW1zIGFzIENoYXRDb21wbGV0aW9uVXBkYXRlUGFyYW1zLFxuICAgIHR5cGUgQ29tcGxldGlvblVwZGF0ZVBhcmFtcyBhcyBDb21wbGV0aW9uVXBkYXRlUGFyYW1zLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25MaXN0UGFyYW1zIGFzIENoYXRDb21wbGV0aW9uTGlzdFBhcmFtcyxcbiAgICB0eXBlIENvbXBsZXRpb25MaXN0UGFyYW1zIGFzIENvbXBsZXRpb25MaXN0UGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IHR5cGUgUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9fc2hpbXMvaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgU3BlZWNoIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogR2VuZXJhdGVzIGF1ZGlvIGZyb20gdGhlIGlucHV0IHRleHQuXG4gICAqL1xuICBjcmVhdGUoYm9keTogU3BlZWNoQ3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2F1ZGlvL3NwZWVjaCcsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICBfX2JpbmFyeVJlc3BvbnNlOiB0cnVlLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFNwZWVjaE1vZGVsID0gJ3R0cy0xJyB8ICd0dHMtMS1oZCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3BlZWNoQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRvIGdlbmVyYXRlIGF1ZGlvIGZvci4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDQwOTYgY2hhcmFjdGVycy5cbiAgICovXG4gIGlucHV0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE9uZSBvZiB0aGUgYXZhaWxhYmxlIFtUVFMgbW9kZWxzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjdHRzKTpcbiAgICogYHR0cy0xYCBvciBgdHRzLTEtaGRgXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8IFNwZWVjaE1vZGVsO1xuXG4gIC8qKlxuICAgKiBUaGUgdm9pY2UgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZyB0aGUgYXVkaW8uIFN1cHBvcnRlZCB2b2ljZXMgYXJlIGBhbGxveWAsIGBhc2hgLFxuICAgKiBgY29yYWxgLCBgZWNob2AsIGBmYWJsZWAsIGBvbnl4YCwgYG5vdmFgLCBgc2FnZWAgYW5kIGBzaGltbWVyYC4gUHJldmlld3Mgb2YgdGhlXG4gICAqIHZvaWNlcyBhcmUgYXZhaWxhYmxlIGluIHRoZVxuICAgKiBbVGV4dCB0byBzcGVlY2ggZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0LXRvLXNwZWVjaCN2b2ljZS1vcHRpb25zKS5cbiAgICovXG4gIHZvaWNlOiAnYWxsb3knIHwgJ2FzaCcgfCAnY29yYWwnIHwgJ2VjaG8nIHwgJ2ZhYmxlJyB8ICdvbnl4JyB8ICdub3ZhJyB8ICdzYWdlJyB8ICdzaGltbWVyJztcblxuICAvKipcbiAgICogVGhlIGZvcm1hdCB0byBhdWRpbyBpbi4gU3VwcG9ydGVkIGZvcm1hdHMgYXJlIGBtcDNgLCBgb3B1c2AsIGBhYWNgLCBgZmxhY2AsXG4gICAqIGB3YXZgLCBhbmQgYHBjbWAuXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiAnbXAzJyB8ICdvcHVzJyB8ICdhYWMnIHwgJ2ZsYWMnIHwgJ3dhdicgfCAncGNtJztcblxuICAvKipcbiAgICogVGhlIHNwZWVkIG9mIHRoZSBnZW5lcmF0ZWQgYXVkaW8uIFNlbGVjdCBhIHZhbHVlIGZyb20gYDAuMjVgIHRvIGA0LjBgLiBgMS4wYCBpc1xuICAgKiB0aGUgZGVmYXVsdC5cbiAgICovXG4gIHNwZWVkPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgU3BlZWNoIHtcbiAgZXhwb3J0IHsgdHlwZSBTcGVlY2hNb2RlbCBhcyBTcGVlY2hNb2RlbCwgdHlwZSBTcGVlY2hDcmVhdGVQYXJhbXMgYXMgU3BlZWNoQ3JlYXRlUGFyYW1zIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQXVkaW9BUEkgZnJvbSAnLi9hdWRpbyc7XG5cbmV4cG9ydCBjbGFzcyBUcmFuc2NyaXB0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFRyYW5zY3JpYmVzIGF1ZGlvIGludG8gdGhlIGlucHV0IGxhbmd1YWdlLlxuICAgKi9cbiAgY3JlYXRlKFxuICAgIGJvZHk6IFRyYW5zY3JpcHRpb25DcmVhdGVQYXJhbXM8J2pzb24nIHwgdW5kZWZpbmVkPixcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFRyYW5zY3JpcHRpb24+O1xuICBjcmVhdGUoXG4gICAgYm9keTogVHJhbnNjcmlwdGlvbkNyZWF0ZVBhcmFtczwndmVyYm9zZV9qc29uJz4sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxUcmFuc2NyaXB0aW9uVmVyYm9zZT47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBUcmFuc2NyaXB0aW9uQ3JlYXRlUGFyYW1zPCdzcnQnIHwgJ3Z0dCcgfCAndGV4dCc+LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8c3RyaW5nPjtcbiAgY3JlYXRlKGJvZHk6IFRyYW5zY3JpcHRpb25DcmVhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFRyYW5zY3JpcHRpb24+O1xuICBjcmVhdGUoXG4gICAgYm9keTogVHJhbnNjcmlwdGlvbkNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFRyYW5zY3JpcHRpb25DcmVhdGVSZXNwb25zZSB8IHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICcvYXVkaW8vdHJhbnNjcmlwdGlvbnMnLFxuICAgICAgQ29yZS5tdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zLCBfX21ldGFkYXRhOiB7IG1vZGVsOiBib2R5Lm1vZGVsIH0gfSksXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSB0cmFuc2NyaXB0aW9uIHJlc3BvbnNlIHJldHVybmVkIGJ5IG1vZGVsLCBiYXNlZCBvbiB0aGUgcHJvdmlkZWRcbiAqIGlucHV0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zY3JpcHRpb24ge1xuICAvKipcbiAgICogVGhlIHRyYW5zY3JpYmVkIHRleHQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvblNlZ21lbnQge1xuICAvKipcbiAgICogVW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHNlZ21lbnQuXG4gICAqL1xuICBpZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBdmVyYWdlIGxvZ3Byb2Igb2YgdGhlIHNlZ21lbnQuIElmIHRoZSB2YWx1ZSBpcyBsb3dlciB0aGFuIC0xLCBjb25zaWRlciB0aGVcbiAgICogbG9ncHJvYnMgZmFpbGVkLlxuICAgKi9cbiAgYXZnX2xvZ3Byb2I6IG51bWJlcjtcblxuICAvKipcbiAgICogQ29tcHJlc3Npb24gcmF0aW8gb2YgdGhlIHNlZ21lbnQuIElmIHRoZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gMi40LCBjb25zaWRlciB0aGVcbiAgICogY29tcHJlc3Npb24gZmFpbGVkLlxuICAgKi9cbiAgY29tcHJlc3Npb25fcmF0aW86IG51bWJlcjtcblxuICAvKipcbiAgICogRW5kIHRpbWUgb2YgdGhlIHNlZ21lbnQgaW4gc2Vjb25kcy5cbiAgICovXG4gIGVuZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBQcm9iYWJpbGl0eSBvZiBubyBzcGVlY2ggaW4gdGhlIHNlZ21lbnQuIElmIHRoZSB2YWx1ZSBpcyBoaWdoZXIgdGhhbiAxLjAgYW5kIHRoZVxuICAgKiBgYXZnX2xvZ3Byb2JgIGlzIGJlbG93IC0xLCBjb25zaWRlciB0aGlzIHNlZ21lbnQgc2lsZW50LlxuICAgKi9cbiAgbm9fc3BlZWNoX3Byb2I6IG51bWJlcjtcblxuICAvKipcbiAgICogU2VlayBvZmZzZXQgb2YgdGhlIHNlZ21lbnQuXG4gICAqL1xuICBzZWVrOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRpbWUgb2YgdGhlIHNlZ21lbnQgaW4gc2Vjb25kcy5cbiAgICovXG4gIHN0YXJ0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRlbXBlcmF0dXJlIHBhcmFtZXRlciB1c2VkIGZvciBnZW5lcmF0aW5nIHRoZSBzZWdtZW50LlxuICAgKi9cbiAgdGVtcGVyYXR1cmU6IG51bWJlcjtcblxuICAvKipcbiAgICogVGV4dCBjb250ZW50IG9mIHRoZSBzZWdtZW50LlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBcnJheSBvZiB0b2tlbiBJRHMgZm9yIHRoZSB0ZXh0IGNvbnRlbnQuXG4gICAqL1xuICB0b2tlbnM6IEFycmF5PG51bWJlcj47XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHZlcmJvc2UganNvbiB0cmFuc2NyaXB0aW9uIHJlc3BvbnNlIHJldHVybmVkIGJ5IG1vZGVsLCBiYXNlZCBvbiB0aGVcbiAqIHByb3ZpZGVkIGlucHV0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zY3JpcHRpb25WZXJib3NlIHtcbiAgLyoqXG4gICAqIFRoZSBkdXJhdGlvbiBvZiB0aGUgaW5wdXQgYXVkaW8uXG4gICAqL1xuICBkdXJhdGlvbjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbGFuZ3VhZ2Ugb2YgdGhlIGlucHV0IGF1ZGlvLlxuICAgKi9cbiAgbGFuZ3VhZ2U6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHRyYW5zY3JpYmVkIHRleHQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNlZ21lbnRzIG9mIHRoZSB0cmFuc2NyaWJlZCB0ZXh0IGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIGRldGFpbHMuXG4gICAqL1xuICBzZWdtZW50cz86IEFycmF5PFRyYW5zY3JpcHRpb25TZWdtZW50PjtcblxuICAvKipcbiAgICogRXh0cmFjdGVkIHdvcmRzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIHRpbWVzdGFtcHMuXG4gICAqL1xuICB3b3Jkcz86IEFycmF5PFRyYW5zY3JpcHRpb25Xb3JkPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0aW9uV29yZCB7XG4gIC8qKlxuICAgKiBFbmQgdGltZSBvZiB0aGUgd29yZCBpbiBzZWNvbmRzLlxuICAgKi9cbiAgZW5kOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRpbWUgb2YgdGhlIHdvcmQgaW4gc2Vjb25kcy5cbiAgICovXG4gIHN0YXJ0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIHdvcmQuXG4gICAqL1xuICB3b3JkOiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHRyYW5zY3JpcHRpb24gcmVzcG9uc2UgcmV0dXJuZWQgYnkgbW9kZWwsIGJhc2VkIG9uIHRoZSBwcm92aWRlZFxuICogaW5wdXQuXG4gKi9cbmV4cG9ydCB0eXBlIFRyYW5zY3JpcHRpb25DcmVhdGVSZXNwb25zZSA9IFRyYW5zY3JpcHRpb24gfCBUcmFuc2NyaXB0aW9uVmVyYm9zZTtcblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0aW9uQ3JlYXRlUGFyYW1zPFxuICBSZXNwb25zZUZvcm1hdCBleHRlbmRzIEF1ZGlvQVBJLkF1ZGlvUmVzcG9uc2VGb3JtYXQgfCB1bmRlZmluZWQgPSBBdWRpb0FQSS5BdWRpb1Jlc3BvbnNlRm9ybWF0IHwgdW5kZWZpbmVkLFxuPiB7XG4gIC8qKlxuICAgKiBUaGUgYXVkaW8gZmlsZSBvYmplY3QgKG5vdCBmaWxlIG5hbWUpIHRvIHRyYW5zY3JpYmUsIGluIG9uZSBvZiB0aGVzZSBmb3JtYXRzOlxuICAgKiBmbGFjLCBtcDMsIG1wNCwgbXBlZywgbXBnYSwgbTRhLCBvZ2csIHdhdiwgb3Igd2VibS5cbiAgICovXG4gIGZpbGU6IENvcmUuVXBsb2FkYWJsZTtcblxuICAvKipcbiAgICogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gT25seSBgd2hpc3Blci0xYCAod2hpY2ggaXMgcG93ZXJlZCBieSBvdXIgb3BlbiBzb3VyY2VcbiAgICogV2hpc3BlciBWMiBtb2RlbCkgaXMgY3VycmVudGx5IGF2YWlsYWJsZS5cbiAgICovXG4gIG1vZGVsOiAoc3RyaW5nICYge30pIHwgQXVkaW9BUEkuQXVkaW9Nb2RlbDtcblxuICAvKipcbiAgICogVGhlIGxhbmd1YWdlIG9mIHRoZSBpbnB1dCBhdWRpby4gU3VwcGx5aW5nIHRoZSBpbnB1dCBsYW5ndWFnZSBpblxuICAgKiBbSVNPLTYzOS0xXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX0lTT182MzktMV9jb2RlcykgKGUuZy4gYGVuYClcbiAgICogZm9ybWF0IHdpbGwgaW1wcm92ZSBhY2N1cmFjeSBhbmQgbGF0ZW5jeS5cbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCB0ZXh0IHRvIGd1aWRlIHRoZSBtb2RlbCdzIHN0eWxlIG9yIGNvbnRpbnVlIGEgcHJldmlvdXMgYXVkaW9cbiAgICogc2VnbWVudC4gVGhlXG4gICAqIFtwcm9tcHRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zcGVlY2gtdG8tdGV4dCNwcm9tcHRpbmcpXG4gICAqIHNob3VsZCBtYXRjaCB0aGUgYXVkaW8gbGFuZ3VhZ2UuXG4gICAqL1xuICBwcm9tcHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgb2YgdGhlIG91dHB1dCwgaW4gb25lIG9mIHRoZXNlIG9wdGlvbnM6IGBqc29uYCwgYHRleHRgLCBgc3J0YCxcbiAgICogYHZlcmJvc2VfanNvbmAsIG9yIGB2dHRgLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogUmVzcG9uc2VGb3JtYXQ7XG5cbiAgLyoqXG4gICAqIFRoZSBzYW1wbGluZyB0ZW1wZXJhdHVyZSwgYmV0d2VlbiAwIGFuZCAxLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGwgbWFrZSB0aGVcbiAgICogb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmUgZm9jdXNlZCBhbmRcbiAgICogZGV0ZXJtaW5pc3RpYy4gSWYgc2V0IHRvIDAsIHRoZSBtb2RlbCB3aWxsIHVzZVxuICAgKiBbbG9nIHByb2JhYmlsaXR5XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Mb2dfcHJvYmFiaWxpdHkpIHRvXG4gICAqIGF1dG9tYXRpY2FsbHkgaW5jcmVhc2UgdGhlIHRlbXBlcmF0dXJlIHVudGlsIGNlcnRhaW4gdGhyZXNob2xkcyBhcmUgaGl0LlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lc3RhbXAgZ3JhbnVsYXJpdGllcyB0byBwb3B1bGF0ZSBmb3IgdGhpcyB0cmFuc2NyaXB0aW9uLlxuICAgKiBgcmVzcG9uc2VfZm9ybWF0YCBtdXN0IGJlIHNldCBgdmVyYm9zZV9qc29uYCB0byB1c2UgdGltZXN0YW1wIGdyYW51bGFyaXRpZXMuXG4gICAqIEVpdGhlciBvciBib3RoIG9mIHRoZXNlIG9wdGlvbnMgYXJlIHN1cHBvcnRlZDogYHdvcmRgLCBvciBgc2VnbWVudGAuIE5vdGU6IFRoZXJlXG4gICAqIGlzIG5vIGFkZGl0aW9uYWwgbGF0ZW5jeSBmb3Igc2VnbWVudCB0aW1lc3RhbXBzLCBidXQgZ2VuZXJhdGluZyB3b3JkIHRpbWVzdGFtcHNcbiAgICogaW5jdXJzIGFkZGl0aW9uYWwgbGF0ZW5jeS5cbiAgICovXG4gIHRpbWVzdGFtcF9ncmFudWxhcml0aWVzPzogQXJyYXk8J3dvcmQnIHwgJ3NlZ21lbnQnPjtcbn1cblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIFRyYW5zY3JpcHRpb25zIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIFRyYW5zY3JpcHRpb24gYXMgVHJhbnNjcmlwdGlvbixcbiAgICB0eXBlIFRyYW5zY3JpcHRpb25TZWdtZW50IGFzIFRyYW5zY3JpcHRpb25TZWdtZW50LFxuICAgIHR5cGUgVHJhbnNjcmlwdGlvblZlcmJvc2UgYXMgVHJhbnNjcmlwdGlvblZlcmJvc2UsXG4gICAgdHlwZSBUcmFuc2NyaXB0aW9uV29yZCBhcyBUcmFuc2NyaXB0aW9uV29yZCxcbiAgICB0eXBlIFRyYW5zY3JpcHRpb25DcmVhdGVSZXNwb25zZSBhcyBUcmFuc2NyaXB0aW9uQ3JlYXRlUmVzcG9uc2UsXG4gICAgdHlwZSBUcmFuc2NyaXB0aW9uQ3JlYXRlUGFyYW1zIGFzIFRyYW5zY3JpcHRpb25DcmVhdGVQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQXVkaW9BUEkgZnJvbSAnLi9hdWRpbyc7XG5pbXBvcnQgKiBhcyBUcmFuc2NyaXB0aW9uc0FQSSBmcm9tICcuL3RyYW5zY3JpcHRpb25zJztcblxuZXhwb3J0IGNsYXNzIFRyYW5zbGF0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFRyYW5zbGF0ZXMgYXVkaW8gaW50byBFbmdsaXNoLlxuICAgKi9cbiAgY3JlYXRlKFxuICAgIGJvZHk6IFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zPCdqc29uJyB8IHVuZGVmaW5lZD4sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxUcmFuc2xhdGlvbj47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBUcmFuc2xhdGlvbkNyZWF0ZVBhcmFtczwndmVyYm9zZV9qc29uJz4sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxUcmFuc2xhdGlvblZlcmJvc2U+O1xuICBjcmVhdGUoXG4gICAgYm9keTogVHJhbnNsYXRpb25DcmVhdGVQYXJhbXM8J3RleHQnIHwgJ3NydCcgfCAndnR0Jz4sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxzdHJpbmc+O1xuICBjcmVhdGUoYm9keTogVHJhbnNsYXRpb25DcmVhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFRyYW5zbGF0aW9uPjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VHJhbnNsYXRpb25DcmVhdGVSZXNwb25zZSB8IHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICcvYXVkaW8vdHJhbnNsYXRpb25zJyxcbiAgICAgIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucywgX19tZXRhZGF0YTogeyBtb2RlbDogYm9keS5tb2RlbCB9IH0pLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2xhdGlvbiB7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2xhdGlvblZlcmJvc2Uge1xuICAvKipcbiAgICogVGhlIGR1cmF0aW9uIG9mIHRoZSBpbnB1dCBhdWRpby5cbiAgICovXG4gIGR1cmF0aW9uOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBsYW5ndWFnZSBvZiB0aGUgb3V0cHV0IHRyYW5zbGF0aW9uIChhbHdheXMgYGVuZ2xpc2hgKS5cbiAgICovXG4gIGxhbmd1YWdlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0cmFuc2xhdGVkIHRleHQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNlZ21lbnRzIG9mIHRoZSB0cmFuc2xhdGVkIHRleHQgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgZGV0YWlscy5cbiAgICovXG4gIHNlZ21lbnRzPzogQXJyYXk8VHJhbnNjcmlwdGlvbnNBUEkuVHJhbnNjcmlwdGlvblNlZ21lbnQ+O1xufVxuXG5leHBvcnQgdHlwZSBUcmFuc2xhdGlvbkNyZWF0ZVJlc3BvbnNlID0gVHJhbnNsYXRpb24gfCBUcmFuc2xhdGlvblZlcmJvc2U7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNsYXRpb25DcmVhdGVQYXJhbXM8XG4gIFJlc3BvbnNlRm9ybWF0IGV4dGVuZHMgQXVkaW9BUEkuQXVkaW9SZXNwb25zZUZvcm1hdCB8IHVuZGVmaW5lZCA9IEF1ZGlvQVBJLkF1ZGlvUmVzcG9uc2VGb3JtYXQgfCB1bmRlZmluZWQsXG4+IHtcbiAgLyoqXG4gICAqIFRoZSBhdWRpbyBmaWxlIG9iamVjdCAobm90IGZpbGUgbmFtZSkgdHJhbnNsYXRlLCBpbiBvbmUgb2YgdGhlc2UgZm9ybWF0czogZmxhYyxcbiAgICogbXAzLCBtcDQsIG1wZWcsIG1wZ2EsIG00YSwgb2dnLCB3YXYsIG9yIHdlYm0uXG4gICAqL1xuICBmaWxlOiBDb3JlLlVwbG9hZGFibGU7XG5cbiAgLyoqXG4gICAqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIE9ubHkgYHdoaXNwZXItMWAgKHdoaWNoIGlzIHBvd2VyZWQgYnkgb3VyIG9wZW4gc291cmNlXG4gICAqIFdoaXNwZXIgVjIgbW9kZWwpIGlzIGN1cnJlbnRseSBhdmFpbGFibGUuXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8IEF1ZGlvQVBJLkF1ZGlvTW9kZWw7XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIHRleHQgdG8gZ3VpZGUgdGhlIG1vZGVsJ3Mgc3R5bGUgb3IgY29udGludWUgYSBwcmV2aW91cyBhdWRpb1xuICAgKiBzZWdtZW50LiBUaGVcbiAgICogW3Byb21wdF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NwZWVjaC10by10ZXh0I3Byb21wdGluZylcbiAgICogc2hvdWxkIGJlIGluIEVuZ2xpc2guXG4gICAqL1xuICBwcm9tcHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgb2YgdGhlIG91dHB1dCwgaW4gb25lIG9mIHRoZXNlIG9wdGlvbnM6IGBqc29uYCwgYHRleHRgLCBgc3J0YCxcbiAgICogYHZlcmJvc2VfanNvbmAsIG9yIGB2dHRgLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogUmVzcG9uc2VGb3JtYXQ7XG5cbiAgLyoqXG4gICAqIFRoZSBzYW1wbGluZyB0ZW1wZXJhdHVyZSwgYmV0d2VlbiAwIGFuZCAxLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGwgbWFrZSB0aGVcbiAgICogb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmUgZm9jdXNlZCBhbmRcbiAgICogZGV0ZXJtaW5pc3RpYy4gSWYgc2V0IHRvIDAsIHRoZSBtb2RlbCB3aWxsIHVzZVxuICAgKiBbbG9nIHByb2JhYmlsaXR5XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Mb2dfcHJvYmFiaWxpdHkpIHRvXG4gICAqIGF1dG9tYXRpY2FsbHkgaW5jcmVhc2UgdGhlIHRlbXBlcmF0dXJlIHVudGlsIGNlcnRhaW4gdGhyZXNob2xkcyBhcmUgaGl0LlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBUcmFuc2xhdGlvbnMge1xuICBleHBvcnQge1xuICAgIHR5cGUgVHJhbnNsYXRpb24gYXMgVHJhbnNsYXRpb24sXG4gICAgdHlwZSBUcmFuc2xhdGlvblZlcmJvc2UgYXMgVHJhbnNsYXRpb25WZXJib3NlLFxuICAgIHR5cGUgVHJhbnNsYXRpb25DcmVhdGVSZXNwb25zZSBhcyBUcmFuc2xhdGlvbkNyZWF0ZVJlc3BvbnNlLFxuICAgIHR5cGUgVHJhbnNsYXRpb25DcmVhdGVQYXJhbXMgYXMgVHJhbnNsYXRpb25DcmVhdGVQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgKiBhcyBTcGVlY2hBUEkgZnJvbSAnLi9zcGVlY2gnO1xuaW1wb3J0IHsgU3BlZWNoLCBTcGVlY2hDcmVhdGVQYXJhbXMsIFNwZWVjaE1vZGVsIH0gZnJvbSAnLi9zcGVlY2gnO1xuaW1wb3J0ICogYXMgVHJhbnNjcmlwdGlvbnNBUEkgZnJvbSAnLi90cmFuc2NyaXB0aW9ucyc7XG5pbXBvcnQge1xuICBUcmFuc2NyaXB0aW9uLFxuICBUcmFuc2NyaXB0aW9uQ3JlYXRlUGFyYW1zLFxuICBUcmFuc2NyaXB0aW9uQ3JlYXRlUmVzcG9uc2UsXG4gIFRyYW5zY3JpcHRpb25TZWdtZW50LFxuICBUcmFuc2NyaXB0aW9uVmVyYm9zZSxcbiAgVHJhbnNjcmlwdGlvbldvcmQsXG4gIFRyYW5zY3JpcHRpb25zLFxufSBmcm9tICcuL3RyYW5zY3JpcHRpb25zJztcbmltcG9ydCAqIGFzIFRyYW5zbGF0aW9uc0FQSSBmcm9tICcuL3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQge1xuICBUcmFuc2xhdGlvbixcbiAgVHJhbnNsYXRpb25DcmVhdGVQYXJhbXMsXG4gIFRyYW5zbGF0aW9uQ3JlYXRlUmVzcG9uc2UsXG4gIFRyYW5zbGF0aW9uVmVyYm9zZSxcbiAgVHJhbnNsYXRpb25zLFxufSBmcm9tICcuL3RyYW5zbGF0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBBdWRpbyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgdHJhbnNjcmlwdGlvbnM6IFRyYW5zY3JpcHRpb25zQVBJLlRyYW5zY3JpcHRpb25zID0gbmV3IFRyYW5zY3JpcHRpb25zQVBJLlRyYW5zY3JpcHRpb25zKHRoaXMuX2NsaWVudCk7XG4gIHRyYW5zbGF0aW9uczogVHJhbnNsYXRpb25zQVBJLlRyYW5zbGF0aW9ucyA9IG5ldyBUcmFuc2xhdGlvbnNBUEkuVHJhbnNsYXRpb25zKHRoaXMuX2NsaWVudCk7XG4gIHNwZWVjaDogU3BlZWNoQVBJLlNwZWVjaCA9IG5ldyBTcGVlY2hBUEkuU3BlZWNoKHRoaXMuX2NsaWVudCk7XG59XG5cbmV4cG9ydCB0eXBlIEF1ZGlvTW9kZWwgPSAnd2hpc3Blci0xJztcblxuLyoqXG4gKiBUaGUgZm9ybWF0IG9mIHRoZSBvdXRwdXQsIGluIG9uZSBvZiB0aGVzZSBvcHRpb25zOiBganNvbmAsIGB0ZXh0YCwgYHNydGAsXG4gKiBgdmVyYm9zZV9qc29uYCwgb3IgYHZ0dGAuXG4gKi9cbmV4cG9ydCB0eXBlIEF1ZGlvUmVzcG9uc2VGb3JtYXQgPSAnanNvbicgfCAndGV4dCcgfCAnc3J0JyB8ICd2ZXJib3NlX2pzb24nIHwgJ3Z0dCc7XG5cbkF1ZGlvLlRyYW5zY3JpcHRpb25zID0gVHJhbnNjcmlwdGlvbnM7XG5BdWRpby5UcmFuc2xhdGlvbnMgPSBUcmFuc2xhdGlvbnM7XG5BdWRpby5TcGVlY2ggPSBTcGVlY2g7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBBdWRpbyB7XG4gIGV4cG9ydCB7IHR5cGUgQXVkaW9Nb2RlbCBhcyBBdWRpb01vZGVsLCB0eXBlIEF1ZGlvUmVzcG9uc2VGb3JtYXQgYXMgQXVkaW9SZXNwb25zZUZvcm1hdCB9O1xuXG4gIGV4cG9ydCB7XG4gICAgVHJhbnNjcmlwdGlvbnMgYXMgVHJhbnNjcmlwdGlvbnMsXG4gICAgdHlwZSBUcmFuc2NyaXB0aW9uIGFzIFRyYW5zY3JpcHRpb24sXG4gICAgdHlwZSBUcmFuc2NyaXB0aW9uU2VnbWVudCBhcyBUcmFuc2NyaXB0aW9uU2VnbWVudCxcbiAgICB0eXBlIFRyYW5zY3JpcHRpb25WZXJib3NlIGFzIFRyYW5zY3JpcHRpb25WZXJib3NlLFxuICAgIHR5cGUgVHJhbnNjcmlwdGlvbldvcmQgYXMgVHJhbnNjcmlwdGlvbldvcmQsXG4gICAgdHlwZSBUcmFuc2NyaXB0aW9uQ3JlYXRlUmVzcG9uc2UgYXMgVHJhbnNjcmlwdGlvbkNyZWF0ZVJlc3BvbnNlLFxuICAgIHR5cGUgVHJhbnNjcmlwdGlvbkNyZWF0ZVBhcmFtcyBhcyBUcmFuc2NyaXB0aW9uQ3JlYXRlUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgVHJhbnNsYXRpb25zIGFzIFRyYW5zbGF0aW9ucyxcbiAgICB0eXBlIFRyYW5zbGF0aW9uIGFzIFRyYW5zbGF0aW9uLFxuICAgIHR5cGUgVHJhbnNsYXRpb25WZXJib3NlIGFzIFRyYW5zbGF0aW9uVmVyYm9zZSxcbiAgICB0eXBlIFRyYW5zbGF0aW9uQ3JlYXRlUmVzcG9uc2UgYXMgVHJhbnNsYXRpb25DcmVhdGVSZXNwb25zZSxcbiAgICB0eXBlIFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zIGFzIFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7IFNwZWVjaCBhcyBTcGVlY2gsIHR5cGUgU3BlZWNoTW9kZWwgYXMgU3BlZWNoTW9kZWwsIHR5cGUgU3BlZWNoQ3JlYXRlUGFyYW1zIGFzIFNwZWVjaENyZWF0ZVBhcmFtcyB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vcmVzb3VyY2UnO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCAqIGFzIEJhdGNoZXNBUEkgZnJvbSAnLi9iYXRjaGVzJztcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tICcuL3NoYXJlZCc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlLCB0eXBlIEN1cnNvclBhZ2VQYXJhbXMgfSBmcm9tICcuLi9wYWdpbmF0aW9uJztcblxuZXhwb3J0IGNsYXNzIEJhdGNoZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCBleGVjdXRlcyBhIGJhdGNoIGZyb20gYW4gdXBsb2FkZWQgZmlsZSBvZiByZXF1ZXN0c1xuICAgKi9cbiAgY3JlYXRlKGJvZHk6IEJhdGNoQ3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxCYXRjaD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2JhdGNoZXMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgYmF0Y2guXG4gICAqL1xuICByZXRyaWV2ZShiYXRjaElkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPEJhdGNoPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9iYXRjaGVzLyR7YmF0Y2hJZH1gLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0IHlvdXIgb3JnYW5pemF0aW9uJ3MgYmF0Y2hlcy5cbiAgICovXG4gIGxpc3QocXVlcnk/OiBCYXRjaExpc3RQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxCYXRjaGVzUGFnZSwgQmF0Y2g+O1xuICBsaXN0KG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxCYXRjaGVzUGFnZSwgQmF0Y2g+O1xuICBsaXN0KFxuICAgIHF1ZXJ5OiBCYXRjaExpc3RQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8QmF0Y2hlc1BhZ2UsIEJhdGNoPiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2JhdGNoZXMnLCBCYXRjaGVzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGFuIGluLXByb2dyZXNzIGJhdGNoLiBUaGUgYmF0Y2ggd2lsbCBiZSBpbiBzdGF0dXMgYGNhbmNlbGxpbmdgIGZvciB1cCB0b1xuICAgKiAxMCBtaW51dGVzLCBiZWZvcmUgY2hhbmdpbmcgdG8gYGNhbmNlbGxlZGAsIHdoZXJlIGl0IHdpbGwgaGF2ZSBwYXJ0aWFsIHJlc3VsdHNcbiAgICogKGlmIGFueSkgYXZhaWxhYmxlIGluIHRoZSBvdXRwdXQgZmlsZS5cbiAgICovXG4gIGNhbmNlbChiYXRjaElkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPEJhdGNoPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvYmF0Y2hlcy8ke2JhdGNoSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCYXRjaGVzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8QmF0Y2g+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmF0Y2gge1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdGltZSBmcmFtZSB3aXRoaW4gd2hpY2ggdGhlIGJhdGNoIHNob3VsZCBiZSBwcm9jZXNzZWQuXG4gICAqL1xuICBjb21wbGV0aW9uX3dpbmRvdzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBiYXRjaCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIE9wZW5BSSBBUEkgZW5kcG9pbnQgdXNlZCBieSB0aGUgYmF0Y2guXG4gICAqL1xuICBlbmRwb2ludDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGlucHV0IGZpbGUgZm9yIHRoZSBiYXRjaC5cbiAgICovXG4gIGlucHV0X2ZpbGVfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYGJhdGNoYC5cbiAgICovXG4gIG9iamVjdDogJ2JhdGNoJztcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBiYXRjaC5cbiAgICovXG4gIHN0YXR1czpcbiAgICB8ICd2YWxpZGF0aW5nJ1xuICAgIHwgJ2ZhaWxlZCdcbiAgICB8ICdpbl9wcm9ncmVzcydcbiAgICB8ICdmaW5hbGl6aW5nJ1xuICAgIHwgJ2NvbXBsZXRlZCdcbiAgICB8ICdleHBpcmVkJ1xuICAgIHwgJ2NhbmNlbGxpbmcnXG4gICAgfCAnY2FuY2VsbGVkJztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgYmF0Y2ggd2FzIGNhbmNlbGxlZC5cbiAgICovXG4gIGNhbmNlbGxlZF9hdD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgYmF0Y2ggc3RhcnRlZCBjYW5jZWxsaW5nLlxuICAgKi9cbiAgY2FuY2VsbGluZ19hdD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgYmF0Y2ggd2FzIGNvbXBsZXRlZC5cbiAgICovXG4gIGNvbXBsZXRlZF9hdD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBmaWxlIGNvbnRhaW5pbmcgdGhlIG91dHB1dHMgb2YgcmVxdWVzdHMgd2l0aCBlcnJvcnMuXG4gICAqL1xuICBlcnJvcl9maWxlX2lkPzogc3RyaW5nO1xuXG4gIGVycm9ycz86IEJhdGNoLkVycm9ycztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgYmF0Y2ggZXhwaXJlZC5cbiAgICovXG4gIGV4cGlyZWRfYXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGJhdGNoIHdpbGwgZXhwaXJlLlxuICAgKi9cbiAgZXhwaXJlc19hdD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgYmF0Y2ggZmFpbGVkLlxuICAgKi9cbiAgZmFpbGVkX2F0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBiYXRjaCBzdGFydGVkIGZpbmFsaXppbmcuXG4gICAqL1xuICBmaW5hbGl6aW5nX2F0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBiYXRjaCBzdGFydGVkIHByb2Nlc3NpbmcuXG4gICAqL1xuICBpbl9wcm9ncmVzc19hdD86IG51bWJlcjtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBmaWxlIGNvbnRhaW5pbmcgdGhlIG91dHB1dHMgb2Ygc3VjY2Vzc2Z1bGx5IGV4ZWN1dGVkIHJlcXVlc3RzLlxuICAgKi9cbiAgb3V0cHV0X2ZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByZXF1ZXN0IGNvdW50cyBmb3IgZGlmZmVyZW50IHN0YXR1c2VzIHdpdGhpbiB0aGUgYmF0Y2guXG4gICAqL1xuICByZXF1ZXN0X2NvdW50cz86IEJhdGNoUmVxdWVzdENvdW50cztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBCYXRjaCB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgRXJyb3JzIHtcbiAgICBkYXRhPzogQXJyYXk8QmF0Y2hlc0FQSS5CYXRjaEVycm9yPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGBsaXN0YC5cbiAgICAgKi9cbiAgICBvYmplY3Q/OiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBCYXRjaEVycm9yIHtcbiAgLyoqXG4gICAqIEFuIGVycm9yIGNvZGUgaWRlbnRpZnlpbmcgdGhlIGVycm9yIHR5cGUuXG4gICAqL1xuICBjb2RlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbGluZSBudW1iZXIgb2YgdGhlIGlucHV0IGZpbGUgd2hlcmUgdGhlIGVycm9yIG9jY3VycmVkLCBpZiBhcHBsaWNhYmxlLlxuICAgKi9cbiAgbGluZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgaHVtYW4tcmVhZGFibGUgbWVzc2FnZSBwcm92aWRpbmcgbW9yZSBkZXRhaWxzIGFib3V0IHRoZSBlcnJvci5cbiAgICovXG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBwYXJhbWV0ZXIgdGhhdCBjYXVzZWQgdGhlIGVycm9yLCBpZiBhcHBsaWNhYmxlLlxuICAgKi9cbiAgcGFyYW0/OiBzdHJpbmcgfCBudWxsO1xufVxuXG4vKipcbiAqIFRoZSByZXF1ZXN0IGNvdW50cyBmb3IgZGlmZmVyZW50IHN0YXR1c2VzIHdpdGhpbiB0aGUgYmF0Y2guXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmF0Y2hSZXF1ZXN0Q291bnRzIHtcbiAgLyoqXG4gICAqIE51bWJlciBvZiByZXF1ZXN0cyB0aGF0IGhhdmUgYmVlbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgKi9cbiAgY29tcGxldGVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiByZXF1ZXN0cyB0aGF0IGhhdmUgZmFpbGVkLlxuICAgKi9cbiAgZmFpbGVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRvdGFsIG51bWJlciBvZiByZXF1ZXN0cyBpbiB0aGUgYmF0Y2guXG4gICAqL1xuICB0b3RhbDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSB0aW1lIGZyYW1lIHdpdGhpbiB3aGljaCB0aGUgYmF0Y2ggc2hvdWxkIGJlIHByb2Nlc3NlZC4gQ3VycmVudGx5IG9ubHkgYDI0aGBcbiAgICogaXMgc3VwcG9ydGVkLlxuICAgKi9cbiAgY29tcGxldGlvbl93aW5kb3c6ICcyNGgnO1xuXG4gIC8qKlxuICAgKiBUaGUgZW5kcG9pbnQgdG8gYmUgdXNlZCBmb3IgYWxsIHJlcXVlc3RzIGluIHRoZSBiYXRjaC4gQ3VycmVudGx5XG4gICAqIGAvdjEvcmVzcG9uc2VzYCwgYC92MS9jaGF0L2NvbXBsZXRpb25zYCwgYC92MS9lbWJlZGRpbmdzYCwgYW5kIGAvdjEvY29tcGxldGlvbnNgXG4gICAqIGFyZSBzdXBwb3J0ZWQuIE5vdGUgdGhhdCBgL3YxL2VtYmVkZGluZ3NgIGJhdGNoZXMgYXJlIGFsc28gcmVzdHJpY3RlZCB0byBhXG4gICAqIG1heGltdW0gb2YgNTAsMDAwIGVtYmVkZGluZyBpbnB1dHMgYWNyb3NzIGFsbCByZXF1ZXN0cyBpbiB0aGUgYmF0Y2guXG4gICAqL1xuICBlbmRwb2ludDogJy92MS9yZXNwb25zZXMnIHwgJy92MS9jaGF0L2NvbXBsZXRpb25zJyB8ICcvdjEvZW1iZWRkaW5ncycgfCAnL3YxL2NvbXBsZXRpb25zJztcblxuICAvKipcbiAgICogVGhlIElEIG9mIGFuIHVwbG9hZGVkIGZpbGUgdGhhdCBjb250YWlucyByZXF1ZXN0cyBmb3IgdGhlIG5ldyBiYXRjaC5cbiAgICpcbiAgICogU2VlIFt1cGxvYWQgZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9jcmVhdGUpXG4gICAqIGZvciBob3cgdG8gdXBsb2FkIGEgZmlsZS5cbiAgICpcbiAgICogWW91ciBpbnB1dCBmaWxlIG11c3QgYmUgZm9ybWF0dGVkIGFzIGFcbiAgICogW0pTT05MIGZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYmF0Y2gvcmVxdWVzdC1pbnB1dCksXG4gICAqIGFuZCBtdXN0IGJlIHVwbG9hZGVkIHdpdGggdGhlIHB1cnBvc2UgYGJhdGNoYC4gVGhlIGZpbGUgY2FuIGNvbnRhaW4gdXAgdG8gNTAsMDAwXG4gICAqIHJlcXVlc3RzLCBhbmQgY2FuIGJlIHVwIHRvIDIwMCBNQiBpbiBzaXplLlxuICAgKi9cbiAgaW5wdXRfZmlsZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoTGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge31cblxuQmF0Y2hlcy5CYXRjaGVzUGFnZSA9IEJhdGNoZXNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgQmF0Y2hlcyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBCYXRjaCBhcyBCYXRjaCxcbiAgICB0eXBlIEJhdGNoRXJyb3IgYXMgQmF0Y2hFcnJvcixcbiAgICB0eXBlIEJhdGNoUmVxdWVzdENvdW50cyBhcyBCYXRjaFJlcXVlc3RDb3VudHMsXG4gICAgQmF0Y2hlc1BhZ2UgYXMgQmF0Y2hlc1BhZ2UsXG4gICAgdHlwZSBCYXRjaENyZWF0ZVBhcmFtcyBhcyBCYXRjaENyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIEJhdGNoTGlzdFBhcmFtcyBhcyBCYXRjaExpc3RQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gJy4uL3NoYXJlZCc7XG5pbXBvcnQgKiBhcyBNZXNzYWdlc0FQSSBmcm9tICcuL3RocmVhZHMvbWVzc2FnZXMnO1xuaW1wb3J0ICogYXMgVGhyZWFkc0FQSSBmcm9tICcuL3RocmVhZHMvdGhyZWFkcyc7XG5pbXBvcnQgKiBhcyBSdW5zQVBJIGZyb20gJy4vdGhyZWFkcy9ydW5zL3J1bnMnO1xuaW1wb3J0ICogYXMgU3RlcHNBUEkgZnJvbSAnLi90aHJlYWRzL3J1bnMvc3RlcHMnO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIH0gZnJvbSAnLi4vLi4vcGFnaW5hdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBBc3Npc3RhbnRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogQ3JlYXRlIGFuIGFzc2lzdGFudCB3aXRoIGEgbW9kZWwgYW5kIGluc3RydWN0aW9ucy5cbiAgICovXG4gIGNyZWF0ZShib2R5OiBBc3Npc3RhbnRDcmVhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPEFzc2lzdGFudD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2Fzc2lzdGFudHMnLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGFuIGFzc2lzdGFudC5cbiAgICovXG4gIHJldHJpZXZlKGFzc2lzdGFudElkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPEFzc2lzdGFudD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElkfWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vZGlmaWVzIGFuIGFzc2lzdGFudC5cbiAgICovXG4gIHVwZGF0ZShcbiAgICBhc3Npc3RhbnRJZDogc3RyaW5nLFxuICAgIGJvZHk6IEFzc2lzdGFudFVwZGF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPEFzc2lzdGFudD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJZH1gLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXNzaXN0YW50cy5cbiAgICovXG4gIGxpc3QoXG4gICAgcXVlcnk/OiBBc3Npc3RhbnRMaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEFzc2lzdGFudHNQYWdlLCBBc3Npc3RhbnQ+O1xuICBsaXN0KG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxBc3Npc3RhbnRzUGFnZSwgQXNzaXN0YW50PjtcbiAgbGlzdChcbiAgICBxdWVyeTogQXNzaXN0YW50TGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxBc3Npc3RhbnRzUGFnZSwgQXNzaXN0YW50PiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2Fzc2lzdGFudHMnLCBBc3Npc3RhbnRzUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYW4gYXNzaXN0YW50LlxuICAgKi9cbiAgZGVsKGFzc2lzdGFudElkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPEFzc2lzdGFudERlbGV0ZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXNzaXN0YW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlPEFzc2lzdGFudD4ge31cblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGBhc3Npc3RhbnRgIHRoYXQgY2FuIGNhbGwgdGhlIG1vZGVsIGFuZCB1c2UgdG9vbHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50IHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgYXNzaXN0YW50IHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGFzc2lzdGFudC4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgZGVzY3JpcHRpb246IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gaW5zdHJ1Y3Rpb25zIHRoYXQgdGhlIGFzc2lzdGFudCB1c2VzLiBUaGUgbWF4aW11bSBsZW5ndGggaXMgMjU2LDAwMFxuICAgKiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE6IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIFlvdSBjYW4gdXNlIHRoZVxuICAgKiBbTGlzdCBtb2RlbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbW9kZWxzL2xpc3QpIEFQSSB0b1xuICAgKiBzZWUgYWxsIG9mIHlvdXIgYXZhaWxhYmxlIG1vZGVscywgb3Igc2VlIG91clxuICAgKiBbTW9kZWwgb3ZlcnZpZXddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscykgZm9yIGRlc2NyaXB0aW9ucyBvZlxuICAgKiB0aGVtLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGFzc2lzdGFudC4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDI1NiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYGFzc2lzdGFudGAuXG4gICAqL1xuICBvYmplY3Q6ICdhc3Npc3RhbnQnO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdG9vbCBlbmFibGVkIG9uIHRoZSBhc3Npc3RhbnQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMTI4IHRvb2xzIHBlclxuICAgKiBhc3Npc3RhbnQuIFRvb2xzIGNhbiBiZSBvZiB0eXBlcyBgY29kZV9pbnRlcnByZXRlcmAsIGBmaWxlX3NlYXJjaGAsIG9yXG4gICAqIGBmdW5jdGlvbmAuXG4gICAqL1xuICB0b29sczogQXJyYXk8QXNzaXN0YW50VG9vbD47XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LiBDb21wYXRpYmxlIHdpdGhcbiAgICogW0dQVC00b10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00byksXG4gICAqIFtHUFQtNCBUdXJib10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00LXR1cmJvLWFuZC1ncHQtNCksXG4gICAqIGFuZCBhbGwgR1BULTMuNSBUdXJibyBtb2RlbHMgc2luY2UgYGdwdC0zLjUtdHVyYm8tMTEwNmAuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9zY2hlbWFcIiwgXCJqc29uX3NjaGVtYVwiOiB7Li4ufSB9YCBlbmFibGVzIFN0cnVjdHVyZWRcbiAgICogT3V0cHV0cyB3aGljaCBlbnN1cmVzIHRoZSBtb2RlbCB3aWxsIG1hdGNoIHlvdXIgc3VwcGxpZWQgSlNPTiBzY2hlbWEuIExlYXJuIG1vcmVcbiAgICogaW4gdGhlXG4gICAqIFtTdHJ1Y3R1cmVkIE91dHB1dHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGVuc3VyZXMgdGhlXG4gICAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gICAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAgICogZ2VuZXJhdGUgYW4gdW5lbmRpbmcgc3RyZWFtIG9mIHdoaXRlc3BhY2UgdW50aWwgdGhlIGdlbmVyYXRpb24gcmVhY2hlcyB0aGUgdG9rZW5cbiAgICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAgICogaW5kaWNhdGVzIHRoZSBnZW5lcmF0aW9uIGV4Y2VlZGVkIGBtYXhfdG9rZW5zYCBvciB0aGUgY29udmVyc2F0aW9uIGV4Y2VlZGVkIHRoZVxuICAgKiBtYXggY29udGV4dCBsZW5ndGguXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiBUaHJlYWRzQVBJLkFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSB1c2VkIGJ5IHRoZSBhc3Npc3RhbnQncyB0b29scy4gVGhlIHJlc291cmNlcyBhcmVcbiAgICogc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlc1xuICAgKiBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZVxuICAgKiBJRHMuXG4gICAqL1xuICB0b29sX3Jlc291cmNlcz86IEFzc2lzdGFudC5Ub29sUmVzb3VyY2VzIHwgbnVsbDtcblxuICAvKipcbiAgICogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcsIHdoZXJlIHRoZVxuICAgKiBtb2RlbCBjb25zaWRlcnMgdGhlIHJlc3VsdHMgb2YgdGhlIHRva2VucyB3aXRoIHRvcF9wIHByb2JhYmlsaXR5IG1hc3MuIFNvIDAuMVxuICAgKiBtZWFucyBvbmx5IHRoZSB0b2tlbnMgY29tcHJpc2luZyB0aGUgdG9wIDEwJSBwcm9iYWJpbGl0eSBtYXNzIGFyZSBjb25zaWRlcmVkLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgdGVtcGVyYXR1cmUgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEFzc2lzdGFudCB7XG4gIC8qKlxuICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgdXNlZCBieSB0aGUgYXNzaXN0YW50J3MgdG9vbHMuIFRoZSByZXNvdXJjZXMgYXJlXG4gICAqIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXNcbiAgICogYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmVcbiAgICogSURzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBjb2RlX2ludGVycHJldGVyPzogVG9vbFJlc291cmNlcy5Db2RlSW50ZXJwcmV0ZXI7XG5cbiAgICBmaWxlX3NlYXJjaD86IFRvb2xSZXNvdXJjZXMuRmlsZVNlYXJjaDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyBtYWRlXG4gICAgICAgKiBhdmFpbGFibGUgdG8gdGhlIGBjb2RlX2ludGVycHJldGVyYGAgdG9vbC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlc1xuICAgICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB0b29sLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIElEIG9mIHRoZVxuICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgYXNzaXN0YW50LiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgKiB0aGUgYXNzaXN0YW50LlxuICAgICAgICovXG4gICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnREZWxldGVkIHtcbiAgaWQ6IHN0cmluZztcblxuICBkZWxldGVkOiBib29sZWFuO1xuXG4gIG9iamVjdDogJ2Fzc2lzdGFudC5kZWxldGVkJztcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGV2ZW50IGVtaXR0ZWQgd2hlbiBzdHJlYW1pbmcgYSBSdW4uXG4gKlxuICogRWFjaCBldmVudCBpbiBhIHNlcnZlci1zZW50IGV2ZW50cyBzdHJlYW0gaGFzIGFuIGBldmVudGAgYW5kIGBkYXRhYCBwcm9wZXJ0eTpcbiAqXG4gKiBgYGBcbiAqIGV2ZW50OiB0aHJlYWQuY3JlYXRlZFxuICogZGF0YToge1wiaWRcIjogXCJ0aHJlYWRfMTIzXCIsIFwib2JqZWN0XCI6IFwidGhyZWFkXCIsIC4uLn1cbiAqIGBgYFxuICpcbiAqIFdlIGVtaXQgZXZlbnRzIHdoZW5ldmVyIGEgbmV3IG9iamVjdCBpcyBjcmVhdGVkLCB0cmFuc2l0aW9ucyB0byBhIG5ldyBzdGF0ZSwgb3JcbiAqIGlzIGJlaW5nIHN0cmVhbWVkIGluIHBhcnRzIChkZWx0YXMpLiBGb3IgZXhhbXBsZSwgd2UgZW1pdCBgdGhyZWFkLnJ1bi5jcmVhdGVkYFxuICogd2hlbiBhIG5ldyBydW4gaXMgY3JlYXRlZCwgYHRocmVhZC5ydW4uY29tcGxldGVkYCB3aGVuIGEgcnVuIGNvbXBsZXRlcywgYW5kIHNvXG4gKiBvbi4gV2hlbiBhbiBBc3Npc3RhbnQgY2hvb3NlcyB0byBjcmVhdGUgYSBtZXNzYWdlIGR1cmluZyBhIHJ1biwgd2UgZW1pdCBhXG4gKiBgdGhyZWFkLm1lc3NhZ2UuY3JlYXRlZCBldmVudGAsIGEgYHRocmVhZC5tZXNzYWdlLmluX3Byb2dyZXNzYCBldmVudCwgbWFueVxuICogYHRocmVhZC5tZXNzYWdlLmRlbHRhYCBldmVudHMsIGFuZCBmaW5hbGx5IGEgYHRocmVhZC5tZXNzYWdlLmNvbXBsZXRlZGAgZXZlbnQuXG4gKlxuICogV2UgbWF5IGFkZCBhZGRpdGlvbmFsIGV2ZW50cyBvdmVyIHRpbWUsIHNvIHdlIHJlY29tbWVuZCBoYW5kbGluZyB1bmtub3duIGV2ZW50c1xuICogZ3JhY2VmdWxseSBpbiB5b3VyIGNvZGUuIFNlZSB0aGVcbiAqIFtBc3Npc3RhbnRzIEFQSSBxdWlja3N0YXJ0XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL292ZXJ2aWV3KVxuICogdG8gbGVhcm4gaG93IHRvIGludGVncmF0ZSB0aGUgQXNzaXN0YW50cyBBUEkgd2l0aCBzdHJlYW1pbmcuXG4gKi9cbmV4cG9ydCB0eXBlIEFzc2lzdGFudFN0cmVhbUV2ZW50ID1cbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRDcmVhdGVkXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuQ3JlYXRlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1blF1ZXVlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1bkluUHJvZ3Jlc3NcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5SZXF1aXJlc0FjdGlvblxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1bkNvbXBsZXRlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1bkluY29tcGxldGVcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5GYWlsZWRcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5DYW5jZWxsaW5nXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuQ2FuY2VsbGVkXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuRXhwaXJlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1blN0ZXBDcmVhdGVkXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcEluUHJvZ3Jlc3NcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5TdGVwRGVsdGFcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5TdGVwQ29tcGxldGVkXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcEZhaWxlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1blN0ZXBDYW5jZWxsZWRcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5TdGVwRXhwaXJlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZE1lc3NhZ2VDcmVhdGVkXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkTWVzc2FnZUluUHJvZ3Jlc3NcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRNZXNzYWdlRGVsdGFcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRNZXNzYWdlQ29tcGxldGVkXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkTWVzc2FnZUluY29tcGxldGVcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5FcnJvckV2ZW50O1xuXG5leHBvcnQgbmFtZXNwYWNlIEFzc2lzdGFudFN0cmVhbUV2ZW50IHtcbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgbmV3XG4gICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcy9vYmplY3QpIGlzXG4gICAqIGNyZWF0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZENyZWF0ZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSB0aHJlYWQgdGhhdCBjb250YWluc1xuICAgICAqIFttZXNzYWdlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcykuXG4gICAgICovXG4gICAgZGF0YTogVGhyZWFkc0FQSS5UaHJlYWQ7XG5cbiAgICBldmVudDogJ3RocmVhZC5jcmVhdGVkJztcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gZW5hYmxlIGlucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24uXG4gICAgICovXG4gICAgZW5hYmxlZD86IGJvb2xlYW47XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBuZXdcbiAgICogW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdCkgaXMgY3JlYXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuQ3JlYXRlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmNyZWF0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogbW92ZXMgdG8gYSBgcXVldWVkYCBzdGF0dXMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blF1ZXVlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnF1ZXVlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBtb3ZlcyB0byBhbiBgaW5fcHJvZ3Jlc3NgIHN0YXR1cy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuSW5Qcm9ncmVzcyB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmluX3Byb2dyZXNzJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIG1vdmVzIHRvIGEgYHJlcXVpcmVzX2FjdGlvbmAgc3RhdHVzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5SZXF1aXJlc0FjdGlvbiB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnJlcXVpcmVzX2FjdGlvbic7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBpcyBjb21wbGV0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkNvbXBsZXRlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmNvbXBsZXRlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBlbmRzIHdpdGggc3RhdHVzIGBpbmNvbXBsZXRlYC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuSW5jb21wbGV0ZSB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmluY29tcGxldGUnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogZmFpbHMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkZhaWxlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmZhaWxlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBtb3ZlcyB0byBhIGBjYW5jZWxsaW5nYCBzdGF0dXMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkNhbmNlbGxpbmcge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5jYW5jZWxsaW5nJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIGlzIGNhbmNlbGxlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuQ2FuY2VsbGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uY2FuY2VsbGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIGV4cGlyZXMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkV4cGlyZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5leHBpcmVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gICAqIGlzIGNyZWF0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blN0ZXBDcmVhdGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgc3RlcCBpbiBleGVjdXRpb24gb2YgYSBydW4uXG4gICAgICovXG4gICAgZGF0YTogU3RlcHNBUEkuUnVuU3RlcDtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5zdGVwLmNyZWF0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogbW92ZXMgdG8gYW4gYGluX3Byb2dyZXNzYCBzdGF0ZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcEluUHJvZ3Jlc3Mge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBzdGVwIGluIGV4ZWN1dGlvbiBvZiBhIHJ1bi5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnN0ZXAuaW5fcHJvZ3Jlc3MnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIHBhcnRzIG9mIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogYXJlIGJlaW5nIHN0cmVhbWVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5TdGVwRGVsdGEge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBydW4gc3RlcCBkZWx0YSBpLmUuIGFueSBjaGFuZ2VkIGZpZWxkcyBvbiBhIHJ1biBzdGVwIGR1cmluZ1xuICAgICAqIHN0cmVhbWluZy5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwRGVsdGFFdmVudDtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5zdGVwLmRlbHRhJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gICAqIGlzIGNvbXBsZXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcENvbXBsZXRlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHN0ZXAgaW4gZXhlY3V0aW9uIG9mIGEgcnVuLlxuICAgICAqL1xuICAgIGRhdGE6IFN0ZXBzQVBJLlJ1blN0ZXA7XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uc3RlcC5jb21wbGV0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogZmFpbHMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blN0ZXBGYWlsZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBzdGVwIGluIGV4ZWN1dGlvbiBvZiBhIHJ1bi5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnN0ZXAuZmFpbGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gICAqIGlzIGNhbmNlbGxlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcENhbmNlbGxlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHN0ZXAgaW4gZXhlY3V0aW9uIG9mIGEgcnVuLlxuICAgICAqL1xuICAgIGRhdGE6IFN0ZXBzQVBJLlJ1blN0ZXA7XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uc3RlcC5jYW5jZWxsZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogZXhwaXJlcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcEV4cGlyZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBzdGVwIGluIGV4ZWN1dGlvbiBvZiBhIHJ1bi5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnN0ZXAuZXhwaXJlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbbWVzc2FnZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcy9vYmplY3QpIGlzXG4gICAqIGNyZWF0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VDcmVhdGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgbWVzc2FnZSB3aXRoaW4gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogTWVzc2FnZXNBUEkuTWVzc2FnZTtcblxuICAgIGV2ZW50OiAndGhyZWFkLm1lc3NhZ2UuY3JlYXRlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbbWVzc2FnZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcy9vYmplY3QpIG1vdmVzXG4gICAqIHRvIGFuIGBpbl9wcm9ncmVzc2Agc3RhdGUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VJblByb2dyZXNzIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgbWVzc2FnZSB3aXRoaW4gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogTWVzc2FnZXNBUEkuTWVzc2FnZTtcblxuICAgIGV2ZW50OiAndGhyZWFkLm1lc3NhZ2UuaW5fcHJvZ3Jlc3MnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIHBhcnRzIG9mIGFcbiAgICogW01lc3NhZ2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMvb2JqZWN0KSBhcmVcbiAgICogYmVpbmcgc3RyZWFtZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VEZWx0YSB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIG1lc3NhZ2UgZGVsdGEgaS5lLiBhbnkgY2hhbmdlZCBmaWVsZHMgb24gYSBtZXNzYWdlIGR1cmluZ1xuICAgICAqIHN0cmVhbWluZy5cbiAgICAgKi9cbiAgICBkYXRhOiBNZXNzYWdlc0FQSS5NZXNzYWdlRGVsdGFFdmVudDtcblxuICAgIGV2ZW50OiAndGhyZWFkLm1lc3NhZ2UuZGVsdGEnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW21lc3NhZ2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMvb2JqZWN0KSBpc1xuICAgKiBjb21wbGV0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VDb21wbGV0ZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBtZXNzYWdlIHdpdGhpbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBNZXNzYWdlc0FQSS5NZXNzYWdlO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQubWVzc2FnZS5jb21wbGV0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW21lc3NhZ2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMvb2JqZWN0KSBlbmRzXG4gICAqIGJlZm9yZSBpdCBpcyBjb21wbGV0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VJbmNvbXBsZXRlIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgbWVzc2FnZSB3aXRoaW4gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogTWVzc2FnZXNBUEkuTWVzc2FnZTtcblxuICAgIGV2ZW50OiAndGhyZWFkLm1lc3NhZ2UuaW5jb21wbGV0ZSc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYW5cbiAgICogW2Vycm9yXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZXJyb3ItY29kZXMjYXBpLWVycm9ycykgb2NjdXJzLlxuICAgKiBUaGlzIGNhbiBoYXBwZW4gZHVlIHRvIGFuIGludGVybmFsIHNlcnZlciBlcnJvciBvciBhIHRpbWVvdXQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEVycm9yRXZlbnQge1xuICAgIGRhdGE6IFNoYXJlZC5FcnJvck9iamVjdDtcblxuICAgIGV2ZW50OiAnZXJyb3InO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEFzc2lzdGFudFRvb2wgPSBDb2RlSW50ZXJwcmV0ZXJUb29sIHwgRmlsZVNlYXJjaFRvb2wgfCBGdW5jdGlvblRvb2w7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyVG9vbCB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBjb2RlX2ludGVycHJldGVyYFxuICAgKi9cbiAgdHlwZTogJ2NvZGVfaW50ZXJwcmV0ZXInO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2hUb29sIHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYGZpbGVfc2VhcmNoYFxuICAgKi9cbiAgdHlwZTogJ2ZpbGVfc2VhcmNoJztcblxuICAvKipcbiAgICogT3ZlcnJpZGVzIGZvciB0aGUgZmlsZSBzZWFyY2ggdG9vbC5cbiAgICovXG4gIGZpbGVfc2VhcmNoPzogRmlsZVNlYXJjaFRvb2wuRmlsZVNlYXJjaDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaWxlU2VhcmNoVG9vbCB7XG4gIC8qKlxuICAgKiBPdmVycmlkZXMgZm9yIHRoZSBmaWxlIHNlYXJjaCB0b29sLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0cyB0aGUgZmlsZSBzZWFyY2ggdG9vbCBzaG91bGQgb3V0cHV0LiBUaGUgZGVmYXVsdCBpc1xuICAgICAqIDIwIGZvciBgZ3B0LTQqYCBtb2RlbHMgYW5kIDUgZm9yIGBncHQtMy41LXR1cmJvYC4gVGhpcyBudW1iZXIgc2hvdWxkIGJlIGJldHdlZW5cbiAgICAgKiAxIGFuZCA1MCBpbmNsdXNpdmUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlIGZpbGUgc2VhcmNoIHRvb2wgbWF5IG91dHB1dCBmZXdlciB0aGFuIGBtYXhfbnVtX3Jlc3VsdHNgIHJlc3VsdHMuXG4gICAgICogU2VlIHRoZVxuICAgICAqIFtmaWxlIHNlYXJjaCB0b29sIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvdG9vbHMvZmlsZS1zZWFyY2gjY3VzdG9taXppbmctZmlsZS1zZWFyY2gtc2V0dGluZ3MpXG4gICAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgbWF4X251bV9yZXN1bHRzPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJhbmtpbmcgb3B0aW9ucyBmb3IgdGhlIGZpbGUgc2VhcmNoLiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgZmlsZSBzZWFyY2ggdG9vbFxuICAgICAqIHdpbGwgdXNlIHRoZSBgYXV0b2AgcmFua2VyIGFuZCBhIHNjb3JlX3RocmVzaG9sZCBvZiAwLlxuICAgICAqXG4gICAgICogU2VlIHRoZVxuICAgICAqIFtmaWxlIHNlYXJjaCB0b29sIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvdG9vbHMvZmlsZS1zZWFyY2gjY3VzdG9taXppbmctZmlsZS1zZWFyY2gtc2V0dGluZ3MpXG4gICAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgcmFua2luZ19vcHRpb25zPzogRmlsZVNlYXJjaC5SYW5raW5nT3B0aW9ucztcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgRmlsZVNlYXJjaCB7XG4gICAgLyoqXG4gICAgICogVGhlIHJhbmtpbmcgb3B0aW9ucyBmb3IgdGhlIGZpbGUgc2VhcmNoLiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgZmlsZSBzZWFyY2ggdG9vbFxuICAgICAqIHdpbGwgdXNlIHRoZSBgYXV0b2AgcmFua2VyIGFuZCBhIHNjb3JlX3RocmVzaG9sZCBvZiAwLlxuICAgICAqXG4gICAgICogU2VlIHRoZVxuICAgICAqIFtmaWxlIHNlYXJjaCB0b29sIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvdG9vbHMvZmlsZS1zZWFyY2gjY3VzdG9taXppbmctZmlsZS1zZWFyY2gtc2V0dGluZ3MpXG4gICAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBSYW5raW5nT3B0aW9ucyB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBzY29yZSB0aHJlc2hvbGQgZm9yIHRoZSBmaWxlIHNlYXJjaC4gQWxsIHZhbHVlcyBtdXN0IGJlIGEgZmxvYXRpbmcgcG9pbnRcbiAgICAgICAqIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG4gICAgICAgKi9cbiAgICAgIHNjb3JlX3RocmVzaG9sZDogbnVtYmVyO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSByYW5rZXIgdG8gdXNlIGZvciB0aGUgZmlsZSBzZWFyY2guIElmIG5vdCBzcGVjaWZpZWQgd2lsbCB1c2UgdGhlIGBhdXRvYFxuICAgICAgICogcmFua2VyLlxuICAgICAgICovXG4gICAgICByYW5rZXI/OiAnYXV0bycgfCAnZGVmYXVsdF8yMDI0XzA4XzIxJztcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvblRvb2wge1xuICBmdW5jdGlvbjogU2hhcmVkLkZ1bmN0aW9uRGVmaW5pdGlvbjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdG9vbCBiZWluZyBkZWZpbmVkOiBgZnVuY3Rpb25gXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIE9jY3VycyB3aGVuIGFcbiAqIFttZXNzYWdlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzL29iamVjdCkgaXNcbiAqIGNyZWF0ZWQuXG4gKi9cbmV4cG9ydCB0eXBlIE1lc3NhZ2VTdHJlYW1FdmVudCA9XG4gIHwgTWVzc2FnZVN0cmVhbUV2ZW50LlRocmVhZE1lc3NhZ2VDcmVhdGVkXG4gIHwgTWVzc2FnZVN0cmVhbUV2ZW50LlRocmVhZE1lc3NhZ2VJblByb2dyZXNzXG4gIHwgTWVzc2FnZVN0cmVhbUV2ZW50LlRocmVhZE1lc3NhZ2VEZWx0YVxuICB8IE1lc3NhZ2VTdHJlYW1FdmVudC5UaHJlYWRNZXNzYWdlQ29tcGxldGVkXG4gIHwgTWVzc2FnZVN0cmVhbUV2ZW50LlRocmVhZE1lc3NhZ2VJbmNvbXBsZXRlO1xuXG5leHBvcnQgbmFtZXNwYWNlIE1lc3NhZ2VTdHJlYW1FdmVudCB7XG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFttZXNzYWdlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzL29iamVjdCkgaXNcbiAgICogY3JlYXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkTWVzc2FnZUNyZWF0ZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBtZXNzYWdlIHdpdGhpbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBNZXNzYWdlc0FQSS5NZXNzYWdlO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQubWVzc2FnZS5jcmVhdGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFttZXNzYWdlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzL29iamVjdCkgbW92ZXNcbiAgICogdG8gYW4gYGluX3Byb2dyZXNzYCBzdGF0ZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkTWVzc2FnZUluUHJvZ3Jlc3Mge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBtZXNzYWdlIHdpdGhpbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBNZXNzYWdlc0FQSS5NZXNzYWdlO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQubWVzc2FnZS5pbl9wcm9ncmVzcyc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gcGFydHMgb2YgYVxuICAgKiBbTWVzc2FnZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcy9vYmplY3QpIGFyZVxuICAgKiBiZWluZyBzdHJlYW1lZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkTWVzc2FnZURlbHRhIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgbWVzc2FnZSBkZWx0YSBpLmUuIGFueSBjaGFuZ2VkIGZpZWxkcyBvbiBhIG1lc3NhZ2UgZHVyaW5nXG4gICAgICogc3RyZWFtaW5nLlxuICAgICAqL1xuICAgIGRhdGE6IE1lc3NhZ2VzQVBJLk1lc3NhZ2VEZWx0YUV2ZW50O1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQubWVzc2FnZS5kZWx0YSc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbbWVzc2FnZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcy9vYmplY3QpIGlzXG4gICAqIGNvbXBsZXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkTWVzc2FnZUNvbXBsZXRlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIG1lc3NhZ2Ugd2l0aGluIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IE1lc3NhZ2VzQVBJLk1lc3NhZ2U7XG5cbiAgICBldmVudDogJ3RocmVhZC5tZXNzYWdlLmNvbXBsZXRlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbbWVzc2FnZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcy9vYmplY3QpIGVuZHNcbiAgICogYmVmb3JlIGl0IGlzIGNvbXBsZXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkTWVzc2FnZUluY29tcGxldGUge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBtZXNzYWdlIHdpdGhpbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBNZXNzYWdlc0FQSS5NZXNzYWdlO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQubWVzc2FnZS5pbmNvbXBsZXRlJztcbiAgfVxufVxuXG4vKipcbiAqIE9jY3VycyB3aGVuIGFcbiAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gKiBpcyBjcmVhdGVkLlxuICovXG5leHBvcnQgdHlwZSBSdW5TdGVwU3RyZWFtRXZlbnQgPVxuICB8IFJ1blN0ZXBTdHJlYW1FdmVudC5UaHJlYWRSdW5TdGVwQ3JlYXRlZFxuICB8IFJ1blN0ZXBTdHJlYW1FdmVudC5UaHJlYWRSdW5TdGVwSW5Qcm9ncmVzc1xuICB8IFJ1blN0ZXBTdHJlYW1FdmVudC5UaHJlYWRSdW5TdGVwRGVsdGFcbiAgfCBSdW5TdGVwU3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcENvbXBsZXRlZFxuICB8IFJ1blN0ZXBTdHJlYW1FdmVudC5UaHJlYWRSdW5TdGVwRmFpbGVkXG4gIHwgUnVuU3RlcFN0cmVhbUV2ZW50LlRocmVhZFJ1blN0ZXBDYW5jZWxsZWRcbiAgfCBSdW5TdGVwU3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcEV4cGlyZWQ7XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuU3RlcFN0cmVhbUV2ZW50IHtcbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogaXMgY3JlYXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcENyZWF0ZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBzdGVwIGluIGV4ZWN1dGlvbiBvZiBhIHJ1bi5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnN0ZXAuY3JlYXRlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbcnVuIHN0ZXBdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVuLXN0ZXBzL3N0ZXAtb2JqZWN0KVxuICAgKiBtb3ZlcyB0byBhbiBgaW5fcHJvZ3Jlc3NgIHN0YXRlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5TdGVwSW5Qcm9ncmVzcyB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHN0ZXAgaW4gZXhlY3V0aW9uIG9mIGEgcnVuLlxuICAgICAqL1xuICAgIGRhdGE6IFN0ZXBzQVBJLlJ1blN0ZXA7XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uc3RlcC5pbl9wcm9ncmVzcyc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gcGFydHMgb2YgYVxuICAgKiBbcnVuIHN0ZXBdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVuLXN0ZXBzL3N0ZXAtb2JqZWN0KVxuICAgKiBhcmUgYmVpbmcgc3RyZWFtZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blN0ZXBEZWx0YSB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHJ1biBzdGVwIGRlbHRhIGkuZS4gYW55IGNoYW5nZWQgZmllbGRzIG9uIGEgcnVuIHN0ZXAgZHVyaW5nXG4gICAgICogc3RyZWFtaW5nLlxuICAgICAqL1xuICAgIGRhdGE6IFN0ZXBzQVBJLlJ1blN0ZXBEZWx0YUV2ZW50O1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnN0ZXAuZGVsdGEnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogaXMgY29tcGxldGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5TdGVwQ29tcGxldGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgc3RlcCBpbiBleGVjdXRpb24gb2YgYSBydW4uXG4gICAgICovXG4gICAgZGF0YTogU3RlcHNBUEkuUnVuU3RlcDtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5zdGVwLmNvbXBsZXRlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbcnVuIHN0ZXBdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVuLXN0ZXBzL3N0ZXAtb2JqZWN0KVxuICAgKiBmYWlscy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcEZhaWxlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHN0ZXAgaW4gZXhlY3V0aW9uIG9mIGEgcnVuLlxuICAgICAqL1xuICAgIGRhdGE6IFN0ZXBzQVBJLlJ1blN0ZXA7XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uc3RlcC5mYWlsZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogaXMgY2FuY2VsbGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5TdGVwQ2FuY2VsbGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgc3RlcCBpbiBleGVjdXRpb24gb2YgYSBydW4uXG4gICAgICovXG4gICAgZGF0YTogU3RlcHNBUEkuUnVuU3RlcDtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5zdGVwLmNhbmNlbGxlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbcnVuIHN0ZXBdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVuLXN0ZXBzL3N0ZXAtb2JqZWN0KVxuICAgKiBleHBpcmVzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5TdGVwRXhwaXJlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHN0ZXAgaW4gZXhlY3V0aW9uIG9mIGEgcnVuLlxuICAgICAqL1xuICAgIGRhdGE6IFN0ZXBzQVBJLlJ1blN0ZXA7XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uc3RlcC5leHBpcmVkJztcbiAgfVxufVxuXG4vKipcbiAqIE9jY3VycyB3aGVuIGEgbmV3XG4gKiBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KSBpcyBjcmVhdGVkLlxuICovXG5leHBvcnQgdHlwZSBSdW5TdHJlYW1FdmVudCA9XG4gIHwgUnVuU3RyZWFtRXZlbnQuVGhyZWFkUnVuQ3JlYXRlZFxuICB8IFJ1blN0cmVhbUV2ZW50LlRocmVhZFJ1blF1ZXVlZFxuICB8IFJ1blN0cmVhbUV2ZW50LlRocmVhZFJ1bkluUHJvZ3Jlc3NcbiAgfCBSdW5TdHJlYW1FdmVudC5UaHJlYWRSdW5SZXF1aXJlc0FjdGlvblxuICB8IFJ1blN0cmVhbUV2ZW50LlRocmVhZFJ1bkNvbXBsZXRlZFxuICB8IFJ1blN0cmVhbUV2ZW50LlRocmVhZFJ1bkluY29tcGxldGVcbiAgfCBSdW5TdHJlYW1FdmVudC5UaHJlYWRSdW5GYWlsZWRcbiAgfCBSdW5TdHJlYW1FdmVudC5UaHJlYWRSdW5DYW5jZWxsaW5nXG4gIHwgUnVuU3RyZWFtRXZlbnQuVGhyZWFkUnVuQ2FuY2VsbGVkXG4gIHwgUnVuU3RyZWFtRXZlbnQuVGhyZWFkUnVuRXhwaXJlZDtcblxuZXhwb3J0IG5hbWVzcGFjZSBSdW5TdHJlYW1FdmVudCB7XG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIG5ld1xuICAgKiBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KSBpcyBjcmVhdGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5DcmVhdGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uY3JlYXRlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBtb3ZlcyB0byBhIGBxdWV1ZWRgIHN0YXR1cy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuUXVldWVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4ucXVldWVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIG1vdmVzIHRvIGFuIGBpbl9wcm9ncmVzc2Agc3RhdHVzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5JblByb2dyZXNzIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uaW5fcHJvZ3Jlc3MnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogbW92ZXMgdG8gYSBgcmVxdWlyZXNfYWN0aW9uYCBzdGF0dXMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blJlcXVpcmVzQWN0aW9uIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4ucmVxdWlyZXNfYWN0aW9uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIGlzIGNvbXBsZXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuQ29tcGxldGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uY29tcGxldGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIGVuZHMgd2l0aCBzdGF0dXMgYGluY29tcGxldGVgLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5JbmNvbXBsZXRlIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uaW5jb21wbGV0ZSc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBmYWlscy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuRmFpbGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uZmFpbGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIG1vdmVzIHRvIGEgYGNhbmNlbGxpbmdgIHN0YXR1cy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuQ2FuY2VsbGluZyB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmNhbmNlbGxpbmcnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogaXMgY2FuY2VsbGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5DYW5jZWxsZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5jYW5jZWxsZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogZXhwaXJlcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuRXhwaXJlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmV4cGlyZWQnO1xuICB9XG59XG5cbi8qKlxuICogT2NjdXJzIHdoZW4gYSBuZXdcbiAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcy9vYmplY3QpIGlzXG4gKiBjcmVhdGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZFN0cmVhbUV2ZW50IHtcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgYSB0aHJlYWQgdGhhdCBjb250YWluc1xuICAgKiBbbWVzc2FnZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMpLlxuICAgKi9cbiAgZGF0YTogVGhyZWFkc0FQSS5UaHJlYWQ7XG5cbiAgZXZlbnQ6ICd0aHJlYWQuY3JlYXRlZCc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIGlucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24uXG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gWW91IGNhbiB1c2UgdGhlXG4gICAqIFtMaXN0IG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMvbGlzdCkgQVBJIHRvXG4gICAqIHNlZSBhbGwgb2YgeW91ciBhdmFpbGFibGUgbW9kZWxzLCBvciBzZWUgb3VyXG4gICAqIFtNb2RlbCBvdmVydmlld10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzKSBmb3IgZGVzY3JpcHRpb25zIG9mXG4gICAqIHRoZW0uXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8IFNoYXJlZC5DaGF0TW9kZWw7XG5cbiAgLyoqXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYXNzaXN0YW50LiBUaGUgbWF4aW11bSBsZW5ndGggaXMgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gaW5zdHJ1Y3Rpb25zIHRoYXQgdGhlIGFzc2lzdGFudCB1c2VzLiBUaGUgbWF4aW11bSBsZW5ndGggaXMgMjU2LDAwMFxuICAgKiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGFzc2lzdGFudC4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDI1NiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqICoqby1zZXJpZXMgbW9kZWxzIG9ubHkqKlxuICAgKlxuICAgKiBDb25zdHJhaW5zIGVmZm9ydCBvbiByZWFzb25pbmcgZm9yXG4gICAqIFtyZWFzb25pbmcgbW9kZWxzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvcmVhc29uaW5nKS4gQ3VycmVudGx5XG4gICAqIHN1cHBvcnRlZCB2YWx1ZXMgYXJlIGBsb3dgLCBgbWVkaXVtYCwgYW5kIGBoaWdoYC4gUmVkdWNpbmcgcmVhc29uaW5nIGVmZm9ydCBjYW5cbiAgICogcmVzdWx0IGluIGZhc3RlciByZXNwb25zZXMgYW5kIGZld2VyIHRva2VucyB1c2VkIG9uIHJlYXNvbmluZyBpbiBhIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVhc29uaW5nX2VmZm9ydD86IFNoYXJlZC5SZWFzb25pbmdFZmZvcnQgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGZvcm1hdCB0aGF0IHRoZSBtb2RlbCBtdXN0IG91dHB1dC4gQ29tcGF0aWJsZSB3aXRoXG4gICAqIFtHUFQtNG9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscyNncHQtNG8pLFxuICAgKiBbR1BULTQgVHVyYm9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscyNncHQtNC10dXJiby1hbmQtZ3B0LTQpLFxuICAgKiBhbmQgYWxsIEdQVC0zLjUgVHVyYm8gbW9kZWxzIHNpbmNlIGBncHQtMy41LXR1cmJvLTExMDZgLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fc2NoZW1hXCIsIFwianNvbl9zY2hlbWFcIjogey4uLn0gfWAgZW5hYmxlcyBTdHJ1Y3R1cmVkXG4gICAqIE91dHB1dHMgd2hpY2ggZW5zdXJlcyB0aGUgbW9kZWwgd2lsbCBtYXRjaCB5b3VyIHN1cHBsaWVkIEpTT04gc2NoZW1hLiBMZWFybiBtb3JlXG4gICAqIGluIHRoZVxuICAgKiBbU3RydWN0dXJlZCBPdXRwdXRzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKS5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX29iamVjdFwiIH1gIGVuYWJsZXMgSlNPTiBtb2RlLCB3aGljaCBlbnN1cmVzIHRoZVxuICAgKiBtZXNzYWdlIHRoZSBtb2RlbCBnZW5lcmF0ZXMgaXMgdmFsaWQgSlNPTi5cbiAgICpcbiAgICogKipJbXBvcnRhbnQ6Kiogd2hlbiB1c2luZyBKU09OIG1vZGUsIHlvdSAqKm11c3QqKiBhbHNvIGluc3RydWN0IHRoZSBtb2RlbCB0b1xuICAgKiBwcm9kdWNlIEpTT04geW91cnNlbGYgdmlhIGEgc3lzdGVtIG9yIHVzZXIgbWVzc2FnZS4gV2l0aG91dCB0aGlzLCB0aGUgbW9kZWwgbWF5XG4gICAqIGdlbmVyYXRlIGFuIHVuZW5kaW5nIHN0cmVhbSBvZiB3aGl0ZXNwYWNlIHVudGlsIHRoZSBnZW5lcmF0aW9uIHJlYWNoZXMgdGhlIHRva2VuXG4gICAqIGxpbWl0LCByZXN1bHRpbmcgaW4gYSBsb25nLXJ1bm5pbmcgYW5kIHNlZW1pbmdseSBcInN0dWNrXCIgcmVxdWVzdC4gQWxzbyBub3RlIHRoYXRcbiAgICogdGhlIG1lc3NhZ2UgY29udGVudCBtYXkgYmUgcGFydGlhbGx5IGN1dCBvZmYgaWYgYGZpbmlzaF9yZWFzb249XCJsZW5ndGhcImAsIHdoaWNoXG4gICAqIGluZGljYXRlcyB0aGUgZ2VuZXJhdGlvbiBleGNlZWRlZCBgbWF4X3Rva2Vuc2Agb3IgdGhlIGNvbnZlcnNhdGlvbiBleGNlZWRlZCB0aGVcbiAgICogbWF4IGNvbnRleHQgbGVuZ3RoLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogVGhyZWFkc0FQSS5Bc3Npc3RhbnRSZXNwb25zZUZvcm1hdE9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFdoYXQgc2FtcGxpbmcgdGVtcGVyYXR1cmUgdG8gdXNlLCBiZXR3ZWVuIDAgYW5kIDIuIEhpZ2hlciB2YWx1ZXMgbGlrZSAwLjggd2lsbFxuICAgKiBtYWtlIHRoZSBvdXRwdXQgbW9yZSByYW5kb20sIHdoaWxlIGxvd2VyIHZhbHVlcyBsaWtlIDAuMiB3aWxsIG1ha2UgaXQgbW9yZVxuICAgKiBmb2N1c2VkIGFuZCBkZXRlcm1pbmlzdGljLlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgdXNlZCBieSB0aGUgYXNzaXN0YW50J3MgdG9vbHMuIFRoZSByZXNvdXJjZXMgYXJlXG4gICAqIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXNcbiAgICogYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmVcbiAgICogSURzLlxuICAgKi9cbiAgdG9vbF9yZXNvdXJjZXM/OiBBc3Npc3RhbnRDcmVhdGVQYXJhbXMuVG9vbFJlc291cmNlcyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0b29sIGVuYWJsZWQgb24gdGhlIGFzc2lzdGFudC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxMjggdG9vbHMgcGVyXG4gICAqIGFzc2lzdGFudC4gVG9vbHMgY2FuIGJlIG9mIHR5cGVzIGBjb2RlX2ludGVycHJldGVyYCwgYGZpbGVfc2VhcmNoYCwgb3JcbiAgICogYGZ1bmN0aW9uYC5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8QXNzaXN0YW50VG9vbD47XG5cbiAgLyoqXG4gICAqIEFuIGFsdGVybmF0aXZlIHRvIHNhbXBsaW5nIHdpdGggdGVtcGVyYXR1cmUsIGNhbGxlZCBudWNsZXVzIHNhbXBsaW5nLCB3aGVyZSB0aGVcbiAgICogbW9kZWwgY29uc2lkZXJzIHRoZSByZXN1bHRzIG9mIHRoZSB0b2tlbnMgd2l0aCB0b3BfcCBwcm9iYWJpbGl0eSBtYXNzLiBTbyAwLjFcbiAgICogbWVhbnMgb25seSB0aGUgdG9rZW5zIGNvbXByaXNpbmcgdGhlIHRvcCAxMCUgcHJvYmFiaWxpdHkgbWFzcyBhcmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIHRlbXBlcmF0dXJlIGJ1dCBub3QgYm90aC5cbiAgICovXG4gIHRvcF9wPzogbnVtYmVyIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBBc3Npc3RhbnRDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGFzc2lzdGFudCdzIHRvb2xzLiBUaGUgcmVzb3VyY2VzIGFyZVxuICAgKiBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzXG4gICAqIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlXG4gICAqIElEcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgY29kZV9pbnRlcnByZXRlcj86IFRvb2xSZXNvdXJjZXMuQ29kZUludGVycHJldGVyO1xuXG4gICAgZmlsZV9zZWFyY2g/OiBUb29sUmVzb3VyY2VzLkZpbGVTZWFyY2g7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgbWFkZVxuICAgICAgICogYXZhaWxhYmxlIHRvIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlc1xuICAgICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB0b29sLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlXG4gICAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgICAgICogYXR0YWNoZWQgdG8gdGhpcyBhc3Npc3RhbnQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMSB2ZWN0b3Igc3RvcmUgYXR0YWNoZWQgdG9cbiAgICAgICAqIHRoZSBhc3Npc3RhbnQuXG4gICAgICAgKi9cbiAgICAgIHZlY3Rvcl9zdG9yZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuXG4gICAgICAvKipcbiAgICAgICAqIEEgaGVscGVyIHRvIGNyZWF0ZSBhXG4gICAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgICAgICogd2l0aCBmaWxlX2lkcyBhbmQgYXR0YWNoIGl0IHRvIHRoaXMgYXNzaXN0YW50LiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDFcbiAgICAgICAqIHZlY3RvciBzdG9yZSBhdHRhY2hlZCB0byB0aGUgYXNzaXN0YW50LlxuICAgICAgICovXG4gICAgICB2ZWN0b3Jfc3RvcmVzPzogQXJyYXk8RmlsZVNlYXJjaC5WZWN0b3JTdG9yZT47XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBGaWxlU2VhcmNoIHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmUge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNodW5raW5nIHN0cmF0ZWd5IHVzZWQgdG8gY2h1bmsgdGhlIGZpbGUocykuIElmIG5vdCBzZXQsIHdpbGwgdXNlIHRoZSBgYXV0b2BcbiAgICAgICAgICogc3RyYXRlZ3kuXG4gICAgICAgICAqL1xuICAgICAgICBjaHVua2luZ19zdHJhdGVneT86IFZlY3RvclN0b3JlLkF1dG8gfCBWZWN0b3JTdG9yZS5TdGF0aWM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIHRvXG4gICAgICAgICAqIGFkZCB0byB0aGUgdmVjdG9yIHN0b3JlLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEwMDAwIGZpbGVzIGluIGEgdmVjdG9yXG4gICAgICAgICAqIHN0b3JlLlxuICAgICAgICAgKi9cbiAgICAgICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICAgICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICAgICAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgICAgICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuICAgICAgfVxuXG4gICAgICBleHBvcnQgbmFtZXNwYWNlIFZlY3RvclN0b3JlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHN0cmF0ZWd5LiBUaGlzIHN0cmF0ZWd5IGN1cnJlbnRseSB1c2VzIGEgYG1heF9jaHVua19zaXplX3Rva2Vuc2Agb2ZcbiAgICAgICAgICogYDgwMGAgYW5kIGBjaHVua19vdmVybGFwX3Rva2Vuc2Agb2YgYDQwMGAuXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIEF1dG8ge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEFsd2F5cyBgYXV0b2AuXG4gICAgICAgICAgICovXG4gICAgICAgICAgdHlwZTogJ2F1dG8nO1xuICAgICAgICB9XG5cbiAgICAgICAgZXhwb3J0IGludGVyZmFjZSBTdGF0aWMge1xuICAgICAgICAgIHN0YXRpYzogU3RhdGljLlN0YXRpYztcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEFsd2F5cyBgc3RhdGljYC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICB0eXBlOiAnc3RhdGljJztcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cG9ydCBuYW1lc3BhY2UgU3RhdGljIHtcbiAgICAgICAgICBleHBvcnQgaW50ZXJmYWNlIFN0YXRpYyB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSBudW1iZXIgb2YgdG9rZW5zIHRoYXQgb3ZlcmxhcCBiZXR3ZWVuIGNodW5rcy4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYDQwMGAuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogTm90ZSB0aGF0IHRoZSBvdmVybGFwIG11c3Qgbm90IGV4Y2VlZCBoYWxmIG9mIGBtYXhfY2h1bmtfc2l6ZV90b2tlbnNgLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjaHVua19vdmVybGFwX3Rva2VuczogbnVtYmVyO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgaW4gZWFjaCBjaHVuay4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYDgwMGAuIFRoZVxuICAgICAgICAgICAgICogbWluaW11bSB2YWx1ZSBpcyBgMTAwYCBhbmQgdGhlIG1heGltdW0gdmFsdWUgaXMgYDQwOTZgLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtYXhfY2h1bmtfc2l6ZV90b2tlbnM6IG51bWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRVcGRhdGVQYXJhbXMge1xuICAvKipcbiAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBhc3Npc3RhbnQuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHN5c3RlbSBpbnN0cnVjdGlvbnMgdGhhdCB0aGUgYXNzaXN0YW50IHVzZXMuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyAyNTYsMDAwXG4gICAqIGNoYXJhY3RlcnMuXG4gICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBZb3UgY2FuIHVzZSB0aGVcbiAgICogW0xpc3QgbW9kZWxzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21vZGVscy9saXN0KSBBUEkgdG9cbiAgICogc2VlIGFsbCBvZiB5b3VyIGF2YWlsYWJsZSBtb2RlbHMsIG9yIHNlZSBvdXJcbiAgICogW01vZGVsIG92ZXJ2aWV3XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMpIGZvciBkZXNjcmlwdGlvbnMgb2ZcbiAgICogdGhlbS5cbiAgICovXG4gIG1vZGVsPzpcbiAgICB8IChzdHJpbmcgJiB7fSlcbiAgICB8ICdvMy1taW5pJ1xuICAgIHwgJ28zLW1pbmktMjAyNS0wMS0zMSdcbiAgICB8ICdvMSdcbiAgICB8ICdvMS0yMDI0LTEyLTE3J1xuICAgIHwgJ2dwdC00bydcbiAgICB8ICdncHQtNG8tMjAyNC0xMS0yMCdcbiAgICB8ICdncHQtNG8tMjAyNC0wOC0wNidcbiAgICB8ICdncHQtNG8tMjAyNC0wNS0xMydcbiAgICB8ICdncHQtNG8tbWluaSdcbiAgICB8ICdncHQtNG8tbWluaS0yMDI0LTA3LTE4J1xuICAgIHwgJ2dwdC00LjUtcHJldmlldydcbiAgICB8ICdncHQtNC41LXByZXZpZXctMjAyNS0wMi0yNydcbiAgICB8ICdncHQtNC10dXJibydcbiAgICB8ICdncHQtNC10dXJiby0yMDI0LTA0LTA5J1xuICAgIHwgJ2dwdC00LTAxMjUtcHJldmlldydcbiAgICB8ICdncHQtNC10dXJiby1wcmV2aWV3J1xuICAgIHwgJ2dwdC00LTExMDYtcHJldmlldydcbiAgICB8ICdncHQtNC12aXNpb24tcHJldmlldydcbiAgICB8ICdncHQtNCdcbiAgICB8ICdncHQtNC0wMzE0J1xuICAgIHwgJ2dwdC00LTA2MTMnXG4gICAgfCAnZ3B0LTQtMzJrJ1xuICAgIHwgJ2dwdC00LTMyay0wMzE0J1xuICAgIHwgJ2dwdC00LTMyay0wNjEzJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8nXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xNmsnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0wNjEzJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTEwNidcbiAgICB8ICdncHQtMy41LXR1cmJvLTAxMjUnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xNmstMDYxMyc7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBhc3Npc3RhbnQuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyAyNTYgY2hhcmFjdGVycy5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiAqKm8tc2VyaWVzIG1vZGVscyBvbmx5KipcbiAgICpcbiAgICogQ29uc3RyYWlucyBlZmZvcnQgb24gcmVhc29uaW5nIGZvclxuICAgKiBbcmVhc29uaW5nIG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3JlYXNvbmluZykuIEN1cnJlbnRseVxuICAgKiBzdXBwb3J0ZWQgdmFsdWVzIGFyZSBgbG93YCwgYG1lZGl1bWAsIGFuZCBgaGlnaGAuIFJlZHVjaW5nIHJlYXNvbmluZyBlZmZvcnQgY2FuXG4gICAqIHJlc3VsdCBpbiBmYXN0ZXIgcmVzcG9uc2VzIGFuZCBmZXdlciB0b2tlbnMgdXNlZCBvbiByZWFzb25pbmcgaW4gYSByZXNwb25zZS5cbiAgICovXG4gIHJlYXNvbmluZ19lZmZvcnQ/OiBTaGFyZWQuUmVhc29uaW5nRWZmb3J0IHwgbnVsbDtcblxuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuIENvbXBhdGlibGUgd2l0aFxuICAgKiBbR1BULTRvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjZ3B0LTRvKSxcbiAgICogW0dQVC00IFR1cmJvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjZ3B0LTQtdHVyYm8tYW5kLWdwdC00KSxcbiAgICogYW5kIGFsbCBHUFQtMy41IFR1cmJvIG1vZGVscyBzaW5jZSBgZ3B0LTMuNS10dXJiby0xMTA2YC5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX3NjaGVtYVwiLCBcImpzb25fc2NoZW1hXCI6IHsuLi59IH1gIGVuYWJsZXMgU3RydWN0dXJlZFxuICAgKiBPdXRwdXRzIHdoaWNoIGVuc3VyZXMgdGhlIG1vZGVsIHdpbGwgbWF0Y2ggeW91ciBzdXBwbGllZCBKU09OIHNjaGVtYS4gTGVhcm4gbW9yZVxuICAgKiBpbiB0aGVcbiAgICogW1N0cnVjdHVyZWQgT3V0cHV0cyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cykuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIEpTT04gbW9kZSwgd2hpY2ggZW5zdXJlcyB0aGVcbiAgICogbWVzc2FnZSB0aGUgbW9kZWwgZ2VuZXJhdGVzIGlzIHZhbGlkIEpTT04uXG4gICAqXG4gICAqICoqSW1wb3J0YW50OioqIHdoZW4gdXNpbmcgSlNPTiBtb2RlLCB5b3UgKiptdXN0KiogYWxzbyBpbnN0cnVjdCB0aGUgbW9kZWwgdG9cbiAgICogcHJvZHVjZSBKU09OIHlvdXJzZWxmIHZpYSBhIHN5c3RlbSBvciB1c2VyIG1lc3NhZ2UuIFdpdGhvdXQgdGhpcywgdGhlIG1vZGVsIG1heVxuICAgKiBnZW5lcmF0ZSBhbiB1bmVuZGluZyBzdHJlYW0gb2Ygd2hpdGVzcGFjZSB1bnRpbCB0aGUgZ2VuZXJhdGlvbiByZWFjaGVzIHRoZSB0b2tlblxuICAgKiBsaW1pdCwgcmVzdWx0aW5nIGluIGEgbG9uZy1ydW5uaW5nIGFuZCBzZWVtaW5nbHkgXCJzdHVja1wiIHJlcXVlc3QuIEFsc28gbm90ZSB0aGF0XG4gICAqIHRoZSBtZXNzYWdlIGNvbnRlbnQgbWF5IGJlIHBhcnRpYWxseSBjdXQgb2ZmIGlmIGBmaW5pc2hfcmVhc29uPVwibGVuZ3RoXCJgLCB3aGljaFxuICAgKiBpbmRpY2F0ZXMgdGhlIGdlbmVyYXRpb24gZXhjZWVkZWQgYG1heF90b2tlbnNgIG9yIHRoZSBjb252ZXJzYXRpb24gZXhjZWVkZWQgdGhlXG4gICAqIG1heCBjb250ZXh0IGxlbmd0aC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86IFRocmVhZHNBUEkuQXNzaXN0YW50UmVzcG9uc2VGb3JtYXRPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGxcbiAgICogbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmVcbiAgICogZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGFzc2lzdGFudCdzIHRvb2xzLiBUaGUgcmVzb3VyY2VzIGFyZVxuICAgKiBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzXG4gICAqIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlXG4gICAqIElEcy5cbiAgICovXG4gIHRvb2xfcmVzb3VyY2VzPzogQXNzaXN0YW50VXBkYXRlUGFyYW1zLlRvb2xSZXNvdXJjZXMgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdG9vbCBlbmFibGVkIG9uIHRoZSBhc3Npc3RhbnQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMTI4IHRvb2xzIHBlclxuICAgKiBhc3Npc3RhbnQuIFRvb2xzIGNhbiBiZSBvZiB0eXBlcyBgY29kZV9pbnRlcnByZXRlcmAsIGBmaWxlX3NlYXJjaGAsIG9yXG4gICAqIGBmdW5jdGlvbmAuXG4gICAqL1xuICB0b29scz86IEFycmF5PEFzc2lzdGFudFRvb2w+O1xuXG4gIC8qKlxuICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBzYW1wbGluZyB3aXRoIHRlbXBlcmF0dXJlLCBjYWxsZWQgbnVjbGV1cyBzYW1wbGluZywgd2hlcmUgdGhlXG4gICAqIG1vZGVsIGNvbnNpZGVycyB0aGUgcmVzdWx0cyBvZiB0aGUgdG9rZW5zIHdpdGggdG9wX3AgcHJvYmFiaWxpdHkgbWFzcy4gU28gMC4xXG4gICAqIG1lYW5zIG9ubHkgdGhlIHRva2VucyBjb21wcmlzaW5nIHRoZSB0b3AgMTAlIHByb2JhYmlsaXR5IG1hc3MgYXJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciB0ZW1wZXJhdHVyZSBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQXNzaXN0YW50VXBkYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSB1c2VkIGJ5IHRoZSBhc3Npc3RhbnQncyB0b29scy4gVGhlIHJlc291cmNlcyBhcmVcbiAgICogc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlc1xuICAgKiBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZVxuICAgKiBJRHMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGNvZGVfaW50ZXJwcmV0ZXI/OiBUb29sUmVzb3VyY2VzLkNvZGVJbnRlcnByZXRlcjtcblxuICAgIGZpbGVfc2VhcmNoPzogVG9vbFJlc291cmNlcy5GaWxlU2VhcmNoO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlciB7XG4gICAgICAvKipcbiAgICAgICAqIE92ZXJyaWRlcyB0aGUgbGlzdCBvZlxuICAgICAgICogW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyBtYWRlIGF2YWlsYWJsZVxuICAgICAgICogdG8gdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDIwIGZpbGVzIGFzc29jaWF0ZWRcbiAgICAgICAqIHdpdGggdGhlIHRvb2wuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAgICAgLyoqXG4gICAgICAgKiBPdmVycmlkZXMgdGhlXG4gICAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgICAgICogYXR0YWNoZWQgdG8gdGhpcyBhc3Npc3RhbnQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMSB2ZWN0b3Igc3RvcmUgYXR0YWNoZWQgdG9cbiAgICAgICAqIHRoZSBhc3Npc3RhbnQuXG4gICAgICAgKi9cbiAgICAgIHZlY3Rvcl9zdG9yZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFzc2lzdGFudExpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgY3Vyc29yIGZvciB1c2UgaW4gcGFnaW5hdGlvbi4gYGJlZm9yZWAgaXMgYW4gb2JqZWN0IElEIHRoYXQgZGVmaW5lcyB5b3VyIHBsYWNlXG4gICAqIGluIHRoZSBsaXN0LiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBtYWtlIGEgbGlzdCByZXF1ZXN0IGFuZCByZWNlaXZlIDEwMCBvYmplY3RzLFxuICAgKiBzdGFydGluZyB3aXRoIG9ial9mb28sIHlvdXIgc3Vic2VxdWVudCBjYWxsIGNhbiBpbmNsdWRlIGJlZm9yZT1vYmpfZm9vIGluIG9yZGVyXG4gICAqIHRvIGZldGNoIHRoZSBwcmV2aW91cyBwYWdlIG9mIHRoZSBsaXN0LlxuICAgKi9cbiAgYmVmb3JlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTb3J0IG9yZGVyIGJ5IHRoZSBgY3JlYXRlZF9hdGAgdGltZXN0YW1wIG9mIHRoZSBvYmplY3RzLiBgYXNjYCBmb3IgYXNjZW5kaW5nXG4gICAqIG9yZGVyIGFuZCBgZGVzY2AgZm9yIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAqL1xuICBvcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xufVxuXG5Bc3Npc3RhbnRzLkFzc2lzdGFudHNQYWdlID0gQXNzaXN0YW50c1BhZ2U7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBBc3Npc3RhbnRzIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIEFzc2lzdGFudCBhcyBBc3Npc3RhbnQsXG4gICAgdHlwZSBBc3Npc3RhbnREZWxldGVkIGFzIEFzc2lzdGFudERlbGV0ZWQsXG4gICAgdHlwZSBBc3Npc3RhbnRTdHJlYW1FdmVudCBhcyBBc3Npc3RhbnRTdHJlYW1FdmVudCxcbiAgICB0eXBlIEFzc2lzdGFudFRvb2wgYXMgQXNzaXN0YW50VG9vbCxcbiAgICB0eXBlIENvZGVJbnRlcnByZXRlclRvb2wgYXMgQ29kZUludGVycHJldGVyVG9vbCxcbiAgICB0eXBlIEZpbGVTZWFyY2hUb29sIGFzIEZpbGVTZWFyY2hUb29sLFxuICAgIHR5cGUgRnVuY3Rpb25Ub29sIGFzIEZ1bmN0aW9uVG9vbCxcbiAgICB0eXBlIE1lc3NhZ2VTdHJlYW1FdmVudCBhcyBNZXNzYWdlU3RyZWFtRXZlbnQsXG4gICAgdHlwZSBSdW5TdGVwU3RyZWFtRXZlbnQgYXMgUnVuU3RlcFN0cmVhbUV2ZW50LFxuICAgIHR5cGUgUnVuU3RyZWFtRXZlbnQgYXMgUnVuU3RyZWFtRXZlbnQsXG4gICAgdHlwZSBUaHJlYWRTdHJlYW1FdmVudCBhcyBUaHJlYWRTdHJlYW1FdmVudCxcbiAgICBBc3Npc3RhbnRzUGFnZSBhcyBBc3Npc3RhbnRzUGFnZSxcbiAgICB0eXBlIEFzc2lzdGFudENyZWF0ZVBhcmFtcyBhcyBBc3Npc3RhbnRDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBBc3Npc3RhbnRVcGRhdGVQYXJhbXMgYXMgQXNzaXN0YW50VXBkYXRlUGFyYW1zLFxuICAgIHR5cGUgQXNzaXN0YW50TGlzdFBhcmFtcyBhcyBBc3Npc3RhbnRMaXN0UGFyYW1zLFxuICB9O1xufVxuIiwgImltcG9ydCB7IHR5cGUgQ2hhdENvbXBsZXRpb25SdW5uZXIgfSBmcm9tICcuL0NoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7IHR5cGUgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIgfSBmcm9tICcuL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyJztcbmltcG9ydCB7IEpTT05TY2hlbWEgfSBmcm9tICcuL2pzb25zY2hlbWEnO1xuXG50eXBlIFByb21pc2VPclZhbHVlPFQ+ID0gVCB8IFByb21pc2U8VD47XG5cbmV4cG9ydCB0eXBlIFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncyBleHRlbmRzIG9iamVjdD4gPSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXJncyB0aGUgcmV0dXJuIHZhbHVlIGZyb20gYHBhcnNlYC5cbiAgICogQHBhcmFtIHJ1bm5lciB0aGUgcnVubmVyIGV2YWx1YXRpbmcgdGhpcyBjYWxsYmFjay5cbiAgICogQHJldHVybnMgYSBzdHJpbmcgdG8gc2VuZCBiYWNrIHRvIE9wZW5BSS5cbiAgICovXG4gIGZ1bmN0aW9uOiAoXG4gICAgYXJnczogQXJncyxcbiAgICBydW5uZXI6IENoYXRDb21wbGV0aW9uUnVubmVyPHVua25vd24+IHwgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXI8dW5rbm93bj4sXG4gICkgPT4gUHJvbWlzZU9yVmFsdWU8dW5rbm93bj47XG4gIC8qKlxuICAgKiBAcGFyYW0gaW5wdXQgdGhlIHJhdyBhcmdzIGZyb20gdGhlIE9wZW5BSSBmdW5jdGlvbiBjYWxsLlxuICAgKiBAcmV0dXJucyB0aGUgcGFyc2VkIGFyZ3VtZW50cyB0byBwYXNzIHRvIGBmdW5jdGlvbmBcbiAgICovXG4gIHBhcnNlOiAoaW5wdXQ6IHN0cmluZykgPT4gUHJvbWlzZU9yVmFsdWU8QXJncz47XG4gIC8qKlxuICAgKiBUaGUgcGFyYW1ldGVycyB0aGUgZnVuY3Rpb24gYWNjZXB0cywgZGVzY3JpYmVzIGFzIGEgSlNPTiBTY2hlbWEgb2JqZWN0LlxuICAgKi9cbiAgcGFyYW1ldGVyczogSlNPTlNjaGVtYTtcbiAgLyoqXG4gICAqIEEgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGUgZnVuY3Rpb24gZG9lcywgdXNlZCBieSB0aGUgbW9kZWwgdG8gY2hvb3NlIHdoZW4gYW5kIGhvdyB0byBjYWxsIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLiBXaWxsIGRlZmF1bHQgdG8gZnVuY3Rpb24ubmFtZSBpZiBvbWl0dGVkLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc3RyaWN0PzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFJ1bm5hYmxlRnVuY3Rpb25XaXRob3V0UGFyc2UgPSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXJncyB0aGUgcmF3IGFyZ3MgZnJvbSB0aGUgT3BlbkFJIGZ1bmN0aW9uIGNhbGwuXG4gICAqIEByZXR1cm5zIGEgc3RyaW5nIHRvIHNlbmQgYmFjayB0byBPcGVuQUlcbiAgICovXG4gIGZ1bmN0aW9uOiAoXG4gICAgYXJnczogc3RyaW5nLFxuICAgIHJ1bm5lcjogQ2hhdENvbXBsZXRpb25SdW5uZXI8dW5rbm93bj4gfCBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcjx1bmtub3duPixcbiAgKSA9PiBQcm9taXNlT3JWYWx1ZTx1bmtub3duPjtcbiAgLyoqXG4gICAqIFRoZSBwYXJhbWV0ZXJzIHRoZSBmdW5jdGlvbiBhY2NlcHRzLCBkZXNjcmliZXMgYXMgYSBKU09OIFNjaGVtYSBvYmplY3QuXG4gICAqL1xuICBwYXJhbWV0ZXJzOiBKU09OU2NoZW1hO1xuICAvKipcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoZSBmdW5jdGlvbiBkb2VzLCB1c2VkIGJ5IHRoZSBtb2RlbCB0byBjaG9vc2Ugd2hlbiBhbmQgaG93IHRvIGNhbGwgdGhlIGZ1bmN0aW9uLlxuICAgKi9cbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQuIFdpbGwgZGVmYXVsdCB0byBmdW5jdGlvbi5uYW1lIGlmIG9taXR0ZWQuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBzdHJpY3Q/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgUnVubmFibGVGdW5jdGlvbjxBcmdzIGV4dGVuZHMgb2JqZWN0IHwgc3RyaW5nPiA9XG4gIEFyZ3MgZXh0ZW5kcyBzdHJpbmcgPyBSdW5uYWJsZUZ1bmN0aW9uV2l0aG91dFBhcnNlXG4gIDogQXJncyBleHRlbmRzIG9iamVjdCA/IFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncz5cbiAgOiBuZXZlcjtcblxuZXhwb3J0IHR5cGUgUnVubmFibGVUb29sRnVuY3Rpb248QXJncyBleHRlbmRzIG9iamVjdCB8IHN0cmluZz4gPVxuICBBcmdzIGV4dGVuZHMgc3RyaW5nID8gUnVubmFibGVUb29sRnVuY3Rpb25XaXRob3V0UGFyc2VcbiAgOiBBcmdzIGV4dGVuZHMgb2JqZWN0ID8gUnVubmFibGVUb29sRnVuY3Rpb25XaXRoUGFyc2U8QXJncz5cbiAgOiBuZXZlcjtcblxuZXhwb3J0IHR5cGUgUnVubmFibGVUb29sRnVuY3Rpb25XaXRob3V0UGFyc2UgPSB7XG4gIHR5cGU6ICdmdW5jdGlvbic7XG4gIGZ1bmN0aW9uOiBSdW5uYWJsZUZ1bmN0aW9uV2l0aG91dFBhcnNlO1xufTtcbmV4cG9ydCB0eXBlIFJ1bm5hYmxlVG9vbEZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3MgZXh0ZW5kcyBvYmplY3Q+ID0ge1xuICB0eXBlOiAnZnVuY3Rpb24nO1xuICBmdW5jdGlvbjogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncyBleHRlbmRzIG9iamVjdD4oXG4gIGZuOiBhbnksXG4pOiBmbiBpcyBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+IHtcbiAgcmV0dXJuIHR5cGVvZiAoZm4gYXMgYW55KS5wYXJzZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IHR5cGUgQmFzZUZ1bmN0aW9uc0FyZ3MgPSByZWFkb25seSAob2JqZWN0IHwgc3RyaW5nKVtdO1xuXG5leHBvcnQgdHlwZSBSdW5uYWJsZUZ1bmN0aW9uczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+ID1cbiAgW2FueVtdXSBleHRlbmRzIFtGdW5jdGlvbnNBcmdzXSA/IHJlYWRvbmx5IFJ1bm5hYmxlRnVuY3Rpb248YW55PltdXG4gIDoge1xuICAgICAgW0luZGV4IGluIGtleW9mIEZ1bmN0aW9uc0FyZ3NdOiBJbmRleCBleHRlbmRzIG51bWJlciA/IFJ1bm5hYmxlRnVuY3Rpb248RnVuY3Rpb25zQXJnc1tJbmRleF0+XG4gICAgICA6IEZ1bmN0aW9uc0FyZ3NbSW5kZXhdO1xuICAgIH07XG5cbmV4cG9ydCB0eXBlIFJ1bm5hYmxlVG9vbHM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPiA9XG4gIFthbnlbXV0gZXh0ZW5kcyBbRnVuY3Rpb25zQXJnc10gPyByZWFkb25seSBSdW5uYWJsZVRvb2xGdW5jdGlvbjxhbnk+W11cbiAgOiB7XG4gICAgICBbSW5kZXggaW4ga2V5b2YgRnVuY3Rpb25zQXJnc106IEluZGV4IGV4dGVuZHMgbnVtYmVyID8gUnVubmFibGVUb29sRnVuY3Rpb248RnVuY3Rpb25zQXJnc1tJbmRleF0+XG4gICAgICA6IEZ1bmN0aW9uc0FyZ3NbSW5kZXhdO1xuICAgIH07XG5cbi8qKlxuICogVGhpcyBpcyBoZWxwZXIgY2xhc3MgZm9yIHBhc3NpbmcgYSBgZnVuY3Rpb25gIGFuZCBgcGFyc2VgIHdoZXJlIHRoZSBgZnVuY3Rpb25gXG4gKiBhcmd1bWVudCB0eXBlIG1hdGNoZXMgdGhlIGBwYXJzZWAgcmV0dXJuIHR5cGUuXG4gKlxuICogQGRlcHJlY2F0ZWQgLSBwbGVhc2UgdXNlIFBhcnNpbmdUb29sRnVuY3Rpb24gaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnNpbmdGdW5jdGlvbjxBcmdzIGV4dGVuZHMgb2JqZWN0PiB7XG4gIGZ1bmN0aW9uOiBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+WydmdW5jdGlvbiddO1xuICBwYXJzZTogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPlsncGFyc2UnXTtcbiAgcGFyYW1ldGVyczogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPlsncGFyYW1ldGVycyddO1xuICBkZXNjcmlwdGlvbjogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPlsnZGVzY3JpcHRpb24nXTtcbiAgbmFtZT86IFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncz5bJ25hbWUnXTtcblxuICBjb25zdHJ1Y3RvcihpbnB1dDogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPikge1xuICAgIHRoaXMuZnVuY3Rpb24gPSBpbnB1dC5mdW5jdGlvbjtcbiAgICB0aGlzLnBhcnNlID0gaW5wdXQucGFyc2U7XG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gaW5wdXQucGFyYW1ldGVycztcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gaW5wdXQuZGVzY3JpcHRpb247XG4gICAgdGhpcy5uYW1lID0gaW5wdXQubmFtZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgaGVscGVyIGNsYXNzIGZvciBwYXNzaW5nIGEgYGZ1bmN0aW9uYCBhbmQgYHBhcnNlYCB3aGVyZSB0aGUgYGZ1bmN0aW9uYFxuICogYXJndW1lbnQgdHlwZSBtYXRjaGVzIHRoZSBgcGFyc2VgIHJldHVybiB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgUGFyc2luZ1Rvb2xGdW5jdGlvbjxBcmdzIGV4dGVuZHMgb2JqZWN0PiB7XG4gIHR5cGU6ICdmdW5jdGlvbic7XG4gIGZ1bmN0aW9uOiBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+O1xuXG4gIGNvbnN0cnVjdG9yKGlucHV0OiBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+KSB7XG4gICAgdGhpcy50eXBlID0gJ2Z1bmN0aW9uJztcbiAgICB0aGlzLmZ1bmN0aW9uID0gaW5wdXQ7XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICB0eXBlIENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtLFxuICB0eXBlIENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW0sXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtLFxufSBmcm9tICcuLi9yZXNvdXJjZXMnO1xuXG5leHBvcnQgY29uc3QgaXNBc3Npc3RhbnRNZXNzYWdlID0gKFxuICBtZXNzYWdlOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSB8IG51bGwgfCB1bmRlZmluZWQsXG4pOiBtZXNzYWdlIGlzIENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtID0+IHtcbiAgcmV0dXJuIG1lc3NhZ2U/LnJvbGUgPT09ICdhc3Npc3RhbnQnO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRnVuY3Rpb25NZXNzYWdlID0gKFxuICBtZXNzYWdlOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSB8IG51bGwgfCB1bmRlZmluZWQsXG4pOiBtZXNzYWdlIGlzIENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW0gPT4ge1xuICByZXR1cm4gbWVzc2FnZT8ucm9sZSA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbmV4cG9ydCBjb25zdCBpc1Rvb2xNZXNzYWdlID0gKFxuICBtZXNzYWdlOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSB8IG51bGwgfCB1bmRlZmluZWQsXG4pOiBtZXNzYWdlIGlzIENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbSA9PiB7XG4gIHJldHVybiBtZXNzYWdlPy5yb2xlID09PSAndG9vbCc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmVzZW50PFQ+KG9iajogVCB8IG51bGwgfCB1bmRlZmluZWQpOiBvYmogaXMgVCB7XG4gIHJldHVybiBvYmogIT0gbnVsbDtcbn1cbiIsICJpbXBvcnQgeyBBUElVc2VyQWJvcnRFcnJvciwgT3BlbkFJRXJyb3IgfSBmcm9tICcuLi9lcnJvcic7XG5cbmV4cG9ydCBjbGFzcyBFdmVudFN0cmVhbTxFdmVudFR5cGVzIGV4dGVuZHMgQmFzZUV2ZW50cz4ge1xuICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgI2Nvbm5lY3RlZFByb21pc2U6IFByb21pc2U8dm9pZD47XG4gICNyZXNvbHZlQ29ubmVjdGVkUHJvbWlzZTogKCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAjcmVqZWN0Q29ubmVjdGVkUHJvbWlzZTogKGVycm9yOiBPcGVuQUlFcnJvcikgPT4gdm9pZCA9ICgpID0+IHt9O1xuXG4gICNlbmRQcm9taXNlOiBQcm9taXNlPHZvaWQ+O1xuICAjcmVzb2x2ZUVuZFByb21pc2U6ICgpID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgI3JlamVjdEVuZFByb21pc2U6IChlcnJvcjogT3BlbkFJRXJyb3IpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICAjbGlzdGVuZXJzOiB7XG4gICAgW0V2ZW50IGluIGtleW9mIEV2ZW50VHlwZXNdPzogRXZlbnRMaXN0ZW5lcnM8RXZlbnRUeXBlcywgRXZlbnQ+O1xuICB9ID0ge307XG5cbiAgI2VuZGVkID0gZmFsc2U7XG4gICNlcnJvcmVkID0gZmFsc2U7XG4gICNhYm9ydGVkID0gZmFsc2U7XG4gICNjYXRjaGluZ1Byb21pc2VDcmVhdGVkID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy4jY29ubmVjdGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuI3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgIHRoaXMuI3JlamVjdENvbm5lY3RlZFByb21pc2UgPSByZWplY3Q7XG4gICAgfSk7XG5cbiAgICB0aGlzLiNlbmRQcm9taXNlID0gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy4jcmVzb2x2ZUVuZFByb21pc2UgPSByZXNvbHZlO1xuICAgICAgdGhpcy4jcmVqZWN0RW5kUHJvbWlzZSA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIC8vIERvbid0IGxldCB0aGVzZSBwcm9taXNlcyBjYXVzZSB1bmhhbmRsZWQgcmVqZWN0aW9uIGVycm9ycy5cbiAgICAvLyB3ZSB3aWxsIG1hbnVhbGx5IGNhdXNlIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gZXJyb3IgbGF0ZXJcbiAgICAvLyBpZiB0aGUgdXNlciBoYXNuJ3QgcmVnaXN0ZXJlZCBhbnkgZXJyb3IgbGlzdGVuZXIgb3IgY2FsbGVkXG4gICAgLy8gYW55IHByb21pc2UtcmV0dXJuaW5nIG1ldGhvZC5cbiAgICB0aGlzLiNjb25uZWN0ZWRQcm9taXNlLmNhdGNoKCgpID0+IHt9KTtcbiAgICB0aGlzLiNlbmRQcm9taXNlLmNhdGNoKCgpID0+IHt9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfcnVuKHRoaXM6IEV2ZW50U3RyZWFtPEV2ZW50VHlwZXM+LCBleGVjdXRvcjogKCkgPT4gUHJvbWlzZTxhbnk+KSB7XG4gICAgLy8gVW5mb3J0dW5hdGVseSBpZiB3ZSBjYWxsIGBleGVjdXRvcigpYCBpbW1lZGlhdGVseSB3ZSBnZXQgcnVudGltZSBlcnJvcnMgYWJvdXRcbiAgICAvLyByZWZlcmVuY2VzIHRvIGB0aGlzYCBiZWZvcmUgdGhlIGBzdXBlcigpYCBjb25zdHJ1Y3RvciBjYWxsIHJldHVybnMuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBleGVjdXRvcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLl9lbWl0RmluYWwoKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnZW5kJyk7XG4gICAgICB9LCB0aGlzLiNoYW5kbGVFcnJvci5iaW5kKHRoaXMpKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfY29ubmVjdGVkKHRoaXM6IEV2ZW50U3RyZWFtPEV2ZW50VHlwZXM+KSB7XG4gICAgaWYgKHRoaXMuZW5kZWQpIHJldHVybjtcbiAgICB0aGlzLiNyZXNvbHZlQ29ubmVjdGVkUHJvbWlzZSgpO1xuICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3QnKTtcbiAgfVxuXG4gIGdldCBlbmRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy4jZW5kZWQ7XG4gIH1cblxuICBnZXQgZXJyb3JlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy4jZXJyb3JlZDtcbiAgfVxuXG4gIGdldCBhYm9ydGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLiNhYm9ydGVkO1xuICB9XG5cbiAgYWJvcnQoKSB7XG4gICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgbGlzdGVuZXJzIGFycmF5IGZvciB0aGUgZXZlbnQuXG4gICAqIE5vIGNoZWNrcyBhcmUgbWFkZSB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQuIE11bHRpcGxlIGNhbGxzIHBhc3NpbmdcbiAgICogdGhlIHNhbWUgY29tYmluYXRpb24gb2YgZXZlbnQgYW5kIGxpc3RlbmVyIHdpbGwgcmVzdWx0IGluIHRoZSBsaXN0ZW5lciBiZWluZyBhZGRlZCwgYW5kXG4gICAqIGNhbGxlZCwgbXVsdGlwbGUgdGltZXMuXG4gICAqIEByZXR1cm5zIHRoaXMgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICovXG4gIG9uPEV2ZW50IGV4dGVuZHMga2V5b2YgRXZlbnRUeXBlcz4oZXZlbnQ6IEV2ZW50LCBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjxFdmVudFR5cGVzLCBFdmVudD4pOiB0aGlzIHtcbiAgICBjb25zdCBsaXN0ZW5lcnM6IEV2ZW50TGlzdGVuZXJzPEV2ZW50VHlwZXMsIEV2ZW50PiA9XG4gICAgICB0aGlzLiNsaXN0ZW5lcnNbZXZlbnRdIHx8ICh0aGlzLiNsaXN0ZW5lcnNbZXZlbnRdID0gW10pO1xuICAgIGxpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXIgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGxpc3RlbmVyIGZyb20gdGhlIGxpc3RlbmVyIGFycmF5IGZvciB0aGUgZXZlbnQuXG4gICAqIG9mZigpIHdpbGwgcmVtb3ZlLCBhdCBtb3N0LCBvbmUgaW5zdGFuY2Ugb2YgYSBsaXN0ZW5lciBmcm9tIHRoZSBsaXN0ZW5lciBhcnJheS4gSWYgYW55IHNpbmdsZVxuICAgKiBsaXN0ZW5lciBoYXMgYmVlbiBhZGRlZCBtdWx0aXBsZSB0aW1lcyB0byB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQsIHRoZW5cbiAgICogb2ZmKCkgbXVzdCBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgdG8gcmVtb3ZlIGVhY2ggaW5zdGFuY2UuXG4gICAqIEByZXR1cm5zIHRoaXMgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICovXG4gIG9mZjxFdmVudCBleHRlbmRzIGtleW9mIEV2ZW50VHlwZXM+KGV2ZW50OiBFdmVudCwgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXI8RXZlbnRUeXBlcywgRXZlbnQ+KTogdGhpcyB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy4jbGlzdGVuZXJzW2V2ZW50XTtcbiAgICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIHRoaXM7XG4gICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuZmluZEluZGV4KChsKSA9PiBsLmxpc3RlbmVyID09PSBsaXN0ZW5lcik7XG4gICAgaWYgKGluZGV4ID49IDApIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBvbmUtdGltZSBsaXN0ZW5lciBmdW5jdGlvbiBmb3IgdGhlIGV2ZW50LiBUaGUgbmV4dCB0aW1lIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQsXG4gICAqIHRoaXMgbGlzdGVuZXIgaXMgcmVtb3ZlZCBhbmQgdGhlbiBpbnZva2VkLlxuICAgKiBAcmV0dXJucyB0aGlzIENoYXRDb21wbGV0aW9uU3RyZWFtLCBzbyB0aGF0IGNhbGxzIGNhbiBiZSBjaGFpbmVkXG4gICAqL1xuICBvbmNlPEV2ZW50IGV4dGVuZHMga2V5b2YgRXZlbnRUeXBlcz4oZXZlbnQ6IEV2ZW50LCBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjxFdmVudFR5cGVzLCBFdmVudD4pOiB0aGlzIHtcbiAgICBjb25zdCBsaXN0ZW5lcnM6IEV2ZW50TGlzdGVuZXJzPEV2ZW50VHlwZXMsIEV2ZW50PiA9XG4gICAgICB0aGlzLiNsaXN0ZW5lcnNbZXZlbnRdIHx8ICh0aGlzLiNsaXN0ZW5lcnNbZXZlbnRdID0gW10pO1xuICAgIGxpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXIsIG9uY2U6IHRydWUgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyBzaW1pbGFyIHRvIGAub25jZSgpYCwgYnV0IHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdGhlIG5leHQgdGltZVxuICAgKiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLCBpbnN0ZWFkIG9mIGNhbGxpbmcgYSBsaXN0ZW5lciBjYWxsYmFjay5cbiAgICogQHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdGhlIG5leHQgdGltZSBnaXZlbiBldmVudCBpcyB0cmlnZ2VyZWQsXG4gICAqIG9yIHJlamVjdHMgaWYgYW4gZXJyb3IgaXMgZW1pdHRlZC4gIChJZiB5b3UgcmVxdWVzdCB0aGUgJ2Vycm9yJyBldmVudCxcbiAgICogcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBlcnJvcikuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHN0cmVhbS5lbWl0dGVkKCdtZXNzYWdlJykgLy8gcmVqZWN0cyBpZiB0aGUgc3RyZWFtIGVycm9yc1xuICAgKi9cbiAgZW1pdHRlZDxFdmVudCBleHRlbmRzIGtleW9mIEV2ZW50VHlwZXM+KFxuICAgIGV2ZW50OiBFdmVudCxcbiAgKTogUHJvbWlzZTxcbiAgICBFdmVudFBhcmFtZXRlcnM8RXZlbnRUeXBlcywgRXZlbnQ+IGV4dGVuZHMgW2luZmVyIFBhcmFtXSA/IFBhcmFtXG4gICAgOiBFdmVudFBhcmFtZXRlcnM8RXZlbnRUeXBlcywgRXZlbnQ+IGV4dGVuZHMgW10gPyB2b2lkXG4gICAgOiBFdmVudFBhcmFtZXRlcnM8RXZlbnRUeXBlcywgRXZlbnQ+XG4gID4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLiNjYXRjaGluZ1Byb21pc2VDcmVhdGVkID0gdHJ1ZTtcbiAgICAgIGlmIChldmVudCAhPT0gJ2Vycm9yJykgdGhpcy5vbmNlKCdlcnJvcicsIHJlamVjdCk7XG4gICAgICB0aGlzLm9uY2UoZXZlbnQsIHJlc29sdmUgYXMgYW55KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGRvbmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy4jY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCA9IHRydWU7XG4gICAgYXdhaXQgdGhpcy4jZW5kUHJvbWlzZTtcbiAgfVxuXG4gICNoYW5kbGVFcnJvcih0aGlzOiBFdmVudFN0cmVhbTxFdmVudFR5cGVzPiwgZXJyb3I6IHVua25vd24pIHtcbiAgICB0aGlzLiNlcnJvcmVkID0gdHJ1ZTtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgIGVycm9yID0gbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFQSVVzZXJBYm9ydEVycm9yKSB7XG4gICAgICB0aGlzLiNhYm9ydGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzLl9lbWl0KCdhYm9ydCcsIGVycm9yKTtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgT3BlbkFJRXJyb3IpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNvbnN0IG9wZW5BSUVycm9yOiBPcGVuQUlFcnJvciA9IG5ldyBPcGVuQUlFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIG9wZW5BSUVycm9yLmNhdXNlID0gZXJyb3I7XG4gICAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBvcGVuQUlFcnJvcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBPcGVuQUlFcnJvcihTdHJpbmcoZXJyb3IpKSk7XG4gIH1cblxuICBfZW1pdDxFdmVudCBleHRlbmRzIGtleW9mIEJhc2VFdmVudHM+KGV2ZW50OiBFdmVudCwgLi4uYXJnczogRXZlbnRQYXJhbWV0ZXJzPEJhc2VFdmVudHMsIEV2ZW50Pik6IHZvaWQ7XG4gIF9lbWl0PEV2ZW50IGV4dGVuZHMga2V5b2YgRXZlbnRUeXBlcz4oZXZlbnQ6IEV2ZW50LCAuLi5hcmdzOiBFdmVudFBhcmFtZXRlcnM8RXZlbnRUeXBlcywgRXZlbnQ+KTogdm9pZDtcbiAgX2VtaXQ8RXZlbnQgZXh0ZW5kcyBrZXlvZiBFdmVudFR5cGVzPihcbiAgICB0aGlzOiBFdmVudFN0cmVhbTxFdmVudFR5cGVzPixcbiAgICBldmVudDogRXZlbnQsXG4gICAgLi4uYXJnczogRXZlbnRQYXJhbWV0ZXJzPEV2ZW50VHlwZXMsIEV2ZW50PlxuICApIHtcbiAgICAvLyBtYWtlIHN1cmUgd2UgZG9uJ3QgZW1pdCBhbnkgZXZlbnRzIGFmdGVyIGVuZFxuICAgIGlmICh0aGlzLiNlbmRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudCA9PT0gJ2VuZCcpIHtcbiAgICAgIHRoaXMuI2VuZGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuI3Jlc29sdmVFbmRQcm9taXNlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzOiBFdmVudExpc3RlbmVyczxFdmVudFR5cGVzLCBFdmVudD4gfCB1bmRlZmluZWQgPSB0aGlzLiNsaXN0ZW5lcnNbZXZlbnRdO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMuI2xpc3RlbmVyc1tldmVudF0gPSBsaXN0ZW5lcnMuZmlsdGVyKChsKSA9PiAhbC5vbmNlKSBhcyBhbnk7XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgoeyBsaXN0ZW5lciB9OiBhbnkpID0+IGxpc3RlbmVyKC4uLihhcmdzIGFzIGFueSkpKTtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQgPT09ICdhYm9ydCcpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gYXJnc1swXSBhcyBBUElVc2VyQWJvcnRFcnJvcjtcbiAgICAgIGlmICghdGhpcy4jY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCAmJiAhbGlzdGVuZXJzPy5sZW5ndGgpIHtcbiAgICAgICAgUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgICAgdGhpcy4jcmVqZWN0Q29ubmVjdGVkUHJvbWlzZShlcnJvcik7XG4gICAgICB0aGlzLiNyZWplY3RFbmRQcm9taXNlKGVycm9yKTtcbiAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudCA9PT0gJ2Vycm9yJykge1xuICAgICAgLy8gTk9URTogX2VtaXQoJ2Vycm9yJywgZXJyb3IpIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBmcm9tICNoYW5kbGVFcnJvcigpLlxuXG4gICAgICBjb25zdCBlcnJvciA9IGFyZ3NbMF0gYXMgT3BlbkFJRXJyb3I7XG4gICAgICBpZiAoIXRoaXMuI2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQgJiYgIWxpc3RlbmVycz8ubGVuZ3RoKSB7XG4gICAgICAgIC8vIFRyaWdnZXIgYW4gdW5oYW5kbGVkIHJlamVjdGlvbiBpZiB0aGUgdXNlciBoYXNuJ3QgcmVnaXN0ZXJlZCBhbnkgZXJyb3IgaGFuZGxlcnMuXG4gICAgICAgIC8vIElmIHlvdSBhcmUgc2VlaW5nIHN0YWNrIHRyYWNlcyBoZXJlLCBtYWtlIHN1cmUgdG8gaGFuZGxlIGVycm9ycyB2aWEgZWl0aGVyOlxuICAgICAgICAvLyAtIHJ1bm5lci5vbignZXJyb3InLCAoKSA9PiAuLi4pXG4gICAgICAgIC8vIC0gYXdhaXQgcnVubmVyLmRvbmUoKVxuICAgICAgICAvLyAtIGF3YWl0IHJ1bm5lci5maW5hbENoYXRDb21wbGV0aW9uKClcbiAgICAgICAgLy8gLSBldGMuXG4gICAgICAgIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuI3JlamVjdENvbm5lY3RlZFByb21pc2UoZXJyb3IpO1xuICAgICAgdGhpcy4jcmVqZWN0RW5kUHJvbWlzZShlcnJvcik7XG4gICAgICB0aGlzLl9lbWl0KCdlbmQnKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgX2VtaXRGaW5hbCgpOiB2b2lkIHt9XG59XG5cbnR5cGUgRXZlbnRMaXN0ZW5lcjxFdmVudHMsIEV2ZW50VHlwZSBleHRlbmRzIGtleW9mIEV2ZW50cz4gPSBFdmVudHNbRXZlbnRUeXBlXTtcblxudHlwZSBFdmVudExpc3RlbmVyczxFdmVudHMsIEV2ZW50VHlwZSBleHRlbmRzIGtleW9mIEV2ZW50cz4gPSBBcnJheTx7XG4gIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyPEV2ZW50cywgRXZlbnRUeXBlPjtcbiAgb25jZT86IGJvb2xlYW47XG59PjtcblxuZXhwb3J0IHR5cGUgRXZlbnRQYXJhbWV0ZXJzPEV2ZW50cywgRXZlbnRUeXBlIGV4dGVuZHMga2V5b2YgRXZlbnRzPiA9IHtcbiAgW0V2ZW50IGluIEV2ZW50VHlwZV06IEV2ZW50TGlzdGVuZXI8RXZlbnRzLCBFdmVudFR5cGU+IGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIFApID0+IGFueSA/IFAgOiBuZXZlcjtcbn1bRXZlbnRUeXBlXTtcblxuZXhwb3J0IGludGVyZmFjZSBCYXNlRXZlbnRzIHtcbiAgY29ubmVjdDogKCkgPT4gdm9pZDtcbiAgZXJyb3I6IChlcnJvcjogT3BlbkFJRXJyb3IpID0+IHZvaWQ7XG4gIGFib3J0OiAoZXJyb3I6IEFQSVVzZXJBYm9ydEVycm9yKSA9PiB2b2lkO1xuICBlbmQ6ICgpID0+IHZvaWQ7XG59XG4iLCAiaW1wb3J0IHtcbiAgQ2hhdENvbXBsZXRpb24sXG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCxcbiAgQ2hhdENvbXBsZXRpb25Ub29sLFxufSBmcm9tICcuLi9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucyc7XG5pbXBvcnQge1xuICBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1Rvb2xSdW5uZXJQYXJhbXMsXG4gIENoYXRDb21wbGV0aW9uU3RyZWFtUGFyYW1zLFxuICBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXMsXG4gIFBhcnNlZENoYXRDb21wbGV0aW9uLFxuICBQYXJzZWRDaG9pY2UsXG4gIFBhcnNlZEZ1bmN0aW9uVG9vbENhbGwsXG59IGZyb20gJy4uL3Jlc291cmNlcy9iZXRhL2NoYXQvY29tcGxldGlvbnMnO1xuaW1wb3J0IHsgUmVzcG9uc2VGb3JtYXRKU09OU2NoZW1hIH0gZnJvbSAnLi4vcmVzb3VyY2VzL3NoYXJlZCc7XG5pbXBvcnQgeyBDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IsIExlbmd0aEZpbmlzaFJlYXNvbkVycm9yLCBPcGVuQUlFcnJvciB9IGZyb20gJy4uL2Vycm9yJztcbmltcG9ydCB7IHR5cGUgUmVzcG9uc2VGb3JtYXRUZXh0SlNPTlNjaGVtYUNvbmZpZyB9IGZyb20gJy4uL3Jlc291cmNlcy9yZXNwb25zZXMvcmVzcG9uc2VzJztcblxudHlwZSBBbnlDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyA9XG4gIHwgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNcbiAgfCBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXM8YW55PlxuICB8IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtczxhbnk+XG4gIHwgQ2hhdENvbXBsZXRpb25TdHJlYW1QYXJhbXM7XG5cbmV4cG9ydCB0eXBlIEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXMgZXh0ZW5kcyBBbnlDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcz4gPVxuICBQYXJhbXNbJ3Jlc3BvbnNlX2Zvcm1hdCddIGV4dGVuZHMgQXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0PGluZmVyIFA+ID8gUCA6IG51bGw7XG5cbmV4cG9ydCB0eXBlIEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdDxQYXJzZWRUPiA9IFJlc3BvbnNlRm9ybWF0SlNPTlNjaGVtYSAmIHtcbiAgX19vdXRwdXQ6IFBhcnNlZFQ7IC8vIHR5cGUtbGV2ZWwgb25seVxuXG4gICRicmFuZDogJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCc7XG4gICRwYXJzZVJhdyhjb250ZW50OiBzdHJpbmcpOiBQYXJzZWRUO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVSZXNwb25zZUZvcm1hdDxQYXJzZWRUPihcbiAgcmVzcG9uc2VfZm9ybWF0OiBSZXNwb25zZUZvcm1hdEpTT05TY2hlbWEsXG4gIHBhcnNlcjogKGNvbnRlbnQ6IHN0cmluZykgPT4gUGFyc2VkVCxcbik6IEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdDxQYXJzZWRUPiB7XG4gIGNvbnN0IG9iaiA9IHsgLi4ucmVzcG9uc2VfZm9ybWF0IH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgJGJyYW5kOiB7XG4gICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCcsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9LFxuICAgICRwYXJzZVJhdzoge1xuICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBvYmogYXMgQXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0PFBhcnNlZFQ+O1xufVxuXG5leHBvcnQgdHlwZSBBdXRvUGFyc2VhYmxlVGV4dEZvcm1hdDxQYXJzZWRUPiA9IFJlc3BvbnNlRm9ybWF0VGV4dEpTT05TY2hlbWFDb25maWcgJiB7XG4gIF9fb3V0cHV0OiBQYXJzZWRUOyAvLyB0eXBlLWxldmVsIG9ubHlcblxuICAkYnJhbmQ6ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnO1xuICAkcGFyc2VSYXcoY29udGVudDogc3RyaW5nKTogUGFyc2VkVDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlVGV4dEZvcm1hdDxQYXJzZWRUPihcbiAgcmVzcG9uc2VfZm9ybWF0OiBSZXNwb25zZUZvcm1hdFRleHRKU09OU2NoZW1hQ29uZmlnLFxuICBwYXJzZXI6IChjb250ZW50OiBzdHJpbmcpID0+IFBhcnNlZFQsXG4pOiBBdXRvUGFyc2VhYmxlVGV4dEZvcm1hdDxQYXJzZWRUPiB7XG4gIGNvbnN0IG9iaiA9IHsgLi4ucmVzcG9uc2VfZm9ybWF0IH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgJGJyYW5kOiB7XG4gICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCcsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9LFxuICAgICRwYXJzZVJhdzoge1xuICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBvYmogYXMgQXV0b1BhcnNlYWJsZVRleHRGb3JtYXQ8UGFyc2VkVD47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0PFBhcnNlZFQ+KFxuICByZXNwb25zZV9mb3JtYXQ6IGFueSxcbik6IHJlc3BvbnNlX2Zvcm1hdCBpcyBBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQ8UGFyc2VkVD4ge1xuICByZXR1cm4gcmVzcG9uc2VfZm9ybWF0Py5bJyRicmFuZCddID09PSAnYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0Jztcbn1cblxudHlwZSBUb29sT3B0aW9ucyA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICBhcmd1bWVudHM6IGFueTtcbiAgZnVuY3Rpb24/OiAoKGFyZ3M6IGFueSkgPT4gYW55KSB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIEF1dG9QYXJzZWFibGVUb29sPFxuICBPcHRpb25zVCBleHRlbmRzIFRvb2xPcHRpb25zLFxuICBIYXNGdW5jdGlvbiA9IE9wdGlvbnNUWydmdW5jdGlvbiddIGV4dGVuZHMgRnVuY3Rpb24gPyB0cnVlIDogZmFsc2UsXG4+ID0gQ2hhdENvbXBsZXRpb25Ub29sICYge1xuICBfX2FyZ3VtZW50czogT3B0aW9uc1RbJ2FyZ3VtZW50cyddOyAvLyB0eXBlLWxldmVsIG9ubHlcbiAgX19uYW1lOiBPcHRpb25zVFsnbmFtZSddOyAvLyB0eXBlLWxldmVsIG9ubHlcbiAgX19oYXNGdW5jdGlvbjogSGFzRnVuY3Rpb247IC8vIHR5cGUtbGV2ZWwgb25seVxuXG4gICRicmFuZDogJ2F1dG8tcGFyc2VhYmxlLXRvb2wnO1xuICAkY2FsbGJhY2s6ICgoYXJnczogT3B0aW9uc1RbJ2FyZ3VtZW50cyddKSA9PiBhbnkpIHwgdW5kZWZpbmVkO1xuICAkcGFyc2VSYXcoYXJnczogc3RyaW5nKTogT3B0aW9uc1RbJ2FyZ3VtZW50cyddO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVUb29sPE9wdGlvbnNUIGV4dGVuZHMgVG9vbE9wdGlvbnM+KFxuICB0b29sOiBDaGF0Q29tcGxldGlvblRvb2wsXG4gIHtcbiAgICBwYXJzZXIsXG4gICAgY2FsbGJhY2ssXG4gIH06IHtcbiAgICBwYXJzZXI6IChjb250ZW50OiBzdHJpbmcpID0+IE9wdGlvbnNUWydhcmd1bWVudHMnXTtcbiAgICBjYWxsYmFjazogKChhcmdzOiBhbnkpID0+IGFueSkgfCB1bmRlZmluZWQ7XG4gIH0sXG4pOiBBdXRvUGFyc2VhYmxlVG9vbDxPcHRpb25zVFsnYXJndW1lbnRzJ10+IHtcbiAgY29uc3Qgb2JqID0geyAuLi50b29sIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgJGJyYW5kOiB7XG4gICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXRvb2wnLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSxcbiAgICAkcGFyc2VSYXc6IHtcbiAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9LFxuICAgICRjYWxsYmFjazoge1xuICAgICAgdmFsdWU6IGNhbGxiYWNrLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIG9iaiBhcyBBdXRvUGFyc2VhYmxlVG9vbDxPcHRpb25zVFsnYXJndW1lbnRzJ10+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBdXRvUGFyc2FibGVUb29sKHRvb2w6IGFueSk6IHRvb2wgaXMgQXV0b1BhcnNlYWJsZVRvb2w8YW55PiB7XG4gIHJldHVybiB0b29sPy5bJyRicmFuZCddID09PSAnYXV0by1wYXJzZWFibGUtdG9vbCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXliZVBhcnNlQ2hhdENvbXBsZXRpb248XG4gIFBhcmFtcyBleHRlbmRzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIHwgbnVsbCxcbiAgUGFyc2VkVCA9IFBhcmFtcyBleHRlbmRzIG51bGwgPyBudWxsIDogRXh0cmFjdFBhcnNlZENvbnRlbnRGcm9tUGFyYW1zPE5vbk51bGxhYmxlPFBhcmFtcz4+LFxuPihjb21wbGV0aW9uOiBDaGF0Q29tcGxldGlvbiwgcGFyYW1zOiBQYXJhbXMpOiBQYXJzZWRDaGF0Q29tcGxldGlvbjxQYXJzZWRUPiB7XG4gIGlmICghcGFyYW1zIHx8ICFoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5jb21wbGV0aW9uLFxuICAgICAgY2hvaWNlczogY29tcGxldGlvbi5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiAoe1xuICAgICAgICAuLi5jaG9pY2UsXG4gICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAuLi5jaG9pY2UubWVzc2FnZSxcbiAgICAgICAgICBwYXJzZWQ6IG51bGwsXG4gICAgICAgICAgLi4uKGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgP1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b29sX2NhbGxzOiBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgfSxcbiAgICAgIH0pKSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlQ2hhdENvbXBsZXRpb24oY29tcGxldGlvbiwgcGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ2hhdENvbXBsZXRpb248XG4gIFBhcmFtcyBleHRlbmRzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICBQYXJzZWRUID0gRXh0cmFjdFBhcnNlZENvbnRlbnRGcm9tUGFyYW1zPFBhcmFtcz4sXG4+KGNvbXBsZXRpb246IENoYXRDb21wbGV0aW9uLCBwYXJhbXM6IFBhcmFtcyk6IFBhcnNlZENoYXRDb21wbGV0aW9uPFBhcnNlZFQ+IHtcbiAgY29uc3QgY2hvaWNlczogQXJyYXk8UGFyc2VkQ2hvaWNlPFBhcnNlZFQ+PiA9IGNvbXBsZXRpb24uY2hvaWNlcy5tYXAoKGNob2ljZSk6IFBhcnNlZENob2ljZTxQYXJzZWRUPiA9PiB7XG4gICAgaWYgKGNob2ljZS5maW5pc2hfcmVhc29uID09PSAnbGVuZ3RoJykge1xuICAgICAgdGhyb3cgbmV3IExlbmd0aEZpbmlzaFJlYXNvbkVycm9yKCk7XG4gICAgfVxuXG4gICAgaWYgKGNob2ljZS5maW5pc2hfcmVhc29uID09PSAnY29udGVudF9maWx0ZXInKSB7XG4gICAgICB0aHJvdyBuZXcgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmNob2ljZSxcbiAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgLi4uY2hvaWNlLm1lc3NhZ2UsXG4gICAgICAgIC4uLihjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzID9cbiAgICAgICAgICB7XG4gICAgICAgICAgICB0b29sX2NhbGxzOlxuICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzPy5tYXAoKHRvb2xDYWxsKSA9PiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpKSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZCksXG4gICAgICAgIHBhcnNlZDpcbiAgICAgICAgICBjaG9pY2UubWVzc2FnZS5jb250ZW50ICYmICFjaG9pY2UubWVzc2FnZS5yZWZ1c2FsID9cbiAgICAgICAgICAgIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjaG9pY2UubWVzc2FnZS5jb250ZW50KVxuICAgICAgICAgIDogbnVsbCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHsgLi4uY29tcGxldGlvbiwgY2hvaWNlcyB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZVJlc3BvbnNlRm9ybWF0PFxuICBQYXJhbXMgZXh0ZW5kcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgUGFyc2VkVCA9IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXM+LFxuPihwYXJhbXM6IFBhcmFtcywgY29udGVudDogc3RyaW5nKTogUGFyc2VkVCB8IG51bGwge1xuICBpZiAocGFyYW1zLnJlc3BvbnNlX2Zvcm1hdD8udHlwZSAhPT0gJ2pzb25fc2NoZW1hJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5yZXNwb25zZV9mb3JtYXQ/LnR5cGUgPT09ICdqc29uX3NjaGVtYScpIHtcbiAgICBpZiAoJyRwYXJzZVJhdycgaW4gcGFyYW1zLnJlc3BvbnNlX2Zvcm1hdCkge1xuICAgICAgY29uc3QgcmVzcG9uc2VfZm9ybWF0ID0gcGFyYW1zLnJlc3BvbnNlX2Zvcm1hdCBhcyBBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQ8UGFyc2VkVD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZV9mb3JtYXQuJHBhcnNlUmF3KGNvbnRlbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBKU09OLnBhcnNlKGNvbnRlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG9vbENhbGw8UGFyYW1zIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXM+KFxuICBwYXJhbXM6IFBhcmFtcyxcbiAgdG9vbENhbGw6IENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsLFxuKTogUGFyc2VkRnVuY3Rpb25Ub29sQ2FsbCB7XG4gIGNvbnN0IGlucHV0VG9vbCA9IHBhcmFtcy50b29scz8uZmluZCgoaW5wdXRUb29sKSA9PiBpbnB1dFRvb2wuZnVuY3Rpb24/Lm5hbWUgPT09IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUpO1xuICByZXR1cm4ge1xuICAgIC4uLnRvb2xDYWxsLFxuICAgIGZ1bmN0aW9uOiB7XG4gICAgICAuLi50b29sQ2FsbC5mdW5jdGlvbixcbiAgICAgIHBhcnNlZF9hcmd1bWVudHM6XG4gICAgICAgIGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpID8gaW5wdXRUb29sLiRwYXJzZVJhdyh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgIDogaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cylcbiAgICAgICAgOiBudWxsLFxuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRQYXJzZVRvb2xDYWxsKFxuICBwYXJhbXM6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgdG9vbENhbGw6IENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsLFxuKTogYm9vbGVhbiB7XG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgaW5wdXRUb29sID0gcGFyYW1zLnRvb2xzPy5maW5kKChpbnB1dFRvb2wpID0+IGlucHV0VG9vbC5mdW5jdGlvbj8ubmFtZSA9PT0gdG9vbENhbGwuZnVuY3Rpb24ubmFtZSk7XG4gIHJldHVybiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSB8fCBpbnB1dFRvb2w/LmZ1bmN0aW9uLnN0cmljdCB8fCBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXM6IEFueUNoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zKTogYm9vbGVhbiB7XG4gIGlmIChpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHBhcmFtcy5yZXNwb25zZV9mb3JtYXQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIHBhcmFtcy50b29scz8uc29tZShcbiAgICAgICh0KSA9PiBpc0F1dG9QYXJzYWJsZVRvb2wodCkgfHwgKHQudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0LmZ1bmN0aW9uLnN0cmljdCA9PT0gdHJ1ZSksXG4gICAgKSA/PyBmYWxzZVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVJbnB1dFRvb2xzKHRvb2xzOiBDaGF0Q29tcGxldGlvblRvb2xbXSB8IHVuZGVmaW5lZCkge1xuICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMgPz8gW10pIHtcbiAgICBpZiAodG9vbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgIGBDdXJyZW50bHkgb25seSBcXGBmdW5jdGlvblxcYCB0b29sIHR5cGVzIHN1cHBvcnQgYXV0by1wYXJzaW5nOyBSZWNlaXZlZCBcXGAke3Rvb2wudHlwZX1cXGBgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodG9vbC5mdW5jdGlvbi5zdHJpY3QgIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihcbiAgICAgICAgYFRoZSBcXGAke3Rvb2wuZnVuY3Rpb24ubmFtZX1cXGAgdG9vbCBpcyBub3QgbWFya2VkIHdpdGggXFxgc3RyaWN0OiB0cnVlXFxgLiBPbmx5IHN0cmljdCBmdW5jdGlvbiB0b29scyBjYW4gYmUgYXV0by1wYXJzZWRgLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0IHsgdHlwZSBDb21wbGV0aW9uVXNhZ2UgfSBmcm9tICcuLi9yZXNvdXJjZXMvY29tcGxldGlvbnMnO1xuaW1wb3J0IHtcbiAgdHlwZSBDaGF0Q29tcGxldGlvbixcbiAgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sLFxufSBmcm9tICcuLi9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucyc7XG5pbXBvcnQgeyBPcGVuQUlFcnJvciB9IGZyb20gJy4uL2Vycm9yJztcbmltcG9ydCB7XG4gIHR5cGUgUnVubmFibGVGdW5jdGlvbixcbiAgaXNSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlLFxuICB0eXBlIEJhc2VGdW5jdGlvbnNBcmdzLFxuICBSdW5uYWJsZVRvb2xGdW5jdGlvbixcbn0gZnJvbSAnLi9SdW5uYWJsZUZ1bmN0aW9uJztcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uRnVuY3Rpb25SdW5uZXJQYXJhbXMsIENoYXRDb21wbGV0aW9uVG9vbFJ1bm5lclBhcmFtcyB9IGZyb20gJy4vQ2hhdENvbXBsZXRpb25SdW5uZXInO1xuaW1wb3J0IHtcbiAgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdGdW5jdGlvblJ1bm5lclBhcmFtcyxcbiAgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdUb29sUnVubmVyUGFyYW1zLFxufSBmcm9tICcuL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyJztcbmltcG9ydCB7IGlzQXNzaXN0YW50TWVzc2FnZSwgaXNGdW5jdGlvbk1lc3NhZ2UsIGlzVG9vbE1lc3NhZ2UgfSBmcm9tICcuL2NoYXRDb21wbGV0aW9uVXRpbHMnO1xuaW1wb3J0IHsgQmFzZUV2ZW50cywgRXZlbnRTdHJlYW0gfSBmcm9tICcuL0V2ZW50U3RyZWFtJztcbmltcG9ydCB7IFBhcnNlZENoYXRDb21wbGV0aW9uIH0gZnJvbSAnLi4vcmVzb3VyY2VzL2JldGEvY2hhdC9jb21wbGV0aW9ucyc7XG5pbXBvcnQgT3BlbkFJIGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IGlzQXV0b1BhcnNhYmxlVG9vbCwgcGFyc2VDaGF0Q29tcGxldGlvbiB9IGZyb20gJy4uL2xpYi9wYXJzZXInO1xuXG5jb25zdCBERUZBVUxUX01BWF9DSEFUX0NPTVBMRVRJT05TID0gMTA7XG5leHBvcnQgaW50ZXJmYWNlIFJ1bm5lck9wdGlvbnMgZXh0ZW5kcyBDb3JlLlJlcXVlc3RPcHRpb25zIHtcbiAgLyoqIEhvdyBtYW55IHJlcXVlc3RzIHRvIG1ha2UgYmVmb3JlIGNhbmNlbGluZy4gRGVmYXVsdCAxMC4gKi9cbiAgbWF4Q2hhdENvbXBsZXRpb25zPzogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcjxcbiAgRXZlbnRUeXBlcyBleHRlbmRzIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMsXG4gIFBhcnNlZFQsXG4+IGV4dGVuZHMgRXZlbnRTdHJlYW08RXZlbnRUeXBlcz4ge1xuICBwcm90ZWN0ZWQgX2NoYXRDb21wbGV0aW9uczogUGFyc2VkQ2hhdENvbXBsZXRpb248UGFyc2VkVD5bXSA9IFtdO1xuICBtZXNzYWdlczogQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW1bXSA9IFtdO1xuXG4gIHByb3RlY3RlZCBfYWRkQ2hhdENvbXBsZXRpb24oXG4gICAgdGhpczogQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcjxBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzLCBQYXJzZWRUPixcbiAgICBjaGF0Q29tcGxldGlvbjogUGFyc2VkQ2hhdENvbXBsZXRpb248UGFyc2VkVD4sXG4gICk6IFBhcnNlZENoYXRDb21wbGV0aW9uPFBhcnNlZFQ+IHtcbiAgICB0aGlzLl9jaGF0Q29tcGxldGlvbnMucHVzaChjaGF0Q29tcGxldGlvbik7XG4gICAgdGhpcy5fZW1pdCgnY2hhdENvbXBsZXRpb24nLCBjaGF0Q29tcGxldGlvbik7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNoYXRDb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U7XG4gICAgaWYgKG1lc3NhZ2UpIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZSBhcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSk7XG4gICAgcmV0dXJuIGNoYXRDb21wbGV0aW9uO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9hZGRNZXNzYWdlKFxuICAgIHRoaXM6IEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXI8QWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cywgUGFyc2VkVD4sXG4gICAgbWVzc2FnZTogQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sXG4gICAgZW1pdCA9IHRydWUsXG4gICkge1xuICAgIGlmICghKCdjb250ZW50JyBpbiBtZXNzYWdlKSkgbWVzc2FnZS5jb250ZW50ID0gbnVsbDtcblxuICAgIHRoaXMubWVzc2FnZXMucHVzaChtZXNzYWdlKTtcblxuICAgIGlmIChlbWl0KSB7XG4gICAgICB0aGlzLl9lbWl0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgICBpZiAoKGlzRnVuY3Rpb25NZXNzYWdlKG1lc3NhZ2UpIHx8IGlzVG9vbE1lc3NhZ2UobWVzc2FnZSkpICYmIG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICAvLyBOb3RlLCB0aGlzIGFzc3VtZXMgdGhhdCB7cm9sZTogJ3Rvb2wnLCBjb250ZW50OiBcdTIwMjZ9IGlzIGFsd2F5cyB0aGUgcmVzdWx0IG9mIGEgY2FsbCBvZiB0b29sIG9mIHR5cGU9ZnVuY3Rpb24uXG4gICAgICAgIHRoaXMuX2VtaXQoJ2Z1bmN0aW9uQ2FsbFJlc3VsdCcsIG1lc3NhZ2UuY29udGVudCBhcyBzdHJpbmcpO1xuICAgICAgfSBlbHNlIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Z1bmN0aW9uQ2FsbCcsIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCk7XG4gICAgICB9IGVsc2UgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgZm9yIChjb25zdCB0b29sX2NhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgICAgaWYgKHRvb2xfY2FsbC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdmdW5jdGlvbkNhbGwnLCB0b29sX2NhbGwuZnVuY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBmaW5hbCBDaGF0Q29tcGxldGlvbiwgb3IgcmVqZWN0c1xuICAgKiBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb24uXG4gICAqL1xuICBhc3luYyBmaW5hbENoYXRDb21wbGV0aW9uKCk6IFByb21pc2U8UGFyc2VkQ2hhdENvbXBsZXRpb248UGFyc2VkVD4+IHtcbiAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICBjb25zdCBjb21wbGV0aW9uID0gdGhpcy5fY2hhdENvbXBsZXRpb25zW3RoaXMuX2NoYXRDb21wbGV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICBpZiAoIWNvbXBsZXRpb24pIHRocm93IG5ldyBPcGVuQUlFcnJvcignc3RyZWFtIGVuZGVkIHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb24nKTtcbiAgICByZXR1cm4gY29tcGxldGlvbjtcbiAgfVxuXG4gICNnZXRGaW5hbENvbnRlbnQoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuI2dldEZpbmFsTWVzc2FnZSgpLmNvbnRlbnQgPz8gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb250ZW50IG9mIHRoZSBmaW5hbCBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsIG9yIHJlamVjdHNcbiAgICogaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uTWVzc2FnZS5cbiAgICovXG4gIGFzeW5jIGZpbmFsQ29udGVudCgpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICByZXR1cm4gdGhpcy4jZ2V0RmluYWxDb250ZW50KCk7XG4gIH1cblxuICAjZ2V0RmluYWxNZXNzYWdlKCk6IENoYXRDb21wbGV0aW9uTWVzc2FnZSB7XG4gICAgbGV0IGkgPSB0aGlzLm1lc3NhZ2VzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXNbaV07XG4gICAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgIGNvbnN0IHsgZnVuY3Rpb25fY2FsbCwgLi4ucmVzdCB9ID0gbWVzc2FnZTtcblxuICAgICAgICAvLyBUT0RPOiBzdXBwb3J0IGF1ZGlvIGhlcmVcbiAgICAgICAgY29uc3QgcmV0OiBPbWl0PENoYXRDb21wbGV0aW9uTWVzc2FnZSwgJ2F1ZGlvJz4gPSB7XG4gICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICBjb250ZW50OiAobWVzc2FnZSBhcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2UpLmNvbnRlbnQgPz8gbnVsbCxcbiAgICAgICAgICByZWZ1c2FsOiAobWVzc2FnZSBhcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2UpLnJlZnVzYWwgPz8gbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgICByZXQuZnVuY3Rpb25fY2FsbCA9IGZ1bmN0aW9uX2NhbGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdzdHJlYW0gZW5kZWQgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbk1lc3NhZ2Ugd2l0aCByb2xlPWFzc2lzdGFudCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHRoZSBmaW5hbCBhc3Npc3RhbnQgQ2hhdENvbXBsZXRpb25NZXNzYWdlIHJlc3BvbnNlLFxuICAgKiBvciByZWplY3RzIGlmIGFuIGVycm9yIG9jY3VycmVkIG9yIHRoZSBzdHJlYW0gZW5kZWQgcHJlbWF0dXJlbHkgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbk1lc3NhZ2UuXG4gICAqL1xuICBhc3luYyBmaW5hbE1lc3NhZ2UoKTogUHJvbWlzZTxDaGF0Q29tcGxldGlvbk1lc3NhZ2U+IHtcbiAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICByZXR1cm4gdGhpcy4jZ2V0RmluYWxNZXNzYWdlKCk7XG4gIH1cblxuICAjZ2V0RmluYWxGdW5jdGlvbkNhbGwoKTogQ2hhdENvbXBsZXRpb25NZXNzYWdlLkZ1bmN0aW9uQ2FsbCB8IHVuZGVmaW5lZCB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMubWVzc2FnZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW2ldO1xuICAgICAgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlPy5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGw7XG4gICAgICB9XG4gICAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2U/LnRvb2xfY2FsbHM/Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZS50b29sX2NhbGxzLmF0KC0xKT8uZnVuY3Rpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGNvbnRlbnQgb2YgdGhlIGZpbmFsIEZ1bmN0aW9uQ2FsbCwgb3IgcmVqZWN0c1xuICAgKiBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlLlxuICAgKi9cbiAgYXN5bmMgZmluYWxGdW5jdGlvbkNhbGwoKTogUHJvbWlzZTxDaGF0Q29tcGxldGlvbk1lc3NhZ2UuRnVuY3Rpb25DYWxsIHwgdW5kZWZpbmVkPiB7XG4gICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgcmV0dXJuIHRoaXMuI2dldEZpbmFsRnVuY3Rpb25DYWxsKCk7XG4gIH1cblxuICAjZ2V0RmluYWxGdW5jdGlvbkNhbGxSZXN1bHQoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5tZXNzYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXNbaV07XG4gICAgICBpZiAoaXNGdW5jdGlvbk1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS5jb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY29udGVudDtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgaXNUb29sTWVzc2FnZShtZXNzYWdlKSAmJlxuICAgICAgICBtZXNzYWdlLmNvbnRlbnQgIT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICB0aGlzLm1lc3NhZ2VzLnNvbWUoXG4gICAgICAgICAgKHgpID0+XG4gICAgICAgICAgICB4LnJvbGUgPT09ICdhc3Npc3RhbnQnICYmXG4gICAgICAgICAgICB4LnRvb2xfY2FsbHM/LnNvbWUoKHkpID0+IHkudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB5LmlkID09PSBtZXNzYWdlLnRvb2xfY2FsbF9pZCksXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZS5jb250ZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGFzeW5jIGZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KCk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgcmV0dXJuIHRoaXMuI2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KCk7XG4gIH1cblxuICAjY2FsY3VsYXRlVG90YWxVc2FnZSgpOiBDb21wbGV0aW9uVXNhZ2Uge1xuICAgIGNvbnN0IHRvdGFsOiBDb21wbGV0aW9uVXNhZ2UgPSB7XG4gICAgICBjb21wbGV0aW9uX3Rva2VuczogMCxcbiAgICAgIHByb21wdF90b2tlbnM6IDAsXG4gICAgICB0b3RhbF90b2tlbnM6IDAsXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IHsgdXNhZ2UgfSBvZiB0aGlzLl9jaGF0Q29tcGxldGlvbnMpIHtcbiAgICAgIGlmICh1c2FnZSkge1xuICAgICAgICB0b3RhbC5jb21wbGV0aW9uX3Rva2VucyArPSB1c2FnZS5jb21wbGV0aW9uX3Rva2VucztcbiAgICAgICAgdG90YWwucHJvbXB0X3Rva2VucyArPSB1c2FnZS5wcm9tcHRfdG9rZW5zO1xuICAgICAgICB0b3RhbC50b3RhbF90b2tlbnMgKz0gdXNhZ2UudG90YWxfdG9rZW5zO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG90YWw7XG4gIH1cblxuICBhc3luYyB0b3RhbFVzYWdlKCk6IFByb21pc2U8Q29tcGxldGlvblVzYWdlPiB7XG4gICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgcmV0dXJuIHRoaXMuI2NhbGN1bGF0ZVRvdGFsVXNhZ2UoKTtcbiAgfVxuXG4gIGFsbENoYXRDb21wbGV0aW9ucygpOiBDaGF0Q29tcGxldGlvbltdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuX2NoYXRDb21wbGV0aW9uc107XG4gIH1cblxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgX2VtaXRGaW5hbChcbiAgICB0aGlzOiBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyPEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMsIFBhcnNlZFQ+LFxuICApIHtcbiAgICBjb25zdCBjb21wbGV0aW9uID0gdGhpcy5fY2hhdENvbXBsZXRpb25zW3RoaXMuX2NoYXRDb21wbGV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICBpZiAoY29tcGxldGlvbikgdGhpcy5fZW1pdCgnZmluYWxDaGF0Q29tcGxldGlvbicsIGNvbXBsZXRpb24pO1xuICAgIGNvbnN0IGZpbmFsTWVzc2FnZSA9IHRoaXMuI2dldEZpbmFsTWVzc2FnZSgpO1xuICAgIGlmIChmaW5hbE1lc3NhZ2UpIHRoaXMuX2VtaXQoJ2ZpbmFsTWVzc2FnZScsIGZpbmFsTWVzc2FnZSk7XG4gICAgY29uc3QgZmluYWxDb250ZW50ID0gdGhpcy4jZ2V0RmluYWxDb250ZW50KCk7XG4gICAgaWYgKGZpbmFsQ29udGVudCkgdGhpcy5fZW1pdCgnZmluYWxDb250ZW50JywgZmluYWxDb250ZW50KTtcblxuICAgIGNvbnN0IGZpbmFsRnVuY3Rpb25DYWxsID0gdGhpcy4jZ2V0RmluYWxGdW5jdGlvbkNhbGwoKTtcbiAgICBpZiAoZmluYWxGdW5jdGlvbkNhbGwpIHRoaXMuX2VtaXQoJ2ZpbmFsRnVuY3Rpb25DYWxsJywgZmluYWxGdW5jdGlvbkNhbGwpO1xuXG4gICAgY29uc3QgZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQgPSB0aGlzLiNnZXRGaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCgpO1xuICAgIGlmIChmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCAhPSBudWxsKSB0aGlzLl9lbWl0KCdmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCcsIGZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KTtcblxuICAgIGlmICh0aGlzLl9jaGF0Q29tcGxldGlvbnMuc29tZSgoYykgPT4gYy51c2FnZSkpIHtcbiAgICAgIHRoaXMuX2VtaXQoJ3RvdGFsVXNhZ2UnLCB0aGlzLiNjYWxjdWxhdGVUb3RhbFVzYWdlKCkpO1xuICAgIH1cbiAgfVxuXG4gICN2YWxpZGF0ZVBhcmFtcyhwYXJhbXM6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zKTogdm9pZCB7XG4gICAgaWYgKHBhcmFtcy5uICE9IG51bGwgJiYgcGFyYW1zLm4gPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgICdDaGF0Q29tcGxldGlvbiBjb252ZW5pZW5jZSBoZWxwZXJzIG9ubHkgc3VwcG9ydCBuPTEgYXQgdGhpcyB0aW1lLiBUbyB1c2Ugbj4xLCBwbGVhc2UgdXNlIGNoYXQuY29tcGxldGlvbnMuY3JlYXRlKCkgZGlyZWN0bHkuJyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9jcmVhdGVDaGF0Q29tcGxldGlvbihcbiAgICBjbGllbnQ6IE9wZW5BSSxcbiAgICBwYXJhbXM6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPFBhcnNlZENoYXRDb21wbGV0aW9uPFBhcnNlZFQ+PiB7XG4gICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgIGlmIChzaWduYWwpIHtcbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgfVxuICAgIHRoaXMuI3ZhbGlkYXRlUGFyYW1zKHBhcmFtcyk7XG5cbiAgICBjb25zdCBjaGF0Q29tcGxldGlvbiA9IGF3YWl0IGNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZShcbiAgICAgIHsgLi4ucGFyYW1zLCBzdHJlYW06IGZhbHNlIH0sXG4gICAgICB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9LFxuICAgICk7XG4gICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoYXRDb21wbGV0aW9uKHBhcnNlQ2hhdENvbXBsZXRpb24oY2hhdENvbXBsZXRpb24sIHBhcmFtcykpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9ydW5DaGF0Q29tcGxldGlvbihcbiAgICBjbGllbnQ6IE9wZW5BSSxcbiAgICBwYXJhbXM6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPENoYXRDb21wbGV0aW9uPiB7XG4gICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHBhcmFtcy5tZXNzYWdlcykge1xuICAgICAgdGhpcy5fYWRkTWVzc2FnZShtZXNzYWdlLCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVhdGVDaGF0Q29tcGxldGlvbihjbGllbnQsIHBhcmFtcywgb3B0aW9ucyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgX3J1bkZ1bmN0aW9uczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+KFxuICAgIGNsaWVudDogT3BlbkFJLFxuICAgIHBhcmFtczpcbiAgICAgIHwgQ2hhdENvbXBsZXRpb25GdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPlxuICAgICAgfCBDaGF0Q29tcGxldGlvblN0cmVhbWluZ0Z1bmN0aW9uUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3M+LFxuICAgIG9wdGlvbnM/OiBSdW5uZXJPcHRpb25zLFxuICApIHtcbiAgICBjb25zdCByb2xlID0gJ2Z1bmN0aW9uJyBhcyBjb25zdDtcbiAgICBjb25zdCB7IGZ1bmN0aW9uX2NhbGwgPSAnYXV0bycsIHN0cmVhbSwgLi4ucmVzdFBhcmFtcyB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHNpbmdsZUZ1bmN0aW9uVG9DYWxsID0gdHlwZW9mIGZ1bmN0aW9uX2NhbGwgIT09ICdzdHJpbmcnICYmIGZ1bmN0aW9uX2NhbGw/Lm5hbWU7XG4gICAgY29uc3QgeyBtYXhDaGF0Q29tcGxldGlvbnMgPSBERUZBVUxUX01BWF9DSEFUX0NPTVBMRVRJT05TIH0gPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgY29uc3QgZnVuY3Rpb25zQnlOYW1lOiBSZWNvcmQ8c3RyaW5nLCBSdW5uYWJsZUZ1bmN0aW9uPGFueT4+ID0ge307XG4gICAgZm9yIChjb25zdCBmIG9mIHBhcmFtcy5mdW5jdGlvbnMpIHtcbiAgICAgIGZ1bmN0aW9uc0J5TmFtZVtmLm5hbWUgfHwgZi5mdW5jdGlvbi5uYW1lXSA9IGY7XG4gICAgfVxuXG4gICAgY29uc3QgZnVuY3Rpb25zOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcy5GdW5jdGlvbltdID0gcGFyYW1zLmZ1bmN0aW9ucy5tYXAoXG4gICAgICAoZik6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLkZ1bmN0aW9uID0+ICh7XG4gICAgICAgIG5hbWU6IGYubmFtZSB8fCBmLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgIHBhcmFtZXRlcnM6IGYucGFyYW1ldGVycyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgZGVzY3JpcHRpb246IGYuZGVzY3JpcHRpb24sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHBhcmFtcy5tZXNzYWdlcykge1xuICAgICAgdGhpcy5fYWRkTWVzc2FnZShtZXNzYWdlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhDaGF0Q29tcGxldGlvbnM7ICsraSkge1xuICAgICAgY29uc3QgY2hhdENvbXBsZXRpb246IENoYXRDb21wbGV0aW9uID0gYXdhaXQgdGhpcy5fY3JlYXRlQ2hhdENvbXBsZXRpb24oXG4gICAgICAgIGNsaWVudCxcbiAgICAgICAge1xuICAgICAgICAgIC4uLnJlc3RQYXJhbXMsXG4gICAgICAgICAgZnVuY3Rpb25fY2FsbCxcbiAgICAgICAgICBmdW5jdGlvbnMsXG4gICAgICAgICAgbWVzc2FnZXM6IFsuLi50aGlzLm1lc3NhZ2VzXSxcbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICk7XG4gICAgICBjb25zdCBtZXNzYWdlID0gY2hhdENvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZTtcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgbWVzc2FnZSBpbiBDaGF0Q29tcGxldGlvbiByZXNwb25zZWApO1xuICAgICAgfVxuICAgICAgaWYgKCFtZXNzYWdlLmZ1bmN0aW9uX2NhbGwpIHJldHVybjtcbiAgICAgIGNvbnN0IHsgbmFtZSwgYXJndW1lbnRzOiBhcmdzIH0gPSBtZXNzYWdlLmZ1bmN0aW9uX2NhbGw7XG4gICAgICBjb25zdCBmbiA9IGZ1bmN0aW9uc0J5TmFtZVtuYW1lXTtcbiAgICAgIGlmICghZm4pIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGBJbnZhbGlkIGZ1bmN0aW9uX2NhbGw6ICR7SlNPTi5zdHJpbmdpZnkobmFtZSl9LiBBdmFpbGFibGUgb3B0aW9ucyBhcmU6ICR7ZnVuY3Rpb25zXG4gICAgICAgICAgLm1hcCgoZikgPT4gSlNPTi5zdHJpbmdpZnkoZi5uYW1lKSlcbiAgICAgICAgICAuam9pbignLCAnKX0uIFBsZWFzZSB0cnkgYWdhaW5gO1xuXG4gICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCBuYW1lLCBjb250ZW50IH0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoc2luZ2xlRnVuY3Rpb25Ub0NhbGwgJiYgc2luZ2xlRnVuY3Rpb25Ub0NhbGwgIT09IG5hbWUpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGBJbnZhbGlkIGZ1bmN0aW9uX2NhbGw6ICR7SlNPTi5zdHJpbmdpZnkobmFtZSl9LiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIHNpbmdsZUZ1bmN0aW9uVG9DYWxsLFxuICAgICAgICApfSByZXF1ZXN0ZWQuIFBsZWFzZSB0cnkgYWdhaW5gO1xuXG4gICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCBuYW1lLCBjb250ZW50IH0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHBhcnNlZDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcnNlZCA9IGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZShmbikgPyBhd2FpdCBmbi5wYXJzZShhcmdzKSA6IGFyZ3M7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHtcbiAgICAgICAgICByb2xlLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgY29udGVudDogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaXQgY2FuJ3QgcnVsZSBvdXQgYG5ldmVyYCB0eXBlLlxuICAgICAgY29uc3QgcmF3Q29udGVudCA9IGF3YWl0IGZuLmZ1bmN0aW9uKHBhcnNlZCwgdGhpcyk7XG4gICAgICBjb25zdCBjb250ZW50ID0gdGhpcy4jc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0KHJhd0NvbnRlbnQpO1xuXG4gICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgbmFtZSwgY29udGVudCB9KTtcblxuICAgICAgaWYgKHNpbmdsZUZ1bmN0aW9uVG9DYWxsKSByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9ydW5Ub29sczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+KFxuICAgIGNsaWVudDogT3BlbkFJLFxuICAgIHBhcmFtczpcbiAgICAgIHwgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3M+XG4gICAgICB8IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICBvcHRpb25zPzogUnVubmVyT3B0aW9ucyxcbiAgKSB7XG4gICAgY29uc3Qgcm9sZSA9ICd0b29sJyBhcyBjb25zdDtcbiAgICBjb25zdCB7IHRvb2xfY2hvaWNlID0gJ2F1dG8nLCBzdHJlYW0sIC4uLnJlc3RQYXJhbXMgfSA9IHBhcmFtcztcbiAgICBjb25zdCBzaW5nbGVGdW5jdGlvblRvQ2FsbCA9IHR5cGVvZiB0b29sX2Nob2ljZSAhPT0gJ3N0cmluZycgJiYgdG9vbF9jaG9pY2U/LmZ1bmN0aW9uPy5uYW1lO1xuICAgIGNvbnN0IHsgbWF4Q2hhdENvbXBsZXRpb25zID0gREVGQVVMVF9NQVhfQ0hBVF9DT01QTEVUSU9OUyB9ID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8vIFRPRE8oc29tZWRheSk6IGNsZWFuIHRoaXMgbG9naWMgdXBcbiAgICBjb25zdCBpbnB1dFRvb2xzID0gcGFyYW1zLnRvb2xzLm1hcCgodG9vbCk6IFJ1bm5hYmxlVG9vbEZ1bmN0aW9uPGFueT4gPT4ge1xuICAgICAgaWYgKGlzQXV0b1BhcnNhYmxlVG9vbCh0b29sKSkge1xuICAgICAgICBpZiAoIXRvb2wuJGNhbGxiYWNrKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdUb29sIGdpdmVuIHRvIGAucnVuVG9vbHMoKWAgdGhhdCBkb2VzIG5vdCBoYXZlIGFuIGFzc29jaWF0ZWQgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgZnVuY3Rpb246IHRvb2wuJGNhbGxiYWNrLFxuICAgICAgICAgICAgbmFtZTogdG9vbC5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZnVuY3Rpb24uZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiB0b29sLmZ1bmN0aW9uLnBhcmFtZXRlcnMgYXMgYW55LFxuICAgICAgICAgICAgcGFyc2U6IHRvb2wuJHBhcnNlUmF3LFxuICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b29sIGFzIGFueSBhcyBSdW5uYWJsZVRvb2xGdW5jdGlvbjxhbnk+O1xuICAgIH0pO1xuXG4gICAgY29uc3QgZnVuY3Rpb25zQnlOYW1lOiBSZWNvcmQ8c3RyaW5nLCBSdW5uYWJsZUZ1bmN0aW9uPGFueT4+ID0ge307XG4gICAgZm9yIChjb25zdCBmIG9mIGlucHV0VG9vbHMpIHtcbiAgICAgIGlmIChmLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZnVuY3Rpb25zQnlOYW1lW2YuZnVuY3Rpb24ubmFtZSB8fCBmLmZ1bmN0aW9uLmZ1bmN0aW9uLm5hbWVdID0gZi5mdW5jdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB0b29sczogQ2hhdENvbXBsZXRpb25Ub29sW10gPVxuICAgICAgJ3Rvb2xzJyBpbiBwYXJhbXMgP1xuICAgICAgICBpbnB1dFRvb2xzLm1hcCgodCkgPT5cbiAgICAgICAgICB0LnR5cGUgPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgICAgIG5hbWU6IHQuZnVuY3Rpb24ubmFtZSB8fCB0LmZ1bmN0aW9uLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdC5mdW5jdGlvbi5wYXJhbWV0ZXJzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0LmZ1bmN0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIHN0cmljdDogdC5mdW5jdGlvbi5zdHJpY3QsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiAodCBhcyB1bmtub3duIGFzIENoYXRDb21wbGV0aW9uVG9vbCksXG4gICAgICAgIClcbiAgICAgIDogKHVuZGVmaW5lZCBhcyBhbnkpO1xuXG4gICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHBhcmFtcy5tZXNzYWdlcykge1xuICAgICAgdGhpcy5fYWRkTWVzc2FnZShtZXNzYWdlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhDaGF0Q29tcGxldGlvbnM7ICsraSkge1xuICAgICAgY29uc3QgY2hhdENvbXBsZXRpb246IENoYXRDb21wbGV0aW9uID0gYXdhaXQgdGhpcy5fY3JlYXRlQ2hhdENvbXBsZXRpb24oXG4gICAgICAgIGNsaWVudCxcbiAgICAgICAge1xuICAgICAgICAgIC4uLnJlc3RQYXJhbXMsXG4gICAgICAgICAgdG9vbF9jaG9pY2UsXG4gICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgbWVzc2FnZXM6IFsuLi50aGlzLm1lc3NhZ2VzXSxcbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICk7XG4gICAgICBjb25zdCBtZXNzYWdlID0gY2hhdENvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZTtcbiAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgbWVzc2FnZSBpbiBDaGF0Q29tcGxldGlvbiByZXNwb25zZWApO1xuICAgICAgfVxuICAgICAgaWYgKCFtZXNzYWdlLnRvb2xfY2FsbHM/Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgdG9vbF9jYWxsIG9mIG1lc3NhZ2UudG9vbF9jYWxscykge1xuICAgICAgICBpZiAodG9vbF9jYWxsLnR5cGUgIT09ICdmdW5jdGlvbicpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCB0b29sX2NhbGxfaWQgPSB0b29sX2NhbGwuaWQ7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgYXJndW1lbnRzOiBhcmdzIH0gPSB0b29sX2NhbGwuZnVuY3Rpb247XG4gICAgICAgIGNvbnN0IGZuID0gZnVuY3Rpb25zQnlOYW1lW25hbWVdO1xuXG4gICAgICAgIGlmICghZm4pIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gYEludmFsaWQgdG9vbF9jYWxsOiAke0pTT04uc3RyaW5naWZ5KG5hbWUpfS4gQXZhaWxhYmxlIG9wdGlvbnMgYXJlOiAke09iamVjdC5rZXlzKFxuICAgICAgICAgICAgZnVuY3Rpb25zQnlOYW1lLFxuICAgICAgICAgIClcbiAgICAgICAgICAgIC5tYXAoKG5hbWUpID0+IEpTT04uc3RyaW5naWZ5KG5hbWUpKVxuICAgICAgICAgICAgLmpvaW4oJywgJyl9LiBQbGVhc2UgdHJ5IGFnYWluYDtcblxuICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCB0b29sX2NhbGxfaWQsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc2luZ2xlRnVuY3Rpb25Ub0NhbGwgJiYgc2luZ2xlRnVuY3Rpb25Ub0NhbGwgIT09IG5hbWUpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gYEludmFsaWQgdG9vbF9jYWxsOiAke0pTT04uc3RyaW5naWZ5KG5hbWUpfS4gJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIHNpbmdsZUZ1bmN0aW9uVG9DYWxsLFxuICAgICAgICAgICl9IHJlcXVlc3RlZC4gUGxlYXNlIHRyeSBhZ2FpbmA7XG5cbiAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBhcnNlZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwYXJzZWQgPSBpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2UoZm4pID8gYXdhaXQgZm4ucGFyc2UoYXJncykgOiBhcmdzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIHRvb2xfY2FsbF9pZCwgY29udGVudCB9KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaXQgY2FuJ3QgcnVsZSBvdXQgYG5ldmVyYCB0eXBlLlxuICAgICAgICBjb25zdCByYXdDb250ZW50ID0gYXdhaXQgZm4uZnVuY3Rpb24ocGFyc2VkLCB0aGlzKTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuI3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdChyYXdDb250ZW50KTtcbiAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIHRvb2xfY2FsbF9pZCwgY29udGVudCB9KTtcblxuICAgICAgICBpZiAoc2luZ2xlRnVuY3Rpb25Ub0NhbGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAjc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0KHJhd0NvbnRlbnQ6IHVua25vd24pOiBzdHJpbmcge1xuICAgIHJldHVybiAoXG4gICAgICB0eXBlb2YgcmF3Q29udGVudCA9PT0gJ3N0cmluZycgPyByYXdDb250ZW50XG4gICAgICA6IHJhd0NvbnRlbnQgPT09IHVuZGVmaW5lZCA/ICd1bmRlZmluZWQnXG4gICAgICA6IEpTT04uc3RyaW5naWZ5KHJhd0NvbnRlbnQpXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMgZXh0ZW5kcyBCYXNlRXZlbnRzIHtcbiAgZnVuY3Rpb25DYWxsOiAoZnVuY3Rpb25DYWxsOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2UuRnVuY3Rpb25DYWxsKSA9PiB2b2lkO1xuICBtZXNzYWdlOiAobWVzc2FnZTogQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0pID0+IHZvaWQ7XG4gIGNoYXRDb21wbGV0aW9uOiAoY29tcGxldGlvbjogQ2hhdENvbXBsZXRpb24pID0+IHZvaWQ7XG4gIGZpbmFsQ29udGVudDogKGNvbnRlbnRTbmFwc2hvdDogc3RyaW5nKSA9PiB2b2lkO1xuICBmaW5hbE1lc3NhZ2U6IChtZXNzYWdlOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSkgPT4gdm9pZDtcbiAgZmluYWxDaGF0Q29tcGxldGlvbjogKGNvbXBsZXRpb246IENoYXRDb21wbGV0aW9uKSA9PiB2b2lkO1xuICBmaW5hbEZ1bmN0aW9uQ2FsbDogKGZ1bmN0aW9uQ2FsbDogQ2hhdENvbXBsZXRpb25NZXNzYWdlLkZ1bmN0aW9uQ2FsbCkgPT4gdm9pZDtcbiAgZnVuY3Rpb25DYWxsUmVzdWx0OiAoY29udGVudDogc3RyaW5nKSA9PiB2b2lkO1xuICBmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdDogKGNvbnRlbnQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdG90YWxVc2FnZTogKHVzYWdlOiBDb21wbGV0aW9uVXNhZ2UpID0+IHZvaWQ7XG59XG4iLCAiaW1wb3J0IHtcbiAgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSxcbiAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbn0gZnJvbSAnLi4vcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMnO1xuaW1wb3J0IHsgdHlwZSBSdW5uYWJsZUZ1bmN0aW9ucywgdHlwZSBCYXNlRnVuY3Rpb25zQXJncywgUnVubmFibGVUb29scyB9IGZyb20gJy4vUnVubmFibGVGdW5jdGlvbic7XG5pbXBvcnQge1xuICBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLFxuICBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzLFxuICBSdW5uZXJPcHRpb25zLFxufSBmcm9tICcuL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXInO1xuaW1wb3J0IHsgaXNBc3Npc3RhbnRNZXNzYWdlIH0gZnJvbSAnLi9jaGF0Q29tcGxldGlvblV0aWxzJztcbmltcG9ydCBPcGVuQUkgZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgQXV0b1BhcnNlYWJsZVRvb2wgfSBmcm9tICcuLi9saWIvcGFyc2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cyBleHRlbmRzIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMge1xuICBjb250ZW50OiAoY29udGVudDogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3MgZXh0ZW5kcyBCYXNlRnVuY3Rpb25zQXJncz4gPSBPbWl0PFxuICBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgJ2Z1bmN0aW9ucydcbj4gJiB7XG4gIGZ1bmN0aW9uczogUnVubmFibGVGdW5jdGlvbnM8RnVuY3Rpb25zQXJncz47XG59O1xuXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPiA9IE9taXQ8XG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAndG9vbHMnXG4+ICYge1xuICB0b29sczogUnVubmFibGVUb29sczxGdW5jdGlvbnNBcmdzPiB8IEF1dG9QYXJzZWFibGVUb29sPGFueSwgdHJ1ZT5bXTtcbn07XG5cbmV4cG9ydCBjbGFzcyBDaGF0Q29tcGxldGlvblJ1bm5lcjxQYXJzZWRUID0gbnVsbD4gZXh0ZW5kcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyPFxuICBDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cyxcbiAgUGFyc2VkVFxuPiB7XG4gIC8qKiBAZGVwcmVjYXRlZCAtIHBsZWFzZSB1c2UgYHJ1blRvb2xzYCBpbnN0ZWFkLiAqL1xuICBzdGF0aWMgcnVuRnVuY3Rpb25zKFxuICAgIGNsaWVudDogT3BlbkFJLFxuICAgIHBhcmFtczogQ2hhdENvbXBsZXRpb25GdW5jdGlvblJ1bm5lclBhcmFtczxhbnlbXT4sXG4gICAgb3B0aW9ucz86IFJ1bm5lck9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uUnVubmVyPG51bGw+IHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25SdW5uZXIoKTtcbiAgICBjb25zdCBvcHRzID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAncnVuRnVuY3Rpb25zJyB9LFxuICAgIH07XG4gICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5GdW5jdGlvbnMoY2xpZW50LCBwYXJhbXMsIG9wdHMpKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgc3RhdGljIHJ1blRvb2xzPFBhcnNlZFQ+KFxuICAgIGNsaWVudDogT3BlbkFJLFxuICAgIHBhcmFtczogQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zPGFueVtdPixcbiAgICBvcHRpb25zPzogUnVubmVyT3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25SdW5uZXI8UGFyc2VkVD4ge1xuICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblJ1bm5lcjxQYXJzZWRUPigpO1xuICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdydW5Ub29scycgfSxcbiAgICB9O1xuICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuVG9vbHMoY2xpZW50LCBwYXJhbXMsIG9wdHMpKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgb3ZlcnJpZGUgX2FkZE1lc3NhZ2UoXG4gICAgdGhpczogQ2hhdENvbXBsZXRpb25SdW5uZXI8UGFyc2VkVD4sXG4gICAgbWVzc2FnZTogQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sXG4gICAgZW1pdDogYm9vbGVhbiA9IHRydWUsXG4gICkge1xuICAgIHN1cGVyLl9hZGRNZXNzYWdlKG1lc3NhZ2UsIGVtaXQpO1xuICAgIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICB0aGlzLl9lbWl0KCdjb250ZW50JywgbWVzc2FnZS5jb250ZW50IGFzIHN0cmluZyk7XG4gICAgfVxuICB9XG59XG4iLCAiY29uc3QgU1RSID0gMGIwMDAwMDAwMDE7XG5jb25zdCBOVU0gPSAwYjAwMDAwMDAxMDtcbmNvbnN0IEFSUiA9IDBiMDAwMDAwMTAwO1xuY29uc3QgT0JKID0gMGIwMDAwMDEwMDA7XG5jb25zdCBOVUxMID0gMGIwMDAwMTAwMDA7XG5jb25zdCBCT09MID0gMGIwMDAxMDAwMDA7XG5jb25zdCBOQU4gPSAwYjAwMTAwMDAwMDtcbmNvbnN0IElORklOSVRZID0gMGIwMTAwMDAwMDA7XG5jb25zdCBNSU5VU19JTkZJTklUWSA9IDBiMTAwMDAwMDAwO1xuXG5jb25zdCBJTkYgPSBJTkZJTklUWSB8IE1JTlVTX0lORklOSVRZO1xuY29uc3QgU1BFQ0lBTCA9IE5VTEwgfCBCT09MIHwgSU5GIHwgTkFOO1xuY29uc3QgQVRPTSA9IFNUUiB8IE5VTSB8IFNQRUNJQUw7XG5jb25zdCBDT0xMRUNUSU9OID0gQVJSIHwgT0JKO1xuY29uc3QgQUxMID0gQVRPTSB8IENPTExFQ1RJT047XG5cbmNvbnN0IEFsbG93ID0ge1xuICBTVFIsXG4gIE5VTSxcbiAgQVJSLFxuICBPQkosXG4gIE5VTEwsXG4gIEJPT0wsXG4gIE5BTixcbiAgSU5GSU5JVFksXG4gIE1JTlVTX0lORklOSVRZLFxuICBJTkYsXG4gIFNQRUNJQUwsXG4gIEFUT00sXG4gIENPTExFQ1RJT04sXG4gIEFMTCxcbn07XG5cbi8vIFRoZSBKU09OIHN0cmluZyBzZWdtZW50IHdhcyB1bmFibGUgdG8gYmUgcGFyc2VkIGNvbXBsZXRlbHlcbmNsYXNzIFBhcnRpYWxKU09OIGV4dGVuZHMgRXJyb3Ige31cblxuY2xhc3MgTWFsZm9ybWVkSlNPTiBleHRlbmRzIEVycm9yIHt9XG5cbi8qKlxuICogUGFyc2UgaW5jb21wbGV0ZSBKU09OXG4gKiBAcGFyYW0ge3N0cmluZ30ganNvblN0cmluZyBQYXJ0aWFsIEpTT04gdG8gYmUgcGFyc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gYWxsb3dQYXJ0aWFsIFNwZWNpZnkgd2hhdCB0eXBlcyBhcmUgYWxsb3dlZCB0byBiZSBwYXJ0aWFsLCBzZWUge0BsaW5rIEFsbG93fSBmb3IgZGV0YWlsc1xuICogQHJldHVybnMgVGhlIHBhcnNlZCBKU09OXG4gKiBAdGhyb3dzIHtQYXJ0aWFsSlNPTn0gSWYgdGhlIEpTT04gaXMgaW5jb21wbGV0ZSAocmVsYXRlZCB0byB0aGUgYGFsbG93YCBwYXJhbWV0ZXIpXG4gKiBAdGhyb3dzIHtNYWxmb3JtZWRKU09OfSBJZiB0aGUgSlNPTiBpcyBtYWxmb3JtZWRcbiAqL1xuZnVuY3Rpb24gcGFyc2VKU09OKGpzb25TdHJpbmc6IHN0cmluZywgYWxsb3dQYXJ0aWFsOiBudW1iZXIgPSBBbGxvdy5BTEwpOiBhbnkge1xuICBpZiAodHlwZW9mIGpzb25TdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0aW5nIHN0ciwgZ290ICR7dHlwZW9mIGpzb25TdHJpbmd9YCk7XG4gIH1cbiAgaWYgKCFqc29uU3RyaW5nLnRyaW0oKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHtqc29uU3RyaW5nfSBpcyBlbXB0eWApO1xuICB9XG4gIHJldHVybiBfcGFyc2VKU09OKGpzb25TdHJpbmcudHJpbSgpLCBhbGxvd1BhcnRpYWwpO1xufVxuXG5jb25zdCBfcGFyc2VKU09OID0gKGpzb25TdHJpbmc6IHN0cmluZywgYWxsb3c6IG51bWJlcikgPT4ge1xuICBjb25zdCBsZW5ndGggPSBqc29uU3RyaW5nLmxlbmd0aDtcbiAgbGV0IGluZGV4ID0gMDtcblxuICBjb25zdCBtYXJrUGFydGlhbEpTT04gPSAobXNnOiBzdHJpbmcpID0+IHtcbiAgICB0aHJvdyBuZXcgUGFydGlhbEpTT04oYCR7bXNnfSBhdCBwb3NpdGlvbiAke2luZGV4fWApO1xuICB9O1xuXG4gIGNvbnN0IHRocm93TWFsZm9ybWVkRXJyb3IgPSAobXNnOiBzdHJpbmcpID0+IHtcbiAgICB0aHJvdyBuZXcgTWFsZm9ybWVkSlNPTihgJHttc2d9IGF0IHBvc2l0aW9uICR7aW5kZXh9YCk7XG4gIH07XG5cbiAgY29uc3QgcGFyc2VBbnk6ICgpID0+IGFueSA9ICgpID0+IHtcbiAgICBza2lwQmxhbmsoKTtcbiAgICBpZiAoaW5kZXggPj0gbGVuZ3RoKSBtYXJrUGFydGlhbEpTT04oJ1VuZXhwZWN0ZWQgZW5kIG9mIGlucHV0Jyk7XG4gICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnXCInKSByZXR1cm4gcGFyc2VTdHIoKTtcbiAgICBpZiAoanNvblN0cmluZ1tpbmRleF0gPT09ICd7JykgcmV0dXJuIHBhcnNlT2JqKCk7XG4gICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnWycpIHJldHVybiBwYXJzZUFycigpO1xuICAgIGlmIChcbiAgICAgIGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDQpID09PSAnbnVsbCcgfHxcbiAgICAgIChBbGxvdy5OVUxMICYgYWxsb3cgJiYgbGVuZ3RoIC0gaW5kZXggPCA0ICYmICdudWxsJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpXG4gICAgKSB7XG4gICAgICBpbmRleCArPSA0O1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDQpID09PSAndHJ1ZScgfHxcbiAgICAgIChBbGxvdy5CT09MICYgYWxsb3cgJiYgbGVuZ3RoIC0gaW5kZXggPCA0ICYmICd0cnVlJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpXG4gICAgKSB7XG4gICAgICBpbmRleCArPSA0O1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDUpID09PSAnZmFsc2UnIHx8XG4gICAgICAoQWxsb3cuQk9PTCAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgNSAmJiAnZmFsc2UnLnN0YXJ0c1dpdGgoanNvblN0cmluZy5zdWJzdHJpbmcoaW5kZXgpKSlcbiAgICApIHtcbiAgICAgIGluZGV4ICs9IDU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDgpID09PSAnSW5maW5pdHknIHx8XG4gICAgICAoQWxsb3cuSU5GSU5JVFkgJiBhbGxvdyAmJiBsZW5ndGggLSBpbmRleCA8IDggJiYgJ0luZmluaXR5Jy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpXG4gICAgKSB7XG4gICAgICBpbmRleCArPSA4O1xuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA5KSA9PT0gJy1JbmZpbml0eScgfHxcbiAgICAgIChBbGxvdy5NSU5VU19JTkZJTklUWSAmIGFsbG93ICYmXG4gICAgICAgIDEgPCBsZW5ndGggLSBpbmRleCAmJlxuICAgICAgICBsZW5ndGggLSBpbmRleCA8IDkgJiZcbiAgICAgICAgJy1JbmZpbml0eScuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKVxuICAgICkge1xuICAgICAgaW5kZXggKz0gOTtcbiAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDMpID09PSAnTmFOJyB8fFxuICAgICAgKEFsbG93Lk5BTiAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgMyAmJiAnTmFOJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpXG4gICAgKSB7XG4gICAgICBpbmRleCArPSAzO1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlTnVtKCk7XG4gIH07XG5cbiAgY29uc3QgcGFyc2VTdHI6ICgpID0+IHN0cmluZyA9ICgpID0+IHtcbiAgICBjb25zdCBzdGFydCA9IGluZGV4O1xuICAgIGxldCBlc2NhcGUgPSBmYWxzZTtcbiAgICBpbmRleCsrOyAvLyBza2lwIGluaXRpYWwgcXVvdGVcbiAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGggJiYgKGpzb25TdHJpbmdbaW5kZXhdICE9PSAnXCInIHx8IChlc2NhcGUgJiYganNvblN0cmluZ1tpbmRleCAtIDFdID09PSAnXFxcXCcpKSkge1xuICAgICAgZXNjYXBlID0ganNvblN0cmluZ1tpbmRleF0gPT09ICdcXFxcJyA/ICFlc2NhcGUgOiBmYWxzZTtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuICAgIGlmIChqc29uU3RyaW5nLmNoYXJBdChpbmRleCkgPT0gJ1wiJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsICsraW5kZXggLSBOdW1iZXIoZXNjYXBlKSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvd01hbGZvcm1lZEVycm9yKFN0cmluZyhlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChBbGxvdy5TVFIgJiBhbGxvdykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGluZGV4IC0gTnVtYmVyKGVzY2FwZSkpICsgJ1wiJyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIFN5bnRheEVycm9yOiBJbnZhbGlkIGVzY2FwZSBzZXF1ZW5jZVxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwganNvblN0cmluZy5sYXN0SW5kZXhPZignXFxcXCcpKSArICdcIicpO1xuICAgICAgfVxuICAgIH1cbiAgICBtYXJrUGFydGlhbEpTT04oJ1VudGVybWluYXRlZCBzdHJpbmcgbGl0ZXJhbCcpO1xuICB9O1xuXG4gIGNvbnN0IHBhcnNlT2JqID0gKCkgPT4ge1xuICAgIGluZGV4Kys7IC8vIHNraXAgaW5pdGlhbCBicmFjZVxuICAgIHNraXBCbGFuaygpO1xuICAgIGNvbnN0IG9iajogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgIHRyeSB7XG4gICAgICB3aGlsZSAoanNvblN0cmluZ1tpbmRleF0gIT09ICd9Jykge1xuICAgICAgICBza2lwQmxhbmsoKTtcbiAgICAgICAgaWYgKGluZGV4ID49IGxlbmd0aCAmJiBBbGxvdy5PQkogJiBhbGxvdykgcmV0dXJuIG9iajtcbiAgICAgICAgY29uc3Qga2V5ID0gcGFyc2VTdHIoKTtcbiAgICAgICAgc2tpcEJsYW5rKCk7XG4gICAgICAgIGluZGV4Kys7IC8vIHNraXAgY29sb25cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlQW55KCk7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgaWYgKEFsbG93Lk9CSiAmIGFsbG93KSByZXR1cm4gb2JqO1xuICAgICAgICAgIGVsc2UgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBza2lwQmxhbmsoKTtcbiAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnLCcpIGluZGV4Kys7IC8vIHNraXAgY29tbWFcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoQWxsb3cuT0JKICYgYWxsb3cpIHJldHVybiBvYmo7XG4gICAgICBlbHNlIG1hcmtQYXJ0aWFsSlNPTihcIkV4cGVjdGVkICd9JyBhdCBlbmQgb2Ygb2JqZWN0XCIpO1xuICAgIH1cbiAgICBpbmRleCsrOyAvLyBza2lwIGZpbmFsIGJyYWNlXG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICBjb25zdCBwYXJzZUFyciA9ICgpID0+IHtcbiAgICBpbmRleCsrOyAvLyBza2lwIGluaXRpYWwgYnJhY2tldFxuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIHRyeSB7XG4gICAgICB3aGlsZSAoanNvblN0cmluZ1tpbmRleF0gIT09ICddJykge1xuICAgICAgICBhcnIucHVzaChwYXJzZUFueSgpKTtcbiAgICAgICAgc2tpcEJsYW5rKCk7XG4gICAgICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJywnKSB7XG4gICAgICAgICAgaW5kZXgrKzsgLy8gc2tpcCBjb21tYVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKEFsbG93LkFSUiAmIGFsbG93KSB7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgICB9XG4gICAgICBtYXJrUGFydGlhbEpTT04oXCJFeHBlY3RlZCAnXScgYXQgZW5kIG9mIGFycmF5XCIpO1xuICAgIH1cbiAgICBpbmRleCsrOyAvLyBza2lwIGZpbmFsIGJyYWNrZXRcbiAgICByZXR1cm4gYXJyO1xuICB9O1xuXG4gIGNvbnN0IHBhcnNlTnVtID0gKCkgPT4ge1xuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgaWYgKGpzb25TdHJpbmcgPT09ICctJyAmJiBBbGxvdy5OVU0gJiBhbGxvdykgbWFya1BhcnRpYWxKU09OKFwiTm90IHN1cmUgd2hhdCAnLScgaXNcIik7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKEFsbG93Lk5VTSAmIGFsbG93KSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICgnLicgPT09IGpzb25TdHJpbmdbanNvblN0cmluZy5sZW5ndGggLSAxXSlcbiAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoMCwganNvblN0cmluZy5sYXN0SW5kZXhPZignLicpKSk7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZygwLCBqc29uU3RyaW5nLmxhc3RJbmRleE9mKCdlJykpKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG4gICAgICAgIHRocm93TWFsZm9ybWVkRXJyb3IoU3RyaW5nKGUpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzdGFydCA9IGluZGV4O1xuXG4gICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnLScpIGluZGV4Kys7XG4gICAgd2hpbGUgKGpzb25TdHJpbmdbaW5kZXhdICYmICEnLF19Jy5pbmNsdWRlcyhqc29uU3RyaW5nW2luZGV4XSEpKSBpbmRleCsrO1xuXG4gICAgaWYgKGluZGV4ID09IGxlbmd0aCAmJiAhKEFsbG93Lk5VTSAmIGFsbG93KSkgbWFya1BhcnRpYWxKU09OKCdVbnRlcm1pbmF0ZWQgbnVtYmVyIGxpdGVyYWwnKTtcblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwgaW5kZXgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGluZGV4KSA9PT0gJy0nICYmIEFsbG93Lk5VTSAmIGFsbG93KVxuICAgICAgICBtYXJrUGFydGlhbEpTT04oXCJOb3Qgc3VyZSB3aGF0ICctJyBpc1wiKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBqc29uU3RyaW5nLmxhc3RJbmRleE9mKCdlJykpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3dNYWxmb3JtZWRFcnJvcihTdHJpbmcoZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBza2lwQmxhbmsgPSAoKSA9PiB7XG4gICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoICYmICcgXFxuXFxyXFx0Jy5pbmNsdWRlcyhqc29uU3RyaW5nW2luZGV4XSEpKSB7XG4gICAgICBpbmRleCsrO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gcGFyc2VBbnkoKTtcbn07XG5cbi8vIHVzaW5nIHRoaXMgZnVuY3Rpb24gd2l0aCBtYWxmb3JtZWQgSlNPTiBpcyB1bmRlZmluZWQgYmVoYXZpb3JcbmNvbnN0IHBhcnRpYWxQYXJzZSA9IChpbnB1dDogc3RyaW5nKSA9PiBwYXJzZUpTT04oaW5wdXQsIEFsbG93LkFMTCBeIEFsbG93Lk5VTSk7XG5cbmV4cG9ydCB7IHBhcnRpYWxQYXJzZSwgUGFydGlhbEpTT04sIE1hbGZvcm1lZEpTT04gfTtcbiIsICJpbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0IHtcbiAgT3BlbkFJRXJyb3IsXG4gIEFQSVVzZXJBYm9ydEVycm9yLFxuICBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcixcbiAgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yLFxufSBmcm9tICcuLi9lcnJvcic7XG5pbXBvcnQge1xuICBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYixcbiAgdHlwZSBDaGF0Q29tcGxldGlvbixcbiAgdHlwZSBDaGF0Q29tcGxldGlvbkNodW5rLFxuICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zQmFzZSxcbiAgdHlwZSBDaGF0Q29tcGxldGlvblJvbGUsXG59IGZyb20gJy4uL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zL2NvbXBsZXRpb25zJztcbmltcG9ydCB7XG4gIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIsXG4gIHR5cGUgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cyxcbn0gZnJvbSAnLi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7IHR5cGUgUmVhZGFibGVTdHJlYW0gfSBmcm9tICcuLi9fc2hpbXMvaW5kZXgnO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi4vc3RyZWFtaW5nJztcbmltcG9ydCBPcGVuQUkgZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgUGFyc2VkQ2hhdENvbXBsZXRpb24gfSBmcm9tICcuLi9yZXNvdXJjZXMvYmV0YS9jaGF0L2NvbXBsZXRpb25zJztcbmltcG9ydCB7XG4gIEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCxcbiAgaGFzQXV0b1BhcnNlYWJsZUlucHV0LFxuICBpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0LFxuICBpc0F1dG9QYXJzYWJsZVRvb2wsXG4gIG1heWJlUGFyc2VDaGF0Q29tcGxldGlvbixcbiAgc2hvdWxkUGFyc2VUb29sQ2FsbCxcbn0gZnJvbSAnLi4vbGliL3BhcnNlcic7XG5pbXBvcnQgeyBwYXJ0aWFsUGFyc2UgfSBmcm9tICcuLi9fdmVuZG9yL3BhcnRpYWwtanNvbi1wYXJzZXIvcGFyc2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBDb250ZW50RGVsdGFFdmVudCB7XG4gIGRlbHRhOiBzdHJpbmc7XG4gIHNuYXBzaG90OiBzdHJpbmc7XG4gIHBhcnNlZDogdW5rbm93biB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGVudERvbmVFdmVudDxQYXJzZWRUID0gbnVsbD4ge1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHBhcnNlZDogUGFyc2VkVCB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVmdXNhbERlbHRhRXZlbnQge1xuICBkZWx0YTogc3RyaW5nO1xuICBzbmFwc2hvdDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlZnVzYWxEb25lRXZlbnQge1xuICByZWZ1c2FsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25Ub29sQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnQge1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgaW5kZXg6IG51bWJlcjtcblxuICBhcmd1bWVudHM6IHN0cmluZztcblxuICBwYXJzZWRfYXJndW1lbnRzOiB1bmtub3duO1xuXG4gIGFyZ3VtZW50c19kZWx0YTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uVG9vbENhbGxBcmd1bWVudHNEb25lRXZlbnQge1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgaW5kZXg6IG51bWJlcjtcblxuICBhcmd1bWVudHM6IHN0cmluZztcblxuICBwYXJzZWRfYXJndW1lbnRzOiB1bmtub3duO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ1Byb2JzQ29udGVudERlbHRhRXZlbnQge1xuICBjb250ZW50OiBBcnJheTxDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYj47XG4gIHNuYXBzaG90OiBBcnJheTxDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nUHJvYnNDb250ZW50RG9uZUV2ZW50IHtcbiAgY29udGVudDogQXJyYXk8Q2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2I+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ1Byb2JzUmVmdXNhbERlbHRhRXZlbnQge1xuICByZWZ1c2FsOiBBcnJheTxDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYj47XG4gIHNuYXBzaG90OiBBcnJheTxDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nUHJvYnNSZWZ1c2FsRG9uZUV2ZW50IHtcbiAgcmVmdXNhbDogQXJyYXk8Q2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2I+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uU3RyZWFtRXZlbnRzPFBhcnNlZFQgPSBudWxsPiBleHRlbmRzIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMge1xuICBjb250ZW50OiAoY29udGVudERlbHRhOiBzdHJpbmcsIGNvbnRlbnRTbmFwc2hvdDogc3RyaW5nKSA9PiB2b2lkO1xuICBjaHVuazogKGNodW5rOiBDaGF0Q29tcGxldGlvbkNodW5rLCBzbmFwc2hvdDogQ2hhdENvbXBsZXRpb25TbmFwc2hvdCkgPT4gdm9pZDtcblxuICAnY29udGVudC5kZWx0YSc6IChwcm9wczogQ29udGVudERlbHRhRXZlbnQpID0+IHZvaWQ7XG4gICdjb250ZW50LmRvbmUnOiAocHJvcHM6IENvbnRlbnREb25lRXZlbnQ8UGFyc2VkVD4pID0+IHZvaWQ7XG5cbiAgJ3JlZnVzYWwuZGVsdGEnOiAocHJvcHM6IFJlZnVzYWxEZWx0YUV2ZW50KSA9PiB2b2lkO1xuICAncmVmdXNhbC5kb25lJzogKHByb3BzOiBSZWZ1c2FsRG9uZUV2ZW50KSA9PiB2b2lkO1xuXG4gICd0b29sX2NhbGxzLmZ1bmN0aW9uLmFyZ3VtZW50cy5kZWx0YSc6IChwcm9wczogRnVuY3Rpb25Ub29sQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnQpID0+IHZvaWQ7XG4gICd0b29sX2NhbGxzLmZ1bmN0aW9uLmFyZ3VtZW50cy5kb25lJzogKHByb3BzOiBGdW5jdGlvblRvb2xDYWxsQXJndW1lbnRzRG9uZUV2ZW50KSA9PiB2b2lkO1xuXG4gICdsb2dwcm9icy5jb250ZW50LmRlbHRhJzogKHByb3BzOiBMb2dQcm9ic0NvbnRlbnREZWx0YUV2ZW50KSA9PiB2b2lkO1xuICAnbG9ncHJvYnMuY29udGVudC5kb25lJzogKHByb3BzOiBMb2dQcm9ic0NvbnRlbnREb25lRXZlbnQpID0+IHZvaWQ7XG5cbiAgJ2xvZ3Byb2JzLnJlZnVzYWwuZGVsdGEnOiAocHJvcHM6IExvZ1Byb2JzUmVmdXNhbERlbHRhRXZlbnQpID0+IHZvaWQ7XG4gICdsb2dwcm9icy5yZWZ1c2FsLmRvbmUnOiAocHJvcHM6IExvZ1Byb2JzUmVmdXNhbERvbmVFdmVudCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25TdHJlYW1QYXJhbXMgPSBPbWl0PENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zQmFzZSwgJ3N0cmVhbSc+ICYge1xuICBzdHJlYW0/OiB0cnVlO1xufTtcblxuaW50ZXJmYWNlIENob2ljZUV2ZW50U3RhdGUge1xuICBjb250ZW50X2RvbmU6IGJvb2xlYW47XG4gIHJlZnVzYWxfZG9uZTogYm9vbGVhbjtcbiAgbG9ncHJvYnNfY29udGVudF9kb25lOiBib29sZWFuO1xuICBsb2dwcm9ic19yZWZ1c2FsX2RvbmU6IGJvb2xlYW47XG4gIGN1cnJlbnRfdG9vbF9jYWxsX2luZGV4OiBudW1iZXIgfCBudWxsO1xuICBkb25lX3Rvb2xfY2FsbHM6IFNldDxudW1iZXI+O1xufVxuXG5leHBvcnQgY2xhc3MgQ2hhdENvbXBsZXRpb25TdHJlYW08UGFyc2VkVCA9IG51bGw+XG4gIGV4dGVuZHMgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcjxDaGF0Q29tcGxldGlvblN0cmVhbUV2ZW50czxQYXJzZWRUPiwgUGFyc2VkVD5cbiAgaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlPENoYXRDb21wbGV0aW9uQ2h1bms+XG57XG4gICNwYXJhbXM6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIHwgbnVsbDtcbiAgI2Nob2ljZUV2ZW50U3RhdGVzOiBDaG9pY2VFdmVudFN0YXRlW107XG4gICNjdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdDogQ2hhdENvbXBsZXRpb25TbmFwc2hvdCB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihwYXJhbXM6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIHwgbnVsbCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy4jcGFyYW1zID0gcGFyYW1zO1xuICAgIHRoaXMuI2Nob2ljZUV2ZW50U3RhdGVzID0gW107XG4gIH1cblxuICBnZXQgY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QoKTogQ2hhdENvbXBsZXRpb25TbmFwc2hvdCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuI2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90O1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVuZGVkIGZvciB1c2Ugb24gdGhlIGZyb250ZW5kLCBjb25zdW1pbmcgYSBzdHJlYW0gcHJvZHVjZWQgd2l0aFxuICAgKiBgLnRvUmVhZGFibGVTdHJlYW0oKWAgb24gdGhlIGJhY2tlbmQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCBtZXNzYWdlcyBzZW50IHRvIHRoZSBtb2RlbCBkbyBub3QgYXBwZWFyIGluIGAub24oJ21lc3NhZ2UnKWBcbiAgICogaW4gdGhpcyBjb250ZXh0LlxuICAgKi9cbiAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW06IFJlYWRhYmxlU3RyZWFtKTogQ2hhdENvbXBsZXRpb25TdHJlYW08bnVsbD4ge1xuICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbShudWxsKTtcbiAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX2Zyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZUNoYXRDb21wbGV0aW9uPFBhcnNlZFQ+KFxuICAgIGNsaWVudDogT3BlbkFJLFxuICAgIHBhcmFtczogQ2hhdENvbXBsZXRpb25TdHJlYW1QYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uU3RyZWFtPFBhcnNlZFQ+IHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW08UGFyc2VkVD4ocGFyYW1zIGFzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nKTtcbiAgICBydW5uZXIuX3J1bigoKSA9PlxuICAgICAgcnVubmVyLl9ydW5DaGF0Q29tcGxldGlvbihcbiAgICAgICAgY2xpZW50LFxuICAgICAgICB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH0sXG4gICAgICAgIHsgLi4ub3B0aW9ucywgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0gfSxcbiAgICAgICksXG4gICAgKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgI2JlZ2luUmVxdWVzdCgpIHtcbiAgICBpZiAodGhpcy5lbmRlZCkgcmV0dXJuO1xuICAgIHRoaXMuI2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgI2dldENob2ljZUV2ZW50U3RhdGUoY2hvaWNlOiBDaGF0Q29tcGxldGlvblNuYXBzaG90LkNob2ljZSk6IENob2ljZUV2ZW50U3RhdGUge1xuICAgIGxldCBzdGF0ZSA9IHRoaXMuI2Nob2ljZUV2ZW50U3RhdGVzW2Nob2ljZS5pbmRleF07XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgc3RhdGUgPSB7XG4gICAgICBjb250ZW50X2RvbmU6IGZhbHNlLFxuICAgICAgcmVmdXNhbF9kb25lOiBmYWxzZSxcbiAgICAgIGxvZ3Byb2JzX2NvbnRlbnRfZG9uZTogZmFsc2UsXG4gICAgICBsb2dwcm9ic19yZWZ1c2FsX2RvbmU6IGZhbHNlLFxuICAgICAgZG9uZV90b29sX2NhbGxzOiBuZXcgU2V0KCksXG4gICAgICBjdXJyZW50X3Rvb2xfY2FsbF9pbmRleDogbnVsbCxcbiAgICB9O1xuICAgIHRoaXMuI2Nob2ljZUV2ZW50U3RhdGVzW2Nob2ljZS5pbmRleF0gPSBzdGF0ZTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cblxuICAjYWRkQ2h1bmsodGhpczogQ2hhdENvbXBsZXRpb25TdHJlYW08UGFyc2VkVD4sIGNodW5rOiBDaGF0Q29tcGxldGlvbkNodW5rKSB7XG4gICAgaWYgKHRoaXMuZW5kZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbXBsZXRpb24gPSB0aGlzLiNhY2N1bXVsYXRlQ2hhdENvbXBsZXRpb24oY2h1bmspO1xuICAgIHRoaXMuX2VtaXQoJ2NodW5rJywgY2h1bmssIGNvbXBsZXRpb24pO1xuXG4gICAgZm9yIChjb25zdCBjaG9pY2Ugb2YgY2h1bmsuY2hvaWNlcykge1xuICAgICAgY29uc3QgY2hvaWNlU25hcHNob3QgPSBjb21wbGV0aW9uLmNob2ljZXNbY2hvaWNlLmluZGV4XSE7XG5cbiAgICAgIGlmIChcbiAgICAgICAgY2hvaWNlLmRlbHRhLmNvbnRlbnQgIT0gbnVsbCAmJlxuICAgICAgICBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5jb250ZW50XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29udGVudCcsIGNob2ljZS5kZWx0YS5jb250ZW50LCBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgICB0aGlzLl9lbWl0KCdjb250ZW50LmRlbHRhJywge1xuICAgICAgICAgIGRlbHRhOiBjaG9pY2UuZGVsdGEuY29udGVudCxcbiAgICAgICAgICBzbmFwc2hvdDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgIHBhcnNlZDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5wYXJzZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIGNob2ljZS5kZWx0YS5yZWZ1c2FsICE9IG51bGwgJiZcbiAgICAgICAgY2hvaWNlU25hcHNob3QubWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiZcbiAgICAgICAgY2hvaWNlU25hcHNob3QubWVzc2FnZT8ucmVmdXNhbFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ3JlZnVzYWwuZGVsdGEnLCB7XG4gICAgICAgICAgZGVsdGE6IGNob2ljZS5kZWx0YS5yZWZ1c2FsLFxuICAgICAgICAgIHNuYXBzaG90OiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnJlZnVzYWwsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2hvaWNlLmxvZ3Byb2JzPy5jb250ZW50ICE9IG51bGwgJiYgY2hvaWNlU25hcHNob3QubWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnbG9ncHJvYnMuY29udGVudC5kZWx0YScsIHtcbiAgICAgICAgICBjb250ZW50OiBjaG9pY2UubG9ncHJvYnM/LmNvbnRlbnQsXG4gICAgICAgICAgc25hcHNob3Q6IGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzPy5jb250ZW50ID8/IFtdLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNob2ljZS5sb2dwcm9icz8ucmVmdXNhbCAhPSBudWxsICYmIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LnJvbGUgPT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2xvZ3Byb2JzLnJlZnVzYWwuZGVsdGEnLCB7XG4gICAgICAgICAgcmVmdXNhbDogY2hvaWNlLmxvZ3Byb2JzPy5yZWZ1c2FsLFxuICAgICAgICAgIHNuYXBzaG90OiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8ucmVmdXNhbCA/PyBbXSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy4jZ2V0Q2hvaWNlRXZlbnRTdGF0ZShjaG9pY2VTbmFwc2hvdCk7XG5cbiAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5maW5pc2hfcmVhc29uKSB7XG4gICAgICAgIHRoaXMuI2VtaXRDb250ZW50RG9uZUV2ZW50cyhjaG9pY2VTbmFwc2hvdCk7XG5cbiAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLiNlbWl0VG9vbENhbGxEb25lRXZlbnQoY2hvaWNlU25hcHNob3QsIHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIGNob2ljZS5kZWx0YS50b29sX2NhbGxzID8/IFtdKSB7XG4gICAgICAgIGlmIChzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCAhPT0gdG9vbENhbGwuaW5kZXgpIHtcbiAgICAgICAgICB0aGlzLiNlbWl0Q29udGVudERvbmVFdmVudHMoY2hvaWNlU25hcHNob3QpO1xuXG4gICAgICAgICAgLy8gbmV3IHRvb2wgY2FsbCBzdGFydGVkLCB0aGUgcHJldmlvdXMgb25lIGlzIGRvbmVcbiAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudF90b29sX2NhbGxfaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy4jZW1pdFRvb2xDYWxsRG9uZUV2ZW50KGNob2ljZVNuYXBzaG90LCBzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuY3VycmVudF90b29sX2NhbGxfaW5kZXggPSB0b29sQ2FsbC5pbmRleDtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCB0b29sQ2FsbERlbHRhIG9mIGNob2ljZS5kZWx0YS50b29sX2NhbGxzID8/IFtdKSB7XG4gICAgICAgIGNvbnN0IHRvb2xDYWxsU25hcHNob3QgPSBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnRvb2xfY2FsbHM/Llt0b29sQ2FsbERlbHRhLmluZGV4XTtcbiAgICAgICAgaWYgKCF0b29sQ2FsbFNuYXBzaG90Py50eXBlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9vbENhbGxTbmFwc2hvdD8udHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xfY2FsbHMuZnVuY3Rpb24uYXJndW1lbnRzLmRlbHRhJywge1xuICAgICAgICAgICAgbmFtZTogdG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbj8ubmFtZSxcbiAgICAgICAgICAgIGluZGV4OiB0b29sQ2FsbERlbHRhLmluZGV4LFxuICAgICAgICAgICAgYXJndW1lbnRzOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLmFyZ3VtZW50cyxcbiAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24ucGFyc2VkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgIGFyZ3VtZW50c19kZWx0YTogdG9vbENhbGxEZWx0YS5mdW5jdGlvbj8uYXJndW1lbnRzID8/ICcnLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2VydE5ldmVyKHRvb2xDYWxsU25hcHNob3Q/LnR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgI2VtaXRUb29sQ2FsbERvbmVFdmVudChjaG9pY2VTbmFwc2hvdDogQ2hhdENvbXBsZXRpb25TbmFwc2hvdC5DaG9pY2UsIHRvb2xDYWxsSW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy4jZ2V0Q2hvaWNlRXZlbnRTdGF0ZShjaG9pY2VTbmFwc2hvdCk7XG4gICAgaWYgKHN0YXRlLmRvbmVfdG9vbF9jYWxscy5oYXModG9vbENhbGxJbmRleCkpIHtcbiAgICAgIC8vIHdlJ3ZlIGFscmVhZHkgZmlyZWQgdGhlIGRvbmUgZXZlbnRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0b29sQ2FsbFNuYXBzaG90ID0gY2hvaWNlU25hcHNob3QubWVzc2FnZS50b29sX2NhbGxzPy5bdG9vbENhbGxJbmRleF07XG4gICAgaWYgKCF0b29sQ2FsbFNuYXBzaG90KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIHRvb2wgY2FsbCBzbmFwc2hvdCcpO1xuICAgIH1cbiAgICBpZiAoIXRvb2xDYWxsU25hcHNob3QudHlwZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0b29sIGNhbGwgc25hcHNob3QgbWlzc2luZyBgdHlwZWAnKTtcbiAgICB9XG5cbiAgICBpZiAodG9vbENhbGxTbmFwc2hvdC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zdCBpbnB1dFRvb2wgPSB0aGlzLiNwYXJhbXM/LnRvb2xzPy5maW5kKFxuICAgICAgICAodG9vbCkgPT4gdG9vbC50eXBlID09PSAnZnVuY3Rpb24nICYmIHRvb2wuZnVuY3Rpb24ubmFtZSA9PT0gdG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5uYW1lLFxuICAgICAgKTtcblxuICAgICAgdGhpcy5fZW1pdCgndG9vbF9jYWxscy5mdW5jdGlvbi5hcmd1bWVudHMuZG9uZScsIHtcbiAgICAgICAgbmFtZTogdG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5uYW1lLFxuICAgICAgICBpbmRleDogdG9vbENhbGxJbmRleCxcbiAgICAgICAgYXJndW1lbnRzOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLmFyZ3VtZW50cyxcbiAgICAgICAgcGFyc2VkX2FyZ3VtZW50czpcbiAgICAgICAgICBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgICAgOiBpbnB1dFRvb2w/LmZ1bmN0aW9uLnN0cmljdCA/IEpTT04ucGFyc2UodG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgICAgOiBudWxsLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydE5ldmVyKHRvb2xDYWxsU25hcHNob3QudHlwZSk7XG4gICAgfVxuICB9XG5cbiAgI2VtaXRDb250ZW50RG9uZUV2ZW50cyhjaG9pY2VTbmFwc2hvdDogQ2hhdENvbXBsZXRpb25TbmFwc2hvdC5DaG9pY2UpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuI2dldENob2ljZUV2ZW50U3RhdGUoY2hvaWNlU25hcHNob3QpO1xuXG4gICAgaWYgKGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UuY29udGVudCAmJiAhc3RhdGUuY29udGVudF9kb25lKSB7XG4gICAgICBzdGF0ZS5jb250ZW50X2RvbmUgPSB0cnVlO1xuXG4gICAgICBjb25zdCByZXNwb25zZUZvcm1hdCA9IHRoaXMuI2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCgpO1xuXG4gICAgICB0aGlzLl9lbWl0KCdjb250ZW50LmRvbmUnLCB7XG4gICAgICAgIGNvbnRlbnQ6IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgcGFyc2VkOiByZXNwb25zZUZvcm1hdCA/IHJlc3BvbnNlRm9ybWF0LiRwYXJzZVJhdyhjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQpIDogKG51bGwgYXMgYW55KSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnJlZnVzYWwgJiYgIXN0YXRlLnJlZnVzYWxfZG9uZSkge1xuICAgICAgc3RhdGUucmVmdXNhbF9kb25lID0gdHJ1ZTtcblxuICAgICAgdGhpcy5fZW1pdCgncmVmdXNhbC5kb25lJywgeyByZWZ1c2FsOiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnJlZnVzYWwgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzPy5jb250ZW50ICYmICFzdGF0ZS5sb2dwcm9ic19jb250ZW50X2RvbmUpIHtcbiAgICAgIHN0YXRlLmxvZ3Byb2JzX2NvbnRlbnRfZG9uZSA9IHRydWU7XG5cbiAgICAgIHRoaXMuX2VtaXQoJ2xvZ3Byb2JzLmNvbnRlbnQuZG9uZScsIHsgY29udGVudDogY2hvaWNlU25hcHNob3QubG9ncHJvYnMuY29udGVudCB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2hvaWNlU25hcHNob3QubG9ncHJvYnM/LnJlZnVzYWwgJiYgIXN0YXRlLmxvZ3Byb2JzX3JlZnVzYWxfZG9uZSkge1xuICAgICAgc3RhdGUubG9ncHJvYnNfcmVmdXNhbF9kb25lID0gdHJ1ZTtcblxuICAgICAgdGhpcy5fZW1pdCgnbG9ncHJvYnMucmVmdXNhbC5kb25lJywgeyByZWZ1c2FsOiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icy5yZWZ1c2FsIH0pO1xuICAgIH1cbiAgfVxuXG4gICNlbmRSZXF1ZXN0KCk6IFBhcnNlZENoYXRDb21wbGV0aW9uPFBhcnNlZFQ+IHtcbiAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBzdHJlYW0gaGFzIGVuZGVkLCB0aGlzIHNob3VsZG4ndCBoYXBwZW5gKTtcbiAgICB9XG4gICAgY29uc3Qgc25hcHNob3QgPSB0aGlzLiNjdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdDtcbiAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYHJlcXVlc3QgZW5kZWQgd2l0aG91dCBzZW5kaW5nIGFueSBjaHVua3NgKTtcbiAgICB9XG4gICAgdGhpcy4jY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy4jY2hvaWNlRXZlbnRTdGF0ZXMgPSBbXTtcbiAgICByZXR1cm4gZmluYWxpemVDaGF0Q29tcGxldGlvbihzbmFwc2hvdCwgdGhpcy4jcGFyYW1zKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvdmVycmlkZSBhc3luYyBfY3JlYXRlQ2hhdENvbXBsZXRpb24oXG4gICAgY2xpZW50OiBPcGVuQUksXG4gICAgcGFyYW1zOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxQYXJzZWRDaGF0Q29tcGxldGlvbjxQYXJzZWRUPj4ge1xuICAgIHN1cGVyLl9jcmVhdGVDaGF0Q29tcGxldGlvbjtcbiAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgaWYgKHNpZ25hbCkge1xuICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICB9XG4gICAgdGhpcy4jYmVnaW5SZXF1ZXN0KCk7XG5cbiAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBjbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoXG4gICAgICB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH0sXG4gICAgICB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9LFxuICAgICk7XG4gICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgIHRoaXMuI2FkZENodW5rKGNodW5rKTtcbiAgICB9XG4gICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbih0aGlzLiNlbmRSZXF1ZXN0KCkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9mcm9tUmVhZGFibGVTdHJlYW0oXG4gICAgcmVhZGFibGVTdHJlYW06IFJlYWRhYmxlU3RyZWFtLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPENoYXRDb21wbGV0aW9uPiB7XG4gICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgIGlmIChzaWduYWwpIHtcbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgfVxuICAgIHRoaXMuI2JlZ2luUmVxdWVzdCgpO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgIGNvbnN0IHN0cmVhbSA9IFN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW08Q2hhdENvbXBsZXRpb25DaHVuaz4ocmVhZGFibGVTdHJlYW0sIHRoaXMuY29udHJvbGxlcik7XG4gICAgbGV0IGNoYXRJZDtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgaWYgKGNoYXRJZCAmJiBjaGF0SWQgIT09IGNodW5rLmlkKSB7XG4gICAgICAgIC8vIEEgbmV3IHJlcXVlc3QgaGFzIGJlZW4gbWFkZS5cbiAgICAgICAgdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24odGhpcy4jZW5kUmVxdWVzdCgpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4jYWRkQ2h1bmsoY2h1bmspO1xuICAgICAgY2hhdElkID0gY2h1bmsuaWQ7XG4gICAgfVxuICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24odGhpcy4jZW5kUmVxdWVzdCgpKTtcbiAgfVxuXG4gICNnZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQoKTogQXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0PFBhcnNlZFQ+IHwgbnVsbCB7XG4gICAgY29uc3QgcmVzcG9uc2VGb3JtYXQgPSB0aGlzLiNwYXJhbXM/LnJlc3BvbnNlX2Zvcm1hdDtcbiAgICBpZiAoaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdDxQYXJzZWRUPihyZXNwb25zZUZvcm1hdCkpIHtcbiAgICAgIHJldHVybiByZXNwb25zZUZvcm1hdDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gICNhY2N1bXVsYXRlQ2hhdENvbXBsZXRpb24oY2h1bms6IENoYXRDb21wbGV0aW9uQ2h1bmspOiBDaGF0Q29tcGxldGlvblNuYXBzaG90IHtcbiAgICBsZXQgc25hcHNob3QgPSB0aGlzLiNjdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdDtcbiAgICBjb25zdCB7IGNob2ljZXMsIC4uLnJlc3QgfSA9IGNodW5rO1xuICAgIGlmICghc25hcHNob3QpIHtcbiAgICAgIHNuYXBzaG90ID0gdGhpcy4jY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QgPSB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIGNob2ljZXM6IFtdLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmFzc2lnbihzbmFwc2hvdCwgcmVzdCk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCB7IGRlbHRhLCBmaW5pc2hfcmVhc29uLCBpbmRleCwgbG9ncHJvYnMgPSBudWxsLCAuLi5vdGhlciB9IG9mIGNodW5rLmNob2ljZXMpIHtcbiAgICAgIGxldCBjaG9pY2UgPSBzbmFwc2hvdC5jaG9pY2VzW2luZGV4XTtcbiAgICAgIGlmICghY2hvaWNlKSB7XG4gICAgICAgIGNob2ljZSA9IHNuYXBzaG90LmNob2ljZXNbaW5kZXhdID0geyBmaW5pc2hfcmVhc29uLCBpbmRleCwgbWVzc2FnZToge30sIGxvZ3Byb2JzLCAuLi5vdGhlciB9O1xuICAgICAgfVxuXG4gICAgICBpZiAobG9ncHJvYnMpIHtcbiAgICAgICAgaWYgKCFjaG9pY2UubG9ncHJvYnMpIHtcbiAgICAgICAgICBjaG9pY2UubG9ncHJvYnMgPSBPYmplY3QuYXNzaWduKHt9LCBsb2dwcm9icyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgeyBjb250ZW50LCByZWZ1c2FsLCAuLi5yZXN0IH0gPSBsb2dwcm9icztcbiAgICAgICAgICBhc3NlcnRJc0VtcHR5KHJlc3QpO1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2hvaWNlLmxvZ3Byb2JzLCByZXN0KTtcblxuICAgICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICBjaG9pY2UubG9ncHJvYnMuY29udGVudCA/Pz0gW107XG4gICAgICAgICAgICBjaG9pY2UubG9ncHJvYnMuY29udGVudC5wdXNoKC4uLmNvbnRlbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWZ1c2FsKSB7XG4gICAgICAgICAgICBjaG9pY2UubG9ncHJvYnMucmVmdXNhbCA/Pz0gW107XG4gICAgICAgICAgICBjaG9pY2UubG9ncHJvYnMucmVmdXNhbC5wdXNoKC4uLnJlZnVzYWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluaXNoX3JlYXNvbikge1xuICAgICAgICBjaG9pY2UuZmluaXNoX3JlYXNvbiA9IGZpbmlzaF9yZWFzb247XG5cbiAgICAgICAgaWYgKHRoaXMuI3BhcmFtcyAmJiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQodGhpcy4jcGFyYW1zKSkge1xuICAgICAgICAgIGlmIChmaW5pc2hfcmVhc29uID09PSAnbGVuZ3RoJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IExlbmd0aEZpbmlzaFJlYXNvbkVycm9yKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpbmlzaF9yZWFzb24gPT09ICdjb250ZW50X2ZpbHRlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgT2JqZWN0LmFzc2lnbihjaG9pY2UsIG90aGVyKTtcblxuICAgICAgaWYgKCFkZWx0YSkgY29udGludWU7IC8vIFNob3VsZG4ndCBoYXBwZW47IGp1c3QgaW4gY2FzZS5cblxuICAgICAgY29uc3QgeyBjb250ZW50LCByZWZ1c2FsLCBmdW5jdGlvbl9jYWxsLCByb2xlLCB0b29sX2NhbGxzLCAuLi5yZXN0IH0gPSBkZWx0YTtcbiAgICAgIGFzc2VydElzRW1wdHkocmVzdCk7XG4gICAgICBPYmplY3QuYXNzaWduKGNob2ljZS5tZXNzYWdlLCByZXN0KTtcblxuICAgICAgaWYgKHJlZnVzYWwpIHtcbiAgICAgICAgY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA9IChjaG9pY2UubWVzc2FnZS5yZWZ1c2FsIHx8ICcnKSArIHJlZnVzYWw7XG4gICAgICB9XG5cbiAgICAgIGlmIChyb2xlKSBjaG9pY2UubWVzc2FnZS5yb2xlID0gcm9sZTtcbiAgICAgIGlmIChmdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgIGlmICghY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPSBmdW5jdGlvbl9jYWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChmdW5jdGlvbl9jYWxsLm5hbWUpIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwubmFtZSA9IGZ1bmN0aW9uX2NhbGwubmFtZTtcbiAgICAgICAgICBpZiAoZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMpIHtcbiAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzID8/PSAnJztcbiAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzICs9IGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgY2hvaWNlLm1lc3NhZ2UuY29udGVudCA9IChjaG9pY2UubWVzc2FnZS5jb250ZW50IHx8ICcnKSArIGNvbnRlbnQ7XG5cbiAgICAgICAgaWYgKCFjaG9pY2UubWVzc2FnZS5yZWZ1c2FsICYmIHRoaXMuI2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCgpKSB7XG4gICAgICAgICAgY2hvaWNlLm1lc3NhZ2UucGFyc2VkID0gcGFydGlhbFBhcnNlKGNob2ljZS5tZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0b29sX2NhbGxzKSB7XG4gICAgICAgIGlmICghY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscykgY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgeyBpbmRleCwgaWQsIHR5cGUsIGZ1bmN0aW9uOiBmbiwgLi4ucmVzdCB9IG9mIHRvb2xfY2FsbHMpIHtcbiAgICAgICAgICBjb25zdCB0b29sX2NhbGwgPSAoY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxsc1tpbmRleF0gPz89XG4gICAgICAgICAgICB7fSBhcyBDaGF0Q29tcGxldGlvblNuYXBzaG90LkNob2ljZS5NZXNzYWdlLlRvb2xDYWxsKTtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHRvb2xfY2FsbCwgcmVzdCk7XG4gICAgICAgICAgaWYgKGlkKSB0b29sX2NhbGwuaWQgPSBpZDtcbiAgICAgICAgICBpZiAodHlwZSkgdG9vbF9jYWxsLnR5cGUgPSB0eXBlO1xuICAgICAgICAgIGlmIChmbikgdG9vbF9jYWxsLmZ1bmN0aW9uID8/PSB7IG5hbWU6IGZuLm5hbWUgPz8gJycsIGFyZ3VtZW50czogJycgfTtcbiAgICAgICAgICBpZiAoZm4/Lm5hbWUpIHRvb2xfY2FsbC5mdW5jdGlvbiEubmFtZSA9IGZuLm5hbWU7XG4gICAgICAgICAgaWYgKGZuPy5hcmd1bWVudHMpIHtcbiAgICAgICAgICAgIHRvb2xfY2FsbC5mdW5jdGlvbiEuYXJndW1lbnRzICs9IGZuLmFyZ3VtZW50cztcblxuICAgICAgICAgICAgaWYgKHNob3VsZFBhcnNlVG9vbENhbGwodGhpcy4jcGFyYW1zLCB0b29sX2NhbGwpKSB7XG4gICAgICAgICAgICAgIHRvb2xfY2FsbC5mdW5jdGlvbiEucGFyc2VkX2FyZ3VtZW50cyA9IHBhcnRpYWxQYXJzZSh0b29sX2NhbGwuZnVuY3Rpb24hLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzbmFwc2hvdDtcbiAgfVxuXG4gIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0odGhpczogQ2hhdENvbXBsZXRpb25TdHJlYW08UGFyc2VkVD4pOiBBc3luY0l0ZXJhdG9yPENoYXRDb21wbGV0aW9uQ2h1bms+IHtcbiAgICBjb25zdCBwdXNoUXVldWU6IENoYXRDb21wbGV0aW9uQ2h1bmtbXSA9IFtdO1xuICAgIGNvbnN0IHJlYWRRdWV1ZToge1xuICAgICAgcmVzb2x2ZTogKGNodW5rOiBDaGF0Q29tcGxldGlvbkNodW5rIHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xuICAgICAgcmVqZWN0OiAoZXJyOiB1bmtub3duKSA9PiB2b2lkO1xuICAgIH1bXSA9IFtdO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG5cbiAgICB0aGlzLm9uKCdjaHVuaycsIChjaHVuaykgPT4ge1xuICAgICAgY29uc3QgcmVhZGVyID0gcmVhZFF1ZXVlLnNoaWZ0KCk7XG4gICAgICBpZiAocmVhZGVyKSB7XG4gICAgICAgIHJlYWRlci5yZXNvbHZlKGNodW5rKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHB1c2hRdWV1ZS5wdXNoKGNodW5rKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgIHJlYWRlci5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2Fib3J0JywgKGVycikgPT4ge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgcmVhZGVyLnJlamVjdChlcnIpO1xuICAgICAgfVxuICAgICAgcmVhZFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGFzeW5jICgpOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PENoYXRDb21wbGV0aW9uQ2h1bms+PiA9PiB7XG4gICAgICAgIGlmICghcHVzaFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxDaGF0Q29tcGxldGlvbkNodW5rIHwgdW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PlxuICAgICAgICAgICAgcmVhZFF1ZXVlLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSksXG4gICAgICAgICAgKS50aGVuKChjaHVuaykgPT4gKGNodW5rID8geyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNodW5rID0gcHVzaFF1ZXVlLnNoaWZ0KCkhO1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH07XG4gICAgICB9LFxuICAgICAgcmV0dXJuOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgdG9SZWFkYWJsZVN0cmVhbSgpOiBSZWFkYWJsZVN0cmVhbSB7XG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IFN0cmVhbSh0aGlzW1N5bWJvbC5hc3luY0l0ZXJhdG9yXS5iaW5kKHRoaXMpLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgIHJldHVybiBzdHJlYW0udG9SZWFkYWJsZVN0cmVhbSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmFsaXplQ2hhdENvbXBsZXRpb248UGFyc2VkVD4oXG4gIHNuYXBzaG90OiBDaGF0Q29tcGxldGlvblNuYXBzaG90LFxuICBwYXJhbXM6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIHwgbnVsbCxcbik6IFBhcnNlZENoYXRDb21wbGV0aW9uPFBhcnNlZFQ+IHtcbiAgY29uc3QgeyBpZCwgY2hvaWNlcywgY3JlYXRlZCwgbW9kZWwsIHN5c3RlbV9maW5nZXJwcmludCwgLi4ucmVzdCB9ID0gc25hcHNob3Q7XG4gIGNvbnN0IGNvbXBsZXRpb246IENoYXRDb21wbGV0aW9uID0ge1xuICAgIC4uLnJlc3QsXG4gICAgaWQsXG4gICAgY2hvaWNlczogY2hvaWNlcy5tYXAoXG4gICAgICAoeyBtZXNzYWdlLCBmaW5pc2hfcmVhc29uLCBpbmRleCwgbG9ncHJvYnMsIC4uLmNob2ljZVJlc3QgfSk6IENoYXRDb21wbGV0aW9uLkNob2ljZSA9PiB7XG4gICAgICAgIGlmICghZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBmaW5pc2hfcmVhc29uIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgY29udGVudCA9IG51bGwsIGZ1bmN0aW9uX2NhbGwsIHRvb2xfY2FsbHMsIC4uLm1lc3NhZ2VSZXN0IH0gPSBtZXNzYWdlO1xuICAgICAgICBjb25zdCByb2xlID0gbWVzc2FnZS5yb2xlIGFzICdhc3Npc3RhbnQnOyAvLyB0aGlzIGlzIHdoYXQgd2UgZXhwZWN0OyBpbiB0aGVvcnkgaXQgY291bGQgYmUgZGlmZmVyZW50IHdoaWNoIHdvdWxkIG1ha2Ugb3VyIHR5cGVzIGEgc2xpZ2h0IGxpZSBidXQgd291bGQgYmUgZmluZS5cbiAgICAgICAgaWYgKCFyb2xlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIHJvbGUgZm9yIGNob2ljZSAke2luZGV4fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgICBjb25zdCB7IGFyZ3VtZW50czogYXJncywgbmFtZSB9ID0gZnVuY3Rpb25fY2FsbDtcbiAgICAgICAgICBpZiAoYXJncyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgZm9yIGNob2ljZSAke2luZGV4fWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGZ1bmN0aW9uX2NhbGwubmFtZSBmb3IgY2hvaWNlICR7aW5kZXh9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmNob2ljZVJlc3QsXG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uX2NhbGw6IHsgYXJndW1lbnRzOiBhcmdzLCBuYW1lIH0sXG4gICAgICAgICAgICAgIHJvbGUsXG4gICAgICAgICAgICAgIHJlZnVzYWw6IG1lc3NhZ2UucmVmdXNhbCA/PyBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmlzaF9yZWFzb24sXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9vbF9jYWxscykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jaG9pY2VSZXN0LFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBmaW5pc2hfcmVhc29uLFxuICAgICAgICAgICAgbG9ncHJvYnMsXG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgIC4uLm1lc3NhZ2VSZXN0LFxuICAgICAgICAgICAgICByb2xlLFxuICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgICByZWZ1c2FsOiBtZXNzYWdlLnJlZnVzYWwgPz8gbnVsbCxcbiAgICAgICAgICAgICAgdG9vbF9jYWxsczogdG9vbF9jYWxscy5tYXAoKHRvb2xfY2FsbCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZnVuY3Rpb246IGZuLCB0eXBlLCBpZCwgLi4udG9vbFJlc3QgfSA9IHRvb2xfY2FsbDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFyZ3VtZW50czogYXJncywgbmFtZSwgLi4uZm5SZXN0IH0gPSBmbiB8fCB7fTtcbiAgICAgICAgICAgICAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGNob2ljZXNbJHtpbmRleH1dLnRvb2xfY2FsbHNbJHtpfV0uaWRcXG4ke3N0cihzbmFwc2hvdCl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLnR5cGVcXG4ke3N0cihzbmFwc2hvdCl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYG1pc3NpbmcgY2hvaWNlc1ske2luZGV4fV0udG9vbF9jYWxsc1ske2l9XS5mdW5jdGlvbi5uYW1lXFxuJHtzdHIoc25hcHNob3QpfWAsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXJncyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBtaXNzaW5nIGNob2ljZXNbJHtpbmRleH1dLnRvb2xfY2FsbHNbJHtpfV0uZnVuY3Rpb24uYXJndW1lbnRzXFxuJHtzdHIoc25hcHNob3QpfWAsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnRvb2xSZXN0LCBpZCwgdHlwZSwgZnVuY3Rpb246IHsgLi4uZm5SZXN0LCBuYW1lLCBhcmd1bWVudHM6IGFyZ3MgfSB9O1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmNob2ljZVJlc3QsXG4gICAgICAgICAgbWVzc2FnZTogeyAuLi5tZXNzYWdlUmVzdCwgY29udGVudCwgcm9sZSwgcmVmdXNhbDogbWVzc2FnZS5yZWZ1c2FsID8/IG51bGwgfSxcbiAgICAgICAgICBmaW5pc2hfcmVhc29uLFxuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICApLFxuICAgIGNyZWF0ZWQsXG4gICAgbW9kZWwsXG4gICAgb2JqZWN0OiAnY2hhdC5jb21wbGV0aW9uJyxcbiAgICAuLi4oc3lzdGVtX2ZpbmdlcnByaW50ID8geyBzeXN0ZW1fZmluZ2VycHJpbnQgfSA6IHt9KSxcbiAgfTtcblxuICByZXR1cm4gbWF5YmVQYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcyk7XG59XG5cbmZ1bmN0aW9uIHN0cih4OiB1bmtub3duKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh4KTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgc3RyZWFtZWQgY2h1bmsgb2YgYSBjaGF0IGNvbXBsZXRpb24gcmVzcG9uc2UgcmV0dXJuZWQgYnkgbW9kZWwsXG4gKiBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25TbmFwc2hvdCB7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2hhdCBjb21wbGV0aW9uLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIGNoYXQgY29tcGxldGlvbiBjaG9pY2VzLiBDYW4gYmUgbW9yZSB0aGFuIG9uZSBpZiBgbmAgaXMgZ3JlYXRlclxuICAgKiB0aGFuIDEuXG4gICAqL1xuICBjaG9pY2VzOiBBcnJheTxDaGF0Q29tcGxldGlvblNuYXBzaG90LkNob2ljZT47XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgb2Ygd2hlbiB0aGUgY2hhdCBjb21wbGV0aW9uIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbW9kZWwgdG8gZ2VuZXJhdGUgdGhlIGNvbXBsZXRpb24uXG4gICAqL1xuICBtb2RlbDogc3RyaW5nO1xuXG4gIC8vIE5vdGUgd2UgZG8gbm90IGluY2x1ZGUgYW4gXCJvYmplY3RcIiB0eXBlIG9uIHRoZSBzbmFwc2hvdCxcbiAgLy8gYmVjYXVzZSB0aGUgb2JqZWN0IGlzIG5vdCBhIHZhbGlkIFwiY2hhdC5jb21wbGV0aW9uXCIgdW50aWwgZmluYWxpemVkLlxuICAvLyBvYmplY3Q6ICdjaGF0LmNvbXBsZXRpb24nO1xuXG4gIC8qKlxuICAgKiBUaGlzIGZpbmdlcnByaW50IHJlcHJlc2VudHMgdGhlIGJhY2tlbmQgY29uZmlndXJhdGlvbiB0aGF0IHRoZSBtb2RlbCBydW5zIHdpdGguXG4gICAqXG4gICAqIENhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIGBzZWVkYCByZXF1ZXN0IHBhcmFtZXRlciB0byB1bmRlcnN0YW5kIHdoZW5cbiAgICogYmFja2VuZCBjaGFuZ2VzIGhhdmUgYmVlbiBtYWRlIHRoYXQgbWlnaHQgaW1wYWN0IGRldGVybWluaXNtLlxuICAgKi9cbiAgc3lzdGVtX2ZpbmdlcnByaW50Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uU25hcHNob3Qge1xuICBleHBvcnQgaW50ZXJmYWNlIENob2ljZSB7XG4gICAgLyoqXG4gICAgICogQSBjaGF0IGNvbXBsZXRpb24gZGVsdGEgZ2VuZXJhdGVkIGJ5IHN0cmVhbWVkIG1vZGVsIHJlc3BvbnNlcy5cbiAgICAgKi9cbiAgICBtZXNzYWdlOiBDaG9pY2UuTWVzc2FnZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZWFzb24gdGhlIG1vZGVsIHN0b3BwZWQgZ2VuZXJhdGluZyB0b2tlbnMuIFRoaXMgd2lsbCBiZSBgc3RvcGAgaWYgdGhlIG1vZGVsXG4gICAgICogaGl0IGEgbmF0dXJhbCBzdG9wIHBvaW50IG9yIGEgcHJvdmlkZWQgc3RvcCBzZXF1ZW5jZSwgYGxlbmd0aGAgaWYgdGhlIG1heGltdW1cbiAgICAgKiBudW1iZXIgb2YgdG9rZW5zIHNwZWNpZmllZCBpbiB0aGUgcmVxdWVzdCB3YXMgcmVhY2hlZCwgYGNvbnRlbnRfZmlsdGVyYCBpZlxuICAgICAqIGNvbnRlbnQgd2FzIG9taXR0ZWQgZHVlIHRvIGEgZmxhZyBmcm9tIG91ciBjb250ZW50IGZpbHRlcnMsIG9yIGBmdW5jdGlvbl9jYWxsYFxuICAgICAqIGlmIHRoZSBtb2RlbCBjYWxsZWQgYSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmaW5pc2hfcmVhc29uOiBDaGF0Q29tcGxldGlvbi5DaG9pY2VbJ2ZpbmlzaF9yZWFzb24nXSB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBMb2cgcHJvYmFiaWxpdHkgaW5mb3JtYXRpb24gZm9yIHRoZSBjaG9pY2UuXG4gICAgICovXG4gICAgbG9ncHJvYnM6IENoYXRDb21wbGV0aW9uLkNob2ljZS5Mb2dwcm9icyB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGNob2ljZSBpbiB0aGUgbGlzdCBvZiBjaG9pY2VzLlxuICAgICAqL1xuICAgIGluZGV4OiBudW1iZXI7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIENob2ljZSB7XG4gICAgLyoqXG4gICAgICogQSBjaGF0IGNvbXBsZXRpb24gZGVsdGEgZ2VuZXJhdGVkIGJ5IHN0cmVhbWVkIG1vZGVsIHJlc3BvbnNlcy5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgY29udGVudHMgb2YgdGhlIGNodW5rIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIGNvbnRlbnQ/OiBzdHJpbmcgfCBudWxsO1xuXG4gICAgICByZWZ1c2FsPzogc3RyaW5nIHwgbnVsbDtcblxuICAgICAgcGFyc2VkPzogdW5rbm93biB8IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIG5hbWUgYW5kIGFyZ3VtZW50cyBvZiBhIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZVxuICAgICAgICogbW9kZWwuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uX2NhbGw/OiBNZXNzYWdlLkZ1bmN0aW9uQ2FsbDtcblxuICAgICAgdG9vbF9jYWxscz86IEFycmF5PE1lc3NhZ2UuVG9vbENhbGw+O1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSByb2xlIG9mIHRoZSBhdXRob3Igb2YgdGhpcyBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICByb2xlPzogQ2hhdENvbXBsZXRpb25Sb2xlO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgTWVzc2FnZSB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIFRvb2xDYWxsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsLlxuICAgICAgICAgKi9cbiAgICAgICAgaWQ6IHN0cmluZztcblxuICAgICAgICBmdW5jdGlvbjogVG9vbENhbGwuRnVuY3Rpb247XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSB0b29sLlxuICAgICAgICAgKi9cbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJztcbiAgICAgIH1cblxuICAgICAgZXhwb3J0IG5hbWVzcGFjZSBUb29sQ2FsbCB7XG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb24ge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoZSBhcmd1bWVudHMgdG8gY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiBKU09OXG4gICAgICAgICAgICogZm9ybWF0LiBOb3RlIHRoYXQgdGhlIG1vZGVsIGRvZXMgbm90IGFsd2F5cyBnZW5lcmF0ZSB2YWxpZCBKU09OLCBhbmQgbWF5XG4gICAgICAgICAgICogaGFsbHVjaW5hdGUgcGFyYW1ldGVycyBub3QgZGVmaW5lZCBieSB5b3VyIGZ1bmN0aW9uIHNjaGVtYS4gVmFsaWRhdGUgdGhlXG4gICAgICAgICAgICogYXJndW1lbnRzIGluIHlvdXIgY29kZSBiZWZvcmUgY2FsbGluZyB5b3VyIGZ1bmN0aW9uLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGFyZ3VtZW50czogc3RyaW5nO1xuXG4gICAgICAgICAgcGFyc2VkX2FyZ3VtZW50cz86IHVua25vd247XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbmFtZSBhbmQgYXJndW1lbnRzIG9mIGEgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkLCBhcyBnZW5lcmF0ZWQgYnkgdGhlXG4gICAgICAgKiBtb2RlbC5cbiAgICAgICAqL1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbkNhbGwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZ3VtZW50cyB0byBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGluIEpTT05cbiAgICAgICAgICogZm9ybWF0LiBOb3RlIHRoYXQgdGhlIG1vZGVsIGRvZXMgbm90IGFsd2F5cyBnZW5lcmF0ZSB2YWxpZCBKU09OLCBhbmQgbWF5XG4gICAgICAgICAqIGhhbGx1Y2luYXRlIHBhcmFtZXRlcnMgbm90IGRlZmluZWQgYnkgeW91ciBmdW5jdGlvbiBzY2hlbWEuIFZhbGlkYXRlIHRoZVxuICAgICAgICAgKiBhcmd1bWVudHMgaW4geW91ciBjb2RlIGJlZm9yZSBjYWxsaW5nIHlvdXIgZnVuY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBhcmd1bWVudHM/OiBzdHJpbmc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZT86IHN0cmluZztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudHlwZSBBc3NlcnRJc0VtcHR5PFQgZXh0ZW5kcyB7fT4gPSBrZXlvZiBUIGV4dGVuZHMgbmV2ZXIgPyBUIDogbmV2ZXI7XG5cbi8qKlxuICogRW5zdXJlcyB0aGUgZ2l2ZW4gYXJndW1lbnQgaXMgYW4gZW1wdHkgb2JqZWN0LCB1c2VmdWwgZm9yXG4gKiBhc3NlcnRpbmcgdGhhdCBhbGwga25vd24gcHJvcGVydGllcyBvbiBhbiBvYmplY3QgaGF2ZSBiZWVuXG4gKiBkZXN0cnVjdHVyZWQuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydElzRW1wdHk8VCBleHRlbmRzIHt9PihvYmo6IEFzc2VydElzRW1wdHk8VD4pOiBhc3NlcnRzIG9iaiBpcyBBc3NlcnRJc0VtcHR5PFQ+IHtcbiAgcmV0dXJuO1xufVxuXG5mdW5jdGlvbiBhc3NlcnROZXZlcihfeDogbmV2ZXIpIHt9XG4iLCAiaW1wb3J0IHtcbiAgdHlwZSBDaGF0Q29tcGxldGlvbkNodW5rLFxuICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxufSBmcm9tICcuLi9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucyc7XG5pbXBvcnQgeyBSdW5uZXJPcHRpb25zLCB0eXBlIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMgfSBmcm9tICcuL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXInO1xuaW1wb3J0IHsgdHlwZSBSZWFkYWJsZVN0cmVhbSB9IGZyb20gJy4uL19zaGltcy9pbmRleCc7XG5pbXBvcnQgeyBSdW5uYWJsZVRvb2xzLCB0eXBlIEJhc2VGdW5jdGlvbnNBcmdzLCB0eXBlIFJ1bm5hYmxlRnVuY3Rpb25zIH0gZnJvbSAnLi9SdW5uYWJsZUZ1bmN0aW9uJztcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uU25hcHNob3QsIENoYXRDb21wbGV0aW9uU3RyZWFtIH0gZnJvbSAnLi9DaGF0Q29tcGxldGlvblN0cmVhbSc7XG5pbXBvcnQgT3BlbkFJIGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IEF1dG9QYXJzZWFibGVUb29sIH0gZnJvbSAnLi4vbGliL3BhcnNlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25TdHJlYW1FdmVudHMgZXh0ZW5kcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzIHtcbiAgY29udGVudDogKGNvbnRlbnREZWx0YTogc3RyaW5nLCBjb250ZW50U25hcHNob3Q6IHN0cmluZykgPT4gdm9pZDtcbiAgY2h1bms6IChjaHVuazogQ2hhdENvbXBsZXRpb25DaHVuaywgc25hcHNob3Q6IENoYXRDb21wbGV0aW9uU25hcHNob3QpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nRnVuY3Rpb25SdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPiA9IE9taXQ8XG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAnZnVuY3Rpb25zJ1xuPiAmIHtcbiAgZnVuY3Rpb25zOiBSdW5uYWJsZUZ1bmN0aW9uczxGdW5jdGlvbnNBcmdzPjtcbn07XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+ID0gT21pdDxcbiAgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gICd0b29scydcbj4gJiB7XG4gIHRvb2xzOiBSdW5uYWJsZVRvb2xzPEZ1bmN0aW9uc0FyZ3M+IHwgQXV0b1BhcnNlYWJsZVRvb2w8YW55LCB0cnVlPltdO1xufTtcblxuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyPFBhcnNlZFQgPSBudWxsPlxuICBleHRlbmRzIENoYXRDb21wbGV0aW9uU3RyZWFtPFBhcnNlZFQ+XG4gIGltcGxlbWVudHMgQXN5bmNJdGVyYWJsZTxDaGF0Q29tcGxldGlvbkNodW5rPlxue1xuICBzdGF0aWMgb3ZlcnJpZGUgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbTogUmVhZGFibGVTdHJlYW0pOiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcjxudWxsPiB7XG4gICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyKG51bGwpO1xuICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICAgIHJldHVybiBydW5uZXI7XG4gIH1cblxuICAvKiogQGRlcHJlY2F0ZWQgLSBwbGVhc2UgdXNlIGBydW5Ub29sc2AgaW5zdGVhZC4gKi9cbiAgc3RhdGljIHJ1bkZ1bmN0aW9uczxUIGV4dGVuZHMgKHN0cmluZyB8IG9iamVjdClbXT4oXG4gICAgY2xpZW50OiBPcGVuQUksXG4gICAgcGFyYW1zOiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ0Z1bmN0aW9uUnVubmVyUGFyYW1zPFQ+LFxuICAgIG9wdGlvbnM/OiBSdW5uZXJPcHRpb25zLFxuICApOiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcjxudWxsPiB7XG4gICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyKG51bGwpO1xuICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdydW5GdW5jdGlvbnMnIH0sXG4gICAgfTtcbiAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1bkZ1bmN0aW9ucyhjbGllbnQsIHBhcmFtcywgb3B0cykpO1xuICAgIHJldHVybiBydW5uZXI7XG4gIH1cblxuICBzdGF0aWMgcnVuVG9vbHM8VCBleHRlbmRzIChzdHJpbmcgfCBvYmplY3QpW10sIFBhcnNlZFQgPSBudWxsPihcbiAgICBjbGllbnQ6IE9wZW5BSSxcbiAgICBwYXJhbXM6IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtczxUPixcbiAgICBvcHRpb25zPzogUnVubmVyT3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXI8UGFyc2VkVD4ge1xuICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcjxQYXJzZWRUPihcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETyB0aGVzZSB0eXBlcyBhcmUgaW5jb21wYXRpYmxlXG4gICAgICBwYXJhbXMsXG4gICAgKTtcbiAgICBjb25zdCBvcHRzID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAncnVuVG9vbHMnIH0sXG4gICAgfTtcbiAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRzKSk7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbiAgfVxufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uUnVubmVyLCBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uUnVubmVyUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7XG4gIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLFxuICBDaGF0Q29tcGxldGlvblN0cmVhbWluZ0Z1bmN0aW9uUnVubmVyUGFyYW1zLFxufSBmcm9tICcuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXInO1xuaW1wb3J0IHsgQmFzZUZ1bmN0aW9uc0FyZ3MgfSBmcm9tICcuLi8uLi8uLi9saWIvUnVubmFibGVGdW5jdGlvbic7XG5pbXBvcnQgeyBSdW5uZXJPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vbGliL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXInO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtcyB9IGZyb20gJy4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcic7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvblN0cmVhbSwgdHlwZSBDaGF0Q29tcGxldGlvblN0cmVhbVBhcmFtcyB9IGZyb20gJy4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbSc7XG5pbXBvcnQge1xuICBDaGF0Q29tcGxldGlvbixcbiAgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gIENoYXRDb21wbGV0aW9uTWVzc2FnZSxcbiAgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwsXG59IGZyb20gJy4uLy4uL2NoYXQvY29tcGxldGlvbnMnO1xuaW1wb3J0IHsgRXh0cmFjdFBhcnNlZENvbnRlbnRGcm9tUGFyYW1zLCBwYXJzZUNoYXRDb21wbGV0aW9uLCB2YWxpZGF0ZUlucHV0VG9vbHMgfSBmcm9tICcuLi8uLi8uLi9saWIvcGFyc2VyJztcblxuZXhwb3J0IHtcbiAgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIsXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdGdW5jdGlvblJ1bm5lclBhcmFtcyxcbn0gZnJvbSAnLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyJztcbmV4cG9ydCB7XG4gIHR5cGUgUnVubmFibGVGdW5jdGlvbixcbiAgdHlwZSBSdW5uYWJsZUZ1bmN0aW9ucyxcbiAgdHlwZSBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlLFxuICB0eXBlIFJ1bm5hYmxlRnVuY3Rpb25XaXRob3V0UGFyc2UsXG4gIFBhcnNpbmdGdW5jdGlvbixcbiAgUGFyc2luZ1Rvb2xGdW5jdGlvbixcbn0gZnJvbSAnLi4vLi4vLi4vbGliL1J1bm5hYmxlRnVuY3Rpb24nO1xuZXhwb3J0IHsgdHlwZSBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25SdW5uZXInO1xuZXhwb3J0IHsgdHlwZSBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1Rvb2xSdW5uZXJQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXInO1xuZXhwb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHR5cGUgQ2hhdENvbXBsZXRpb25TdHJlYW1QYXJhbXMgfSBmcm9tICcuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW0nO1xuZXhwb3J0IHtcbiAgQ2hhdENvbXBsZXRpb25SdW5uZXIsXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25GdW5jdGlvblJ1bm5lclBhcmFtcyxcbn0gZnJvbSAnLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uUnVubmVyJztcblxuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRGdW5jdGlvbiBleHRlbmRzIENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsLkZ1bmN0aW9uIHtcbiAgcGFyc2VkX2FyZ3VtZW50cz86IHVua25vd247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VkRnVuY3Rpb25Ub29sQ2FsbCBleHRlbmRzIENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsIHtcbiAgZnVuY3Rpb246IFBhcnNlZEZ1bmN0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhcnNlZENoYXRDb21wbGV0aW9uTWVzc2FnZTxQYXJzZWRUPiBleHRlbmRzIENoYXRDb21wbGV0aW9uTWVzc2FnZSB7XG4gIHBhcnNlZDogUGFyc2VkVCB8IG51bGw7XG4gIHRvb2xfY2FsbHM/OiBBcnJheTxQYXJzZWRGdW5jdGlvblRvb2xDYWxsPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRDaG9pY2U8UGFyc2VkVD4gZXh0ZW5kcyBDaGF0Q29tcGxldGlvbi5DaG9pY2Uge1xuICBtZXNzYWdlOiBQYXJzZWRDaGF0Q29tcGxldGlvbk1lc3NhZ2U8UGFyc2VkVD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VkQ2hhdENvbXBsZXRpb248UGFyc2VkVD4gZXh0ZW5kcyBDaGF0Q29tcGxldGlvbiB7XG4gIGNob2ljZXM6IEFycmF5PFBhcnNlZENob2ljZTxQYXJzZWRUPj47XG59XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uUGFyc2VQYXJhbXMgPSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZztcblxuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBwYXJzZTxQYXJhbXMgZXh0ZW5kcyBDaGF0Q29tcGxldGlvblBhcnNlUGFyYW1zLCBQYXJzZWRUID0gRXh0cmFjdFBhcnNlZENvbnRlbnRGcm9tUGFyYW1zPFBhcmFtcz4+KFxuICAgIGJvZHk6IFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFBhcnNlZENoYXRDb21wbGV0aW9uPFBhcnNlZFQ+PiB7XG4gICAgdmFsaWRhdGVJbnB1dFRvb2xzKGJvZHkudG9vbHMpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5jaGF0LmNvbXBsZXRpb25zXG4gICAgICAuY3JlYXRlKGJvZHksIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIC4uLm9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnYmV0YS5jaGF0LmNvbXBsZXRpb25zLnBhcnNlJyxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICAuX3RoZW5VbndyYXAoKGNvbXBsZXRpb24pID0+IHBhcnNlQ2hhdENvbXBsZXRpb24oY29tcGxldGlvbiwgYm9keSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIC0gdXNlIGBydW5Ub29sc2AgaW5zdGVhZC5cbiAgICovXG4gIHJ1bkZ1bmN0aW9uczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+KFxuICAgIGJvZHk6IENoYXRDb21wbGV0aW9uRnVuY3Rpb25SdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz4sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uUnVubmVyPG51bGw+O1xuICBydW5GdW5jdGlvbnM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPihcbiAgICBib2R5OiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ0Z1bmN0aW9uUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3M+LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcjxudWxsPjtcbiAgcnVuRnVuY3Rpb25zPEZ1bmN0aW9uc0FyZ3MgZXh0ZW5kcyBCYXNlRnVuY3Rpb25zQXJncz4oXG4gICAgYm9keTpcbiAgICAgIHwgQ2hhdENvbXBsZXRpb25GdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPlxuICAgICAgfCBDaGF0Q29tcGxldGlvblN0cmVhbWluZ0Z1bmN0aW9uUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3M+LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDaGF0Q29tcGxldGlvblJ1bm5lcjxudWxsPiB8IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyPG51bGw+IHtcbiAgICBpZiAoYm9keS5zdHJlYW0pIHtcbiAgICAgIHJldHVybiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lci5ydW5GdW5jdGlvbnMoXG4gICAgICAgIHRoaXMuX2NsaWVudCxcbiAgICAgICAgYm9keSBhcyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ0Z1bmN0aW9uUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3M+LFxuICAgICAgICBvcHRpb25zLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIENoYXRDb21wbGV0aW9uUnVubmVyLnJ1bkZ1bmN0aW9ucyhcbiAgICAgIHRoaXMuX2NsaWVudCxcbiAgICAgIGJvZHkgYXMgQ2hhdENvbXBsZXRpb25GdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICAgIG9wdGlvbnMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGNvbnZlbmllbmNlIGhlbHBlciBmb3IgdXNpbmcgdG9vbCBjYWxscyB3aXRoIHRoZSAvY2hhdC9jb21wbGV0aW9ucyBlbmRwb2ludFxuICAgKiB3aGljaCBhdXRvbWF0aWNhbGx5IGNhbGxzIHRoZSBKYXZhU2NyaXB0IGZ1bmN0aW9ucyB5b3UgcHJvdmlkZSBhbmQgc2VuZHMgdGhlaXJcbiAgICogcmVzdWx0cyBiYWNrIHRvIHRoZSAvY2hhdC9jb21wbGV0aW9ucyBlbmRwb2ludCwgbG9vcGluZyBhcyBsb25nIGFzIHRoZSBtb2RlbFxuICAgKiByZXF1ZXN0cyBmdW5jdGlvbiBjYWxscy5cbiAgICpcbiAgICogRm9yIG1vcmUgZGV0YWlscyBhbmQgZXhhbXBsZXMsIHNlZVxuICAgKiBbdGhlIGRvY3NdKGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYWkvb3BlbmFpLW5vZGUjYXV0b21hdGVkLWZ1bmN0aW9uLWNhbGxzKVxuICAgKi9cbiAgcnVuVG9vbHM8XG4gICAgUGFyYW1zIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zPGFueT4sXG4gICAgUGFyc2VkVCA9IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXM+LFxuICA+KGJvZHk6IFBhcmFtcywgb3B0aW9ucz86IFJ1bm5lck9wdGlvbnMpOiBDaGF0Q29tcGxldGlvblJ1bm5lcjxQYXJzZWRUPjtcblxuICBydW5Ub29sczxcbiAgICBQYXJhbXMgZXh0ZW5kcyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1Rvb2xSdW5uZXJQYXJhbXM8YW55PixcbiAgICBQYXJzZWRUID0gRXh0cmFjdFBhcnNlZENvbnRlbnRGcm9tUGFyYW1zPFBhcmFtcz4sXG4gID4oYm9keTogUGFyYW1zLCBvcHRpb25zPzogUnVubmVyT3B0aW9ucyk6IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyPFBhcnNlZFQ+O1xuXG4gIHJ1blRvb2xzPFxuICAgIFBhcmFtcyBleHRlbmRzIENoYXRDb21wbGV0aW9uVG9vbFJ1bm5lclBhcmFtczxhbnk+IHwgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdUb29sUnVubmVyUGFyYW1zPGFueT4sXG4gICAgUGFyc2VkVCA9IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXM+LFxuICA+KFxuICAgIGJvZHk6IFBhcmFtcyxcbiAgICBvcHRpb25zPzogUnVubmVyT3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25SdW5uZXI8UGFyc2VkVD4gfCBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcjxQYXJzZWRUPiB7XG4gICAgaWYgKGJvZHkuc3RyZWFtKSB7XG4gICAgICByZXR1cm4gQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIucnVuVG9vbHMoXG4gICAgICAgIHRoaXMuX2NsaWVudCxcbiAgICAgICAgYm9keSBhcyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1Rvb2xSdW5uZXJQYXJhbXM8YW55PixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIENoYXRDb21wbGV0aW9uUnVubmVyLnJ1blRvb2xzKHRoaXMuX2NsaWVudCwgYm9keSBhcyBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXM8YW55Piwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNoYXQgY29tcGxldGlvbiBzdHJlYW1cbiAgICovXG4gIHN0cmVhbTxQYXJhbXMgZXh0ZW5kcyBDaGF0Q29tcGxldGlvblN0cmVhbVBhcmFtcywgUGFyc2VkVCA9IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXM+PihcbiAgICBib2R5OiBQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uU3RyZWFtPFBhcnNlZFQ+IHtcbiAgICByZXR1cm4gQ2hhdENvbXBsZXRpb25TdHJlYW0uY3JlYXRlQ2hhdENvbXBsZXRpb24odGhpcy5fY2xpZW50LCBib2R5LCBvcHRpb25zKTtcbiAgfVxufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgQ29tcGxldGlvbnNBUEkgZnJvbSAnLi9jb21wbGV0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBDaGF0IGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjb21wbGV0aW9uczogQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnMgPSBuZXcgQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnModGhpcy5fY2xpZW50KTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0IHtcbiAgZXhwb3J0IGltcG9ydCBDb21wbGV0aW9ucyA9IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25zO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi8uLi9jb3JlJztcblxuZXhwb3J0IGNsYXNzIFNlc3Npb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogQ3JlYXRlIGFuIGVwaGVtZXJhbCBBUEkgdG9rZW4gZm9yIHVzZSBpbiBjbGllbnQtc2lkZSBhcHBsaWNhdGlvbnMgd2l0aCB0aGVcbiAgICogUmVhbHRpbWUgQVBJLiBDYW4gYmUgY29uZmlndXJlZCB3aXRoIHRoZSBzYW1lIHNlc3Npb24gcGFyYW1ldGVycyBhcyB0aGVcbiAgICogYHNlc3Npb24udXBkYXRlYCBjbGllbnQgZXZlbnQuXG4gICAqXG4gICAqIEl0IHJlc3BvbmRzIHdpdGggYSBzZXNzaW9uIG9iamVjdCwgcGx1cyBhIGBjbGllbnRfc2VjcmV0YCBrZXkgd2hpY2ggY29udGFpbnMgYVxuICAgKiB1c2FibGUgZXBoZW1lcmFsIEFQSSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGF1dGhlbnRpY2F0ZSBicm93c2VyIGNsaWVudHMgZm9yXG4gICAqIHRoZSBSZWFsdGltZSBBUEkuXG4gICAqL1xuICBjcmVhdGUoYm9keTogU2Vzc2lvbkNyZWF0ZVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8U2Vzc2lvbkNyZWF0ZVJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvcmVhbHRpbWUvc2Vzc2lvbnMnLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZWFsdGltZSBzZXNzaW9uIG9iamVjdCBjb25maWd1cmF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb24ge1xuICAvKipcbiAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBzZXNzaW9uIG9iamVjdC5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIGlucHV0IGF1ZGlvLiBPcHRpb25zIGFyZSBgcGNtMTZgLCBgZzcxMV91bGF3YCwgb3IgYGc3MTFfYWxhd2AuIEZvclxuICAgKiBgcGNtMTZgLCBpbnB1dCBhdWRpbyBtdXN0IGJlIDE2LWJpdCBQQ00gYXQgYSAyNGtIeiBzYW1wbGUgcmF0ZSwgc2luZ2xlIGNoYW5uZWxcbiAgICogKG1vbm8pLCBhbmQgbGl0dGxlLWVuZGlhbiBieXRlIG9yZGVyLlxuICAgKi9cbiAgaW5wdXRfYXVkaW9fZm9ybWF0PzogJ3BjbTE2JyB8ICdnNzExX3VsYXcnIHwgJ2c3MTFfYWxhdyc7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIGlucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24sIGRlZmF1bHRzIHRvIG9mZiBhbmQgY2FuIGJlIHNldCB0b1xuICAgKiBgbnVsbGAgdG8gdHVybiBvZmYgb25jZSBvbi4gSW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiBpcyBub3QgbmF0aXZlIHRvIHRoZVxuICAgKiBtb2RlbCwgc2luY2UgdGhlIG1vZGVsIGNvbnN1bWVzIGF1ZGlvIGRpcmVjdGx5LiBUcmFuc2NyaXB0aW9uIHJ1bnNcbiAgICogYXN5bmNocm9ub3VzbHkgdGhyb3VnaCBXaGlzcGVyIGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhcyByb3VnaCBndWlkYW5jZSByYXRoZXJcbiAgICogdGhhbiB0aGUgcmVwcmVzZW50YXRpb24gdW5kZXJzdG9vZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBpbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uPzogU2Vzc2lvbi5JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbjtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc3lzdGVtIGluc3RydWN0aW9ucyAoaS5lLiBzeXN0ZW0gbWVzc2FnZSkgcHJlcGVuZGVkIHRvIG1vZGVsIGNhbGxzLlxuICAgKiBUaGlzIGZpZWxkIGFsbG93cyB0aGUgY2xpZW50IHRvIGd1aWRlIHRoZSBtb2RlbCBvbiBkZXNpcmVkIHJlc3BvbnNlcy4gVGhlIG1vZGVsXG4gICAqIGNhbiBiZSBpbnN0cnVjdGVkIG9uIHJlc3BvbnNlIGNvbnRlbnQgYW5kIGZvcm1hdCwgKGUuZy4gXCJiZSBleHRyZW1lbHkgc3VjY2luY3RcIixcbiAgICogXCJhY3QgZnJpZW5kbHlcIiwgXCJoZXJlIGFyZSBleGFtcGxlcyBvZiBnb29kIHJlc3BvbnNlc1wiKSBhbmQgb24gYXVkaW8gYmVoYXZpb3JcbiAgICogKGUuZy4gXCJ0YWxrIHF1aWNrbHlcIiwgXCJpbmplY3QgZW1vdGlvbiBpbnRvIHlvdXIgdm9pY2VcIiwgXCJsYXVnaCBmcmVxdWVudGx5XCIpLiBUaGVcbiAgICogaW5zdHJ1Y3Rpb25zIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSBmb2xsb3dlZCBieSB0aGUgbW9kZWwsIGJ1dCB0aGV5IHByb3ZpZGVcbiAgICogZ3VpZGFuY2UgdG8gdGhlIG1vZGVsIG9uIHRoZSBkZXNpcmVkIGJlaGF2aW9yLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIHNlcnZlciBzZXRzIGRlZmF1bHQgaW5zdHJ1Y3Rpb25zIHdoaWNoIHdpbGwgYmUgdXNlZCBpZiB0aGlzIGZpZWxkXG4gICAqIGlzIG5vdCBzZXQgYW5kIGFyZSB2aXNpYmxlIGluIHRoZSBgc2Vzc2lvbi5jcmVhdGVkYCBldmVudCBhdCB0aGUgc3RhcnQgb2YgdGhlXG4gICAqIHNlc3Npb24uXG4gICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE1heGltdW0gbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgZm9yIGEgc2luZ2xlIGFzc2lzdGFudCByZXNwb25zZSwgaW5jbHVzaXZlIG9mXG4gICAqIHRvb2wgY2FsbHMuIFByb3ZpZGUgYW4gaW50ZWdlciBiZXR3ZWVuIDEgYW5kIDQwOTYgdG8gbGltaXQgb3V0cHV0IHRva2Vucywgb3JcbiAgICogYGluZmAgZm9yIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSB0b2tlbnMgZm9yIGEgZ2l2ZW4gbW9kZWwuIERlZmF1bHRzIHRvIGBpbmZgLlxuICAgKi9cbiAgbWF4X3Jlc3BvbnNlX291dHB1dF90b2tlbnM/OiBudW1iZXIgfCAnaW5mJztcblxuICAvKipcbiAgICogVGhlIHNldCBvZiBtb2RhbGl0aWVzIHRoZSBtb2RlbCBjYW4gcmVzcG9uZCB3aXRoLiBUbyBkaXNhYmxlIGF1ZGlvLCBzZXQgdGhpcyB0b1xuICAgKiBbXCJ0ZXh0XCJdLlxuICAgKi9cbiAgbW9kYWxpdGllcz86IEFycmF5PCd0ZXh0JyB8ICdhdWRpbyc+O1xuXG4gIC8qKlxuICAgKiBUaGUgUmVhbHRpbWUgbW9kZWwgdXNlZCBmb3IgdGhpcyBzZXNzaW9uLlxuICAgKi9cbiAgbW9kZWw/OlxuICAgIHwgKHN0cmluZyAmIHt9KVxuICAgIHwgJ2dwdC00by1yZWFsdGltZS1wcmV2aWV3J1xuICAgIHwgJ2dwdC00by1yZWFsdGltZS1wcmV2aWV3LTIwMjQtMTAtMDEnXG4gICAgfCAnZ3B0LTRvLXJlYWx0aW1lLXByZXZpZXctMjAyNC0xMi0xNydcbiAgICB8ICdncHQtNG8tbWluaS1yZWFsdGltZS1wcmV2aWV3J1xuICAgIHwgJ2dwdC00by1taW5pLXJlYWx0aW1lLXByZXZpZXctMjAyNC0xMi0xNyc7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgb2Ygb3V0cHV0IGF1ZGlvLiBPcHRpb25zIGFyZSBgcGNtMTZgLCBgZzcxMV91bGF3YCwgb3IgYGc3MTFfYWxhd2AuXG4gICAqIEZvciBgcGNtMTZgLCBvdXRwdXQgYXVkaW8gaXMgc2FtcGxlZCBhdCBhIHJhdGUgb2YgMjRrSHouXG4gICAqL1xuICBvdXRwdXRfYXVkaW9fZm9ybWF0PzogJ3BjbTE2JyB8ICdnNzExX3VsYXcnIHwgJ2c3MTFfYWxhdyc7XG5cbiAgLyoqXG4gICAqIFNhbXBsaW5nIHRlbXBlcmF0dXJlIGZvciB0aGUgbW9kZWwsIGxpbWl0ZWQgdG8gWzAuNiwgMS4yXS4gRGVmYXVsdHMgdG8gMC44LlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEhvdyB0aGUgbW9kZWwgY2hvb3NlcyB0b29scy4gT3B0aW9ucyBhcmUgYGF1dG9gLCBgbm9uZWAsIGByZXF1aXJlZGAsIG9yIHNwZWNpZnlcbiAgICogYSBmdW5jdGlvbi5cbiAgICovXG4gIHRvb2xfY2hvaWNlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUb29scyAoZnVuY3Rpb25zKSBhdmFpbGFibGUgdG8gdGhlIG1vZGVsLlxuICAgKi9cbiAgdG9vbHM/OiBBcnJheTxTZXNzaW9uLlRvb2w+O1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciB0dXJuIGRldGVjdGlvbi4gQ2FuIGJlIHNldCB0byBgbnVsbGAgdG8gdHVybiBvZmYuIFNlcnZlciBWQURcbiAgICogbWVhbnMgdGhhdCB0aGUgbW9kZWwgd2lsbCBkZXRlY3QgdGhlIHN0YXJ0IGFuZCBlbmQgb2Ygc3BlZWNoIGJhc2VkIG9uIGF1ZGlvXG4gICAqIHZvbHVtZSBhbmQgcmVzcG9uZCBhdCB0aGUgZW5kIG9mIHVzZXIgc3BlZWNoLlxuICAgKi9cbiAgdHVybl9kZXRlY3Rpb24/OiBTZXNzaW9uLlR1cm5EZXRlY3Rpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgdm9pY2UgdGhlIG1vZGVsIHVzZXMgdG8gcmVzcG9uZC4gVm9pY2UgY2Fubm90IGJlIGNoYW5nZWQgZHVyaW5nIHRoZSBzZXNzaW9uXG4gICAqIG9uY2UgdGhlIG1vZGVsIGhhcyByZXNwb25kZWQgd2l0aCBhdWRpbyBhdCBsZWFzdCBvbmNlLiBDdXJyZW50IHZvaWNlIG9wdGlvbnMgYXJlXG4gICAqIGBhbGxveWAsIGBhc2hgLCBgYmFsbGFkYCwgYGNvcmFsYCwgYGVjaG9gIGBzYWdlYCwgYHNoaW1tZXJgIGFuZCBgdmVyc2VgLlxuICAgKi9cbiAgdm9pY2U/OiAnYWxsb3knIHwgJ2FzaCcgfCAnYmFsbGFkJyB8ICdjb3JhbCcgfCAnZWNobycgfCAnc2FnZScgfCAnc2hpbW1lcicgfCAndmVyc2UnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFNlc3Npb24ge1xuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgaW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiwgZGVmYXVsdHMgdG8gb2ZmIGFuZCBjYW4gYmUgc2V0IHRvXG4gICAqIGBudWxsYCB0byB0dXJuIG9mZiBvbmNlIG9uLiBJbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uIGlzIG5vdCBuYXRpdmUgdG8gdGhlXG4gICAqIG1vZGVsLCBzaW5jZSB0aGUgbW9kZWwgY29uc3VtZXMgYXVkaW8gZGlyZWN0bHkuIFRyYW5zY3JpcHRpb24gcnVuc1xuICAgKiBhc3luY2hyb25vdXNseSB0aHJvdWdoIFdoaXNwZXIgYW5kIHNob3VsZCBiZSB0cmVhdGVkIGFzIHJvdWdoIGd1aWRhbmNlIHJhdGhlclxuICAgKiB0aGFuIHRoZSByZXByZXNlbnRhdGlvbiB1bmRlcnN0b29kIGJ5IHRoZSBtb2RlbC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgSW5wdXRBdWRpb1RyYW5zY3JpcHRpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBtb2RlbCB0byB1c2UgZm9yIHRyYW5zY3JpcHRpb24sIGB3aGlzcGVyLTFgIGlzIHRoZSBvbmx5IGN1cnJlbnRseSBzdXBwb3J0ZWRcbiAgICAgKiBtb2RlbC5cbiAgICAgKi9cbiAgICBtb2RlbD86IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbCB7XG4gICAgLyoqXG4gICAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBmdW5jdGlvbiwgaW5jbHVkaW5nIGd1aWRhbmNlIG9uIHdoZW4gYW5kIGhvdyB0byBjYWxsIGl0LFxuICAgICAqIGFuZCBndWlkYW5jZSBhYm91dCB3aGF0IHRvIHRlbGwgdGhlIHVzZXIgd2hlbiBjYWxsaW5nIChpZiBhbnl0aGluZykuXG4gICAgICovXG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgbmFtZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFBhcmFtZXRlcnMgb2YgdGhlIGZ1bmN0aW9uIGluIEpTT04gU2NoZW1hLlxuICAgICAqL1xuICAgIHBhcmFtZXRlcnM/OiB1bmtub3duO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHRvb2wsIGkuZS4gYGZ1bmN0aW9uYC5cbiAgICAgKi9cbiAgICB0eXBlPzogJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciB0dXJuIGRldGVjdGlvbi4gQ2FuIGJlIHNldCB0byBgbnVsbGAgdG8gdHVybiBvZmYuIFNlcnZlciBWQURcbiAgICogbWVhbnMgdGhhdCB0aGUgbW9kZWwgd2lsbCBkZXRlY3QgdGhlIHN0YXJ0IGFuZCBlbmQgb2Ygc3BlZWNoIGJhc2VkIG9uIGF1ZGlvXG4gICAqIHZvbHVtZSBhbmQgcmVzcG9uZCBhdCB0aGUgZW5kIG9mIHVzZXIgc3BlZWNoLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUdXJuRGV0ZWN0aW9uIHtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgcmVzcG9uc2Ugd2hlbiBhIFZBRCBzdG9wIGV2ZW50XG4gICAgICogb2NjdXJzLiBgdHJ1ZWAgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBjcmVhdGVfcmVzcG9uc2U/OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gYXV0b21hdGljYWxseSBpbnRlcnJ1cHQgYW55IG9uZ29pbmcgcmVzcG9uc2Ugd2l0aCBvdXRwdXQgdG9cbiAgICAgKiB0aGUgZGVmYXVsdCBjb252ZXJzYXRpb24gKGkuZS4gYGNvbnZlcnNhdGlvbmAgb2YgYGF1dG9gKSB3aGVuIGEgVkFEIHN0YXJ0IGV2ZW50XG4gICAgICogb2NjdXJzLiBgdHJ1ZWAgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBpbnRlcnJ1cHRfcmVzcG9uc2U/OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQW1vdW50IG9mIGF1ZGlvIHRvIGluY2x1ZGUgYmVmb3JlIHRoZSBWQUQgZGV0ZWN0ZWQgc3BlZWNoIChpbiBtaWxsaXNlY29uZHMpLlxuICAgICAqIERlZmF1bHRzIHRvIDMwMG1zLlxuICAgICAqL1xuICAgIHByZWZpeF9wYWRkaW5nX21zPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogRHVyYXRpb24gb2Ygc2lsZW5jZSB0byBkZXRlY3Qgc3BlZWNoIHN0b3AgKGluIG1pbGxpc2Vjb25kcykuIERlZmF1bHRzIHRvIDUwMG1zLlxuICAgICAqIFdpdGggc2hvcnRlciB2YWx1ZXMgdGhlIG1vZGVsIHdpbGwgcmVzcG9uZCBtb3JlIHF1aWNrbHksIGJ1dCBtYXkganVtcCBpbiBvblxuICAgICAqIHNob3J0IHBhdXNlcyBmcm9tIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIHNpbGVuY2VfZHVyYXRpb25fbXM/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0aW9uIHRocmVzaG9sZCBmb3IgVkFEICgwLjAgdG8gMS4wKSwgdGhpcyBkZWZhdWx0cyB0byAwLjUuIEEgaGlnaGVyXG4gICAgICogdGhyZXNob2xkIHdpbGwgcmVxdWlyZSBsb3VkZXIgYXVkaW8gdG8gYWN0aXZhdGUgdGhlIG1vZGVsLCBhbmQgdGh1cyBtaWdodFxuICAgICAqIHBlcmZvcm0gYmV0dGVyIGluIG5vaXN5IGVudmlyb25tZW50cy5cbiAgICAgKi9cbiAgICB0aHJlc2hvbGQ/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIHR1cm4gZGV0ZWN0aW9uLCBvbmx5IGBzZXJ2ZXJfdmFkYCBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxuICAgICAqL1xuICAgIHR5cGU/OiAnc2VydmVyX3ZhZCc7XG4gIH1cbn1cblxuLyoqXG4gKiBBIG5ldyBSZWFsdGltZSBzZXNzaW9uIGNvbmZpZ3VyYXRpb24sIHdpdGggYW4gZXBoZXJtZXJhbCBrZXkuIERlZmF1bHQgVFRMIGZvclxuICoga2V5cyBpcyBvbmUgbWludXRlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb25DcmVhdGVSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBFcGhlbWVyYWwga2V5IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBjbGllbnRfc2VjcmV0OiBTZXNzaW9uQ3JlYXRlUmVzcG9uc2UuQ2xpZW50U2VjcmV0O1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIGlucHV0IGF1ZGlvLiBPcHRpb25zIGFyZSBgcGNtMTZgLCBgZzcxMV91bGF3YCwgb3IgYGc3MTFfYWxhd2AuXG4gICAqL1xuICBpbnB1dF9hdWRpb19mb3JtYXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIGlucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24sIGRlZmF1bHRzIHRvIG9mZiBhbmQgY2FuIGJlIHNldCB0b1xuICAgKiBgbnVsbGAgdG8gdHVybiBvZmYgb25jZSBvbi4gSW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiBpcyBub3QgbmF0aXZlIHRvIHRoZVxuICAgKiBtb2RlbCwgc2luY2UgdGhlIG1vZGVsIGNvbnN1bWVzIGF1ZGlvIGRpcmVjdGx5LiBUcmFuc2NyaXB0aW9uIHJ1bnNcbiAgICogYXN5bmNocm9ub3VzbHkgdGhyb3VnaCBXaGlzcGVyIGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhcyByb3VnaCBndWlkYW5jZSByYXRoZXJcbiAgICogdGhhbiB0aGUgcmVwcmVzZW50YXRpb24gdW5kZXJzdG9vZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBpbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uPzogU2Vzc2lvbkNyZWF0ZVJlc3BvbnNlLklucHV0QXVkaW9UcmFuc2NyaXB0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBzeXN0ZW0gaW5zdHJ1Y3Rpb25zIChpLmUuIHN5c3RlbSBtZXNzYWdlKSBwcmVwZW5kZWQgdG8gbW9kZWwgY2FsbHMuXG4gICAqIFRoaXMgZmllbGQgYWxsb3dzIHRoZSBjbGllbnQgdG8gZ3VpZGUgdGhlIG1vZGVsIG9uIGRlc2lyZWQgcmVzcG9uc2VzLiBUaGUgbW9kZWxcbiAgICogY2FuIGJlIGluc3RydWN0ZWQgb24gcmVzcG9uc2UgY29udGVudCBhbmQgZm9ybWF0LCAoZS5nLiBcImJlIGV4dHJlbWVseSBzdWNjaW5jdFwiLFxuICAgKiBcImFjdCBmcmllbmRseVwiLCBcImhlcmUgYXJlIGV4YW1wbGVzIG9mIGdvb2QgcmVzcG9uc2VzXCIpIGFuZCBvbiBhdWRpbyBiZWhhdmlvclxuICAgKiAoZS5nLiBcInRhbGsgcXVpY2tseVwiLCBcImluamVjdCBlbW90aW9uIGludG8geW91ciB2b2ljZVwiLCBcImxhdWdoIGZyZXF1ZW50bHlcIikuIFRoZVxuICAgKiBpbnN0cnVjdGlvbnMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIGZvbGxvd2VkIGJ5IHRoZSBtb2RlbCwgYnV0IHRoZXkgcHJvdmlkZVxuICAgKiBndWlkYW5jZSB0byB0aGUgbW9kZWwgb24gdGhlIGRlc2lyZWQgYmVoYXZpb3IuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgc2VydmVyIHNldHMgZGVmYXVsdCBpbnN0cnVjdGlvbnMgd2hpY2ggd2lsbCBiZSB1c2VkIGlmIHRoaXMgZmllbGRcbiAgICogaXMgbm90IHNldCBhbmQgYXJlIHZpc2libGUgaW4gdGhlIGBzZXNzaW9uLmNyZWF0ZWRgIGV2ZW50IGF0IHRoZSBzdGFydCBvZiB0aGVcbiAgICogc2Vzc2lvbi5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZztcblxuICAvKipcbiAgICogTWF4aW11bSBudW1iZXIgb2Ygb3V0cHV0IHRva2VucyBmb3IgYSBzaW5nbGUgYXNzaXN0YW50IHJlc3BvbnNlLCBpbmNsdXNpdmUgb2ZcbiAgICogdG9vbCBjYWxscy4gUHJvdmlkZSBhbiBpbnRlZ2VyIGJldHdlZW4gMSBhbmQgNDA5NiB0byBsaW1pdCBvdXRwdXQgdG9rZW5zLCBvclxuICAgKiBgaW5mYCBmb3IgdGhlIG1heGltdW0gYXZhaWxhYmxlIHRva2VucyBmb3IgYSBnaXZlbiBtb2RlbC4gRGVmYXVsdHMgdG8gYGluZmAuXG4gICAqL1xuICBtYXhfcmVzcG9uc2Vfb3V0cHV0X3Rva2Vucz86IG51bWJlciB8ICdpbmYnO1xuXG4gIC8qKlxuICAgKiBUaGUgc2V0IG9mIG1vZGFsaXRpZXMgdGhlIG1vZGVsIGNhbiByZXNwb25kIHdpdGguIFRvIGRpc2FibGUgYXVkaW8sIHNldCB0aGlzIHRvXG4gICAqIFtcInRleHRcIl0uXG4gICAqL1xuICBtb2RhbGl0aWVzPzogQXJyYXk8J3RleHQnIHwgJ2F1ZGlvJz47XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgb2Ygb3V0cHV0IGF1ZGlvLiBPcHRpb25zIGFyZSBgcGNtMTZgLCBgZzcxMV91bGF3YCwgb3IgYGc3MTFfYWxhd2AuXG4gICAqL1xuICBvdXRwdXRfYXVkaW9fZm9ybWF0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTYW1wbGluZyB0ZW1wZXJhdHVyZSBmb3IgdGhlIG1vZGVsLCBsaW1pdGVkIHRvIFswLjYsIDEuMl0uIERlZmF1bHRzIHRvIDAuOC5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBIb3cgdGhlIG1vZGVsIGNob29zZXMgdG9vbHMuIE9wdGlvbnMgYXJlIGBhdXRvYCwgYG5vbmVgLCBgcmVxdWlyZWRgLCBvciBzcGVjaWZ5XG4gICAqIGEgZnVuY3Rpb24uXG4gICAqL1xuICB0b29sX2Nob2ljZT86IHN0cmluZztcblxuICAvKipcbiAgICogVG9vbHMgKGZ1bmN0aW9ucykgYXZhaWxhYmxlIHRvIHRoZSBtb2RlbC5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8U2Vzc2lvbkNyZWF0ZVJlc3BvbnNlLlRvb2w+O1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciB0dXJuIGRldGVjdGlvbi4gQ2FuIGJlIHNldCB0byBgbnVsbGAgdG8gdHVybiBvZmYuIFNlcnZlciBWQURcbiAgICogbWVhbnMgdGhhdCB0aGUgbW9kZWwgd2lsbCBkZXRlY3QgdGhlIHN0YXJ0IGFuZCBlbmQgb2Ygc3BlZWNoIGJhc2VkIG9uIGF1ZGlvXG4gICAqIHZvbHVtZSBhbmQgcmVzcG9uZCBhdCB0aGUgZW5kIG9mIHVzZXIgc3BlZWNoLlxuICAgKi9cbiAgdHVybl9kZXRlY3Rpb24/OiBTZXNzaW9uQ3JlYXRlUmVzcG9uc2UuVHVybkRldGVjdGlvbjtcblxuICAvKipcbiAgICogVGhlIHZvaWNlIHRoZSBtb2RlbCB1c2VzIHRvIHJlc3BvbmQuIFZvaWNlIGNhbm5vdCBiZSBjaGFuZ2VkIGR1cmluZyB0aGUgc2Vzc2lvblxuICAgKiBvbmNlIHRoZSBtb2RlbCBoYXMgcmVzcG9uZGVkIHdpdGggYXVkaW8gYXQgbGVhc3Qgb25jZS4gQ3VycmVudCB2b2ljZSBvcHRpb25zIGFyZVxuICAgKiBgYWxsb3lgLCBgYXNoYCwgYGJhbGxhZGAsIGBjb3JhbGAsIGBlY2hvYCBgc2FnZWAsIGBzaGltbWVyYCBhbmQgYHZlcnNlYC5cbiAgICovXG4gIHZvaWNlPzogJ2FsbG95JyB8ICdhc2gnIHwgJ2JhbGxhZCcgfCAnY29yYWwnIHwgJ2VjaG8nIHwgJ3NhZ2UnIHwgJ3NoaW1tZXInIHwgJ3ZlcnNlJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBTZXNzaW9uQ3JlYXRlUmVzcG9uc2Uge1xuICAvKipcbiAgICogRXBoZW1lcmFsIGtleSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBDbGllbnRTZWNyZXQge1xuICAgIC8qKlxuICAgICAqIFRpbWVzdGFtcCBmb3Igd2hlbiB0aGUgdG9rZW4gZXhwaXJlcy4gQ3VycmVudGx5LCBhbGwgdG9rZW5zIGV4cGlyZSBhZnRlciBvbmVcbiAgICAgKiBtaW51dGUuXG4gICAgICovXG4gICAgZXhwaXJlc19hdDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogRXBoZW1lcmFsIGtleSB1c2FibGUgaW4gY2xpZW50IGVudmlyb25tZW50cyB0byBhdXRoZW50aWNhdGUgY29ubmVjdGlvbnMgdG8gdGhlXG4gICAgICogUmVhbHRpbWUgQVBJLiBVc2UgdGhpcyBpbiBjbGllbnQtc2lkZSBlbnZpcm9ubWVudHMgcmF0aGVyIHRoYW4gYSBzdGFuZGFyZCBBUElcbiAgICAgKiB0b2tlbiwgd2hpY2ggc2hvdWxkIG9ubHkgYmUgdXNlZCBzZXJ2ZXItc2lkZS5cbiAgICAgKi9cbiAgICB2YWx1ZTogc3RyaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIGlucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24sIGRlZmF1bHRzIHRvIG9mZiBhbmQgY2FuIGJlIHNldCB0b1xuICAgKiBgbnVsbGAgdG8gdHVybiBvZmYgb25jZSBvbi4gSW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiBpcyBub3QgbmF0aXZlIHRvIHRoZVxuICAgKiBtb2RlbCwgc2luY2UgdGhlIG1vZGVsIGNvbnN1bWVzIGF1ZGlvIGRpcmVjdGx5LiBUcmFuc2NyaXB0aW9uIHJ1bnNcbiAgICogYXN5bmNocm9ub3VzbHkgdGhyb3VnaCBXaGlzcGVyIGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhcyByb3VnaCBndWlkYW5jZSByYXRoZXJcbiAgICogdGhhbiB0aGUgcmVwcmVzZW50YXRpb24gdW5kZXJzdG9vZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIElucHV0QXVkaW9UcmFuc2NyaXB0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbW9kZWwgdG8gdXNlIGZvciB0cmFuc2NyaXB0aW9uLCBgd2hpc3Blci0xYCBpcyB0aGUgb25seSBjdXJyZW50bHkgc3VwcG9ydGVkXG4gICAgICogbW9kZWwuXG4gICAgICovXG4gICAgbW9kZWw/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRvb2wge1xuICAgIC8qKlxuICAgICAqIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgZnVuY3Rpb24sIGluY2x1ZGluZyBndWlkYW5jZSBvbiB3aGVuIGFuZCBob3cgdG8gY2FsbCBpdCxcbiAgICAgKiBhbmQgZ3VpZGFuY2UgYWJvdXQgd2hhdCB0byB0ZWxsIHRoZSB1c2VyIHdoZW4gY2FsbGluZyAoaWYgYW55dGhpbmcpLlxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIG5hbWU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBQYXJhbWV0ZXJzIG9mIHRoZSBmdW5jdGlvbiBpbiBKU09OIFNjaGVtYS5cbiAgICAgKi9cbiAgICBwYXJhbWV0ZXJzPzogdW5rbm93bjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSB0b29sLCBpLmUuIGBmdW5jdGlvbmAuXG4gICAgICovXG4gICAgdHlwZT86ICdmdW5jdGlvbic7XG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgdHVybiBkZXRlY3Rpb24uIENhbiBiZSBzZXQgdG8gYG51bGxgIHRvIHR1cm4gb2ZmLiBTZXJ2ZXIgVkFEXG4gICAqIG1lYW5zIHRoYXQgdGhlIG1vZGVsIHdpbGwgZGV0ZWN0IHRoZSBzdGFydCBhbmQgZW5kIG9mIHNwZWVjaCBiYXNlZCBvbiBhdWRpb1xuICAgKiB2b2x1bWUgYW5kIHJlc3BvbmQgYXQgdGhlIGVuZCBvZiB1c2VyIHNwZWVjaC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVHVybkRldGVjdGlvbiB7XG4gICAgLyoqXG4gICAgICogQW1vdW50IG9mIGF1ZGlvIHRvIGluY2x1ZGUgYmVmb3JlIHRoZSBWQUQgZGV0ZWN0ZWQgc3BlZWNoIChpbiBtaWxsaXNlY29uZHMpLlxuICAgICAqIERlZmF1bHRzIHRvIDMwMG1zLlxuICAgICAqL1xuICAgIHByZWZpeF9wYWRkaW5nX21zPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogRHVyYXRpb24gb2Ygc2lsZW5jZSB0byBkZXRlY3Qgc3BlZWNoIHN0b3AgKGluIG1pbGxpc2Vjb25kcykuIERlZmF1bHRzIHRvIDUwMG1zLlxuICAgICAqIFdpdGggc2hvcnRlciB2YWx1ZXMgdGhlIG1vZGVsIHdpbGwgcmVzcG9uZCBtb3JlIHF1aWNrbHksIGJ1dCBtYXkganVtcCBpbiBvblxuICAgICAqIHNob3J0IHBhdXNlcyBmcm9tIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIHNpbGVuY2VfZHVyYXRpb25fbXM/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0aW9uIHRocmVzaG9sZCBmb3IgVkFEICgwLjAgdG8gMS4wKSwgdGhpcyBkZWZhdWx0cyB0byAwLjUuIEEgaGlnaGVyXG4gICAgICogdGhyZXNob2xkIHdpbGwgcmVxdWlyZSBsb3VkZXIgYXVkaW8gdG8gYWN0aXZhdGUgdGhlIG1vZGVsLCBhbmQgdGh1cyBtaWdodFxuICAgICAqIHBlcmZvcm0gYmV0dGVyIGluIG5vaXN5IGVudmlyb25tZW50cy5cbiAgICAgKi9cbiAgICB0aHJlc2hvbGQ/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIHR1cm4gZGV0ZWN0aW9uLCBvbmx5IGBzZXJ2ZXJfdmFkYCBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxuICAgICAqL1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgb2YgaW5wdXQgYXVkaW8uIE9wdGlvbnMgYXJlIGBwY20xNmAsIGBnNzExX3VsYXdgLCBvciBgZzcxMV9hbGF3YC4gRm9yXG4gICAqIGBwY20xNmAsIGlucHV0IGF1ZGlvIG11c3QgYmUgMTYtYml0IFBDTSBhdCBhIDI0a0h6IHNhbXBsZSByYXRlLCBzaW5nbGUgY2hhbm5lbFxuICAgKiAobW9ubyksIGFuZCBsaXR0bGUtZW5kaWFuIGJ5dGUgb3JkZXIuXG4gICAqL1xuICBpbnB1dF9hdWRpb19mb3JtYXQ/OiAncGNtMTYnIHwgJ2c3MTFfdWxhdycgfCAnZzcxMV9hbGF3JztcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgaW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiwgZGVmYXVsdHMgdG8gb2ZmIGFuZCBjYW4gYmUgc2V0IHRvXG4gICAqIGBudWxsYCB0byB0dXJuIG9mZiBvbmNlIG9uLiBJbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uIGlzIG5vdCBuYXRpdmUgdG8gdGhlXG4gICAqIG1vZGVsLCBzaW5jZSB0aGUgbW9kZWwgY29uc3VtZXMgYXVkaW8gZGlyZWN0bHkuIFRyYW5zY3JpcHRpb24gcnVuc1xuICAgKiBhc3luY2hyb25vdXNseSB0aHJvdWdoXG4gICAqIFtPcGVuQUkgV2hpc3BlciB0cmFuc2NyaXB0aW9uXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2F1ZGlvL2NyZWF0ZVRyYW5zY3JpcHRpb24pXG4gICAqIGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhcyByb3VnaCBndWlkYW5jZSByYXRoZXIgdGhhbiB0aGUgcmVwcmVzZW50YXRpb25cbiAgICogdW5kZXJzdG9vZCBieSB0aGUgbW9kZWwuIFRoZSBjbGllbnQgY2FuIG9wdGlvbmFsbHkgc2V0IHRoZSBsYW5ndWFnZSBhbmQgcHJvbXB0XG4gICAqIGZvciB0cmFuc2NyaXB0aW9uLCB0aGVzZSBmaWVsZHMgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIFdoaXNwZXIgQVBJLlxuICAgKi9cbiAgaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbj86IFNlc3Npb25DcmVhdGVQYXJhbXMuSW5wdXRBdWRpb1RyYW5zY3JpcHRpb247XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHN5c3RlbSBpbnN0cnVjdGlvbnMgKGkuZS4gc3lzdGVtIG1lc3NhZ2UpIHByZXBlbmRlZCB0byBtb2RlbCBjYWxscy5cbiAgICogVGhpcyBmaWVsZCBhbGxvd3MgdGhlIGNsaWVudCB0byBndWlkZSB0aGUgbW9kZWwgb24gZGVzaXJlZCByZXNwb25zZXMuIFRoZSBtb2RlbFxuICAgKiBjYW4gYmUgaW5zdHJ1Y3RlZCBvbiByZXNwb25zZSBjb250ZW50IGFuZCBmb3JtYXQsIChlLmcuIFwiYmUgZXh0cmVtZWx5IHN1Y2NpbmN0XCIsXG4gICAqIFwiYWN0IGZyaWVuZGx5XCIsIFwiaGVyZSBhcmUgZXhhbXBsZXMgb2YgZ29vZCByZXNwb25zZXNcIikgYW5kIG9uIGF1ZGlvIGJlaGF2aW9yXG4gICAqIChlLmcuIFwidGFsayBxdWlja2x5XCIsIFwiaW5qZWN0IGVtb3Rpb24gaW50byB5b3VyIHZvaWNlXCIsIFwibGF1Z2ggZnJlcXVlbnRseVwiKS4gVGhlXG4gICAqIGluc3RydWN0aW9ucyBhcmUgbm90IGd1YXJhbnRlZWQgdG8gYmUgZm9sbG93ZWQgYnkgdGhlIG1vZGVsLCBidXQgdGhleSBwcm92aWRlXG4gICAqIGd1aWRhbmNlIHRvIHRoZSBtb2RlbCBvbiB0aGUgZGVzaXJlZCBiZWhhdmlvci5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSBzZXJ2ZXIgc2V0cyBkZWZhdWx0IGluc3RydWN0aW9ucyB3aGljaCB3aWxsIGJlIHVzZWQgaWYgdGhpcyBmaWVsZFxuICAgKiBpcyBub3Qgc2V0IGFuZCBhcmUgdmlzaWJsZSBpbiB0aGUgYHNlc3Npb24uY3JlYXRlZGAgZXZlbnQgYXQgdGhlIHN0YXJ0IG9mIHRoZVxuICAgKiBzZXNzaW9uLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBNYXhpbXVtIG51bWJlciBvZiBvdXRwdXQgdG9rZW5zIGZvciBhIHNpbmdsZSBhc3Npc3RhbnQgcmVzcG9uc2UsIGluY2x1c2l2ZSBvZlxuICAgKiB0b29sIGNhbGxzLiBQcm92aWRlIGFuIGludGVnZXIgYmV0d2VlbiAxIGFuZCA0MDk2IHRvIGxpbWl0IG91dHB1dCB0b2tlbnMsIG9yXG4gICAqIGBpbmZgIGZvciB0aGUgbWF4aW11bSBhdmFpbGFibGUgdG9rZW5zIGZvciBhIGdpdmVuIG1vZGVsLiBEZWZhdWx0cyB0byBgaW5mYC5cbiAgICovXG4gIG1heF9yZXNwb25zZV9vdXRwdXRfdG9rZW5zPzogbnVtYmVyIHwgJ2luZic7XG5cbiAgLyoqXG4gICAqIFRoZSBzZXQgb2YgbW9kYWxpdGllcyB0aGUgbW9kZWwgY2FuIHJlc3BvbmQgd2l0aC4gVG8gZGlzYWJsZSBhdWRpbywgc2V0IHRoaXMgdG9cbiAgICogW1widGV4dFwiXS5cbiAgICovXG4gIG1vZGFsaXRpZXM/OiBBcnJheTwndGV4dCcgfCAnYXVkaW8nPjtcblxuICAvKipcbiAgICogVGhlIFJlYWx0aW1lIG1vZGVsIHVzZWQgZm9yIHRoaXMgc2Vzc2lvbi5cbiAgICovXG4gIG1vZGVsPzpcbiAgICB8ICdncHQtNG8tcmVhbHRpbWUtcHJldmlldydcbiAgICB8ICdncHQtNG8tcmVhbHRpbWUtcHJldmlldy0yMDI0LTEwLTAxJ1xuICAgIHwgJ2dwdC00by1yZWFsdGltZS1wcmV2aWV3LTIwMjQtMTItMTcnXG4gICAgfCAnZ3B0LTRvLW1pbmktcmVhbHRpbWUtcHJldmlldydcbiAgICB8ICdncHQtNG8tbWluaS1yZWFsdGltZS1wcmV2aWV3LTIwMjQtMTItMTcnO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIG91dHB1dCBhdWRpby4gT3B0aW9ucyBhcmUgYHBjbTE2YCwgYGc3MTFfdWxhd2AsIG9yIGBnNzExX2FsYXdgLlxuICAgKiBGb3IgYHBjbTE2YCwgb3V0cHV0IGF1ZGlvIGlzIHNhbXBsZWQgYXQgYSByYXRlIG9mIDI0a0h6LlxuICAgKi9cbiAgb3V0cHV0X2F1ZGlvX2Zvcm1hdD86ICdwY20xNicgfCAnZzcxMV91bGF3JyB8ICdnNzExX2FsYXcnO1xuXG4gIC8qKlxuICAgKiBTYW1wbGluZyB0ZW1wZXJhdHVyZSBmb3IgdGhlIG1vZGVsLCBsaW1pdGVkIHRvIFswLjYsIDEuMl0uIERlZmF1bHRzIHRvIDAuOC5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBIb3cgdGhlIG1vZGVsIGNob29zZXMgdG9vbHMuIE9wdGlvbnMgYXJlIGBhdXRvYCwgYG5vbmVgLCBgcmVxdWlyZWRgLCBvciBzcGVjaWZ5XG4gICAqIGEgZnVuY3Rpb24uXG4gICAqL1xuICB0b29sX2Nob2ljZT86IHN0cmluZztcblxuICAvKipcbiAgICogVG9vbHMgKGZ1bmN0aW9ucykgYXZhaWxhYmxlIHRvIHRoZSBtb2RlbC5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8U2Vzc2lvbkNyZWF0ZVBhcmFtcy5Ub29sPjtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgdHVybiBkZXRlY3Rpb24uIENhbiBiZSBzZXQgdG8gYG51bGxgIHRvIHR1cm4gb2ZmLiBTZXJ2ZXIgVkFEXG4gICAqIG1lYW5zIHRoYXQgdGhlIG1vZGVsIHdpbGwgZGV0ZWN0IHRoZSBzdGFydCBhbmQgZW5kIG9mIHNwZWVjaCBiYXNlZCBvbiBhdWRpb1xuICAgKiB2b2x1bWUgYW5kIHJlc3BvbmQgYXQgdGhlIGVuZCBvZiB1c2VyIHNwZWVjaC5cbiAgICovXG4gIHR1cm5fZGV0ZWN0aW9uPzogU2Vzc2lvbkNyZWF0ZVBhcmFtcy5UdXJuRGV0ZWN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdm9pY2UgdGhlIG1vZGVsIHVzZXMgdG8gcmVzcG9uZC4gVm9pY2UgY2Fubm90IGJlIGNoYW5nZWQgZHVyaW5nIHRoZSBzZXNzaW9uXG4gICAqIG9uY2UgdGhlIG1vZGVsIGhhcyByZXNwb25kZWQgd2l0aCBhdWRpbyBhdCBsZWFzdCBvbmNlLiBDdXJyZW50IHZvaWNlIG9wdGlvbnMgYXJlXG4gICAqIGBhbGxveWAsIGBhc2hgLCBgYmFsbGFkYCwgYGNvcmFsYCwgYGVjaG9gIGBzYWdlYCwgYHNoaW1tZXJgIGFuZCBgdmVyc2VgLlxuICAgKi9cbiAgdm9pY2U/OiAnYWxsb3knIHwgJ2FzaCcgfCAnYmFsbGFkJyB8ICdjb3JhbCcgfCAnZWNobycgfCAnc2FnZScgfCAnc2hpbW1lcicgfCAndmVyc2UnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFNlc3Npb25DcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgaW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiwgZGVmYXVsdHMgdG8gb2ZmIGFuZCBjYW4gYmUgc2V0IHRvXG4gICAqIGBudWxsYCB0byB0dXJuIG9mZiBvbmNlIG9uLiBJbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uIGlzIG5vdCBuYXRpdmUgdG8gdGhlXG4gICAqIG1vZGVsLCBzaW5jZSB0aGUgbW9kZWwgY29uc3VtZXMgYXVkaW8gZGlyZWN0bHkuIFRyYW5zY3JpcHRpb24gcnVuc1xuICAgKiBhc3luY2hyb25vdXNseSB0aHJvdWdoXG4gICAqIFtPcGVuQUkgV2hpc3BlciB0cmFuc2NyaXB0aW9uXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2F1ZGlvL2NyZWF0ZVRyYW5zY3JpcHRpb24pXG4gICAqIGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhcyByb3VnaCBndWlkYW5jZSByYXRoZXIgdGhhbiB0aGUgcmVwcmVzZW50YXRpb25cbiAgICogdW5kZXJzdG9vZCBieSB0aGUgbW9kZWwuIFRoZSBjbGllbnQgY2FuIG9wdGlvbmFsbHkgc2V0IHRoZSBsYW5ndWFnZSBhbmQgcHJvbXB0XG4gICAqIGZvciB0cmFuc2NyaXB0aW9uLCB0aGVzZSBmaWVsZHMgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIFdoaXNwZXIgQVBJLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIGxhbmd1YWdlIG9mIHRoZSBpbnB1dCBhdWRpby4gU3VwcGx5aW5nIHRoZSBpbnB1dCBsYW5ndWFnZSBpblxuICAgICAqIFtJU08tNjM5LTFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfSVNPXzYzOS0xX2NvZGVzKSAoZS5nLiBgZW5gKVxuICAgICAqIGZvcm1hdCB3aWxsIGltcHJvdmUgYWNjdXJhY3kgYW5kIGxhdGVuY3kuXG4gICAgICovXG4gICAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbW9kZWwgdG8gdXNlIGZvciB0cmFuc2NyaXB0aW9uLCBgd2hpc3Blci0xYCBpcyB0aGUgb25seSBjdXJyZW50bHkgc3VwcG9ydGVkXG4gICAgICogbW9kZWwuXG4gICAgICovXG4gICAgbW9kZWw/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvcHRpb25hbCB0ZXh0IHRvIGd1aWRlIHRoZSBtb2RlbCdzIHN0eWxlIG9yIGNvbnRpbnVlIGEgcHJldmlvdXMgYXVkaW9cbiAgICAgKiBzZWdtZW50LiBUaGVcbiAgICAgKiBbcHJvbXB0XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3BlZWNoLXRvLXRleHQjcHJvbXB0aW5nKVxuICAgICAqIHNob3VsZCBtYXRjaCB0aGUgYXVkaW8gbGFuZ3VhZ2UuXG4gICAgICovXG4gICAgcHJvbXB0Pzogc3RyaW5nO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBUb29sIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGZ1bmN0aW9uLCBpbmNsdWRpbmcgZ3VpZGFuY2Ugb24gd2hlbiBhbmQgaG93IHRvIGNhbGwgaXQsXG4gICAgICogYW5kIGd1aWRhbmNlIGFib3V0IHdoYXQgdG8gdGVsbCB0aGUgdXNlciB3aGVuIGNhbGxpbmcgKGlmIGFueXRoaW5nKS5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBuYW1lPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogUGFyYW1ldGVycyBvZiB0aGUgZnVuY3Rpb24gaW4gSlNPTiBTY2hlbWEuXG4gICAgICovXG4gICAgcGFyYW1ldGVycz86IHVua25vd247XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbCwgaS5lLiBgZnVuY3Rpb25gLlxuICAgICAqL1xuICAgIHR5cGU/OiAnZnVuY3Rpb24nO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIHR1cm4gZGV0ZWN0aW9uLiBDYW4gYmUgc2V0IHRvIGBudWxsYCB0byB0dXJuIG9mZi4gU2VydmVyIFZBRFxuICAgKiBtZWFucyB0aGF0IHRoZSBtb2RlbCB3aWxsIGRldGVjdCB0aGUgc3RhcnQgYW5kIGVuZCBvZiBzcGVlY2ggYmFzZWQgb24gYXVkaW9cbiAgICogdm9sdW1lIGFuZCByZXNwb25kIGF0IHRoZSBlbmQgb2YgdXNlciBzcGVlY2guXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFR1cm5EZXRlY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSByZXNwb25zZSB3aGVuIGEgVkFEIHN0b3AgZXZlbnRcbiAgICAgKiBvY2N1cnMuIGB0cnVlYCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIGNyZWF0ZV9yZXNwb25zZT86IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBhdXRvbWF0aWNhbGx5IGludGVycnVwdCBhbnkgb25nb2luZyByZXNwb25zZSB3aXRoIG91dHB1dCB0b1xuICAgICAqIHRoZSBkZWZhdWx0IGNvbnZlcnNhdGlvbiAoaS5lLiBgY29udmVyc2F0aW9uYCBvZiBgYXV0b2ApIHdoZW4gYSBWQUQgc3RhcnQgZXZlbnRcbiAgICAgKiBvY2N1cnMuIGB0cnVlYCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIGludGVycnVwdF9yZXNwb25zZT86IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBBbW91bnQgb2YgYXVkaW8gdG8gaW5jbHVkZSBiZWZvcmUgdGhlIFZBRCBkZXRlY3RlZCBzcGVlY2ggKGluIG1pbGxpc2Vjb25kcykuXG4gICAgICogRGVmYXVsdHMgdG8gMzAwbXMuXG4gICAgICovXG4gICAgcHJlZml4X3BhZGRpbmdfbXM/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBEdXJhdGlvbiBvZiBzaWxlbmNlIHRvIGRldGVjdCBzcGVlY2ggc3RvcCAoaW4gbWlsbGlzZWNvbmRzKS4gRGVmYXVsdHMgdG8gNTAwbXMuXG4gICAgICogV2l0aCBzaG9ydGVyIHZhbHVlcyB0aGUgbW9kZWwgd2lsbCByZXNwb25kIG1vcmUgcXVpY2tseSwgYnV0IG1heSBqdW1wIGluIG9uXG4gICAgICogc2hvcnQgcGF1c2VzIGZyb20gdGhlIHVzZXIuXG4gICAgICovXG4gICAgc2lsZW5jZV9kdXJhdGlvbl9tcz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRpb24gdGhyZXNob2xkIGZvciBWQUQgKDAuMCB0byAxLjApLCB0aGlzIGRlZmF1bHRzIHRvIDAuNS4gQSBoaWdoZXJcbiAgICAgKiB0aHJlc2hvbGQgd2lsbCByZXF1aXJlIGxvdWRlciBhdWRpbyB0byBhY3RpdmF0ZSB0aGUgbW9kZWwsIGFuZCB0aHVzIG1pZ2h0XG4gICAgICogcGVyZm9ybSBiZXR0ZXIgaW4gbm9pc3kgZW52aXJvbm1lbnRzLlxuICAgICAqL1xuICAgIHRocmVzaG9sZD86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgdHVybiBkZXRlY3Rpb24sIG9ubHkgYHNlcnZlcl92YWRgIGlzIGN1cnJlbnRseSBzdXBwb3J0ZWQuXG4gICAgICovXG4gICAgdHlwZT86IHN0cmluZztcbiAgfVxufVxuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgU2Vzc2lvbnMge1xuICBleHBvcnQge1xuICAgIHR5cGUgU2Vzc2lvbiBhcyBTZXNzaW9uLFxuICAgIHR5cGUgU2Vzc2lvbkNyZWF0ZVJlc3BvbnNlIGFzIFNlc3Npb25DcmVhdGVSZXNwb25zZSxcbiAgICB0eXBlIFNlc3Npb25DcmVhdGVQYXJhbXMgYXMgU2Vzc2lvbkNyZWF0ZVBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIFJlYWx0aW1lQVBJIGZyb20gJy4vcmVhbHRpbWUnO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gJy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQgKiBhcyBTZXNzaW9uc0FQSSBmcm9tICcuL3Nlc3Npb25zJztcbmltcG9ydCB7XG4gIFNlc3Npb24gYXMgU2Vzc2lvbnNBUElTZXNzaW9uLFxuICBTZXNzaW9uQ3JlYXRlUGFyYW1zLFxuICBTZXNzaW9uQ3JlYXRlUmVzcG9uc2UsXG4gIFNlc3Npb25zLFxufSBmcm9tICcuL3Nlc3Npb25zJztcblxuZXhwb3J0IGNsYXNzIFJlYWx0aW1lIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBzZXNzaW9uczogU2Vzc2lvbnNBUEkuU2Vzc2lvbnMgPSBuZXcgU2Vzc2lvbnNBUEkuU2Vzc2lvbnModGhpcy5fY2xpZW50KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGEgY29udmVyc2F0aW9uIGlzIGNyZWF0ZWQuIEVtaXR0ZWQgcmlnaHQgYWZ0ZXIgc2Vzc2lvbiBjcmVhdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb25DcmVhdGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIGNvbnZlcnNhdGlvbiByZXNvdXJjZS5cbiAgICovXG4gIGNvbnZlcnNhdGlvbjogQ29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50LkNvbnZlcnNhdGlvbjtcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGNvbnZlcnNhdGlvbi5jcmVhdGVkYC5cbiAgICovXG4gIHR5cGU6ICdjb252ZXJzYXRpb24uY3JlYXRlZCc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBjb252ZXJzYXRpb24gcmVzb3VyY2UuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENvbnZlcnNhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgY29udmVyc2F0aW9uLlxuICAgICAqL1xuICAgIGlkPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCB0eXBlLCBtdXN0IGJlIGByZWFsdGltZS5jb252ZXJzYXRpb25gLlxuICAgICAqL1xuICAgIG9iamVjdD86ICdyZWFsdGltZS5jb252ZXJzYXRpb24nO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGl0ZW0gdG8gYWRkIHRvIHRoZSBjb252ZXJzYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uSXRlbSB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBpdGVtLCB0aGlzIGNhbiBiZSBnZW5lcmF0ZWQgYnkgdGhlIGNsaWVudCB0byBoZWxwIG1hbmFnZVxuICAgKiBzZXJ2ZXItc2lkZSBjb250ZXh0LCBidXQgaXMgbm90IHJlcXVpcmVkIGJlY2F1c2UgdGhlIHNlcnZlciB3aWxsIGdlbmVyYXRlIG9uZSBpZlxuICAgKiBub3QgcHJvdmlkZWQuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24gY2FsbCAoZm9yIGBmdW5jdGlvbl9jYWxsYCBpdGVtcykuXG4gICAqL1xuICBhcmd1bWVudHM/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZnVuY3Rpb24gY2FsbCAoZm9yIGBmdW5jdGlvbl9jYWxsYCBhbmQgYGZ1bmN0aW9uX2NhbGxfb3V0cHV0YFxuICAgKiBpdGVtcykuIElmIHBhc3NlZCBvbiBhIGBmdW5jdGlvbl9jYWxsX291dHB1dGAgaXRlbSwgdGhlIHNlcnZlciB3aWxsIGNoZWNrIHRoYXQgYVxuICAgKiBgZnVuY3Rpb25fY2FsbGAgaXRlbSB3aXRoIHRoZSBzYW1lIElEIGV4aXN0cyBpbiB0aGUgY29udmVyc2F0aW9uIGhpc3RvcnkuXG4gICAqL1xuICBjYWxsX2lkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZSwgYXBwbGljYWJsZSBmb3IgYG1lc3NhZ2VgIGl0ZW1zLlxuICAgKlxuICAgKiAtIE1lc3NhZ2UgaXRlbXMgb2Ygcm9sZSBgc3lzdGVtYCBzdXBwb3J0IG9ubHkgYGlucHV0X3RleHRgIGNvbnRlbnRcbiAgICogLSBNZXNzYWdlIGl0ZW1zIG9mIHJvbGUgYHVzZXJgIHN1cHBvcnQgYGlucHV0X3RleHRgIGFuZCBgaW5wdXRfYXVkaW9gIGNvbnRlbnRcbiAgICogLSBNZXNzYWdlIGl0ZW1zIG9mIHJvbGUgYGFzc2lzdGFudGAgc3VwcG9ydCBgdGV4dGAgY29udGVudC5cbiAgICovXG4gIGNvbnRlbnQ/OiBBcnJheTxDb252ZXJzYXRpb25JdGVtQ29udGVudD47XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiBiZWluZyBjYWxsZWQgKGZvciBgZnVuY3Rpb25fY2FsbGAgaXRlbXMpLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogSWRlbnRpZmllciBmb3IgdGhlIEFQSSBvYmplY3QgYmVpbmcgcmV0dXJuZWQgLSBhbHdheXMgYHJlYWx0aW1lLml0ZW1gLlxuICAgKi9cbiAgb2JqZWN0PzogJ3JlYWx0aW1lLml0ZW0nO1xuXG4gIC8qKlxuICAgKiBUaGUgb3V0cHV0IG9mIHRoZSBmdW5jdGlvbiBjYWxsIChmb3IgYGZ1bmN0aW9uX2NhbGxfb3V0cHV0YCBpdGVtcykuXG4gICAqL1xuICBvdXRwdXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlIHNlbmRlciAoYHVzZXJgLCBgYXNzaXN0YW50YCwgYHN5c3RlbWApLCBvbmx5IGFwcGxpY2FibGVcbiAgICogZm9yIGBtZXNzYWdlYCBpdGVtcy5cbiAgICovXG4gIHJvbGU/OiAndXNlcicgfCAnYXNzaXN0YW50JyB8ICdzeXN0ZW0nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBpdGVtIChgY29tcGxldGVkYCwgYGluY29tcGxldGVgKS4gVGhlc2UgaGF2ZSBubyBlZmZlY3Qgb24gdGhlXG4gICAqIGNvbnZlcnNhdGlvbiwgYnV0IGFyZSBhY2NlcHRlZCBmb3IgY29uc2lzdGVuY3kgd2l0aCB0aGVcbiAgICogYGNvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZWRgIGV2ZW50LlxuICAgKi9cbiAgc3RhdHVzPzogJ2NvbXBsZXRlZCcgfCAnaW5jb21wbGV0ZSc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBpdGVtIChgbWVzc2FnZWAsIGBmdW5jdGlvbl9jYWxsYCwgYGZ1bmN0aW9uX2NhbGxfb3V0cHV0YCkuXG4gICAqL1xuICB0eXBlPzogJ21lc3NhZ2UnIHwgJ2Z1bmN0aW9uX2NhbGwnIHwgJ2Z1bmN0aW9uX2NhbGxfb3V0cHV0Jztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb25JdGVtQ29udGVudCB7XG4gIC8qKlxuICAgKiBJRCBvZiBhIHByZXZpb3VzIGNvbnZlcnNhdGlvbiBpdGVtIHRvIHJlZmVyZW5jZSAoZm9yIGBpdGVtX3JlZmVyZW5jZWAgY29udGVudFxuICAgKiB0eXBlcyBpbiBgcmVzcG9uc2UuY3JlYXRlYCBldmVudHMpLiBUaGVzZSBjYW4gcmVmZXJlbmNlIGJvdGggY2xpZW50IGFuZCBzZXJ2ZXJcbiAgICogY3JlYXRlZCBpdGVtcy5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBCYXNlNjQtZW5jb2RlZCBhdWRpbyBieXRlcywgdXNlZCBmb3IgYGlucHV0X2F1ZGlvYCBjb250ZW50IHR5cGUuXG4gICAqL1xuICBhdWRpbz86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHRleHQgY29udGVudCwgdXNlZCBmb3IgYGlucHV0X3RleHRgIGFuZCBgdGV4dGAgY29udGVudCB0eXBlcy5cbiAgICovXG4gIHRleHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0cmFuc2NyaXB0IG9mIHRoZSBhdWRpbywgdXNlZCBmb3IgYGlucHV0X2F1ZGlvYCBjb250ZW50IHR5cGUuXG4gICAqL1xuICB0cmFuc2NyaXB0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCB0eXBlIChgaW5wdXRfdGV4dGAsIGBpbnB1dF9hdWRpb2AsIGBpdGVtX3JlZmVyZW5jZWAsIGB0ZXh0YCkuXG4gICAqL1xuICB0eXBlPzogJ2lucHV0X3RleHQnIHwgJ2lucHV0X2F1ZGlvJyB8ICdpdGVtX3JlZmVyZW5jZScgfCAndGV4dCc7XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IEl0ZW0gdG8gdGhlIENvbnZlcnNhdGlvbidzIGNvbnRleHQsIGluY2x1ZGluZyBtZXNzYWdlcywgZnVuY3Rpb25cbiAqIGNhbGxzLCBhbmQgZnVuY3Rpb24gY2FsbCByZXNwb25zZXMuIFRoaXMgZXZlbnQgY2FuIGJlIHVzZWQgYm90aCB0byBwb3B1bGF0ZSBhXG4gKiBcImhpc3RvcnlcIiBvZiB0aGUgY29udmVyc2F0aW9uIGFuZCB0byBhZGQgbmV3IGl0ZW1zIG1pZC1zdHJlYW0sIGJ1dCBoYXMgdGhlXG4gKiBjdXJyZW50IGxpbWl0YXRpb24gdGhhdCBpdCBjYW5ub3QgcG9wdWxhdGUgYXNzaXN0YW50IGF1ZGlvIG1lc3NhZ2VzLlxuICpcbiAqIElmIHN1Y2Nlc3NmdWwsIHRoZSBzZXJ2ZXIgd2lsbCByZXNwb25kIHdpdGggYSBgY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlZGAgZXZlbnQsXG4gKiBvdGhlcndpc2UgYW4gYGVycm9yYCBldmVudCB3aWxsIGJlIHNlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uSXRlbUNyZWF0ZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpdGVtIHRvIGFkZCB0byB0aGUgY29udmVyc2F0aW9uLlxuICAgKi9cbiAgaXRlbTogQ29udmVyc2F0aW9uSXRlbTtcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGNvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZWAuXG4gICAqL1xuICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlJztcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2xpZW50LWdlbmVyYXRlZCBJRCB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBwcmVjZWRpbmcgaXRlbSBhZnRlciB3aGljaCB0aGUgbmV3IGl0ZW0gd2lsbCBiZSBpbnNlcnRlZC4gSWYgbm90XG4gICAqIHNldCwgdGhlIG5ldyBpdGVtIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGVuZCBvZiB0aGUgY29udmVyc2F0aW9uLiBJZiBzZXQgdG9cbiAgICogYHJvb3RgLCB0aGUgbmV3IGl0ZW0gd2lsbCBiZSBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjb252ZXJzYXRpb24uIElmIHNldFxuICAgKiB0byBhbiBleGlzdGluZyBJRCwgaXQgYWxsb3dzIGFuIGl0ZW0gdG8gYmUgaW5zZXJ0ZWQgbWlkLWNvbnZlcnNhdGlvbi4gSWYgdGhlIElEXG4gICAqIGNhbm5vdCBiZSBmb3VuZCwgYW4gZXJyb3Igd2lsbCBiZSByZXR1cm5lZCBhbmQgdGhlIGl0ZW0gd2lsbCBub3QgYmUgYWRkZWQuXG4gICAqL1xuICBwcmV2aW91c19pdGVtX2lkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gYSBjb252ZXJzYXRpb24gaXRlbSBpcyBjcmVhdGVkLiBUaGVyZSBhcmUgc2V2ZXJhbCBzY2VuYXJpb3MgdGhhdFxuICogcHJvZHVjZSB0aGlzIGV2ZW50OlxuICpcbiAqIC0gVGhlIHNlcnZlciBpcyBnZW5lcmF0aW5nIGEgUmVzcG9uc2UsIHdoaWNoIGlmIHN1Y2Nlc3NmdWwgd2lsbCBwcm9kdWNlIGVpdGhlclxuICogICBvbmUgb3IgdHdvIEl0ZW1zLCB3aGljaCB3aWxsIGJlIG9mIHR5cGUgYG1lc3NhZ2VgIChyb2xlIGBhc3Npc3RhbnRgKSBvciB0eXBlXG4gKiAgIGBmdW5jdGlvbl9jYWxsYC5cbiAqIC0gVGhlIGlucHV0IGF1ZGlvIGJ1ZmZlciBoYXMgYmVlbiBjb21taXR0ZWQsIGVpdGhlciBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXJcbiAqICAgKGluIGBzZXJ2ZXJfdmFkYCBtb2RlKS4gVGhlIHNlcnZlciB3aWxsIHRha2UgdGhlIGNvbnRlbnQgb2YgdGhlIGlucHV0IGF1ZGlvXG4gKiAgIGJ1ZmZlciBhbmQgYWRkIGl0IHRvIGEgbmV3IHVzZXIgbWVzc2FnZSBJdGVtLlxuICogLSBUaGUgY2xpZW50IGhhcyBzZW50IGEgYGNvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZWAgZXZlbnQgdG8gYWRkIGEgbmV3IEl0ZW0gdG9cbiAqICAgdGhlIENvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb25JdGVtQ3JlYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpdGVtIHRvIGFkZCB0byB0aGUgY29udmVyc2F0aW9uLlxuICAgKi9cbiAgaXRlbTogQ29udmVyc2F0aW9uSXRlbTtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBwcmVjZWRpbmcgaXRlbSBpbiB0aGUgQ29udmVyc2F0aW9uIGNvbnRleHQsIGFsbG93cyB0aGUgY2xpZW50IHRvXG4gICAqIHVuZGVyc3RhbmQgdGhlIG9yZGVyIG9mIHRoZSBjb252ZXJzYXRpb24uXG4gICAqL1xuICBwcmV2aW91c19pdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBjb252ZXJzYXRpb24uaXRlbS5jcmVhdGVkYC5cbiAgICovXG4gIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5jcmVhdGVkJztcbn1cblxuLyoqXG4gKiBTZW5kIHRoaXMgZXZlbnQgd2hlbiB5b3Ugd2FudCB0byByZW1vdmUgYW55IGl0ZW0gZnJvbSB0aGUgY29udmVyc2F0aW9uIGhpc3RvcnkuXG4gKiBUaGUgc2VydmVyIHdpbGwgcmVzcG9uZCB3aXRoIGEgYGNvbnZlcnNhdGlvbi5pdGVtLmRlbGV0ZWRgIGV2ZW50LCB1bmxlc3MgdGhlXG4gKiBpdGVtIGRvZXMgbm90IGV4aXN0IGluIHRoZSBjb252ZXJzYXRpb24gaGlzdG9yeSwgaW4gd2hpY2ggY2FzZSB0aGUgc2VydmVyIHdpbGxcbiAqIHJlc3BvbmQgd2l0aCBhbiBlcnJvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb25JdGVtRGVsZXRlRXZlbnQge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBpdGVtIHRvIGRlbGV0ZS5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGNvbnZlcnNhdGlvbi5pdGVtLmRlbGV0ZWAuXG4gICAqL1xuICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uZGVsZXRlJztcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2xpZW50LWdlbmVyYXRlZCBJRCB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGFuIGl0ZW0gaW4gdGhlIGNvbnZlcnNhdGlvbiBpcyBkZWxldGVkIGJ5IHRoZSBjbGllbnQgd2l0aCBhXG4gKiBgY29udmVyc2F0aW9uLml0ZW0uZGVsZXRlYCBldmVudC4gVGhpcyBldmVudCBpcyB1c2VkIHRvIHN5bmNocm9uaXplIHRoZSBzZXJ2ZXInc1xuICogdW5kZXJzdGFuZGluZyBvZiB0aGUgY29udmVyc2F0aW9uIGhpc3Rvcnkgd2l0aCB0aGUgY2xpZW50J3Mgdmlldy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb25JdGVtRGVsZXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgaXRlbSB0aGF0IHdhcyBkZWxldGVkLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgY29udmVyc2F0aW9uLml0ZW0uZGVsZXRlZGAuXG4gICAqL1xuICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uZGVsZXRlZCc7XG59XG5cbi8qKlxuICogVGhpcyBldmVudCBpcyB0aGUgb3V0cHV0IG9mIGF1ZGlvIHRyYW5zY3JpcHRpb24gZm9yIHVzZXIgYXVkaW8gd3JpdHRlbiB0byB0aGVcbiAqIHVzZXIgYXVkaW8gYnVmZmVyLiBUcmFuc2NyaXB0aW9uIGJlZ2lucyB3aGVuIHRoZSBpbnB1dCBhdWRpbyBidWZmZXIgaXMgY29tbWl0dGVkXG4gKiBieSB0aGUgY2xpZW50IG9yIHNlcnZlciAoaW4gYHNlcnZlcl92YWRgIG1vZGUpLiBUcmFuc2NyaXB0aW9uIHJ1bnNcbiAqIGFzeW5jaHJvbm91c2x5IHdpdGggUmVzcG9uc2UgY3JlYXRpb24sIHNvIHRoaXMgZXZlbnQgbWF5IGNvbWUgYmVmb3JlIG9yIGFmdGVyXG4gKiB0aGUgUmVzcG9uc2UgZXZlbnRzLlxuICpcbiAqIFJlYWx0aW1lIEFQSSBtb2RlbHMgYWNjZXB0IGF1ZGlvIG5hdGl2ZWx5LCBhbmQgdGh1cyBpbnB1dCB0cmFuc2NyaXB0aW9uIGlzIGFcbiAqIHNlcGFyYXRlIHByb2Nlc3MgcnVuIG9uIGEgc2VwYXJhdGUgQVNSIChBdXRvbWF0aWMgU3BlZWNoIFJlY29nbml0aW9uKSBtb2RlbCxcbiAqIGN1cnJlbnRseSBhbHdheXMgYHdoaXNwZXItMWAuIFRodXMgdGhlIHRyYW5zY3JpcHQgbWF5IGRpdmVyZ2Ugc29tZXdoYXQgZnJvbSB0aGVcbiAqIG1vZGVsJ3MgaW50ZXJwcmV0YXRpb24sIGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhcyBhIHJvdWdoIGd1aWRlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkNvbXBsZXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IGNvbnRhaW5pbmcgdGhlIGF1ZGlvLlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHVzZXIgbWVzc2FnZSBpdGVtIGNvbnRhaW5pbmcgdGhlIGF1ZGlvLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHJhbnNjcmliZWQgdGV4dC5cbiAgICovXG4gIHRyYW5zY3JpcHQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGNvbnZlcnNhdGlvbi5pdGVtLmlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb24uY29tcGxldGVkYC5cbiAgICovXG4gIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmNvbXBsZXRlZCc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBpbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uIGlzIGNvbmZpZ3VyZWQsIGFuZCBhIHRyYW5zY3JpcHRpb25cbiAqIHJlcXVlc3QgZm9yIGEgdXNlciBtZXNzYWdlIGZhaWxlZC4gVGhlc2UgZXZlbnRzIGFyZSBzZXBhcmF0ZSBmcm9tIG90aGVyIGBlcnJvcmBcbiAqIGV2ZW50cyBzbyB0aGF0IHRoZSBjbGllbnQgY2FuIGlkZW50aWZ5IHRoZSByZWxhdGVkIEl0ZW0uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgY29udGFpbmluZyB0aGUgYXVkaW8uXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIERldGFpbHMgb2YgdGhlIHRyYW5zY3JpcHRpb24gZXJyb3IuXG4gICAqL1xuICBlcnJvcjogQ29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnQuRXJyb3I7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgdXNlciBtZXNzYWdlIGl0ZW0uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmZhaWxlZGAuXG4gICAqL1xuICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5mYWlsZWQnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50IHtcbiAgLyoqXG4gICAqIERldGFpbHMgb2YgdGhlIHRyYW5zY3JpcHRpb24gZXJyb3IuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlLCBpZiBhbnkuXG4gICAgICovXG4gICAgY29kZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgZXJyb3IgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogUGFyYW1ldGVyIHJlbGF0ZWQgdG8gdGhlIGVycm9yLCBpZiBhbnkuXG4gICAgICovXG4gICAgcGFyYW0/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBlcnJvci5cbiAgICAgKi9cbiAgICB0eXBlPzogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogU2VuZCB0aGlzIGV2ZW50IHRvIHRydW5jYXRlIGEgcHJldmlvdXMgYXNzaXN0YW50IG1lc3NhZ2VcdTIwMTlzIGF1ZGlvLiBUaGUgc2VydmVyXG4gKiB3aWxsIHByb2R1Y2UgYXVkaW8gZmFzdGVyIHRoYW4gcmVhbHRpbWUsIHNvIHRoaXMgZXZlbnQgaXMgdXNlZnVsIHdoZW4gdGhlIHVzZXJcbiAqIGludGVycnVwdHMgdG8gdHJ1bmNhdGUgYXVkaW8gdGhhdCBoYXMgYWxyZWFkeSBiZWVuIHNlbnQgdG8gdGhlIGNsaWVudCBidXQgbm90XG4gKiB5ZXQgcGxheWVkLiBUaGlzIHdpbGwgc3luY2hyb25pemUgdGhlIHNlcnZlcidzIHVuZGVyc3RhbmRpbmcgb2YgdGhlIGF1ZGlvIHdpdGhcbiAqIHRoZSBjbGllbnQncyBwbGF5YmFjay5cbiAqXG4gKiBUcnVuY2F0aW5nIGF1ZGlvIHdpbGwgZGVsZXRlIHRoZSBzZXJ2ZXItc2lkZSB0ZXh0IHRyYW5zY3JpcHQgdG8gZW5zdXJlIHRoZXJlIGlzXG4gKiBub3QgdGV4dCBpbiB0aGUgY29udGV4dCB0aGF0IGhhc24ndCBiZWVuIGhlYXJkIGJ5IHRoZSB1c2VyLlxuICpcbiAqIElmIHN1Y2Nlc3NmdWwsIHRoZSBzZXJ2ZXIgd2lsbCByZXNwb25kIHdpdGggYSBgY29udmVyc2F0aW9uLml0ZW0udHJ1bmNhdGVkYFxuICogZXZlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uSXRlbVRydW5jYXRlRXZlbnQge1xuICAvKipcbiAgICogSW5jbHVzaXZlIGR1cmF0aW9uIHVwIHRvIHdoaWNoIGF1ZGlvIGlzIHRydW5jYXRlZCwgaW4gbWlsbGlzZWNvbmRzLiBJZiB0aGVcbiAgICogYXVkaW9fZW5kX21zIGlzIGdyZWF0ZXIgdGhhbiB0aGUgYWN0dWFsIGF1ZGlvIGR1cmF0aW9uLCB0aGUgc2VydmVyIHdpbGwgcmVzcG9uZFxuICAgKiB3aXRoIGFuIGVycm9yLlxuICAgKi9cbiAgYXVkaW9fZW5kX21zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IHRvIHRydW5jYXRlLiBTZXQgdGhpcyB0byAwLlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGFzc2lzdGFudCBtZXNzYWdlIGl0ZW0gdG8gdHJ1bmNhdGUuIE9ubHkgYXNzaXN0YW50IG1lc3NhZ2UgaXRlbXNcbiAgICogY2FuIGJlIHRydW5jYXRlZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGNvbnZlcnNhdGlvbi5pdGVtLnRydW5jYXRlYC5cbiAgICovXG4gIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS50cnVuY2F0ZSc7XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGNsaWVudC1nZW5lcmF0ZWQgSUQgdXNlZCB0byBpZGVudGlmeSB0aGlzIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBhbiBlYXJsaWVyIGFzc2lzdGFudCBhdWRpbyBtZXNzYWdlIGl0ZW0gaXMgdHJ1bmNhdGVkIGJ5IHRoZSBjbGllbnRcbiAqIHdpdGggYSBgY29udmVyc2F0aW9uLml0ZW0udHJ1bmNhdGVgIGV2ZW50LiBUaGlzIGV2ZW50IGlzIHVzZWQgdG8gc3luY2hyb25pemUgdGhlXG4gKiBzZXJ2ZXIncyB1bmRlcnN0YW5kaW5nIG9mIHRoZSBhdWRpbyB3aXRoIHRoZSBjbGllbnQncyBwbGF5YmFjay5cbiAqXG4gKiBUaGlzIGFjdGlvbiB3aWxsIHRydW5jYXRlIHRoZSBhdWRpbyBhbmQgcmVtb3ZlIHRoZSBzZXJ2ZXItc2lkZSB0ZXh0IHRyYW5zY3JpcHRcbiAqIHRvIGVuc3VyZSB0aGVyZSBpcyBubyB0ZXh0IGluIHRoZSBjb250ZXh0IHRoYXQgaGFzbid0IGJlZW4gaGVhcmQgYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uSXRlbVRydW5jYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBkdXJhdGlvbiB1cCB0byB3aGljaCB0aGUgYXVkaW8gd2FzIHRydW5jYXRlZCwgaW4gbWlsbGlzZWNvbmRzLlxuICAgKi9cbiAgYXVkaW9fZW5kX21zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IHRoYXQgd2FzIHRydW5jYXRlZC5cbiAgICovXG4gIGNvbnRlbnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBhc3Npc3RhbnQgbWVzc2FnZSBpdGVtIHRoYXQgd2FzIHRydW5jYXRlZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGNvbnZlcnNhdGlvbi5pdGVtLnRydW5jYXRlZGAuXG4gICAqL1xuICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0udHJ1bmNhdGVkJztcbn1cblxuLyoqXG4gKiBUaGUgaXRlbSB0byBhZGQgdG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb25JdGVtV2l0aFJlZmVyZW5jZSB7XG4gIC8qKlxuICAgKiBGb3IgYW4gaXRlbSBvZiB0eXBlIChgbWVzc2FnZWAgfCBgZnVuY3Rpb25fY2FsbGAgfCBgZnVuY3Rpb25fY2FsbF9vdXRwdXRgKSB0aGlzXG4gICAqIGZpZWxkIGFsbG93cyB0aGUgY2xpZW50IHRvIGFzc2lnbiB0aGUgdW5pcXVlIElEIG9mIHRoZSBpdGVtLiBJdCBpcyBub3QgcmVxdWlyZWRcbiAgICogYmVjYXVzZSB0aGUgc2VydmVyIHdpbGwgZ2VuZXJhdGUgb25lIGlmIG5vdCBwcm92aWRlZC5cbiAgICpcbiAgICogRm9yIGFuIGl0ZW0gb2YgdHlwZSBgaXRlbV9yZWZlcmVuY2VgLCB0aGlzIGZpZWxkIGlzIHJlcXVpcmVkIGFuZCBpcyBhIHJlZmVyZW5jZVxuICAgKiB0byBhbnkgaXRlbSB0aGF0IGhhcyBwcmV2aW91c2x5IGV4aXN0ZWQgaW4gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbiBjYWxsIChmb3IgYGZ1bmN0aW9uX2NhbGxgIGl0ZW1zKS5cbiAgICovXG4gIGFyZ3VtZW50cz86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBmdW5jdGlvbiBjYWxsIChmb3IgYGZ1bmN0aW9uX2NhbGxgIGFuZCBgZnVuY3Rpb25fY2FsbF9vdXRwdXRgXG4gICAqIGl0ZW1zKS4gSWYgcGFzc2VkIG9uIGEgYGZ1bmN0aW9uX2NhbGxfb3V0cHV0YCBpdGVtLCB0aGUgc2VydmVyIHdpbGwgY2hlY2sgdGhhdCBhXG4gICAqIGBmdW5jdGlvbl9jYWxsYCBpdGVtIHdpdGggdGhlIHNhbWUgSUQgZXhpc3RzIGluIHRoZSBjb252ZXJzYXRpb24gaGlzdG9yeS5cbiAgICovXG4gIGNhbGxfaWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBtZXNzYWdlLCBhcHBsaWNhYmxlIGZvciBgbWVzc2FnZWAgaXRlbXMuXG4gICAqXG4gICAqIC0gTWVzc2FnZSBpdGVtcyBvZiByb2xlIGBzeXN0ZW1gIHN1cHBvcnQgb25seSBgaW5wdXRfdGV4dGAgY29udGVudFxuICAgKiAtIE1lc3NhZ2UgaXRlbXMgb2Ygcm9sZSBgdXNlcmAgc3VwcG9ydCBgaW5wdXRfdGV4dGAgYW5kIGBpbnB1dF9hdWRpb2AgY29udGVudFxuICAgKiAtIE1lc3NhZ2UgaXRlbXMgb2Ygcm9sZSBgYXNzaXN0YW50YCBzdXBwb3J0IGB0ZXh0YCBjb250ZW50LlxuICAgKi9cbiAgY29udGVudD86IEFycmF5PENvbnZlcnNhdGlvbkl0ZW1Db250ZW50PjtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIGJlaW5nIGNhbGxlZCAoZm9yIGBmdW5jdGlvbl9jYWxsYCBpdGVtcykuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBJZGVudGlmaWVyIGZvciB0aGUgQVBJIG9iamVjdCBiZWluZyByZXR1cm5lZCAtIGFsd2F5cyBgcmVhbHRpbWUuaXRlbWAuXG4gICAqL1xuICBvYmplY3Q/OiAncmVhbHRpbWUuaXRlbSc7XG5cbiAgLyoqXG4gICAqIFRoZSBvdXRwdXQgb2YgdGhlIGZ1bmN0aW9uIGNhbGwgKGZvciBgZnVuY3Rpb25fY2FsbF9vdXRwdXRgIGl0ZW1zKS5cbiAgICovXG4gIG91dHB1dD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2Ugc2VuZGVyIChgdXNlcmAsIGBhc3Npc3RhbnRgLCBgc3lzdGVtYCksIG9ubHkgYXBwbGljYWJsZVxuICAgKiBmb3IgYG1lc3NhZ2VgIGl0ZW1zLlxuICAgKi9cbiAgcm9sZT86ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3N5c3RlbSc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGl0ZW0gKGBjb21wbGV0ZWRgLCBgaW5jb21wbGV0ZWApLiBUaGVzZSBoYXZlIG5vIGVmZmVjdCBvbiB0aGVcbiAgICogY29udmVyc2F0aW9uLCBidXQgYXJlIGFjY2VwdGVkIGZvciBjb25zaXN0ZW5jeSB3aXRoIHRoZVxuICAgKiBgY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlZGAgZXZlbnQuXG4gICAqL1xuICBzdGF0dXM/OiAnY29tcGxldGVkJyB8ICdpbmNvbXBsZXRlJztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGl0ZW0gKGBtZXNzYWdlYCwgYGZ1bmN0aW9uX2NhbGxgLCBgZnVuY3Rpb25fY2FsbF9vdXRwdXRgLFxuICAgKiBgaXRlbV9yZWZlcmVuY2VgKS5cbiAgICovXG4gIHR5cGU/OiAnbWVzc2FnZScgfCAnZnVuY3Rpb25fY2FsbCcgfCAnZnVuY3Rpb25fY2FsbF9vdXRwdXQnIHwgJ2l0ZW1fcmVmZXJlbmNlJztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGFuIGVycm9yIG9jY3Vycywgd2hpY2ggY291bGQgYmUgYSBjbGllbnQgcHJvYmxlbSBvciBhIHNlcnZlclxuICogcHJvYmxlbS4gTW9zdCBlcnJvcnMgYXJlIHJlY292ZXJhYmxlIGFuZCB0aGUgc2Vzc2lvbiB3aWxsIHN0YXkgb3Blbiwgd2VcbiAqIHJlY29tbWVuZCB0byBpbXBsZW1lbnRvcnMgdG8gbW9uaXRvciBhbmQgbG9nIGVycm9yIG1lc3NhZ2VzIGJ5IGRlZmF1bHQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JFdmVudCB7XG4gIC8qKlxuICAgKiBEZXRhaWxzIG9mIHRoZSBlcnJvci5cbiAgICovXG4gIGVycm9yOiBFcnJvckV2ZW50LkVycm9yO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgZXJyb3JgLlxuICAgKi9cbiAgdHlwZTogJ2Vycm9yJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBFcnJvckV2ZW50IHtcbiAgLyoqXG4gICAqIERldGFpbHMgb2YgdGhlIGVycm9yLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBFcnJvciB7XG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBlcnJvciBtZXNzYWdlLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIGVycm9yIChlLmcuLCBcImludmFsaWRfcmVxdWVzdF9lcnJvclwiLCBcInNlcnZlcl9lcnJvclwiKS5cbiAgICAgKi9cbiAgICB0eXBlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlLCBpZiBhbnkuXG4gICAgICovXG4gICAgY29kZT86IHN0cmluZyB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnRfaWQgb2YgdGhlIGNsaWVudCBldmVudCB0aGF0IGNhdXNlZCB0aGUgZXJyb3IsIGlmIGFwcGxpY2FibGUuXG4gICAgICovXG4gICAgZXZlbnRfaWQ/OiBzdHJpbmcgfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUGFyYW1ldGVyIHJlbGF0ZWQgdG8gdGhlIGVycm9yLCBpZiBhbnkuXG4gICAgICovXG4gICAgcGFyYW0/OiBzdHJpbmcgfCBudWxsO1xuICB9XG59XG5cbi8qKlxuICogU2VuZCB0aGlzIGV2ZW50IHRvIGFwcGVuZCBhdWRpbyBieXRlcyB0byB0aGUgaW5wdXQgYXVkaW8gYnVmZmVyLiBUaGUgYXVkaW9cbiAqIGJ1ZmZlciBpcyB0ZW1wb3Jhcnkgc3RvcmFnZSB5b3UgY2FuIHdyaXRlIHRvIGFuZCBsYXRlciBjb21taXQuIEluIFNlcnZlciBWQURcbiAqIG1vZGUsIHRoZSBhdWRpbyBidWZmZXIgaXMgdXNlZCB0byBkZXRlY3Qgc3BlZWNoIGFuZCB0aGUgc2VydmVyIHdpbGwgZGVjaWRlIHdoZW5cbiAqIHRvIGNvbW1pdC4gV2hlbiBTZXJ2ZXIgVkFEIGlzIGRpc2FibGVkLCB5b3UgbXVzdCBjb21taXQgdGhlIGF1ZGlvIGJ1ZmZlclxuICogbWFudWFsbHkuXG4gKlxuICogVGhlIGNsaWVudCBtYXkgY2hvb3NlIGhvdyBtdWNoIGF1ZGlvIHRvIHBsYWNlIGluIGVhY2ggZXZlbnQgdXAgdG8gYSBtYXhpbXVtIG9mXG4gKiAxNSBNaUIsIGZvciBleGFtcGxlIHN0cmVhbWluZyBzbWFsbGVyIGNodW5rcyBmcm9tIHRoZSBjbGllbnQgbWF5IGFsbG93IHRoZSBWQURcbiAqIHRvIGJlIG1vcmUgcmVzcG9uc2l2ZS4gVW5saWtlIG1hZGUgb3RoZXIgY2xpZW50IGV2ZW50cywgdGhlIHNlcnZlciB3aWxsIG5vdCBzZW5kXG4gKiBhIGNvbmZpcm1hdGlvbiByZXNwb25zZSB0byB0aGlzIGV2ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElucHV0QXVkaW9CdWZmZXJBcHBlbmRFdmVudCB7XG4gIC8qKlxuICAgKiBCYXNlNjQtZW5jb2RlZCBhdWRpbyBieXRlcy4gVGhpcyBtdXN0IGJlIGluIHRoZSBmb3JtYXQgc3BlY2lmaWVkIGJ5IHRoZVxuICAgKiBgaW5wdXRfYXVkaW9fZm9ybWF0YCBmaWVsZCBpbiB0aGUgc2Vzc2lvbiBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgYXVkaW86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGlucHV0X2F1ZGlvX2J1ZmZlci5hcHBlbmRgLlxuICAgKi9cbiAgdHlwZTogJ2lucHV0X2F1ZGlvX2J1ZmZlci5hcHBlbmQnO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjbGllbnQtZ2VuZXJhdGVkIElEIHVzZWQgdG8gaWRlbnRpZnkgdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFNlbmQgdGhpcyBldmVudCB0byBjbGVhciB0aGUgYXVkaW8gYnl0ZXMgaW4gdGhlIGJ1ZmZlci4gVGhlIHNlcnZlciB3aWxsIHJlc3BvbmRcbiAqIHdpdGggYW4gYGlucHV0X2F1ZGlvX2J1ZmZlci5jbGVhcmVkYCBldmVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvQnVmZmVyQ2xlYXJFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgaW5wdXRfYXVkaW9fYnVmZmVyLmNsZWFyYC5cbiAgICovXG4gIHR5cGU6ICdpbnB1dF9hdWRpb19idWZmZXIuY2xlYXInO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjbGllbnQtZ2VuZXJhdGVkIElEIHVzZWQgdG8gaWRlbnRpZnkgdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gdGhlIGlucHV0IGF1ZGlvIGJ1ZmZlciBpcyBjbGVhcmVkIGJ5IHRoZSBjbGllbnQgd2l0aCBhXG4gKiBgaW5wdXRfYXVkaW9fYnVmZmVyLmNsZWFyYCBldmVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBpbnB1dF9hdWRpb19idWZmZXIuY2xlYXJlZGAuXG4gICAqL1xuICB0eXBlOiAnaW5wdXRfYXVkaW9fYnVmZmVyLmNsZWFyZWQnO1xufVxuXG4vKipcbiAqIFNlbmQgdGhpcyBldmVudCB0byBjb21taXQgdGhlIHVzZXIgaW5wdXQgYXVkaW8gYnVmZmVyLCB3aGljaCB3aWxsIGNyZWF0ZSBhIG5ld1xuICogdXNlciBtZXNzYWdlIGl0ZW0gaW4gdGhlIGNvbnZlcnNhdGlvbi4gVGhpcyBldmVudCB3aWxsIHByb2R1Y2UgYW4gZXJyb3IgaWYgdGhlXG4gKiBpbnB1dCBhdWRpbyBidWZmZXIgaXMgZW1wdHkuIFdoZW4gaW4gU2VydmVyIFZBRCBtb2RlLCB0aGUgY2xpZW50IGRvZXMgbm90IG5lZWRcbiAqIHRvIHNlbmQgdGhpcyBldmVudCwgdGhlIHNlcnZlciB3aWxsIGNvbW1pdCB0aGUgYXVkaW8gYnVmZmVyIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogQ29tbWl0dGluZyB0aGUgaW5wdXQgYXVkaW8gYnVmZmVyIHdpbGwgdHJpZ2dlciBpbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uIChpZlxuICogZW5hYmxlZCBpbiBzZXNzaW9uIGNvbmZpZ3VyYXRpb24pLCBidXQgaXQgd2lsbCBub3QgY3JlYXRlIGEgcmVzcG9uc2UgZnJvbSB0aGVcbiAqIG1vZGVsLiBUaGUgc2VydmVyIHdpbGwgcmVzcG9uZCB3aXRoIGFuIGBpbnB1dF9hdWRpb19idWZmZXIuY29tbWl0dGVkYCBldmVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnQge1xuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGlucHV0X2F1ZGlvX2J1ZmZlci5jb21taXRgLlxuICAgKi9cbiAgdHlwZTogJ2lucHV0X2F1ZGlvX2J1ZmZlci5jb21taXQnO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjbGllbnQtZ2VuZXJhdGVkIElEIHVzZWQgdG8gaWRlbnRpZnkgdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gYW4gaW5wdXQgYXVkaW8gYnVmZmVyIGlzIGNvbW1pdHRlZCwgZWl0aGVyIGJ5IHRoZSBjbGllbnQgb3JcbiAqIGF1dG9tYXRpY2FsbHkgaW4gc2VydmVyIFZBRCBtb2RlLiBUaGUgYGl0ZW1faWRgIHByb3BlcnR5IGlzIHRoZSBJRCBvZiB0aGUgdXNlclxuICogbWVzc2FnZSBpdGVtIHRoYXQgd2lsbCBiZSBjcmVhdGVkLCB0aHVzIGEgYGNvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZWRgIGV2ZW50IHdpbGxcbiAqIGFsc28gYmUgc2VudCB0byB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElucHV0QXVkaW9CdWZmZXJDb21taXR0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHVzZXIgbWVzc2FnZSBpdGVtIHRoYXQgd2lsbCBiZSBjcmVhdGVkLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHByZWNlZGluZyBpdGVtIGFmdGVyIHdoaWNoIHRoZSBuZXcgaXRlbSB3aWxsIGJlIGluc2VydGVkLlxuICAgKi9cbiAgcHJldmlvdXNfaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgaW5wdXRfYXVkaW9fYnVmZmVyLmNvbW1pdHRlZGAuXG4gICAqL1xuICB0eXBlOiAnaW5wdXRfYXVkaW9fYnVmZmVyLmNvbW1pdHRlZCc7XG59XG5cbi8qKlxuICogU2VudCBieSB0aGUgc2VydmVyIHdoZW4gaW4gYHNlcnZlcl92YWRgIG1vZGUgdG8gaW5kaWNhdGUgdGhhdCBzcGVlY2ggaGFzIGJlZW5cbiAqIGRldGVjdGVkIGluIHRoZSBhdWRpbyBidWZmZXIuIFRoaXMgY2FuIGhhcHBlbiBhbnkgdGltZSBhdWRpbyBpcyBhZGRlZCB0byB0aGVcbiAqIGJ1ZmZlciAodW5sZXNzIHNwZWVjaCBpcyBhbHJlYWR5IGRldGVjdGVkKS4gVGhlIGNsaWVudCBtYXkgd2FudCB0byB1c2UgdGhpc1xuICogZXZlbnQgdG8gaW50ZXJydXB0IGF1ZGlvIHBsYXliYWNrIG9yIHByb3ZpZGUgdmlzdWFsIGZlZWRiYWNrIHRvIHRoZSB1c2VyLlxuICpcbiAqIFRoZSBjbGllbnQgc2hvdWxkIGV4cGVjdCB0byByZWNlaXZlIGEgYGlucHV0X2F1ZGlvX2J1ZmZlci5zcGVlY2hfc3RvcHBlZGAgZXZlbnRcbiAqIHdoZW4gc3BlZWNoIHN0b3BzLiBUaGUgYGl0ZW1faWRgIHByb3BlcnR5IGlzIHRoZSBJRCBvZiB0aGUgdXNlciBtZXNzYWdlIGl0ZW1cbiAqIHRoYXQgd2lsbCBiZSBjcmVhdGVkIHdoZW4gc3BlZWNoIHN0b3BzIGFuZCB3aWxsIGFsc28gYmUgaW5jbHVkZWQgaW4gdGhlXG4gKiBgaW5wdXRfYXVkaW9fYnVmZmVyLnNwZWVjaF9zdG9wcGVkYCBldmVudCAodW5sZXNzIHRoZSBjbGllbnQgbWFudWFsbHkgY29tbWl0c1xuICogdGhlIGF1ZGlvIGJ1ZmZlciBkdXJpbmcgVkFEIGFjdGl2YXRpb24pLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElucHV0QXVkaW9CdWZmZXJTcGVlY2hTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICogTWlsbGlzZWNvbmRzIGZyb20gdGhlIHN0YXJ0IG9mIGFsbCBhdWRpbyB3cml0dGVuIHRvIHRoZSBidWZmZXIgZHVyaW5nIHRoZVxuICAgKiBzZXNzaW9uIHdoZW4gc3BlZWNoIHdhcyBmaXJzdCBkZXRlY3RlZC4gVGhpcyB3aWxsIGNvcnJlc3BvbmQgdG8gdGhlIGJlZ2lubmluZyBvZlxuICAgKiBhdWRpbyBzZW50IHRvIHRoZSBtb2RlbCwgYW5kIHRodXMgaW5jbHVkZXMgdGhlIGBwcmVmaXhfcGFkZGluZ19tc2AgY29uZmlndXJlZCBpblxuICAgKiB0aGUgU2Vzc2lvbi5cbiAgICovXG4gIGF1ZGlvX3N0YXJ0X21zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgdXNlciBtZXNzYWdlIGl0ZW0gdGhhdCB3aWxsIGJlIGNyZWF0ZWQgd2hlbiBzcGVlY2ggc3RvcHMuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBpbnB1dF9hdWRpb19idWZmZXIuc3BlZWNoX3N0YXJ0ZWRgLlxuICAgKi9cbiAgdHlwZTogJ2lucHV0X2F1ZGlvX2J1ZmZlci5zcGVlY2hfc3RhcnRlZCc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgaW4gYHNlcnZlcl92YWRgIG1vZGUgd2hlbiB0aGUgc2VydmVyIGRldGVjdHMgdGhlIGVuZCBvZiBzcGVlY2ggaW4gdGhlXG4gKiBhdWRpbyBidWZmZXIuIFRoZSBzZXJ2ZXIgd2lsbCBhbHNvIHNlbmQgYW4gYGNvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZWRgIGV2ZW50XG4gKiB3aXRoIHRoZSB1c2VyIG1lc3NhZ2UgaXRlbSB0aGF0IGlzIGNyZWF0ZWQgZnJvbSB0aGUgYXVkaW8gYnVmZmVyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElucHV0QXVkaW9CdWZmZXJTcGVlY2hTdG9wcGVkRXZlbnQge1xuICAvKipcbiAgICogTWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBzZXNzaW9uIHN0YXJ0ZWQgd2hlbiBzcGVlY2ggc3RvcHBlZC4gVGhpcyB3aWxsIGNvcnJlc3BvbmRcbiAgICogdG8gdGhlIGVuZCBvZiBhdWRpbyBzZW50IHRvIHRoZSBtb2RlbCwgYW5kIHRodXMgaW5jbHVkZXMgdGhlXG4gICAqIGBtaW5fc2lsZW5jZV9kdXJhdGlvbl9tc2AgY29uZmlndXJlZCBpbiB0aGUgU2Vzc2lvbi5cbiAgICovXG4gIGF1ZGlvX2VuZF9tczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHVzZXIgbWVzc2FnZSBpdGVtIHRoYXQgd2lsbCBiZSBjcmVhdGVkLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgaW5wdXRfYXVkaW9fYnVmZmVyLnNwZWVjaF9zdG9wcGVkYC5cbiAgICovXG4gIHR5cGU6ICdpbnB1dF9hdWRpb19idWZmZXIuc3BlZWNoX3N0b3BwZWQnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgYXQgdGhlIGJlZ2lubmluZyBvZiBhIFJlc3BvbnNlIHRvIGluZGljYXRlIHRoZSB1cGRhdGVkIHJhdGUgbGltaXRzLiBXaGVuXG4gKiBhIFJlc3BvbnNlIGlzIGNyZWF0ZWQgc29tZSB0b2tlbnMgd2lsbCBiZSBcInJlc2VydmVkXCIgZm9yIHRoZSBvdXRwdXQgdG9rZW5zLCB0aGVcbiAqIHJhdGUgbGltaXRzIHNob3duIGhlcmUgcmVmbGVjdCB0aGF0IHJlc2VydmF0aW9uLCB3aGljaCBpcyB0aGVuIGFkanVzdGVkXG4gKiBhY2NvcmRpbmdseSBvbmNlIHRoZSBSZXNwb25zZSBpcyBjb21wbGV0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmF0ZUxpbWl0c1VwZGF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBMaXN0IG9mIHJhdGUgbGltaXQgaW5mb3JtYXRpb24uXG4gICAqL1xuICByYXRlX2xpbWl0czogQXJyYXk8UmF0ZUxpbWl0c1VwZGF0ZWRFdmVudC5SYXRlTGltaXQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmF0ZV9saW1pdHMudXBkYXRlZGAuXG4gICAqL1xuICB0eXBlOiAncmF0ZV9saW1pdHMudXBkYXRlZCc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUmF0ZUxpbWl0c1VwZGF0ZWRFdmVudCB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgUmF0ZUxpbWl0IHtcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBhbGxvd2VkIHZhbHVlIGZvciB0aGUgcmF0ZSBsaW1pdC5cbiAgICAgKi9cbiAgICBsaW1pdD86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSByYXRlIGxpbWl0IChgcmVxdWVzdHNgLCBgdG9rZW5zYCkuXG4gICAgICovXG4gICAgbmFtZT86ICdyZXF1ZXN0cycgfCAndG9rZW5zJztcblxuICAgIC8qKlxuICAgICAqIFRoZSByZW1haW5pbmcgdmFsdWUgYmVmb3JlIHRoZSBsaW1pdCBpcyByZWFjaGVkLlxuICAgICAqL1xuICAgIHJlbWFpbmluZz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFNlY29uZHMgdW50aWwgdGhlIHJhdGUgbGltaXQgcmVzZXRzLlxuICAgICAqL1xuICAgIHJlc2V0X3NlY29uZHM/OiBudW1iZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBBbGwgZXZlbnRzIHRoYXQgdGhlIGNsaWVudCBjYW4gc2VuZCB0byB0aGUgUmVhbHRpbWUgQVBJXG4gKi9cbmV4cG9ydCB0eXBlIFJlYWx0aW1lQ2xpZW50RXZlbnQgPVxuICB8IFNlc3Npb25VcGRhdGVFdmVudFxuICB8IElucHV0QXVkaW9CdWZmZXJBcHBlbmRFdmVudFxuICB8IElucHV0QXVkaW9CdWZmZXJDb21taXRFdmVudFxuICB8IElucHV0QXVkaW9CdWZmZXJDbGVhckV2ZW50XG4gIHwgQ29udmVyc2F0aW9uSXRlbUNyZWF0ZUV2ZW50XG4gIHwgQ29udmVyc2F0aW9uSXRlbVRydW5jYXRlRXZlbnRcbiAgfCBDb252ZXJzYXRpb25JdGVtRGVsZXRlRXZlbnRcbiAgfCBSZXNwb25zZUNyZWF0ZUV2ZW50XG4gIHwgUmVzcG9uc2VDYW5jZWxFdmVudDtcblxuLyoqXG4gKiBUaGUgcmVzcG9uc2UgcmVzb3VyY2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhbHRpbWVSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSByZXNwb25zZS5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBXaGljaCBjb252ZXJzYXRpb24gdGhlIHJlc3BvbnNlIGlzIGFkZGVkIHRvLCBkZXRlcm1pbmVkIGJ5IHRoZSBgY29udmVyc2F0aW9uYFxuICAgKiBmaWVsZCBpbiB0aGUgYHJlc3BvbnNlLmNyZWF0ZWAgZXZlbnQuIElmIGBhdXRvYCwgdGhlIHJlc3BvbnNlIHdpbGwgYmUgYWRkZWQgdG9cbiAgICogdGhlIGRlZmF1bHQgY29udmVyc2F0aW9uIGFuZCB0aGUgdmFsdWUgb2YgYGNvbnZlcnNhdGlvbl9pZGAgd2lsbCBiZSBhbiBpZCBsaWtlXG4gICAqIGBjb252XzEyMzRgLiBJZiBgbm9uZWAsIHRoZSByZXNwb25zZSB3aWxsIG5vdCBiZSBhZGRlZCB0byBhbnkgY29udmVyc2F0aW9uIGFuZFxuICAgKiB0aGUgdmFsdWUgb2YgYGNvbnZlcnNhdGlvbl9pZGAgd2lsbCBiZSBgbnVsbGAuIElmIHJlc3BvbnNlcyBhcmUgYmVpbmcgdHJpZ2dlcmVkXG4gICAqIGJ5IHNlcnZlciBWQUQsIHRoZSByZXNwb25zZSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBkZWZhdWx0IGNvbnZlcnNhdGlvbiwgdGh1cyB0aGVcbiAgICogYGNvbnZlcnNhdGlvbl9pZGAgd2lsbCBiZSBhbiBpZCBsaWtlIGBjb252XzEyMzRgLlxuICAgKi9cbiAgY29udmVyc2F0aW9uX2lkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBNYXhpbXVtIG51bWJlciBvZiBvdXRwdXQgdG9rZW5zIGZvciBhIHNpbmdsZSBhc3Npc3RhbnQgcmVzcG9uc2UsIGluY2x1c2l2ZSBvZlxuICAgKiB0b29sIGNhbGxzLCB0aGF0IHdhcyB1c2VkIGluIHRoaXMgcmVzcG9uc2UuXG4gICAqL1xuICBtYXhfb3V0cHV0X3Rva2Vucz86IG51bWJlciB8ICdpbmYnO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc2V0IG9mIG1vZGFsaXRpZXMgdGhlIG1vZGVsIHVzZWQgdG8gcmVzcG9uZC4gSWYgdGhlcmUgYXJlIG11bHRpcGxlXG4gICAqIG1vZGFsaXRpZXMsIHRoZSBtb2RlbCB3aWxsIHBpY2sgb25lLCBmb3IgZXhhbXBsZSBpZiBgbW9kYWxpdGllc2AgaXNcbiAgICogYFtcInRleHRcIiwgXCJhdWRpb1wiXWAsIHRoZSBtb2RlbCBjb3VsZCBiZSByZXNwb25kaW5nIGluIGVpdGhlciB0ZXh0IG9yIGF1ZGlvLlxuICAgKi9cbiAgbW9kYWxpdGllcz86IEFycmF5PCd0ZXh0JyB8ICdhdWRpbyc+O1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIG11c3QgYmUgYHJlYWx0aW1lLnJlc3BvbnNlYC5cbiAgICovXG4gIG9iamVjdD86ICdyZWFsdGltZS5yZXNwb25zZSc7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIG91dHB1dCBpdGVtcyBnZW5lcmF0ZWQgYnkgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0PzogQXJyYXk8Q29udmVyc2F0aW9uSXRlbT47XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgb2Ygb3V0cHV0IGF1ZGlvLiBPcHRpb25zIGFyZSBgcGNtMTZgLCBgZzcxMV91bGF3YCwgb3IgYGc3MTFfYWxhd2AuXG4gICAqL1xuICBvdXRwdXRfYXVkaW9fZm9ybWF0PzogJ3BjbTE2JyB8ICdnNzExX3VsYXcnIHwgJ2c3MTFfYWxhdyc7XG5cbiAgLyoqXG4gICAqIFRoZSBmaW5hbCBzdGF0dXMgb2YgdGhlIHJlc3BvbnNlIChgY29tcGxldGVkYCwgYGNhbmNlbGxlZGAsIGBmYWlsZWRgLCBvclxuICAgKiBgaW5jb21wbGV0ZWApLlxuICAgKi9cbiAgc3RhdHVzPzogJ2NvbXBsZXRlZCcgfCAnY2FuY2VsbGVkJyB8ICdmYWlsZWQnIHwgJ2luY29tcGxldGUnO1xuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGRldGFpbHMgYWJvdXQgdGhlIHN0YXR1cy5cbiAgICovXG4gIHN0YXR1c19kZXRhaWxzPzogUmVhbHRpbWVSZXNwb25zZVN0YXR1cztcblxuICAvKipcbiAgICogU2FtcGxpbmcgdGVtcGVyYXR1cmUgZm9yIHRoZSBtb2RlbCwgbGltaXRlZCB0byBbMC42LCAxLjJdLiBEZWZhdWx0cyB0byAwLjguXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcblxuICAvKipcbiAgICogVXNhZ2Ugc3RhdGlzdGljcyBmb3IgdGhlIFJlc3BvbnNlLCB0aGlzIHdpbGwgY29ycmVzcG9uZCB0byBiaWxsaW5nLiBBIFJlYWx0aW1lXG4gICAqIEFQSSBzZXNzaW9uIHdpbGwgbWFpbnRhaW4gYSBjb252ZXJzYXRpb24gY29udGV4dCBhbmQgYXBwZW5kIG5ldyBJdGVtcyB0byB0aGVcbiAgICogQ29udmVyc2F0aW9uLCB0aHVzIG91dHB1dCBmcm9tIHByZXZpb3VzIHR1cm5zICh0ZXh0IGFuZCBhdWRpbyB0b2tlbnMpIHdpbGxcbiAgICogYmVjb21lIHRoZSBpbnB1dCBmb3IgbGF0ZXIgdHVybnMuXG4gICAqL1xuICB1c2FnZT86IFJlYWx0aW1lUmVzcG9uc2VVc2FnZTtcblxuICAvKipcbiAgICogVGhlIHZvaWNlIHRoZSBtb2RlbCB1c2VkIHRvIHJlc3BvbmQuIEN1cnJlbnQgdm9pY2Ugb3B0aW9ucyBhcmUgYGFsbG95YCwgYGFzaGAsXG4gICAqIGBiYWxsYWRgLCBgY29yYWxgLCBgZWNob2AgYHNhZ2VgLCBgc2hpbW1lcmAgYW5kIGB2ZXJzZWAuXG4gICAqL1xuICB2b2ljZT86ICdhbGxveScgfCAnYXNoJyB8ICdiYWxsYWQnIHwgJ2NvcmFsJyB8ICdlY2hvJyB8ICdzYWdlJyB8ICdzaGltbWVyJyB8ICd2ZXJzZSc7XG59XG5cbi8qKlxuICogQWRkaXRpb25hbCBkZXRhaWxzIGFib3V0IHRoZSBzdGF0dXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhbHRpbWVSZXNwb25zZVN0YXR1cyB7XG4gIC8qKlxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHRoZSBlcnJvciB0aGF0IGNhdXNlZCB0aGUgcmVzcG9uc2UgdG8gZmFpbCwgcG9wdWxhdGVkIHdoZW4gdGhlXG4gICAqIGBzdGF0dXNgIGlzIGBmYWlsZWRgLlxuICAgKi9cbiAgZXJyb3I/OiBSZWFsdGltZVJlc3BvbnNlU3RhdHVzLkVycm9yO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVhc29uIHRoZSBSZXNwb25zZSBkaWQgbm90IGNvbXBsZXRlLiBGb3IgYSBgY2FuY2VsbGVkYCBSZXNwb25zZSwgb25lIG9mXG4gICAqIGB0dXJuX2RldGVjdGVkYCAodGhlIHNlcnZlciBWQUQgZGV0ZWN0ZWQgYSBuZXcgc3RhcnQgb2Ygc3BlZWNoKSBvclxuICAgKiBgY2xpZW50X2NhbmNlbGxlZGAgKHRoZSBjbGllbnQgc2VudCBhIGNhbmNlbCBldmVudCkuIEZvciBhbiBgaW5jb21wbGV0ZWBcbiAgICogUmVzcG9uc2UsIG9uZSBvZiBgbWF4X291dHB1dF90b2tlbnNgIG9yIGBjb250ZW50X2ZpbHRlcmAgKHRoZSBzZXJ2ZXItc2lkZSBzYWZldHlcbiAgICogZmlsdGVyIGFjdGl2YXRlZCBhbmQgY3V0IG9mZiB0aGUgcmVzcG9uc2UpLlxuICAgKi9cbiAgcmVhc29uPzogJ3R1cm5fZGV0ZWN0ZWQnIHwgJ2NsaWVudF9jYW5jZWxsZWQnIHwgJ21heF9vdXRwdXRfdG9rZW5zJyB8ICdjb250ZW50X2ZpbHRlcic7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGVycm9yIHRoYXQgY2F1c2VkIHRoZSByZXNwb25zZSB0byBmYWlsLCBjb3JyZXNwb25kaW5nIHdpdGggdGhlXG4gICAqIGBzdGF0dXNgIGZpZWxkIChgY29tcGxldGVkYCwgYGNhbmNlbGxlZGAsIGBpbmNvbXBsZXRlYCwgYGZhaWxlZGApLlxuICAgKi9cbiAgdHlwZT86ICdjb21wbGV0ZWQnIHwgJ2NhbmNlbGxlZCcgfCAnaW5jb21wbGV0ZScgfCAnZmFpbGVkJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZWFsdGltZVJlc3BvbnNlU3RhdHVzIHtcbiAgLyoqXG4gICAqIEEgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yIHRoYXQgY2F1c2VkIHRoZSByZXNwb25zZSB0byBmYWlsLCBwb3B1bGF0ZWQgd2hlbiB0aGVcbiAgICogYHN0YXR1c2AgaXMgYGZhaWxlZGAuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlLCBpZiBhbnkuXG4gICAgICovXG4gICAgY29kZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIGVycm9yLlxuICAgICAqL1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBVc2FnZSBzdGF0aXN0aWNzIGZvciB0aGUgUmVzcG9uc2UsIHRoaXMgd2lsbCBjb3JyZXNwb25kIHRvIGJpbGxpbmcuIEEgUmVhbHRpbWVcbiAqIEFQSSBzZXNzaW9uIHdpbGwgbWFpbnRhaW4gYSBjb252ZXJzYXRpb24gY29udGV4dCBhbmQgYXBwZW5kIG5ldyBJdGVtcyB0byB0aGVcbiAqIENvbnZlcnNhdGlvbiwgdGh1cyBvdXRwdXQgZnJvbSBwcmV2aW91cyB0dXJucyAodGV4dCBhbmQgYXVkaW8gdG9rZW5zKSB3aWxsXG4gKiBiZWNvbWUgdGhlIGlucHV0IGZvciBsYXRlciB0dXJucy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWFsdGltZVJlc3BvbnNlVXNhZ2Uge1xuICAvKipcbiAgICogRGV0YWlscyBhYm91dCB0aGUgaW5wdXQgdG9rZW5zIHVzZWQgaW4gdGhlIFJlc3BvbnNlLlxuICAgKi9cbiAgaW5wdXRfdG9rZW5fZGV0YWlscz86IFJlYWx0aW1lUmVzcG9uc2VVc2FnZS5JbnB1dFRva2VuRGV0YWlscztcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBpbnB1dCB0b2tlbnMgdXNlZCBpbiB0aGUgUmVzcG9uc2UsIGluY2x1ZGluZyB0ZXh0IGFuZCBhdWRpb1xuICAgKiB0b2tlbnMuXG4gICAqL1xuICBpbnB1dF90b2tlbnM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIERldGFpbHMgYWJvdXQgdGhlIG91dHB1dCB0b2tlbnMgdXNlZCBpbiB0aGUgUmVzcG9uc2UuXG4gICAqL1xuICBvdXRwdXRfdG9rZW5fZGV0YWlscz86IFJlYWx0aW1lUmVzcG9uc2VVc2FnZS5PdXRwdXRUb2tlbkRldGFpbHM7XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2Ygb3V0cHV0IHRva2VucyBzZW50IGluIHRoZSBSZXNwb25zZSwgaW5jbHVkaW5nIHRleHQgYW5kIGF1ZGlvXG4gICAqIHRva2Vucy5cbiAgICovXG4gIG91dHB1dF90b2tlbnM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBSZXNwb25zZSBpbmNsdWRpbmcgaW5wdXQgYW5kIG91dHB1dCB0ZXh0IGFuZFxuICAgKiBhdWRpbyB0b2tlbnMuXG4gICAqL1xuICB0b3RhbF90b2tlbnM/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUmVhbHRpbWVSZXNwb25zZVVzYWdlIHtcbiAgLyoqXG4gICAqIERldGFpbHMgYWJvdXQgdGhlIGlucHV0IHRva2VucyB1c2VkIGluIHRoZSBSZXNwb25zZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgSW5wdXRUb2tlbkRldGFpbHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgYXVkaW8gdG9rZW5zIHVzZWQgaW4gdGhlIFJlc3BvbnNlLlxuICAgICAqL1xuICAgIGF1ZGlvX3Rva2Vucz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgY2FjaGVkIHRva2VucyB1c2VkIGluIHRoZSBSZXNwb25zZS5cbiAgICAgKi9cbiAgICBjYWNoZWRfdG9rZW5zPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiB0ZXh0IHRva2VucyB1c2VkIGluIHRoZSBSZXNwb25zZS5cbiAgICAgKi9cbiAgICB0ZXh0X3Rva2Vucz86IG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRhaWxzIGFib3V0IHRoZSBvdXRwdXQgdG9rZW5zIHVzZWQgaW4gdGhlIFJlc3BvbnNlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBPdXRwdXRUb2tlbkRldGFpbHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgYXVkaW8gdG9rZW5zIHVzZWQgaW4gdGhlIFJlc3BvbnNlLlxuICAgICAqL1xuICAgIGF1ZGlvX3Rva2Vucz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgdGV4dCB0b2tlbnMgdXNlZCBpbiB0aGUgUmVzcG9uc2UuXG4gICAgICovXG4gICAgdGV4dF90b2tlbnM/OiBudW1iZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBBbGwgZXZlbnRzIHRoYXQgdGhlIFJlYWx0aW1lIEFQSSBjYW4gc2VuZCBiYWNrXG4gKi9cbmV4cG9ydCB0eXBlIFJlYWx0aW1lU2VydmVyRXZlbnQgPVxuICB8IEVycm9yRXZlbnRcbiAgfCBTZXNzaW9uQ3JlYXRlZEV2ZW50XG4gIHwgU2Vzc2lvblVwZGF0ZWRFdmVudFxuICB8IENvbnZlcnNhdGlvbkNyZWF0ZWRFdmVudFxuICB8IElucHV0QXVkaW9CdWZmZXJDb21taXR0ZWRFdmVudFxuICB8IElucHV0QXVkaW9CdWZmZXJDbGVhcmVkRXZlbnRcbiAgfCBJbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RhcnRlZEV2ZW50XG4gIHwgSW5wdXRBdWRpb0J1ZmZlclNwZWVjaFN0b3BwZWRFdmVudFxuICB8IENvbnZlcnNhdGlvbkl0ZW1DcmVhdGVkRXZlbnRcbiAgfCBDb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25Db21wbGV0ZWRFdmVudFxuICB8IENvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gIHwgQ29udmVyc2F0aW9uSXRlbVRydW5jYXRlZEV2ZW50XG4gIHwgQ29udmVyc2F0aW9uSXRlbURlbGV0ZWRFdmVudFxuICB8IFJlc3BvbnNlQ3JlYXRlZEV2ZW50XG4gIHwgUmVzcG9uc2VEb25lRXZlbnRcbiAgfCBSZXNwb25zZU91dHB1dEl0ZW1BZGRlZEV2ZW50XG4gIHwgUmVzcG9uc2VPdXRwdXRJdGVtRG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VDb250ZW50UGFydEFkZGVkRXZlbnRcbiAgfCBSZXNwb25zZUNvbnRlbnRQYXJ0RG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VUZXh0RGVsdGFFdmVudFxuICB8IFJlc3BvbnNlVGV4dERvbmVFdmVudFxuICB8IFJlc3BvbnNlQXVkaW9UcmFuc2NyaXB0RGVsdGFFdmVudFxuICB8IFJlc3BvbnNlQXVkaW9UcmFuc2NyaXB0RG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VBdWRpb0RlbHRhRXZlbnRcbiAgfCBSZXNwb25zZUF1ZGlvRG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEZWx0YUV2ZW50XG4gIHwgUmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEb25lRXZlbnRcbiAgfCBSYXRlTGltaXRzVXBkYXRlZEV2ZW50O1xuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gdGhlIG1vZGVsLWdlbmVyYXRlZCBhdWRpbyBpcyB1cGRhdGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQXVkaW9EZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IGluIHRoZSBpdGVtJ3MgY29udGVudCBhcnJheS5cbiAgICovXG4gIGNvbnRlbnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQmFzZTY0LWVuY29kZWQgYXVkaW8gZGF0YSBkZWx0YS5cbiAgICovXG4gIGRlbHRhOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgaXRlbS5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSByZXNwb25zZS5cbiAgICovXG4gIHJlc3BvbnNlX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGByZXNwb25zZS5hdWRpby5kZWx0YWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuYXVkaW8uZGVsdGEnO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gdGhlIG1vZGVsLWdlbmVyYXRlZCBhdWRpbyBpcyBkb25lLiBBbHNvIGVtaXR0ZWQgd2hlbiBhIFJlc3BvbnNlIGlzXG4gKiBpbnRlcnJ1cHRlZCwgaW5jb21wbGV0ZSwgb3IgY2FuY2VsbGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQXVkaW9Eb25lRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgaW4gdGhlIGl0ZW0ncyBjb250ZW50IGFycmF5LlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICByZXNwb25zZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UuYXVkaW8uZG9uZWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuYXVkaW8uZG9uZSc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiB0aGUgbW9kZWwtZ2VuZXJhdGVkIHRyYW5zY3JpcHRpb24gb2YgYXVkaW8gb3V0cHV0IGlzIHVwZGF0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VBdWRpb1RyYW5zY3JpcHREZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IGluIHRoZSBpdGVtJ3MgY29udGVudCBhcnJheS5cbiAgICovXG4gIGNvbnRlbnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHRyYW5zY3JpcHQgZGVsdGEuXG4gICAqL1xuICBkZWx0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICByZXNwb25zZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UuYXVkaW9fdHJhbnNjcmlwdC5kZWx0YWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuYXVkaW9fdHJhbnNjcmlwdC5kZWx0YSc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiB0aGUgbW9kZWwtZ2VuZXJhdGVkIHRyYW5zY3JpcHRpb24gb2YgYXVkaW8gb3V0cHV0IGlzIGRvbmVcbiAqIHN0cmVhbWluZy4gQWxzbyBlbWl0dGVkIHdoZW4gYSBSZXNwb25zZSBpcyBpbnRlcnJ1cHRlZCwgaW5jb21wbGV0ZSwgb3JcbiAqIGNhbmNlbGxlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCBpbiB0aGUgaXRlbSdzIGNvbnRlbnQgYXJyYXkuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgaXRlbS5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSByZXNwb25zZS5cbiAgICovXG4gIHJlc3BvbnNlX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBmaW5hbCB0cmFuc2NyaXB0IG9mIHRoZSBhdWRpby5cbiAgICovXG4gIHRyYW5zY3JpcHQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLmF1ZGlvX3RyYW5zY3JpcHQuZG9uZWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuYXVkaW9fdHJhbnNjcmlwdC5kb25lJztcbn1cblxuLyoqXG4gKiBTZW5kIHRoaXMgZXZlbnQgdG8gY2FuY2VsIGFuIGluLXByb2dyZXNzIHJlc3BvbnNlLiBUaGUgc2VydmVyIHdpbGwgcmVzcG9uZCB3aXRoXG4gKiBhIGByZXNwb25zZS5jYW5jZWxsZWRgIGV2ZW50IG9yIGFuIGVycm9yIGlmIHRoZXJlIGlzIG5vIHJlc3BvbnNlIHRvIGNhbmNlbC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNhbmNlbEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGByZXNwb25zZS5jYW5jZWxgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmNhbmNlbCc7XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGNsaWVudC1nZW5lcmF0ZWQgSUQgdXNlZCB0byBpZGVudGlmeSB0aGlzIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lmaWMgcmVzcG9uc2UgSUQgdG8gY2FuY2VsIC0gaWYgbm90IHByb3ZpZGVkLCB3aWxsIGNhbmNlbCBhbiBpbi1wcm9ncmVzc1xuICAgKiByZXNwb25zZSBpbiB0aGUgZGVmYXVsdCBjb252ZXJzYXRpb24uXG4gICAqL1xuICByZXNwb25zZV9pZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGEgbmV3IGNvbnRlbnQgcGFydCBpcyBhZGRlZCB0byBhbiBhc3Npc3RhbnQgbWVzc2FnZSBpdGVtIGR1cmluZ1xuICogcmVzcG9uc2UgZ2VuZXJhdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNvbnRlbnRQYXJ0QWRkZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCBpbiB0aGUgaXRlbSdzIGNvbnRlbnQgYXJyYXkuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgaXRlbSB0byB3aGljaCB0aGUgY29udGVudCBwYXJ0IHdhcyBhZGRlZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgcGFydCB0aGF0IHdhcyBhZGRlZC5cbiAgICovXG4gIHBhcnQ6IFJlc3BvbnNlQ29udGVudFBhcnRBZGRlZEV2ZW50LlBhcnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICByZXNwb25zZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UuY29udGVudF9wYXJ0LmFkZGVkYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jb250ZW50X3BhcnQuYWRkZWQnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlc3BvbnNlQ29udGVudFBhcnRBZGRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IHBhcnQgdGhhdCB3YXMgYWRkZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFBhcnQge1xuICAgIC8qKlxuICAgICAqIEJhc2U2NC1lbmNvZGVkIGF1ZGlvIGRhdGEgKGlmIHR5cGUgaXMgXCJhdWRpb1wiKS5cbiAgICAgKi9cbiAgICBhdWRpbz86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IGNvbnRlbnQgKGlmIHR5cGUgaXMgXCJ0ZXh0XCIpLlxuICAgICAqL1xuICAgIHRleHQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNjcmlwdCBvZiB0aGUgYXVkaW8gKGlmIHR5cGUgaXMgXCJhdWRpb1wiKS5cbiAgICAgKi9cbiAgICB0cmFuc2NyaXB0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgdHlwZSAoXCJ0ZXh0XCIsIFwiYXVkaW9cIikuXG4gICAgICovXG4gICAgdHlwZT86ICd0ZXh0JyB8ICdhdWRpbyc7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGEgY29udGVudCBwYXJ0IGlzIGRvbmUgc3RyZWFtaW5nIGluIGFuIGFzc2lzdGFudCBtZXNzYWdlIGl0ZW0uXG4gKiBBbHNvIGVtaXR0ZWQgd2hlbiBhIFJlc3BvbnNlIGlzIGludGVycnVwdGVkLCBpbmNvbXBsZXRlLCBvciBjYW5jZWxsZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb250ZW50UGFydERvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCBpbiB0aGUgaXRlbSdzIGNvbnRlbnQgYXJyYXkuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgaXRlbS5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgcGFydCB0aGF0IGlzIGRvbmUuXG4gICAqL1xuICBwYXJ0OiBSZXNwb25zZUNvbnRlbnRQYXJ0RG9uZUV2ZW50LlBhcnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICByZXNwb25zZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UuY29udGVudF9wYXJ0LmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmNvbnRlbnRfcGFydC5kb25lJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZUNvbnRlbnRQYXJ0RG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IHBhcnQgdGhhdCBpcyBkb25lLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBQYXJ0IHtcbiAgICAvKipcbiAgICAgKiBCYXNlNjQtZW5jb2RlZCBhdWRpbyBkYXRhIChpZiB0eXBlIGlzIFwiYXVkaW9cIikuXG4gICAgICovXG4gICAgYXVkaW8/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBjb250ZW50IChpZiB0eXBlIGlzIFwidGV4dFwiKS5cbiAgICAgKi9cbiAgICB0ZXh0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zY3JpcHQgb2YgdGhlIGF1ZGlvIChpZiB0eXBlIGlzIFwiYXVkaW9cIikuXG4gICAgICovXG4gICAgdHJhbnNjcmlwdD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb250ZW50IHR5cGUgKFwidGV4dFwiLCBcImF1ZGlvXCIpLlxuICAgICAqL1xuICAgIHR5cGU/OiAndGV4dCcgfCAnYXVkaW8nO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBldmVudCBpbnN0cnVjdHMgdGhlIHNlcnZlciB0byBjcmVhdGUgYSBSZXNwb25zZSwgd2hpY2ggbWVhbnMgdHJpZ2dlcmluZ1xuICogbW9kZWwgaW5mZXJlbmNlLiBXaGVuIGluIFNlcnZlciBWQUQgbW9kZSwgdGhlIHNlcnZlciB3aWxsIGNyZWF0ZSBSZXNwb25zZXNcbiAqIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogQSBSZXNwb25zZSB3aWxsIGluY2x1ZGUgYXQgbGVhc3Qgb25lIEl0ZW0sIGFuZCBtYXkgaGF2ZSB0d28sIGluIHdoaWNoIGNhc2UgdGhlXG4gKiBzZWNvbmQgd2lsbCBiZSBhIGZ1bmN0aW9uIGNhbGwuIFRoZXNlIEl0ZW1zIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGNvbnZlcnNhdGlvblxuICogaGlzdG9yeS5cbiAqXG4gKiBUaGUgc2VydmVyIHdpbGwgcmVzcG9uZCB3aXRoIGEgYHJlc3BvbnNlLmNyZWF0ZWRgIGV2ZW50LCBldmVudHMgZm9yIEl0ZW1zIGFuZFxuICogY29udGVudCBjcmVhdGVkLCBhbmQgZmluYWxseSBhIGByZXNwb25zZS5kb25lYCBldmVudCB0byBpbmRpY2F0ZSB0aGUgUmVzcG9uc2UgaXNcbiAqIGNvbXBsZXRlLlxuICpcbiAqIFRoZSBgcmVzcG9uc2UuY3JlYXRlYCBldmVudCBpbmNsdWRlcyBpbmZlcmVuY2UgY29uZmlndXJhdGlvbiBsaWtlXG4gKiBgaW5zdHJ1Y3Rpb25zYCwgYW5kIGB0ZW1wZXJhdHVyZWAuIFRoZXNlIGZpZWxkcyB3aWxsIG92ZXJyaWRlIHRoZSBTZXNzaW9uJ3NcbiAqIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgUmVzcG9uc2Ugb25seS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNyZWF0ZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGByZXNwb25zZS5jcmVhdGVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmNyZWF0ZSc7XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGNsaWVudC1nZW5lcmF0ZWQgSUQgdXNlZCB0byBpZGVudGlmeSB0aGlzIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBSZWFsdGltZSByZXNwb25zZSB3aXRoIHRoZXNlIHBhcmFtZXRlcnNcbiAgICovXG4gIHJlc3BvbnNlPzogUmVzcG9uc2VDcmVhdGVFdmVudC5SZXNwb25zZTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZUNyZWF0ZUV2ZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBSZWFsdGltZSByZXNwb25zZSB3aXRoIHRoZXNlIHBhcmFtZXRlcnNcbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2Uge1xuICAgIC8qKlxuICAgICAqIENvbnRyb2xzIHdoaWNoIGNvbnZlcnNhdGlvbiB0aGUgcmVzcG9uc2UgaXMgYWRkZWQgdG8uIEN1cnJlbnRseSBzdXBwb3J0cyBgYXV0b2BcbiAgICAgKiBhbmQgYG5vbmVgLCB3aXRoIGBhdXRvYCBhcyB0aGUgZGVmYXVsdCB2YWx1ZS4gVGhlIGBhdXRvYCB2YWx1ZSBtZWFucyB0aGF0IHRoZVxuICAgICAqIGNvbnRlbnRzIG9mIHRoZSByZXNwb25zZSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBkZWZhdWx0IGNvbnZlcnNhdGlvbi4gU2V0IHRoaXMgdG9cbiAgICAgKiBgbm9uZWAgdG8gY3JlYXRlIGFuIG91dC1vZi1iYW5kIHJlc3BvbnNlIHdoaWNoIHdpbGwgbm90IGFkZCBpdGVtcyB0byBkZWZhdWx0XG4gICAgICogY29udmVyc2F0aW9uLlxuICAgICAqL1xuICAgIGNvbnZlcnNhdGlvbj86IChzdHJpbmcgJiB7fSkgfCAnYXV0bycgfCAnbm9uZSc7XG5cbiAgICAvKipcbiAgICAgKiBJbnB1dCBpdGVtcyB0byBpbmNsdWRlIGluIHRoZSBwcm9tcHQgZm9yIHRoZSBtb2RlbC4gVXNpbmcgdGhpcyBmaWVsZCBjcmVhdGVzIGFcbiAgICAgKiBuZXcgY29udGV4dCBmb3IgdGhpcyBSZXNwb25zZSBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBkZWZhdWx0IGNvbnZlcnNhdGlvbi4gQW5cbiAgICAgKiBlbXB0eSBhcnJheSBgW11gIHdpbGwgY2xlYXIgdGhlIGNvbnRleHQgZm9yIHRoaXMgUmVzcG9uc2UuIE5vdGUgdGhhdCB0aGlzIGNhblxuICAgICAqIGluY2x1ZGUgcmVmZXJlbmNlcyB0byBpdGVtcyBmcm9tIHRoZSBkZWZhdWx0IGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBpbnB1dD86IEFycmF5PFJlYWx0aW1lQVBJLkNvbnZlcnNhdGlvbkl0ZW1XaXRoUmVmZXJlbmNlPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHN5c3RlbSBpbnN0cnVjdGlvbnMgKGkuZS4gc3lzdGVtIG1lc3NhZ2UpIHByZXBlbmRlZCB0byBtb2RlbCBjYWxscy5cbiAgICAgKiBUaGlzIGZpZWxkIGFsbG93cyB0aGUgY2xpZW50IHRvIGd1aWRlIHRoZSBtb2RlbCBvbiBkZXNpcmVkIHJlc3BvbnNlcy4gVGhlIG1vZGVsXG4gICAgICogY2FuIGJlIGluc3RydWN0ZWQgb24gcmVzcG9uc2UgY29udGVudCBhbmQgZm9ybWF0LCAoZS5nLiBcImJlIGV4dHJlbWVseSBzdWNjaW5jdFwiLFxuICAgICAqIFwiYWN0IGZyaWVuZGx5XCIsIFwiaGVyZSBhcmUgZXhhbXBsZXMgb2YgZ29vZCByZXNwb25zZXNcIikgYW5kIG9uIGF1ZGlvIGJlaGF2aW9yXG4gICAgICogKGUuZy4gXCJ0YWxrIHF1aWNrbHlcIiwgXCJpbmplY3QgZW1vdGlvbiBpbnRvIHlvdXIgdm9pY2VcIiwgXCJsYXVnaCBmcmVxdWVudGx5XCIpLiBUaGVcbiAgICAgKiBpbnN0cnVjdGlvbnMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIGZvbGxvd2VkIGJ5IHRoZSBtb2RlbCwgYnV0IHRoZXkgcHJvdmlkZVxuICAgICAqIGd1aWRhbmNlIHRvIHRoZSBtb2RlbCBvbiB0aGUgZGVzaXJlZCBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGUgc2VydmVyIHNldHMgZGVmYXVsdCBpbnN0cnVjdGlvbnMgd2hpY2ggd2lsbCBiZSB1c2VkIGlmIHRoaXMgZmllbGRcbiAgICAgKiBpcyBub3Qgc2V0IGFuZCBhcmUgdmlzaWJsZSBpbiB0aGUgYHNlc3Npb24uY3JlYXRlZGAgZXZlbnQgYXQgdGhlIHN0YXJ0IG9mIHRoZVxuICAgICAqIHNlc3Npb24uXG4gICAgICovXG4gICAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogTWF4aW11bSBudW1iZXIgb2Ygb3V0cHV0IHRva2VucyBmb3IgYSBzaW5nbGUgYXNzaXN0YW50IHJlc3BvbnNlLCBpbmNsdXNpdmUgb2ZcbiAgICAgKiB0b29sIGNhbGxzLiBQcm92aWRlIGFuIGludGVnZXIgYmV0d2VlbiAxIGFuZCA0MDk2IHRvIGxpbWl0IG91dHB1dCB0b2tlbnMsIG9yXG4gICAgICogYGluZmAgZm9yIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSB0b2tlbnMgZm9yIGEgZ2l2ZW4gbW9kZWwuIERlZmF1bHRzIHRvIGBpbmZgLlxuICAgICAqL1xuICAgIG1heF9yZXNwb25zZV9vdXRwdXRfdG9rZW5zPzogbnVtYmVyIHwgJ2luZic7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICAgKlxuICAgICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICAgKi9cbiAgICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2V0IG9mIG1vZGFsaXRpZXMgdGhlIG1vZGVsIGNhbiByZXNwb25kIHdpdGguIFRvIGRpc2FibGUgYXVkaW8sIHNldCB0aGlzIHRvXG4gICAgICogW1widGV4dFwiXS5cbiAgICAgKi9cbiAgICBtb2RhbGl0aWVzPzogQXJyYXk8J3RleHQnIHwgJ2F1ZGlvJz47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9ybWF0IG9mIG91dHB1dCBhdWRpby4gT3B0aW9ucyBhcmUgYHBjbTE2YCwgYGc3MTFfdWxhd2AsIG9yIGBnNzExX2FsYXdgLlxuICAgICAqL1xuICAgIG91dHB1dF9hdWRpb19mb3JtYXQ/OiAncGNtMTYnIHwgJ2c3MTFfdWxhdycgfCAnZzcxMV9hbGF3JztcblxuICAgIC8qKlxuICAgICAqIFNhbXBsaW5nIHRlbXBlcmF0dXJlIGZvciB0aGUgbW9kZWwsIGxpbWl0ZWQgdG8gWzAuNiwgMS4yXS4gRGVmYXVsdHMgdG8gMC44LlxuICAgICAqL1xuICAgIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogSG93IHRoZSBtb2RlbCBjaG9vc2VzIHRvb2xzLiBPcHRpb25zIGFyZSBgYXV0b2AsIGBub25lYCwgYHJlcXVpcmVkYCwgb3Igc3BlY2lmeVxuICAgICAqIGEgZnVuY3Rpb24sIGxpa2UgYHtcInR5cGVcIjogXCJmdW5jdGlvblwiLCBcImZ1bmN0aW9uXCI6IHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifX1gLlxuICAgICAqL1xuICAgIHRvb2xfY2hvaWNlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVG9vbHMgKGZ1bmN0aW9ucykgYXZhaWxhYmxlIHRvIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICB0b29scz86IEFycmF5PFJlc3BvbnNlLlRvb2w+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZvaWNlIHRoZSBtb2RlbCB1c2VzIHRvIHJlc3BvbmQuIFZvaWNlIGNhbm5vdCBiZSBjaGFuZ2VkIGR1cmluZyB0aGUgc2Vzc2lvblxuICAgICAqIG9uY2UgdGhlIG1vZGVsIGhhcyByZXNwb25kZWQgd2l0aCBhdWRpbyBhdCBsZWFzdCBvbmNlLiBDdXJyZW50IHZvaWNlIG9wdGlvbnMgYXJlXG4gICAgICogYGFsbG95YCwgYGFzaGAsIGBiYWxsYWRgLCBgY29yYWxgLCBgZWNob2AgYHNhZ2VgLCBgc2hpbW1lcmAgYW5kIGB2ZXJzZWAuXG4gICAgICovXG4gICAgdm9pY2U/OiAnYWxsb3knIHwgJ2FzaCcgfCAnYmFsbGFkJyB8ICdjb3JhbCcgfCAnZWNobycgfCAnc2FnZScgfCAnc2hpbW1lcicgfCAndmVyc2UnO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZSB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBUb29sIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBmdW5jdGlvbiwgaW5jbHVkaW5nIGd1aWRhbmNlIG9uIHdoZW4gYW5kIGhvdyB0byBjYWxsIGl0LFxuICAgICAgICogYW5kIGd1aWRhbmNlIGFib3V0IHdoYXQgdG8gdGVsbCB0aGUgdXNlciB3aGVuIGNhbGxpbmcgKGlmIGFueXRoaW5nKS5cbiAgICAgICAqL1xuICAgICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICovXG4gICAgICBuYW1lPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFBhcmFtZXRlcnMgb2YgdGhlIGZ1bmN0aW9uIGluIEpTT04gU2NoZW1hLlxuICAgICAgICovXG4gICAgICBwYXJhbWV0ZXJzPzogdW5rbm93bjtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbCwgaS5lLiBgZnVuY3Rpb25gLlxuICAgICAgICovXG4gICAgICB0eXBlPzogJ2Z1bmN0aW9uJztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGEgbmV3IFJlc3BvbnNlIGlzIGNyZWF0ZWQuIFRoZSBmaXJzdCBldmVudCBvZiByZXNwb25zZSBjcmVhdGlvbixcbiAqIHdoZXJlIHRoZSByZXNwb25zZSBpcyBpbiBhbiBpbml0aWFsIHN0YXRlIG9mIGBpbl9wcm9ncmVzc2AuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDcmVhdGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHJlc3BvbnNlIHJlc291cmNlLlxuICAgKi9cbiAgcmVzcG9uc2U6IFJlYWx0aW1lUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGByZXNwb25zZS5jcmVhdGVkYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jcmVhdGVkJztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGEgUmVzcG9uc2UgaXMgZG9uZSBzdHJlYW1pbmcuIEFsd2F5cyBlbWl0dGVkLCBubyBtYXR0ZXIgdGhlIGZpbmFsXG4gKiBzdGF0ZS4gVGhlIFJlc3BvbnNlIG9iamVjdCBpbmNsdWRlZCBpbiB0aGUgYHJlc3BvbnNlLmRvbmVgIGV2ZW50IHdpbGwgaW5jbHVkZVxuICogYWxsIG91dHB1dCBJdGVtcyBpbiB0aGUgUmVzcG9uc2UgYnV0IHdpbGwgb21pdCB0aGUgcmF3IGF1ZGlvIGRhdGEuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VEb25lRXZlbnQge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHJlc3BvbnNlIHJlc291cmNlLlxuICAgKi9cbiAgcmVzcG9uc2U6IFJlYWx0aW1lUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGByZXNwb25zZS5kb25lYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5kb25lJztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIHRoZSBtb2RlbC1nZW5lcmF0ZWQgZnVuY3Rpb24gY2FsbCBhcmd1bWVudHMgYXJlIHVwZGF0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZnVuY3Rpb24gY2FsbC5cbiAgICovXG4gIGNhbGxfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGFyZ3VtZW50cyBkZWx0YSBhcyBhIEpTT04gc3RyaW5nLlxuICAgKi9cbiAgZGVsdGE6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBmdW5jdGlvbiBjYWxsIGl0ZW0uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICByZXNwb25zZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZGVsdGFgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIHRoZSBtb2RlbC1nZW5lcmF0ZWQgZnVuY3Rpb24gY2FsbCBhcmd1bWVudHMgYXJlIGRvbmUgc3RyZWFtaW5nLlxuICogQWxzbyBlbWl0dGVkIHdoZW4gYSBSZXNwb25zZSBpcyBpbnRlcnJ1cHRlZCwgaW5jb21wbGV0ZSwgb3IgY2FuY2VsbGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBmaW5hbCBhcmd1bWVudHMgYXMgYSBKU09OIHN0cmluZy5cbiAgICovXG4gIGFyZ3VtZW50czogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGZ1bmN0aW9uIGNhbGwuXG4gICAqL1xuICBjYWxsX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZnVuY3Rpb24gY2FsbCBpdGVtLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIGluIHRoZSByZXNwb25zZS5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRvbmUnO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gYSBuZXcgSXRlbSBpcyBjcmVhdGVkIGR1cmluZyBSZXNwb25zZSBnZW5lcmF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlT3V0cHV0SXRlbUFkZGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGl0ZW0gdG8gYWRkIHRvIHRoZSBjb252ZXJzYXRpb24uXG4gICAqL1xuICBpdGVtOiBDb252ZXJzYXRpb25JdGVtO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIGluIHRoZSBSZXNwb25zZS5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFJlc3BvbnNlIHRvIHdoaWNoIHRoZSBpdGVtIGJlbG9uZ3MuXG4gICAqL1xuICByZXNwb25zZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2Uub3V0cHV0X2l0ZW0uYWRkZWRgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkJztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGFuIEl0ZW0gaXMgZG9uZSBzdHJlYW1pbmcuIEFsc28gZW1pdHRlZCB3aGVuIGEgUmVzcG9uc2UgaXNcbiAqIGludGVycnVwdGVkLCBpbmNvbXBsZXRlLCBvciBjYW5jZWxsZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VPdXRwdXRJdGVtRG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpdGVtIHRvIGFkZCB0byB0aGUgY29udmVyc2F0aW9uLlxuICAgKi9cbiAgaXRlbTogQ29udmVyc2F0aW9uSXRlbTtcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSBpbiB0aGUgUmVzcG9uc2UuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBSZXNwb25zZSB0byB3aGljaCB0aGUgaXRlbSBiZWxvbmdzLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmUnO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gdGhlIHRleHQgdmFsdWUgb2YgYSBcInRleHRcIiBjb250ZW50IHBhcnQgaXMgdXBkYXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZVRleHREZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IGluIHRoZSBpdGVtJ3MgY29udGVudCBhcnJheS5cbiAgICovXG4gIGNvbnRlbnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHRleHQgZGVsdGEuXG4gICAqL1xuICBkZWx0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICByZXNwb25zZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UudGV4dC5kZWx0YWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UudGV4dC5kZWx0YSc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiB0aGUgdGV4dCB2YWx1ZSBvZiBhIFwidGV4dFwiIGNvbnRlbnQgcGFydCBpcyBkb25lIHN0cmVhbWluZy4gQWxzb1xuICogZW1pdHRlZCB3aGVuIGEgUmVzcG9uc2UgaXMgaW50ZXJydXB0ZWQsIGluY29tcGxldGUsIG9yIGNhbmNlbGxlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZVRleHREb25lRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgaW4gdGhlIGl0ZW0ncyBjb250ZW50IGFycmF5LlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICByZXNwb25zZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZmluYWwgdGV4dCBjb250ZW50LlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UudGV4dC5kb25lYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS50ZXh0LmRvbmUnO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gYSBTZXNzaW9uIGlzIGNyZWF0ZWQuIEVtaXR0ZWQgYXV0b21hdGljYWxseSB3aGVuIGEgbmV3IGNvbm5lY3Rpb25cbiAqIGlzIGVzdGFibGlzaGVkIGFzIHRoZSBmaXJzdCBzZXJ2ZXIgZXZlbnQuIFRoaXMgZXZlbnQgd2lsbCBjb250YWluIHRoZSBkZWZhdWx0XG4gKiBTZXNzaW9uIGNvbmZpZ3VyYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbkNyZWF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBSZWFsdGltZSBzZXNzaW9uIG9iamVjdCBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgc2Vzc2lvbjogU2Vzc2lvbnNBUEkuU2Vzc2lvbjtcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHNlc3Npb24uY3JlYXRlZGAuXG4gICAqL1xuICB0eXBlOiAnc2Vzc2lvbi5jcmVhdGVkJztcbn1cblxuLyoqXG4gKiBTZW5kIHRoaXMgZXZlbnQgdG8gdXBkYXRlIHRoZSBzZXNzaW9uXHUyMDE5cyBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uIFRoZSBjbGllbnQgbWF5XG4gKiBzZW5kIHRoaXMgZXZlbnQgYXQgYW55IHRpbWUgdG8gdXBkYXRlIGFueSBmaWVsZCwgZXhjZXB0IGZvciBgdm9pY2VgLiBIb3dldmVyLFxuICogbm90ZSB0aGF0IG9uY2UgYSBzZXNzaW9uIGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGggYSBwYXJ0aWN1bGFyIGBtb2RlbGAsIGl0XG4gKiBjYW5cdTIwMTl0IGJlIGNoYW5nZWQgdG8gYW5vdGhlciBtb2RlbCB1c2luZyBgc2Vzc2lvbi51cGRhdGVgLlxuICpcbiAqIFdoZW4gdGhlIHNlcnZlciByZWNlaXZlcyBhIGBzZXNzaW9uLnVwZGF0ZWAsIGl0IHdpbGwgcmVzcG9uZCB3aXRoIGFcbiAqIGBzZXNzaW9uLnVwZGF0ZWRgIGV2ZW50IHNob3dpbmcgdGhlIGZ1bGwsIGVmZmVjdGl2ZSBjb25maWd1cmF0aW9uLiBPbmx5IHRoZVxuICogZmllbGRzIHRoYXQgYXJlIHByZXNlbnQgYXJlIHVwZGF0ZWQuIFRvIGNsZWFyIGEgZmllbGQgbGlrZSBgaW5zdHJ1Y3Rpb25zYCwgcGFzc1xuICogYW4gZW1wdHkgc3RyaW5nLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb25VcGRhdGVFdmVudCB7XG4gIC8qKlxuICAgKiBSZWFsdGltZSBzZXNzaW9uIG9iamVjdCBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgc2Vzc2lvbjogU2Vzc2lvblVwZGF0ZUV2ZW50LlNlc3Npb247XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBzZXNzaW9uLnVwZGF0ZWAuXG4gICAqL1xuICB0eXBlOiAnc2Vzc2lvbi51cGRhdGUnO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjbGllbnQtZ2VuZXJhdGVkIElEIHVzZWQgdG8gaWRlbnRpZnkgdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFNlc3Npb25VcGRhdGVFdmVudCB7XG4gIC8qKlxuICAgKiBSZWFsdGltZSBzZXNzaW9uIG9iamVjdCBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZm9ybWF0IG9mIGlucHV0IGF1ZGlvLiBPcHRpb25zIGFyZSBgcGNtMTZgLCBgZzcxMV91bGF3YCwgb3IgYGc3MTFfYWxhd2AuIEZvclxuICAgICAqIGBwY20xNmAsIGlucHV0IGF1ZGlvIG11c3QgYmUgMTYtYml0IFBDTSBhdCBhIDI0a0h6IHNhbXBsZSByYXRlLCBzaW5nbGUgY2hhbm5lbFxuICAgICAqIChtb25vKSwgYW5kIGxpdHRsZS1lbmRpYW4gYnl0ZSBvcmRlci5cbiAgICAgKi9cbiAgICBpbnB1dF9hdWRpb19mb3JtYXQ/OiAncGNtMTYnIHwgJ2c3MTFfdWxhdycgfCAnZzcxMV9hbGF3JztcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIGlucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24sIGRlZmF1bHRzIHRvIG9mZiBhbmQgY2FuIGJlIHNldCB0b1xuICAgICAqIGBudWxsYCB0byB0dXJuIG9mZiBvbmNlIG9uLiBJbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uIGlzIG5vdCBuYXRpdmUgdG8gdGhlXG4gICAgICogbW9kZWwsIHNpbmNlIHRoZSBtb2RlbCBjb25zdW1lcyBhdWRpbyBkaXJlY3RseS4gVHJhbnNjcmlwdGlvbiBydW5zXG4gICAgICogYXN5bmNocm9ub3VzbHkgdGhyb3VnaFxuICAgICAqIFtPcGVuQUkgV2hpc3BlciB0cmFuc2NyaXB0aW9uXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2F1ZGlvL2NyZWF0ZVRyYW5zY3JpcHRpb24pXG4gICAgICogYW5kIHNob3VsZCBiZSB0cmVhdGVkIGFzIHJvdWdoIGd1aWRhbmNlIHJhdGhlciB0aGFuIHRoZSByZXByZXNlbnRhdGlvblxuICAgICAqIHVuZGVyc3Rvb2QgYnkgdGhlIG1vZGVsLiBUaGUgY2xpZW50IGNhbiBvcHRpb25hbGx5IHNldCB0aGUgbGFuZ3VhZ2UgYW5kIHByb21wdFxuICAgICAqIGZvciB0cmFuc2NyaXB0aW9uLCB0aGVzZSBmaWVsZHMgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIFdoaXNwZXIgQVBJLlxuICAgICAqL1xuICAgIGlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb24/OiBTZXNzaW9uLklucHV0QXVkaW9UcmFuc2NyaXB0aW9uO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc3lzdGVtIGluc3RydWN0aW9ucyAoaS5lLiBzeXN0ZW0gbWVzc2FnZSkgcHJlcGVuZGVkIHRvIG1vZGVsIGNhbGxzLlxuICAgICAqIFRoaXMgZmllbGQgYWxsb3dzIHRoZSBjbGllbnQgdG8gZ3VpZGUgdGhlIG1vZGVsIG9uIGRlc2lyZWQgcmVzcG9uc2VzLiBUaGUgbW9kZWxcbiAgICAgKiBjYW4gYmUgaW5zdHJ1Y3RlZCBvbiByZXNwb25zZSBjb250ZW50IGFuZCBmb3JtYXQsIChlLmcuIFwiYmUgZXh0cmVtZWx5IHN1Y2NpbmN0XCIsXG4gICAgICogXCJhY3QgZnJpZW5kbHlcIiwgXCJoZXJlIGFyZSBleGFtcGxlcyBvZiBnb29kIHJlc3BvbnNlc1wiKSBhbmQgb24gYXVkaW8gYmVoYXZpb3JcbiAgICAgKiAoZS5nLiBcInRhbGsgcXVpY2tseVwiLCBcImluamVjdCBlbW90aW9uIGludG8geW91ciB2b2ljZVwiLCBcImxhdWdoIGZyZXF1ZW50bHlcIikuIFRoZVxuICAgICAqIGluc3RydWN0aW9ucyBhcmUgbm90IGd1YXJhbnRlZWQgdG8gYmUgZm9sbG93ZWQgYnkgdGhlIG1vZGVsLCBidXQgdGhleSBwcm92aWRlXG4gICAgICogZ3VpZGFuY2UgdG8gdGhlIG1vZGVsIG9uIHRoZSBkZXNpcmVkIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoZSBzZXJ2ZXIgc2V0cyBkZWZhdWx0IGluc3RydWN0aW9ucyB3aGljaCB3aWxsIGJlIHVzZWQgaWYgdGhpcyBmaWVsZFxuICAgICAqIGlzIG5vdCBzZXQgYW5kIGFyZSB2aXNpYmxlIGluIHRoZSBgc2Vzc2lvbi5jcmVhdGVkYCBldmVudCBhdCB0aGUgc3RhcnQgb2YgdGhlXG4gICAgICogc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBpbnN0cnVjdGlvbnM/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBvdXRwdXQgdG9rZW5zIGZvciBhIHNpbmdsZSBhc3Npc3RhbnQgcmVzcG9uc2UsIGluY2x1c2l2ZSBvZlxuICAgICAqIHRvb2wgY2FsbHMuIFByb3ZpZGUgYW4gaW50ZWdlciBiZXR3ZWVuIDEgYW5kIDQwOTYgdG8gbGltaXQgb3V0cHV0IHRva2Vucywgb3JcbiAgICAgKiBgaW5mYCBmb3IgdGhlIG1heGltdW0gYXZhaWxhYmxlIHRva2VucyBmb3IgYSBnaXZlbiBtb2RlbC4gRGVmYXVsdHMgdG8gYGluZmAuXG4gICAgICovXG4gICAgbWF4X3Jlc3BvbnNlX291dHB1dF90b2tlbnM/OiBudW1iZXIgfCAnaW5mJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBzZXQgb2YgbW9kYWxpdGllcyB0aGUgbW9kZWwgY2FuIHJlc3BvbmQgd2l0aC4gVG8gZGlzYWJsZSBhdWRpbywgc2V0IHRoaXMgdG9cbiAgICAgKiBbXCJ0ZXh0XCJdLlxuICAgICAqL1xuICAgIG1vZGFsaXRpZXM/OiBBcnJheTwndGV4dCcgfCAnYXVkaW8nPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBSZWFsdGltZSBtb2RlbCB1c2VkIGZvciB0aGlzIHNlc3Npb24uXG4gICAgICovXG4gICAgbW9kZWw/OlxuICAgICAgfCAnZ3B0LTRvLXJlYWx0aW1lLXByZXZpZXcnXG4gICAgICB8ICdncHQtNG8tcmVhbHRpbWUtcHJldmlldy0yMDI0LTEwLTAxJ1xuICAgICAgfCAnZ3B0LTRvLXJlYWx0aW1lLXByZXZpZXctMjAyNC0xMi0xNydcbiAgICAgIHwgJ2dwdC00by1taW5pLXJlYWx0aW1lLXByZXZpZXcnXG4gICAgICB8ICdncHQtNG8tbWluaS1yZWFsdGltZS1wcmV2aWV3LTIwMjQtMTItMTcnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZvcm1hdCBvZiBvdXRwdXQgYXVkaW8uIE9wdGlvbnMgYXJlIGBwY20xNmAsIGBnNzExX3VsYXdgLCBvciBgZzcxMV9hbGF3YC5cbiAgICAgKiBGb3IgYHBjbTE2YCwgb3V0cHV0IGF1ZGlvIGlzIHNhbXBsZWQgYXQgYSByYXRlIG9mIDI0a0h6LlxuICAgICAqL1xuICAgIG91dHB1dF9hdWRpb19mb3JtYXQ/OiAncGNtMTYnIHwgJ2c3MTFfdWxhdycgfCAnZzcxMV9hbGF3JztcblxuICAgIC8qKlxuICAgICAqIFNhbXBsaW5nIHRlbXBlcmF0dXJlIGZvciB0aGUgbW9kZWwsIGxpbWl0ZWQgdG8gWzAuNiwgMS4yXS4gRGVmYXVsdHMgdG8gMC44LlxuICAgICAqL1xuICAgIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogSG93IHRoZSBtb2RlbCBjaG9vc2VzIHRvb2xzLiBPcHRpb25zIGFyZSBgYXV0b2AsIGBub25lYCwgYHJlcXVpcmVkYCwgb3Igc3BlY2lmeVxuICAgICAqIGEgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdG9vbF9jaG9pY2U/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUb29scyAoZnVuY3Rpb25zKSBhdmFpbGFibGUgdG8gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIHRvb2xzPzogQXJyYXk8U2Vzc2lvbi5Ub29sPjtcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIHR1cm4gZGV0ZWN0aW9uLiBDYW4gYmUgc2V0IHRvIGBudWxsYCB0byB0dXJuIG9mZi4gU2VydmVyIFZBRFxuICAgICAqIG1lYW5zIHRoYXQgdGhlIG1vZGVsIHdpbGwgZGV0ZWN0IHRoZSBzdGFydCBhbmQgZW5kIG9mIHNwZWVjaCBiYXNlZCBvbiBhdWRpb1xuICAgICAqIHZvbHVtZSBhbmQgcmVzcG9uZCBhdCB0aGUgZW5kIG9mIHVzZXIgc3BlZWNoLlxuICAgICAqL1xuICAgIHR1cm5fZGV0ZWN0aW9uPzogU2Vzc2lvbi5UdXJuRGV0ZWN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZvaWNlIHRoZSBtb2RlbCB1c2VzIHRvIHJlc3BvbmQuIFZvaWNlIGNhbm5vdCBiZSBjaGFuZ2VkIGR1cmluZyB0aGUgc2Vzc2lvblxuICAgICAqIG9uY2UgdGhlIG1vZGVsIGhhcyByZXNwb25kZWQgd2l0aCBhdWRpbyBhdCBsZWFzdCBvbmNlLiBDdXJyZW50IHZvaWNlIG9wdGlvbnMgYXJlXG4gICAgICogYGFsbG95YCwgYGFzaGAsIGBiYWxsYWRgLCBgY29yYWxgLCBgZWNob2AgYHNhZ2VgLCBgc2hpbW1lcmAgYW5kIGB2ZXJzZWAuXG4gICAgICovXG4gICAgdm9pY2U/OiAnYWxsb3knIHwgJ2FzaCcgfCAnYmFsbGFkJyB8ICdjb3JhbCcgfCAnZWNobycgfCAnc2FnZScgfCAnc2hpbW1lcicgfCAndmVyc2UnO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBTZXNzaW9uIHtcbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGZvciBpbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uLCBkZWZhdWx0cyB0byBvZmYgYW5kIGNhbiBiZSBzZXQgdG9cbiAgICAgKiBgbnVsbGAgdG8gdHVybiBvZmYgb25jZSBvbi4gSW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiBpcyBub3QgbmF0aXZlIHRvIHRoZVxuICAgICAqIG1vZGVsLCBzaW5jZSB0aGUgbW9kZWwgY29uc3VtZXMgYXVkaW8gZGlyZWN0bHkuIFRyYW5zY3JpcHRpb24gcnVuc1xuICAgICAqIGFzeW5jaHJvbm91c2x5IHRocm91Z2hcbiAgICAgKiBbT3BlbkFJIFdoaXNwZXIgdHJhbnNjcmlwdGlvbl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hdWRpby9jcmVhdGVUcmFuc2NyaXB0aW9uKVxuICAgICAqIGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhcyByb3VnaCBndWlkYW5jZSByYXRoZXIgdGhhbiB0aGUgcmVwcmVzZW50YXRpb25cbiAgICAgKiB1bmRlcnN0b29kIGJ5IHRoZSBtb2RlbC4gVGhlIGNsaWVudCBjYW4gb3B0aW9uYWxseSBzZXQgdGhlIGxhbmd1YWdlIGFuZCBwcm9tcHRcbiAgICAgKiBmb3IgdHJhbnNjcmlwdGlvbiwgdGhlc2UgZmllbGRzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBXaGlzcGVyIEFQSS5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIElucHV0QXVkaW9UcmFuc2NyaXB0aW9uIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGxhbmd1YWdlIG9mIHRoZSBpbnB1dCBhdWRpby4gU3VwcGx5aW5nIHRoZSBpbnB1dCBsYW5ndWFnZSBpblxuICAgICAgICogW0lTTy02MzktMV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9JU09fNjM5LTFfY29kZXMpIChlLmcuIGBlbmApXG4gICAgICAgKiBmb3JtYXQgd2lsbCBpbXByb3ZlIGFjY3VyYWN5IGFuZCBsYXRlbmN5LlxuICAgICAgICovXG4gICAgICBsYW5ndWFnZT86IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbW9kZWwgdG8gdXNlIGZvciB0cmFuc2NyaXB0aW9uLCBgd2hpc3Blci0xYCBpcyB0aGUgb25seSBjdXJyZW50bHkgc3VwcG9ydGVkXG4gICAgICAgKiBtb2RlbC5cbiAgICAgICAqL1xuICAgICAgbW9kZWw/OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogQW4gb3B0aW9uYWwgdGV4dCB0byBndWlkZSB0aGUgbW9kZWwncyBzdHlsZSBvciBjb250aW51ZSBhIHByZXZpb3VzIGF1ZGlvXG4gICAgICAgKiBzZWdtZW50LiBUaGVcbiAgICAgICAqIFtwcm9tcHRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zcGVlY2gtdG8tdGV4dCNwcm9tcHRpbmcpXG4gICAgICAgKiBzaG91bGQgbWF0Y2ggdGhlIGF1ZGlvIGxhbmd1YWdlLlxuICAgICAgICovXG4gICAgICBwcm9tcHQ/OiBzdHJpbmc7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBUb29sIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBmdW5jdGlvbiwgaW5jbHVkaW5nIGd1aWRhbmNlIG9uIHdoZW4gYW5kIGhvdyB0byBjYWxsIGl0LFxuICAgICAgICogYW5kIGd1aWRhbmNlIGFib3V0IHdoYXQgdG8gdGVsbCB0aGUgdXNlciB3aGVuIGNhbGxpbmcgKGlmIGFueXRoaW5nKS5cbiAgICAgICAqL1xuICAgICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICovXG4gICAgICBuYW1lPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFBhcmFtZXRlcnMgb2YgdGhlIGZ1bmN0aW9uIGluIEpTT04gU2NoZW1hLlxuICAgICAgICovXG4gICAgICBwYXJhbWV0ZXJzPzogdW5rbm93bjtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbCwgaS5lLiBgZnVuY3Rpb25gLlxuICAgICAgICovXG4gICAgICB0eXBlPzogJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGZvciB0dXJuIGRldGVjdGlvbi4gQ2FuIGJlIHNldCB0byBgbnVsbGAgdG8gdHVybiBvZmYuIFNlcnZlciBWQURcbiAgICAgKiBtZWFucyB0aGF0IHRoZSBtb2RlbCB3aWxsIGRldGVjdCB0aGUgc3RhcnQgYW5kIGVuZCBvZiBzcGVlY2ggYmFzZWQgb24gYXVkaW9cbiAgICAgKiB2b2x1bWUgYW5kIHJlc3BvbmQgYXQgdGhlIGVuZCBvZiB1c2VyIHNwZWVjaC5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIFR1cm5EZXRlY3Rpb24ge1xuICAgICAgLyoqXG4gICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgcmVzcG9uc2Ugd2hlbiBhIFZBRCBzdG9wIGV2ZW50XG4gICAgICAgKiBvY2N1cnMuIGB0cnVlYCBieSBkZWZhdWx0LlxuICAgICAgICovXG4gICAgICBjcmVhdGVfcmVzcG9uc2U/OiBib29sZWFuO1xuXG4gICAgICAvKipcbiAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGF1dG9tYXRpY2FsbHkgaW50ZXJydXB0IGFueSBvbmdvaW5nIHJlc3BvbnNlIHdpdGggb3V0cHV0IHRvXG4gICAgICAgKiB0aGUgZGVmYXVsdCBjb252ZXJzYXRpb24gKGkuZS4gYGNvbnZlcnNhdGlvbmAgb2YgYGF1dG9gKSB3aGVuIGEgVkFEIHN0YXJ0IGV2ZW50XG4gICAgICAgKiBvY2N1cnMuIGB0cnVlYCBieSBkZWZhdWx0LlxuICAgICAgICovXG4gICAgICBpbnRlcnJ1cHRfcmVzcG9uc2U/OiBib29sZWFuO1xuXG4gICAgICAvKipcbiAgICAgICAqIEFtb3VudCBvZiBhdWRpbyB0byBpbmNsdWRlIGJlZm9yZSB0aGUgVkFEIGRldGVjdGVkIHNwZWVjaCAoaW4gbWlsbGlzZWNvbmRzKS5cbiAgICAgICAqIERlZmF1bHRzIHRvIDMwMG1zLlxuICAgICAgICovXG4gICAgICBwcmVmaXhfcGFkZGluZ19tcz86IG51bWJlcjtcblxuICAgICAgLyoqXG4gICAgICAgKiBEdXJhdGlvbiBvZiBzaWxlbmNlIHRvIGRldGVjdCBzcGVlY2ggc3RvcCAoaW4gbWlsbGlzZWNvbmRzKS4gRGVmYXVsdHMgdG8gNTAwbXMuXG4gICAgICAgKiBXaXRoIHNob3J0ZXIgdmFsdWVzIHRoZSBtb2RlbCB3aWxsIHJlc3BvbmQgbW9yZSBxdWlja2x5LCBidXQgbWF5IGp1bXAgaW4gb25cbiAgICAgICAqIHNob3J0IHBhdXNlcyBmcm9tIHRoZSB1c2VyLlxuICAgICAgICovXG4gICAgICBzaWxlbmNlX2R1cmF0aW9uX21zPzogbnVtYmVyO1xuXG4gICAgICAvKipcbiAgICAgICAqIEFjdGl2YXRpb24gdGhyZXNob2xkIGZvciBWQUQgKDAuMCB0byAxLjApLCB0aGlzIGRlZmF1bHRzIHRvIDAuNS4gQSBoaWdoZXJcbiAgICAgICAqIHRocmVzaG9sZCB3aWxsIHJlcXVpcmUgbG91ZGVyIGF1ZGlvIHRvIGFjdGl2YXRlIHRoZSBtb2RlbCwgYW5kIHRodXMgbWlnaHRcbiAgICAgICAqIHBlcmZvcm0gYmV0dGVyIGluIG5vaXN5IGVudmlyb25tZW50cy5cbiAgICAgICAqL1xuICAgICAgdGhyZXNob2xkPzogbnVtYmVyO1xuXG4gICAgICAvKipcbiAgICAgICAqIFR5cGUgb2YgdHVybiBkZXRlY3Rpb24sIG9ubHkgYHNlcnZlcl92YWRgIGlzIGN1cnJlbnRseSBzdXBwb3J0ZWQuXG4gICAgICAgKi9cbiAgICAgIHR5cGU/OiBzdHJpbmc7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBhIHNlc3Npb24gaXMgdXBkYXRlZCB3aXRoIGEgYHNlc3Npb24udXBkYXRlYCBldmVudCwgdW5sZXNzIHRoZXJlXG4gKiBpcyBhbiBlcnJvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uVXBkYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFJlYWx0aW1lIHNlc3Npb24gb2JqZWN0IGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICBzZXNzaW9uOiBTZXNzaW9uc0FQSS5TZXNzaW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgc2Vzc2lvbi51cGRhdGVkYC5cbiAgICovXG4gIHR5cGU6ICdzZXNzaW9uLnVwZGF0ZWQnO1xufVxuXG5SZWFsdGltZS5TZXNzaW9ucyA9IFNlc3Npb25zO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgUmVhbHRpbWUge1xuICBleHBvcnQge1xuICAgIFNlc3Npb25zIGFzIFNlc3Npb25zLFxuICAgIHR5cGUgU2Vzc2lvbnNBUElTZXNzaW9uIGFzIFNlc3Npb24sXG4gICAgdHlwZSBTZXNzaW9uQ3JlYXRlUmVzcG9uc2UgYXMgU2Vzc2lvbkNyZWF0ZVJlc3BvbnNlLFxuICAgIHR5cGUgU2Vzc2lvbkNyZWF0ZVBhcmFtcyBhcyBTZXNzaW9uQ3JlYXRlUGFyYW1zLFxuICB9O1xufVxuIiwgImltcG9ydCB7XG4gIFRleHRDb250ZW50QmxvY2ssXG4gIEltYWdlRmlsZUNvbnRlbnRCbG9jayxcbiAgTWVzc2FnZSxcbiAgTWVzc2FnZUNvbnRlbnREZWx0YSxcbiAgVGV4dCxcbiAgSW1hZ2VGaWxlLFxuICBUZXh0RGVsdGEsXG4gIE1lc3NhZ2VEZWx0YSxcbiAgTWVzc2FnZUNvbnRlbnQsXG59IGZyb20gJy4uL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvbWVzc2FnZXMnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB7IFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQge1xuICBSdW4sXG4gIFJ1bkNyZWF0ZVBhcmFtc0Jhc2UsXG4gIFJ1bkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgUnVucyxcbiAgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNCYXNlLFxuICBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc1N0cmVhbWluZyxcbn0gZnJvbSAnLi4vcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3J1bnMnO1xuaW1wb3J0IHsgdHlwZSBSZWFkYWJsZVN0cmVhbSB9IGZyb20gJy4uL19zaGltcy9pbmRleCc7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICcuLi9zdHJlYW1pbmcnO1xuaW1wb3J0IHsgQVBJVXNlckFib3J0RXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSAnLi4vZXJyb3InO1xuaW1wb3J0IHtcbiAgQXNzaXN0YW50U3RyZWFtRXZlbnQsXG4gIE1lc3NhZ2VTdHJlYW1FdmVudCxcbiAgUnVuU3RlcFN0cmVhbUV2ZW50LFxuICBSdW5TdHJlYW1FdmVudCxcbn0gZnJvbSAnLi4vcmVzb3VyY2VzL2JldGEvYXNzaXN0YW50cyc7XG5pbXBvcnQgeyBSdW5TdGVwLCBSdW5TdGVwRGVsdGEsIFRvb2xDYWxsLCBUb29sQ2FsbERlbHRhIH0gZnJvbSAnLi4vcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3N0ZXBzJztcbmltcG9ydCB7IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc0Jhc2UsIFRocmVhZHMgfSBmcm9tICcuLi9yZXNvdXJjZXMvYmV0YS90aHJlYWRzL3RocmVhZHMnO1xuaW1wb3J0IHsgQmFzZUV2ZW50cywgRXZlbnRTdHJlYW0gfSBmcm9tICcuL0V2ZW50U3RyZWFtJztcblxuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRTdHJlYW1FdmVudHMgZXh0ZW5kcyBCYXNlRXZlbnRzIHtcbiAgcnVuOiAocnVuOiBSdW4pID0+IHZvaWQ7XG5cbiAgLy9OZXcgZXZlbnQgc3RydWN0dXJlXG4gIG1lc3NhZ2VDcmVhdGVkOiAobWVzc2FnZTogTWVzc2FnZSkgPT4gdm9pZDtcbiAgbWVzc2FnZURlbHRhOiAobWVzc2FnZTogTWVzc2FnZURlbHRhLCBzbmFwc2hvdDogTWVzc2FnZSkgPT4gdm9pZDtcbiAgbWVzc2FnZURvbmU6IChtZXNzYWdlOiBNZXNzYWdlKSA9PiB2b2lkO1xuXG4gIHJ1blN0ZXBDcmVhdGVkOiAocnVuU3RlcDogUnVuU3RlcCkgPT4gdm9pZDtcbiAgcnVuU3RlcERlbHRhOiAoZGVsdGE6IFJ1blN0ZXBEZWx0YSwgc25hcHNob3Q6IFJ1bnMuUnVuU3RlcCkgPT4gdm9pZDtcbiAgcnVuU3RlcERvbmU6IChydW5TdGVwOiBSdW5zLlJ1blN0ZXAsIHNuYXBzaG90OiBSdW5zLlJ1blN0ZXApID0+IHZvaWQ7XG5cbiAgdG9vbENhbGxDcmVhdGVkOiAodG9vbENhbGw6IFRvb2xDYWxsKSA9PiB2b2lkO1xuICB0b29sQ2FsbERlbHRhOiAoZGVsdGE6IFRvb2xDYWxsRGVsdGEsIHNuYXBzaG90OiBUb29sQ2FsbCkgPT4gdm9pZDtcbiAgdG9vbENhbGxEb25lOiAodG9vbENhbGw6IFRvb2xDYWxsKSA9PiB2b2lkO1xuXG4gIHRleHRDcmVhdGVkOiAoY29udGVudDogVGV4dCkgPT4gdm9pZDtcbiAgdGV4dERlbHRhOiAoZGVsdGE6IFRleHREZWx0YSwgc25hcHNob3Q6IFRleHQpID0+IHZvaWQ7XG4gIHRleHREb25lOiAoY29udGVudDogVGV4dCwgc25hcHNob3Q6IE1lc3NhZ2UpID0+IHZvaWQ7XG5cbiAgLy9ObyBjcmVhdGVkIG9yIGRlbHRhIGFzIHRoaXMgaXMgbm90IHN0cmVhbWVkXG4gIGltYWdlRmlsZURvbmU6IChjb250ZW50OiBJbWFnZUZpbGUsIHNuYXBzaG90OiBNZXNzYWdlKSA9PiB2b2lkO1xuXG4gIGV2ZW50OiAoZXZlbnQ6IEFzc2lzdGFudFN0cmVhbUV2ZW50KSA9PiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNCYXNlU3RyZWFtID0gT21pdDxUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNCYXNlLCAnc3RyZWFtJz4gJiB7XG4gIHN0cmVhbT86IHRydWU7XG59O1xuXG5leHBvcnQgdHlwZSBSdW5DcmVhdGVQYXJhbXNCYXNlU3RyZWFtID0gT21pdDxSdW5DcmVhdGVQYXJhbXNCYXNlLCAnc3RyZWFtJz4gJiB7XG4gIHN0cmVhbT86IHRydWU7XG59O1xuXG5leHBvcnQgdHlwZSBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc1N0cmVhbSA9IE9taXQ8UnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNCYXNlLCAnc3RyZWFtJz4gJiB7XG4gIHN0cmVhbT86IHRydWU7XG59O1xuXG5leHBvcnQgY2xhc3MgQXNzaXN0YW50U3RyZWFtXG4gIGV4dGVuZHMgRXZlbnRTdHJlYW08QXNzaXN0YW50U3RyZWFtRXZlbnRzPlxuICBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGU8QXNzaXN0YW50U3RyZWFtRXZlbnQ+XG57XG4gIC8vVHJhY2sgYWxsIGV2ZW50cyBpbiBhIHNpbmdsZSBsaXN0IGZvciByZWZlcmVuY2VcbiAgI2V2ZW50czogQXNzaXN0YW50U3RyZWFtRXZlbnRbXSA9IFtdO1xuXG4gIC8vVXNlZCB0byBhY2N1bXVsYXRlIGRlbHRhc1xuICAvL1dlIGFyZSBhY2N1bXVsYXRpbmcgbWFueSB0eXBlcyBzbyB0aGUgdmFsdWUgaGVyZSBpcyBub3Qgc3RyaWN0XG4gICNydW5TdGVwU25hcHNob3RzOiB7IFtpZDogc3RyaW5nXTogUnVucy5SdW5TdGVwIH0gPSB7fTtcbiAgI21lc3NhZ2VTbmFwc2hvdHM6IHsgW2lkOiBzdHJpbmddOiBNZXNzYWdlIH0gPSB7fTtcbiAgI21lc3NhZ2VTbmFwc2hvdDogTWVzc2FnZSB8IHVuZGVmaW5lZDtcbiAgI2ZpbmFsUnVuOiBSdW4gfCB1bmRlZmluZWQ7XG4gICNjdXJyZW50Q29udGVudEluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICNjdXJyZW50Q29udGVudDogTWVzc2FnZUNvbnRlbnQgfCB1bmRlZmluZWQ7XG4gICNjdXJyZW50VG9vbENhbGxJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAjY3VycmVudFRvb2xDYWxsOiBUb29sQ2FsbCB8IHVuZGVmaW5lZDtcblxuICAvL0ZvciBjdXJyZW50IHNuYXBzaG90IG1ldGhvZHNcbiAgI2N1cnJlbnRFdmVudDogQXNzaXN0YW50U3RyZWFtRXZlbnQgfCB1bmRlZmluZWQ7XG4gICNjdXJyZW50UnVuU25hcHNob3Q6IFJ1biB8IHVuZGVmaW5lZDtcbiAgI2N1cnJlbnRSdW5TdGVwU25hcHNob3Q6IFJ1bnMuUnVuU3RlcCB8IHVuZGVmaW5lZDtcblxuICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6IEFzeW5jSXRlcmF0b3I8QXNzaXN0YW50U3RyZWFtRXZlbnQ+IHtcbiAgICBjb25zdCBwdXNoUXVldWU6IEFzc2lzdGFudFN0cmVhbUV2ZW50W10gPSBbXTtcbiAgICBjb25zdCByZWFkUXVldWU6IHtcbiAgICAgIHJlc29sdmU6IChjaHVuazogQXNzaXN0YW50U3RyZWFtRXZlbnQgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gICAgICByZWplY3Q6IChlcnI6IHVua25vd24pID0+IHZvaWQ7XG4gICAgfVtdID0gW107XG4gICAgbGV0IGRvbmUgPSBmYWxzZTtcblxuICAgIC8vQ2F0Y2ggYWxsIGZvciBwYXNzaW5nIGFsb25nIGFsbCBldmVudHNcbiAgICB0aGlzLm9uKCdldmVudCcsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgcmVhZGVyID0gcmVhZFF1ZXVlLnNoaWZ0KCk7XG4gICAgICBpZiAocmVhZGVyKSB7XG4gICAgICAgIHJlYWRlci5yZXNvbHZlKGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHB1c2hRdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgIHJlYWRlci5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2Fib3J0JywgKGVycikgPT4ge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgcmVhZGVyLnJlamVjdChlcnIpO1xuICAgICAgfVxuICAgICAgcmVhZFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGFzeW5jICgpOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PEFzc2lzdGFudFN0cmVhbUV2ZW50Pj4gPT4ge1xuICAgICAgICBpZiAoIXB1c2hRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8QXNzaXN0YW50U3RyZWFtRXZlbnQgfCB1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgICAgICByZWFkUXVldWUucHVzaCh7IHJlc29sdmUsIHJlamVjdCB9KSxcbiAgICAgICAgICApLnRoZW4oKGNodW5rKSA9PiAoY2h1bmsgPyB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfSA6IHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2h1bmsgPSBwdXNoUXVldWUuc2hpZnQoKSE7XG4gICAgICAgIHJldHVybiB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfTtcbiAgICAgIH0sXG4gICAgICByZXR1cm46IGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbTogUmVhZGFibGVTdHJlYW0pOiBBc3Npc3RhbnRTdHJlYW0ge1xuICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBBc3Npc3RhbnRTdHJlYW0oKTtcbiAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX2Zyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9mcm9tUmVhZGFibGVTdHJlYW0oXG4gICAgcmVhZGFibGVTdHJlYW06IFJlYWRhYmxlU3RyZWFtLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPFJ1bj4ge1xuICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICBpZiAoc2lnbmFsKSB7XG4gICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgIH1cbiAgICB0aGlzLl9jb25uZWN0ZWQoKTtcbiAgICBjb25zdCBzdHJlYW0gPSBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtPEFzc2lzdGFudFN0cmVhbUV2ZW50PihyZWFkYWJsZVN0cmVhbSwgdGhpcy5jb250cm9sbGVyKTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgdGhpcy4jYWRkRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgICBpZiAoc3RyZWFtLmNvbnRyb2xsZXIuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FkZFJ1bih0aGlzLiNlbmRSZXF1ZXN0KCkpO1xuICB9XG5cbiAgdG9SZWFkYWJsZVN0cmVhbSgpOiBSZWFkYWJsZVN0cmVhbSB7XG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IFN0cmVhbSh0aGlzW1N5bWJvbC5hc3luY0l0ZXJhdG9yXS5iaW5kKHRoaXMpLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgIHJldHVybiBzdHJlYW0udG9SZWFkYWJsZVN0cmVhbSgpO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZVRvb2xBc3Npc3RhbnRTdHJlYW0oXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIHJ1bnM6IFJ1bnMsXG4gICAgcGFyYW1zOiBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc1N0cmVhbSxcbiAgICBvcHRpb25zOiBSZXF1ZXN0T3B0aW9ucyB8IHVuZGVmaW5lZCxcbiAgKTogQXNzaXN0YW50U3RyZWFtIHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQXNzaXN0YW50U3RyZWFtKCk7XG4gICAgcnVubmVyLl9ydW4oKCkgPT5cbiAgICAgIHJ1bm5lci5fcnVuVG9vbEFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVuSWQsIHJ1bnMsIHBhcmFtcywge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3N0cmVhbScgfSxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfY3JlYXRlVG9vbEFzc2lzdGFudFN0cmVhbShcbiAgICBydW46IFJ1bnMsXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIHBhcmFtczogUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW0sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IFByb21pc2U8UnVuPiB7XG4gICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgIGlmIChzaWduYWwpIHtcbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgfVxuXG4gICAgY29uc3QgYm9keTogUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW1pbmcgPSB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH07XG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgcnVuLnN1Ym1pdFRvb2xPdXRwdXRzKHRocmVhZElkLCBydW5JZCwgYm9keSwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCxcbiAgICB9KTtcblxuICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuXG4gICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiAgICAgIHRoaXMuI2FkZEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2FkZFJ1bih0aGlzLiNlbmRSZXF1ZXN0KCkpO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZVRocmVhZEFzc2lzdGFudFN0cmVhbShcbiAgICBwYXJhbXM6IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc0Jhc2VTdHJlYW0sXG4gICAgdGhyZWFkOiBUaHJlYWRzLFxuICAgIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyxcbiAgKTogQXNzaXN0YW50U3RyZWFtIHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQXNzaXN0YW50U3RyZWFtKCk7XG4gICAgcnVubmVyLl9ydW4oKCkgPT5cbiAgICAgIHJ1bm5lci5fdGhyZWFkQXNzaXN0YW50U3RyZWFtKHBhcmFtcywgdGhyZWFkLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnc3RyZWFtJyB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZUFzc2lzdGFudFN0cmVhbShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bnM6IFJ1bnMsXG4gICAgcGFyYW1zOiBSdW5DcmVhdGVQYXJhbXNCYXNlU3RyZWFtLFxuICAgIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyxcbiAgKTogQXNzaXN0YW50U3RyZWFtIHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQXNzaXN0YW50U3RyZWFtKCk7XG4gICAgcnVubmVyLl9ydW4oKCkgPT5cbiAgICAgIHJ1bm5lci5fcnVuQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5zLCBwYXJhbXMsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICB9KSxcbiAgICApO1xuICAgIHJldHVybiBydW5uZXI7XG4gIH1cblxuICBjdXJyZW50RXZlbnQoKTogQXNzaXN0YW50U3RyZWFtRXZlbnQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLiNjdXJyZW50RXZlbnQ7XG4gIH1cblxuICBjdXJyZW50UnVuKCk6IFJ1biB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuI2N1cnJlbnRSdW5TbmFwc2hvdDtcbiAgfVxuXG4gIGN1cnJlbnRNZXNzYWdlU25hcHNob3QoKTogTWVzc2FnZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuI21lc3NhZ2VTbmFwc2hvdDtcbiAgfVxuXG4gIGN1cnJlbnRSdW5TdGVwU25hcHNob3QoKTogUnVucy5SdW5TdGVwIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy4jY3VycmVudFJ1blN0ZXBTbmFwc2hvdDtcbiAgfVxuXG4gIGFzeW5jIGZpbmFsUnVuU3RlcHMoKTogUHJvbWlzZTxSdW5zLlJ1blN0ZXBbXT4ge1xuICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuXG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy4jcnVuU3RlcFNuYXBzaG90cyk7XG4gIH1cblxuICBhc3luYyBmaW5hbE1lc3NhZ2VzKCk6IFByb21pc2U8TWVzc2FnZVtdPiB7XG4gICAgYXdhaXQgdGhpcy5kb25lKCk7XG5cbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLiNtZXNzYWdlU25hcHNob3RzKTtcbiAgfVxuXG4gIGFzeW5jIGZpbmFsUnVuKCk6IFByb21pc2U8UnVuPiB7XG4gICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgaWYgKCF0aGlzLiNmaW5hbFJ1bikgdGhyb3cgRXJyb3IoJ0ZpbmFsIHJ1biB3YXMgbm90IHJlY2VpdmVkLicpO1xuXG4gICAgcmV0dXJuIHRoaXMuI2ZpbmFsUnVuO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9jcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0oXG4gICAgdGhyZWFkOiBUaHJlYWRzLFxuICAgIHBhcmFtczogVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zQmFzZSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxSdW4+IHtcbiAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgaWYgKHNpZ25hbCkge1xuICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5OiBSdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmcgPSB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH07XG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgdGhyZWFkLmNyZWF0ZUFuZFJ1bihib2R5LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcblxuICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuXG4gICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiAgICAgIHRoaXMuI2FkZEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2FkZFJ1bih0aGlzLiNlbmRSZXF1ZXN0KCkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9jcmVhdGVBc3Npc3RhbnRTdHJlYW0oXG4gICAgcnVuOiBSdW5zLFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBSdW5DcmVhdGVQYXJhbXNCYXNlLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPFJ1bj4ge1xuICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICBpZiAoc2lnbmFsKSB7XG4gICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGJvZHk6IFJ1bkNyZWF0ZVBhcmFtc1N0cmVhbWluZyA9IHsgLi4ucGFyYW1zLCBzdHJlYW06IHRydWUgfTtcbiAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBydW4uY3JlYXRlKHRocmVhZElkLCBib2R5LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcblxuICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuXG4gICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiAgICAgIHRoaXMuI2FkZEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2FkZFJ1bih0aGlzLiNlbmRSZXF1ZXN0KCkpO1xuICB9XG5cbiAgI2FkZEV2ZW50KGV2ZW50OiBBc3Npc3RhbnRTdHJlYW1FdmVudCkge1xuICAgIGlmICh0aGlzLmVuZGVkKSByZXR1cm47XG5cbiAgICB0aGlzLiNjdXJyZW50RXZlbnQgPSBldmVudDtcblxuICAgIHRoaXMuI2hhbmRsZUV2ZW50KGV2ZW50KTtcblxuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnQpIHtcbiAgICAgIGNhc2UgJ3RocmVhZC5jcmVhdGVkJzpcbiAgICAgICAgLy9ObyBhY3Rpb24gb24gdGhpcyBldmVudC5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY3JlYXRlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnF1ZXVlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmluX3Byb2dyZXNzJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4ucmVxdWlyZXNfYWN0aW9uJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY29tcGxldGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uaW5jb21wbGV0ZSc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmZhaWxlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmNhbmNlbGxpbmcnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jYW5jZWxsZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5leHBpcmVkJzpcbiAgICAgICAgdGhpcy4jaGFuZGxlUnVuKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jcmVhdGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5pbl9wcm9ncmVzcyc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZGVsdGEnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNvbXBsZXRlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZmFpbGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jYW5jZWxsZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmV4cGlyZWQnOlxuICAgICAgICB0aGlzLiNoYW5kbGVSdW5TdGVwKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNyZWF0ZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuaW5fcHJvZ3Jlc3MnOlxuICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuZGVsdGEnOlxuICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuY29tcGxldGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluY29tcGxldGUnOlxuICAgICAgICB0aGlzLiNoYW5kbGVNZXNzYWdlKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgLy9UaGlzIGlzIGluY2x1ZGVkIGZvciBjb21wbGV0ZW5lc3MsIGJ1dCBlcnJvcnMgYXJlIHByb2Nlc3NlZCBpbiB0aGUgU1NFIGV2ZW50IHByb2Nlc3Npbmcgc28gdGhpcyBzaG91bGQgbm90IG9jY3VyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnRW5jb3VudGVyZWQgYW4gZXJyb3IgZXZlbnQgaW4gZXZlbnQgcHJvY2Vzc2luZyAtIGVycm9ycyBzaG91bGQgYmUgcHJvY2Vzc2VkIGVhcmxpZXInLFxuICAgICAgICApO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXNzZXJ0TmV2ZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gICNlbmRSZXF1ZXN0KCk6IFJ1biB7XG4gICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgc3RyZWFtIGhhcyBlbmRlZCwgdGhpcyBzaG91bGRuJ3QgaGFwcGVuYCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLiNmaW5hbFJ1bikgdGhyb3cgRXJyb3IoJ0ZpbmFsIHJ1biBoYXMgbm90IGJlZW4gcmVjZWl2ZWQnKTtcblxuICAgIHJldHVybiB0aGlzLiNmaW5hbFJ1bjtcbiAgfVxuXG4gICNoYW5kbGVNZXNzYWdlKHRoaXM6IEFzc2lzdGFudFN0cmVhbSwgZXZlbnQ6IE1lc3NhZ2VTdHJlYW1FdmVudCkge1xuICAgIGNvbnN0IFthY2N1bXVsYXRlZE1lc3NhZ2UsIG5ld0NvbnRlbnRdID0gdGhpcy4jYWNjdW11bGF0ZU1lc3NhZ2UoZXZlbnQsIHRoaXMuI21lc3NhZ2VTbmFwc2hvdCk7XG4gICAgdGhpcy4jbWVzc2FnZVNuYXBzaG90ID0gYWNjdW11bGF0ZWRNZXNzYWdlO1xuICAgIHRoaXMuI21lc3NhZ2VTbmFwc2hvdHNbYWNjdW11bGF0ZWRNZXNzYWdlLmlkXSA9IGFjY3VtdWxhdGVkTWVzc2FnZTtcblxuICAgIGZvciAoY29uc3QgY29udGVudCBvZiBuZXdDb250ZW50KSB7XG4gICAgICBjb25zdCBzbmFwc2hvdENvbnRlbnQgPSBhY2N1bXVsYXRlZE1lc3NhZ2UuY29udGVudFtjb250ZW50LmluZGV4XTtcbiAgICAgIGlmIChzbmFwc2hvdENvbnRlbnQ/LnR5cGUgPT0gJ3RleHQnKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ3RleHRDcmVhdGVkJywgc25hcHNob3RDb250ZW50LnRleHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnQpIHtcbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNyZWF0ZWQnOlxuICAgICAgICB0aGlzLl9lbWl0KCdtZXNzYWdlQ3JlYXRlZCcsIGV2ZW50LmRhdGEpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuaW5fcHJvZ3Jlc3MnOlxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuZGVsdGEnOlxuICAgICAgICB0aGlzLl9lbWl0KCdtZXNzYWdlRGVsdGEnLCBldmVudC5kYXRhLmRlbHRhLCBhY2N1bXVsYXRlZE1lc3NhZ2UpO1xuXG4gICAgICAgIGlmIChldmVudC5kYXRhLmRlbHRhLmNvbnRlbnQpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2YgZXZlbnQuZGF0YS5kZWx0YS5jb250ZW50KSB7XG4gICAgICAgICAgICAvL0lmIGl0IGlzIHRleHQgZGVsdGEsIGVtaXQgYSB0ZXh0IGRlbHRhIGV2ZW50XG4gICAgICAgICAgICBpZiAoY29udGVudC50eXBlID09ICd0ZXh0JyAmJiBjb250ZW50LnRleHQpIHtcbiAgICAgICAgICAgICAgbGV0IHRleHREZWx0YSA9IGNvbnRlbnQudGV4dDtcbiAgICAgICAgICAgICAgbGV0IHNuYXBzaG90ID0gYWNjdW11bGF0ZWRNZXNzYWdlLmNvbnRlbnRbY29udGVudC5pbmRleF07XG4gICAgICAgICAgICAgIGlmIChzbmFwc2hvdCAmJiBzbmFwc2hvdC50eXBlID09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3RleHREZWx0YScsIHRleHREZWx0YSwgc25hcHNob3QudGV4dCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1RoZSBzbmFwc2hvdCBhc3NvY2lhdGVkIHdpdGggdGhpcyB0ZXh0IGRlbHRhIGlzIG5vdCB0ZXh0IG9yIG1pc3NpbmcnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29udGVudC5pbmRleCAhPSB0aGlzLiNjdXJyZW50Q29udGVudEluZGV4KSB7XG4gICAgICAgICAgICAgIC8vU2VlIGlmIHdlIGhhdmUgaW4gcHJvZ3Jlc3MgY29udGVudFxuICAgICAgICAgICAgICBpZiAodGhpcy4jY3VycmVudENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuI2N1cnJlbnRDb250ZW50LnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0RG9uZScsIHRoaXMuI2N1cnJlbnRDb250ZW50LnRleHQsIHRoaXMuI21lc3NhZ2VTbmFwc2hvdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSAnaW1hZ2VfZmlsZSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ltYWdlRmlsZURvbmUnLCB0aGlzLiNjdXJyZW50Q29udGVudC5pbWFnZV9maWxlLCB0aGlzLiNtZXNzYWdlU25hcHNob3QpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLiNjdXJyZW50Q29udGVudEluZGV4ID0gY29udGVudC5pbmRleDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4jY3VycmVudENvbnRlbnQgPSBhY2N1bXVsYXRlZE1lc3NhZ2UuY29udGVudFtjb250ZW50LmluZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuY29tcGxldGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluY29tcGxldGUnOlxuICAgICAgICAvL1dlIGVtaXQgdGhlIGxhdGVzdCBjb250ZW50IHdlIHdlcmUgd29ya2luZyBvbiBvbiBjb21wbGV0aW9uIChpbmNsdWRpbmcgaW5jb21wbGV0ZSlcbiAgICAgICAgaWYgKHRoaXMuI2N1cnJlbnRDb250ZW50SW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gZXZlbnQuZGF0YS5jb250ZW50W3RoaXMuI2N1cnJlbnRDb250ZW50SW5kZXhdO1xuICAgICAgICAgIGlmIChjdXJyZW50Q29udGVudCkge1xuICAgICAgICAgICAgc3dpdGNoIChjdXJyZW50Q29udGVudC50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ2ltYWdlX2ZpbGUnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ltYWdlRmlsZURvbmUnLCBjdXJyZW50Q29udGVudC5pbWFnZV9maWxlLCB0aGlzLiNtZXNzYWdlU25hcHNob3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0RG9uZScsIGN1cnJlbnRDb250ZW50LnRleHQsIHRoaXMuI21lc3NhZ2VTbmFwc2hvdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuI21lc3NhZ2VTbmFwc2hvdCkge1xuICAgICAgICAgIHRoaXMuX2VtaXQoJ21lc3NhZ2VEb25lJywgZXZlbnQuZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNtZXNzYWdlU25hcHNob3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgI2hhbmRsZVJ1blN0ZXAodGhpczogQXNzaXN0YW50U3RyZWFtLCBldmVudDogUnVuU3RlcFN0cmVhbUV2ZW50KSB7XG4gICAgY29uc3QgYWNjdW11bGF0ZWRSdW5TdGVwID0gdGhpcy4jYWNjdW11bGF0ZVJ1blN0ZXAoZXZlbnQpO1xuICAgIHRoaXMuI2N1cnJlbnRSdW5TdGVwU25hcHNob3QgPSBhY2N1bXVsYXRlZFJ1blN0ZXA7XG5cbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY3JlYXRlZCc6XG4gICAgICAgIHRoaXMuX2VtaXQoJ3J1blN0ZXBDcmVhdGVkJywgZXZlbnQuZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmRlbHRhJzpcbiAgICAgICAgY29uc3QgZGVsdGEgPSBldmVudC5kYXRhLmRlbHRhO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZGVsdGEuc3RlcF9kZXRhaWxzICYmXG4gICAgICAgICAgZGVsdGEuc3RlcF9kZXRhaWxzLnR5cGUgPT0gJ3Rvb2xfY2FsbHMnICYmXG4gICAgICAgICAgZGVsdGEuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHMgJiZcbiAgICAgICAgICBhY2N1bXVsYXRlZFJ1blN0ZXAuc3RlcF9kZXRhaWxzLnR5cGUgPT0gJ3Rvb2xfY2FsbHMnXG4gICAgICAgICkge1xuICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgZGVsdGEuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgIGlmICh0b29sQ2FsbC5pbmRleCA9PSB0aGlzLiNjdXJyZW50VG9vbENhbGxJbmRleCkge1xuICAgICAgICAgICAgICB0aGlzLl9lbWl0KFxuICAgICAgICAgICAgICAgICd0b29sQ2FsbERlbHRhJyxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRlZFJ1blN0ZXAuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHNbdG9vbENhbGwuaW5kZXhdIGFzIFRvb2xDYWxsLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuI2N1cnJlbnRUb29sQ2FsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsRG9uZScsIHRoaXMuI2N1cnJlbnRUb29sQ2FsbCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLiNjdXJyZW50VG9vbENhbGxJbmRleCA9IHRvb2xDYWxsLmluZGV4O1xuICAgICAgICAgICAgICB0aGlzLiNjdXJyZW50VG9vbENhbGwgPSBhY2N1bXVsYXRlZFJ1blN0ZXAuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHNbdG9vbENhbGwuaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAodGhpcy4jY3VycmVudFRvb2xDYWxsKSB0aGlzLl9lbWl0KCd0b29sQ2FsbENyZWF0ZWQnLCB0aGlzLiNjdXJyZW50VG9vbENhbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VtaXQoJ3J1blN0ZXBEZWx0YScsIGV2ZW50LmRhdGEuZGVsdGEsIGFjY3VtdWxhdGVkUnVuU3RlcCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNvbXBsZXRlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZmFpbGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jYW5jZWxsZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmV4cGlyZWQnOlxuICAgICAgICB0aGlzLiNjdXJyZW50UnVuU3RlcFNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBkZXRhaWxzID0gZXZlbnQuZGF0YS5zdGVwX2RldGFpbHM7XG4gICAgICAgIGlmIChkZXRhaWxzLnR5cGUgPT0gJ3Rvb2xfY2FsbHMnKSB7XG4gICAgICAgICAgaWYgKHRoaXMuI2N1cnJlbnRUb29sQ2FsbCkge1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbENhbGxEb25lJywgdGhpcy4jY3VycmVudFRvb2xDYWxsIGFzIFRvb2xDYWxsKTtcbiAgICAgICAgICAgIHRoaXMuI2N1cnJlbnRUb29sQ2FsbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZW1pdCgncnVuU3RlcERvbmUnLCBldmVudC5kYXRhLCBhY2N1bXVsYXRlZFJ1blN0ZXApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5pbl9wcm9ncmVzcyc6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gICNoYW5kbGVFdmVudCh0aGlzOiBBc3Npc3RhbnRTdHJlYW0sIGV2ZW50OiBBc3Npc3RhbnRTdHJlYW1FdmVudCkge1xuICAgIHRoaXMuI2V2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICB0aGlzLl9lbWl0KCdldmVudCcsIGV2ZW50KTtcbiAgfVxuXG4gICNhY2N1bXVsYXRlUnVuU3RlcChldmVudDogUnVuU3RlcFN0cmVhbUV2ZW50KTogUnVucy5SdW5TdGVwIHtcbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY3JlYXRlZCc6XG4gICAgICAgIHRoaXMuI3J1blN0ZXBTbmFwc2hvdHNbZXZlbnQuZGF0YS5pZF0gPSBldmVudC5kYXRhO1xuICAgICAgICByZXR1cm4gZXZlbnQuZGF0YTtcblxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmRlbHRhJzpcbiAgICAgICAgbGV0IHNuYXBzaG90ID0gdGhpcy4jcnVuU3RlcFNuYXBzaG90c1tldmVudC5kYXRhLmlkXSBhcyBSdW5zLlJ1blN0ZXA7XG4gICAgICAgIGlmICghc25hcHNob3QpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcignUmVjZWl2ZWQgYSBSdW5TdGVwRGVsdGEgYmVmb3JlIGNyZWF0aW9uIG9mIGEgc25hcHNob3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0gZXZlbnQuZGF0YTtcblxuICAgICAgICBpZiAoZGF0YS5kZWx0YSkge1xuICAgICAgICAgIGNvbnN0IGFjY3VtdWxhdGVkID0gQXNzaXN0YW50U3RyZWFtLmFjY3VtdWxhdGVEZWx0YShzbmFwc2hvdCwgZGF0YS5kZWx0YSkgYXMgUnVucy5SdW5TdGVwO1xuICAgICAgICAgIHRoaXMuI3J1blN0ZXBTbmFwc2hvdHNbZXZlbnQuZGF0YS5pZF0gPSBhY2N1bXVsYXRlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiNydW5TdGVwU25hcHNob3RzW2V2ZW50LmRhdGEuaWRdIGFzIFJ1bnMuUnVuU3RlcDtcblxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNvbXBsZXRlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZmFpbGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jYW5jZWxsZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmV4cGlyZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmluX3Byb2dyZXNzJzpcbiAgICAgICAgdGhpcy4jcnVuU3RlcFNuYXBzaG90c1tldmVudC5kYXRhLmlkXSA9IGV2ZW50LmRhdGE7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmICh0aGlzLiNydW5TdGVwU25hcHNob3RzW2V2ZW50LmRhdGEuaWRdKSByZXR1cm4gdGhpcy4jcnVuU3RlcFNuYXBzaG90c1tldmVudC5kYXRhLmlkXSBhcyBSdW5zLlJ1blN0ZXA7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBzbmFwc2hvdCBhdmFpbGFibGUnKTtcbiAgfVxuXG4gICNhY2N1bXVsYXRlTWVzc2FnZShcbiAgICBldmVudDogQXNzaXN0YW50U3RyZWFtRXZlbnQsXG4gICAgc25hcHNob3Q6IE1lc3NhZ2UgfCB1bmRlZmluZWQsXG4gICk6IFtNZXNzYWdlLCBNZXNzYWdlQ29udGVudERlbHRhW11dIHtcbiAgICBsZXQgbmV3Q29udGVudDogTWVzc2FnZUNvbnRlbnREZWx0YVtdID0gW107XG5cbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jcmVhdGVkJzpcbiAgICAgICAgLy9PbiBjcmVhdGlvbiB0aGUgc25hcHNob3QgaXMganVzdCB0aGUgaW5pdGlhbCBtZXNzYWdlXG4gICAgICAgIHJldHVybiBbZXZlbnQuZGF0YSwgbmV3Q29udGVudF07XG5cbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmRlbHRhJzpcbiAgICAgICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgJ1JlY2VpdmVkIGEgZGVsdGEgd2l0aCBubyBleGlzdGluZyBzbmFwc2hvdCAodGhlcmUgc2hvdWxkIGJlIG9uZSBmcm9tIG1lc3NhZ2UgY3JlYXRpb24pJyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhdGEgPSBldmVudC5kYXRhO1xuXG4gICAgICAgIC8vSWYgdGhpcyBkZWx0YSBkb2VzIG5vdCBoYXZlIGNvbnRlbnQsIG5vdGhpbmcgdG8gcHJvY2Vzc1xuICAgICAgICBpZiAoZGF0YS5kZWx0YS5jb250ZW50KSB7XG4gICAgICAgICAgZm9yIChjb25zdCBjb250ZW50RWxlbWVudCBvZiBkYXRhLmRlbHRhLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudC5pbmRleCBpbiBzbmFwc2hvdC5jb250ZW50KSB7XG4gICAgICAgICAgICAgIGxldCBjdXJyZW50Q29udGVudCA9IHNuYXBzaG90LmNvbnRlbnRbY29udGVudEVsZW1lbnQuaW5kZXhdO1xuICAgICAgICAgICAgICBzbmFwc2hvdC5jb250ZW50W2NvbnRlbnRFbGVtZW50LmluZGV4XSA9IHRoaXMuI2FjY3VtdWxhdGVDb250ZW50KFxuICAgICAgICAgICAgICAgIGNvbnRlbnRFbGVtZW50LFxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZW50LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc25hcHNob3QuY29udGVudFtjb250ZW50RWxlbWVudC5pbmRleF0gPSBjb250ZW50RWxlbWVudCBhcyBNZXNzYWdlQ29udGVudDtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG5ldyBlbGVtZW50XG4gICAgICAgICAgICAgIG5ld0NvbnRlbnQucHVzaChjb250ZW50RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtzbmFwc2hvdCwgbmV3Q29udGVudF07XG5cbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluX3Byb2dyZXNzJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNvbXBsZXRlZCc6XG4gICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbmNvbXBsZXRlJzpcbiAgICAgICAgLy9ObyBjaGFuZ2VzIG9uIG90aGVyIHRocmVhZCBldmVudHNcbiAgICAgICAgaWYgKHNuYXBzaG90KSB7XG4gICAgICAgICAgcmV0dXJuIFtzbmFwc2hvdCwgbmV3Q29udGVudF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ1JlY2VpdmVkIHRocmVhZCBtZXNzYWdlIGV2ZW50IHdpdGggbm8gZXhpc3Rpbmcgc25hcHNob3QnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBFcnJvcignVHJpZWQgdG8gYWNjdW11bGF0ZSBhIG5vbi1tZXNzYWdlIGV2ZW50Jyk7XG4gIH1cblxuICAjYWNjdW11bGF0ZUNvbnRlbnQoXG4gICAgY29udGVudEVsZW1lbnQ6IE1lc3NhZ2VDb250ZW50RGVsdGEsXG4gICAgY3VycmVudENvbnRlbnQ6IE1lc3NhZ2VDb250ZW50IHwgdW5kZWZpbmVkLFxuICApOiBUZXh0Q29udGVudEJsb2NrIHwgSW1hZ2VGaWxlQ29udGVudEJsb2NrIHtcbiAgICByZXR1cm4gQXNzaXN0YW50U3RyZWFtLmFjY3VtdWxhdGVEZWx0YShjdXJyZW50Q29udGVudCBhcyB1bmtub3duIGFzIFJlY29yZDxhbnksIGFueT4sIGNvbnRlbnRFbGVtZW50KSBhc1xuICAgICAgfCBUZXh0Q29udGVudEJsb2NrXG4gICAgICB8IEltYWdlRmlsZUNvbnRlbnRCbG9jaztcbiAgfVxuXG4gIHN0YXRpYyBhY2N1bXVsYXRlRGVsdGEoYWNjOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBkZWx0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgIGZvciAoY29uc3QgW2tleSwgZGVsdGFWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGVsdGEpKSB7XG4gICAgICBpZiAoIWFjYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGFjY1trZXldID0gZGVsdGFWYWx1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBhY2NWYWx1ZSA9IGFjY1trZXldO1xuICAgICAgaWYgKGFjY1ZhbHVlID09PSBudWxsIHx8IGFjY1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYWNjW2tleV0gPSBkZWx0YVZhbHVlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gV2UgZG9uJ3QgYWNjdW11bGF0ZSB0aGVzZSBzcGVjaWFsIHByb3BlcnRpZXNcbiAgICAgIGlmIChrZXkgPT09ICdpbmRleCcgfHwga2V5ID09PSAndHlwZScpIHtcbiAgICAgICAgYWNjW2tleV0gPSBkZWx0YVZhbHVlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gVHlwZS1zcGVjaWZpYyBhY2N1bXVsYXRpb24gbG9naWNcbiAgICAgIGlmICh0eXBlb2YgYWNjVmFsdWUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBkZWx0YVZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBhY2NWYWx1ZSArPSBkZWx0YVZhbHVlO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYWNjVmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBkZWx0YVZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICBhY2NWYWx1ZSArPSBkZWx0YVZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChDb3JlLmlzT2JqKGFjY1ZhbHVlKSAmJiBDb3JlLmlzT2JqKGRlbHRhVmFsdWUpKSB7XG4gICAgICAgIGFjY1ZhbHVlID0gdGhpcy5hY2N1bXVsYXRlRGVsdGEoYWNjVmFsdWUgYXMgUmVjb3JkPHN0cmluZywgYW55PiwgZGVsdGFWYWx1ZSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhY2NWYWx1ZSkgJiYgQXJyYXkuaXNBcnJheShkZWx0YVZhbHVlKSkge1xuICAgICAgICBpZiAoYWNjVmFsdWUuZXZlcnkoKHgpID0+IHR5cGVvZiB4ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgeCA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgYWNjVmFsdWUucHVzaCguLi5kZWx0YVZhbHVlKTsgLy8gVXNlIHNwcmVhZCBzeW50YXggZm9yIGVmZmljaWVudCBhZGRpdGlvblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBkZWx0YUVudHJ5IG9mIGRlbHRhVmFsdWUpIHtcbiAgICAgICAgICBpZiAoIUNvcmUuaXNPYmooZGVsdGFFbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXJyYXkgZGVsdGEgZW50cnkgdG8gYmUgYW4gb2JqZWN0IGJ1dCBnb3Q6ICR7ZGVsdGFFbnRyeX1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpbmRleCA9IGRlbHRhRW50cnlbJ2luZGV4J107XG4gICAgICAgICAgaWYgKGluZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZGVsdGFFbnRyeSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGFycmF5IGRlbHRhIGVudHJ5IHRvIGhhdmUgYW4gYGluZGV4YCBwcm9wZXJ0eScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGFycmF5IGRlbHRhIGVudHJ5IFxcYGluZGV4XFxgIHByb3BlcnR5IHRvIGJlIGEgbnVtYmVyIGJ1dCBnb3QgJHtpbmRleH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBhY2NFbnRyeSA9IGFjY1ZhbHVlW2luZGV4XTtcbiAgICAgICAgICBpZiAoYWNjRW50cnkgPT0gbnVsbCkge1xuICAgICAgICAgICAgYWNjVmFsdWUucHVzaChkZWx0YUVudHJ5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWNjVmFsdWVbaW5kZXhdID0gdGhpcy5hY2N1bXVsYXRlRGVsdGEoYWNjRW50cnksIGRlbHRhRW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKGBVbmhhbmRsZWQgcmVjb3JkIHR5cGU6ICR7a2V5fSwgZGVsdGFWYWx1ZTogJHtkZWx0YVZhbHVlfSwgYWNjVmFsdWU6ICR7YWNjVmFsdWV9YCk7XG4gICAgICB9XG4gICAgICBhY2Nba2V5XSA9IGFjY1ZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBhY2M7XG4gIH1cblxuICAjaGFuZGxlUnVuKHRoaXM6IEFzc2lzdGFudFN0cmVhbSwgZXZlbnQ6IFJ1blN0cmVhbUV2ZW50KSB7XG4gICAgdGhpcy4jY3VycmVudFJ1blNuYXBzaG90ID0gZXZlbnQuZGF0YTtcbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmNyZWF0ZWQnOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4ucXVldWVkJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmluX3Byb2dyZXNzJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnJlcXVpcmVzX2FjdGlvbic6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmNhbmNlbGxlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmZhaWxlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmNvbXBsZXRlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmV4cGlyZWQnOlxuICAgICAgICB0aGlzLiNmaW5hbFJ1biA9IGV2ZW50LmRhdGE7XG4gICAgICAgIGlmICh0aGlzLiNjdXJyZW50VG9vbENhbGwpIHtcbiAgICAgICAgICB0aGlzLl9lbWl0KCd0b29sQ2FsbERvbmUnLCB0aGlzLiNjdXJyZW50VG9vbENhbGwpO1xuICAgICAgICAgIHRoaXMuI2N1cnJlbnRUb29sQ2FsbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY2FuY2VsbGluZyc6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfYWRkUnVuKHJ1bjogUnVuKTogUnVuIHtcbiAgICByZXR1cm4gcnVuO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF90aHJlYWRBc3Npc3RhbnRTdHJlYW0oXG4gICAgcGFyYW1zOiBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNCYXNlLFxuICAgIHRocmVhZDogVGhyZWFkcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxSdW4+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtKHRocmVhZCwgcGFyYW1zLCBvcHRpb25zKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfcnVuQXNzaXN0YW50U3RyZWFtKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuczogUnVucyxcbiAgICBwYXJhbXM6IFJ1bkNyZWF0ZVBhcmFtc0Jhc2UsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IFByb21pc2U8UnVuPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NyZWF0ZUFzc2lzdGFudFN0cmVhbShydW5zLCB0aHJlYWRJZCwgcGFyYW1zLCBvcHRpb25zKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfcnVuVG9vbEFzc2lzdGFudFN0cmVhbShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgcnVuczogUnVucyxcbiAgICBwYXJhbXM6IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPFJ1bj4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKHJ1bnMsIHRocmVhZElkLCBydW5JZCwgcGFyYW1zLCBvcHRpb25zKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnROZXZlcihfeDogbmV2ZXIpIHt9XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gJy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQgKiBhcyBBc3Npc3RhbnRzQVBJIGZyb20gJy4uL2Fzc2lzdGFudHMnO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vcGFnaW5hdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG1lc3NhZ2UuXG4gICAqL1xuICBjcmVhdGUoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBib2R5OiBNZXNzYWdlQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8TWVzc2FnZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXNgLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgYSBtZXNzYWdlLlxuICAgKi9cbiAgcmV0cmlldmUodGhyZWFkSWQ6IHN0cmluZywgbWVzc2FnZUlkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPE1lc3NhZ2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXMvJHttZXNzYWdlSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTW9kaWZpZXMgYSBtZXNzYWdlLlxuICAgKi9cbiAgdXBkYXRlKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgbWVzc2FnZUlkOiBzdHJpbmcsXG4gICAgYm9keTogTWVzc2FnZVVwZGF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPE1lc3NhZ2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L21lc3NhZ2VzLyR7bWVzc2FnZUlkfWAsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBtZXNzYWdlcyBmb3IgYSBnaXZlbiB0aHJlYWQuXG4gICAqL1xuICBsaXN0KFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcXVlcnk/OiBNZXNzYWdlTGlzdFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxNZXNzYWdlc1BhZ2UsIE1lc3NhZ2U+O1xuICBsaXN0KHRocmVhZElkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxNZXNzYWdlc1BhZ2UsIE1lc3NhZ2U+O1xuICBsaXN0KFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcXVlcnk6IE1lc3NhZ2VMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPE1lc3NhZ2VzUGFnZSwgTWVzc2FnZT4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh0aHJlYWRJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9tZXNzYWdlc2AsIE1lc3NhZ2VzUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgbWVzc2FnZS5cbiAgICovXG4gIGRlbCh0aHJlYWRJZDogc3RyaW5nLCBtZXNzYWdlSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8TWVzc2FnZURlbGV0ZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXMvJHttZXNzYWdlSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lc3NhZ2VzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8TWVzc2FnZT4ge31cblxuLyoqXG4gKiBBIGNpdGF0aW9uIHdpdGhpbiB0aGUgbWVzc2FnZSB0aGF0IHBvaW50cyB0byBhIHNwZWNpZmljIHF1b3RlIGZyb20gYSBzcGVjaWZpY1xuICogRmlsZSBhc3NvY2lhdGVkIHdpdGggdGhlIGFzc2lzdGFudCBvciB0aGUgbWVzc2FnZS4gR2VuZXJhdGVkIHdoZW4gdGhlIGFzc2lzdGFudFxuICogdXNlcyB0aGUgXCJmaWxlX3NlYXJjaFwiIHRvb2wgdG8gc2VhcmNoIGZpbGVzLlxuICovXG5leHBvcnQgdHlwZSBBbm5vdGF0aW9uID0gRmlsZUNpdGF0aW9uQW5ub3RhdGlvbiB8IEZpbGVQYXRoQW5ub3RhdGlvbjtcblxuLyoqXG4gKiBBIGNpdGF0aW9uIHdpdGhpbiB0aGUgbWVzc2FnZSB0aGF0IHBvaW50cyB0byBhIHNwZWNpZmljIHF1b3RlIGZyb20gYSBzcGVjaWZpY1xuICogRmlsZSBhc3NvY2lhdGVkIHdpdGggdGhlIGFzc2lzdGFudCBvciB0aGUgbWVzc2FnZS4gR2VuZXJhdGVkIHdoZW4gdGhlIGFzc2lzdGFudFxuICogdXNlcyB0aGUgXCJmaWxlX3NlYXJjaFwiIHRvb2wgdG8gc2VhcmNoIGZpbGVzLlxuICovXG5leHBvcnQgdHlwZSBBbm5vdGF0aW9uRGVsdGEgPSBGaWxlQ2l0YXRpb25EZWx0YUFubm90YXRpb24gfCBGaWxlUGF0aERlbHRhQW5ub3RhdGlvbjtcblxuLyoqXG4gKiBBIGNpdGF0aW9uIHdpdGhpbiB0aGUgbWVzc2FnZSB0aGF0IHBvaW50cyB0byBhIHNwZWNpZmljIHF1b3RlIGZyb20gYSBzcGVjaWZpY1xuICogRmlsZSBhc3NvY2lhdGVkIHdpdGggdGhlIGFzc2lzdGFudCBvciB0aGUgbWVzc2FnZS4gR2VuZXJhdGVkIHdoZW4gdGhlIGFzc2lzdGFudFxuICogdXNlcyB0aGUgXCJmaWxlX3NlYXJjaFwiIHRvb2wgdG8gc2VhcmNoIGZpbGVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVDaXRhdGlvbkFubm90YXRpb24ge1xuICBlbmRfaW5kZXg6IG51bWJlcjtcblxuICBmaWxlX2NpdGF0aW9uOiBGaWxlQ2l0YXRpb25Bbm5vdGF0aW9uLkZpbGVDaXRhdGlvbjtcblxuICBzdGFydF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdGV4dCBpbiB0aGUgbWVzc2FnZSBjb250ZW50IHRoYXQgbmVlZHMgdG8gYmUgcmVwbGFjZWQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgZmlsZV9jaXRhdGlvbmAuXG4gICAqL1xuICB0eXBlOiAnZmlsZV9jaXRhdGlvbic7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgRmlsZUNpdGF0aW9uQW5ub3RhdGlvbiB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZUNpdGF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIHNwZWNpZmljIEZpbGUgdGhlIGNpdGF0aW9uIGlzIGZyb20uXG4gICAgICovXG4gICAgZmlsZV9pZDogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogQSBjaXRhdGlvbiB3aXRoaW4gdGhlIG1lc3NhZ2UgdGhhdCBwb2ludHMgdG8gYSBzcGVjaWZpYyBxdW90ZSBmcm9tIGEgc3BlY2lmaWNcbiAqIEZpbGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQgb3IgdGhlIG1lc3NhZ2UuIEdlbmVyYXRlZCB3aGVuIHRoZSBhc3Npc3RhbnRcbiAqIHVzZXMgdGhlIFwiZmlsZV9zZWFyY2hcIiB0b29sIHRvIHNlYXJjaCBmaWxlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlQ2l0YXRpb25EZWx0YUFubm90YXRpb24ge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBhbm5vdGF0aW9uIGluIHRoZSB0ZXh0IGNvbnRlbnQgcGFydC5cbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgZmlsZV9jaXRhdGlvbmAuXG4gICAqL1xuICB0eXBlOiAnZmlsZV9jaXRhdGlvbic7XG5cbiAgZW5kX2luZGV4PzogbnVtYmVyO1xuXG4gIGZpbGVfY2l0YXRpb24/OiBGaWxlQ2l0YXRpb25EZWx0YUFubm90YXRpb24uRmlsZUNpdGF0aW9uO1xuXG4gIHN0YXJ0X2luZGV4PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdGV4dCBpbiB0aGUgbWVzc2FnZSBjb250ZW50IHRoYXQgbmVlZHMgdG8gYmUgcmVwbGFjZWQuXG4gICAqL1xuICB0ZXh0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEZpbGVDaXRhdGlvbkRlbHRhQW5ub3RhdGlvbiB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZUNpdGF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIHNwZWNpZmljIEZpbGUgdGhlIGNpdGF0aW9uIGlzIGZyb20uXG4gICAgICovXG4gICAgZmlsZV9pZD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBzcGVjaWZpYyBxdW90ZSBpbiB0aGUgZmlsZS5cbiAgICAgKi9cbiAgICBxdW90ZT86IHN0cmluZztcbiAgfVxufVxuXG4vKipcbiAqIEEgVVJMIGZvciB0aGUgZmlsZSB0aGF0J3MgZ2VuZXJhdGVkIHdoZW4gdGhlIGFzc2lzdGFudCB1c2VkIHRoZVxuICogYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgdG8gZ2VuZXJhdGUgYSBmaWxlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVQYXRoQW5ub3RhdGlvbiB7XG4gIGVuZF9pbmRleDogbnVtYmVyO1xuXG4gIGZpbGVfcGF0aDogRmlsZVBhdGhBbm5vdGF0aW9uLkZpbGVQYXRoO1xuXG4gIHN0YXJ0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGluIHRoZSBtZXNzYWdlIGNvbnRlbnQgdGhhdCBuZWVkcyB0byBiZSByZXBsYWNlZC5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogQWx3YXlzIGBmaWxlX3BhdGhgLlxuICAgKi9cbiAgdHlwZTogJ2ZpbGVfcGF0aCc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgRmlsZVBhdGhBbm5vdGF0aW9uIHtcbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlUGF0aCB7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBmaWxlIHRoYXQgd2FzIGdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBmaWxlX2lkOiBzdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBBIFVSTCBmb3IgdGhlIGZpbGUgdGhhdCdzIGdlbmVyYXRlZCB3aGVuIHRoZSBhc3Npc3RhbnQgdXNlZCB0aGVcbiAqIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHRvIGdlbmVyYXRlIGEgZmlsZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlUGF0aERlbHRhQW5ub3RhdGlvbiB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGFubm90YXRpb24gaW4gdGhlIHRleHQgY29udGVudCBwYXJ0LlxuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQWx3YXlzIGBmaWxlX3BhdGhgLlxuICAgKi9cbiAgdHlwZTogJ2ZpbGVfcGF0aCc7XG5cbiAgZW5kX2luZGV4PzogbnVtYmVyO1xuXG4gIGZpbGVfcGF0aD86IEZpbGVQYXRoRGVsdGFBbm5vdGF0aW9uLkZpbGVQYXRoO1xuXG4gIHN0YXJ0X2luZGV4PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdGV4dCBpbiB0aGUgbWVzc2FnZSBjb250ZW50IHRoYXQgbmVlZHMgdG8gYmUgcmVwbGFjZWQuXG4gICAqL1xuICB0ZXh0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEZpbGVQYXRoRGVsdGFBbm5vdGF0aW9uIHtcbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlUGF0aCB7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBmaWxlIHRoYXQgd2FzIGdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBmaWxlX2lkPzogc3RyaW5nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VGaWxlIHtcbiAgLyoqXG4gICAqIFRoZSBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSUQgb2YgdGhlIGltYWdlXG4gICAqIGluIHRoZSBtZXNzYWdlIGNvbnRlbnQuIFNldCBgcHVycG9zZT1cInZpc2lvblwiYCB3aGVuIHVwbG9hZGluZyB0aGUgRmlsZSBpZiB5b3VcbiAgICogbmVlZCB0byBsYXRlciBkaXNwbGF5IHRoZSBmaWxlIGNvbnRlbnQuXG4gICAqL1xuICBmaWxlX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZGV0YWlsIGxldmVsIG9mIHRoZSBpbWFnZSBpZiBzcGVjaWZpZWQgYnkgdGhlIHVzZXIuIGBsb3dgIHVzZXNcbiAgICogZmV3ZXIgdG9rZW5zLCB5b3UgY2FuIG9wdCBpbiB0byBoaWdoIHJlc29sdXRpb24gdXNpbmcgYGhpZ2hgLlxuICAgKi9cbiAgZGV0YWlsPzogJ2F1dG8nIHwgJ2xvdycgfCAnaGlnaCc7XG59XG5cbi8qKlxuICogUmVmZXJlbmNlcyBhbiBpbWFnZSBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcylcbiAqIGluIHRoZSBjb250ZW50IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbWFnZUZpbGVDb250ZW50QmxvY2sge1xuICBpbWFnZV9maWxlOiBJbWFnZUZpbGU7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgaW1hZ2VfZmlsZWAuXG4gICAqL1xuICB0eXBlOiAnaW1hZ2VfZmlsZSc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VGaWxlRGVsdGEge1xuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSBkZXRhaWwgbGV2ZWwgb2YgdGhlIGltYWdlIGlmIHNwZWNpZmllZCBieSB0aGUgdXNlci4gYGxvd2AgdXNlc1xuICAgKiBmZXdlciB0b2tlbnMsIHlvdSBjYW4gb3B0IGluIHRvIGhpZ2ggcmVzb2x1dGlvbiB1c2luZyBgaGlnaGAuXG4gICAqL1xuICBkZXRhaWw/OiAnYXV0bycgfCAnbG93JyB8ICdoaWdoJztcblxuICAvKipcbiAgICogVGhlIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRCBvZiB0aGUgaW1hZ2VcbiAgICogaW4gdGhlIG1lc3NhZ2UgY29udGVudC4gU2V0IGBwdXJwb3NlPVwidmlzaW9uXCJgIHdoZW4gdXBsb2FkaW5nIHRoZSBGaWxlIGlmIHlvdVxuICAgKiBuZWVkIHRvIGxhdGVyIGRpc3BsYXkgdGhlIGZpbGUgY29udGVudC5cbiAgICovXG4gIGZpbGVfaWQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmVmZXJlbmNlcyBhbiBpbWFnZSBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcylcbiAqIGluIHRoZSBjb250ZW50IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbWFnZUZpbGVEZWx0YUJsb2NrIHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IGluIHRoZSBtZXNzYWdlLlxuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQWx3YXlzIGBpbWFnZV9maWxlYC5cbiAgICovXG4gIHR5cGU6ICdpbWFnZV9maWxlJztcblxuICBpbWFnZV9maWxlPzogSW1hZ2VGaWxlRGVsdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VVUkwge1xuICAvKipcbiAgICogVGhlIGV4dGVybmFsIFVSTCBvZiB0aGUgaW1hZ2UsIG11c3QgYmUgYSBzdXBwb3J0ZWQgaW1hZ2UgdHlwZXM6IGpwZWcsIGpwZywgcG5nLFxuICAgKiBnaWYsIHdlYnAuXG4gICAqL1xuICB1cmw6IHN0cmluZztcblxuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSBkZXRhaWwgbGV2ZWwgb2YgdGhlIGltYWdlLiBgbG93YCB1c2VzIGZld2VyIHRva2VucywgeW91IGNhbiBvcHQgaW5cbiAgICogdG8gaGlnaCByZXNvbHV0aW9uIHVzaW5nIGBoaWdoYC4gRGVmYXVsdCB2YWx1ZSBpcyBgYXV0b2BcbiAgICovXG4gIGRldGFpbD86ICdhdXRvJyB8ICdsb3cnIHwgJ2hpZ2gnO1xufVxuXG4vKipcbiAqIFJlZmVyZW5jZXMgYW4gaW1hZ2UgVVJMIGluIHRoZSBjb250ZW50IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbWFnZVVSTENvbnRlbnRCbG9jayB7XG4gIGltYWdlX3VybDogSW1hZ2VVUkw7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBjb250ZW50IHBhcnQuXG4gICAqL1xuICB0eXBlOiAnaW1hZ2VfdXJsJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbWFnZVVSTERlbHRhIHtcbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZGV0YWlsIGxldmVsIG9mIHRoZSBpbWFnZS4gYGxvd2AgdXNlcyBmZXdlciB0b2tlbnMsIHlvdSBjYW4gb3B0IGluXG4gICAqIHRvIGhpZ2ggcmVzb2x1dGlvbiB1c2luZyBgaGlnaGAuXG4gICAqL1xuICBkZXRhaWw/OiAnYXV0bycgfCAnbG93JyB8ICdoaWdoJztcblxuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgaW1hZ2UsIG11c3QgYmUgYSBzdXBwb3J0ZWQgaW1hZ2UgdHlwZXM6IGpwZWcsIGpwZywgcG5nLCBnaWYsXG4gICAqIHdlYnAuXG4gICAqL1xuICB1cmw/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmVmZXJlbmNlcyBhbiBpbWFnZSBVUkwgaW4gdGhlIGNvbnRlbnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlVVJMRGVsdGFCbG9jayB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCBpbiB0aGUgbWVzc2FnZS5cbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgaW1hZ2VfdXJsYC5cbiAgICovXG4gIHR5cGU6ICdpbWFnZV91cmwnO1xuXG4gIGltYWdlX3VybD86IEltYWdlVVJMRGVsdGE7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIG1lc3NhZ2Ugd2l0aGluIGFcbiAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZSB7XG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIElmIGFwcGxpY2FibGUsIHRoZSBJRCBvZiB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB0aGF0XG4gICAqIGF1dGhvcmVkIHRoaXMgbWVzc2FnZS5cbiAgICovXG4gIGFzc2lzdGFudF9pZDogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogQSBsaXN0IG9mIGZpbGVzIGF0dGFjaGVkIHRvIHRoZSBtZXNzYWdlLCBhbmQgdGhlIHRvb2xzIHRoZXkgd2VyZSBhZGRlZCB0by5cbiAgICovXG4gIGF0dGFjaG1lbnRzOiBBcnJheTxNZXNzYWdlLkF0dGFjaG1lbnQ+IHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgbWVzc2FnZSB3YXMgY29tcGxldGVkLlxuICAgKi9cbiAgY29tcGxldGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZSBpbiBhcnJheSBvZiB0ZXh0IGFuZC9vciBpbWFnZXMuXG4gICAqL1xuICBjb250ZW50OiBBcnJheTxNZXNzYWdlQ29udGVudD47XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIG1lc3NhZ2Ugd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIG1lc3NhZ2Ugd2FzIG1hcmtlZCBhcyBpbmNvbXBsZXRlLlxuICAgKi9cbiAgaW5jb21wbGV0ZV9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogT24gYW4gaW5jb21wbGV0ZSBtZXNzYWdlLCBkZXRhaWxzIGFib3V0IHdoeSB0aGUgbWVzc2FnZSBpcyBpbmNvbXBsZXRlLlxuICAgKi9cbiAgaW5jb21wbGV0ZV9kZXRhaWxzOiBNZXNzYWdlLkluY29tcGxldGVEZXRhaWxzIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhOiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgdGhyZWFkLm1lc3NhZ2VgLlxuICAgKi9cbiAgb2JqZWN0OiAndGhyZWFkLm1lc3NhZ2UnO1xuXG4gIC8qKlxuICAgKiBUaGUgZW50aXR5IHRoYXQgcHJvZHVjZWQgdGhlIG1lc3NhZ2UuIE9uZSBvZiBgdXNlcmAgb3IgYGFzc2lzdGFudGAuXG4gICAqL1xuICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMpXG4gICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3JlYXRpb24gb2YgdGhpcyBtZXNzYWdlLiBWYWx1ZSBpcyBgbnVsbGAgd2hlbiBtZXNzYWdlcyBhcmVcbiAgICogY3JlYXRlZCBtYW51YWxseSB1c2luZyB0aGUgY3JlYXRlIG1lc3NhZ2Ugb3IgY3JlYXRlIHRocmVhZCBlbmRwb2ludHMuXG4gICAqL1xuICBydW5faWQ6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBlaXRoZXIgYGluX3Byb2dyZXNzYCwgYGluY29tcGxldGVgLCBvclxuICAgKiBgY29tcGxldGVkYC5cbiAgICovXG4gIHN0YXR1czogJ2luX3Byb2dyZXNzJyB8ICdpbmNvbXBsZXRlJyB8ICdjb21wbGV0ZWQnO1xuXG4gIC8qKlxuICAgKiBUaGUgW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKSBJRCB0aGF0XG4gICAqIHRoaXMgbWVzc2FnZSBiZWxvbmdzIHRvLlxuICAgKi9cbiAgdGhyZWFkX2lkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgTWVzc2FnZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBmaWxlIHRvIGF0dGFjaCB0byB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBmaWxlX2lkPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRvb2xzIHRvIGFkZCB0aGlzIGZpbGUgdG8uXG4gICAgICovXG4gICAgdG9vbHM/OiBBcnJheTxBc3Npc3RhbnRzQVBJLkNvZGVJbnRlcnByZXRlclRvb2wgfCBBdHRhY2htZW50LkFzc2lzdGFudFRvb2xzRmlsZVNlYXJjaFR5cGVPbmx5PjtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQXR0YWNobWVudCB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRUb29sc0ZpbGVTZWFyY2hUeXBlT25seSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYGZpbGVfc2VhcmNoYFxuICAgICAgICovXG4gICAgICB0eXBlOiAnZmlsZV9zZWFyY2gnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPbiBhbiBpbmNvbXBsZXRlIG1lc3NhZ2UsIGRldGFpbHMgYWJvdXQgd2h5IHRoZSBtZXNzYWdlIGlzIGluY29tcGxldGUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEluY29tcGxldGVEZXRhaWxzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVhc29uIHRoZSBtZXNzYWdlIGlzIGluY29tcGxldGUuXG4gICAgICovXG4gICAgcmVhc29uOiAnY29udGVudF9maWx0ZXInIHwgJ21heF90b2tlbnMnIHwgJ3J1bl9jYW5jZWxsZWQnIHwgJ3J1bl9leHBpcmVkJyB8ICdydW5fZmFpbGVkJztcbiAgfVxufVxuXG4vKipcbiAqIFJlZmVyZW5jZXMgYW4gaW1hZ2UgW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpXG4gKiBpbiB0aGUgY29udGVudCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIE1lc3NhZ2VDb250ZW50ID1cbiAgfCBJbWFnZUZpbGVDb250ZW50QmxvY2tcbiAgfCBJbWFnZVVSTENvbnRlbnRCbG9ja1xuICB8IFRleHRDb250ZW50QmxvY2tcbiAgfCBSZWZ1c2FsQ29udGVudEJsb2NrO1xuXG4vKipcbiAqIFJlZmVyZW5jZXMgYW4gaW1hZ2UgW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpXG4gKiBpbiB0aGUgY29udGVudCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIE1lc3NhZ2VDb250ZW50RGVsdGEgPVxuICB8IEltYWdlRmlsZURlbHRhQmxvY2tcbiAgfCBUZXh0RGVsdGFCbG9ja1xuICB8IFJlZnVzYWxEZWx0YUJsb2NrXG4gIHwgSW1hZ2VVUkxEZWx0YUJsb2NrO1xuXG4vKipcbiAqIFJlZmVyZW5jZXMgYW4gaW1hZ2UgW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpXG4gKiBpbiB0aGUgY29udGVudCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIE1lc3NhZ2VDb250ZW50UGFydFBhcmFtID0gSW1hZ2VGaWxlQ29udGVudEJsb2NrIHwgSW1hZ2VVUkxDb250ZW50QmxvY2sgfCBUZXh0Q29udGVudEJsb2NrUGFyYW07XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZURlbGV0ZWQge1xuICBpZDogc3RyaW5nO1xuXG4gIGRlbGV0ZWQ6IGJvb2xlYW47XG5cbiAgb2JqZWN0OiAndGhyZWFkLm1lc3NhZ2UuZGVsZXRlZCc7XG59XG5cbi8qKlxuICogVGhlIGRlbHRhIGNvbnRhaW5pbmcgdGhlIGZpZWxkcyB0aGF0IGhhdmUgY2hhbmdlZCBvbiB0aGUgTWVzc2FnZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlRGVsdGEge1xuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UgaW4gYXJyYXkgb2YgdGV4dCBhbmQvb3IgaW1hZ2VzLlxuICAgKi9cbiAgY29udGVudD86IEFycmF5PE1lc3NhZ2VDb250ZW50RGVsdGE+O1xuXG4gIC8qKlxuICAgKiBUaGUgZW50aXR5IHRoYXQgcHJvZHVjZWQgdGhlIG1lc3NhZ2UuIE9uZSBvZiBgdXNlcmAgb3IgYGFzc2lzdGFudGAuXG4gICAqL1xuICByb2xlPzogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIG1lc3NhZ2UgZGVsdGEgaS5lLiBhbnkgY2hhbmdlZCBmaWVsZHMgb24gYSBtZXNzYWdlIGR1cmluZ1xuICogc3RyZWFtaW5nLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VEZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBtZXNzYWdlLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGRlbHRhIGNvbnRhaW5pbmcgdGhlIGZpZWxkcyB0aGF0IGhhdmUgY2hhbmdlZCBvbiB0aGUgTWVzc2FnZS5cbiAgICovXG4gIGRlbHRhOiBNZXNzYWdlRGVsdGE7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGB0aHJlYWQubWVzc2FnZS5kZWx0YWAuXG4gICAqL1xuICBvYmplY3Q6ICd0aHJlYWQubWVzc2FnZS5kZWx0YSc7XG59XG5cbi8qKlxuICogVGhlIHJlZnVzYWwgY29udGVudCBnZW5lcmF0ZWQgYnkgdGhlIGFzc2lzdGFudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWZ1c2FsQ29udGVudEJsb2NrIHtcbiAgcmVmdXNhbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYHJlZnVzYWxgLlxuICAgKi9cbiAgdHlwZTogJ3JlZnVzYWwnO1xufVxuXG4vKipcbiAqIFRoZSByZWZ1c2FsIGNvbnRlbnQgdGhhdCBpcyBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWZ1c2FsRGVsdGFCbG9jayB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIHJlZnVzYWwgcGFydCBpbiB0aGUgbWVzc2FnZS5cbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgcmVmdXNhbGAuXG4gICAqL1xuICB0eXBlOiAncmVmdXNhbCc7XG5cbiAgcmVmdXNhbD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZXh0IHtcbiAgYW5ub3RhdGlvbnM6IEFycmF5PEFubm90YXRpb24+O1xuXG4gIC8qKlxuICAgKiBUaGUgZGF0YSB0aGF0IG1ha2VzIHVwIHRoZSB0ZXh0LlxuICAgKi9cbiAgdmFsdWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGUgdGV4dCBjb250ZW50IHRoYXQgaXMgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dENvbnRlbnRCbG9jayB7XG4gIHRleHQ6IFRleHQ7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgdGV4dGAuXG4gICAqL1xuICB0eXBlOiAndGV4dCc7XG59XG5cbi8qKlxuICogVGhlIHRleHQgY29udGVudCB0aGF0IGlzIHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRleHRDb250ZW50QmxvY2tQYXJhbSB7XG4gIC8qKlxuICAgKiBUZXh0IGNvbnRlbnQgdG8gYmUgc2VudCB0byB0aGUgbW9kZWxcbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogQWx3YXlzIGB0ZXh0YC5cbiAgICovXG4gIHR5cGU6ICd0ZXh0Jztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZXh0RGVsdGEge1xuICBhbm5vdGF0aW9ucz86IEFycmF5PEFubm90YXRpb25EZWx0YT47XG5cbiAgLyoqXG4gICAqIFRoZSBkYXRhIHRoYXQgbWFrZXMgdXAgdGhlIHRleHQuXG4gICAqL1xuICB2YWx1ZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGUgdGV4dCBjb250ZW50IHRoYXQgaXMgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dERlbHRhQmxvY2sge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgaW4gdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYHRleHRgLlxuICAgKi9cbiAgdHlwZTogJ3RleHQnO1xuXG4gIHRleHQ/OiBUZXh0RGVsdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZUNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCBjb250ZW50cyBvZiB0aGUgbWVzc2FnZS5cbiAgICovXG4gIGNvbnRlbnQ6IHN0cmluZyB8IEFycmF5PE1lc3NhZ2VDb250ZW50UGFydFBhcmFtPjtcblxuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIGVudGl0eSB0aGF0IGlzIGNyZWF0aW5nIHRoZSBtZXNzYWdlLiBBbGxvd2VkIHZhbHVlcyBpbmNsdWRlOlxuICAgKlxuICAgKiAtIGB1c2VyYDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIHNlbnQgYnkgYW4gYWN0dWFsIHVzZXIgYW5kIHNob3VsZCBiZSB1c2VkIGluXG4gICAqICAgbW9zdCBjYXNlcyB0byByZXByZXNlbnQgdXNlci1nZW5lcmF0ZWQgbWVzc2FnZXMuXG4gICAqIC0gYGFzc2lzdGFudGA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBnZW5lcmF0ZWQgYnkgdGhlIGFzc2lzdGFudC4gVXNlIHRoaXNcbiAgICogICB2YWx1ZSB0byBpbnNlcnQgbWVzc2FnZXMgZnJvbSB0aGUgYXNzaXN0YW50IGludG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICovXG4gIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgZmlsZXMgYXR0YWNoZWQgdG8gdGhlIG1lc3NhZ2UsIGFuZCB0aGUgdG9vbHMgdGhleSBzaG91bGQgYmUgYWRkZWQgdG8uXG4gICAqL1xuICBhdHRhY2htZW50cz86IEFycmF5PE1lc3NhZ2VDcmVhdGVQYXJhbXMuQXR0YWNobWVudD4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIE1lc3NhZ2VDcmVhdGVQYXJhbXMge1xuICBleHBvcnQgaW50ZXJmYWNlIEF0dGFjaG1lbnQge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgZmlsZV9pZD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0b29scyB0byBhZGQgdGhpcyBmaWxlIHRvLlxuICAgICAqL1xuICAgIHRvb2xzPzogQXJyYXk8QXNzaXN0YW50c0FQSS5Db2RlSW50ZXJwcmV0ZXJUb29sIHwgQXR0YWNobWVudC5GaWxlU2VhcmNoPjtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQXR0YWNobWVudCB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIHR5cGUgb2YgdG9vbCBiZWluZyBkZWZpbmVkOiBgZmlsZV9zZWFyY2hgXG4gICAgICAgKi9cbiAgICAgIHR5cGU6ICdmaWxlX3NlYXJjaCc7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZVVwZGF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VMaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGN1cnNvciBmb3IgdXNlIGluIHBhZ2luYXRpb24uIGBiZWZvcmVgIGlzIGFuIG9iamVjdCBJRCB0aGF0IGRlZmluZXMgeW91ciBwbGFjZVxuICAgKiBpbiB0aGUgbGlzdC4gRm9yIGluc3RhbmNlLCBpZiB5b3UgbWFrZSBhIGxpc3QgcmVxdWVzdCBhbmQgcmVjZWl2ZSAxMDAgb2JqZWN0cyxcbiAgICogc3RhcnRpbmcgd2l0aCBvYmpfZm9vLCB5b3VyIHN1YnNlcXVlbnQgY2FsbCBjYW4gaW5jbHVkZSBiZWZvcmU9b2JqX2ZvbyBpbiBvcmRlclxuICAgKiB0byBmZXRjaCB0aGUgcHJldmlvdXMgcGFnZSBvZiB0aGUgbGlzdC5cbiAgICovXG4gIGJlZm9yZT86IHN0cmluZztcblxuICAvKipcbiAgICogU29ydCBvcmRlciBieSB0aGUgYGNyZWF0ZWRfYXRgIHRpbWVzdGFtcCBvZiB0aGUgb2JqZWN0cy4gYGFzY2AgZm9yIGFzY2VuZGluZ1xuICAgKiBvcmRlciBhbmQgYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcblxuICAvKipcbiAgICogRmlsdGVyIG1lc3NhZ2VzIGJ5IHRoZSBydW4gSUQgdGhhdCBnZW5lcmF0ZWQgdGhlbS5cbiAgICovXG4gIHJ1bl9pZD86IHN0cmluZztcbn1cblxuTWVzc2FnZXMuTWVzc2FnZXNQYWdlID0gTWVzc2FnZXNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgTWVzc2FnZXMge1xuICBleHBvcnQge1xuICAgIHR5cGUgQW5ub3RhdGlvbiBhcyBBbm5vdGF0aW9uLFxuICAgIHR5cGUgQW5ub3RhdGlvbkRlbHRhIGFzIEFubm90YXRpb25EZWx0YSxcbiAgICB0eXBlIEZpbGVDaXRhdGlvbkFubm90YXRpb24gYXMgRmlsZUNpdGF0aW9uQW5ub3RhdGlvbixcbiAgICB0eXBlIEZpbGVDaXRhdGlvbkRlbHRhQW5ub3RhdGlvbiBhcyBGaWxlQ2l0YXRpb25EZWx0YUFubm90YXRpb24sXG4gICAgdHlwZSBGaWxlUGF0aEFubm90YXRpb24gYXMgRmlsZVBhdGhBbm5vdGF0aW9uLFxuICAgIHR5cGUgRmlsZVBhdGhEZWx0YUFubm90YXRpb24gYXMgRmlsZVBhdGhEZWx0YUFubm90YXRpb24sXG4gICAgdHlwZSBJbWFnZUZpbGUgYXMgSW1hZ2VGaWxlLFxuICAgIHR5cGUgSW1hZ2VGaWxlQ29udGVudEJsb2NrIGFzIEltYWdlRmlsZUNvbnRlbnRCbG9jayxcbiAgICB0eXBlIEltYWdlRmlsZURlbHRhIGFzIEltYWdlRmlsZURlbHRhLFxuICAgIHR5cGUgSW1hZ2VGaWxlRGVsdGFCbG9jayBhcyBJbWFnZUZpbGVEZWx0YUJsb2NrLFxuICAgIHR5cGUgSW1hZ2VVUkwgYXMgSW1hZ2VVUkwsXG4gICAgdHlwZSBJbWFnZVVSTENvbnRlbnRCbG9jayBhcyBJbWFnZVVSTENvbnRlbnRCbG9jayxcbiAgICB0eXBlIEltYWdlVVJMRGVsdGEgYXMgSW1hZ2VVUkxEZWx0YSxcbiAgICB0eXBlIEltYWdlVVJMRGVsdGFCbG9jayBhcyBJbWFnZVVSTERlbHRhQmxvY2ssXG4gICAgdHlwZSBNZXNzYWdlIGFzIE1lc3NhZ2UsXG4gICAgdHlwZSBNZXNzYWdlQ29udGVudCBhcyBNZXNzYWdlQ29udGVudCxcbiAgICB0eXBlIE1lc3NhZ2VDb250ZW50RGVsdGEgYXMgTWVzc2FnZUNvbnRlbnREZWx0YSxcbiAgICB0eXBlIE1lc3NhZ2VDb250ZW50UGFydFBhcmFtIGFzIE1lc3NhZ2VDb250ZW50UGFydFBhcmFtLFxuICAgIHR5cGUgTWVzc2FnZURlbGV0ZWQgYXMgTWVzc2FnZURlbGV0ZWQsXG4gICAgdHlwZSBNZXNzYWdlRGVsdGEgYXMgTWVzc2FnZURlbHRhLFxuICAgIHR5cGUgTWVzc2FnZURlbHRhRXZlbnQgYXMgTWVzc2FnZURlbHRhRXZlbnQsXG4gICAgdHlwZSBSZWZ1c2FsQ29udGVudEJsb2NrIGFzIFJlZnVzYWxDb250ZW50QmxvY2ssXG4gICAgdHlwZSBSZWZ1c2FsRGVsdGFCbG9jayBhcyBSZWZ1c2FsRGVsdGFCbG9jayxcbiAgICB0eXBlIFRleHQgYXMgVGV4dCxcbiAgICB0eXBlIFRleHRDb250ZW50QmxvY2sgYXMgVGV4dENvbnRlbnRCbG9jayxcbiAgICB0eXBlIFRleHRDb250ZW50QmxvY2tQYXJhbSBhcyBUZXh0Q29udGVudEJsb2NrUGFyYW0sXG4gICAgdHlwZSBUZXh0RGVsdGEgYXMgVGV4dERlbHRhLFxuICAgIHR5cGUgVGV4dERlbHRhQmxvY2sgYXMgVGV4dERlbHRhQmxvY2ssXG4gICAgTWVzc2FnZXNQYWdlIGFzIE1lc3NhZ2VzUGFnZSxcbiAgICB0eXBlIE1lc3NhZ2VDcmVhdGVQYXJhbXMgYXMgTWVzc2FnZUNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIE1lc3NhZ2VVcGRhdGVQYXJhbXMgYXMgTWVzc2FnZVVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIE1lc3NhZ2VMaXN0UGFyYW1zIGFzIE1lc3NhZ2VMaXN0UGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi8uLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIFN0ZXBzQVBJIGZyb20gJy4vc3RlcHMnO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gJy4uLy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlLCB0eXBlIEN1cnNvclBhZ2VQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi8uLi9wYWdpbmF0aW9uJztcblxuZXhwb3J0IGNsYXNzIFN0ZXBzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogUmV0cmlldmVzIGEgcnVuIHN0ZXAuXG4gICAqL1xuICByZXRyaWV2ZShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgc3RlcElkOiBzdHJpbmcsXG4gICAgcXVlcnk/OiBTdGVwUmV0cmlldmVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxSdW5TdGVwPjtcbiAgcmV0cmlldmUoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIHN0ZXBJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8UnVuU3RlcD47XG4gIHJldHJpZXZlKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBzdGVwSWQ6IHN0cmluZyxcbiAgICBxdWVyeTogU3RlcFJldHJpZXZlUGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8UnVuU3RlcD4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV0cmlldmUodGhyZWFkSWQsIHJ1bklkLCBzdGVwSWQsIHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9L3N0ZXBzLyR7c3RlcElkfWAsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgcnVuIHN0ZXBzIGJlbG9uZ2luZyB0byBhIHJ1bi5cbiAgICovXG4gIGxpc3QoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogU3RlcExpc3RQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8UnVuU3RlcHNQYWdlLCBSdW5TdGVwPjtcbiAgbGlzdChcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8UnVuU3RlcHNQYWdlLCBSdW5TdGVwPjtcbiAgbGlzdChcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgcXVlcnk6IFN0ZXBMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFJ1blN0ZXBzUGFnZSwgUnVuU3RlcD4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh0aHJlYWRJZCwgcnVuSWQsIHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfS9zdGVwc2AsIFJ1blN0ZXBzUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUnVuU3RlcHNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxSdW5TdGVwPiB7fVxuXG4vKipcbiAqIFRleHQgb3V0cHV0IGZyb20gdGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsIGFzIHBhcnQgb2YgYSBydW4gc3RlcC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXJMb2dzIHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGluIHRoZSBvdXRwdXRzIGFycmF5LlxuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQWx3YXlzIGBsb2dzYC5cbiAgICovXG4gIHR5cGU6ICdsb2dzJztcblxuICAvKipcbiAgICogVGhlIHRleHQgb3V0cHV0IGZyb20gdGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsLlxuICAgKi9cbiAgbG9ncz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXJPdXRwdXRJbWFnZSB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpbiB0aGUgb3V0cHV0cyBhcnJheS5cbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgaW1hZ2VgLlxuICAgKi9cbiAgdHlwZTogJ2ltYWdlJztcblxuICBpbWFnZT86IENvZGVJbnRlcnByZXRlck91dHB1dEltYWdlLkltYWdlO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENvZGVJbnRlcnByZXRlck91dHB1dEltYWdlIHtcbiAgZXhwb3J0IGludGVyZmFjZSBJbWFnZSB7XG4gICAgLyoqXG4gICAgICogVGhlIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRCBvZiB0aGVcbiAgICAgKiBpbWFnZS5cbiAgICAgKi9cbiAgICBmaWxlX2lkPzogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogRGV0YWlscyBvZiB0aGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwgdGhlIHJ1biBzdGVwIHdhcyBpbnZvbHZlZCBpbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbCBkZWZpbml0aW9uLlxuICAgKi9cbiAgY29kZV9pbnRlcnByZXRlcjogQ29kZUludGVycHJldGVyVG9vbENhbGwuQ29kZUludGVycHJldGVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGNhbGwuIFRoaXMgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIGBjb2RlX2ludGVycHJldGVyYCBmb3IgdGhpc1xuICAgKiB0eXBlIG9mIHRvb2wgY2FsbC5cbiAgICovXG4gIHR5cGU6ICdjb2RlX2ludGVycHJldGVyJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwgZGVmaW5pdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAvKipcbiAgICAgKiBUaGUgaW5wdXQgdG8gdGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsLlxuICAgICAqL1xuICAgIGlucHV0OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0cHV0cyBmcm9tIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbC4gQ29kZSBJbnRlcnByZXRlciBjYW4gb3V0cHV0IG9uZVxuICAgICAqIG9yIG1vcmUgaXRlbXMsIGluY2x1ZGluZyB0ZXh0IChgbG9nc2ApIG9yIGltYWdlcyAoYGltYWdlYCkuIEVhY2ggb2YgdGhlc2UgYXJlXG4gICAgICogcmVwcmVzZW50ZWQgYnkgYSBkaWZmZXJlbnQgb2JqZWN0IHR5cGUuXG4gICAgICovXG4gICAgb3V0cHV0czogQXJyYXk8Q29kZUludGVycHJldGVyLkxvZ3MgfCBDb2RlSW50ZXJwcmV0ZXIuSW1hZ2U+O1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgIC8qKlxuICAgICAqIFRleHQgb3V0cHV0IGZyb20gdGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsIGFzIHBhcnQgb2YgYSBydW4gc3RlcC5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIExvZ3Mge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdGV4dCBvdXRwdXQgZnJvbSB0aGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIGxvZ3M6IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBBbHdheXMgYGxvZ3NgLlxuICAgICAgICovXG4gICAgICB0eXBlOiAnbG9ncyc7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJbWFnZSB7XG4gICAgICBpbWFnZTogSW1hZ2UuSW1hZ2U7XG5cbiAgICAgIC8qKlxuICAgICAgICogQWx3YXlzIGBpbWFnZWAuXG4gICAgICAgKi9cbiAgICAgIHR5cGU6ICdpbWFnZSc7XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBJbWFnZSB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEltYWdlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSUQgb2YgdGhlXG4gICAgICAgICAqIGltYWdlLlxuICAgICAgICAgKi9cbiAgICAgICAgZmlsZV9pZDogc3RyaW5nO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERldGFpbHMgb2YgdGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsIHRoZSBydW4gc3RlcCB3YXMgaW52b2x2ZWQgaW4uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyVG9vbENhbGxEZWx0YSB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIHRvb2wgY2FsbCBpbiB0aGUgdG9vbCBjYWxscyBhcnJheS5cbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRvb2wgY2FsbC4gVGhpcyBpcyBhbHdheXMgZ29pbmcgdG8gYmUgYGNvZGVfaW50ZXJwcmV0ZXJgIGZvciB0aGlzXG4gICAqIHR5cGUgb2YgdG9vbCBjYWxsLlxuICAgKi9cbiAgdHlwZTogJ2NvZGVfaW50ZXJwcmV0ZXInO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwgZGVmaW5pdGlvbi5cbiAgICovXG4gIGNvZGVfaW50ZXJwcmV0ZXI/OiBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbERlbHRhLkNvZGVJbnRlcnByZXRlcjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbERlbHRhIHtcbiAgLyoqXG4gICAqIFRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbCBkZWZpbml0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgIC8qKlxuICAgICAqIFRoZSBpbnB1dCB0byB0aGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwuXG4gICAgICovXG4gICAgaW5wdXQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0cHV0cyBmcm9tIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbC4gQ29kZSBJbnRlcnByZXRlciBjYW4gb3V0cHV0IG9uZVxuICAgICAqIG9yIG1vcmUgaXRlbXMsIGluY2x1ZGluZyB0ZXh0IChgbG9nc2ApIG9yIGltYWdlcyAoYGltYWdlYCkuIEVhY2ggb2YgdGhlc2UgYXJlXG4gICAgICogcmVwcmVzZW50ZWQgYnkgYSBkaWZmZXJlbnQgb2JqZWN0IHR5cGUuXG4gICAgICovXG4gICAgb3V0cHV0cz86IEFycmF5PFN0ZXBzQVBJLkNvZGVJbnRlcnByZXRlckxvZ3MgfCBTdGVwc0FQSS5Db2RlSW50ZXJwcmV0ZXJPdXRwdXRJbWFnZT47XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwgb2JqZWN0LlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogRm9yIG5vdywgdGhpcyBpcyBhbHdheXMgZ29pbmcgdG8gYmUgYW4gZW1wdHkgb2JqZWN0LlxuICAgKi9cbiAgZmlsZV9zZWFyY2g6IEZpbGVTZWFyY2hUb29sQ2FsbC5GaWxlU2VhcmNoO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGNhbGwuIFRoaXMgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIGBmaWxlX3NlYXJjaGAgZm9yIHRoaXMgdHlwZSBvZlxuICAgKiB0b29sIGNhbGwuXG4gICAqL1xuICB0eXBlOiAnZmlsZV9zZWFyY2gnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEZpbGVTZWFyY2hUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBGb3Igbm93LCB0aGlzIGlzIGFsd2F5cyBnb2luZyB0byBiZSBhbiBlbXB0eSBvYmplY3QuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAgIC8qKlxuICAgICAqIFRoZSByYW5raW5nIG9wdGlvbnMgZm9yIHRoZSBmaWxlIHNlYXJjaC5cbiAgICAgKi9cbiAgICByYW5raW5nX29wdGlvbnM/OiBGaWxlU2VhcmNoLlJhbmtpbmdPcHRpb25zO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc3VsdHMgb2YgdGhlIGZpbGUgc2VhcmNoLlxuICAgICAqL1xuICAgIHJlc3VsdHM/OiBBcnJheTxGaWxlU2VhcmNoLlJlc3VsdD47XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIEZpbGVTZWFyY2gge1xuICAgIC8qKlxuICAgICAqIFRoZSByYW5raW5nIG9wdGlvbnMgZm9yIHRoZSBmaWxlIHNlYXJjaC5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIFJhbmtpbmdPcHRpb25zIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIHJhbmtlciB1c2VkIGZvciB0aGUgZmlsZSBzZWFyY2guXG4gICAgICAgKi9cbiAgICAgIHJhbmtlcjogJ2RlZmF1bHRfMjAyNF8wOF8yMSc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHNjb3JlIHRocmVzaG9sZCBmb3IgdGhlIGZpbGUgc2VhcmNoLiBBbGwgdmFsdWVzIG11c3QgYmUgYSBmbG9hdGluZyBwb2ludFxuICAgICAgICogbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgICAqL1xuICAgICAgc2NvcmVfdGhyZXNob2xkOiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSByZXN1bHQgaW5zdGFuY2Ugb2YgdGhlIGZpbGUgc2VhcmNoLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIElEIG9mIHRoZSBmaWxlIHRoYXQgcmVzdWx0IHdhcyBmb3VuZCBpbi5cbiAgICAgICAqL1xuICAgICAgZmlsZV9pZDogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmaWxlIHRoYXQgcmVzdWx0IHdhcyBmb3VuZCBpbi5cbiAgICAgICAqL1xuICAgICAgZmlsZV9uYW1lOiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHNjb3JlIG9mIHRoZSByZXN1bHQuIEFsbCB2YWx1ZXMgbXVzdCBiZSBhIGZsb2F0aW5nIHBvaW50IG51bWJlciBiZXR3ZWVuIDBcbiAgICAgICAqIGFuZCAxLlxuICAgICAgICovXG4gICAgICBzY29yZTogbnVtYmVyO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBjb250ZW50IG9mIHRoZSByZXN1bHQgdGhhdCB3YXMgZm91bmQuIFRoZSBjb250ZW50IGlzIG9ubHkgaW5jbHVkZWQgaWZcbiAgICAgICAqIHJlcXVlc3RlZCB2aWEgdGhlIGluY2x1ZGUgcXVlcnkgcGFyYW1ldGVyLlxuICAgICAgICovXG4gICAgICBjb250ZW50PzogQXJyYXk8UmVzdWx0LkNvbnRlbnQ+O1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgUmVzdWx0IHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29udGVudCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCBjb250ZW50IG9mIHRoZSBmaWxlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGV4dD86IHN0cmluZztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIGNvbnRlbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0eXBlPzogJ3RleHQnO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2hUb29sQ2FsbERlbHRhIHtcbiAgLyoqXG4gICAqIEZvciBub3csIHRoaXMgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIGFuIGVtcHR5IG9iamVjdC5cbiAgICovXG4gIGZpbGVfc2VhcmNoOiB1bmtub3duO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIHRvb2wgY2FsbCBpbiB0aGUgdG9vbCBjYWxscyBhcnJheS5cbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRvb2wgY2FsbC4gVGhpcyBpcyBhbHdheXMgZ29pbmcgdG8gYmUgYGZpbGVfc2VhcmNoYCBmb3IgdGhpcyB0eXBlIG9mXG4gICAqIHRvb2wgY2FsbC5cbiAgICovXG4gIHR5cGU6ICdmaWxlX3NlYXJjaCc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsIG9iamVjdC5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwgb2JqZWN0LlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGRlZmluaXRpb24gb2YgdGhlIGZ1bmN0aW9uIHRoYXQgd2FzIGNhbGxlZC5cbiAgICovXG4gIGZ1bmN0aW9uOiBGdW5jdGlvblRvb2xDYWxsLkZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGNhbGwuIFRoaXMgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIGBmdW5jdGlvbmAgZm9yIHRoaXMgdHlwZSBvZlxuICAgKiB0b29sIGNhbGwuXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEZ1bmN0aW9uVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIGRlZmluaXRpb24gb2YgdGhlIGZ1bmN0aW9uIHRoYXQgd2FzIGNhbGxlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBhcmd1bWVudHM6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0cHV0IG9mIHRoZSBmdW5jdGlvbi4gVGhpcyB3aWxsIGJlIGBudWxsYCBpZiB0aGUgb3V0cHV0cyBoYXZlIG5vdCBiZWVuXG4gICAgICogW3N1Ym1pdHRlZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL3N1Ym1pdFRvb2xPdXRwdXRzKVxuICAgICAqIHlldC5cbiAgICAgKi9cbiAgICBvdXRwdXQ6IHN0cmluZyB8IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvblRvb2xDYWxsRGVsdGEge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSB0b29sIGNhbGwgaW4gdGhlIHRvb2wgY2FsbHMgYXJyYXkuXG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGNhbGwuIFRoaXMgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIGBmdW5jdGlvbmAgZm9yIHRoaXMgdHlwZSBvZlxuICAgKiB0b29sIGNhbGwuXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbCBvYmplY3QuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGRlZmluaXRpb24gb2YgdGhlIGZ1bmN0aW9uIHRoYXQgd2FzIGNhbGxlZC5cbiAgICovXG4gIGZ1bmN0aW9uPzogRnVuY3Rpb25Ub29sQ2FsbERlbHRhLkZ1bmN0aW9uO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEZ1bmN0aW9uVG9vbENhbGxEZWx0YSB7XG4gIC8qKlxuICAgKiBUaGUgZGVmaW5pdGlvbiBvZiB0aGUgZnVuY3Rpb24gdGhhdCB3YXMgY2FsbGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGFyZ3VtZW50cz86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBuYW1lPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dCBvZiB0aGUgZnVuY3Rpb24uIFRoaXMgd2lsbCBiZSBgbnVsbGAgaWYgdGhlIG91dHB1dHMgaGF2ZSBub3QgYmVlblxuICAgICAqIFtzdWJtaXR0ZWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9zdWJtaXRUb29sT3V0cHV0cylcbiAgICAgKiB5ZXQuXG4gICAgICovXG4gICAgb3V0cHV0Pzogc3RyaW5nIHwgbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIERldGFpbHMgb2YgdGhlIG1lc3NhZ2UgY3JlYXRpb24gYnkgdGhlIHJ1biBzdGVwLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VDcmVhdGlvblN0ZXBEZXRhaWxzIHtcbiAgbWVzc2FnZV9jcmVhdGlvbjogTWVzc2FnZUNyZWF0aW9uU3RlcERldGFpbHMuTWVzc2FnZUNyZWF0aW9uO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYG1lc3NhZ2VfY3JlYXRpb25gLlxuICAgKi9cbiAgdHlwZTogJ21lc3NhZ2VfY3JlYXRpb24nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIE1lc3NhZ2VDcmVhdGlvblN0ZXBEZXRhaWxzIHtcbiAgZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlQ3JlYXRpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgbWVzc2FnZSB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoaXMgcnVuIHN0ZXAuXG4gICAgICovXG4gICAgbWVzc2FnZV9pZDogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHN0ZXAgaW4gZXhlY3V0aW9uIG9mIGEgcnVuLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN0ZXAge1xuICAvKipcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIHJ1biBzdGVwLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpXG4gICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgcnVuIHN0ZXAuXG4gICAqL1xuICBhc3Npc3RhbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHN0ZXAgd2FzIGNhbmNlbGxlZC5cbiAgICovXG4gIGNhbmNlbGxlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHN0ZXAgY29tcGxldGVkLlxuICAgKi9cbiAgY29tcGxldGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBydW4gc3RlcCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHN0ZXAgZXhwaXJlZC4gQSBzdGVwIGlzXG4gICAqIGNvbnNpZGVyZWQgZXhwaXJlZCBpZiB0aGUgcGFyZW50IHJ1biBpcyBleHBpcmVkLlxuICAgKi9cbiAgZXhwaXJlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHN0ZXAgZmFpbGVkLlxuICAgKi9cbiAgZmFpbGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbGFzdCBlcnJvciBhc3NvY2lhdGVkIHdpdGggdGhpcyBydW4gc3RlcC4gV2lsbCBiZSBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vXG4gICAqIGVycm9ycy5cbiAgICovXG4gIGxhc3RfZXJyb3I6IFJ1blN0ZXAuTGFzdEVycm9yIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhOiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgdGhyZWFkLnJ1bi5zdGVwYC5cbiAgICovXG4gIG9iamVjdDogJ3RocmVhZC5ydW4uc3RlcCc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zKSB0aGF0XG4gICAqIHRoaXMgcnVuIHN0ZXAgaXMgYSBwYXJ0IG9mLlxuICAgKi9cbiAgcnVuX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIHJ1biBzdGVwLCB3aGljaCBjYW4gYmUgZWl0aGVyIGBpbl9wcm9ncmVzc2AsIGBjYW5jZWxsZWRgLFxuICAgKiBgZmFpbGVkYCwgYGNvbXBsZXRlZGAsIG9yIGBleHBpcmVkYC5cbiAgICovXG4gIHN0YXR1czogJ2luX3Byb2dyZXNzJyB8ICdjYW5jZWxsZWQnIHwgJ2ZhaWxlZCcgfCAnY29tcGxldGVkJyB8ICdleHBpcmVkJztcblxuICAvKipcbiAgICogVGhlIGRldGFpbHMgb2YgdGhlIHJ1biBzdGVwLlxuICAgKi9cbiAgc3RlcF9kZXRhaWxzOiBNZXNzYWdlQ3JlYXRpb25TdGVwRGV0YWlscyB8IFRvb2xDYWxsc1N0ZXBEZXRhaWxzO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcylcbiAgICogdGhhdCB3YXMgcnVuLlxuICAgKi9cbiAgdGhyZWFkX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHJ1biBzdGVwLCB3aGljaCBjYW4gYmUgZWl0aGVyIGBtZXNzYWdlX2NyZWF0aW9uYCBvciBgdG9vbF9jYWxsc2AuXG4gICAqL1xuICB0eXBlOiAnbWVzc2FnZV9jcmVhdGlvbicgfCAndG9vbF9jYWxscyc7XG5cbiAgLyoqXG4gICAqIFVzYWdlIHN0YXRpc3RpY3MgcmVsYXRlZCB0byB0aGUgcnVuIHN0ZXAuIFRoaXMgdmFsdWUgd2lsbCBiZSBgbnVsbGAgd2hpbGUgdGhlXG4gICAqIHJ1biBzdGVwJ3Mgc3RhdHVzIGlzIGBpbl9wcm9ncmVzc2AuXG4gICAqL1xuICB1c2FnZTogUnVuU3RlcC5Vc2FnZSB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuU3RlcCB7XG4gIC8qKlxuICAgKiBUaGUgbGFzdCBlcnJvciBhc3NvY2lhdGVkIHdpdGggdGhpcyBydW4gc3RlcC4gV2lsbCBiZSBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vXG4gICAqIGVycm9ycy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTGFzdEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBPbmUgb2YgYHNlcnZlcl9lcnJvcmAgb3IgYHJhdGVfbGltaXRfZXhjZWVkZWRgLlxuICAgICAqL1xuICAgIGNvZGU6ICdzZXJ2ZXJfZXJyb3InIHwgJ3JhdGVfbGltaXRfZXhjZWVkZWQnO1xuXG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3IuXG4gICAgICovXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzYWdlIHN0YXRpc3RpY3MgcmVsYXRlZCB0byB0aGUgcnVuIHN0ZXAuIFRoaXMgdmFsdWUgd2lsbCBiZSBgbnVsbGAgd2hpbGUgdGhlXG4gICAqIHJ1biBzdGVwJ3Mgc3RhdHVzIGlzIGBpbl9wcm9ncmVzc2AuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFVzYWdlIHtcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnMgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIHJ1biBzdGVwLlxuICAgICAqL1xuICAgIGNvbXBsZXRpb25fdG9rZW5zOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgcHJvbXB0IHRva2VucyB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgcnVuIHN0ZXAuXG4gICAgICovXG4gICAgcHJvbXB0X3Rva2VuczogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVG90YWwgbnVtYmVyIG9mIHRva2VucyB1c2VkIChwcm9tcHQgKyBjb21wbGV0aW9uKS5cbiAgICAgKi9cbiAgICB0b3RhbF90b2tlbnM6IG51bWJlcjtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBkZWx0YSBjb250YWluaW5nIHRoZSBmaWVsZHMgdGhhdCBoYXZlIGNoYW5nZWQgb24gdGhlIHJ1biBzdGVwLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN0ZXBEZWx0YSB7XG4gIC8qKlxuICAgKiBUaGUgZGV0YWlscyBvZiB0aGUgcnVuIHN0ZXAuXG4gICAqL1xuICBzdGVwX2RldGFpbHM/OiBSdW5TdGVwRGVsdGFNZXNzYWdlRGVsdGEgfCBUb29sQ2FsbERlbHRhT2JqZWN0O1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBydW4gc3RlcCBkZWx0YSBpLmUuIGFueSBjaGFuZ2VkIGZpZWxkcyBvbiBhIHJ1biBzdGVwIGR1cmluZ1xuICogc3RyZWFtaW5nLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN0ZXBEZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBydW4gc3RlcCwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWx0YSBjb250YWluaW5nIHRoZSBmaWVsZHMgdGhhdCBoYXZlIGNoYW5nZWQgb24gdGhlIHJ1biBzdGVwLlxuICAgKi9cbiAgZGVsdGE6IFJ1blN0ZXBEZWx0YTtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYHRocmVhZC5ydW4uc3RlcC5kZWx0YWAuXG4gICAqL1xuICBvYmplY3Q6ICd0aHJlYWQucnVuLnN0ZXAuZGVsdGEnO1xufVxuXG4vKipcbiAqIERldGFpbHMgb2YgdGhlIG1lc3NhZ2UgY3JlYXRpb24gYnkgdGhlIHJ1biBzdGVwLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN0ZXBEZWx0YU1lc3NhZ2VEZWx0YSB7XG4gIC8qKlxuICAgKiBBbHdheXMgYG1lc3NhZ2VfY3JlYXRpb25gLlxuICAgKi9cbiAgdHlwZTogJ21lc3NhZ2VfY3JlYXRpb24nO1xuXG4gIG1lc3NhZ2VfY3JlYXRpb24/OiBSdW5TdGVwRGVsdGFNZXNzYWdlRGVsdGEuTWVzc2FnZUNyZWF0aW9uO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJ1blN0ZXBEZWx0YU1lc3NhZ2VEZWx0YSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZUNyZWF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIG1lc3NhZ2UgdGhhdCB3YXMgY3JlYXRlZCBieSB0aGlzIHJ1biBzdGVwLlxuICAgICAqL1xuICAgIG1lc3NhZ2VfaWQ/OiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUnVuU3RlcEluY2x1ZGUgPSAnc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHNbKl0uZmlsZV9zZWFyY2gucmVzdWx0c1sqXS5jb250ZW50JztcblxuLyoqXG4gKiBEZXRhaWxzIG9mIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbCB0aGUgcnVuIHN0ZXAgd2FzIGludm9sdmVkIGluLlxuICovXG5leHBvcnQgdHlwZSBUb29sQ2FsbCA9IENvZGVJbnRlcnByZXRlclRvb2xDYWxsIHwgRmlsZVNlYXJjaFRvb2xDYWxsIHwgRnVuY3Rpb25Ub29sQ2FsbDtcblxuLyoqXG4gKiBEZXRhaWxzIG9mIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbCB0aGUgcnVuIHN0ZXAgd2FzIGludm9sdmVkIGluLlxuICovXG5leHBvcnQgdHlwZSBUb29sQ2FsbERlbHRhID0gQ29kZUludGVycHJldGVyVG9vbENhbGxEZWx0YSB8IEZpbGVTZWFyY2hUb29sQ2FsbERlbHRhIHwgRnVuY3Rpb25Ub29sQ2FsbERlbHRhO1xuXG4vKipcbiAqIERldGFpbHMgb2YgdGhlIHRvb2wgY2FsbC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUb29sQ2FsbERlbHRhT2JqZWN0IHtcbiAgLyoqXG4gICAqIEFsd2F5cyBgdG9vbF9jYWxsc2AuXG4gICAqL1xuICB0eXBlOiAndG9vbF9jYWxscyc7XG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIHRvb2wgY2FsbHMgdGhlIHJ1biBzdGVwIHdhcyBpbnZvbHZlZCBpbi4gVGhlc2UgY2FuIGJlIGFzc29jaWF0ZWRcbiAgICogd2l0aCBvbmUgb2YgdGhyZWUgdHlwZXMgb2YgdG9vbHM6IGBjb2RlX2ludGVycHJldGVyYCwgYGZpbGVfc2VhcmNoYCwgb3JcbiAgICogYGZ1bmN0aW9uYC5cbiAgICovXG4gIHRvb2xfY2FsbHM/OiBBcnJheTxUb29sQ2FsbERlbHRhPjtcbn1cblxuLyoqXG4gKiBEZXRhaWxzIG9mIHRoZSB0b29sIGNhbGwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbENhbGxzU3RlcERldGFpbHMge1xuICAvKipcbiAgICogQW4gYXJyYXkgb2YgdG9vbCBjYWxscyB0aGUgcnVuIHN0ZXAgd2FzIGludm9sdmVkIGluLiBUaGVzZSBjYW4gYmUgYXNzb2NpYXRlZFxuICAgKiB3aXRoIG9uZSBvZiB0aHJlZSB0eXBlcyBvZiB0b29sczogYGNvZGVfaW50ZXJwcmV0ZXJgLCBgZmlsZV9zZWFyY2hgLCBvclxuICAgKiBgZnVuY3Rpb25gLlxuICAgKi9cbiAgdG9vbF9jYWxsczogQXJyYXk8VG9vbENhbGw+O1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYHRvb2xfY2FsbHNgLlxuICAgKi9cbiAgdHlwZTogJ3Rvb2xfY2FsbHMnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0ZXBSZXRyaWV2ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgYWRkaXRpb25hbCBmaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcmVzcG9uc2UuIEN1cnJlbnRseSB0aGUgb25seVxuICAgKiBzdXBwb3J0ZWQgdmFsdWUgaXMgYHN0ZXBfZGV0YWlscy50b29sX2NhbGxzWypdLmZpbGVfc2VhcmNoLnJlc3VsdHNbKl0uY29udGVudGBcbiAgICogdG8gZmV0Y2ggdGhlIGZpbGUgc2VhcmNoIHJlc3VsdCBjb250ZW50LlxuICAgKlxuICAgKiBTZWUgdGhlXG4gICAqIFtmaWxlIHNlYXJjaCB0b29sIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvdG9vbHMvZmlsZS1zZWFyY2gjY3VzdG9taXppbmctZmlsZS1zZWFyY2gtc2V0dGluZ3MpXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgaW5jbHVkZT86IEFycmF5PFJ1blN0ZXBJbmNsdWRlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGVwTGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge1xuICAvKipcbiAgICogQSBjdXJzb3IgZm9yIHVzZSBpbiBwYWdpbmF0aW9uLiBgYmVmb3JlYCBpcyBhbiBvYmplY3QgSUQgdGhhdCBkZWZpbmVzIHlvdXIgcGxhY2VcbiAgICogaW4gdGhlIGxpc3QuIEZvciBpbnN0YW5jZSwgaWYgeW91IG1ha2UgYSBsaXN0IHJlcXVlc3QgYW5kIHJlY2VpdmUgMTAwIG9iamVjdHMsXG4gICAqIHN0YXJ0aW5nIHdpdGggb2JqX2ZvbywgeW91ciBzdWJzZXF1ZW50IGNhbGwgY2FuIGluY2x1ZGUgYmVmb3JlPW9ial9mb28gaW4gb3JkZXJcbiAgICogdG8gZmV0Y2ggdGhlIHByZXZpb3VzIHBhZ2Ugb2YgdGhlIGxpc3QuXG4gICAqL1xuICBiZWZvcmU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBhZGRpdGlvbmFsIGZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSByZXNwb25zZS4gQ3VycmVudGx5IHRoZSBvbmx5XG4gICAqIHN1cHBvcnRlZCB2YWx1ZSBpcyBgc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHNbKl0uZmlsZV9zZWFyY2gucmVzdWx0c1sqXS5jb250ZW50YFxuICAgKiB0byBmZXRjaCB0aGUgZmlsZSBzZWFyY2ggcmVzdWx0IGNvbnRlbnQuXG4gICAqXG4gICAqIFNlZSB0aGVcbiAgICogW2ZpbGUgc2VhcmNoIHRvb2wgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy90b29scy9maWxlLXNlYXJjaCNjdXN0b21pemluZy1maWxlLXNlYXJjaC1zZXR0aW5ncylcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqL1xuICBpbmNsdWRlPzogQXJyYXk8UnVuU3RlcEluY2x1ZGU+O1xuXG4gIC8qKlxuICAgKiBTb3J0IG9yZGVyIGJ5IHRoZSBgY3JlYXRlZF9hdGAgdGltZXN0YW1wIG9mIHRoZSBvYmplY3RzLiBgYXNjYCBmb3IgYXNjZW5kaW5nXG4gICAqIG9yZGVyIGFuZCBgZGVzY2AgZm9yIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAqL1xuICBvcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xufVxuXG5TdGVwcy5SdW5TdGVwc1BhZ2UgPSBSdW5TdGVwc1BhZ2U7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBTdGVwcyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBDb2RlSW50ZXJwcmV0ZXJMb2dzIGFzIENvZGVJbnRlcnByZXRlckxvZ3MsXG4gICAgdHlwZSBDb2RlSW50ZXJwcmV0ZXJPdXRwdXRJbWFnZSBhcyBDb2RlSW50ZXJwcmV0ZXJPdXRwdXRJbWFnZSxcbiAgICB0eXBlIENvZGVJbnRlcnByZXRlclRvb2xDYWxsIGFzIENvZGVJbnRlcnByZXRlclRvb2xDYWxsLFxuICAgIHR5cGUgQ29kZUludGVycHJldGVyVG9vbENhbGxEZWx0YSBhcyBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbERlbHRhLFxuICAgIHR5cGUgRmlsZVNlYXJjaFRvb2xDYWxsIGFzIEZpbGVTZWFyY2hUb29sQ2FsbCxcbiAgICB0eXBlIEZpbGVTZWFyY2hUb29sQ2FsbERlbHRhIGFzIEZpbGVTZWFyY2hUb29sQ2FsbERlbHRhLFxuICAgIHR5cGUgRnVuY3Rpb25Ub29sQ2FsbCBhcyBGdW5jdGlvblRvb2xDYWxsLFxuICAgIHR5cGUgRnVuY3Rpb25Ub29sQ2FsbERlbHRhIGFzIEZ1bmN0aW9uVG9vbENhbGxEZWx0YSxcbiAgICB0eXBlIE1lc3NhZ2VDcmVhdGlvblN0ZXBEZXRhaWxzIGFzIE1lc3NhZ2VDcmVhdGlvblN0ZXBEZXRhaWxzLFxuICAgIHR5cGUgUnVuU3RlcCBhcyBSdW5TdGVwLFxuICAgIHR5cGUgUnVuU3RlcERlbHRhIGFzIFJ1blN0ZXBEZWx0YSxcbiAgICB0eXBlIFJ1blN0ZXBEZWx0YUV2ZW50IGFzIFJ1blN0ZXBEZWx0YUV2ZW50LFxuICAgIHR5cGUgUnVuU3RlcERlbHRhTWVzc2FnZURlbHRhIGFzIFJ1blN0ZXBEZWx0YU1lc3NhZ2VEZWx0YSxcbiAgICB0eXBlIFJ1blN0ZXBJbmNsdWRlIGFzIFJ1blN0ZXBJbmNsdWRlLFxuICAgIHR5cGUgVG9vbENhbGwgYXMgVG9vbENhbGwsXG4gICAgdHlwZSBUb29sQ2FsbERlbHRhIGFzIFRvb2xDYWxsRGVsdGEsXG4gICAgdHlwZSBUb29sQ2FsbERlbHRhT2JqZWN0IGFzIFRvb2xDYWxsRGVsdGFPYmplY3QsXG4gICAgdHlwZSBUb29sQ2FsbHNTdGVwRGV0YWlscyBhcyBUb29sQ2FsbHNTdGVwRGV0YWlscyxcbiAgICBSdW5TdGVwc1BhZ2UgYXMgUnVuU3RlcHNQYWdlLFxuICAgIHR5cGUgU3RlcFJldHJpZXZlUGFyYW1zIGFzIFN0ZXBSZXRyaWV2ZVBhcmFtcyxcbiAgICB0eXBlIFN0ZXBMaXN0UGFyYW1zIGFzIFN0ZXBMaXN0UGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgQVBJUHJvbWlzZSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi8uLi8uLi9jb3JlJztcbmltcG9ydCB7IEFzc2lzdGFudFN0cmVhbSwgUnVuQ3JlYXRlUGFyYW1zQmFzZVN0cmVhbSB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9Bc3Npc3RhbnRTdHJlYW0nO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tICcuLi8uLi8uLi8uLi9jb3JlJztcbmltcG9ydCB7IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL0Fzc2lzdGFudFN0cmVhbSc7XG5pbXBvcnQgKiBhcyBSdW5zQVBJIGZyb20gJy4vcnVucyc7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSAnLi4vLi4vLi4vc2hhcmVkJztcbmltcG9ydCAqIGFzIEFzc2lzdGFudHNBUEkgZnJvbSAnLi4vLi4vYXNzaXN0YW50cyc7XG5pbXBvcnQgKiBhcyBNZXNzYWdlc0FQSSBmcm9tICcuLi9tZXNzYWdlcyc7XG5pbXBvcnQgKiBhcyBUaHJlYWRzQVBJIGZyb20gJy4uL3RocmVhZHMnO1xuaW1wb3J0ICogYXMgU3RlcHNBUEkgZnJvbSAnLi9zdGVwcyc7XG5pbXBvcnQge1xuICBDb2RlSW50ZXJwcmV0ZXJMb2dzLFxuICBDb2RlSW50ZXJwcmV0ZXJPdXRwdXRJbWFnZSxcbiAgQ29kZUludGVycHJldGVyVG9vbENhbGwsXG4gIENvZGVJbnRlcnByZXRlclRvb2xDYWxsRGVsdGEsXG4gIEZpbGVTZWFyY2hUb29sQ2FsbCxcbiAgRmlsZVNlYXJjaFRvb2xDYWxsRGVsdGEsXG4gIEZ1bmN0aW9uVG9vbENhbGwsXG4gIEZ1bmN0aW9uVG9vbENhbGxEZWx0YSxcbiAgTWVzc2FnZUNyZWF0aW9uU3RlcERldGFpbHMsXG4gIFJ1blN0ZXAsXG4gIFJ1blN0ZXBEZWx0YSxcbiAgUnVuU3RlcERlbHRhRXZlbnQsXG4gIFJ1blN0ZXBEZWx0YU1lc3NhZ2VEZWx0YSxcbiAgUnVuU3RlcEluY2x1ZGUsXG4gIFJ1blN0ZXBzUGFnZSxcbiAgU3RlcExpc3RQYXJhbXMsXG4gIFN0ZXBSZXRyaWV2ZVBhcmFtcyxcbiAgU3RlcHMsXG4gIFRvb2xDYWxsLFxuICBUb29sQ2FsbERlbHRhLFxuICBUb29sQ2FsbERlbHRhT2JqZWN0LFxuICBUb29sQ2FsbHNTdGVwRGV0YWlscyxcbn0gZnJvbSAnLi9zdGVwcyc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlLCB0eXBlIEN1cnNvclBhZ2VQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi8uLi9wYWdpbmF0aW9uJztcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gJy4uLy4uLy4uLy4uL3N0cmVhbWluZyc7XG5cbmV4cG9ydCBjbGFzcyBSdW5zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBzdGVwczogU3RlcHNBUEkuU3RlcHMgPSBuZXcgU3RlcHNBUEkuU3RlcHModGhpcy5fY2xpZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgcnVuLlxuICAgKi9cbiAgY3JlYXRlKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBSdW5DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8UnVuPjtcbiAgY3JlYXRlKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBSdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPEFzc2lzdGFudHNBUEkuQXNzaXN0YW50U3RyZWFtRXZlbnQ+PjtcbiAgY3JlYXRlKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBSdW5DcmVhdGVQYXJhbXNCYXNlLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFN0cmVhbTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFN0cmVhbUV2ZW50PiB8IFJ1bj47XG4gIGNyZWF0ZShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHBhcmFtczogUnVuQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFJ1bj4gfCBBUElQcm9taXNlPFN0cmVhbTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFN0cmVhbUV2ZW50Pj4ge1xuICAgIGNvbnN0IHsgaW5jbHVkZSwgLi4uYm9keSB9ID0gcGFyYW1zO1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVuc2AsIHtcbiAgICAgIHF1ZXJ5OiB7IGluY2x1ZGUgfSxcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgIHN0cmVhbTogcGFyYW1zLnN0cmVhbSA/PyBmYWxzZSxcbiAgICB9KSBhcyBBUElQcm9taXNlPFJ1bj4gfCBBUElQcm9taXNlPFN0cmVhbTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFN0cmVhbUV2ZW50Pj47XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgcnVuLlxuICAgKi9cbiAgcmV0cmlldmUodGhyZWFkSWQ6IHN0cmluZywgcnVuSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8UnVuPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb2RpZmllcyBhIHJ1bi5cbiAgICovXG4gIHVwZGF0ZShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgYm9keTogUnVuVXBkYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8UnVuPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9YCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHJ1bnMgYmVsb25naW5nIHRvIGEgdGhyZWFkLlxuICAgKi9cbiAgbGlzdChcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogUnVuTGlzdFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxSdW5zUGFnZSwgUnVuPjtcbiAgbGlzdCh0aHJlYWRJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8UnVuc1BhZ2UsIFJ1bj47XG4gIGxpc3QoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBxdWVyeTogUnVuTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxSdW5zUGFnZSwgUnVuPiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0KHRocmVhZElkLCB7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnNgLCBSdW5zUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgcnVuIHRoYXQgaXMgYGluX3Byb2dyZXNzYC5cbiAgICovXG4gIGNhbmNlbCh0aHJlYWRJZDogc3RyaW5nLCBydW5JZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxSdW4+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH0vY2FuY2VsYCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQSBoZWxwZXIgdG8gY3JlYXRlIGEgcnVuIGFuIHBvbGwgZm9yIGEgdGVybWluYWwgc3RhdGUuIE1vcmUgaW5mb3JtYXRpb24gb24gUnVuXG4gICAqIGxpZmVjeWNsZXMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgKi9cbiAgYXN5bmMgY3JlYXRlQW5kUG9sbChcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIGJvZHk6IFJ1bkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyAmIHsgcG9sbEludGVydmFsTXM/OiBudW1iZXIgfSxcbiAgKTogUHJvbWlzZTxSdW4+IHtcbiAgICBjb25zdCBydW4gPSBhd2FpdCB0aGlzLmNyZWF0ZSh0aHJlYWRJZCwgYm9keSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucG9sbCh0aHJlYWRJZCwgcnVuLmlkLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBSdW4gc3RyZWFtXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIHVzZSBgc3RyZWFtYCBpbnN0ZWFkXG4gICAqL1xuICBjcmVhdGVBbmRTdHJlYW0oXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBib2R5OiBSdW5DcmVhdGVQYXJhbXNCYXNlU3RyZWFtLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBc3Npc3RhbnRTdHJlYW0ge1xuICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCB0aGlzLl9jbGllbnQuYmV0YS50aHJlYWRzLnJ1bnMsIGJvZHksIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIHRvIHBvbGwgYSBydW4gc3RhdHVzIHVudGlsIGl0IHJlYWNoZXMgYSB0ZXJtaW5hbCBzdGF0ZS4gTW9yZVxuICAgKiBpbmZvcm1hdGlvbiBvbiBSdW4gbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy9ob3ctaXQtd29ya3MvcnVucy1hbmQtcnVuLXN0ZXBzXG4gICAqL1xuICBhc3luYyBwb2xsKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyAmIHsgcG9sbEludGVydmFsTXM/OiBudW1iZXIgfSxcbiAgKTogUHJvbWlzZTxSdW4+IHtcbiAgICBjb25zdCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0geyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtUG9sbC1IZWxwZXInOiAndHJ1ZScgfTtcblxuICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgaGVhZGVyc1snWC1TdGFpbmxlc3MtQ3VzdG9tLVBvbGwtSW50ZXJ2YWwnXSA9IG9wdGlvbnMucG9sbEludGVydmFsTXMudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgeyBkYXRhOiBydW4sIHJlc3BvbnNlIH0gPSBhd2FpdCB0aGlzLnJldHJpZXZlKHRocmVhZElkLCBydW5JZCwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsIC4uLmhlYWRlcnMgfSxcbiAgICAgIH0pLndpdGhSZXNwb25zZSgpO1xuXG4gICAgICBzd2l0Y2ggKHJ1bi5zdGF0dXMpIHtcbiAgICAgICAgLy9JZiB3ZSBhcmUgaW4gYW55IHNvcnQgb2YgaW50ZXJtZWRpYXRlIHN0YXRlIHdlIHBvbGxcbiAgICAgICAgY2FzZSAncXVldWVkJzpcbiAgICAgICAgY2FzZSAnaW5fcHJvZ3Jlc3MnOlxuICAgICAgICBjYXNlICdjYW5jZWxsaW5nJzpcbiAgICAgICAgICBsZXQgc2xlZXBJbnRlcnZhbCA9IDUwMDA7XG5cbiAgICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJJbnRlcnZhbCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdvcGVuYWktcG9sbC1hZnRlci1tcycpO1xuICAgICAgICAgICAgaWYgKGhlYWRlckludGVydmFsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsTXMgPSBwYXJzZUludChoZWFkZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICAgIGlmICghaXNOYU4oaGVhZGVySW50ZXJ2YWxNcykpIHtcbiAgICAgICAgICAgICAgICBzbGVlcEludGVydmFsID0gaGVhZGVySW50ZXJ2YWxNcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhd2FpdCBzbGVlcChzbGVlcEludGVydmFsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy9XZSByZXR1cm4gdGhlIHJ1biBpbiBhbnkgdGVybWluYWwgc3RhdGUuXG4gICAgICAgIGNhc2UgJ3JlcXVpcmVzX2FjdGlvbic6XG4gICAgICAgIGNhc2UgJ2luY29tcGxldGUnOlxuICAgICAgICBjYXNlICdjYW5jZWxsZWQnOlxuICAgICAgICBjYXNlICdjb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICBjYXNlICdleHBpcmVkJzpcbiAgICAgICAgICByZXR1cm4gcnVuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBSdW4gc3RyZWFtXG4gICAqL1xuICBzdHJlYW0odGhyZWFkSWQ6IHN0cmluZywgYm9keTogUnVuQ3JlYXRlUGFyYW1zQmFzZVN0cmVhbSwgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBBc3Npc3RhbnRTdHJlYW0ge1xuICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCB0aGlzLl9jbGllbnQuYmV0YS50aHJlYWRzLnJ1bnMsIGJvZHksIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gYSBydW4gaGFzIHRoZSBgc3RhdHVzOiBcInJlcXVpcmVzX2FjdGlvblwiYCBhbmQgYHJlcXVpcmVkX2FjdGlvbi50eXBlYCBpc1xuICAgKiBgc3VibWl0X3Rvb2xfb3V0cHV0c2AsIHRoaXMgZW5kcG9pbnQgY2FuIGJlIHVzZWQgdG8gc3VibWl0IHRoZSBvdXRwdXRzIGZyb20gdGhlXG4gICAqIHRvb2wgY2FsbHMgb25jZSB0aGV5J3JlIGFsbCBjb21wbGV0ZWQuIEFsbCBvdXRwdXRzIG11c3QgYmUgc3VibWl0dGVkIGluIGEgc2luZ2xlXG4gICAqIHJlcXVlc3QuXG4gICAqL1xuICBzdWJtaXRUb29sT3V0cHV0cyhcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgYm9keTogUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8UnVuPjtcbiAgc3VibWl0VG9vbE91dHB1dHMoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIGJvZHk6IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFN0cmVhbTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFN0cmVhbUV2ZW50Pj47XG4gIHN1Ym1pdFRvb2xPdXRwdXRzKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBib2R5OiBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc0Jhc2UsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPEFzc2lzdGFudHNBUEkuQXNzaXN0YW50U3RyZWFtRXZlbnQ+IHwgUnVuPjtcbiAgc3VibWl0VG9vbE91dHB1dHMoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIGJvZHk6IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFJ1bj4gfCBBUElQcm9taXNlPFN0cmVhbTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFN0cmVhbUV2ZW50Pj4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfS9zdWJtaXRfdG9vbF9vdXRwdXRzYCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSxcbiAgICB9KSBhcyBBUElQcm9taXNlPFJ1bj4gfCBBUElQcm9taXNlPFN0cmVhbTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFN0cmVhbUV2ZW50Pj47XG4gIH1cblxuICAvKipcbiAgICogQSBoZWxwZXIgdG8gc3VibWl0IGEgdG9vbCBvdXRwdXQgdG8gYSBydW4gYW5kIHBvbGwgZm9yIGEgdGVybWluYWwgcnVuIHN0YXRlLlxuICAgKiBNb3JlIGluZm9ybWF0aW9uIG9uIFJ1biBsaWZlY3ljbGVzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICAgKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL2hvdy1pdC13b3Jrcy9ydW5zLWFuZC1ydW4tc3RlcHNcbiAgICovXG4gIGFzeW5jIHN1Ym1pdFRvb2xPdXRwdXRzQW5kUG9sbChcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgYm9keTogUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMgJiB7IHBvbGxJbnRlcnZhbE1zPzogbnVtYmVyIH0sXG4gICk6IFByb21pc2U8UnVuPiB7XG4gICAgY29uc3QgcnVuID0gYXdhaXQgdGhpcy5zdWJtaXRUb29sT3V0cHV0cyh0aHJlYWRJZCwgcnVuSWQsIGJvZHksIG9wdGlvbnMpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodGhyZWFkSWQsIHJ1bi5pZCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU3VibWl0IHRoZSB0b29sIG91dHB1dHMgZnJvbSBhIHByZXZpb3VzIHJ1biBhbmQgc3RyZWFtIHRoZSBydW4gdG8gYSB0ZXJtaW5hbFxuICAgKiBzdGF0ZS4gTW9yZSBpbmZvcm1hdGlvbiBvbiBSdW4gbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy9ob3ctaXQtd29ya3MvcnVucy1hbmQtcnVuLXN0ZXBzXG4gICAqL1xuICBzdWJtaXRUb29sT3V0cHV0c1N0cmVhbShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgYm9keTogUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW0sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFzc2lzdGFudFN0cmVhbSB7XG4gICAgcmV0dXJuIEFzc2lzdGFudFN0cmVhbS5jcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKFxuICAgICAgdGhyZWFkSWQsXG4gICAgICBydW5JZCxcbiAgICAgIHRoaXMuX2NsaWVudC5iZXRhLnRocmVhZHMucnVucyxcbiAgICAgIGJvZHksXG4gICAgICBvcHRpb25zLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJ1bnNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxSdW4+IHt9XG5cbi8qKlxuICogVG9vbCBjYWxsIG9iamVjdHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXF1aXJlZEFjdGlvbkZ1bmN0aW9uVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuIFRoaXMgSUQgbXVzdCBiZSByZWZlcmVuY2VkIHdoZW4geW91IHN1Ym1pdCB0aGUgdG9vbFxuICAgKiBvdXRwdXRzIGluIHVzaW5nIHRoZVxuICAgKiBbU3VibWl0IHRvb2wgb3V0cHV0cyB0byBydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9zdWJtaXRUb29sT3V0cHV0cylcbiAgICogZW5kcG9pbnQuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24gZGVmaW5pdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uOiBSZXF1aXJlZEFjdGlvbkZ1bmN0aW9uVG9vbENhbGwuRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRvb2wgY2FsbCB0aGUgb3V0cHV0IGlzIHJlcXVpcmVkIGZvci4gRm9yIG5vdywgdGhpcyBpcyBhbHdheXNcbiAgICogYGZ1bmN0aW9uYC5cbiAgICovXG4gIHR5cGU6ICdmdW5jdGlvbic7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUmVxdWlyZWRBY3Rpb25GdW5jdGlvblRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSBmdW5jdGlvbiBkZWZpbml0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIGFyZ3VtZW50cyB0aGF0IHRoZSBtb2RlbCBleHBlY3RzIHlvdSB0byBwYXNzIHRvIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBhcmd1bWVudHM6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSdW4ge1xuICAvKipcbiAgICogVGhlIGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlXG4gICAqIFthc3Npc3RhbnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgdXNlZCBmb3JcbiAgICogZXhlY3V0aW9uIG9mIHRoaXMgcnVuLlxuICAgKi9cbiAgYXNzaXN0YW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHJ1biB3YXMgY2FuY2VsbGVkLlxuICAgKi9cbiAgY2FuY2VsbGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBydW4gd2FzIGNvbXBsZXRlZC5cbiAgICovXG4gIGNvbXBsZXRlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBydW4gd2lsbCBleHBpcmUuXG4gICAqL1xuICBleHBpcmVzX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBydW4gZmFpbGVkLlxuICAgKi9cbiAgZmFpbGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBEZXRhaWxzIG9uIHdoeSB0aGUgcnVuIGlzIGluY29tcGxldGUuIFdpbGwgYmUgYG51bGxgIGlmIHRoZSBydW4gaXMgbm90XG4gICAqIGluY29tcGxldGUuXG4gICAqL1xuICBpbmNvbXBsZXRlX2RldGFpbHM6IFJ1bi5JbmNvbXBsZXRlRGV0YWlscyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBpbnN0cnVjdGlvbnMgdGhhdCB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB1c2VkIGZvclxuICAgKiB0aGlzIHJ1bi5cbiAgICovXG4gIGluc3RydWN0aW9uczogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbGFzdCBlcnJvciBhc3NvY2lhdGVkIHdpdGggdGhpcyBydW4uIFdpbGwgYmUgYG51bGxgIGlmIHRoZXJlIGFyZSBubyBlcnJvcnMuXG4gICAqL1xuICBsYXN0X2Vycm9yOiBSdW4uTGFzdEVycm9yIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zIHNwZWNpZmllZCB0byBoYXZlIGJlZW4gdXNlZCBvdmVyIHRoZVxuICAgKiBjb3Vyc2Ugb2YgdGhlIHJ1bi5cbiAgICovXG4gIG1heF9jb21wbGV0aW9uX3Rva2VuczogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHByb21wdCB0b2tlbnMgc3BlY2lmaWVkIHRvIGhhdmUgYmVlbiB1c2VkIG92ZXIgdGhlIGNvdXJzZVxuICAgKiBvZiB0aGUgcnVuLlxuICAgKi9cbiAgbWF4X3Byb21wdF90b2tlbnM6IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YTogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHRoYXQgdGhlXG4gICAqIFthc3Npc3RhbnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgdXNlZCBmb3JcbiAgICogdGhpcyBydW4uXG4gICAqL1xuICBtb2RlbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgdGhyZWFkLnJ1bmAuXG4gICAqL1xuICBvYmplY3Q6ICd0aHJlYWQucnVuJztcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGVcbiAgICogW3BhcmFsbGVsIGZ1bmN0aW9uIGNhbGxpbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9mdW5jdGlvbi1jYWxsaW5nI2NvbmZpZ3VyaW5nLXBhcmFsbGVsLWZ1bmN0aW9uLWNhbGxpbmcpXG4gICAqIGR1cmluZyB0b29sIHVzZS5cbiAgICovXG4gIHBhcmFsbGVsX3Rvb2xfY2FsbHM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERldGFpbHMgb24gdGhlIGFjdGlvbiByZXF1aXJlZCB0byBjb250aW51ZSB0aGUgcnVuLiBXaWxsIGJlIGBudWxsYCBpZiBubyBhY3Rpb25cbiAgICogaXMgcmVxdWlyZWQuXG4gICAqL1xuICByZXF1aXJlZF9hY3Rpb246IFJ1bi5SZXF1aXJlZEFjdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LiBDb21wYXRpYmxlIHdpdGhcbiAgICogW0dQVC00b10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00byksXG4gICAqIFtHUFQtNCBUdXJib10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00LXR1cmJvLWFuZC1ncHQtNCksXG4gICAqIGFuZCBhbGwgR1BULTMuNSBUdXJibyBtb2RlbHMgc2luY2UgYGdwdC0zLjUtdHVyYm8tMTEwNmAuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9zY2hlbWFcIiwgXCJqc29uX3NjaGVtYVwiOiB7Li4ufSB9YCBlbmFibGVzIFN0cnVjdHVyZWRcbiAgICogT3V0cHV0cyB3aGljaCBlbnN1cmVzIHRoZSBtb2RlbCB3aWxsIG1hdGNoIHlvdXIgc3VwcGxpZWQgSlNPTiBzY2hlbWEuIExlYXJuIG1vcmVcbiAgICogaW4gdGhlXG4gICAqIFtTdHJ1Y3R1cmVkIE91dHB1dHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGVuc3VyZXMgdGhlXG4gICAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gICAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAgICogZ2VuZXJhdGUgYW4gdW5lbmRpbmcgc3RyZWFtIG9mIHdoaXRlc3BhY2UgdW50aWwgdGhlIGdlbmVyYXRpb24gcmVhY2hlcyB0aGUgdG9rZW5cbiAgICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAgICogaW5kaWNhdGVzIHRoZSBnZW5lcmF0aW9uIGV4Y2VlZGVkIGBtYXhfdG9rZW5zYCBvciB0aGUgY29udmVyc2F0aW9uIGV4Y2VlZGVkIHRoZVxuICAgKiBtYXggY29udGV4dCBsZW5ndGguXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ6IFRocmVhZHNBUEkuQXNzaXN0YW50UmVzcG9uc2VGb3JtYXRPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBydW4gd2FzIHN0YXJ0ZWQuXG4gICAqL1xuICBzdGFydGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBydW4sIHdoaWNoIGNhbiBiZSBlaXRoZXIgYHF1ZXVlZGAsIGBpbl9wcm9ncmVzc2AsXG4gICAqIGByZXF1aXJlc19hY3Rpb25gLCBgY2FuY2VsbGluZ2AsIGBjYW5jZWxsZWRgLCBgZmFpbGVkYCwgYGNvbXBsZXRlZGAsXG4gICAqIGBpbmNvbXBsZXRlYCwgb3IgYGV4cGlyZWRgLlxuICAgKi9cbiAgc3RhdHVzOiBSdW5TdGF0dXM7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKVxuICAgKiB0aGF0IHdhcyBleGVjdXRlZCBvbiBhcyBhIHBhcnQgb2YgdGhpcyBydW4uXG4gICAqL1xuICB0aHJlYWRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQ29udHJvbHMgd2hpY2ggKGlmIGFueSkgdG9vbCBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLiBgbm9uZWAgbWVhbnMgdGhlIG1vZGVsIHdpbGxcbiAgICogbm90IGNhbGwgYW55IHRvb2xzIGFuZCBpbnN0ZWFkIGdlbmVyYXRlcyBhIG1lc3NhZ2UuIGBhdXRvYCBpcyB0aGUgZGVmYXVsdCB2YWx1ZVxuICAgKiBhbmQgbWVhbnMgdGhlIG1vZGVsIGNhbiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3IgY2FsbGluZyBvbmUgb3IgbW9yZVxuICAgKiB0b29scy4gYHJlcXVpcmVkYCBtZWFucyB0aGUgbW9kZWwgbXVzdCBjYWxsIG9uZSBvciBtb3JlIHRvb2xzIGJlZm9yZSByZXNwb25kaW5nXG4gICAqIHRvIHRoZSB1c2VyLiBTcGVjaWZ5aW5nIGEgcGFydGljdWxhciB0b29sIGxpa2UgYHtcInR5cGVcIjogXCJmaWxlX3NlYXJjaFwifWAgb3JcbiAgICogYHtcInR5cGVcIjogXCJmdW5jdGlvblwiLCBcImZ1bmN0aW9uXCI6IHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifX1gIGZvcmNlcyB0aGUgbW9kZWwgdG9cbiAgICogY2FsbCB0aGF0IHRvb2wuXG4gICAqL1xuICB0b29sX2Nob2ljZTogVGhyZWFkc0FQSS5Bc3Npc3RhbnRUb29sQ2hvaWNlT3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgdG9vbHMgdGhhdCB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB1c2VkIGZvclxuICAgKiB0aGlzIHJ1bi5cbiAgICovXG4gIHRvb2xzOiBBcnJheTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFRvb2w+O1xuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb3IgaG93IGEgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHByaW9yIHRvIHRoZSBydW4uIFVzZSB0aGlzIHRvXG4gICAqIGNvbnRyb2wgdGhlIGludGlhbCBjb250ZXh0IHdpbmRvdyBvZiB0aGUgcnVuLlxuICAgKi9cbiAgdHJ1bmNhdGlvbl9zdHJhdGVneTogUnVuLlRydW5jYXRpb25TdHJhdGVneSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFVzYWdlIHN0YXRpc3RpY3MgcmVsYXRlZCB0byB0aGUgcnVuLiBUaGlzIHZhbHVlIHdpbGwgYmUgYG51bGxgIGlmIHRoZSBydW4gaXMgbm90XG4gICAqIGluIGEgdGVybWluYWwgc3RhdGUgKGkuZS4gYGluX3Byb2dyZXNzYCwgYHF1ZXVlZGAsIGV0Yy4pLlxuICAgKi9cbiAgdXNhZ2U6IFJ1bi5Vc2FnZSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzYW1wbGluZyB0ZW1wZXJhdHVyZSB1c2VkIGZvciB0aGlzIHJ1bi4gSWYgbm90IHNldCwgZGVmYXVsdHMgdG8gMS5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG51Y2xldXMgc2FtcGxpbmcgdmFsdWUgdXNlZCBmb3IgdGhpcyBydW4uIElmIG5vdCBzZXQsIGRlZmF1bHRzIHRvIDEuXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuIHtcbiAgLyoqXG4gICAqIERldGFpbHMgb24gd2h5IHRoZSBydW4gaXMgaW5jb21wbGV0ZS4gV2lsbCBiZSBgbnVsbGAgaWYgdGhlIHJ1biBpcyBub3RcbiAgICogaW5jb21wbGV0ZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgSW5jb21wbGV0ZURldGFpbHMge1xuICAgIC8qKlxuICAgICAqIFRoZSByZWFzb24gd2h5IHRoZSBydW4gaXMgaW5jb21wbGV0ZS4gVGhpcyB3aWxsIHBvaW50IHRvIHdoaWNoIHNwZWNpZmljIHRva2VuXG4gICAgICogbGltaXQgd2FzIHJlYWNoZWQgb3ZlciB0aGUgY291cnNlIG9mIHRoZSBydW4uXG4gICAgICovXG4gICAgcmVhc29uPzogJ21heF9jb21wbGV0aW9uX3Rva2VucycgfCAnbWF4X3Byb21wdF90b2tlbnMnO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBsYXN0IGVycm9yIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJ1bi4gV2lsbCBiZSBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vIGVycm9ycy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTGFzdEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBPbmUgb2YgYHNlcnZlcl9lcnJvcmAsIGByYXRlX2xpbWl0X2V4Y2VlZGVkYCwgb3IgYGludmFsaWRfcHJvbXB0YC5cbiAgICAgKi9cbiAgICBjb2RlOiAnc2VydmVyX2Vycm9yJyB8ICdyYXRlX2xpbWl0X2V4Y2VlZGVkJyB8ICdpbnZhbGlkX3Byb21wdCc7XG5cbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIGRlc2NyaXB0aW9uIG9mIHRoZSBlcnJvci5cbiAgICAgKi9cbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogRGV0YWlscyBvbiB0aGUgYWN0aW9uIHJlcXVpcmVkIHRvIGNvbnRpbnVlIHRoZSBydW4uIFdpbGwgYmUgYG51bGxgIGlmIG5vIGFjdGlvblxuICAgKiBpcyByZXF1aXJlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgUmVxdWlyZWRBY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIERldGFpbHMgb24gdGhlIHRvb2wgb3V0cHV0cyBuZWVkZWQgZm9yIHRoaXMgcnVuIHRvIGNvbnRpbnVlLlxuICAgICAqL1xuICAgIHN1Ym1pdF90b29sX291dHB1dHM6IFJlcXVpcmVkQWN0aW9uLlN1Ym1pdFRvb2xPdXRwdXRzO1xuXG4gICAgLyoqXG4gICAgICogRm9yIG5vdywgdGhpcyBpcyBhbHdheXMgYHN1Ym1pdF90b29sX291dHB1dHNgLlxuICAgICAqL1xuICAgIHR5cGU6ICdzdWJtaXRfdG9vbF9vdXRwdXRzJztcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgUmVxdWlyZWRBY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIERldGFpbHMgb24gdGhlIHRvb2wgb3V0cHV0cyBuZWVkZWQgZm9yIHRoaXMgcnVuIHRvIGNvbnRpbnVlLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgU3VibWl0VG9vbE91dHB1dHMge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgdGhlIHJlbGV2YW50IHRvb2wgY2FsbHMuXG4gICAgICAgKi9cbiAgICAgIHRvb2xfY2FsbHM6IEFycmF5PFJ1bnNBUEkuUmVxdWlyZWRBY3Rpb25GdW5jdGlvblRvb2xDYWxsPjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2UgdGhpcyB0b1xuICAgKiBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVHJ1bmNhdGlvblN0cmF0ZWd5IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJ1bmNhdGlvbiBzdHJhdGVneSB0byB1c2UgZm9yIHRoZSB0aHJlYWQuIFRoZSBkZWZhdWx0IGlzIGBhdXRvYC4gSWYgc2V0IHRvXG4gICAgICogYGxhc3RfbWVzc2FnZXNgLCB0aGUgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHRvIHRoZSBuIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGluXG4gICAgICogdGhlIHRocmVhZC4gV2hlbiBzZXQgdG8gYGF1dG9gLCBtZXNzYWdlcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSB0aHJlYWQgd2lsbCBiZVxuICAgICAqIGRyb3BwZWQgdG8gZml0IHRoZSBjb250ZXh0IGxlbmd0aCBvZiB0aGUgbW9kZWwsIGBtYXhfcHJvbXB0X3Rva2Vuc2AuXG4gICAgICovXG4gICAgdHlwZTogJ2F1dG8nIHwgJ2xhc3RfbWVzc2FnZXMnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBtb3N0IHJlY2VudCBtZXNzYWdlcyBmcm9tIHRoZSB0aHJlYWQgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGNvbnRleHRcbiAgICAgKiBmb3IgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBsYXN0X21lc3NhZ2VzPzogbnVtYmVyIHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2FnZSBzdGF0aXN0aWNzIHJlbGF0ZWQgdG8gdGhlIHJ1bi4gVGhpcyB2YWx1ZSB3aWxsIGJlIGBudWxsYCBpZiB0aGUgcnVuIGlzIG5vdFxuICAgKiBpbiBhIHRlcm1pbmFsIHN0YXRlIChpLmUuIGBpbl9wcm9ncmVzc2AsIGBxdWV1ZWRgLCBldGMuKS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVXNhZ2Uge1xuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBjb21wbGV0aW9uIHRva2VucyB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgcnVuLlxuICAgICAqL1xuICAgIGNvbXBsZXRpb25fdG9rZW5zOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgcHJvbXB0IHRva2VucyB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgcnVuLlxuICAgICAqL1xuICAgIHByb21wdF90b2tlbnM6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRvdGFsIG51bWJlciBvZiB0b2tlbnMgdXNlZCAocHJvbXB0ICsgY29tcGxldGlvbikuXG4gICAgICovXG4gICAgdG90YWxfdG9rZW5zOiBudW1iZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgc3RhdHVzIG9mIHRoZSBydW4sIHdoaWNoIGNhbiBiZSBlaXRoZXIgYHF1ZXVlZGAsIGBpbl9wcm9ncmVzc2AsXG4gKiBgcmVxdWlyZXNfYWN0aW9uYCwgYGNhbmNlbGxpbmdgLCBgY2FuY2VsbGVkYCwgYGZhaWxlZGAsIGBjb21wbGV0ZWRgLFxuICogYGluY29tcGxldGVgLCBvciBgZXhwaXJlZGAuXG4gKi9cbmV4cG9ydCB0eXBlIFJ1blN0YXR1cyA9XG4gIHwgJ3F1ZXVlZCdcbiAgfCAnaW5fcHJvZ3Jlc3MnXG4gIHwgJ3JlcXVpcmVzX2FjdGlvbidcbiAgfCAnY2FuY2VsbGluZydcbiAgfCAnY2FuY2VsbGVkJ1xuICB8ICdmYWlsZWQnXG4gIHwgJ2NvbXBsZXRlZCdcbiAgfCAnaW5jb21wbGV0ZSdcbiAgfCAnZXhwaXJlZCc7XG5cbmV4cG9ydCB0eXBlIFJ1bkNyZWF0ZVBhcmFtcyA9IFJ1bkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyB8IFJ1bkNyZWF0ZVBhcmFtc1N0cmVhbWluZztcblxuZXhwb3J0IGludGVyZmFjZSBSdW5DcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFRoZSBJRCBvZiB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB0byB1c2UgdG9cbiAgICogZXhlY3V0ZSB0aGlzIHJ1bi5cbiAgICovXG4gIGFzc2lzdGFudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBRdWVyeSBwYXJhbTogQSBsaXN0IG9mIGFkZGl0aW9uYWwgZmllbGRzIHRvIGluY2x1ZGUgaW4gdGhlIHJlc3BvbnNlLiBDdXJyZW50bHlcbiAgICogdGhlIG9ubHkgc3VwcG9ydGVkIHZhbHVlIGlzXG4gICAqIGBzdGVwX2RldGFpbHMudG9vbF9jYWxsc1sqXS5maWxlX3NlYXJjaC5yZXN1bHRzWypdLmNvbnRlbnRgIHRvIGZldGNoIHRoZSBmaWxlXG4gICAqIHNlYXJjaCByZXN1bHQgY29udGVudC5cbiAgICpcbiAgICogU2VlIHRoZVxuICAgKiBbZmlsZSBzZWFyY2ggdG9vbCBkb2N1bWVudGF0aW9uXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL3Rvb2xzL2ZpbGUtc2VhcmNoI2N1c3RvbWl6aW5nLWZpbGUtc2VhcmNoLXNldHRpbmdzKVxuICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGluY2x1ZGU/OiBBcnJheTxTdGVwc0FQSS5SdW5TdGVwSW5jbHVkZT47XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IEFwcGVuZHMgYWRkaXRpb25hbCBpbnN0cnVjdGlvbnMgYXQgdGhlIGVuZCBvZiB0aGUgaW5zdHJ1Y3Rpb25zIGZvclxuICAgKiB0aGUgcnVuLiBUaGlzIGlzIHVzZWZ1bCBmb3IgbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMgd2l0aG91dFxuICAgKiBvdmVycmlkaW5nIG90aGVyIGluc3RydWN0aW9ucy5cbiAgICovXG4gIGFkZGl0aW9uYWxfaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogQWRkcyBhZGRpdGlvbmFsIG1lc3NhZ2VzIHRvIHRoZSB0aHJlYWQgYmVmb3JlIGNyZWF0aW5nIHRoZSBydW4uXG4gICAqL1xuICBhZGRpdGlvbmFsX21lc3NhZ2VzPzogQXJyYXk8UnVuQ3JlYXRlUGFyYW1zLkFkZGl0aW9uYWxNZXNzYWdlPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IE92ZXJyaWRlcyB0aGVcbiAgICogW2luc3RydWN0aW9uc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzL2NyZWF0ZUFzc2lzdGFudClcbiAgICogb2YgdGhlIGFzc2lzdGFudC4gVGhpcyBpcyB1c2VmdWwgZm9yIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogVGhlIG1heGltdW0gbnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zIHRoYXQgbWF5IGJlIHVzZWQgb3ZlciB0aGVcbiAgICogY291cnNlIG9mIHRoZSBydW4uIFRoZSBydW4gd2lsbCBtYWtlIGEgYmVzdCBlZmZvcnQgdG8gdXNlIG9ubHkgdGhlIG51bWJlciBvZlxuICAgKiBjb21wbGV0aW9uIHRva2VucyBzcGVjaWZpZWQsIGFjcm9zcyBtdWx0aXBsZSB0dXJucyBvZiB0aGUgcnVuLiBJZiB0aGUgcnVuXG4gICAqIGV4Y2VlZHMgdGhlIG51bWJlciBvZiBjb21wbGV0aW9uIHRva2VucyBzcGVjaWZpZWQsIHRoZSBydW4gd2lsbCBlbmQgd2l0aCBzdGF0dXNcbiAgICogYGluY29tcGxldGVgLiBTZWUgYGluY29tcGxldGVfZGV0YWlsc2AgZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIG1heF9jb21wbGV0aW9uX3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFRoZSBtYXhpbXVtIG51bWJlciBvZiBwcm9tcHQgdG9rZW5zIHRoYXQgbWF5IGJlIHVzZWQgb3ZlciB0aGUgY291cnNlXG4gICAqIG9mIHRoZSBydW4uIFRoZSBydW4gd2lsbCBtYWtlIGEgYmVzdCBlZmZvcnQgdG8gdXNlIG9ubHkgdGhlIG51bWJlciBvZiBwcm9tcHRcbiAgICogdG9rZW5zIHNwZWNpZmllZCwgYWNyb3NzIG11bHRpcGxlIHR1cm5zIG9mIHRoZSBydW4uIElmIHRoZSBydW4gZXhjZWVkcyB0aGVcbiAgICogbnVtYmVyIG9mIHByb21wdCB0b2tlbnMgc3BlY2lmaWVkLCB0aGUgcnVuIHdpbGwgZW5kIHdpdGggc3RhdHVzIGBpbmNvbXBsZXRlYC5cbiAgICogU2VlIGBpbmNvbXBsZXRlX2RldGFpbHNgIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBtYXhfcHJvbXB0X3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzXG4gICAqIGNhbiBiZSB1c2VmdWwgZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGFcbiAgICogc3RydWN0dXJlZCBmb3JtYXQsIGFuZCBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFRoZSBJRCBvZiB0aGVcbiAgICogW01vZGVsXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21vZGVscykgdG8gYmUgdXNlZCB0b1xuICAgKiBleGVjdXRlIHRoaXMgcnVuLiBJZiBhIHZhbHVlIGlzIHByb3ZpZGVkIGhlcmUsIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIG1vZGVsXG4gICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXNzaXN0YW50LiBJZiBub3QsIHRoZSBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlIGFzc2lzdGFudFxuICAgKiB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBtb2RlbD86IChzdHJpbmcgJiB7fSkgfCBTaGFyZWQuQ2hhdE1vZGVsIHwgbnVsbDtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogV2hldGhlciB0byBlbmFibGVcbiAgICogW3BhcmFsbGVsIGZ1bmN0aW9uIGNhbGxpbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9mdW5jdGlvbi1jYWxsaW5nI2NvbmZpZ3VyaW5nLXBhcmFsbGVsLWZ1bmN0aW9uLWNhbGxpbmcpXG4gICAqIGR1cmluZyB0b29sIHVzZS5cbiAgICovXG4gIHBhcmFsbGVsX3Rvb2xfY2FsbHM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiAqKm8tc2VyaWVzIG1vZGVscyBvbmx5KipcbiAgICpcbiAgICogQ29uc3RyYWlucyBlZmZvcnQgb24gcmVhc29uaW5nIGZvclxuICAgKiBbcmVhc29uaW5nIG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3JlYXNvbmluZykuIEN1cnJlbnRseVxuICAgKiBzdXBwb3J0ZWQgdmFsdWVzIGFyZSBgbG93YCwgYG1lZGl1bWAsIGFuZCBgaGlnaGAuIFJlZHVjaW5nIHJlYXNvbmluZyBlZmZvcnQgY2FuXG4gICAqIHJlc3VsdCBpbiBmYXN0ZXIgcmVzcG9uc2VzIGFuZCBmZXdlciB0b2tlbnMgdXNlZCBvbiByZWFzb25pbmcgaW4gYSByZXNwb25zZS5cbiAgICovXG4gIHJlYXNvbmluZ19lZmZvcnQ/OiBTaGFyZWQuUmVhc29uaW5nRWZmb3J0IHwgbnVsbDtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogU3BlY2lmaWVzIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuIENvbXBhdGlibGUgd2l0aFxuICAgKiBbR1BULTRvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjZ3B0LTRvKSxcbiAgICogW0dQVC00IFR1cmJvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjZ3B0LTQtdHVyYm8tYW5kLWdwdC00KSxcbiAgICogYW5kIGFsbCBHUFQtMy41IFR1cmJvIG1vZGVscyBzaW5jZSBgZ3B0LTMuNS10dXJiby0xMTA2YC5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX3NjaGVtYVwiLCBcImpzb25fc2NoZW1hXCI6IHsuLi59IH1gIGVuYWJsZXMgU3RydWN0dXJlZFxuICAgKiBPdXRwdXRzIHdoaWNoIGVuc3VyZXMgdGhlIG1vZGVsIHdpbGwgbWF0Y2ggeW91ciBzdXBwbGllZCBKU09OIHNjaGVtYS4gTGVhcm4gbW9yZVxuICAgKiBpbiB0aGVcbiAgICogW1N0cnVjdHVyZWQgT3V0cHV0cyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cykuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIEpTT04gbW9kZSwgd2hpY2ggZW5zdXJlcyB0aGVcbiAgICogbWVzc2FnZSB0aGUgbW9kZWwgZ2VuZXJhdGVzIGlzIHZhbGlkIEpTT04uXG4gICAqXG4gICAqICoqSW1wb3J0YW50OioqIHdoZW4gdXNpbmcgSlNPTiBtb2RlLCB5b3UgKiptdXN0KiogYWxzbyBpbnN0cnVjdCB0aGUgbW9kZWwgdG9cbiAgICogcHJvZHVjZSBKU09OIHlvdXJzZWxmIHZpYSBhIHN5c3RlbSBvciB1c2VyIG1lc3NhZ2UuIFdpdGhvdXQgdGhpcywgdGhlIG1vZGVsIG1heVxuICAgKiBnZW5lcmF0ZSBhbiB1bmVuZGluZyBzdHJlYW0gb2Ygd2hpdGVzcGFjZSB1bnRpbCB0aGUgZ2VuZXJhdGlvbiByZWFjaGVzIHRoZSB0b2tlblxuICAgKiBsaW1pdCwgcmVzdWx0aW5nIGluIGEgbG9uZy1ydW5uaW5nIGFuZCBzZWVtaW5nbHkgXCJzdHVja1wiIHJlcXVlc3QuIEFsc28gbm90ZSB0aGF0XG4gICAqIHRoZSBtZXNzYWdlIGNvbnRlbnQgbWF5IGJlIHBhcnRpYWxseSBjdXQgb2ZmIGlmIGBmaW5pc2hfcmVhc29uPVwibGVuZ3RoXCJgLCB3aGljaFxuICAgKiBpbmRpY2F0ZXMgdGhlIGdlbmVyYXRpb24gZXhjZWVkZWQgYG1heF90b2tlbnNgIG9yIHRoZSBjb252ZXJzYXRpb24gZXhjZWVkZWQgdGhlXG4gICAqIG1heCBjb250ZXh0IGxlbmd0aC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86IFRocmVhZHNBUEkuQXNzaXN0YW50UmVzcG9uc2VGb3JtYXRPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBJZiBgdHJ1ZWAsIHJldHVybnMgYSBzdHJlYW0gb2YgZXZlbnRzIHRoYXQgaGFwcGVuIGR1cmluZyB0aGUgUnVuIGFzXG4gICAqIHNlcnZlci1zZW50IGV2ZW50cywgdGVybWluYXRpbmcgd2hlbiB0aGUgUnVuIGVudGVycyBhIHRlcm1pbmFsIHN0YXRlIHdpdGggYVxuICAgKiBgZGF0YTogW0RPTkVdYCBtZXNzYWdlLlxuICAgKi9cbiAgc3RyZWFtPzogYm9vbGVhbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFdoYXQgc2FtcGxpbmcgdGVtcGVyYXR1cmUgdG8gdXNlLCBiZXR3ZWVuIDAgYW5kIDIuIEhpZ2hlciB2YWx1ZXNcbiAgICogbGlrZSAwLjggd2lsbCBtYWtlIHRoZSBvdXRwdXQgbW9yZSByYW5kb20sIHdoaWxlIGxvd2VyIHZhbHVlcyBsaWtlIDAuMiB3aWxsIG1ha2VcbiAgICogaXQgbW9yZSBmb2N1c2VkIGFuZCBkZXRlcm1pbmlzdGljLlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBDb250cm9scyB3aGljaCAoaWYgYW55KSB0b29sIGlzIGNhbGxlZCBieSB0aGUgbW9kZWwuIGBub25lYCBtZWFuc1xuICAgKiB0aGUgbW9kZWwgd2lsbCBub3QgY2FsbCBhbnkgdG9vbHMgYW5kIGluc3RlYWQgZ2VuZXJhdGVzIGEgbWVzc2FnZS4gYGF1dG9gIGlzIHRoZVxuICAgKiBkZWZhdWx0IHZhbHVlIGFuZCBtZWFucyB0aGUgbW9kZWwgY2FuIHBpY2sgYmV0d2VlbiBnZW5lcmF0aW5nIGEgbWVzc2FnZSBvclxuICAgKiBjYWxsaW5nIG9uZSBvciBtb3JlIHRvb2xzLiBgcmVxdWlyZWRgIG1lYW5zIHRoZSBtb2RlbCBtdXN0IGNhbGwgb25lIG9yIG1vcmVcbiAgICogdG9vbHMgYmVmb3JlIHJlc3BvbmRpbmcgdG8gdGhlIHVzZXIuIFNwZWNpZnlpbmcgYSBwYXJ0aWN1bGFyIHRvb2wgbGlrZVxuICAgKiBge1widHlwZVwiOiBcImZpbGVfc2VhcmNoXCJ9YCBvclxuICAgKiBge1widHlwZVwiOiBcImZ1bmN0aW9uXCIsIFwiZnVuY3Rpb25cIjoge1wibmFtZVwiOiBcIm15X2Z1bmN0aW9uXCJ9fWAgZm9yY2VzIHRoZSBtb2RlbCB0b1xuICAgKiBjYWxsIHRoYXQgdG9vbC5cbiAgICovXG4gIHRvb2xfY2hvaWNlPzogVGhyZWFkc0FQSS5Bc3Npc3RhbnRUb29sQ2hvaWNlT3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogT3ZlcnJpZGUgdGhlIHRvb2xzIHRoZSBhc3Npc3RhbnQgY2FuIHVzZSBmb3IgdGhpcyBydW4uIFRoaXMgaXNcbiAgICogdXNlZnVsIGZvciBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRUb29sPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IEFuIGFsdGVybmF0aXZlIHRvIHNhbXBsaW5nIHdpdGggdGVtcGVyYXR1cmUsIGNhbGxlZCBudWNsZXVzXG4gICAqIHNhbXBsaW5nLCB3aGVyZSB0aGUgbW9kZWwgY29uc2lkZXJzIHRoZSByZXN1bHRzIG9mIHRoZSB0b2tlbnMgd2l0aCB0b3BfcFxuICAgKiBwcm9iYWJpbGl0eSBtYXNzLiBTbyAwLjEgbWVhbnMgb25seSB0aGUgdG9rZW5zIGNvbXByaXNpbmcgdGhlIHRvcCAxMCVcbiAgICogcHJvYmFiaWxpdHkgbWFzcyBhcmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIHRlbXBlcmF0dXJlIGJ1dCBub3QgYm90aC5cbiAgICovXG4gIHRvcF9wPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2VcbiAgICogdGhpcyB0byBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIHRydW5jYXRpb25fc3RyYXRlZ3k/OiBSdW5DcmVhdGVQYXJhbXMuVHJ1bmNhdGlvblN0cmF0ZWd5IHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSdW5DcmVhdGVQYXJhbXMge1xuICBleHBvcnQgaW50ZXJmYWNlIEFkZGl0aW9uYWxNZXNzYWdlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBjb250ZW50cyBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxNZXNzYWdlc0FQSS5NZXNzYWdlQ29udGVudFBhcnRQYXJhbT47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm9sZSBvZiB0aGUgZW50aXR5IHRoYXQgaXMgY3JlYXRpbmcgdGhlIG1lc3NhZ2UuIEFsbG93ZWQgdmFsdWVzIGluY2x1ZGU6XG4gICAgICpcbiAgICAgKiAtIGB1c2VyYDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIHNlbnQgYnkgYW4gYWN0dWFsIHVzZXIgYW5kIHNob3VsZCBiZSB1c2VkIGluXG4gICAgICogICBtb3N0IGNhc2VzIHRvIHJlcHJlc2VudCB1c2VyLWdlbmVyYXRlZCBtZXNzYWdlcy5cbiAgICAgKiAtIGBhc3Npc3RhbnRgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBhc3Npc3RhbnQuIFVzZSB0aGlzXG4gICAgICogICB2YWx1ZSB0byBpbnNlcnQgbWVzc2FnZXMgZnJvbSB0aGUgYXNzaXN0YW50IGludG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JztcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBmaWxlcyBhdHRhY2hlZCB0byB0aGUgbWVzc2FnZSwgYW5kIHRoZSB0b29scyB0aGV5IHNob3VsZCBiZSBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBhdHRhY2htZW50cz86IEFycmF5PEFkZGl0aW9uYWxNZXNzYWdlLkF0dGFjaG1lbnQ+IHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgICAqXG4gICAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgICAqL1xuICAgIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQWRkaXRpb25hbE1lc3NhZ2Uge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHRvb2xzIHRvIGFkZCB0aGlzIGZpbGUgdG8uXG4gICAgICAgKi9cbiAgICAgIHRvb2xzPzogQXJyYXk8QXNzaXN0YW50c0FQSS5Db2RlSW50ZXJwcmV0ZXJUb29sIHwgQXR0YWNobWVudC5GaWxlU2VhcmNoPjtcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIEF0dGFjaG1lbnQge1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYGZpbGVfc2VhcmNoYFxuICAgICAgICAgKi9cbiAgICAgICAgdHlwZTogJ2ZpbGVfc2VhcmNoJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2UgdGhpcyB0b1xuICAgKiBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVHJ1bmNhdGlvblN0cmF0ZWd5IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJ1bmNhdGlvbiBzdHJhdGVneSB0byB1c2UgZm9yIHRoZSB0aHJlYWQuIFRoZSBkZWZhdWx0IGlzIGBhdXRvYC4gSWYgc2V0IHRvXG4gICAgICogYGxhc3RfbWVzc2FnZXNgLCB0aGUgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHRvIHRoZSBuIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGluXG4gICAgICogdGhlIHRocmVhZC4gV2hlbiBzZXQgdG8gYGF1dG9gLCBtZXNzYWdlcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSB0aHJlYWQgd2lsbCBiZVxuICAgICAqIGRyb3BwZWQgdG8gZml0IHRoZSBjb250ZXh0IGxlbmd0aCBvZiB0aGUgbW9kZWwsIGBtYXhfcHJvbXB0X3Rva2Vuc2AuXG4gICAgICovXG4gICAgdHlwZTogJ2F1dG8nIHwgJ2xhc3RfbWVzc2FnZXMnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBtb3N0IHJlY2VudCBtZXNzYWdlcyBmcm9tIHRoZSB0aHJlYWQgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGNvbnRleHRcbiAgICAgKiBmb3IgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBsYXN0X21lc3NhZ2VzPzogbnVtYmVyIHwgbnVsbDtcbiAgfVxuXG4gIGV4cG9ydCB0eXBlIFJ1bkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyA9IFJ1bnNBUEkuUnVuQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgdHlwZSBSdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmcgPSBSdW5zQVBJLlJ1bkNyZWF0ZVBhcmFtc1N0cmVhbWluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW5DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgZXh0ZW5kcyBSdW5DcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IElmIGB0cnVlYCwgcmV0dXJucyBhIHN0cmVhbSBvZiBldmVudHMgdGhhdCBoYXBwZW4gZHVyaW5nIHRoZSBSdW4gYXNcbiAgICogc2VydmVyLXNlbnQgZXZlbnRzLCB0ZXJtaW5hdGluZyB3aGVuIHRoZSBSdW4gZW50ZXJzIGEgdGVybWluYWwgc3RhdGUgd2l0aCBhXG4gICAqIGBkYXRhOiBbRE9ORV1gIG1lc3NhZ2UuXG4gICAqL1xuICBzdHJlYW0/OiBmYWxzZSB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGV4dGVuZHMgUnVuQ3JlYXRlUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBJZiBgdHJ1ZWAsIHJldHVybnMgYSBzdHJlYW0gb2YgZXZlbnRzIHRoYXQgaGFwcGVuIGR1cmluZyB0aGUgUnVuIGFzXG4gICAqIHNlcnZlci1zZW50IGV2ZW50cywgdGVybWluYXRpbmcgd2hlbiB0aGUgUnVuIGVudGVycyBhIHRlcm1pbmFsIHN0YXRlIHdpdGggYVxuICAgKiBgZGF0YTogW0RPTkVdYCBtZXNzYWdlLlxuICAgKi9cbiAgc3RyZWFtOiB0cnVlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1blVwZGF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1bkxpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgY3Vyc29yIGZvciB1c2UgaW4gcGFnaW5hdGlvbi4gYGJlZm9yZWAgaXMgYW4gb2JqZWN0IElEIHRoYXQgZGVmaW5lcyB5b3VyIHBsYWNlXG4gICAqIGluIHRoZSBsaXN0LiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBtYWtlIGEgbGlzdCByZXF1ZXN0IGFuZCByZWNlaXZlIDEwMCBvYmplY3RzLFxuICAgKiBzdGFydGluZyB3aXRoIG9ial9mb28sIHlvdXIgc3Vic2VxdWVudCBjYWxsIGNhbiBpbmNsdWRlIGJlZm9yZT1vYmpfZm9vIGluIG9yZGVyXG4gICAqIHRvIGZldGNoIHRoZSBwcmV2aW91cyBwYWdlIG9mIHRoZSBsaXN0LlxuICAgKi9cbiAgYmVmb3JlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTb3J0IG9yZGVyIGJ5IHRoZSBgY3JlYXRlZF9hdGAgdGltZXN0YW1wIG9mIHRoZSBvYmplY3RzLiBgYXNjYCBmb3IgYXNjZW5kaW5nXG4gICAqIG9yZGVyIGFuZCBgZGVzY2AgZm9yIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAqL1xuICBvcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1bkNyZWF0ZUFuZFBvbGxQYXJhbXMge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpIHRvIHVzZSB0b1xuICAgKiBleGVjdXRlIHRoaXMgcnVuLlxuICAgKi9cbiAgYXNzaXN0YW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgYWRkaXRpb25hbCBpbnN0cnVjdGlvbnMgYXQgdGhlIGVuZCBvZiB0aGUgaW5zdHJ1Y3Rpb25zIGZvciB0aGUgcnVuLiBUaGlzXG4gICAqIGlzIHVzZWZ1bCBmb3IgbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMgd2l0aG91dCBvdmVycmlkaW5nIG90aGVyXG4gICAqIGluc3RydWN0aW9ucy5cbiAgICovXG4gIGFkZGl0aW9uYWxfaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogQWRkcyBhZGRpdGlvbmFsIG1lc3NhZ2VzIHRvIHRoZSB0aHJlYWQgYmVmb3JlIGNyZWF0aW5nIHRoZSBydW4uXG4gICAqL1xuICBhZGRpdGlvbmFsX21lc3NhZ2VzPzogQXJyYXk8UnVuQ3JlYXRlQW5kUG9sbFBhcmFtcy5BZGRpdGlvbmFsTWVzc2FnZT4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlXG4gICAqIFtpbnN0cnVjdGlvbnNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cy9jcmVhdGVBc3Npc3RhbnQpXG4gICAqIG9mIHRoZSBhc3Npc3RhbnQuIFRoaXMgaXMgdXNlZnVsIGZvciBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjb21wbGV0aW9uIHRva2VucyB0aGF0IG1heSBiZSB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGVcbiAgICogcnVuLiBUaGUgcnVuIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHVzZSBvbmx5IHRoZSBudW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnNcbiAgICogc3BlY2lmaWVkLCBhY3Jvc3MgbXVsdGlwbGUgdHVybnMgb2YgdGhlIHJ1bi4gSWYgdGhlIHJ1biBleGNlZWRzIHRoZSBudW1iZXIgb2ZcbiAgICogY29tcGxldGlvbiB0b2tlbnMgc3BlY2lmaWVkLCB0aGUgcnVuIHdpbGwgZW5kIHdpdGggc3RhdHVzIGBpbmNvbXBsZXRlYC4gU2VlXG4gICAqIGBpbmNvbXBsZXRlX2RldGFpbHNgIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBtYXhfY29tcGxldGlvbl90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcHJvbXB0IHRva2VucyB0aGF0IG1heSBiZSB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgcnVuLlxuICAgKiBUaGUgcnVuIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHVzZSBvbmx5IHRoZSBudW1iZXIgb2YgcHJvbXB0IHRva2Vuc1xuICAgKiBzcGVjaWZpZWQsIGFjcm9zcyBtdWx0aXBsZSB0dXJucyBvZiB0aGUgcnVuLiBJZiB0aGUgcnVuIGV4Y2VlZHMgdGhlIG51bWJlciBvZlxuICAgKiBwcm9tcHQgdG9rZW5zIHNwZWNpZmllZCwgdGhlIHJ1biB3aWxsIGVuZCB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuIFNlZVxuICAgKiBgaW5jb21wbGV0ZV9kZXRhaWxzYCBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgbWF4X3Byb21wdF90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAqIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtIG9mIDUxMlxuICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAqL1xuICBtZXRhZGF0YT86IHVua25vd24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFtNb2RlbF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMpIHRvXG4gICAqIGJlIHVzZWQgdG8gZXhlY3V0ZSB0aGlzIHJ1bi4gSWYgYSB2YWx1ZSBpcyBwcm92aWRlZCBoZXJlLCBpdCB3aWxsIG92ZXJyaWRlIHRoZVxuICAgKiBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlIGFzc2lzdGFudC4gSWYgbm90LCB0aGUgbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgKiBhc3Npc3RhbnQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgbW9kZWw/OlxuICAgIHwgKHN0cmluZyAmIHt9KVxuICAgIHwgJ2dwdC00bydcbiAgICB8ICdncHQtNG8tMjAyNC0wNS0xMydcbiAgICB8ICdncHQtNC10dXJibydcbiAgICB8ICdncHQtNC10dXJiby0yMDI0LTA0LTA5J1xuICAgIHwgJ2dwdC00LTAxMjUtcHJldmlldydcbiAgICB8ICdncHQtNC10dXJiby1wcmV2aWV3J1xuICAgIHwgJ2dwdC00LTExMDYtcHJldmlldydcbiAgICB8ICdncHQtNC12aXNpb24tcHJldmlldydcbiAgICB8ICdncHQtNCdcbiAgICB8ICdncHQtNC0wMzE0J1xuICAgIHwgJ2dwdC00LTA2MTMnXG4gICAgfCAnZ3B0LTQtMzJrJ1xuICAgIHwgJ2dwdC00LTMyay0wMzE0J1xuICAgIHwgJ2dwdC00LTMyay0wNjEzJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8nXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xNmsnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0wNjEzJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTEwNidcbiAgICB8ICdncHQtMy41LXR1cmJvLTAxMjUnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xNmstMDYxMydcbiAgICB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LiBDb21wYXRpYmxlIHdpdGhcbiAgICogW0dQVC00b10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzL2dwdC00byksXG4gICAqIFtHUFQtNCBUdXJib10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzL2dwdC00LXR1cmJvLWFuZC1ncHQtNCksXG4gICAqIGFuZCBhbGwgR1BULTMuNSBUdXJibyBtb2RlbHMgc2luY2UgYGdwdC0zLjUtdHVyYm8tMTEwNmAuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIEpTT04gbW9kZSwgd2hpY2ggZ3VhcmFudGVlcyB0aGVcbiAgICogbWVzc2FnZSB0aGUgbW9kZWwgZ2VuZXJhdGVzIGlzIHZhbGlkIEpTT04uXG4gICAqXG4gICAqICoqSW1wb3J0YW50OioqIHdoZW4gdXNpbmcgSlNPTiBtb2RlLCB5b3UgKiptdXN0KiogYWxzbyBpbnN0cnVjdCB0aGUgbW9kZWwgdG9cbiAgICogcHJvZHVjZSBKU09OIHlvdXJzZWxmIHZpYSBhIHN5c3RlbSBvciB1c2VyIG1lc3NhZ2UuIFdpdGhvdXQgdGhpcywgdGhlIG1vZGVsIG1heVxuICAgKiBnZW5lcmF0ZSBhbiB1bmVuZGluZyBzdHJlYW0gb2Ygd2hpdGVzcGFjZSB1bnRpbCB0aGUgZ2VuZXJhdGlvbiByZWFjaGVzIHRoZSB0b2tlblxuICAgKiBsaW1pdCwgcmVzdWx0aW5nIGluIGEgbG9uZy1ydW5uaW5nIGFuZCBzZWVtaW5nbHkgXCJzdHVja1wiIHJlcXVlc3QuIEFsc28gbm90ZSB0aGF0XG4gICAqIHRoZSBtZXNzYWdlIGNvbnRlbnQgbWF5IGJlIHBhcnRpYWxseSBjdXQgb2ZmIGlmIGBmaW5pc2hfcmVhc29uPVwibGVuZ3RoXCJgLCB3aGljaFxuICAgKiBpbmRpY2F0ZXMgdGhlIGdlbmVyYXRpb24gZXhjZWVkZWQgYG1heF90b2tlbnNgIG9yIHRoZSBjb252ZXJzYXRpb24gZXhjZWVkZWQgdGhlXG4gICAqIG1heCBjb250ZXh0IGxlbmd0aC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86IFRocmVhZHNBUEkuQXNzaXN0YW50UmVzcG9uc2VGb3JtYXRPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGxcbiAgICogbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmVcbiAgICogZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQ29udHJvbHMgd2hpY2ggKGlmIGFueSkgdG9vbCBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLiBgbm9uZWAgbWVhbnMgdGhlIG1vZGVsIHdpbGxcbiAgICogbm90IGNhbGwgYW55IHRvb2xzIGFuZCBpbnN0ZWFkIGdlbmVyYXRlcyBhIG1lc3NhZ2UuIGBhdXRvYCBpcyB0aGUgZGVmYXVsdCB2YWx1ZVxuICAgKiBhbmQgbWVhbnMgdGhlIG1vZGVsIGNhbiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3IgY2FsbGluZyBvbmUgb3IgbW9yZVxuICAgKiB0b29scy4gYHJlcXVpcmVkYCBtZWFucyB0aGUgbW9kZWwgbXVzdCBjYWxsIG9uZSBvciBtb3JlIHRvb2xzIGJlZm9yZSByZXNwb25kaW5nXG4gICAqIHRvIHRoZSB1c2VyLiBTcGVjaWZ5aW5nIGEgcGFydGljdWxhciB0b29sIGxpa2UgYHtcInR5cGVcIjogXCJmaWxlX3NlYXJjaFwifWAgb3JcbiAgICogYHtcInR5cGVcIjogXCJmdW5jdGlvblwiLCBcImZ1bmN0aW9uXCI6IHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifX1gIGZvcmNlcyB0aGUgbW9kZWwgdG9cbiAgICogY2FsbCB0aGF0IHRvb2wuXG4gICAqL1xuICB0b29sX2Nob2ljZT86IFRocmVhZHNBUEkuQXNzaXN0YW50VG9vbENob2ljZU9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSB0b29scyB0aGUgYXNzaXN0YW50IGNhbiB1c2UgZm9yIHRoaXMgcnVuLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICogbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQXNzaXN0YW50VG9vbD4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBzYW1wbGluZyB3aXRoIHRlbXBlcmF0dXJlLCBjYWxsZWQgbnVjbGV1cyBzYW1wbGluZywgd2hlcmUgdGhlXG4gICAqIG1vZGVsIGNvbnNpZGVycyB0aGUgcmVzdWx0cyBvZiB0aGUgdG9rZW5zIHdpdGggdG9wX3AgcHJvYmFiaWxpdHkgbWFzcy4gU28gMC4xXG4gICAqIG1lYW5zIG9ubHkgdGhlIHRva2VucyBjb21wcmlzaW5nIHRoZSB0b3AgMTAlIHByb2JhYmlsaXR5IG1hc3MgYXJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciB0ZW1wZXJhdHVyZSBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlIHRoaXMgdG9cbiAgICogY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICB0cnVuY2F0aW9uX3N0cmF0ZWd5PzogUnVuQ3JlYXRlQW5kUG9sbFBhcmFtcy5UcnVuY2F0aW9uU3RyYXRlZ3kgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJ1bkNyZWF0ZUFuZFBvbGxQYXJhbXMge1xuICBleHBvcnQgaW50ZXJmYWNlIEFkZGl0aW9uYWxNZXNzYWdlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBjb250ZW50cyBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxNZXNzYWdlc0FQSS5NZXNzYWdlQ29udGVudFBhcnRQYXJhbT47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm9sZSBvZiB0aGUgZW50aXR5IHRoYXQgaXMgY3JlYXRpbmcgdGhlIG1lc3NhZ2UuIEFsbG93ZWQgdmFsdWVzIGluY2x1ZGU6XG4gICAgICpcbiAgICAgKiAtIGB1c2VyYDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIHNlbnQgYnkgYW4gYWN0dWFsIHVzZXIgYW5kIHNob3VsZCBiZSB1c2VkIGluXG4gICAgICogICBtb3N0IGNhc2VzIHRvIHJlcHJlc2VudCB1c2VyLWdlbmVyYXRlZCBtZXNzYWdlcy5cbiAgICAgKiAtIGBhc3Npc3RhbnRgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBhc3Npc3RhbnQuIFVzZSB0aGlzXG4gICAgICogICB2YWx1ZSB0byBpbnNlcnQgbWVzc2FnZXMgZnJvbSB0aGUgYXNzaXN0YW50IGludG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JztcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBmaWxlcyBhdHRhY2hlZCB0byB0aGUgbWVzc2FnZSwgYW5kIHRoZSB0b29scyB0aGV5IHNob3VsZCBiZSBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBhdHRhY2htZW50cz86IEFycmF5PEFkZGl0aW9uYWxNZXNzYWdlLkF0dGFjaG1lbnQ+IHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgICAqIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtIG9mIDUxMlxuICAgICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICAgKi9cbiAgICBtZXRhZGF0YT86IHVua25vd24gfCBudWxsO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBBZGRpdGlvbmFsTWVzc2FnZSB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBBdHRhY2htZW50IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIElEIG9mIHRoZSBmaWxlIHRvIGF0dGFjaCB0byB0aGUgbWVzc2FnZS5cbiAgICAgICAqL1xuICAgICAgZmlsZV9pZD86IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdG9vbHMgdG8gYWRkIHRoaXMgZmlsZSB0by5cbiAgICAgICAqL1xuICAgICAgdG9vbHM/OiBBcnJheTxBc3Npc3RhbnRzQVBJLkNvZGVJbnRlcnByZXRlclRvb2wgfCBBc3Npc3RhbnRzQVBJLkZpbGVTZWFyY2hUb29sPjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2UgdGhpcyB0b1xuICAgKiBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVHJ1bmNhdGlvblN0cmF0ZWd5IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJ1bmNhdGlvbiBzdHJhdGVneSB0byB1c2UgZm9yIHRoZSB0aHJlYWQuIFRoZSBkZWZhdWx0IGlzIGBhdXRvYC4gSWYgc2V0IHRvXG4gICAgICogYGxhc3RfbWVzc2FnZXNgLCB0aGUgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHRvIHRoZSBuIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGluXG4gICAgICogdGhlIHRocmVhZC4gV2hlbiBzZXQgdG8gYGF1dG9gLCBtZXNzYWdlcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSB0aHJlYWQgd2lsbCBiZVxuICAgICAqIGRyb3BwZWQgdG8gZml0IHRoZSBjb250ZXh0IGxlbmd0aCBvZiB0aGUgbW9kZWwsIGBtYXhfcHJvbXB0X3Rva2Vuc2AuXG4gICAgICovXG4gICAgdHlwZTogJ2F1dG8nIHwgJ2xhc3RfbWVzc2FnZXMnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBtb3N0IHJlY2VudCBtZXNzYWdlcyBmcm9tIHRoZSB0aHJlYWQgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGNvbnRleHRcbiAgICAgKiBmb3IgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBsYXN0X21lc3NhZ2VzPzogbnVtYmVyIHwgbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1bkNyZWF0ZUFuZFN0cmVhbVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlXG4gICAqIFthc3Npc3RhbnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgdG8gdXNlIHRvXG4gICAqIGV4ZWN1dGUgdGhpcyBydW4uXG4gICAqL1xuICBhc3Npc3RhbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQXBwZW5kcyBhZGRpdGlvbmFsIGluc3RydWN0aW9ucyBhdCB0aGUgZW5kIG9mIHRoZSBpbnN0cnVjdGlvbnMgZm9yIHRoZSBydW4uIFRoaXNcbiAgICogaXMgdXNlZnVsIGZvciBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcyB3aXRob3V0IG92ZXJyaWRpbmcgb3RoZXJcbiAgICogaW5zdHJ1Y3Rpb25zLlxuICAgKi9cbiAgYWRkaXRpb25hbF9pbnN0cnVjdGlvbnM/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBZGRzIGFkZGl0aW9uYWwgbWVzc2FnZXMgdG8gdGhlIHRocmVhZCBiZWZvcmUgY3JlYXRpbmcgdGhlIHJ1bi5cbiAgICovXG4gIGFkZGl0aW9uYWxfbWVzc2FnZXM/OiBBcnJheTxSdW5DcmVhdGVBbmRTdHJlYW1QYXJhbXMuQWRkaXRpb25hbE1lc3NhZ2U+IHwgbnVsbDtcblxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZVxuICAgKiBbaW5zdHJ1Y3Rpb25zXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMvY3JlYXRlQXNzaXN0YW50KVxuICAgKiBvZiB0aGUgYXNzaXN0YW50LiBUaGlzIGlzIHVzZWZ1bCBmb3IgbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnMgdGhhdCBtYXkgYmUgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlXG4gICAqIHJ1bi4gVGhlIHJ1biB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byB1c2Ugb25seSB0aGUgbnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zXG4gICAqIHNwZWNpZmllZCwgYWNyb3NzIG11bHRpcGxlIHR1cm5zIG9mIHRoZSBydW4uIElmIHRoZSBydW4gZXhjZWVkcyB0aGUgbnVtYmVyIG9mXG4gICAqIGNvbXBsZXRpb24gdG9rZW5zIHNwZWNpZmllZCwgdGhlIHJ1biB3aWxsIGVuZCB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuIFNlZVxuICAgKiBgaW5jb21wbGV0ZV9kZXRhaWxzYCBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgbWF4X2NvbXBsZXRpb25fdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHByb21wdCB0b2tlbnMgdGhhdCBtYXkgYmUgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIHJ1bi5cbiAgICogVGhlIHJ1biB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byB1c2Ugb25seSB0aGUgbnVtYmVyIG9mIHByb21wdCB0b2tlbnNcbiAgICogc3BlY2lmaWVkLCBhY3Jvc3MgbXVsdGlwbGUgdHVybnMgb2YgdGhlIHJ1bi4gSWYgdGhlIHJ1biBleGNlZWRzIHRoZSBudW1iZXIgb2ZcbiAgICogcHJvbXB0IHRva2VucyBzcGVjaWZpZWQsIHRoZSBydW4gd2lsbCBlbmQgd2l0aCBzdGF0dXMgYGluY29tcGxldGVgLiBTZWVcbiAgICogYGluY29tcGxldGVfZGV0YWlsc2AgZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIG1heF9wcm9tcHRfdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBbTW9kZWxdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbW9kZWxzKSB0b1xuICAgKiBiZSB1c2VkIHRvIGV4ZWN1dGUgdGhpcyBydW4uIElmIGEgdmFsdWUgaXMgcHJvdmlkZWQgaGVyZSwgaXQgd2lsbCBvdmVycmlkZSB0aGVcbiAgICogbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQuIElmIG5vdCwgdGhlIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICogYXNzaXN0YW50IHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIG1vZGVsPzpcbiAgICB8IChzdHJpbmcgJiB7fSlcbiAgICB8ICdncHQtNG8nXG4gICAgfCAnZ3B0LTRvLTIwMjQtMDUtMTMnXG4gICAgfCAnZ3B0LTQtdHVyYm8nXG4gICAgfCAnZ3B0LTQtdHVyYm8tMjAyNC0wNC0wOSdcbiAgICB8ICdncHQtNC0wMTI1LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdHVyYm8tcHJldmlldydcbiAgICB8ICdncHQtNC0xMTA2LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdmlzaW9uLXByZXZpZXcnXG4gICAgfCAnZ3B0LTQnXG4gICAgfCAnZ3B0LTQtMDMxNCdcbiAgICB8ICdncHQtNC0wNjEzJ1xuICAgIHwgJ2dwdC00LTMyaydcbiAgICB8ICdncHQtNC0zMmstMDMxNCdcbiAgICB8ICdncHQtNC0zMmstMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvLTExMDYnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0wMTI1J1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrLTA2MTMnXG4gICAgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGZvcm1hdCB0aGF0IHRoZSBtb2RlbCBtdXN0IG91dHB1dC4gQ29tcGF0aWJsZSB3aXRoXG4gICAqIFtHUFQtNG9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscy9ncHQtNG8pLFxuICAgKiBbR1BULTQgVHVyYm9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscy9ncHQtNC10dXJiby1hbmQtZ3B0LTQpLFxuICAgKiBhbmQgYWxsIEdQVC0zLjUgVHVyYm8gbW9kZWxzIHNpbmNlIGBncHQtMy41LXR1cmJvLTExMDZgLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGd1YXJhbnRlZXMgdGhlXG4gICAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gICAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAgICogZ2VuZXJhdGUgYW4gdW5lbmRpbmcgc3RyZWFtIG9mIHdoaXRlc3BhY2UgdW50aWwgdGhlIGdlbmVyYXRpb24gcmVhY2hlcyB0aGUgdG9rZW5cbiAgICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAgICogaW5kaWNhdGVzIHRoZSBnZW5lcmF0aW9uIGV4Y2VlZGVkIGBtYXhfdG9rZW5zYCBvciB0aGUgY29udmVyc2F0aW9uIGV4Y2VlZGVkIHRoZVxuICAgKiBtYXggY29udGV4dCBsZW5ndGguXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiBUaHJlYWRzQVBJLkFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoaWNoIChpZiBhbnkpIHRvb2wgaXMgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gYG5vbmVgIG1lYW5zIHRoZSBtb2RlbCB3aWxsXG4gICAqIG5vdCBjYWxsIGFueSB0b29scyBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgdmFsdWVcbiAgICogYW5kIG1lYW5zIHRoZSBtb2RlbCBjYW4gcGljayBiZXR3ZWVuIGdlbmVyYXRpbmcgYSBtZXNzYWdlIG9yIGNhbGxpbmcgb25lIG9yIG1vcmVcbiAgICogdG9vbHMuIGByZXF1aXJlZGAgbWVhbnMgdGhlIG1vZGVsIG11c3QgY2FsbCBvbmUgb3IgbW9yZSB0b29scyBiZWZvcmUgcmVzcG9uZGluZ1xuICAgKiB0byB0aGUgdXNlci4gU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgdG9vbCBsaWtlIGB7XCJ0eXBlXCI6IFwiZmlsZV9zZWFyY2hcIn1gIG9yXG4gICAqIGB7XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiOiB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn19YCBmb3JjZXMgdGhlIG1vZGVsIHRvXG4gICAqIGNhbGwgdGhhdCB0b29sLlxuICAgKi9cbiAgdG9vbF9jaG9pY2U/OiBUaHJlYWRzQVBJLkFzc2lzdGFudFRvb2xDaG9pY2VPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgdG9vbHMgdGhlIGFzc2lzdGFudCBjYW4gdXNlIGZvciB0aGlzIHJ1bi4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gICAqIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzLlxuICAgKi9cbiAgdG9vbHM/OiBBcnJheTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFRvb2w+IHwgbnVsbDtcblxuICAvKipcbiAgICogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcsIHdoZXJlIHRoZVxuICAgKiBtb2RlbCBjb25zaWRlcnMgdGhlIHJlc3VsdHMgb2YgdGhlIHRva2VucyB3aXRoIHRvcF9wIHByb2JhYmlsaXR5IG1hc3MuIFNvIDAuMVxuICAgKiBtZWFucyBvbmx5IHRoZSB0b2tlbnMgY29tcHJpc2luZyB0aGUgdG9wIDEwJSBwcm9iYWJpbGl0eSBtYXNzIGFyZSBjb25zaWRlcmVkLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgdGVtcGVyYXR1cmUgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb3IgaG93IGEgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHByaW9yIHRvIHRoZSBydW4uIFVzZSB0aGlzIHRvXG4gICAqIGNvbnRyb2wgdGhlIGludGlhbCBjb250ZXh0IHdpbmRvdyBvZiB0aGUgcnVuLlxuICAgKi9cbiAgdHJ1bmNhdGlvbl9zdHJhdGVneT86IFJ1bkNyZWF0ZUFuZFN0cmVhbVBhcmFtcy5UcnVuY2F0aW9uU3RyYXRlZ3kgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJ1bkNyZWF0ZUFuZFN0cmVhbVBhcmFtcyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQWRkaXRpb25hbE1lc3NhZ2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IGNvbnRlbnRzIG9mIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIGNvbnRlbnQ6IHN0cmluZyB8IEFycmF5PE1lc3NhZ2VzQVBJLk1lc3NhZ2VDb250ZW50UGFydFBhcmFtPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb2xlIG9mIHRoZSBlbnRpdHkgdGhhdCBpcyBjcmVhdGluZyB0aGUgbWVzc2FnZS4gQWxsb3dlZCB2YWx1ZXMgaW5jbHVkZTpcbiAgICAgKlxuICAgICAqIC0gYHVzZXJgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgc2VudCBieSBhbiBhY3R1YWwgdXNlciBhbmQgc2hvdWxkIGJlIHVzZWQgaW5cbiAgICAgKiAgIG1vc3QgY2FzZXMgdG8gcmVwcmVzZW50IHVzZXItZ2VuZXJhdGVkIG1lc3NhZ2VzLlxuICAgICAqIC0gYGFzc2lzdGFudGA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBnZW5lcmF0ZWQgYnkgdGhlIGFzc2lzdGFudC4gVXNlIHRoaXNcbiAgICAgKiAgIHZhbHVlIHRvIGluc2VydCBtZXNzYWdlcyBmcm9tIHRoZSBhc3Npc3RhbnQgaW50byB0aGUgY29udmVyc2F0aW9uLlxuICAgICAqL1xuICAgIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGZpbGVzIGF0dGFjaGVkIHRvIHRoZSBtZXNzYWdlLCBhbmQgdGhlIHRvb2xzIHRoZXkgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICAgICAqL1xuICAgIGF0dGFjaG1lbnRzPzogQXJyYXk8QWRkaXRpb25hbE1lc3NhZ2UuQXR0YWNobWVudD4gfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAgICogY2hhcmFjdGVycyBsb25nLlxuICAgICAqL1xuICAgIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIEFkZGl0aW9uYWxNZXNzYWdlIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEF0dGFjaG1lbnQge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gYXR0YWNoIHRvIHRoZSBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0b29scyB0byBhZGQgdGhpcyBmaWxlIHRvLlxuICAgICAgICovXG4gICAgICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQ29kZUludGVycHJldGVyVG9vbCB8IEFzc2lzdGFudHNBUEkuRmlsZVNlYXJjaFRvb2w+O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb3IgaG93IGEgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHByaW9yIHRvIHRoZSBydW4uIFVzZSB0aGlzIHRvXG4gICAqIGNvbnRyb2wgdGhlIGludGlhbCBjb250ZXh0IHdpbmRvdyBvZiB0aGUgcnVuLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUcnVuY2F0aW9uU3RyYXRlZ3kge1xuICAgIC8qKlxuICAgICAqIFRoZSB0cnVuY2F0aW9uIHN0cmF0ZWd5IHRvIHVzZSBmb3IgdGhlIHRocmVhZC4gVGhlIGRlZmF1bHQgaXMgYGF1dG9gLiBJZiBzZXQgdG9cbiAgICAgKiBgbGFzdF9tZXNzYWdlc2AsIHRoZSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgdG8gdGhlIG4gbW9zdCByZWNlbnQgbWVzc2FnZXMgaW5cbiAgICAgKiB0aGUgdGhyZWFkLiBXaGVuIHNldCB0byBgYXV0b2AsIG1lc3NhZ2VzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHRocmVhZCB3aWxsIGJlXG4gICAgICogZHJvcHBlZCB0byBmaXQgdGhlIGNvbnRleHQgbGVuZ3RoIG9mIHRoZSBtb2RlbCwgYG1heF9wcm9tcHRfdG9rZW5zYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnYXV0bycgfCAnbGFzdF9tZXNzYWdlcyc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGZyb20gdGhlIHRocmVhZCB3aGVuIGNvbnN0cnVjdGluZyB0aGUgY29udGV4dFxuICAgICAqIGZvciB0aGUgcnVuLlxuICAgICAqL1xuICAgIGxhc3RfbWVzc2FnZXM/OiBudW1iZXIgfCBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuU3RyZWFtUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB0byB1c2UgdG9cbiAgICogZXhlY3V0ZSB0aGlzIHJ1bi5cbiAgICovXG4gIGFzc2lzdGFudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBcHBlbmRzIGFkZGl0aW9uYWwgaW5zdHJ1Y3Rpb25zIGF0IHRoZSBlbmQgb2YgdGhlIGluc3RydWN0aW9ucyBmb3IgdGhlIHJ1bi4gVGhpc1xuICAgKiBpcyB1c2VmdWwgZm9yIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzIHdpdGhvdXQgb3ZlcnJpZGluZyBvdGhlclxuICAgKiBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBhZGRpdGlvbmFsX2luc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFkZHMgYWRkaXRpb25hbCBtZXNzYWdlcyB0byB0aGUgdGhyZWFkIGJlZm9yZSBjcmVhdGluZyB0aGUgcnVuLlxuICAgKi9cbiAgYWRkaXRpb25hbF9tZXNzYWdlcz86IEFycmF5PFJ1blN0cmVhbVBhcmFtcy5BZGRpdGlvbmFsTWVzc2FnZT4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlXG4gICAqIFtpbnN0cnVjdGlvbnNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cy9jcmVhdGVBc3Npc3RhbnQpXG4gICAqIG9mIHRoZSBhc3Npc3RhbnQuIFRoaXMgaXMgdXNlZnVsIGZvciBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjb21wbGV0aW9uIHRva2VucyB0aGF0IG1heSBiZSB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGVcbiAgICogcnVuLiBUaGUgcnVuIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHVzZSBvbmx5IHRoZSBudW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnNcbiAgICogc3BlY2lmaWVkLCBhY3Jvc3MgbXVsdGlwbGUgdHVybnMgb2YgdGhlIHJ1bi4gSWYgdGhlIHJ1biBleGNlZWRzIHRoZSBudW1iZXIgb2ZcbiAgICogY29tcGxldGlvbiB0b2tlbnMgc3BlY2lmaWVkLCB0aGUgcnVuIHdpbGwgZW5kIHdpdGggc3RhdHVzIGBpbmNvbXBsZXRlYC4gU2VlXG4gICAqIGBpbmNvbXBsZXRlX2RldGFpbHNgIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBtYXhfY29tcGxldGlvbl90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcHJvbXB0IHRva2VucyB0aGF0IG1heSBiZSB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgcnVuLlxuICAgKiBUaGUgcnVuIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHVzZSBvbmx5IHRoZSBudW1iZXIgb2YgcHJvbXB0IHRva2Vuc1xuICAgKiBzcGVjaWZpZWQsIGFjcm9zcyBtdWx0aXBsZSB0dXJucyBvZiB0aGUgcnVuLiBJZiB0aGUgcnVuIGV4Y2VlZHMgdGhlIG51bWJlciBvZlxuICAgKiBwcm9tcHQgdG9rZW5zIHNwZWNpZmllZCwgdGhlIHJ1biB3aWxsIGVuZCB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuIFNlZVxuICAgKiBgaW5jb21wbGV0ZV9kZXRhaWxzYCBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgbWF4X3Byb21wdF90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAqIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtIG9mIDUxMlxuICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAqL1xuICBtZXRhZGF0YT86IHVua25vd24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFtNb2RlbF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMpIHRvXG4gICAqIGJlIHVzZWQgdG8gZXhlY3V0ZSB0aGlzIHJ1bi4gSWYgYSB2YWx1ZSBpcyBwcm92aWRlZCBoZXJlLCBpdCB3aWxsIG92ZXJyaWRlIHRoZVxuICAgKiBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlIGFzc2lzdGFudC4gSWYgbm90LCB0aGUgbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgKiBhc3Npc3RhbnQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgbW9kZWw/OlxuICAgIHwgKHN0cmluZyAmIHt9KVxuICAgIHwgJ2dwdC00bydcbiAgICB8ICdncHQtNG8tMjAyNC0wNS0xMydcbiAgICB8ICdncHQtNC10dXJibydcbiAgICB8ICdncHQtNC10dXJiby0yMDI0LTA0LTA5J1xuICAgIHwgJ2dwdC00LTAxMjUtcHJldmlldydcbiAgICB8ICdncHQtNC10dXJiby1wcmV2aWV3J1xuICAgIHwgJ2dwdC00LTExMDYtcHJldmlldydcbiAgICB8ICdncHQtNC12aXNpb24tcHJldmlldydcbiAgICB8ICdncHQtNCdcbiAgICB8ICdncHQtNC0wMzE0J1xuICAgIHwgJ2dwdC00LTA2MTMnXG4gICAgfCAnZ3B0LTQtMzJrJ1xuICAgIHwgJ2dwdC00LTMyay0wMzE0J1xuICAgIHwgJ2dwdC00LTMyay0wNjEzJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8nXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xNmsnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0wNjEzJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTEwNidcbiAgICB8ICdncHQtMy41LXR1cmJvLTAxMjUnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xNmstMDYxMydcbiAgICB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LiBDb21wYXRpYmxlIHdpdGhcbiAgICogW0dQVC00b10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzL2dwdC00byksXG4gICAqIFtHUFQtNCBUdXJib10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzL2dwdC00LXR1cmJvLWFuZC1ncHQtNCksXG4gICAqIGFuZCBhbGwgR1BULTMuNSBUdXJibyBtb2RlbHMgc2luY2UgYGdwdC0zLjUtdHVyYm8tMTEwNmAuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIEpTT04gbW9kZSwgd2hpY2ggZ3VhcmFudGVlcyB0aGVcbiAgICogbWVzc2FnZSB0aGUgbW9kZWwgZ2VuZXJhdGVzIGlzIHZhbGlkIEpTT04uXG4gICAqXG4gICAqICoqSW1wb3J0YW50OioqIHdoZW4gdXNpbmcgSlNPTiBtb2RlLCB5b3UgKiptdXN0KiogYWxzbyBpbnN0cnVjdCB0aGUgbW9kZWwgdG9cbiAgICogcHJvZHVjZSBKU09OIHlvdXJzZWxmIHZpYSBhIHN5c3RlbSBvciB1c2VyIG1lc3NhZ2UuIFdpdGhvdXQgdGhpcywgdGhlIG1vZGVsIG1heVxuICAgKiBnZW5lcmF0ZSBhbiB1bmVuZGluZyBzdHJlYW0gb2Ygd2hpdGVzcGFjZSB1bnRpbCB0aGUgZ2VuZXJhdGlvbiByZWFjaGVzIHRoZSB0b2tlblxuICAgKiBsaW1pdCwgcmVzdWx0aW5nIGluIGEgbG9uZy1ydW5uaW5nIGFuZCBzZWVtaW5nbHkgXCJzdHVja1wiIHJlcXVlc3QuIEFsc28gbm90ZSB0aGF0XG4gICAqIHRoZSBtZXNzYWdlIGNvbnRlbnQgbWF5IGJlIHBhcnRpYWxseSBjdXQgb2ZmIGlmIGBmaW5pc2hfcmVhc29uPVwibGVuZ3RoXCJgLCB3aGljaFxuICAgKiBpbmRpY2F0ZXMgdGhlIGdlbmVyYXRpb24gZXhjZWVkZWQgYG1heF90b2tlbnNgIG9yIHRoZSBjb252ZXJzYXRpb24gZXhjZWVkZWQgdGhlXG4gICAqIG1heCBjb250ZXh0IGxlbmd0aC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86IFRocmVhZHNBUEkuQXNzaXN0YW50UmVzcG9uc2VGb3JtYXRPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGxcbiAgICogbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmVcbiAgICogZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQ29udHJvbHMgd2hpY2ggKGlmIGFueSkgdG9vbCBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLiBgbm9uZWAgbWVhbnMgdGhlIG1vZGVsIHdpbGxcbiAgICogbm90IGNhbGwgYW55IHRvb2xzIGFuZCBpbnN0ZWFkIGdlbmVyYXRlcyBhIG1lc3NhZ2UuIGBhdXRvYCBpcyB0aGUgZGVmYXVsdCB2YWx1ZVxuICAgKiBhbmQgbWVhbnMgdGhlIG1vZGVsIGNhbiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3IgY2FsbGluZyBvbmUgb3IgbW9yZVxuICAgKiB0b29scy4gYHJlcXVpcmVkYCBtZWFucyB0aGUgbW9kZWwgbXVzdCBjYWxsIG9uZSBvciBtb3JlIHRvb2xzIGJlZm9yZSByZXNwb25kaW5nXG4gICAqIHRvIHRoZSB1c2VyLiBTcGVjaWZ5aW5nIGEgcGFydGljdWxhciB0b29sIGxpa2UgYHtcInR5cGVcIjogXCJmaWxlX3NlYXJjaFwifWAgb3JcbiAgICogYHtcInR5cGVcIjogXCJmdW5jdGlvblwiLCBcImZ1bmN0aW9uXCI6IHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifX1gIGZvcmNlcyB0aGUgbW9kZWwgdG9cbiAgICogY2FsbCB0aGF0IHRvb2wuXG4gICAqL1xuICB0b29sX2Nob2ljZT86IFRocmVhZHNBUEkuQXNzaXN0YW50VG9vbENob2ljZU9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSB0b29scyB0aGUgYXNzaXN0YW50IGNhbiB1c2UgZm9yIHRoaXMgcnVuLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICogbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQXNzaXN0YW50VG9vbD4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBzYW1wbGluZyB3aXRoIHRlbXBlcmF0dXJlLCBjYWxsZWQgbnVjbGV1cyBzYW1wbGluZywgd2hlcmUgdGhlXG4gICAqIG1vZGVsIGNvbnNpZGVycyB0aGUgcmVzdWx0cyBvZiB0aGUgdG9rZW5zIHdpdGggdG9wX3AgcHJvYmFiaWxpdHkgbWFzcy4gU28gMC4xXG4gICAqIG1lYW5zIG9ubHkgdGhlIHRva2VucyBjb21wcmlzaW5nIHRoZSB0b3AgMTAlIHByb2JhYmlsaXR5IG1hc3MgYXJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciB0ZW1wZXJhdHVyZSBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlIHRoaXMgdG9cbiAgICogY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICB0cnVuY2F0aW9uX3N0cmF0ZWd5PzogUnVuU3RyZWFtUGFyYW1zLlRydW5jYXRpb25TdHJhdGVneSB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuU3RyZWFtUGFyYW1zIHtcbiAgZXhwb3J0IGludGVyZmFjZSBBZGRpdGlvbmFsTWVzc2FnZSB7XG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgY29udGVudHMgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY29udGVudDogc3RyaW5nIHwgQXJyYXk8TWVzc2FnZXNBUEkuTWVzc2FnZUNvbnRlbnRQYXJ0UGFyYW0+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvbGUgb2YgdGhlIGVudGl0eSB0aGF0IGlzIGNyZWF0aW5nIHRoZSBtZXNzYWdlLiBBbGxvd2VkIHZhbHVlcyBpbmNsdWRlOlxuICAgICAqXG4gICAgICogLSBgdXNlcmA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBzZW50IGJ5IGFuIGFjdHVhbCB1c2VyIGFuZCBzaG91bGQgYmUgdXNlZCBpblxuICAgICAqICAgbW9zdCBjYXNlcyB0byByZXByZXNlbnQgdXNlci1nZW5lcmF0ZWQgbWVzc2FnZXMuXG4gICAgICogLSBgYXNzaXN0YW50YDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIGdlbmVyYXRlZCBieSB0aGUgYXNzaXN0YW50LiBVc2UgdGhpc1xuICAgICAqICAgdmFsdWUgdG8gaW5zZXJ0IG1lc3NhZ2VzIGZyb20gdGhlIGFzc2lzdGFudCBpbnRvIHRoZSBjb252ZXJzYXRpb24uXG4gICAgICovXG4gICAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgZmlsZXMgYXR0YWNoZWQgdG8gdGhlIG1lc3NhZ2UsIGFuZCB0aGUgdG9vbHMgdGhleSBzaG91bGQgYmUgYWRkZWQgdG8uXG4gICAgICovXG4gICAgYXR0YWNobWVudHM/OiBBcnJheTxBZGRpdGlvbmFsTWVzc2FnZS5BdHRhY2htZW50PiB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAgICovXG4gICAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQWRkaXRpb25hbE1lc3NhZ2Uge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHRvb2xzIHRvIGFkZCB0aGlzIGZpbGUgdG8uXG4gICAgICAgKi9cbiAgICAgIHRvb2xzPzogQXJyYXk8QXNzaXN0YW50c0FQSS5Db2RlSW50ZXJwcmV0ZXJUb29sIHwgQXNzaXN0YW50c0FQSS5GaWxlU2VhcmNoVG9vbD47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlIHRoaXMgdG9cbiAgICogY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRydW5jYXRpb25TdHJhdGVneSB7XG4gICAgLyoqXG4gICAgICogVGhlIHRydW5jYXRpb24gc3RyYXRlZ3kgdG8gdXNlIGZvciB0aGUgdGhyZWFkLiBUaGUgZGVmYXVsdCBpcyBgYXV0b2AuIElmIHNldCB0b1xuICAgICAqIGBsYXN0X21lc3NhZ2VzYCwgdGhlIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCB0byB0aGUgbiBtb3N0IHJlY2VudCBtZXNzYWdlcyBpblxuICAgICAqIHRoZSB0aHJlYWQuIFdoZW4gc2V0IHRvIGBhdXRvYCwgbWVzc2FnZXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgdGhyZWFkIHdpbGwgYmVcbiAgICAgKiBkcm9wcGVkIHRvIGZpdCB0aGUgY29udGV4dCBsZW5ndGggb2YgdGhlIG1vZGVsLCBgbWF4X3Byb21wdF90b2tlbnNgLlxuICAgICAqL1xuICAgIHR5cGU6ICdhdXRvJyB8ICdsYXN0X21lc3NhZ2VzJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbW9zdCByZWNlbnQgbWVzc2FnZXMgZnJvbSB0aGUgdGhyZWFkIHdoZW4gY29uc3RydWN0aW5nIHRoZSBjb250ZXh0XG4gICAgICogZm9yIHRoZSBydW4uXG4gICAgICovXG4gICAgbGFzdF9tZXNzYWdlcz86IG51bWJlciB8IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXMgPVxuICB8IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zTm9uU3RyZWFtaW5nXG4gIHwgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW1pbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0b29scyBmb3Igd2hpY2ggdGhlIG91dHB1dHMgYXJlIGJlaW5nIHN1Ym1pdHRlZC5cbiAgICovXG4gIHRvb2xfb3V0cHV0czogQXJyYXk8UnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXMuVG9vbE91dHB1dD47XG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgcmV0dXJucyBhIHN0cmVhbSBvZiBldmVudHMgdGhhdCBoYXBwZW4gZHVyaW5nIHRoZSBSdW4gYXMgc2VydmVyLXNlbnRcbiAgICogZXZlbnRzLCB0ZXJtaW5hdGluZyB3aGVuIHRoZSBSdW4gZW50ZXJzIGEgdGVybWluYWwgc3RhdGUgd2l0aCBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqL1xuICBzdHJlYW0/OiBib29sZWFuIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtcyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbE91dHB1dCB7XG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dCBvZiB0aGUgdG9vbCBjYWxsIHRvIGJlIHN1Ym1pdHRlZCB0byBjb250aW51ZSB0aGUgcnVuLlxuICAgICAqL1xuICAgIG91dHB1dD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsIGluIHRoZSBgcmVxdWlyZWRfYWN0aW9uYCBvYmplY3Qgd2l0aGluIHRoZSBydW4gb2JqZWN0XG4gICAgICogdGhlIG91dHB1dCBpcyBiZWluZyBzdWJtaXR0ZWQgZm9yLlxuICAgICAqL1xuICAgIHRvb2xfY2FsbF9pZD86IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCB0eXBlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zTm9uU3RyZWFtaW5nID0gUnVuc0FQSS5SdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc05vblN0cmVhbWluZztcbiAgZXhwb3J0IHR5cGUgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW1pbmcgPSBSdW5zQVBJLlJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zTm9uU3RyZWFtaW5nIGV4dGVuZHMgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgcmV0dXJucyBhIHN0cmVhbSBvZiBldmVudHMgdGhhdCBoYXBwZW4gZHVyaW5nIHRoZSBSdW4gYXMgc2VydmVyLXNlbnRcbiAgICogZXZlbnRzLCB0ZXJtaW5hdGluZyB3aGVuIHRoZSBSdW4gZW50ZXJzIGEgdGVybWluYWwgc3RhdGUgd2l0aCBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqL1xuICBzdHJlYW0/OiBmYWxzZSB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW1pbmcgZXh0ZW5kcyBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogSWYgYHRydWVgLCByZXR1cm5zIGEgc3RyZWFtIG9mIGV2ZW50cyB0aGF0IGhhcHBlbiBkdXJpbmcgdGhlIFJ1biBhcyBzZXJ2ZXItc2VudFxuICAgKiBldmVudHMsIHRlcm1pbmF0aW5nIHdoZW4gdGhlIFJ1biBlbnRlcnMgYSB0ZXJtaW5hbCBzdGF0ZSB3aXRoIGEgYGRhdGE6IFtET05FXWBcbiAgICogbWVzc2FnZS5cbiAgICovXG4gIHN0cmVhbTogdHJ1ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW5TdWJtaXRUb29sT3V0cHV0c0FuZFBvbGxQYXJhbXMge1xuICAvKipcbiAgICogQSBsaXN0IG9mIHRvb2xzIGZvciB3aGljaCB0aGUgb3V0cHV0cyBhcmUgYmVpbmcgc3VibWl0dGVkLlxuICAgKi9cbiAgdG9vbF9vdXRwdXRzOiBBcnJheTxSdW5TdWJtaXRUb29sT3V0cHV0c0FuZFBvbGxQYXJhbXMuVG9vbE91dHB1dD47XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuU3VibWl0VG9vbE91dHB1dHNBbmRQb2xsUGFyYW1zIHtcbiAgZXhwb3J0IGludGVyZmFjZSBUb29sT3V0cHV0IHtcbiAgICAvKipcbiAgICAgKiBUaGUgb3V0cHV0IG9mIHRoZSB0b29sIGNhbGwgdG8gYmUgc3VibWl0dGVkIHRvIGNvbnRpbnVlIHRoZSBydW4uXG4gICAgICovXG4gICAgb3V0cHV0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwgaW4gdGhlIGByZXF1aXJlZF9hY3Rpb25gIG9iamVjdCB3aXRoaW4gdGhlIHJ1biBvYmplY3RcbiAgICAgKiB0aGUgb3V0cHV0IGlzIGJlaW5nIHN1Ym1pdHRlZCBmb3IuXG4gICAgICovXG4gICAgdG9vbF9jYWxsX2lkPzogc3RyaW5nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuU3VibWl0VG9vbE91dHB1dHNTdHJlYW1QYXJhbXMge1xuICAvKipcbiAgICogQSBsaXN0IG9mIHRvb2xzIGZvciB3aGljaCB0aGUgb3V0cHV0cyBhcmUgYmVpbmcgc3VibWl0dGVkLlxuICAgKi9cbiAgdG9vbF9vdXRwdXRzOiBBcnJheTxSdW5TdWJtaXRUb29sT3V0cHV0c1N0cmVhbVBhcmFtcy5Ub29sT3V0cHV0Pjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSdW5TdWJtaXRUb29sT3V0cHV0c1N0cmVhbVBhcmFtcyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbE91dHB1dCB7XG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dCBvZiB0aGUgdG9vbCBjYWxsIHRvIGJlIHN1Ym1pdHRlZCB0byBjb250aW51ZSB0aGUgcnVuLlxuICAgICAqL1xuICAgIG91dHB1dD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsIGluIHRoZSBgcmVxdWlyZWRfYWN0aW9uYCBvYmplY3Qgd2l0aGluIHRoZSBydW4gb2JqZWN0XG4gICAgICogdGhlIG91dHB1dCBpcyBiZWluZyBzdWJtaXR0ZWQgZm9yLlxuICAgICAqL1xuICAgIHRvb2xfY2FsbF9pZD86IHN0cmluZztcbiAgfVxufVxuXG5SdW5zLlJ1bnNQYWdlID0gUnVuc1BhZ2U7XG5SdW5zLlN0ZXBzID0gU3RlcHM7XG5SdW5zLlJ1blN0ZXBzUGFnZSA9IFJ1blN0ZXBzUGFnZTtcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIFJ1bnMge1xuICBleHBvcnQge1xuICAgIHR5cGUgUmVxdWlyZWRBY3Rpb25GdW5jdGlvblRvb2xDYWxsIGFzIFJlcXVpcmVkQWN0aW9uRnVuY3Rpb25Ub29sQ2FsbCxcbiAgICB0eXBlIFJ1biBhcyBSdW4sXG4gICAgdHlwZSBSdW5TdGF0dXMgYXMgUnVuU3RhdHVzLFxuICAgIFJ1bnNQYWdlIGFzIFJ1bnNQYWdlLFxuICAgIHR5cGUgUnVuQ3JlYXRlUGFyYW1zIGFzIFJ1bkNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIFJ1bkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyBhcyBSdW5DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgdHlwZSBSdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmcgYXMgUnVuQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAgIHR5cGUgUnVuVXBkYXRlUGFyYW1zIGFzIFJ1blVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIFJ1bkxpc3RQYXJhbXMgYXMgUnVuTGlzdFBhcmFtcyxcbiAgICB0eXBlIFJ1bkNyZWF0ZUFuZFBvbGxQYXJhbXMsXG4gICAgdHlwZSBSdW5DcmVhdGVBbmRTdHJlYW1QYXJhbXMsXG4gICAgdHlwZSBSdW5TdHJlYW1QYXJhbXMsXG4gICAgdHlwZSBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtcyBhcyBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtcyxcbiAgICB0eXBlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zTm9uU3RyZWFtaW5nIGFzIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW1pbmcgYXMgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBSdW5TdWJtaXRUb29sT3V0cHV0c0FuZFBvbGxQYXJhbXMsXG4gICAgdHlwZSBSdW5TdWJtaXRUb29sT3V0cHV0c1N0cmVhbVBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIFN0ZXBzIGFzIFN0ZXBzLFxuICAgIHR5cGUgQ29kZUludGVycHJldGVyTG9ncyBhcyBDb2RlSW50ZXJwcmV0ZXJMb2dzLFxuICAgIHR5cGUgQ29kZUludGVycHJldGVyT3V0cHV0SW1hZ2UgYXMgQ29kZUludGVycHJldGVyT3V0cHV0SW1hZ2UsXG4gICAgdHlwZSBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbCBhcyBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbCxcbiAgICB0eXBlIENvZGVJbnRlcnByZXRlclRvb2xDYWxsRGVsdGEgYXMgQ29kZUludGVycHJldGVyVG9vbENhbGxEZWx0YSxcbiAgICB0eXBlIEZpbGVTZWFyY2hUb29sQ2FsbCBhcyBGaWxlU2VhcmNoVG9vbENhbGwsXG4gICAgdHlwZSBGaWxlU2VhcmNoVG9vbENhbGxEZWx0YSBhcyBGaWxlU2VhcmNoVG9vbENhbGxEZWx0YSxcbiAgICB0eXBlIEZ1bmN0aW9uVG9vbENhbGwgYXMgRnVuY3Rpb25Ub29sQ2FsbCxcbiAgICB0eXBlIEZ1bmN0aW9uVG9vbENhbGxEZWx0YSBhcyBGdW5jdGlvblRvb2xDYWxsRGVsdGEsXG4gICAgdHlwZSBNZXNzYWdlQ3JlYXRpb25TdGVwRGV0YWlscyBhcyBNZXNzYWdlQ3JlYXRpb25TdGVwRGV0YWlscyxcbiAgICB0eXBlIFJ1blN0ZXAgYXMgUnVuU3RlcCxcbiAgICB0eXBlIFJ1blN0ZXBEZWx0YSBhcyBSdW5TdGVwRGVsdGEsXG4gICAgdHlwZSBSdW5TdGVwRGVsdGFFdmVudCBhcyBSdW5TdGVwRGVsdGFFdmVudCxcbiAgICB0eXBlIFJ1blN0ZXBEZWx0YU1lc3NhZ2VEZWx0YSBhcyBSdW5TdGVwRGVsdGFNZXNzYWdlRGVsdGEsXG4gICAgdHlwZSBSdW5TdGVwSW5jbHVkZSBhcyBSdW5TdGVwSW5jbHVkZSxcbiAgICB0eXBlIFRvb2xDYWxsIGFzIFRvb2xDYWxsLFxuICAgIHR5cGUgVG9vbENhbGxEZWx0YSBhcyBUb29sQ2FsbERlbHRhLFxuICAgIHR5cGUgVG9vbENhbGxEZWx0YU9iamVjdCBhcyBUb29sQ2FsbERlbHRhT2JqZWN0LFxuICAgIHR5cGUgVG9vbENhbGxzU3RlcERldGFpbHMgYXMgVG9vbENhbGxzU3RlcERldGFpbHMsXG4gICAgUnVuU3RlcHNQYWdlIGFzIFJ1blN0ZXBzUGFnZSxcbiAgICB0eXBlIFN0ZXBSZXRyaWV2ZVBhcmFtcyBhcyBTdGVwUmV0cmlldmVQYXJhbXMsXG4gICAgdHlwZSBTdGVwTGlzdFBhcmFtcyBhcyBTdGVwTGlzdFBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi9jb3JlJztcbmltcG9ydCB7IEFzc2lzdGFudFN0cmVhbSwgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zQmFzZVN0cmVhbSB9IGZyb20gJy4uLy4uLy4uL2xpYi9Bc3Npc3RhbnRTdHJlYW0nO1xuaW1wb3J0IHsgQVBJUHJvbWlzZSB9IGZyb20gJy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIFRocmVhZHNBUEkgZnJvbSAnLi90aHJlYWRzJztcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tICcuLi8uLi9zaGFyZWQnO1xuaW1wb3J0ICogYXMgQXNzaXN0YW50c0FQSSBmcm9tICcuLi9hc3Npc3RhbnRzJztcbmltcG9ydCAqIGFzIE1lc3NhZ2VzQVBJIGZyb20gJy4vbWVzc2FnZXMnO1xuaW1wb3J0IHtcbiAgQW5ub3RhdGlvbixcbiAgQW5ub3RhdGlvbkRlbHRhLFxuICBGaWxlQ2l0YXRpb25Bbm5vdGF0aW9uLFxuICBGaWxlQ2l0YXRpb25EZWx0YUFubm90YXRpb24sXG4gIEZpbGVQYXRoQW5ub3RhdGlvbixcbiAgRmlsZVBhdGhEZWx0YUFubm90YXRpb24sXG4gIEltYWdlRmlsZSxcbiAgSW1hZ2VGaWxlQ29udGVudEJsb2NrLFxuICBJbWFnZUZpbGVEZWx0YSxcbiAgSW1hZ2VGaWxlRGVsdGFCbG9jayxcbiAgSW1hZ2VVUkwsXG4gIEltYWdlVVJMQ29udGVudEJsb2NrLFxuICBJbWFnZVVSTERlbHRhLFxuICBJbWFnZVVSTERlbHRhQmxvY2ssXG4gIE1lc3NhZ2UgYXMgTWVzc2FnZXNBUElNZXNzYWdlLFxuICBNZXNzYWdlQ29udGVudCxcbiAgTWVzc2FnZUNvbnRlbnREZWx0YSxcbiAgTWVzc2FnZUNvbnRlbnRQYXJ0UGFyYW0sXG4gIE1lc3NhZ2VDcmVhdGVQYXJhbXMsXG4gIE1lc3NhZ2VEZWxldGVkLFxuICBNZXNzYWdlRGVsdGEsXG4gIE1lc3NhZ2VEZWx0YUV2ZW50LFxuICBNZXNzYWdlTGlzdFBhcmFtcyxcbiAgTWVzc2FnZVVwZGF0ZVBhcmFtcyxcbiAgTWVzc2FnZXMsXG4gIE1lc3NhZ2VzUGFnZSxcbiAgUmVmdXNhbENvbnRlbnRCbG9jayxcbiAgUmVmdXNhbERlbHRhQmxvY2ssXG4gIFRleHQsXG4gIFRleHRDb250ZW50QmxvY2ssXG4gIFRleHRDb250ZW50QmxvY2tQYXJhbSxcbiAgVGV4dERlbHRhLFxuICBUZXh0RGVsdGFCbG9jayxcbn0gZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgKiBhcyBSdW5zQVBJIGZyb20gJy4vcnVucy9ydW5zJztcbmltcG9ydCB7XG4gIFJlcXVpcmVkQWN0aW9uRnVuY3Rpb25Ub29sQ2FsbCxcbiAgUnVuLFxuICBSdW5DcmVhdGVBbmRQb2xsUGFyYW1zLFxuICBSdW5DcmVhdGVBbmRTdHJlYW1QYXJhbXMsXG4gIFJ1bkNyZWF0ZVBhcmFtcyxcbiAgUnVuQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICBSdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gIFJ1bkxpc3RQYXJhbXMsXG4gIFJ1blN0YXR1cyxcbiAgUnVuU3RyZWFtUGFyYW1zLFxuICBSdW5TdWJtaXRUb29sT3V0cHV0c0FuZFBvbGxQYXJhbXMsXG4gIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zLFxuICBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc05vblN0cmVhbWluZyxcbiAgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW1pbmcsXG4gIFJ1blN1Ym1pdFRvb2xPdXRwdXRzU3RyZWFtUGFyYW1zLFxuICBSdW5VcGRhdGVQYXJhbXMsXG4gIFJ1bnMsXG4gIFJ1bnNQYWdlLFxufSBmcm9tICcuL3J1bnMvcnVucyc7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICcuLi8uLi8uLi9zdHJlYW1pbmcnO1xuXG5leHBvcnQgY2xhc3MgVGhyZWFkcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgcnVuczogUnVuc0FQSS5SdW5zID0gbmV3IFJ1bnNBUEkuUnVucyh0aGlzLl9jbGllbnQpO1xuICBtZXNzYWdlczogTWVzc2FnZXNBUEkuTWVzc2FnZXMgPSBuZXcgTWVzc2FnZXNBUEkuTWVzc2FnZXModGhpcy5fY2xpZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgdGhyZWFkLlxuICAgKi9cbiAgY3JlYXRlKGJvZHk/OiBUaHJlYWRDcmVhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFRocmVhZD47XG4gIGNyZWF0ZShvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxUaHJlYWQ+O1xuICBjcmVhdGUoXG4gICAgYm9keTogVGhyZWFkQ3JlYXRlUGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VGhyZWFkPiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMoYm9keSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh7fSwgYm9keSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3RocmVhZHMnLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgdGhyZWFkLlxuICAgKi9cbiAgcmV0cmlldmUodGhyZWFkSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VGhyZWFkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC90aHJlYWRzLyR7dGhyZWFkSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTW9kaWZpZXMgYSB0aHJlYWQuXG4gICAqL1xuICB1cGRhdGUodGhyZWFkSWQ6IHN0cmluZywgYm9keTogVGhyZWFkVXBkYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxUaHJlYWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9YCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHRocmVhZC5cbiAgICovXG4gIGRlbCh0aHJlYWRJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxUaHJlYWREZWxldGVkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC90aHJlYWRzLyR7dGhyZWFkSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgdGhyZWFkIGFuZCBydW4gaXQgaW4gb25lIHJlcXVlc3QuXG4gICAqL1xuICBjcmVhdGVBbmRSdW4oXG4gICAgYm9keTogVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFJ1bnNBUEkuUnVuPjtcbiAgY3JlYXRlQW5kUnVuKFxuICAgIGJvZHk6IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc1N0cmVhbWluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRTdHJlYW1FdmVudD4+O1xuICBjcmVhdGVBbmRSdW4oXG4gICAgYm9keTogVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zQmFzZSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRTdHJlYW1FdmVudD4gfCBSdW5zQVBJLlJ1bj47XG4gIGNyZWF0ZUFuZFJ1bihcbiAgICBib2R5OiBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8UnVuc0FQSS5SdW4+IHwgQVBJUHJvbWlzZTxTdHJlYW08QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRTdHJlYW1FdmVudD4+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy90aHJlYWRzL3J1bnMnLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICBzdHJlYW06IGJvZHkuc3RyZWFtID8/IGZhbHNlLFxuICAgIH0pIGFzIEFQSVByb21pc2U8UnVuc0FQSS5SdW4+IHwgQVBJUHJvbWlzZTxTdHJlYW08QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRTdHJlYW1FdmVudD4+O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIHRvIGNyZWF0ZSBhIHRocmVhZCwgc3RhcnQgYSBydW4gYW5kIHRoZW4gcG9sbCBmb3IgYSB0ZXJtaW5hbCBzdGF0ZS5cbiAgICogTW9yZSBpbmZvcm1hdGlvbiBvbiBSdW4gbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy9ob3ctaXQtd29ya3MvcnVucy1hbmQtcnVuLXN0ZXBzXG4gICAqL1xuICBhc3luYyBjcmVhdGVBbmRSdW5Qb2xsKFxuICAgIGJvZHk6IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc05vblN0cmVhbWluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyAmIHsgcG9sbEludGVydmFsTXM/OiBudW1iZXIgfSxcbiAgKTogUHJvbWlzZTxUaHJlYWRzLlJ1bj4ge1xuICAgIGNvbnN0IHJ1biA9IGF3YWl0IHRoaXMuY3JlYXRlQW5kUnVuKGJvZHksIG9wdGlvbnMpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnJ1bnMucG9sbChydW4udGhyZWFkX2lkLCBydW4uaWQsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHRocmVhZCBhbmQgc3RyZWFtIHRoZSBydW4gYmFja1xuICAgKi9cbiAgY3JlYXRlQW5kUnVuU3RyZWFtKFxuICAgIGJvZHk6IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc0Jhc2VTdHJlYW0sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFzc2lzdGFudFN0cmVhbSB7XG4gICAgcmV0dXJuIEFzc2lzdGFudFN0cmVhbS5jcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0oYm9keSwgdGhpcy5fY2xpZW50LmJldGEudGhyZWFkcywgb3B0aW9ucyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTcGVjaWZpZXMgdGhlIGZvcm1hdCB0aGF0IHRoZSBtb2RlbCBtdXN0IG91dHB1dC4gQ29tcGF0aWJsZSB3aXRoXG4gKiBbR1BULTRvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjZ3B0LTRvKSxcbiAqIFtHUFQtNCBUdXJib10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00LXR1cmJvLWFuZC1ncHQtNCksXG4gKiBhbmQgYWxsIEdQVC0zLjUgVHVyYm8gbW9kZWxzIHNpbmNlIGBncHQtMy41LXR1cmJvLTExMDZgLlxuICpcbiAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9zY2hlbWFcIiwgXCJqc29uX3NjaGVtYVwiOiB7Li4ufSB9YCBlbmFibGVzIFN0cnVjdHVyZWRcbiAqIE91dHB1dHMgd2hpY2ggZW5zdXJlcyB0aGUgbW9kZWwgd2lsbCBtYXRjaCB5b3VyIHN1cHBsaWVkIEpTT04gc2NoZW1hLiBMZWFybiBtb3JlXG4gKiBpbiB0aGVcbiAqIFtTdHJ1Y3R1cmVkIE91dHB1dHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpLlxuICpcbiAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIEpTT04gbW9kZSwgd2hpY2ggZW5zdXJlcyB0aGVcbiAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICpcbiAqICoqSW1wb3J0YW50OioqIHdoZW4gdXNpbmcgSlNPTiBtb2RlLCB5b3UgKiptdXN0KiogYWxzbyBpbnN0cnVjdCB0aGUgbW9kZWwgdG9cbiAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAqIGdlbmVyYXRlIGFuIHVuZW5kaW5nIHN0cmVhbSBvZiB3aGl0ZXNwYWNlIHVudGlsIHRoZSBnZW5lcmF0aW9uIHJlYWNoZXMgdGhlIHRva2VuXG4gKiBsaW1pdCwgcmVzdWx0aW5nIGluIGEgbG9uZy1ydW5uaW5nIGFuZCBzZWVtaW5nbHkgXCJzdHVja1wiIHJlcXVlc3QuIEFsc28gbm90ZSB0aGF0XG4gKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAqIGluZGljYXRlcyB0aGUgZ2VuZXJhdGlvbiBleGNlZWRlZCBgbWF4X3Rva2Vuc2Agb3IgdGhlIGNvbnZlcnNhdGlvbiBleGNlZWRlZCB0aGVcbiAqIG1heCBjb250ZXh0IGxlbmd0aC5cbiAqL1xuZXhwb3J0IHR5cGUgQXNzaXN0YW50UmVzcG9uc2VGb3JtYXRPcHRpb24gPVxuICB8ICdhdXRvJ1xuICB8IFNoYXJlZC5SZXNwb25zZUZvcm1hdFRleHRcbiAgfCBTaGFyZWQuUmVzcG9uc2VGb3JtYXRKU09OT2JqZWN0XG4gIHwgU2hhcmVkLlJlc3BvbnNlRm9ybWF0SlNPTlNjaGVtYTtcblxuLyoqXG4gKiBTcGVjaWZpZXMgYSB0b29sIHRoZSBtb2RlbCBzaG91bGQgdXNlLiBVc2UgdG8gZm9yY2UgdGhlIG1vZGVsIHRvIGNhbGwgYSBzcGVjaWZpY1xuICogdG9vbC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRUb29sQ2hvaWNlIHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSB0b29sLiBJZiB0eXBlIGlzIGBmdW5jdGlvbmAsIHRoZSBmdW5jdGlvbiBuYW1lIG11c3QgYmUgc2V0XG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nIHwgJ2NvZGVfaW50ZXJwcmV0ZXInIHwgJ2ZpbGVfc2VhcmNoJztcblxuICBmdW5jdGlvbj86IEFzc2lzdGFudFRvb2xDaG9pY2VGdW5jdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRUb29sQ2hvaWNlRnVuY3Rpb24ge1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQ29udHJvbHMgd2hpY2ggKGlmIGFueSkgdG9vbCBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLiBgbm9uZWAgbWVhbnMgdGhlIG1vZGVsIHdpbGxcbiAqIG5vdCBjYWxsIGFueSB0b29scyBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgdmFsdWVcbiAqIGFuZCBtZWFucyB0aGUgbW9kZWwgY2FuIHBpY2sgYmV0d2VlbiBnZW5lcmF0aW5nIGEgbWVzc2FnZSBvciBjYWxsaW5nIG9uZSBvciBtb3JlXG4gKiB0b29scy4gYHJlcXVpcmVkYCBtZWFucyB0aGUgbW9kZWwgbXVzdCBjYWxsIG9uZSBvciBtb3JlIHRvb2xzIGJlZm9yZSByZXNwb25kaW5nXG4gKiB0byB0aGUgdXNlci4gU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgdG9vbCBsaWtlIGB7XCJ0eXBlXCI6IFwiZmlsZV9zZWFyY2hcIn1gIG9yXG4gKiBge1widHlwZVwiOiBcImZ1bmN0aW9uXCIsIFwiZnVuY3Rpb25cIjoge1wibmFtZVwiOiBcIm15X2Z1bmN0aW9uXCJ9fWAgZm9yY2VzIHRoZSBtb2RlbCB0b1xuICogY2FsbCB0aGF0IHRvb2wuXG4gKi9cbmV4cG9ydCB0eXBlIEFzc2lzdGFudFRvb2xDaG9pY2VPcHRpb24gPSAnbm9uZScgfCAnYXV0bycgfCAncmVxdWlyZWQnIHwgQXNzaXN0YW50VG9vbENob2ljZTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgdGhyZWFkIHRoYXQgY29udGFpbnNcbiAqIFttZXNzYWdlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkIHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgdGhyZWFkIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE6IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGB0aHJlYWRgLlxuICAgKi9cbiAgb2JqZWN0OiAndGhyZWFkJztcblxuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIG1hZGUgYXZhaWxhYmxlIHRvIHRoZSBhc3Npc3RhbnQncyB0b29scyBpbiB0aGlzXG4gICAqIHRocmVhZC4gVGhlIHJlc291cmNlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZVxuICAgKiBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgXG4gICAqIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZSBJRHMuXG4gICAqL1xuICB0b29sX3Jlc291cmNlczogVGhyZWFkLlRvb2xSZXNvdXJjZXMgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFRocmVhZCB7XG4gIC8qKlxuICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgbWFkZSBhdmFpbGFibGUgdG8gdGhlIGFzc2lzdGFudCdzIHRvb2xzIGluIHRoaXNcbiAgICogdGhyZWFkLiBUaGUgcmVzb3VyY2VzIGFyZSBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlXG4gICAqIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGBcbiAgICogdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlIElEcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgY29kZV9pbnRlcnByZXRlcj86IFRvb2xSZXNvdXJjZXMuQ29kZUludGVycHJldGVyO1xuXG4gICAgZmlsZV9zZWFyY2g/OiBUb29sUmVzb3VyY2VzLkZpbGVTZWFyY2g7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgbWFkZVxuICAgICAgICogYXZhaWxhYmxlIHRvIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlc1xuICAgICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB0b29sLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlXG4gICAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgICAgICogYXR0YWNoZWQgdG8gdGhpcyB0aHJlYWQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMSB2ZWN0b3Igc3RvcmUgYXR0YWNoZWQgdG9cbiAgICAgICAqIHRoZSB0aHJlYWQuXG4gICAgICAgKi9cbiAgICAgIHZlY3Rvcl9zdG9yZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZERlbGV0ZWQge1xuICBpZDogc3RyaW5nO1xuXG4gIGRlbGV0ZWQ6IGJvb2xlYW47XG5cbiAgb2JqZWN0OiAndGhyZWFkLmRlbGV0ZWQnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZENyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgW21lc3NhZ2VzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzKSB0b1xuICAgKiBzdGFydCB0aGUgdGhyZWFkIHdpdGguXG4gICAqL1xuICBtZXNzYWdlcz86IEFycmF5PFRocmVhZENyZWF0ZVBhcmFtcy5NZXNzYWdlPjtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIG1hZGUgYXZhaWxhYmxlIHRvIHRoZSBhc3Npc3RhbnQncyB0b29scyBpbiB0aGlzXG4gICAqIHRocmVhZC4gVGhlIHJlc291cmNlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZVxuICAgKiBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgXG4gICAqIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZSBJRHMuXG4gICAqL1xuICB0b29sX3Jlc291cmNlcz86IFRocmVhZENyZWF0ZVBhcmFtcy5Ub29sUmVzb3VyY2VzIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWRDcmVhdGVQYXJhbXMge1xuICBleHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IGNvbnRlbnRzIG9mIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIGNvbnRlbnQ6IHN0cmluZyB8IEFycmF5PE1lc3NhZ2VzQVBJLk1lc3NhZ2VDb250ZW50UGFydFBhcmFtPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb2xlIG9mIHRoZSBlbnRpdHkgdGhhdCBpcyBjcmVhdGluZyB0aGUgbWVzc2FnZS4gQWxsb3dlZCB2YWx1ZXMgaW5jbHVkZTpcbiAgICAgKlxuICAgICAqIC0gYHVzZXJgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgc2VudCBieSBhbiBhY3R1YWwgdXNlciBhbmQgc2hvdWxkIGJlIHVzZWQgaW5cbiAgICAgKiAgIG1vc3QgY2FzZXMgdG8gcmVwcmVzZW50IHVzZXItZ2VuZXJhdGVkIG1lc3NhZ2VzLlxuICAgICAqIC0gYGFzc2lzdGFudGA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBnZW5lcmF0ZWQgYnkgdGhlIGFzc2lzdGFudC4gVXNlIHRoaXNcbiAgICAgKiAgIHZhbHVlIHRvIGluc2VydCBtZXNzYWdlcyBmcm9tIHRoZSBhc3Npc3RhbnQgaW50byB0aGUgY29udmVyc2F0aW9uLlxuICAgICAqL1xuICAgIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGZpbGVzIGF0dGFjaGVkIHRvIHRoZSBtZXNzYWdlLCBhbmQgdGhlIHRvb2xzIHRoZXkgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICAgICAqL1xuICAgIGF0dGFjaG1lbnRzPzogQXJyYXk8TWVzc2FnZS5BdHRhY2htZW50PiB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICAgKlxuICAgICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICAgKi9cbiAgICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIE1lc3NhZ2Uge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHRvb2xzIHRvIGFkZCB0aGlzIGZpbGUgdG8uXG4gICAgICAgKi9cbiAgICAgIHRvb2xzPzogQXJyYXk8QXNzaXN0YW50c0FQSS5Db2RlSW50ZXJwcmV0ZXJUb29sIHwgQXR0YWNobWVudC5GaWxlU2VhcmNoPjtcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIEF0dGFjaG1lbnQge1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYGZpbGVfc2VhcmNoYFxuICAgICAgICAgKi9cbiAgICAgICAgdHlwZTogJ2ZpbGVfc2VhcmNoJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIG1hZGUgYXZhaWxhYmxlIHRvIHRoZSBhc3Npc3RhbnQncyB0b29scyBpbiB0aGlzXG4gICAqIHRocmVhZC4gVGhlIHJlc291cmNlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZVxuICAgKiBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgXG4gICAqIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZSBJRHMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGNvZGVfaW50ZXJwcmV0ZXI/OiBUb29sUmVzb3VyY2VzLkNvZGVJbnRlcnByZXRlcjtcblxuICAgIGZpbGVfc2VhcmNoPzogVG9vbFJlc291cmNlcy5GaWxlU2VhcmNoO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlciB7XG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIG1hZGVcbiAgICAgICAqIGF2YWlsYWJsZSB0byB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMjAgZmlsZXNcbiAgICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9vbC5cbiAgICAgICAqL1xuICAgICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZVxuICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgdGhyZWFkLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgKiB0aGUgdGhyZWFkLlxuICAgICAgICovXG4gICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAgICAgLyoqXG4gICAgICAgKiBBIGhlbHBlciB0byBjcmVhdGUgYVxuICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAqIHdpdGggZmlsZV9pZHMgYW5kIGF0dGFjaCBpdCB0byB0aGlzIHRocmVhZC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxIHZlY3RvclxuICAgICAgICogc3RvcmUgYXR0YWNoZWQgdG8gdGhlIHRocmVhZC5cbiAgICAgICAqL1xuICAgICAgdmVjdG9yX3N0b3Jlcz86IEFycmF5PEZpbGVTZWFyY2guVmVjdG9yU3RvcmU+O1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgRmlsZVNlYXJjaCB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIFZlY3RvclN0b3JlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjaHVua2luZyBzdHJhdGVneSB1c2VkIHRvIGNodW5rIHRoZSBmaWxlKHMpLiBJZiBub3Qgc2V0LCB3aWxsIHVzZSB0aGUgYGF1dG9gXG4gICAgICAgICAqIHN0cmF0ZWd5LlxuICAgICAgICAgKi9cbiAgICAgICAgY2h1bmtpbmdfc3RyYXRlZ3k/OiBWZWN0b3JTdG9yZS5BdXRvIHwgVmVjdG9yU3RvcmUuU3RhdGljO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyB0b1xuICAgICAgICAgKiBhZGQgdG8gdGhlIHZlY3RvciBzdG9yZS4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxMDAwMCBmaWxlcyBpbiBhIHZlY3RvclxuICAgICAgICAgKiBzdG9yZS5cbiAgICAgICAgICovXG4gICAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAgICAgICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICAgICAgICpcbiAgICAgICAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICAgICAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICAgICAgICovXG4gICAgICAgIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcbiAgICAgIH1cblxuICAgICAgZXhwb3J0IG5hbWVzcGFjZSBWZWN0b3JTdG9yZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzdHJhdGVneS4gVGhpcyBzdHJhdGVneSBjdXJyZW50bHkgdXNlcyBhIGBtYXhfY2h1bmtfc2l6ZV90b2tlbnNgIG9mXG4gICAgICAgICAqIGA4MDBgIGFuZCBgY2h1bmtfb3ZlcmxhcF90b2tlbnNgIG9mIGA0MDBgLlxuICAgICAgICAgKi9cbiAgICAgICAgZXhwb3J0IGludGVyZmFjZSBBdXRvIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBbHdheXMgYGF1dG9gLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHR5cGU6ICdhdXRvJztcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgU3RhdGljIHtcbiAgICAgICAgICBzdGF0aWM6IFN0YXRpYy5TdGF0aWM7XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBbHdheXMgYHN0YXRpY2AuXG4gICAgICAgICAgICovXG4gICAgICAgICAgdHlwZTogJ3N0YXRpYyc7XG4gICAgICAgIH1cblxuICAgICAgICBleHBvcnQgbmFtZXNwYWNlIFN0YXRpYyB7XG4gICAgICAgICAgZXhwb3J0IGludGVyZmFjZSBTdGF0aWMge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIHRva2VucyB0aGF0IG92ZXJsYXAgYmV0d2VlbiBjaHVua3MuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGA0MDBgLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIE5vdGUgdGhhdCB0aGUgb3ZlcmxhcCBtdXN0IG5vdCBleGNlZWQgaGFsZiBvZiBgbWF4X2NodW5rX3NpemVfdG9rZW5zYC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2h1bmtfb3ZlcmxhcF90b2tlbnM6IG51bWJlcjtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIGluIGVhY2ggY2h1bmsuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGA4MDBgLiBUaGVcbiAgICAgICAgICAgICAqIG1pbmltdW0gdmFsdWUgaXMgYDEwMGAgYW5kIHRoZSBtYXhpbXVtIHZhbHVlIGlzIGA0MDk2YC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbWF4X2NodW5rX3NpemVfdG9rZW5zOiBudW1iZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkVXBkYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBtYWRlIGF2YWlsYWJsZSB0byB0aGUgYXNzaXN0YW50J3MgdG9vbHMgaW4gdGhpc1xuICAgKiB0aHJlYWQuIFRoZSByZXNvdXJjZXMgYXJlIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGVcbiAgICogYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYFxuICAgKiB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgSURzLlxuICAgKi9cbiAgdG9vbF9yZXNvdXJjZXM/OiBUaHJlYWRVcGRhdGVQYXJhbXMuVG9vbFJlc291cmNlcyB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVGhyZWFkVXBkYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBtYWRlIGF2YWlsYWJsZSB0byB0aGUgYXNzaXN0YW50J3MgdG9vbHMgaW4gdGhpc1xuICAgKiB0aHJlYWQuIFRoZSByZXNvdXJjZXMgYXJlIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGVcbiAgICogYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYFxuICAgKiB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgSURzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBjb2RlX2ludGVycHJldGVyPzogVG9vbFJlc291cmNlcy5Db2RlSW50ZXJwcmV0ZXI7XG5cbiAgICBmaWxlX3NlYXJjaD86IFRvb2xSZXNvdXJjZXMuRmlsZVNlYXJjaDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyBtYWRlXG4gICAgICAgKiBhdmFpbGFibGUgdG8gdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDIwIGZpbGVzXG4gICAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIHRvb2wuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGVcbiAgICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAgICAgKiBhdHRhY2hlZCB0byB0aGlzIHRocmVhZC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxIHZlY3RvciBzdG9yZSBhdHRhY2hlZCB0b1xuICAgICAgICogdGhlIHRocmVhZC5cbiAgICAgICAqL1xuICAgICAgdmVjdG9yX3N0b3JlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtcyA9XG4gIHwgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zTm9uU3RyZWFtaW5nXG4gIHwgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zU3RyZWFtaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpIHRvIHVzZSB0b1xuICAgKiBleGVjdXRlIHRoaXMgcnVuLlxuICAgKi9cbiAgYXNzaXN0YW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBkZWZhdWx0IHN5c3RlbSBtZXNzYWdlIG9mIHRoZSBhc3Npc3RhbnQuIFRoaXMgaXMgdXNlZnVsIGZvclxuICAgKiBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjb21wbGV0aW9uIHRva2VucyB0aGF0IG1heSBiZSB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGVcbiAgICogcnVuLiBUaGUgcnVuIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHVzZSBvbmx5IHRoZSBudW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnNcbiAgICogc3BlY2lmaWVkLCBhY3Jvc3MgbXVsdGlwbGUgdHVybnMgb2YgdGhlIHJ1bi4gSWYgdGhlIHJ1biBleGNlZWRzIHRoZSBudW1iZXIgb2ZcbiAgICogY29tcGxldGlvbiB0b2tlbnMgc3BlY2lmaWVkLCB0aGUgcnVuIHdpbGwgZW5kIHdpdGggc3RhdHVzIGBpbmNvbXBsZXRlYC4gU2VlXG4gICAqIGBpbmNvbXBsZXRlX2RldGFpbHNgIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBtYXhfY29tcGxldGlvbl90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcHJvbXB0IHRva2VucyB0aGF0IG1heSBiZSB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgcnVuLlxuICAgKiBUaGUgcnVuIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHVzZSBvbmx5IHRoZSBudW1iZXIgb2YgcHJvbXB0IHRva2Vuc1xuICAgKiBzcGVjaWZpZWQsIGFjcm9zcyBtdWx0aXBsZSB0dXJucyBvZiB0aGUgcnVuLiBJZiB0aGUgcnVuIGV4Y2VlZHMgdGhlIG51bWJlciBvZlxuICAgKiBwcm9tcHQgdG9rZW5zIHNwZWNpZmllZCwgdGhlIHJ1biB3aWxsIGVuZCB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuIFNlZVxuICAgKiBgaW5jb21wbGV0ZV9kZXRhaWxzYCBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgbWF4X3Byb21wdF90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFtNb2RlbF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMpIHRvXG4gICAqIGJlIHVzZWQgdG8gZXhlY3V0ZSB0aGlzIHJ1bi4gSWYgYSB2YWx1ZSBpcyBwcm92aWRlZCBoZXJlLCBpdCB3aWxsIG92ZXJyaWRlIHRoZVxuICAgKiBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlIGFzc2lzdGFudC4gSWYgbm90LCB0aGUgbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgKiBhc3Npc3RhbnQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgbW9kZWw/OiAoc3RyaW5nICYge30pIHwgU2hhcmVkLkNoYXRNb2RlbCB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlXG4gICAqIFtwYXJhbGxlbCBmdW5jdGlvbiBjYWxsaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZnVuY3Rpb24tY2FsbGluZyNjb25maWd1cmluZy1wYXJhbGxlbC1mdW5jdGlvbi1jYWxsaW5nKVxuICAgKiBkdXJpbmcgdG9vbCB1c2UuXG4gICAqL1xuICBwYXJhbGxlbF90b29sX2NhbGxzPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuIENvbXBhdGlibGUgd2l0aFxuICAgKiBbR1BULTRvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjZ3B0LTRvKSxcbiAgICogW0dQVC00IFR1cmJvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjZ3B0LTQtdHVyYm8tYW5kLWdwdC00KSxcbiAgICogYW5kIGFsbCBHUFQtMy41IFR1cmJvIG1vZGVscyBzaW5jZSBgZ3B0LTMuNS10dXJiby0xMTA2YC5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX3NjaGVtYVwiLCBcImpzb25fc2NoZW1hXCI6IHsuLi59IH1gIGVuYWJsZXMgU3RydWN0dXJlZFxuICAgKiBPdXRwdXRzIHdoaWNoIGVuc3VyZXMgdGhlIG1vZGVsIHdpbGwgbWF0Y2ggeW91ciBzdXBwbGllZCBKU09OIHNjaGVtYS4gTGVhcm4gbW9yZVxuICAgKiBpbiB0aGVcbiAgICogW1N0cnVjdHVyZWQgT3V0cHV0cyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cykuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIEpTT04gbW9kZSwgd2hpY2ggZW5zdXJlcyB0aGVcbiAgICogbWVzc2FnZSB0aGUgbW9kZWwgZ2VuZXJhdGVzIGlzIHZhbGlkIEpTT04uXG4gICAqXG4gICAqICoqSW1wb3J0YW50OioqIHdoZW4gdXNpbmcgSlNPTiBtb2RlLCB5b3UgKiptdXN0KiogYWxzbyBpbnN0cnVjdCB0aGUgbW9kZWwgdG9cbiAgICogcHJvZHVjZSBKU09OIHlvdXJzZWxmIHZpYSBhIHN5c3RlbSBvciB1c2VyIG1lc3NhZ2UuIFdpdGhvdXQgdGhpcywgdGhlIG1vZGVsIG1heVxuICAgKiBnZW5lcmF0ZSBhbiB1bmVuZGluZyBzdHJlYW0gb2Ygd2hpdGVzcGFjZSB1bnRpbCB0aGUgZ2VuZXJhdGlvbiByZWFjaGVzIHRoZSB0b2tlblxuICAgKiBsaW1pdCwgcmVzdWx0aW5nIGluIGEgbG9uZy1ydW5uaW5nIGFuZCBzZWVtaW5nbHkgXCJzdHVja1wiIHJlcXVlc3QuIEFsc28gbm90ZSB0aGF0XG4gICAqIHRoZSBtZXNzYWdlIGNvbnRlbnQgbWF5IGJlIHBhcnRpYWxseSBjdXQgb2ZmIGlmIGBmaW5pc2hfcmVhc29uPVwibGVuZ3RoXCJgLCB3aGljaFxuICAgKiBpbmRpY2F0ZXMgdGhlIGdlbmVyYXRpb24gZXhjZWVkZWQgYG1heF90b2tlbnNgIG9yIHRoZSBjb252ZXJzYXRpb24gZXhjZWVkZWQgdGhlXG4gICAqIG1heCBjb250ZXh0IGxlbmd0aC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86IEFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogSWYgYHRydWVgLCByZXR1cm5zIGEgc3RyZWFtIG9mIGV2ZW50cyB0aGF0IGhhcHBlbiBkdXJpbmcgdGhlIFJ1biBhcyBzZXJ2ZXItc2VudFxuICAgKiBldmVudHMsIHRlcm1pbmF0aW5nIHdoZW4gdGhlIFJ1biBlbnRlcnMgYSB0ZXJtaW5hbCBzdGF0ZSB3aXRoIGEgYGRhdGE6IFtET05FXWBcbiAgICogbWVzc2FnZS5cbiAgICovXG4gIHN0cmVhbT86IGJvb2xlYW4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGxcbiAgICogbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmVcbiAgICogZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogT3B0aW9ucyB0byBjcmVhdGUgYSBuZXcgdGhyZWFkLiBJZiBubyB0aHJlYWQgaXMgcHJvdmlkZWQgd2hlbiBydW5uaW5nIGEgcmVxdWVzdCxcbiAgICogYW4gZW1wdHkgdGhyZWFkIHdpbGwgYmUgY3JlYXRlZC5cbiAgICovXG4gIHRocmVhZD86IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtcy5UaHJlYWQ7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoaWNoIChpZiBhbnkpIHRvb2wgaXMgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gYG5vbmVgIG1lYW5zIHRoZSBtb2RlbCB3aWxsXG4gICAqIG5vdCBjYWxsIGFueSB0b29scyBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgdmFsdWVcbiAgICogYW5kIG1lYW5zIHRoZSBtb2RlbCBjYW4gcGljayBiZXR3ZWVuIGdlbmVyYXRpbmcgYSBtZXNzYWdlIG9yIGNhbGxpbmcgb25lIG9yIG1vcmVcbiAgICogdG9vbHMuIGByZXF1aXJlZGAgbWVhbnMgdGhlIG1vZGVsIG11c3QgY2FsbCBvbmUgb3IgbW9yZSB0b29scyBiZWZvcmUgcmVzcG9uZGluZ1xuICAgKiB0byB0aGUgdXNlci4gU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgdG9vbCBsaWtlIGB7XCJ0eXBlXCI6IFwiZmlsZV9zZWFyY2hcIn1gIG9yXG4gICAqIGB7XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiOiB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn19YCBmb3JjZXMgdGhlIG1vZGVsIHRvXG4gICAqIGNhbGwgdGhhdCB0b29sLlxuICAgKi9cbiAgdG9vbF9jaG9pY2U/OiBBc3Npc3RhbnRUb29sQ2hvaWNlT3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGFzc2lzdGFudCdzIHRvb2xzLiBUaGUgcmVzb3VyY2VzIGFyZVxuICAgKiBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzXG4gICAqIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlXG4gICAqIElEcy5cbiAgICovXG4gIHRvb2xfcmVzb3VyY2VzPzogVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zLlRvb2xSZXNvdXJjZXMgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgdG9vbHMgdGhlIGFzc2lzdGFudCBjYW4gdXNlIGZvciB0aGlzIHJ1bi4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gICAqIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzLlxuICAgKi9cbiAgdG9vbHM/OiBBcnJheTxcbiAgICBBc3Npc3RhbnRzQVBJLkNvZGVJbnRlcnByZXRlclRvb2wgfCBBc3Npc3RhbnRzQVBJLkZpbGVTZWFyY2hUb29sIHwgQXNzaXN0YW50c0FQSS5GdW5jdGlvblRvb2xcbiAgPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIGFsdGVybmF0aXZlIHRvIHNhbXBsaW5nIHdpdGggdGVtcGVyYXR1cmUsIGNhbGxlZCBudWNsZXVzIHNhbXBsaW5nLCB3aGVyZSB0aGVcbiAgICogbW9kZWwgY29uc2lkZXJzIHRoZSByZXN1bHRzIG9mIHRoZSB0b2tlbnMgd2l0aCB0b3BfcCBwcm9iYWJpbGl0eSBtYXNzLiBTbyAwLjFcbiAgICogbWVhbnMgb25seSB0aGUgdG9rZW5zIGNvbXByaXNpbmcgdGhlIHRvcCAxMCUgcHJvYmFiaWxpdHkgbWFzcyBhcmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIHRlbXBlcmF0dXJlIGJ1dCBub3QgYm90aC5cbiAgICovXG4gIHRvcF9wPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2UgdGhpcyB0b1xuICAgKiBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIHRydW5jYXRpb25fc3RyYXRlZ3k/OiBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMuVHJ1bmNhdGlvblN0cmF0ZWd5IHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMge1xuICAvKipcbiAgICogT3B0aW9ucyB0byBjcmVhdGUgYSBuZXcgdGhyZWFkLiBJZiBubyB0aHJlYWQgaXMgcHJvdmlkZWQgd2hlbiBydW5uaW5nIGEgcmVxdWVzdCxcbiAgICogYW4gZW1wdHkgdGhyZWFkIHdpbGwgYmUgY3JlYXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkIHtcbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgW21lc3NhZ2VzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzKSB0b1xuICAgICAqIHN0YXJ0IHRoZSB0aHJlYWQgd2l0aC5cbiAgICAgKi9cbiAgICBtZXNzYWdlcz86IEFycmF5PFRocmVhZC5NZXNzYWdlPjtcblxuICAgIC8qKlxuICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgICAqXG4gICAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgICAqL1xuICAgIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBtYWRlIGF2YWlsYWJsZSB0byB0aGUgYXNzaXN0YW50J3MgdG9vbHMgaW4gdGhpc1xuICAgICAqIHRocmVhZC4gVGhlIHJlc291cmNlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZVxuICAgICAqIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGBcbiAgICAgKiB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgSURzLlxuICAgICAqL1xuICAgIHRvb2xfcmVzb3VyY2VzPzogVGhyZWFkLlRvb2xSZXNvdXJjZXMgfCBudWxsO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWQge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0ZXh0IGNvbnRlbnRzIG9mIHRoZSBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxNZXNzYWdlc0FQSS5NZXNzYWdlQ29udGVudFBhcnRQYXJhbT47XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHJvbGUgb2YgdGhlIGVudGl0eSB0aGF0IGlzIGNyZWF0aW5nIHRoZSBtZXNzYWdlLiBBbGxvd2VkIHZhbHVlcyBpbmNsdWRlOlxuICAgICAgICpcbiAgICAgICAqIC0gYHVzZXJgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgc2VudCBieSBhbiBhY3R1YWwgdXNlciBhbmQgc2hvdWxkIGJlIHVzZWQgaW5cbiAgICAgICAqICAgbW9zdCBjYXNlcyB0byByZXByZXNlbnQgdXNlci1nZW5lcmF0ZWQgbWVzc2FnZXMuXG4gICAgICAgKiAtIGBhc3Npc3RhbnRgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBhc3Npc3RhbnQuIFVzZSB0aGlzXG4gICAgICAgKiAgIHZhbHVlIHRvIGluc2VydCBtZXNzYWdlcyBmcm9tIHRoZSBhc3Npc3RhbnQgaW50byB0aGUgY29udmVyc2F0aW9uLlxuICAgICAgICovXG4gICAgICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JztcblxuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgZmlsZXMgYXR0YWNoZWQgdG8gdGhlIG1lc3NhZ2UsIGFuZCB0aGUgdG9vbHMgdGhleSBzaG91bGQgYmUgYWRkZWQgdG8uXG4gICAgICAgKi9cbiAgICAgIGF0dGFjaG1lbnRzPzogQXJyYXk8TWVzc2FnZS5BdHRhY2htZW50PiB8IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgICAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgICAgICpcbiAgICAgICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAgICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgICAgICovXG4gICAgICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlIHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gYXR0YWNoIHRvIHRoZSBtZXNzYWdlLlxuICAgICAgICAgKi9cbiAgICAgICAgZmlsZV9pZD86IHN0cmluZztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRvb2xzIHRvIGFkZCB0aGlzIGZpbGUgdG8uXG4gICAgICAgICAqL1xuICAgICAgICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQ29kZUludGVycHJldGVyVG9vbCB8IEF0dGFjaG1lbnQuRmlsZVNlYXJjaD47XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydCBuYW1lc3BhY2UgQXR0YWNobWVudCB7XG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogVGhlIHR5cGUgb2YgdG9vbCBiZWluZyBkZWZpbmVkOiBgZmlsZV9zZWFyY2hgXG4gICAgICAgICAgICovXG4gICAgICAgICAgdHlwZTogJ2ZpbGVfc2VhcmNoJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBtYWRlIGF2YWlsYWJsZSB0byB0aGUgYXNzaXN0YW50J3MgdG9vbHMgaW4gdGhpc1xuICAgICAqIHRocmVhZC4gVGhlIHJlc291cmNlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZVxuICAgICAqIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGBcbiAgICAgKiB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgSURzLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgICBjb2RlX2ludGVycHJldGVyPzogVG9vbFJlc291cmNlcy5Db2RlSW50ZXJwcmV0ZXI7XG5cbiAgICAgIGZpbGVfc2VhcmNoPzogVG9vbFJlc291cmNlcy5GaWxlU2VhcmNoO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyBtYWRlXG4gICAgICAgICAqIGF2YWlsYWJsZSB0byB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMjAgZmlsZXNcbiAgICAgICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB0b29sLlxuICAgICAgICAgKi9cbiAgICAgICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgICAgfVxuXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlXG4gICAgICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgdGhyZWFkLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgICAqIHRoZSB0aHJlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBoZWxwZXIgdG8gY3JlYXRlIGFcbiAgICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAgICogd2l0aCBmaWxlX2lkcyBhbmQgYXR0YWNoIGl0IHRvIHRoaXMgdGhyZWFkLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yXG4gICAgICAgICAqIHN0b3JlIGF0dGFjaGVkIHRvIHRoZSB0aHJlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB2ZWN0b3Jfc3RvcmVzPzogQXJyYXk8RmlsZVNlYXJjaC5WZWN0b3JTdG9yZT47XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydCBuYW1lc3BhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmUge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoZSBjaHVua2luZyBzdHJhdGVneSB1c2VkIHRvIGNodW5rIHRoZSBmaWxlKHMpLiBJZiBub3Qgc2V0LCB3aWxsIHVzZSB0aGUgYGF1dG9gXG4gICAgICAgICAgICogc3RyYXRlZ3kuXG4gICAgICAgICAgICovXG4gICAgICAgICAgY2h1bmtpbmdfc3RyYXRlZ3k/OiBWZWN0b3JTdG9yZS5BdXRvIHwgVmVjdG9yU3RvcmUuU3RhdGljO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgdG9cbiAgICAgICAgICAgKiBhZGQgdG8gdGhlIHZlY3RvciBzdG9yZS4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxMDAwMCBmaWxlcyBpbiBhIHZlY3RvclxuICAgICAgICAgICAqIHN0b3JlLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgICAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAgICAgICAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICAgICAgICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cG9ydCBuYW1lc3BhY2UgVmVjdG9yU3RvcmUge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoZSBkZWZhdWx0IHN0cmF0ZWd5LiBUaGlzIHN0cmF0ZWd5IGN1cnJlbnRseSB1c2VzIGEgYG1heF9jaHVua19zaXplX3Rva2Vuc2Agb2ZcbiAgICAgICAgICAgKiBgODAwYCBhbmQgYGNodW5rX292ZXJsYXBfdG9rZW5zYCBvZiBgNDAwYC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBleHBvcnQgaW50ZXJmYWNlIEF1dG8ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbHdheXMgYGF1dG9gLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0eXBlOiAnYXV0byc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXhwb3J0IGludGVyZmFjZSBTdGF0aWMge1xuICAgICAgICAgICAgc3RhdGljOiBTdGF0aWMuU3RhdGljO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFsd2F5cyBgc3RhdGljYC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdHlwZTogJ3N0YXRpYyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXhwb3J0IG5hbWVzcGFjZSBTdGF0aWMge1xuICAgICAgICAgICAgZXhwb3J0IGludGVyZmFjZSBTdGF0aWMge1xuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogVGhlIG51bWJlciBvZiB0b2tlbnMgdGhhdCBvdmVybGFwIGJldHdlZW4gY2h1bmtzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgNDAwYC5cbiAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICogTm90ZSB0aGF0IHRoZSBvdmVybGFwIG11c3Qgbm90IGV4Y2VlZCBoYWxmIG9mIGBtYXhfY2h1bmtfc2l6ZV90b2tlbnNgLlxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgY2h1bmtfb3ZlcmxhcF90b2tlbnM6IG51bWJlcjtcblxuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRva2VucyBpbiBlYWNoIGNodW5rLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgODAwYC4gVGhlXG4gICAgICAgICAgICAgICAqIG1pbmltdW0gdmFsdWUgaXMgYDEwMGAgYW5kIHRoZSBtYXhpbXVtIHZhbHVlIGlzIGA0MDk2YC5cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIG1heF9jaHVua19zaXplX3Rva2VuczogbnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgdXNlZCBieSB0aGUgYXNzaXN0YW50J3MgdG9vbHMuIFRoZSByZXNvdXJjZXMgYXJlXG4gICAqIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXNcbiAgICogYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmVcbiAgICogSURzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBjb2RlX2ludGVycHJldGVyPzogVG9vbFJlc291cmNlcy5Db2RlSW50ZXJwcmV0ZXI7XG5cbiAgICBmaWxlX3NlYXJjaD86IFRvb2xSZXNvdXJjZXMuRmlsZVNlYXJjaDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyBtYWRlXG4gICAgICAgKiBhdmFpbGFibGUgdG8gdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDIwIGZpbGVzXG4gICAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIHRvb2wuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgSUQgb2YgdGhlXG4gICAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgICAgICogYXR0YWNoZWQgdG8gdGhpcyBhc3Npc3RhbnQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMSB2ZWN0b3Igc3RvcmUgYXR0YWNoZWQgdG9cbiAgICAgICAqIHRoZSBhc3Npc3RhbnQuXG4gICAgICAgKi9cbiAgICAgIHZlY3Rvcl9zdG9yZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb3IgaG93IGEgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHByaW9yIHRvIHRoZSBydW4uIFVzZSB0aGlzIHRvXG4gICAqIGNvbnRyb2wgdGhlIGludGlhbCBjb250ZXh0IHdpbmRvdyBvZiB0aGUgcnVuLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUcnVuY2F0aW9uU3RyYXRlZ3kge1xuICAgIC8qKlxuICAgICAqIFRoZSB0cnVuY2F0aW9uIHN0cmF0ZWd5IHRvIHVzZSBmb3IgdGhlIHRocmVhZC4gVGhlIGRlZmF1bHQgaXMgYGF1dG9gLiBJZiBzZXQgdG9cbiAgICAgKiBgbGFzdF9tZXNzYWdlc2AsIHRoZSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgdG8gdGhlIG4gbW9zdCByZWNlbnQgbWVzc2FnZXMgaW5cbiAgICAgKiB0aGUgdGhyZWFkLiBXaGVuIHNldCB0byBgYXV0b2AsIG1lc3NhZ2VzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHRocmVhZCB3aWxsIGJlXG4gICAgICogZHJvcHBlZCB0byBmaXQgdGhlIGNvbnRleHQgbGVuZ3RoIG9mIHRoZSBtb2RlbCwgYG1heF9wcm9tcHRfdG9rZW5zYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnYXV0bycgfCAnbGFzdF9tZXNzYWdlcyc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGZyb20gdGhlIHRocmVhZCB3aGVuIGNvbnN0cnVjdGluZyB0aGUgY29udGV4dFxuICAgICAqIGZvciB0aGUgcnVuLlxuICAgICAqL1xuICAgIGxhc3RfbWVzc2FnZXM/OiBudW1iZXIgfCBudWxsO1xuICB9XG5cbiAgZXhwb3J0IHR5cGUgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zTm9uU3RyZWFtaW5nID0gVGhyZWFkc0FQSS5UaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNOb25TdHJlYW1pbmc7XG4gIGV4cG9ydCB0eXBlIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc1N0cmVhbWluZyA9IFRocmVhZHNBUEkuVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zU3RyZWFtaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc05vblN0cmVhbWluZyBleHRlbmRzIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogSWYgYHRydWVgLCByZXR1cm5zIGEgc3RyZWFtIG9mIGV2ZW50cyB0aGF0IGhhcHBlbiBkdXJpbmcgdGhlIFJ1biBhcyBzZXJ2ZXItc2VudFxuICAgKiBldmVudHMsIHRlcm1pbmF0aW5nIHdoZW4gdGhlIFJ1biBlbnRlcnMgYSB0ZXJtaW5hbCBzdGF0ZSB3aXRoIGEgYGRhdGE6IFtET05FXWBcbiAgICogbWVzc2FnZS5cbiAgICovXG4gIHN0cmVhbT86IGZhbHNlIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNTdHJlYW1pbmcgZXh0ZW5kcyBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgcmV0dXJucyBhIHN0cmVhbSBvZiBldmVudHMgdGhhdCBoYXBwZW4gZHVyaW5nIHRoZSBSdW4gYXMgc2VydmVyLXNlbnRcbiAgICogZXZlbnRzLCB0ZXJtaW5hdGluZyB3aGVuIHRoZSBSdW4gZW50ZXJzIGEgdGVybWluYWwgc3RhdGUgd2l0aCBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqL1xuICBzdHJlYW06IHRydWU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkQ3JlYXRlQW5kUnVuUG9sbFBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlXG4gICAqIFthc3Npc3RhbnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgdG8gdXNlIHRvXG4gICAqIGV4ZWN1dGUgdGhpcyBydW4uXG4gICAqL1xuICBhc3Npc3RhbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgc3lzdGVtIG1lc3NhZ2Ugb2YgdGhlIGFzc2lzdGFudC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gICAqIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zIHRoYXQgbWF5IGJlIHVzZWQgb3ZlciB0aGUgY291cnNlIG9mIHRoZVxuICAgKiBydW4uIFRoZSBydW4gd2lsbCBtYWtlIGEgYmVzdCBlZmZvcnQgdG8gdXNlIG9ubHkgdGhlIG51bWJlciBvZiBjb21wbGV0aW9uIHRva2Vuc1xuICAgKiBzcGVjaWZpZWQsIGFjcm9zcyBtdWx0aXBsZSB0dXJucyBvZiB0aGUgcnVuLiBJZiB0aGUgcnVuIGV4Y2VlZHMgdGhlIG51bWJlciBvZlxuICAgKiBjb21wbGV0aW9uIHRva2VucyBzcGVjaWZpZWQsIHRoZSBydW4gd2lsbCBlbmQgd2l0aCBzdGF0dXMgYGluY29tcGxldGVgLiBTZWVcbiAgICogYGluY29tcGxldGVfZGV0YWlsc2AgZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIG1heF9jb21wbGV0aW9uX3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwcm9tcHQgdG9rZW5zIHRoYXQgbWF5IGJlIHVzZWQgb3ZlciB0aGUgY291cnNlIG9mIHRoZSBydW4uXG4gICAqIFRoZSBydW4gd2lsbCBtYWtlIGEgYmVzdCBlZmZvcnQgdG8gdXNlIG9ubHkgdGhlIG51bWJlciBvZiBwcm9tcHQgdG9rZW5zXG4gICAqIHNwZWNpZmllZCwgYWNyb3NzIG11bHRpcGxlIHR1cm5zIG9mIHRoZSBydW4uIElmIHRoZSBydW4gZXhjZWVkcyB0aGUgbnVtYmVyIG9mXG4gICAqIHByb21wdCB0b2tlbnMgc3BlY2lmaWVkLCB0aGUgcnVuIHdpbGwgZW5kIHdpdGggc3RhdHVzIGBpbmNvbXBsZXRlYC4gU2VlXG4gICAqIGBpbmNvbXBsZXRlX2RldGFpbHNgIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBtYXhfcHJvbXB0X3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICovXG4gIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgW01vZGVsXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21vZGVscykgdG9cbiAgICogYmUgdXNlZCB0byBleGVjdXRlIHRoaXMgcnVuLiBJZiBhIHZhbHVlIGlzIHByb3ZpZGVkIGhlcmUsIGl0IHdpbGwgb3ZlcnJpZGUgdGhlXG4gICAqIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXNzaXN0YW50LiBJZiBub3QsIHRoZSBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAqIGFzc2lzdGFudCB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBtb2RlbD86XG4gICAgfCAoc3RyaW5nICYge30pXG4gICAgfCAnZ3B0LTRvJ1xuICAgIHwgJ2dwdC00by0yMDI0LTA1LTEzJ1xuICAgIHwgJ2dwdC00LXR1cmJvJ1xuICAgIHwgJ2dwdC00LXR1cmJvLTIwMjQtMDQtMDknXG4gICAgfCAnZ3B0LTQtMDEyNS1wcmV2aWV3J1xuICAgIHwgJ2dwdC00LXR1cmJvLXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtMTEwNi1wcmV2aWV3J1xuICAgIHwgJ2dwdC00LXZpc2lvbi1wcmV2aWV3J1xuICAgIHwgJ2dwdC00J1xuICAgIHwgJ2dwdC00LTAzMTQnXG4gICAgfCAnZ3B0LTQtMDYxMydcbiAgICB8ICdncHQtNC0zMmsnXG4gICAgfCAnZ3B0LTQtMzJrLTAzMTQnXG4gICAgfCAnZ3B0LTQtMzJrLTA2MTMnXG4gICAgfCAnZ3B0LTMuNS10dXJibydcbiAgICB8ICdncHQtMy41LXR1cmJvLTE2aydcbiAgICB8ICdncHQtMy41LXR1cmJvLTA2MTMnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xMTA2J1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMDEyNSdcbiAgICB8ICdncHQtMy41LXR1cmJvLTE2ay0wNjEzJ1xuICAgIHwgbnVsbDtcblxuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuIENvbXBhdGlibGUgd2l0aFxuICAgKiBbR1BULTRvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMvZ3B0LTRvKSxcbiAgICogW0dQVC00IFR1cmJvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMvZ3B0LTQtdHVyYm8tYW5kLWdwdC00KSxcbiAgICogYW5kIGFsbCBHUFQtMy41IFR1cmJvIG1vZGVscyBzaW5jZSBgZ3B0LTMuNS10dXJiby0xMTA2YC5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX29iamVjdFwiIH1gIGVuYWJsZXMgSlNPTiBtb2RlLCB3aGljaCBndWFyYW50ZWVzIHRoZVxuICAgKiBtZXNzYWdlIHRoZSBtb2RlbCBnZW5lcmF0ZXMgaXMgdmFsaWQgSlNPTi5cbiAgICpcbiAgICogKipJbXBvcnRhbnQ6Kiogd2hlbiB1c2luZyBKU09OIG1vZGUsIHlvdSAqKm11c3QqKiBhbHNvIGluc3RydWN0IHRoZSBtb2RlbCB0b1xuICAgKiBwcm9kdWNlIEpTT04geW91cnNlbGYgdmlhIGEgc3lzdGVtIG9yIHVzZXIgbWVzc2FnZS4gV2l0aG91dCB0aGlzLCB0aGUgbW9kZWwgbWF5XG4gICAqIGdlbmVyYXRlIGFuIHVuZW5kaW5nIHN0cmVhbSBvZiB3aGl0ZXNwYWNlIHVudGlsIHRoZSBnZW5lcmF0aW9uIHJlYWNoZXMgdGhlIHRva2VuXG4gICAqIGxpbWl0LCByZXN1bHRpbmcgaW4gYSBsb25nLXJ1bm5pbmcgYW5kIHNlZW1pbmdseSBcInN0dWNrXCIgcmVxdWVzdC4gQWxzbyBub3RlIHRoYXRcbiAgICogdGhlIG1lc3NhZ2UgY29udGVudCBtYXkgYmUgcGFydGlhbGx5IGN1dCBvZmYgaWYgYGZpbmlzaF9yZWFzb249XCJsZW5ndGhcImAsIHdoaWNoXG4gICAqIGluZGljYXRlcyB0aGUgZ2VuZXJhdGlvbiBleGNlZWRlZCBgbWF4X3Rva2Vuc2Agb3IgdGhlIGNvbnZlcnNhdGlvbiBleGNlZWRlZCB0aGVcbiAgICogbWF4IGNvbnRleHQgbGVuZ3RoLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogQXNzaXN0YW50UmVzcG9uc2VGb3JtYXRPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGxcbiAgICogbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmVcbiAgICogZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogSWYgbm8gdGhyZWFkIGlzIHByb3ZpZGVkLCBhbiBlbXB0eSB0aHJlYWQgd2lsbCBiZSBjcmVhdGVkLlxuICAgKi9cbiAgdGhyZWFkPzogVGhyZWFkQ3JlYXRlQW5kUnVuUG9sbFBhcmFtcy5UaHJlYWQ7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoaWNoIChpZiBhbnkpIHRvb2wgaXMgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gYG5vbmVgIG1lYW5zIHRoZSBtb2RlbCB3aWxsXG4gICAqIG5vdCBjYWxsIGFueSB0b29scyBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgdmFsdWVcbiAgICogYW5kIG1lYW5zIHRoZSBtb2RlbCBjYW4gcGljayBiZXR3ZWVuIGdlbmVyYXRpbmcgYSBtZXNzYWdlIG9yIGNhbGxpbmcgb25lIG9yIG1vcmVcbiAgICogdG9vbHMuIGByZXF1aXJlZGAgbWVhbnMgdGhlIG1vZGVsIG11c3QgY2FsbCBvbmUgb3IgbW9yZSB0b29scyBiZWZvcmUgcmVzcG9uZGluZ1xuICAgKiB0byB0aGUgdXNlci4gU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgdG9vbCBsaWtlIGB7XCJ0eXBlXCI6IFwiZmlsZV9zZWFyY2hcIn1gIG9yXG4gICAqIGB7XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiOiB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn19YCBmb3JjZXMgdGhlIG1vZGVsIHRvXG4gICAqIGNhbGwgdGhhdCB0b29sLlxuICAgKi9cbiAgdG9vbF9jaG9pY2U/OiBBc3Npc3RhbnRUb29sQ2hvaWNlT3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGFzc2lzdGFudCdzIHRvb2xzLiBUaGUgcmVzb3VyY2VzIGFyZVxuICAgKiBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzXG4gICAqIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlXG4gICAqIElEcy5cbiAgICovXG4gIHRvb2xfcmVzb3VyY2VzPzogVGhyZWFkQ3JlYXRlQW5kUnVuUG9sbFBhcmFtcy5Ub29sUmVzb3VyY2VzIHwgbnVsbDtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIHRvb2xzIHRoZSBhc3Npc3RhbnQgY2FuIHVzZSBmb3IgdGhpcyBydW4uIFRoaXMgaXMgdXNlZnVsIGZvclxuICAgKiBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8XG4gICAgQXNzaXN0YW50c0FQSS5Db2RlSW50ZXJwcmV0ZXJUb29sIHwgQXNzaXN0YW50c0FQSS5GaWxlU2VhcmNoVG9vbCB8IEFzc2lzdGFudHNBUEkuRnVuY3Rpb25Ub29sXG4gID4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBzYW1wbGluZyB3aXRoIHRlbXBlcmF0dXJlLCBjYWxsZWQgbnVjbGV1cyBzYW1wbGluZywgd2hlcmUgdGhlXG4gICAqIG1vZGVsIGNvbnNpZGVycyB0aGUgcmVzdWx0cyBvZiB0aGUgdG9rZW5zIHdpdGggdG9wX3AgcHJvYmFiaWxpdHkgbWFzcy4gU28gMC4xXG4gICAqIG1lYW5zIG9ubHkgdGhlIHRva2VucyBjb21wcmlzaW5nIHRoZSB0b3AgMTAlIHByb2JhYmlsaXR5IG1hc3MgYXJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciB0ZW1wZXJhdHVyZSBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlIHRoaXMgdG9cbiAgICogY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICB0cnVuY2F0aW9uX3N0cmF0ZWd5PzogVGhyZWFkQ3JlYXRlQW5kUnVuUG9sbFBhcmFtcy5UcnVuY2F0aW9uU3RyYXRlZ3kgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFRocmVhZENyZWF0ZUFuZFJ1blBvbGxQYXJhbXMge1xuICAvKipcbiAgICogSWYgbm8gdGhyZWFkIGlzIHByb3ZpZGVkLCBhbiBlbXB0eSB0aHJlYWQgd2lsbCBiZSBjcmVhdGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWQge1xuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBbbWVzc2FnZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMpIHRvXG4gICAgICogc3RhcnQgdGhlIHRocmVhZCB3aXRoLlxuICAgICAqL1xuICAgIG1lc3NhZ2VzPzogQXJyYXk8VGhyZWFkLk1lc3NhZ2U+O1xuXG4gICAgLyoqXG4gICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAgICogY2hhcmFjdGVycyBsb25nLlxuICAgICAqL1xuICAgIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgbWFkZSBhdmFpbGFibGUgdG8gdGhlIGFzc2lzdGFudCdzIHRvb2xzIGluIHRoaXNcbiAgICAgKiB0aHJlYWQuIFRoZSByZXNvdXJjZXMgYXJlIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGVcbiAgICAgKiBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgXG4gICAgICogdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlIElEcy5cbiAgICAgKi9cbiAgICB0b29sX3Jlc291cmNlcz86IFRocmVhZC5Ub29sUmVzb3VyY2VzIHwgbnVsbDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgVGhyZWFkIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdGV4dCBjb250ZW50cyBvZiB0aGUgbWVzc2FnZS5cbiAgICAgICAqL1xuICAgICAgY29udGVudDogc3RyaW5nIHwgQXJyYXk8TWVzc2FnZXNBUEkuTWVzc2FnZUNvbnRlbnRQYXJ0UGFyYW0+O1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSByb2xlIG9mIHRoZSBlbnRpdHkgdGhhdCBpcyBjcmVhdGluZyB0aGUgbWVzc2FnZS4gQWxsb3dlZCB2YWx1ZXMgaW5jbHVkZTpcbiAgICAgICAqXG4gICAgICAgKiAtIGB1c2VyYDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIHNlbnQgYnkgYW4gYWN0dWFsIHVzZXIgYW5kIHNob3VsZCBiZSB1c2VkIGluXG4gICAgICAgKiAgIG1vc3QgY2FzZXMgdG8gcmVwcmVzZW50IHVzZXItZ2VuZXJhdGVkIG1lc3NhZ2VzLlxuICAgICAgICogLSBgYXNzaXN0YW50YDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIGdlbmVyYXRlZCBieSB0aGUgYXNzaXN0YW50LiBVc2UgdGhpc1xuICAgICAgICogICB2YWx1ZSB0byBpbnNlcnQgbWVzc2FnZXMgZnJvbSB0aGUgYXNzaXN0YW50IGludG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgICAqL1xuICAgICAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG5cbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIGZpbGVzIGF0dGFjaGVkIHRvIHRoZSBtZXNzYWdlLCBhbmQgdGhlIHRvb2xzIHRoZXkgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICAgICAgICovXG4gICAgICBhdHRhY2htZW50cz86IEFycmF5PE1lc3NhZ2UuQXR0YWNobWVudD4gfCBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAgICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICAgICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICAgICAqL1xuICAgICAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIE1lc3NhZ2Uge1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBBdHRhY2htZW50IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2UuXG4gICAgICAgICAqL1xuICAgICAgICBmaWxlX2lkPzogc3RyaW5nO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdG9vbHMgdG8gYWRkIHRoaXMgZmlsZSB0by5cbiAgICAgICAgICovXG4gICAgICAgIHRvb2xzPzogQXJyYXk8QXNzaXN0YW50c0FQSS5Db2RlSW50ZXJwcmV0ZXJUb29sIHwgQXNzaXN0YW50c0FQSS5GaWxlU2VhcmNoVG9vbD47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIG1hZGUgYXZhaWxhYmxlIHRvIHRoZSBhc3Npc3RhbnQncyB0b29scyBpbiB0aGlzXG4gICAgICogdGhyZWFkLiBUaGUgcmVzb3VyY2VzIGFyZSBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlXG4gICAgICogYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYFxuICAgICAqIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZSBJRHMuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICAgIGNvZGVfaW50ZXJwcmV0ZXI/OiBUb29sUmVzb3VyY2VzLkNvZGVJbnRlcnByZXRlcjtcblxuICAgICAgZmlsZV9zZWFyY2g/OiBUb29sUmVzb3VyY2VzLkZpbGVTZWFyY2g7XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIG1hZGVcbiAgICAgICAgICogYXZhaWxhYmxlIHRvIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlc1xuICAgICAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIHRvb2wuXG4gICAgICAgICAqL1xuICAgICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGVcbiAgICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAgICogYXR0YWNoZWQgdG8gdGhpcyB0aHJlYWQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMSB2ZWN0b3Igc3RvcmUgYXR0YWNoZWQgdG9cbiAgICAgICAgICogdGhlIHRocmVhZC5cbiAgICAgICAgICovXG4gICAgICAgIHZlY3Rvcl9zdG9yZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGhlbHBlciB0byBjcmVhdGUgYVxuICAgICAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgICAgICAgKiB3aXRoIGZpbGVfaWRzIGFuZCBhdHRhY2ggaXQgdG8gdGhpcyB0aHJlYWQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMSB2ZWN0b3JcbiAgICAgICAgICogc3RvcmUgYXR0YWNoZWQgdG8gdGhlIHRocmVhZC5cbiAgICAgICAgICovXG4gICAgICAgIHZlY3Rvcl9zdG9yZXM/OiBBcnJheTxGaWxlU2VhcmNoLlZlY3RvclN0b3JlPjtcbiAgICAgIH1cblxuICAgICAgZXhwb3J0IG5hbWVzcGFjZSBGaWxlU2VhcmNoIHtcbiAgICAgICAgZXhwb3J0IGludGVyZmFjZSBWZWN0b3JTdG9yZSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgdG9cbiAgICAgICAgICAgKiBhZGQgdG8gdGhlIHZlY3RvciBzdG9yZS4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxMDAwMCBmaWxlcyBpbiBhIHZlY3RvclxuICAgICAgICAgICAqIHN0b3JlLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYSB2ZWN0b3Igc3RvcmUuIFRoaXMgY2FuIGJlXG4gICAgICAgICAgICogdXNlZnVsIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHZlY3RvciBzdG9yZSBpbiBhIHN0cnVjdHVyZWRcbiAgICAgICAgICAgKiBmb3JtYXQuIEtleXMgY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW1cbiAgICAgICAgICAgKiBvZiA1MTIgY2hhcmFjdGVycyBsb25nLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIG1ldGFkYXRhPzogdW5rbm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgdXNlZCBieSB0aGUgYXNzaXN0YW50J3MgdG9vbHMuIFRoZSByZXNvdXJjZXMgYXJlXG4gICAqIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXNcbiAgICogYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmVcbiAgICogSURzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBjb2RlX2ludGVycHJldGVyPzogVG9vbFJlc291cmNlcy5Db2RlSW50ZXJwcmV0ZXI7XG5cbiAgICBmaWxlX3NlYXJjaD86IFRvb2xSZXNvdXJjZXMuRmlsZVNlYXJjaDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyBtYWRlXG4gICAgICAgKiBhdmFpbGFibGUgdG8gdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDIwIGZpbGVzXG4gICAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIHRvb2wuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgSUQgb2YgdGhlXG4gICAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgICAgICogYXR0YWNoZWQgdG8gdGhpcyBhc3Npc3RhbnQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMSB2ZWN0b3Igc3RvcmUgYXR0YWNoZWQgdG9cbiAgICAgICAqIHRoZSBhc3Npc3RhbnQuXG4gICAgICAgKi9cbiAgICAgIHZlY3Rvcl9zdG9yZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb3IgaG93IGEgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHByaW9yIHRvIHRoZSBydW4uIFVzZSB0aGlzIHRvXG4gICAqIGNvbnRyb2wgdGhlIGludGlhbCBjb250ZXh0IHdpbmRvdyBvZiB0aGUgcnVuLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUcnVuY2F0aW9uU3RyYXRlZ3kge1xuICAgIC8qKlxuICAgICAqIFRoZSB0cnVuY2F0aW9uIHN0cmF0ZWd5IHRvIHVzZSBmb3IgdGhlIHRocmVhZC4gVGhlIGRlZmF1bHQgaXMgYGF1dG9gLiBJZiBzZXQgdG9cbiAgICAgKiBgbGFzdF9tZXNzYWdlc2AsIHRoZSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgdG8gdGhlIG4gbW9zdCByZWNlbnQgbWVzc2FnZXMgaW5cbiAgICAgKiB0aGUgdGhyZWFkLiBXaGVuIHNldCB0byBgYXV0b2AsIG1lc3NhZ2VzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHRocmVhZCB3aWxsIGJlXG4gICAgICogZHJvcHBlZCB0byBmaXQgdGhlIGNvbnRleHQgbGVuZ3RoIG9mIHRoZSBtb2RlbCwgYG1heF9wcm9tcHRfdG9rZW5zYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnYXV0bycgfCAnbGFzdF9tZXNzYWdlcyc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGZyb20gdGhlIHRocmVhZCB3aGVuIGNvbnN0cnVjdGluZyB0aGUgY29udGV4dFxuICAgICAqIGZvciB0aGUgcnVuLlxuICAgICAqL1xuICAgIGxhc3RfbWVzc2FnZXM/OiBudW1iZXIgfCBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkQ3JlYXRlQW5kUnVuU3RyZWFtUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB0byB1c2UgdG9cbiAgICogZXhlY3V0ZSB0aGlzIHJ1bi5cbiAgICovXG4gIGFzc2lzdGFudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBzeXN0ZW0gbWVzc2FnZSBvZiB0aGUgYXNzaXN0YW50LiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICogbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnMgdGhhdCBtYXkgYmUgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlXG4gICAqIHJ1bi4gVGhlIHJ1biB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byB1c2Ugb25seSB0aGUgbnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zXG4gICAqIHNwZWNpZmllZCwgYWNyb3NzIG11bHRpcGxlIHR1cm5zIG9mIHRoZSBydW4uIElmIHRoZSBydW4gZXhjZWVkcyB0aGUgbnVtYmVyIG9mXG4gICAqIGNvbXBsZXRpb24gdG9rZW5zIHNwZWNpZmllZCwgdGhlIHJ1biB3aWxsIGVuZCB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuIFNlZVxuICAgKiBgaW5jb21wbGV0ZV9kZXRhaWxzYCBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgbWF4X2NvbXBsZXRpb25fdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHByb21wdCB0b2tlbnMgdGhhdCBtYXkgYmUgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIHJ1bi5cbiAgICogVGhlIHJ1biB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byB1c2Ugb25seSB0aGUgbnVtYmVyIG9mIHByb21wdCB0b2tlbnNcbiAgICogc3BlY2lmaWVkLCBhY3Jvc3MgbXVsdGlwbGUgdHVybnMgb2YgdGhlIHJ1bi4gSWYgdGhlIHJ1biBleGNlZWRzIHRoZSBudW1iZXIgb2ZcbiAgICogcHJvbXB0IHRva2VucyBzcGVjaWZpZWQsIHRoZSBydW4gd2lsbCBlbmQgd2l0aCBzdGF0dXMgYGluY29tcGxldGVgLiBTZWVcbiAgICogYGluY29tcGxldGVfZGV0YWlsc2AgZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIG1heF9wcm9tcHRfdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBbTW9kZWxdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbW9kZWxzKSB0b1xuICAgKiBiZSB1c2VkIHRvIGV4ZWN1dGUgdGhpcyBydW4uIElmIGEgdmFsdWUgaXMgcHJvdmlkZWQgaGVyZSwgaXQgd2lsbCBvdmVycmlkZSB0aGVcbiAgICogbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQuIElmIG5vdCwgdGhlIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICogYXNzaXN0YW50IHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIG1vZGVsPzpcbiAgICB8IChzdHJpbmcgJiB7fSlcbiAgICB8ICdncHQtNG8nXG4gICAgfCAnZ3B0LTRvLTIwMjQtMDUtMTMnXG4gICAgfCAnZ3B0LTQtdHVyYm8nXG4gICAgfCAnZ3B0LTQtdHVyYm8tMjAyNC0wNC0wOSdcbiAgICB8ICdncHQtNC0wMTI1LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdHVyYm8tcHJldmlldydcbiAgICB8ICdncHQtNC0xMTA2LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdmlzaW9uLXByZXZpZXcnXG4gICAgfCAnZ3B0LTQnXG4gICAgfCAnZ3B0LTQtMDMxNCdcbiAgICB8ICdncHQtNC0wNjEzJ1xuICAgIHwgJ2dwdC00LTMyaydcbiAgICB8ICdncHQtNC0zMmstMDMxNCdcbiAgICB8ICdncHQtNC0zMmstMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvLTExMDYnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0wMTI1J1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrLTA2MTMnXG4gICAgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGZvcm1hdCB0aGF0IHRoZSBtb2RlbCBtdXN0IG91dHB1dC4gQ29tcGF0aWJsZSB3aXRoXG4gICAqIFtHUFQtNG9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscy9ncHQtNG8pLFxuICAgKiBbR1BULTQgVHVyYm9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscy9ncHQtNC10dXJiby1hbmQtZ3B0LTQpLFxuICAgKiBhbmQgYWxsIEdQVC0zLjUgVHVyYm8gbW9kZWxzIHNpbmNlIGBncHQtMy41LXR1cmJvLTExMDZgLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGd1YXJhbnRlZXMgdGhlXG4gICAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gICAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAgICogZ2VuZXJhdGUgYW4gdW5lbmRpbmcgc3RyZWFtIG9mIHdoaXRlc3BhY2UgdW50aWwgdGhlIGdlbmVyYXRpb24gcmVhY2hlcyB0aGUgdG9rZW5cbiAgICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAgICogaW5kaWNhdGVzIHRoZSBnZW5lcmF0aW9uIGV4Y2VlZGVkIGBtYXhfdG9rZW5zYCBvciB0aGUgY29udmVyc2F0aW9uIGV4Y2VlZGVkIHRoZVxuICAgKiBtYXggY29udGV4dCBsZW5ndGguXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiBBc3Npc3RhbnRSZXNwb25zZUZvcm1hdE9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFdoYXQgc2FtcGxpbmcgdGVtcGVyYXR1cmUgdG8gdXNlLCBiZXR3ZWVuIDAgYW5kIDIuIEhpZ2hlciB2YWx1ZXMgbGlrZSAwLjggd2lsbFxuICAgKiBtYWtlIHRoZSBvdXRwdXQgbW9yZSByYW5kb20sIHdoaWxlIGxvd2VyIHZhbHVlcyBsaWtlIDAuMiB3aWxsIG1ha2UgaXQgbW9yZVxuICAgKiBmb2N1c2VkIGFuZCBkZXRlcm1pbmlzdGljLlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBJZiBubyB0aHJlYWQgaXMgcHJvdmlkZWQsIGFuIGVtcHR5IHRocmVhZCB3aWxsIGJlIGNyZWF0ZWQuXG4gICAqL1xuICB0aHJlYWQ/OiBUaHJlYWRDcmVhdGVBbmRSdW5TdHJlYW1QYXJhbXMuVGhyZWFkO1xuXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGljaCAoaWYgYW55KSB0b29sIGlzIGNhbGxlZCBieSB0aGUgbW9kZWwuIGBub25lYCBtZWFucyB0aGUgbW9kZWwgd2lsbFxuICAgKiBub3QgY2FsbCBhbnkgdG9vbHMgYW5kIGluc3RlYWQgZ2VuZXJhdGVzIGEgbWVzc2FnZS4gYGF1dG9gIGlzIHRoZSBkZWZhdWx0IHZhbHVlXG4gICAqIGFuZCBtZWFucyB0aGUgbW9kZWwgY2FuIHBpY2sgYmV0d2VlbiBnZW5lcmF0aW5nIGEgbWVzc2FnZSBvciBjYWxsaW5nIG9uZSBvciBtb3JlXG4gICAqIHRvb2xzLiBgcmVxdWlyZWRgIG1lYW5zIHRoZSBtb2RlbCBtdXN0IGNhbGwgb25lIG9yIG1vcmUgdG9vbHMgYmVmb3JlIHJlc3BvbmRpbmdcbiAgICogdG8gdGhlIHVzZXIuIFNwZWNpZnlpbmcgYSBwYXJ0aWN1bGFyIHRvb2wgbGlrZSBge1widHlwZVwiOiBcImZpbGVfc2VhcmNoXCJ9YCBvclxuICAgKiBge1widHlwZVwiOiBcImZ1bmN0aW9uXCIsIFwiZnVuY3Rpb25cIjoge1wibmFtZVwiOiBcIm15X2Z1bmN0aW9uXCJ9fWAgZm9yY2VzIHRoZSBtb2RlbCB0b1xuICAgKiBjYWxsIHRoYXQgdG9vbC5cbiAgICovXG4gIHRvb2xfY2hvaWNlPzogQXNzaXN0YW50VG9vbENob2ljZU9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSB1c2VkIGJ5IHRoZSBhc3Npc3RhbnQncyB0b29scy4gVGhlIHJlc291cmNlcyBhcmVcbiAgICogc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlc1xuICAgKiBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZVxuICAgKiBJRHMuXG4gICAqL1xuICB0b29sX3Jlc291cmNlcz86IFRocmVhZENyZWF0ZUFuZFJ1blN0cmVhbVBhcmFtcy5Ub29sUmVzb3VyY2VzIHwgbnVsbDtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIHRvb2xzIHRoZSBhc3Npc3RhbnQgY2FuIHVzZSBmb3IgdGhpcyBydW4uIFRoaXMgaXMgdXNlZnVsIGZvclxuICAgKiBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8XG4gICAgQXNzaXN0YW50c0FQSS5Db2RlSW50ZXJwcmV0ZXJUb29sIHwgQXNzaXN0YW50c0FQSS5GaWxlU2VhcmNoVG9vbCB8IEFzc2lzdGFudHNBUEkuRnVuY3Rpb25Ub29sXG4gID4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBzYW1wbGluZyB3aXRoIHRlbXBlcmF0dXJlLCBjYWxsZWQgbnVjbGV1cyBzYW1wbGluZywgd2hlcmUgdGhlXG4gICAqIG1vZGVsIGNvbnNpZGVycyB0aGUgcmVzdWx0cyBvZiB0aGUgdG9rZW5zIHdpdGggdG9wX3AgcHJvYmFiaWxpdHkgbWFzcy4gU28gMC4xXG4gICAqIG1lYW5zIG9ubHkgdGhlIHRva2VucyBjb21wcmlzaW5nIHRoZSB0b3AgMTAlIHByb2JhYmlsaXR5IG1hc3MgYXJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciB0ZW1wZXJhdHVyZSBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlIHRoaXMgdG9cbiAgICogY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICB0cnVuY2F0aW9uX3N0cmF0ZWd5PzogVGhyZWFkQ3JlYXRlQW5kUnVuU3RyZWFtUGFyYW1zLlRydW5jYXRpb25TdHJhdGVneSB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVGhyZWFkQ3JlYXRlQW5kUnVuU3RyZWFtUGFyYW1zIHtcbiAgLyoqXG4gICAqIElmIG5vIHRocmVhZCBpcyBwcm92aWRlZCwgYW4gZW1wdHkgdGhyZWFkIHdpbGwgYmUgY3JlYXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkIHtcbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgW21lc3NhZ2VzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzKSB0b1xuICAgICAqIHN0YXJ0IHRoZSB0aHJlYWQgd2l0aC5cbiAgICAgKi9cbiAgICBtZXNzYWdlcz86IEFycmF5PFRocmVhZC5NZXNzYWdlPjtcblxuICAgIC8qKlxuICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgICAqIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtIG9mIDUxMlxuICAgICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICAgKi9cbiAgICBtZXRhZGF0YT86IHVua25vd24gfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIG1hZGUgYXZhaWxhYmxlIHRvIHRoZSBhc3Npc3RhbnQncyB0b29scyBpbiB0aGlzXG4gICAgICogdGhyZWFkLiBUaGUgcmVzb3VyY2VzIGFyZSBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlXG4gICAgICogYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYFxuICAgICAqIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZSBJRHMuXG4gICAgICovXG4gICAgdG9vbF9yZXNvdXJjZXM/OiBUaHJlYWQuVG9vbFJlc291cmNlcyB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFRocmVhZCB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIHRleHQgY29udGVudHMgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIGNvbnRlbnQ6IHN0cmluZyB8IEFycmF5PE1lc3NhZ2VzQVBJLk1lc3NhZ2VDb250ZW50UGFydFBhcmFtPjtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgcm9sZSBvZiB0aGUgZW50aXR5IHRoYXQgaXMgY3JlYXRpbmcgdGhlIG1lc3NhZ2UuIEFsbG93ZWQgdmFsdWVzIGluY2x1ZGU6XG4gICAgICAgKlxuICAgICAgICogLSBgdXNlcmA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBzZW50IGJ5IGFuIGFjdHVhbCB1c2VyIGFuZCBzaG91bGQgYmUgdXNlZCBpblxuICAgICAgICogICBtb3N0IGNhc2VzIHRvIHJlcHJlc2VudCB1c2VyLWdlbmVyYXRlZCBtZXNzYWdlcy5cbiAgICAgICAqIC0gYGFzc2lzdGFudGA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBnZW5lcmF0ZWQgYnkgdGhlIGFzc2lzdGFudC4gVXNlIHRoaXNcbiAgICAgICAqICAgdmFsdWUgdG8gaW5zZXJ0IG1lc3NhZ2VzIGZyb20gdGhlIGFzc2lzdGFudCBpbnRvIHRoZSBjb252ZXJzYXRpb24uXG4gICAgICAgKi9cbiAgICAgIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuXG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiBmaWxlcyBhdHRhY2hlZCB0byB0aGUgbWVzc2FnZSwgYW5kIHRoZSB0b29scyB0aGV5IHNob3VsZCBiZSBhZGRlZCB0by5cbiAgICAgICAqL1xuICAgICAgYXR0YWNobWVudHM/OiBBcnJheTxNZXNzYWdlLkF0dGFjaG1lbnQ+IHwgbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgICAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAgICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAgICAgKi9cbiAgICAgIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlIHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gYXR0YWNoIHRvIHRoZSBtZXNzYWdlLlxuICAgICAgICAgKi9cbiAgICAgICAgZmlsZV9pZD86IHN0cmluZztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRvb2xzIHRvIGFkZCB0aGlzIGZpbGUgdG8uXG4gICAgICAgICAqL1xuICAgICAgICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQ29kZUludGVycHJldGVyVG9vbCB8IEFzc2lzdGFudHNBUEkuRmlsZVNlYXJjaFRvb2w+O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBtYWRlIGF2YWlsYWJsZSB0byB0aGUgYXNzaXN0YW50J3MgdG9vbHMgaW4gdGhpc1xuICAgICAqIHRocmVhZC4gVGhlIHJlc291cmNlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZVxuICAgICAqIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGBcbiAgICAgKiB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgSURzLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgICBjb2RlX2ludGVycHJldGVyPzogVG9vbFJlc291cmNlcy5Db2RlSW50ZXJwcmV0ZXI7XG5cbiAgICAgIGZpbGVfc2VhcmNoPzogVG9vbFJlc291cmNlcy5GaWxlU2VhcmNoO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyBtYWRlXG4gICAgICAgICAqIGF2YWlsYWJsZSB0byB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMjAgZmlsZXNcbiAgICAgICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB0b29sLlxuICAgICAgICAgKi9cbiAgICAgICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgICAgfVxuXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlXG4gICAgICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgdGhyZWFkLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgICAqIHRoZSB0aHJlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBoZWxwZXIgdG8gY3JlYXRlIGFcbiAgICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAgICogd2l0aCBmaWxlX2lkcyBhbmQgYXR0YWNoIGl0IHRvIHRoaXMgdGhyZWFkLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yXG4gICAgICAgICAqIHN0b3JlIGF0dGFjaGVkIHRvIHRoZSB0aHJlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB2ZWN0b3Jfc3RvcmVzPzogQXJyYXk8RmlsZVNlYXJjaC5WZWN0b3JTdG9yZT47XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydCBuYW1lc3BhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmUge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEEgbGlzdCBvZiBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIHRvXG4gICAgICAgICAgICogYWRkIHRvIHRoZSB2ZWN0b3Igc3RvcmUuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMTAwMDAgZmlsZXMgaW4gYSB2ZWN0b3JcbiAgICAgICAgICAgKiBzdG9yZS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGEgdmVjdG9yIHN0b3JlLiBUaGlzIGNhbiBiZVxuICAgICAgICAgICAqIHVzZWZ1bCBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSB2ZWN0b3Igc3RvcmUgaW4gYSBzdHJ1Y3R1cmVkXG4gICAgICAgICAgICogZm9ybWF0LiBLZXlzIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtXG4gICAgICAgICAgICogb2YgNTEyIGNoYXJhY3RlcnMgbG9uZy5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBtZXRhZGF0YT86IHVua25vd247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGFzc2lzdGFudCdzIHRvb2xzLiBUaGUgcmVzb3VyY2VzIGFyZVxuICAgKiBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzXG4gICAqIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlXG4gICAqIElEcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgY29kZV9pbnRlcnByZXRlcj86IFRvb2xSZXNvdXJjZXMuQ29kZUludGVycHJldGVyO1xuXG4gICAgZmlsZV9zZWFyY2g/OiBUb29sUmVzb3VyY2VzLkZpbGVTZWFyY2g7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgbWFkZVxuICAgICAgICogYXZhaWxhYmxlIHRvIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlc1xuICAgICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB0b29sLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIElEIG9mIHRoZVxuICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgYXNzaXN0YW50LiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgKiB0aGUgYXNzaXN0YW50LlxuICAgICAgICovXG4gICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2UgdGhpcyB0b1xuICAgKiBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVHJ1bmNhdGlvblN0cmF0ZWd5IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJ1bmNhdGlvbiBzdHJhdGVneSB0byB1c2UgZm9yIHRoZSB0aHJlYWQuIFRoZSBkZWZhdWx0IGlzIGBhdXRvYC4gSWYgc2V0IHRvXG4gICAgICogYGxhc3RfbWVzc2FnZXNgLCB0aGUgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHRvIHRoZSBuIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGluXG4gICAgICogdGhlIHRocmVhZC4gV2hlbiBzZXQgdG8gYGF1dG9gLCBtZXNzYWdlcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSB0aHJlYWQgd2lsbCBiZVxuICAgICAqIGRyb3BwZWQgdG8gZml0IHRoZSBjb250ZXh0IGxlbmd0aCBvZiB0aGUgbW9kZWwsIGBtYXhfcHJvbXB0X3Rva2Vuc2AuXG4gICAgICovXG4gICAgdHlwZTogJ2F1dG8nIHwgJ2xhc3RfbWVzc2FnZXMnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBtb3N0IHJlY2VudCBtZXNzYWdlcyBmcm9tIHRoZSB0aHJlYWQgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGNvbnRleHRcbiAgICAgKiBmb3IgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBsYXN0X21lc3NhZ2VzPzogbnVtYmVyIHwgbnVsbDtcbiAgfVxufVxuXG5UaHJlYWRzLlJ1bnMgPSBSdW5zO1xuVGhyZWFkcy5SdW5zUGFnZSA9IFJ1bnNQYWdlO1xuVGhyZWFkcy5NZXNzYWdlcyA9IE1lc3NhZ2VzO1xuVGhyZWFkcy5NZXNzYWdlc1BhZ2UgPSBNZXNzYWdlc1BhZ2U7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBUaHJlYWRzIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIEFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIGFzIEFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uLFxuICAgIHR5cGUgQXNzaXN0YW50VG9vbENob2ljZSBhcyBBc3Npc3RhbnRUb29sQ2hvaWNlLFxuICAgIHR5cGUgQXNzaXN0YW50VG9vbENob2ljZUZ1bmN0aW9uIGFzIEFzc2lzdGFudFRvb2xDaG9pY2VGdW5jdGlvbixcbiAgICB0eXBlIEFzc2lzdGFudFRvb2xDaG9pY2VPcHRpb24gYXMgQXNzaXN0YW50VG9vbENob2ljZU9wdGlvbixcbiAgICB0eXBlIFRocmVhZCBhcyBUaHJlYWQsXG4gICAgdHlwZSBUaHJlYWREZWxldGVkIGFzIFRocmVhZERlbGV0ZWQsXG4gICAgdHlwZSBUaHJlYWRDcmVhdGVQYXJhbXMgYXMgVGhyZWFkQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgVGhyZWFkVXBkYXRlUGFyYW1zIGFzIFRocmVhZFVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtcyBhcyBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMsXG4gICAgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNOb25TdHJlYW1pbmcgYXMgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zU3RyZWFtaW5nIGFzIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc1N0cmVhbWluZyxcbiAgICB0eXBlIFRocmVhZENyZWF0ZUFuZFJ1blBvbGxQYXJhbXMsXG4gICAgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5TdHJlYW1QYXJhbXMsXG4gIH07XG5cbiAgZXhwb3J0IHtcbiAgICBSdW5zIGFzIFJ1bnMsXG4gICAgdHlwZSBSZXF1aXJlZEFjdGlvbkZ1bmN0aW9uVG9vbENhbGwgYXMgUmVxdWlyZWRBY3Rpb25GdW5jdGlvblRvb2xDYWxsLFxuICAgIHR5cGUgUnVuIGFzIFJ1bixcbiAgICB0eXBlIFJ1blN0YXR1cyBhcyBSdW5TdGF0dXMsXG4gICAgUnVuc1BhZ2UgYXMgUnVuc1BhZ2UsXG4gICAgdHlwZSBSdW5DcmVhdGVQYXJhbXMgYXMgUnVuQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgUnVuQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIGFzIFJ1bkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgICB0eXBlIFJ1bkNyZWF0ZVBhcmFtc1N0cmVhbWluZyBhcyBSdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBSdW5VcGRhdGVQYXJhbXMgYXMgUnVuVXBkYXRlUGFyYW1zLFxuICAgIHR5cGUgUnVuTGlzdFBhcmFtcyBhcyBSdW5MaXN0UGFyYW1zLFxuICAgIHR5cGUgUnVuQ3JlYXRlQW5kUG9sbFBhcmFtcyxcbiAgICB0eXBlIFJ1bkNyZWF0ZUFuZFN0cmVhbVBhcmFtcyxcbiAgICB0eXBlIFJ1blN0cmVhbVBhcmFtcyxcbiAgICB0eXBlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zIGFzIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zLFxuICAgIHR5cGUgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNOb25TdHJlYW1pbmcgYXMgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgdHlwZSBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc1N0cmVhbWluZyBhcyBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc1N0cmVhbWluZyxcbiAgICB0eXBlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzQW5kUG9sbFBhcmFtcyxcbiAgICB0eXBlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzU3RyZWFtUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgTWVzc2FnZXMgYXMgTWVzc2FnZXMsXG4gICAgdHlwZSBBbm5vdGF0aW9uIGFzIEFubm90YXRpb24sXG4gICAgdHlwZSBBbm5vdGF0aW9uRGVsdGEgYXMgQW5ub3RhdGlvbkRlbHRhLFxuICAgIHR5cGUgRmlsZUNpdGF0aW9uQW5ub3RhdGlvbiBhcyBGaWxlQ2l0YXRpb25Bbm5vdGF0aW9uLFxuICAgIHR5cGUgRmlsZUNpdGF0aW9uRGVsdGFBbm5vdGF0aW9uIGFzIEZpbGVDaXRhdGlvbkRlbHRhQW5ub3RhdGlvbixcbiAgICB0eXBlIEZpbGVQYXRoQW5ub3RhdGlvbiBhcyBGaWxlUGF0aEFubm90YXRpb24sXG4gICAgdHlwZSBGaWxlUGF0aERlbHRhQW5ub3RhdGlvbiBhcyBGaWxlUGF0aERlbHRhQW5ub3RhdGlvbixcbiAgICB0eXBlIEltYWdlRmlsZSBhcyBJbWFnZUZpbGUsXG4gICAgdHlwZSBJbWFnZUZpbGVDb250ZW50QmxvY2sgYXMgSW1hZ2VGaWxlQ29udGVudEJsb2NrLFxuICAgIHR5cGUgSW1hZ2VGaWxlRGVsdGEgYXMgSW1hZ2VGaWxlRGVsdGEsXG4gICAgdHlwZSBJbWFnZUZpbGVEZWx0YUJsb2NrIGFzIEltYWdlRmlsZURlbHRhQmxvY2ssXG4gICAgdHlwZSBJbWFnZVVSTCBhcyBJbWFnZVVSTCxcbiAgICB0eXBlIEltYWdlVVJMQ29udGVudEJsb2NrIGFzIEltYWdlVVJMQ29udGVudEJsb2NrLFxuICAgIHR5cGUgSW1hZ2VVUkxEZWx0YSBhcyBJbWFnZVVSTERlbHRhLFxuICAgIHR5cGUgSW1hZ2VVUkxEZWx0YUJsb2NrIGFzIEltYWdlVVJMRGVsdGFCbG9jayxcbiAgICB0eXBlIE1lc3NhZ2VzQVBJTWVzc2FnZSBhcyBNZXNzYWdlLFxuICAgIHR5cGUgTWVzc2FnZUNvbnRlbnQgYXMgTWVzc2FnZUNvbnRlbnQsXG4gICAgdHlwZSBNZXNzYWdlQ29udGVudERlbHRhIGFzIE1lc3NhZ2VDb250ZW50RGVsdGEsXG4gICAgdHlwZSBNZXNzYWdlQ29udGVudFBhcnRQYXJhbSBhcyBNZXNzYWdlQ29udGVudFBhcnRQYXJhbSxcbiAgICB0eXBlIE1lc3NhZ2VEZWxldGVkIGFzIE1lc3NhZ2VEZWxldGVkLFxuICAgIHR5cGUgTWVzc2FnZURlbHRhIGFzIE1lc3NhZ2VEZWx0YSxcbiAgICB0eXBlIE1lc3NhZ2VEZWx0YUV2ZW50IGFzIE1lc3NhZ2VEZWx0YUV2ZW50LFxuICAgIHR5cGUgUmVmdXNhbENvbnRlbnRCbG9jayBhcyBSZWZ1c2FsQ29udGVudEJsb2NrLFxuICAgIHR5cGUgUmVmdXNhbERlbHRhQmxvY2sgYXMgUmVmdXNhbERlbHRhQmxvY2ssXG4gICAgdHlwZSBUZXh0IGFzIFRleHQsXG4gICAgdHlwZSBUZXh0Q29udGVudEJsb2NrIGFzIFRleHRDb250ZW50QmxvY2ssXG4gICAgdHlwZSBUZXh0Q29udGVudEJsb2NrUGFyYW0gYXMgVGV4dENvbnRlbnRCbG9ja1BhcmFtLFxuICAgIHR5cGUgVGV4dERlbHRhIGFzIFRleHREZWx0YSxcbiAgICB0eXBlIFRleHREZWx0YUJsb2NrIGFzIFRleHREZWx0YUJsb2NrLFxuICAgIE1lc3NhZ2VzUGFnZSBhcyBNZXNzYWdlc1BhZ2UsXG4gICAgdHlwZSBNZXNzYWdlQ3JlYXRlUGFyYW1zIGFzIE1lc3NhZ2VDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBNZXNzYWdlVXBkYXRlUGFyYW1zIGFzIE1lc3NhZ2VVcGRhdGVQYXJhbXMsXG4gICAgdHlwZSBNZXNzYWdlTGlzdFBhcmFtcyBhcyBNZXNzYWdlTGlzdFBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIEFzc2lzdGFudHNBUEkgZnJvbSAnLi9hc3Npc3RhbnRzJztcbmltcG9ydCAqIGFzIENoYXRBUEkgZnJvbSAnLi9jaGF0L2NoYXQnO1xuaW1wb3J0IHtcbiAgQXNzaXN0YW50LFxuICBBc3Npc3RhbnRDcmVhdGVQYXJhbXMsXG4gIEFzc2lzdGFudERlbGV0ZWQsXG4gIEFzc2lzdGFudExpc3RQYXJhbXMsXG4gIEFzc2lzdGFudFN0cmVhbUV2ZW50LFxuICBBc3Npc3RhbnRUb29sLFxuICBBc3Npc3RhbnRVcGRhdGVQYXJhbXMsXG4gIEFzc2lzdGFudHMsXG4gIEFzc2lzdGFudHNQYWdlLFxuICBDb2RlSW50ZXJwcmV0ZXJUb29sLFxuICBGaWxlU2VhcmNoVG9vbCxcbiAgRnVuY3Rpb25Ub29sLFxuICBNZXNzYWdlU3RyZWFtRXZlbnQsXG4gIFJ1blN0ZXBTdHJlYW1FdmVudCxcbiAgUnVuU3RyZWFtRXZlbnQsXG4gIFRocmVhZFN0cmVhbUV2ZW50LFxufSBmcm9tICcuL2Fzc2lzdGFudHMnO1xuaW1wb3J0ICogYXMgUmVhbHRpbWVBUEkgZnJvbSAnLi9yZWFsdGltZS9yZWFsdGltZSc7XG5pbXBvcnQgeyBSZWFsdGltZSB9IGZyb20gJy4vcmVhbHRpbWUvcmVhbHRpbWUnO1xuaW1wb3J0ICogYXMgVGhyZWFkc0FQSSBmcm9tICcuL3RocmVhZHMvdGhyZWFkcyc7XG5pbXBvcnQge1xuICBBc3Npc3RhbnRSZXNwb25zZUZvcm1hdE9wdGlvbixcbiAgQXNzaXN0YW50VG9vbENob2ljZSxcbiAgQXNzaXN0YW50VG9vbENob2ljZUZ1bmN0aW9uLFxuICBBc3Npc3RhbnRUb29sQ2hvaWNlT3B0aW9uLFxuICBUaHJlYWQsXG4gIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtcyxcbiAgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zTm9uU3RyZWFtaW5nLFxuICBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNTdHJlYW1pbmcsXG4gIFRocmVhZENyZWF0ZUFuZFJ1blBvbGxQYXJhbXMsXG4gIFRocmVhZENyZWF0ZUFuZFJ1blN0cmVhbVBhcmFtcyxcbiAgVGhyZWFkQ3JlYXRlUGFyYW1zLFxuICBUaHJlYWREZWxldGVkLFxuICBUaHJlYWRVcGRhdGVQYXJhbXMsXG4gIFRocmVhZHMsXG59IGZyb20gJy4vdGhyZWFkcy90aHJlYWRzJztcbmltcG9ydCB7IENoYXQgfSBmcm9tICcuL2NoYXQvY2hhdCc7XG5cbmV4cG9ydCBjbGFzcyBCZXRhIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICByZWFsdGltZTogUmVhbHRpbWVBUEkuUmVhbHRpbWUgPSBuZXcgUmVhbHRpbWVBUEkuUmVhbHRpbWUodGhpcy5fY2xpZW50KTtcbiAgY2hhdDogQ2hhdEFQSS5DaGF0ID0gbmV3IENoYXRBUEkuQ2hhdCh0aGlzLl9jbGllbnQpO1xuICBhc3Npc3RhbnRzOiBBc3Npc3RhbnRzQVBJLkFzc2lzdGFudHMgPSBuZXcgQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRzKHRoaXMuX2NsaWVudCk7XG4gIHRocmVhZHM6IFRocmVhZHNBUEkuVGhyZWFkcyA9IG5ldyBUaHJlYWRzQVBJLlRocmVhZHModGhpcy5fY2xpZW50KTtcbn1cblxuQmV0YS5SZWFsdGltZSA9IFJlYWx0aW1lO1xuQmV0YS5Bc3Npc3RhbnRzID0gQXNzaXN0YW50cztcbkJldGEuQXNzaXN0YW50c1BhZ2UgPSBBc3Npc3RhbnRzUGFnZTtcbkJldGEuVGhyZWFkcyA9IFRocmVhZHM7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBCZXRhIHtcbiAgZXhwb3J0IHsgUmVhbHRpbWUgYXMgUmVhbHRpbWUgfTtcblxuICBleHBvcnQgeyBDaGF0IH07XG5cbiAgZXhwb3J0IHtcbiAgICBBc3Npc3RhbnRzIGFzIEFzc2lzdGFudHMsXG4gICAgdHlwZSBBc3Npc3RhbnQgYXMgQXNzaXN0YW50LFxuICAgIHR5cGUgQXNzaXN0YW50RGVsZXRlZCBhcyBBc3Npc3RhbnREZWxldGVkLFxuICAgIHR5cGUgQXNzaXN0YW50U3RyZWFtRXZlbnQgYXMgQXNzaXN0YW50U3RyZWFtRXZlbnQsXG4gICAgdHlwZSBBc3Npc3RhbnRUb29sIGFzIEFzc2lzdGFudFRvb2wsXG4gICAgdHlwZSBDb2RlSW50ZXJwcmV0ZXJUb29sIGFzIENvZGVJbnRlcnByZXRlclRvb2wsXG4gICAgdHlwZSBGaWxlU2VhcmNoVG9vbCBhcyBGaWxlU2VhcmNoVG9vbCxcbiAgICB0eXBlIEZ1bmN0aW9uVG9vbCBhcyBGdW5jdGlvblRvb2wsXG4gICAgdHlwZSBNZXNzYWdlU3RyZWFtRXZlbnQgYXMgTWVzc2FnZVN0cmVhbUV2ZW50LFxuICAgIHR5cGUgUnVuU3RlcFN0cmVhbUV2ZW50IGFzIFJ1blN0ZXBTdHJlYW1FdmVudCxcbiAgICB0eXBlIFJ1blN0cmVhbUV2ZW50IGFzIFJ1blN0cmVhbUV2ZW50LFxuICAgIHR5cGUgVGhyZWFkU3RyZWFtRXZlbnQgYXMgVGhyZWFkU3RyZWFtRXZlbnQsXG4gICAgQXNzaXN0YW50c1BhZ2UgYXMgQXNzaXN0YW50c1BhZ2UsXG4gICAgdHlwZSBBc3Npc3RhbnRDcmVhdGVQYXJhbXMgYXMgQXNzaXN0YW50Q3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgQXNzaXN0YW50VXBkYXRlUGFyYW1zIGFzIEFzc2lzdGFudFVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIEFzc2lzdGFudExpc3RQYXJhbXMgYXMgQXNzaXN0YW50TGlzdFBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIFRocmVhZHMgYXMgVGhyZWFkcyxcbiAgICB0eXBlIEFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIGFzIEFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uLFxuICAgIHR5cGUgQXNzaXN0YW50VG9vbENob2ljZSBhcyBBc3Npc3RhbnRUb29sQ2hvaWNlLFxuICAgIHR5cGUgQXNzaXN0YW50VG9vbENob2ljZUZ1bmN0aW9uIGFzIEFzc2lzdGFudFRvb2xDaG9pY2VGdW5jdGlvbixcbiAgICB0eXBlIEFzc2lzdGFudFRvb2xDaG9pY2VPcHRpb24gYXMgQXNzaXN0YW50VG9vbENob2ljZU9wdGlvbixcbiAgICB0eXBlIFRocmVhZCBhcyBUaHJlYWQsXG4gICAgdHlwZSBUaHJlYWREZWxldGVkIGFzIFRocmVhZERlbGV0ZWQsXG4gICAgdHlwZSBUaHJlYWRDcmVhdGVQYXJhbXMgYXMgVGhyZWFkQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgVGhyZWFkVXBkYXRlUGFyYW1zIGFzIFRocmVhZFVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtcyBhcyBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMsXG4gICAgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNOb25TdHJlYW1pbmcgYXMgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zU3RyZWFtaW5nIGFzIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc1N0cmVhbWluZyxcbiAgICB0eXBlIFRocmVhZENyZWF0ZUFuZFJ1blBvbGxQYXJhbXMsXG4gICAgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5TdHJlYW1QYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBBUElQcm9taXNlIH0gZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29tcGxldGlvbnNBUEkgZnJvbSAnLi9jb21wbGV0aW9ucyc7XG5pbXBvcnQgKiBhcyBDb21wbGV0aW9uc0NvbXBsZXRpb25zQVBJIGZyb20gJy4vY2hhdC9jb21wbGV0aW9ucy9jb21wbGV0aW9ucyc7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICcuLi9zdHJlYW1pbmcnO1xuXG5leHBvcnQgY2xhc3MgQ29tcGxldGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY29tcGxldGlvbiBmb3IgdGhlIHByb3ZpZGVkIHByb21wdCBhbmQgcGFyYW1ldGVycy5cbiAgICovXG4gIGNyZWF0ZShib2R5OiBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IEFQSVByb21pc2U8Q29tcGxldGlvbj47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFN0cmVhbTxDb21wbGV0aW9uPj47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zQmFzZSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08Q29tcGxldGlvbj4gfCBDb21wbGV0aW9uPjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8Q29tcGxldGlvbj4gfCBBUElQcm9taXNlPFN0cmVhbTxDb21wbGV0aW9uPj4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2NvbXBsZXRpb25zJywgeyBib2R5LCAuLi5vcHRpb25zLCBzdHJlYW06IGJvZHkuc3RyZWFtID8/IGZhbHNlIH0pIGFzXG4gICAgICB8IEFQSVByb21pc2U8Q29tcGxldGlvbj5cbiAgICAgIHwgQVBJUHJvbWlzZTxTdHJlYW08Q29tcGxldGlvbj4+O1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbXBsZXRpb24gcmVzcG9uc2UgZnJvbSB0aGUgQVBJLiBOb3RlOiBib3RoIHRoZSBzdHJlYW1lZCBhbmRcbiAqIG5vbi1zdHJlYW1lZCByZXNwb25zZSBvYmplY3RzIHNoYXJlIHRoZSBzYW1lIHNoYXBlICh1bmxpa2UgdGhlIGNoYXQgZW5kcG9pbnQpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb24ge1xuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGNvbXBsZXRpb24uXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBjb21wbGV0aW9uIGNob2ljZXMgdGhlIG1vZGVsIGdlbmVyYXRlZCBmb3IgdGhlIGlucHV0IHByb21wdC5cbiAgICovXG4gIGNob2ljZXM6IEFycmF5PENvbXBsZXRpb25DaG9pY2U+O1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIG9mIHdoZW4gdGhlIGNvbXBsZXRpb24gd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB1c2VkIGZvciBjb21wbGV0aW9uLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgXCJ0ZXh0X2NvbXBsZXRpb25cIlxuICAgKi9cbiAgb2JqZWN0OiAndGV4dF9jb21wbGV0aW9uJztcblxuICAvKipcbiAgICogVGhpcyBmaW5nZXJwcmludCByZXByZXNlbnRzIHRoZSBiYWNrZW5kIGNvbmZpZ3VyYXRpb24gdGhhdCB0aGUgbW9kZWwgcnVucyB3aXRoLlxuICAgKlxuICAgKiBDYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSBgc2VlZGAgcmVxdWVzdCBwYXJhbWV0ZXIgdG8gdW5kZXJzdGFuZCB3aGVuXG4gICAqIGJhY2tlbmQgY2hhbmdlcyBoYXZlIGJlZW4gbWFkZSB0aGF0IG1pZ2h0IGltcGFjdCBkZXRlcm1pbmlzbS5cbiAgICovXG4gIHN5c3RlbV9maW5nZXJwcmludD86IHN0cmluZztcblxuICAvKipcbiAgICogVXNhZ2Ugc3RhdGlzdGljcyBmb3IgdGhlIGNvbXBsZXRpb24gcmVxdWVzdC5cbiAgICovXG4gIHVzYWdlPzogQ29tcGxldGlvblVzYWdlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25DaG9pY2Uge1xuICAvKipcbiAgICogVGhlIHJlYXNvbiB0aGUgbW9kZWwgc3RvcHBlZCBnZW5lcmF0aW5nIHRva2Vucy4gVGhpcyB3aWxsIGJlIGBzdG9wYCBpZiB0aGUgbW9kZWxcbiAgICogaGl0IGEgbmF0dXJhbCBzdG9wIHBvaW50IG9yIGEgcHJvdmlkZWQgc3RvcCBzZXF1ZW5jZSwgYGxlbmd0aGAgaWYgdGhlIG1heGltdW1cbiAgICogbnVtYmVyIG9mIHRva2VucyBzcGVjaWZpZWQgaW4gdGhlIHJlcXVlc3Qgd2FzIHJlYWNoZWQsIG9yIGBjb250ZW50X2ZpbHRlcmAgaWZcbiAgICogY29udGVudCB3YXMgb21pdHRlZCBkdWUgdG8gYSBmbGFnIGZyb20gb3VyIGNvbnRlbnQgZmlsdGVycy5cbiAgICovXG4gIGZpbmlzaF9yZWFzb246ICdzdG9wJyB8ICdsZW5ndGgnIHwgJ2NvbnRlbnRfZmlsdGVyJztcblxuICBpbmRleDogbnVtYmVyO1xuXG4gIGxvZ3Byb2JzOiBDb21wbGV0aW9uQ2hvaWNlLkxvZ3Byb2JzIHwgbnVsbDtcblxuICB0ZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29tcGxldGlvbkNob2ljZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgTG9ncHJvYnMge1xuICAgIHRleHRfb2Zmc2V0PzogQXJyYXk8bnVtYmVyPjtcblxuICAgIHRva2VuX2xvZ3Byb2JzPzogQXJyYXk8bnVtYmVyPjtcblxuICAgIHRva2Vucz86IEFycmF5PHN0cmluZz47XG5cbiAgICB0b3BfbG9ncHJvYnM/OiBBcnJheTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+PjtcbiAgfVxufVxuXG4vKipcbiAqIFVzYWdlIHN0YXRpc3RpY3MgZm9yIHRoZSBjb21wbGV0aW9uIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvblVzYWdlIHtcbiAgLyoqXG4gICAqIE51bWJlciBvZiB0b2tlbnMgaW4gdGhlIGdlbmVyYXRlZCBjb21wbGV0aW9uLlxuICAgKi9cbiAgY29tcGxldGlvbl90b2tlbnM6IG51bWJlcjtcblxuICAvKipcbiAgICogTnVtYmVyIG9mIHRva2VucyBpbiB0aGUgcHJvbXB0LlxuICAgKi9cbiAgcHJvbXB0X3Rva2VuczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUb3RhbCBudW1iZXIgb2YgdG9rZW5zIHVzZWQgaW4gdGhlIHJlcXVlc3QgKHByb21wdCArIGNvbXBsZXRpb24pLlxuICAgKi9cbiAgdG90YWxfdG9rZW5zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEJyZWFrZG93biBvZiB0b2tlbnMgdXNlZCBpbiBhIGNvbXBsZXRpb24uXG4gICAqL1xuICBjb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzPzogQ29tcGxldGlvblVzYWdlLkNvbXBsZXRpb25Ub2tlbnNEZXRhaWxzO1xuXG4gIC8qKlxuICAgKiBCcmVha2Rvd24gb2YgdG9rZW5zIHVzZWQgaW4gdGhlIHByb21wdC5cbiAgICovXG4gIHByb21wdF90b2tlbnNfZGV0YWlscz86IENvbXBsZXRpb25Vc2FnZS5Qcm9tcHRUb2tlbnNEZXRhaWxzO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENvbXBsZXRpb25Vc2FnZSB7XG4gIC8qKlxuICAgKiBCcmVha2Rvd24gb2YgdG9rZW5zIHVzZWQgaW4gYSBjb21wbGV0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uVG9rZW5zRGV0YWlscyB7XG4gICAgLyoqXG4gICAgICogV2hlbiB1c2luZyBQcmVkaWN0ZWQgT3V0cHV0cywgdGhlIG51bWJlciBvZiB0b2tlbnMgaW4gdGhlIHByZWRpY3Rpb24gdGhhdFxuICAgICAqIGFwcGVhcmVkIGluIHRoZSBjb21wbGV0aW9uLlxuICAgICAqL1xuICAgIGFjY2VwdGVkX3ByZWRpY3Rpb25fdG9rZW5zPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQXVkaW8gaW5wdXQgdG9rZW5zIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAgICovXG4gICAgYXVkaW9fdG9rZW5zPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVG9rZW5zIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgZm9yIHJlYXNvbmluZy5cbiAgICAgKi9cbiAgICByZWFzb25pbmdfdG9rZW5zPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogV2hlbiB1c2luZyBQcmVkaWN0ZWQgT3V0cHV0cywgdGhlIG51bWJlciBvZiB0b2tlbnMgaW4gdGhlIHByZWRpY3Rpb24gdGhhdCBkaWRcbiAgICAgKiBub3QgYXBwZWFyIGluIHRoZSBjb21wbGV0aW9uLiBIb3dldmVyLCBsaWtlIHJlYXNvbmluZyB0b2tlbnMsIHRoZXNlIHRva2VucyBhcmVcbiAgICAgKiBzdGlsbCBjb3VudGVkIGluIHRoZSB0b3RhbCBjb21wbGV0aW9uIHRva2VucyBmb3IgcHVycG9zZXMgb2YgYmlsbGluZywgb3V0cHV0LFxuICAgICAqIGFuZCBjb250ZXh0IHdpbmRvdyBsaW1pdHMuXG4gICAgICovXG4gICAgcmVqZWN0ZWRfcHJlZGljdGlvbl90b2tlbnM/OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogQnJlYWtkb3duIG9mIHRva2VucyB1c2VkIGluIHRoZSBwcm9tcHQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFByb21wdFRva2Vuc0RldGFpbHMge1xuICAgIC8qKlxuICAgICAqIEF1ZGlvIGlucHV0IHRva2VucyBwcmVzZW50IGluIHRoZSBwcm9tcHQuXG4gICAgICovXG4gICAgYXVkaW9fdG9rZW5zPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQ2FjaGVkIHRva2VucyBwcmVzZW50IGluIHRoZSBwcm9tcHQuXG4gICAgICovXG4gICAgY2FjaGVkX3Rva2Vucz86IG51bWJlcjtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zID0gQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyB8IENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gWW91IGNhbiB1c2UgdGhlXG4gICAqIFtMaXN0IG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMvbGlzdCkgQVBJIHRvXG4gICAqIHNlZSBhbGwgb2YgeW91ciBhdmFpbGFibGUgbW9kZWxzLCBvciBzZWUgb3VyXG4gICAqIFtNb2RlbCBvdmVydmlld10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzKSBmb3IgZGVzY3JpcHRpb25zIG9mXG4gICAqIHRoZW0uXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8ICdncHQtMy41LXR1cmJvLWluc3RydWN0JyB8ICdkYXZpbmNpLTAwMicgfCAnYmFiYmFnZS0wMDInO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJvbXB0KHMpIHRvIGdlbmVyYXRlIGNvbXBsZXRpb25zIGZvciwgZW5jb2RlZCBhcyBhIHN0cmluZywgYXJyYXkgb2ZcbiAgICogc3RyaW5ncywgYXJyYXkgb2YgdG9rZW5zLCBvciBhcnJheSBvZiB0b2tlbiBhcnJheXMuXG4gICAqXG4gICAqIE5vdGUgdGhhdCA8fGVuZG9mdGV4dHw+IGlzIHRoZSBkb2N1bWVudCBzZXBhcmF0b3IgdGhhdCB0aGUgbW9kZWwgc2VlcyBkdXJpbmdcbiAgICogdHJhaW5pbmcsIHNvIGlmIGEgcHJvbXB0IGlzIG5vdCBzcGVjaWZpZWQgdGhlIG1vZGVsIHdpbGwgZ2VuZXJhdGUgYXMgaWYgZnJvbSB0aGVcbiAgICogYmVnaW5uaW5nIG9mIGEgbmV3IGRvY3VtZW50LlxuICAgKi9cbiAgcHJvbXB0OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+IHwgQXJyYXk8bnVtYmVyPiB8IEFycmF5PEFycmF5PG51bWJlcj4+IHwgbnVsbDtcblxuICAvKipcbiAgICogR2VuZXJhdGVzIGBiZXN0X29mYCBjb21wbGV0aW9ucyBzZXJ2ZXItc2lkZSBhbmQgcmV0dXJucyB0aGUgXCJiZXN0XCIgKHRoZSBvbmUgd2l0aFxuICAgKiB0aGUgaGlnaGVzdCBsb2cgcHJvYmFiaWxpdHkgcGVyIHRva2VuKS4gUmVzdWx0cyBjYW5ub3QgYmUgc3RyZWFtZWQuXG4gICAqXG4gICAqIFdoZW4gdXNlZCB3aXRoIGBuYCwgYGJlc3Rfb2ZgIGNvbnRyb2xzIHRoZSBudW1iZXIgb2YgY2FuZGlkYXRlIGNvbXBsZXRpb25zIGFuZFxuICAgKiBgbmAgc3BlY2lmaWVzIGhvdyBtYW55IHRvIHJldHVybiBcdTIwMTMgYGJlc3Rfb2ZgIG11c3QgYmUgZ3JlYXRlciB0aGFuIGBuYC5cbiAgICpcbiAgICogKipOb3RlOioqIEJlY2F1c2UgdGhpcyBwYXJhbWV0ZXIgZ2VuZXJhdGVzIG1hbnkgY29tcGxldGlvbnMsIGl0IGNhbiBxdWlja2x5XG4gICAqIGNvbnN1bWUgeW91ciB0b2tlbiBxdW90YS4gVXNlIGNhcmVmdWxseSBhbmQgZW5zdXJlIHRoYXQgeW91IGhhdmUgcmVhc29uYWJsZVxuICAgKiBzZXR0aW5ncyBmb3IgYG1heF90b2tlbnNgIGFuZCBgc3RvcGAuXG4gICAqL1xuICBiZXN0X29mPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogRWNobyBiYWNrIHRoZSBwcm9tcHQgaW4gYWRkaXRpb24gdG8gdGhlIGNvbXBsZXRpb25cbiAgICovXG4gIGVjaG8/OiBib29sZWFuIHwgbnVsbDtcblxuICAvKipcbiAgICogTnVtYmVyIGJldHdlZW4gLTIuMCBhbmQgMi4wLiBQb3NpdGl2ZSB2YWx1ZXMgcGVuYWxpemUgbmV3IHRva2VucyBiYXNlZCBvbiB0aGVpclxuICAgKiBleGlzdGluZyBmcmVxdWVuY3kgaW4gdGhlIHRleHQgc28gZmFyLCBkZWNyZWFzaW5nIHRoZSBtb2RlbCdzIGxpa2VsaWhvb2QgdG9cbiAgICogcmVwZWF0IHRoZSBzYW1lIGxpbmUgdmVyYmF0aW0uXG4gICAqXG4gICAqIFtTZWUgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBmcmVxdWVuY3kgYW5kIHByZXNlbmNlIHBlbmFsdGllcy5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0LWdlbmVyYXRpb24pXG4gICAqL1xuICBmcmVxdWVuY3lfcGVuYWx0eT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE1vZGlmeSB0aGUgbGlrZWxpaG9vZCBvZiBzcGVjaWZpZWQgdG9rZW5zIGFwcGVhcmluZyBpbiB0aGUgY29tcGxldGlvbi5cbiAgICpcbiAgICogQWNjZXB0cyBhIEpTT04gb2JqZWN0IHRoYXQgbWFwcyB0b2tlbnMgKHNwZWNpZmllZCBieSB0aGVpciB0b2tlbiBJRCBpbiB0aGUgR1BUXG4gICAqIHRva2VuaXplcikgdG8gYW4gYXNzb2NpYXRlZCBiaWFzIHZhbHVlIGZyb20gLTEwMCB0byAxMDAuIFlvdSBjYW4gdXNlIHRoaXNcbiAgICogW3Rva2VuaXplciB0b29sXSgvdG9rZW5pemVyP3ZpZXc9YnBlKSB0byBjb252ZXJ0IHRleHQgdG8gdG9rZW4gSURzLlxuICAgKiBNYXRoZW1hdGljYWxseSwgdGhlIGJpYXMgaXMgYWRkZWQgdG8gdGhlIGxvZ2l0cyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIHByaW9yIHRvXG4gICAqIHNhbXBsaW5nLiBUaGUgZXhhY3QgZWZmZWN0IHdpbGwgdmFyeSBwZXIgbW9kZWwsIGJ1dCB2YWx1ZXMgYmV0d2VlbiAtMSBhbmQgMVxuICAgKiBzaG91bGQgZGVjcmVhc2Ugb3IgaW5jcmVhc2UgbGlrZWxpaG9vZCBvZiBzZWxlY3Rpb247IHZhbHVlcyBsaWtlIC0xMDAgb3IgMTAwXG4gICAqIHNob3VsZCByZXN1bHQgaW4gYSBiYW4gb3IgZXhjbHVzaXZlIHNlbGVjdGlvbiBvZiB0aGUgcmVsZXZhbnQgdG9rZW4uXG4gICAqXG4gICAqIEFzIGFuIGV4YW1wbGUsIHlvdSBjYW4gcGFzcyBge1wiNTAyNTZcIjogLTEwMH1gIHRvIHByZXZlbnQgdGhlIDx8ZW5kb2Z0ZXh0fD4gdG9rZW5cbiAgICogZnJvbSBiZWluZyBnZW5lcmF0ZWQuXG4gICAqL1xuICBsb2dpdF9iaWFzPzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEluY2x1ZGUgdGhlIGxvZyBwcm9iYWJpbGl0aWVzIG9uIHRoZSBgbG9ncHJvYnNgIG1vc3QgbGlrZWx5IG91dHB1dCB0b2tlbnMsIGFzXG4gICAqIHdlbGwgdGhlIGNob3NlbiB0b2tlbnMuIEZvciBleGFtcGxlLCBpZiBgbG9ncHJvYnNgIGlzIDUsIHRoZSBBUEkgd2lsbCByZXR1cm4gYVxuICAgKiBsaXN0IG9mIHRoZSA1IG1vc3QgbGlrZWx5IHRva2Vucy4gVGhlIEFQSSB3aWxsIGFsd2F5cyByZXR1cm4gdGhlIGBsb2dwcm9iYCBvZlxuICAgKiB0aGUgc2FtcGxlZCB0b2tlbiwgc28gdGhlcmUgbWF5IGJlIHVwIHRvIGBsb2dwcm9icysxYCBlbGVtZW50cyBpbiB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIFRoZSBtYXhpbXVtIHZhbHVlIGZvciBgbG9ncHJvYnNgIGlzIDUuXG4gICAqL1xuICBsb2dwcm9icz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBbdG9rZW5zXSgvdG9rZW5pemVyKSB0aGF0IGNhbiBiZSBnZW5lcmF0ZWQgaW4gdGhlXG4gICAqIGNvbXBsZXRpb24uXG4gICAqXG4gICAqIFRoZSB0b2tlbiBjb3VudCBvZiB5b3VyIHByb21wdCBwbHVzIGBtYXhfdG9rZW5zYCBjYW5ub3QgZXhjZWVkIHRoZSBtb2RlbCdzXG4gICAqIGNvbnRleHQgbGVuZ3RoLlxuICAgKiBbRXhhbXBsZSBQeXRob24gY29kZV0oaHR0cHM6Ly9jb29rYm9vay5vcGVuYWkuY29tL2V4YW1wbGVzL2hvd190b19jb3VudF90b2tlbnNfd2l0aF90aWt0b2tlbilcbiAgICogZm9yIGNvdW50aW5nIHRva2Vucy5cbiAgICovXG4gIG1heF90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBIb3cgbWFueSBjb21wbGV0aW9ucyB0byBnZW5lcmF0ZSBmb3IgZWFjaCBwcm9tcHQuXG4gICAqXG4gICAqICoqTm90ZToqKiBCZWNhdXNlIHRoaXMgcGFyYW1ldGVyIGdlbmVyYXRlcyBtYW55IGNvbXBsZXRpb25zLCBpdCBjYW4gcXVpY2tseVxuICAgKiBjb25zdW1lIHlvdXIgdG9rZW4gcXVvdGEuIFVzZSBjYXJlZnVsbHkgYW5kIGVuc3VyZSB0aGF0IHlvdSBoYXZlIHJlYXNvbmFibGVcbiAgICogc2V0dGluZ3MgZm9yIGBtYXhfdG9rZW5zYCBhbmQgYHN0b3BgLlxuICAgKi9cbiAgbj86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE51bWJlciBiZXR3ZWVuIC0yLjAgYW5kIDIuMC4gUG9zaXRpdmUgdmFsdWVzIHBlbmFsaXplIG5ldyB0b2tlbnMgYmFzZWQgb25cbiAgICogd2hldGhlciB0aGV5IGFwcGVhciBpbiB0aGUgdGV4dCBzbyBmYXIsIGluY3JlYXNpbmcgdGhlIG1vZGVsJ3MgbGlrZWxpaG9vZCB0b1xuICAgKiB0YWxrIGFib3V0IG5ldyB0b3BpY3MuXG4gICAqXG4gICAqIFtTZWUgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBmcmVxdWVuY3kgYW5kIHByZXNlbmNlIHBlbmFsdGllcy5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0LWdlbmVyYXRpb24pXG4gICAqL1xuICBwcmVzZW5jZV9wZW5hbHR5PzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogSWYgc3BlY2lmaWVkLCBvdXIgc3lzdGVtIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHNhbXBsZSBkZXRlcm1pbmlzdGljYWxseSxcbiAgICogc3VjaCB0aGF0IHJlcGVhdGVkIHJlcXVlc3RzIHdpdGggdGhlIHNhbWUgYHNlZWRgIGFuZCBwYXJhbWV0ZXJzIHNob3VsZCByZXR1cm5cbiAgICogdGhlIHNhbWUgcmVzdWx0LlxuICAgKlxuICAgKiBEZXRlcm1pbmlzbSBpcyBub3QgZ3VhcmFudGVlZCwgYW5kIHlvdSBzaG91bGQgcmVmZXIgdG8gdGhlIGBzeXN0ZW1fZmluZ2VycHJpbnRgXG4gICAqIHJlc3BvbnNlIHBhcmFtZXRlciB0byBtb25pdG9yIGNoYW5nZXMgaW4gdGhlIGJhY2tlbmQuXG4gICAqL1xuICBzZWVkPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVXAgdG8gNCBzZXF1ZW5jZXMgd2hlcmUgdGhlIEFQSSB3aWxsIHN0b3AgZ2VuZXJhdGluZyBmdXJ0aGVyIHRva2Vucy4gVGhlXG4gICAqIHJldHVybmVkIHRleHQgd2lsbCBub3QgY29udGFpbiB0aGUgc3RvcCBzZXF1ZW5jZS5cbiAgICovXG4gIHN0b3A/OiBzdHJpbmcgfCBudWxsIHwgQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBzdHJlYW0gYmFjayBwYXJ0aWFsIHByb2dyZXNzLiBJZiBzZXQsIHRva2VucyB3aWxsIGJlIHNlbnQgYXNcbiAgICogZGF0YS1vbmx5XG4gICAqIFtzZXJ2ZXItc2VudCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2ZXItc2VudF9ldmVudHMvVXNpbmdfc2VydmVyLXNlbnRfZXZlbnRzI0V2ZW50X3N0cmVhbV9mb3JtYXQpXG4gICAqIGFzIHRoZXkgYmVjb21lIGF2YWlsYWJsZSwgd2l0aCB0aGUgc3RyZWFtIHRlcm1pbmF0ZWQgYnkgYSBgZGF0YTogW0RPTkVdYFxuICAgKiBtZXNzYWdlLlxuICAgKiBbRXhhbXBsZSBQeXRob24gY29kZV0oaHR0cHM6Ly9jb29rYm9vay5vcGVuYWkuY29tL2V4YW1wbGVzL2hvd190b19zdHJlYW1fY29tcGxldGlvbnMpLlxuICAgKi9cbiAgc3RyZWFtPzogYm9vbGVhbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgZm9yIHN0cmVhbWluZyByZXNwb25zZS4gT25seSBzZXQgdGhpcyB3aGVuIHlvdSBzZXQgYHN0cmVhbTogdHJ1ZWAuXG4gICAqL1xuICBzdHJlYW1fb3B0aW9ucz86IENvbXBsZXRpb25zQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25TdHJlYW1PcHRpb25zIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHN1ZmZpeCB0aGF0IGNvbWVzIGFmdGVyIGEgY29tcGxldGlvbiBvZiBpbnNlcnRlZCB0ZXh0LlxuICAgKlxuICAgKiBUaGlzIHBhcmFtZXRlciBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgYGdwdC0zLjUtdHVyYm8taW5zdHJ1Y3RgLlxuICAgKi9cbiAgc3VmZml4Pzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciBgdG9wX3BgIGJ1dCBub3QgYm90aC5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcsIHdoZXJlIHRoZVxuICAgKiBtb2RlbCBjb25zaWRlcnMgdGhlIHJlc3VsdHMgb2YgdGhlIHRva2VucyB3aXRoIHRvcF9wIHByb2JhYmlsaXR5IG1hc3MuIFNvIDAuMVxuICAgKiBtZWFucyBvbmx5IHRoZSB0b2tlbnMgY29tcHJpc2luZyB0aGUgdG9wIDEwJSBwcm9iYWJpbGl0eSBtYXNzIGFyZSBjb25zaWRlcmVkLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgYHRlbXBlcmF0dXJlYCBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yXG4gICAqIGFuZCBkZXRlY3QgYWJ1c2UuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzI2VuZC11c2VyLWlkcykuXG4gICAqL1xuICB1c2VyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENvbXBsZXRpb25DcmVhdGVQYXJhbXMge1xuICBleHBvcnQgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nID0gQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZztcbiAgZXhwb3J0IHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyA9IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyBleHRlbmRzIENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc3RyZWFtIGJhY2sgcGFydGlhbCBwcm9ncmVzcy4gSWYgc2V0LCB0b2tlbnMgd2lsbCBiZSBzZW50IGFzXG4gICAqIGRhdGEtb25seVxuICAgKiBbc2VydmVyLXNlbnQgZXZlbnRzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmVyLXNlbnRfZXZlbnRzL1VzaW5nX3NlcnZlci1zZW50X2V2ZW50cyNFdmVudF9zdHJlYW1fZm9ybWF0KVxuICAgKiBhcyB0aGV5IGJlY29tZSBhdmFpbGFibGUsIHdpdGggdGhlIHN0cmVhbSB0ZXJtaW5hdGVkIGJ5IGEgYGRhdGE6IFtET05FXWBcbiAgICogbWVzc2FnZS5cbiAgICogW0V4YW1wbGUgUHl0aG9uIGNvZGVdKGh0dHBzOi8vY29va2Jvb2sub3BlbmFpLmNvbS9leGFtcGxlcy9ob3dfdG9fc3RyZWFtX2NvbXBsZXRpb25zKS5cbiAgICovXG4gIHN0cmVhbT86IGZhbHNlIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGV4dGVuZHMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogV2hldGhlciB0byBzdHJlYW0gYmFjayBwYXJ0aWFsIHByb2dyZXNzLiBJZiBzZXQsIHRva2VucyB3aWxsIGJlIHNlbnQgYXNcbiAgICogZGF0YS1vbmx5XG4gICAqIFtzZXJ2ZXItc2VudCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2ZXItc2VudF9ldmVudHMvVXNpbmdfc2VydmVyLXNlbnRfZXZlbnRzI0V2ZW50X3N0cmVhbV9mb3JtYXQpXG4gICAqIGFzIHRoZXkgYmVjb21lIGF2YWlsYWJsZSwgd2l0aCB0aGUgc3RyZWFtIHRlcm1pbmF0ZWQgYnkgYSBgZGF0YTogW0RPTkVdYFxuICAgKiBtZXNzYWdlLlxuICAgKiBbRXhhbXBsZSBQeXRob24gY29kZV0oaHR0cHM6Ly9jb29rYm9vay5vcGVuYWkuY29tL2V4YW1wbGVzL2hvd190b19zdHJlYW1fY29tcGxldGlvbnMpLlxuICAgKi9cbiAgc3RyZWFtOiB0cnVlO1xufVxuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgQ29tcGxldGlvbnMge1xuICBleHBvcnQge1xuICAgIHR5cGUgQ29tcGxldGlvbiBhcyBDb21wbGV0aW9uLFxuICAgIHR5cGUgQ29tcGxldGlvbkNob2ljZSBhcyBDb21wbGV0aW9uQ2hvaWNlLFxuICAgIHR5cGUgQ29tcGxldGlvblVzYWdlIGFzIENvbXBsZXRpb25Vc2FnZSxcbiAgICB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXMgYXMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgYXMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgICB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgYXMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vY29yZSc7XG5cbmV4cG9ydCBjbGFzcyBFbWJlZGRpbmdzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogQ3JlYXRlcyBhbiBlbWJlZGRpbmcgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgaW5wdXQgdGV4dC5cbiAgICovXG4gIGNyZWF0ZShcbiAgICBib2R5OiBFbWJlZGRpbmdDcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxDcmVhdGVFbWJlZGRpbmdSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2VtYmVkZGluZ3MnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVFbWJlZGRpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBlbWJlZGRpbmdzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBkYXRhOiBBcnJheTxFbWJlZGRpbmc+O1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgdXNlZCB0byBnZW5lcmF0ZSB0aGUgZW1iZWRkaW5nLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgXCJsaXN0XCIuXG4gICAqL1xuICBvYmplY3Q6ICdsaXN0JztcblxuICAvKipcbiAgICogVGhlIHVzYWdlIGluZm9ybWF0aW9uIGZvciB0aGUgcmVxdWVzdC5cbiAgICovXG4gIHVzYWdlOiBDcmVhdGVFbWJlZGRpbmdSZXNwb25zZS5Vc2FnZTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDcmVhdGVFbWJlZGRpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBUaGUgdXNhZ2UgaW5mb3JtYXRpb24gZm9yIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBVc2FnZSB7XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiB0b2tlbnMgdXNlZCBieSB0aGUgcHJvbXB0LlxuICAgICAqL1xuICAgIHByb21wdF90b2tlbnM6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIHVzZWQgYnkgdGhlIHJlcXVlc3QuXG4gICAgICovXG4gICAgdG90YWxfdG9rZW5zOiBudW1iZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGVtYmVkZGluZyB2ZWN0b3IgcmV0dXJuZWQgYnkgZW1iZWRkaW5nIGVuZHBvaW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVtYmVkZGluZyB7XG4gIC8qKlxuICAgKiBUaGUgZW1iZWRkaW5nIHZlY3Rvciwgd2hpY2ggaXMgYSBsaXN0IG9mIGZsb2F0cy4gVGhlIGxlbmd0aCBvZiB2ZWN0b3IgZGVwZW5kcyBvblxuICAgKiB0aGUgbW9kZWwgYXMgbGlzdGVkIGluIHRoZVxuICAgKiBbZW1iZWRkaW5nIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZW1iZWRkaW5ncykuXG4gICAqL1xuICBlbWJlZGRpbmc6IEFycmF5PG51bWJlcj47XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgZW1iZWRkaW5nIGluIHRoZSBsaXN0IG9mIGVtYmVkZGluZ3MuXG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBcImVtYmVkZGluZ1wiLlxuICAgKi9cbiAgb2JqZWN0OiAnZW1iZWRkaW5nJztcbn1cblxuZXhwb3J0IHR5cGUgRW1iZWRkaW5nTW9kZWwgPSAndGV4dC1lbWJlZGRpbmctYWRhLTAwMicgfCAndGV4dC1lbWJlZGRpbmctMy1zbWFsbCcgfCAndGV4dC1lbWJlZGRpbmctMy1sYXJnZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1iZWRkaW5nQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIElucHV0IHRleHQgdG8gZW1iZWQsIGVuY29kZWQgYXMgYSBzdHJpbmcgb3IgYXJyYXkgb2YgdG9rZW5zLiBUbyBlbWJlZCBtdWx0aXBsZVxuICAgKiBpbnB1dHMgaW4gYSBzaW5nbGUgcmVxdWVzdCwgcGFzcyBhbiBhcnJheSBvZiBzdHJpbmdzIG9yIGFycmF5IG9mIHRva2VuIGFycmF5cy5cbiAgICogVGhlIGlucHV0IG11c3Qgbm90IGV4Y2VlZCB0aGUgbWF4IGlucHV0IHRva2VucyBmb3IgdGhlIG1vZGVsICg4MTkyIHRva2VucyBmb3JcbiAgICogYHRleHQtZW1iZWRkaW5nLWFkYS0wMDJgKSwgY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZywgYW5kIGFueSBhcnJheSBtdXN0IGJlIDIwNDhcbiAgICogZGltZW5zaW9ucyBvciBsZXNzLlxuICAgKiBbRXhhbXBsZSBQeXRob24gY29kZV0oaHR0cHM6Ly9jb29rYm9vay5vcGVuYWkuY29tL2V4YW1wbGVzL2hvd190b19jb3VudF90b2tlbnNfd2l0aF90aWt0b2tlbilcbiAgICogZm9yIGNvdW50aW5nIHRva2Vucy4gU29tZSBtb2RlbHMgbWF5IGFsc28gaW1wb3NlIGEgbGltaXQgb24gdG90YWwgbnVtYmVyIG9mXG4gICAqIHRva2VucyBzdW1tZWQgYWNyb3NzIGlucHV0cy5cbiAgICovXG4gIGlucHV0OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+IHwgQXJyYXk8bnVtYmVyPiB8IEFycmF5PEFycmF5PG51bWJlcj4+O1xuXG4gIC8qKlxuICAgKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBZb3UgY2FuIHVzZSB0aGVcbiAgICogW0xpc3QgbW9kZWxzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21vZGVscy9saXN0KSBBUEkgdG9cbiAgICogc2VlIGFsbCBvZiB5b3VyIGF2YWlsYWJsZSBtb2RlbHMsIG9yIHNlZSBvdXJcbiAgICogW01vZGVsIG92ZXJ2aWV3XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMpIGZvciBkZXNjcmlwdGlvbnMgb2ZcbiAgICogdGhlbS5cbiAgICovXG4gIG1vZGVsOiAoc3RyaW5nICYge30pIHwgRW1iZWRkaW5nTW9kZWw7XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgZGltZW5zaW9ucyB0aGUgcmVzdWx0aW5nIG91dHB1dCBlbWJlZGRpbmdzIHNob3VsZCBoYXZlLiBPbmx5XG4gICAqIHN1cHBvcnRlZCBpbiBgdGV4dC1lbWJlZGRpbmctM2AgYW5kIGxhdGVyIG1vZGVscy5cbiAgICovXG4gIGRpbWVuc2lvbnM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgdG8gcmV0dXJuIHRoZSBlbWJlZGRpbmdzIGluLiBDYW4gYmUgZWl0aGVyIGBmbG9hdGAgb3JcbiAgICogW2BiYXNlNjRgXShodHRwczovL3B5cGkub3JnL3Byb2plY3QvcHliYXNlNjQvKS5cbiAgICovXG4gIGVuY29kaW5nX2Zvcm1hdD86ICdmbG9hdCcgfCAnYmFzZTY0JztcblxuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciByZXByZXNlbnRpbmcgeW91ciBlbmQtdXNlciwgd2hpY2ggY2FuIGhlbHAgT3BlbkFJIHRvIG1vbml0b3JcbiAgICogYW5kIGRldGVjdCBhYnVzZS5cbiAgICogW0xlYXJuIG1vcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zYWZldHktYmVzdC1wcmFjdGljZXMjZW5kLXVzZXItaWRzKS5cbiAgICovXG4gIHVzZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBFbWJlZGRpbmdzIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIENyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlIGFzIENyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlLFxuICAgIHR5cGUgRW1iZWRkaW5nIGFzIEVtYmVkZGluZyxcbiAgICB0eXBlIEVtYmVkZGluZ01vZGVsIGFzIEVtYmVkZGluZ01vZGVsLFxuICAgIHR5cGUgRW1iZWRkaW5nQ3JlYXRlUGFyYW1zIGFzIEVtYmVkZGluZ0NyZWF0ZVBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB7IHNsZWVwIH0gZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgeyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yIH0gZnJvbSAnLi4vZXJyb3InO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB7IEN1cnNvclBhZ2UsIHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gJy4uL3BhZ2luYXRpb24nO1xuaW1wb3J0IHsgdHlwZSBSZXNwb25zZSB9IGZyb20gJy4uL19zaGltcy9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBGaWxlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFVwbG9hZCBhIGZpbGUgdGhhdCBjYW4gYmUgdXNlZCBhY3Jvc3MgdmFyaW91cyBlbmRwb2ludHMuIEluZGl2aWR1YWwgZmlsZXMgY2FuIGJlXG4gICAqIHVwIHRvIDUxMiBNQiwgYW5kIHRoZSBzaXplIG9mIGFsbCBmaWxlcyB1cGxvYWRlZCBieSBvbmUgb3JnYW5pemF0aW9uIGNhbiBiZSB1cFxuICAgKiB0byAxMDAgR0IuXG4gICAqXG4gICAqIFRoZSBBc3Npc3RhbnRzIEFQSSBzdXBwb3J0cyBmaWxlcyB1cCB0byAyIG1pbGxpb24gdG9rZW5zIGFuZCBvZiBzcGVjaWZpYyBmaWxlXG4gICAqIHR5cGVzLiBTZWUgdGhlXG4gICAqIFtBc3Npc3RhbnRzIFRvb2xzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL3Rvb2xzKSBmb3JcbiAgICogZGV0YWlscy5cbiAgICpcbiAgICogVGhlIEZpbmUtdHVuaW5nIEFQSSBvbmx5IHN1cHBvcnRzIGAuanNvbmxgIGZpbGVzLiBUaGUgaW5wdXQgYWxzbyBoYXMgY2VydGFpblxuICAgKiByZXF1aXJlZCBmb3JtYXRzIGZvciBmaW5lLXR1bmluZ1xuICAgKiBbY2hhdF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maW5lLXR1bmluZy9jaGF0LWlucHV0KSBvclxuICAgKiBbY29tcGxldGlvbnNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcvY29tcGxldGlvbnMtaW5wdXQpXG4gICAqIG1vZGVscy5cbiAgICpcbiAgICogVGhlIEJhdGNoIEFQSSBvbmx5IHN1cHBvcnRzIGAuanNvbmxgIGZpbGVzIHVwIHRvIDIwMCBNQiBpbiBzaXplLiBUaGUgaW5wdXQgYWxzb1xuICAgKiBoYXMgYSBzcGVjaWZpYyByZXF1aXJlZFxuICAgKiBbZm9ybWF0XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2JhdGNoL3JlcXVlc3QtaW5wdXQpLlxuICAgKlxuICAgKiBQbGVhc2UgW2NvbnRhY3QgdXNdKGh0dHBzOi8vaGVscC5vcGVuYWkuY29tLykgaWYgeW91IG5lZWQgdG8gaW5jcmVhc2UgdGhlc2VcbiAgICogc3RvcmFnZSBsaW1pdHMuXG4gICAqL1xuICBjcmVhdGUoYm9keTogRmlsZUNyZWF0ZVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8RmlsZU9iamVjdD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ZpbGVzJywgQ29yZS5tdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGEgc3BlY2lmaWMgZmlsZS5cbiAgICovXG4gIHJldHJpZXZlKGZpbGVJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxGaWxlT2JqZWN0PiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9maWxlcy8ke2ZpbGVJZH1gLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBmaWxlcy5cbiAgICovXG4gIGxpc3QocXVlcnk/OiBGaWxlTGlzdFBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLlBhZ2VQcm9taXNlPEZpbGVPYmplY3RzUGFnZSwgRmlsZU9iamVjdD47XG4gIGxpc3Qob3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLlBhZ2VQcm9taXNlPEZpbGVPYmplY3RzUGFnZSwgRmlsZU9iamVjdD47XG4gIGxpc3QoXG4gICAgcXVlcnk6IEZpbGVMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbGVPYmplY3RzUGFnZSwgRmlsZU9iamVjdD4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9maWxlcycsIEZpbGVPYmplY3RzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBmaWxlLlxuICAgKi9cbiAgZGVsKGZpbGVJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxGaWxlRGVsZXRlZD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvZmlsZXMvJHtmaWxlSWR9YCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29udGVudHMgb2YgdGhlIHNwZWNpZmllZCBmaWxlLlxuICAgKi9cbiAgY29udGVudChmaWxlSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8UmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2ZpbGVzLyR7ZmlsZUlkfS9jb250ZW50YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vYmluYXJ5JywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgX19iaW5hcnlSZXNwb25zZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb250ZW50cyBvZiB0aGUgc3BlY2lmaWVkIGZpbGUuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFRoZSBgLmNvbnRlbnQoKWAgbWV0aG9kIHNob3VsZCBiZSB1c2VkIGluc3RlYWRcbiAgICovXG4gIHJldHJpZXZlQ29udGVudChmaWxlSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9maWxlcy8ke2ZpbGVJZH0vY29udGVudGAsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXRzIGZvciB0aGUgZ2l2ZW4gZmlsZSB0byBiZSBwcm9jZXNzZWQsIGRlZmF1bHQgdGltZW91dCBpcyAzMCBtaW5zLlxuICAgKi9cbiAgYXN5bmMgd2FpdEZvclByb2Nlc3NpbmcoXG4gICAgaWQ6IHN0cmluZyxcbiAgICB7IHBvbGxJbnRlcnZhbCA9IDUwMDAsIG1heFdhaXQgPSAzMCAqIDYwICogMTAwMCB9OiB7IHBvbGxJbnRlcnZhbD86IG51bWJlcjsgbWF4V2FpdD86IG51bWJlciB9ID0ge30sXG4gICk6IFByb21pc2U8RmlsZU9iamVjdD4ge1xuICAgIGNvbnN0IFRFUk1JTkFMX1NUQVRFUyA9IG5ldyBTZXQoWydwcm9jZXNzZWQnLCAnZXJyb3InLCAnZGVsZXRlZCddKTtcblxuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgZmlsZSA9IGF3YWl0IHRoaXMucmV0cmlldmUoaWQpO1xuXG4gICAgd2hpbGUgKCFmaWxlLnN0YXR1cyB8fCAhVEVSTUlOQUxfU1RBVEVTLmhhcyhmaWxlLnN0YXR1cykpIHtcbiAgICAgIGF3YWl0IHNsZWVwKHBvbGxJbnRlcnZhbCk7XG5cbiAgICAgIGZpbGUgPSBhd2FpdCB0aGlzLnJldHJpZXZlKGlkKTtcbiAgICAgIGlmIChEYXRlLm5vdygpIC0gc3RhcnQgPiBtYXhXYWl0KSB7XG4gICAgICAgIHRocm93IG5ldyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBgR2l2aW5nIHVwIG9uIHdhaXRpbmcgZm9yIGZpbGUgJHtpZH0gdG8gZmluaXNoIHByb2Nlc3NpbmcgYWZ0ZXIgJHttYXhXYWl0fSBtaWxsaXNlY29uZHMuYCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbGU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVPYmplY3RzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8RmlsZU9iamVjdD4ge31cblxuZXhwb3J0IHR5cGUgRmlsZUNvbnRlbnQgPSBzdHJpbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZURlbGV0ZWQge1xuICBpZDogc3RyaW5nO1xuXG4gIGRlbGV0ZWQ6IGJvb2xlYW47XG5cbiAgb2JqZWN0OiAnZmlsZSc7XG59XG5cbi8qKlxuICogVGhlIGBGaWxlYCBvYmplY3QgcmVwcmVzZW50cyBhIGRvY3VtZW50IHRoYXQgaGFzIGJlZW4gdXBsb2FkZWQgdG8gT3BlbkFJLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVPYmplY3Qge1xuICAvKipcbiAgICogVGhlIGZpbGUgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gdGhlIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc2l6ZSBvZiB0aGUgZmlsZSwgaW4gYnl0ZXMuXG4gICAqL1xuICBieXRlczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBmaWxlIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZmlsZS5cbiAgICovXG4gIGZpbGVuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGBmaWxlYC5cbiAgICovXG4gIG9iamVjdDogJ2ZpbGUnO1xuXG4gIC8qKlxuICAgKiBUaGUgaW50ZW5kZWQgcHVycG9zZSBvZiB0aGUgZmlsZS4gU3VwcG9ydGVkIHZhbHVlcyBhcmUgYGFzc2lzdGFudHNgLFxuICAgKiBgYXNzaXN0YW50c19vdXRwdXRgLCBgYmF0Y2hgLCBgYmF0Y2hfb3V0cHV0YCwgYGZpbmUtdHVuZWAsIGBmaW5lLXR1bmUtcmVzdWx0c2BcbiAgICogYW5kIGB2aXNpb25gLlxuICAgKi9cbiAgcHVycG9zZTpcbiAgICB8ICdhc3Npc3RhbnRzJ1xuICAgIHwgJ2Fzc2lzdGFudHNfb3V0cHV0J1xuICAgIHwgJ2JhdGNoJ1xuICAgIHwgJ2JhdGNoX291dHB1dCdcbiAgICB8ICdmaW5lLXR1bmUnXG4gICAgfCAnZmluZS10dW5lLXJlc3VsdHMnXG4gICAgfCAndmlzaW9uJztcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZC4gVGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBmaWxlLCB3aGljaCBjYW4gYmUgZWl0aGVyXG4gICAqIGB1cGxvYWRlZGAsIGBwcm9jZXNzZWRgLCBvciBgZXJyb3JgLlxuICAgKi9cbiAgc3RhdHVzOiAndXBsb2FkZWQnIHwgJ3Byb2Nlc3NlZCcgfCAnZXJyb3InO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBmaWxlIHdpbGwgZXhwaXJlLlxuICAgKi9cbiAgZXhwaXJlc19hdD86IG51bWJlcjtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZC4gRm9yIGRldGFpbHMgb24gd2h5IGEgZmluZS10dW5pbmcgdHJhaW5pbmcgZmlsZSBmYWlsZWRcbiAgICogdmFsaWRhdGlvbiwgc2VlIHRoZSBgZXJyb3JgIGZpZWxkIG9uIGBmaW5lX3R1bmluZy5qb2JgLlxuICAgKi9cbiAgc3RhdHVzX2RldGFpbHM/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIGludGVuZGVkIHB1cnBvc2Ugb2YgdGhlIHVwbG9hZGVkIGZpbGUuIE9uZSBvZjogLSBgYXNzaXN0YW50c2A6IFVzZWQgaW4gdGhlXG4gKiBBc3Npc3RhbnRzIEFQSSAtIGBiYXRjaGA6IFVzZWQgaW4gdGhlIEJhdGNoIEFQSSAtIGBmaW5lLXR1bmVgOiBVc2VkIGZvclxuICogZmluZS10dW5pbmcgLSBgdmlzaW9uYDogSW1hZ2VzIHVzZWQgZm9yIHZpc2lvbiBmaW5lLXR1bmluZyAtIGB1c2VyX2RhdGFgOlxuICogRmxleGlibGUgZmlsZSB0eXBlIGZvciBhbnkgcHVycG9zZSAtIGBldmFsc2A6IFVzZWQgZm9yIGV2YWwgZGF0YSBzZXRzXG4gKi9cbmV4cG9ydCB0eXBlIEZpbGVQdXJwb3NlID0gJ2Fzc2lzdGFudHMnIHwgJ2JhdGNoJyB8ICdmaW5lLXR1bmUnIHwgJ3Zpc2lvbicgfCAndXNlcl9kYXRhJyB8ICdldmFscyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgRmlsZSBvYmplY3QgKG5vdCBmaWxlIG5hbWUpIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cbiAgZmlsZTogQ29yZS5VcGxvYWRhYmxlO1xuXG4gIC8qKlxuICAgKiBUaGUgaW50ZW5kZWQgcHVycG9zZSBvZiB0aGUgdXBsb2FkZWQgZmlsZS4gT25lIG9mOiAtIGBhc3Npc3RhbnRzYDogVXNlZCBpbiB0aGVcbiAgICogQXNzaXN0YW50cyBBUEkgLSBgYmF0Y2hgOiBVc2VkIGluIHRoZSBCYXRjaCBBUEkgLSBgZmluZS10dW5lYDogVXNlZCBmb3JcbiAgICogZmluZS10dW5pbmcgLSBgdmlzaW9uYDogSW1hZ2VzIHVzZWQgZm9yIHZpc2lvbiBmaW5lLXR1bmluZyAtIGB1c2VyX2RhdGFgOlxuICAgKiBGbGV4aWJsZSBmaWxlIHR5cGUgZm9yIGFueSBwdXJwb3NlIC0gYGV2YWxzYDogVXNlZCBmb3IgZXZhbCBkYXRhIHNldHNcbiAgICovXG4gIHB1cnBvc2U6IEZpbGVQdXJwb3NlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVMaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBTb3J0IG9yZGVyIGJ5IHRoZSBgY3JlYXRlZF9hdGAgdGltZXN0YW1wIG9mIHRoZSBvYmplY3RzLiBgYXNjYCBmb3IgYXNjZW5kaW5nXG4gICAqIG9yZGVyIGFuZCBgZGVzY2AgZm9yIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAqL1xuICBvcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xuXG4gIC8qKlxuICAgKiBPbmx5IHJldHVybiBmaWxlcyB3aXRoIHRoZSBnaXZlbiBwdXJwb3NlLlxuICAgKi9cbiAgcHVycG9zZT86IHN0cmluZztcbn1cblxuRmlsZXMuRmlsZU9iamVjdHNQYWdlID0gRmlsZU9iamVjdHNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgRmlsZXMge1xuICBleHBvcnQge1xuICAgIHR5cGUgRmlsZUNvbnRlbnQgYXMgRmlsZUNvbnRlbnQsXG4gICAgdHlwZSBGaWxlRGVsZXRlZCBhcyBGaWxlRGVsZXRlZCxcbiAgICB0eXBlIEZpbGVPYmplY3QgYXMgRmlsZU9iamVjdCxcbiAgICB0eXBlIEZpbGVQdXJwb3NlIGFzIEZpbGVQdXJwb3NlLFxuICAgIEZpbGVPYmplY3RzUGFnZSBhcyBGaWxlT2JqZWN0c1BhZ2UsXG4gICAgdHlwZSBGaWxlQ3JlYXRlUGFyYW1zIGFzIEZpbGVDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBGaWxlTGlzdFBhcmFtcyBhcyBGaWxlTGlzdFBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlLCB0eXBlIEN1cnNvclBhZ2VQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi9wYWdpbmF0aW9uJztcblxuZXhwb3J0IGNsYXNzIENoZWNrcG9pbnRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogTGlzdCBjaGVja3BvaW50cyBmb3IgYSBmaW5lLXR1bmluZyBqb2IuXG4gICAqL1xuICBsaXN0KFxuICAgIGZpbmVUdW5pbmdKb2JJZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogQ2hlY2twb2ludExpc3RQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8RmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZSwgRmluZVR1bmluZ0pvYkNoZWNrcG9pbnQ+O1xuICBsaXN0KFxuICAgIGZpbmVUdW5pbmdKb2JJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50PjtcbiAgbGlzdChcbiAgICBmaW5lVHVuaW5nSm9iSWQ6IHN0cmluZyxcbiAgICBxdWVyeTogQ2hlY2twb2ludExpc3RQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8RmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZSwgRmluZVR1bmluZ0pvYkNoZWNrcG9pbnQ+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3QoZmluZVR1bmluZ0pvYklkLCB7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoXG4gICAgICBgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2NoZWNrcG9pbnRzYCxcbiAgICAgIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsXG4gICAgICB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0sXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8RmluZVR1bmluZ0pvYkNoZWNrcG9pbnQ+IHt9XG5cbi8qKlxuICogVGhlIGBmaW5lX3R1bmluZy5qb2IuY2hlY2twb2ludGAgb2JqZWN0IHJlcHJlc2VudHMgYSBtb2RlbCBjaGVja3BvaW50IGZvciBhXG4gKiBmaW5lLXR1bmluZyBqb2IgdGhhdCBpcyByZWFkeSB0byB1c2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmluZVR1bmluZ0pvYkNoZWNrcG9pbnQge1xuICAvKipcbiAgICogVGhlIGNoZWNrcG9pbnQgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gdGhlIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBjaGVja3BvaW50IHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZmluZS10dW5lZCBjaGVja3BvaW50IG1vZGVsIHRoYXQgaXMgY3JlYXRlZC5cbiAgICovXG4gIGZpbmVfdHVuZWRfbW9kZWxfY2hlY2twb2ludDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZmluZS10dW5pbmcgam9iIHRoYXQgdGhpcyBjaGVja3BvaW50IHdhcyBjcmVhdGVkIGZyb20uXG4gICAqL1xuICBmaW5lX3R1bmluZ19qb2JfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogTWV0cmljcyBhdCB0aGUgc3RlcCBudW1iZXIgZHVyaW5nIHRoZSBmaW5lLXR1bmluZyBqb2IuXG4gICAqL1xuICBtZXRyaWNzOiBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludC5NZXRyaWNzO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBcImZpbmVfdHVuaW5nLmpvYi5jaGVja3BvaW50XCIuXG4gICAqL1xuICBvYmplY3Q6ICdmaW5lX3R1bmluZy5qb2IuY2hlY2twb2ludCc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGVwIG51bWJlciB0aGF0IHRoZSBjaGVja3BvaW50IHdhcyBjcmVhdGVkIGF0LlxuICAgKi9cbiAgc3RlcF9udW1iZXI6IG51bWJlcjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludCB7XG4gIC8qKlxuICAgKiBNZXRyaWNzIGF0IHRoZSBzdGVwIG51bWJlciBkdXJpbmcgdGhlIGZpbmUtdHVuaW5nIGpvYi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTWV0cmljcyB7XG4gICAgZnVsbF92YWxpZF9sb3NzPzogbnVtYmVyO1xuXG4gICAgZnVsbF92YWxpZF9tZWFuX3Rva2VuX2FjY3VyYWN5PzogbnVtYmVyO1xuXG4gICAgc3RlcD86IG51bWJlcjtcblxuICAgIHRyYWluX2xvc3M/OiBudW1iZXI7XG5cbiAgICB0cmFpbl9tZWFuX3Rva2VuX2FjY3VyYWN5PzogbnVtYmVyO1xuXG4gICAgdmFsaWRfbG9zcz86IG51bWJlcjtcblxuICAgIHZhbGlkX21lYW5fdG9rZW5fYWNjdXJhY3k/OiBudW1iZXI7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGVja3BvaW50TGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge31cblxuQ2hlY2twb2ludHMuRmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZSA9IEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2U7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBDaGVja3BvaW50cyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludCBhcyBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludCxcbiAgICBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlIGFzIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsXG4gICAgdHlwZSBDaGVja3BvaW50TGlzdFBhcmFtcyBhcyBDaGVja3BvaW50TGlzdFBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDaGVja3BvaW50c0FQSSBmcm9tICcuL2NoZWNrcG9pbnRzJztcbmltcG9ydCB7XG4gIENoZWNrcG9pbnRMaXN0UGFyYW1zLFxuICBDaGVja3BvaW50cyxcbiAgRmluZVR1bmluZ0pvYkNoZWNrcG9pbnQsXG4gIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsXG59IGZyb20gJy4vY2hlY2twb2ludHMnO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vcGFnaW5hdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBKb2JzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBjaGVja3BvaW50czogQ2hlY2twb2ludHNBUEkuQ2hlY2twb2ludHMgPSBuZXcgQ2hlY2twb2ludHNBUEkuQ2hlY2twb2ludHModGhpcy5fY2xpZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGZpbmUtdHVuaW5nIGpvYiB3aGljaCBiZWdpbnMgdGhlIHByb2Nlc3Mgb2YgY3JlYXRpbmcgYSBuZXcgbW9kZWwgZnJvbVxuICAgKiBhIGdpdmVuIGRhdGFzZXQuXG4gICAqXG4gICAqIFJlc3BvbnNlIGluY2x1ZGVzIGRldGFpbHMgb2YgdGhlIGVucXVldWVkIGpvYiBpbmNsdWRpbmcgam9iIHN0YXR1cyBhbmQgdGhlIG5hbWVcbiAgICogb2YgdGhlIGZpbmUtdHVuZWQgbW9kZWxzIG9uY2UgY29tcGxldGUuXG4gICAqXG4gICAqIFtMZWFybiBtb3JlIGFib3V0IGZpbmUtdHVuaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZmluZS10dW5pbmcpXG4gICAqL1xuICBjcmVhdGUoYm9keTogSm9iQ3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxGaW5lVHVuaW5nSm9iPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvZmluZV90dW5pbmcvam9icycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaW5mbyBhYm91dCBhIGZpbmUtdHVuaW5nIGpvYi5cbiAgICpcbiAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICovXG4gIHJldHJpZXZlKGZpbmVUdW5pbmdKb2JJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxGaW5lVHVuaW5nSm9iPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklkfWAsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3QgeW91ciBvcmdhbml6YXRpb24ncyBmaW5lLXR1bmluZyBqb2JzXG4gICAqL1xuICBsaXN0KFxuICAgIHF1ZXJ5PzogSm9iTGlzdFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxGaW5lVHVuaW5nSm9ic1BhZ2UsIEZpbmVUdW5pbmdKb2I+O1xuICBsaXN0KG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxGaW5lVHVuaW5nSm9ic1BhZ2UsIEZpbmVUdW5pbmdKb2I+O1xuICBsaXN0KFxuICAgIHF1ZXJ5OiBKb2JMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbmVUdW5pbmdKb2JzUGFnZSwgRmluZVR1bmluZ0pvYj4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9maW5lX3R1bmluZy9qb2JzJywgRmluZVR1bmluZ0pvYnNQYWdlLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEltbWVkaWF0ZWx5IGNhbmNlbCBhIGZpbmUtdHVuZSBqb2IuXG4gICAqL1xuICBjYW5jZWwoZmluZVR1bmluZ0pvYklkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPEZpbmVUdW5pbmdKb2I+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklkfS9jYW5jZWxgLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc3RhdHVzIHVwZGF0ZXMgZm9yIGEgZmluZS10dW5pbmcgam9iLlxuICAgKi9cbiAgbGlzdEV2ZW50cyhcbiAgICBmaW5lVHVuaW5nSm9iSWQ6IHN0cmluZyxcbiAgICBxdWVyeT86IEpvYkxpc3RFdmVudHNQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8RmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UsIEZpbmVUdW5pbmdKb2JFdmVudD47XG4gIGxpc3RFdmVudHMoXG4gICAgZmluZVR1bmluZ0pvYklkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8RmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UsIEZpbmVUdW5pbmdKb2JFdmVudD47XG4gIGxpc3RFdmVudHMoXG4gICAgZmluZVR1bmluZ0pvYklkOiBzdHJpbmcsXG4gICAgcXVlcnk6IEpvYkxpc3RFdmVudHNQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8RmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UsIEZpbmVUdW5pbmdKb2JFdmVudD4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdEV2ZW50cyhmaW5lVHVuaW5nSm9iSWQsIHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2V2ZW50c2AsIEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlLCB7XG4gICAgICBxdWVyeSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbmVUdW5pbmdKb2JzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8RmluZVR1bmluZ0pvYj4ge31cblxuZXhwb3J0IGNsYXNzIEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxGaW5lVHVuaW5nSm9iRXZlbnQ+IHt9XG5cbi8qKlxuICogVGhlIGBmaW5lX3R1bmluZy5qb2JgIG9iamVjdCByZXByZXNlbnRzIGEgZmluZS10dW5pbmcgam9iIHRoYXQgaGFzIGJlZW4gY3JlYXRlZFxuICogdGhyb3VnaCB0aGUgQVBJLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbmVUdW5pbmdKb2Ige1xuICAvKipcbiAgICogVGhlIG9iamVjdCBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiB0aGUgQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGZpbmUtdHVuaW5nIGpvYiB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogRm9yIGZpbmUtdHVuaW5nIGpvYnMgdGhhdCBoYXZlIGBmYWlsZWRgLCB0aGlzIHdpbGwgY29udGFpbiBtb3JlIGluZm9ybWF0aW9uIG9uXG4gICAqIHRoZSBjYXVzZSBvZiB0aGUgZmFpbHVyZS5cbiAgICovXG4gIGVycm9yOiBGaW5lVHVuaW5nSm9iLkVycm9yIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZpbmUtdHVuZWQgbW9kZWwgdGhhdCBpcyBiZWluZyBjcmVhdGVkLiBUaGUgdmFsdWUgd2lsbCBiZSBudWxsXG4gICAqIGlmIHRoZSBmaW5lLXR1bmluZyBqb2IgaXMgc3RpbGwgcnVubmluZy5cbiAgICovXG4gIGZpbmVfdHVuZWRfbW9kZWw6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGZpbmUtdHVuaW5nIGpvYiB3YXMgZmluaXNoZWQuIFRoZVxuICAgKiB2YWx1ZSB3aWxsIGJlIG51bGwgaWYgdGhlIGZpbmUtdHVuaW5nIGpvYiBpcyBzdGlsbCBydW5uaW5nLlxuICAgKi9cbiAgZmluaXNoZWRfYXQ6IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBoeXBlcnBhcmFtZXRlcnMgdXNlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi4gVGhpcyB2YWx1ZSB3aWxsIG9ubHkgYmVcbiAgICogcmV0dXJuZWQgd2hlbiBydW5uaW5nIGBzdXBlcnZpc2VkYCBqb2JzLlxuICAgKi9cbiAgaHlwZXJwYXJhbWV0ZXJzOiBGaW5lVHVuaW5nSm9iLkh5cGVycGFyYW1ldGVycztcblxuICAvKipcbiAgICogVGhlIGJhc2UgbW9kZWwgdGhhdCBpcyBiZWluZyBmaW5lLXR1bmVkLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgXCJmaW5lX3R1bmluZy5qb2JcIi5cbiAgICovXG4gIG9iamVjdDogJ2ZpbmVfdHVuaW5nLmpvYic7XG5cbiAgLyoqXG4gICAqIFRoZSBvcmdhbml6YXRpb24gdGhhdCBvd25zIHRoZSBmaW5lLXR1bmluZyBqb2IuXG4gICAqL1xuICBvcmdhbml6YXRpb25faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNvbXBpbGVkIHJlc3VsdHMgZmlsZSBJRChzKSBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi4gWW91IGNhbiByZXRyaWV2ZSB0aGVcbiAgICogcmVzdWx0cyB3aXRoIHRoZVxuICAgKiBbRmlsZXMgQVBJXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL3JldHJpZXZlLWNvbnRlbnRzKS5cbiAgICovXG4gIHJlc3VsdF9maWxlczogQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogVGhlIHNlZWQgdXNlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi5cbiAgICovXG4gIHNlZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBmaW5lLXR1bmluZyBqb2IsIHdoaWNoIGNhbiBiZSBlaXRoZXJcbiAgICogYHZhbGlkYXRpbmdfZmlsZXNgLCBgcXVldWVkYCwgYHJ1bm5pbmdgLCBgc3VjY2VlZGVkYCwgYGZhaWxlZGAsIG9yIGBjYW5jZWxsZWRgLlxuICAgKi9cbiAgc3RhdHVzOiAndmFsaWRhdGluZ19maWxlcycgfCAncXVldWVkJyB8ICdydW5uaW5nJyB8ICdzdWNjZWVkZWQnIHwgJ2ZhaWxlZCcgfCAnY2FuY2VsbGVkJztcblxuICAvKipcbiAgICogVGhlIHRvdGFsIG51bWJlciBvZiBiaWxsYWJsZSB0b2tlbnMgcHJvY2Vzc2VkIGJ5IHRoaXMgZmluZS10dW5pbmcgam9iLiBUaGUgdmFsdWVcbiAgICogd2lsbCBiZSBudWxsIGlmIHRoZSBmaW5lLXR1bmluZyBqb2IgaXMgc3RpbGwgcnVubmluZy5cbiAgICovXG4gIHRyYWluZWRfdG9rZW5zOiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgZmlsZSBJRCB1c2VkIGZvciB0cmFpbmluZy4gWW91IGNhbiByZXRyaWV2ZSB0aGUgdHJhaW5pbmcgZGF0YSB3aXRoIHRoZVxuICAgKiBbRmlsZXMgQVBJXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL3JldHJpZXZlLWNvbnRlbnRzKS5cbiAgICovXG4gIHRyYWluaW5nX2ZpbGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGZpbGUgSUQgdXNlZCBmb3IgdmFsaWRhdGlvbi4gWW91IGNhbiByZXRyaWV2ZSB0aGUgdmFsaWRhdGlvbiByZXN1bHRzIHdpdGhcbiAgICogdGhlXG4gICAqIFtGaWxlcyBBUEldKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvcmV0cmlldmUtY29udGVudHMpLlxuICAgKi9cbiAgdmFsaWRhdGlvbl9maWxlOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBmaW5lLXR1bmluZyBqb2IgaXMgZXN0aW1hdGVkIHRvXG4gICAqIGZpbmlzaC4gVGhlIHZhbHVlIHdpbGwgYmUgbnVsbCBpZiB0aGUgZmluZS10dW5pbmcgam9iIGlzIG5vdCBydW5uaW5nLlxuICAgKi9cbiAgZXN0aW1hdGVkX2ZpbmlzaD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBpbnRlZ3JhdGlvbnMgdG8gZW5hYmxlIGZvciB0aGlzIGZpbmUtdHVuaW5nIGpvYi5cbiAgICovXG4gIGludGVncmF0aW9ucz86IEFycmF5PEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uT2JqZWN0PiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtZXRob2QgdXNlZCBmb3IgZmluZS10dW5pbmcuXG4gICAqL1xuICBtZXRob2Q/OiBGaW5lVHVuaW5nSm9iLk1ldGhvZDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaW5lVHVuaW5nSm9iIHtcbiAgLyoqXG4gICAqIEZvciBmaW5lLXR1bmluZyBqb2JzIHRoYXQgaGF2ZSBgZmFpbGVkYCwgdGhpcyB3aWxsIGNvbnRhaW4gbW9yZSBpbmZvcm1hdGlvbiBvblxuICAgKiB0aGUgY2F1c2Ugb2YgdGhlIGZhaWx1cmUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBBIG1hY2hpbmUtcmVhZGFibGUgZXJyb3IgY29kZS5cbiAgICAgKi9cbiAgICBjb2RlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIGVycm9yIG1lc3NhZ2UuXG4gICAgICovXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBhcmFtZXRlciB0aGF0IHdhcyBpbnZhbGlkLCB1c3VhbGx5IGB0cmFpbmluZ19maWxlYCBvciBgdmFsaWRhdGlvbl9maWxlYC5cbiAgICAgKiBUaGlzIGZpZWxkIHdpbGwgYmUgbnVsbCBpZiB0aGUgZmFpbHVyZSB3YXMgbm90IHBhcmFtZXRlci1zcGVjaWZpYy5cbiAgICAgKi9cbiAgICBwYXJhbTogc3RyaW5nIHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaHlwZXJwYXJhbWV0ZXJzIHVzZWQgZm9yIHRoZSBmaW5lLXR1bmluZyBqb2IuIFRoaXMgdmFsdWUgd2lsbCBvbmx5IGJlXG4gICAqIHJldHVybmVkIHdoZW4gcnVubmluZyBgc3VwZXJ2aXNlZGAgam9icy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgSHlwZXJwYXJhbWV0ZXJzIHtcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgZXhhbXBsZXMgaW4gZWFjaCBiYXRjaC4gQSBsYXJnZXIgYmF0Y2ggc2l6ZSBtZWFucyB0aGF0IG1vZGVsXG4gICAgICogcGFyYW1ldGVycyBhcmUgdXBkYXRlZCBsZXNzIGZyZXF1ZW50bHksIGJ1dCB3aXRoIGxvd2VyIHZhcmlhbmNlLlxuICAgICAqL1xuICAgIGJhdGNoX3NpemU/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBTY2FsaW5nIGZhY3RvciBmb3IgdGhlIGxlYXJuaW5nIHJhdGUuIEEgc21hbGxlciBsZWFybmluZyByYXRlIG1heSBiZSB1c2VmdWwgdG9cbiAgICAgKiBhdm9pZCBvdmVyZml0dGluZy5cbiAgICAgKi9cbiAgICBsZWFybmluZ19yYXRlX211bHRpcGxpZXI/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGVwb2NocyB0byB0cmFpbiB0aGUgbW9kZWwgZm9yLiBBbiBlcG9jaCByZWZlcnMgdG8gb25lIGZ1bGwgY3ljbGVcbiAgICAgKiB0aHJvdWdoIHRoZSB0cmFpbmluZyBkYXRhc2V0LlxuICAgICAqL1xuICAgIG5fZXBvY2hzPzogJ2F1dG8nIHwgbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBtZXRob2QgdXNlZCBmb3IgZmluZS10dW5pbmcuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIE1ldGhvZCB7XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBmb3IgdGhlIERQTyBmaW5lLXR1bmluZyBtZXRob2QuXG4gICAgICovXG4gICAgZHBvPzogTWV0aG9kLkRwbztcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBzdXBlcnZpc2VkIGZpbmUtdHVuaW5nIG1ldGhvZC5cbiAgICAgKi9cbiAgICBzdXBlcnZpc2VkPzogTWV0aG9kLlN1cGVydmlzZWQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBtZXRob2QuIElzIGVpdGhlciBgc3VwZXJ2aXNlZGAgb3IgYGRwb2AuXG4gICAgICovXG4gICAgdHlwZT86ICdzdXBlcnZpc2VkJyB8ICdkcG8nO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBNZXRob2Qge1xuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBEUE8gZmluZS10dW5pbmcgbWV0aG9kLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgRHBvIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgICAgICovXG4gICAgICBoeXBlcnBhcmFtZXRlcnM/OiBEcG8uSHlwZXJwYXJhbWV0ZXJzO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgRHBvIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgICAgICovXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEh5cGVycGFyYW1ldGVycyB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgZXhhbXBsZXMgaW4gZWFjaCBiYXRjaC4gQSBsYXJnZXIgYmF0Y2ggc2l6ZSBtZWFucyB0aGF0IG1vZGVsXG4gICAgICAgICAqIHBhcmFtZXRlcnMgYXJlIHVwZGF0ZWQgbGVzcyBmcmVxdWVudGx5LCBidXQgd2l0aCBsb3dlciB2YXJpYW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIGJhdGNoX3NpemU/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiZXRhIHZhbHVlIGZvciB0aGUgRFBPIG1ldGhvZC4gQSBoaWdoZXIgYmV0YSB2YWx1ZSB3aWxsIGluY3JlYXNlIHRoZSB3ZWlnaHRcbiAgICAgICAgICogb2YgdGhlIHBlbmFsdHkgYmV0d2VlbiB0aGUgcG9saWN5IGFuZCByZWZlcmVuY2UgbW9kZWwuXG4gICAgICAgICAqL1xuICAgICAgICBiZXRhPzogJ2F1dG8nIHwgbnVtYmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsaW5nIGZhY3RvciBmb3IgdGhlIGxlYXJuaW5nIHJhdGUuIEEgc21hbGxlciBsZWFybmluZyByYXRlIG1heSBiZSB1c2VmdWwgdG9cbiAgICAgICAgICogYXZvaWQgb3ZlcmZpdHRpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBsZWFybmluZ19yYXRlX211bHRpcGxpZXI/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgZXBvY2hzIHRvIHRyYWluIHRoZSBtb2RlbCBmb3IuIEFuIGVwb2NoIHJlZmVycyB0byBvbmUgZnVsbCBjeWNsZVxuICAgICAgICAgKiB0aHJvdWdoIHRoZSB0cmFpbmluZyBkYXRhc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgbl9lcG9jaHM/OiAnYXV0bycgfCBudW1iZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBmb3IgdGhlIHN1cGVydmlzZWQgZmluZS10dW5pbmcgbWV0aG9kLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgU3VwZXJ2aXNlZCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBoeXBlcnBhcmFtZXRlcnMgdXNlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi5cbiAgICAgICAqL1xuICAgICAgaHlwZXJwYXJhbWV0ZXJzPzogU3VwZXJ2aXNlZC5IeXBlcnBhcmFtZXRlcnM7XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBTdXBlcnZpc2VkIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgICAgICovXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEh5cGVycGFyYW1ldGVycyB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgZXhhbXBsZXMgaW4gZWFjaCBiYXRjaC4gQSBsYXJnZXIgYmF0Y2ggc2l6ZSBtZWFucyB0aGF0IG1vZGVsXG4gICAgICAgICAqIHBhcmFtZXRlcnMgYXJlIHVwZGF0ZWQgbGVzcyBmcmVxdWVudGx5LCBidXQgd2l0aCBsb3dlciB2YXJpYW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIGJhdGNoX3NpemU/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxpbmcgZmFjdG9yIGZvciB0aGUgbGVhcm5pbmcgcmF0ZS4gQSBzbWFsbGVyIGxlYXJuaW5nIHJhdGUgbWF5IGJlIHVzZWZ1bCB0b1xuICAgICAgICAgKiBhdm9pZCBvdmVyZml0dGluZy5cbiAgICAgICAgICovXG4gICAgICAgIGxlYXJuaW5nX3JhdGVfbXVsdGlwbGllcj86ICdhdXRvJyB8IG51bWJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBlcG9jaHMgdG8gdHJhaW4gdGhlIG1vZGVsIGZvci4gQW4gZXBvY2ggcmVmZXJzIHRvIG9uZSBmdWxsIGN5Y2xlXG4gICAgICAgICAqIHRocm91Z2ggdGhlIHRyYWluaW5nIGRhdGFzZXQuXG4gICAgICAgICAqL1xuICAgICAgICBuX2Vwb2Nocz86ICdhdXRvJyB8IG51bWJlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5lLXR1bmluZyBqb2IgZXZlbnQgb2JqZWN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmluZVR1bmluZ0pvYkV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgaWRlbnRpZmllci5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGZpbmUtdHVuaW5nIGpvYiB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGxvZyBsZXZlbCBvZiB0aGUgZXZlbnQuXG4gICAqL1xuICBsZXZlbDogJ2luZm8nIHwgJ3dhcm4nIHwgJ2Vycm9yJztcblxuICAvKipcbiAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGV2ZW50LlxuICAgKi9cbiAgbWVzc2FnZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBcImZpbmVfdHVuaW5nLmpvYi5ldmVudFwiLlxuICAgKi9cbiAgb2JqZWN0OiAnZmluZV90dW5pbmcuam9iLmV2ZW50JztcblxuICAvKipcbiAgICogVGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBldmVudC5cbiAgICovXG4gIGRhdGE/OiB1bmtub3duO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudC5cbiAgICovXG4gIHR5cGU/OiAnbWVzc2FnZScgfCAnbWV0cmljcyc7XG59XG5cbmV4cG9ydCB0eXBlIEZpbmVUdW5pbmdKb2JJbnRlZ3JhdGlvbiA9IEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uT2JqZWN0O1xuXG4vKipcbiAqIFRoZSBzZXR0aW5ncyBmb3IgeW91ciBpbnRlZ3JhdGlvbiB3aXRoIFdlaWdodHMgYW5kIEJpYXNlcy4gVGhpcyBwYXlsb2FkXG4gKiBzcGVjaWZpZXMgdGhlIHByb2plY3QgdGhhdCBtZXRyaWNzIHdpbGwgYmUgc2VudCB0by4gT3B0aW9uYWxseSwgeW91IGNhbiBzZXQgYW5cbiAqIGV4cGxpY2l0IGRpc3BsYXkgbmFtZSBmb3IgeW91ciBydW4sIGFkZCB0YWdzIHRvIHlvdXIgcnVuLCBhbmQgc2V0IGEgZGVmYXVsdFxuICogZW50aXR5ICh0ZWFtLCB1c2VybmFtZSwgZXRjKSB0byBiZSBhc3NvY2lhdGVkIHdpdGggeW91ciBydW4uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmluZVR1bmluZ0pvYldhbmRiSW50ZWdyYXRpb24ge1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIHByb2plY3QgdGhhdCB0aGUgbmV3IHJ1biB3aWxsIGJlIGNyZWF0ZWQgdW5kZXIuXG4gICAqL1xuICBwcm9qZWN0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBlbnRpdHkgdG8gdXNlIGZvciB0aGUgcnVuLiBUaGlzIGFsbG93cyB5b3UgdG8gc2V0IHRoZSB0ZWFtIG9yIHVzZXJuYW1lIG9mXG4gICAqIHRoZSBXYW5kQiB1c2VyIHRoYXQgeW91IHdvdWxkIGxpa2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBydW4uIElmIG5vdCBzZXQsIHRoZVxuICAgKiBkZWZhdWx0IGVudGl0eSBmb3IgdGhlIHJlZ2lzdGVyZWQgV2FuZEIgQVBJIGtleSBpcyB1c2VkLlxuICAgKi9cbiAgZW50aXR5Pzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogQSBkaXNwbGF5IG5hbWUgdG8gc2V0IGZvciB0aGUgcnVuLiBJZiBub3Qgc2V0LCB3ZSB3aWxsIHVzZSB0aGUgSm9iIElEIGFzIHRoZVxuICAgKiBuYW1lLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0YWdzIHRvIGJlIGF0dGFjaGVkIHRvIHRoZSBuZXdseSBjcmVhdGVkIHJ1bi4gVGhlc2UgdGFncyBhcmUgcGFzc2VkXG4gICAqIHRocm91Z2ggZGlyZWN0bHkgdG8gV2FuZEIuIFNvbWUgZGVmYXVsdCB0YWdzIGFyZSBnZW5lcmF0ZWQgYnkgT3BlbkFJOlxuICAgKiBcIm9wZW5haS9maW5ldHVuZVwiLCBcIm9wZW5haS97YmFzZS1tb2RlbH1cIiwgXCJvcGVuYWkve2Z0am9iLWFiY2RlZn1cIi5cbiAgICovXG4gIHRhZ3M/OiBBcnJheTxzdHJpbmc+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uT2JqZWN0IHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBpbnRlZ3JhdGlvbiBiZWluZyBlbmFibGVkIGZvciB0aGUgZmluZS10dW5pbmcgam9iXG4gICAqL1xuICB0eXBlOiAnd2FuZGInO1xuXG4gIC8qKlxuICAgKiBUaGUgc2V0dGluZ3MgZm9yIHlvdXIgaW50ZWdyYXRpb24gd2l0aCBXZWlnaHRzIGFuZCBCaWFzZXMuIFRoaXMgcGF5bG9hZFxuICAgKiBzcGVjaWZpZXMgdGhlIHByb2plY3QgdGhhdCBtZXRyaWNzIHdpbGwgYmUgc2VudCB0by4gT3B0aW9uYWxseSwgeW91IGNhbiBzZXQgYW5cbiAgICogZXhwbGljaXQgZGlzcGxheSBuYW1lIGZvciB5b3VyIHJ1biwgYWRkIHRhZ3MgdG8geW91ciBydW4sIGFuZCBzZXQgYSBkZWZhdWx0XG4gICAqIGVudGl0eSAodGVhbSwgdXNlcm5hbWUsIGV0YykgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIHlvdXIgcnVuLlxuICAgKi9cbiAgd2FuZGI6IEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEpvYkNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgdG8gZmluZS10dW5lLiBZb3UgY2FuIHNlbGVjdCBvbmUgb2YgdGhlXG4gICAqIFtzdXBwb3J0ZWQgbW9kZWxzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZmluZS10dW5pbmcjd2hpY2gtbW9kZWxzLWNhbi1iZS1maW5lLXR1bmVkKS5cbiAgICovXG4gIG1vZGVsOiAoc3RyaW5nICYge30pIHwgJ2JhYmJhZ2UtMDAyJyB8ICdkYXZpbmNpLTAwMicgfCAnZ3B0LTMuNS10dXJibycgfCAnZ3B0LTRvLW1pbmknO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgYW4gdXBsb2FkZWQgZmlsZSB0aGF0IGNvbnRhaW5zIHRyYWluaW5nIGRhdGEuXG4gICAqXG4gICAqIFNlZSBbdXBsb2FkIGZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvY3JlYXRlKVxuICAgKiBmb3IgaG93IHRvIHVwbG9hZCBhIGZpbGUuXG4gICAqXG4gICAqIFlvdXIgZGF0YXNldCBtdXN0IGJlIGZvcm1hdHRlZCBhcyBhIEpTT05MIGZpbGUuIEFkZGl0aW9uYWxseSwgeW91IG11c3QgdXBsb2FkXG4gICAqIHlvdXIgZmlsZSB3aXRoIHRoZSBwdXJwb3NlIGBmaW5lLXR1bmVgLlxuICAgKlxuICAgKiBUaGUgY29udGVudHMgb2YgdGhlIGZpbGUgc2hvdWxkIGRpZmZlciBkZXBlbmRpbmcgb24gaWYgdGhlIG1vZGVsIHVzZXMgdGhlXG4gICAqIFtjaGF0XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbmUtdHVuaW5nL2NoYXQtaW5wdXQpLFxuICAgKiBbY29tcGxldGlvbnNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcvY29tcGxldGlvbnMtaW5wdXQpXG4gICAqIGZvcm1hdCwgb3IgaWYgdGhlIGZpbmUtdHVuaW5nIG1ldGhvZCB1c2VzIHRoZVxuICAgKiBbcHJlZmVyZW5jZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maW5lLXR1bmluZy9wcmVmZXJlbmNlLWlucHV0KVxuICAgKiBmb3JtYXQuXG4gICAqXG4gICAqIFNlZSB0aGUgW2ZpbmUtdHVuaW5nIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZmluZS10dW5pbmcpXG4gICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICB0cmFpbmluZ19maWxlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBoeXBlcnBhcmFtZXRlcnMgdXNlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi4gVGhpcyB2YWx1ZSBpcyBub3cgZGVwcmVjYXRlZFxuICAgKiBpbiBmYXZvciBvZiBgbWV0aG9kYCwgYW5kIHNob3VsZCBiZSBwYXNzZWQgaW4gdW5kZXIgdGhlIGBtZXRob2RgIHBhcmFtZXRlci5cbiAgICovXG4gIGh5cGVycGFyYW1ldGVycz86IEpvYkNyZWF0ZVBhcmFtcy5IeXBlcnBhcmFtZXRlcnM7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBpbnRlZ3JhdGlvbnMgdG8gZW5hYmxlIGZvciB5b3VyIGZpbmUtdHVuaW5nIGpvYi5cbiAgICovXG4gIGludGVncmF0aW9ucz86IEFycmF5PEpvYkNyZWF0ZVBhcmFtcy5JbnRlZ3JhdGlvbj4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWV0aG9kIHVzZWQgZm9yIGZpbmUtdHVuaW5nLlxuICAgKi9cbiAgbWV0aG9kPzogSm9iQ3JlYXRlUGFyYW1zLk1ldGhvZDtcblxuICAvKipcbiAgICogVGhlIHNlZWQgY29udHJvbHMgdGhlIHJlcHJvZHVjaWJpbGl0eSBvZiB0aGUgam9iLiBQYXNzaW5nIGluIHRoZSBzYW1lIHNlZWQgYW5kXG4gICAqIGpvYiBwYXJhbWV0ZXJzIHNob3VsZCBwcm9kdWNlIHRoZSBzYW1lIHJlc3VsdHMsIGJ1dCBtYXkgZGlmZmVyIGluIHJhcmUgY2FzZXMuIElmXG4gICAqIGEgc2VlZCBpcyBub3Qgc3BlY2lmaWVkLCBvbmUgd2lsbCBiZSBnZW5lcmF0ZWQgZm9yIHlvdS5cbiAgICovXG4gIHNlZWQ/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHN0cmluZyBvZiB1cCB0byA2NCBjaGFyYWN0ZXJzIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB5b3VyIGZpbmUtdHVuZWQgbW9kZWxcbiAgICogbmFtZS5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIGEgYHN1ZmZpeGAgb2YgXCJjdXN0b20tbW9kZWwtbmFtZVwiIHdvdWxkIHByb2R1Y2UgYSBtb2RlbCBuYW1lIGxpa2VcbiAgICogYGZ0OmdwdC00by1taW5pOm9wZW5haTpjdXN0b20tbW9kZWwtbmFtZTo3cDRsVVJlbGAuXG4gICAqL1xuICBzdWZmaXg/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgYW4gdXBsb2FkZWQgZmlsZSB0aGF0IGNvbnRhaW5zIHZhbGlkYXRpb24gZGF0YS5cbiAgICpcbiAgICogSWYgeW91IHByb3ZpZGUgdGhpcyBmaWxlLCB0aGUgZGF0YSBpcyB1c2VkIHRvIGdlbmVyYXRlIHZhbGlkYXRpb24gbWV0cmljc1xuICAgKiBwZXJpb2RpY2FsbHkgZHVyaW5nIGZpbmUtdHVuaW5nLiBUaGVzZSBtZXRyaWNzIGNhbiBiZSB2aWV3ZWQgaW4gdGhlIGZpbmUtdHVuaW5nXG4gICAqIHJlc3VsdHMgZmlsZS4gVGhlIHNhbWUgZGF0YSBzaG91bGQgbm90IGJlIHByZXNlbnQgaW4gYm90aCB0cmFpbiBhbmQgdmFsaWRhdGlvblxuICAgKiBmaWxlcy5cbiAgICpcbiAgICogWW91ciBkYXRhc2V0IG11c3QgYmUgZm9ybWF0dGVkIGFzIGEgSlNPTkwgZmlsZS4gWW91IG11c3QgdXBsb2FkIHlvdXIgZmlsZSB3aXRoXG4gICAqIHRoZSBwdXJwb3NlIGBmaW5lLXR1bmVgLlxuICAgKlxuICAgKiBTZWUgdGhlIFtmaW5lLXR1bmluZyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgdmFsaWRhdGlvbl9maWxlPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBKb2JDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLiBUaGlzIHZhbHVlIGlzIG5vd1xuICAgKiBkZXByZWNhdGVkIGluIGZhdm9yIG9mIGBtZXRob2RgLCBhbmQgc2hvdWxkIGJlIHBhc3NlZCBpbiB1bmRlciB0aGUgYG1ldGhvZGBcbiAgICogcGFyYW1ldGVyLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBIeXBlcnBhcmFtZXRlcnMge1xuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBleGFtcGxlcyBpbiBlYWNoIGJhdGNoLiBBIGxhcmdlciBiYXRjaCBzaXplIG1lYW5zIHRoYXQgbW9kZWxcbiAgICAgKiBwYXJhbWV0ZXJzIGFyZSB1cGRhdGVkIGxlc3MgZnJlcXVlbnRseSwgYnV0IHdpdGggbG93ZXIgdmFyaWFuY2UuXG4gICAgICovXG4gICAgYmF0Y2hfc2l6ZT86ICdhdXRvJyB8IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFNjYWxpbmcgZmFjdG9yIGZvciB0aGUgbGVhcm5pbmcgcmF0ZS4gQSBzbWFsbGVyIGxlYXJuaW5nIHJhdGUgbWF5IGJlIHVzZWZ1bCB0b1xuICAgICAqIGF2b2lkIG92ZXJmaXR0aW5nLlxuICAgICAqL1xuICAgIGxlYXJuaW5nX3JhdGVfbXVsdGlwbGllcj86ICdhdXRvJyB8IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZXBvY2hzIHRvIHRyYWluIHRoZSBtb2RlbCBmb3IuIEFuIGVwb2NoIHJlZmVycyB0byBvbmUgZnVsbCBjeWNsZVxuICAgICAqIHRocm91Z2ggdGhlIHRyYWluaW5nIGRhdGFzZXQuXG4gICAgICovXG4gICAgbl9lcG9jaHM/OiAnYXV0bycgfCBudW1iZXI7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEludGVncmF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBpbnRlZ3JhdGlvbiB0byBlbmFibGUuIEN1cnJlbnRseSwgb25seSBcIndhbmRiXCIgKFdlaWdodHMgYW5kIEJpYXNlcylcbiAgICAgKiBpcyBzdXBwb3J0ZWQuXG4gICAgICovXG4gICAgdHlwZTogJ3dhbmRiJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBzZXR0aW5ncyBmb3IgeW91ciBpbnRlZ3JhdGlvbiB3aXRoIFdlaWdodHMgYW5kIEJpYXNlcy4gVGhpcyBwYXlsb2FkXG4gICAgICogc3BlY2lmaWVzIHRoZSBwcm9qZWN0IHRoYXQgbWV0cmljcyB3aWxsIGJlIHNlbnQgdG8uIE9wdGlvbmFsbHksIHlvdSBjYW4gc2V0IGFuXG4gICAgICogZXhwbGljaXQgZGlzcGxheSBuYW1lIGZvciB5b3VyIHJ1biwgYWRkIHRhZ3MgdG8geW91ciBydW4sIGFuZCBzZXQgYSBkZWZhdWx0XG4gICAgICogZW50aXR5ICh0ZWFtLCB1c2VybmFtZSwgZXRjKSB0byBiZSBhc3NvY2lhdGVkIHdpdGggeW91ciBydW4uXG4gICAgICovXG4gICAgd2FuZGI6IEludGVncmF0aW9uLldhbmRiO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBJbnRlZ3JhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIHNldHRpbmdzIGZvciB5b3VyIGludGVncmF0aW9uIHdpdGggV2VpZ2h0cyBhbmQgQmlhc2VzLiBUaGlzIHBheWxvYWRcbiAgICAgKiBzcGVjaWZpZXMgdGhlIHByb2plY3QgdGhhdCBtZXRyaWNzIHdpbGwgYmUgc2VudCB0by4gT3B0aW9uYWxseSwgeW91IGNhbiBzZXQgYW5cbiAgICAgKiBleHBsaWNpdCBkaXNwbGF5IG5hbWUgZm9yIHlvdXIgcnVuLCBhZGQgdGFncyB0byB5b3VyIHJ1biwgYW5kIHNldCBhIGRlZmF1bHRcbiAgICAgKiBlbnRpdHkgKHRlYW0sIHVzZXJuYW1lLCBldGMpIHRvIGJlIGFzc29jaWF0ZWQgd2l0aCB5b3VyIHJ1bi5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIFdhbmRiIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG5hbWUgb2YgdGhlIHByb2plY3QgdGhhdCB0aGUgbmV3IHJ1biB3aWxsIGJlIGNyZWF0ZWQgdW5kZXIuXG4gICAgICAgKi9cbiAgICAgIHByb2plY3Q6IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgZW50aXR5IHRvIHVzZSBmb3IgdGhlIHJ1bi4gVGhpcyBhbGxvd3MgeW91IHRvIHNldCB0aGUgdGVhbSBvciB1c2VybmFtZSBvZlxuICAgICAgICogdGhlIFdhbmRCIHVzZXIgdGhhdCB5b3Ugd291bGQgbGlrZSBhc3NvY2lhdGVkIHdpdGggdGhlIHJ1bi4gSWYgbm90IHNldCwgdGhlXG4gICAgICAgKiBkZWZhdWx0IGVudGl0eSBmb3IgdGhlIHJlZ2lzdGVyZWQgV2FuZEIgQVBJIGtleSBpcyB1c2VkLlxuICAgICAgICovXG4gICAgICBlbnRpdHk/OiBzdHJpbmcgfCBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIEEgZGlzcGxheSBuYW1lIHRvIHNldCBmb3IgdGhlIHJ1bi4gSWYgbm90IHNldCwgd2Ugd2lsbCB1c2UgdGhlIEpvYiBJRCBhcyB0aGVcbiAgICAgICAqIG5hbWUuXG4gICAgICAgKi9cbiAgICAgIG5hbWU/OiBzdHJpbmcgfCBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiB0YWdzIHRvIGJlIGF0dGFjaGVkIHRvIHRoZSBuZXdseSBjcmVhdGVkIHJ1bi4gVGhlc2UgdGFncyBhcmUgcGFzc2VkXG4gICAgICAgKiB0aHJvdWdoIGRpcmVjdGx5IHRvIFdhbmRCLiBTb21lIGRlZmF1bHQgdGFncyBhcmUgZ2VuZXJhdGVkIGJ5IE9wZW5BSTpcbiAgICAgICAqIFwib3BlbmFpL2ZpbmV0dW5lXCIsIFwib3BlbmFpL3tiYXNlLW1vZGVsfVwiLCBcIm9wZW5haS97ZnRqb2ItYWJjZGVmfVwiLlxuICAgICAgICovXG4gICAgICB0YWdzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIG1ldGhvZCB1c2VkIGZvciBmaW5lLXR1bmluZy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTWV0aG9kIHtcbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGZvciB0aGUgRFBPIGZpbmUtdHVuaW5nIG1ldGhvZC5cbiAgICAgKi9cbiAgICBkcG8/OiBNZXRob2QuRHBvO1xuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBmb3IgdGhlIHN1cGVydmlzZWQgZmluZS10dW5pbmcgbWV0aG9kLlxuICAgICAqL1xuICAgIHN1cGVydmlzZWQ/OiBNZXRob2QuU3VwZXJ2aXNlZDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIG1ldGhvZC4gSXMgZWl0aGVyIGBzdXBlcnZpc2VkYCBvciBgZHBvYC5cbiAgICAgKi9cbiAgICB0eXBlPzogJ3N1cGVydmlzZWQnIHwgJ2Rwbyc7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIE1ldGhvZCB7XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBmb3IgdGhlIERQTyBmaW5lLXR1bmluZyBtZXRob2QuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBEcG8ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgaHlwZXJwYXJhbWV0ZXJzIHVzZWQgZm9yIHRoZSBmaW5lLXR1bmluZyBqb2IuXG4gICAgICAgKi9cbiAgICAgIGh5cGVycGFyYW1ldGVycz86IERwby5IeXBlcnBhcmFtZXRlcnM7XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBEcG8ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgaHlwZXJwYXJhbWV0ZXJzIHVzZWQgZm9yIHRoZSBmaW5lLXR1bmluZyBqb2IuXG4gICAgICAgKi9cbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgSHlwZXJwYXJhbWV0ZXJzIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBleGFtcGxlcyBpbiBlYWNoIGJhdGNoLiBBIGxhcmdlciBiYXRjaCBzaXplIG1lYW5zIHRoYXQgbW9kZWxcbiAgICAgICAgICogcGFyYW1ldGVycyBhcmUgdXBkYXRlZCBsZXNzIGZyZXF1ZW50bHksIGJ1dCB3aXRoIGxvd2VyIHZhcmlhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgYmF0Y2hfc2l6ZT86ICdhdXRvJyB8IG51bWJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJldGEgdmFsdWUgZm9yIHRoZSBEUE8gbWV0aG9kLiBBIGhpZ2hlciBiZXRhIHZhbHVlIHdpbGwgaW5jcmVhc2UgdGhlIHdlaWdodFxuICAgICAgICAgKiBvZiB0aGUgcGVuYWx0eSBiZXR3ZWVuIHRoZSBwb2xpY3kgYW5kIHJlZmVyZW5jZSBtb2RlbC5cbiAgICAgICAgICovXG4gICAgICAgIGJldGE/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxpbmcgZmFjdG9yIGZvciB0aGUgbGVhcm5pbmcgcmF0ZS4gQSBzbWFsbGVyIGxlYXJuaW5nIHJhdGUgbWF5IGJlIHVzZWZ1bCB0b1xuICAgICAgICAgKiBhdm9pZCBvdmVyZml0dGluZy5cbiAgICAgICAgICovXG4gICAgICAgIGxlYXJuaW5nX3JhdGVfbXVsdGlwbGllcj86ICdhdXRvJyB8IG51bWJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBlcG9jaHMgdG8gdHJhaW4gdGhlIG1vZGVsIGZvci4gQW4gZXBvY2ggcmVmZXJzIHRvIG9uZSBmdWxsIGN5Y2xlXG4gICAgICAgICAqIHRocm91Z2ggdGhlIHRyYWluaW5nIGRhdGFzZXQuXG4gICAgICAgICAqL1xuICAgICAgICBuX2Vwb2Nocz86ICdhdXRvJyB8IG51bWJlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGZvciB0aGUgc3VwZXJ2aXNlZCBmaW5lLXR1bmluZyBtZXRob2QuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBTdXBlcnZpc2VkIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgICAgICovXG4gICAgICBoeXBlcnBhcmFtZXRlcnM/OiBTdXBlcnZpc2VkLkh5cGVycGFyYW1ldGVycztcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIFN1cGVydmlzZWQge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgaHlwZXJwYXJhbWV0ZXJzIHVzZWQgZm9yIHRoZSBmaW5lLXR1bmluZyBqb2IuXG4gICAgICAgKi9cbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgSHlwZXJwYXJhbWV0ZXJzIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBleGFtcGxlcyBpbiBlYWNoIGJhdGNoLiBBIGxhcmdlciBiYXRjaCBzaXplIG1lYW5zIHRoYXQgbW9kZWxcbiAgICAgICAgICogcGFyYW1ldGVycyBhcmUgdXBkYXRlZCBsZXNzIGZyZXF1ZW50bHksIGJ1dCB3aXRoIGxvd2VyIHZhcmlhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgYmF0Y2hfc2l6ZT86ICdhdXRvJyB8IG51bWJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGluZyBmYWN0b3IgZm9yIHRoZSBsZWFybmluZyByYXRlLiBBIHNtYWxsZXIgbGVhcm5pbmcgcmF0ZSBtYXkgYmUgdXNlZnVsIHRvXG4gICAgICAgICAqIGF2b2lkIG92ZXJmaXR0aW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgbGVhcm5pbmdfcmF0ZV9tdWx0aXBsaWVyPzogJ2F1dG8nIHwgbnVtYmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGVwb2NocyB0byB0cmFpbiB0aGUgbW9kZWwgZm9yLiBBbiBlcG9jaCByZWZlcnMgdG8gb25lIGZ1bGwgY3ljbGVcbiAgICAgICAgICogdGhyb3VnaCB0aGUgdHJhaW5pbmcgZGF0YXNldC5cbiAgICAgICAgICovXG4gICAgICAgIG5fZXBvY2hzPzogJ2F1dG8nIHwgbnVtYmVyO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEpvYkxpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgSm9iTGlzdEV2ZW50c1BhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge31cblxuSm9icy5GaW5lVHVuaW5nSm9ic1BhZ2UgPSBGaW5lVHVuaW5nSm9ic1BhZ2U7XG5Kb2JzLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlID0gRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2U7XG5Kb2JzLkNoZWNrcG9pbnRzID0gQ2hlY2twb2ludHM7XG5Kb2JzLkZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UgPSBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgSm9icyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBGaW5lVHVuaW5nSm9iIGFzIEZpbmVUdW5pbmdKb2IsXG4gICAgdHlwZSBGaW5lVHVuaW5nSm9iRXZlbnQgYXMgRmluZVR1bmluZ0pvYkV2ZW50LFxuICAgIHR5cGUgRmluZVR1bmluZ0pvYkludGVncmF0aW9uIGFzIEZpbmVUdW5pbmdKb2JJbnRlZ3JhdGlvbixcbiAgICB0eXBlIEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uIGFzIEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uLFxuICAgIHR5cGUgRmluZVR1bmluZ0pvYldhbmRiSW50ZWdyYXRpb25PYmplY3QgYXMgRmluZVR1bmluZ0pvYldhbmRiSW50ZWdyYXRpb25PYmplY3QsXG4gICAgRmluZVR1bmluZ0pvYnNQYWdlIGFzIEZpbmVUdW5pbmdKb2JzUGFnZSxcbiAgICBGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSBhcyBGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSxcbiAgICB0eXBlIEpvYkNyZWF0ZVBhcmFtcyBhcyBKb2JDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBKb2JMaXN0UGFyYW1zIGFzIEpvYkxpc3RQYXJhbXMsXG4gICAgdHlwZSBKb2JMaXN0RXZlbnRzUGFyYW1zIGFzIEpvYkxpc3RFdmVudHNQYXJhbXMsXG4gIH07XG5cbiAgZXhwb3J0IHtcbiAgICBDaGVja3BvaW50cyBhcyBDaGVja3BvaW50cyxcbiAgICB0eXBlIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50IGFzIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50LFxuICAgIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UgYXMgRmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZSxcbiAgICB0eXBlIENoZWNrcG9pbnRMaXN0UGFyYW1zIGFzIENoZWNrcG9pbnRMaXN0UGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgSm9ic0FQSSBmcm9tICcuL2pvYnMvam9icyc7XG5pbXBvcnQge1xuICBGaW5lVHVuaW5nSm9iLFxuICBGaW5lVHVuaW5nSm9iRXZlbnQsXG4gIEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlLFxuICBGaW5lVHVuaW5nSm9iSW50ZWdyYXRpb24sXG4gIEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uLFxuICBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbk9iamVjdCxcbiAgRmluZVR1bmluZ0pvYnNQYWdlLFxuICBKb2JDcmVhdGVQYXJhbXMsXG4gIEpvYkxpc3RFdmVudHNQYXJhbXMsXG4gIEpvYkxpc3RQYXJhbXMsXG4gIEpvYnMsXG59IGZyb20gJy4vam9icy9qb2JzJztcblxuZXhwb3J0IGNsYXNzIEZpbmVUdW5pbmcgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIGpvYnM6IEpvYnNBUEkuSm9icyA9IG5ldyBKb2JzQVBJLkpvYnModGhpcy5fY2xpZW50KTtcbn1cblxuRmluZVR1bmluZy5Kb2JzID0gSm9icztcbkZpbmVUdW5pbmcuRmluZVR1bmluZ0pvYnNQYWdlID0gRmluZVR1bmluZ0pvYnNQYWdlO1xuRmluZVR1bmluZy5GaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSA9IEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgRmluZVR1bmluZyB7XG4gIGV4cG9ydCB7XG4gICAgSm9icyBhcyBKb2JzLFxuICAgIHR5cGUgRmluZVR1bmluZ0pvYiBhcyBGaW5lVHVuaW5nSm9iLFxuICAgIHR5cGUgRmluZVR1bmluZ0pvYkV2ZW50IGFzIEZpbmVUdW5pbmdKb2JFdmVudCxcbiAgICB0eXBlIEZpbmVUdW5pbmdKb2JJbnRlZ3JhdGlvbiBhcyBGaW5lVHVuaW5nSm9iSW50ZWdyYXRpb24sXG4gICAgdHlwZSBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbiBhcyBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbixcbiAgICB0eXBlIEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uT2JqZWN0IGFzIEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uT2JqZWN0LFxuICAgIEZpbmVUdW5pbmdKb2JzUGFnZSBhcyBGaW5lVHVuaW5nSm9ic1BhZ2UsXG4gICAgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UgYXMgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UsXG4gICAgdHlwZSBKb2JDcmVhdGVQYXJhbXMgYXMgSm9iQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgSm9iTGlzdFBhcmFtcyBhcyBKb2JMaXN0UGFyYW1zLFxuICAgIHR5cGUgSm9iTGlzdEV2ZW50c1BhcmFtcyBhcyBKb2JMaXN0RXZlbnRzUGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi9jb3JlJztcblxuZXhwb3J0IGNsYXNzIEltYWdlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB2YXJpYXRpb24gb2YgYSBnaXZlbiBpbWFnZS5cbiAgICovXG4gIGNyZWF0ZVZhcmlhdGlvbihcbiAgICBib2R5OiBJbWFnZUNyZWF0ZVZhcmlhdGlvblBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPEltYWdlc1Jlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvaW1hZ2VzL3ZhcmlhdGlvbnMnLCBDb3JlLm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZWRpdGVkIG9yIGV4dGVuZGVkIGltYWdlIGdpdmVuIGFuIG9yaWdpbmFsIGltYWdlIGFuZCBhIHByb21wdC5cbiAgICovXG4gIGVkaXQoYm9keTogSW1hZ2VFZGl0UGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxJbWFnZXNSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ltYWdlcy9lZGl0cycsIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbWFnZSBnaXZlbiBhIHByb21wdC5cbiAgICovXG4gIGdlbmVyYXRlKGJvZHk6IEltYWdlR2VuZXJhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPEltYWdlc1Jlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvaW1hZ2VzL2dlbmVyYXRpb25zJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgdXJsIG9yIHRoZSBjb250ZW50IG9mIGFuIGltYWdlIGdlbmVyYXRlZCBieSB0aGUgT3BlbkFJIEFQSS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbWFnZSB7XG4gIC8qKlxuICAgKiBUaGUgYmFzZTY0LWVuY29kZWQgSlNPTiBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlLCBpZiBgcmVzcG9uc2VfZm9ybWF0YCBpc1xuICAgKiBgYjY0X2pzb25gLlxuICAgKi9cbiAgYjY0X2pzb24/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwcm9tcHQgdGhhdCB3YXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgaW1hZ2UsIGlmIHRoZXJlIHdhcyBhbnkgcmV2aXNpb24gdG8gdGhlXG4gICAqIHByb21wdC5cbiAgICovXG4gIHJldmlzZWRfcHJvbXB0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVVJMIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2UsIGlmIGByZXNwb25zZV9mb3JtYXRgIGlzIGB1cmxgIChkZWZhdWx0KS5cbiAgICovXG4gIHVybD86IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgSW1hZ2VNb2RlbCA9ICdkYWxsLWUtMicgfCAnZGFsbC1lLTMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlc1Jlc3BvbnNlIHtcbiAgY3JlYXRlZDogbnVtYmVyO1xuXG4gIGRhdGE6IEFycmF5PEltYWdlPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbWFnZUNyZWF0ZVZhcmlhdGlvblBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgaW1hZ2UgdG8gdXNlIGFzIHRoZSBiYXNpcyBmb3IgdGhlIHZhcmlhdGlvbihzKS4gTXVzdCBiZSBhIHZhbGlkIFBORyBmaWxlLFxuICAgKiBsZXNzIHRoYW4gNE1CLCBhbmQgc3F1YXJlLlxuICAgKi9cbiAgaW1hZ2U6IENvcmUuVXBsb2FkYWJsZTtcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHRvIHVzZSBmb3IgaW1hZ2UgZ2VuZXJhdGlvbi4gT25seSBgZGFsbC1lLTJgIGlzIHN1cHBvcnRlZCBhdCB0aGlzXG4gICAqIHRpbWUuXG4gICAqL1xuICBtb2RlbD86IChzdHJpbmcgJiB7fSkgfCBJbWFnZU1vZGVsIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMC4gRm9yIGBkYWxsLWUtM2AsIG9ubHlcbiAgICogYG49MWAgaXMgc3VwcG9ydGVkLlxuICAgKi9cbiAgbj86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgaW4gd2hpY2ggdGhlIGdlbmVyYXRlZCBpbWFnZXMgYXJlIHJldHVybmVkLiBNdXN0IGJlIG9uZSBvZiBgdXJsYCBvclxuICAgKiBgYjY0X2pzb25gLiBVUkxzIGFyZSBvbmx5IHZhbGlkIGZvciA2MCBtaW51dGVzIGFmdGVyIHRoZSBpbWFnZSBoYXMgYmVlblxuICAgKiBnZW5lcmF0ZWQuXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiAndXJsJyB8ICdiNjRfanNvbicgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc2l6ZSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlcy4gTXVzdCBiZSBvbmUgb2YgYDI1NngyNTZgLCBgNTEyeDUxMmAsIG9yXG4gICAqIGAxMDI0eDEwMjRgLlxuICAgKi9cbiAgc2l6ZT86ICcyNTZ4MjU2JyB8ICc1MTJ4NTEyJyB8ICcxMDI0eDEwMjQnIHwgbnVsbDtcblxuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciByZXByZXNlbnRpbmcgeW91ciBlbmQtdXNlciwgd2hpY2ggY2FuIGhlbHAgT3BlbkFJIHRvIG1vbml0b3JcbiAgICogYW5kIGRldGVjdCBhYnVzZS5cbiAgICogW0xlYXJuIG1vcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zYWZldHktYmVzdC1wcmFjdGljZXMjZW5kLXVzZXItaWRzKS5cbiAgICovXG4gIHVzZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VFZGl0UGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBpbWFnZSB0byBlZGl0LiBNdXN0IGJlIGEgdmFsaWQgUE5HIGZpbGUsIGxlc3MgdGhhbiA0TUIsIGFuZCBzcXVhcmUuIElmIG1hc2tcbiAgICogaXMgbm90IHByb3ZpZGVkLCBpbWFnZSBtdXN0IGhhdmUgdHJhbnNwYXJlbmN5LCB3aGljaCB3aWxsIGJlIHVzZWQgYXMgdGhlIG1hc2suXG4gICAqL1xuICBpbWFnZTogQ29yZS5VcGxvYWRhYmxlO1xuXG4gIC8qKlxuICAgKiBBIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIGRlc2lyZWQgaW1hZ2UocykuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyAxMDAwXG4gICAqIGNoYXJhY3RlcnMuXG4gICAqL1xuICBwcm9tcHQ6IHN0cmluZztcblxuICAvKipcbiAgICogQW4gYWRkaXRpb25hbCBpbWFnZSB3aG9zZSBmdWxseSB0cmFuc3BhcmVudCBhcmVhcyAoZS5nLiB3aGVyZSBhbHBoYSBpcyB6ZXJvKVxuICAgKiBpbmRpY2F0ZSB3aGVyZSBgaW1hZ2VgIHNob3VsZCBiZSBlZGl0ZWQuIE11c3QgYmUgYSB2YWxpZCBQTkcgZmlsZSwgbGVzcyB0aGFuXG4gICAqIDRNQiwgYW5kIGhhdmUgdGhlIHNhbWUgZGltZW5zaW9ucyBhcyBgaW1hZ2VgLlxuICAgKi9cbiAgbWFzaz86IENvcmUuVXBsb2FkYWJsZTtcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHRvIHVzZSBmb3IgaW1hZ2UgZ2VuZXJhdGlvbi4gT25seSBgZGFsbC1lLTJgIGlzIHN1cHBvcnRlZCBhdCB0aGlzXG4gICAqIHRpbWUuXG4gICAqL1xuICBtb2RlbD86IChzdHJpbmcgJiB7fSkgfCBJbWFnZU1vZGVsIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMC5cbiAgICovXG4gIG4/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IGluIHdoaWNoIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzIGFyZSByZXR1cm5lZC4gTXVzdCBiZSBvbmUgb2YgYHVybGAgb3JcbiAgICogYGI2NF9qc29uYC4gVVJMcyBhcmUgb25seSB2YWxpZCBmb3IgNjAgbWludXRlcyBhZnRlciB0aGUgaW1hZ2UgaGFzIGJlZW5cbiAgICogZ2VuZXJhdGVkLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogJ3VybCcgfCAnYjY0X2pzb24nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIE11c3QgYmUgb25lIG9mIGAyNTZ4MjU2YCwgYDUxMng1MTJgLCBvclxuICAgKiBgMTAyNHgxMDI0YC5cbiAgICovXG4gIHNpemU/OiAnMjU2eDI1NicgfCAnNTEyeDUxMicgfCAnMTAyNHgxMDI0JyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yXG4gICAqIGFuZCBkZXRlY3QgYWJ1c2UuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzI2VuZC11c2VyLWlkcykuXG4gICAqL1xuICB1c2VyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlR2VuZXJhdGVQYXJhbXMge1xuICAvKipcbiAgICogQSB0ZXh0IGRlc2NyaXB0aW9uIG9mIHRoZSBkZXNpcmVkIGltYWdlKHMpLiBUaGUgbWF4aW11bSBsZW5ndGggaXMgMTAwMFxuICAgKiBjaGFyYWN0ZXJzIGZvciBgZGFsbC1lLTJgIGFuZCA0MDAwIGNoYXJhY3RlcnMgZm9yIGBkYWxsLWUtM2AuXG4gICAqL1xuICBwcm9tcHQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHRvIHVzZSBmb3IgaW1hZ2UgZ2VuZXJhdGlvbi5cbiAgICovXG4gIG1vZGVsPzogKHN0cmluZyAmIHt9KSB8IEltYWdlTW9kZWwgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIGltYWdlcyB0byBnZW5lcmF0ZS4gTXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDEwLiBGb3IgYGRhbGwtZS0zYCwgb25seVxuICAgKiBgbj0xYCBpcyBzdXBwb3J0ZWQuXG4gICAqL1xuICBuPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHF1YWxpdHkgb2YgdGhlIGltYWdlIHRoYXQgd2lsbCBiZSBnZW5lcmF0ZWQuIGBoZGAgY3JlYXRlcyBpbWFnZXMgd2l0aCBmaW5lclxuICAgKiBkZXRhaWxzIGFuZCBncmVhdGVyIGNvbnNpc3RlbmN5IGFjcm9zcyB0aGUgaW1hZ2UuIFRoaXMgcGFyYW0gaXMgb25seSBzdXBwb3J0ZWRcbiAgICogZm9yIGBkYWxsLWUtM2AuXG4gICAqL1xuICBxdWFsaXR5PzogJ3N0YW5kYXJkJyB8ICdoZCc7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgaW4gd2hpY2ggdGhlIGdlbmVyYXRlZCBpbWFnZXMgYXJlIHJldHVybmVkLiBNdXN0IGJlIG9uZSBvZiBgdXJsYCBvclxuICAgKiBgYjY0X2pzb25gLiBVUkxzIGFyZSBvbmx5IHZhbGlkIGZvciA2MCBtaW51dGVzIGFmdGVyIHRoZSBpbWFnZSBoYXMgYmVlblxuICAgKiBnZW5lcmF0ZWQuXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiAndXJsJyB8ICdiNjRfanNvbicgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc2l6ZSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlcy4gTXVzdCBiZSBvbmUgb2YgYDI1NngyNTZgLCBgNTEyeDUxMmAsIG9yXG4gICAqIGAxMDI0eDEwMjRgIGZvciBgZGFsbC1lLTJgLiBNdXN0IGJlIG9uZSBvZiBgMTAyNHgxMDI0YCwgYDE3OTJ4MTAyNGAsIG9yXG4gICAqIGAxMDI0eDE3OTJgIGZvciBgZGFsbC1lLTNgIG1vZGVscy5cbiAgICovXG4gIHNpemU/OiAnMjU2eDI1NicgfCAnNTEyeDUxMicgfCAnMTAyNHgxMDI0JyB8ICcxNzkyeDEwMjQnIHwgJzEwMjR4MTc5MicgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc3R5bGUgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIE11c3QgYmUgb25lIG9mIGB2aXZpZGAgb3IgYG5hdHVyYWxgLiBWaXZpZFxuICAgKiBjYXVzZXMgdGhlIG1vZGVsIHRvIGxlYW4gdG93YXJkcyBnZW5lcmF0aW5nIGh5cGVyLXJlYWwgYW5kIGRyYW1hdGljIGltYWdlcy5cbiAgICogTmF0dXJhbCBjYXVzZXMgdGhlIG1vZGVsIHRvIHByb2R1Y2UgbW9yZSBuYXR1cmFsLCBsZXNzIGh5cGVyLXJlYWwgbG9va2luZ1xuICAgKiBpbWFnZXMuIFRoaXMgcGFyYW0gaXMgb25seSBzdXBwb3J0ZWQgZm9yIGBkYWxsLWUtM2AuXG4gICAqL1xuICBzdHlsZT86ICd2aXZpZCcgfCAnbmF0dXJhbCcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvclxuICAgKiBhbmQgZGV0ZWN0IGFidXNlLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcyNlbmQtdXNlci1pZHMpLlxuICAgKi9cbiAgdXNlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIEltYWdlcyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBJbWFnZSBhcyBJbWFnZSxcbiAgICB0eXBlIEltYWdlTW9kZWwgYXMgSW1hZ2VNb2RlbCxcbiAgICB0eXBlIEltYWdlc1Jlc3BvbnNlIGFzIEltYWdlc1Jlc3BvbnNlLFxuICAgIHR5cGUgSW1hZ2VDcmVhdGVWYXJpYXRpb25QYXJhbXMgYXMgSW1hZ2VDcmVhdGVWYXJpYXRpb25QYXJhbXMsXG4gICAgdHlwZSBJbWFnZUVkaXRQYXJhbXMgYXMgSW1hZ2VFZGl0UGFyYW1zLFxuICAgIHR5cGUgSW1hZ2VHZW5lcmF0ZVBhcmFtcyBhcyBJbWFnZUdlbmVyYXRlUGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB7IFBhZ2UgfSBmcm9tICcuLi9wYWdpbmF0aW9uJztcblxuZXhwb3J0IGNsYXNzIE1vZGVscyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIG1vZGVsIGluc3RhbmNlLCBwcm92aWRpbmcgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1vZGVsIHN1Y2ggYXNcbiAgICogdGhlIG93bmVyIGFuZCBwZXJtaXNzaW9uaW5nLlxuICAgKi9cbiAgcmV0cmlldmUobW9kZWw6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8TW9kZWw+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL21vZGVscy8ke21vZGVsfWAsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RzIHRoZSBjdXJyZW50bHkgYXZhaWxhYmxlIG1vZGVscywgYW5kIHByb3ZpZGVzIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IGVhY2hcbiAgICogb25lIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBhdmFpbGFiaWxpdHkuXG4gICAqL1xuICBsaXN0KG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxNb2RlbHNQYWdlLCBNb2RlbD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL21vZGVscycsIE1vZGVsc1BhZ2UsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGZpbmUtdHVuZWQgbW9kZWwuIFlvdSBtdXN0IGhhdmUgdGhlIE93bmVyIHJvbGUgaW4geW91ciBvcmdhbml6YXRpb24gdG9cbiAgICogZGVsZXRlIGEgbW9kZWwuXG4gICAqL1xuICBkZWwobW9kZWw6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8TW9kZWxEZWxldGVkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9tb2RlbHMvJHttb2RlbH1gLCBvcHRpb25zKTtcbiAgfVxufVxuXG4vKipcbiAqIE5vdGU6IG5vIHBhZ2luYXRpb24gYWN0dWFsbHkgb2NjdXJzIHlldCwgdGhpcyBpcyBmb3IgZm9yd2FyZHMtY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsc1BhZ2UgZXh0ZW5kcyBQYWdlPE1vZGVsPiB7fVxuXG4vKipcbiAqIERlc2NyaWJlcyBhbiBPcGVuQUkgbW9kZWwgb2ZmZXJpbmcgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIHRoZSBBUEkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTW9kZWwge1xuICAvKipcbiAgICogVGhlIG1vZGVsIGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIHRoZSBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSB3aGVuIHRoZSBtb2RlbCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgXCJtb2RlbFwiLlxuICAgKi9cbiAgb2JqZWN0OiAnbW9kZWwnO1xuXG4gIC8qKlxuICAgKiBUaGUgb3JnYW5pemF0aW9uIHRoYXQgb3ducyB0aGUgbW9kZWwuXG4gICAqL1xuICBvd25lZF9ieTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVsRGVsZXRlZCB7XG4gIGlkOiBzdHJpbmc7XG5cbiAgZGVsZXRlZDogYm9vbGVhbjtcblxuICBvYmplY3Q6IHN0cmluZztcbn1cblxuTW9kZWxzLk1vZGVsc1BhZ2UgPSBNb2RlbHNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgTW9kZWxzIHtcbiAgZXhwb3J0IHsgdHlwZSBNb2RlbCBhcyBNb2RlbCwgdHlwZSBNb2RlbERlbGV0ZWQgYXMgTW9kZWxEZWxldGVkLCBNb2RlbHNQYWdlIGFzIE1vZGVsc1BhZ2UgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vY29yZSc7XG5cbmV4cG9ydCBjbGFzcyBNb2RlcmF0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENsYXNzaWZpZXMgaWYgdGV4dCBhbmQvb3IgaW1hZ2UgaW5wdXRzIGFyZSBwb3RlbnRpYWxseSBoYXJtZnVsLiBMZWFybiBtb3JlIGluXG4gICAqIHRoZSBbbW9kZXJhdGlvbiBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL21vZGVyYXRpb24pLlxuICAgKi9cbiAgY3JlYXRlKFxuICAgIGJvZHk6IE1vZGVyYXRpb25DcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxNb2RlcmF0aW9uQ3JlYXRlUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9tb2RlcmF0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVyYXRpb24ge1xuICAvKipcbiAgICogQSBsaXN0IG9mIHRoZSBjYXRlZ29yaWVzLCBhbmQgd2hldGhlciB0aGV5IGFyZSBmbGFnZ2VkIG9yIG5vdC5cbiAgICovXG4gIGNhdGVnb3JpZXM6IE1vZGVyYXRpb24uQ2F0ZWdvcmllcztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHRoZSBjYXRlZ29yaWVzIGFsb25nIHdpdGggdGhlIGlucHV0IHR5cGUocykgdGhhdCB0aGUgc2NvcmUgYXBwbGllcyB0by5cbiAgICovXG4gIGNhdGVnb3J5X2FwcGxpZWRfaW5wdXRfdHlwZXM6IE1vZGVyYXRpb24uQ2F0ZWdvcnlBcHBsaWVkSW5wdXRUeXBlcztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHRoZSBjYXRlZ29yaWVzIGFsb25nIHdpdGggdGhlaXIgc2NvcmVzIGFzIHByZWRpY3RlZCBieSBtb2RlbC5cbiAgICovXG4gIGNhdGVnb3J5X3Njb3JlczogTW9kZXJhdGlvbi5DYXRlZ29yeVNjb3JlcztcblxuICAvKipcbiAgICogV2hldGhlciBhbnkgb2YgdGhlIGJlbG93IGNhdGVnb3JpZXMgYXJlIGZsYWdnZWQuXG4gICAqL1xuICBmbGFnZ2VkOiBib29sZWFuO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIE1vZGVyYXRpb24ge1xuICAvKipcbiAgICogQSBsaXN0IG9mIHRoZSBjYXRlZ29yaWVzLCBhbmQgd2hldGhlciB0aGV5IGFyZSBmbGFnZ2VkIG9yIG5vdC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ2F0ZWdvcmllcyB7XG4gICAgLyoqXG4gICAgICogQ29udGVudCB0aGF0IGV4cHJlc3NlcywgaW5jaXRlcywgb3IgcHJvbW90ZXMgaGFyYXNzaW5nIGxhbmd1YWdlIHRvd2FyZHMgYW55XG4gICAgICogdGFyZ2V0LlxuICAgICAqL1xuICAgIGhhcmFzc21lbnQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBIYXJhc3NtZW50IGNvbnRlbnQgdGhhdCBhbHNvIGluY2x1ZGVzIHZpb2xlbmNlIG9yIHNlcmlvdXMgaGFybSB0b3dhcmRzIGFueVxuICAgICAqIHRhcmdldC5cbiAgICAgKi9cbiAgICAnaGFyYXNzbWVudC90aHJlYXRlbmluZyc6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb250ZW50IHRoYXQgZXhwcmVzc2VzLCBpbmNpdGVzLCBvciBwcm9tb3RlcyBoYXRlIGJhc2VkIG9uIHJhY2UsIGdlbmRlcixcbiAgICAgKiBldGhuaWNpdHksIHJlbGlnaW9uLCBuYXRpb25hbGl0eSwgc2V4dWFsIG9yaWVudGF0aW9uLCBkaXNhYmlsaXR5IHN0YXR1cywgb3JcbiAgICAgKiBjYXN0ZS4gSGF0ZWZ1bCBjb250ZW50IGFpbWVkIGF0IG5vbi1wcm90ZWN0ZWQgZ3JvdXBzIChlLmcuLCBjaGVzcyBwbGF5ZXJzKSBpc1xuICAgICAqIGhhcmFzc21lbnQuXG4gICAgICovXG4gICAgaGF0ZTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEhhdGVmdWwgY29udGVudCB0aGF0IGFsc28gaW5jbHVkZXMgdmlvbGVuY2Ugb3Igc2VyaW91cyBoYXJtIHRvd2FyZHMgdGhlIHRhcmdldGVkXG4gICAgICogZ3JvdXAgYmFzZWQgb24gcmFjZSwgZ2VuZGVyLCBldGhuaWNpdHksIHJlbGlnaW9uLCBuYXRpb25hbGl0eSwgc2V4dWFsXG4gICAgICogb3JpZW50YXRpb24sIGRpc2FiaWxpdHkgc3RhdHVzLCBvciBjYXN0ZS5cbiAgICAgKi9cbiAgICAnaGF0ZS90aHJlYXRlbmluZyc6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb250ZW50IHRoYXQgaW5jbHVkZXMgaW5zdHJ1Y3Rpb25zIG9yIGFkdmljZSB0aGF0IGZhY2lsaXRhdGUgdGhlIHBsYW5uaW5nIG9yXG4gICAgICogZXhlY3V0aW9uIG9mIHdyb25nZG9pbmcsIG9yIHRoYXQgZ2l2ZXMgYWR2aWNlIG9yIGluc3RydWN0aW9uIG9uIGhvdyB0byBjb21taXRcbiAgICAgKiBpbGxpY2l0IGFjdHMuIEZvciBleGFtcGxlLCBcImhvdyB0byBzaG9wbGlmdFwiIHdvdWxkIGZpdCB0aGlzIGNhdGVnb3J5LlxuICAgICAqL1xuICAgIGlsbGljaXQ6IGJvb2xlYW4gfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCB0aGF0IGluY2x1ZGVzIGluc3RydWN0aW9ucyBvciBhZHZpY2UgdGhhdCBmYWNpbGl0YXRlIHRoZSBwbGFubmluZyBvclxuICAgICAqIGV4ZWN1dGlvbiBvZiB3cm9uZ2RvaW5nIHRoYXQgYWxzbyBpbmNsdWRlcyB2aW9sZW5jZSwgb3IgdGhhdCBnaXZlcyBhZHZpY2Ugb3JcbiAgICAgKiBpbnN0cnVjdGlvbiBvbiB0aGUgcHJvY3VyZW1lbnQgb2YgYW55IHdlYXBvbi5cbiAgICAgKi9cbiAgICAnaWxsaWNpdC92aW9sZW50JzogYm9vbGVhbiB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBDb250ZW50IHRoYXQgcHJvbW90ZXMsIGVuY291cmFnZXMsIG9yIGRlcGljdHMgYWN0cyBvZiBzZWxmLWhhcm0sIHN1Y2ggYXNcbiAgICAgKiBzdWljaWRlLCBjdXR0aW5nLCBhbmQgZWF0aW5nIGRpc29yZGVycy5cbiAgICAgKi9cbiAgICAnc2VsZi1oYXJtJzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIENvbnRlbnQgdGhhdCBlbmNvdXJhZ2VzIHBlcmZvcm1pbmcgYWN0cyBvZiBzZWxmLWhhcm0sIHN1Y2ggYXMgc3VpY2lkZSwgY3V0dGluZyxcbiAgICAgKiBhbmQgZWF0aW5nIGRpc29yZGVycywgb3IgdGhhdCBnaXZlcyBpbnN0cnVjdGlvbnMgb3IgYWR2aWNlIG9uIGhvdyB0byBjb21taXQgc3VjaFxuICAgICAqIGFjdHMuXG4gICAgICovXG4gICAgJ3NlbGYtaGFybS9pbnN0cnVjdGlvbnMnOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCB3aGVyZSB0aGUgc3BlYWtlciBleHByZXNzZXMgdGhhdCB0aGV5IGFyZSBlbmdhZ2luZyBvciBpbnRlbmQgdG8gZW5nYWdlXG4gICAgICogaW4gYWN0cyBvZiBzZWxmLWhhcm0sIHN1Y2ggYXMgc3VpY2lkZSwgY3V0dGluZywgYW5kIGVhdGluZyBkaXNvcmRlcnMuXG4gICAgICovXG4gICAgJ3NlbGYtaGFybS9pbnRlbnQnOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCBtZWFudCB0byBhcm91c2Ugc2V4dWFsIGV4Y2l0ZW1lbnQsIHN1Y2ggYXMgdGhlIGRlc2NyaXB0aW9uIG9mIHNleHVhbFxuICAgICAqIGFjdGl2aXR5LCBvciB0aGF0IHByb21vdGVzIHNleHVhbCBzZXJ2aWNlcyAoZXhjbHVkaW5nIHNleCBlZHVjYXRpb24gYW5kXG4gICAgICogd2VsbG5lc3MpLlxuICAgICAqL1xuICAgIHNleHVhbDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIFNleHVhbCBjb250ZW50IHRoYXQgaW5jbHVkZXMgYW4gaW5kaXZpZHVhbCB3aG8gaXMgdW5kZXIgMTggeWVhcnMgb2xkLlxuICAgICAqL1xuICAgICdzZXh1YWwvbWlub3JzJzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIENvbnRlbnQgdGhhdCBkZXBpY3RzIGRlYXRoLCB2aW9sZW5jZSwgb3IgcGh5c2ljYWwgaW5qdXJ5LlxuICAgICAqL1xuICAgIHZpb2xlbmNlOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCB0aGF0IGRlcGljdHMgZGVhdGgsIHZpb2xlbmNlLCBvciBwaHlzaWNhbCBpbmp1cnkgaW4gZ3JhcGhpYyBkZXRhaWwuXG4gICAgICovXG4gICAgJ3Zpb2xlbmNlL2dyYXBoaWMnOiBib29sZWFuO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0aGUgY2F0ZWdvcmllcyBhbG9uZyB3aXRoIHRoZSBpbnB1dCB0eXBlKHMpIHRoYXQgdGhlIHNjb3JlIGFwcGxpZXMgdG8uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENhdGVnb3J5QXBwbGllZElucHV0VHlwZXMge1xuICAgIC8qKlxuICAgICAqIFRoZSBhcHBsaWVkIGlucHV0IHR5cGUocykgZm9yIHRoZSBjYXRlZ29yeSAnaGFyYXNzbWVudCcuXG4gICAgICovXG4gICAgaGFyYXNzbWVudDogQXJyYXk8J3RleHQnPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcHBsaWVkIGlucHV0IHR5cGUocykgZm9yIHRoZSBjYXRlZ29yeSAnaGFyYXNzbWVudC90aHJlYXRlbmluZycuXG4gICAgICovXG4gICAgJ2hhcmFzc21lbnQvdGhyZWF0ZW5pbmcnOiBBcnJheTwndGV4dCc+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGxpZWQgaW5wdXQgdHlwZShzKSBmb3IgdGhlIGNhdGVnb3J5ICdoYXRlJy5cbiAgICAgKi9cbiAgICBoYXRlOiBBcnJheTwndGV4dCc+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGxpZWQgaW5wdXQgdHlwZShzKSBmb3IgdGhlIGNhdGVnb3J5ICdoYXRlL3RocmVhdGVuaW5nJy5cbiAgICAgKi9cbiAgICAnaGF0ZS90aHJlYXRlbmluZyc6IEFycmF5PCd0ZXh0Jz47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGllZCBpbnB1dCB0eXBlKHMpIGZvciB0aGUgY2F0ZWdvcnkgJ2lsbGljaXQnLlxuICAgICAqL1xuICAgIGlsbGljaXQ6IEFycmF5PCd0ZXh0Jz47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGllZCBpbnB1dCB0eXBlKHMpIGZvciB0aGUgY2F0ZWdvcnkgJ2lsbGljaXQvdmlvbGVudCcuXG4gICAgICovXG4gICAgJ2lsbGljaXQvdmlvbGVudCc6IEFycmF5PCd0ZXh0Jz47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGllZCBpbnB1dCB0eXBlKHMpIGZvciB0aGUgY2F0ZWdvcnkgJ3NlbGYtaGFybScuXG4gICAgICovXG4gICAgJ3NlbGYtaGFybSc6IEFycmF5PCd0ZXh0JyB8ICdpbWFnZSc+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGxpZWQgaW5wdXQgdHlwZShzKSBmb3IgdGhlIGNhdGVnb3J5ICdzZWxmLWhhcm0vaW5zdHJ1Y3Rpb25zJy5cbiAgICAgKi9cbiAgICAnc2VsZi1oYXJtL2luc3RydWN0aW9ucyc6IEFycmF5PCd0ZXh0JyB8ICdpbWFnZSc+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGxpZWQgaW5wdXQgdHlwZShzKSBmb3IgdGhlIGNhdGVnb3J5ICdzZWxmLWhhcm0vaW50ZW50Jy5cbiAgICAgKi9cbiAgICAnc2VsZi1oYXJtL2ludGVudCc6IEFycmF5PCd0ZXh0JyB8ICdpbWFnZSc+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGxpZWQgaW5wdXQgdHlwZShzKSBmb3IgdGhlIGNhdGVnb3J5ICdzZXh1YWwnLlxuICAgICAqL1xuICAgIHNleHVhbDogQXJyYXk8J3RleHQnIHwgJ2ltYWdlJz47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGllZCBpbnB1dCB0eXBlKHMpIGZvciB0aGUgY2F0ZWdvcnkgJ3NleHVhbC9taW5vcnMnLlxuICAgICAqL1xuICAgICdzZXh1YWwvbWlub3JzJzogQXJyYXk8J3RleHQnPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcHBsaWVkIGlucHV0IHR5cGUocykgZm9yIHRoZSBjYXRlZ29yeSAndmlvbGVuY2UnLlxuICAgICAqL1xuICAgIHZpb2xlbmNlOiBBcnJheTwndGV4dCcgfCAnaW1hZ2UnPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcHBsaWVkIGlucHV0IHR5cGUocykgZm9yIHRoZSBjYXRlZ29yeSAndmlvbGVuY2UvZ3JhcGhpYycuXG4gICAgICovXG4gICAgJ3Zpb2xlbmNlL2dyYXBoaWMnOiBBcnJheTwndGV4dCcgfCAnaW1hZ2UnPjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdGhlIGNhdGVnb3JpZXMgYWxvbmcgd2l0aCB0aGVpciBzY29yZXMgYXMgcHJlZGljdGVkIGJ5IG1vZGVsLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBDYXRlZ29yeVNjb3JlcyB7XG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ2hhcmFzc21lbnQnLlxuICAgICAqL1xuICAgIGhhcmFzc21lbnQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY29yZSBmb3IgdGhlIGNhdGVnb3J5ICdoYXJhc3NtZW50L3RocmVhdGVuaW5nJy5cbiAgICAgKi9cbiAgICAnaGFyYXNzbWVudC90aHJlYXRlbmluZyc6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY29yZSBmb3IgdGhlIGNhdGVnb3J5ICdoYXRlJy5cbiAgICAgKi9cbiAgICBoYXRlOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnaGF0ZS90aHJlYXRlbmluZycuXG4gICAgICovXG4gICAgJ2hhdGUvdGhyZWF0ZW5pbmcnOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnaWxsaWNpdCcuXG4gICAgICovXG4gICAgaWxsaWNpdDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ2lsbGljaXQvdmlvbGVudCcuXG4gICAgICovXG4gICAgJ2lsbGljaXQvdmlvbGVudCc6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY29yZSBmb3IgdGhlIGNhdGVnb3J5ICdzZWxmLWhhcm0nLlxuICAgICAqL1xuICAgICdzZWxmLWhhcm0nOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnc2VsZi1oYXJtL2luc3RydWN0aW9ucycuXG4gICAgICovXG4gICAgJ3NlbGYtaGFybS9pbnN0cnVjdGlvbnMnOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnc2VsZi1oYXJtL2ludGVudCcuXG4gICAgICovXG4gICAgJ3NlbGYtaGFybS9pbnRlbnQnOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnc2V4dWFsJy5cbiAgICAgKi9cbiAgICBzZXh1YWw6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY29yZSBmb3IgdGhlIGNhdGVnb3J5ICdzZXh1YWwvbWlub3JzJy5cbiAgICAgKi9cbiAgICAnc2V4dWFsL21pbm9ycyc6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY29yZSBmb3IgdGhlIGNhdGVnb3J5ICd2aW9sZW5jZScuXG4gICAgICovXG4gICAgdmlvbGVuY2U6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY29yZSBmb3IgdGhlIGNhdGVnb3J5ICd2aW9sZW5jZS9ncmFwaGljJy5cbiAgICAgKi9cbiAgICAndmlvbGVuY2UvZ3JhcGhpYyc6IG51bWJlcjtcbiAgfVxufVxuXG4vKipcbiAqIEFuIG9iamVjdCBkZXNjcmliaW5nIGFuIGltYWdlIHRvIGNsYXNzaWZ5LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVyYXRpb25JbWFnZVVSTElucHV0IHtcbiAgLyoqXG4gICAqIENvbnRhaW5zIGVpdGhlciBhbiBpbWFnZSBVUkwgb3IgYSBkYXRhIFVSTCBmb3IgYSBiYXNlNjQgZW5jb2RlZCBpbWFnZS5cbiAgICovXG4gIGltYWdlX3VybDogTW9kZXJhdGlvbkltYWdlVVJMSW5wdXQuSW1hZ2VVUkw7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgaW1hZ2VfdXJsYC5cbiAgICovXG4gIHR5cGU6ICdpbWFnZV91cmwnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIE1vZGVyYXRpb25JbWFnZVVSTElucHV0IHtcbiAgLyoqXG4gICAqIENvbnRhaW5zIGVpdGhlciBhbiBpbWFnZSBVUkwgb3IgYSBkYXRhIFVSTCBmb3IgYSBiYXNlNjQgZW5jb2RlZCBpbWFnZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VVUkwge1xuICAgIC8qKlxuICAgICAqIEVpdGhlciBhIFVSTCBvZiB0aGUgaW1hZ2Ugb3IgdGhlIGJhc2U2NCBlbmNvZGVkIGltYWdlIGRhdGEuXG4gICAgICovXG4gICAgdXJsOiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgTW9kZXJhdGlvbk1vZGVsID1cbiAgfCAnb21uaS1tb2RlcmF0aW9uLWxhdGVzdCdcbiAgfCAnb21uaS1tb2RlcmF0aW9uLTIwMjQtMDktMjYnXG4gIHwgJ3RleHQtbW9kZXJhdGlvbi1sYXRlc3QnXG4gIHwgJ3RleHQtbW9kZXJhdGlvbi1zdGFibGUnO1xuXG4vKipcbiAqIEFuIG9iamVjdCBkZXNjcmliaW5nIGFuIGltYWdlIHRvIGNsYXNzaWZ5LlxuICovXG5leHBvcnQgdHlwZSBNb2RlcmF0aW9uTXVsdGlNb2RhbElucHV0ID0gTW9kZXJhdGlvbkltYWdlVVJMSW5wdXQgfCBNb2RlcmF0aW9uVGV4dElucHV0O1xuXG4vKipcbiAqIEFuIG9iamVjdCBkZXNjcmliaW5nIHRleHQgdG8gY2xhc3NpZnkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTW9kZXJhdGlvblRleHRJbnB1dCB7XG4gIC8qKlxuICAgKiBBIHN0cmluZyBvZiB0ZXh0IHRvIGNsYXNzaWZ5LlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYHRleHRgLlxuICAgKi9cbiAgdHlwZTogJ3RleHQnO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgaWYgYSBnaXZlbiB0ZXh0IGlucHV0IGlzIHBvdGVudGlhbGx5IGhhcm1mdWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTW9kZXJhdGlvbkNyZWF0ZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIG1vZGVyYXRpb24gcmVxdWVzdC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBtb2RlcmF0aW9uIHJlc3VsdHMuXG4gICAqL1xuICBtb2RlbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgbW9kZXJhdGlvbiBvYmplY3RzLlxuICAgKi9cbiAgcmVzdWx0czogQXJyYXk8TW9kZXJhdGlvbj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kZXJhdGlvbkNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBJbnB1dCAob3IgaW5wdXRzKSB0byBjbGFzc2lmeS4gQ2FuIGJlIGEgc2luZ2xlIHN0cmluZywgYW4gYXJyYXkgb2Ygc3RyaW5ncywgb3JcbiAgICogYW4gYXJyYXkgb2YgbXVsdGktbW9kYWwgaW5wdXQgb2JqZWN0cyBzaW1pbGFyIHRvIG90aGVyIG1vZGVscy5cbiAgICovXG4gIGlucHV0OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+IHwgQXJyYXk8TW9kZXJhdGlvbk11bHRpTW9kYWxJbnB1dD47XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG1vZGVyYXRpb24gbW9kZWwgeW91IHdvdWxkIGxpa2UgdG8gdXNlLiBMZWFybiBtb3JlIGluXG4gICAqIFt0aGUgbW9kZXJhdGlvbiBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL21vZGVyYXRpb24pLCBhbmRcbiAgICogbGVhcm4gYWJvdXQgYXZhaWxhYmxlIG1vZGVsc1xuICAgKiBbaGVyZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI21vZGVyYXRpb24pLlxuICAgKi9cbiAgbW9kZWw/OiAoc3RyaW5nICYge30pIHwgTW9kZXJhdGlvbk1vZGVsO1xufVxuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgTW9kZXJhdGlvbnMge1xuICBleHBvcnQge1xuICAgIHR5cGUgTW9kZXJhdGlvbiBhcyBNb2RlcmF0aW9uLFxuICAgIHR5cGUgTW9kZXJhdGlvbkltYWdlVVJMSW5wdXQgYXMgTW9kZXJhdGlvbkltYWdlVVJMSW5wdXQsXG4gICAgdHlwZSBNb2RlcmF0aW9uTW9kZWwgYXMgTW9kZXJhdGlvbk1vZGVsLFxuICAgIHR5cGUgTW9kZXJhdGlvbk11bHRpTW9kYWxJbnB1dCBhcyBNb2RlcmF0aW9uTXVsdGlNb2RhbElucHV0LFxuICAgIHR5cGUgTW9kZXJhdGlvblRleHRJbnB1dCBhcyBNb2RlcmF0aW9uVGV4dElucHV0LFxuICAgIHR5cGUgTW9kZXJhdGlvbkNyZWF0ZVJlc3BvbnNlIGFzIE1vZGVyYXRpb25DcmVhdGVSZXNwb25zZSxcbiAgICB0eXBlIE1vZGVyYXRpb25DcmVhdGVQYXJhbXMgYXMgTW9kZXJhdGlvbkNyZWF0ZVBhcmFtcyxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBPcGVuQUlFcnJvciB9IGZyb20gJy4uL2Vycm9yJztcbmltcG9ydCB0eXBlIHsgQ2hhdENvbXBsZXRpb25Ub29sIH0gZnJvbSAnLi4vcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMnO1xuaW1wb3J0IHtcbiAgdHlwZSBGdW5jdGlvblRvb2wsXG4gIHR5cGUgUGFyc2VkQ29udGVudCxcbiAgdHlwZSBQYXJzZWRSZXNwb25zZSxcbiAgdHlwZSBQYXJzZWRSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGwsXG4gIHR5cGUgUGFyc2VkUmVzcG9uc2VPdXRwdXRJdGVtLFxuICB0eXBlIFJlc3BvbnNlLFxuICB0eXBlIFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSxcbiAgdHlwZSBSZXNwb25zZUNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgdHlwZSBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGwsXG4gIHR5cGUgVG9vbCxcbn0gZnJvbSAnLi4vcmVzb3VyY2VzL3Jlc3BvbnNlcy9yZXNwb25zZXMnO1xuaW1wb3J0IHsgdHlwZSBBdXRvUGFyc2VhYmxlVGV4dEZvcm1hdCwgaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdCB9IGZyb20gJy4uL2xpYi9wYXJzZXInO1xuXG50eXBlIFBhcnNlYWJsZVRvb2xzUGFyYW1zID0gQXJyYXk8VG9vbD4gfCBDaGF0Q29tcGxldGlvblRvb2wgfCBudWxsO1xuXG5leHBvcnQgdHlwZSBSZXNwb25zZUNyZWF0ZVBhcmFtc1dpdGhUb29scyA9IFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSAmIHtcbiAgdG9vbHM/OiBQYXJzZWFibGVUb29sc1BhcmFtcztcbn07XG5cbmV4cG9ydCB0eXBlIEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXMgZXh0ZW5kcyBSZXNwb25zZUNyZWF0ZVBhcmFtc1dpdGhUb29scz4gPVxuICBOb25OdWxsYWJsZTxQYXJhbXNbJ3RleHQnXT5bJ2Zvcm1hdCddIGV4dGVuZHMgQXV0b1BhcnNlYWJsZVRleHRGb3JtYXQ8aW5mZXIgUD4gPyBQIDogbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIG1heWJlUGFyc2VSZXNwb25zZTxcbiAgUGFyYW1zIGV4dGVuZHMgUmVzcG9uc2VDcmVhdGVQYXJhbXNCYXNlIHwgbnVsbCxcbiAgUGFyc2VkVCA9IFBhcmFtcyBleHRlbmRzIG51bGwgPyBudWxsIDogRXh0cmFjdFBhcnNlZENvbnRlbnRGcm9tUGFyYW1zPE5vbk51bGxhYmxlPFBhcmFtcz4+LFxuPihyZXNwb25zZTogUmVzcG9uc2UsIHBhcmFtczogUGFyYW1zKTogUGFyc2VkUmVzcG9uc2U8UGFyc2VkVD4ge1xuICBpZiAoIXBhcmFtcyB8fCAhaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucmVzcG9uc2UsXG4gICAgICBvdXRwdXRfcGFyc2VkOiBudWxsLFxuICAgICAgb3V0cHV0OiByZXNwb25zZS5vdXRwdXQubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogbnVsbCxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICBjb250ZW50OiBpdGVtLmNvbnRlbnQubWFwKChjb250ZW50KSA9PiAoe1xuICAgICAgICAgICAgICAuLi5jb250ZW50LFxuICAgICAgICAgICAgICBwYXJzZWQ6IG51bGwsXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlLCBwYXJhbXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZXNwb25zZTxcbiAgUGFyYW1zIGV4dGVuZHMgUmVzcG9uc2VDcmVhdGVQYXJhbXNCYXNlLFxuICBQYXJzZWRUID0gRXh0cmFjdFBhcnNlZENvbnRlbnRGcm9tUGFyYW1zPFBhcmFtcz4sXG4+KHJlc3BvbnNlOiBSZXNwb25zZSwgcGFyYW1zOiBQYXJhbXMpOiBQYXJzZWRSZXNwb25zZTxQYXJzZWRUPiB7XG4gIGNvbnN0IG91dHB1dDogQXJyYXk8UGFyc2VkUmVzcG9uc2VPdXRwdXRJdGVtPFBhcnNlZFQ+PiA9IHJlc3BvbnNlLm91dHB1dC5tYXAoXG4gICAgKGl0ZW0pOiBQYXJzZWRSZXNwb25zZU91dHB1dEl0ZW08UGFyc2VkVD4gPT4ge1xuICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgaXRlbSksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgY29uc3QgY29udGVudDogQXJyYXk8UGFyc2VkQ29udGVudDxQYXJzZWRUPj4gPSBpdGVtLmNvbnRlbnQubWFwKChjb250ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uY29udGVudCxcbiAgICAgICAgICAgICAgcGFyc2VkOiBwYXJzZVRleHRGb3JtYXQocGFyYW1zLCBjb250ZW50LnRleHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH0sXG4gICk7XG5cbiAgY29uc3QgcGFyc2VkOiBPbWl0PFBhcnNlZFJlc3BvbnNlPFBhcnNlZFQ+LCAnb3V0cHV0X3BhcnNlZCc+ID0gT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UsIHsgb3V0cHV0IH0pO1xuICBpZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVzcG9uc2UsICdvdXRwdXRfdGV4dCcpKSB7XG4gICAgYWRkT3V0cHV0VGV4dChwYXJzZWQpO1xuICB9XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcnNlZCwgJ291dHB1dF9wYXJzZWQnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQoKSB7XG4gICAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiBwYXJzZWQub3V0cHV0KSB7XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2Ygb3V0cHV0LmNvbnRlbnQpIHtcbiAgICAgICAgICBpZiAoY29udGVudC50eXBlID09PSAnb3V0cHV0X3RleHQnICYmIGNvbnRlbnQucGFyc2VkICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudC5wYXJzZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQgYXMgUGFyc2VkUmVzcG9uc2U8UGFyc2VkVD47XG59XG5cbmZ1bmN0aW9uIHBhcnNlVGV4dEZvcm1hdDxcbiAgUGFyYW1zIGV4dGVuZHMgUmVzcG9uc2VDcmVhdGVQYXJhbXNCYXNlLFxuICBQYXJzZWRUID0gRXh0cmFjdFBhcnNlZENvbnRlbnRGcm9tUGFyYW1zPFBhcmFtcz4sXG4+KHBhcmFtczogUGFyYW1zLCBjb250ZW50OiBzdHJpbmcpOiBQYXJzZWRUIHwgbnVsbCB7XG4gIGlmIChwYXJhbXMudGV4dD8uZm9ybWF0Py50eXBlICE9PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoJyRwYXJzZVJhdycgaW4gcGFyYW1zLnRleHQ/LmZvcm1hdCkge1xuICAgIGNvbnN0IHRleHRfZm9ybWF0ID0gcGFyYW1zLnRleHQ/LmZvcm1hdCBhcyB1bmtub3duIGFzIEF1dG9QYXJzZWFibGVUZXh0Rm9ybWF0PFBhcnNlZFQ+O1xuICAgIHJldHVybiB0ZXh0X2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gIH1cblxuICByZXR1cm4gSlNPTi5wYXJzZShjb250ZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXM6IFJlc3BvbnNlQ3JlYXRlUGFyYW1zV2l0aFRvb2xzKTogYm9vbGVhbiB7XG4gIGlmIChpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHBhcmFtcy50ZXh0Py5mb3JtYXQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbnR5cGUgVG9vbE9wdGlvbnMgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgYXJndW1lbnRzOiBhbnk7XG4gIGZ1bmN0aW9uPzogKChhcmdzOiBhbnkpID0+IGFueSkgfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBBdXRvUGFyc2VhYmxlUmVzcG9uc2VUb29sPFxuICBPcHRpb25zVCBleHRlbmRzIFRvb2xPcHRpb25zLFxuICBIYXNGdW5jdGlvbiA9IE9wdGlvbnNUWydmdW5jdGlvbiddIGV4dGVuZHMgRnVuY3Rpb24gPyB0cnVlIDogZmFsc2UsXG4+ID0gRnVuY3Rpb25Ub29sICYge1xuICBfX2FyZ3VtZW50czogT3B0aW9uc1RbJ2FyZ3VtZW50cyddOyAvLyB0eXBlLWxldmVsIG9ubHlcbiAgX19uYW1lOiBPcHRpb25zVFsnbmFtZSddOyAvLyB0eXBlLWxldmVsIG9ubHlcblxuICAkYnJhbmQ6ICdhdXRvLXBhcnNlYWJsZS10b29sJztcbiAgJGNhbGxiYWNrOiAoKGFyZ3M6IE9wdGlvbnNUWydhcmd1bWVudHMnXSkgPT4gYW55KSB8IHVuZGVmaW5lZDtcbiAgJHBhcnNlUmF3KGFyZ3M6IHN0cmluZyk6IE9wdGlvbnNUWydhcmd1bWVudHMnXTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlUmVzcG9uc2VUb29sPE9wdGlvbnNUIGV4dGVuZHMgVG9vbE9wdGlvbnM+KFxuICB0b29sOiBGdW5jdGlvblRvb2wsXG4gIHtcbiAgICBwYXJzZXIsXG4gICAgY2FsbGJhY2ssXG4gIH06IHtcbiAgICBwYXJzZXI6IChjb250ZW50OiBzdHJpbmcpID0+IE9wdGlvbnNUWydhcmd1bWVudHMnXTtcbiAgICBjYWxsYmFjazogKChhcmdzOiBhbnkpID0+IGFueSkgfCB1bmRlZmluZWQ7XG4gIH0sXG4pOiBBdXRvUGFyc2VhYmxlUmVzcG9uc2VUb29sPE9wdGlvbnNUWydhcmd1bWVudHMnXT4ge1xuICBjb25zdCBvYmogPSB7IC4uLnRvb2wgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAkYnJhbmQ6IHtcbiAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtdG9vbCcsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9LFxuICAgICRwYXJzZVJhdzoge1xuICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0sXG4gICAgJGNhbGxiYWNrOiB7XG4gICAgICB2YWx1ZTogY2FsbGJhY2ssXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gb2JqIGFzIEF1dG9QYXJzZWFibGVSZXNwb25zZVRvb2w8T3B0aW9uc1RbJ2FyZ3VtZW50cyddPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0b1BhcnNhYmxlVG9vbCh0b29sOiBhbnkpOiB0b29sIGlzIEF1dG9QYXJzZWFibGVSZXNwb25zZVRvb2w8YW55PiB7XG4gIHJldHVybiB0b29sPy5bJyRicmFuZCddID09PSAnYXV0by1wYXJzZWFibGUtdG9vbCc7XG59XG5cbmZ1bmN0aW9uIGdldElucHV0VG9vbEJ5TmFtZShpbnB1dF90b29sczogQXJyYXk8VG9vbD4sIG5hbWU6IHN0cmluZyk6IEZ1bmN0aW9uVG9vbCB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBpbnB1dF90b29scy5maW5kKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgJiYgdG9vbC5uYW1lID09PSBuYW1lKSBhc1xuICAgIHwgRnVuY3Rpb25Ub29sXG4gICAgfCB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG9vbENhbGw8UGFyYW1zIGV4dGVuZHMgUmVzcG9uc2VDcmVhdGVQYXJhbXNCYXNlPihcbiAgcGFyYW1zOiBQYXJhbXMsXG4gIHRvb2xDYWxsOiBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGwsXG4pOiBQYXJzZWRSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGwge1xuICBjb25zdCBpbnB1dFRvb2wgPSBnZXRJbnB1dFRvb2xCeU5hbWUocGFyYW1zLnRvb2xzID8/IFtdLCB0b29sQ2FsbC5uYW1lKTtcblxuICByZXR1cm4ge1xuICAgIC4uLnRvb2xDYWxsLFxuICAgIC4uLnRvb2xDYWxsLFxuICAgIHBhcnNlZF9hcmd1bWVudHM6XG4gICAgICBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGwuYXJndW1lbnRzKVxuICAgICAgOiBpbnB1dFRvb2w/LnN0cmljdCA/IEpTT04ucGFyc2UodG9vbENhbGwuYXJndW1lbnRzKVxuICAgICAgOiBudWxsLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkUGFyc2VUb29sQ2FsbChcbiAgcGFyYW1zOiBSZXNwb25zZUNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHRvb2xDYWxsOiBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGwsXG4pOiBib29sZWFuIHtcbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBpbnB1dFRvb2wgPSBnZXRJbnB1dFRvb2xCeU5hbWUocGFyYW1zLnRvb2xzID8/IFtdLCB0b29sQ2FsbC5uYW1lKTtcbiAgcmV0dXJuIGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpIHx8IGlucHV0VG9vbD8uc3RyaWN0IHx8IGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVJbnB1dFRvb2xzKHRvb2xzOiBDaGF0Q29tcGxldGlvblRvb2xbXSB8IHVuZGVmaW5lZCkge1xuICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMgPz8gW10pIHtcbiAgICBpZiAodG9vbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgIGBDdXJyZW50bHkgb25seSBcXGBmdW5jdGlvblxcYCB0b29sIHR5cGVzIHN1cHBvcnQgYXV0by1wYXJzaW5nOyBSZWNlaXZlZCBcXGAke3Rvb2wudHlwZX1cXGBgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodG9vbC5mdW5jdGlvbi5zdHJpY3QgIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihcbiAgICAgICAgYFRoZSBcXGAke3Rvb2wuZnVuY3Rpb24ubmFtZX1cXGAgdG9vbCBpcyBub3QgbWFya2VkIHdpdGggXFxgc3RyaWN0OiB0cnVlXFxgLiBPbmx5IHN0cmljdCBmdW5jdGlvbiB0b29scyBjYW4gYmUgYXV0by1wYXJzZWRgLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE91dHB1dFRleHQocnNwOiBSZXNwb25zZSk6IHZvaWQge1xuICBjb25zdCB0ZXh0czogc3RyaW5nW10gPSBbXTtcbiAgZm9yIChjb25zdCBvdXRwdXQgb2YgcnNwLm91dHB1dCkge1xuICAgIGlmIChvdXRwdXQudHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2Ygb3V0cHV0LmNvbnRlbnQpIHtcbiAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgdGV4dHMucHVzaChjb250ZW50LnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJzcC5vdXRwdXRfdGV4dCA9IHRleHRzLmpvaW4oJycpO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIFJlc3BvbnNlc0FQSSBmcm9tICcuL3Jlc3BvbnNlcyc7XG5pbXBvcnQgeyBSZXNwb25zZUl0ZW1zUGFnZSB9IGZyb20gJy4vcmVzcG9uc2VzJztcbmltcG9ydCB7IHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gJy4uLy4uL3BhZ2luYXRpb24nO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRJdGVtcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGlucHV0IGl0ZW1zIGZvciBhIGdpdmVuIHJlc3BvbnNlLlxuICAgKi9cbiAgbGlzdChcbiAgICByZXNwb25zZUlkOiBzdHJpbmcsXG4gICAgcXVlcnk/OiBJbnB1dEl0ZW1MaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFJlc3BvbnNlSXRlbXNQYWdlLCBSZXNwb25zZXNBUEkuUmVzcG9uc2VJdGVtPjtcbiAgbGlzdChcbiAgICByZXNwb25zZUlkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8UmVzcG9uc2VJdGVtc1BhZ2UsIFJlc3BvbnNlc0FQSS5SZXNwb25zZUl0ZW0+O1xuICBsaXN0KFxuICAgIHJlc3BvbnNlSWQ6IHN0cmluZyxcbiAgICBxdWVyeTogSW5wdXRJdGVtTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxSZXNwb25zZUl0ZW1zUGFnZSwgUmVzcG9uc2VzQVBJLlJlc3BvbnNlSXRlbT4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdChyZXNwb25zZUlkLCB7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9yZXNwb25zZXMvJHtyZXNwb25zZUlkfS9pbnB1dF9pdGVtc2AsIFJlc3BvbnNlSXRlbXNQYWdlLCB7XG4gICAgICBxdWVyeSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBIGxpc3Qgb2YgUmVzcG9uc2UgaXRlbXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VJdGVtTGlzdCB7XG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgaXRlbXMgdXNlZCB0byBnZW5lcmF0ZSB0aGlzIHJlc3BvbnNlLlxuICAgKi9cbiAgZGF0YTogQXJyYXk8UmVzcG9uc2VzQVBJLlJlc3BvbnNlSXRlbT47XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgbGlzdC5cbiAgICovXG4gIGZpcnN0X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlcmUgYXJlIG1vcmUgaXRlbXMgYXZhaWxhYmxlLlxuICAgKi9cbiAgaGFzX21vcmU6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgbGFzdCBpdGVtIGluIHRoZSBsaXN0LlxuICAgKi9cbiAgbGFzdF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBvYmplY3QgcmV0dXJuZWQsIG11c3QgYmUgYGxpc3RgLlxuICAgKi9cbiAgb2JqZWN0OiAnbGlzdCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRJdGVtTGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge1xuICAvKipcbiAgICogQW4gaXRlbSBJRCB0byBsaXN0IGl0ZW1zIGJlZm9yZSwgdXNlZCBpbiBwYWdpbmF0aW9uLlxuICAgKi9cbiAgYmVmb3JlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb3JkZXIgdG8gcmV0dXJuIHRoZSBpbnB1dCBpdGVtcyBpbi4gRGVmYXVsdCBpcyBgYXNjYC5cbiAgICpcbiAgICogLSBgYXNjYDogUmV0dXJuIHRoZSBpbnB1dCBpdGVtcyBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAqIC0gYGRlc2NgOiBSZXR1cm4gdGhlIGlucHV0IGl0ZW1zIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAqL1xuICBvcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xufVxuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgSW5wdXRJdGVtcyB7XG4gIGV4cG9ydCB7IHR5cGUgUmVzcG9uc2VJdGVtTGlzdCBhcyBSZXNwb25zZUl0ZW1MaXN0LCB0eXBlIElucHV0SXRlbUxpc3RQYXJhbXMgYXMgSW5wdXRJdGVtTGlzdFBhcmFtcyB9O1xufVxuXG5leHBvcnQgeyBSZXNwb25zZUl0ZW1zUGFnZSB9O1xuIiwgImltcG9ydCB7XG4gIHR5cGUgUGFyc2VkUmVzcG9uc2UsXG4gIHR5cGUgUmVzcG9uc2UsXG4gIHR5cGUgUmVzcG9uc2VDcmVhdGVQYXJhbXNCYXNlLFxuICB0eXBlIFJlc3BvbnNlQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICB0eXBlIFJlc3BvbnNlU3RyZWFtRXZlbnQsXG59IGZyb20gJy4uLy4uL3Jlc291cmNlcy9yZXNwb25zZXMvcmVzcG9uc2VzJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBBUElVc2VyQWJvcnRFcnJvciwgT3BlbkFJRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvcic7XG5pbXBvcnQgT3BlbkFJIGZyb20gJy4uLy4uL2luZGV4JztcbmltcG9ydCB7IHR5cGUgQmFzZUV2ZW50cywgRXZlbnRTdHJlYW0gfSBmcm9tICcuLi9FdmVudFN0cmVhbSc7XG5pbXBvcnQgeyB0eXBlIFJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudCwgdHlwZSBSZXNwb25zZVRleHREZWx0YUV2ZW50IH0gZnJvbSAnLi9FdmVudFR5cGVzJztcbmltcG9ydCB7IG1heWJlUGFyc2VSZXNwb25zZSB9IGZyb20gJy4uL1Jlc3BvbnNlc1BhcnNlcic7XG5cbmV4cG9ydCB0eXBlIFJlc3BvbnNlU3RyZWFtUGFyYW1zID0gT21pdDxSZXNwb25zZUNyZWF0ZVBhcmFtc0Jhc2UsICdzdHJlYW0nPiAmIHtcbiAgc3RyZWFtPzogdHJ1ZTtcbn07XG5cbnR5cGUgUmVzcG9uc2VFdmVudHMgPSBCYXNlRXZlbnRzICZcbiAgT21pdDxcbiAgICB7XG4gICAgICBbSyBpbiBSZXNwb25zZVN0cmVhbUV2ZW50Wyd0eXBlJ11dOiAoZXZlbnQ6IEV4dHJhY3Q8UmVzcG9uc2VTdHJlYW1FdmVudCwgeyB0eXBlOiBLIH0+KSA9PiB2b2lkO1xuICAgIH0sXG4gICAgJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmRlbHRhJyB8ICdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YSdcbiAgPiAmIHtcbiAgICBldmVudDogKGV2ZW50OiBSZXNwb25zZVN0cmVhbUV2ZW50KSA9PiB2b2lkO1xuICAgICdyZXNwb25zZS5vdXRwdXRfdGV4dC5kZWx0YSc6IChldmVudDogUmVzcG9uc2VUZXh0RGVsdGFFdmVudCkgPT4gdm9pZDtcbiAgICAncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZGVsdGEnOiAoZXZlbnQ6IFJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudCkgPT4gdm9pZDtcbiAgfTtcblxuZXhwb3J0IHR5cGUgUmVzcG9uc2VTdHJlYW1pbmdQYXJhbXMgPSBPbWl0PFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSwgJ3N0cmVhbSc+ICYge1xuICBzdHJlYW0/OiB0cnVlO1xufTtcblxuZXhwb3J0IGNsYXNzIFJlc3BvbnNlU3RyZWFtPFBhcnNlZFQgPSBudWxsPlxuICBleHRlbmRzIEV2ZW50U3RyZWFtPFJlc3BvbnNlRXZlbnRzPlxuICBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGU8UmVzcG9uc2VTdHJlYW1FdmVudD5cbntcbiAgI3BhcmFtczogUmVzcG9uc2VTdHJlYW1pbmdQYXJhbXMgfCBudWxsO1xuICAjY3VycmVudFJlc3BvbnNlU25hcHNob3Q6IFJlc3BvbnNlIHwgdW5kZWZpbmVkO1xuICAjZmluYWxSZXNwb25zZTogUGFyc2VkUmVzcG9uc2U8UGFyc2VkVD4gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IocGFyYW1zOiBSZXNwb25zZVN0cmVhbWluZ1BhcmFtcyB8IG51bGwpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuI3BhcmFtcyA9IHBhcmFtcztcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVSZXNwb25zZTxQYXJzZWRUPihcbiAgICBjbGllbnQ6IE9wZW5BSSxcbiAgICBwYXJhbXM6IFJlc3BvbnNlU3RyZWFtUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBSZXNwb25zZVN0cmVhbTxQYXJzZWRUPiB7XG4gICAgY29uc3QgcnVubmVyID0gbmV3IFJlc3BvbnNlU3RyZWFtPFBhcnNlZFQ+KHBhcmFtcyBhcyBSZXNwb25zZUNyZWF0ZVBhcmFtc1N0cmVhbWluZyk7XG4gICAgcnVubmVyLl9ydW4oKCkgPT5cbiAgICAgIHJ1bm5lci5fY3JlYXRlUmVzcG9uc2UoY2xpZW50LCBwYXJhbXMsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICB9KSxcbiAgICApO1xuICAgIHJldHVybiBydW5uZXI7XG4gIH1cblxuICAjYmVnaW5SZXF1ZXN0KCkge1xuICAgIGlmICh0aGlzLmVuZGVkKSByZXR1cm47XG4gICAgdGhpcy4jY3VycmVudFJlc3BvbnNlU25hcHNob3QgPSB1bmRlZmluZWQ7XG4gIH1cblxuICAjYWRkRXZlbnQodGhpczogUmVzcG9uc2VTdHJlYW08UGFyc2VkVD4sIGV2ZW50OiBSZXNwb25zZVN0cmVhbUV2ZW50KSB7XG4gICAgaWYgKHRoaXMuZW5kZWQpIHJldHVybjtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gdGhpcy4jYWNjdW11bGF0ZVJlc3BvbnNlKGV2ZW50KTtcbiAgICB0aGlzLl9lbWl0KCdldmVudCcsIGV2ZW50KTtcblxuICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgY2FzZSAncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnOiB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHJlc3BvbnNlLm91dHB1dFtldmVudC5vdXRwdXRfaW5kZXhdO1xuICAgICAgICBpZiAoIW91dHB1dCkge1xuICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBvdXRwdXQgYXQgaW5kZXggJHtldmVudC5vdXRwdXRfaW5kZXh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gb3V0cHV0LmNvbnRlbnRbZXZlbnQuY29udGVudF9pbmRleF07XG4gICAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY29udGVudCBhdCBpbmRleCAke2V2ZW50LmNvbnRlbnRfaW5kZXh9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgIT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgZXhwZWN0ZWQgY29udGVudCB0byBiZSAnb3V0cHV0X3RleHQnLCBnb3QgJHtjb250ZW50LnR5cGV9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5fZW1pdCgncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnLCB7XG4gICAgICAgICAgICAuLi5ldmVudCxcbiAgICAgICAgICAgIHNuYXBzaG90OiBjb250ZW50LnRleHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YSc6IHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gcmVzcG9uc2Uub3V0cHV0W2V2ZW50Lm91dHB1dF9pbmRleF07XG4gICAgICAgIGlmICghb3V0cHV0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG91dHB1dCBhdCBpbmRleCAke2V2ZW50Lm91dHB1dF9pbmRleH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgIHRoaXMuX2VtaXQoJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJywge1xuICAgICAgICAgICAgLi4uZXZlbnQsXG4gICAgICAgICAgICBzbmFwc2hvdDogb3V0cHV0LmFyZ3VtZW50cyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5fZW1pdChldmVudC50eXBlLCBldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gICNlbmRSZXF1ZXN0KCk6IFBhcnNlZFJlc3BvbnNlPFBhcnNlZFQ+IHtcbiAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBzdHJlYW0gaGFzIGVuZGVkLCB0aGlzIHNob3VsZG4ndCBoYXBwZW5gKTtcbiAgICB9XG4gICAgY29uc3Qgc25hcHNob3QgPSB0aGlzLiNjdXJyZW50UmVzcG9uc2VTbmFwc2hvdDtcbiAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYHJlcXVlc3QgZW5kZWQgd2l0aG91dCBzZW5kaW5nIGFueSBldmVudHNgKTtcbiAgICB9XG4gICAgdGhpcy4jY3VycmVudFJlc3BvbnNlU25hcHNob3QgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGFyc2VkUmVzcG9uc2UgPSBmaW5hbGl6ZVJlc3BvbnNlPFBhcnNlZFQ+KHNuYXBzaG90LCB0aGlzLiNwYXJhbXMpO1xuICAgIHRoaXMuI2ZpbmFsUmVzcG9uc2UgPSBwYXJzZWRSZXNwb25zZTtcblxuICAgIHJldHVybiBwYXJzZWRSZXNwb25zZTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfY3JlYXRlUmVzcG9uc2UoXG4gICAgY2xpZW50OiBPcGVuQUksXG4gICAgcGFyYW1zOiBSZXNwb25zZVN0cmVhbWluZ1BhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxQYXJzZWRSZXNwb25zZTxQYXJzZWRUPj4ge1xuICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICBpZiAoc2lnbmFsKSB7XG4gICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgIH1cbiAgICB0aGlzLiNiZWdpblJlcXVlc3QoKTtcblxuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGNsaWVudC5yZXNwb25zZXMuY3JlYXRlKFxuICAgICAgeyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9LFxuICAgICAgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSxcbiAgICApO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICB0aGlzLiNhZGRFdmVudChldmVudCk7XG4gICAgfVxuICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy4jZW5kUmVxdWVzdCgpO1xuICB9XG5cbiAgI2FjY3VtdWxhdGVSZXNwb25zZShldmVudDogUmVzcG9uc2VTdHJlYW1FdmVudCk6IFJlc3BvbnNlIHtcbiAgICBsZXQgc25hcHNob3QgPSB0aGlzLiNjdXJyZW50UmVzcG9uc2VTbmFwc2hvdDtcbiAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ3Jlc3BvbnNlLmNyZWF0ZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihcbiAgICAgICAgICBgV2hlbiBzbmFwc2hvdCBoYXNuJ3QgYmVlbiBzZXQgeWV0LCBleHBlY3RlZCAncmVzcG9uc2UuY3JlYXRlZCcgZXZlbnQsIGdvdCAke2V2ZW50LnR5cGV9YCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHNuYXBzaG90ID0gdGhpcy4jY3VycmVudFJlc3BvbnNlU25hcHNob3QgPSBldmVudC5yZXNwb25zZTtcbiAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkJzoge1xuICAgICAgICBzbmFwc2hvdC5vdXRwdXQucHVzaChldmVudC5pdGVtKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdyZXNwb25zZS5jb250ZW50X3BhcnQuYWRkZWQnOiB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHNuYXBzaG90Lm91dHB1dFtldmVudC5vdXRwdXRfaW5kZXhdO1xuICAgICAgICBpZiAoIW91dHB1dCkge1xuICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBvdXRwdXQgYXQgaW5kZXggJHtldmVudC5vdXRwdXRfaW5kZXh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICBvdXRwdXQuY29udGVudC5wdXNoKGV2ZW50LnBhcnQpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnOiB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHNuYXBzaG90Lm91dHB1dFtldmVudC5vdXRwdXRfaW5kZXhdO1xuICAgICAgICBpZiAoIW91dHB1dCkge1xuICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBvdXRwdXQgYXQgaW5kZXggJHtldmVudC5vdXRwdXRfaW5kZXh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gb3V0cHV0LmNvbnRlbnRbZXZlbnQuY29udGVudF9pbmRleF07XG4gICAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY29udGVudCBhdCBpbmRleCAke2V2ZW50LmNvbnRlbnRfaW5kZXh9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgIT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgZXhwZWN0ZWQgY29udGVudCB0byBiZSAnb3V0cHV0X3RleHQnLCBnb3QgJHtjb250ZW50LnR5cGV9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRlbnQudGV4dCArPSBldmVudC5kZWx0YTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJzoge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBzbmFwc2hvdC5vdXRwdXRbZXZlbnQub3V0cHV0X2luZGV4XTtcbiAgICAgICAgaWYgKCFvdXRwdXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGF0IGluZGV4ICR7ZXZlbnQub3V0cHV0X2luZGV4fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgb3V0cHV0LmFyZ3VtZW50cyArPSBldmVudC5kZWx0YTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Jlc3BvbnNlLmNvbXBsZXRlZCc6IHtcbiAgICAgICAgdGhpcy4jY3VycmVudFJlc3BvbnNlU25hcHNob3QgPSBldmVudC5yZXNwb25zZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNuYXBzaG90O1xuICB9XG5cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSh0aGlzOiBSZXNwb25zZVN0cmVhbTxQYXJzZWRUPik6IEFzeW5jSXRlcmF0b3I8UmVzcG9uc2VTdHJlYW1FdmVudD4ge1xuICAgIGNvbnN0IHB1c2hRdWV1ZTogUmVzcG9uc2VTdHJlYW1FdmVudFtdID0gW107XG4gICAgY29uc3QgcmVhZFF1ZXVlOiB7XG4gICAgICByZXNvbHZlOiAoZXZlbnQ6IFJlc3BvbnNlU3RyZWFtRXZlbnQgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gICAgICByZWplY3Q6IChlcnI6IHVua25vd24pID0+IHZvaWQ7XG4gICAgfVtdID0gW107XG4gICAgbGV0IGRvbmUgPSBmYWxzZTtcblxuICAgIHRoaXMub24oJ2V2ZW50JywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCByZWFkZXIgPSByZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgIGlmIChyZWFkZXIpIHtcbiAgICAgICAgcmVhZGVyLnJlc29sdmUoZXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHVzaFF1ZXVlLnB1c2goZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5vbignZW5kJywgKCkgPT4ge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgcmVhZGVyLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbignYWJvcnQnLCAoZXJyKSA9PiB7XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgcmVhZGVyLnJlamVjdChlcnIpO1xuICAgICAgfVxuICAgICAgcmVhZFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbmV4dDogYXN5bmMgKCk6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8UmVzcG9uc2VTdHJlYW1FdmVudD4+ID0+IHtcbiAgICAgICAgaWYgKCFwdXNoUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPFJlc3BvbnNlU3RyZWFtRXZlbnQgfCB1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgICAgICByZWFkUXVldWUucHVzaCh7IHJlc29sdmUsIHJlamVjdCB9KSxcbiAgICAgICAgICApLnRoZW4oKGV2ZW50KSA9PiAoZXZlbnQgPyB7IHZhbHVlOiBldmVudCwgZG9uZTogZmFsc2UgfSA6IHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXZlbnQgPSBwdXNoUXVldWUuc2hpZnQoKSE7XG4gICAgICAgIHJldHVybiB7IHZhbHVlOiBldmVudCwgZG9uZTogZmFsc2UgfTtcbiAgICAgIH0sXG4gICAgICByZXR1cm46IGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZmluYWwgUmVzcG9uc2UsIG9yIHJlamVjdHNcbiAgICogaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIFJFc3BvbnNlLlxuICAgKi9cbiAgYXN5bmMgZmluYWxSZXNwb25zZSgpOiBQcm9taXNlPFBhcnNlZFJlc3BvbnNlPFBhcnNlZFQ+PiB7XG4gICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLiNmaW5hbFJlc3BvbnNlO1xuICAgIGlmICghcmVzcG9uc2UpIHRocm93IG5ldyBPcGVuQUlFcnJvcignc3RyZWFtIGVuZGVkIHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb24nKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluYWxpemVSZXNwb25zZTxQYXJzZWRUPihcbiAgc25hcHNob3Q6IFJlc3BvbnNlLFxuICBwYXJhbXM6IFJlc3BvbnNlU3RyZWFtaW5nUGFyYW1zIHwgbnVsbCxcbik6IFBhcnNlZFJlc3BvbnNlPFBhcnNlZFQ+IHtcbiAgcmV0dXJuIG1heWJlUGFyc2VSZXNwb25zZShzbmFwc2hvdCwgcGFyYW1zKTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQge1xuICB0eXBlIEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtcyxcbiAgcGFyc2VSZXNwb25zZSxcbiAgdHlwZSBSZXNwb25zZUNyZWF0ZVBhcmFtc1dpdGhUb29scyxcbiAgYWRkT3V0cHV0VGV4dCxcbn0gZnJvbSAnLi4vLi4vbGliL1Jlc3BvbnNlc1BhcnNlcic7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgQVBJUHJvbWlzZSwgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSAnLi4vc2hhcmVkJztcbmltcG9ydCAqIGFzIElucHV0SXRlbXNBUEkgZnJvbSAnLi9pbnB1dC1pdGVtcyc7XG5pbXBvcnQgeyBJbnB1dEl0ZW1MaXN0UGFyYW1zLCBJbnB1dEl0ZW1zLCBSZXNwb25zZUl0ZW1MaXN0IH0gZnJvbSAnLi9pbnB1dC1pdGVtcyc7XG5pbXBvcnQgKiBhcyBSZXNwb25zZXNBUEkgZnJvbSAnLi9yZXNwb25zZXMnO1xuaW1wb3J0IHsgUmVzcG9uc2VTdHJlYW0sIFJlc3BvbnNlU3RyZWFtUGFyYW1zIH0gZnJvbSAnLi4vLi4vbGliL3Jlc3BvbnNlcy9SZXNwb25zZVN0cmVhbSc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSAnLi4vLi4vcGFnaW5hdGlvbic7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICcuLi8uLi9zdHJlYW1pbmcnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBhcnNlZFJlc3BvbnNlT3V0cHV0VGV4dDxQYXJzZWRUPiBleHRlbmRzIFJlc3BvbnNlT3V0cHV0VGV4dCB7XG4gIHBhcnNlZDogUGFyc2VkVCB8IG51bGw7XG59XG5cbmV4cG9ydCB0eXBlIFBhcnNlZENvbnRlbnQ8UGFyc2VkVD4gPSBQYXJzZWRSZXNwb25zZU91dHB1dFRleHQ8UGFyc2VkVD4gfCBSZXNwb25zZU91dHB1dFJlZnVzYWw7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VkUmVzcG9uc2VPdXRwdXRNZXNzYWdlPFBhcnNlZFQ+IGV4dGVuZHMgUmVzcG9uc2VPdXRwdXRNZXNzYWdlIHtcbiAgY29udGVudDogUGFyc2VkQ29udGVudDxQYXJzZWRUPltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhcnNlZFJlc3BvbnNlRnVuY3Rpb25Ub29sQ2FsbCBleHRlbmRzIFJlc3BvbnNlRnVuY3Rpb25Ub29sQ2FsbCB7XG4gIHBhcnNlZF9hcmd1bWVudHM6IGFueTtcbn1cblxuZXhwb3J0IHR5cGUgUGFyc2VkUmVzcG9uc2VPdXRwdXRJdGVtPFBhcnNlZFQ+ID1cbiAgfCBQYXJzZWRSZXNwb25zZU91dHB1dE1lc3NhZ2U8UGFyc2VkVD5cbiAgfCBQYXJzZWRSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGxcbiAgfCBSZXNwb25zZUZpbGVTZWFyY2hUb29sQ2FsbFxuICB8IFJlc3BvbnNlRnVuY3Rpb25XZWJTZWFyY2hcbiAgfCBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGxcbiAgfCBSZXNwb25zZVJlYXNvbmluZ0l0ZW07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VkUmVzcG9uc2U8UGFyc2VkVD4gZXh0ZW5kcyBSZXNwb25zZSB7XG4gIG91dHB1dDogQXJyYXk8UGFyc2VkUmVzcG9uc2VPdXRwdXRJdGVtPFBhcnNlZFQ+PjtcblxuICBvdXRwdXRfcGFyc2VkOiBQYXJzZWRUIHwgbnVsbDtcbn1cblxuZXhwb3J0IHR5cGUgUmVzcG9uc2VQYXJzZVBhcmFtcyA9IFJlc3BvbnNlQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuZXhwb3J0IGNsYXNzIFJlc3BvbnNlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgaW5wdXRJdGVtczogSW5wdXRJdGVtc0FQSS5JbnB1dEl0ZW1zID0gbmV3IElucHV0SXRlbXNBUEkuSW5wdXRJdGVtcyh0aGlzLl9jbGllbnQpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbW9kZWwgcmVzcG9uc2UuIFByb3ZpZGVcbiAgICogW3RleHRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0KSBvclxuICAgKiBbaW1hZ2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9pbWFnZXMpIGlucHV0cyB0byBnZW5lcmF0ZVxuICAgKiBbdGV4dF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3RleHQpIG9yXG4gICAqIFtKU09OXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKSBvdXRwdXRzLiBIYXZlXG4gICAqIHRoZSBtb2RlbCBjYWxsIHlvdXIgb3duXG4gICAqIFtjdXN0b20gY29kZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2Z1bmN0aW9uLWNhbGxpbmcpIG9yIHVzZVxuICAgKiBidWlsdC1pbiBbdG9vbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scykgbGlrZVxuICAgKiBbd2ViIHNlYXJjaF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLXdlYi1zZWFyY2gpIG9yXG4gICAqIFtmaWxlIHNlYXJjaF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLWZpbGUtc2VhcmNoKSB0byB1c2VcbiAgICogeW91ciBvd24gZGF0YSBhcyBpbnB1dCBmb3IgdGhlIG1vZGVsJ3MgcmVzcG9uc2UuXG4gICAqL1xuICBjcmVhdGUoYm9keTogUmVzcG9uc2VDcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQVBJUHJvbWlzZTxSZXNwb25zZT47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBSZXNwb25zZUNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08UmVzcG9uc2VTdHJlYW1FdmVudD4+O1xuICBjcmVhdGUoXG4gICAgYm9keTogUmVzcG9uc2VDcmVhdGVQYXJhbXNCYXNlLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFN0cmVhbTxSZXNwb25zZVN0cmVhbUV2ZW50PiB8IFJlc3BvbnNlPjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IFJlc3BvbnNlQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFJlc3BvbnNlPiB8IEFQSVByb21pc2U8U3RyZWFtPFJlc3BvbnNlU3RyZWFtRXZlbnQ+PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX2NsaWVudC5wb3N0KCcvcmVzcG9uc2VzJywgeyBib2R5LCAuLi5vcHRpb25zLCBzdHJlYW06IGJvZHkuc3RyZWFtID8/IGZhbHNlIH0pIGFzXG4gICAgICAgIHwgQVBJUHJvbWlzZTxSZXNwb25zZT5cbiAgICAgICAgfCBBUElQcm9taXNlPFN0cmVhbTxSZXNwb25zZVN0cmVhbUV2ZW50Pj5cbiAgICApLl90aGVuVW53cmFwKChyc3ApID0+IHtcbiAgICAgIGlmICgnb2JqZWN0JyBpbiByc3AgJiYgcnNwLm9iamVjdCA9PT0gJ3Jlc3BvbnNlJykge1xuICAgICAgICBhZGRPdXRwdXRUZXh0KHJzcCBhcyBSZXNwb25zZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByc3A7XG4gICAgfSkgYXMgQVBJUHJvbWlzZTxSZXNwb25zZT4gfCBBUElQcm9taXNlPFN0cmVhbTxSZXNwb25zZVN0cmVhbUV2ZW50Pj47XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgbW9kZWwgcmVzcG9uc2Ugd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqL1xuICByZXRyaWV2ZShcbiAgICByZXNwb25zZUlkOiBzdHJpbmcsXG4gICAgcXVlcnk/OiBSZXNwb25zZVJldHJpZXZlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8UmVzcG9uc2U+O1xuICByZXRyaWV2ZShyZXNwb25zZUlkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFJlc3BvbnNlPjtcbiAgcmV0cmlldmUoXG4gICAgcmVzcG9uc2VJZDogc3RyaW5nLFxuICAgIHF1ZXJ5OiBSZXNwb25zZVJldHJpZXZlUGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8UmVzcG9uc2U+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldHJpZXZlKHJlc3BvbnNlSWQsIHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvcmVzcG9uc2VzLyR7cmVzcG9uc2VJZH1gLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYSBtb2RlbCByZXNwb25zZSB3aXRoIHRoZSBnaXZlbiBJRC5cbiAgICovXG4gIGRlbChyZXNwb25zZUlkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3Jlc3BvbnNlcy8ke3Jlc3BvbnNlSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnKi8qJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgcGFyc2U8UGFyYW1zIGV4dGVuZHMgUmVzcG9uc2VDcmVhdGVQYXJhbXNXaXRoVG9vbHMsIFBhcnNlZFQgPSBFeHRyYWN0UGFyc2VkQ29udGVudEZyb21QYXJhbXM8UGFyYW1zPj4oXG4gICAgYm9keTogUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8UGFyc2VkUmVzcG9uc2U8UGFyc2VkVD4+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnJlc3BvbnNlc1xuICAgICAgLmNyZWF0ZShib2R5LCBvcHRpb25zKVxuICAgICAgLl90aGVuVW53cmFwKChyZXNwb25zZSkgPT4gcGFyc2VSZXNwb25zZShyZXNwb25zZSBhcyBSZXNwb25zZSwgYm9keSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjaGF0IGNvbXBsZXRpb24gc3RyZWFtXG4gICAqL1xuICBzdHJlYW08UGFyYW1zIGV4dGVuZHMgUmVzcG9uc2VTdHJlYW1QYXJhbXMsIFBhcnNlZFQgPSBFeHRyYWN0UGFyc2VkQ29udGVudEZyb21QYXJhbXM8UGFyYW1zPj4oXG4gICAgYm9keTogUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBSZXNwb25zZVN0cmVhbTxQYXJzZWRUPiB7XG4gICAgcmV0dXJuIFJlc3BvbnNlU3RyZWFtLmNyZWF0ZVJlc3BvbnNlPFBhcnNlZFQ+KHRoaXMuX2NsaWVudCwgYm9keSwgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlc3BvbnNlSXRlbXNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxSZXNwb25zZUl0ZW0+IHt9XG5cbi8qKlxuICogQSB0b29sIHRoYXQgY29udHJvbHMgYSB2aXJ0dWFsIGNvbXB1dGVyLiBMZWFybiBtb3JlIGFib3V0IHRoZVxuICogW2NvbXB1dGVyIHRvb2xdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy1jb21wdXRlci11c2UpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXB1dGVyVG9vbCB7XG4gIC8qKlxuICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBjb21wdXRlciBkaXNwbGF5LlxuICAgKi9cbiAgZGlzcGxheV9oZWlnaHQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHdpZHRoIG9mIHRoZSBjb21wdXRlciBkaXNwbGF5LlxuICAgKi9cbiAgZGlzcGxheV93aWR0aDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBjb21wdXRlciBlbnZpcm9ubWVudCB0byBjb250cm9sLlxuICAgKi9cbiAgZW52aXJvbm1lbnQ6ICdtYWMnIHwgJ3dpbmRvd3MnIHwgJ3VidW50dScgfCAnYnJvd3Nlcic7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBjb21wdXRlciB1c2UgdG9vbC4gQWx3YXlzIGBjb21wdXRlcl91c2VfcHJldmlld2AuXG4gICAqL1xuICB0eXBlOiAnY29tcHV0ZXItcHJldmlldyc7XG59XG5cbi8qKlxuICogQSBtZXNzYWdlIGlucHV0IHRvIHRoZSBtb2RlbCB3aXRoIGEgcm9sZSBpbmRpY2F0aW5nIGluc3RydWN0aW9uIGZvbGxvd2luZ1xuICogaGllcmFyY2h5LiBJbnN0cnVjdGlvbnMgZ2l2ZW4gd2l0aCB0aGUgYGRldmVsb3BlcmAgb3IgYHN5c3RlbWAgcm9sZSB0YWtlXG4gKiBwcmVjZWRlbmNlIG92ZXIgaW5zdHJ1Y3Rpb25zIGdpdmVuIHdpdGggdGhlIGB1c2VyYCByb2xlLiBNZXNzYWdlcyB3aXRoIHRoZVxuICogYGFzc2lzdGFudGAgcm9sZSBhcmUgcHJlc3VtZWQgdG8gaGF2ZSBiZWVuIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gcHJldmlvdXNcbiAqIGludGVyYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFYXN5SW5wdXRNZXNzYWdlIHtcbiAgLyoqXG4gICAqIFRleHQsIGltYWdlLCBvciBhdWRpbyBpbnB1dCB0byB0aGUgbW9kZWwsIHVzZWQgdG8gZ2VuZXJhdGUgYSByZXNwb25zZS4gQ2FuIGFsc29cbiAgICogY29udGFpbiBwcmV2aW91cyBhc3Npc3RhbnQgcmVzcG9uc2VzLlxuICAgKi9cbiAgY29udGVudDogc3RyaW5nIHwgUmVzcG9uc2VJbnB1dE1lc3NhZ2VDb250ZW50TGlzdDtcblxuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2UgaW5wdXQuIE9uZSBvZiBgdXNlcmAsIGBhc3Npc3RhbnRgLCBgc3lzdGVtYCwgb3JcbiAgICogYGRldmVsb3BlcmAuXG4gICAqL1xuICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JyB8ICdzeXN0ZW0nIHwgJ2RldmVsb3Blcic7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBtZXNzYWdlIGlucHV0LiBBbHdheXMgYG1lc3NhZ2VgLlxuICAgKi9cbiAgdHlwZT86ICdtZXNzYWdlJztcbn1cblxuLyoqXG4gKiBBIHRvb2wgdGhhdCBzZWFyY2hlcyBmb3IgcmVsZXZhbnQgY29udGVudCBmcm9tIHVwbG9hZGVkIGZpbGVzLiBMZWFybiBtb3JlIGFib3V0XG4gKiB0aGVcbiAqIFtmaWxlIHNlYXJjaCB0b29sXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtZmlsZS1zZWFyY2gpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2hUb29sIHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBmaWxlIHNlYXJjaCB0b29sLiBBbHdheXMgYGZpbGVfc2VhcmNoYC5cbiAgICovXG4gIHR5cGU6ICdmaWxlX3NlYXJjaCc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRHMgb2YgdGhlIHZlY3RvciBzdG9yZXMgdG8gc2VhcmNoLlxuICAgKi9cbiAgdmVjdG9yX3N0b3JlX2lkczogQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogQSBmaWx0ZXIgdG8gYXBwbHkgYmFzZWQgb24gZmlsZSBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgZmlsdGVycz86IFNoYXJlZC5Db21wYXJpc29uRmlsdGVyIHwgU2hhcmVkLkNvbXBvdW5kRmlsdGVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm4uIFRoaXMgbnVtYmVyIHNob3VsZCBiZSBiZXR3ZWVuIDEgYW5kIDUwXG4gICAqIGluY2x1c2l2ZS5cbiAgICovXG4gIG1heF9udW1fcmVzdWx0cz86IG51bWJlcjtcblxuICAvKipcbiAgICogUmFua2luZyBvcHRpb25zIGZvciBzZWFyY2guXG4gICAqL1xuICByYW5raW5nX29wdGlvbnM/OiBGaWxlU2VhcmNoVG9vbC5SYW5raW5nT3B0aW9ucztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaWxlU2VhcmNoVG9vbCB7XG4gIC8qKlxuICAgKiBSYW5raW5nIG9wdGlvbnMgZm9yIHNlYXJjaC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgUmFua2luZ09wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIFRoZSByYW5rZXIgdG8gdXNlIGZvciB0aGUgZmlsZSBzZWFyY2guXG4gICAgICovXG4gICAgcmFua2VyPzogJ2F1dG8nIHwgJ2RlZmF1bHQtMjAyNC0xMS0xNSc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgdGhyZXNob2xkIGZvciB0aGUgZmlsZSBzZWFyY2gsIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gTnVtYmVyc1xuICAgICAqIGNsb3NlciB0byAxIHdpbGwgYXR0ZW1wdCB0byByZXR1cm4gb25seSB0aGUgbW9zdCByZWxldmFudCByZXN1bHRzLCBidXQgbWF5XG4gICAgICogcmV0dXJuIGZld2VyIHJlc3VsdHMuXG4gICAgICovXG4gICAgc2NvcmVfdGhyZXNob2xkPzogbnVtYmVyO1xuICB9XG59XG5cbi8qKlxuICogRGVmaW5lcyBhIGZ1bmN0aW9uIGluIHlvdXIgb3duIGNvZGUgdGhlIG1vZGVsIGNhbiBjaG9vc2UgdG8gY2FsbC4gTGVhcm4gbW9yZVxuICogYWJvdXRcbiAqIFtmdW5jdGlvbiBjYWxsaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZnVuY3Rpb24tY2FsbGluZykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25Ub29sIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIEpTT04gc2NoZW1hIG9iamVjdCBkZXNjcmliaW5nIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIHBhcmFtZXRlcnM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuZm9yY2Ugc3RyaWN0IHBhcmFtZXRlciB2YWxpZGF0aW9uLiBEZWZhdWx0IGB0cnVlYC5cbiAgICovXG4gIHN0cmljdDogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGZ1bmN0aW9uIHRvb2wuIEFsd2F5cyBgZnVuY3Rpb25gLlxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uJztcblxuICAvKipcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB0aGUgZnVuY3Rpb24uIFVzZWQgYnkgdGhlIG1vZGVsIHRvIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdCB0b1xuICAgKiBjYWxsIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBSZXNwb25zZS5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBvZiB3aGVuIHRoaXMgUmVzcG9uc2Ugd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgb3V0cHV0X3RleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogQW4gZXJyb3Igb2JqZWN0IHJldHVybmVkIHdoZW4gdGhlIG1vZGVsIGZhaWxzIHRvIGdlbmVyYXRlIGEgUmVzcG9uc2UuXG4gICAqL1xuICBlcnJvcjogUmVzcG9uc2VFcnJvciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIERldGFpbHMgYWJvdXQgd2h5IHRoZSByZXNwb25zZSBpcyBpbmNvbXBsZXRlLlxuICAgKi9cbiAgaW5jb21wbGV0ZV9kZXRhaWxzOiBSZXNwb25zZS5JbmNvbXBsZXRlRGV0YWlscyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEluc2VydHMgYSBzeXN0ZW0gKG9yIGRldmVsb3BlcikgbWVzc2FnZSBhcyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgbW9kZWwnc1xuICAgKiBjb250ZXh0LlxuICAgKlxuICAgKiBXaGVuIHVzaW5nIGFsb25nIHdpdGggYHByZXZpb3VzX3Jlc3BvbnNlX2lkYCwgdGhlIGluc3RydWN0aW9ucyBmcm9tIGEgcHJldmlvdXNcbiAgICogcmVzcG9uc2Ugd2lsbCBiZSBub3QgYmUgY2FycmllZCBvdmVyIHRvIHRoZSBuZXh0IHJlc3BvbnNlLiBUaGlzIG1ha2VzIGl0IHNpbXBsZVxuICAgKiB0byBzd2FwIG91dCBzeXN0ZW0gKG9yIGRldmVsb3BlcikgbWVzc2FnZXMgaW4gbmV3IHJlc3BvbnNlcy5cbiAgICovXG4gIGluc3RydWN0aW9uczogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhOiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBNb2RlbCBJRCB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXNwb25zZSwgbGlrZSBgZ3B0LTRvYCBvciBgbzFgLiBPcGVuQUkgb2ZmZXJzIGFcbiAgICogd2lkZSByYW5nZSBvZiBtb2RlbHMgd2l0aCBkaWZmZXJlbnQgY2FwYWJpbGl0aWVzLCBwZXJmb3JtYW5jZSBjaGFyYWN0ZXJpc3RpY3MsXG4gICAqIGFuZCBwcmljZSBwb2ludHMuIFJlZmVyIHRvIHRoZVxuICAgKiBbbW9kZWwgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscykgdG8gYnJvd3NlIGFuZCBjb21wYXJlXG4gICAqIGF2YWlsYWJsZSBtb2RlbHMuXG4gICAqL1xuICBtb2RlbDogU2hhcmVkLlJlc3BvbnNlc01vZGVsO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUgb2YgdGhpcyByZXNvdXJjZSAtIGFsd2F5cyBzZXQgdG8gYHJlc3BvbnNlYC5cbiAgICovXG4gIG9iamVjdDogJ3Jlc3BvbnNlJztcblxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgY29udGVudCBpdGVtcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgKlxuICAgKiAtIFRoZSBsZW5ndGggYW5kIG9yZGVyIG9mIGl0ZW1zIGluIHRoZSBgb3V0cHV0YCBhcnJheSBpcyBkZXBlbmRlbnQgb24gdGhlXG4gICAqICAgbW9kZWwncyByZXNwb25zZS5cbiAgICogLSBSYXRoZXIgdGhhbiBhY2Nlc3NpbmcgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGBvdXRwdXRgIGFycmF5IGFuZCBhc3N1bWluZyBpdCdzXG4gICAqICAgYW4gYGFzc2lzdGFudGAgbWVzc2FnZSB3aXRoIHRoZSBjb250ZW50IGdlbmVyYXRlZCBieSB0aGUgbW9kZWwsIHlvdSBtaWdodFxuICAgKiAgIGNvbnNpZGVyIHVzaW5nIHRoZSBgb3V0cHV0X3RleHRgIHByb3BlcnR5IHdoZXJlIHN1cHBvcnRlZCBpbiBTREtzLlxuICAgKi9cbiAgb3V0cHV0OiBBcnJheTxSZXNwb25zZU91dHB1dEl0ZW0+O1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGFsbG93IHRoZSBtb2RlbCB0byBydW4gdG9vbCBjYWxscyBpbiBwYXJhbGxlbC5cbiAgICovXG4gIHBhcmFsbGVsX3Rvb2xfY2FsbHM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoYXQgc2FtcGxpbmcgdGVtcGVyYXR1cmUgdG8gdXNlLCBiZXR3ZWVuIDAgYW5kIDIuIEhpZ2hlciB2YWx1ZXMgbGlrZSAwLjggd2lsbFxuICAgKiBtYWtlIHRoZSBvdXRwdXQgbW9yZSByYW5kb20sIHdoaWxlIGxvd2VyIHZhbHVlcyBsaWtlIDAuMiB3aWxsIG1ha2UgaXQgbW9yZVxuICAgKiBmb2N1c2VkIGFuZCBkZXRlcm1pbmlzdGljLiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgYHRvcF9wYCBidXRcbiAgICogbm90IGJvdGguXG4gICAqL1xuICB0ZW1wZXJhdHVyZTogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogSG93IHRoZSBtb2RlbCBzaG91bGQgc2VsZWN0IHdoaWNoIHRvb2wgKG9yIHRvb2xzKSB0byB1c2Ugd2hlbiBnZW5lcmF0aW5nIGFcbiAgICogcmVzcG9uc2UuIFNlZSB0aGUgYHRvb2xzYCBwYXJhbWV0ZXIgdG8gc2VlIGhvdyB0byBzcGVjaWZ5IHdoaWNoIHRvb2xzIHRoZSBtb2RlbFxuICAgKiBjYW4gY2FsbC5cbiAgICovXG4gIHRvb2xfY2hvaWNlOiBUb29sQ2hvaWNlT3B0aW9ucyB8IFRvb2xDaG9pY2VUeXBlcyB8IFRvb2xDaG9pY2VGdW5jdGlvbjtcblxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgdG9vbHMgdGhlIG1vZGVsIG1heSBjYWxsIHdoaWxlIGdlbmVyYXRpbmcgYSByZXNwb25zZS4gWW91IGNhblxuICAgKiBzcGVjaWZ5IHdoaWNoIHRvb2wgdG8gdXNlIGJ5IHNldHRpbmcgdGhlIGB0b29sX2Nob2ljZWAgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBUaGUgdHdvIGNhdGVnb3JpZXMgb2YgdG9vbHMgeW91IGNhbiBwcm92aWRlIHRoZSBtb2RlbCBhcmU6XG4gICAqXG4gICAqIC0gKipCdWlsdC1pbiB0b29scyoqOiBUb29scyB0aGF0IGFyZSBwcm92aWRlZCBieSBPcGVuQUkgdGhhdCBleHRlbmQgdGhlIG1vZGVsJ3NcbiAgICogICBjYXBhYmlsaXRpZXMsIGxpa2VcbiAgICogICBbd2ViIHNlYXJjaF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLXdlYi1zZWFyY2gpIG9yXG4gICAqICAgW2ZpbGUgc2VhcmNoXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtZmlsZS1zZWFyY2gpLlxuICAgKiAgIExlYXJuIG1vcmUgYWJvdXRcbiAgICogICBbYnVpbHQtaW4gdG9vbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scykuXG4gICAqIC0gKipGdW5jdGlvbiBjYWxscyAoY3VzdG9tIHRvb2xzKSoqOiBGdW5jdGlvbnMgdGhhdCBhcmUgZGVmaW5lZCBieSB5b3UsIGVuYWJsaW5nXG4gICAqICAgdGhlIG1vZGVsIHRvIGNhbGwgeW91ciBvd24gY29kZS4gTGVhcm4gbW9yZSBhYm91dFxuICAgKiAgIFtmdW5jdGlvbiBjYWxsaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZnVuY3Rpb24tY2FsbGluZykuXG4gICAqL1xuICB0b29sczogQXJyYXk8VG9vbD47XG5cbiAgLyoqXG4gICAqIEFuIGFsdGVybmF0aXZlIHRvIHNhbXBsaW5nIHdpdGggdGVtcGVyYXR1cmUsIGNhbGxlZCBudWNsZXVzIHNhbXBsaW5nLCB3aGVyZSB0aGVcbiAgICogbW9kZWwgY29uc2lkZXJzIHRoZSByZXN1bHRzIG9mIHRoZSB0b2tlbnMgd2l0aCB0b3BfcCBwcm9iYWJpbGl0eSBtYXNzLiBTbyAwLjFcbiAgICogbWVhbnMgb25seSB0aGUgdG9rZW5zIGNvbXByaXNpbmcgdGhlIHRvcCAxMCUgcHJvYmFiaWxpdHkgbWFzcyBhcmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIGB0ZW1wZXJhdHVyZWAgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A6IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIHVwcGVyIGJvdW5kIGZvciB0aGUgbnVtYmVyIG9mIHRva2VucyB0aGF0IGNhbiBiZSBnZW5lcmF0ZWQgZm9yIGEgcmVzcG9uc2UsXG4gICAqIGluY2x1ZGluZyB2aXNpYmxlIG91dHB1dCB0b2tlbnMgYW5kXG4gICAqIFtyZWFzb25pbmcgdG9rZW5zXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvcmVhc29uaW5nKS5cbiAgICovXG4gIG1heF9vdXRwdXRfdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgcHJldmlvdXMgcmVzcG9uc2UgdG8gdGhlIG1vZGVsLiBVc2UgdGhpcyB0byBjcmVhdGVcbiAgICogbXVsdGktdHVybiBjb252ZXJzYXRpb25zLiBMZWFybiBtb3JlIGFib3V0XG4gICAqIFtjb252ZXJzYXRpb24gc3RhdGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9jb252ZXJzYXRpb24tc3RhdGUpLlxuICAgKi9cbiAgcHJldmlvdXNfcmVzcG9uc2VfaWQ/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiAqKm8tc2VyaWVzIG1vZGVscyBvbmx5KipcbiAgICpcbiAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvclxuICAgKiBbcmVhc29uaW5nIG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3JlYXNvbmluZykuXG4gICAqL1xuICByZWFzb25pbmc/OiBTaGFyZWQuUmVhc29uaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgcmVzcG9uc2UgZ2VuZXJhdGlvbi4gT25lIG9mIGBjb21wbGV0ZWRgLCBgZmFpbGVkYCxcbiAgICogYGluX3Byb2dyZXNzYCwgb3IgYGluY29tcGxldGVgLlxuICAgKi9cbiAgc3RhdHVzPzogUmVzcG9uc2VTdGF0dXM7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgYSB0ZXh0IHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLiBDYW4gYmUgcGxhaW4gdGV4dCBvclxuICAgKiBzdHJ1Y3R1cmVkIEpTT04gZGF0YS4gTGVhcm4gbW9yZTpcbiAgICpcbiAgICogLSBbVGV4dCBpbnB1dHMgYW5kIG91dHB1dHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0KVxuICAgKiAtIFtTdHJ1Y3R1cmVkIE91dHB1dHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpXG4gICAqL1xuICB0ZXh0PzogUmVzcG9uc2VUZXh0Q29uZmlnO1xuXG4gIC8qKlxuICAgKiBUaGUgdHJ1bmNhdGlvbiBzdHJhdGVneSB0byB1c2UgZm9yIHRoZSBtb2RlbCByZXNwb25zZS5cbiAgICpcbiAgICogLSBgYXV0b2A6IElmIHRoZSBjb250ZXh0IG9mIHRoaXMgcmVzcG9uc2UgYW5kIHByZXZpb3VzIG9uZXMgZXhjZWVkcyB0aGUgbW9kZWwnc1xuICAgKiAgIGNvbnRleHQgd2luZG93IHNpemUsIHRoZSBtb2RlbCB3aWxsIHRydW5jYXRlIHRoZSByZXNwb25zZSB0byBmaXQgdGhlIGNvbnRleHRcbiAgICogICB3aW5kb3cgYnkgZHJvcHBpbmcgaW5wdXQgaXRlbXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgY29udmVyc2F0aW9uLlxuICAgKiAtIGBkaXNhYmxlZGAgKGRlZmF1bHQpOiBJZiBhIG1vZGVsIHJlc3BvbnNlIHdpbGwgZXhjZWVkIHRoZSBjb250ZXh0IHdpbmRvdyBzaXplXG4gICAqICAgZm9yIGEgbW9kZWwsIHRoZSByZXF1ZXN0IHdpbGwgZmFpbCB3aXRoIGEgNDAwIGVycm9yLlxuICAgKi9cbiAgdHJ1bmNhdGlvbj86ICdhdXRvJyB8ICdkaXNhYmxlZCcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHRva2VuIHVzYWdlIGRldGFpbHMgaW5jbHVkaW5nIGlucHV0IHRva2Vucywgb3V0cHV0IHRva2VucywgYVxuICAgKiBicmVha2Rvd24gb2Ygb3V0cHV0IHRva2VucywgYW5kIHRoZSB0b3RhbCB0b2tlbnMgdXNlZC5cbiAgICovXG4gIHVzYWdlPzogUmVzcG9uc2VVc2FnZTtcblxuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciByZXByZXNlbnRpbmcgeW91ciBlbmQtdXNlciwgd2hpY2ggY2FuIGhlbHAgT3BlbkFJIHRvIG1vbml0b3JcbiAgICogYW5kIGRldGVjdCBhYnVzZS5cbiAgICogW0xlYXJuIG1vcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zYWZldHktYmVzdC1wcmFjdGljZXMjZW5kLXVzZXItaWRzKS5cbiAgICovXG4gIHVzZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUmVzcG9uc2Uge1xuICAvKipcbiAgICogRGV0YWlscyBhYm91dCB3aHkgdGhlIHJlc3BvbnNlIGlzIGluY29tcGxldGUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEluY29tcGxldGVEZXRhaWxzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVhc29uIHdoeSB0aGUgcmVzcG9uc2UgaXMgaW5jb21wbGV0ZS5cbiAgICAgKi9cbiAgICByZWFzb24/OiAnbWF4X291dHB1dF90b2tlbnMnIHwgJ2NvbnRlbnRfZmlsdGVyJztcbiAgfVxufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiB0aGVyZSBpcyBhIHBhcnRpYWwgYXVkaW8gcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VBdWRpb0RlbHRhRXZlbnQge1xuICAvKipcbiAgICogQSBjaHVuayBvZiBCYXNlNjQgZW5jb2RlZCByZXNwb25zZSBhdWRpbyBieXRlcy5cbiAgICovXG4gIGRlbHRhOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5hdWRpby5kZWx0YWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuYXVkaW8uZGVsdGEnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiB0aGUgYXVkaW8gcmVzcG9uc2UgaXMgY29tcGxldGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VBdWRpb0RvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuYXVkaW8uZG9uZWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuYXVkaW8uZG9uZSc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZXJlIGlzIGEgcGFydGlhbCB0cmFuc2NyaXB0IG9mIGF1ZGlvLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQXVkaW9UcmFuc2NyaXB0RGVsdGFFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgcGFydGlhbCB0cmFuc2NyaXB0IG9mIHRoZSBhdWRpbyByZXNwb25zZS5cbiAgICovXG4gIGRlbHRhOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5hdWRpby50cmFuc2NyaXB0LmRlbHRhYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5hdWRpby50cmFuc2NyaXB0LmRlbHRhJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIGZ1bGwgYXVkaW8gdHJhbnNjcmlwdCBpcyBjb21wbGV0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VBdWRpb1RyYW5zY3JpcHREb25lRXZlbnQge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmF1ZGlvLnRyYW5zY3JpcHQuZG9uZWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuYXVkaW8udHJhbnNjcmlwdC5kb25lJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYSBwYXJ0aWFsIGNvZGUgc25pcHBldCBpcyBhZGRlZCBieSB0aGUgY29kZSBpbnRlcnByZXRlci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNvZGVJbnRlcnByZXRlckNhbGxDb2RlRGVsdGFFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgcGFydGlhbCBjb2RlIHNuaXBwZXQgYWRkZWQgYnkgdGhlIGNvZGUgaW50ZXJwcmV0ZXIuXG4gICAqL1xuICBkZWx0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIGNvZGUgaW50ZXJwcmV0ZXIgY2FsbCBpcyBpbiBwcm9ncmVzcy5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuY29kZV9pbnRlcnByZXRlcl9jYWxsLmNvZGUuZGVsdGFgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmNvZGVfaW50ZXJwcmV0ZXJfY2FsbC5jb2RlLmRlbHRhJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gY29kZSBzbmlwcGV0IG91dHB1dCBpcyBmaW5hbGl6ZWQgYnkgdGhlIGNvZGUgaW50ZXJwcmV0ZXIuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJDYWxsQ29kZURvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgZmluYWwgY29kZSBzbmlwcGV0IG91dHB1dCBieSB0aGUgY29kZSBpbnRlcnByZXRlci5cbiAgICovXG4gIGNvZGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBjb2RlIGludGVycHJldGVyIGNhbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmNvZGVfaW50ZXJwcmV0ZXJfY2FsbC5jb2RlLmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmNvZGVfaW50ZXJwcmV0ZXJfY2FsbC5jb2RlLmRvbmUnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiB0aGUgY29kZSBpbnRlcnByZXRlciBjYWxsIGlzIGNvbXBsZXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNvZGVJbnRlcnByZXRlckNhbGxDb21wbGV0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBBIHRvb2wgY2FsbCB0byBydW4gY29kZS5cbiAgICovXG4gIGNvZGVfaW50ZXJwcmV0ZXJfY2FsbDogUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbDtcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBjb2RlIGludGVycHJldGVyIGNhbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmNvZGVfaW50ZXJwcmV0ZXJfY2FsbC5jb21wbGV0ZWRgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmNvZGVfaW50ZXJwcmV0ZXJfY2FsbC5jb21wbGV0ZWQnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhIGNvZGUgaW50ZXJwcmV0ZXIgY2FsbCBpcyBpbiBwcm9ncmVzcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNvZGVJbnRlcnByZXRlckNhbGxJblByb2dyZXNzRXZlbnQge1xuICAvKipcbiAgICogQSB0b29sIGNhbGwgdG8gcnVuIGNvZGUuXG4gICAqL1xuICBjb2RlX2ludGVycHJldGVyX2NhbGw6IFJlc3BvbnNlQ29kZUludGVycHJldGVyVG9vbENhbGw7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgY29kZSBpbnRlcnByZXRlciBjYWxsIGlzIGluIHByb2dyZXNzLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5jb2RlX2ludGVycHJldGVyX2NhbGwuaW5fcHJvZ3Jlc3NgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmNvZGVfaW50ZXJwcmV0ZXJfY2FsbC5pbl9wcm9ncmVzcyc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZSBjb2RlIGludGVycHJldGVyIGlzIGFjdGl2ZWx5IGludGVycHJldGluZyB0aGUgY29kZSBzbmlwcGV0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ29kZUludGVycHJldGVyQ2FsbEludGVycHJldGluZ0V2ZW50IHtcbiAgLyoqXG4gICAqIEEgdG9vbCBjYWxsIHRvIHJ1biBjb2RlLlxuICAgKi9cbiAgY29kZV9pbnRlcnByZXRlcl9jYWxsOiBSZXNwb25zZUNvZGVJbnRlcnByZXRlclRvb2xDYWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIGNvZGUgaW50ZXJwcmV0ZXIgY2FsbCBpcyBpbiBwcm9ncmVzcy5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuY29kZV9pbnRlcnByZXRlcl9jYWxsLmludGVycHJldGluZ2AuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuY29kZV9pbnRlcnByZXRlcl9jYWxsLmludGVycHJldGluZyc7XG59XG5cbi8qKlxuICogQSB0b29sIGNhbGwgdG8gcnVuIGNvZGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBjb2RlIGludGVycHJldGVyIHRvb2wgY2FsbC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjb2RlIHRvIHJ1bi5cbiAgICovXG4gIGNvZGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHJlc3VsdHMgb2YgdGhlIGNvZGUgaW50ZXJwcmV0ZXIgdG9vbCBjYWxsLlxuICAgKi9cbiAgcmVzdWx0czogQXJyYXk8UmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbC5Mb2dzIHwgUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbC5GaWxlcz47XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGNvZGUgaW50ZXJwcmV0ZXIgdG9vbCBjYWxsLlxuICAgKi9cbiAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnIHwgJ2ludGVycHJldGluZycgfCAnY29tcGxldGVkJztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGNvZGUgaW50ZXJwcmV0ZXIgdG9vbCBjYWxsLiBBbHdheXMgYGNvZGVfaW50ZXJwcmV0ZXJfY2FsbGAuXG4gICAqL1xuICB0eXBlOiAnY29kZV9pbnRlcnByZXRlcl9jYWxsJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZUNvZGVJbnRlcnByZXRlclRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSBvdXRwdXQgb2YgYSBjb2RlIGludGVycHJldGVyIHRvb2wgY2FsbCB0aGF0IGlzIHRleHQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIExvZ3Mge1xuICAgIC8qKlxuICAgICAqIFRoZSBsb2dzIG9mIHRoZSBjb2RlIGludGVycHJldGVyIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBsb2dzOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgY29kZSBpbnRlcnByZXRlciB0ZXh0IG91dHB1dC4gQWx3YXlzIGBsb2dzYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnbG9ncyc7XG4gIH1cblxuICAvKipcbiAgICogVGhlIG91dHB1dCBvZiBhIGNvZGUgaW50ZXJwcmV0ZXIgdG9vbCBjYWxsIHRoYXQgaXMgYSBmaWxlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlcyB7XG4gICAgZmlsZXM6IEFycmF5PEZpbGVzLkZpbGU+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIGNvZGUgaW50ZXJwcmV0ZXIgZmlsZSBvdXRwdXQuIEFsd2F5cyBgZmlsZXNgLlxuICAgICAqL1xuICAgIHR5cGU6ICdmaWxlcyc7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIEZpbGVzIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGUge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWQ6IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgTUlNRSB0eXBlIG9mIHRoZSBmaWxlLlxuICAgICAgICovXG4gICAgICBtaW1lX3R5cGU6IHN0cmluZztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIG1vZGVsIHJlc3BvbnNlIGlzIGNvbXBsZXRlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ29tcGxldGVkRXZlbnQge1xuICAvKipcbiAgICogUHJvcGVydGllcyBvZiB0aGUgY29tcGxldGVkIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2U6IFJlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuY29tcGxldGVkYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jb21wbGV0ZWQnO1xufVxuXG4vKipcbiAqIEEgdG9vbCBjYWxsIHRvIGEgY29tcHV0ZXIgdXNlIHRvb2wuIFNlZSB0aGVcbiAqIFtjb21wdXRlciB1c2UgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy1jb21wdXRlci11c2UpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgY2xpY2sgYWN0aW9uLlxuICAgKi9cbiAgYWN0aW9uOlxuICAgIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsLkNsaWNrXG4gICAgfCBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGwuRG91YmxlQ2xpY2tcbiAgICB8IFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbC5EcmFnXG4gICAgfCBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGwuS2V5cHJlc3NcbiAgICB8IFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbC5Nb3ZlXG4gICAgfCBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGwuU2NyZWVuc2hvdFxuICAgIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsLlNjcm9sbFxuICAgIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsLlR5cGVcbiAgICB8IFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbC5XYWl0O1xuXG4gIC8qKlxuICAgKiBBbiBpZGVudGlmaWVyIHVzZWQgd2hlbiByZXNwb25kaW5nIHRvIHRoZSB0b29sIGNhbGwgd2l0aCBvdXRwdXQuXG4gICAqL1xuICBjYWxsX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwZW5kaW5nIHNhZmV0eSBjaGVja3MgZm9yIHRoZSBjb21wdXRlciBjYWxsLlxuICAgKi9cbiAgcGVuZGluZ19zYWZldHlfY2hlY2tzOiBBcnJheTxSZXNwb25zZUNvbXB1dGVyVG9vbENhbGwuUGVuZGluZ1NhZmV0eUNoZWNrPjtcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgaXRlbS4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBvciBgaW5jb21wbGV0ZWAuXG4gICAqIFBvcHVsYXRlZCB3aGVuIGl0ZW1zIGFyZSByZXR1cm5lZCB2aWEgQVBJLlxuICAgKi9cbiAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnIHwgJ2NvbXBsZXRlZCcgfCAnaW5jb21wbGV0ZSc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBjb21wdXRlciBjYWxsLiBBbHdheXMgYGNvbXB1dGVyX2NhbGxgLlxuICAgKi9cbiAgdHlwZTogJ2NvbXB1dGVyX2NhbGwnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBBIGNsaWNrIGFjdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ2xpY2sge1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBtb3VzZSBidXR0b24gd2FzIHByZXNzZWQgZHVyaW5nIHRoZSBjbGljay4gT25lIG9mIGBsZWZ0YCxcbiAgICAgKiBgcmlnaHRgLCBgd2hlZWxgLCBgYmFja2AsIG9yIGBmb3J3YXJkYC5cbiAgICAgKi9cbiAgICBidXR0b246ICdsZWZ0JyB8ICdyaWdodCcgfCAnd2hlZWwnIHwgJ2JhY2snIHwgJ2ZvcndhcmQnO1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBldmVudCB0eXBlLiBGb3IgYSBjbGljayBhY3Rpb24sIHRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIHNldCB0b1xuICAgICAqIGBjbGlja2AuXG4gICAgICovXG4gICAgdHlwZTogJ2NsaWNrJztcblxuICAgIC8qKlxuICAgICAqIFRoZSB4LWNvb3JkaW5hdGUgd2hlcmUgdGhlIGNsaWNrIG9jY3VycmVkLlxuICAgICAqL1xuICAgIHg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB5LWNvb3JkaW5hdGUgd2hlcmUgdGhlIGNsaWNrIG9jY3VycmVkLlxuICAgICAqL1xuICAgIHk6IG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGRvdWJsZSBjbGljayBhY3Rpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIERvdWJsZUNsaWNrIHtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGV2ZW50IHR5cGUuIEZvciBhIGRvdWJsZSBjbGljayBhY3Rpb24sIHRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIHNldFxuICAgICAqIHRvIGBkb3VibGVfY2xpY2tgLlxuICAgICAqL1xuICAgIHR5cGU6ICdkb3VibGVfY2xpY2snO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHgtY29vcmRpbmF0ZSB3aGVyZSB0aGUgZG91YmxlIGNsaWNrIG9jY3VycmVkLlxuICAgICAqL1xuICAgIHg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB5LWNvb3JkaW5hdGUgd2hlcmUgdGhlIGRvdWJsZSBjbGljayBvY2N1cnJlZC5cbiAgICAgKi9cbiAgICB5OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogQSBkcmFnIGFjdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRHJhZyB7XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgY29vcmRpbmF0ZXMgcmVwcmVzZW50aW5nIHRoZSBwYXRoIG9mIHRoZSBkcmFnIGFjdGlvbi4gQ29vcmRpbmF0ZXNcbiAgICAgKiB3aWxsIGFwcGVhciBhcyBhbiBhcnJheSBvZiBvYmplY3RzLCBlZ1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICogW1xuICAgICAqICAgeyB4OiAxMDAsIHk6IDIwMCB9LFxuICAgICAqICAgeyB4OiAyMDAsIHk6IDMwMCB9XG4gICAgICogXVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHBhdGg6IEFycmF5PERyYWcuUGF0aD47XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGV2ZW50IHR5cGUuIEZvciBhIGRyYWcgYWN0aW9uLCB0aGlzIHByb3BlcnR5IGlzIGFsd2F5cyBzZXQgdG9cbiAgICAgKiBgZHJhZ2AuXG4gICAgICovXG4gICAgdHlwZTogJ2RyYWcnO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBEcmFnIHtcbiAgICAvKipcbiAgICAgKiBBIHNlcmllcyBvZiB4L3kgY29vcmRpbmF0ZSBwYWlycyBpbiB0aGUgZHJhZyBwYXRoLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgUGF0aCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSB4LWNvb3JkaW5hdGUuXG4gICAgICAgKi9cbiAgICAgIHg6IG51bWJlcjtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgeS1jb29yZGluYXRlLlxuICAgICAgICovXG4gICAgICB5OiBudW1iZXI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEEgY29sbGVjdGlvbiBvZiBrZXlwcmVzc2VzIHRoZSBtb2RlbCB3b3VsZCBsaWtlIHRvIHBlcmZvcm0uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEtleXByZXNzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29tYmluYXRpb24gb2Yga2V5cyB0aGUgbW9kZWwgaXMgcmVxdWVzdGluZyB0byBiZSBwcmVzc2VkLiBUaGlzIGlzIGFuIGFycmF5XG4gICAgICogb2Ygc3RyaW5ncywgZWFjaCByZXByZXNlbnRpbmcgYSBrZXkuXG4gICAgICovXG4gICAga2V5czogQXJyYXk8c3RyaW5nPjtcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZXZlbnQgdHlwZS4gRm9yIGEga2V5cHJlc3MgYWN0aW9uLCB0aGlzIHByb3BlcnR5IGlzIGFsd2F5cyBzZXQgdG9cbiAgICAgKiBga2V5cHJlc3NgLlxuICAgICAqL1xuICAgIHR5cGU6ICdrZXlwcmVzcyc7XG4gIH1cblxuICAvKipcbiAgICogQSBtb3VzZSBtb3ZlIGFjdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTW92ZSB7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBldmVudCB0eXBlLiBGb3IgYSBtb3ZlIGFjdGlvbiwgdGhpcyBwcm9wZXJ0eSBpcyBhbHdheXMgc2V0IHRvXG4gICAgICogYG1vdmVgLlxuICAgICAqL1xuICAgIHR5cGU6ICdtb3ZlJztcblxuICAgIC8qKlxuICAgICAqIFRoZSB4LWNvb3JkaW5hdGUgdG8gbW92ZSB0by5cbiAgICAgKi9cbiAgICB4OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeS1jb29yZGluYXRlIHRvIG1vdmUgdG8uXG4gICAgICovXG4gICAgeTogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc2NyZWVuc2hvdCBhY3Rpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFNjcmVlbnNob3Qge1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZXZlbnQgdHlwZS4gRm9yIGEgc2NyZWVuc2hvdCBhY3Rpb24sIHRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIHNldFxuICAgICAqIHRvIGBzY3JlZW5zaG90YC5cbiAgICAgKi9cbiAgICB0eXBlOiAnc2NyZWVuc2hvdCc7XG4gIH1cblxuICAvKipcbiAgICogQSBzY3JvbGwgYWN0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBTY3JvbGwge1xuICAgIC8qKlxuICAgICAqIFRoZSBob3Jpem9udGFsIHNjcm9sbCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBzY3JvbGxfeDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnRpY2FsIHNjcm9sbCBkaXN0YW5jZS5cbiAgICAgKi9cbiAgICBzY3JvbGxfeTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBldmVudCB0eXBlLiBGb3IgYSBzY3JvbGwgYWN0aW9uLCB0aGlzIHByb3BlcnR5IGlzIGFsd2F5cyBzZXQgdG9cbiAgICAgKiBgc2Nyb2xsYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnc2Nyb2xsJztcblxuICAgIC8qKlxuICAgICAqIFRoZSB4LWNvb3JkaW5hdGUgd2hlcmUgdGhlIHNjcm9sbCBvY2N1cnJlZC5cbiAgICAgKi9cbiAgICB4OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeS1jb29yZGluYXRlIHdoZXJlIHRoZSBzY3JvbGwgb2NjdXJyZWQuXG4gICAgICovXG4gICAgeTogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIGFjdGlvbiB0byB0eXBlIGluIHRleHQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFR5cGUge1xuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IHRvIHR5cGUuXG4gICAgICovXG4gICAgdGV4dDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBldmVudCB0eXBlLiBGb3IgYSB0eXBlIGFjdGlvbiwgdGhpcyBwcm9wZXJ0eSBpcyBhbHdheXMgc2V0IHRvXG4gICAgICogYHR5cGVgLlxuICAgICAqL1xuICAgIHR5cGU6ICd0eXBlJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHdhaXQgYWN0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBXYWl0IHtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGV2ZW50IHR5cGUuIEZvciBhIHdhaXQgYWN0aW9uLCB0aGlzIHByb3BlcnR5IGlzIGFsd2F5cyBzZXQgdG9cbiAgICAgKiBgd2FpdGAuXG4gICAgICovXG4gICAgdHlwZTogJ3dhaXQnO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgcGVuZGluZyBzYWZldHkgY2hlY2sgZm9yIHRoZSBjb21wdXRlciBjYWxsLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBQZW5kaW5nU2FmZXR5Q2hlY2sge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgcGVuZGluZyBzYWZldHkgY2hlY2suXG4gICAgICovXG4gICAgaWQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBwZW5kaW5nIHNhZmV0eSBjaGVjay5cbiAgICAgKi9cbiAgICBjb2RlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBEZXRhaWxzIGFib3V0IHRoZSBwZW5kaW5nIHNhZmV0eSBjaGVjay5cbiAgICAgKi9cbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGxPdXRwdXRJdGVtIHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIGNvbXB1dGVyIGNhbGwgdG9vbCBvdXRwdXQuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIHRvb2wgY2FsbCB0aGF0IHByb2R1Y2VkIHRoZSBvdXRwdXQuXG4gICAqL1xuICBjYWxsX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgY29tcHV0ZXIgc2NyZWVuc2hvdCBpbWFnZSB1c2VkIHdpdGggdGhlIGNvbXB1dGVyIHVzZSB0b29sLlxuICAgKi9cbiAgb3V0cHV0OiBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGxPdXRwdXRTY3JlZW5zaG90O1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgY29tcHV0ZXIgdG9vbCBjYWxsIG91dHB1dC4gQWx3YXlzIGBjb21wdXRlcl9jYWxsX291dHB1dGAuXG4gICAqL1xuICB0eXBlOiAnY29tcHV0ZXJfY2FsbF9vdXRwdXQnO1xuXG4gIC8qKlxuICAgKiBUaGUgc2FmZXR5IGNoZWNrcyByZXBvcnRlZCBieSB0aGUgQVBJIHRoYXQgaGF2ZSBiZWVuIGFja25vd2xlZGdlZCBieSB0aGVcbiAgICogZGV2ZWxvcGVyLlxuICAgKi9cbiAgYWNrbm93bGVkZ2VkX3NhZmV0eV9jaGVja3M/OiBBcnJheTxSZXNwb25zZUNvbXB1dGVyVG9vbENhbGxPdXRwdXRJdGVtLkFja25vd2xlZGdlZFNhZmV0eUNoZWNrPjtcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgbWVzc2FnZSBpbnB1dC4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBvclxuICAgKiBgaW5jb21wbGV0ZWAuIFBvcHVsYXRlZCB3aGVuIGlucHV0IGl0ZW1zIGFyZSByZXR1cm5lZCB2aWEgQVBJLlxuICAgKi9cbiAgc3RhdHVzPzogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2luY29tcGxldGUnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbE91dHB1dEl0ZW0ge1xuICAvKipcbiAgICogQSBwZW5kaW5nIHNhZmV0eSBjaGVjayBmb3IgdGhlIGNvbXB1dGVyIGNhbGwuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEFja25vd2xlZGdlZFNhZmV0eUNoZWNrIHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIHBlbmRpbmcgc2FmZXR5IGNoZWNrLlxuICAgICAqL1xuICAgIGlkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcGVuZGluZyBzYWZldHkgY2hlY2suXG4gICAgICovXG4gICAgY29kZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogRGV0YWlscyBhYm91dCB0aGUgcGVuZGluZyBzYWZldHkgY2hlY2suXG4gICAgICovXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogQSBjb21wdXRlciBzY3JlZW5zaG90IGltYWdlIHVzZWQgd2l0aCB0aGUgY29tcHV0ZXIgdXNlIHRvb2wuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsT3V0cHV0U2NyZWVuc2hvdCB7XG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGV2ZW50IHR5cGUuIEZvciBhIGNvbXB1dGVyIHNjcmVlbnNob3QsIHRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIHNldFxuICAgKiB0byBgY29tcHV0ZXJfc2NyZWVuc2hvdGAuXG4gICAqL1xuICB0eXBlOiAnY29tcHV0ZXJfc2NyZWVuc2hvdCc7XG5cbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIGFuIHVwbG9hZGVkIGZpbGUgdGhhdCBjb250YWlucyB0aGUgc2NyZWVuc2hvdC5cbiAgICovXG4gIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVUkwgb2YgdGhlIHNjcmVlbnNob3QgaW1hZ2UuXG4gICAqL1xuICBpbWFnZV91cmw/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogTXVsdGktbW9kYWwgaW5wdXQgYW5kIG91dHB1dCBjb250ZW50cy5cbiAqL1xuZXhwb3J0IHR5cGUgUmVzcG9uc2VDb250ZW50ID1cbiAgfCBSZXNwb25zZUlucHV0VGV4dFxuICB8IFJlc3BvbnNlSW5wdXRJbWFnZVxuICB8IFJlc3BvbnNlSW5wdXRGaWxlXG4gIHwgUmVzcG9uc2VPdXRwdXRUZXh0XG4gIHwgUmVzcG9uc2VPdXRwdXRSZWZ1c2FsO1xuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhIG5ldyBjb250ZW50IHBhcnQgaXMgYWRkZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb250ZW50UGFydEFkZGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgdGhhdCB3YXMgYWRkZWQuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgY29udGVudCBwYXJ0IHdhcyBhZGRlZCB0by5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBjb250ZW50IHBhcnQgd2FzIGFkZGVkIHRvLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IHBhcnQgdGhhdCB3YXMgYWRkZWQuXG4gICAqL1xuICBwYXJ0OiBSZXNwb25zZU91dHB1dFRleHQgfCBSZXNwb25zZU91dHB1dFJlZnVzYWw7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5jb250ZW50X3BhcnQuYWRkZWRgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmNvbnRlbnRfcGFydC5hZGRlZCc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIGEgY29udGVudCBwYXJ0IGlzIGRvbmUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb250ZW50UGFydERvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCB0aGF0IGlzIGRvbmUuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgY29udGVudCBwYXJ0IHdhcyBhZGRlZCB0by5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBjb250ZW50IHBhcnQgd2FzIGFkZGVkIHRvLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IHBhcnQgdGhhdCBpcyBkb25lLlxuICAgKi9cbiAgcGFydDogUmVzcG9uc2VPdXRwdXRUZXh0IHwgUmVzcG9uc2VPdXRwdXRSZWZ1c2FsO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuY29udGVudF9wYXJ0LmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmNvbnRlbnRfcGFydC5kb25lJztcbn1cblxuLyoqXG4gKiBBbiBldmVudCB0aGF0IGlzIGVtaXR0ZWQgd2hlbiBhIHJlc3BvbnNlIGlzIGNyZWF0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDcmVhdGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIHJlc3BvbnNlIHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICByZXNwb25zZTogUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5jcmVhdGVkYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jcmVhdGVkJztcbn1cblxuLyoqXG4gKiBBbiBlcnJvciBvYmplY3QgcmV0dXJuZWQgd2hlbiB0aGUgbW9kZWwgZmFpbHMgdG8gZ2VuZXJhdGUgYSBSZXNwb25zZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUVycm9yIHtcbiAgLyoqXG4gICAqIFRoZSBlcnJvciBjb2RlIGZvciB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICBjb2RlOlxuICAgIHwgJ3NlcnZlcl9lcnJvcidcbiAgICB8ICdyYXRlX2xpbWl0X2V4Y2VlZGVkJ1xuICAgIHwgJ2ludmFsaWRfcHJvbXB0J1xuICAgIHwgJ3ZlY3Rvcl9zdG9yZV90aW1lb3V0J1xuICAgIHwgJ2ludmFsaWRfaW1hZ2UnXG4gICAgfCAnaW52YWxpZF9pbWFnZV9mb3JtYXQnXG4gICAgfCAnaW52YWxpZF9iYXNlNjRfaW1hZ2UnXG4gICAgfCAnaW52YWxpZF9pbWFnZV91cmwnXG4gICAgfCAnaW1hZ2VfdG9vX2xhcmdlJ1xuICAgIHwgJ2ltYWdlX3Rvb19zbWFsbCdcbiAgICB8ICdpbWFnZV9wYXJzZV9lcnJvcidcbiAgICB8ICdpbWFnZV9jb250ZW50X3BvbGljeV92aW9sYXRpb24nXG4gICAgfCAnaW52YWxpZF9pbWFnZV9tb2RlJ1xuICAgIHwgJ2ltYWdlX2ZpbGVfdG9vX2xhcmdlJ1xuICAgIHwgJ3Vuc3VwcG9ydGVkX2ltYWdlX21lZGlhX3R5cGUnXG4gICAgfCAnZW1wdHlfaW1hZ2VfZmlsZSdcbiAgICB8ICdmYWlsZWRfdG9fZG93bmxvYWRfaW1hZ2UnXG4gICAgfCAnaW1hZ2VfZmlsZV9ub3RfZm91bmQnO1xuXG4gIC8qKlxuICAgKiBBIGh1bWFuLXJlYWRhYmxlIGRlc2NyaXB0aW9uIG9mIHRoZSBlcnJvci5cbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRXJyb3JFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgZXJyb3IgY29kZS5cbiAgICovXG4gIGNvZGU6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgbWVzc2FnZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXJyb3IgcGFyYW1ldGVyLlxuICAgKi9cbiAgcGFyYW06IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGBlcnJvcmAuXG4gICAqL1xuICB0eXBlOiAnZXJyb3InO1xufVxuXG4vKipcbiAqIEFuIGV2ZW50IHRoYXQgaXMgZW1pdHRlZCB3aGVuIGEgcmVzcG9uc2UgZmFpbHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VGYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgcmVzcG9uc2UgdGhhdCBmYWlsZWQuXG4gICAqL1xuICByZXNwb25zZTogUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5mYWlsZWRgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmZhaWxlZCc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIGEgZmlsZSBzZWFyY2ggY2FsbCBpcyBjb21wbGV0ZWQgKHJlc3VsdHMgZm91bmQpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRmlsZVNlYXJjaENhbGxDb21wbGV0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIGZpbGUgc2VhcmNoIGNhbGwgaXMgaW5pdGlhdGVkLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIGZpbGUgc2VhcmNoIGNhbGwgaXMgaW5pdGlhdGVkLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5maWxlX3NlYXJjaF9jYWxsLmNvbXBsZXRlZGAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuZmlsZV9zZWFyY2hfY2FsbC5jb21wbGV0ZWQnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhIGZpbGUgc2VhcmNoIGNhbGwgaXMgaW5pdGlhdGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRmlsZVNlYXJjaENhbGxJblByb2dyZXNzRXZlbnQge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBmaWxlIHNlYXJjaCBjYWxsIGlzIGluaXRpYXRlZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBmaWxlIHNlYXJjaCBjYWxsIGlzIGluaXRpYXRlZC5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuZmlsZV9zZWFyY2hfY2FsbC5pbl9wcm9ncmVzc2AuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuZmlsZV9zZWFyY2hfY2FsbC5pbl9wcm9ncmVzcyc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIGEgZmlsZSBzZWFyY2ggaXMgY3VycmVudGx5IHNlYXJjaGluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZpbGVTZWFyY2hDYWxsU2VhcmNoaW5nRXZlbnQge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBmaWxlIHNlYXJjaCBjYWxsIGlzIGluaXRpYXRlZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBmaWxlIHNlYXJjaCBjYWxsIGlzIHNlYXJjaGluZy5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuZmlsZV9zZWFyY2hfY2FsbC5zZWFyY2hpbmdgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmZpbGVfc2VhcmNoX2NhbGwuc2VhcmNoaW5nJztcbn1cblxuLyoqXG4gKiBUaGUgcmVzdWx0cyBvZiBhIGZpbGUgc2VhcmNoIHRvb2wgY2FsbC4gU2VlIHRoZVxuICogW2ZpbGUgc2VhcmNoIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtZmlsZS1zZWFyY2gpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZpbGVTZWFyY2hUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBmaWxlIHNlYXJjaCB0b29sIGNhbGwuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcXVlcmllcyB1c2VkIHRvIHNlYXJjaCBmb3IgZmlsZXMuXG4gICAqL1xuICBxdWVyaWVzOiBBcnJheTxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBmaWxlIHNlYXJjaCB0b29sIGNhbGwuIE9uZSBvZiBgaW5fcHJvZ3Jlc3NgLCBgc2VhcmNoaW5nYCxcbiAgICogYGluY29tcGxldGVgIG9yIGBmYWlsZWRgLFxuICAgKi9cbiAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnIHwgJ3NlYXJjaGluZycgfCAnY29tcGxldGVkJyB8ICdpbmNvbXBsZXRlJyB8ICdmYWlsZWQnO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZmlsZSBzZWFyY2ggdG9vbCBjYWxsLiBBbHdheXMgYGZpbGVfc2VhcmNoX2NhbGxgLlxuICAgKi9cbiAgdHlwZTogJ2ZpbGVfc2VhcmNoX2NhbGwnO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVzdWx0cyBvZiB0aGUgZmlsZSBzZWFyY2ggdG9vbCBjYWxsLlxuICAgKi9cbiAgcmVzdWx0cz86IEFycmF5PFJlc3BvbnNlRmlsZVNlYXJjaFRvb2xDYWxsLlJlc3VsdD4gfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlc3BvbnNlRmlsZVNlYXJjaFRvb2xDYWxsIHtcbiAgZXhwb3J0IGludGVyZmFjZSBSZXN1bHQge1xuICAgIC8qKlxuICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtXG4gICAgICogbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyXG4gICAgICogY2hhcmFjdGVycywgYm9vbGVhbnMsIG9yIG51bWJlcnMuXG4gICAgICovXG4gICAgYXR0cmlidXRlcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4+IHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIGZpbGUuXG4gICAgICovXG4gICAgZmlsZV9pZD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmaWxlLlxuICAgICAqL1xuICAgIGZpbGVuYW1lPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlbGV2YW5jZSBzY29yZSBvZiB0aGUgZmlsZSAtIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLlxuICAgICAqL1xuICAgIHNjb3JlPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgdGhhdCB3YXMgcmV0cmlldmVkIGZyb20gdGhlIGZpbGUuXG4gICAgICovXG4gICAgdGV4dD86IHN0cmluZztcbiAgfVxufVxuXG4vKipcbiAqIEFuIG9iamVjdCBzcGVjaWZ5aW5nIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuXG4gKlxuICogQ29uZmlndXJpbmcgYHsgXCJ0eXBlXCI6IFwianNvbl9zY2hlbWFcIiB9YCBlbmFibGVzIFN0cnVjdHVyZWQgT3V0cHV0cywgd2hpY2hcbiAqIGVuc3VyZXMgdGhlIG1vZGVsIHdpbGwgbWF0Y2ggeW91ciBzdXBwbGllZCBKU09OIHNjaGVtYS4gTGVhcm4gbW9yZSBpbiB0aGVcbiAqIFtTdHJ1Y3R1cmVkIE91dHB1dHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpLlxuICpcbiAqIFRoZSBkZWZhdWx0IGZvcm1hdCBpcyBgeyBcInR5cGVcIjogXCJ0ZXh0XCIgfWAgd2l0aCBubyBhZGRpdGlvbmFsIG9wdGlvbnMuXG4gKlxuICogKipOb3QgcmVjb21tZW5kZWQgZm9yIGdwdC00byBhbmQgbmV3ZXIgbW9kZWxzOioqXG4gKlxuICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX29iamVjdFwiIH1gIGVuYWJsZXMgdGhlIG9sZGVyIEpTT04gbW9kZSwgd2hpY2hcbiAqIGVuc3VyZXMgdGhlIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLiBVc2luZyBganNvbl9zY2hlbWFgIGlzXG4gKiBwcmVmZXJyZWQgZm9yIG1vZGVscyB0aGF0IHN1cHBvcnQgaXQuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3BvbnNlRm9ybWF0VGV4dENvbmZpZyA9XG4gIHwgU2hhcmVkLlJlc3BvbnNlRm9ybWF0VGV4dFxuICB8IFJlc3BvbnNlRm9ybWF0VGV4dEpTT05TY2hlbWFDb25maWdcbiAgfCBTaGFyZWQuUmVzcG9uc2VGb3JtYXRKU09OT2JqZWN0O1xuXG4vKipcbiAqIEpTT04gU2NoZW1hIHJlc3BvbnNlIGZvcm1hdC4gVXNlZCB0byBnZW5lcmF0ZSBzdHJ1Y3R1cmVkIEpTT04gcmVzcG9uc2VzLiBMZWFyblxuICogbW9yZSBhYm91dFxuICogW1N0cnVjdHVyZWQgT3V0cHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VGb3JtYXRUZXh0SlNPTlNjaGVtYUNvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgc2NoZW1hIGZvciB0aGUgcmVzcG9uc2UgZm9ybWF0LCBkZXNjcmliZWQgYXMgYSBKU09OIFNjaGVtYSBvYmplY3QuIExlYXJuIGhvd1xuICAgKiB0byBidWlsZCBKU09OIHNjaGVtYXMgW2hlcmVdKGh0dHBzOi8vanNvbi1zY2hlbWEub3JnLykuXG4gICAqL1xuICBzY2hlbWE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiByZXNwb25zZSBmb3JtYXQgYmVpbmcgZGVmaW5lZC4gQWx3YXlzIGBqc29uX3NjaGVtYWAuXG4gICAqL1xuICB0eXBlOiAnanNvbl9zY2hlbWEnO1xuXG4gIC8qKlxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHdoYXQgdGhlIHJlc3BvbnNlIGZvcm1hdCBpcyBmb3IsIHVzZWQgYnkgdGhlIG1vZGVsIHRvIGRldGVybWluZVxuICAgKiBob3cgdG8gcmVzcG9uZCBpbiB0aGUgZm9ybWF0LlxuICAgKi9cbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSByZXNwb25zZSBmb3JtYXQuIE11c3QgYmUgYS16LCBBLVosIDAtOSwgb3IgY29udGFpbiB1bmRlcnNjb3Jlc1xuICAgKiBhbmQgZGFzaGVzLCB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSBzdHJpY3Qgc2NoZW1hIGFkaGVyZW5jZSB3aGVuIGdlbmVyYXRpbmcgdGhlIG91dHB1dC4gSWYgc2V0IHRvXG4gICAqIHRydWUsIHRoZSBtb2RlbCB3aWxsIGFsd2F5cyBmb2xsb3cgdGhlIGV4YWN0IHNjaGVtYSBkZWZpbmVkIGluIHRoZSBgc2NoZW1hYFxuICAgKiBmaWVsZC4gT25seSBhIHN1YnNldCBvZiBKU09OIFNjaGVtYSBpcyBzdXBwb3J0ZWQgd2hlbiBgc3RyaWN0YCBpcyBgdHJ1ZWAuIFRvXG4gICAqIGxlYXJuIG1vcmUsIHJlYWQgdGhlXG4gICAqIFtTdHJ1Y3R1cmVkIE91dHB1dHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpLlxuICAgKi9cbiAgc3RyaWN0PzogYm9vbGVhbiB8IG51bGw7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZXJlIGlzIGEgcGFydGlhbCBmdW5jdGlvbi1jYWxsIGFyZ3VtZW50cyBkZWx0YS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnQge1xuICAvKipcbiAgICogVGhlIGZ1bmN0aW9uLWNhbGwgYXJndW1lbnRzIGRlbHRhIHRoYXQgaXMgYWRkZWQuXG4gICAqL1xuICBkZWx0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIGZ1bmN0aW9uLWNhbGwgYXJndW1lbnRzIGRlbHRhIGlzIGFkZGVkIHRvLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIGZ1bmN0aW9uLWNhbGwgYXJndW1lbnRzIGRlbHRhIGlzIGFkZGVkIHRvLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZGVsdGEnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBmdW5jdGlvbi1jYWxsIGFyZ3VtZW50cyBhcmUgZmluYWxpemVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBmdW5jdGlvbi1jYWxsIGFyZ3VtZW50cy5cbiAgICovXG4gIGFyZ3VtZW50czogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0uXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICB0eXBlOiAncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZG9uZSc7XG59XG5cbi8qKlxuICogQSB0b29sIGNhbGwgdG8gcnVuIGEgZnVuY3Rpb24uIFNlZSB0aGVcbiAqIFtmdW5jdGlvbiBjYWxsaW5nIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZnVuY3Rpb24tY2FsbGluZylcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRnVuY3Rpb25Ub29sQ2FsbCB7XG4gIC8qKlxuICAgKiBBIEpTT04gc3RyaW5nIG9mIHRoZSBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBhcmd1bWVudHM6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgZnVuY3Rpb24gdG9vbCBjYWxsIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBjYWxsX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBydW4uXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBmdW5jdGlvbiB0b29sIGNhbGwuIEFsd2F5cyBgZnVuY3Rpb25fY2FsbGAuXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb25fY2FsbCc7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIGZ1bmN0aW9uIHRvb2wgY2FsbC5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBpdGVtLiBPbmUgb2YgYGluX3Byb2dyZXNzYCwgYGNvbXBsZXRlZGAsIG9yIGBpbmNvbXBsZXRlYC5cbiAgICogUG9wdWxhdGVkIHdoZW4gaXRlbXMgYXJlIHJldHVybmVkIHZpYSBBUEkuXG4gICAqL1xuICBzdGF0dXM/OiAnaW5fcHJvZ3Jlc3MnIHwgJ2NvbXBsZXRlZCcgfCAnaW5jb21wbGV0ZSc7XG59XG5cbi8qKlxuICogQSB0b29sIGNhbGwgdG8gcnVuIGEgZnVuY3Rpb24uIFNlZSB0aGVcbiAqIFtmdW5jdGlvbiBjYWxsaW5nIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZnVuY3Rpb24tY2FsbGluZylcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRnVuY3Rpb25Ub29sQ2FsbEl0ZW0gZXh0ZW5kcyBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgZnVuY3Rpb24gdG9vbCBjYWxsLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGxPdXRwdXRJdGVtIHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIGZ1bmN0aW9uIGNhbGwgdG9vbCBvdXRwdXQuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBmdW5jdGlvbiB0b29sIGNhbGwgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICovXG4gIGNhbGxfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQSBKU09OIHN0cmluZyBvZiB0aGUgb3V0cHV0IG9mIHRoZSBmdW5jdGlvbiB0b29sIGNhbGwuXG4gICAqL1xuICBvdXRwdXQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGZ1bmN0aW9uIHRvb2wgY2FsbCBvdXRwdXQuIEFsd2F5cyBgZnVuY3Rpb25fY2FsbF9vdXRwdXRgLlxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uX2NhbGxfb3V0cHV0JztcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgaXRlbS4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBvciBgaW5jb21wbGV0ZWAuXG4gICAqIFBvcHVsYXRlZCB3aGVuIGl0ZW1zIGFyZSByZXR1cm5lZCB2aWEgQVBJLlxuICAgKi9cbiAgc3RhdHVzPzogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2luY29tcGxldGUnO1xufVxuXG4vKipcbiAqIFRoZSByZXN1bHRzIG9mIGEgd2ViIHNlYXJjaCB0b29sIGNhbGwuIFNlZSB0aGVcbiAqIFt3ZWIgc2VhcmNoIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtd2ViLXNlYXJjaCkgZm9yXG4gKiBtb3JlIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRnVuY3Rpb25XZWJTZWFyY2gge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgd2ViIHNlYXJjaCB0b29sIGNhbGwuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSB3ZWIgc2VhcmNoIHRvb2wgY2FsbC5cbiAgICovXG4gIHN0YXR1czogJ2luX3Byb2dyZXNzJyB8ICdzZWFyY2hpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZmFpbGVkJztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHdlYiBzZWFyY2ggdG9vbCBjYWxsLiBBbHdheXMgYHdlYl9zZWFyY2hfY2FsbGAuXG4gICAqL1xuICB0eXBlOiAnd2ViX3NlYXJjaF9jYWxsJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIHJlc3BvbnNlIGlzIGluIHByb2dyZXNzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlSW5Qcm9ncmVzc0V2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSByZXNwb25zZSB0aGF0IGlzIGluIHByb2dyZXNzLlxuICAgKi9cbiAgcmVzcG9uc2U6IFJlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuaW5fcHJvZ3Jlc3NgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmluX3Byb2dyZXNzJztcbn1cblxuLyoqXG4gKiBTcGVjaWZ5IGFkZGl0aW9uYWwgb3V0cHV0IGRhdGEgdG8gaW5jbHVkZSBpbiB0aGUgbW9kZWwgcmVzcG9uc2UuIEN1cnJlbnRseVxuICogc3VwcG9ydGVkIHZhbHVlcyBhcmU6XG4gKlxuICogLSBgZmlsZV9zZWFyY2hfY2FsbC5yZXN1bHRzYDogSW5jbHVkZSB0aGUgc2VhcmNoIHJlc3VsdHMgb2YgdGhlIGZpbGUgc2VhcmNoIHRvb2xcbiAqICAgY2FsbC5cbiAqIC0gYG1lc3NhZ2UuaW5wdXRfaW1hZ2UuaW1hZ2VfdXJsYDogSW5jbHVkZSBpbWFnZSB1cmxzIGZyb20gdGhlIGlucHV0IG1lc3NhZ2UuXG4gKiAtIGBjb21wdXRlcl9jYWxsX291dHB1dC5vdXRwdXQuaW1hZ2VfdXJsYDogSW5jbHVkZSBpbWFnZSB1cmxzIGZyb20gdGhlIGNvbXB1dGVyXG4gKiAgIGNhbGwgb3V0cHV0LlxuICovXG5leHBvcnQgdHlwZSBSZXNwb25zZUluY2x1ZGFibGUgPVxuICB8ICdmaWxlX3NlYXJjaF9jYWxsLnJlc3VsdHMnXG4gIHwgJ21lc3NhZ2UuaW5wdXRfaW1hZ2UuaW1hZ2VfdXJsJ1xuICB8ICdjb21wdXRlcl9jYWxsX291dHB1dC5vdXRwdXQuaW1hZ2VfdXJsJztcblxuLyoqXG4gKiBBbiBldmVudCB0aGF0IGlzIGVtaXR0ZWQgd2hlbiBhIHJlc3BvbnNlIGZpbmlzaGVzIGFzIGluY29tcGxldGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VJbmNvbXBsZXRlRXZlbnQge1xuICAvKipcbiAgICogVGhlIHJlc3BvbnNlIHRoYXQgd2FzIGluY29tcGxldGUuXG4gICAqL1xuICByZXNwb25zZTogUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5pbmNvbXBsZXRlYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5pbmNvbXBsZXRlJztcbn1cblxuLyoqXG4gKiBBIGxpc3Qgb2Ygb25lIG9yIG1hbnkgaW5wdXQgaXRlbXMgdG8gdGhlIG1vZGVsLCBjb250YWluaW5nIGRpZmZlcmVudCBjb250ZW50XG4gKiB0eXBlcy5cbiAqL1xuZXhwb3J0IHR5cGUgUmVzcG9uc2VJbnB1dCA9IEFycmF5PFJlc3BvbnNlSW5wdXRJdGVtPjtcblxuLyoqXG4gKiBBbiBhdWRpbyBpbnB1dCB0byB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VJbnB1dEF1ZGlvIHtcbiAgLyoqXG4gICAqIEJhc2U2NC1lbmNvZGVkIGF1ZGlvIGRhdGEuXG4gICAqL1xuICBkYXRhOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgb2YgdGhlIGF1ZGlvIGRhdGEuIEN1cnJlbnRseSBzdXBwb3J0ZWQgZm9ybWF0cyBhcmUgYG1wM2AgYW5kIGB3YXZgLlxuICAgKi9cbiAgZm9ybWF0OiAnbXAzJyB8ICd3YXYnO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgaW5wdXQgaXRlbS4gQWx3YXlzIGBpbnB1dF9hdWRpb2AuXG4gICAqL1xuICB0eXBlOiAnaW5wdXRfYXVkaW8nO1xufVxuXG4vKipcbiAqIEEgdGV4dCBpbnB1dCB0byB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3BvbnNlSW5wdXRDb250ZW50ID0gUmVzcG9uc2VJbnB1dFRleHQgfCBSZXNwb25zZUlucHV0SW1hZ2UgfCBSZXNwb25zZUlucHV0RmlsZTtcblxuLyoqXG4gKiBBIGZpbGUgaW5wdXQgdG8gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlSW5wdXRGaWxlIHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBpbnB1dCBpdGVtLiBBbHdheXMgYGlucHV0X2ZpbGVgLlxuICAgKi9cbiAgdHlwZTogJ2lucHV0X2ZpbGUnO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgZmlsZSB0byBiZSBzZW50IHRvIHRoZSBtb2RlbC5cbiAgICovXG4gIGZpbGVfZGF0YT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBmaWxlIHRvIGJlIHNlbnQgdG8gdGhlIG1vZGVsLlxuICAgKi9cbiAgZmlsZV9pZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZpbGUgdG8gYmUgc2VudCB0byB0aGUgbW9kZWwuXG4gICAqL1xuICBmaWxlbmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBbiBpbWFnZSBpbnB1dCB0byB0aGUgbW9kZWwuIExlYXJuIGFib3V0XG4gKiBbaW1hZ2UgaW5wdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdmlzaW9uKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUlucHV0SW1hZ2Uge1xuICAvKipcbiAgICogVGhlIGRldGFpbCBsZXZlbCBvZiB0aGUgaW1hZ2UgdG8gYmUgc2VudCB0byB0aGUgbW9kZWwuIE9uZSBvZiBgaGlnaGAsIGBsb3dgLCBvclxuICAgKiBgYXV0b2AuIERlZmF1bHRzIHRvIGBhdXRvYC5cbiAgICovXG4gIGRldGFpbDogJ2hpZ2gnIHwgJ2xvdycgfCAnYXV0byc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBpbnB1dCBpdGVtLiBBbHdheXMgYGlucHV0X2ltYWdlYC5cbiAgICovXG4gIHR5cGU6ICdpbnB1dF9pbWFnZSc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0byBiZSBzZW50IHRvIHRoZSBtb2RlbC5cbiAgICovXG4gIGZpbGVfaWQ/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgVVJMIG9mIHRoZSBpbWFnZSB0byBiZSBzZW50IHRvIHRoZSBtb2RlbC4gQSBmdWxseSBxdWFsaWZpZWQgVVJMIG9yIGJhc2U2NFxuICAgKiBlbmNvZGVkIGltYWdlIGluIGEgZGF0YSBVUkwuXG4gICAqL1xuICBpbWFnZV91cmw/OiBzdHJpbmcgfCBudWxsO1xufVxuXG4vKipcbiAqIEEgbWVzc2FnZSBpbnB1dCB0byB0aGUgbW9kZWwgd2l0aCBhIHJvbGUgaW5kaWNhdGluZyBpbnN0cnVjdGlvbiBmb2xsb3dpbmdcbiAqIGhpZXJhcmNoeS4gSW5zdHJ1Y3Rpb25zIGdpdmVuIHdpdGggdGhlIGBkZXZlbG9wZXJgIG9yIGBzeXN0ZW1gIHJvbGUgdGFrZVxuICogcHJlY2VkZW5jZSBvdmVyIGluc3RydWN0aW9ucyBnaXZlbiB3aXRoIHRoZSBgdXNlcmAgcm9sZS4gTWVzc2FnZXMgd2l0aCB0aGVcbiAqIGBhc3Npc3RhbnRgIHJvbGUgYXJlIHByZXN1bWVkIHRvIGhhdmUgYmVlbiBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGluIHByZXZpb3VzXG4gKiBpbnRlcmFjdGlvbnMuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3BvbnNlSW5wdXRJdGVtID1cbiAgfCBFYXN5SW5wdXRNZXNzYWdlXG4gIHwgUmVzcG9uc2VJbnB1dEl0ZW0uTWVzc2FnZVxuICB8IFJlc3BvbnNlT3V0cHV0TWVzc2FnZVxuICB8IFJlc3BvbnNlRmlsZVNlYXJjaFRvb2xDYWxsXG4gIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsXG4gIHwgUmVzcG9uc2VJbnB1dEl0ZW0uQ29tcHV0ZXJDYWxsT3V0cHV0XG4gIHwgUmVzcG9uc2VGdW5jdGlvbldlYlNlYXJjaFxuICB8IFJlc3BvbnNlRnVuY3Rpb25Ub29sQ2FsbFxuICB8IFJlc3BvbnNlSW5wdXRJdGVtLkZ1bmN0aW9uQ2FsbE91dHB1dFxuICB8IFJlc3BvbnNlUmVhc29uaW5nSXRlbVxuICB8IFJlc3BvbnNlSW5wdXRJdGVtLkl0ZW1SZWZlcmVuY2U7XG5cbmV4cG9ydCBuYW1lc3BhY2UgUmVzcG9uc2VJbnB1dEl0ZW0ge1xuICAvKipcbiAgICogQSBtZXNzYWdlIGlucHV0IHRvIHRoZSBtb2RlbCB3aXRoIGEgcm9sZSBpbmRpY2F0aW5nIGluc3RydWN0aW9uIGZvbGxvd2luZ1xuICAgKiBoaWVyYXJjaHkuIEluc3RydWN0aW9ucyBnaXZlbiB3aXRoIHRoZSBgZGV2ZWxvcGVyYCBvciBgc3lzdGVtYCByb2xlIHRha2VcbiAgICogcHJlY2VkZW5jZSBvdmVyIGluc3RydWN0aW9ucyBnaXZlbiB3aXRoIHRoZSBgdXNlcmAgcm9sZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZSB7XG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIG9uZSBvciBtYW55IGlucHV0IGl0ZW1zIHRvIHRoZSBtb2RlbCwgY29udGFpbmluZyBkaWZmZXJlbnQgY29udGVudFxuICAgICAqIHR5cGVzLlxuICAgICAqL1xuICAgIGNvbnRlbnQ6IFJlc3BvbnNlc0FQSS5SZXNwb25zZUlucHV0TWVzc2FnZUNvbnRlbnRMaXN0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2UgaW5wdXQuIE9uZSBvZiBgdXNlcmAsIGBzeXN0ZW1gLCBvciBgZGV2ZWxvcGVyYC5cbiAgICAgKi9cbiAgICByb2xlOiAndXNlcicgfCAnc3lzdGVtJyB8ICdkZXZlbG9wZXInO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiBpdGVtLiBPbmUgb2YgYGluX3Byb2dyZXNzYCwgYGNvbXBsZXRlZGAsIG9yIGBpbmNvbXBsZXRlYC5cbiAgICAgKiBQb3B1bGF0ZWQgd2hlbiBpdGVtcyBhcmUgcmV0dXJuZWQgdmlhIEFQSS5cbiAgICAgKi9cbiAgICBzdGF0dXM/OiAnaW5fcHJvZ3Jlc3MnIHwgJ2NvbXBsZXRlZCcgfCAnaW5jb21wbGV0ZSc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgbWVzc2FnZSBpbnB1dC4gQWx3YXlzIHNldCB0byBgbWVzc2FnZWAuXG4gICAgICovXG4gICAgdHlwZT86ICdtZXNzYWdlJztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgb3V0cHV0IG9mIGEgY29tcHV0ZXIgdG9vbCBjYWxsLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBDb21wdXRlckNhbGxPdXRwdXQge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgY29tcHV0ZXIgdG9vbCBjYWxsIHRoYXQgcHJvZHVjZWQgdGhlIG91dHB1dC5cbiAgICAgKi9cbiAgICBjYWxsX2lkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIGNvbXB1dGVyIHNjcmVlbnNob3QgaW1hZ2UgdXNlZCB3aXRoIHRoZSBjb21wdXRlciB1c2UgdG9vbC5cbiAgICAgKi9cbiAgICBvdXRwdXQ6IFJlc3BvbnNlc0FQSS5SZXNwb25zZUNvbXB1dGVyVG9vbENhbGxPdXRwdXRTY3JlZW5zaG90O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIGNvbXB1dGVyIHRvb2wgY2FsbCBvdXRwdXQuIEFsd2F5cyBgY29tcHV0ZXJfY2FsbF9vdXRwdXRgLlxuICAgICAqL1xuICAgIHR5cGU6ICdjb21wdXRlcl9jYWxsX291dHB1dCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIHRvb2wgY2FsbCBvdXRwdXQuXG4gICAgICovXG4gICAgaWQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2FmZXR5IGNoZWNrcyByZXBvcnRlZCBieSB0aGUgQVBJIHRoYXQgaGF2ZSBiZWVuIGFja25vd2xlZGdlZCBieSB0aGVcbiAgICAgKiBkZXZlbG9wZXIuXG4gICAgICovXG4gICAgYWNrbm93bGVkZ2VkX3NhZmV0eV9jaGVja3M/OiBBcnJheTxDb21wdXRlckNhbGxPdXRwdXQuQWNrbm93bGVkZ2VkU2FmZXR5Q2hlY2s+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiB0aGUgbWVzc2FnZSBpbnB1dC4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBvclxuICAgICAqIGBpbmNvbXBsZXRlYC4gUG9wdWxhdGVkIHdoZW4gaW5wdXQgaXRlbXMgYXJlIHJldHVybmVkIHZpYSBBUEkuXG4gICAgICovXG4gICAgc3RhdHVzPzogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2luY29tcGxldGUnO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBDb21wdXRlckNhbGxPdXRwdXQge1xuICAgIC8qKlxuICAgICAqIEEgcGVuZGluZyBzYWZldHkgY2hlY2sgZm9yIHRoZSBjb21wdXRlciBjYWxsLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQWNrbm93bGVkZ2VkU2FmZXR5Q2hlY2sge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgSUQgb2YgdGhlIHBlbmRpbmcgc2FmZXR5IGNoZWNrLlxuICAgICAgICovXG4gICAgICBpZDogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBwZW5kaW5nIHNhZmV0eSBjaGVjay5cbiAgICAgICAqL1xuICAgICAgY29kZTogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIERldGFpbHMgYWJvdXQgdGhlIHBlbmRpbmcgc2FmZXR5IGNoZWNrLlxuICAgICAgICovXG4gICAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBvdXRwdXQgb2YgYSBmdW5jdGlvbiB0b29sIGNhbGwuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbE91dHB1dCB7XG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgZnVuY3Rpb24gdG9vbCBjYWxsIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAgICovXG4gICAgY2FsbF9pZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSBKU09OIHN0cmluZyBvZiB0aGUgb3V0cHV0IG9mIHRoZSBmdW5jdGlvbiB0b29sIGNhbGwuXG4gICAgICovXG4gICAgb3V0cHV0OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgZnVuY3Rpb24gdG9vbCBjYWxsIG91dHB1dC4gQWx3YXlzIGBmdW5jdGlvbl9jYWxsX291dHB1dGAuXG4gICAgICovXG4gICAgdHlwZTogJ2Z1bmN0aW9uX2NhbGxfb3V0cHV0JztcblxuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIGZ1bmN0aW9uIHRvb2wgY2FsbCBvdXRwdXQuIFBvcHVsYXRlZCB3aGVuIHRoaXMgaXRlbSBpc1xuICAgICAqIHJldHVybmVkIHZpYSBBUEkuXG4gICAgICovXG4gICAgaWQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBpdGVtLiBPbmUgb2YgYGluX3Byb2dyZXNzYCwgYGNvbXBsZXRlZGAsIG9yIGBpbmNvbXBsZXRlYC5cbiAgICAgKiBQb3B1bGF0ZWQgd2hlbiBpdGVtcyBhcmUgcmV0dXJuZWQgdmlhIEFQSS5cbiAgICAgKi9cbiAgICBzdGF0dXM/OiAnaW5fcHJvZ3Jlc3MnIHwgJ2NvbXBsZXRlZCcgfCAnaW5jb21wbGV0ZSc7XG4gIH1cblxuICAvKipcbiAgICogQW4gaW50ZXJuYWwgaWRlbnRpZmllciBmb3IgYW4gaXRlbSB0byByZWZlcmVuY2UuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEl0ZW1SZWZlcmVuY2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgaXRlbSB0byByZWZlcmVuY2UuXG4gICAgICovXG4gICAgaWQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIGl0ZW0gdG8gcmVmZXJlbmNlLiBBbHdheXMgYGl0ZW1fcmVmZXJlbmNlYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnaXRlbV9yZWZlcmVuY2UnO1xuICB9XG59XG5cbi8qKlxuICogQSBsaXN0IG9mIG9uZSBvciBtYW55IGlucHV0IGl0ZW1zIHRvIHRoZSBtb2RlbCwgY29udGFpbmluZyBkaWZmZXJlbnQgY29udGVudFxuICogdHlwZXMuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3BvbnNlSW5wdXRNZXNzYWdlQ29udGVudExpc3QgPSBBcnJheTxSZXNwb25zZUlucHV0Q29udGVudD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VJbnB1dE1lc3NhZ2VJdGVtIHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIG1lc3NhZ2UgaW5wdXQuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2Ygb25lIG9yIG1hbnkgaW5wdXQgaXRlbXMgdG8gdGhlIG1vZGVsLCBjb250YWluaW5nIGRpZmZlcmVudCBjb250ZW50XG4gICAqIHR5cGVzLlxuICAgKi9cbiAgY29udGVudDogUmVzcG9uc2VJbnB1dE1lc3NhZ2VDb250ZW50TGlzdDtcblxuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2UgaW5wdXQuIE9uZSBvZiBgdXNlcmAsIGBzeXN0ZW1gLCBvciBgZGV2ZWxvcGVyYC5cbiAgICovXG4gIHJvbGU6ICd1c2VyJyB8ICdzeXN0ZW0nIHwgJ2RldmVsb3Blcic7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgaXRlbS4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBvciBgaW5jb21wbGV0ZWAuXG4gICAqIFBvcHVsYXRlZCB3aGVuIGl0ZW1zIGFyZSByZXR1cm5lZCB2aWEgQVBJLlxuICAgKi9cbiAgc3RhdHVzPzogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2luY29tcGxldGUnO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgbWVzc2FnZSBpbnB1dC4gQWx3YXlzIHNldCB0byBgbWVzc2FnZWAuXG4gICAqL1xuICB0eXBlPzogJ21lc3NhZ2UnO1xufVxuXG4vKipcbiAqIEEgdGV4dCBpbnB1dCB0byB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VJbnB1dFRleHQge1xuICAvKipcbiAgICogVGhlIHRleHQgaW5wdXQgdG8gdGhlIG1vZGVsLlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgaW5wdXQgaXRlbS4gQWx3YXlzIGBpbnB1dF90ZXh0YC5cbiAgICovXG4gIHR5cGU6ICdpbnB1dF90ZXh0Jztcbn1cblxuLyoqXG4gKiBDb250ZW50IGl0ZW0gdXNlZCB0byBnZW5lcmF0ZSBhIHJlc3BvbnNlLlxuICovXG5leHBvcnQgdHlwZSBSZXNwb25zZUl0ZW0gPVxuICB8IFJlc3BvbnNlSW5wdXRNZXNzYWdlSXRlbVxuICB8IFJlc3BvbnNlT3V0cHV0TWVzc2FnZVxuICB8IFJlc3BvbnNlRmlsZVNlYXJjaFRvb2xDYWxsXG4gIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsXG4gIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsT3V0cHV0SXRlbVxuICB8IFJlc3BvbnNlRnVuY3Rpb25XZWJTZWFyY2hcbiAgfCBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGxJdGVtXG4gIHwgUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsT3V0cHV0SXRlbTtcblxuLyoqXG4gKiBBbiBhdWRpbyBvdXRwdXQgZnJvbSB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VPdXRwdXRBdWRpbyB7XG4gIC8qKlxuICAgKiBCYXNlNjQtZW5jb2RlZCBhdWRpbyBkYXRhIGZyb20gdGhlIG1vZGVsLlxuICAgKi9cbiAgZGF0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHJhbnNjcmlwdCBvZiB0aGUgYXVkaW8gZGF0YSBmcm9tIHRoZSBtb2RlbC5cbiAgICovXG4gIHRyYW5zY3JpcHQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIG91dHB1dCBhdWRpby4gQWx3YXlzIGBvdXRwdXRfYXVkaW9gLlxuICAgKi9cbiAgdHlwZTogJ291dHB1dF9hdWRpbyc7XG59XG5cbi8qKlxuICogQW4gb3V0cHV0IG1lc3NhZ2UgZnJvbSB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3BvbnNlT3V0cHV0SXRlbSA9XG4gIHwgUmVzcG9uc2VPdXRwdXRNZXNzYWdlXG4gIHwgUmVzcG9uc2VGaWxlU2VhcmNoVG9vbENhbGxcbiAgfCBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGxcbiAgfCBSZXNwb25zZUZ1bmN0aW9uV2ViU2VhcmNoXG4gIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsXG4gIHwgUmVzcG9uc2VSZWFzb25pbmdJdGVtO1xuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhIG5ldyBvdXRwdXQgaXRlbSBpcyBhZGRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZU91dHB1dEl0ZW1BZGRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBvdXRwdXQgaXRlbSB0aGF0IHdhcyBhZGRlZC5cbiAgICovXG4gIGl0ZW06IFJlc3BvbnNlT3V0cHV0SXRlbTtcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHdhcyBhZGRlZC5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2Uub3V0cHV0X2l0ZW0uYWRkZWRgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYW4gb3V0cHV0IGl0ZW0gaXMgbWFya2VkIGRvbmUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VPdXRwdXRJdGVtRG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBvdXRwdXQgaXRlbSB0aGF0IHdhcyBtYXJrZWQgZG9uZS5cbiAgICovXG4gIGl0ZW06IFJlc3BvbnNlT3V0cHV0SXRlbTtcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHdhcyBtYXJrZWQgZG9uZS5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2Uub3V0cHV0X2l0ZW0uZG9uZWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2Uub3V0cHV0X2l0ZW0uZG9uZSc7XG59XG5cbi8qKlxuICogQW4gb3V0cHV0IG1lc3NhZ2UgZnJvbSB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VPdXRwdXRNZXNzYWdlIHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIG91dHB1dCBtZXNzYWdlLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG91dHB1dCBtZXNzYWdlLlxuICAgKi9cbiAgY29udGVudDogQXJyYXk8UmVzcG9uc2VPdXRwdXRUZXh0IHwgUmVzcG9uc2VPdXRwdXRSZWZ1c2FsPjtcblxuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIG91dHB1dCBtZXNzYWdlLiBBbHdheXMgYGFzc2lzdGFudGAuXG4gICAqL1xuICByb2xlOiAnYXNzaXN0YW50JztcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgbWVzc2FnZSBpbnB1dC4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBvclxuICAgKiBgaW5jb21wbGV0ZWAuIFBvcHVsYXRlZCB3aGVuIGlucHV0IGl0ZW1zIGFyZSByZXR1cm5lZCB2aWEgQVBJLlxuICAgKi9cbiAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnIHwgJ2NvbXBsZXRlZCcgfCAnaW5jb21wbGV0ZSc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBvdXRwdXQgbWVzc2FnZS4gQWx3YXlzIGBtZXNzYWdlYC5cbiAgICovXG4gIHR5cGU6ICdtZXNzYWdlJztcbn1cblxuLyoqXG4gKiBBIHJlZnVzYWwgZnJvbSB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VPdXRwdXRSZWZ1c2FsIHtcbiAgLyoqXG4gICAqIFRoZSByZWZ1c2FsIGV4cGxhbmF0aW9uZnJvbSB0aGUgbW9kZWwuXG4gICAqL1xuICByZWZ1c2FsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSByZWZ1c2FsLiBBbHdheXMgYHJlZnVzYWxgLlxuICAgKi9cbiAgdHlwZTogJ3JlZnVzYWwnO1xufVxuXG4vKipcbiAqIEEgdGV4dCBvdXRwdXQgZnJvbSB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VPdXRwdXRUZXh0IHtcbiAgLyoqXG4gICAqIFRoZSBhbm5vdGF0aW9ucyBvZiB0aGUgdGV4dCBvdXRwdXQuXG4gICAqL1xuICBhbm5vdGF0aW9uczogQXJyYXk8XG4gICAgUmVzcG9uc2VPdXRwdXRUZXh0LkZpbGVDaXRhdGlvbiB8IFJlc3BvbnNlT3V0cHV0VGV4dC5VUkxDaXRhdGlvbiB8IFJlc3BvbnNlT3V0cHV0VGV4dC5GaWxlUGF0aFxuICA+O1xuXG4gIC8qKlxuICAgKiBUaGUgdGV4dCBvdXRwdXQgZnJvbSB0aGUgbW9kZWwuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBvdXRwdXQgdGV4dC4gQWx3YXlzIGBvdXRwdXRfdGV4dGAuXG4gICAqL1xuICB0eXBlOiAnb3V0cHV0X3RleHQnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlc3BvbnNlT3V0cHV0VGV4dCB7XG4gIC8qKlxuICAgKiBBIGNpdGF0aW9uIHRvIGEgZmlsZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZUNpdGF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUuXG4gICAgICovXG4gICAgZmlsZV9pZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBmaWxlIGluIHRoZSBsaXN0IG9mIGZpbGVzLlxuICAgICAqL1xuICAgIGluZGV4OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgZmlsZSBjaXRhdGlvbi4gQWx3YXlzIGBmaWxlX2NpdGF0aW9uYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnZmlsZV9jaXRhdGlvbic7XG4gIH1cblxuICAvKipcbiAgICogQSBjaXRhdGlvbiBmb3IgYSB3ZWIgcmVzb3VyY2UgdXNlZCB0byBnZW5lcmF0ZSBhIG1vZGVsIHJlc3BvbnNlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBVUkxDaXRhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBsYXN0IGNoYXJhY3RlciBvZiB0aGUgVVJMIGNpdGF0aW9uIGluIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIGVuZF9pbmRleDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgdGhlIFVSTCBjaXRhdGlvbiBpbiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBzdGFydF9pbmRleDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpdGxlIG9mIHRoZSB3ZWIgcmVzb3VyY2UuXG4gICAgICovXG4gICAgdGl0bGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBVUkwgY2l0YXRpb24uIEFsd2F5cyBgdXJsX2NpdGF0aW9uYC5cbiAgICAgKi9cbiAgICB0eXBlOiAndXJsX2NpdGF0aW9uJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBVUkwgb2YgdGhlIHdlYiByZXNvdXJjZS5cbiAgICAgKi9cbiAgICB1cmw6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHBhdGggdG8gYSBmaWxlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlUGF0aCB7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBmaWxlLlxuICAgICAqL1xuICAgIGZpbGVfaWQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgZmlsZSBpbiB0aGUgbGlzdCBvZiBmaWxlcy5cbiAgICAgKi9cbiAgICBpbmRleDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIGZpbGUgcGF0aC4gQWx3YXlzIGBmaWxlX3BhdGhgLlxuICAgICAqL1xuICAgIHR5cGU6ICdmaWxlX3BhdGgnO1xuICB9XG59XG5cbi8qKlxuICogQSBkZXNjcmlwdGlvbiBvZiB0aGUgY2hhaW4gb2YgdGhvdWdodCB1c2VkIGJ5IGEgcmVhc29uaW5nIG1vZGVsIHdoaWxlIGdlbmVyYXRpbmdcbiAqIGEgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VSZWFzb25pbmdJdGVtIHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgcmVhc29uaW5nIGNvbnRlbnQuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBSZWFzb25pbmcgdGV4dCBjb250ZW50cy5cbiAgICovXG4gIHN1bW1hcnk6IEFycmF5PFJlc3BvbnNlUmVhc29uaW5nSXRlbS5TdW1tYXJ5PjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdC4gQWx3YXlzIGByZWFzb25pbmdgLlxuICAgKi9cbiAgdHlwZTogJ3JlYXNvbmluZyc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGl0ZW0uIE9uZSBvZiBgaW5fcHJvZ3Jlc3NgLCBgY29tcGxldGVkYCwgb3IgYGluY29tcGxldGVgLlxuICAgKiBQb3B1bGF0ZWQgd2hlbiBpdGVtcyBhcmUgcmV0dXJuZWQgdmlhIEFQSS5cbiAgICovXG4gIHN0YXR1cz86ICdpbl9wcm9ncmVzcycgfCAnY29tcGxldGVkJyB8ICdpbmNvbXBsZXRlJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZVJlYXNvbmluZ0l0ZW0ge1xuICBleHBvcnQgaW50ZXJmYWNlIFN1bW1hcnkge1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgc3VtbWFyeSBvZiB0aGUgcmVhc29uaW5nIHVzZWQgYnkgdGhlIG1vZGVsIHdoZW4gZ2VuZXJhdGluZyB0aGUgcmVzcG9uc2UuXG4gICAgICovXG4gICAgdGV4dDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdC4gQWx3YXlzIGBzdW1tYXJ5X3RleHRgLlxuICAgICAqL1xuICAgIHR5cGU6ICdzdW1tYXJ5X3RleHQnO1xuICB9XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZXJlIGlzIGEgcGFydGlhbCByZWZ1c2FsIHRleHQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VSZWZ1c2FsRGVsdGFFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCB0aGF0IHRoZSByZWZ1c2FsIHRleHQgaXMgYWRkZWQgdG8uXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSByZWZ1c2FsIHRleHQgdGhhdCBpcyBhZGRlZC5cbiAgICovXG4gIGRlbHRhOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgcmVmdXNhbCB0ZXh0IGlzIGFkZGVkIHRvLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIHJlZnVzYWwgdGV4dCBpcyBhZGRlZCB0by5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UucmVmdXNhbC5kZWx0YWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UucmVmdXNhbC5kZWx0YSc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHJlZnVzYWwgdGV4dCBpcyBmaW5hbGl6ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VSZWZ1c2FsRG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IHRoYXQgdGhlIHJlZnVzYWwgdGV4dCBpcyBmaW5hbGl6ZWQuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgcmVmdXNhbCB0ZXh0IGlzIGZpbmFsaXplZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSByZWZ1c2FsIHRleHQgaXMgZmluYWxpemVkLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSByZWZ1c2FsIHRleHQgdGhhdCBpcyBmaW5hbGl6ZWQuXG4gICAqL1xuICByZWZ1c2FsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5yZWZ1c2FsLmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLnJlZnVzYWwuZG9uZSc7XG59XG5cbi8qKlxuICogVGhlIHN0YXR1cyBvZiB0aGUgcmVzcG9uc2UgZ2VuZXJhdGlvbi4gT25lIG9mIGBjb21wbGV0ZWRgLCBgZmFpbGVkYCxcbiAqIGBpbl9wcm9ncmVzc2AsIG9yIGBpbmNvbXBsZXRlYC5cbiAqL1xuZXhwb3J0IHR5cGUgUmVzcG9uc2VTdGF0dXMgPSAnY29tcGxldGVkJyB8ICdmYWlsZWQnIHwgJ2luX3Byb2dyZXNzJyB8ICdpbmNvbXBsZXRlJztcblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlcmUgaXMgYSBwYXJ0aWFsIGF1ZGlvIHJlc3BvbnNlLlxuICovXG5leHBvcnQgdHlwZSBSZXNwb25zZVN0cmVhbUV2ZW50ID1cbiAgfCBSZXNwb25zZUF1ZGlvRGVsdGFFdmVudFxuICB8IFJlc3BvbnNlQXVkaW9Eb25lRXZlbnRcbiAgfCBSZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERlbHRhRXZlbnRcbiAgfCBSZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFxuICB8IFJlc3BvbnNlQ29kZUludGVycHJldGVyQ2FsbENvZGVEZWx0YUV2ZW50XG4gIHwgUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJDYWxsQ29kZURvbmVFdmVudFxuICB8IFJlc3BvbnNlQ29kZUludGVycHJldGVyQ2FsbENvbXBsZXRlZEV2ZW50XG4gIHwgUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJDYWxsSW5Qcm9ncmVzc0V2ZW50XG4gIHwgUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJDYWxsSW50ZXJwcmV0aW5nRXZlbnRcbiAgfCBSZXNwb25zZUNvbXBsZXRlZEV2ZW50XG4gIHwgUmVzcG9uc2VDb250ZW50UGFydEFkZGVkRXZlbnRcbiAgfCBSZXNwb25zZUNvbnRlbnRQYXJ0RG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VDcmVhdGVkRXZlbnRcbiAgfCBSZXNwb25zZUVycm9yRXZlbnRcbiAgfCBSZXNwb25zZUZpbGVTZWFyY2hDYWxsQ29tcGxldGVkRXZlbnRcbiAgfCBSZXNwb25zZUZpbGVTZWFyY2hDYWxsSW5Qcm9ncmVzc0V2ZW50XG4gIHwgUmVzcG9uc2VGaWxlU2VhcmNoQ2FsbFNlYXJjaGluZ0V2ZW50XG4gIHwgUmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEZWx0YUV2ZW50XG4gIHwgUmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEb25lRXZlbnRcbiAgfCBSZXNwb25zZUluUHJvZ3Jlc3NFdmVudFxuICB8IFJlc3BvbnNlRmFpbGVkRXZlbnRcbiAgfCBSZXNwb25zZUluY29tcGxldGVFdmVudFxuICB8IFJlc3BvbnNlT3V0cHV0SXRlbUFkZGVkRXZlbnRcbiAgfCBSZXNwb25zZU91dHB1dEl0ZW1Eb25lRXZlbnRcbiAgfCBSZXNwb25zZVJlZnVzYWxEZWx0YUV2ZW50XG4gIHwgUmVzcG9uc2VSZWZ1c2FsRG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VUZXh0QW5ub3RhdGlvbkRlbHRhRXZlbnRcbiAgfCBSZXNwb25zZVRleHREZWx0YUV2ZW50XG4gIHwgUmVzcG9uc2VUZXh0RG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VXZWJTZWFyY2hDYWxsQ29tcGxldGVkRXZlbnRcbiAgfCBSZXNwb25zZVdlYlNlYXJjaENhbGxJblByb2dyZXNzRXZlbnRcbiAgfCBSZXNwb25zZVdlYlNlYXJjaENhbGxTZWFyY2hpbmdFdmVudDtcblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYSB0ZXh0IGFubm90YXRpb24gaXMgYWRkZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VUZXh0QW5ub3RhdGlvbkRlbHRhRXZlbnQge1xuICAvKipcbiAgICogQSBjaXRhdGlvbiB0byBhIGZpbGUuXG4gICAqL1xuICBhbm5vdGF0aW9uOlxuICAgIHwgUmVzcG9uc2VUZXh0QW5ub3RhdGlvbkRlbHRhRXZlbnQuRmlsZUNpdGF0aW9uXG4gICAgfCBSZXNwb25zZVRleHRBbm5vdGF0aW9uRGVsdGFFdmVudC5VUkxDaXRhdGlvblxuICAgIHwgUmVzcG9uc2VUZXh0QW5ub3RhdGlvbkRlbHRhRXZlbnQuRmlsZVBhdGg7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgYW5ub3RhdGlvbiB0aGF0IHdhcyBhZGRlZC5cbiAgICovXG4gIGFubm90YXRpb25faW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgdGhhdCB0aGUgdGV4dCBhbm5vdGF0aW9uIHdhcyBhZGRlZCB0by5cbiAgICovXG4gIGNvbnRlbnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSB0ZXh0IGFubm90YXRpb24gd2FzIGFkZGVkIHRvLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIHRleHQgYW5ub3RhdGlvbiB3YXMgYWRkZWQgdG8uXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLm91dHB1dF90ZXh0LmFubm90YXRpb24uYWRkZWRgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmFubm90YXRpb24uYWRkZWQnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlc3BvbnNlVGV4dEFubm90YXRpb25EZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIEEgY2l0YXRpb24gdG8gYSBmaWxlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlQ2l0YXRpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZS5cbiAgICAgKi9cbiAgICBmaWxlX2lkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGZpbGUgaW4gdGhlIGxpc3Qgb2YgZmlsZXMuXG4gICAgICovXG4gICAgaW5kZXg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBmaWxlIGNpdGF0aW9uLiBBbHdheXMgYGZpbGVfY2l0YXRpb25gLlxuICAgICAqL1xuICAgIHR5cGU6ICdmaWxlX2NpdGF0aW9uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGNpdGF0aW9uIGZvciBhIHdlYiByZXNvdXJjZSB1c2VkIHRvIGdlbmVyYXRlIGEgbW9kZWwgcmVzcG9uc2UuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFVSTENpdGF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGxhc3QgY2hhcmFjdGVyIG9mIHRoZSBVUkwgY2l0YXRpb24gaW4gdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgZW5kX2luZGV4OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiB0aGUgVVJMIGNpdGF0aW9uIGluIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIHN0YXJ0X2luZGV4OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGl0bGUgb2YgdGhlIHdlYiByZXNvdXJjZS5cbiAgICAgKi9cbiAgICB0aXRsZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIFVSTCBjaXRhdGlvbi4gQWx3YXlzIGB1cmxfY2l0YXRpb25gLlxuICAgICAqL1xuICAgIHR5cGU6ICd1cmxfY2l0YXRpb24nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFVSTCBvZiB0aGUgd2ViIHJlc291cmNlLlxuICAgICAqL1xuICAgIHVybDogc3RyaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgcGF0aCB0byBhIGZpbGUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZpbGVQYXRoIHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUuXG4gICAgICovXG4gICAgZmlsZV9pZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBmaWxlIGluIHRoZSBsaXN0IG9mIGZpbGVzLlxuICAgICAqL1xuICAgIGluZGV4OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgZmlsZSBwYXRoLiBBbHdheXMgYGZpbGVfcGF0aGAuXG4gICAgICovXG4gICAgdHlwZTogJ2ZpbGVfcGF0aCc7XG4gIH1cbn1cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIGEgdGV4dCByZXNwb25zZSBmcm9tIHRoZSBtb2RlbC4gQ2FuIGJlIHBsYWluIHRleHQgb3JcbiAqIHN0cnVjdHVyZWQgSlNPTiBkYXRhLiBMZWFybiBtb3JlOlxuICpcbiAqIC0gW1RleHQgaW5wdXRzIGFuZCBvdXRwdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dClcbiAqIC0gW1N0cnVjdHVyZWQgT3V0cHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cylcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZVRleHRDb25maWcge1xuICAvKipcbiAgICogQW4gb2JqZWN0IHNwZWNpZnlpbmcgdGhlIGZvcm1hdCB0aGF0IHRoZSBtb2RlbCBtdXN0IG91dHB1dC5cbiAgICpcbiAgICogQ29uZmlndXJpbmcgYHsgXCJ0eXBlXCI6IFwianNvbl9zY2hlbWFcIiB9YCBlbmFibGVzIFN0cnVjdHVyZWQgT3V0cHV0cywgd2hpY2hcbiAgICogZW5zdXJlcyB0aGUgbW9kZWwgd2lsbCBtYXRjaCB5b3VyIHN1cHBsaWVkIEpTT04gc2NoZW1hLiBMZWFybiBtb3JlIGluIHRoZVxuICAgKiBbU3RydWN0dXJlZCBPdXRwdXRzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgZm9ybWF0IGlzIGB7IFwidHlwZVwiOiBcInRleHRcIiB9YCB3aXRoIG5vIGFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICpcbiAgICogKipOb3QgcmVjb21tZW5kZWQgZm9yIGdwdC00byBhbmQgbmV3ZXIgbW9kZWxzOioqXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIHRoZSBvbGRlciBKU09OIG1vZGUsIHdoaWNoXG4gICAqIGVuc3VyZXMgdGhlIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLiBVc2luZyBganNvbl9zY2hlbWFgIGlzXG4gICAqIHByZWZlcnJlZCBmb3IgbW9kZWxzIHRoYXQgc3VwcG9ydCBpdC5cbiAgICovXG4gIGZvcm1hdD86IFJlc3BvbnNlRm9ybWF0VGV4dENvbmZpZztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlcmUgaXMgYW4gYWRkaXRpb25hbCB0ZXh0IGRlbHRhLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlVGV4dERlbHRhRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgdGhhdCB0aGUgdGV4dCBkZWx0YSB3YXMgYWRkZWQgdG8uXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGRlbHRhIHRoYXQgd2FzIGFkZGVkLlxuICAgKi9cbiAgZGVsdGE6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSB0ZXh0IGRlbHRhIHdhcyBhZGRlZCB0by5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSB0ZXh0IGRlbHRhIHdhcyBhZGRlZCB0by5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGFgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmRlbHRhJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGV4dCBjb250ZW50IGlzIGZpbmFsaXplZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZVRleHREb25lRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgdGhhdCB0aGUgdGV4dCBjb250ZW50IGlzIGZpbmFsaXplZC5cbiAgICovXG4gIGNvbnRlbnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSB0ZXh0IGNvbnRlbnQgaXMgZmluYWxpemVkLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIHRleHQgY29udGVudCBpcyBmaW5hbGl6ZWQuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHRleHQgY29udGVudCB0aGF0IGlzIGZpbmFsaXplZC5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLm91dHB1dF90ZXh0LmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmRvbmUnO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgdG9rZW4gdXNhZ2UgZGV0YWlscyBpbmNsdWRpbmcgaW5wdXQgdG9rZW5zLCBvdXRwdXQgdG9rZW5zLCBhXG4gKiBicmVha2Rvd24gb2Ygb3V0cHV0IHRva2VucywgYW5kIHRoZSB0b3RhbCB0b2tlbnMgdXNlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZVVzYWdlIHtcbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgaW5wdXQgdG9rZW5zLlxuICAgKi9cbiAgaW5wdXRfdG9rZW5zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEEgZGV0YWlsZWQgYnJlYWtkb3duIG9mIHRoZSBpbnB1dCB0b2tlbnMuXG4gICAqL1xuICBpbnB1dF90b2tlbnNfZGV0YWlsczogUmVzcG9uc2VVc2FnZS5JbnB1dFRva2Vuc0RldGFpbHM7XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2Ygb3V0cHV0IHRva2Vucy5cbiAgICovXG4gIG91dHB1dF90b2tlbnM6IG51bWJlcjtcblxuICAvKipcbiAgICogQSBkZXRhaWxlZCBicmVha2Rvd24gb2YgdGhlIG91dHB1dCB0b2tlbnMuXG4gICAqL1xuICBvdXRwdXRfdG9rZW5zX2RldGFpbHM6IFJlc3BvbnNlVXNhZ2UuT3V0cHV0VG9rZW5zRGV0YWlscztcblxuICAvKipcbiAgICogVGhlIHRvdGFsIG51bWJlciBvZiB0b2tlbnMgdXNlZC5cbiAgICovXG4gIHRvdGFsX3Rva2VuczogbnVtYmVyO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlc3BvbnNlVXNhZ2Uge1xuICAvKipcbiAgICogQSBkZXRhaWxlZCBicmVha2Rvd24gb2YgdGhlIGlucHV0IHRva2Vucy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgSW5wdXRUb2tlbnNEZXRhaWxzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHRva2VucyB0aGF0IHdlcmUgcmV0cmlldmVkIGZyb20gdGhlIGNhY2hlLlxuICAgICAqIFtNb3JlIG9uIHByb21wdCBjYWNoaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvcHJvbXB0LWNhY2hpbmcpLlxuICAgICAqL1xuICAgIGNhY2hlZF90b2tlbnM6IG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGRldGFpbGVkIGJyZWFrZG93biBvZiB0aGUgb3V0cHV0IHRva2Vucy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0VG9rZW5zRGV0YWlscyB7XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiByZWFzb25pbmcgdG9rZW5zLlxuICAgICAqL1xuICAgIHJlYXNvbmluZ190b2tlbnM6IG51bWJlcjtcbiAgfVxufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhIHdlYiBzZWFyY2ggY2FsbCBpcyBjb21wbGV0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VXZWJTZWFyY2hDYWxsQ29tcGxldGVkRXZlbnQge1xuICAvKipcbiAgICogVW5pcXVlIElEIGZvciB0aGUgb3V0cHV0IGl0ZW0gYXNzb2NpYXRlZCB3aXRoIHRoZSB3ZWIgc2VhcmNoIGNhbGwuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgd2ViIHNlYXJjaCBjYWxsIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2Uud2ViX3NlYXJjaF9jYWxsLmNvbXBsZXRlZGAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2Uud2ViX3NlYXJjaF9jYWxsLmNvbXBsZXRlZCc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIGEgd2ViIHNlYXJjaCBjYWxsIGlzIGluaXRpYXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZVdlYlNlYXJjaENhbGxJblByb2dyZXNzRXZlbnQge1xuICAvKipcbiAgICogVW5pcXVlIElEIGZvciB0aGUgb3V0cHV0IGl0ZW0gYXNzb2NpYXRlZCB3aXRoIHRoZSB3ZWIgc2VhcmNoIGNhbGwuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgd2ViIHNlYXJjaCBjYWxsIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2Uud2ViX3NlYXJjaF9jYWxsLmluX3Byb2dyZXNzYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS53ZWJfc2VhcmNoX2NhbGwuaW5fcHJvZ3Jlc3MnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhIHdlYiBzZWFyY2ggY2FsbCBpcyBleGVjdXRpbmcuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VXZWJTZWFyY2hDYWxsU2VhcmNoaW5nRXZlbnQge1xuICAvKipcbiAgICogVW5pcXVlIElEIGZvciB0aGUgb3V0cHV0IGl0ZW0gYXNzb2NpYXRlZCB3aXRoIHRoZSB3ZWIgc2VhcmNoIGNhbGwuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgd2ViIHNlYXJjaCBjYWxsIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2Uud2ViX3NlYXJjaF9jYWxsLnNlYXJjaGluZ2AuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2Uud2ViX3NlYXJjaF9jYWxsLnNlYXJjaGluZyc7XG59XG5cbi8qKlxuICogQSB0b29sIHRoYXQgc2VhcmNoZXMgZm9yIHJlbGV2YW50IGNvbnRlbnQgZnJvbSB1cGxvYWRlZCBmaWxlcy4gTGVhcm4gbW9yZSBhYm91dFxuICogdGhlXG4gKiBbZmlsZSBzZWFyY2ggdG9vbF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLWZpbGUtc2VhcmNoKS5cbiAqL1xuZXhwb3J0IHR5cGUgVG9vbCA9IEZpbGVTZWFyY2hUb29sIHwgRnVuY3Rpb25Ub29sIHwgQ29tcHV0ZXJUb29sIHwgV2ViU2VhcmNoVG9vbDtcblxuLyoqXG4gKiBVc2UgdGhpcyBvcHRpb24gdG8gZm9yY2UgdGhlIG1vZGVsIHRvIGNhbGwgYSBzcGVjaWZpYyBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUb29sQ2hvaWNlRnVuY3Rpb24ge1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEZvciBmdW5jdGlvbiBjYWxsaW5nLCB0aGUgdHlwZSBpcyBhbHdheXMgYGZ1bmN0aW9uYC5cbiAgICovXG4gIHR5cGU6ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogQ29udHJvbHMgd2hpY2ggKGlmIGFueSkgdG9vbCBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLlxuICpcbiAqIGBub25lYCBtZWFucyB0aGUgbW9kZWwgd2lsbCBub3QgY2FsbCBhbnkgdG9vbCBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLlxuICpcbiAqIGBhdXRvYCBtZWFucyB0aGUgbW9kZWwgY2FuIHBpY2sgYmV0d2VlbiBnZW5lcmF0aW5nIGEgbWVzc2FnZSBvciBjYWxsaW5nIG9uZSBvclxuICogbW9yZSB0b29scy5cbiAqXG4gKiBgcmVxdWlyZWRgIG1lYW5zIHRoZSBtb2RlbCBtdXN0IGNhbGwgb25lIG9yIG1vcmUgdG9vbHMuXG4gKi9cbmV4cG9ydCB0eXBlIFRvb2xDaG9pY2VPcHRpb25zID0gJ25vbmUnIHwgJ2F1dG8nIHwgJ3JlcXVpcmVkJztcblxuLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIHVzZSBhIGJ1aWx0LWluIHRvb2wgdG8gZ2VuZXJhdGUgYSByZXNwb25zZS5cbiAqIFtMZWFybiBtb3JlIGFib3V0IGJ1aWx0LWluIHRvb2xzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xDaG9pY2VUeXBlcyB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBob3N0ZWQgdG9vbCB0aGUgbW9kZWwgc2hvdWxkIHRvIHVzZS4gTGVhcm4gbW9yZSBhYm91dFxuICAgKiBbYnVpbHQtaW4gdG9vbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scykuXG4gICAqXG4gICAqIEFsbG93ZWQgdmFsdWVzIGFyZTpcbiAgICpcbiAgICogLSBgZmlsZV9zZWFyY2hgXG4gICAqIC0gYHdlYl9zZWFyY2hfcHJldmlld2BcbiAgICogLSBgY29tcHV0ZXJfdXNlX3ByZXZpZXdgXG4gICAqL1xuICB0eXBlOiAnZmlsZV9zZWFyY2gnIHwgJ3dlYl9zZWFyY2hfcHJldmlldycgfCAnY29tcHV0ZXJfdXNlX3ByZXZpZXcnIHwgJ3dlYl9zZWFyY2hfcHJldmlld18yMDI1XzAzXzExJztcbn1cblxuLyoqXG4gKiBUaGlzIHRvb2wgc2VhcmNoZXMgdGhlIHdlYiBmb3IgcmVsZXZhbnQgcmVzdWx0cyB0byB1c2UgaW4gYSByZXNwb25zZS4gTGVhcm4gbW9yZVxuICogYWJvdXQgdGhlXG4gKiBbd2ViIHNlYXJjaCB0b29sXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtd2ViLXNlYXJjaCkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV2ViU2VhcmNoVG9vbCB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgd2ViIHNlYXJjaCB0b29sLiBPbmUgb2Y6XG4gICAqXG4gICAqIC0gYHdlYl9zZWFyY2hfcHJldmlld2BcbiAgICogLSBgd2ViX3NlYXJjaF9wcmV2aWV3XzIwMjVfMDNfMTFgXG4gICAqL1xuICB0eXBlOiAnd2ViX3NlYXJjaF9wcmV2aWV3JyB8ICd3ZWJfc2VhcmNoX3ByZXZpZXdfMjAyNV8wM18xMSc7XG5cbiAgLyoqXG4gICAqIEhpZ2ggbGV2ZWwgZ3VpZGFuY2UgZm9yIHRoZSBhbW91bnQgb2YgY29udGV4dCB3aW5kb3cgc3BhY2UgdG8gdXNlIGZvciB0aGVcbiAgICogc2VhcmNoLiBPbmUgb2YgYGxvd2AsIGBtZWRpdW1gLCBvciBgaGlnaGAuIGBtZWRpdW1gIGlzIHRoZSBkZWZhdWx0LlxuICAgKi9cbiAgc2VhcmNoX2NvbnRleHRfc2l6ZT86ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCc7XG5cbiAgdXNlcl9sb2NhdGlvbj86IFdlYlNlYXJjaFRvb2wuVXNlckxvY2F0aW9uIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBXZWJTZWFyY2hUb29sIHtcbiAgZXhwb3J0IGludGVyZmFjZSBVc2VyTG9jYXRpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIGxvY2F0aW9uIGFwcHJveGltYXRpb24uIEFsd2F5cyBgYXBwcm94aW1hdGVgLlxuICAgICAqL1xuICAgIHR5cGU6ICdhcHByb3hpbWF0ZSc7XG5cbiAgICAvKipcbiAgICAgKiBGcmVlIHRleHQgaW5wdXQgZm9yIHRoZSBjaXR5IG9mIHRoZSB1c2VyLCBlLmcuIGBTYW4gRnJhbmNpc2NvYC5cbiAgICAgKi9cbiAgICBjaXR5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR3by1sZXR0ZXIgW0lTTyBjb3VudHJ5IGNvZGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT18zMTY2LTEpIG9mXG4gICAgICogdGhlIHVzZXIsIGUuZy4gYFVTYC5cbiAgICAgKi9cbiAgICBjb3VudHJ5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogRnJlZSB0ZXh0IGlucHV0IGZvciB0aGUgcmVnaW9uIG9mIHRoZSB1c2VyLCBlLmcuIGBDYWxpZm9ybmlhYC5cbiAgICAgKi9cbiAgICByZWdpb24/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgW0lBTkEgdGltZXpvbmVdKGh0dHBzOi8vdGltZWFwaS5pby9kb2N1bWVudGF0aW9uL2lhbmEtdGltZXpvbmVzKSBvZiB0aGVcbiAgICAgKiB1c2VyLCBlLmcuIGBBbWVyaWNhL0xvc19BbmdlbGVzYC5cbiAgICAgKi9cbiAgICB0aW1lem9uZT86IHN0cmluZztcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBSZXNwb25zZUNyZWF0ZVBhcmFtcyA9IFJlc3BvbnNlQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIHwgUmVzcG9uc2VDcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIFRleHQsIGltYWdlLCBvciBmaWxlIGlucHV0cyB0byB0aGUgbW9kZWwsIHVzZWQgdG8gZ2VuZXJhdGUgYSByZXNwb25zZS5cbiAgICpcbiAgICogTGVhcm4gbW9yZTpcbiAgICpcbiAgICogLSBbVGV4dCBpbnB1dHMgYW5kIG91dHB1dHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0KVxuICAgKiAtIFtJbWFnZSBpbnB1dHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9pbWFnZXMpXG4gICAqIC0gW0ZpbGUgaW5wdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvcGRmLWZpbGVzKVxuICAgKiAtIFtDb252ZXJzYXRpb24gc3RhdGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9jb252ZXJzYXRpb24tc3RhdGUpXG4gICAqIC0gW0Z1bmN0aW9uIGNhbGxpbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9mdW5jdGlvbi1jYWxsaW5nKVxuICAgKi9cbiAgaW5wdXQ6IHN0cmluZyB8IFJlc3BvbnNlSW5wdXQ7XG5cbiAgLyoqXG4gICAqIE1vZGVsIElEIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHJlc3BvbnNlLCBsaWtlIGBncHQtNG9gIG9yIGBvMWAuIE9wZW5BSSBvZmZlcnMgYVxuICAgKiB3aWRlIHJhbmdlIG9mIG1vZGVscyB3aXRoIGRpZmZlcmVudCBjYXBhYmlsaXRpZXMsIHBlcmZvcm1hbmNlIGNoYXJhY3RlcmlzdGljcyxcbiAgICogYW5kIHByaWNlIHBvaW50cy4gUmVmZXIgdG8gdGhlXG4gICAqIFttb2RlbCBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzKSB0byBicm93c2UgYW5kIGNvbXBhcmVcbiAgICogYXZhaWxhYmxlIG1vZGVscy5cbiAgICovXG4gIG1vZGVsOiBTaGFyZWQuUmVzcG9uc2VzTW9kZWw7XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgYWRkaXRpb25hbCBvdXRwdXQgZGF0YSB0byBpbmNsdWRlIGluIHRoZSBtb2RlbCByZXNwb25zZS4gQ3VycmVudGx5XG4gICAqIHN1cHBvcnRlZCB2YWx1ZXMgYXJlOlxuICAgKlxuICAgKiAtIGBmaWxlX3NlYXJjaF9jYWxsLnJlc3VsdHNgOiBJbmNsdWRlIHRoZSBzZWFyY2ggcmVzdWx0cyBvZiB0aGUgZmlsZSBzZWFyY2ggdG9vbFxuICAgKiAgIGNhbGwuXG4gICAqIC0gYG1lc3NhZ2UuaW5wdXRfaW1hZ2UuaW1hZ2VfdXJsYDogSW5jbHVkZSBpbWFnZSB1cmxzIGZyb20gdGhlIGlucHV0IG1lc3NhZ2UuXG4gICAqIC0gYGNvbXB1dGVyX2NhbGxfb3V0cHV0Lm91dHB1dC5pbWFnZV91cmxgOiBJbmNsdWRlIGltYWdlIHVybHMgZnJvbSB0aGUgY29tcHV0ZXJcbiAgICogICBjYWxsIG91dHB1dC5cbiAgICovXG4gIGluY2x1ZGU/OiBBcnJheTxSZXNwb25zZUluY2x1ZGFibGU+IHwgbnVsbDtcblxuICAvKipcbiAgICogSW5zZXJ0cyBhIHN5c3RlbSAob3IgZGV2ZWxvcGVyKSBtZXNzYWdlIGFzIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBtb2RlbCdzXG4gICAqIGNvbnRleHQuXG4gICAqXG4gICAqIFdoZW4gdXNpbmcgYWxvbmcgd2l0aCBgcHJldmlvdXNfcmVzcG9uc2VfaWRgLCB0aGUgaW5zdHJ1Y3Rpb25zIGZyb20gYSBwcmV2aW91c1xuICAgKiByZXNwb25zZSB3aWxsIGJlIG5vdCBiZSBjYXJyaWVkIG92ZXIgdG8gdGhlIG5leHQgcmVzcG9uc2UuIFRoaXMgbWFrZXMgaXQgc2ltcGxlXG4gICAqIHRvIHN3YXAgb3V0IHN5c3RlbSAob3IgZGV2ZWxvcGVyKSBtZXNzYWdlcyBpbiBuZXcgcmVzcG9uc2VzLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogQW4gdXBwZXIgYm91bmQgZm9yIHRoZSBudW1iZXIgb2YgdG9rZW5zIHRoYXQgY2FuIGJlIGdlbmVyYXRlZCBmb3IgYSByZXNwb25zZSxcbiAgICogaW5jbHVkaW5nIHZpc2libGUgb3V0cHV0IHRva2VucyBhbmRcbiAgICogW3JlYXNvbmluZyB0b2tlbnNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9yZWFzb25pbmcpLlxuICAgKi9cbiAgbWF4X291dHB1dF90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGFsbG93IHRoZSBtb2RlbCB0byBydW4gdG9vbCBjYWxscyBpbiBwYXJhbGxlbC5cbiAgICovXG4gIHBhcmFsbGVsX3Rvb2xfY2FsbHM/OiBib29sZWFuIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgcHJldmlvdXMgcmVzcG9uc2UgdG8gdGhlIG1vZGVsLiBVc2UgdGhpcyB0byBjcmVhdGVcbiAgICogbXVsdGktdHVybiBjb252ZXJzYXRpb25zLiBMZWFybiBtb3JlIGFib3V0XG4gICAqIFtjb252ZXJzYXRpb24gc3RhdGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9jb252ZXJzYXRpb24tc3RhdGUpLlxuICAgKi9cbiAgcHJldmlvdXNfcmVzcG9uc2VfaWQ/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiAqKm8tc2VyaWVzIG1vZGVscyBvbmx5KipcbiAgICpcbiAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvclxuICAgKiBbcmVhc29uaW5nIG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3JlYXNvbmluZykuXG4gICAqL1xuICByZWFzb25pbmc/OiBTaGFyZWQuUmVhc29uaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hldGhlciB0byBzdG9yZSB0aGUgZ2VuZXJhdGVkIG1vZGVsIHJlc3BvbnNlIGZvciBsYXRlciByZXRyaWV2YWwgdmlhIEFQSS5cbiAgICovXG4gIHN0b3JlPzogYm9vbGVhbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGUgbW9kZWwgcmVzcG9uc2UgZGF0YSB3aWxsIGJlIHN0cmVhbWVkIHRvIHRoZSBjbGllbnQgYXMgaXQgaXNcbiAgICogZ2VuZXJhdGVkIHVzaW5nXG4gICAqIFtzZXJ2ZXItc2VudCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2ZXItc2VudF9ldmVudHMvVXNpbmdfc2VydmVyLXNlbnRfZXZlbnRzI0V2ZW50X3N0cmVhbV9mb3JtYXQpLlxuICAgKiBTZWUgdGhlXG4gICAqIFtTdHJlYW1pbmcgc2VjdGlvbiBiZWxvd10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9yZXNwb25zZXMtc3RyZWFtaW5nKVxuICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICovXG4gIHN0cmVhbT86IGJvb2xlYW4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGxcbiAgICogbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmVcbiAgICogZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy4gV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIGB0b3BfcGAgYnV0XG4gICAqIG5vdCBib3RoLlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIGEgdGV4dCByZXNwb25zZSBmcm9tIHRoZSBtb2RlbC4gQ2FuIGJlIHBsYWluIHRleHQgb3JcbiAgICogc3RydWN0dXJlZCBKU09OIGRhdGEuIExlYXJuIG1vcmU6XG4gICAqXG4gICAqIC0gW1RleHQgaW5wdXRzIGFuZCBvdXRwdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dClcbiAgICogLSBbU3RydWN0dXJlZCBPdXRwdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKVxuICAgKi9cbiAgdGV4dD86IFJlc3BvbnNlVGV4dENvbmZpZztcblxuICAvKipcbiAgICogSG93IHRoZSBtb2RlbCBzaG91bGQgc2VsZWN0IHdoaWNoIHRvb2wgKG9yIHRvb2xzKSB0byB1c2Ugd2hlbiBnZW5lcmF0aW5nIGFcbiAgICogcmVzcG9uc2UuIFNlZSB0aGUgYHRvb2xzYCBwYXJhbWV0ZXIgdG8gc2VlIGhvdyB0byBzcGVjaWZ5IHdoaWNoIHRvb2xzIHRoZSBtb2RlbFxuICAgKiBjYW4gY2FsbC5cbiAgICovXG4gIHRvb2xfY2hvaWNlPzogVG9vbENob2ljZU9wdGlvbnMgfCBUb29sQ2hvaWNlVHlwZXMgfCBUb29sQ2hvaWNlRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIHRvb2xzIHRoZSBtb2RlbCBtYXkgY2FsbCB3aGlsZSBnZW5lcmF0aW5nIGEgcmVzcG9uc2UuIFlvdSBjYW5cbiAgICogc3BlY2lmeSB3aGljaCB0b29sIHRvIHVzZSBieSBzZXR0aW5nIHRoZSBgdG9vbF9jaG9pY2VgIHBhcmFtZXRlci5cbiAgICpcbiAgICogVGhlIHR3byBjYXRlZ29yaWVzIG9mIHRvb2xzIHlvdSBjYW4gcHJvdmlkZSB0aGUgbW9kZWwgYXJlOlxuICAgKlxuICAgKiAtICoqQnVpbHQtaW4gdG9vbHMqKjogVG9vbHMgdGhhdCBhcmUgcHJvdmlkZWQgYnkgT3BlbkFJIHRoYXQgZXh0ZW5kIHRoZSBtb2RlbCdzXG4gICAqICAgY2FwYWJpbGl0aWVzLCBsaWtlXG4gICAqICAgW3dlYiBzZWFyY2hdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy13ZWItc2VhcmNoKSBvclxuICAgKiAgIFtmaWxlIHNlYXJjaF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLWZpbGUtc2VhcmNoKS5cbiAgICogICBMZWFybiBtb3JlIGFib3V0XG4gICAqICAgW2J1aWx0LWluIHRvb2xzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMpLlxuICAgKiAtICoqRnVuY3Rpb24gY2FsbHMgKGN1c3RvbSB0b29scykqKjogRnVuY3Rpb25zIHRoYXQgYXJlIGRlZmluZWQgYnkgeW91LCBlbmFibGluZ1xuICAgKiAgIHRoZSBtb2RlbCB0byBjYWxsIHlvdXIgb3duIGNvZGUuIExlYXJuIG1vcmUgYWJvdXRcbiAgICogICBbZnVuY3Rpb24gY2FsbGluZ10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2Z1bmN0aW9uLWNhbGxpbmcpLlxuICAgKi9cbiAgdG9vbHM/OiBBcnJheTxUb29sPjtcblxuICAvKipcbiAgICogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcsIHdoZXJlIHRoZVxuICAgKiBtb2RlbCBjb25zaWRlcnMgdGhlIHJlc3VsdHMgb2YgdGhlIHRva2VucyB3aXRoIHRvcF9wIHByb2JhYmlsaXR5IG1hc3MuIFNvIDAuMVxuICAgKiBtZWFucyBvbmx5IHRoZSB0b2tlbnMgY29tcHJpc2luZyB0aGUgdG9wIDEwJSBwcm9iYWJpbGl0eSBtYXNzIGFyZSBjb25zaWRlcmVkLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgYHRlbXBlcmF0dXJlYCBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSB0cnVuY2F0aW9uIHN0cmF0ZWd5IHRvIHVzZSBmb3IgdGhlIG1vZGVsIHJlc3BvbnNlLlxuICAgKlxuICAgKiAtIGBhdXRvYDogSWYgdGhlIGNvbnRleHQgb2YgdGhpcyByZXNwb25zZSBhbmQgcHJldmlvdXMgb25lcyBleGNlZWRzIHRoZSBtb2RlbCdzXG4gICAqICAgY29udGV4dCB3aW5kb3cgc2l6ZSwgdGhlIG1vZGVsIHdpbGwgdHJ1bmNhdGUgdGhlIHJlc3BvbnNlIHRvIGZpdCB0aGUgY29udGV4dFxuICAgKiAgIHdpbmRvdyBieSBkcm9wcGluZyBpbnB1dCBpdGVtcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBjb252ZXJzYXRpb24uXG4gICAqIC0gYGRpc2FibGVkYCAoZGVmYXVsdCk6IElmIGEgbW9kZWwgcmVzcG9uc2Ugd2lsbCBleGNlZWQgdGhlIGNvbnRleHQgd2luZG93IHNpemVcbiAgICogICBmb3IgYSBtb2RlbCwgdGhlIHJlcXVlc3Qgd2lsbCBmYWlsIHdpdGggYSA0MDAgZXJyb3IuXG4gICAqL1xuICB0cnVuY2F0aW9uPzogJ2F1dG8nIHwgJ2Rpc2FibGVkJyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yXG4gICAqIGFuZCBkZXRlY3QgYWJ1c2UuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzI2VuZC11c2VyLWlkcykuXG4gICAqL1xuICB1c2VyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlc3BvbnNlQ3JlYXRlUGFyYW1zIHtcbiAgZXhwb3J0IHR5cGUgUmVzcG9uc2VDcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgPSBSZXNwb25zZXNBUEkuUmVzcG9uc2VDcmVhdGVQYXJhbXNOb25TdHJlYW1pbmc7XG4gIGV4cG9ydCB0eXBlIFJlc3BvbnNlQ3JlYXRlUGFyYW1zU3RyZWFtaW5nID0gUmVzcG9uc2VzQVBJLlJlc3BvbnNlQ3JlYXRlUGFyYW1zU3RyZWFtaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIGV4dGVuZHMgUmVzcG9uc2VDcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGUgbW9kZWwgcmVzcG9uc2UgZGF0YSB3aWxsIGJlIHN0cmVhbWVkIHRvIHRoZSBjbGllbnQgYXMgaXQgaXNcbiAgICogZ2VuZXJhdGVkIHVzaW5nXG4gICAqIFtzZXJ2ZXItc2VudCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2ZXItc2VudF9ldmVudHMvVXNpbmdfc2VydmVyLXNlbnRfZXZlbnRzI0V2ZW50X3N0cmVhbV9mb3JtYXQpLlxuICAgKiBTZWUgdGhlXG4gICAqIFtTdHJlYW1pbmcgc2VjdGlvbiBiZWxvd10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9yZXNwb25zZXMtc3RyZWFtaW5nKVxuICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICovXG4gIHN0cmVhbT86IGZhbHNlIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNyZWF0ZVBhcmFtc1N0cmVhbWluZyBleHRlbmRzIFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIG1vZGVsIHJlc3BvbnNlIGRhdGEgd2lsbCBiZSBzdHJlYW1lZCB0byB0aGUgY2xpZW50IGFzIGl0IGlzXG4gICAqIGdlbmVyYXRlZCB1c2luZ1xuICAgKiBbc2VydmVyLXNlbnQgZXZlbnRzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmVyLXNlbnRfZXZlbnRzL1VzaW5nX3NlcnZlci1zZW50X2V2ZW50cyNFdmVudF9zdHJlYW1fZm9ybWF0KS5cbiAgICogU2VlIHRoZVxuICAgKiBbU3RyZWFtaW5nIHNlY3Rpb24gYmVsb3ddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcmVzcG9uc2VzLXN0cmVhbWluZylcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqL1xuICBzdHJlYW06IHRydWU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VSZXRyaWV2ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSByZXNwb25zZS4gU2VlIHRoZSBgaW5jbHVkZWAgcGFyYW1ldGVyIGZvclxuICAgKiBSZXNwb25zZSBjcmVhdGlvbiBhYm92ZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGluY2x1ZGU/OiBBcnJheTxSZXNwb25zZUluY2x1ZGFibGU+O1xufVxuXG5SZXNwb25zZXMuSW5wdXRJdGVtcyA9IElucHV0SXRlbXM7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBSZXNwb25zZXMge1xuICBleHBvcnQge1xuICAgIElucHV0SXRlbXMgYXMgSW5wdXRJdGVtcyxcbiAgICB0eXBlIFJlc3BvbnNlSXRlbUxpc3QgYXMgUmVzcG9uc2VJdGVtTGlzdCxcbiAgICB0eXBlIElucHV0SXRlbUxpc3RQYXJhbXMgYXMgSW5wdXRJdGVtTGlzdFBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vY29yZSc7XG5cbmV4cG9ydCBjbGFzcyBQYXJ0cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIEFkZHMgYVxuICAgKiBbUGFydF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL3BhcnQtb2JqZWN0KSB0byBhblxuICAgKiBbVXBsb2FkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3VwbG9hZHMvb2JqZWN0KSBvYmplY3QuXG4gICAqIEEgUGFydCByZXByZXNlbnRzIGEgY2h1bmsgb2YgYnl0ZXMgZnJvbSB0aGUgZmlsZSB5b3UgYXJlIHRyeWluZyB0byB1cGxvYWQuXG4gICAqXG4gICAqIEVhY2ggUGFydCBjYW4gYmUgYXQgbW9zdCA2NCBNQiwgYW5kIHlvdSBjYW4gYWRkIFBhcnRzIHVudGlsIHlvdSBoaXQgdGhlIFVwbG9hZFxuICAgKiBtYXhpbXVtIG9mIDggR0IuXG4gICAqXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIGFkZCBtdWx0aXBsZSBQYXJ0cyBpbiBwYXJhbGxlbC4gWW91IGNhbiBkZWNpZGUgdGhlIGludGVuZGVkXG4gICAqIG9yZGVyIG9mIHRoZSBQYXJ0cyB3aGVuIHlvdVxuICAgKiBbY29tcGxldGUgdGhlIFVwbG9hZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL2NvbXBsZXRlKS5cbiAgICovXG4gIGNyZWF0ZShcbiAgICB1cGxvYWRJZDogc3RyaW5nLFxuICAgIGJvZHk6IFBhcnRDcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxVcGxvYWRQYXJ0PiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KFxuICAgICAgYC91cGxvYWRzLyR7dXBsb2FkSWR9L3BhcnRzYCxcbiAgICAgIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSxcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogVGhlIHVwbG9hZCBQYXJ0IHJlcHJlc2VudHMgYSBjaHVuayBvZiBieXRlcyB3ZSBjYW4gYWRkIHRvIGFuIFVwbG9hZCBvYmplY3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkUGFydCB7XG4gIC8qKlxuICAgKiBUaGUgdXBsb2FkIFBhcnQgdW5pcXVlIGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBQYXJ0IHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgdXBsb2FkLnBhcnRgLlxuICAgKi9cbiAgb2JqZWN0OiAndXBsb2FkLnBhcnQnO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFVwbG9hZCBvYmplY3QgdGhhdCB0aGlzIFBhcnQgd2FzIGFkZGVkIHRvLlxuICAgKi9cbiAgdXBsb2FkX2lkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFydENyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgY2h1bmsgb2YgYnl0ZXMgZm9yIHRoaXMgUGFydC5cbiAgICovXG4gIGRhdGE6IENvcmUuVXBsb2FkYWJsZTtcbn1cblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIFBhcnRzIHtcbiAgZXhwb3J0IHsgdHlwZSBVcGxvYWRQYXJ0IGFzIFVwbG9hZFBhcnQsIHR5cGUgUGFydENyZWF0ZVBhcmFtcyBhcyBQYXJ0Q3JlYXRlUGFyYW1zIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgRmlsZXNBUEkgZnJvbSAnLi4vZmlsZXMnO1xuaW1wb3J0ICogYXMgUGFydHNBUEkgZnJvbSAnLi9wYXJ0cyc7XG5pbXBvcnQgeyBQYXJ0Q3JlYXRlUGFyYW1zLCBQYXJ0cywgVXBsb2FkUGFydCB9IGZyb20gJy4vcGFydHMnO1xuXG5leHBvcnQgY2xhc3MgVXBsb2FkcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgcGFydHM6IFBhcnRzQVBJLlBhcnRzID0gbmV3IFBhcnRzQVBJLlBhcnRzKHRoaXMuX2NsaWVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW50ZXJtZWRpYXRlXG4gICAqIFtVcGxvYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9vYmplY3QpIG9iamVjdFxuICAgKiB0aGF0IHlvdSBjYW4gYWRkXG4gICAqIFtQYXJ0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL3BhcnQtb2JqZWN0KSB0by5cbiAgICogQ3VycmVudGx5LCBhbiBVcGxvYWQgY2FuIGFjY2VwdCBhdCBtb3N0IDggR0IgaW4gdG90YWwgYW5kIGV4cGlyZXMgYWZ0ZXIgYW4gaG91clxuICAgKiBhZnRlciB5b3UgY3JlYXRlIGl0LlxuICAgKlxuICAgKiBPbmNlIHlvdSBjb21wbGV0ZSB0aGUgVXBsb2FkLCB3ZSB3aWxsIGNyZWF0ZSBhXG4gICAqIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL29iamVjdCkgb2JqZWN0IHRoYXRcbiAgICogY29udGFpbnMgYWxsIHRoZSBwYXJ0cyB5b3UgdXBsb2FkZWQuIFRoaXMgRmlsZSBpcyB1c2FibGUgaW4gdGhlIHJlc3Qgb2Ygb3VyXG4gICAqIHBsYXRmb3JtIGFzIGEgcmVndWxhciBGaWxlIG9iamVjdC5cbiAgICpcbiAgICogRm9yIGNlcnRhaW4gYHB1cnBvc2VgIHZhbHVlcywgdGhlIGNvcnJlY3QgYG1pbWVfdHlwZWAgbXVzdCBiZSBzcGVjaWZpZWQuIFBsZWFzZVxuICAgKiByZWZlciB0byBkb2N1bWVudGF0aW9uIGZvciB0aGVcbiAgICogW3N1cHBvcnRlZCBNSU1FIHR5cGVzIGZvciB5b3VyIHVzZSBjYXNlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL3Rvb2xzL2ZpbGUtc2VhcmNoI3N1cHBvcnRlZC1maWxlcykuXG4gICAqXG4gICAqIEZvciBndWlkYW5jZSBvbiB0aGUgcHJvcGVyIGZpbGVuYW1lIGV4dGVuc2lvbnMgZm9yIGVhY2ggcHVycG9zZSwgcGxlYXNlIGZvbGxvd1xuICAgKiB0aGUgZG9jdW1lbnRhdGlvbiBvblxuICAgKiBbY3JlYXRpbmcgYSBGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL2NyZWF0ZSkuXG4gICAqL1xuICBjcmVhdGUoYm9keTogVXBsb2FkQ3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxVcGxvYWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy91cGxvYWRzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgdGhlIFVwbG9hZC4gTm8gUGFydHMgbWF5IGJlIGFkZGVkIGFmdGVyIGFuIFVwbG9hZCBpcyBjYW5jZWxsZWQuXG4gICAqL1xuICBjYW5jZWwodXBsb2FkSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VXBsb2FkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdXBsb2Fkcy8ke3VwbG9hZElkfS9jYW5jZWxgLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wbGV0ZXMgdGhlXG4gICAqIFtVcGxvYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9vYmplY3QpLlxuICAgKlxuICAgKiBXaXRoaW4gdGhlIHJldHVybmVkIFVwbG9hZCBvYmplY3QsIHRoZXJlIGlzIGEgbmVzdGVkXG4gICAqIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL29iamVjdCkgb2JqZWN0IHRoYXRcbiAgICogaXMgcmVhZHkgdG8gdXNlIGluIHRoZSByZXN0IG9mIHRoZSBwbGF0Zm9ybS5cbiAgICpcbiAgICogWW91IGNhbiBzcGVjaWZ5IHRoZSBvcmRlciBvZiB0aGUgUGFydHMgYnkgcGFzc2luZyBpbiBhbiBvcmRlcmVkIGxpc3Qgb2YgdGhlIFBhcnRcbiAgICogSURzLlxuICAgKlxuICAgKiBUaGUgbnVtYmVyIG9mIGJ5dGVzIHVwbG9hZGVkIHVwb24gY29tcGxldGlvbiBtdXN0IG1hdGNoIHRoZSBudW1iZXIgb2YgYnl0ZXNcbiAgICogaW5pdGlhbGx5IHNwZWNpZmllZCB3aGVuIGNyZWF0aW5nIHRoZSBVcGxvYWQgb2JqZWN0LiBObyBQYXJ0cyBtYXkgYmUgYWRkZWQgYWZ0ZXJcbiAgICogYW4gVXBsb2FkIGlzIGNvbXBsZXRlZC5cbiAgICovXG4gIGNvbXBsZXRlKFxuICAgIHVwbG9hZElkOiBzdHJpbmcsXG4gICAgYm9keTogVXBsb2FkQ29tcGxldGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxVcGxvYWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC91cGxvYWRzLyR7dXBsb2FkSWR9L2NvbXBsZXRlYCwgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG59XG5cbi8qKlxuICogVGhlIFVwbG9hZCBvYmplY3QgY2FuIGFjY2VwdCBieXRlIGNodW5rcyBpbiB0aGUgZm9ybSBvZiBQYXJ0cy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGxvYWQge1xuICAvKipcbiAgICogVGhlIFVwbG9hZCB1bmlxdWUgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbnRlbmRlZCBudW1iZXIgb2YgYnl0ZXMgdG8gYmUgdXBsb2FkZWQuXG4gICAqL1xuICBieXRlczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBVcGxvYWQgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIFVwbG9hZCB3aWxsIGV4cGlyZS5cbiAgICovXG4gIGV4cGlyZXNfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZpbGUgdG8gYmUgdXBsb2FkZWQuXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBcInVwbG9hZFwiLlxuICAgKi9cbiAgb2JqZWN0OiAndXBsb2FkJztcblxuICAvKipcbiAgICogVGhlIGludGVuZGVkIHB1cnBvc2Ugb2YgdGhlIGZpbGUuXG4gICAqIFtQbGVhc2UgcmVmZXIgaGVyZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9vYmplY3QjZmlsZXMvb2JqZWN0LXB1cnBvc2UpXG4gICAqIGZvciBhY2NlcHRhYmxlIHZhbHVlcy5cbiAgICovXG4gIHB1cnBvc2U6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgVXBsb2FkLlxuICAgKi9cbiAgc3RhdHVzOiAncGVuZGluZycgfCAnY29tcGxldGVkJyB8ICdjYW5jZWxsZWQnIHwgJ2V4cGlyZWQnO1xuXG4gIC8qKlxuICAgKiBUaGUgYEZpbGVgIG9iamVjdCByZXByZXNlbnRzIGEgZG9jdW1lbnQgdGhhdCBoYXMgYmVlbiB1cGxvYWRlZCB0byBPcGVuQUkuXG4gICAqL1xuICBmaWxlPzogRmlsZXNBUEkuRmlsZU9iamVjdCB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgYnl0ZXMgaW4gdGhlIGZpbGUgeW91IGFyZSB1cGxvYWRpbmcuXG4gICAqL1xuICBieXRlczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZmlsZSB0byB1cGxvYWQuXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgTUlNRSB0eXBlIG9mIHRoZSBmaWxlLlxuICAgKlxuICAgKiBUaGlzIG11c3QgZmFsbCB3aXRoaW4gdGhlIHN1cHBvcnRlZCBNSU1FIHR5cGVzIGZvciB5b3VyIGZpbGUgcHVycG9zZS4gU2VlIHRoZVxuICAgKiBzdXBwb3J0ZWQgTUlNRSB0eXBlcyBmb3IgYXNzaXN0YW50cyBhbmQgdmlzaW9uLlxuICAgKi9cbiAgbWltZV90eXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbnRlbmRlZCBwdXJwb3NlIG9mIHRoZSB1cGxvYWRlZCBmaWxlLlxuICAgKlxuICAgKiBTZWUgdGhlXG4gICAqIFtkb2N1bWVudGF0aW9uIG9uIEZpbGUgcHVycG9zZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvY3JlYXRlI2ZpbGVzLWNyZWF0ZS1wdXJwb3NlKS5cbiAgICovXG4gIHB1cnBvc2U6IEZpbGVzQVBJLkZpbGVQdXJwb3NlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwbG9hZENvbXBsZXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBvcmRlcmVkIGxpc3Qgb2YgUGFydCBJRHMuXG4gICAqL1xuICBwYXJ0X2lkczogQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogVGhlIG9wdGlvbmFsIG1kNSBjaGVja3N1bSBmb3IgdGhlIGZpbGUgY29udGVudHMgdG8gdmVyaWZ5IGlmIHRoZSBieXRlcyB1cGxvYWRlZFxuICAgKiBtYXRjaGVzIHdoYXQgeW91IGV4cGVjdC5cbiAgICovXG4gIG1kNT86IHN0cmluZztcbn1cblxuVXBsb2Fkcy5QYXJ0cyA9IFBhcnRzO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgVXBsb2FkcyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBVcGxvYWQgYXMgVXBsb2FkLFxuICAgIHR5cGUgVXBsb2FkQ3JlYXRlUGFyYW1zIGFzIFVwbG9hZENyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIFVwbG9hZENvbXBsZXRlUGFyYW1zIGFzIFVwbG9hZENvbXBsZXRlUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7IFBhcnRzIGFzIFBhcnRzLCB0eXBlIFVwbG9hZFBhcnQgYXMgVXBsb2FkUGFydCwgdHlwZSBQYXJ0Q3JlYXRlUGFyYW1zIGFzIFBhcnRDcmVhdGVQYXJhbXMgfTtcbn1cbiIsICIvKipcbiAqIExpa2UgYFByb21pc2UuYWxsU2V0dGxlZCgpYCBidXQgdGhyb3dzIGFuIGVycm9yIGlmIGFueSBwcm9taXNlcyBhcmUgcmVqZWN0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBhbGxTZXR0bGVkV2l0aFRocm93ID0gYXN5bmMgPFI+KHByb21pc2VzOiBQcm9taXNlPFI+W10pOiBQcm9taXNlPFJbXT4gPT4ge1xuICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHByb21pc2VzKTtcbiAgY29uc3QgcmVqZWN0ZWQgPSByZXN1bHRzLmZpbHRlcigocmVzdWx0KTogcmVzdWx0IGlzIFByb21pc2VSZWplY3RlZFJlc3VsdCA9PiByZXN1bHQuc3RhdHVzID09PSAncmVqZWN0ZWQnKTtcbiAgaWYgKHJlamVjdGVkLmxlbmd0aCkge1xuICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlamVjdGVkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKHJlc3VsdC5yZWFzb24pO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihgJHtyZWplY3RlZC5sZW5ndGh9IHByb21pc2UocykgZmFpbGVkIC0gc2VlIHRoZSBhYm92ZSBlcnJvcnNgKTtcbiAgfVxuXG4gIC8vIE5vdGU6IFRTIHdhcyBjb21wbGFpbmluZyBhYm91dCB1c2luZyBgLmZpbHRlcigpLm1hcCgpYCBoZXJlIGZvciBzb21lIHJlYXNvblxuICBjb25zdCB2YWx1ZXM6IFJbXSA9IFtdO1xuICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICB2YWx1ZXMucHVzaChyZXN1bHQudmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWVzO1xufTtcbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCB7IHNsZWVwLCBVcGxvYWRhYmxlLCBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgVmVjdG9yU3RvcmVzQVBJIGZyb20gJy4vdmVjdG9yLXN0b3Jlcyc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlLCB0eXBlIEN1cnNvclBhZ2VQYXJhbXMsIFBhZ2UgfSBmcm9tICcuLi8uLi9wYWdpbmF0aW9uJztcblxuZXhwb3J0IGNsYXNzIEZpbGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogQ3JlYXRlIGEgdmVjdG9yIHN0b3JlIGZpbGUgYnkgYXR0YWNoaW5nIGFcbiAgICogW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIHRvIGFcbiAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdCkuXG4gICAqL1xuICBjcmVhdGUoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGJvZHk6IEZpbGVDcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGU+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZXNgLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgdmVjdG9yIHN0b3JlIGZpbGUuXG4gICAqL1xuICByZXRyaWV2ZShcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgZmlsZUlkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGU+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlcy8ke2ZpbGVJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYXR0cmlidXRlcyBvbiBhIHZlY3RvciBzdG9yZSBmaWxlLlxuICAgKi9cbiAgdXBkYXRlKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBmaWxlSWQ6IHN0cmluZyxcbiAgICBib2R5OiBGaWxlVXBkYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VmVjdG9yU3RvcmVGaWxlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzLyR7ZmlsZUlkfWAsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgZmlsZXMuXG4gICAqL1xuICBsaXN0KFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBxdWVyeT86IEZpbGVMaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFZlY3RvclN0b3JlRmlsZXNQYWdlLCBWZWN0b3JTdG9yZUZpbGU+O1xuICBsaXN0KFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGVzUGFnZSwgVmVjdG9yU3RvcmVGaWxlPjtcbiAgbGlzdChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgcXVlcnk6IEZpbGVMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFZlY3RvclN0b3JlRmlsZXNQYWdlLCBWZWN0b3JTdG9yZUZpbGU+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3QodmVjdG9yU3RvcmVJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzYCwgVmVjdG9yU3RvcmVGaWxlc1BhZ2UsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgdmVjdG9yIHN0b3JlIGZpbGUuIFRoaXMgd2lsbCByZW1vdmUgdGhlIGZpbGUgZnJvbSB0aGUgdmVjdG9yIHN0b3JlIGJ1dFxuICAgKiB0aGUgZmlsZSBpdHNlbGYgd2lsbCBub3QgYmUgZGVsZXRlZC4gVG8gZGVsZXRlIHRoZSBmaWxlLCB1c2UgdGhlXG4gICAqIFtkZWxldGUgZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9kZWxldGUpXG4gICAqIGVuZHBvaW50LlxuICAgKi9cbiAgZGVsKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBmaWxlSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFZlY3RvclN0b3JlRmlsZURlbGV0ZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlcy8ke2ZpbGVJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2ggYSBmaWxlIHRvIHRoZSBnaXZlbiB2ZWN0b3Igc3RvcmUgYW5kIHdhaXQgZm9yIGl0IHRvIGJlIHByb2Nlc3NlZC5cbiAgICovXG4gIGFzeW5jIGNyZWF0ZUFuZFBvbGwoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGJvZHk6IEZpbGVDcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMgJiB7IHBvbGxJbnRlcnZhbE1zPzogbnVtYmVyIH0sXG4gICk6IFByb21pc2U8VmVjdG9yU3RvcmVGaWxlPiB7XG4gICAgY29uc3QgZmlsZSA9IGF3YWl0IHRoaXMuY3JlYXRlKHZlY3RvclN0b3JlSWQsIGJvZHksIG9wdGlvbnMpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodmVjdG9yU3RvcmVJZCwgZmlsZS5pZCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogV2FpdCBmb3IgdGhlIHZlY3RvciBzdG9yZSBmaWxlIHRvIGZpbmlzaCBwcm9jZXNzaW5nLlxuICAgKlxuICAgKiBOb3RlOiB0aGlzIHdpbGwgcmV0dXJuIGV2ZW4gaWYgdGhlIGZpbGUgZmFpbGVkIHRvIHByb2Nlc3MsIHlvdSBuZWVkIHRvIGNoZWNrXG4gICAqIGZpbGUubGFzdF9lcnJvciBhbmQgZmlsZS5zdGF0dXMgdG8gaGFuZGxlIHRoZXNlIGNhc2VzXG4gICAqL1xuICBhc3luYyBwb2xsKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBmaWxlSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyAmIHsgcG9sbEludGVydmFsTXM/OiBudW1iZXIgfSxcbiAgKTogUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGU+IHtcbiAgICBjb25zdCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0geyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtUG9sbC1IZWxwZXInOiAndHJ1ZScgfTtcbiAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgIGhlYWRlcnNbJ1gtU3RhaW5sZXNzLUN1c3RvbS1Qb2xsLUludGVydmFsJ10gPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBmaWxlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJldHJpZXZlKHZlY3RvclN0b3JlSWQsIGZpbGVJZCwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgfSkud2l0aFJlc3BvbnNlKCk7XG5cbiAgICAgIGNvbnN0IGZpbGUgPSBmaWxlUmVzcG9uc2UuZGF0YTtcblxuICAgICAgc3dpdGNoIChmaWxlLnN0YXR1cykge1xuICAgICAgICBjYXNlICdpbl9wcm9ncmVzcyc6XG4gICAgICAgICAgbGV0IHNsZWVwSW50ZXJ2YWwgPSA1MDAwO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnM/LnBvbGxJbnRlcnZhbE1zKSB7XG4gICAgICAgICAgICBzbGVlcEludGVydmFsID0gb3B0aW9ucy5wb2xsSW50ZXJ2YWxNcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWwgPSBmaWxlUmVzcG9uc2UucmVzcG9uc2UuaGVhZGVycy5nZXQoJ29wZW5haS1wb2xsLWFmdGVyLW1zJyk7XG4gICAgICAgICAgICBpZiAoaGVhZGVySW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWxNcyA9IHBhcnNlSW50KGhlYWRlckludGVydmFsKTtcbiAgICAgICAgICAgICAgaWYgKCFpc05hTihoZWFkZXJJbnRlcnZhbE1zKSkge1xuICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBoZWFkZXJJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IHNsZWVwKHNsZWVwSW50ZXJ2YWwpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICBjYXNlICdjb21wbGV0ZWQnOlxuICAgICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGxvYWQgYSBmaWxlIHRvIHRoZSBgZmlsZXNgIEFQSSBhbmQgdGhlbiBhdHRhY2ggaXQgdG8gdGhlIGdpdmVuIHZlY3RvciBzdG9yZS5cbiAgICpcbiAgICogTm90ZSB0aGUgZmlsZSB3aWxsIGJlIGFzeW5jaHJvbm91c2x5IHByb2Nlc3NlZCAoeW91IGNhbiB1c2UgdGhlIGFsdGVybmF0aXZlXG4gICAqIHBvbGxpbmcgaGVscGVyIG1ldGhvZCB0byB3YWl0IGZvciBwcm9jZXNzaW5nIHRvIGNvbXBsZXRlKS5cbiAgICovXG4gIGFzeW5jIHVwbG9hZChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgZmlsZTogVXBsb2FkYWJsZSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGU+IHtcbiAgICBjb25zdCBmaWxlSW5mbyA9IGF3YWl0IHRoaXMuX2NsaWVudC5maWxlcy5jcmVhdGUoeyBmaWxlOiBmaWxlLCBwdXJwb3NlOiAnYXNzaXN0YW50cycgfSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlKHZlY3RvclN0b3JlSWQsIHsgZmlsZV9pZDogZmlsZUluZm8uaWQgfSwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgZmlsZSB0byBhIHZlY3RvciBzdG9yZSBhbmQgcG9sbCB1bnRpbCBwcm9jZXNzaW5nIGlzIGNvbXBsZXRlLlxuICAgKi9cbiAgYXN5bmMgdXBsb2FkQW5kUG9sbChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgZmlsZTogVXBsb2FkYWJsZSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyAmIHsgcG9sbEludGVydmFsTXM/OiBudW1iZXIgfSxcbiAgKTogUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGU+IHtcbiAgICBjb25zdCBmaWxlSW5mbyA9IGF3YWl0IHRoaXMudXBsb2FkKHZlY3RvclN0b3JlSWQsIGZpbGUsIG9wdGlvbnMpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodmVjdG9yU3RvcmVJZCwgZmlsZUluZm8uaWQsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBwYXJzZWQgY29udGVudHMgb2YgYSB2ZWN0b3Igc3RvcmUgZmlsZS5cbiAgICovXG4gIGNvbnRlbnQoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGZpbGVJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSwgRmlsZUNvbnRlbnRSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChcbiAgICAgIGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzLyR7ZmlsZUlkfS9jb250ZW50YCxcbiAgICAgIEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSxcbiAgICAgIHsgLi4ub3B0aW9ucywgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSB9LFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlRmlsZXNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxWZWN0b3JTdG9yZUZpbGU+IHt9XG5cbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgRmlsZUNvbnRlbnRSZXNwb25zZXNQYWdlIGV4dGVuZHMgUGFnZTxGaWxlQ29udGVudFJlc3BvbnNlPiB7fVxuXG4vKipcbiAqIEEgbGlzdCBvZiBmaWxlcyBhdHRhY2hlZCB0byBhIHZlY3RvciBzdG9yZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWZWN0b3JTdG9yZUZpbGUge1xuICAvKipcbiAgICogVGhlIGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSB2ZWN0b3Igc3RvcmUgZmlsZSB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGxhc3QgZXJyb3IgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdmVjdG9yIHN0b3JlIGZpbGUuIFdpbGwgYmUgYG51bGxgIGlmIHRoZXJlXG4gICAqIGFyZSBubyBlcnJvcnMuXG4gICAqL1xuICBsYXN0X2Vycm9yOiBWZWN0b3JTdG9yZUZpbGUuTGFzdEVycm9yIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYHZlY3Rvcl9zdG9yZS5maWxlYC5cbiAgICovXG4gIG9iamVjdDogJ3ZlY3Rvcl9zdG9yZS5maWxlJztcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgdmVjdG9yIHN0b3JlIGZpbGUsIHdoaWNoIGNhbiBiZSBlaXRoZXIgYGluX3Byb2dyZXNzYCxcbiAgICogYGNvbXBsZXRlZGAsIGBjYW5jZWxsZWRgLCBvciBgZmFpbGVkYC4gVGhlIHN0YXR1cyBgY29tcGxldGVkYCBpbmRpY2F0ZXMgdGhhdCB0aGVcbiAgICogdmVjdG9yIHN0b3JlIGZpbGUgaXMgcmVhZHkgZm9yIHVzZS5cbiAgICovXG4gIHN0YXR1czogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2NhbmNlbGxlZCcgfCAnZmFpbGVkJztcblxuICAvKipcbiAgICogVGhlIHRvdGFsIHZlY3RvciBzdG9yZSB1c2FnZSBpbiBieXRlcy4gTm90ZSB0aGF0IHRoaXMgbWF5IGJlIGRpZmZlcmVudCBmcm9tIHRoZVxuICAgKiBvcmlnaW5hbCBmaWxlIHNpemUuXG4gICAqL1xuICB1c2FnZV9ieXRlczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlXG4gICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAqIHRoYXQgdGhlIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBpc1xuICAgKiBhdHRhY2hlZCB0by5cbiAgICovXG4gIHZlY3Rvcl9zdG9yZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtXG4gICAqIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMlxuICAgKiBjaGFyYWN0ZXJzLCBib29sZWFucywgb3IgbnVtYmVycy5cbiAgICovXG4gIGF0dHJpYnV0ZXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzdHJhdGVneSB1c2VkIHRvIGNodW5rIHRoZSBmaWxlLlxuICAgKi9cbiAgY2h1bmtpbmdfc3RyYXRlZ3k/OiBWZWN0b3JTdG9yZXNBUEkuRmlsZUNodW5raW5nU3RyYXRlZ3k7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVmVjdG9yU3RvcmVGaWxlIHtcbiAgLyoqXG4gICAqIFRoZSBsYXN0IGVycm9yIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHZlY3RvciBzdG9yZSBmaWxlLiBXaWxsIGJlIGBudWxsYCBpZiB0aGVyZVxuICAgKiBhcmUgbm8gZXJyb3JzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBMYXN0RXJyb3Ige1xuICAgIC8qKlxuICAgICAqIE9uZSBvZiBgc2VydmVyX2Vycm9yYCBvciBgcmF0ZV9saW1pdF9leGNlZWRlZGAuXG4gICAgICovXG4gICAgY29kZTogJ3NlcnZlcl9lcnJvcicgfCAndW5zdXBwb3J0ZWRfZmlsZScgfCAnaW52YWxpZF9maWxlJztcblxuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlY3RvclN0b3JlRmlsZURlbGV0ZWQge1xuICBpZDogc3RyaW5nO1xuXG4gIGRlbGV0ZWQ6IGJvb2xlYW47XG5cbiAgb2JqZWN0OiAndmVjdG9yX3N0b3JlLmZpbGUuZGVsZXRlZCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUNvbnRlbnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCBjb250ZW50XG4gICAqL1xuICB0ZXh0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCB0eXBlIChjdXJyZW50bHkgb25seSBgXCJ0ZXh0XCJgKVxuICAgKi9cbiAgdHlwZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEIHRoYXQgdGhlXG4gICAqIHZlY3RvciBzdG9yZSBzaG91bGQgdXNlLiBVc2VmdWwgZm9yIHRvb2xzIGxpa2UgYGZpbGVfc2VhcmNoYCB0aGF0IGNhbiBhY2Nlc3NcbiAgICogZmlsZXMuXG4gICAqL1xuICBmaWxlX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW1cbiAgICogbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyXG4gICAqIGNoYXJhY3RlcnMsIGJvb2xlYW5zLCBvciBudW1iZXJzLlxuICAgKi9cbiAgYXR0cmlidXRlcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4+IHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIGNodW5raW5nIHN0cmF0ZWd5IHVzZWQgdG8gY2h1bmsgdGhlIGZpbGUocykuIElmIG5vdCBzZXQsIHdpbGwgdXNlIHRoZSBgYXV0b2BcbiAgICogc3RyYXRlZ3kuIE9ubHkgYXBwbGljYWJsZSBpZiBgZmlsZV9pZHNgIGlzIG5vbi1lbXB0eS5cbiAgICovXG4gIGNodW5raW5nX3N0cmF0ZWd5PzogVmVjdG9yU3RvcmVzQVBJLkZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZVVwZGF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtXG4gICAqIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMlxuICAgKiBjaGFyYWN0ZXJzLCBib29sZWFucywgb3IgbnVtYmVycy5cbiAgICovXG4gIGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4+IHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlTGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge1xuICAvKipcbiAgICogQSBjdXJzb3IgZm9yIHVzZSBpbiBwYWdpbmF0aW9uLiBgYmVmb3JlYCBpcyBhbiBvYmplY3QgSUQgdGhhdCBkZWZpbmVzIHlvdXIgcGxhY2VcbiAgICogaW4gdGhlIGxpc3QuIEZvciBpbnN0YW5jZSwgaWYgeW91IG1ha2UgYSBsaXN0IHJlcXVlc3QgYW5kIHJlY2VpdmUgMTAwIG9iamVjdHMsXG4gICAqIHN0YXJ0aW5nIHdpdGggb2JqX2ZvbywgeW91ciBzdWJzZXF1ZW50IGNhbGwgY2FuIGluY2x1ZGUgYmVmb3JlPW9ial9mb28gaW4gb3JkZXJcbiAgICogdG8gZmV0Y2ggdGhlIHByZXZpb3VzIHBhZ2Ugb2YgdGhlIGxpc3QuXG4gICAqL1xuICBiZWZvcmU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEZpbHRlciBieSBmaWxlIHN0YXR1cy4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBgZmFpbGVkYCwgYGNhbmNlbGxlZGAuXG4gICAqL1xuICBmaWx0ZXI/OiAnaW5fcHJvZ3Jlc3MnIHwgJ2NvbXBsZXRlZCcgfCAnZmFpbGVkJyB8ICdjYW5jZWxsZWQnO1xuXG4gIC8qKlxuICAgKiBTb3J0IG9yZGVyIGJ5IHRoZSBgY3JlYXRlZF9hdGAgdGltZXN0YW1wIG9mIHRoZSBvYmplY3RzLiBgYXNjYCBmb3IgYXNjZW5kaW5nXG4gICAqIG9yZGVyIGFuZCBgZGVzY2AgZm9yIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAqL1xuICBvcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xufVxuXG5GaWxlcy5WZWN0b3JTdG9yZUZpbGVzUGFnZSA9IFZlY3RvclN0b3JlRmlsZXNQYWdlO1xuRmlsZXMuRmlsZUNvbnRlbnRSZXNwb25zZXNQYWdlID0gRmlsZUNvbnRlbnRSZXNwb25zZXNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgRmlsZXMge1xuICBleHBvcnQge1xuICAgIHR5cGUgVmVjdG9yU3RvcmVGaWxlIGFzIFZlY3RvclN0b3JlRmlsZSxcbiAgICB0eXBlIFZlY3RvclN0b3JlRmlsZURlbGV0ZWQgYXMgVmVjdG9yU3RvcmVGaWxlRGVsZXRlZCxcbiAgICB0eXBlIEZpbGVDb250ZW50UmVzcG9uc2UgYXMgRmlsZUNvbnRlbnRSZXNwb25zZSxcbiAgICBWZWN0b3JTdG9yZUZpbGVzUGFnZSBhcyBWZWN0b3JTdG9yZUZpbGVzUGFnZSxcbiAgICBGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UgYXMgRmlsZUNvbnRlbnRSZXNwb25zZXNQYWdlLFxuICAgIHR5cGUgRmlsZUNyZWF0ZVBhcmFtcyBhcyBGaWxlQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgRmlsZVVwZGF0ZVBhcmFtcyBhcyBGaWxlVXBkYXRlUGFyYW1zLFxuICAgIHR5cGUgRmlsZUxpc3RQYXJhbXMgYXMgRmlsZUxpc3RQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgVXBsb2FkYWJsZSB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgYWxsU2V0dGxlZFdpdGhUaHJvdyB9IGZyb20gJy4uLy4uL2xpYi9VdGlsJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBGaWxlc0FQSSBmcm9tICcuL2ZpbGVzJztcbmltcG9ydCB7IFZlY3RvclN0b3JlRmlsZXNQYWdlIH0gZnJvbSAnLi9maWxlcyc7XG5pbXBvcnQgKiBhcyBWZWN0b3JTdG9yZXNBUEkgZnJvbSAnLi92ZWN0b3Itc3RvcmVzJztcbmltcG9ydCB7IHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gJy4uLy4uL3BhZ2luYXRpb24nO1xuXG5leHBvcnQgY2xhc3MgRmlsZUJhdGNoZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC5cbiAgICovXG4gIGNyZWF0ZShcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgYm9keTogRmlsZUJhdGNoQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VmVjdG9yU3RvcmVGaWxlQmF0Y2g+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZV9iYXRjaGVzYCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIHZlY3RvciBzdG9yZSBmaWxlIGJhdGNoLlxuICAgKi9cbiAgcmV0cmlldmUoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGJhdGNoSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFZlY3RvclN0b3JlRmlsZUJhdGNoPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZV9iYXRjaGVzLyR7YmF0Y2hJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWwgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC4gVGhpcyBhdHRlbXB0cyB0byBjYW5jZWwgdGhlIHByb2Nlc3Npbmcgb2ZcbiAgICogZmlsZXMgaW4gdGhpcyBiYXRjaCBhcyBzb29uIGFzIHBvc3NpYmxlLlxuICAgKi9cbiAgY2FuY2VsKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBiYXRjaElkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGVCYXRjaD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlX2JhdGNoZXMvJHtiYXRjaElkfS9jYW5jZWxgLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB2ZWN0b3Igc3RvcmUgYmF0Y2ggYW5kIHBvbGwgdW50aWwgYWxsIGZpbGVzIGhhdmUgYmVlbiBwcm9jZXNzZWQuXG4gICAqL1xuICBhc3luYyBjcmVhdGVBbmRQb2xsKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBib2R5OiBGaWxlQmF0Y2hDcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMgJiB7IHBvbGxJbnRlcnZhbE1zPzogbnVtYmVyIH0sXG4gICk6IFByb21pc2U8VmVjdG9yU3RvcmVGaWxlQmF0Y2g+IHtcbiAgICBjb25zdCBiYXRjaCA9IGF3YWl0IHRoaXMuY3JlYXRlKHZlY3RvclN0b3JlSWQsIGJvZHkpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodmVjdG9yU3RvcmVJZCwgYmF0Y2guaWQsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZSBmaWxlcyBpbiBhIGJhdGNoLlxuICAgKi9cbiAgbGlzdEZpbGVzKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBiYXRjaElkOiBzdHJpbmcsXG4gICAgcXVlcnk/OiBGaWxlQmF0Y2hMaXN0RmlsZXNQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8VmVjdG9yU3RvcmVGaWxlc1BhZ2UsIEZpbGVzQVBJLlZlY3RvclN0b3JlRmlsZT47XG4gIGxpc3RGaWxlcyhcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgYmF0Y2hJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFZlY3RvclN0b3JlRmlsZXNQYWdlLCBGaWxlc0FQSS5WZWN0b3JTdG9yZUZpbGU+O1xuICBsaXN0RmlsZXMoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGJhdGNoSWQ6IHN0cmluZyxcbiAgICBxdWVyeTogRmlsZUJhdGNoTGlzdEZpbGVzUGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFZlY3RvclN0b3JlRmlsZXNQYWdlLCBGaWxlc0FQSS5WZWN0b3JTdG9yZUZpbGU+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3RGaWxlcyh2ZWN0b3JTdG9yZUlkLCBiYXRjaElkLCB7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoXG4gICAgICBgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlX2JhdGNoZXMvJHtiYXRjaElkfS9maWxlc2AsXG4gICAgICBWZWN0b3JTdG9yZUZpbGVzUGFnZSxcbiAgICAgIHsgcXVlcnksIC4uLm9wdGlvbnMsIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0gfSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXQgZm9yIHRoZSBnaXZlbiBmaWxlIGJhdGNoIHRvIGJlIHByb2Nlc3NlZC5cbiAgICpcbiAgICogTm90ZTogdGhpcyB3aWxsIHJldHVybiBldmVuIGlmIG9uZSBvZiB0aGUgZmlsZXMgZmFpbGVkIHRvIHByb2Nlc3MsIHlvdSBuZWVkIHRvXG4gICAqIGNoZWNrIGJhdGNoLmZpbGVfY291bnRzLmZhaWxlZF9jb3VudCB0byBoYW5kbGUgdGhpcyBjYXNlLlxuICAgKi9cbiAgYXN5bmMgcG9sbChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgYmF0Y2hJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zICYgeyBwb2xsSW50ZXJ2YWxNcz86IG51bWJlciB9LFxuICApOiBQcm9taXNlPFZlY3RvclN0b3JlRmlsZUJhdGNoPiB7XG4gICAgY29uc3QgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLVBvbGwtSGVscGVyJzogJ3RydWUnIH07XG4gICAgaWYgKG9wdGlvbnM/LnBvbGxJbnRlcnZhbE1zKSB7XG4gICAgICBoZWFkZXJzWydYLVN0YWlubGVzcy1DdXN0b20tUG9sbC1JbnRlcnZhbCddID0gb3B0aW9ucy5wb2xsSW50ZXJ2YWxNcy50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IGJhdGNoLCByZXNwb25zZSB9ID0gYXdhaXQgdGhpcy5yZXRyaWV2ZSh2ZWN0b3JTdG9yZUlkLCBiYXRjaElkLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICB9KS53aXRoUmVzcG9uc2UoKTtcblxuICAgICAgc3dpdGNoIChiYXRjaC5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSAnaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgIGxldCBzbGVlcEludGVydmFsID0gNTAwMDtcblxuICAgICAgICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgc2xlZXBJbnRlcnZhbCA9IG9wdGlvbnMucG9sbEludGVydmFsTXM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ29wZW5haS1wb2xsLWFmdGVyLW1zJyk7XG4gICAgICAgICAgICBpZiAoaGVhZGVySW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWxNcyA9IHBhcnNlSW50KGhlYWRlckludGVydmFsKTtcbiAgICAgICAgICAgICAgaWYgKCFpc05hTihoZWFkZXJJbnRlcnZhbE1zKSkge1xuICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBoZWFkZXJJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IHNsZWVwKHNsZWVwSW50ZXJ2YWwpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICBjYXNlICdjYW5jZWxsZWQnOlxuICAgICAgICBjYXNlICdjb21wbGV0ZWQnOlxuICAgICAgICAgIHJldHVybiBiYXRjaDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBsb2FkcyB0aGUgZ2l2ZW4gZmlsZXMgY29uY3VycmVudGx5IGFuZCB0aGVuIGNyZWF0ZXMgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC5cbiAgICpcbiAgICogVGhlIGNvbmN1cnJlbmN5IGxpbWl0IGlzIGNvbmZpZ3VyYWJsZSB1c2luZyB0aGUgYG1heENvbmN1cnJlbmN5YCBwYXJhbWV0ZXIuXG4gICAqL1xuICBhc3luYyB1cGxvYWRBbmRQb2xsKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICB7IGZpbGVzLCBmaWxlSWRzID0gW10gfTogeyBmaWxlczogVXBsb2FkYWJsZVtdOyBmaWxlSWRzPzogc3RyaW5nW10gfSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyAmIHsgcG9sbEludGVydmFsTXM/OiBudW1iZXI7IG1heENvbmN1cnJlbmN5PzogbnVtYmVyIH0sXG4gICk6IFByb21pc2U8VmVjdG9yU3RvcmVGaWxlQmF0Y2g+IHtcbiAgICBpZiAoZmlsZXMgPT0gbnVsbCB8fCBmaWxlcy5sZW5ndGggPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgTm8gXFxgZmlsZXNcXGAgcHJvdmlkZWQgdG8gcHJvY2Vzcy4gSWYgeW91J3ZlIGFscmVhZHkgdXBsb2FkZWQgZmlsZXMgeW91IHNob3VsZCB1c2UgXFxgLmNyZWF0ZUFuZFBvbGwoKVxcYCBpbnN0ZWFkYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgY29uZmlndXJlZENvbmN1cnJlbmN5ID0gb3B0aW9ucz8ubWF4Q29uY3VycmVuY3kgPz8gNTtcblxuICAgIC8vIFdlIGNhcCB0aGUgbnVtYmVyIG9mIHdvcmtlcnMgYXQgdGhlIG51bWJlciBvZiBmaWxlcyAoc28gd2UgZG9uJ3Qgc3RhcnQgYW55IHVubmVjZXNzYXJ5IHdvcmtlcnMpXG4gICAgY29uc3QgY29uY3VycmVuY3lMaW1pdCA9IE1hdGgubWluKGNvbmZpZ3VyZWRDb25jdXJyZW5jeSwgZmlsZXMubGVuZ3RoKTtcblxuICAgIGNvbnN0IGNsaWVudCA9IHRoaXMuX2NsaWVudDtcbiAgICBjb25zdCBmaWxlSXRlcmF0b3IgPSBmaWxlcy52YWx1ZXMoKTtcbiAgICBjb25zdCBhbGxGaWxlSWRzOiBzdHJpbmdbXSA9IFsuLi5maWxlSWRzXTtcblxuICAgIC8vIFRoaXMgY29kZSBpcyBiYXNlZCBvbiB0aGlzIGRlc2lnbi4gVGhlIGxpYnJhcmllcyBkb24ndCBhY2NvbW1vZGF0ZSBvdXIgZW52aXJvbm1lbnQgbGltaXRzLlxuICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQwNjM5NDMyL3doYXQtaXMtdGhlLWJlc3Qtd2F5LXRvLWxpbWl0LWNvbmN1cnJlbmN5LXdoZW4tdXNpbmctZXM2cy1wcm9taXNlLWFsbFxuICAgIGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NGaWxlcyhpdGVyYXRvcjogSXRlcmFibGVJdGVyYXRvcjxVcGxvYWRhYmxlPikge1xuICAgICAgZm9yIChsZXQgaXRlbSBvZiBpdGVyYXRvcikge1xuICAgICAgICBjb25zdCBmaWxlT2JqID0gYXdhaXQgY2xpZW50LmZpbGVzLmNyZWF0ZSh7IGZpbGU6IGl0ZW0sIHB1cnBvc2U6ICdhc3Npc3RhbnRzJyB9LCBvcHRpb25zKTtcbiAgICAgICAgYWxsRmlsZUlkcy5wdXNoKGZpbGVPYmouaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN0YXJ0IHdvcmtlcnMgdG8gcHJvY2VzcyByZXN1bHRzXG4gICAgY29uc3Qgd29ya2VycyA9IEFycmF5KGNvbmN1cnJlbmN5TGltaXQpLmZpbGwoZmlsZUl0ZXJhdG9yKS5tYXAocHJvY2Vzc0ZpbGVzKTtcblxuICAgIC8vIFdhaXQgZm9yIGFsbCBwcm9jZXNzaW5nIHRvIGNvbXBsZXRlLlxuICAgIGF3YWl0IGFsbFNldHRsZWRXaXRoVGhyb3cod29ya2Vycyk7XG5cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5jcmVhdGVBbmRQb2xsKHZlY3RvclN0b3JlSWQsIHtcbiAgICAgIGZpbGVfaWRzOiBhbGxGaWxlSWRzLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQSBiYXRjaCBvZiBmaWxlcyBhdHRhY2hlZCB0byBhIHZlY3RvciBzdG9yZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWZWN0b3JTdG9yZUZpbGVCYXRjaCB7XG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHZlY3RvciBzdG9yZSBmaWxlcyBiYXRjaCB3YXNcbiAgICogY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICBmaWxlX2NvdW50czogVmVjdG9yU3RvcmVGaWxlQmF0Y2guRmlsZUNvdW50cztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYHZlY3Rvcl9zdG9yZS5maWxlX2JhdGNoYC5cbiAgICovXG4gIG9iamVjdDogJ3ZlY3Rvcl9zdG9yZS5maWxlc19iYXRjaCc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIHZlY3RvciBzdG9yZSBmaWxlcyBiYXRjaCwgd2hpY2ggY2FuIGJlIGVpdGhlciBgaW5fcHJvZ3Jlc3NgLFxuICAgKiBgY29tcGxldGVkYCwgYGNhbmNlbGxlZGAgb3IgYGZhaWxlZGAuXG4gICAqL1xuICBzdGF0dXM6ICdpbl9wcm9ncmVzcycgfCAnY29tcGxldGVkJyB8ICdjYW5jZWxsZWQnIHwgJ2ZhaWxlZCc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGVcbiAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICogdGhhdCB0aGUgW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIGlzXG4gICAqIGF0dGFjaGVkIHRvLlxuICAgKi9cbiAgdmVjdG9yX3N0b3JlX2lkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVmVjdG9yU3RvcmVGaWxlQmF0Y2gge1xuICBleHBvcnQgaW50ZXJmYWNlIEZpbGVDb3VudHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZmlsZXMgdGhhdCB3aGVyZSBjYW5jZWxsZWQuXG4gICAgICovXG4gICAgY2FuY2VsbGVkOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGZpbGVzIHRoYXQgaGF2ZSBiZWVuIHByb2Nlc3NlZC5cbiAgICAgKi9cbiAgICBjb21wbGV0ZWQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZmlsZXMgdGhhdCBoYXZlIGZhaWxlZCB0byBwcm9jZXNzLlxuICAgICAqL1xuICAgIGZhaWxlZDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBmaWxlcyB0aGF0IGFyZSBjdXJyZW50bHkgYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAqL1xuICAgIGluX3Byb2dyZXNzOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGZpbGVzLlxuICAgICAqL1xuICAgIHRvdGFsOiBudW1iZXI7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlQmF0Y2hDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogQSBsaXN0IG9mIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgdGhhdFxuICAgKiB0aGUgdmVjdG9yIHN0b3JlIHNob3VsZCB1c2UuIFVzZWZ1bCBmb3IgdG9vbHMgbGlrZSBgZmlsZV9zZWFyY2hgIHRoYXQgY2FuIGFjY2Vzc1xuICAgKiBmaWxlcy5cbiAgICovXG4gIGZpbGVfaWRzOiBBcnJheTxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtXG4gICAqIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMlxuICAgKiBjaGFyYWN0ZXJzLCBib29sZWFucywgb3IgbnVtYmVycy5cbiAgICovXG4gIGF0dHJpYnV0ZXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBjaHVua2luZyBzdHJhdGVneSB1c2VkIHRvIGNodW5rIHRoZSBmaWxlKHMpLiBJZiBub3Qgc2V0LCB3aWxsIHVzZSB0aGUgYGF1dG9gXG4gICAqIHN0cmF0ZWd5LiBPbmx5IGFwcGxpY2FibGUgaWYgYGZpbGVfaWRzYCBpcyBub24tZW1wdHkuXG4gICAqL1xuICBjaHVua2luZ19zdHJhdGVneT86IFZlY3RvclN0b3Jlc0FQSS5GaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVCYXRjaExpc3RGaWxlc1BhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge1xuICAvKipcbiAgICogQSBjdXJzb3IgZm9yIHVzZSBpbiBwYWdpbmF0aW9uLiBgYmVmb3JlYCBpcyBhbiBvYmplY3QgSUQgdGhhdCBkZWZpbmVzIHlvdXIgcGxhY2VcbiAgICogaW4gdGhlIGxpc3QuIEZvciBpbnN0YW5jZSwgaWYgeW91IG1ha2UgYSBsaXN0IHJlcXVlc3QgYW5kIHJlY2VpdmUgMTAwIG9iamVjdHMsXG4gICAqIHN0YXJ0aW5nIHdpdGggb2JqX2ZvbywgeW91ciBzdWJzZXF1ZW50IGNhbGwgY2FuIGluY2x1ZGUgYmVmb3JlPW9ial9mb28gaW4gb3JkZXJcbiAgICogdG8gZmV0Y2ggdGhlIHByZXZpb3VzIHBhZ2Ugb2YgdGhlIGxpc3QuXG4gICAqL1xuICBiZWZvcmU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEZpbHRlciBieSBmaWxlIHN0YXR1cy4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBgZmFpbGVkYCwgYGNhbmNlbGxlZGAuXG4gICAqL1xuICBmaWx0ZXI/OiAnaW5fcHJvZ3Jlc3MnIHwgJ2NvbXBsZXRlZCcgfCAnZmFpbGVkJyB8ICdjYW5jZWxsZWQnO1xuXG4gIC8qKlxuICAgKiBTb3J0IG9yZGVyIGJ5IHRoZSBgY3JlYXRlZF9hdGAgdGltZXN0YW1wIG9mIHRoZSBvYmplY3RzLiBgYXNjYCBmb3IgYXNjZW5kaW5nXG4gICAqIG9yZGVyIGFuZCBgZGVzY2AgZm9yIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAqL1xuICBvcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xufVxuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgRmlsZUJhdGNoZXMge1xuICBleHBvcnQge1xuICAgIHR5cGUgVmVjdG9yU3RvcmVGaWxlQmF0Y2ggYXMgVmVjdG9yU3RvcmVGaWxlQmF0Y2gsXG4gICAgdHlwZSBGaWxlQmF0Y2hDcmVhdGVQYXJhbXMgYXMgRmlsZUJhdGNoQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgRmlsZUJhdGNoTGlzdEZpbGVzUGFyYW1zIGFzIEZpbGVCYXRjaExpc3RGaWxlc1BhcmFtcyxcbiAgfTtcbn1cblxuZXhwb3J0IHsgVmVjdG9yU3RvcmVGaWxlc1BhZ2UgfTtcbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSAnLi4vc2hhcmVkJztcbmltcG9ydCAqIGFzIEZpbGVCYXRjaGVzQVBJIGZyb20gJy4vZmlsZS1iYXRjaGVzJztcbmltcG9ydCB7XG4gIEZpbGVCYXRjaENyZWF0ZVBhcmFtcyxcbiAgRmlsZUJhdGNoTGlzdEZpbGVzUGFyYW1zLFxuICBGaWxlQmF0Y2hlcyxcbiAgVmVjdG9yU3RvcmVGaWxlQmF0Y2gsXG59IGZyb20gJy4vZmlsZS1iYXRjaGVzJztcbmltcG9ydCAqIGFzIEZpbGVzQVBJIGZyb20gJy4vZmlsZXMnO1xuaW1wb3J0IHtcbiAgRmlsZUNvbnRlbnRSZXNwb25zZSxcbiAgRmlsZUNvbnRlbnRSZXNwb25zZXNQYWdlLFxuICBGaWxlQ3JlYXRlUGFyYW1zLFxuICBGaWxlTGlzdFBhcmFtcyxcbiAgRmlsZVVwZGF0ZVBhcmFtcyxcbiAgRmlsZXMsXG4gIFZlY3RvclN0b3JlRmlsZSxcbiAgVmVjdG9yU3RvcmVGaWxlRGVsZXRlZCxcbiAgVmVjdG9yU3RvcmVGaWxlc1BhZ2UsXG59IGZyb20gJy4vZmlsZXMnO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zLCBQYWdlIH0gZnJvbSAnLi4vLi4vcGFnaW5hdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3JTdG9yZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIGZpbGVzOiBGaWxlc0FQSS5GaWxlcyA9IG5ldyBGaWxlc0FQSS5GaWxlcyh0aGlzLl9jbGllbnQpO1xuICBmaWxlQmF0Y2hlczogRmlsZUJhdGNoZXNBUEkuRmlsZUJhdGNoZXMgPSBuZXcgRmlsZUJhdGNoZXNBUEkuRmlsZUJhdGNoZXModGhpcy5fY2xpZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgY3JlYXRlKGJvZHk6IFZlY3RvclN0b3JlQ3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxWZWN0b3JTdG9yZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3ZlY3Rvcl9zdG9yZXMnLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgcmV0cmlldmUodmVjdG9yU3RvcmVJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxWZWN0b3JTdG9yZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTW9kaWZpZXMgYSB2ZWN0b3Igc3RvcmUuXG4gICAqL1xuICB1cGRhdGUoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGJvZHk6IFZlY3RvclN0b3JlVXBkYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VmVjdG9yU3RvcmU+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH1gLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3Jlcy5cbiAgICovXG4gIGxpc3QoXG4gICAgcXVlcnk/OiBWZWN0b3JTdG9yZUxpc3RQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8VmVjdG9yU3RvcmVzUGFnZSwgVmVjdG9yU3RvcmU+O1xuICBsaXN0KG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxWZWN0b3JTdG9yZXNQYWdlLCBWZWN0b3JTdG9yZT47XG4gIGxpc3QoXG4gICAgcXVlcnk6IFZlY3RvclN0b3JlTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxWZWN0b3JTdG9yZXNQYWdlLCBWZWN0b3JTdG9yZT4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy92ZWN0b3Jfc3RvcmVzJywgVmVjdG9yU3RvcmVzUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSB2ZWN0b3Igc3RvcmUuXG4gICAqL1xuICBkZWwodmVjdG9yU3RvcmVJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxWZWN0b3JTdG9yZURlbGV0ZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlYXJjaCBhIHZlY3RvciBzdG9yZSBmb3IgcmVsZXZhbnQgY2h1bmtzIGJhc2VkIG9uIGEgcXVlcnkgYW5kIGZpbGUgYXR0cmlidXRlc1xuICAgKiBmaWx0ZXIuXG4gICAqL1xuICBzZWFyY2goXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGJvZHk6IFZlY3RvclN0b3JlU2VhcmNoUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2VzUGFnZSwgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9zZWFyY2hgLCBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2UsIHtcbiAgICAgIGJvZHksXG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3JTdG9yZXNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxWZWN0b3JTdG9yZT4ge31cblxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2UgZXh0ZW5kcyBQYWdlPFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2U+IHt9XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgc3RyYXRlZ3kuIFRoaXMgc3RyYXRlZ3kgY3VycmVudGx5IHVzZXMgYSBgbWF4X2NodW5rX3NpemVfdG9rZW5zYCBvZlxuICogYDgwMGAgYW5kIGBjaHVua19vdmVybGFwX3Rva2Vuc2Agb2YgYDQwMGAuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXV0b0ZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW0ge1xuICAvKipcbiAgICogQWx3YXlzIGBhdXRvYC5cbiAgICovXG4gIHR5cGU6ICdhdXRvJztcbn1cblxuLyoqXG4gKiBUaGUgc3RyYXRlZ3kgdXNlZCB0byBjaHVuayB0aGUgZmlsZS5cbiAqL1xuZXhwb3J0IHR5cGUgRmlsZUNodW5raW5nU3RyYXRlZ3kgPSBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdCB8IE90aGVyRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3Q7XG5cbi8qKlxuICogVGhlIGNodW5raW5nIHN0cmF0ZWd5IHVzZWQgdG8gY2h1bmsgdGhlIGZpbGUocykuIElmIG5vdCBzZXQsIHdpbGwgdXNlIHRoZSBgYXV0b2BcbiAqIHN0cmF0ZWd5LiBPbmx5IGFwcGxpY2FibGUgaWYgYGZpbGVfaWRzYCBpcyBub24tZW1wdHkuXG4gKi9cbmV4cG9ydCB0eXBlIEZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW0gPSBBdXRvRmlsZUNodW5raW5nU3RyYXRlZ3lQYXJhbSB8IFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0UGFyYW07XG5cbi8qKlxuICogVGhpcyBpcyByZXR1cm5lZCB3aGVuIHRoZSBjaHVua2luZyBzdHJhdGVneSBpcyB1bmtub3duLiBUeXBpY2FsbHksIHRoaXMgaXNcbiAqIGJlY2F1c2UgdGhlIGZpbGUgd2FzIGluZGV4ZWQgYmVmb3JlIHRoZSBgY2h1bmtpbmdfc3RyYXRlZ3lgIGNvbmNlcHQgd2FzXG4gKiBpbnRyb2R1Y2VkIGluIHRoZSBBUEkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3RoZXJGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdCB7XG4gIC8qKlxuICAgKiBBbHdheXMgYG90aGVyYC5cbiAgICovXG4gIHR5cGU6ICdvdGhlcic7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3kge1xuICAvKipcbiAgICogVGhlIG51bWJlciBvZiB0b2tlbnMgdGhhdCBvdmVybGFwIGJldHdlZW4gY2h1bmtzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgNDAwYC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSBvdmVybGFwIG11c3Qgbm90IGV4Y2VlZCBoYWxmIG9mIGBtYXhfY2h1bmtfc2l6ZV90b2tlbnNgLlxuICAgKi9cbiAgY2h1bmtfb3ZlcmxhcF90b2tlbnM6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRva2VucyBpbiBlYWNoIGNodW5rLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgODAwYC4gVGhlXG4gICAqIG1pbmltdW0gdmFsdWUgaXMgYDEwMGAgYW5kIHRoZSBtYXhpbXVtIHZhbHVlIGlzIGA0MDk2YC5cbiAgICovXG4gIG1heF9jaHVua19zaXplX3Rva2VuczogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0IHtcbiAgc3RhdGljOiBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneTtcblxuICAvKipcbiAgICogQWx3YXlzIGBzdGF0aWNgLlxuICAgKi9cbiAgdHlwZTogJ3N0YXRpYyc7XG59XG5cbi8qKlxuICogQ3VzdG9taXplIHlvdXIgb3duIGNodW5raW5nIHN0cmF0ZWd5IGJ5IHNldHRpbmcgY2h1bmsgc2l6ZSBhbmQgY2h1bmsgb3ZlcmxhcC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdFBhcmFtIHtcbiAgc3RhdGljOiBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneTtcblxuICAvKipcbiAgICogQWx3YXlzIGBzdGF0aWNgLlxuICAgKi9cbiAgdHlwZTogJ3N0YXRpYyc7XG59XG5cbi8qKlxuICogQSB2ZWN0b3Igc3RvcmUgaXMgYSBjb2xsZWN0aW9uIG9mIHByb2Nlc3NlZCBmaWxlcyBjYW4gYmUgdXNlZCBieSB0aGVcbiAqIGBmaWxlX3NlYXJjaGAgdG9vbC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWZWN0b3JTdG9yZSB7XG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHZlY3RvciBzdG9yZSB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICBmaWxlX2NvdW50czogVmVjdG9yU3RvcmUuRmlsZUNvdW50cztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgdmVjdG9yIHN0b3JlIHdhcyBsYXN0IGFjdGl2ZS5cbiAgICovXG4gIGxhc3RfYWN0aXZlX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE6IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSB2ZWN0b3Igc3RvcmUuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGB2ZWN0b3Jfc3RvcmVgLlxuICAgKi9cbiAgb2JqZWN0OiAndmVjdG9yX3N0b3JlJztcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgdmVjdG9yIHN0b3JlLCB3aGljaCBjYW4gYmUgZWl0aGVyIGBleHBpcmVkYCwgYGluX3Byb2dyZXNzYCwgb3JcbiAgICogYGNvbXBsZXRlZGAuIEEgc3RhdHVzIG9mIGBjb21wbGV0ZWRgIGluZGljYXRlcyB0aGF0IHRoZSB2ZWN0b3Igc3RvcmUgaXMgcmVhZHlcbiAgICogZm9yIHVzZS5cbiAgICovXG4gIHN0YXR1czogJ2V4cGlyZWQnIHwgJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnO1xuXG4gIC8qKlxuICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIHVzZWQgYnkgdGhlIGZpbGVzIGluIHRoZSB2ZWN0b3Igc3RvcmUuXG4gICAqL1xuICB1c2FnZV9ieXRlczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgZXhwaXJhdGlvbiBwb2xpY3kgZm9yIGEgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgZXhwaXJlc19hZnRlcj86IFZlY3RvclN0b3JlLkV4cGlyZXNBZnRlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgdmVjdG9yIHN0b3JlIHdpbGwgZXhwaXJlLlxuICAgKi9cbiAgZXhwaXJlc19hdD86IG51bWJlciB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVmVjdG9yU3RvcmUge1xuICBleHBvcnQgaW50ZXJmYWNlIEZpbGVDb3VudHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZmlsZXMgdGhhdCB3ZXJlIGNhbmNlbGxlZC5cbiAgICAgKi9cbiAgICBjYW5jZWxsZWQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZmlsZXMgdGhhdCBoYXZlIGJlZW4gc3VjY2Vzc2Z1bGx5IHByb2Nlc3NlZC5cbiAgICAgKi9cbiAgICBjb21wbGV0ZWQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZmlsZXMgdGhhdCBoYXZlIGZhaWxlZCB0byBwcm9jZXNzLlxuICAgICAqL1xuICAgIGZhaWxlZDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBmaWxlcyB0aGF0IGFyZSBjdXJyZW50bHkgYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAqL1xuICAgIGluX3Byb2dyZXNzOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGZpbGVzLlxuICAgICAqL1xuICAgIHRvdGFsOiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGV4cGlyYXRpb24gcG9saWN5IGZvciBhIHZlY3RvciBzdG9yZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRXhwaXJlc0FmdGVyIHtcbiAgICAvKipcbiAgICAgKiBBbmNob3IgdGltZXN0YW1wIGFmdGVyIHdoaWNoIHRoZSBleHBpcmF0aW9uIHBvbGljeSBhcHBsaWVzLiBTdXBwb3J0ZWQgYW5jaG9yczpcbiAgICAgKiBgbGFzdF9hY3RpdmVfYXRgLlxuICAgICAqL1xuICAgIGFuY2hvcjogJ2xhc3RfYWN0aXZlX2F0JztcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZGF5cyBhZnRlciB0aGUgYW5jaG9yIHRpbWUgdGhhdCB0aGUgdmVjdG9yIHN0b3JlIHdpbGwgZXhwaXJlLlxuICAgICAqL1xuICAgIGRheXM6IG51bWJlcjtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlY3RvclN0b3JlRGVsZXRlZCB7XG4gIGlkOiBzdHJpbmc7XG5cbiAgZGVsZXRlZDogYm9vbGVhbjtcblxuICBvYmplY3Q6ICd2ZWN0b3Jfc3RvcmUuZGVsZXRlZCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtXG4gICAqIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMlxuICAgKiBjaGFyYWN0ZXJzLCBib29sZWFucywgb3IgbnVtYmVycy5cbiAgICovXG4gIGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4+IHwgbnVsbDtcblxuICAvKipcbiAgICogQ29udGVudCBjaHVua3MgZnJvbSB0aGUgZmlsZS5cbiAgICovXG4gIGNvbnRlbnQ6IEFycmF5PFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2UuQ29udGVudD47XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgdmVjdG9yIHN0b3JlIGZpbGUuXG4gICAqL1xuICBmaWxlX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSB2ZWN0b3Igc3RvcmUgZmlsZS5cbiAgICovXG4gIGZpbGVuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzaW1pbGFyaXR5IHNjb3JlIGZvciB0aGUgcmVzdWx0LlxuICAgKi9cbiAgc2NvcmU6IG51bWJlcjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlIHtcbiAgZXhwb3J0IGludGVyZmFjZSBDb250ZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBjb250ZW50IHJldHVybmVkIGZyb20gc2VhcmNoLlxuICAgICAqL1xuICAgIHRleHQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIGNvbnRlbnQuXG4gICAgICovXG4gICAgdHlwZTogJ3RleHQnO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmVDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogVGhlIGNodW5raW5nIHN0cmF0ZWd5IHVzZWQgdG8gY2h1bmsgdGhlIGZpbGUocykuIElmIG5vdCBzZXQsIHdpbGwgdXNlIHRoZSBgYXV0b2BcbiAgICogc3RyYXRlZ3kuIE9ubHkgYXBwbGljYWJsZSBpZiBgZmlsZV9pZHNgIGlzIG5vbi1lbXB0eS5cbiAgICovXG4gIGNodW5raW5nX3N0cmF0ZWd5PzogRmlsZUNodW5raW5nU3RyYXRlZ3lQYXJhbTtcblxuICAvKipcbiAgICogVGhlIGV4cGlyYXRpb24gcG9saWN5IGZvciBhIHZlY3RvciBzdG9yZS5cbiAgICovXG4gIGV4cGlyZXNfYWZ0ZXI/OiBWZWN0b3JTdG9yZUNyZWF0ZVBhcmFtcy5FeHBpcmVzQWZ0ZXI7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIHRoYXRcbiAgICogdGhlIHZlY3RvciBzdG9yZSBzaG91bGQgdXNlLiBVc2VmdWwgZm9yIHRvb2xzIGxpa2UgYGZpbGVfc2VhcmNoYCB0aGF0IGNhbiBhY2Nlc3NcbiAgICogZmlsZXMuXG4gICAqL1xuICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSB2ZWN0b3Igc3RvcmUuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFZlY3RvclN0b3JlQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBleHBpcmF0aW9uIHBvbGljeSBmb3IgYSB2ZWN0b3Igc3RvcmUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEV4cGlyZXNBZnRlciB7XG4gICAgLyoqXG4gICAgICogQW5jaG9yIHRpbWVzdGFtcCBhZnRlciB3aGljaCB0aGUgZXhwaXJhdGlvbiBwb2xpY3kgYXBwbGllcy4gU3VwcG9ydGVkIGFuY2hvcnM6XG4gICAgICogYGxhc3RfYWN0aXZlX2F0YC5cbiAgICAgKi9cbiAgICBhbmNob3I6ICdsYXN0X2FjdGl2ZV9hdCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGRheXMgYWZ0ZXIgdGhlIGFuY2hvciB0aW1lIHRoYXQgdGhlIHZlY3RvciBzdG9yZSB3aWxsIGV4cGlyZS5cbiAgICAgKi9cbiAgICBkYXlzOiBudW1iZXI7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZWN0b3JTdG9yZVVwZGF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgZXhwaXJhdGlvbiBwb2xpY3kgZm9yIGEgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgZXhwaXJlc19hZnRlcj86IFZlY3RvclN0b3JlVXBkYXRlUGFyYW1zLkV4cGlyZXNBZnRlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSB2ZWN0b3Igc3RvcmUuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBWZWN0b3JTdG9yZVVwZGF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgZXhwaXJhdGlvbiBwb2xpY3kgZm9yIGEgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBFeHBpcmVzQWZ0ZXIge1xuICAgIC8qKlxuICAgICAqIEFuY2hvciB0aW1lc3RhbXAgYWZ0ZXIgd2hpY2ggdGhlIGV4cGlyYXRpb24gcG9saWN5IGFwcGxpZXMuIFN1cHBvcnRlZCBhbmNob3JzOlxuICAgICAqIGBsYXN0X2FjdGl2ZV9hdGAuXG4gICAgICovXG4gICAgYW5jaG9yOiAnbGFzdF9hY3RpdmVfYXQnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBkYXlzIGFmdGVyIHRoZSBhbmNob3IgdGltZSB0aGF0IHRoZSB2ZWN0b3Igc3RvcmUgd2lsbCBleHBpcmUuXG4gICAgICovXG4gICAgZGF5czogbnVtYmVyO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmVMaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGN1cnNvciBmb3IgdXNlIGluIHBhZ2luYXRpb24uIGBiZWZvcmVgIGlzIGFuIG9iamVjdCBJRCB0aGF0IGRlZmluZXMgeW91ciBwbGFjZVxuICAgKiBpbiB0aGUgbGlzdC4gRm9yIGluc3RhbmNlLCBpZiB5b3UgbWFrZSBhIGxpc3QgcmVxdWVzdCBhbmQgcmVjZWl2ZSAxMDAgb2JqZWN0cyxcbiAgICogc3RhcnRpbmcgd2l0aCBvYmpfZm9vLCB5b3VyIHN1YnNlcXVlbnQgY2FsbCBjYW4gaW5jbHVkZSBiZWZvcmU9b2JqX2ZvbyBpbiBvcmRlclxuICAgKiB0byBmZXRjaCB0aGUgcHJldmlvdXMgcGFnZSBvZiB0aGUgbGlzdC5cbiAgICovXG4gIGJlZm9yZT86IHN0cmluZztcblxuICAvKipcbiAgICogU29ydCBvcmRlciBieSB0aGUgYGNyZWF0ZWRfYXRgIHRpbWVzdGFtcCBvZiB0aGUgb2JqZWN0cy4gYGFzY2AgZm9yIGFzY2VuZGluZ1xuICAgKiBvcmRlciBhbmQgYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZWN0b3JTdG9yZVNlYXJjaFBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIHF1ZXJ5IHN0cmluZyBmb3IgYSBzZWFyY2hcbiAgICovXG4gIHF1ZXJ5OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBBIGZpbHRlciB0byBhcHBseSBiYXNlZCBvbiBmaWxlIGF0dHJpYnV0ZXMuXG4gICAqL1xuICBmaWx0ZXJzPzogU2hhcmVkLkNvbXBhcmlzb25GaWx0ZXIgfCBTaGFyZWQuQ29tcG91bmRGaWx0ZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gVGhpcyBudW1iZXIgc2hvdWxkIGJlIGJldHdlZW4gMSBhbmQgNTBcbiAgICogaW5jbHVzaXZlLlxuICAgKi9cbiAgbWF4X251bV9yZXN1bHRzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBSYW5raW5nIG9wdGlvbnMgZm9yIHNlYXJjaC5cbiAgICovXG4gIHJhbmtpbmdfb3B0aW9ucz86IFZlY3RvclN0b3JlU2VhcmNoUGFyYW1zLlJhbmtpbmdPcHRpb25zO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHJld3JpdGUgdGhlIG5hdHVyYWwgbGFuZ3VhZ2UgcXVlcnkgZm9yIHZlY3RvciBzZWFyY2guXG4gICAqL1xuICByZXdyaXRlX3F1ZXJ5PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBWZWN0b3JTdG9yZVNlYXJjaFBhcmFtcyB7XG4gIC8qKlxuICAgKiBSYW5raW5nIG9wdGlvbnMgZm9yIHNlYXJjaC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgUmFua2luZ09wdGlvbnMge1xuICAgIHJhbmtlcj86ICdhdXRvJyB8ICdkZWZhdWx0LTIwMjQtMTEtMTUnO1xuXG4gICAgc2NvcmVfdGhyZXNob2xkPzogbnVtYmVyO1xuICB9XG59XG5cblZlY3RvclN0b3Jlcy5WZWN0b3JTdG9yZXNQYWdlID0gVmVjdG9yU3RvcmVzUGFnZTtcblZlY3RvclN0b3Jlcy5WZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2UgPSBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2U7XG5WZWN0b3JTdG9yZXMuRmlsZXMgPSBGaWxlcztcblZlY3RvclN0b3Jlcy5WZWN0b3JTdG9yZUZpbGVzUGFnZSA9IFZlY3RvclN0b3JlRmlsZXNQYWdlO1xuVmVjdG9yU3RvcmVzLkZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSA9IEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZTtcblZlY3RvclN0b3Jlcy5GaWxlQmF0Y2hlcyA9IEZpbGVCYXRjaGVzO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgVmVjdG9yU3RvcmVzIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIEF1dG9GaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtIGFzIEF1dG9GaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtLFxuICAgIHR5cGUgRmlsZUNodW5raW5nU3RyYXRlZ3kgYXMgRmlsZUNodW5raW5nU3RyYXRlZ3ksXG4gICAgdHlwZSBGaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtIGFzIEZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW0sXG4gICAgdHlwZSBPdGhlckZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0IGFzIE90aGVyRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3QsXG4gICAgdHlwZSBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneSBhcyBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneSxcbiAgICB0eXBlIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0IGFzIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0LFxuICAgIHR5cGUgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3RQYXJhbSBhcyBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdFBhcmFtLFxuICAgIHR5cGUgVmVjdG9yU3RvcmUgYXMgVmVjdG9yU3RvcmUsXG4gICAgdHlwZSBWZWN0b3JTdG9yZURlbGV0ZWQgYXMgVmVjdG9yU3RvcmVEZWxldGVkLFxuICAgIHR5cGUgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZSBhcyBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlLFxuICAgIFZlY3RvclN0b3Jlc1BhZ2UgYXMgVmVjdG9yU3RvcmVzUGFnZSxcbiAgICBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2UgYXMgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlLFxuICAgIHR5cGUgVmVjdG9yU3RvcmVDcmVhdGVQYXJhbXMgYXMgVmVjdG9yU3RvcmVDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBWZWN0b3JTdG9yZVVwZGF0ZVBhcmFtcyBhcyBWZWN0b3JTdG9yZVVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIFZlY3RvclN0b3JlTGlzdFBhcmFtcyBhcyBWZWN0b3JTdG9yZUxpc3RQYXJhbXMsXG4gICAgdHlwZSBWZWN0b3JTdG9yZVNlYXJjaFBhcmFtcyBhcyBWZWN0b3JTdG9yZVNlYXJjaFBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIEZpbGVzIGFzIEZpbGVzLFxuICAgIHR5cGUgVmVjdG9yU3RvcmVGaWxlIGFzIFZlY3RvclN0b3JlRmlsZSxcbiAgICB0eXBlIFZlY3RvclN0b3JlRmlsZURlbGV0ZWQgYXMgVmVjdG9yU3RvcmVGaWxlRGVsZXRlZCxcbiAgICB0eXBlIEZpbGVDb250ZW50UmVzcG9uc2UgYXMgRmlsZUNvbnRlbnRSZXNwb25zZSxcbiAgICBWZWN0b3JTdG9yZUZpbGVzUGFnZSBhcyBWZWN0b3JTdG9yZUZpbGVzUGFnZSxcbiAgICBGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UgYXMgRmlsZUNvbnRlbnRSZXNwb25zZXNQYWdlLFxuICAgIHR5cGUgRmlsZUNyZWF0ZVBhcmFtcyBhcyBGaWxlQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgRmlsZVVwZGF0ZVBhcmFtcyBhcyBGaWxlVXBkYXRlUGFyYW1zLFxuICAgIHR5cGUgRmlsZUxpc3RQYXJhbXMgYXMgRmlsZUxpc3RQYXJhbXMsXG4gIH07XG5cbiAgZXhwb3J0IHtcbiAgICBGaWxlQmF0Y2hlcyBhcyBGaWxlQmF0Y2hlcyxcbiAgICB0eXBlIFZlY3RvclN0b3JlRmlsZUJhdGNoIGFzIFZlY3RvclN0b3JlRmlsZUJhdGNoLFxuICAgIHR5cGUgRmlsZUJhdGNoQ3JlYXRlUGFyYW1zIGFzIEZpbGVCYXRjaENyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIEZpbGVCYXRjaExpc3RGaWxlc1BhcmFtcyBhcyBGaWxlQmF0Y2hMaXN0RmlsZXNQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgdHlwZSBBZ2VudCwgdHlwZSBSZXF1ZXN0SW5pdCB9IGZyb20gJy4vX3NoaW1zL2luZGV4JztcbmltcG9ydCAqIGFzIHFzIGZyb20gJy4vaW50ZXJuYWwvcXMnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuL2NvcmUnO1xuaW1wb3J0ICogYXMgRXJyb3JzIGZyb20gJy4vZXJyb3InO1xuaW1wb3J0ICogYXMgUGFnaW5hdGlvbiBmcm9tICcuL3BhZ2luYXRpb24nO1xuaW1wb3J0IHsgdHlwZSBDdXJzb3JQYWdlUGFyYW1zLCBDdXJzb3JQYWdlUmVzcG9uc2UsIFBhZ2VSZXNwb25zZSB9IGZyb20gJy4vcGFnaW5hdGlvbic7XG5pbXBvcnQgKiBhcyBVcGxvYWRzIGZyb20gJy4vdXBsb2Fkcyc7XG5pbXBvcnQgKiBhcyBBUEkgZnJvbSAnLi9yZXNvdXJjZXMvaW5kZXgnO1xuaW1wb3J0IHtcbiAgQmF0Y2gsXG4gIEJhdGNoQ3JlYXRlUGFyYW1zLFxuICBCYXRjaEVycm9yLFxuICBCYXRjaExpc3RQYXJhbXMsXG4gIEJhdGNoUmVxdWVzdENvdW50cyxcbiAgQmF0Y2hlcyxcbiAgQmF0Y2hlc1BhZ2UsXG59IGZyb20gJy4vcmVzb3VyY2VzL2JhdGNoZXMnO1xuaW1wb3J0IHtcbiAgQ29tcGxldGlvbixcbiAgQ29tcGxldGlvbkNob2ljZSxcbiAgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgQ29tcGxldGlvblVzYWdlLFxuICBDb21wbGV0aW9ucyxcbn0gZnJvbSAnLi9yZXNvdXJjZXMvY29tcGxldGlvbnMnO1xuaW1wb3J0IHtcbiAgQ3JlYXRlRW1iZWRkaW5nUmVzcG9uc2UsXG4gIEVtYmVkZGluZyxcbiAgRW1iZWRkaW5nQ3JlYXRlUGFyYW1zLFxuICBFbWJlZGRpbmdNb2RlbCxcbiAgRW1iZWRkaW5ncyxcbn0gZnJvbSAnLi9yZXNvdXJjZXMvZW1iZWRkaW5ncyc7XG5pbXBvcnQge1xuICBGaWxlQ29udGVudCxcbiAgRmlsZUNyZWF0ZVBhcmFtcyxcbiAgRmlsZURlbGV0ZWQsXG4gIEZpbGVMaXN0UGFyYW1zLFxuICBGaWxlT2JqZWN0LFxuICBGaWxlT2JqZWN0c1BhZ2UsXG4gIEZpbGVQdXJwb3NlLFxuICBGaWxlcyxcbn0gZnJvbSAnLi9yZXNvdXJjZXMvZmlsZXMnO1xuaW1wb3J0IHtcbiAgSW1hZ2UsXG4gIEltYWdlQ3JlYXRlVmFyaWF0aW9uUGFyYW1zLFxuICBJbWFnZUVkaXRQYXJhbXMsXG4gIEltYWdlR2VuZXJhdGVQYXJhbXMsXG4gIEltYWdlTW9kZWwsXG4gIEltYWdlcyxcbiAgSW1hZ2VzUmVzcG9uc2UsXG59IGZyb20gJy4vcmVzb3VyY2VzL2ltYWdlcyc7XG5pbXBvcnQgeyBNb2RlbCwgTW9kZWxEZWxldGVkLCBNb2RlbHMsIE1vZGVsc1BhZ2UgfSBmcm9tICcuL3Jlc291cmNlcy9tb2RlbHMnO1xuaW1wb3J0IHtcbiAgTW9kZXJhdGlvbixcbiAgTW9kZXJhdGlvbkNyZWF0ZVBhcmFtcyxcbiAgTW9kZXJhdGlvbkNyZWF0ZVJlc3BvbnNlLFxuICBNb2RlcmF0aW9uSW1hZ2VVUkxJbnB1dCxcbiAgTW9kZXJhdGlvbk1vZGVsLFxuICBNb2RlcmF0aW9uTXVsdGlNb2RhbElucHV0LFxuICBNb2RlcmF0aW9uVGV4dElucHV0LFxuICBNb2RlcmF0aW9ucyxcbn0gZnJvbSAnLi9yZXNvdXJjZXMvbW9kZXJhdGlvbnMnO1xuaW1wb3J0IHsgQXVkaW8sIEF1ZGlvTW9kZWwsIEF1ZGlvUmVzcG9uc2VGb3JtYXQgfSBmcm9tICcuL3Jlc291cmNlcy9hdWRpby9hdWRpbyc7XG5pbXBvcnQgeyBCZXRhIH0gZnJvbSAnLi9yZXNvdXJjZXMvYmV0YS9iZXRhJztcbmltcG9ydCB7IENoYXQgfSBmcm9tICcuL3Jlc291cmNlcy9jaGF0L2NoYXQnO1xuaW1wb3J0IHsgRmluZVR1bmluZyB9IGZyb20gJy4vcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2ZpbmUtdHVuaW5nJztcbmltcG9ydCB7IFJlc3BvbnNlcyB9IGZyb20gJy4vcmVzb3VyY2VzL3Jlc3BvbnNlcy9yZXNwb25zZXMnO1xuaW1wb3J0IHtcbiAgVXBsb2FkLFxuICBVcGxvYWRDb21wbGV0ZVBhcmFtcyxcbiAgVXBsb2FkQ3JlYXRlUGFyYW1zLFxuICBVcGxvYWRzIGFzIFVwbG9hZHNBUElVcGxvYWRzLFxufSBmcm9tICcuL3Jlc291cmNlcy91cGxvYWRzL3VwbG9hZHMnO1xuaW1wb3J0IHtcbiAgQXV0b0ZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW0sXG4gIEZpbGVDaHVua2luZ1N0cmF0ZWd5LFxuICBGaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtLFxuICBPdGhlckZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0LFxuICBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneSxcbiAgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3QsXG4gIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0UGFyYW0sXG4gIFZlY3RvclN0b3JlLFxuICBWZWN0b3JTdG9yZUNyZWF0ZVBhcmFtcyxcbiAgVmVjdG9yU3RvcmVEZWxldGVkLFxuICBWZWN0b3JTdG9yZUxpc3RQYXJhbXMsXG4gIFZlY3RvclN0b3JlU2VhcmNoUGFyYW1zLFxuICBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlLFxuICBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2UsXG4gIFZlY3RvclN0b3JlVXBkYXRlUGFyYW1zLFxuICBWZWN0b3JTdG9yZXMsXG4gIFZlY3RvclN0b3Jlc1BhZ2UsXG59IGZyb20gJy4vcmVzb3VyY2VzL3ZlY3Rvci1zdG9yZXMvdmVjdG9yLXN0b3Jlcyc7XG5pbXBvcnQge1xuICBDaGF0Q29tcGxldGlvbixcbiAgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0sXG4gIENoYXRDb21wbGV0aW9uQXVkaW8sXG4gIENoYXRDb21wbGV0aW9uQXVkaW9QYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25DaHVuayxcbiAgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydCxcbiAgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydEltYWdlLFxuICBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW5wdXRBdWRpbyxcbiAgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFJlZnVzYWwsXG4gIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0LFxuICBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICBDaGF0Q29tcGxldGlvbkRlbGV0ZWQsXG4gIENoYXRDb21wbGV0aW9uRGV2ZWxvcGVyTWVzc2FnZVBhcmFtLFxuICBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbixcbiAgQ2hhdENvbXBsZXRpb25GdW5jdGlvbk1lc3NhZ2VQYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25MaXN0UGFyYW1zLFxuICBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsXG4gIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtLFxuICBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCxcbiAgQ2hhdENvbXBsZXRpb25Nb2RhbGl0eSxcbiAgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UsXG4gIENoYXRDb21wbGV0aW9uUHJlZGljdGlvbkNvbnRlbnQsXG4gIENoYXRDb21wbGV0aW9uUmVhc29uaW5nRWZmb3J0LFxuICBDaGF0Q29tcGxldGlvblJvbGUsXG4gIENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlLFxuICBDaGF0Q29tcGxldGlvblN0cmVhbU9wdGlvbnMsXG4gIENoYXRDb21wbGV0aW9uU3lzdGVtTWVzc2FnZVBhcmFtLFxuICBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYixcbiAgQ2hhdENvbXBsZXRpb25Ub29sLFxuICBDaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb24sXG4gIENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25VcGRhdGVQYXJhbXMsXG4gIENoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25zUGFnZSxcbiAgQ3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0TWVzc2FnZSxcbn0gZnJvbSAnLi9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucy9jb21wbGV0aW9ucyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50T3B0aW9ucyB7XG4gIC8qKlxuICAgKiBEZWZhdWx0cyB0byBwcm9jZXNzLmVudlsnT1BFTkFJX0FQSV9LRVknXS5cbiAgICovXG4gIGFwaUtleT86IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogRGVmYXVsdHMgdG8gcHJvY2Vzcy5lbnZbJ09QRU5BSV9PUkdfSUQnXS5cbiAgICovXG4gIG9yZ2FuaXphdGlvbj86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIERlZmF1bHRzIHRvIHByb2Nlc3MuZW52WydPUEVOQUlfUFJPSkVDVF9JRCddLlxuICAgKi9cbiAgcHJvamVjdD86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGJhc2UgVVJMIGZvciB0aGUgQVBJLCBlLmcuLCBcImh0dHBzOi8vYXBpLmV4YW1wbGUuY29tL3YyL1wiXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIHByb2Nlc3MuZW52WydPUEVOQUlfQkFTRV9VUkwnXS5cbiAgICovXG4gIGJhc2VVUkw/OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGF0IHRoZSBjbGllbnQgc2hvdWxkIHdhaXQgZm9yIGEgcmVzcG9uc2VcbiAgICogZnJvbSB0aGUgc2VydmVyIGJlZm9yZSB0aW1pbmcgb3V0IGEgc2luZ2xlIHJlcXVlc3QuXG4gICAqXG4gICAqIE5vdGUgdGhhdCByZXF1ZXN0IHRpbWVvdXRzIGFyZSByZXRyaWVkIGJ5IGRlZmF1bHQsIHNvIGluIGEgd29yc3QtY2FzZSBzY2VuYXJpbyB5b3UgbWF5IHdhaXRcbiAgICogbXVjaCBsb25nZXIgdGhhbiB0aGlzIHRpbWVvdXQgYmVmb3JlIHRoZSBwcm9taXNlIHN1Y2NlZWRzIG9yIGZhaWxzLlxuICAgKi9cbiAgdGltZW91dD86IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQW4gSFRUUCBhZ2VudCB1c2VkIHRvIG1hbmFnZSBIVFRQKFMpIGNvbm5lY3Rpb25zLlxuICAgKlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIGFuIGFnZW50IHdpbGwgYmUgY29uc3RydWN0ZWQgYnkgZGVmYXVsdCBpbiB0aGUgTm9kZS5qcyBlbnZpcm9ubWVudCxcbiAgICogb3RoZXJ3aXNlIG5vIGFnZW50IGlzIHVzZWQuXG4gICAqL1xuICBodHRwQWdlbnQ/OiBBZ2VudCB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogU3BlY2lmeSBhIGN1c3RvbSBgZmV0Y2hgIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgKlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIHdlIHVzZSBgbm9kZS1mZXRjaGAgb24gTm9kZS5qcyBhbmQgb3RoZXJ3aXNlIGV4cGVjdCB0aGF0IGBmZXRjaGAgaXNcbiAgICogZGVmaW5lZCBnbG9iYWxseS5cbiAgICovXG4gIGZldGNoPzogQ29yZS5GZXRjaCB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHRoYXQgdGhlIGNsaWVudCB3aWxsIHJldHJ5IGEgcmVxdWVzdCBpbiBjYXNlIG9mIGFcbiAgICogdGVtcG9yYXJ5IGZhaWx1cmUsIGxpa2UgYSBuZXR3b3JrIGVycm9yIG9yIGEgNVhYIGVycm9yIGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQGRlZmF1bHQgMlxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogRGVmYXVsdCBoZWFkZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAqXG4gICAqIFRoZXNlIGNhbiBiZSByZW1vdmVkIGluIGluZGl2aWR1YWwgcmVxdWVzdHMgYnkgZXhwbGljaXRseSBzZXR0aW5nIHRoZVxuICAgKiBoZWFkZXIgdG8gYHVuZGVmaW5lZGAgb3IgYG51bGxgIGluIHJlcXVlc3Qgb3B0aW9ucy5cbiAgICovXG4gIGRlZmF1bHRIZWFkZXJzPzogQ29yZS5IZWFkZXJzIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHF1ZXJ5IHBhcmFtZXRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICpcbiAgICogVGhlc2UgY2FuIGJlIHJlbW92ZWQgaW4gaW5kaXZpZHVhbCByZXF1ZXN0cyBieSBleHBsaWNpdGx5IHNldHRpbmcgdGhlXG4gICAqIHBhcmFtIHRvIGB1bmRlZmluZWRgIGluIHJlcXVlc3Qgb3B0aW9ucy5cbiAgICovXG4gIGRlZmF1bHRRdWVyeT86IENvcmUuRGVmYXVsdFF1ZXJ5IHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBCeSBkZWZhdWx0LCBjbGllbnQtc2lkZSB1c2Ugb2YgdGhpcyBsaWJyYXJ5IGlzIG5vdCBhbGxvd2VkLCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxuICAgKiBPbmx5IHNldCB0aGlzIG9wdGlvbiB0byBgdHJ1ZWAgaWYgeW91IHVuZGVyc3RhbmQgdGhlIHJpc2tzIGFuZCBoYXZlIGFwcHJvcHJpYXRlIG1pdGlnYXRpb25zIGluIHBsYWNlLlxuICAgKi9cbiAgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIE9wZW5BSSBBUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUkgZXh0ZW5kcyBDb3JlLkFQSUNsaWVudCB7XG4gIGFwaUtleTogc3RyaW5nO1xuICBvcmdhbml6YXRpb246IHN0cmluZyB8IG51bGw7XG4gIHByb2plY3Q6IHN0cmluZyB8IG51bGw7XG5cbiAgcHJpdmF0ZSBfb3B0aW9uczogQ2xpZW50T3B0aW9ucztcblxuICAvKipcbiAgICogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgT3BlbkFJIEFQSS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IFtvcHRzLmFwaUtleT1wcm9jZXNzLmVudlsnT1BFTkFJX0FQSV9LRVknXSA/PyB1bmRlZmluZWRdXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29wdHMub3JnYW5pemF0aW9uPXByb2Nlc3MuZW52WydPUEVOQUlfT1JHX0lEJ10gPz8gbnVsbF1cbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0cy5wcm9qZWN0PXByb2Nlc3MuZW52WydPUEVOQUlfUFJPSkVDVF9JRCddID8/IG51bGxdXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5iYXNlVVJMPXByb2Nlc3MuZW52WydPUEVOQUlfQkFTRV9VUkwnXSA/PyBodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXSAtIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGJhc2UgVVJMIGZvciB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMudGltZW91dD0xMCBtaW51dGVzXSAtIFRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIChpbiBtaWxsaXNlY29uZHMpIHRoZSBjbGllbnQgd2lsbCB3YWl0IGZvciBhIHJlc3BvbnNlIGJlZm9yZSB0aW1pbmcgb3V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaHR0cEFnZW50XSAtIEFuIEhUVFAgYWdlbnQgdXNlZCB0byBtYW5hZ2UgSFRUUChzKSBjb25uZWN0aW9ucy5cbiAgICogQHBhcmFtIHtDb3JlLkZldGNofSBbb3B0cy5mZXRjaF0gLSBTcGVjaWZ5IGEgY3VzdG9tIGBmZXRjaGAgZnVuY3Rpb24gaW1wbGVtZW50YXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5tYXhSZXRyaWVzPTJdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHRoZSBjbGllbnQgd2lsbCByZXRyeSBhIHJlcXVlc3QuXG4gICAqIEBwYXJhbSB7Q29yZS5IZWFkZXJzfSBvcHRzLmRlZmF1bHRIZWFkZXJzIC0gRGVmYXVsdCBoZWFkZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAqIEBwYXJhbSB7Q29yZS5EZWZhdWx0UXVlcnl9IG9wdHMuZGVmYXVsdFF1ZXJ5IC0gRGVmYXVsdCBxdWVyeSBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI9ZmFsc2VdIC0gQnkgZGVmYXVsdCwgY2xpZW50LXNpZGUgdXNlIG9mIHRoaXMgbGlicmFyeSBpcyBub3QgYWxsb3dlZCwgYXMgaXQgcmlza3MgZXhwb3NpbmcgeW91ciBzZWNyZXQgQVBJIGNyZWRlbnRpYWxzIHRvIGF0dGFja2Vycy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBiYXNlVVJMID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfQkFTRV9VUkwnKSxcbiAgICBhcGlLZXkgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9BUElfS0VZJyksXG4gICAgb3JnYW5pemF0aW9uID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfT1JHX0lEJykgPz8gbnVsbCxcbiAgICBwcm9qZWN0ID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfUFJPSkVDVF9JRCcpID8/IG51bGwsXG4gICAgLi4ub3B0c1xuICB9OiBDbGllbnRPcHRpb25zID0ge30pIHtcbiAgICBpZiAoYXBpS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoXG4gICAgICAgIFwiVGhlIE9QRU5BSV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG1pc3Npbmcgb3IgZW1wdHk7IGVpdGhlciBwcm92aWRlIGl0LCBvciBpbnN0YW50aWF0ZSB0aGUgT3BlbkFJIGNsaWVudCB3aXRoIGFuIGFwaUtleSBvcHRpb24sIGxpa2UgbmV3IE9wZW5BSSh7IGFwaUtleTogJ015IEFQSSBLZXknIH0pLlwiLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zOiBDbGllbnRPcHRpb25zID0ge1xuICAgICAgYXBpS2V5LFxuICAgICAgb3JnYW5pemF0aW9uLFxuICAgICAgcHJvamVjdCxcbiAgICAgIC4uLm9wdHMsXG4gICAgICBiYXNlVVJMOiBiYXNlVVJMIHx8IGBodHRwczovL2FwaS5vcGVuYWkuY29tL3YxYCxcbiAgICB9O1xuXG4gICAgaWYgKCFvcHRpb25zLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyICYmIENvcmUuaXNSdW5uaW5nSW5Ccm93c2VyKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoXG4gICAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgcnVubmluZyBpbiBhIGJyb3dzZXItbGlrZSBlbnZpcm9ubWVudC5cXG5cXG5UaGlzIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXFxuSWYgeW91IHVuZGVyc3RhbmQgdGhlIHJpc2tzIGFuZCBoYXZlIGFwcHJvcHJpYXRlIG1pdGlnYXRpb25zIGluIHBsYWNlLFxcbnlvdSBjYW4gc2V0IHRoZSBgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXJgIG9wdGlvbiB0byBgdHJ1ZWAsIGUuZy4sXFxuXFxubmV3IE9wZW5BSSh7IGFwaUtleSwgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUgfSk7XFxuXFxuaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vZW4vYXJ0aWNsZXMvNTExMjU5NS1iZXN0LXByYWN0aWNlcy1mb3ItYXBpLWtleS1zYWZldHlcXG5cIixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgc3VwZXIoe1xuICAgICAgYmFzZVVSTDogb3B0aW9ucy5iYXNlVVJMISxcbiAgICAgIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCA/PyA2MDAwMDAgLyogMTAgbWludXRlcyAqLyxcbiAgICAgIGh0dHBBZ2VudDogb3B0aW9ucy5odHRwQWdlbnQsXG4gICAgICBtYXhSZXRyaWVzOiBvcHRpb25zLm1heFJldHJpZXMsXG4gICAgICBmZXRjaDogb3B0aW9ucy5mZXRjaCxcbiAgICB9KTtcblxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5vcmdhbml6YXRpb24gPSBvcmdhbml6YXRpb247XG4gICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgfVxuXG4gIGNvbXBsZXRpb25zOiBBUEkuQ29tcGxldGlvbnMgPSBuZXcgQVBJLkNvbXBsZXRpb25zKHRoaXMpO1xuICBjaGF0OiBBUEkuQ2hhdCA9IG5ldyBBUEkuQ2hhdCh0aGlzKTtcbiAgZW1iZWRkaW5nczogQVBJLkVtYmVkZGluZ3MgPSBuZXcgQVBJLkVtYmVkZGluZ3ModGhpcyk7XG4gIGZpbGVzOiBBUEkuRmlsZXMgPSBuZXcgQVBJLkZpbGVzKHRoaXMpO1xuICBpbWFnZXM6IEFQSS5JbWFnZXMgPSBuZXcgQVBJLkltYWdlcyh0aGlzKTtcbiAgYXVkaW86IEFQSS5BdWRpbyA9IG5ldyBBUEkuQXVkaW8odGhpcyk7XG4gIG1vZGVyYXRpb25zOiBBUEkuTW9kZXJhdGlvbnMgPSBuZXcgQVBJLk1vZGVyYXRpb25zKHRoaXMpO1xuICBtb2RlbHM6IEFQSS5Nb2RlbHMgPSBuZXcgQVBJLk1vZGVscyh0aGlzKTtcbiAgZmluZVR1bmluZzogQVBJLkZpbmVUdW5pbmcgPSBuZXcgQVBJLkZpbmVUdW5pbmcodGhpcyk7XG4gIHZlY3RvclN0b3JlczogQVBJLlZlY3RvclN0b3JlcyA9IG5ldyBBUEkuVmVjdG9yU3RvcmVzKHRoaXMpO1xuICBiZXRhOiBBUEkuQmV0YSA9IG5ldyBBUEkuQmV0YSh0aGlzKTtcbiAgYmF0Y2hlczogQVBJLkJhdGNoZXMgPSBuZXcgQVBJLkJhdGNoZXModGhpcyk7XG4gIHVwbG9hZHM6IEFQSS5VcGxvYWRzID0gbmV3IEFQSS5VcGxvYWRzKHRoaXMpO1xuICByZXNwb25zZXM6IEFQSS5SZXNwb25zZXMgPSBuZXcgQVBJLlJlc3BvbnNlcyh0aGlzKTtcblxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgZGVmYXVsdFF1ZXJ5KCk6IENvcmUuRGVmYXVsdFF1ZXJ5IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5fb3B0aW9ucy5kZWZhdWx0UXVlcnk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgZGVmYXVsdEhlYWRlcnMob3B0czogQ29yZS5GaW5hbFJlcXVlc3RPcHRpb25zKTogQ29yZS5IZWFkZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIuZGVmYXVsdEhlYWRlcnMob3B0cyksXG4gICAgICAnT3BlbkFJLU9yZ2FuaXphdGlvbic6IHRoaXMub3JnYW5pemF0aW9uLFxuICAgICAgJ09wZW5BSS1Qcm9qZWN0JzogdGhpcy5wcm9qZWN0LFxuICAgICAgLi4udGhpcy5fb3B0aW9ucy5kZWZhdWx0SGVhZGVycyxcbiAgICB9O1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGF1dGhIZWFkZXJzKG9wdHM6IENvcmUuRmluYWxSZXF1ZXN0T3B0aW9ucyk6IENvcmUuSGVhZGVycyB7XG4gICAgcmV0dXJuIHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvdmVycmlkZSBzdHJpbmdpZnlRdWVyeShxdWVyeTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiBzdHJpbmcge1xuICAgIHJldHVybiBxcy5zdHJpbmdpZnkocXVlcnksIHsgYXJyYXlGb3JtYXQ6ICdicmFja2V0cycgfSk7XG4gIH1cblxuICBzdGF0aWMgT3BlbkFJID0gdGhpcztcbiAgc3RhdGljIERFRkFVTFRfVElNRU9VVCA9IDYwMDAwMDsgLy8gMTAgbWludXRlc1xuXG4gIHN0YXRpYyBPcGVuQUlFcnJvciA9IEVycm9ycy5PcGVuQUlFcnJvcjtcbiAgc3RhdGljIEFQSUVycm9yID0gRXJyb3JzLkFQSUVycm9yO1xuICBzdGF0aWMgQVBJQ29ubmVjdGlvbkVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25FcnJvcjtcbiAgc3RhdGljIEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IgPSBFcnJvcnMuQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcjtcbiAgc3RhdGljIEFQSVVzZXJBYm9ydEVycm9yID0gRXJyb3JzLkFQSVVzZXJBYm9ydEVycm9yO1xuICBzdGF0aWMgTm90Rm91bmRFcnJvciA9IEVycm9ycy5Ob3RGb3VuZEVycm9yO1xuICBzdGF0aWMgQ29uZmxpY3RFcnJvciA9IEVycm9ycy5Db25mbGljdEVycm9yO1xuICBzdGF0aWMgUmF0ZUxpbWl0RXJyb3IgPSBFcnJvcnMuUmF0ZUxpbWl0RXJyb3I7XG4gIHN0YXRpYyBCYWRSZXF1ZXN0RXJyb3IgPSBFcnJvcnMuQmFkUmVxdWVzdEVycm9yO1xuICBzdGF0aWMgQXV0aGVudGljYXRpb25FcnJvciA9IEVycm9ycy5BdXRoZW50aWNhdGlvbkVycm9yO1xuICBzdGF0aWMgSW50ZXJuYWxTZXJ2ZXJFcnJvciA9IEVycm9ycy5JbnRlcm5hbFNlcnZlckVycm9yO1xuICBzdGF0aWMgUGVybWlzc2lvbkRlbmllZEVycm9yID0gRXJyb3JzLlBlcm1pc3Npb25EZW5pZWRFcnJvcjtcbiAgc3RhdGljIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciA9IEVycm9ycy5VbnByb2Nlc3NhYmxlRW50aXR5RXJyb3I7XG5cbiAgc3RhdGljIHRvRmlsZSA9IFVwbG9hZHMudG9GaWxlO1xuICBzdGF0aWMgZmlsZUZyb21QYXRoID0gVXBsb2Fkcy5maWxlRnJvbVBhdGg7XG59XG5cbk9wZW5BSS5Db21wbGV0aW9ucyA9IENvbXBsZXRpb25zO1xuT3BlbkFJLkNoYXQgPSBDaGF0O1xuT3BlbkFJLkNoYXRDb21wbGV0aW9uc1BhZ2UgPSBDaGF0Q29tcGxldGlvbnNQYWdlO1xuT3BlbkFJLkVtYmVkZGluZ3MgPSBFbWJlZGRpbmdzO1xuT3BlbkFJLkZpbGVzID0gRmlsZXM7XG5PcGVuQUkuRmlsZU9iamVjdHNQYWdlID0gRmlsZU9iamVjdHNQYWdlO1xuT3BlbkFJLkltYWdlcyA9IEltYWdlcztcbk9wZW5BSS5BdWRpbyA9IEF1ZGlvO1xuT3BlbkFJLk1vZGVyYXRpb25zID0gTW9kZXJhdGlvbnM7XG5PcGVuQUkuTW9kZWxzID0gTW9kZWxzO1xuT3BlbkFJLk1vZGVsc1BhZ2UgPSBNb2RlbHNQYWdlO1xuT3BlbkFJLkZpbmVUdW5pbmcgPSBGaW5lVHVuaW5nO1xuT3BlbkFJLlZlY3RvclN0b3JlcyA9IFZlY3RvclN0b3Jlcztcbk9wZW5BSS5WZWN0b3JTdG9yZXNQYWdlID0gVmVjdG9yU3RvcmVzUGFnZTtcbk9wZW5BSS5WZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2UgPSBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2U7XG5PcGVuQUkuQmV0YSA9IEJldGE7XG5PcGVuQUkuQmF0Y2hlcyA9IEJhdGNoZXM7XG5PcGVuQUkuQmF0Y2hlc1BhZ2UgPSBCYXRjaGVzUGFnZTtcbk9wZW5BSS5VcGxvYWRzID0gVXBsb2Fkc0FQSVVwbG9hZHM7XG5PcGVuQUkuUmVzcG9uc2VzID0gUmVzcG9uc2VzO1xuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIE9wZW5BSSB7XG4gIGV4cG9ydCB0eXBlIFJlcXVlc3RPcHRpb25zID0gQ29yZS5SZXF1ZXN0T3B0aW9ucztcblxuICBleHBvcnQgaW1wb3J0IFBhZ2UgPSBQYWdpbmF0aW9uLlBhZ2U7XG4gIGV4cG9ydCB7IHR5cGUgUGFnZVJlc3BvbnNlIGFzIFBhZ2VSZXNwb25zZSB9O1xuXG4gIGV4cG9ydCBpbXBvcnQgQ3Vyc29yUGFnZSA9IFBhZ2luYXRpb24uQ3Vyc29yUGFnZTtcbiAgZXhwb3J0IHsgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIGFzIEN1cnNvclBhZ2VQYXJhbXMsIHR5cGUgQ3Vyc29yUGFnZVJlc3BvbnNlIGFzIEN1cnNvclBhZ2VSZXNwb25zZSB9O1xuXG4gIGV4cG9ydCB7XG4gICAgQ29tcGxldGlvbnMgYXMgQ29tcGxldGlvbnMsXG4gICAgdHlwZSBDb21wbGV0aW9uIGFzIENvbXBsZXRpb24sXG4gICAgdHlwZSBDb21wbGV0aW9uQ2hvaWNlIGFzIENvbXBsZXRpb25DaG9pY2UsXG4gICAgdHlwZSBDb21wbGV0aW9uVXNhZ2UgYXMgQ29tcGxldGlvblVzYWdlLFxuICAgIHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyBhcyBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyBhcyBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyBhcyBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgQ2hhdCBhcyBDaGF0LFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb24gYXMgQ2hhdENvbXBsZXRpb24sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQXVkaW8gYXMgQ2hhdENvbXBsZXRpb25BdWRpbyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQXVkaW9QYXJhbSBhcyBDaGF0Q29tcGxldGlvbkF1ZGlvUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNodW5rIGFzIENoYXRDb21wbGV0aW9uQ2h1bmssXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0IGFzIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnQsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2UgYXMgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydEltYWdlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydElucHV0QXVkaW8gYXMgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydElucHV0QXVkaW8sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0UmVmdXNhbCBhcyBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0UmVmdXNhbCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0IGFzIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0LFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25EZWxldGVkIGFzIENoYXRDb21wbGV0aW9uRGVsZXRlZCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uRGV2ZWxvcGVyTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uRGV2ZWxvcGVyTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25GdW5jdGlvbkNhbGxPcHRpb24gYXMgQ2hhdENvbXBsZXRpb25GdW5jdGlvbkNhbGxPcHRpb24sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2UgYXMgQ2hhdENvbXBsZXRpb25NZXNzYWdlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCBhcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTW9kYWxpdHkgYXMgQ2hhdENvbXBsZXRpb25Nb2RhbGl0eSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTmFtZWRUb29sQ2hvaWNlIGFzIENoYXRDb21wbGV0aW9uTmFtZWRUb29sQ2hvaWNlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25QcmVkaWN0aW9uQ29udGVudCBhcyBDaGF0Q29tcGxldGlvblByZWRpY3Rpb25Db250ZW50LFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Sb2xlIGFzIENoYXRDb21wbGV0aW9uUm9sZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlIGFzIENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25TdHJlYW1PcHRpb25zIGFzIENoYXRDb21wbGV0aW9uU3RyZWFtT3B0aW9ucyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uU3lzdGVtTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uU3lzdGVtTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2IgYXMgQ2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2IsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblRvb2wgYXMgQ2hhdENvbXBsZXRpb25Ub29sLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sQ2hvaWNlT3B0aW9uIGFzIENoYXRDb21wbGV0aW9uVG9vbENob2ljZU9wdGlvbixcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvblRvb2xNZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25Vc2VyTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0TWVzc2FnZSBhcyBDcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3RNZXNzYWdlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25SZWFzb25pbmdFZmZvcnQgYXMgQ2hhdENvbXBsZXRpb25SZWFzb25pbmdFZmZvcnQsXG4gICAgQ2hhdENvbXBsZXRpb25zUGFnZSBhcyBDaGF0Q29tcGxldGlvbnNQYWdlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMgYXMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyBhcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGFzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25VcGRhdGVQYXJhbXMgYXMgQ2hhdENvbXBsZXRpb25VcGRhdGVQYXJhbXMsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkxpc3RQYXJhbXMgYXMgQ2hhdENvbXBsZXRpb25MaXN0UGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgRW1iZWRkaW5ncyBhcyBFbWJlZGRpbmdzLFxuICAgIHR5cGUgQ3JlYXRlRW1iZWRkaW5nUmVzcG9uc2UgYXMgQ3JlYXRlRW1iZWRkaW5nUmVzcG9uc2UsXG4gICAgdHlwZSBFbWJlZGRpbmcgYXMgRW1iZWRkaW5nLFxuICAgIHR5cGUgRW1iZWRkaW5nTW9kZWwgYXMgRW1iZWRkaW5nTW9kZWwsXG4gICAgdHlwZSBFbWJlZGRpbmdDcmVhdGVQYXJhbXMgYXMgRW1iZWRkaW5nQ3JlYXRlUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgRmlsZXMgYXMgRmlsZXMsXG4gICAgdHlwZSBGaWxlQ29udGVudCBhcyBGaWxlQ29udGVudCxcbiAgICB0eXBlIEZpbGVEZWxldGVkIGFzIEZpbGVEZWxldGVkLFxuICAgIHR5cGUgRmlsZU9iamVjdCBhcyBGaWxlT2JqZWN0LFxuICAgIHR5cGUgRmlsZVB1cnBvc2UgYXMgRmlsZVB1cnBvc2UsXG4gICAgRmlsZU9iamVjdHNQYWdlIGFzIEZpbGVPYmplY3RzUGFnZSxcbiAgICB0eXBlIEZpbGVDcmVhdGVQYXJhbXMgYXMgRmlsZUNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIEZpbGVMaXN0UGFyYW1zIGFzIEZpbGVMaXN0UGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgSW1hZ2VzIGFzIEltYWdlcyxcbiAgICB0eXBlIEltYWdlIGFzIEltYWdlLFxuICAgIHR5cGUgSW1hZ2VNb2RlbCBhcyBJbWFnZU1vZGVsLFxuICAgIHR5cGUgSW1hZ2VzUmVzcG9uc2UgYXMgSW1hZ2VzUmVzcG9uc2UsXG4gICAgdHlwZSBJbWFnZUNyZWF0ZVZhcmlhdGlvblBhcmFtcyBhcyBJbWFnZUNyZWF0ZVZhcmlhdGlvblBhcmFtcyxcbiAgICB0eXBlIEltYWdlRWRpdFBhcmFtcyBhcyBJbWFnZUVkaXRQYXJhbXMsXG4gICAgdHlwZSBJbWFnZUdlbmVyYXRlUGFyYW1zIGFzIEltYWdlR2VuZXJhdGVQYXJhbXMsXG4gIH07XG5cbiAgZXhwb3J0IHsgQXVkaW8gYXMgQXVkaW8sIHR5cGUgQXVkaW9Nb2RlbCBhcyBBdWRpb01vZGVsLCB0eXBlIEF1ZGlvUmVzcG9uc2VGb3JtYXQgYXMgQXVkaW9SZXNwb25zZUZvcm1hdCB9O1xuXG4gIGV4cG9ydCB7XG4gICAgTW9kZXJhdGlvbnMgYXMgTW9kZXJhdGlvbnMsXG4gICAgdHlwZSBNb2RlcmF0aW9uIGFzIE1vZGVyYXRpb24sXG4gICAgdHlwZSBNb2RlcmF0aW9uSW1hZ2VVUkxJbnB1dCBhcyBNb2RlcmF0aW9uSW1hZ2VVUkxJbnB1dCxcbiAgICB0eXBlIE1vZGVyYXRpb25Nb2RlbCBhcyBNb2RlcmF0aW9uTW9kZWwsXG4gICAgdHlwZSBNb2RlcmF0aW9uTXVsdGlNb2RhbElucHV0IGFzIE1vZGVyYXRpb25NdWx0aU1vZGFsSW5wdXQsXG4gICAgdHlwZSBNb2RlcmF0aW9uVGV4dElucHV0IGFzIE1vZGVyYXRpb25UZXh0SW5wdXQsXG4gICAgdHlwZSBNb2RlcmF0aW9uQ3JlYXRlUmVzcG9uc2UgYXMgTW9kZXJhdGlvbkNyZWF0ZVJlc3BvbnNlLFxuICAgIHR5cGUgTW9kZXJhdGlvbkNyZWF0ZVBhcmFtcyBhcyBNb2RlcmF0aW9uQ3JlYXRlUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgTW9kZWxzIGFzIE1vZGVscyxcbiAgICB0eXBlIE1vZGVsIGFzIE1vZGVsLFxuICAgIHR5cGUgTW9kZWxEZWxldGVkIGFzIE1vZGVsRGVsZXRlZCxcbiAgICBNb2RlbHNQYWdlIGFzIE1vZGVsc1BhZ2UsXG4gIH07XG5cbiAgZXhwb3J0IHsgRmluZVR1bmluZyBhcyBGaW5lVHVuaW5nIH07XG5cbiAgZXhwb3J0IHtcbiAgICBWZWN0b3JTdG9yZXMgYXMgVmVjdG9yU3RvcmVzLFxuICAgIHR5cGUgQXV0b0ZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW0gYXMgQXV0b0ZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW0sXG4gICAgdHlwZSBGaWxlQ2h1bmtpbmdTdHJhdGVneSBhcyBGaWxlQ2h1bmtpbmdTdHJhdGVneSxcbiAgICB0eXBlIEZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW0gYXMgRmlsZUNodW5raW5nU3RyYXRlZ3lQYXJhbSxcbiAgICB0eXBlIE90aGVyRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3QgYXMgT3RoZXJGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdCxcbiAgICB0eXBlIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5IGFzIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5LFxuICAgIHR5cGUgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3QgYXMgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3QsXG4gICAgdHlwZSBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdFBhcmFtIGFzIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0UGFyYW0sXG4gICAgdHlwZSBWZWN0b3JTdG9yZSBhcyBWZWN0b3JTdG9yZSxcbiAgICB0eXBlIFZlY3RvclN0b3JlRGVsZXRlZCBhcyBWZWN0b3JTdG9yZURlbGV0ZWQsXG4gICAgdHlwZSBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlIGFzIFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2UsXG4gICAgVmVjdG9yU3RvcmVzUGFnZSBhcyBWZWN0b3JTdG9yZXNQYWdlLFxuICAgIFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2VzUGFnZSBhcyBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2UsXG4gICAgdHlwZSBWZWN0b3JTdG9yZUNyZWF0ZVBhcmFtcyBhcyBWZWN0b3JTdG9yZUNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIFZlY3RvclN0b3JlVXBkYXRlUGFyYW1zIGFzIFZlY3RvclN0b3JlVXBkYXRlUGFyYW1zLFxuICAgIHR5cGUgVmVjdG9yU3RvcmVMaXN0UGFyYW1zIGFzIFZlY3RvclN0b3JlTGlzdFBhcmFtcyxcbiAgICB0eXBlIFZlY3RvclN0b3JlU2VhcmNoUGFyYW1zIGFzIFZlY3RvclN0b3JlU2VhcmNoUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7IEJldGEgYXMgQmV0YSB9O1xuXG4gIGV4cG9ydCB7XG4gICAgQmF0Y2hlcyBhcyBCYXRjaGVzLFxuICAgIHR5cGUgQmF0Y2ggYXMgQmF0Y2gsXG4gICAgdHlwZSBCYXRjaEVycm9yIGFzIEJhdGNoRXJyb3IsXG4gICAgdHlwZSBCYXRjaFJlcXVlc3RDb3VudHMgYXMgQmF0Y2hSZXF1ZXN0Q291bnRzLFxuICAgIEJhdGNoZXNQYWdlIGFzIEJhdGNoZXNQYWdlLFxuICAgIHR5cGUgQmF0Y2hDcmVhdGVQYXJhbXMgYXMgQmF0Y2hDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBCYXRjaExpc3RQYXJhbXMgYXMgQmF0Y2hMaXN0UGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgVXBsb2Fkc0FQSVVwbG9hZHMgYXMgVXBsb2FkcyxcbiAgICB0eXBlIFVwbG9hZCBhcyBVcGxvYWQsXG4gICAgdHlwZSBVcGxvYWRDcmVhdGVQYXJhbXMgYXMgVXBsb2FkQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgVXBsb2FkQ29tcGxldGVQYXJhbXMgYXMgVXBsb2FkQ29tcGxldGVQYXJhbXMsXG4gIH07XG5cbiAgZXhwb3J0IHsgUmVzcG9uc2VzIGFzIFJlc3BvbnNlcyB9O1xuXG4gIGV4cG9ydCB0eXBlIEFsbE1vZGVscyA9IEFQSS5BbGxNb2RlbHM7XG4gIGV4cG9ydCB0eXBlIENoYXRNb2RlbCA9IEFQSS5DaGF0TW9kZWw7XG4gIGV4cG9ydCB0eXBlIENvbXBhcmlzb25GaWx0ZXIgPSBBUEkuQ29tcGFyaXNvbkZpbHRlcjtcbiAgZXhwb3J0IHR5cGUgQ29tcG91bmRGaWx0ZXIgPSBBUEkuQ29tcG91bmRGaWx0ZXI7XG4gIGV4cG9ydCB0eXBlIEVycm9yT2JqZWN0ID0gQVBJLkVycm9yT2JqZWN0O1xuICBleHBvcnQgdHlwZSBGdW5jdGlvbkRlZmluaXRpb24gPSBBUEkuRnVuY3Rpb25EZWZpbml0aW9uO1xuICBleHBvcnQgdHlwZSBGdW5jdGlvblBhcmFtZXRlcnMgPSBBUEkuRnVuY3Rpb25QYXJhbWV0ZXJzO1xuICBleHBvcnQgdHlwZSBNZXRhZGF0YSA9IEFQSS5NZXRhZGF0YTtcbiAgZXhwb3J0IHR5cGUgUmVhc29uaW5nID0gQVBJLlJlYXNvbmluZztcbiAgZXhwb3J0IHR5cGUgUmVhc29uaW5nRWZmb3J0ID0gQVBJLlJlYXNvbmluZ0VmZm9ydDtcbiAgZXhwb3J0IHR5cGUgUmVzcG9uc2VGb3JtYXRKU09OT2JqZWN0ID0gQVBJLlJlc3BvbnNlRm9ybWF0SlNPTk9iamVjdDtcbiAgZXhwb3J0IHR5cGUgUmVzcG9uc2VGb3JtYXRKU09OU2NoZW1hID0gQVBJLlJlc3BvbnNlRm9ybWF0SlNPTlNjaGVtYTtcbiAgZXhwb3J0IHR5cGUgUmVzcG9uc2VGb3JtYXRUZXh0ID0gQVBJLlJlc3BvbnNlRm9ybWF0VGV4dDtcbiAgZXhwb3J0IHR5cGUgUmVzcG9uc2VzTW9kZWwgPSBBUEkuUmVzcG9uc2VzTW9kZWw7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQXp1cmUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKiogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgQXp1cmUgT3BlbkFJIEFQSS4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXp1cmVDbGllbnRPcHRpb25zIGV4dGVuZHMgQ2xpZW50T3B0aW9ucyB7XG4gIC8qKlxuICAgKiBEZWZhdWx0cyB0byBwcm9jZXNzLmVudlsnT1BFTkFJX0FQSV9WRVJTSU9OJ10uXG4gICAqL1xuICBhcGlWZXJzaW9uPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBZb3VyIEF6dXJlIGVuZHBvaW50LCBpbmNsdWRpbmcgdGhlIHJlc291cmNlLCBlLmcuIGBodHRwczovL2V4YW1wbGUtcmVzb3VyY2UuYXp1cmUub3BlbmFpLmNvbS9gXG4gICAqL1xuICBlbmRwb2ludD86IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQSBtb2RlbCBkZXBsb3ltZW50LCBpZiBnaXZlbiwgc2V0cyB0aGUgYmFzZSBjbGllbnQgVVJMIHRvIGluY2x1ZGUgYC9kZXBsb3ltZW50cy97ZGVwbG95bWVudH1gLlxuICAgKiBOb3RlOiB0aGlzIG1lYW5zIHlvdSB3b24ndCBiZSBhYmxlIHRvIHVzZSBub24tZGVwbG95bWVudCBlbmRwb2ludHMuIE5vdCBzdXBwb3J0ZWQgd2l0aCBBc3Npc3RhbnRzIEFQSXMuXG4gICAqL1xuICBkZXBsb3ltZW50Pzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0cyB0byBwcm9jZXNzLmVudlsnQVpVUkVfT1BFTkFJX0FQSV9LRVknXS5cbiAgICovXG4gIGFwaUtleT86IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gYWNjZXNzIHRva2VuIGZvciBNaWNyb3NvZnQgRW50cmEgKGZvcm1lcmx5IGtub3duIGFzIEF6dXJlIEFjdGl2ZSBEaXJlY3RvcnkpLFxuICAgKiB3aGljaCB3aWxsIGJlIGludm9rZWQgb24gZXZlcnkgcmVxdWVzdC5cbiAgICovXG4gIGF6dXJlQURUb2tlblByb3ZpZGVyPzogKCgpID0+IFByb21pc2U8c3RyaW5nPikgfCB1bmRlZmluZWQ7XG59XG5cbi8qKiBBUEkgQ2xpZW50IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBBenVyZSBPcGVuQUkgQVBJLiAqL1xuZXhwb3J0IGNsYXNzIEF6dXJlT3BlbkFJIGV4dGVuZHMgT3BlbkFJIHtcbiAgcHJpdmF0ZSBfYXp1cmVBRFRva2VuUHJvdmlkZXI6ICgoKSA9PiBQcm9taXNlPHN0cmluZz4pIHwgdW5kZWZpbmVkO1xuICBkZXBsb3ltZW50TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBhcGlWZXJzaW9uOiBzdHJpbmcgPSAnJztcbiAgLyoqXG4gICAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIEF6dXJlIE9wZW5BSSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbb3B0cy5hcGlWZXJzaW9uPXByb2Nlc3MuZW52WydPUEVOQUlfQVBJX1ZFUlNJT04nXSA/PyB1bmRlZmluZWRdXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbb3B0cy5lbmRwb2ludD1wcm9jZXNzLmVudlsnQVpVUkVfT1BFTkFJX0VORFBPSU5UJ10gPz8gdW5kZWZpbmVkXSAtIFlvdXIgQXp1cmUgZW5kcG9pbnQsIGluY2x1ZGluZyB0aGUgcmVzb3VyY2UsIGUuZy4gYGh0dHBzOi8vZXhhbXBsZS1yZXNvdXJjZS5henVyZS5vcGVuYWkuY29tL2BcbiAgICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IFtvcHRzLmFwaUtleT1wcm9jZXNzLmVudlsnQVpVUkVfT1BFTkFJX0FQSV9LRVknXSA/PyB1bmRlZmluZWRdXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBvcHRzLmRlcGxveW1lbnQgLSBBIG1vZGVsIGRlcGxveW1lbnQsIGlmIGdpdmVuLCBzZXRzIHRoZSBiYXNlIGNsaWVudCBVUkwgdG8gaW5jbHVkZSBgL2RlcGxveW1lbnRzL3tkZXBsb3ltZW50fWAuXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29wdHMub3JnYW5pemF0aW9uPXByb2Nlc3MuZW52WydPUEVOQUlfT1JHX0lEJ10gPz8gbnVsbF1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmJhc2VVUkw9cHJvY2Vzcy5lbnZbJ09QRU5BSV9CQVNFX1VSTCddXSAtIFNldHMgdGhlIGJhc2UgVVJMIGZvciB0aGUgQVBJLCBlLmcuIGBodHRwczovL2V4YW1wbGUtcmVzb3VyY2UuYXp1cmUub3BlbmFpLmNvbS9vcGVuYWkvYC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRpbWVvdXQ9MTAgbWludXRlc10gLSBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGUgY2xpZW50IHdpbGwgd2FpdCBmb3IgYSByZXNwb25zZSBiZWZvcmUgdGltaW5nIG91dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmh0dHBBZ2VudF0gLSBBbiBIVFRQIGFnZW50IHVzZWQgdG8gbWFuYWdlIEhUVFAocykgY29ubmVjdGlvbnMuXG4gICAqIEBwYXJhbSB7Q29yZS5GZXRjaH0gW29wdHMuZmV0Y2hdIC0gU3BlY2lmeSBhIGN1c3RvbSBgZmV0Y2hgIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWF4UmV0cmllcz0yXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0aGUgY2xpZW50IHdpbGwgcmV0cnkgYSByZXF1ZXN0LlxuICAgKiBAcGFyYW0ge0NvcmUuSGVhZGVyc30gb3B0cy5kZWZhdWx0SGVhZGVycyAtIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge0NvcmUuRGVmYXVsdFF1ZXJ5fSBvcHRzLmRlZmF1bHRRdWVyeSAtIERlZmF1bHQgcXVlcnkgcGFyYW1ldGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyPWZhbHNlXSAtIEJ5IGRlZmF1bHQsIGNsaWVudC1zaWRlIHVzZSBvZiB0aGlzIGxpYnJhcnkgaXMgbm90IGFsbG93ZWQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgYmFzZVVSTCA9IENvcmUucmVhZEVudignT1BFTkFJX0JBU0VfVVJMJyksXG4gICAgYXBpS2V5ID0gQ29yZS5yZWFkRW52KCdBWlVSRV9PUEVOQUlfQVBJX0tFWScpLFxuICAgIGFwaVZlcnNpb24gPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9BUElfVkVSU0lPTicpLFxuICAgIGVuZHBvaW50LFxuICAgIGRlcGxveW1lbnQsXG4gICAgYXp1cmVBRFRva2VuUHJvdmlkZXIsXG4gICAgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXIsXG4gICAgLi4ub3B0c1xuICB9OiBBenVyZUNsaWVudE9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghYXBpVmVyc2lvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcihcbiAgICAgICAgXCJUaGUgT1BFTkFJX0FQSV9WRVJTSU9OIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG1pc3Npbmcgb3IgZW1wdHk7IGVpdGhlciBwcm92aWRlIGl0LCBvciBpbnN0YW50aWF0ZSB0aGUgQXp1cmVPcGVuQUkgY2xpZW50IHdpdGggYW4gYXBpVmVyc2lvbiBvcHRpb24sIGxpa2UgbmV3IEF6dXJlT3BlbkFJKHsgYXBpVmVyc2lvbjogJ015IEFQSSBWZXJzaW9uJyB9KS5cIixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhenVyZUFEVG9rZW5Qcm92aWRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXIgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICghYXp1cmVBRFRva2VuUHJvdmlkZXIgJiYgIWFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcihcbiAgICAgICAgJ01pc3NpbmcgY3JlZGVudGlhbHMuIFBsZWFzZSBwYXNzIG9uZSBvZiBgYXBpS2V5YCBhbmQgYGF6dXJlQURUb2tlblByb3ZpZGVyYCwgb3Igc2V0IHRoZSBgQVpVUkVfT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChhenVyZUFEVG9rZW5Qcm92aWRlciAmJiBhcGlLZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoXG4gICAgICAgICdUaGUgYGFwaUtleWAgYW5kIGBhenVyZUFEVG9rZW5Qcm92aWRlcmAgYXJndW1lbnRzIGFyZSBtdXR1YWxseSBleGNsdXNpdmU7IG9ubHkgb25lIGNhbiBiZSBwYXNzZWQgYXQgYSB0aW1lLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGRlZmluZSBhIHNlbnRpbmVsIHZhbHVlIHRvIGF2b2lkIGFueSB0eXBpbmcgaXNzdWVzXG4gICAgYXBpS2V5ID8/PSBBUElfS0VZX1NFTlRJTkVMO1xuXG4gICAgb3B0cy5kZWZhdWx0UXVlcnkgPSB7IC4uLm9wdHMuZGVmYXVsdFF1ZXJ5LCAnYXBpLXZlcnNpb24nOiBhcGlWZXJzaW9uIH07XG5cbiAgICBpZiAoIWJhc2VVUkwpIHtcbiAgICAgIGlmICghZW5kcG9pbnQpIHtcbiAgICAgICAgZW5kcG9pbnQgPSBwcm9jZXNzLmVudlsnQVpVUkVfT1BFTkFJX0VORFBPSU5UJ107XG4gICAgICB9XG5cbiAgICAgIGlmICghZW5kcG9pbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcihcbiAgICAgICAgICAnTXVzdCBwcm92aWRlIG9uZSBvZiB0aGUgYGJhc2VVUkxgIG9yIGBlbmRwb2ludGAgYXJndW1lbnRzLCBvciB0aGUgYEFaVVJFX09QRU5BSV9FTkRQT0lOVGAgZW52aXJvbm1lbnQgdmFyaWFibGUnLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBiYXNlVVJMID0gYCR7ZW5kcG9pbnR9L29wZW5haWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbmRwb2ludCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKCdiYXNlVVJMIGFuZCBlbmRwb2ludCBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3VwZXIoe1xuICAgICAgYXBpS2V5LFxuICAgICAgYmFzZVVSTCxcbiAgICAgIC4uLm9wdHMsXG4gICAgICAuLi4oZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXIgIT09IHVuZGVmaW5lZCA/IHsgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXIgfSA6IHt9KSxcbiAgICB9KTtcblxuICAgIHRoaXMuX2F6dXJlQURUb2tlblByb3ZpZGVyID0gYXp1cmVBRFRva2VuUHJvdmlkZXI7XG4gICAgdGhpcy5hcGlWZXJzaW9uID0gYXBpVmVyc2lvbjtcbiAgICB0aGlzLmRlcGxveW1lbnROYW1lID0gZGVwbG95bWVudDtcbiAgfVxuXG4gIG92ZXJyaWRlIGJ1aWxkUmVxdWVzdChcbiAgICBvcHRpb25zOiBDb3JlLkZpbmFsUmVxdWVzdE9wdGlvbnM8dW5rbm93bj4sXG4gICAgcHJvcHM6IHsgcmV0cnlDb3VudD86IG51bWJlciB9ID0ge30sXG4gICk6IHtcbiAgICByZXE6IFJlcXVlc3RJbml0O1xuICAgIHVybDogc3RyaW5nO1xuICAgIHRpbWVvdXQ6IG51bWJlcjtcbiAgfSB7XG4gICAgaWYgKF9kZXBsb3ltZW50c19lbmRwb2ludHMuaGFzKG9wdGlvbnMucGF0aCkgJiYgb3B0aW9ucy5tZXRob2QgPT09ICdwb3N0JyAmJiBvcHRpb25zLmJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCFDb3JlLmlzT2JqKG9wdGlvbnMuYm9keSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCByZXF1ZXN0IGJvZHkgdG8gYmUgYW4gb2JqZWN0Jyk7XG4gICAgICB9XG4gICAgICBjb25zdCBtb2RlbCA9IHRoaXMuZGVwbG95bWVudE5hbWUgfHwgb3B0aW9ucy5ib2R5Wydtb2RlbCddIHx8IG9wdGlvbnMuX19tZXRhZGF0YT8uWydtb2RlbCddO1xuICAgICAgaWYgKG1vZGVsICE9PSB1bmRlZmluZWQgJiYgIXRoaXMuYmFzZVVSTC5pbmNsdWRlcygnL2RlcGxveW1lbnRzJykpIHtcbiAgICAgICAgb3B0aW9ucy5wYXRoID0gYC9kZXBsb3ltZW50cy8ke21vZGVsfSR7b3B0aW9ucy5wYXRofWA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5idWlsZFJlcXVlc3Qob3B0aW9ucywgcHJvcHMpO1xuICB9XG5cbiAgYXN5bmMgX2dldEF6dXJlQURUb2tlbigpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgIGlmICh0eXBlb2YgdGhpcy5fYXp1cmVBRFRva2VuUHJvdmlkZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5fYXp1cmVBRFRva2VuUHJvdmlkZXIoKTtcbiAgICAgIGlmICghdG9rZW4gfHwgdHlwZW9mIHRva2VuICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKFxuICAgICAgICAgIGBFeHBlY3RlZCAnYXp1cmVBRFRva2VuUHJvdmlkZXInIGFyZ3VtZW50IHRvIHJldHVybiBhIHN0cmluZyBidXQgaXQgcmV0dXJuZWQgJHt0b2tlbn1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGF1dGhIZWFkZXJzKG9wdHM6IENvcmUuRmluYWxSZXF1ZXN0T3B0aW9ucyk6IENvcmUuSGVhZGVycyB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGFzeW5jIHByZXBhcmVPcHRpb25zKG9wdHM6IENvcmUuRmluYWxSZXF1ZXN0T3B0aW9uczx1bmtub3duPik6IFByb21pc2U8dm9pZD4ge1xuICAgIC8qKlxuICAgICAqIFRoZSB1c2VyIHNob3VsZCBwcm92aWRlIGEgYmVhcmVyIHRva2VuIHByb3ZpZGVyIGlmIHRoZXkgd2FudFxuICAgICAqIHRvIHVzZSBBenVyZSBBRCBhdXRoZW50aWNhdGlvbi4gVGhlIHVzZXIgc2hvdWxkbid0IHNldCB0aGVcbiAgICAgKiBBdXRob3JpemF0aW9uIGhlYWRlciBtYW51YWxseSBiZWNhdXNlIHRoZSBoZWFkZXIgaXMgb3ZlcndyaXR0ZW5cbiAgICAgKiB3aXRoIHRoZSBBenVyZSBBRCB0b2tlbiBpZiBhIGJlYXJlciB0b2tlbiBwcm92aWRlciBpcyBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBpZiAob3B0cy5oZWFkZXJzPy5bJ2FwaS1rZXknXSkge1xuICAgICAgcmV0dXJuIHN1cGVyLnByZXBhcmVPcHRpb25zKG9wdHMpO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuX2dldEF6dXJlQURUb2tlbigpO1xuICAgIG9wdHMuaGVhZGVycyA/Pz0ge307XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBvcHRzLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgIH0gZWxzZSBpZiAodGhpcy5hcGlLZXkgIT09IEFQSV9LRVlfU0VOVElORUwpIHtcbiAgICAgIG9wdHMuaGVhZGVyc1snYXBpLWtleSddID0gdGhpcy5hcGlLZXk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoJ1VuYWJsZSB0byBoYW5kbGUgYXV0aCcpO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIucHJlcGFyZU9wdGlvbnMob3B0cyk7XG4gIH1cbn1cblxuY29uc3QgX2RlcGxveW1lbnRzX2VuZHBvaW50cyA9IG5ldyBTZXQoW1xuICAnL2NvbXBsZXRpb25zJyxcbiAgJy9jaGF0L2NvbXBsZXRpb25zJyxcbiAgJy9lbWJlZGRpbmdzJyxcbiAgJy9hdWRpby90cmFuc2NyaXB0aW9ucycsXG4gICcvYXVkaW8vdHJhbnNsYXRpb25zJyxcbiAgJy9hdWRpby9zcGVlY2gnLFxuICAnL2ltYWdlcy9nZW5lcmF0aW9ucycsXG5dKTtcblxuY29uc3QgQVBJX0tFWV9TRU5USU5FTCA9ICc8TWlzc2luZyBLZXk+JztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFbmQgQXp1cmUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgeyB0b0ZpbGUsIGZpbGVGcm9tUGF0aCB9IGZyb20gJy4vdXBsb2Fkcyc7XG5leHBvcnQge1xuICBPcGVuQUlFcnJvcixcbiAgQVBJRXJyb3IsXG4gIEFQSUNvbm5lY3Rpb25FcnJvcixcbiAgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcixcbiAgQVBJVXNlckFib3J0RXJyb3IsXG4gIE5vdEZvdW5kRXJyb3IsXG4gIENvbmZsaWN0RXJyb3IsXG4gIFJhdGVMaW1pdEVycm9yLFxuICBCYWRSZXF1ZXN0RXJyb3IsXG4gIEF1dGhlbnRpY2F0aW9uRXJyb3IsXG4gIEludGVybmFsU2VydmVyRXJyb3IsXG4gIFBlcm1pc3Npb25EZW5pZWRFcnJvcixcbiAgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yLFxufSBmcm9tICcuL2Vycm9yJztcblxuZXhwb3J0IGRlZmF1bHQgT3BlbkFJO1xuIiwgImltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBFZGl0b3IgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IE9wZW5BSVNldHRpbmdzIH0gZnJvbSBcIi5cIjtcbmltcG9ydCB7IENvbXBsZXRpb25PcHRpb25zIH0gZnJvbSBcInNyYy9zZXR0aW5ncy9zZXR0aW5nc1wiO1xuaW1wb3J0IE9wZW5BSSBmcm9tIFwib3BlbmFpXCI7XG5cbmV4cG9ydCBjbGFzcyBPcGVuQUlQcm92aWRlciBpbXBsZW1lbnRzIFByb3ZpZGVyIHtcbiAgICBjbGllbnQ6IE9wZW5BSTtcbiAgICBzZXR0aW5nczogT3BlbkFJU2V0dGluZ3M7XG4gICAgYWJvcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGFib3J0Y29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyO1xuXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3M6IE9wZW5BSVNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJKHtcbiAgICAgICAgICAgIGFwaUtleTogdGhpcy5zZXR0aW5ncy5hcGlLZXksXG4gICAgICAgICAgICBkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgKmdlbmVyYXRlKGVkaXRvcjogRWRpdG9yLCBvcHRpb25zOiBDb21wbGV0aW9uT3B0aW9ucyk6IEFzeW5jR2VuZXJhdG9yPHN0cmluZz4ge1xuICAgICAgICB0aGlzLmFib3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hYm9ydGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbFBvc2l0aW9uID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgICAgICBjb25zdCBwcm9tcHQgPSBwcmVwYXJlUHJvbXB0KGVkaXRvciwgb3B0aW9ucy51c2VyUHJvbXB0KTtcblxuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgICAgICBtb2RlbDogb3B0aW9ucy5tb2RlbCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAgICAgICAgeyByb2xlOiBcInN5c3RlbVwiLCBjb250ZW50OiBvcHRpb25zLnN5c3RlbVByb21wdCB9LFxuICAgICAgICAgICAgICAgIHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IHByb21wdCB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgdGVtcGVyYXR1cmU6IG9wdGlvbnMudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICBzdHJlYW06IHRydWUsXG4gICAgICAgIH0sIHsgc2lnbmFsOiB0aGlzLmFib3J0Y29udHJvbGxlci5zaWduYWwgfSk7XG5cbiAgICAgICAgbGV0IGNvbXBsZXRpb24gPSBcIlwiO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuY3Vyc29yTW92ZWQoZWRpdG9yLCBpbml0aWFsUG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGNodW5rLmNob2ljZXNbMF0/LmRlbHRhPy5jb250ZW50IHx8IFwiXCI7XG4gICAgICAgICAgICBjb21wbGV0aW9uICs9IGNvbnRlbnQ7XG4gICAgICAgICAgICB5aWVsZCBjb21wbGV0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFib3J0ZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hYm9ydGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVNb2RlbHMoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tb2RlbHM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb2RlbHMgPSBhd2FpdCB0aGlzLmNsaWVudC5tb2RlbHMubGlzdCgpO1xuICAgICAgICAvLyBGaWx0ZXIgZm9yIGNoYXQgbW9kZWxzIG9ubHlcbiAgICAgICAgY29uc3QgY2hhdE1vZGVscyA9IG1vZGVscy5kYXRhXG4gICAgICAgICAgICAuZmlsdGVyKG1vZGVsID0+IG1vZGVsLmlkLmluY2x1ZGVzKFwiZ3B0XCIpKVxuICAgICAgICAgICAgLm1hcChtb2RlbCA9PiBtb2RlbC5pZCk7XG5cbiAgICAgICAgdGhpcy5zZXR0aW5ncy5tb2RlbHMgPSBjaGF0TW9kZWxzO1xuICAgICAgICByZXR1cm4gY2hhdE1vZGVscztcbiAgICB9XG5cbiAgICBhc3luYyBjb25uZWN0aW9uVGVzdCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xpZW50Lm1vZGVscy5saXN0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB0ZXN0aW5nIGNvbm5lY3Rpb246XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3Vyc29yTW92ZWQoZWRpdG9yOiBFZGl0b3IsIGluaXRpYWxQb3NpdGlvbjogeyBsaW5lOiBudW1iZXIsIGNoOiBudW1iZXIgfSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50UG9zaXRpb24ubGluZSAhPT0gaW5pdGlhbFBvc2l0aW9uLmxpbmUgfHwgY3VycmVudFBvc2l0aW9uLmNoICE9PSBpbml0aWFsUG9zaXRpb24uY2g7XG4gICAgfVxufVxuXG4vLyBJbXBvcnQgdGhpcyBhdCB0aGUgZW5kIHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3kgaXNzdWVzXG5pbXBvcnQgcHJlcGFyZVByb21wdCBmcm9tIFwic3JjL3Byb21wdC9wcm9tcHRcIjsiLCAiaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IEVkaXRvciB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgT3BlbkFJQ29tcGF0aWJsZVNldHRpbmdzIH0gZnJvbSBcIi5cIjtcbmltcG9ydCB7IENvbXBsZXRpb25PcHRpb25zIH0gZnJvbSBcInNyYy9zZXR0aW5ncy9zZXR0aW5nc1wiO1xuaW1wb3J0IE9wZW5BSSBmcm9tIFwib3BlbmFpXCI7XG5cbmV4cG9ydCBjbGFzcyBPcGVuQUlDb21wYXRpYmxlUHJvdmlkZXIgaW1wbGVtZW50cyBQcm92aWRlciB7XG4gICAgY2xpZW50OiBPcGVuQUk7XG4gICAgc2V0dGluZ3M6IE9wZW5BSUNvbXBhdGlibGVTZXR0aW5ncztcbiAgICBhYm9ydGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgYWJvcnRjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5nczogT3BlbkFJQ29tcGF0aWJsZVNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJKHtcbiAgICAgICAgICAgIGJhc2VVUkw6IHRoaXMuc2V0dGluZ3MuYmFzZVVybCxcbiAgICAgICAgICAgIGFwaUtleTogdGhpcy5zZXR0aW5ncy5hcGlLZXksXG4gICAgICAgICAgICBkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgKmdlbmVyYXRlKGVkaXRvcjogRWRpdG9yLCBvcHRpb25zOiBDb21wbGV0aW9uT3B0aW9ucyk6IEFzeW5jR2VuZXJhdG9yPHN0cmluZz4ge1xuICAgICAgICB0aGlzLmFib3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hYm9ydGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbFBvc2l0aW9uID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgICAgICBjb25zdCBwcm9tcHQgPSBwcmVwYXJlUHJvbXB0KGVkaXRvciwgb3B0aW9ucy51c2VyUHJvbXB0KTtcblxuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgICAgICBtb2RlbDogb3B0aW9ucy5tb2RlbCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAgICAgICAgeyByb2xlOiBcInN5c3RlbVwiLCBjb250ZW50OiBvcHRpb25zLnN5c3RlbVByb21wdCB9LFxuICAgICAgICAgICAgICAgIHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IHByb21wdCB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgdGVtcGVyYXR1cmU6IG9wdGlvbnMudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICBzdHJlYW06IHRydWUsXG4gICAgICAgIH0sIHsgc2lnbmFsOiB0aGlzLmFib3J0Y29udHJvbGxlci5zaWduYWwgfSk7XG5cbiAgICAgICAgbGV0IGNvbXBsZXRpb24gPSBcIlwiO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnNvck1vdmVkKGVkaXRvciwgaW5pdGlhbFBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjaHVuay5jaG9pY2VzWzBdPy5kZWx0YT8uY29udGVudCB8fCBcIlwiO1xuICAgICAgICAgICAgY29tcGxldGlvbiArPSBjb250ZW50O1xuICAgICAgICAgICAgeWllbGQgY29tcGxldGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYWJvcnRjb250cm9sbGVyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlTW9kZWxzKCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubW9kZWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbW9kZWxzID0gYXdhaXQgdGhpcy5jbGllbnQubW9kZWxzLmxpc3QoKTtcbiAgICAgICAgLy8gRmlsdGVyIGZvciBjaGF0IG1vZGVscyBvbmx5XG4gICAgICAgIGNvbnN0IGNoYXRNb2RlbHMgPSBtb2RlbHMuZGF0YVxuICAgICAgICAgICAgLmZpbHRlcihtb2RlbCA9PiBtb2RlbC5pZC5pbmNsdWRlcyhcImdwdFwiKSlcbiAgICAgICAgICAgIC5tYXAobW9kZWwgPT4gbW9kZWwuaWQpO1xuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MubW9kZWxzID0gY2hhdE1vZGVscztcbiAgICAgICAgcmV0dXJuIGNoYXRNb2RlbHM7XG4gICAgfVxuXG4gICAgYXN5bmMgY29ubmVjdGlvblRlc3QoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5tb2RlbHMubGlzdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdGVzdGluZyBjb25uZWN0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGN1cnNvck1vdmVkKGVkaXRvcjogRWRpdG9yLCBpbml0aWFsUG9zaXRpb246IHsgbGluZTogbnVtYmVyLCBjaDogbnVtYmVyIH0pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgICAgICByZXR1cm4gY3VycmVudFBvc2l0aW9uLmxpbmUgIT09IGluaXRpYWxQb3NpdGlvbi5saW5lIHx8IGN1cnJlbnRQb3NpdGlvbi5jaCAhPT0gaW5pdGlhbFBvc2l0aW9uLmNoO1xuICAgIH1cbn1cblxuLy8gSW1wb3J0IHRoaXMgYXQgdGhlIGVuZCB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5IGlzc3Vlc1xuaW1wb3J0IHByZXBhcmVQcm9tcHQgZnJvbSBcInNyYy9wcm9tcHQvcHJvbXB0XCI7IiwgImltcG9ydCBJbnNjcmliZSBmcm9tIFwic3JjL21haW5cIjtcbmltcG9ydCB7IFByb3ZpZGVyLCBQcm92aWRlclR5cGUgfSBmcm9tIFwic3JjL3Byb3ZpZGVyc1wiO1xuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBPbGxhbWFQcm92aWRlciB9IGZyb20gXCIuL29sbGFtYVwiO1xuaW1wb3J0IHsgT3BlbkFJUHJvdmlkZXIgfSBmcm9tIFwiLi9vcGVuYWlcIjtcbmltcG9ydCB7IE9wZW5BSUNvbXBhdGlibGVQcm92aWRlciB9IGZyb20gXCIuL29wZW5haS1jb21wYXRcIjtcblxuaW50ZXJmYWNlIFByb3ZpZGVycyB7XG4gICAgW1Byb3ZpZGVyVHlwZS5PTExBTUFdOiBPbGxhbWFQcm92aWRlcixcbiAgICBbUHJvdmlkZXJUeXBlLk9QRU5BSV06IE9wZW5BSVByb3ZpZGVyLFxuICAgIFtQcm92aWRlclR5cGUuT1BFTkFJX0NPTVBBVElCTEVdOiBPcGVuQUlDb21wYXRpYmxlUHJvdmlkZXJcbn1cblxuZXhwb3J0IGNsYXNzIFByb3ZpZGVyRmFjdG9yeSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5nczogU2V0dGluZ3M7XG4gICAgcHJpdmF0ZSBwcm92aWRlcnM6IFByb3ZpZGVycztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBJbnNjcmliZSkge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3M7XG4gICAgICAgIHRoaXMucHJvdmlkZXJzID0gdGhpcy5idWlsZFByb3ZpZGVycyh0aGlzLnNldHRpbmdzKTtcbiAgICB9XG5cbiAgICByZWJ1aWxkUHJvdmlkZXJzKCkge1xuICAgICAgICB0aGlzLnByb3ZpZGVycyA9IHRoaXMuYnVpbGRQcm92aWRlcnModGhpcy5zZXR0aW5ncyk7XG4gICAgfVxuXG4gICAgZ2V0UHJvdmlkZXIocHJvdmlkZXI6IFByb3ZpZGVyVHlwZSk6IFByb3ZpZGVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzW3Byb3ZpZGVyXTtcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVNb2RlbHMocHJvdmlkZXI6IFByb3ZpZGVyVHlwZSk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzW3Byb3ZpZGVyXS51cGRhdGVNb2RlbHMoKTtcbiAgICB9XG5cbiAgICBhc3luYyBjb25uZWN0aW9uVGVzdChwcm92aWRlcjogUHJvdmlkZXJUeXBlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyc1twcm92aWRlcl0uY29ubmVjdGlvblRlc3QoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkUHJvdmlkZXJzKHNldHRpbmdzOiBTZXR0aW5ncyk6IFByb3ZpZGVycyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbUHJvdmlkZXJUeXBlLk9MTEFNQV06IG5ldyBPbGxhbWFQcm92aWRlcihzZXR0aW5ncy5wcm92aWRlcnMub2xsYW1hKSxcbiAgICAgICAgICAgIFtQcm92aWRlclR5cGUuT1BFTkFJXTogbmV3IE9wZW5BSVByb3ZpZGVyKHNldHRpbmdzLnByb3ZpZGVycy5vcGVuYWkpLFxuICAgICAgICAgICAgW1Byb3ZpZGVyVHlwZS5PUEVOQUlfQ09NUEFUSUJMRV06IG5ldyBPcGVuQUlDb21wYXRpYmxlUHJvdmlkZXIoc2V0dGluZ3MucHJvdmlkZXJzLm9wZW5haV9jb21wYXRpYmxlKSxcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgUHJvdmlkZXJUeXBlIH0gZnJvbSBcInNyYy9wcm92aWRlcnNcIjtcbmltcG9ydCB7IFNwbGl0U3RyYXRlZ3kgfSBmcm9tIFwic3JjL2V4dGVuc2lvblwiO1xuaW1wb3J0IHsgT2xsYW1hU2V0dGluZ3MgfSBmcm9tIFwic3JjL3Byb3ZpZGVycy9vbGxhbWFcIjtcbmltcG9ydCB7IE9wZW5BSVNldHRpbmdzIH0gZnJvbSBcInNyYy9wcm92aWRlcnMvb3BlbmFpXCI7XG5pbXBvcnQgeyBPcGVuQUlDb21wYXRpYmxlU2V0dGluZ3MgfSBmcm9tIFwic3JjL3Byb3ZpZGVycy9vcGVuYWktY29tcGF0XCI7XG5cbi8vIENvbXBsZXRpb24gb3B0aW9ucyBmb3IgYSBwcm9maWxlXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25PcHRpb25zIHtcbiAgICBtb2RlbDogc3RyaW5nLFxuICAgIHVzZXJQcm9tcHQ6IHN0cmluZyxcbiAgICBzeXN0ZW1Qcm9tcHQ6IHN0cmluZyxcbiAgICB0ZW1wZXJhdHVyZTogbnVtYmVyXG59XG5cbi8vIFByb2ZpbGUgc2V0dGluZ3NcbmV4cG9ydCBpbnRlcmZhY2UgUHJvZmlsZSB7XG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHByb3ZpZGVyOiBQcm92aWRlclR5cGUsXG4gICAgY29tcGxldGlvbk9wdGlvbnM6IENvbXBsZXRpb25PcHRpb25zLFxuICAgIGRlbGF5TXM6IG51bWJlcixcbiAgICBzcGxpdFN0cmF0ZWd5OiBTcGxpdFN0cmF0ZWd5XG59XG5cbmV4cG9ydCB0eXBlIFByb2ZpbGVJZCA9IHN0cmluZztcbmV4cG9ydCB0eXBlIFByb2ZpbGVzID0gUmVjb3JkPFByb2ZpbGVJZCwgUHJvZmlsZT5cbmV4cG9ydCB0eXBlIFBhdGggPSBzdHJpbmc7XG5leHBvcnQgdHlwZSBQYXRoQ29uZmlnID0geyBwcm9maWxlOiBQcm9maWxlSWQsIGVuYWJsZWQ6IGJvb2xlYW4gfTtcbmV4cG9ydCBpbnRlcmZhY2UgU2V0dGluZ3Mge1xuICAgIGVuYWJsZWQ6IGJvb2xlYW4sXG4gICAgLy8gYXZhaWxhYmxlIHByb3ZpZGVyc1xuICAgIHByb3ZpZGVyczoge1xuICAgICAgICBvbGxhbWE6IE9sbGFtYVNldHRpbmdzLFxuICAgICAgICBvcGVuYWk6IE9wZW5BSVNldHRpbmdzLFxuICAgICAgICBvcGVuYWlfY29tcGF0aWJsZTogT3BlbkFJQ29tcGF0aWJsZVNldHRpbmdzLFxuICAgIH0sXG4gICAgLy8gcHJvZmlsZXNcbiAgICBwcm9maWxlczogUHJvZmlsZXMsXG4gICAgLy8gcGF0aCB0byBwcm9maWxlIG1hcHBpbmdzXG4gICAgcGF0aF9jb25maWdzOiBSZWNvcmQ8UGF0aCwgUGF0aENvbmZpZz4sXG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1BST0ZJTEU6IFByb2ZpbGVJZCA9IFwiZGVmYXVsdFwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUEFUSCA9IFwiL1wiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFNldHRpbmdzID0ge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIHByb3ZpZGVyczoge1xuICAgICAgICBvcGVuYWk6IHtcbiAgICAgICAgICAgIGludGVncmF0aW9uOiBQcm92aWRlclR5cGUuT1BFTkFJLFxuICAgICAgICAgICAgbmFtZTogXCJPcGVuIEFJXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJVc2UgT3BlbkFJIEFQSXMgdG8gZ2VuZXJhdGUgdGV4dC5cIixcbiAgICAgICAgICAgIGFwaUtleTogXCJhcGkta2V5XCIsXG4gICAgICAgICAgICBtb2RlbDogXCJncHQtNG8tbWluaVwiLFxuICAgICAgICAgICAgbW9kZWxzOiBbXCJncHQtNG9cIiwgXCJncHQtNG8tbWluaVwiXSxcbiAgICAgICAgICAgIGNvbmZpZ3VyZWQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBvbGxhbWE6IHtcbiAgICAgICAgICAgIGludGVncmF0aW9uOiBQcm92aWRlclR5cGUuT0xMQU1BLFxuICAgICAgICAgICAgbmFtZTogXCJPbGxhbWFcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlVzZSB5b3VyIG93biBPbGxhbWEgaW5zdGFuY2UgdG8gZ2VuZXJhdGUgdGV4dC5cIixcbiAgICAgICAgICAgIGhvc3Q6IFwiaHR0cDovL2xvY2FsaG9zdDoxMTQzNFwiLFxuICAgICAgICAgICAgbW9kZWxzOiBbXCJsbGFtYTMuMjpsYXRlc3RcIiwgXCJtaXN0cmFsLW5lbW9cIl0sXG4gICAgICAgICAgICBjb25maWd1cmVkOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgb3BlbmFpX2NvbXBhdGlibGU6IHtcbiAgICAgICAgICAgIGludGVncmF0aW9uOiBQcm92aWRlclR5cGUuT1BFTkFJX0NPTVBBVElCTEUsXG4gICAgICAgICAgICBuYW1lOiBcIk9wZW5BSSBDb21wYXRpYmxlXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJVc2UgT3BlbkFJIGNvbXBhdGlibGUgQVBJcyB0byBnZW5lcmF0ZSBjb21wbGV0aW9ucy5cIixcbiAgICAgICAgICAgIGFwaUtleTogXCJhcGkta2V5XCIsXG4gICAgICAgICAgICBiYXNlVXJsOiBcImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFcIixcbiAgICAgICAgICAgIG1vZGVsOiBcImdwdC00by1taW5pXCIsXG4gICAgICAgICAgICBtb2RlbHM6IFtcImdwdC00b1wiLCBcImdwdC00by1taW5pXCJdLFxuICAgICAgICAgICAgY29uZmlndXJlZDogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBwcm9maWxlczoge1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBuYW1lOiBcIkRlZmF1bHQgUHJvZmlsZVwiLFxuICAgICAgICAgICAgcHJvdmlkZXI6IFByb3ZpZGVyVHlwZS5PTExBTUEsXG4gICAgICAgICAgICBkZWxheU1zOiA1MDAsXG4gICAgICAgICAgICBzcGxpdFN0cmF0ZWd5OiBcInNlbnRlbmNlXCIsXG4gICAgICAgICAgICBjb21wbGV0aW9uT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIG1vZGVsOiBcImdlbW1hMzoxMmJcIixcbiAgICAgICAgICAgICAgICB1c2VyUHJvbXB0OiAnSWYgdGhlIGxhc3Qgc2VudGVuY2UgaXMgaW5jb21wbGV0ZSwgb25seSBjb21wbGV0ZSB0aGUgc2VudGVuY2UgYW5kIG5vdGhpbmcgZWxzZS4gSWYgdGhlIGxhc3Qgc2VudGVuY2UgaXMgY29tcGxldGUsIGdlbmVyYXRlIGEgbmV3IHNlbnRlbmNlIHRoYXQgZm9sbG93cyBsb2dpY2FsbHk6XFxuLS0tXFxue3twcmVfY3Vyc29yfX0nLFxuICAgICAgICAgICAgICAgIHN5c3RlbVByb21wdDogXCJZb3UgYXJlIGEgd3JpdGluZyBhc3Npc3RhbnQgdGhhdCBwcmVkaWN0cyBhbmQgY29tcGxldGVzIHNlbnRlbmNlcyBpbiBhIG5hdHVyYWwsIGNvbnRleHQtYXdhcmUgbWFubmVyLiBZb3VyIGdvYWwgaXMgdG8gY29udGludWUgdGhlIHVzZXJcdTIwMTlzIHRleHQgc21vb3RobHksIG1haW50YWluaW5nIGNvaGVyZW5jZSwgZmx1ZW5jeSwgYW5kIHN0eWxlLiBBZGFwdCB0byB0aGUgdXNlclx1MjAxOXMgd3JpdGluZyB0b25lLCB3aGV0aGVyIGZvcm1hbCwgaW5mb3JtYWwsIGNyZWF0aXZlLCBvciB0ZWNobmljYWwuIEVuc3VyZSB0aGF0IGNvbXBsZXRpb25zIGZlZWwgaW50dWl0aXZlLCB1c2VmdWwsIGFuZCBmcmVlIG9mIHVubmVjZXNzYXJ5IHJlcGV0aXRpb24uIERvIG5vdCBnZW5lcmF0ZSBjb21wbGV0aW9uIHRoYXQgaW5jbHVkZXMgdGhlIHByb21wdCBpdHNlbGYuXCIsXG4gICAgICAgICAgICAgICAgdGVtcGVyYXR1cmU6IDAuNSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHBhdGhfY29uZmlnczoge1xuICAgICAgICBcIi9cIjoge1xuICAgICAgICAgICAgcHJvZmlsZTogREVGQVVMVF9QUk9GSUxFLFxuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcblxuLy8gQ3JlYXRlIGEgbmV3IHByb2ZpbGUgYW5kIHJldHVybiB0aGUgaWRcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9maWxlKHNldHRpbmdzOiBTZXR0aW5ncyk6IHN0cmluZyB7XG4gICAgY29uc3QgcHJvZmlsZXMgPSBzZXR0aW5ncy5wcm9maWxlcztcbiAgICBjb25zdCBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA2KTtcblxuICAgIC8vIGdlbmVyYXRlIGEgbmV3IHByb2ZpbGUgbmFtZVxuICAgIGxldCBuYW1lID0gXCJOZXcgUHJvZmlsZVwiO1xuICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgcHJvZmlsZXMgdG8gbWFrZSBzdXJlIHRoZSBuYW1lIGlzIHVuaXF1ZVxuICAgIGxldCBpID0gMTtcbiAgICBPYmplY3QuZW50cmllcyhwcm9maWxlcykuZm9yRWFjaCgoWywgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gYE5ldyBQcm9maWxlICR7aX1gO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBjb3B5IHRoZSBkZWZhdWx0IHByb2ZpbGVcbiAgICBjb25zdCBkZWZhdWx0UHJvZmlsZSA9IHByb2ZpbGVzW0RFRkFVTFRfUFJPRklMRV07XG4gICAgY29uc3QgcHJvZmlsZSA9IHtcbiAgICAgICAgLi4uZGVmYXVsdFByb2ZpbGUsXG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgfTtcblxuICAgIC8vIGFkZCB0aGUgbmV3IHByb2ZpbGVcbiAgICBwcm9maWxlc1tpZF0gPSBwcm9maWxlO1xuXG4gICAgcmV0dXJuIGlkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZFBhdGhDb25maWcoc2V0dGluZ3M6IFNldHRpbmdzLCBwYXRoOiBzdHJpbmcpOiBQYXRoQ29uZmlnIHtcbiAgICByZXR1cm4gc2V0dGluZ3MucGF0aF9jb25maWdzW3BhdGhdIHx8IHNldHRpbmdzLnBhdGhfY29uZmlnc1tERUZBVUxUX1BBVEhdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGF0aENvbmZpZyhzZXR0aW5nczogU2V0dGluZ3MsIHBhdGg6IHN0cmluZywgcHJvZmlsZTogUHJvZmlsZUlkKTogdm9pZCB7XG4gICAgcGF0aCA9IHBhdGggfHwgREVGQVVMVF9QQVRIO1xuICAgIHNldHRpbmdzLnBhdGhfY29uZmlnc1twYXRoXSA9IHsgcHJvZmlsZTogcHJvZmlsZSwgZW5hYmxlZDogdHJ1ZSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ3MpOiB2b2lkIHtcbiAgICBPYmplY3QuYXNzaWduKHNldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTKTtcbn0iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBCdXR0b25Db21wb25lbnQsIEV4dHJhQnV0dG9uQ29tcG9uZW50LCBEcm9wZG93bkNvbXBvbmVudCwgVGV4dENvbXBvbmVudCwgVG9nZ2xlQ29tcG9uZW50LCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFRFTVBMQVRFX1ZBUklBQkxFUyB9IGZyb20gXCJzcmMvcHJvbXB0L3Byb21wdFwiO1xuaW1wb3J0IHsgU3BsaXRTdHJhdGVneSB9IGZyb20gXCJzcmMvZXh0ZW5zaW9uXCI7XG5pbXBvcnQgSW5zY3JpYmUgZnJvbSBcInNyYy9tYWluXCI7XG5pbXBvcnQgeyBQcm92aWRlclR5cGUgfSBmcm9tIFwic3JjL3Byb3ZpZGVyc1wiO1xuaW1wb3J0IHsgY3JlYXRlUGF0aENvbmZpZywgREVGQVVMVF9QQVRILCBERUZBVUxUX1BST0ZJTEUsIFByb2ZpbGUsIHJlc2V0U2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgUHJvdmlkZXJTZXR0aW5nc01vZGFsIH0gZnJvbSAnLi9wcm92aWRlcic7XG5pbXBvcnQgeyBjcmVhdGVQcm9maWxlIH0gZnJvbSBcIi5cIjtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE1haW4gU2V0dGluZ3MgVGFiXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluc2NyaWJlU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICBwcml2YXRlIGdlbmVyYWxTZWN0aW9uOiBHZW5lcmFsU2VjdGlvbjtcbiAgICBwcml2YXRlIHByb3ZpZGVyc1NlY3Rpb246IFByb3ZpZGVyc1NlY3Rpb247XG4gICAgcHJpdmF0ZSBwcm9maWxlc1NlY3Rpb246IFByb2ZpbGVzU2VjdGlvbjtcbiAgICBwcml2YXRlIHBhdGhDb25maWdzU2VjdGlvbjogUGF0aENvbmZpZ3NTZWN0aW9uO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IEluc2NyaWJlKSB7XG4gICAgICAgIHN1cGVyKHBsdWdpbi5hcHAsIHBsdWdpbik7XG4gICAgfVxuXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xuXG4gICAgICAgIC8vIEdlbmVyYWwgU2VjdGlvblxuICAgICAgICBjb25zdCBnZW5lcmFsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5hcHBlbmRDaGlsZChnZW5lcmFsQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5nZW5lcmFsU2VjdGlvbiA9IG5ldyBHZW5lcmFsU2VjdGlvbihnZW5lcmFsQ29udGFpbmVyLCB0aGlzLnBsdWdpbiwgdGhpcy5kaXNwbGF5LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmdlbmVyYWxTZWN0aW9uLnJlbmRlcigpO1xuXG4gICAgICAgIC8vIFByb3ZpZGVycyBTZWN0aW9uXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQocHJvdmlkZXJzQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5wcm92aWRlcnNTZWN0aW9uID0gbmV3IFByb3ZpZGVyc1NlY3Rpb24ocHJvdmlkZXJzQ29udGFpbmVyLCB0aGlzLmFwcCwgdGhpcy5wbHVnaW4pO1xuICAgICAgICB0aGlzLnByb3ZpZGVyc1NlY3Rpb24ucmVuZGVyKCk7XG5cbiAgICAgICAgLy8gUHJvZmlsZXMgU2VjdGlvblxuICAgICAgICBjb25zdCBwcm9maWxlc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQocHJvZmlsZXNDb250YWluZXIpO1xuICAgICAgICB0aGlzLnByb2ZpbGVzU2VjdGlvbiA9IG5ldyBQcm9maWxlc1NlY3Rpb24ocHJvZmlsZXNDb250YWluZXIsIHRoaXMucGx1Z2luKTtcbiAgICAgICAgdGhpcy5wcm9maWxlc1NlY3Rpb24ucmVuZGVyKCk7XG5cbiAgICAgICAgLy8gUGF0aCBNYXBwaW5ncyBTZWN0aW9uXG4gICAgICAgIGNvbnN0IHBhdGhNYXBwaW5nc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQocGF0aE1hcHBpbmdzQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5wYXRoQ29uZmlnc1NlY3Rpb24gPSBuZXcgUGF0aENvbmZpZ3NTZWN0aW9uKHBhdGhNYXBwaW5nc0NvbnRhaW5lciwgdGhpcy5wbHVnaW4pO1xuICAgICAgICB0aGlzLnBhdGhDb25maWdzU2VjdGlvbi5yZW5kZXIoKTtcbiAgICB9XG59XG5cbi8vIEdlbmVyYWwgU2VjdGlvblxuY2xhc3MgR2VuZXJhbFNlY3Rpb24ge1xuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHBsdWdpbjogSW5zY3JpYmU7XG4gICAgcHJpdmF0ZSBkaXNwbGF5RnVuYzogKCkgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHBsdWdpbjogSW5zY3JpYmUsIGRpc3BsYXlGdW5jOiAoKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5kaXNwbGF5RnVuYyA9IGRpc3BsYXlGdW5jO1xuICAgIH1cblxuICAgIGFzeW5jIHJlbmRlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZW1wdHkoKTtcbiAgICAgICAgLy8gRW5hYmxlZFxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiRW5hYmxlZFwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJFbmFibGUgb3IgZGlzYWJsZSBjb21wbGV0aW9ucyBnbG9iYWxseVwiKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVkKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVkID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnN0YXR1c0Jhckl0ZW0ucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVzZXQgU2V0dGluZ3NcbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIlJlc2V0IFNldHRpbmdzXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlJlc2V0IGFsbCBzZXR0aW5ncyB0byBkZWZhdWx0XCIpXG4gICAgICAgICAgICAuYWRkQnV0dG9uKChidXR0b246IEJ1dHRvbkNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAuc2V0V2FybmluZygpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiUmVzZXRcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFRvb2x0aXAoXCJSZXNldCBzZXR0aW5ncyB0byBkZWZhdWx0XCIpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0U2V0dGluZ3ModGhpcy5wbHVnaW4uc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlGdW5jKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zdGF0dXNCYXJJdGVtLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShcIlNldHRpbmdzIHJlc2V0IHRvIGRlZmF1bHRcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUHJvdmlkZXJzIFNlY3Rpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuY2xhc3MgUHJvdmlkZXJzU2VjdGlvbiB7XG4gICAgcHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcGx1Z2luOiBJbnNjcmliZTtcbiAgICBwcml2YXRlIGFwcDogQXBwO1xuXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgYXBwOiBBcHAsIHBsdWdpbjogSW5zY3JpYmUpIHtcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB9XG5cbiAgICBhc3luYyByZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIlByb3ZpZGVyc1wiIH0pO1xuXG4gICAgICAgIC8vIE9sbGFtYSBQcm92aWRlclxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiT2xsYW1hXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkxvY2FsIEFJIHByb3ZpZGVyIHJ1bm5pbmcgb24geW91ciBtYWNoaW5lXCIpXG4gICAgICAgICAgICAuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbjogRXh0cmFCdXR0b25Db21wb25lbnQpID0+IHRoaXMuY3JlYXRlQ29uZmlndXJlQnV0dG9uKFxuICAgICAgICAgICAgICAgIGJ1dHRvbixcbiAgICAgICAgICAgICAgICBQcm92aWRlclR5cGUuT0xMQU1BLFxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVycy5vbGxhbWEuY29uZmlndXJlZCkpO1xuXG4gICAgICAgIC8vIE9wZW5BSSBQcm92aWRlclxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiT3BlbkFJXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIk9wZW5BSSBBUElcIilcbiAgICAgICAgICAgIC5hZGRFeHRyYUJ1dHRvbigoYnV0dG9uOiBFeHRyYUJ1dHRvbkNvbXBvbmVudCkgPT4gdGhpcy5jcmVhdGVDb25maWd1cmVCdXR0b24oXG4gICAgICAgICAgICAgICAgYnV0dG9uLFxuICAgICAgICAgICAgICAgIFByb3ZpZGVyVHlwZS5PUEVOQUksXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9wZW5haS5jb25maWd1cmVkKSk7XG5cbiAgICAgICAgLy8gT3BlbkFJIENvbXBhdGlibGUgUHJvdmlkZXJcbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIk9wZW5BSSBDb21wYXRpYmxlXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIk9wZW5BSSBjb21wYXRpYmxlIHByb3ZpZGVyXCIpXG4gICAgICAgICAgICAuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbjogRXh0cmFCdXR0b25Db21wb25lbnQpID0+IHRoaXMuY3JlYXRlQ29uZmlndXJlQnV0dG9uKFxuICAgICAgICAgICAgICAgIGJ1dHRvbixcbiAgICAgICAgICAgICAgICBQcm92aWRlclR5cGUuT1BFTkFJX0NPTVBBVElCTEUsXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9wZW5haV9jb21wYXRpYmxlLmNvbmZpZ3VyZWQpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUNvbmZpZ3VyZUJ1dHRvbihidXR0b246IEV4dHJhQnV0dG9uQ29tcG9uZW50LCB0eXBlOiBQcm92aWRlclR5cGUsIGNvbmZpZ3VyZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgYnV0dG9uLmV4dHJhU2V0dGluZ3NFbC5zZXRDc3NQcm9wcyh7XG4gICAgICAgICAgICBjb2xvcjogY29uZmlndXJlZCA/IFwidmFyKC0tdGV4dC1zdWNjZXNzKVwiIDogXCJ2YXIoLS10ZXh0LXdhcm5pbmcpXCIsXG4gICAgICAgIH0pO1xuICAgICAgICBidXR0b25cbiAgICAgICAgICAgIC5zZXRJY29uKGNvbmZpZ3VyZWQgPyBcImNvZ1wiIDogXCJjb2dcIilcbiAgICAgICAgICAgIC5zZXRUb29sdGlwKGNvbmZpZ3VyZWQgPyBcIlByb3ZpZGVyIGNvbmZpZ3VyZWRcIiA6IFwiUHJvdmlkZXIgbm90IGNvbmZpZ3VyZWRcIilcbiAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBuZXcgUHJvdmlkZXJTZXR0aW5nc01vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgdHlwZSkub3BlbigpXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQcm9maWxlcyBTZWN0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbmNsYXNzIFByb2ZpbGVzU2VjdGlvbiB7XG4gICAgcHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcGx1Z2luOiBJbnNjcmliZTtcbiAgICBwcml2YXRlIGRpc3BsYXllZFByb2ZpbGVJZDogc3RyaW5nID0gREVGQVVMVF9QUk9GSUxFO1xuICAgIHByaXZhdGUgc2VsZWN0aW9uQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHByb2ZpbGVDb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcGx1Z2luOiBJbnNjcmliZSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb250YWluZXJzIG9uY2VcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnByb2ZpbGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgIC8vIEFwcGVuZCB0aGVtIGluaXRpYWxseVxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGlvbkNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucHJvZmlsZUNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBDbGVhciBtYWluIGNvbnRhaW5lciBhbmQgcmUtYXBwZW5kIHN1Yi1jb250YWluZXJzXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIlByb2ZpbGVzXCIgfSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2VsZWN0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5wcm9maWxlQ29udGFpbmVyKTtcblxuICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclByb2ZpbGVTZWxlY3Rpb24oKTtcblxuICAgICAgICBjb25zdCBkaXNwbGF5ZWRQcm9maWxlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvZmlsZXNbdGhpcy5kaXNwbGF5ZWRQcm9maWxlSWRdO1xuICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclByb2ZpbGVTZXR0aW5ncyhkaXNwbGF5ZWRQcm9maWxlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJlbmRlclByb2ZpbGVTZWxlY3Rpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ29udGFpbmVyLmVtcHR5KCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5zZWxlY3Rpb25Db250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIk1hbmFnZSBwcm9maWxlXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlNlbGVjdCBhIHByb2ZpbGUgdG8gY29uZmlndXJlIGl0cyBzZXR0aW5nc1wiKVxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bjogRHJvcGRvd25Db21wb25lbnQpID0+IHRoaXMuY3JlYXRlUHJvZmlsZURyb3Bkb3duKGRyb3Bkb3duKSlcbiAgICAgICAgICAgIC5hZGRFeHRyYUJ1dHRvbigoYnV0dG9uOiBFeHRyYUJ1dHRvbkNvbXBvbmVudCkgPT4gdGhpcy5jcmVhdGVOZXdQcm9maWxlQnV0dG9uKGJ1dHRvbikpXG4gICAgICAgICAgICAuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbjogRXh0cmFCdXR0b25Db21wb25lbnQpID0+IHRoaXMuY3JlYXRlRGVsZXRlUHJvZmlsZUJ1dHRvbihidXR0b24pKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVByb2ZpbGVEcm9wZG93bihkcm9wZG93bjogRHJvcGRvd25Db21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvZmlsZXMpLmZvckVhY2goKFtpZCwgcHJvZmlsZV0pID0+IHtcbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbihpZCwgcHJvZmlsZS5uYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5kaXNwbGF5ZWRQcm9maWxlSWQpXG4gICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRQcm9maWxlSWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclByb2ZpbGVTZXR0aW5ncyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9maWxlc1t2YWx1ZV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVOZXdQcm9maWxlQnV0dG9uKGJ1dHRvbjogRXh0cmFCdXR0b25Db21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgYnV0dG9uXG4gICAgICAgICAgICAuc2V0SWNvbihcInBsdXNcIilcbiAgICAgICAgICAgIC5zZXRUb29sdGlwKFwiQ3JlYXRlIG5ldyBwcm9maWxlXCIpXG4gICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRQcm9maWxlSWQgPSBjcmVhdGVQcm9maWxlKHRoaXMucGx1Z2luLnNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVEZWxldGVQcm9maWxlQnV0dG9uKGJ1dHRvbjogRXh0cmFCdXR0b25Db21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaXNEZWZhdWx0ID0gdGhpcy5kaXNwbGF5ZWRQcm9maWxlSWQgPT09IERFRkFVTFRfUFJPRklMRTtcbiAgICAgICAgYnV0dG9uXG4gICAgICAgICAgICAuc2V0RGlzYWJsZWQoaXNEZWZhdWx0KVxuICAgICAgICAgICAgLnNldEljb24oXCJ0cmFzaFwiKVxuICAgICAgICAgICAgLnNldFRvb2x0aXAoaXNEZWZhdWx0ID8gXCJDYW5ub3QgZGVsZXRlIGRlZmF1bHQgcHJvZmlsZVwiIDogXCJEZWxldGUgcHJvZmlsZVwiKVxuICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9maWxlc1t0aGlzLmRpc3BsYXllZFByb2ZpbGVJZF07XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRQcm9maWxlSWQgPSBERUZBVUxUX1BST0ZJTEU7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVuZGVyUHJvZmlsZVNldHRpbmdzKHByb2ZpbGU6IFByb2ZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5wcm9maWxlQ29udGFpbmVyLmVtcHR5KCk7XG5cbiAgICAgICAgLy8gUHJvZmlsZSBOYW1lXG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMucHJvZmlsZUNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiUHJvZmlsZSBOYW1lXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIk5hbWUgb2YgdGhlIHByb2ZpbGVcIilcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZShwcm9maWxlLm5hbWUpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm9maWxlLm5hbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBQcm92aWRlciBTZWxlY3Rpb25cbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5wcm9maWxlQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJBSSBQcm92aWRlclwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJDaG9vc2UgeW91ciBwcmVmZXJyZWQgQUkgcHJvdmlkZXJcIilcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgICAgICBkcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFByb3ZpZGVyVHlwZS5PTExBTUEsIFwiT2xsYW1hXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oUHJvdmlkZXJUeXBlLk9QRU5BSSwgXCJPcGVuQUlcIilcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihQcm92aWRlclR5cGUuT1BFTkFJX0NPTVBBVElCTEUsIFwiT3BlbkFJIENvbXBhdGlibGVcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHByb2ZpbGUucHJvdmlkZXIpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWU6IFByb3ZpZGVyVHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZS5wcm92aWRlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclByb2ZpbGVTZXR0aW5ncyhwcm9maWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBNb2RlbCBTZWxlY3Rpb25cbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5wcm9maWxlQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJNb2RlbFwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJTZWxlY3QgdGhlIG1vZGVsIHRvIHVzZSBmb3IgY29tcGxldGlvbnNcIilcbiAgICAgICAgICAgIC5hZGRFeHRyYUJ1dHRvbigoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIC5zZXRJY29uKFwicmVmcmVzaC1jY3dcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFRvb2x0aXAoXCJVcGRhdGUgbW9kZWwgbGlzdFwiKVxuICAgICAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5wcm92aWRlckZhY3RvcnkudXBkYXRlTW9kZWxzKHByb2ZpbGUucHJvdmlkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclByb2ZpbGVTZXR0aW5ncyhwcm9maWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJNb2RlbCBsaXN0IHVwZGF0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hZGREcm9wZG93bihhc3luYyAoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbHMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcnNbcHJvZmlsZS5wcm92aWRlcl0ubW9kZWxzO1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb25zKE9iamVjdC5mcm9tRW50cmllcyhtb2RlbHMubWFwKChtb2RlbCkgPT4gW21vZGVsLCBtb2RlbF0pKSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHByb2ZpbGUuY29tcGxldGlvbk9wdGlvbnMubW9kZWwpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGUuY29tcGxldGlvbk9wdGlvbnMubW9kZWwgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGVtcGVyYXR1cmUgU2V0dGluZ1xuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLnByb2ZpbGVDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIlRlbXBlcmF0dXJlXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkNvbnRyb2wgdGhlIHJhbmRvbW5lc3Mgb2YgY29tcGxldGlvbnMgKDAgPSBkZXRlcm1pbmlzdGljLCAxID0gY3JlYXRpdmUpXCIpXG4gICAgICAgICAgICAuYWRkU2xpZGVyKChzbGlkZXIpID0+IHtcbiAgICAgICAgICAgICAgICBzbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgLnNldExpbWl0cygwLCAxLCAwLjEpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShwcm9maWxlLmNvbXBsZXRpb25PcHRpb25zLnRlbXBlcmF0dXJlKVxuICAgICAgICAgICAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlLmNvbXBsZXRpb25PcHRpb25zLnRlbXBlcmF0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBTdWdnZXN0aW9uIERlbGF5XG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMucHJvZmlsZUNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiU3VnZ2VzdGlvbiBEZWxheVwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJEZWxheSBpbiBtaWxsaXNlY29uZHMgYmVmb3JlIGZldGNoaW5nIHN1Z2dlc3Rpb25zXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKFwidHlwZVwiLCBcIm51bWJlclwiKTtcbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIjEwMDBcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyhwcm9maWxlLmRlbGF5TXMpKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlLmRlbGF5TXMgPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBTcGxpdCBTdHJhdGVneVxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLnByb2ZpbGVDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkNvbXBsZXRpb24gU3RyYXRlZ3lcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiQ2hvb3NlIGhvdyBjb21wbGV0aW9ucyBzaG91bGQgYmUgc3BsaXQgYW5kIGFjY2VwdGVkXCIpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIndvcmRcIiwgXCJXb3JkIGJ5IFdvcmRcIilcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInNlbnRlbmNlXCIsIFwiU2VudGVuY2UgYnkgU2VudGVuY2VcIilcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInBhcmFncmFwaFwiLCBcIlBhcmFncmFwaCBieSBQYXJhZ3JhcGhcIilcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImZ1bGxcIiwgXCJGdWxsIENvbXBsZXRpb25cIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHByb2ZpbGUuc3BsaXRTdHJhdGVneSlcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogU3BsaXRTdHJhdGVneSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZS5zcGxpdFN0cmF0ZWd5ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBTeXN0ZW0gUHJvbXB0XG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMucHJvZmlsZUNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiU3lzdGVtIFByb21wdFwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJTZXQgc3lzdGVtIHByb21wdFwiKVxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnJvd3MgPSA3O1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRDc3NTdHlsZXMoe1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZShwcm9maWxlLmNvbXBsZXRpb25PcHRpb25zLnN5c3RlbVByb21wdCkub25DaGFuZ2UoXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZS5jb21wbGV0aW9uT3B0aW9ucy5zeXN0ZW1Qcm9tcHQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVzZXIgUHJvbXB0XG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMucHJvZmlsZUNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiVXNlciBQcm9tcHRcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiVXNlciBwcm9tcHQgdGVtcGxhdGUuXCIpXG4gICAgICAgICAgICAuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAuc2V0SWNvbihcImxpc3RcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFRvb2x0aXAoXCJJbnNlcnQgbXVzdGFjaGUgdGVtcGxhdGUgdmFyaWFibGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGUuY29tcGxldGlvbk9wdGlvbnMudXNlclByb21wdCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVEVNUExBVEVfVkFSSUFCTEVTO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZS5jb21wbGV0aW9uT3B0aW9ucy51c2VyUHJvbXB0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQcm9maWxlU2V0dGluZ3MocHJvZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5yb3dzID0gNztcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0Q3NzU3R5bGVzKHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IFwidmVydGljYWxcIixcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUocHJvZmlsZS5jb21wbGV0aW9uT3B0aW9ucy51c2VyUHJvbXB0KS5vbkNoYW5nZShcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlLmNvbXBsZXRpb25PcHRpb25zLnVzZXJQcm9tcHQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBhdGggQ29uZmlncyBTZWN0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbmNsYXNzIFBhdGhDb25maWdzU2VjdGlvbiB7XG4gICAgcHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcGx1Z2luOiBJbnNjcmliZTtcbiAgICBwcml2YXRlIHRhYmxlQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHBsdWdpbjogSW5zY3JpYmUpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLnRhYmxlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB9XG5cbiAgICBhc3luYyByZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIlBhdGggQ29uZmlnc1wiIH0pO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jcmVhdGVFbChcInBcIiwge1xuICAgICAgICAgICAgdGV4dDogXCJZb3UgY2FuIGFzc2lnbiBwcm9maWxlcyB0byBwYXRocy4gUGF0aHMgYXJlIG1hdGNoZWQgYnkgcHJlZml4LCB3aXRoIGxvbmdlciBwYXRocyB0YWtpbmcgcHJlY2VkZW5jZS4gRm9yIGV4YW1wbGUsICcvRGFpbHknIHdpbGwgbWF0Y2ggYWxsIGZpbGVzIGluIHRoZSBEYWlseSBmb2xkZXIuXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGFibGVDb250YWluZXIpO1xuICAgICAgICBhd2FpdCB0aGlzLnJlbmRlck1hcHBpbmdzVGFibGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJlbmRlck1hcHBpbmdzVGFibGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMudGFibGVDb250YWluZXIuZW1wdHkoKTtcblxuICAgICAgICBjb25zdCB0YWJsZSA9IHRoaXMudGFibGVDb250YWluZXIuY3JlYXRlRWwoXCJ0YWJsZVwiLCB7IGNsczogXCJtYXBwaW5nLXRhYmxlXCIgfSk7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRhYmxlLmNyZWF0ZUVsKFwidHJcIik7XG4gICAgICAgIGhlYWRlci5jcmVhdGVFbChcInRoXCIsIHsgdGV4dDogXCJQYXRoXCIgfSk7XG4gICAgICAgIGhlYWRlci5jcmVhdGVFbChcInRoXCIsIHsgdGV4dDogXCJQcm9maWxlXCIgfSk7XG4gICAgICAgIGhlYWRlci5jcmVhdGVFbChcInRoXCIsIHsgdGV4dDogXCJcIiB9KTtcbiAgICAgICAgaGVhZGVyLmNyZWF0ZUVsKFwidGhcIiwgeyB0ZXh0OiBcIlwiIH0pO1xuXG4gICAgICAgIC8vIEFkZCBOZXcgTWFwcGluZyBSb3dcbiAgICAgICAgY29uc3QgbmV3Um93ID0gdGFibGUuY3JlYXRlRWwoXCJ0clwiLCB7IGNsczogXCJuZXctbWFwcGluZy1yb3dcIiB9KTtcbiAgICAgICAgbGV0IHBhdGhJbnB1dCA9IFwiXCI7XG4gICAgICAgIGxldCBzZWxlY3RlZFByb2ZpbGUgPSBERUZBVUxUX1BST0ZJTEU7XG5cbiAgICAgICAgLy8gUGF0aCBpbnB1dCBjZWxsXG4gICAgICAgIGNvbnN0IHBhdGhDZWxsID0gbmV3Um93LmNyZWF0ZUVsKFwidGRcIik7XG5cbiAgICAgICAgbmV3IFRleHRDb21wb25lbnQocGF0aENlbGwpXG4gICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciBwYXRoIChlLmcuLCBEYWlseS9Xb3JrKVwiKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHBhdGhJbnB1dCA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUHJvZmlsZSBkcm9wZG93biBjZWxsXG4gICAgICAgIGNvbnN0IHByb2ZpbGVDZWxsID0gbmV3Um93LmNyZWF0ZUVsKFwidGRcIik7XG4gICAgICAgIGNvbnN0IHByb2ZpbGVEcm9wZG93biA9IG5ldyBEcm9wZG93bkNvbXBvbmVudChwcm9maWxlQ2VsbClcbiAgICAgICAgICAgIC5zZXRWYWx1ZShzZWxlY3RlZFByb2ZpbGUpO1xuXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2ZpbGVzKS5mb3JFYWNoKChbaWQsIHByb2ZpbGVdKSA9PiB7XG4gICAgICAgICAgICBwcm9maWxlRHJvcGRvd24uYWRkT3B0aW9uKGlkLCBwcm9maWxlLm5hbWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwcm9maWxlRHJvcGRvd24ub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBzZWxlY3RlZFByb2ZpbGUgPSB2YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkIGJ1dHRvbiBjZWxsXG4gICAgICAgIG5ld1Jvdy5jcmVhdGVFbChcInRkXCIpO1xuICAgICAgICBjb25zdCBhY3Rpb25DZWxsID0gbmV3Um93LmNyZWF0ZUVsKFwidGRcIik7XG4gICAgICAgIG5ldyBFeHRyYUJ1dHRvbkNvbXBvbmVudChhY3Rpb25DZWxsKVxuICAgICAgICAgICAgLnNldEljb24oXCJwbHVzXCIpXG4gICAgICAgICAgICAuc2V0VG9vbHRpcChcIkFkZCBwcm9maWxlIG1hcHBpbmdcIilcbiAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhdGhJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKFwiUGF0aCBjYW5ub3QgYmUgZW1wdHlcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjcmVhdGVQYXRoQ29uZmlnKHRoaXMucGx1Z2luLnNldHRpbmdzLCBwYXRoSW5wdXQsIHNlbGVjdGVkUHJvZmlsZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEV4aXN0aW5nIE1hcHBpbmdzXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMucGx1Z2luLnNldHRpbmdzLnBhdGhfY29uZmlncykuZm9yRWFjaCgoW3BhdGgsIG1hcHBpbmddKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByb3cgPSB0YWJsZS5jcmVhdGVFbChcInRyXCIpO1xuICAgICAgICAgICAgY29uc3QgaXNEZWZhdWx0TWFwcGluZyA9IHBhdGggPT09IERFRkFVTFRfUEFUSDtcbiAgICAgICAgICAgIHJvdy5jcmVhdGVFbChcInRkXCIsIHsgdGV4dDogaXNEZWZhdWx0TWFwcGluZyA/IFwiUm9vdFwiIDogcGF0aCB9KTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIHByb2ZpbGUgY2VsbCB3aXRoIGRyb3Bkb3duXG4gICAgICAgICAgICBjb25zdCBwcm9maWxlQ2VsbCA9IHJvdy5jcmVhdGVFbChcInRkXCIpO1xuXG4gICAgICAgICAgICAvLyBGb3Igb3RoZXIgbWFwcGluZ3MsIHNob3cgZWRpdGFibGUgZHJvcGRvd25cbiAgICAgICAgICAgIGNvbnN0IHByb2ZpbGVEcm9wZG93biA9IG5ldyBEcm9wZG93bkNvbXBvbmVudChwcm9maWxlQ2VsbClcbiAgICAgICAgICAgICAgICAuc2V0RGlzYWJsZWQoaXNEZWZhdWx0TWFwcGluZyk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBwcm9maWxlIG9wdGlvbnNcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2ZpbGVzKS5mb3JFYWNoKChbaWQsIHByb2ZpbGVdKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvZmlsZURyb3Bkb3duLmFkZE9wdGlvbihpZCwgcHJvZmlsZS5uYW1lKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwcm9maWxlRHJvcGRvd24uc2V0VmFsdWUobWFwcGluZy5wcm9maWxlKTtcblxuICAgICAgICAgICAgLy8gSGFuZGxlIHByb2ZpbGUgY2hhbmdlXG4gICAgICAgICAgICBwcm9maWxlRHJvcGRvd24ub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgY3JlYXRlUGF0aENvbmZpZyh0aGlzLnBsdWdpbi5zZXR0aW5ncywgcGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUNlbGwgPSByb3cuY3JlYXRlRWwoXCJ0ZFwiKTtcbiAgICAgICAgICAgIG5ldyBFeHRyYUJ1dHRvbkNvbXBvbmVudChkZWxldGVDZWxsKVxuICAgICAgICAgICAgICAgIC5zZXRJY29uKFwidHJhc2hcIilcbiAgICAgICAgICAgICAgICAuc2V0RGlzYWJsZWQoaXNEZWZhdWx0TWFwcGluZylcbiAgICAgICAgICAgICAgICAuc2V0VG9vbHRpcChcIkRlbGV0ZSBtYXBwaW5nXCIpXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5wbHVnaW4uc2V0dGluZ3MucGF0aF9jb25maWdzW3BhdGhdO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQWRkIGVuYWJsZWQgY2hlY2tib3ggY2VsbFxuICAgICAgICAgICAgY29uc3QgZW5hYmxlZENlbGwgPSByb3cuY3JlYXRlRWwoXCJ0ZFwiKTtcbiAgICAgICAgICAgIG5ldyBUb2dnbGVDb21wb25lbnQoZW5hYmxlZENlbGwpXG4gICAgICAgICAgICAgICAgLnNldFRvb2x0aXAoXCJFbmFibGUvZGlzYWJsZSBtYXBwaW5nXCIpXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKG1hcHBpbmcuZW5hYmxlZClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnBhdGhfY29uZmlnc1twYXRoXS5lbmFibGVkID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zdGF0dXNCYXJJdGVtLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQXBwLCBNb2RhbCwgTm90aWNlLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgUHJvdmlkZXJUeXBlIH0gZnJvbSAnc3JjL3Byb3ZpZGVycyc7XG5pbXBvcnQgSW5zY3JpYmUgZnJvbSAnc3JjL21haW4nO1xuXG5leHBvcnQgY2xhc3MgUHJvdmlkZXJTZXR0aW5nc01vZGFsIGV4dGVuZHMgTW9kYWwge1xuICAgIHBsdWdpbjogSW5zY3JpYmU7XG4gICAgcHJvdmlkZXJUeXBlOiBQcm92aWRlclR5cGU7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBJbnNjcmliZSwgcHJvdmlkZXJUeXBlOiBQcm92aWRlclR5cGUpIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMucHJvdmlkZXJUeXBlID0gcHJvdmlkZXJUeXBlO1xuICAgICAgICB0aGlzLm1vZGFsRWwuYWRkQ2xhc3MoJ2luc2NyaWJlLXByb3ZpZGVyLXNldHRpbmdzLW1vZGFsJyk7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnJlbmRlclByb3ZpZGVyU2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICBhc3luYyByZW5kZXJQcm92aWRlclNldHRpbmdzKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLnByb3ZpZGVyVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBQcm92aWRlclR5cGUuT0xMQU1BOlxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyT2xsYW1hU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUHJvdmlkZXJUeXBlLk9QRU5BSTpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck9wZW5BSVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFByb3ZpZGVyVHlwZS5PUEVOQUlfQ09NUEFUSUJMRTpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck9wZW5BSUNvbXBhdGlibGVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnVW5rbm93biBwcm92aWRlciB0eXBlJyB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJlbmRlck9sbGFtYVNldHRpbmdzKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuc2V0VGl0bGUoJ09sbGFtYSBTZXR0aW5ncycpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcbiAgICAgICAgICAgIC5zZXROYW1lKFwiT2xsYW1hIEhvc3RcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiVGhlIGhvc3Qgb2YgdGhlIE9sbGFtYSBBUElcIilcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9sbGFtYS5ob3N0KVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcnMub2xsYW1hLmhvc3QgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVuZGVyQ29ubmVjdGlvblN0YXR1cyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcnMub2xsYW1hKTtcbiAgICB9XG5cbiAgICBhc3luYyByZW5kZXJPcGVuQUlTZXR0aW5ncygpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgICAgICB0aGlzLnNldFRpdGxlKCdPcGVuQUkgU2V0dGluZ3MnKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIk9wZW5BSSBBUEkgS2V5XCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlRoZSBBUEkga2V5IGZvciBPcGVuQUlcIilcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9wZW5haS5hcGlLZXkpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVycy5vcGVuYWkuYXBpS2V5ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlbmRlckNvbm5lY3Rpb25TdGF0dXModGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9wZW5haSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyT3BlbkFJQ29tcGF0aWJsZVNldHRpbmdzKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuc2V0VGl0bGUoJ09wZW5BSSBDb21wYXRpYmxlIFByb3ZpZGVyIFNldHRpbmdzJyk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJBUEkgS2V5XCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlRoZSBBUEkga2V5IGZvciBPcGVuQUkgQ29tcGF0aWJsZSBQcm92aWRlclwiKVxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcnMub3BlbmFpX2NvbXBhdGlibGUuYXBpS2V5KVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcnMub3BlbmFpX2NvbXBhdGlibGUuYXBpS2V5ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkJhc2UgVVJMXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlRoZSBiYXNlIFVSTCBmb3IgT3BlbkFJIENvbXBhdGlibGUgUHJvdmlkZXJcIilcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9wZW5haV9jb21wYXRpYmxlLmJhc2VVcmwpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVycy5vcGVuYWlfY29tcGF0aWJsZS5iYXNlVXJsID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlbmRlckNvbm5lY3Rpb25TdGF0dXModGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9wZW5haV9jb21wYXRpYmxlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckNvbm5lY3Rpb25TdGF0dXMocHJvdmlkZXI6IHsgY29uZmlndXJlZDogYm9vbGVhbiB9KSB7XG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGVudEVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJTdGF0dXNcIilcbiAgICAgICAgICAgIC5zZXREZXNjKGAke3Byb3ZpZGVyLmNvbmZpZ3VyZWQgPyAnU3VjY2Vzc2Z1bCcgOiAnRmFpbGVkJ31gKVxuICAgICAgICAgICAgLmFkZEJ1dHRvbihidXR0b24gPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dChgQ29ubmVjdGlvbiBUZXN0YClcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnNldERpc2FibGVkKHRydWUpLnNldEJ1dHRvblRleHQoJ1Rlc3RpbmcuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyLmNvbmZpZ3VyZWQgPSBhd2FpdCB0aGlzLnBsdWdpbi5wcm92aWRlckZhY3RvcnkuY29ubmVjdGlvblRlc3QodGhpcy5wcm92aWRlclR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKHByb3ZpZGVyLmNvbmZpZ3VyZWQgPyAnQ29ubmVjdGVkIScgOiAnRmFpbGVkIHRvIGNvbm5lY3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUHJvdmlkZXJTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICAgICAgKHRoaXMucGx1Z2luLmFwcCBhcyBhbnkpLnNldHRpbmc/Lm9wZW5UYWJCeUlkKHRoaXMucGx1Z2luLm1hbmlmZXN0LmlkKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFwcCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgSW5saW5lQ29tcGxldGlvbk9wdGlvbnMgfSBmcm9tIFwic3JjL2V4dGVuc2lvblwiO1xuaW1wb3J0IEluc2NyaWJlIGZyb20gXCJzcmMvbWFpblwiO1xuaW1wb3J0IHsgREVGQVVMVF9QQVRILCBERUZBVUxUX1BST0ZJTEUsIGZpbmRQYXRoQ29uZmlnLCBQYXRoQ29uZmlnLCBQcm9maWxlLCBTZXR0aW5ncyB9IGZyb20gXCJzcmMvc2V0dGluZ3Mvc2V0dGluZ3NcIjtcblxuLy8gUHJvZmlsZVNlcnZpY2UgY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIHRyYWNraW5nIHRoZSBhY3RpdmUgcHJvZmlsZSBiYXNlZCBvbiB0aGUgY3VycmVudCBmaWxlIHBhdGguXG5leHBvcnQgY2xhc3MgUHJvZmlsZVNlcnZpY2Uge1xuICAgIHByaXZhdGUgcGx1Z2luOiBJbnNjcmliZTtcbiAgICBwcml2YXRlIGFjdGl2ZVByb2ZpbGU6IFByb2ZpbGU7XG4gICAgcHJpdmF0ZSBhY3RpdmVQYXRoOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcbiAgICBwcml2YXRlIHNldHRpbmdzOiBTZXR0aW5ncztcbiAgICBwcml2YXRlIGlubGluZVN1Z2dlc3Rpb25PcHRpb25zOiBJbmxpbmVDb21wbGV0aW9uT3B0aW9ucyA9IHsgZGVsYXlNczogMzAwLCBzcGxpdFN0cmF0ZWd5OiBcInNlbnRlbmNlXCIgfTtcbiAgICBwcml2YXRlIHByb2ZpbGVDaGFuZ2VDYWxsYmFja3M6ICgocHJvZmlsZTogUHJvZmlsZSkgPT4gdm9pZClbXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBJbnNjcmliZSkge1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5hcHAgPSB0aGlzLnBsdWdpbi5hcHA7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcbiAgICAgICAgdGhpcy51cGRhdGUodGhpcy5nZXRBY3RpdmVGaWxlUGF0aCgpKTtcblxuICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2ZpbGUtb3BlbicsIChmaWxlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWZpbGUpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGZpbGUucGF0aCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEFjdGl2ZVByb2ZpbGUoKTogUHJvZmlsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVByb2ZpbGU7XG4gICAgfVxuXG4gICAgZ2V0QWN0aXZlUGF0aCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVQYXRoO1xuICAgIH1cblxuICAgIGdldEFjdGl2ZVBhdGhDb25maWcoKTogUGF0aENvbmZpZyB7XG4gICAgICAgIHJldHVybiBmaW5kUGF0aENvbmZpZyh0aGlzLnNldHRpbmdzLCB0aGlzLmFjdGl2ZVBhdGgpO1xuICAgIH1cblxuICAgIGdldE9wdGlvbnMoKTogSW5saW5lQ29tcGxldGlvbk9wdGlvbnMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVsYXlNczogdGhpcy5hY3RpdmVQcm9maWxlLmRlbGF5TXMsXG4gICAgICAgICAgICBzcGxpdFN0cmF0ZWd5OiB0aGlzLmFjdGl2ZVByb2ZpbGUuc3BsaXRTdHJhdGVneVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIG9uUHJvZmlsZUNoYW5nZShjYWxsYmFjazogKHByb2ZpbGU6IFByb2ZpbGUpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5wcm9maWxlQ2hhbmdlQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlKGZpbGVQYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgW3RoaXMuYWN0aXZlUGF0aCwgdGhpcy5hY3RpdmVQcm9maWxlXSA9IHRoaXMucmVzb2x2ZVByb2ZpbGVGcm9tUGF0aChmaWxlUGF0aCk7XG4gICAgICAgIHRoaXMucHJvZmlsZUNoYW5nZUNhbGxiYWNrcy5mb3JFYWNoKGNiID0+IGNiKHRoaXMuYWN0aXZlUHJvZmlsZSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QWN0aXZlRmlsZVBhdGgoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgYWN0aXZlRWRpdG9yID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUVkaXRvcjtcbiAgICAgICAgaWYgKCFhY3RpdmVFZGl0b3IpIHJldHVybiBcIlwiO1xuICAgICAgICBpZiAoIWFjdGl2ZUVkaXRvci5maWxlKSByZXR1cm4gXCJcIjtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZUVkaXRvci5maWxlLnBhdGg7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNvbHZlUHJvZmlsZUZyb21QYXRoKGZpbGVQYXRoOiBzdHJpbmcpOiBbc3RyaW5nLCBQcm9maWxlXSB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5wYXRoX2NvbmZpZ3MgfHwgT2JqZWN0LmtleXModGhpcy5zZXR0aW5ncy5wYXRoX2NvbmZpZ3MpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtERUZBVUxUX1BBVEgsIHRoaXMuc2V0dGluZ3MucHJvZmlsZXNbREVGQVVMVF9QUk9GSUxFXV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBub3JtYWxpemVkUGF0aCA9IGZpbGVQYXRoLnJlcGxhY2UoL15cXC8rfFxcLyskL2csICcnKTtcbiAgICAgICAgbGV0IGxvbmdlc3RNYXRjaCA9ICcnO1xuICAgICAgICBsZXQgbWF0Y2hlZFByb2ZpbGUgPSBERUZBVUxUX1BST0ZJTEU7XG4gICAgICAgIGxldCBwYXRoTWFwcGluZyA9ICcvJztcblxuICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLnNldHRpbmdzLnBhdGhfY29uZmlncykuZm9yRWFjaCgoW3BhdGgsIG1hcHBpbmddKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkTWFwcGluZ1BhdGggPSBwYXRoLnJlcGxhY2UoL15cXC8rfFxcLyskL2csICcnKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkUGF0aC5zdGFydHNXaXRoKG5vcm1hbGl6ZWRNYXBwaW5nUGF0aCkpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZE1hcHBpbmdQYXRoLmxlbmd0aCA+IGxvbmdlc3RNYXRjaC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2VzdE1hdGNoID0gbm9ybWFsaXplZE1hcHBpbmdQYXRoO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkUHJvZmlsZSA9IG1hcHBpbmcucHJvZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgcGF0aE1hcHBpbmcgPSBwYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFtwYXRoTWFwcGluZywgdGhpcy5zZXR0aW5ncy5wcm9maWxlc1ttYXRjaGVkUHJvZmlsZV1dO1xuICAgIH1cblxuICAgIG9udW5sb2FkKCkge1xuICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub2ZmKCdmaWxlLW9wZW4nLCB0aGlzLnVwZGF0ZSk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBcHAsIEVkaXRvciB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgUHJvZmlsZVNlcnZpY2UgfSBmcm9tIFwic3JjL3Byb2ZpbGUvc2VydmljZVwiO1xuaW1wb3J0IHsgUHJvdmlkZXJGYWN0b3J5IH0gZnJvbSBcInNyYy9wcm92aWRlcnMvZmFjdG9yeVwiO1xuaW1wb3J0IHsgU3VnZ2VzdGlvbiB9IGZyb20gXCJzcmMvZXh0ZW5zaW9uXCI7XG5pbXBvcnQgeyBDb21wbGV0aW9uT3B0aW9ucywgU2V0dGluZ3MgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJzcmMvcHJvdmlkZXJzL3Byb3ZpZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBsZXRpb25TZXJ2aWNlIHtcbiAgICBwcml2YXRlIGFwcDogQXBwO1xuICAgIHByaXZhdGUgc2V0dGluZ3M6IFNldHRpbmdzO1xuICAgIHByaXZhdGUgcHJvZmlsZVNlcnZpY2U6IFByb2ZpbGVTZXJ2aWNlO1xuICAgIHByaXZhdGUgcHJvdmlkZXJGYWN0b3J5OiBQcm92aWRlckZhY3Rvcnk7XG4gICAgcHJpdmF0ZSBjb21wbGV0aW9uU3RhdHVzTGlzdGVuZXJzOiAoKGlzR2VuZXJhdGluZzogYm9vbGVhbikgPT4gdm9pZClbXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGFwcDogQXBwLFxuICAgICAgICBzZXR0aW5nczogU2V0dGluZ3MsXG4gICAgICAgIHByb2ZpbGVTZXJ2aWNlOiBQcm9maWxlU2VydmljZSxcbiAgICAgICAgcHJvdmlkZXJGYWN0b3J5OiBQcm92aWRlckZhY3RvcnksXG4gICAgKSB7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHRoaXMucHJvZmlsZVNlcnZpY2UgPSBwcm9maWxlU2VydmljZTtcbiAgICAgICAgdGhpcy5wcm92aWRlckZhY3RvcnkgPSBwcm92aWRlckZhY3Rvcnk7XG4gICAgfVxuXG4gICAgYXN5bmMgKmZldGNoQ29tcGxldGlvbigpOiBBc3luY0dlbmVyYXRvcjxTdWdnZXN0aW9uPiB7XG4gICAgICAgIGlmICghdGhpcy5jb21wbGV0aW9uRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGFjdGl2ZUVkaXRvciA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I7XG4gICAgICAgIGlmICghYWN0aXZlRWRpdG9yKSByZXR1cm47XG4gICAgICAgIGlmICghYWN0aXZlRWRpdG9yLmVkaXRvcikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHByb2ZpbGUgPSB0aGlzLnByb2ZpbGVTZXJ2aWNlLmdldEFjdGl2ZVByb2ZpbGUoKTtcblxuICAgICAgICBjb25zdCBwcm92aWRlciA9IHRoaXMucHJvdmlkZXJGYWN0b3J5LmdldFByb3ZpZGVyKHByb2ZpbGUucHJvdmlkZXIpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gcHJvZmlsZS5jb21wbGV0aW9uT3B0aW9ucztcblxuICAgICAgICB5aWVsZCogdGhpcy5jb21wbGV0ZShhY3RpdmVFZGl0b3IuZWRpdG9yLCBwcm92aWRlciwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgb25Db21wbGV0aW9uU3RhdHVzQ2hhbmdlKGxpc3RlbmVyOiAoaXNHZW5lcmF0aW5nOiBib29sZWFuKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuY29tcGxldGlvblN0YXR1c0xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBjb21wbGV0aW9uRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuZW5hYmxlZCAmJiB0aGlzLnByb2ZpbGVTZXJ2aWNlLmdldEFjdGl2ZVBhdGhDb25maWcoKS5lbmFibGVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgbm90aWZ5Q29tcGxldGlvblN0YXR1cyhpc0dlbmVyYXRpbmc6IGJvb2xlYW4pIHtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmNvbXBsZXRpb25TdGF0dXNMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKGlzR2VuZXJhdGluZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jICpjb21wbGV0ZShlZGl0b3I6IEVkaXRvciwgcHJvdmlkZXI6IFByb3ZpZGVyLCBvcHRpb25zOiBDb21wbGV0aW9uT3B0aW9ucyk6IEFzeW5jR2VuZXJhdG9yPFN1Z2dlc3Rpb24+IHtcbiAgICAgICAgYXdhaXQgcHJvdmlkZXIuYWJvcnQoKTtcblxuICAgICAgICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMaW5lID0gZWRpdG9yLmdldExpbmUoY3Vyc29yLmxpbmUpO1xuXG4gICAgICAgIGlmICghY3VycmVudExpbmUubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbGFzdENoYXIgPSBjdXJyZW50TGluZVtjdXJzb3IuY2ggLSAxXTtcbiAgICAgICAgaWYgKGxhc3RDaGFyICE9PSBcIiBcIikgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubm90aWZ5Q29tcGxldGlvblN0YXR1cyh0cnVlKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCB0ZXh0IG9mIHByb3ZpZGVyLmdlbmVyYXRlKGVkaXRvciwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIHlpZWxkIHsgdGV4dCB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubm90aWZ5Q29tcGxldGlvblN0YXR1cyhmYWxzZSk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IE1lbnUsIHNldEljb24sIHNldFRvb2x0aXAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgSW5zY3JpYmUgZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQgeyBQcm9maWxlU2VydmljZSB9IGZyb20gJ3NyYy9wcm9maWxlL3NlcnZpY2UnO1xuaW1wb3J0IENvbXBsZXRpb25TZXJ2aWNlIGZyb20gJ3NyYy9jb21wbGV0aW9ucy9zZXJ2aWNlJztcbmltcG9ydCB7IGZpbmRQYXRoQ29uZmlnIH0gZnJvbSAnc3JjL3NldHRpbmdzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdHVzQmFySXRlbSB7XG4gICAgcHJpdmF0ZSBwbHVnaW46IEluc2NyaWJlO1xuICAgIHByaXZhdGUgc3RhdHVzQmFySXRlbTogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBwcm9maWxlU2VydmljZTogUHJvZmlsZVNlcnZpY2U7XG4gICAgcHJpdmF0ZSBjb21wbGV0aW9uU2VydmljZTogQ29tcGxldGlvblNlcnZpY2U7XG4gICAgcHJpdmF0ZSBpc0dlbmVyYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogSW5zY3JpYmUsIHByb2ZpbGVTZXJ2aWNlOiBQcm9maWxlU2VydmljZSwgY29tcGxldGlvblNlcnZpY2U6IENvbXBsZXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLnByb2ZpbGVTZXJ2aWNlID0gcHJvZmlsZVNlcnZpY2U7XG4gICAgICAgIHRoaXMuY29tcGxldGlvblNlcnZpY2UgPSBjb21wbGV0aW9uU2VydmljZTtcblxuICAgICAgICB0aGlzLnByb2ZpbGVTZXJ2aWNlLm9uUHJvZmlsZUNoYW5nZSh0aGlzLmhhbmRsZVByb2ZpbGVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29tcGxldGlvblNlcnZpY2Uub25Db21wbGV0aW9uU3RhdHVzQ2hhbmdlKHRoaXMuaGFuZGxlQ29tcGxldGlvblN0YXR1c0NoYW5nZS5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0gPSB0aGlzLmNyZWF0ZVN0YXR1c0Jhckl0ZW0oKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmlzR2VuZXJhdGluZykge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXNCYXJJdGVtLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHNldFRvb2x0aXAodGhpcy5zdGF0dXNCYXJJdGVtLCAnSW5zY3JpYmluZy4uLicsIHsgcGxhY2VtZW50OiAndG9wJyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5jb21wbGV0aW9uU2VydmljZS5jb21wbGV0aW9uRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNCYXJJdGVtLnJlbW92ZUNsYXNzKCdjb21wbGV0aW9uLWRpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9maWxlKHRoaXMucHJvZmlsZVNlcnZpY2UuZ2V0QWN0aXZlUHJvZmlsZSgpLm5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0uYWRkQ2xhc3MoJ2NvbXBsZXRpb24tZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICBzZXRUb29sdGlwKHRoaXMuc3RhdHVzQmFySXRlbSwgYENvbXBsZXRpb24gZGlzYWJsZWRgLCB7IHBsYWNlbWVudDogJ3RvcCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVN0YXR1c0Jhckl0ZW0oKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5wbHVnaW4uYWRkU3RhdHVzQmFySXRlbSgpO1xuICAgICAgICBzZXRJY29uKGl0ZW0sICdmZWF0aGVyJyk7XG4gICAgICAgIGl0ZW0uYWRkQ2xhc3NlcyhbJ3N0YXR1cy1iYXItaXRlbS1pY29uJywgYG1vZC1jbGlja2FibGVgXSk7XG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRpc3BsYXlDb250ZXh0TWVudS5iaW5kKHRoaXMpKTtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkaXNwbGF5Q29udGV4dE1lbnUoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbWVudSA9IG5ldyBNZW51KCk7XG4gICAgICAgIGNvbnN0IGdsb2JhbENvbXBsZXRpb25FbmFibGVkID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlZDtcbiAgICAgICAgY29uc3QgcGF0aENvbXBsZXRpb25FbmFibGVkID0gdGhpcy5wcm9maWxlU2VydmljZS5nZXRBY3RpdmVQYXRoQ29uZmlnKCkuZW5hYmxlZDtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMucHJvZmlsZVNlcnZpY2UuZ2V0QWN0aXZlUGF0aCgpO1xuICAgICAgICBjb25zdCBwcm9maWxlID0gdGhpcy5wcm9maWxlU2VydmljZS5nZXRBY3RpdmVQcm9maWxlKCk7XG5cbiAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpdGVtLnNldFRpdGxlKGBQcm9maWxlOiAke3Byb2ZpbGUubmFtZX1gKS5zZXRJc0xhYmVsKHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpdGVtLnNldFRpdGxlKGAke3BhdGhDb21wbGV0aW9uRW5hYmxlZCA/ICdEaXNhYmxlJyA6ICdFbmFibGUnfSB0aGlzIHBhdGg6IHske3BhdGh9XX1gKVxuICAgICAgICAgICAgICAgIC5zZXRDaGVja2VkKHBhdGhDb21wbGV0aW9uRW5hYmxlZClcbiAgICAgICAgICAgICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhDb25maWcgPSBmaW5kUGF0aENvbmZpZyh0aGlzLnBsdWdpbi5zZXR0aW5ncywgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhDb25maWcuZW5hYmxlZCA9ICFwYXRoQ29tcGxldGlvbkVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpdGVtLnNldFRpdGxlKGAke2dsb2JhbENvbXBsZXRpb25FbmFibGVkID8gJ0Rpc2FibGUnIDogJ0VuYWJsZSd9IGdsb2JhbGx5YClcbiAgICAgICAgICAgICAgICAuc2V0Q2hlY2tlZChnbG9iYWxDb21wbGV0aW9uRW5hYmxlZClcbiAgICAgICAgICAgICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZWQgPSAhZ2xvYmFsQ29tcGxldGlvbkVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgbWVudS5hZGRTZXBhcmF0b3IoKTtcbiAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpdGVtLnNldFRpdGxlKFwiT3BlbiBzZXR0aW5nc1wiKVxuICAgICAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2V0dGluZyA9ICh0aGlzLnBsdWdpbi5hcHAgYXMgYW55KS5zZXR0aW5nO1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZy5vcGVuVGFiQnlJZCh0aGlzLnBsdWdpbi5tYW5pZmVzdC5pZCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUNvbXBsZXRpb25TdGF0dXNDaGFuZ2UoaXNHZW5lcmF0aW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNHZW5lcmF0aW5nID0gaXNHZW5lcmF0aW5nO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlUHJvZmlsZUNoYW5nZShwcm9maWxlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVByb2ZpbGUocHJvZmlsZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHNldFRvb2x0aXAodGhpcy5zdGF0dXNCYXJJdGVtLCBgUHJvZmlsZTogJHtwcm9maWxlfWAsIHsgcGxhY2VtZW50OiAndG9wJyB9KTtcbiAgICB9XG59ICJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQXVCOzs7QUNVdkIsa0JBT087QUFDUCxtQkFRTztBQXFEUCxJQUFNLHNCQUFzQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLeEIsTUFBTSxDQUFDLFNBQWlCO0FBQ3BCLFVBQU0sWUFBWSxLQUFLLFFBQVEsR0FBRztBQUNsQyxXQUFPLGNBQWMsS0FDZixFQUFFLFVBQVUsTUFBTSxXQUFXLEdBQUcsSUFDaEM7QUFBQSxNQUNFLFVBQVUsS0FBSyxNQUFNLEdBQUcsWUFBWSxDQUFDO0FBQUEsTUFDckMsV0FBVyxLQUFLLE1BQU0sWUFBWSxDQUFDO0FBQUEsSUFDdkM7QUFBQSxFQUNSO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxVQUFVLENBQUMsU0FBaUI7QUFDeEIsVUFBTUMsU0FBUSxLQUFLLE1BQU0sVUFBVTtBQUNuQyxRQUFJQSxVQUFTQSxPQUFNLFVBQVUsUUFBVztBQUNwQyxhQUFPO0FBQUEsUUFDSCxVQUFVLEtBQUssTUFBTSxHQUFHQSxPQUFNLFFBQVEsQ0FBQztBQUFBLFFBQ3ZDLFdBQVcsS0FBSyxNQUFNQSxPQUFNLFFBQVEsQ0FBQztB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S0FBSyxFQUFFO0FBQUEsRUFDbEMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLE9BQU8sS0FBSyxFQUFFO0FBQUEsRUFDckMsRUFBRSxNQUFNLFVBQVUsS0FBSyxDQUFDLFVBQVUsS0FBSyxFQUFFO0FBQUEsRUFDekMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLFFBQVEsS0FBSyxFQUFFO0FBQUEsRUFDdEMsRUFBRSxNQUFNLFVBQVUsS0FBSyxDQUFDLFFBQVEsSUFBSSxFQUFFO0FBQUEsRUFDdEMsRUFBRSxNQUFNLFVBQVUsS0FBSyxDQUFDLFFBQVEsSUFBSSxFQUFFO0FBQUEsRUFDdEMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLE9BQU8sSUFBSSxFQUFFO0FBQUE7QUFBQSxFQUVwQyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsTUFBTSxPQUFPLE1BQU0sRUFBRTtBQUFBLEVBQzVDLEVBQUUsTUFBTSxTQUFTLEtBQUssQ0FBQyxTQUFTLElBQUksRUFBRTtBQUFBLEVBQ3RDLEVBQUUsTUFBTSxTQUFTLEtBQUssQ0FBQyxRQUFRLE9BQU8sSUFBSSxFQUFFO0FBQUE7QUFBQSxFQUM1QyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsUUFBUSxJQUFJLEVBQUU7QUFBQSxFQUNyQyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsT0FBTyxJQUFJLEVBQUU7QUFBQSxFQUNwQyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsVUFBVSxJQUFJLEVBQUU7QUFBQSxFQUN2QyxFQUFFLE1BQU0sT0FBTyxLQUFLLENBQUMsT0FBTyxNQUFNLElBQUksRUFBRTtBQUFBLEVBQ3hDLEVBQUUsTUFBTSxNQUFNLEtBQUssQ0FBQyxLQUFLLElBQUksRUFBRTtBQUFBLEVBQy9CLEVBQUUsTUFBTSxRQUFRLEtBQUssQ0FBQyxLQUFLLE1BQU0sRUFBRTtBQUFBLEVBQ25DLEVBQUUsTUFBTSxPQUFPLEtBQUssQ0FBQyxNQUFNLE1BQU0sU0FBUyxFQUFFO0FBQUEsRUFDNUMsRUFBRSxNQUFNLE9BQU8sS0FBSyxDQUFDLE1BQU0sUUFBUSxNQUFNLEVBQUU7QUFBQSxFQUMzQyxFQUFFLE1BQU0sT0FBTyxLQUFLLENBQUMsS0FBSyxNQUFNLEVBQUU7QUFBQSxFQUNsQyxFQUFFLE1BQU0sTUFBTSxLQUFLLENBQUMsU0FBUyxLQUFLLEVBQUU7QUFBQSxFQUNwQyxFQUFFLE1BQU0sT0FBTyxLQUFLLENBQUMsTUFBTSxNQUFNLFFBQVEsRUFBRTtBQUFBLEVBQzNDLEVBQUUsTUFBTSxTQUFTLEtBQUssQ0FBQyxRQUFRLElBQUksRUFBRTtBQUFBLEVBQ3JDLEVBQUUsTUFBTSxVQUFVLEtBQUssQ0FBQyxRQUFRLE1BQU0sRUFBRTtBQUFBLEVBQ3hDLEVBQUUsTUFBTSxTQUFTLEtBQUssQ0FBQyxRQUFRLElBQUksRUFBRTtBQUFBO0FBQUEsRUFFckMsRUFBRSxNQUFNLFdBQVcsS0FBSyxDQUFDLFVBQVUsTUFBTSxFQUFFO0FBQUEsRUFDM0MsRUFBRSxNQUFNLFVBQVUsS0FBSyxDQUFDLFVBQVUsTUFBTSxFQUFFO0FBQUEsRUFDMUMsRUFBRSxNQUFNLFVBQVUsS0FBSyxDQUFDLFVBQVUsTUFBTSxFQUFFO0FBQUEsRUFDMUMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLFFBQVEsTUFBTSxFQUFFO0FBQUEsRUFFdkMsRUFBRSxNQUFNLE9BQU8sS0FBSyxDQUFDLE1BQU0sSUFBSSxFQUFFO0FBQUEsRUFDakMsRUFBRSxNQUFNLFFBQVEsS0FBSyxDQUFDLE1BQU0sS0FBSyxFQUFFO0FBQUEsRUFDbkMsRUFBRSxNQUFNLFVBQVUsS0FBSyxDQUFDLE9BQU8sTUFBTSxFQUFFO0FBQUEsRUFDdkMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLE9BQU8sRUFBRTtBQUFBLEVBQ2hDLEVBQUUsTUFBTSxRQUFRLEtBQUssQ0FBQyxNQUFNLEVBQUU7QUFBQTtBQUFBLEVBRTlCLEVBQUUsT0FBTyxNQUFNLEtBQUssQ0FBQyxNQUFNLEVBQUU7QUFBQSxFQUM3QixFQUFFLE9BQU8sTUFBTSxLQUFLLENBQUMsTUFBTSxFQUFFO0FBQUEsRUFDN0IsRUFBRSxPQUFPLE1BQU0sS0FBSyxDQUFDLEtBQUssRUFBRTtBQUFBLEVBQzVCLEVBQUUsT0FBTyxLQUFLLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFBQTtBQUFBLEVBRTFCLEVBQUUsUUFBUSxLQUFLLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFBQSxFQUMzQixFQUFFLFFBQVEsS0FBSyxLQUFLLENBQUMsSUFBSSxFQUFFO0FBQUEsRUFDM0IsRUFBRSxRQUFRLEtBQUssS0FBSyxDQUFDLElBQUksRUFBRTtBQUFBLEVBQzNCLEVBQUUsUUFBUSxNQUFNLEtBQUssQ0FBQyxLQUFLLEVBQUU7QUFBQSxFQUM3QixFQUFFLFFBQVEsS0FBSyxLQUFLLENBQUMsSUFBSSxFQUFFO0FBQUEsRUFDM0IsRUFBRSxRQUFRLEtBQUssS0FBSyxDQUFDLElBQUksRUFBRTtBQUFBO0FBQUE7QUFBQSxFQUczQixFQUFFLE1BQU0sWUFBWSxLQUFLLENBQUMsVUFBVSxLQUFLLEVBQUU7QUFBQSxFQUMzQyxFQUFFLE1BQU0sV0FBVyxLQUFLLENBQUMsU0FBUyxLQUFLLEVBQUU7QUFBQSxFQUN6QyxFQUFFLE1BQU0sV0FBVyxLQUFLLENBQUMsU0FBUyxLQUFLLEVBQUU7QUFBQSxFQUN6QyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsT0FBTyxLQUFLLEVBQUU7QUFBQSxFQUNyQyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsT0FBTyxLQUFLLEVBQUU7QUFBQSxFQUNyQyxFQUFFLE1BQU0sUUFBUSxLQUFLLENBQUMsTUFBTSxLQUFLLEVBQUU7QUFBQSxFQUNuQyxFQUFFLE1BQU0sUUFBUSxLQUFLLENBQUMsT0FBTyxLQUFLLEVBQUU7QUFBQSxFQUNwQyxFQUFFLE1BQU0sUUFBUSxLQUFLLENBQUMsTUFBTSxLQUFLLEVBQUU7QUFBQSxFQUNuQyxFQUFFLE1BQU0sUUFBUSxLQUFLLENBQUMsUUFBUSxLQUFLLEVBQUU7QUFBQTtBQUFBLEVBRXJDLEVBQUUsTUFBTSxRQUFRLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRTtBQUFBLEVBQ3BDLEVBQUUsTUFBTSxTQUFTLEtB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ZUFBTztBQUFLLFVBQUcsTUFBTSxLQUFLQSxFQUFDLEtBQUcsTUFBTSxLQUFLQSxFQUFDLEdBQUU7QUFBQyxZQUFJQyxNQUFHRCxNQUFHQSxLQUFFQSxHQUFFLFFBQVEsT0FBTSxFQUFFLEdBQUcsUUFBUSxPQUFNLEVBQUUsR0FBRyxNQUFNLEdBQUc7QUFBRSxlQUFPQyxLQUFFQSxHQUFFLElBQUssQ0FBQUYsT0FBR0EsR0FBRSxLQUFLLENBQUUsRUFBRSxPQUFRLENBQUFBLE9BQUdBLEVBQUUsR0FBRUUsS0FBRUEsR0FBRSxJQUFLLENBQUFELE9BQUcsRUFBRSxFQUFDLElBQUdBLEdBQUMsQ0FBQyxDQUFFLEdBQUVDO0FBQUEsTUFBQztBQUFDLGFBQU0sQ0FBQyxFQUFFLEVBQUMsSUFBR0QsR0FBQyxDQUFDLENBQUM7QUFBQSxJQUFDLEVBQUVBLEVBQUMsQ0FBQztBQUFBLEVBQUMsQ0FBRSxHQUFFRSxLQUFFQSxHQUFFLE9BQVEsQ0FBQUgsT0FBR0EsRUFBRTtBQUFFLE1BQUlJLEtBQUVELEdBQUUsQ0FBQztBQUFFLFdBQVFILEtBQUUsR0FBRUEsS0FBRUcsR0FBRSxRQUFPSCxNQUFHO0FBQUUsSUFBQUksR0FBRSxTQUFTLEtBQUtELEdBQUVILEVBQUMsQ0FBQyxHQUFFSSxLQUFFRCxHQUFFSCxFQUFDO0FBQUUsU0FBT0csR0FBRSxDQUFDO0FBQUM7QUFBcGxCLElBQXNsQixJQUFFLENBQUNILElBQUVDLE9BQUk7QUFBQyxNQUFJQyxLQUFFLENBQUMsR0FBRUMsS0FBRSxDQUFDSCxFQUFDO0FBQUUsU0FBS0csR0FBRSxTQUFPLEtBQUc7QUFBQyxRQUFJSCxLQUFFRyxHQUFFLElBQUk7QUFBRSxJQUFBRCxHQUFFLEtBQUtGLEVBQUMsR0FBRUEsR0FBRSxZQUFVQSxHQUFFLFNBQVMsUUFBUyxDQUFBRSxPQUFHO0FBQUMsTUFBQUQsTUFBR0EsR0FBRUQsSUFBRUUsRUFBQyxHQUFFQyxHQUFFLEtBQUtELEVBQUM7QUFBQSxJQUFDLENBQUU7QUFBQSxFQUFDO0FBQUMsU0FBT0E7QUFBQztBQUE1dEIsSUFB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O0FBQUEsRUFBRTtBQUFBLEVBQUMsSUFBSSxRQUFPO0FBQUMsV0FBTyxLQUFLLEtBQUssTUFBSSxLQUFLLEtBQUssU0FBUyxTQUFPO0FBQUEsRUFBQztBQUFBLEVBQUMsTUFBTUEsS0FBRSxDQUFDLEdBQUU7QUFBQyxRQUFJQyxLQUFFLEtBQUssS0FBSyxTQUFPLENBQUM7QUFBRSxXQUFNLFlBQVUsT0FBT0QsT0FBSUMsR0FBRUQsRUFBQyxJQUFFLE9BQUksS0FBSyxLQUFLLFFBQU0sT0FBTyxPQUFPQyxJQUFFRCxFQUFDLEdBQUU7QUFBQSxFQUFJO0FBQUEsRUFBQyxJQUFJQyxJQUFFO0FBQUMsUUFBR0EsS0FBRSxFQUFFQSxFQUFDLEdBQUUsQ0FBQyxFQUFFLEtBQUtBLEVBQUMsR0FBRTtBQUFDLFVBQUlELEtBQUUsS0FBSyxLQUFLLFNBQVMsS0FBTSxDQUFBQSxPQUFHQSxHQUFFLE9BQUtDLEVBQUU7QUFBRSxhQUFPLElBQUlNLEdBQUVQLEVBQUM7QUFBQSxJQUFDO0FBQUMsUUFBSUUsTUFBRyxDQUFDRixJQUFFQyxPQUFJO0FBQUMsVUFBSUMsTUFBRyxDQUFBRixPQUFHLFlBQVUsT0FBT0EsS0FBRUEsTUFBR0EsS0FBRUEsR0FBRSxRQUFRLE9BQU0sRUFBRSxHQUFHLE1BQU0sSUFBSSxHQUFHQyxLQUFFQSxNQUFHLEVBQUU7QUFBRSxlQUFRQSxLQUFFLEdBQUVBLEtBQUVDLEdBQUUsUUFBT0QsTUFBRyxHQUFFO0FBQUMsWUFBSUUsS0FBRUgsR0FBRSxTQUFTLEtBQU0sQ0FBQUEsT0FBR0EsR0FBRSxPQUFLRSxHQUFFRCxFQUFDLENBQUU7QUFBRSxZQUFHLENBQUNFO0FBQUUsaUJBQU87QUFBSyxRQUFBSCxLQUFFRztBQUFBLE1BQUM7QUFBQyxhQUFPSDtBQUFBLElBQUMsR0FBRyxLQUFLLE1BQUtDLEVBQUMsS0FBRyxFQUFFLENBQUMsQ0FBQztBQUFFLFdBQU8sSUFBSU0sR0FBRUwsRUFBQztBQUFBLEVBQUM7QUFBQSxFQUFDLElBQUlELElBQUVDLEtBQUUsQ0FBQyxHQUFFO0FBQUMsUUFBR0UsR0FBRUgsRUFBQztBQUFFLGFBQU9BLEdBQUUsUUFBUyxDQUFBRCxPQUFHLEtBQUssSUFBSSxFQUFFQSxFQUFDLEdBQUVFLEVBQUMsQ0FBRSxHQUFFO0FBQUssSUFBQUQsS0FBRSxFQUFFQSxFQUFDO0FBQUUsUUFBSUUsS0FBRSxFQUFFLEVBQUMsSUFBR0YsSUFBRSxPQUFNQyxHQUFDLENBQUM7QUFBRSxXQUFPLEtBQUssS0FBSyxTQUFTLEtBQUtDLEVBQUMsR0FBRSxJQUFJSSxHQUFFSixFQUFDO0FBQUEsRUFBQztBQUFBLEVBQUMsT0FBT0gsSUFBRTtBQUFDLFdBQU9BLEtBQUUsRUFBRUEsRUFBQyxHQUFFLEtBQUssS0FBSyxXQUFTLEtBQUssS0FBSyxTQUFTLE9BQVEsQ0FBQUMsT0FBR0EsR0FBRSxPQUFLRCxFQUFFLEdBQUU7QUFBQSxFQUFJO0FBQUEsRUFBQyxRQUFPO0FBQUMsV0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFLElBQUssQ0FBQUEsUUFBSSxRQUFPQSxLQUFFLE9BQU8sT0FBTyxDQUFDLEdBQUVBLEVBQUMsR0FBRyxVQUFTQSxHQUFHO0FBQUEsRUFBQztBQUFBLEVBQUMsUUFBTztBQUFDLFlBQU8sQ0FBQUEsT0FBRztBQUFDLFVBQUlDLEtBQUUsRUFBRUQsSUFBRyxDQUFDQSxJQUFFQyxPQUFJO0FBQUMsUUFBQUQsR0FBRSxPQUFLQSxHQUFFLE9BQU8sVUFBUUEsR0FBRSxPQUFPLFdBQVMsQ0FBQyxHQUFFQSxHQUFFLE9BQU8sV0FBU0EsR0FBRSxPQUFPLFlBQVUsQ0FBQyxHQUFFQyxHQUFFLE9BQU8sVUFBUUQsR0FBRSxPQUFPLFFBQVEsT0FBTyxDQUFDQSxHQUFFLEVBQUUsQ0FBQztBQUFBLE1BQUUsQ0FBRSxHQUFFRSxLQUFFLENBQUM7QUFBRSxNQUFBRCxHQUFFLFFBQVMsQ0FBQUQsT0FBRztBQUFDLFFBQUFBLEdBQUUsT0FBS0UsR0FBRUYsR0FBRSxFQUFFLElBQUVBO0FBQUEsTUFBRSxDQUFFLEdBQUVDLEdBQUUsUUFBUyxDQUFBRCxPQUFHO0FBQUMsUUFBQUEsR0FBRSxPQUFPLFFBQVEsUUFBUyxDQUFBQyxPQUFHO0FBQUMsVUFBQUMsR0FBRSxlQUFlRCxFQUFDLEtBQUdDLEdBQUVELEVBQUMsRUFBRSxPQUFPLFNBQVMsS0FBS0QsR0FBRSxFQUFFO0FBQUEsUUFBQyxDQUFFO0FBQUEsTUFBQyxDQUFFLEdBQUVBLEdBQUUsT0FBTyxXQUFTLE9BQU8sS0FBS0UsRUFBQztBQUFBLElBQUMsR0FBRyxLQUFLLElBQUksR0FBRTtBQUFBLEVBQUk7QUFBQSxFQUFDLE9BQU07QUFBQyxXQUFPLEVBQUUsS0FBSyxJQUFJO0FBQUEsRUFBQztBQUFBLEVBQUMsV0FBVTtBQUFDLFFBQUlGO0FBQUUsV0FBT0EsS0FBRSxLQUFLLE1BQUssRUFBRUEsSUFBRyxDQUFDQSxJQUFFQyxPQUFJO0FBQUMsTUFBQUEsR0FBRSxRQUFNLEVBQUVBLEdBQUUsT0FBTUQsR0FBRSxLQUFLO0FBQUEsSUFBQyxDQUFFLEdBQUU7QUFBQSxFQUFJO0FBQUEsRUFBQyxRQUFPO0FBQUMsTUFBRSxLQUFLLElBQUk7QUFBRSxRQUFJQSxLQUFFLEVBQUUsS0FBSyxJQUFJLEdBQUVDLEtBQUVELEdBQUUsU0FBTyxJQUFFLElBQUU7QUFBRSxXQUFPQSxHQUFFLFFBQVMsQ0FBQUEsT0FBRztBQUFDLFVBQUcsTUFBSUEsR0FBRSxPQUFPLFFBQVE7QUFBTztBQUFPLFVBQUlFLEtBQUVGLEdBQUUsT0FBTyxRQUFRLFNBQU87QUFBRSxNQUFBRSxLQUFFRCxPQUFJQSxLQUFFQztBQUFBLElBQUUsQ0FBRSxHQUFFRDtBQUFBLEVBQUM7QUFBQSxFQUFDLElBQUlELElBQUU7QUFBQyxXQUFPLEVBQUUsS0FBSyxJQUFJLEdBQUUsRUFBRSxLQUFLLE1BQUtBLEVBQUM7QUFBQSxFQUFDO0FBQUEsRUFBQyxRQUFPO0FBQUMsV0FBTyxFQUFFLEtBQUssSUFBSSxHQUFFLEVBQUUsS0FBSyxNQUFLLE9BQU8sR0FBRTtBQUFBLEVBQUk7QUFBQztBQUFDLElBQU0sSUFBRSxTQUFTQSxJQUFFO0FBQUMsTUFBSUMsS0FBRSxFQUFFRCxFQUFDO0FBQUUs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QUFBLEVBQ0wsT0FBTztBQUFBLEVBQ1AsUUFBUTtBQUNWO0FBQ0EsSUFBTyxrQkFBUTs7O0FDUGYsSUFBTyxlQUFRO0FBQUEsRUFDYjtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQTtBQUNGOzs7QUNwREEsSUFBTyxxQkFBUTtBQUFBLEVBQ2I7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQTtBQUFBO0FBR0Y7OztBQzlDQSxJQUFPLGlCQUFRLENBQUMsT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLFFBQVEsT0FBTyxPQUFPLEtBQUs7OztBQ0FuRyxJQUFPLGdCQUFRO0FBQUEsRUFDYjtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDRjs7O0FDbEJBLElBQU8sd0JBQVEsQ0FBQyxRQUFRLFFBQVEsUUFBUSxRQUFRLE9BQU8sT0FBTyxJQUFJOzs7QUNBbEUsSUFBTyxpQkFBUTtBQUFBLEVBQ2I7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBRUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUVBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUVBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFB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QUFLLHdCQUF3QixTQUFTO0FBQUEsRUFDdkM7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixTQUFLLFdBQVcsT0FBTztBQUFBLE1BQ3RCLENBQUM7QUFBQSxNQUNEO0FBQUEsTUFDQSxNQUFNLEtBQUssU0FBUztBQUFBLElBQ3JCO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUNqQyxTQUFLLGdCQUFnQixpQkFBaUI7QUFBQSxFQUN2QztBQUNEOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAibWF0Y2giLCAiZSIsICJmZXRjaCIsICJyZXNvbHZlIiwgIl9hIiwgImUiLCAiSGVhZGVycyIsICJyZXNvbHZlIiwgIm1hdGNoIiwgImkiLCAiUmVxdWVzdCIsICJzcGxpdCIsICJSZXNwb25zZSIsICJmZXRjaCIsICJfYSIsICJmZXRjaCIsICJwIiwgIl9fZGVmUHJvcCIsICJpIiwgIk9sbGFtYSIsICJmcyIsICJlIiwgInMiLCAic3RhcnQiLCAiaSIsICJtYXRjaCIsICJpbmRleCIsICJnZXQiLCAic2VsZiIsICJqIiwgImVzY2FwZSIsICJjbGVhckNhY2hlIiwgInBhcnNlIiwgInJlbmRlciIsICJtZXRob2RzIiwgImlzQXJyYXkiLCAid29ybGQiLCAiY29tcHV0ZSIsICJpIiwgIm91dCIsICJuIiwgInIiLCAibiIsICJrIiwgImkiLCAibWF4IiwgImEiLCAidCIsICJtZXRob2RzIiwgImRvY3VtZW50IiwgImEiLCAibiIsICJzdGFydCIsICJlbmQiLCAiaSIsICJtZXRob2RzIiwgIm1vZGVsIiwgInBsdWdpbiIsICJrIiwgIndvcmxkIiwgIlZpZXciLCAibmxwIiwgIm1ldGhvZHMiLCAiY29tcHV0ZSIsICJob29rcyIsICJpc09iamVjdCIsICJpc0FycmF5IiwgIm8iLCAiYSIsICJzdHIiLCAiVmlldyIsICJ3b3JsZCIsICJtZXRob2RzIiwgImRvY3VtZW50IiwgImNvbXB1dGUiLCAicGx1Z2luIiwgImRvY3VtZW50IiwgInN0ciIsICJ0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJtZXRob2RzIiwgIlZpZXciLCAiY29tcHV0ZV9kZWZhdWx0IiwgImNvbXB1dGVfZGVmYXVsdCIsICJtZXRob2RzX2RlZmF1bHQiLCAidCIsICJpIiwgInN0ciIsICJpbmRleCIsICJoYXNTcGFjZSIsICJoYXNEYXNoIiwgImVuZCIsICJwb3N0IiwgInN0YXJ0IiwgImRvY3VtZW50IiwgIm4iLCAiaW5kZXgiLCAic3RyIiwgIm4iLCAiaSIsICJyIiwgImlzQXJyYXkiLCAid29ybGQiLCAibWV0aG9kcyIsICJkb2N1bWVudCIsICJpIiwgIm4iLCAiZm5zIiwgImZucyIsICJpc1RpdGxlQ2FzZSIsICJzdHIiLCAidG9UaXRsZUNhc2UiLCAidG9Mb3dlckNhc2UiLCAib3V0IiwgImEiLCAiaSIsICJtYXRjaCIsICJkb2N1bWVudCIsICJuIiwgInN0YXJ0IiwgImVuZCIsICJpIiwgIm4iLCAiaSIsICJtZXRob2RzIiwgImluZGV4TiIsICJzZWxmIiwgImRvY3VtZW50IiwgInJlbW92ZV9kZWZhdWx0IiwgIm1ldGhvZHMiLCAic3RyIiwgInN0YXJ0IiwgImVuZCIsICJ0IiwgImkiLCAiaGFzSHlwaGVuIiwgImEiLCAibyIsICJhIiwgIm4iLCAidCIsICJvIiwgInNvcnRfZGVmYXVsdCIsICJpc0FycmF5IiwgImVuZCIsICJwdHJzIiwgImEiLCAiYSIsICJtZXRob2RzIiwgInJlbW92ZV9kZWZhdWx0IiwgInNvcnRfZGVmYXVsdCIsICJhZGRBUEkiLCAiVmlldyIsICJhcGlfZGVmYXVsdCIsICJjb21wdXRlIiwgIm4iLCAiaSIsICJjb21wdXRlX2RlZmF1bHQiLCAicGx1Z2luX2RlZmF1bHQiLCAiYXBpX2RlZmF1bHQiLCAiY29tcHV0ZV9kZWZhdWx0IiwgImRvY3VtZW50IiwgIm4iLCAiaSIsICJpIiwgImJlZm9yZSIsICJpIiwgImJlZm9yZSIsICJoYXNDb250cmFjdGlvbiIsICJpIiwgImFmdGVyIiwgImkiLCAiaSIsICJ3b3JsZCIsICJzdGFydCIsICJlbmQiLCAiaSIsICJsaXN0IiwgImJlZm9yZSIsICJhZnRlciIsICJvIiwgImsiLCAid29ybGQiLCAiZG9jdW1lbnQiLCAibW9kZWwiLCAibWV0aG9kcyIsICJuIiwgImNvbnRyYWN0aW9uc19kZWZhdWx0IiwgImNvbXB1dGVfZGVmYXVsdCIsICJjb250cmFjdGlvbnNfZGVmYXVsdCIsICJjb21wdXRlX2RlZmF1bHQiLCAicGx1Z2luX2RlZmF1bHQiLCAid29ybGQiLCAibW9kZWwiLCAibWV0aG9kcyIsICJzZXRUYWciLCAiaSIsICJ0IiwgImVuZCIsICJrIiwgInN0ciIsICJjb21wdXRlX2RlZmF1bHQiLCAic3RyIiwgInQiLCAicGx1Z2luX2RlZmF1bHQiLCAiY29tcHV0ZV9kZWZhdWx0IiwgIndvcmxkIiwgIm1ldGhvZHMiLCAiVmlldyIsICJ3b3JsZCIsICJtb2RlbCIsICJtZXRob2RzIiwgInNldFRhZyIsICJsZXhpY29uIiwgInQiLCAiZW5kIiwgImkiLCAic3RyIiwgImkiLCAid29ybGQiLCAibW9kZWwiLCAibWV0aG9kcyIsICJzZXRUYWciLCAibGV4aWNvbiIsICJ0IiwgInN0ciIsICJ3b3JsZCIsICJpIiwgImNvbXB1dGVfZGVmYXVsdCIsICJleHBhbmQiLCAic3BsaXQiLCAibWV0aG9kc19kZWZhdWx0IiwgIndvcmxkIiwgIm1ldGhvZHMiLCAibW9kZWwiLCAiayIsICJsZXgiLCAiX211bHRpIiwgIm1vZGVsIiwgInBsdWdpbl9kZWZhdWx0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJjb21wdXRlX2RlZmF1bHQiLCAid29ybGQiLCAibWV0aG9kcyIsICJtb2RlbCIsICJ0IiwgIm4iLCAiaSIsICJyIiwgInMiLCAiZnMiLCAib3B0cyIsICJuIiwgImkiLCAibyIsICJzdGFydCIsICJzY2FuIiwgImlzT2JqZWN0IiwgImFwaV9kZWZhdWx0IiwgIlZpZXciLCAib3B0cyIsICJsaXN0IiwgImkiLCAibyIsICJwbHVnaW5fZGVmYXVsdCIsICJhcGlfZGVmYXVsdCIsICJuIiwgImZpeFBvaW50ZXJzIiwgImsiLCAib3B0cyIsICJ3b3JsZCIsICJpc09iamVjdCIsICJvcHRzIiwgImZpeFBvaW50ZXJzIiwgInB0cnMiLCAiaSIsICJtZXRob2RzIiwgIm9wdHMiLCAiaW5kZXhOIiwgImsiLCAiYSIsICJwb3N0IiwgImRvY3VtZW50IiwgIm4iLCAiZW5kIiwgImlzQXJyYXkiLCAiYWRkSWRzIiwgIm4iLCAic3RhcnQiLCAiZW5kIiwgIm1ldGhvZHMiLCAic3BsaXRBbGwiLCAibyIsICJwIiwgImkiLCAid29ybGQiLCAiaSIsICJtZXRob2RzIiwgIm1ldGhvZHMiLCAiVmlldyIsICJhcGlfZGVmYXVsdCIsICJzdHIiLCAic3RyIiwgIm9wdHMiLCAiaSIsICJfYSIsICJjIiwgInMiLCAic3BsaXQiLCAid29ybGQiLCAiaSIsICJ3b3JsZCIsICJzdHIiLCAiaW5kZXgiLCAiaSIsICJyIiwgIm9wdHMiLCAid29ybGQiLCAic3RyIiwgImkiLCAibGltaXQiLCAiaSIsICJqIiwgInQiLCAibGVuZ3RoIiwgImhhc0Rhc2giLCAibWV0aG9kcyIsICJpbmRleCIsICJsZW5ndGgiLCAic3RyIiwgInIiLCAidCIsICJzdGFydCIsICJ0IiwgImciLCAiaXNBcnJheSIsICJjIiwgInQiLCAiaSIsICJnIiwgImVuZCIsICJnIiwgImVuZCIsICJ0IiwgImciLCAiayIsICJvIiwgInN0YXJ0IiwgImdldEdyb3VwIiwgInIiLCAiayIsICJuIiwgInN0YXJ0IiwgImVuZCIsICJpIiwgIm4iLCAiayIsICJyIiwgImkiLCAiZW5kIiwgInN0YXJ0IiwgIm1hdGNoX2RlZmF1bHQiLCAibWV0aG9kcyIsICJtYXRjaF9kZWZhdWx0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJsaWJfZGVmYXVsdCIsICJzdHIiLCAib3B0cyIsICJ3b3JsZCIsICJraWxsVW5pY29kZSIsICJwbHVnaW5fZGVmYXVsdCIsICJhcGlfZGVmYXVsdCIsICJtZXRob2RzX2RlZmF1bHQiLCAibGliX2RlZmF1bHQiLCAic3RyIiwgImsiLCAic3RhcnQiLCAiZW5kIiwgInQiLCAiYSIsICJvdXQiLCAiaSIsICJvcHRzIiwgInQiLCAicG9zdCIsICJpIiwgInMiLCAiYyIsICJkIiwgImgiLCAiaiIsICJhIiwgImEiLCAiZm5zIiwgInQiLCAiaSIsICJrIiwgIm1ldGhvZHMiLCAibiIsICJkZWJ1ZyIsICJmbXQiLCAiZGVidWdfZGVmYXVsdCIsICJwb3N0IiwgImEiLCAibiIsICJpIiwgInQiLCAiZW5kIiwgImlzT2JqZWN0IiwgImEiLCAiayIsICJzdHIiLCAidCIsICJvIiwgImxpc3QiLCAiaCIsICJtZXRob2RzIiwgImRlYnVnX2RlZmF1bHQiLCAiaXNPYmplY3QiLCAiZm10IiwgIm9wdHMiLCAibWV0aG9kcyIsICJhZGRBUEkiLCAiVmlldyIsICJhcGlfZGVmYXVsdCIsICJvdXQiLCAidCIsICJzdHIiLCAibW9kZWwiLCAiYyIsICJ0IiwgInN0ciIsICJvdXQiLCAib2Zmc2V0IiwgImluZGV4IiwgInN0YXJ0IiwgImVuZCIsICJwb3N0IiwgImsiLCAiaSIsICJkZWJ1ZyIsICJkZWJ1Z19kZWZhdWx0IiwgInBsdWdpbl9kZWZhdWx0IiwgImFwaV9kZWZhdWx0IiwgImRlYnVnX2RlZmF1bHQiLCAiYSIsICJtYXgiLCAiaSIsICJuIiwgInN0YXJ0IiwgImVuZCIsICJkb2VzTWF0Y2giLCAicCIsICJhIiwgImkiLCAic3BsaXRfZGVmYXVsdCIsICJuIiwgImkiLCAiaW5kZXgiLCAiZG9jdW1lbnQiLCAic3RhcnQiLCAidCIsICJnZXREb2MiLCAiZW5kIiwgImEiLCAiaSIsICJ0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJzcGxpdF9kZWZhdWx0IiwgImEiLCAibiIsICJzcGxpdF9kZWZhdWx0IiwgIm8iLCAiYSIsICJzdGFydCIsICJlbmQiLCAicCIsICJoIiwgImlzQXJyYXkiLCAiZ2V0RG9jIiwgImFkZElkcyIsICJuIiwgInN0YXJ0IiwgIm1ldGhvZHMiLCAiYWRkQVBJIiwgIlZpZXciLCAiYXBpX2RlZmF1bHQiLCAicGx1Z2luX2RlZmF1bHQiLCAibWV0aG9kc19kZWZhdWx0IiwgImFwaV9kZWZhdWx0IiwgImxpYl9kZWZhdWx0IiwgIm1ldGhvZHMiLCAiVmlldyIsICJvcHRzIiwgIndvcmxkIiwgIm1ldGhvZHMiLCAibyIsICJhcGlfZGVmYXVsdCIsICJyIiwgInN0ciIsICJuIiwgInBhcnNlIiwgIndvcmxkIiwgIm8iLCAid29ybGQiLCAiaG9va3MiLCAic3RyIiwgImsiLCAibyIsICJob29rcyIsICJpIiwgImsiLCAibGlzdCIsICJuIiwgInN0ciIsICJydW5NYXRjaCIsICJkb2N1bWVudCIsICJtZXRob2RzIiwgIm9wdHMiLCAibiIsICJpIiwgImRvY3VtZW50IiwgImkiLCAibyIsICJtZXRob2RzIiwgIm9wdHMiLCAibW9kZWwiLCAiaSIsICJrIiwgImxpc3QiLCAiZG9jdW1lbnQiLCAid29ybGQiLCAibW9kZWwiLCAibWV0aG9kcyIsICJnZXREb2MiLCAic2V0VGFnIiwgInVuVGFnIiwgInQiLCAibWV0aG9kc19kZWZhdWx0IiwgInBsdWdpbl9kZWZhdWx0IiwgImxpYl9kZWZhdWx0IiwgImFwaV9kZWZhdWx0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJvIiwgInRhZ1N0cmluZyIsICJpIiwgImlzQXJyYXkiLCAic3RyIiwgInQiLCAid29ybGQiLCAiaSIsICJvIiwgImNhbkJlIiwgImkiLCAiY2FuQmVfZGVmYXVsdCIsICJlIiwgInQiLCAibiIsICJyIiwgImkiLCAiYyIsICJzIiwgImciLCAiYyIsICJrIiwgImsiLCAiY29tcHV0ZSIsICJrIiwgIm8iLCAibWV0aG9kc19kZWZhdWx0IiwgImNhbkJlX2RlZmF1bHQiLCAiaXNBcnJheSIsICJmbnMiLCAibWV0aG9kcyIsICJ2ZXJib3NlIiwgIndvcmxkIiwgIm1vZGVsIiwgImNhbkJlIiwgIm4iLCAiaSIsICJWaWV3IiwgImFwaV9kZWZhdWx0IiwgImFkZFRhZ3MiLCAibW9kZWwiLCAibWV0aG9kcyIsICJsaWJfZGVmYXVsdCIsICJhIiwgImRvY3VtZW50IiwgIndvcmxkIiwgInBsdWdpbl9kZWZhdWx0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJhcGlfZGVmYXVsdCIsICJsaWJfZGVmYXVsdCIsICJpIiwgIm8iLCAiaSIsICJzIiwgIndvcmxkIiwgImlzU2VudGVuY2UiLCAiaSIsICJjIiwgInN0ciIsICJpIiwgInNwbGl0IiwgImkiLCAic3BsaXQiLCAiaGFzU29tZXRoaW5nIiwgIndvcmxkIiwgImkiLCAiaGFzSHlwaGVuIiwgInN0ciIsICJtb2RlbCIsICJzcGxpdEh5cGhlbnMiLCAibyIsICJpIiwgImkiLCAiaCIsICJjIiwgImlzQXJyYXkiLCAic3RyIiwgIm1vZGVsIiwgImkiLCAiaGFzSHlwaGVuIiwgInNwbGl0SHlwaGVucyIsICJzIiwgInN0ciIsICJtb2RlbCIsICJwcmVQdW5jdHVhdGlvbiIsICJwb3N0UHVuY3R1YXRpb24iLCAiZW1vdGljb25zIiwgInBvc3QiLCAiaSIsICJjIiwgImFmdGVyIiwgIm1vZGVsIiwgInN0ciIsICJwb3N0IiwgIndoaXRlc3BhY2VfZGVmYXVsdCIsICJzdHIiLCAid29ybGQiLCAidW5pY29kZSIsICJzIiwgImkiLCAic3RyIiwgInN0ciIsICJ3b3JsZCIsICJraWxsVW5pY29kZSIsICJzdHIiLCAicGFyc2UiLCAid29ybGQiLCAibWV0aG9kcyIsICJtb2RlbCIsICJzcGxpdFNlbnRlbmNlcyIsICJ0IiwgInBhcnNlX2RlZmF1bHQiLCAiaXNBY3JvbnltIiwgImhhc0xldHRlciIsICJzdHIiLCAibWV0aG9kc19kZWZhdWx0IiwgIndoaXRlc3BhY2VfZGVmYXVsdCIsICJwYXJzZV9kZWZhdWx0IiwgImxleGljb24iLCAiYSIsICJoIiwgInN0ciIsICJrIiwgInMiLCAidW5pY29kZV9kZWZhdWx0IiwgIm1vZGVsX2RlZmF1bHQiLCAibGV4aWNvbiIsICJ1bmljb2RlX2RlZmF1bHQiLCAid29ybGQiLCAic3RyIiwgImFsaWFzZXMiLCAiaGFzRGFzaCIsICJzdHIiLCAiaSIsICJ0IiwgImluZGV4IiwgImkiLCAidCIsICJpbmRleCIsICJkb2N1bWVudCIsICJuIiwgImkiLCAid29yZENvdW50IiwgIm4iLCAiaSIsICJ0IiwgImkiLCAidCIsICJtZXRob2RzIiwgImNvbXB1dGVfZGVmYXVsdCIsICJwbHVnaW5fZGVmYXVsdCIsICJjb21wdXRlX2RlZmF1bHQiLCAibWV0aG9kc19kZWZhdWx0IiwgIm1vZGVsX2RlZmF1bHQiLCAiY29tcHV0ZV9kZWZhdWx0IiwgImFwaSIsICJWaWV3IiwgImFwaV9kZWZhdWx0IiwgIm9wdHMiLCAid29ybGQiLCAiaW5kZXgiLCAic3RyIiwgIm1heCIsICJwcmVmaXgiLCAiaXNPYmplY3QiLCAiZGVmYXVsdHMiLCAib3B0cyIsICJtb2RlbCIsICJzdHIiLCAibGliX2RlZmF1bHQiLCAibW9kZWwiLCAicGx1Z2luX2RlZmF1bHQiLCAiYXBpX2RlZmF1bHQiLCAibGliX2RlZmF1bHQiLCAiY29tcHV0ZV9kZWZhdWx0IiwgInBsdWdpbl9kZWZhdWx0IiwgIk9sbGFtYSIsICJtb2RlbCIsICJpIiwgInN0ciIsICJvdXQiLCAiaiIsICJpIiwgImMiLCAiaSIsICJoYXMiLCAicHJlZml4IiwgImlzX2FycmF5IiwgInB1c2giLCAiZGVmYXVsdHMiLCAiZmlsdGVyIiwgInNvcnQiLCAiaiIsICJvcHRzIiwgImkiLCAiZmV0Y2giLCAiUmVxdWVzdCIsICJSZXNwb25zZSIsICJIZWFkZXJzIiwgIkZvcm1EYXRhIiwgIkJsb2IiLCAiRmlsZSIsICJSZWFkYWJsZVN0cmVhbSIsICJvcHRzIiwgIl9hIiwgImkiLCAiZSIsICJjb25zdW1lZCIsICJlIiwgInNlbGYiLCAiUmVhZGFibGVTdHJlYW0iLCAiX2EiLCAiXyIsICJzdHIiLCAiaW5kZXgiLCAiX2EiLCAiRmlsZSIsICJwIiwgIm9wdHMiLCAiRm9ybURhdGEiLCAiZGVidWciLCAiX2EiLCAicGFyc2VSZXNwb25zZSIsICJyZXNvbHZlIiwgInAiLCAiZmV0Y2giLCAib3B0cyIsICJQYWdlIiwgInJldHJ5TWVzc2FnZSIsICJlIiwgIl8iLCAiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwgImsiLCAibWF0Y2giLCAibiIsICJfYSIsICJrIiwgImRlYnVnIiwgIl9hIiwgIm1vZGlmaWVkQXJnIiwgImMiLCAiciIsICJfYSIsICJnMiIsICJfYSIsICJfYSIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgInJlc29sdmUiLCAiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsICJpbmRleCIsICJsIiwgIl9hIiwgImlucHV0VG9vbCIsICJ0IiwgIl9hIiwgIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCAiYyIsICJmIiwgImkiLCAiY29udGVudCIsICJ0IiwgIm5hbWUiLCAiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlIiwgIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsIiwgIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0IiwgIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UiLCAiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMiLCAiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0IiwgIm9wdHMiLCAicGFyc2VKU09OIiwgImxlbmd0aCIsICJpbmRleCIsICJzdGFydCIsICJlc2NhcGUiLCAiZSIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCAiX2EiLCAiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCIsICJfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSIsICJfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmsiLCAiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRUb29sQ2FsbERvbmVFdmVudCIsICJfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdENvbnRlbnREb25lRXZlbnRzIiwgIl9DaGF0Q29tcGxldGlvblN0cmVhbV9lbmRSZXF1ZXN0IiwgIl9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQiLCAiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FjY3VtdWxhdGVDaGF0Q29tcGxldGlvbiIsICJpbmRleCIsICJjb250ZW50IiwgInJlZnVzYWwiLCAicmVzdCIsICJfYiIsICJfYyIsICJfZCIsICJyZXNvbHZlIiwgImNodW5rIiwgIm1vZGVsIiwgImkiLCAiaWQiLCAib3B0cyIsICJDb21wbGV0aW9ucyIsICJDaGF0IiwgIkNvbXBsZXRpb25zIiwgInJlc29sdmUiLCAiY2h1bmsiLCAiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsICJfYSIsICJpbmRleCIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgImFzc2VydE5ldmVyIiwgIl9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCIsICJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZU1lc3NhZ2UiLCAiX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW5TdGVwIiwgIl9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlRXZlbnQiLCAiX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCIsICJfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVNZXNzYWdlIiwgIl9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZUNvbnRlbnQiLCAiX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4iLCAiTWVzc2FnZXMiLCAiX2EiLCAiTWVzc2FnZXMiLCAiX2EiLCAiQ2hhdCIsICJDb21wbGV0aW9ucyIsICJfYSIsICJzdGFydCIsICJtb2RlbCIsICJoYXNBdXRvUGFyc2VhYmxlSW5wdXQiLCAicGFyc2VUb29sQ2FsbCIsICJjb250ZW50IiwgIm91dHB1dCIsICJfYSIsICJpc0F1dG9QYXJzYWJsZVRvb2wiLCAicGFyc2VUb29sQ2FsbCIsICJfYSIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCAiX2EiLCAiX1Jlc3BvbnNlU3RyZWFtX2JlZ2luUmVxdWVzdCIsICJfUmVzcG9uc2VTdHJlYW1fYWRkRXZlbnQiLCAiX1Jlc3BvbnNlU3RyZWFtX2VuZFJlcXVlc3QiLCAiX1Jlc3BvbnNlU3RyZWFtX2FjY3VtdWxhdGVSZXNwb25zZSIsICJyZXNvbHZlIiwgImV2ZW50IiwgIl9hIiwgInByb21pc2VzIiwgIkZpbGVzIiwgIl9hIiwgIkZpbGVzIiwgIl9hIiwgIm9wdHMiLCAiQ29tcGxldGlvbnMiLCAiX2EiLCAibW9kZWwiLCAiX2EiLCAibW9kZWwiLCAicGx1Z2luIiwgImkiLCAiaW1wb3J0X29ic2lkaWFuIiwgInBsdWdpbiIsICJfYSIsICJwbHVnaW4iLCAibW9kZWwiLCAicHJvZmlsZUNlbGwiLCAicHJvZmlsZURyb3Bkb3duIiwgInBsdWdpbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAicGx1Z2luIl0KfQo=
