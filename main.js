/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => Inscribe
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/extension/index.ts
var import_view = require("@codemirror/view");
var import_state = require("@codemirror/state");
var TextSplitStrategies = {
  /**
   * Word-level segmentation (space-delimited).
   * Accepts text until (and including) the first space.
   */
  word: (text) => {
    const nextSpace = text.indexOf(" ");
    return nextSpace === -1 ? { accepted: text, remaining: "" } : {
      accepted: text.slice(0, nextSpace + 1),
      remaining: text.slice(nextSpace + 1)
    };
  },
  /**
   * Sentence-level segmentation (punctuation followed by whitespace).
   */
  sentence: (text) => {
    const match2 = text.match(/[.!?]\s+/);
    if (match2 && match2.index !== void 0) {
      return {
        accepted: text.slice(0, match2.index + 1),
        remaining: text.slice(match2.index + 1)
      };
    }
    return { accepted: text, remaining: "" };
  },
  /**
   * Paragraph-level segmentation (double newline).
   */
  paragraph: (text) => {
    const paragraphEnd = text.indexOf("\n\n");
    return paragraphEnd === -1 ? { accepted: text, remaining: "" } : {
      accepted: text.slice(0, paragraphEnd + 2),
      remaining: text.slice(paragraphEnd + 2)
    };
  },
  /**
   * Atomic acceptance â€“ consume the entire suggestion.
   */
  full: (text) => ({ accepted: text, remaining: "" })
};
var SuggestionUpdateEffect = import_state.StateEffect.define();
var suggestionSessionState = import_state.StateField.define({
  create: () => getResetSession(),
  update(session, transaction) {
    const effect = transaction.effects.find(
      (e2) => e2.is(SuggestionUpdateEffect)
    );
    if (effect)
      return updateSessionFromEffect(effect.value);
    if (transaction.docChanged && session.remainingText && session.anchorPosition !== null) {
      return updateSessionOnDocumentChange(session, transaction);
    }
    if (session.remainingText !== null && session.anchorPosition !== null) {
      return updateSessionOnCursorDrift(session, transaction);
    }
    return session;
  }
});
function getResetSession() {
  return {
    fullText: null,
    remainingText: null,
    baselineDocument: null,
    anchorPosition: null
  };
}
function updateSessionFromEffect(effect) {
  return effect.content === null ? getResetSession() : initializeSession(effect);
}
function initializeSession(effect) {
  return {
    fullText: effect.content,
    remainingText: effect.content,
    baselineDocument: effect.document,
    anchorPosition: effect.anchor
  };
}
function updateSessionOnDocumentChange(session, transaction) {
  let insertedContent = "";
  let insertionAtAnchor = false;
  transaction.changes.iterChanges((fromA, toA, _fromB, _toB, inserted) => {
    if (fromA === session.anchorPosition && toA === fromA) {
      insertedContent = inserted.toString();
      insertionAtAnchor = true;
    }
  });
  if (!insertionAtAnchor || !session.remainingText) {
    return invalidateSession(session);
  }
  if (session.remainingText.startsWith(insertedContent)) {
    return advanceSession(session, insertedContent.length);
  }
  return invalidateSession(session);
}
function advanceSession(session, consumedLength) {
  return {
    ...session,
    remainingText: session.remainingText.slice(consumedLength).length > 0 ? session.remainingText.slice(consumedLength) : null,
    anchorPosition: session.anchorPosition + consumedLength
  };
}
function invalidateSession(session) {
  return {
    ...session,
    remainingText: null,
    anchorPosition: null
  };
}
function updateSessionOnCursorDrift(session, transaction) {
  return transaction.state.selection.main.head !== session.anchorPosition ? invalidateSession(session) : session;
}
var _SuggestionWidget = class extends import_view.WidgetType {
  constructor(content) {
    super();
    this.content = content;
  }
  toDOM() {
    const span = document.createElement("span");
    span.className = _SuggestionWidget.CSS_CLASS;
    span.style.opacity = _SuggestionWidget.OPACITY.toString();
    span.textContent = this.content;
    return span;
  }
};
var SuggestionWidget = _SuggestionWidget;
SuggestionWidget.OPACITY = 0.4;
SuggestionWidget.CSS_CLASS = "cm-inline-prediction";
var suggestionRenderer = import_view.ViewPlugin.fromClass(
  class {
    constructor() {
      this.decorations = import_view.Decoration.none;
    }
    update(update) {
      const session = update.state.field(suggestionSessionState);
      this.decorations = session.remainingText ? this.createDecoration(update.view, session.remainingText) : import_view.Decoration.none;
    }
    createDecoration(view, suggestionText) {
      const cursorPosition = view.state.selection.main.head;
      return import_view.Decoration.set([
        import_view.Decoration.widget({
          widget: new SuggestionWidget(suggestionText),
          side: 1
        }).range(cursorPosition)
      ]);
    }
  },
  { decorations: (v) => v.decorations }
);
var createDebouncedFetcher = (fetch4, getDelay) => {
  let activeRequest = true;
  let timeoutId;
  const throttledFetch = async function* (state) {
    clearTimeout(timeoutId);
    activeRequest = true;
    await new Promise((resolve2) => {
      timeoutId = setTimeout(resolve2, getDelay());
    });
    if (activeRequest)
      yield* fetch4(state);
  };
  const fetcherPlugin = import_view.ViewPlugin.fromClass(
    class {
      constructor() {
        this.currentRequestId = 0;
      }
      async update(update) {
        const state = update.state;
        if (!update.docChanged || state.field(suggestionSessionState).remainingText)
          return;
        const requestId = ++this.currentRequestId;
        for await (const suggestion of throttledFetch(state)) {
          if (requestId !== this.currentRequestId)
            return;
          update.view.dispatch({
            effects: SuggestionUpdateEffect.of({
              content: suggestion.text,
              document: state.doc,
              anchor: state.selection.main.head
            })
          });
        }
      }
    }
  );
  return {
    fetcherPlugin,
    terminate: () => {
      activeRequest = false;
      clearTimeout(timeoutId);
    }
  };
};
var createAcceptanceHandler = (terminateFetch, hotkey, getOptions) => import_state.Prec.highest(
  import_view.keymap.of([
    {
      key: hotkey,
      run: (view) => {
        var _a2;
        const session = view.state.field(suggestionSessionState);
        if (!session.remainingText)
          return false;
        const dynamicOptions = getOptions();
        const segmentationKey = (_a2 = dynamicOptions.splitStrategy) != null ? _a2 : "word";
        const { accepted, remaining } = TextSplitStrategies[segmentationKey](session.remainingText);
        if (!accepted)
          return false;
        view.dispatch({
          ...insertCompletion(view.state, accepted),
          effects: SuggestionUpdateEffect.of({
            content: remaining || null,
            document: remaining ? session.baselineDocument : null,
            anchor: remaining ? session.anchorPosition + accepted.length : null
          })
        });
        if (!remaining)
          terminateFetch();
        return true;
      }
    }
  ])
);
var insertCompletion = (state, text) => {
  const cursorPos = state.selection.main.head;
  return {
    ...state.changeByRange(() => ({
      changes: { from: cursorPos, insert: text },
      range: import_state.EditorSelection.cursor(cursorPos + text.length)
    })),
    userEvent: "completion.accept"
  };
};
function inlineSuggestions(config) {
  const { fetchFunc, getOptions } = config;
  const staticHotkey = config.acceptanceHotkey || "Tab";
  const normalizeFetch = async function* (state) {
    const result = await fetchFunc(state);
    if (Symbol.asyncIterator in result) {
      yield* result;
    } else {
      yield result;
    }
  };
  const getDelay = () => {
    var _a2;
    return (_a2 = getOptions().delayMs) != null ? _a2 : 300;
  };
  const { fetcherPlugin, terminate } = createDebouncedFetcher(normalizeFetch, getDelay);
  const acceptanceHandler = createAcceptanceHandler(terminate, staticHotkey, getOptions);
  return [
    suggestionSessionState,
    fetcherPlugin,
    suggestionRenderer,
    acceptanceHandler
  ];
}

// node_modules/ollama/dist/index.mjs
var import_fs = __toESM(require("fs"), 1);
var import_path = require("path");

// node_modules/whatwg-fetch/fetch.js
var g = typeof globalThis !== "undefined" && globalThis || typeof self !== "undefined" && self || // eslint-disable-next-line no-undef
typeof global !== "undefined" && global || {};
var support = {
  searchParams: "URLSearchParams" in g,
  iterable: "Symbol" in g && "iterator" in Symbol,
  blob: "FileReader" in g && "Blob" in g && function() {
    try {
      new Blob();
      return true;
    } catch (e2) {
      return false;
    }
  }(),
  formData: "FormData" in g,
  arrayBuffer: "ArrayBuffer" in g
};
function isDataView(obj) {
  return obj && DataView.prototype.isPrototypeOf(obj);
}
if (support.arrayBuffer) {
  viewClasses = [
    "[object Int8Array]",
    "[object Uint8Array]",
    "[object Uint8ClampedArray]",
    "[object Int16Array]",
    "[object Uint16Array]",
    "[object Int32Array]",
    "[object Uint32Array]",
    "[object Float32Array]",
    "[object Float64Array]"
  ];
  isArrayBufferView = ArrayBuffer.isView || function(obj) {
    return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;
  };
}
var viewClasses;
var isArrayBufferView;
function normalizeName(name) {
  if (typeof name !== "string") {
    name = String(name);
  }
  if (/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(name) || name === "") {
    throw new TypeError('Invalid character in header field name: "' + name + '"');
  }
  return name.toLowerCase();
}
function normalizeValue(value) {
  if (typeof value !== "string") {
    value = String(value);
  }
  return value;
}
function iteratorFor(items) {
  var iterator = {
    next: function() {
      var value = items.shift();
      return { done: value === void 0, value };
    }
  };
  if (support.iterable) {
    iterator[Symbol.iterator] = function() {
      return iterator;
    };
  }
  return iterator;
}
function Headers2(headers) {
  this.map = {};
  if (headers instanceof Headers2) {
    headers.forEach(function(value, name) {
      this.append(name, value);
    }, this);
  } else if (Array.isArray(headers)) {
    headers.forEach(function(header) {
      if (header.length != 2) {
        throw new TypeError("Headers constructor: expected name/value pair to be length 2, found" + header.length);
      }
      this.append(header[0], header[1]);
    }, this);
  } else if (headers) {
    Object.getOwnPropertyNames(headers).forEach(function(name) {
      this.append(name, headers[name]);
    }, this);
  }
}
Headers2.prototype.append = function(name, value) {
  name = normalizeName(name);
  value = normalizeValue(value);
  var oldValue = this.map[name];
  this.map[name] = oldValue ? oldValue + ", " + value : value;
};
Headers2.prototype["delete"] = function(name) {
  delete this.map[normalizeName(name)];
};
Headers2.prototype.get = function(name) {
  name = normalizeName(name);
  return this.has(name) ? this.map[name] : null;
};
Headers2.prototype.has = function(name) {
  return this.map.hasOwnProperty(normalizeName(name));
};
Headers2.prototype.set = function(name, value) {
  this.map[normalizeName(name)] = normalizeValue(value);
};
Headers2.prototype.forEach = function(callback, thisArg) {
  for (var name in this.map) {
    if (this.map.hasOwnProperty(name)) {
      callback.call(thisArg, this.map[name], name, this);
    }
  }
};
Headers2.prototype.keys = function() {
  var items = [];
  this.forEach(function(value, name) {
    items.push(name);
  });
  return iteratorFor(items);
};
Headers2.prototype.values = function() {
  var items = [];
  this.forEach(function(value) {
    items.push(value);
  });
  return iteratorFor(items);
};
Headers2.prototype.entries = function() {
  var items = [];
  this.forEach(function(value, name) {
    items.push([name, value]);
  });
  return iteratorFor(items);
};
if (support.iterable) {
  Headers2.prototype[Symbol.iterator] = Headers2.prototype.entries;
}
function consumed(body) {
  if (body._noBody)
    return;
  if (body.bodyUsed) {
    return Promise.reject(new TypeError("Already read"));
  }
  body.bodyUsed = true;
}
function fileReaderReady(reader) {
  return new Promise(function(resolve2, reject) {
    reader.onload = function() {
      resolve2(reader.result);
    };
    reader.onerror = function() {
      reject(reader.error);
    };
  });
}
function readBlobAsArrayBuffer(blob) {
  var reader = new FileReader();
  var promise = fileReaderReady(reader);
  reader.readAsArrayBuffer(blob);
  return promise;
}
function readBlobAsText(blob) {
  var reader = new FileReader();
  var promise = fileReaderReady(reader);
  var match2 = /charset=([A-Za-z0-9_-]+)/.exec(blob.type);
  var encoding = match2 ? match2[1] : "utf-8";
  reader.readAsText(blob, encoding);
  return promise;
}
function readArrayBufferAsText(buf) {
  var view = new Uint8Array(buf);
  var chars = new Array(view.length);
  for (var i3 = 0; i3 < view.length; i3++) {
    chars[i3] = String.fromCharCode(view[i3]);
  }
  return chars.join("");
}
function bufferClone(buf) {
  if (buf.slice) {
    return buf.slice(0);
  } else {
    var view = new Uint8Array(buf.byteLength);
    view.set(new Uint8Array(buf));
    return view.buffer;
  }
}
function Body() {
  this.bodyUsed = false;
  this._initBody = function(body) {
    this.bodyUsed = this.bodyUsed;
    this._bodyInit = body;
    if (!body) {
      this._noBody = true;
      this._bodyText = "";
    } else if (typeof body === "string") {
      this._bodyText = body;
    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
      this._bodyBlob = body;
    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
      this._bodyFormData = body;
    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
      this._bodyText = body.toString();
    } else if (support.arrayBuffer && support.blob && isDataView(body)) {
      this._bodyArrayBuffer = bufferClone(body.buffer);
      this._bodyInit = new Blob([this._bodyArrayBuffer]);
    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
      this._bodyArrayBuffer = bufferClone(body);
    } else {
      this._bodyText = body = Object.prototype.toString.call(body);
    }
    if (!this.headers.get("content-type")) {
      if (typeof body === "string") {
        this.headers.set("content-type", "text/plain;charset=UTF-8");
      } else if (this._bodyBlob && this._bodyBlob.type) {
        this.headers.set("content-type", this._bodyBlob.type);
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
      }
    }
  };
  if (support.blob) {
    this.blob = function() {
      var rejected = consumed(this);
      if (rejected) {
        return rejected;
      }
      if (this._bodyBlob) {
        return Promise.resolve(this._bodyBlob);
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(new Blob([this._bodyArrayBuffer]));
      } else if (this._bodyFormData) {
        throw new Error("could not read FormData body as blob");
      } else {
        return Promise.resolve(new Blob([this._bodyText]));
      }
    };
  }
  this.arrayBuffer = function() {
    if (this._bodyArrayBuffer) {
      var isConsumed = consumed(this);
      if (isConsumed) {
        return isConsumed;
      } else if (ArrayBuffer.isView(this._bodyArrayBuffer)) {
        return Promise.resolve(
          this._bodyArrayBuffer.buffer.slice(
            this._bodyArrayBuffer.byteOffset,
            this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength
          )
        );
      } else {
        return Promise.resolve(this._bodyArrayBuffer);
      }
    } else if (support.blob) {
      return this.blob().then(readBlobAsArrayBuffer);
    } else {
      throw new Error("could not read as ArrayBuffer");
    }
  };
  this.text = function() {
    var rejected = consumed(this);
    if (rejected) {
      return rejected;
    }
    if (this._bodyBlob) {
      return readBlobAsText(this._bodyBlob);
    } else if (this._bodyArrayBuffer) {
      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));
    } else if (this._bodyFormData) {
      throw new Error("could not read FormData body as text");
    } else {
      return Promise.resolve(this._bodyText);
    }
  };
  if (support.formData) {
    this.formData = function() {
      return this.text().then(decode);
    };
  }
  this.json = function() {
    return this.text().then(JSON.parse);
  };
  return this;
}
var methods = ["CONNECT", "DELETE", "GET", "HEAD", "OPTIONS", "PATCH", "POST", "PUT", "TRACE"];
function normalizeMethod(method) {
  var upcased = method.toUpperCase();
  return methods.indexOf(upcased) > -1 ? upcased : method;
}
function Request2(input, options) {
  if (!(this instanceof Request2)) {
    throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
  }
  options = options || {};
  var body = options.body;
  if (input instanceof Request2) {
    if (input.bodyUsed) {
      throw new TypeError("Already read");
    }
    this.url = input.url;
    this.credentials = input.credentials;
    if (!options.headers) {
      this.headers = new Headers2(input.headers);
    }
    this.method = input.method;
    this.mode = input.mode;
    this.signal = input.signal;
    if (!body && input._bodyInit != null) {
      body = input._bodyInit;
      input.bodyUsed = true;
    }
  } else {
    this.url = String(input);
  }
  this.credentials = options.credentials || this.credentials || "same-origin";
  if (options.headers || !this.headers) {
    this.headers = new Headers2(options.headers);
  }
  this.method = normalizeMethod(options.method || this.method || "GET");
  this.mode = options.mode || this.mode || null;
  this.signal = options.signal || this.signal || function() {
    if ("AbortController" in g) {
      var ctrl = new AbortController();
      return ctrl.signal;
    }
  }();
  this.referrer = null;
  if ((this.method === "GET" || this.method === "HEAD") && body) {
    throw new TypeError("Body not allowed for GET or HEAD requests");
  }
  this._initBody(body);
  if (this.method === "GET" || this.method === "HEAD") {
    if (options.cache === "no-store" || options.cache === "no-cache") {
      var reParamSearch = /([?&])_=[^&]*/;
      if (reParamSearch.test(this.url)) {
        this.url = this.url.replace(reParamSearch, "$1_=" + new Date().getTime());
      } else {
        var reQueryString = /\?/;
        this.url += (reQueryString.test(this.url) ? "&" : "?") + "_=" + new Date().getTime();
      }
    }
  }
}
Request2.prototype.clone = function() {
  return new Request2(this, { body: this._bodyInit });
};
function decode(body) {
  var form = new FormData();
  body.trim().split("&").forEach(function(bytes) {
    if (bytes) {
      var split2 = bytes.split("=");
      var name = split2.shift().replace(/\+/g, " ");
      var value = split2.join("=").replace(/\+/g, " ");
      form.append(decodeURIComponent(name), decodeURIComponent(value));
    }
  });
  return form;
}
function parseHeaders(rawHeaders) {
  var headers = new Headers2();
  var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, " ");
  preProcessedHeaders.split("\r").map(function(header) {
    return header.indexOf("\n") === 0 ? header.substr(1, header.length) : header;
  }).forEach(function(line) {
    var parts = line.split(":");
    var key = parts.shift().trim();
    if (key) {
      var value = parts.join(":").trim();
      try {
        headers.append(key, value);
      } catch (error) {
        console.warn("Response " + error.message);
      }
    }
  });
  return headers;
}
Body.call(Request2.prototype);
function Response2(bodyInit, options) {
  if (!(this instanceof Response2)) {
    throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
  }
  if (!options) {
    options = {};
  }
  this.type = "default";
  this.status = options.status === void 0 ? 200 : options.status;
  if (this.status < 200 || this.status > 599) {
    throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");
  }
  this.ok = this.status >= 200 && this.status < 300;
  this.statusText = options.statusText === void 0 ? "" : "" + options.statusText;
  this.headers = new Headers2(options.headers);
  this.url = options.url || "";
  this._initBody(bodyInit);
}
Body.call(Response2.prototype);
Response2.prototype.clone = function() {
  return new Response2(this._bodyInit, {
    status: this.status,
    statusText: this.statusText,
    headers: new Headers2(this.headers),
    url: this.url
  });
};
Response2.error = function() {
  var response = new Response2(null, { status: 200, statusText: "" });
  response.ok = false;
  response.status = 0;
  response.type = "error";
  return response;
};
var redirectStatuses = [301, 302, 303, 307, 308];
Response2.redirect = function(url, status) {
  if (redirectStatuses.indexOf(status) === -1) {
    throw new RangeError("Invalid status code");
  }
  return new Response2(null, { status, headers: { location: url } });
};
var DOMException = g.DOMException;
try {
  new DOMException();
} catch (err) {
  DOMException = function(message, name) {
    this.message = message;
    this.name = name;
    var error = Error(message);
    this.stack = error.stack;
  };
  DOMException.prototype = Object.create(Error.prototype);
  DOMException.prototype.constructor = DOMException;
}
function fetch2(input, init) {
  return new Promise(function(resolve2, reject) {
    var request = new Request2(input, init);
    if (request.signal && request.signal.aborted) {
      return reject(new DOMException("Aborted", "AbortError"));
    }
    var xhr = new XMLHttpRequest();
    function abortXhr() {
      xhr.abort();
    }
    xhr.onload = function() {
      var options = {
        statusText: xhr.statusText,
        headers: parseHeaders(xhr.getAllResponseHeaders() || "")
      };
      if (request.url.indexOf("file://") === 0 && (xhr.status < 200 || xhr.status > 599)) {
        options.status = 200;
      } else {
        options.status = xhr.status;
      }
      options.url = "responseURL" in xhr ? xhr.responseURL : options.headers.get("X-Request-URL");
      var body = "response" in xhr ? xhr.response : xhr.responseText;
      setTimeout(function() {
        resolve2(new Response2(body, options));
      }, 0);
    };
    xhr.onerror = function() {
      setTimeout(function() {
        reject(new TypeError("Network request failed"));
      }, 0);
    };
    xhr.ontimeout = function() {
      setTimeout(function() {
        reject(new TypeError("Network request timed out"));
      }, 0);
    };
    xhr.onabort = function() {
      setTimeout(function() {
        reject(new DOMException("Aborted", "AbortError"));
      }, 0);
    };
    function fixUrl(url) {
      try {
        return url === "" && g.location.href ? g.location.href : url;
      } catch (e2) {
        return url;
      }
    }
    xhr.open(request.method, fixUrl(request.url), true);
    if (request.credentials === "include") {
      xhr.withCredentials = true;
    } else if (request.credentials === "omit") {
      xhr.withCredentials = false;
    }
    if ("responseType" in xhr) {
      if (support.blob) {
        xhr.responseType = "blob";
      } else if (support.arrayBuffer) {
        xhr.responseType = "arraybuffer";
      }
    }
    if (init && typeof init.headers === "object" && !(init.headers instanceof Headers2 || g.Headers && init.headers instanceof g.Headers)) {
      var names = [];
      Object.getOwnPropertyNames(init.headers).forEach(function(name) {
        names.push(normalizeName(name));
        xhr.setRequestHeader(name, normalizeValue(init.headers[name]));
      });
      request.headers.forEach(function(value, name) {
        if (names.indexOf(name) === -1) {
          xhr.setRequestHeader(name, value);
        }
      });
    } else {
      request.headers.forEach(function(value, name) {
        xhr.setRequestHeader(name, value);
      });
    }
    if (request.signal) {
      request.signal.addEventListener("abort", abortXhr);
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
          request.signal.removeEventListener("abort", abortXhr);
        }
      };
    }
    xhr.send(typeof request._bodyInit === "undefined" ? null : request._bodyInit);
  });
}
fetch2.polyfill = true;
if (!g.fetch) {
  g.fetch = fetch2;
  g.Headers = Headers2;
  g.Request = Request2;
  g.Response = Response2;
}

// node_modules/ollama/dist/browser.mjs
var version = "0.5.12";
var __defProp$1 = Object.defineProperty;
var __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField$1 = (obj, key, value) => {
  __defNormalProp$1(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
var ResponseError = class extends Error {
  constructor(error, status_code) {
    super(error);
    this.error = error;
    this.status_code = status_code;
    this.name = "ResponseError";
    if (Error.captureStackTrace) {
      Error.captureStackTrace(this, ResponseError);
    }
  }
};
var AbortableAsyncIterator = class {
  constructor(abortController, itr, doneCallback) {
    __publicField$1(this, "abortController");
    __publicField$1(this, "itr");
    __publicField$1(this, "doneCallback");
    this.abortController = abortController;
    this.itr = itr;
    this.doneCallback = doneCallback;
  }
  abort() {
    this.abortController.abort();
  }
  async *[Symbol.asyncIterator]() {
    for await (const message of this.itr) {
      if ("error" in message) {
        throw new Error(message.error);
      }
      yield message;
      if (message.done || message.status === "success") {
        this.doneCallback();
        return;
      }
    }
    throw new Error("Did not receive done or success response in stream.");
  }
};
var checkOk = async (response) => {
  var _a2;
  if (response.ok) {
    return;
  }
  let message = `Error ${response.status}: ${response.statusText}`;
  let errorData = null;
  if ((_a2 = response.headers.get("content-type")) == null ? void 0 : _a2.includes("application/json")) {
    try {
      errorData = await response.json();
      message = errorData.error || message;
    } catch (error) {
      console.log("Failed to parse error response as JSON");
    }
  } else {
    try {
      console.log("Getting text from response");
      const textResponse = await response.text();
      message = textResponse || message;
    } catch (error) {
      console.log("Failed to get text from error response");
    }
  }
  throw new ResponseError(message, response.status);
};
function getPlatform() {
  if (typeof window !== "undefined" && window.navigator) {
    return `${window.navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`;
  } else if (typeof process !== "undefined") {
    return `${process.arch} ${process.platform} Node.js/${process.version}`;
  }
  return "";
}
var fetchWithHeaders = async (fetch4, url, options = {}) => {
  const defaultHeaders = {
    "Content-Type": "application/json",
    Accept: "application/json",
    "User-Agent": `ollama-js/${version} (${getPlatform()})`
  };
  if (!options.headers) {
    options.headers = {};
  }
  const customHeaders = Object.fromEntries(
    Object.entries(options.headers).filter(([key]) => !Object.keys(defaultHeaders).some((defaultKey) => defaultKey.toLowerCase() === key.toLowerCase()))
  );
  options.headers = {
    ...defaultHeaders,
    ...customHeaders
  };
  return fetch4(url, options);
};
var get = async (fetch4, host, options) => {
  const response = await fetchWithHeaders(fetch4, host, {
    headers: options == null ? void 0 : options.headers
  });
  await checkOk(response);
  return response;
};
var post = async (fetch4, host, data, options) => {
  const isRecord = (input) => {
    return input !== null && typeof input === "object" && !Array.isArray(input);
  };
  const formattedData = isRecord(data) ? JSON.stringify(data) : data;
  const response = await fetchWithHeaders(fetch4, host, {
    method: "POST",
    body: formattedData,
    signal: options == null ? void 0 : options.signal,
    headers: options == null ? void 0 : options.headers
  });
  await checkOk(response);
  return response;
};
var del = async (fetch4, host, data, options) => {
  const response = await fetchWithHeaders(fetch4, host, {
    method: "DELETE",
    body: JSON.stringify(data),
    headers: options == null ? void 0 : options.headers
  });
  await checkOk(response);
  return response;
};
var parseJSON = async function* (itr) {
  var _a2;
  const decoder = new TextDecoder("utf-8");
  let buffer = "";
  const reader = itr.getReader();
  while (true) {
    const { done, value: chunk } = await reader.read();
    if (done) {
      break;
    }
    buffer += decoder.decode(chunk);
    const parts = buffer.split("\n");
    buffer = (_a2 = parts.pop()) != null ? _a2 : "";
    for (const part of parts) {
      try {
        yield JSON.parse(part);
      } catch (error) {
        console.warn("invalid json: ", part);
      }
    }
  }
  for (const part of buffer.split("\n").filter((p2) => p2 !== "")) {
    try {
      yield JSON.parse(part);
    } catch (error) {
      console.warn("invalid json: ", part);
    }
  }
};
var formatHost = (host) => {
  if (!host) {
    return "http://127.0.0.1:11434";
  }
  let isExplicitProtocol = host.includes("://");
  if (host.startsWith(":")) {
    host = `http://127.0.0.1${host}`;
    isExplicitProtocol = true;
  }
  if (!isExplicitProtocol) {
    host = `http://${host}`;
  }
  const url = new URL(host);
  let port = url.port;
  if (!port) {
    if (!isExplicitProtocol) {
      port = "11434";
    } else {
      port = url.protocol === "https:" ? "443" : "80";
    }
  }
  let formattedHost = `${url.protocol}//${url.hostname}:${port}${url.pathname}`;
  if (formattedHost.endsWith("/")) {
    formattedHost = formattedHost.slice(0, -1);
  }
  return formattedHost;
};
var __defProp2 = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
var Ollama$1 = class Ollama {
  constructor(config) {
    var _a2, _b;
    __publicField(this, "config");
    __publicField(this, "fetch");
    __publicField(this, "ongoingStreamedRequests", []);
    this.config = {
      host: "",
      headers: config == null ? void 0 : config.headers
    };
    if (!(config == null ? void 0 : config.proxy)) {
      this.config.host = formatHost((_a2 = config == null ? void 0 : config.host) != null ? _a2 : "http://127.0.0.1:11434");
    }
    this.fetch = (_b = config == null ? void 0 : config.fetch) != null ? _b : fetch;
  }
  // Abort any ongoing streamed requests to Ollama
  abort() {
    for (const request of this.ongoingStreamedRequests) {
      request.abort();
    }
    this.ongoingStreamedRequests.length = 0;
  }
  /**
   * Processes a request to the Ollama server. If the request is streamable, it will return a
   * AbortableAsyncIterator that yields the response messages. Otherwise, it will return the response
   * object.
   * @param endpoint {string} - The endpoint to send the request to.
   * @param request {object} - The request object to send to the endpoint.
   * @protected {T | AbortableAsyncIterator<T>} - The response object or a AbortableAsyncIterator that yields
   * response messages.
   * @throws {Error} - If the response body is missing or if the response is an error.
   * @returns {Promise<T | AbortableAsyncIterator<T>>} - The response object or a AbortableAsyncIterator that yields the streamed response.
   */
  async processStreamableRequest(endpoint, request) {
    var _a2;
    request.stream = (_a2 = request.stream) != null ? _a2 : false;
    const host = `${this.config.host}/api/${endpoint}`;
    if (request.stream) {
      const abortController = new AbortController();
      const response2 = await post(this.fetch, host, request, {
        signal: abortController.signal,
        headers: this.config.headers
      });
      if (!response2.body) {
        throw new Error("Missing body");
      }
      const itr = parseJSON(response2.body);
      const abortableAsyncIterator = new AbortableAsyncIterator(
        abortController,
        itr,
        () => {
          const i3 = this.ongoingStreamedRequests.indexOf(abortableAsyncIterator);
          if (i3 > -1) {
            this.ongoingStreamedRequests.splice(i3, 1);
          }
        }
      );
      this.ongoingStreamedRequests.push(abortableAsyncIterator);
      return abortableAsyncIterator;
    }
    const response = await post(this.fetch, host, request, {
      headers: this.config.headers
    });
    return await response.json();
  }
  /**
   * Encodes an image to base64 if it is a Uint8Array.
   * @param image {Uint8Array | string} - The image to encode.
   * @returns {Promise<string>} - The base64 encoded image.
   */
  async encodeImage(image) {
    if (typeof image !== "string") {
      const uint8Array = new Uint8Array(image);
      let byteString = "";
      const len = uint8Array.byteLength;
      for (let i3 = 0; i3 < len; i3++) {
        byteString += String.fromCharCode(uint8Array[i3]);
      }
      return btoa(byteString);
    }
    return image;
  }
  /**
   * Generates a response from a text prompt.
   * @param request {GenerateRequest} - The request object.
   * @returns {Promise<GenerateResponse | AbortableAsyncIterator<GenerateResponse>>} - The response object or
   * an AbortableAsyncIterator that yields response messages.
   */
  async generate(request) {
    if (request.images) {
      request.images = await Promise.all(request.images.map(this.encodeImage.bind(this)));
    }
    return this.processStreamableRequest("generate", request);
  }
  /**
   * Chats with the model. The request object can contain messages with images that are either
   * Uint8Arrays or base64 encoded strings. The images will be base64 encoded before sending the
   * request.
   * @param request {ChatRequest} - The request object.
   * @returns {Promise<ChatResponse | AbortableAsyncIterator<ChatResponse>>} - The response object or an
   * AbortableAsyncIterator that yields response messages.
   */
  async chat(request) {
    if (request.messages) {
      for (const message of request.messages) {
        if (message.images) {
          message.images = await Promise.all(
            message.images.map(this.encodeImage.bind(this))
          );
        }
      }
    }
    return this.processStreamableRequest("chat", request);
  }
  /**
   * Creates a new model from a stream of data.
   * @param request {CreateRequest} - The request object.
   * @returns {Promise<ProgressResponse | AbortableAsyncIterator<ProgressResponse>>} - The response object or a stream of progress responses.
   */
  async create(request) {
    return this.processStreamableRequest("create", {
      ...request
    });
  }
  /**
   * Pulls a model from the Ollama registry. The request object can contain a stream flag to indicate if the
   * response should be streamed.
   * @param request {PullRequest} - The request object.
   * @returns {Promise<ProgressResponse | AbortableAsyncIterator<ProgressResponse>>} - The response object or
   * an AbortableAsyncIterator that yields response messages.
   */
  async pull(request) {
    return this.processStreamableRequest("pull", {
      name: request.model,
      stream: request.stream,
      insecure: request.insecure
    });
  }
  /**
   * Pushes a model to the Ollama registry. The request object can contain a stream flag to indicate if the
   * response should be streamed.
   * @param request {PushRequest} - The request object.
   * @returns {Promise<ProgressResponse | AbortableAsyncIterator<ProgressResponse>>} - The response object or
   * an AbortableAsyncIterator that yields response messages.
   */
  async push(request) {
    return this.processStreamableRequest("push", {
      name: request.model,
      stream: request.stream,
      insecure: request.insecure
    });
  }
  /**
   * Deletes a model from the server. The request object should contain the name of the model to
   * delete.
   * @param request {DeleteRequest} - The request object.
   * @returns {Promise<StatusResponse>} - The response object.
   */
  async delete(request) {
    await del(
      this.fetch,
      `${this.config.host}/api/delete`,
      { name: request.model },
      { headers: this.config.headers }
    );
    return { status: "success" };
  }
  /**
   * Copies a model from one name to another. The request object should contain the name of the
   * model to copy and the new name.
   * @param request {CopyRequest} - The request object.
   * @returns {Promise<StatusResponse>} - The response object.
   */
  async copy(request) {
    await post(this.fetch, `${this.config.host}/api/copy`, { ...request }, {
      headers: this.config.headers
    });
    return { status: "success" };
  }
  /**
   * Lists the models on the server.
   * @returns {Promise<ListResponse>} - The response object.
   * @throws {Error} - If the response body is missing.
   */
  async list() {
    const response = await get(this.fetch, `${this.config.host}/api/tags`, {
      headers: this.config.headers
    });
    return await response.json();
  }
  /**
   * Shows the metadata of a model. The request object should contain the name of the model.
   * @param request {ShowRequest} - The request object.
   * @returns {Promise<ShowResponse>} - The response object.
   */
  async show(request) {
    const response = await post(this.fetch, `${this.config.host}/api/show`, {
      ...request
    }, {
      headers: this.config.headers
    });
    return await response.json();
  }
  /**
   * Embeds text input into vectors.
   * @param request {EmbedRequest} - The request object.
   * @returns {Promise<EmbedResponse>} - The response object.
   */
  async embed(request) {
    const response = await post(this.fetch, `${this.config.host}/api/embed`, {
      ...request
    }, {
      headers: this.config.headers
    });
    return await response.json();
  }
  /**
   * Embeds a text prompt into a vector.
   * @param request {EmbeddingsRequest} - The request object.
   * @returns {Promise<EmbeddingsResponse>} - The response object.
   */
  async embeddings(request) {
    const response = await post(this.fetch, `${this.config.host}/api/embeddings`, {
      ...request
    }, {
      headers: this.config.headers
    });
    return await response.json();
  }
  /**
   * Lists the running models on the server
   * @returns {Promise<ListResponse>} - The response object.
   * @throws {Error} - If the response body is missing.
   */
  async ps() {
    const response = await get(this.fetch, `${this.config.host}/api/ps`, {
      headers: this.config.headers
    });
    return await response.json();
  }
};
var browser = new Ollama$1();

// node_modules/ollama/dist/index.mjs
var Ollama2 = class extends Ollama$1 {
  async encodeImage(image) {
    if (typeof image !== "string") {
      return Buffer.from(image).toString("base64");
    }
    try {
      if (import_fs.default.existsSync(image)) {
        const fileBuffer = await import_fs.promises.readFile((0, import_path.resolve)(image));
        return Buffer.from(fileBuffer).toString("base64");
      }
    } catch (e2) {
    }
    return image;
  }
  /**
   * checks if a file exists
   * @param path {string} - The path to the file
   * @private @internal
   * @returns {Promise<boolean>} - Whether the file exists or not
   */
  async fileExists(path) {
    try {
      await import_fs.promises.access(path);
      return true;
    } catch (e2) {
      return false;
    }
  }
  async create(request) {
    if (request.from && await this.fileExists((0, import_path.resolve)(request.from))) {
      throw Error("Creating with a local path is not currently supported from ollama-js");
    }
    if (request.stream) {
      return super.create(request);
    } else {
      return super.create(request);
    }
  }
};
var index = new Ollama2();

// node_modules/mustache/mustache.mjs
var objectToString = Object.prototype.toString;
var isArray = Array.isArray || function isArrayPolyfill(object) {
  return objectToString.call(object) === "[object Array]";
};
function isFunction(object) {
  return typeof object === "function";
}
function typeStr(obj) {
  return isArray(obj) ? "array" : typeof obj;
}
function escapeRegExp(string) {
  return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
}
function hasProperty(obj, propName) {
  return obj != null && typeof obj === "object" && propName in obj;
}
function primitiveHasOwnProperty(primitive, propName) {
  return primitive != null && typeof primitive !== "object" && primitive.hasOwnProperty && primitive.hasOwnProperty(propName);
}
var regExpTest = RegExp.prototype.test;
function testRegExp(re, string) {
  return regExpTest.call(re, string);
}
var nonSpaceRe = /\S/;
function isWhitespace(string) {
  return !testRegExp(nonSpaceRe, string);
}
var entityMap = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;",
  "/": "&#x2F;",
  "`": "&#x60;",
  "=": "&#x3D;"
};
function escapeHtml(string) {
  return String(string).replace(/[&<>"'`=\/]/g, function fromEntityMap(s2) {
    return entityMap[s2];
  });
}
var whiteRe = /\s*/;
var spaceRe = /\s+/;
var equalsRe = /\s*=/;
var curlyRe = /\s*\}/;
var tagRe = /#|\^|\/|>|\{|&|=|!/;
function parseTemplate(template, tags) {
  if (!template)
    return [];
  var lineHasNonSpace = false;
  var sections = [];
  var tokens = [];
  var spaces = [];
  var hasTag = false;
  var nonSpace = false;
  var indentation = "";
  var tagIndex = 0;
  function stripSpace() {
    if (hasTag && !nonSpace) {
      while (spaces.length)
        delete tokens[spaces.pop()];
    } else {
      spaces = [];
    }
    hasTag = false;
    nonSpace = false;
  }
  var openingTagRe, closingTagRe, closingCurlyRe;
  function compileTags(tagsToCompile) {
    if (typeof tagsToCompile === "string")
      tagsToCompile = tagsToCompile.split(spaceRe, 2);
    if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)
      throw new Error("Invalid tags: " + tagsToCompile);
    openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + "\\s*");
    closingTagRe = new RegExp("\\s*" + escapeRegExp(tagsToCompile[1]));
    closingCurlyRe = new RegExp("\\s*" + escapeRegExp("}" + tagsToCompile[1]));
  }
  compileTags(tags || mustache.tags);
  var scanner = new Scanner(template);
  var start2, type, value, chr, token, openSection;
  while (!scanner.eos()) {
    start2 = scanner.pos;
    value = scanner.scanUntil(openingTagRe);
    if (value) {
      for (var i3 = 0, valueLength = value.length; i3 < valueLength; ++i3) {
        chr = value.charAt(i3);
        if (isWhitespace(chr)) {
          spaces.push(tokens.length);
          indentation += chr;
        } else {
          nonSpace = true;
          lineHasNonSpace = true;
          indentation += " ";
        }
        tokens.push(["text", chr, start2, start2 + 1]);
        start2 += 1;
        if (chr === "\n") {
          stripSpace();
          indentation = "";
          tagIndex = 0;
          lineHasNonSpace = false;
        }
      }
    }
    if (!scanner.scan(openingTagRe))
      break;
    hasTag = true;
    type = scanner.scan(tagRe) || "name";
    scanner.scan(whiteRe);
    if (type === "=") {
      value = scanner.scanUntil(equalsRe);
      scanner.scan(equalsRe);
      scanner.scanUntil(closingTagRe);
    } else if (type === "{") {
      value = scanner.scanUntil(closingCurlyRe);
      scanner.scan(curlyRe);
      scanner.scanUntil(closingTagRe);
      type = "&";
    } else {
      value = scanner.scanUntil(closingTagRe);
    }
    if (!scanner.scan(closingTagRe))
      throw new Error("Unclosed tag at " + scanner.pos);
    if (type == ">") {
      token = [type, value, start2, scanner.pos, indentation, tagIndex, lineHasNonSpace];
    } else {
      token = [type, value, start2, scanner.pos];
    }
    tagIndex++;
    tokens.push(token);
    if (type === "#" || type === "^") {
      sections.push(token);
    } else if (type === "/") {
      openSection = sections.pop();
      if (!openSection)
        throw new Error('Unopened section "' + value + '" at ' + start2);
      if (openSection[1] !== value)
        throw new Error('Unclosed section "' + openSection[1] + '" at ' + start2);
    } else if (type === "name" || type === "{" || type === "&") {
      nonSpace = true;
    } else if (type === "=") {
      compileTags(value);
    }
  }
  stripSpace();
  openSection = sections.pop();
  if (openSection)
    throw new Error('Unclosed section "' + openSection[1] + '" at ' + scanner.pos);
  return nestTokens(squashTokens(tokens));
}
function squashTokens(tokens) {
  var squashedTokens = [];
  var token, lastToken;
  for (var i3 = 0, numTokens = tokens.length; i3 < numTokens; ++i3) {
    token = tokens[i3];
    if (token) {
      if (token[0] === "text" && lastToken && lastToken[0] === "text") {
        lastToken[1] += token[1];
        lastToken[3] = token[3];
      } else {
        squashedTokens.push(token);
        lastToken = token;
      }
    }
  }
  return squashedTokens;
}
function nestTokens(tokens) {
  var nestedTokens = [];
  var collector = nestedTokens;
  var sections = [];
  var token, section;
  for (var i3 = 0, numTokens = tokens.length; i3 < numTokens; ++i3) {
    token = tokens[i3];
    switch (token[0]) {
      case "#":
      case "^":
        collector.push(token);
        sections.push(token);
        collector = token[4] = [];
        break;
      case "/":
        section = sections.pop();
        section[5] = token[2];
        collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;
        break;
      default:
        collector.push(token);
    }
  }
  return nestedTokens;
}
function Scanner(string) {
  this.string = string;
  this.tail = string;
  this.pos = 0;
}
Scanner.prototype.eos = function eos() {
  return this.tail === "";
};
Scanner.prototype.scan = function scan(re) {
  var match2 = this.tail.match(re);
  if (!match2 || match2.index !== 0)
    return "";
  var string = match2[0];
  this.tail = this.tail.substring(string.length);
  this.pos += string.length;
  return string;
};
Scanner.prototype.scanUntil = function scanUntil(re) {
  var index4 = this.tail.search(re), match2;
  switch (index4) {
    case -1:
      match2 = this.tail;
      this.tail = "";
      break;
    case 0:
      match2 = "";
      break;
    default:
      match2 = this.tail.substring(0, index4);
      this.tail = this.tail.substring(index4);
  }
  this.pos += match2.length;
  return match2;
};
function Context(view, parentContext) {
  this.view = view;
  this.cache = { ".": this.view };
  this.parent = parentContext;
}
Context.prototype.push = function push(view) {
  return new Context(view, this);
};
Context.prototype.lookup = function lookup(name) {
  var cache = this.cache;
  var value;
  if (cache.hasOwnProperty(name)) {
    value = cache[name];
  } else {
    var context = this, intermediateValue, names, index4, lookupHit = false;
    while (context) {
      if (name.indexOf(".") > 0) {
        intermediateValue = context.view;
        names = name.split(".");
        index4 = 0;
        while (intermediateValue != null && index4 < names.length) {
          if (index4 === names.length - 1)
            lookupHit = hasProperty(intermediateValue, names[index4]) || primitiveHasOwnProperty(intermediateValue, names[index4]);
          intermediateValue = intermediateValue[names[index4++]];
        }
      } else {
        intermediateValue = context.view[name];
        lookupHit = hasProperty(context.view, name);
      }
      if (lookupHit) {
        value = intermediateValue;
        break;
      }
      context = context.parent;
    }
    cache[name] = value;
  }
  if (isFunction(value))
    value = value.call(this.view);
  return value;
};
function Writer() {
  this.templateCache = {
    _cache: {},
    set: function set(key, value) {
      this._cache[key] = value;
    },
    get: function get2(key) {
      return this._cache[key];
    },
    clear: function clear() {
      this._cache = {};
    }
  };
}
Writer.prototype.clearCache = function clearCache() {
  if (typeof this.templateCache !== "undefined") {
    this.templateCache.clear();
  }
};
Writer.prototype.parse = function parse(template, tags) {
  var cache = this.templateCache;
  var cacheKey = template + ":" + (tags || mustache.tags).join(":");
  var isCacheEnabled = typeof cache !== "undefined";
  var tokens = isCacheEnabled ? cache.get(cacheKey) : void 0;
  if (tokens == void 0) {
    tokens = parseTemplate(template, tags);
    isCacheEnabled && cache.set(cacheKey, tokens);
  }
  return tokens;
};
Writer.prototype.render = function render(template, view, partials, config) {
  var tags = this.getConfigTags(config);
  var tokens = this.parse(template, tags);
  var context = view instanceof Context ? view : new Context(view, void 0);
  return this.renderTokens(tokens, context, partials, template, config);
};
Writer.prototype.renderTokens = function renderTokens(tokens, context, partials, originalTemplate, config) {
  var buffer = "";
  var token, symbol, value;
  for (var i3 = 0, numTokens = tokens.length; i3 < numTokens; ++i3) {
    value = void 0;
    token = tokens[i3];
    symbol = token[0];
    if (symbol === "#")
      value = this.renderSection(token, context, partials, originalTemplate, config);
    else if (symbol === "^")
      value = this.renderInverted(token, context, partials, originalTemplate, config);
    else if (symbol === ">")
      value = this.renderPartial(token, context, partials, config);
    else if (symbol === "&")
      value = this.unescapedValue(token, context);
    else if (symbol === "name")
      value = this.escapedValue(token, context, config);
    else if (symbol === "text")
      value = this.rawValue(token);
    if (value !== void 0)
      buffer += value;
  }
  return buffer;
};
Writer.prototype.renderSection = function renderSection(token, context, partials, originalTemplate, config) {
  var self2 = this;
  var buffer = "";
  var value = context.lookup(token[1]);
  function subRender(template) {
    return self2.render(template, context, partials, config);
  }
  if (!value)
    return;
  if (isArray(value)) {
    for (var j2 = 0, valueLength = value.length; j2 < valueLength; ++j2) {
      buffer += this.renderTokens(token[4], context.push(value[j2]), partials, originalTemplate, config);
    }
  } else if (typeof value === "object" || typeof value === "string" || typeof value === "number") {
    buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate, config);
  } else if (isFunction(value)) {
    if (typeof originalTemplate !== "string")
      throw new Error("Cannot use higher-order sections without the original template");
    value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);
    if (value != null)
      buffer += value;
  } else {
    buffer += this.renderTokens(token[4], context, partials, originalTemplate, config);
  }
  return buffer;
};
Writer.prototype.renderInverted = function renderInverted(token, context, partials, originalTemplate, config) {
  var value = context.lookup(token[1]);
  if (!value || isArray(value) && value.length === 0)
    return this.renderTokens(token[4], context, partials, originalTemplate, config);
};
Writer.prototype.indentPartial = function indentPartial(partial, indentation, lineHasNonSpace) {
  var filteredIndentation = indentation.replace(/[^ \t]/g, "");
  var partialByNl = partial.split("\n");
  for (var i3 = 0; i3 < partialByNl.length; i3++) {
    if (partialByNl[i3].length && (i3 > 0 || !lineHasNonSpace)) {
      partialByNl[i3] = filteredIndentation + partialByNl[i3];
    }
  }
  return partialByNl.join("\n");
};
Writer.prototype.renderPartial = function renderPartial(token, context, partials, config) {
  if (!partials)
    return;
  var tags = this.getConfigTags(config);
  var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];
  if (value != null) {
    var lineHasNonSpace = token[6];
    var tagIndex = token[5];
    var indentation = token[4];
    var indentedValue = value;
    if (tagIndex == 0 && indentation) {
      indentedValue = this.indentPartial(value, indentation, lineHasNonSpace);
    }
    var tokens = this.parse(indentedValue, tags);
    return this.renderTokens(tokens, context, partials, indentedValue, config);
  }
};
Writer.prototype.unescapedValue = function unescapedValue(token, context) {
  var value = context.lookup(token[1]);
  if (value != null)
    return value;
};
Writer.prototype.escapedValue = function escapedValue(token, context, config) {
  var escape2 = this.getConfigEscape(config) || mustache.escape;
  var value = context.lookup(token[1]);
  if (value != null)
    return typeof value === "number" && escape2 === mustache.escape ? String(value) : escape2(value);
};
Writer.prototype.rawValue = function rawValue(token) {
  return token[1];
};
Writer.prototype.getConfigTags = function getConfigTags(config) {
  if (isArray(config)) {
    return config;
  } else if (config && typeof config === "object") {
    return config.tags;
  } else {
    return void 0;
  }
};
Writer.prototype.getConfigEscape = function getConfigEscape(config) {
  if (config && typeof config === "object" && !isArray(config)) {
    return config.escape;
  } else {
    return void 0;
  }
};
var mustache = {
  name: "mustache.js",
  version: "4.2.0",
  tags: ["{{", "}}"],
  clearCache: void 0,
  escape: void 0,
  parse: void 0,
  render: void 0,
  Scanner: void 0,
  Context: void 0,
  Writer: void 0,
  /**
   * Allows a user to override the default caching strategy, by providing an
   * object with set, get and clear methods. This can also be used to disable
   * the cache by setting it to the literal `undefined`.
   */
  set templateCache(cache) {
    defaultWriter.templateCache = cache;
  },
  /**
   * Gets the default or overridden caching object from the default writer.
   */
  get templateCache() {
    return defaultWriter.templateCache;
  }
};
var defaultWriter = new Writer();
mustache.clearCache = function clearCache2() {
  return defaultWriter.clearCache();
};
mustache.parse = function parse2(template, tags) {
  return defaultWriter.parse(template, tags);
};
mustache.render = function render2(template, view, partials, config) {
  if (typeof template !== "string") {
    throw new TypeError('Invalid template! Template should be a "string" but "' + typeStr(template) + '" was given as the first argument for mustache#render(template, view, partials)');
  }
  return defaultWriter.render(template, view, partials, config);
};
mustache.escape = escapeHtml;
mustache.Scanner = Scanner;
mustache.Context = Context;
mustache.Writer = Writer;
var mustache_default = mustache;

// node_modules/compromise/src/API/world.js
var methods2 = {
  one: {},
  two: {},
  three: {},
  four: {}
};
var model = {
  one: {},
  two: {},
  three: {}
};
var compute = {};
var hooks = [];
var world_default = { methods: methods2, model, compute, hooks };

// node_modules/compromise/src/API/methods/compute.js
var isArray2 = (input) => Object.prototype.toString.call(input) === "[object Array]";
var fns = {
  /** add metadata to term objects */
  compute: function(input) {
    const { world: world2 } = this;
    const compute4 = world2.compute;
    if (typeof input === "string" && compute4.hasOwnProperty(input)) {
      compute4[input](this);
    } else if (isArray2(input)) {
      input.forEach((name) => {
        if (world2.compute.hasOwnProperty(name)) {
          compute4[name](this);
        } else {
          console.warn("no compute:", input);
        }
      });
    } else if (typeof input === "function") {
      input(this);
    } else {
      console.warn("no compute:", input);
    }
    return this;
  }
};
var compute_default = fns;

// node_modules/compromise/src/API/methods/loops.js
var forEach = function(cb) {
  let ptrs = this.fullPointer;
  ptrs.forEach((ptr, i3) => {
    let view = this.update([ptr]);
    cb(view, i3);
  });
  return this;
};
var map = function(cb, empty) {
  let ptrs = this.fullPointer;
  let res = ptrs.map((ptr, i3) => {
    let view = this.update([ptr]);
    let out2 = cb(view, i3);
    if (out2 === void 0) {
      return this.none();
    }
    return out2;
  });
  if (res.length === 0) {
    return empty || this.update([]);
  }
  if (res[0] !== void 0) {
    if (typeof res[0] === "string") {
      return res;
    }
    if (typeof res[0] === "object" && (res[0] === null || !res[0].isView)) {
      return res;
    }
  }
  let all = [];
  res.forEach((ptr) => {
    all = all.concat(ptr.fullPointer);
  });
  return this.toView(all);
};
var filter = function(cb) {
  let ptrs = this.fullPointer;
  ptrs = ptrs.filter((ptr, i3) => {
    let view = this.update([ptr]);
    return cb(view, i3);
  });
  let res = this.update(ptrs);
  return res;
};
var find = function(cb) {
  let ptrs = this.fullPointer;
  let found = ptrs.find((ptr, i3) => {
    let view = this.update([ptr]);
    return cb(view, i3);
  });
  return this.update([found]);
};
var some = function(cb) {
  let ptrs = this.fullPointer;
  return ptrs.some((ptr, i3) => {
    let view = this.update([ptr]);
    return cb(view, i3);
  });
};
var random = function(n2 = 1) {
  let ptrs = this.fullPointer;
  let r2 = Math.floor(Math.random() * ptrs.length);
  if (r2 + n2 > this.length) {
    r2 = this.length - n2;
    r2 = r2 < 0 ? 0 : r2;
  }
  ptrs = ptrs.slice(r2, r2 + n2);
  return this.update(ptrs);
};
var loops_default = { forEach, map, filter, find, some, random };

// node_modules/compromise/src/API/methods/utils.js
var utils = {
  /** */
  termList: function() {
    return this.methods.one.termList(this.docs);
  },
  /** return individual terms*/
  terms: function(n2) {
    let m = this.match(".");
    return typeof n2 === "number" ? m.eq(n2) : m;
  },
  /** */
  groups: function(group) {
    if (group || group === 0) {
      return this.update(this._groups[group] || []);
    }
    let res = {};
    Object.keys(this._groups).forEach((k2) => {
      res[k2] = this.update(this._groups[k2]);
    });
    return res;
  },
  /** */
  eq: function(n2) {
    let ptr = this.pointer;
    if (!ptr) {
      ptr = this.docs.map((_doc, i3) => [i3]);
    }
    if (ptr[n2]) {
      return this.update([ptr[n2]]);
    }
    return this.none();
  },
  /** */
  first: function() {
    return this.eq(0);
  },
  /** */
  last: function() {
    let n2 = this.fullPointer.length - 1;
    return this.eq(n2);
  },
  /** grab term[0] for every match */
  firstTerms: function() {
    return this.match("^.");
  },
  /** grab the last term for every match  */
  lastTerms: function() {
    return this.match(".$");
  },
  /** */
  slice: function(min, max2) {
    let pntrs = this.pointer || this.docs.map((_o, n2) => [n2]);
    pntrs = pntrs.slice(min, max2);
    return this.update(pntrs);
  },
  /** return a view of the entire document */
  all: function() {
    return this.update().toView();
  },
  /**  */
  fullSentences: function() {
    let ptrs = this.fullPointer.map((a2) => [a2[0]]);
    return this.update(ptrs).toView();
  },
  /** return a view of no parts of the document */
  none: function() {
    return this.update([]);
  },
  /** are these two views looking at the same words? */
  isDoc: function(b) {
    if (!b || !b.isView) {
      return false;
    }
    let aPtr = this.fullPointer;
    let bPtr = b.fullPointer;
    if (!aPtr.length === bPtr.length) {
      return false;
    }
    return aPtr.every((ptr, i3) => {
      if (!bPtr[i3]) {
        return false;
      }
      return ptr[0] === bPtr[i3][0] && ptr[1] === bPtr[i3][1] && ptr[2] === bPtr[i3][2];
    });
  },
  /** how many seperate terms does the document have? */
  wordCount: function() {
    return this.docs.reduce((count, terms) => {
      count += terms.filter((t3) => t3.text !== "").length;
      return count;
    }, 0);
  },
  // is the pointer the full sentence?
  isFull: function() {
    let ptrs = this.pointer;
    if (!ptrs) {
      return true;
    }
    if (ptrs.length === 0 || ptrs[0][0] !== 0) {
      return false;
    }
    let wantTerms = 0;
    let haveTerms = 0;
    this.document.forEach((terms) => wantTerms += terms.length);
    this.docs.forEach((terms) => haveTerms += terms.length);
    return wantTerms === haveTerms;
  },
  // return the nth elem of a doc
  getNth: function(n2) {
    if (typeof n2 === "number") {
      return this.eq(n2);
    } else if (typeof n2 === "string") {
      return this.if(n2);
    }
    return this;
  }
};
utils.group = utils.groups;
utils.fullSentence = utils.fullSentences;
utils.sentence = utils.fullSentences;
utils.lastTerm = utils.lastTerms;
utils.firstTerm = utils.firstTerms;
var utils_default = utils;

// node_modules/compromise/src/API/methods/index.js
var methods3 = Object.assign({}, utils_default, compute_default, loops_default);
methods3.get = methods3.eq;
var methods_default = methods3;

// node_modules/compromise/src/API/View.js
var View = class {
  constructor(document2, pointer, groups = {}) {
    let props = [
      ["document", document2],
      ["world", world_default],
      ["_groups", groups],
      ["_cache", null],
      ["viewType", "View"]
    ];
    props.forEach((a2) => {
      Object.defineProperty(this, a2[0], {
        value: a2[1],
        writable: true
      });
    });
    this.ptrs = pointer;
  }
  /* getters:  */
  get docs() {
    let docs = this.document;
    if (this.ptrs) {
      docs = world_default.methods.one.getDoc(this.ptrs, this.document);
    }
    return docs;
  }
  get pointer() {
    return this.ptrs;
  }
  get methods() {
    return this.world.methods;
  }
  get model() {
    return this.world.model;
  }
  get hooks() {
    return this.world.hooks;
  }
  get isView() {
    return true;
  }
  // is the view not-empty?
  get found() {
    return this.docs.length > 0;
  }
  // how many matches we have
  get length() {
    return this.docs.length;
  }
  // return a more-hackable pointer
  get fullPointer() {
    let { docs, ptrs, document: document2 } = this;
    let pointers = ptrs || docs.map((_d, n2) => [n2]);
    return pointers.map((a2) => {
      let [n2, start2, end2, id, endId] = a2;
      start2 = start2 || 0;
      end2 = end2 || (document2[n2] || []).length;
      if (document2[n2] && document2[n2][start2]) {
        id = id || document2[n2][start2].id;
        if (document2[n2][end2 - 1]) {
          endId = endId || document2[n2][end2 - 1].id;
        }
      }
      return [n2, start2, end2, id, endId];
    });
  }
  // create a new View, from this one
  update(pointer) {
    let m = new View(this.document, pointer);
    if (this._cache && pointer && pointer.length > 0) {
      let cache = [];
      pointer.forEach((ptr, i3) => {
        let [n2, start2, end2] = ptr;
        if (ptr.length === 1) {
          cache[i3] = this._cache[n2];
        } else if (start2 === 0 && this.document[n2].length === end2) {
          cache[i3] = this._cache[n2];
        }
      });
      if (cache.length > 0) {
        m._cache = cache;
      }
    }
    m.world = this.world;
    return m;
  }
  // create a new View, from this one
  toView(pointer) {
    return new View(this.document, pointer || this.pointer);
  }
  fromText(input) {
    const { methods: methods18 } = this;
    let document2 = methods18.one.tokenize.fromString(input, this.world);
    let doc = new View(document2);
    doc.world = this.world;
    doc.compute(["normal", "freeze", "lexicon"]);
    if (this.world.compute.preTagger) {
      doc.compute("preTagger");
    }
    doc.compute("unfreeze");
    return doc;
  }
  clone() {
    let document2 = this.document.slice(0);
    document2 = document2.map((terms) => {
      return terms.map((term) => {
        term = Object.assign({}, term);
        term.tags = new Set(term.tags);
        return term;
      });
    });
    let m = this.update(this.pointer);
    m.document = document2;
    m._cache = this._cache;
    return m;
  }
};
Object.assign(View.prototype, methods_default);
var View_default = View;

// node_modules/compromise/src/_version.js
var version_default = "14.14.4";

// node_modules/compromise/src/API/extend.js
var isObject = function(item) {
  return item && typeof item === "object" && !Array.isArray(item);
};
function mergeDeep(model4, plugin2) {
  if (isObject(plugin2)) {
    for (const key in plugin2) {
      if (isObject(plugin2[key])) {
        if (!model4[key])
          Object.assign(model4, { [key]: {} });
        mergeDeep(model4[key], plugin2[key]);
      } else {
        Object.assign(model4, { [key]: plugin2[key] });
      }
    }
  }
  return model4;
}
function mergeQuick(model4, plugin2) {
  for (const key in plugin2) {
    model4[key] = model4[key] || {};
    Object.assign(model4[key], plugin2[key]);
  }
  return model4;
}
var addIrregulars = function(model4, conj) {
  let m = model4.two.models || {};
  Object.keys(conj).forEach((k2) => {
    if (conj[k2].pastTense) {
      if (m.toPast) {
        m.toPast.ex[k2] = conj[k2].pastTense;
      }
      if (m.fromPast) {
        m.fromPast.ex[conj[k2].pastTense] = k2;
      }
    }
    if (conj[k2].presentTense) {
      if (m.toPresent) {
        m.toPresent.ex[k2] = conj[k2].presentTense;
      }
      if (m.fromPresent) {
        m.fromPresent.ex[conj[k2].presentTense] = k2;
      }
    }
    if (conj[k2].gerund) {
      if (m.toGerund) {
        m.toGerund.ex[k2] = conj[k2].gerund;
      }
      if (m.fromGerund) {
        m.fromGerund.ex[conj[k2].gerund] = k2;
      }
    }
    if (conj[k2].comparative) {
      if (m.toComparative) {
        m.toComparative.ex[k2] = conj[k2].comparative;
      }
      if (m.fromComparative) {
        m.fromComparative.ex[conj[k2].comparative] = k2;
      }
    }
    if (conj[k2].superlative) {
      if (m.toSuperlative) {
        m.toSuperlative.ex[k2] = conj[k2].superlative;
      }
      if (m.fromSuperlative) {
        m.fromSuperlative.ex[conj[k2].superlative] = k2;
      }
    }
  });
};
var extend = function(plugin2, world2, View2, nlp2) {
  const { methods: methods18, model: model4, compute: compute4, hooks: hooks2 } = world2;
  if (plugin2.methods) {
    mergeQuick(methods18, plugin2.methods);
  }
  if (plugin2.model) {
    mergeDeep(model4, plugin2.model);
  }
  if (plugin2.irregulars) {
    addIrregulars(model4, plugin2.irregulars);
  }
  if (plugin2.compute) {
    Object.assign(compute4, plugin2.compute);
  }
  if (hooks2) {
    world2.hooks = hooks2.concat(plugin2.hooks || []);
  }
  if (plugin2.api) {
    plugin2.api(View2);
  }
  if (plugin2.lib) {
    Object.keys(plugin2.lib).forEach((k2) => nlp2[k2] = plugin2.lib[k2]);
  }
  if (plugin2.tags) {
    nlp2.addTags(plugin2.tags);
  }
  if (plugin2.words) {
    nlp2.addWords(plugin2.words);
  }
  if (plugin2.frozen) {
    nlp2.addWords(plugin2.frozen, true);
  }
  if (plugin2.mutate) {
    plugin2.mutate(world2, nlp2);
  }
};
var extend_default = extend;

// node_modules/compromise/src/API/_lib.js
var verbose = function(set) {
  const env = typeof process === "undefined" || !process.env ? self.env || {} : process.env;
  env.DEBUG_TAGS = set === "tagger" || set === true ? true : "";
  env.DEBUG_MATCH = set === "match" || set === true ? true : "";
  env.DEBUG_CHUNKS = set === "chunker" || set === true ? true : "";
  return this;
};

// node_modules/compromise/src/API/inputs.js
var isObject2 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
var isArray3 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var fromJson = function(json) {
  return json.map((o2) => {
    return o2.terms.map((term) => {
      if (isArray3(term.tags)) {
        term.tags = new Set(term.tags);
      }
      return term;
    });
  });
};
var preTokenized = function(arr) {
  return arr.map((a2) => {
    return a2.map((str2) => {
      return {
        text: str2,
        normal: str2,
        //cleanup
        pre: "",
        post: " ",
        tags: /* @__PURE__ */ new Set()
      };
    });
  });
};
var inputs = function(input, View2, world2) {
  const { methods: methods18 } = world2;
  let doc = new View2([]);
  doc.world = world2;
  if (typeof input === "number") {
    input = String(input);
  }
  if (!input) {
    return doc;
  }
  if (typeof input === "string") {
    let document2 = methods18.one.tokenize.fromString(input, world2);
    return new View2(document2);
  }
  if (isObject2(input) && input.isView) {
    return new View2(input.document, input.ptrs);
  }
  if (isArray3(input)) {
    if (isArray3(input[0])) {
      let document3 = preTokenized(input);
      return new View2(document3);
    }
    let document2 = fromJson(input);
    return new View2(document2);
  }
  return doc;
};
var inputs_default = inputs;

// node_modules/compromise/src/nlp.js
var world = Object.assign({}, world_default);
var nlp = function(input, lex) {
  if (lex) {
    nlp.addWords(lex);
  }
  let doc = inputs_default(input, View_default, world);
  if (input) {
    doc.compute(world.hooks);
  }
  return doc;
};
Object.defineProperty(nlp, "_world", {
  value: world,
  writable: true
});
nlp.tokenize = function(input, lex) {
  const { compute: compute4 } = this._world;
  if (lex) {
    nlp.addWords(lex);
  }
  let doc = inputs_default(input, View_default, world);
  if (compute4.contractions) {
    doc.compute(["alias", "normal", "machine", "contractions"]);
  }
  return doc;
};
nlp.plugin = function(plugin2) {
  extend_default(plugin2, this._world, View_default, this);
  return this;
};
nlp.extend = nlp.plugin;
nlp.world = function() {
  return this._world;
};
nlp.model = function() {
  return this._world.model;
};
nlp.methods = function() {
  return this._world.methods;
};
nlp.hooks = function() {
  return this._world.hooks;
};
nlp.verbose = verbose;
nlp.version = version_default;
var nlp_default = nlp;

// node_modules/compromise/src/1-one/cache/methods/cacheDoc.js
var createCache = function(document2) {
  let cache = document2.map((terms) => {
    let items = /* @__PURE__ */ new Set();
    terms.forEach((term) => {
      if (term.normal !== "") {
        items.add(term.normal);
      }
      if (term.switch) {
        items.add(`%${term.switch}%`);
      }
      if (term.implicit) {
        items.add(term.implicit);
      }
      if (term.machine) {
        items.add(term.machine);
      }
      if (term.root) {
        items.add(term.root);
      }
      if (term.alias) {
        term.alias.forEach((str2) => items.add(str2));
      }
      let tags = Array.from(term.tags);
      for (let t3 = 0; t3 < tags.length; t3 += 1) {
        items.add("#" + tags[t3]);
      }
    });
    return items;
  });
  return cache;
};
var cacheDoc_default = createCache;

// node_modules/compromise/src/1-one/cache/methods/index.js
var methods_default2 = {
  one: {
    cacheDoc: cacheDoc_default
  }
};

// node_modules/compromise/src/1-one/cache/api.js
var methods4 = {
  /** */
  cache: function() {
    this._cache = this.methods.one.cacheDoc(this.document);
    return this;
  },
  /** */
  uncache: function() {
    this._cache = null;
    return this;
  }
};
var addAPI = function(View2) {
  Object.assign(View2.prototype, methods4);
};
var api_default = addAPI;

// node_modules/compromise/src/1-one/cache/compute.js
var compute_default2 = {
  cache: function(view) {
    view._cache = view.methods.one.cacheDoc(view.document);
  }
};

// node_modules/compromise/src/1-one/cache/plugin.js
var plugin_default = {
  api: api_default,
  compute: compute_default2,
  methods: methods_default2
};

// node_modules/compromise/src/1-one/change/api/case.js
var case_default = {
  /** */
  toLowerCase: function() {
    this.termList().forEach((t3) => {
      t3.text = t3.text.toLowerCase();
    });
    return this;
  },
  /** */
  toUpperCase: function() {
    this.termList().forEach((t3) => {
      t3.text = t3.text.toUpperCase();
    });
    return this;
  },
  /** */
  toTitleCase: function() {
    this.termList().forEach((t3) => {
      t3.text = t3.text.replace(/^ *[a-z\u00C0-\u00FF]/, (x) => x.toUpperCase());
    });
    return this;
  },
  /** */
  toCamelCase: function() {
    this.docs.forEach((terms) => {
      terms.forEach((t3, i3) => {
        if (i3 !== 0) {
          t3.text = t3.text.replace(/^ *[a-z\u00C0-\u00FF]/, (x) => x.toUpperCase());
        }
        if (i3 !== terms.length - 1) {
          t3.post = "";
        }
      });
    });
    return this;
  }
};

// node_modules/compromise/src/1-one/change/api/lib/insert.js
var isTitleCase = (str2) => /^\p{Lu}[\p{Ll}'â€™]/u.test(str2) || /^\p{Lu}$/u.test(str2);
var toTitleCase = (str2) => str2.replace(/^\p{Ll}/u, (x) => x.toUpperCase());
var toLowerCase = (str2) => str2.replace(/^\p{Lu}/u, (x) => x.toLowerCase());
var spliceArr = (parent, index4, child) => {
  child.forEach((term) => term.dirty = true);
  if (parent) {
    let args = [index4, 0].concat(child);
    Array.prototype.splice.apply(parent, args);
  }
  return parent;
};
var endSpace = function(terms) {
  const hasSpace2 = / $/;
  const hasDash4 = /[-â€“â€”]/;
  let lastTerm = terms[terms.length - 1];
  if (lastTerm && !hasSpace2.test(lastTerm.post) && !hasDash4.test(lastTerm.post)) {
    lastTerm.post += " ";
  }
};
var movePunct = (source, end2, needle) => {
  const juicy = /[-.?!,;:)â€“â€”'"]/g;
  let wasLast = source[end2 - 1];
  if (!wasLast) {
    return;
  }
  let post2 = wasLast.post;
  if (juicy.test(post2)) {
    let punct = post2.match(juicy).join("");
    let last = needle[needle.length - 1];
    last.post = punct + last.post;
    wasLast.post = wasLast.post.replace(juicy, "");
  }
};
var moveTitleCase = function(home, start2, needle) {
  let from = home[start2];
  if (start2 !== 0 || !isTitleCase(from.text)) {
    return;
  }
  needle[0].text = toTitleCase(needle[0].text);
  let old = home[start2];
  if (old.tags.has("ProperNoun") || old.tags.has("Acronym")) {
    return;
  }
  if (isTitleCase(old.text) && old.text.length > 1) {
    old.text = toLowerCase(old.text);
  }
};
var cleanPrepend = function(home, ptr, needle, document2) {
  let [n2, start2, end2] = ptr;
  if (start2 === 0) {
    endSpace(needle);
  } else if (end2 === document2[n2].length) {
    endSpace(needle);
  } else {
    endSpace(needle);
    endSpace([home[ptr[1]]]);
  }
  moveTitleCase(home, start2, needle);
  spliceArr(home, start2, needle);
};
var cleanAppend = function(home, ptr, needle, document2) {
  let [n2, , end2] = ptr;
  let total = (document2[n2] || []).length;
  if (end2 < total) {
    movePunct(home, end2, needle);
    endSpace(needle);
  } else if (total === end2) {
    endSpace(home);
    movePunct(home, end2, needle);
    if (document2[n2 + 1]) {
      needle[needle.length - 1].post += " ";
    }
  }
  spliceArr(home, ptr[2], needle);
  ptr[4] = needle[needle.length - 1].id;
};

// node_modules/compromise/src/1-one/change/compute/uuid.js
var index2 = 0;
var pad3 = (str2) => {
  str2 = str2.length < 3 ? "0" + str2 : str2;
  return str2.length < 3 ? "0" + str2 : str2;
};
var toId = function(term) {
  let [n2, i3] = term.index || [0, 0];
  index2 += 1;
  index2 = index2 > 46655 ? 0 : index2;
  n2 = n2 > 46655 ? 0 : n2;
  i3 = i3 > 1294 ? 0 : i3;
  let id = pad3(index2.toString(36));
  id += pad3(n2.toString(36));
  let tx = i3.toString(36);
  tx = tx.length < 2 ? "0" + tx : tx;
  id += tx;
  let r2 = parseInt(Math.random() * 36, 10);
  id += r2.toString(36);
  return term.normal + "|" + id.toUpperCase();
};
var uuid_default = toId;

// node_modules/compromise/src/1-one/change/api/insert.js
var expand = function(m) {
  if (m.has("@hasContraction") && typeof m.contractions === "function") {
    let more = m.grow("@hasContraction");
    more.contractions().expand();
  }
};
var isArray4 = (arr) => Object.prototype.toString.call(arr) === "[object Array]";
var addIds = function(terms) {
  terms = terms.map((term) => {
    term.id = uuid_default(term);
    return term;
  });
  return terms;
};
var getTerms = function(input, world2) {
  const { methods: methods18 } = world2;
  if (typeof input === "string") {
    return methods18.one.tokenize.fromString(input, world2)[0];
  }
  if (typeof input === "object" && input.isView) {
    return input.clone().docs[0] || [];
  }
  if (isArray4(input)) {
    return isArray4(input[0]) ? input[0] : input;
  }
  return [];
};
var insert = function(input, view, prepend) {
  const { document: document2, world: world2 } = view;
  view.uncache();
  let ptrs = view.fullPointer;
  let selfPtrs = view.fullPointer;
  view.forEach((m, i3) => {
    let ptr = m.fullPointer[0];
    let [n2] = ptr;
    let home = document2[n2];
    let terms = getTerms(input, world2);
    if (terms.length === 0) {
      return;
    }
    terms = addIds(terms);
    if (prepend) {
      expand(view.update([ptr]).firstTerm());
      cleanPrepend(home, ptr, terms, document2);
    } else {
      expand(view.update([ptr]).lastTerm());
      cleanAppend(home, ptr, terms, document2);
    }
    if (document2[n2] && document2[n2][ptr[1]]) {
      ptr[3] = document2[n2][ptr[1]].id;
    }
    selfPtrs[i3] = ptr;
    ptr[2] += terms.length;
    ptrs[i3] = ptr;
  });
  let doc = view.toView(ptrs);
  view.ptrs = selfPtrs;
  doc.compute(["id", "index", "freeze", "lexicon"]);
  if (doc.world.compute.preTagger) {
    doc.compute("preTagger");
  }
  doc.compute("unfreeze");
  return doc;
};
var fns2 = {
  insertAfter: function(input) {
    return insert(input, this, false);
  },
  insertBefore: function(input) {
    return insert(input, this, true);
  }
};
fns2.append = fns2.insertAfter;
fns2.prepend = fns2.insertBefore;
fns2.insert = fns2.insertAfter;
var insert_default = fns2;

// node_modules/compromise/src/1-one/change/api/replace.js
var dollarStub = /\$[0-9a-z]+/g;
var fns3 = {};
var isTitleCase2 = (str2) => /^\p{Lu}[\p{Ll}'â€™]/u.test(str2) || /^\p{Lu}$/u.test(str2);
var toTitleCase2 = (str2) => str2.replace(/^\p{Ll}/u, (x) => x.toUpperCase());
var toLowerCase2 = (str2) => str2.replace(/^\p{Lu}/u, (x) => x.toLowerCase());
var replaceByFn = function(main, fn, keep) {
  main.forEach((m) => {
    let out2 = fn(m);
    m.replaceWith(out2, keep);
  });
  return main;
};
var subDollarSign = function(input, main) {
  if (typeof input !== "string") {
    return input;
  }
  let groups = main.groups();
  input = input.replace(dollarStub, (a2) => {
    let num = a2.replace(/\$/, "");
    if (groups.hasOwnProperty(num)) {
      return groups[num].text();
    }
    return a2;
  });
  return input;
};
fns3.replaceWith = function(input, keep = {}) {
  let ptrs = this.fullPointer;
  let main = this;
  this.uncache();
  if (typeof input === "function") {
    return replaceByFn(main, input, keep);
  }
  let terms = main.docs[0];
  if (!terms)
    return main;
  let isOriginalPossessive = keep.possessives && terms[terms.length - 1].tags.has("Possessive");
  let isOriginalTitleCase = keep.case && isTitleCase2(terms[0].text);
  input = subDollarSign(input, main);
  let original = this.update(ptrs);
  ptrs = ptrs.map((ptr) => ptr.slice(0, 3));
  let oldTags = (original.docs[0] || []).map((term) => Array.from(term.tags));
  let originalPre = original.docs[0][0].pre;
  let originalPost = original.docs[0][original.docs[0].length - 1].post;
  if (typeof input === "string") {
    input = this.fromText(input).compute("id");
  }
  main.insertAfter(input);
  if (original.has("@hasContraction") && main.contractions) {
    let more = main.grow("@hasContraction+");
    more.contractions().expand();
  }
  main.delete(original);
  if (isOriginalPossessive) {
    let tmp = main.docs[0];
    let term = tmp[tmp.length - 1];
    if (!term.tags.has("Possessive")) {
      term.text += "'s";
      term.normal += "'s";
      term.tags.add("Possessive");
    }
  }
  if (originalPre && main.docs[0]) {
    main.docs[0][0].pre = originalPre;
  }
  if (originalPost && main.docs[0]) {
    let lastOne = main.docs[0][main.docs[0].length - 1];
    if (!lastOne.post.trim()) {
      lastOne.post = originalPost;
    }
  }
  let m = main.toView(ptrs).compute(["index", "freeze", "lexicon"]);
  if (m.world.compute.preTagger) {
    m.compute("preTagger");
  }
  m.compute("unfreeze");
  if (keep.tags) {
    m.terms().forEach((term, i3) => {
      term.tagSafe(oldTags[i3]);
    });
  }
  if (!m.docs[0] || !m.docs[0][0])
    return m;
  if (keep.case) {
    let transformCase = isOriginalTitleCase ? toTitleCase2 : toLowerCase2;
    m.docs[0][0].text = transformCase(m.docs[0][0].text);
  }
  return m;
};
fns3.replace = function(match2, input, keep) {
  if (match2 && !input) {
    return this.replaceWith(match2, keep);
  }
  let m = this.match(match2);
  if (!m.found) {
    return this;
  }
  this.soften();
  return m.replaceWith(input, keep);
};
var replace_default = fns3;

// node_modules/compromise/src/1-one/change/api/lib/remove.js
var repairPunct = function(terms, len) {
  let last = terms.length - 1;
  let from = terms[last];
  let to = terms[last - len];
  if (to && from) {
    to.post += from.post;
    to.post = to.post.replace(/ +([.?!,;:])/, "$1");
    to.post = to.post.replace(/[,;:]+([.?!])/, "$1");
  }
};
var pluckOut = function(document2, nots) {
  nots.forEach((ptr) => {
    let [n2, start2, end2] = ptr;
    let len = end2 - start2;
    if (!document2[n2]) {
      return;
    }
    if (end2 === document2[n2].length && end2 > 1) {
      repairPunct(document2[n2], len);
    }
    document2[n2].splice(start2, len);
  });
  for (let i3 = document2.length - 1; i3 >= 0; i3 -= 1) {
    if (document2[i3].length === 0) {
      document2.splice(i3, 1);
      if (i3 === document2.length && document2[i3 - 1]) {
        let terms = document2[i3 - 1];
        let lastTerm = terms[terms.length - 1];
        if (lastTerm) {
          lastTerm.post = lastTerm.post.trimEnd();
        }
      }
    }
  }
  return document2;
};
var remove_default = pluckOut;

// node_modules/compromise/src/1-one/change/api/remove.js
var fixPointers = function(ptrs, gonePtrs) {
  ptrs = ptrs.map((ptr) => {
    let [n2] = ptr;
    if (!gonePtrs[n2]) {
      return ptr;
    }
    gonePtrs[n2].forEach((no) => {
      let len = no[2] - no[1];
      if (ptr[1] <= no[1] && ptr[2] >= no[2]) {
        ptr[2] -= len;
      }
    });
    return ptr;
  });
  ptrs.forEach((ptr, i3) => {
    if (ptr[1] === 0 && ptr[2] == 0) {
      for (let n2 = i3 + 1; n2 < ptrs.length; n2 += 1) {
        ptrs[n2][0] -= 1;
        if (ptrs[n2][0] < 0) {
          ptrs[n2][0] = 0;
        }
      }
    }
  });
  ptrs = ptrs.filter((ptr) => ptr[2] - ptr[1] > 0);
  ptrs = ptrs.map((ptr) => {
    ptr[3] = null;
    ptr[4] = null;
    return ptr;
  });
  return ptrs;
};
var methods5 = {
  /** */
  remove: function(reg) {
    const { indexN: indexN2 } = this.methods.one.pointer;
    this.uncache();
    let self2 = this.all();
    let not = this;
    if (reg) {
      self2 = this;
      not = this.match(reg);
    }
    let isFull = !self2.ptrs;
    if (not.has("@hasContraction") && not.contractions) {
      let more = not.grow("@hasContraction");
      more.contractions().expand();
    }
    let ptrs = self2.fullPointer;
    let nots = not.fullPointer.reverse();
    let document2 = remove_default(this.document, nots);
    let gonePtrs = indexN2(nots);
    ptrs = fixPointers(ptrs, gonePtrs);
    self2.ptrs = ptrs;
    self2.document = document2;
    self2.compute("index");
    if (isFull) {
      self2.ptrs = void 0;
    }
    if (!reg) {
      this.ptrs = [];
      return self2.none();
    }
    let res = self2.toView(ptrs);
    return res;
  }
};
methods5.delete = methods5.remove;
var remove_default2 = methods5;

// node_modules/compromise/src/1-one/change/api/whitespace.js
var methods6 = {
  /** add this punctuation or whitespace before each match: */
  pre: function(str2, concat) {
    if (str2 === void 0 && this.found) {
      return this.docs[0][0].pre;
    }
    this.docs.forEach((terms) => {
      let term = terms[0];
      if (concat === true) {
        term.pre += str2;
      } else {
        term.pre = str2;
      }
    });
    return this;
  },
  /** add this punctuation or whitespace after each match: */
  post: function(str2, concat) {
    if (str2 === void 0) {
      let last = this.docs[this.docs.length - 1];
      return last[last.length - 1].post;
    }
    this.docs.forEach((terms) => {
      let term = terms[terms.length - 1];
      if (concat === true) {
        term.post += str2;
      } else {
        term.post = str2;
      }
    });
    return this;
  },
  /** remove whitespace from start/end */
  trim: function() {
    if (!this.found) {
      return this;
    }
    let docs = this.docs;
    let start2 = docs[0][0];
    start2.pre = start2.pre.trimStart();
    let last = docs[docs.length - 1];
    let end2 = last[last.length - 1];
    end2.post = end2.post.trimEnd();
    return this;
  },
  /** connect words with hyphen, and remove whitespace */
  hyphenate: function() {
    this.docs.forEach((terms) => {
      terms.forEach((t3, i3) => {
        if (i3 !== 0) {
          t3.pre = "";
        }
        if (terms[i3 + 1]) {
          t3.post = "-";
        }
      });
    });
    return this;
  },
  /** remove hyphens between words, and set whitespace */
  dehyphenate: function() {
    const hasHyphen3 = /[-â€“â€”]/;
    this.docs.forEach((terms) => {
      terms.forEach((t3) => {
        if (hasHyphen3.test(t3.post)) {
          t3.post = " ";
        }
      });
    });
    return this;
  },
  /** add quotations around these matches */
  toQuotations: function(start2, end2) {
    start2 = start2 || `"`;
    end2 = end2 || `"`;
    this.docs.forEach((terms) => {
      terms[0].pre = start2 + terms[0].pre;
      let last = terms[terms.length - 1];
      last.post = end2 + last.post;
    });
    return this;
  },
  /** add brackets around these matches */
  toParentheses: function(start2, end2) {
    start2 = start2 || `(`;
    end2 = end2 || `)`;
    this.docs.forEach((terms) => {
      terms[0].pre = start2 + terms[0].pre;
      let last = terms[terms.length - 1];
      last.post = end2 + last.post;
    });
    return this;
  }
};
methods6.deHyphenate = methods6.dehyphenate;
methods6.toQuotation = methods6.toQuotations;
var whitespace_default = methods6;

// node_modules/compromise/src/1-one/change/api/lib/_sort.js
var alpha = (a2, b) => {
  if (a2.normal < b.normal) {
    return -1;
  }
  if (a2.normal > b.normal) {
    return 1;
  }
  return 0;
};
var length = (a2, b) => {
  let left = a2.normal.trim().length;
  let right = b.normal.trim().length;
  if (left < right) {
    return 1;
  }
  if (left > right) {
    return -1;
  }
  return 0;
};
var wordCount = (a2, b) => {
  if (a2.words < b.words) {
    return 1;
  }
  if (a2.words > b.words) {
    return -1;
  }
  return 0;
};
var sequential = (a2, b) => {
  if (a2[0] < b[0]) {
    return 1;
  }
  if (a2[0] > b[0]) {
    return -1;
  }
  return a2[1] > b[1] ? 1 : -1;
};
var byFreq = function(arr) {
  let counts = {};
  arr.forEach((o2) => {
    counts[o2.normal] = counts[o2.normal] || 0;
    counts[o2.normal] += 1;
  });
  arr.sort((a2, b) => {
    let left = counts[a2.normal];
    let right = counts[b.normal];
    if (left < right) {
      return 1;
    }
    if (left > right) {
      return -1;
    }
    return 0;
  });
  return arr;
};
var sort_default = { alpha, length, wordCount, sequential, byFreq };

// node_modules/compromise/src/1-one/change/api/sort.js
var seqNames = /* @__PURE__ */ new Set(["index", "sequence", "seq", "sequential", "chron", "chronological"]);
var freqNames = /* @__PURE__ */ new Set(["freq", "frequency", "topk", "repeats"]);
var alphaNames = /* @__PURE__ */ new Set(["alpha", "alphabetical"]);
var customSort = function(view, fn) {
  let ptrs = view.fullPointer;
  ptrs = ptrs.sort((a2, b) => {
    a2 = view.update([a2]);
    b = view.update([b]);
    return fn(a2, b);
  });
  view.ptrs = ptrs;
  return view;
};
var sort = function(input) {
  let { docs, pointer } = this;
  this.uncache();
  if (typeof input === "function") {
    return customSort(this, input);
  }
  input = input || "alpha";
  let ptrs = pointer || docs.map((_d, n2) => [n2]);
  let arr = docs.map((terms, n2) => {
    return {
      index: n2,
      words: terms.length,
      normal: terms.map((t3) => t3.machine || t3.normal || "").join(" "),
      pointer: ptrs[n2]
    };
  });
  if (seqNames.has(input)) {
    input = "sequential";
  }
  if (alphaNames.has(input)) {
    input = "alpha";
  }
  if (freqNames.has(input)) {
    arr = sort_default.byFreq(arr);
    return this.update(arr.map((o2) => o2.pointer));
  }
  if (typeof sort_default[input] === "function") {
    arr = arr.sort(sort_default[input]);
    return this.update(arr.map((o2) => o2.pointer));
  }
  return this;
};
var reverse = function() {
  let ptrs = this.pointer || this.docs.map((_d, n2) => [n2]);
  ptrs = [].concat(ptrs);
  ptrs = ptrs.reverse();
  if (this._cache) {
    this._cache = this._cache.reverse();
  }
  return this.update(ptrs);
};
var unique = function() {
  let already = /* @__PURE__ */ new Set();
  let res = this.filter((m) => {
    let txt = m.text("machine");
    if (already.has(txt)) {
      return false;
    }
    already.add(txt);
    return true;
  });
  return res;
};
var sort_default2 = { unique, reverse, sort };

// node_modules/compromise/src/1-one/change/api/concat.js
var isArray5 = (arr) => Object.prototype.toString.call(arr) === "[object Array]";
var combineDocs = function(homeDocs, inputDocs) {
  if (homeDocs.length > 0) {
    let end2 = homeDocs[homeDocs.length - 1];
    let last = end2[end2.length - 1];
    if (/ /.test(last.post) === false) {
      last.post += " ";
    }
  }
  homeDocs = homeDocs.concat(inputDocs);
  return homeDocs;
};
var combineViews = function(home, input) {
  if (home.document === input.document) {
    let ptrs2 = home.fullPointer.concat(input.fullPointer);
    return home.toView(ptrs2).compute("index");
  }
  let ptrs = input.fullPointer;
  ptrs.forEach((a2) => {
    a2[0] += home.document.length;
  });
  home.document = combineDocs(home.document, input.docs);
  return home.all();
};
var concat_default = {
  // add string as new match/sentence
  concat: function(input) {
    if (typeof input === "string") {
      let more = this.fromText(input);
      if (!this.found || !this.ptrs) {
        this.document = this.document.concat(more.document);
      } else {
        let ptrs = this.fullPointer;
        let at = ptrs[ptrs.length - 1][0];
        this.document.splice(at, 0, ...more.document);
      }
      return this.all().compute("index");
    }
    if (typeof input === "object" && input.isView) {
      return combineViews(this, input);
    }
    if (isArray5(input)) {
      let docs = combineDocs(this.document, input);
      this.document = docs;
      return this.all();
    }
    return this;
  }
};

// node_modules/compromise/src/1-one/change/api/harden.js
var harden = function() {
  this.ptrs = this.fullPointer;
  return this;
};
var soften = function() {
  let ptr = this.ptrs;
  if (!ptr || ptr.length < 1) {
    return this;
  }
  ptr = ptr.map((a2) => a2.slice(0, 3));
  this.ptrs = ptr;
  return this;
};
var harden_default = { harden, soften };

// node_modules/compromise/src/1-one/change/api/index.js
var methods7 = Object.assign({}, case_default, insert_default, replace_default, remove_default2, whitespace_default, sort_default2, concat_default, harden_default);
var addAPI2 = function(View2) {
  Object.assign(View2.prototype, methods7);
};
var api_default2 = addAPI2;

// node_modules/compromise/src/1-one/change/compute/index.js
var compute2 = {
  id: function(view) {
    let docs = view.docs;
    for (let n2 = 0; n2 < docs.length; n2 += 1) {
      for (let i3 = 0; i3 < docs[n2].length; i3 += 1) {
        let term = docs[n2][i3];
        term.id = term.id || uuid_default(term);
      }
    }
  }
};
var compute_default3 = compute2;

// node_modules/compromise/src/1-one/change/plugin.js
var plugin_default2 = {
  api: api_default2,
  compute: compute_default3
};

// node_modules/compromise/src/1-one/contraction-one/model/contractions.js
var contractions_default = [
  // simple mappings
  { word: "@", out: ["at"] },
  { word: "arent", out: ["are", "not"] },
  { word: "alot", out: ["a", "lot"] },
  { word: "brb", out: ["be", "right", "back"] },
  { word: "cannot", out: ["can", "not"] },
  { word: "dun", out: ["do", "not"] },
  { word: "can't", out: ["can", "not"] },
  { word: "shan't", out: ["should", "not"] },
  { word: "won't", out: ["will", "not"] },
  { word: "that's", out: ["that", "is"] },
  { word: "what's", out: ["what", "is"] },
  { word: "let's", out: ["let", "us"] },
  // { word: "there's", out: ['there', 'is'] },
  { word: "dunno", out: ["do", "not", "know"] },
  { word: "gonna", out: ["going", "to"] },
  { word: "gotta", out: ["have", "got", "to"] },
  //hmm
  { word: "gimme", out: ["give", "me"] },
  { word: "outta", out: ["out", "of"] },
  { word: "tryna", out: ["trying", "to"] },
  { word: "gtg", out: ["got", "to", "go"] },
  { word: "im", out: ["i", "am"] },
  { word: "imma", out: ["I", "will"] },
  { word: "imo", out: ["in", "my", "opinion"] },
  { word: "irl", out: ["in", "real", "life"] },
  { word: "ive", out: ["i", "have"] },
  { word: "rn", out: ["right", "now"] },
  { word: "tbh", out: ["to", "be", "honest"] },
  { word: "wanna", out: ["want", "to"] },
  { word: `c'mere`, out: ["come", "here"] },
  { word: `c'mon`, out: ["come", "on"] },
  // shoulda, coulda
  { word: "shoulda", out: ["should", "have"] },
  { word: "coulda", out: ["coulda", "have"] },
  { word: "woulda", out: ["woulda", "have"] },
  { word: "musta", out: ["must", "have"] },
  { word: "tis", out: ["it", "is"] },
  { word: "twas", out: ["it", "was"] },
  { word: `y'know`, out: ["you", "know"] },
  { word: "ne'er", out: ["never"] },
  { word: "o'er", out: ["over"] },
  // contraction-part mappings
  { after: "ll", out: ["will"] },
  { after: "ve", out: ["have"] },
  { after: "re", out: ["are"] },
  { after: "m", out: ["am"] },
  // french contractions
  { before: "c", out: ["ce"] },
  { before: "m", out: ["me"] },
  { before: "n", out: ["ne"] },
  { before: "qu", out: ["que"] },
  { before: "s", out: ["se"] },
  { before: "t", out: ["tu"] },
  // t'aime
  // missing apostrophes
  { word: "shouldnt", out: ["should", "not"] },
  { word: "couldnt", out: ["could", "not"] },
  { word: "wouldnt", out: ["would", "not"] },
  { word: "hasnt", out: ["has", "not"] },
  { word: "wasnt", out: ["was", "not"] },
  { word: "isnt", out: ["is", "not"] },
  { word: "cant", out: ["can", "not"] },
  { word: "dont", out: ["do", "not"] },
  { word: "wont", out: ["will", "not"] },
  // apostrophe d
  { word: "howd", out: ["how", "did"] },
  { word: "whatd", out: ["what", "did"] },
  { word: "whend", out: ["when", "did"] },
  { word: "whered", out: ["where", "did"] }
];

// node_modules/compromise/src/1-one/contraction-one/model/number-suffix.js
var t = true;
var number_suffix_default = {
  "st": t,
  "nd": t,
  "rd": t,
  "th": t,
  "am": t,
  "pm": t,
  "max": t,
  "\xB0": t,
  "s": t,
  // 1990s
  "e": t,
  // 18e - french/spanish ordinal
  "er": t,
  //french 1er
  "\xE8re": t,
  //''
  "\xE8me": t
  //french 2Ã¨me
};

// node_modules/compromise/src/1-one/contraction-one/model/index.js
var model_default = {
  one: {
    contractions: contractions_default,
    numberSuffixes: number_suffix_default
  }
};

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/_splice.js
var insertContraction = function(document2, point, words) {
  let [n2, w] = point;
  if (!words || words.length === 0) {
    return;
  }
  words = words.map((word, i3) => {
    word.implicit = word.text;
    word.machine = word.text;
    word.pre = "";
    word.post = "";
    word.text = "";
    word.normal = "";
    word.index = [n2, w + i3];
    return word;
  });
  if (words[0]) {
    words[0].pre = document2[n2][w].pre;
    words[words.length - 1].post = document2[n2][w].post;
    words[0].text = document2[n2][w].text;
    words[0].normal = document2[n2][w].normal;
  }
  document2[n2].splice(w, 1, ...words);
};
var splice_default = insertContraction;

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/apostrophe-d.js
var hasContraction = /'/;
var alwaysDid = /* @__PURE__ */ new Set([
  "what",
  "how",
  "when",
  "where",
  "why"
]);
var useWould = /* @__PURE__ */ new Set([
  "be",
  "go",
  "start",
  "think",
  "need"
]);
var useHad = /* @__PURE__ */ new Set([
  "been",
  "gone"
]);
var _apostropheD = function(terms, i3) {
  let before2 = terms[i3].normal.split(hasContraction)[0];
  if (alwaysDid.has(before2)) {
    return [before2, "did"];
  }
  if (terms[i3 + 1]) {
    if (useHad.has(terms[i3 + 1].normal)) {
      return [before2, "had"];
    }
    if (useWould.has(terms[i3 + 1].normal)) {
      return [before2, "would"];
    }
  }
  return null;
};
var apostrophe_d_default = _apostropheD;

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/apostrophe-t.js
var apostropheT = function(terms, i3) {
  if (terms[i3].normal === "ain't" || terms[i3].normal === "aint") {
    return null;
  }
  let before2 = terms[i3].normal.replace(/n't/, "");
  return [before2, "not"];
};
var apostrophe_t_default = apostropheT;

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/french.js
var hasContraction2 = /'/;
var isFeminine = /(e|Ã©|aison|sion|tion)$/;
var isMasculine = /(age|isme|acle|ege|oire)$/;
var preL = (terms, i3) => {
  let after2 = terms[i3].normal.split(hasContraction2)[1];
  if (after2 && after2.endsWith("e")) {
    return ["la", after2];
  }
  return ["le", after2];
};
var preD = (terms, i3) => {
  let after2 = terms[i3].normal.split(hasContraction2)[1];
  if (after2 && isFeminine.test(after2) && !isMasculine.test(after2)) {
    return ["du", after2];
  } else if (after2 && after2.endsWith("s")) {
    return ["des", after2];
  }
  return ["de", after2];
};
var preJ = (terms, i3) => {
  let after2 = terms[i3].normal.split(hasContraction2)[1];
  return ["je", after2];
};
var french_default = {
  preJ,
  preL,
  preD
};

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/number-range.js
var isRange = /^([0-9.]{1,4}[a-z]{0,2}) ?[-â€“â€”] ?([0-9]{1,4}[a-z]{0,2})$/i;
var timeRange = /^([0-9]{1,2}(:[0-9][0-9])?(am|pm)?) ?[-â€“â€”] ?([0-9]{1,2}(:[0-9][0-9])?(am|pm)?)$/i;
var phoneNum = /^[0-9]{3}-[0-9]{4}$/;
var numberRange = function(terms, i3) {
  let term = terms[i3];
  let parts = term.text.match(isRange);
  if (parts !== null) {
    if (term.tags.has("PhoneNumber") === true || phoneNum.test(term.text)) {
      return null;
    }
    return [parts[1], "to", parts[2]];
  } else {
    parts = term.text.match(timeRange);
    if (parts !== null) {
      return [parts[1], "to", parts[4]];
    }
  }
  return null;
};
var number_range_default = numberRange;

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/number-unit.js
var numUnit = /^([+-]?[0-9][.,0-9]*)([a-zÂ°Â²Â³Âµ/]+)$/;
var numberUnit = function(terms, i3, world2) {
  const notUnit = world2.model.one.numberSuffixes || {};
  let term = terms[i3];
  let parts = term.text.match(numUnit);
  if (parts !== null) {
    let unit = parts[2].toLowerCase().trim();
    if (notUnit.hasOwnProperty(unit)) {
      return null;
    }
    return [parts[1], unit];
  }
  return null;
};
var number_unit_default = numberUnit;

// node_modules/compromise/src/1-one/contraction-one/compute/contractions/index.js
var byApostrophe = /'/;
var numDash = /^[0-9][^-â€“â€”]*[-â€“â€”].*?[0-9]/;
var reTag = function(terms, view, start2, len) {
  let tmp = view.update();
  tmp.document = [terms];
  let end2 = start2 + len;
  if (start2 > 0) {
    start2 -= 1;
  }
  if (terms[end2]) {
    end2 += 1;
  }
  tmp.ptrs = [[0, start2, end2]];
};
var byEnd = {
  // ain't
  t: (terms, i3) => apostrophe_t_default(terms, i3),
  // how'd
  d: (terms, i3) => apostrophe_d_default(terms, i3)
};
var byStart = {
  // j'aime
  j: (terms, i3) => french_default.preJ(terms, i3),
  // l'amour
  l: (terms, i3) => french_default.preL(terms, i3),
  // d'amerique
  d: (terms, i3) => french_default.preD(terms, i3)
};
var knownOnes = function(list2, term, before2, after2) {
  for (let i3 = 0; i3 < list2.length; i3 += 1) {
    let o2 = list2[i3];
    if (o2.word === term.normal) {
      return o2.out;
    } else if (after2 !== null && after2 === o2.after) {
      return [before2].concat(o2.out);
    } else if (before2 !== null && before2 === o2.before && after2 && after2.length > 2) {
      return o2.out.concat(after2);
    }
  }
  return null;
};
var toDocs = function(words, view) {
  let doc = view.fromText(words.join(" "));
  doc.compute(["id", "alias"]);
  return doc.docs[0];
};
var thereHas = function(terms, i3) {
  for (let k2 = i3 + 1; k2 < 5; k2 += 1) {
    if (!terms[k2]) {
      break;
    }
    if (terms[k2].normal === "been") {
      return ["there", "has"];
    }
  }
  return ["there", "is"];
};
var contractions = (view) => {
  let { world: world2, document: document2 } = view;
  const { model: model4, methods: methods18 } = world2;
  let list2 = model4.one.contractions || [];
  document2.forEach((terms, n2) => {
    for (let i3 = terms.length - 1; i3 >= 0; i3 -= 1) {
      let before2 = null;
      let after2 = null;
      if (byApostrophe.test(terms[i3].normal) === true) {
        let res = terms[i3].normal.split(byApostrophe);
        before2 = res[0];
        after2 = res[1];
      }
      let words = knownOnes(list2, terms[i3], before2, after2);
      if (!words && byEnd.hasOwnProperty(after2)) {
        words = byEnd[after2](terms, i3, world2);
      }
      if (!words && byStart.hasOwnProperty(before2)) {
        words = byStart[before2](terms, i3);
      }
      if (before2 === "there" && after2 === "s") {
        words = thereHas(terms, i3);
      }
      if (words) {
        words = toDocs(words, view);
        splice_default(document2, [n2, i3], words);
        reTag(document2[n2], view, i3, words.length);
        continue;
      }
      if (numDash.test(terms[i3].normal)) {
        words = number_range_default(terms, i3);
        if (words) {
          words = toDocs(words, view);
          splice_default(document2, [n2, i3], words);
          methods18.one.setTag(words, "NumberRange", world2);
          if (words[2] && words[2].tags.has("Time")) {
            methods18.one.setTag([words[0]], "Time", world2, null, "time-range");
          }
          reTag(document2[n2], view, i3, words.length);
        }
        continue;
      }
      words = number_unit_default(terms, i3, world2);
      if (words) {
        words = toDocs(words, view);
        splice_default(document2, [n2, i3], words);
        methods18.one.setTag([words[1]], "Unit", world2, null, "contraction-unit");
      }
    }
  });
};
var contractions_default2 = contractions;

// node_modules/compromise/src/1-one/contraction-one/compute/index.js
var compute_default4 = { contractions: contractions_default2 };

// node_modules/compromise/src/1-one/contraction-one/plugin.js
var plugin = {
  model: model_default,
  compute: compute_default4,
  hooks: ["contractions"]
};
var plugin_default3 = plugin;

// node_modules/compromise/src/1-one/freeze/compute.js
var freeze = function(view) {
  const world2 = view.world;
  const { model: model4, methods: methods18 } = view.world;
  const setTag2 = methods18.one.setTag;
  const { frozenLex } = model4.one;
  const multi = model4.one._multiCache || {};
  view.docs.forEach((terms) => {
    for (let i3 = 0; i3 < terms.length; i3 += 1) {
      let t3 = terms[i3];
      let word = t3.machine || t3.normal;
      if (multi[word] !== void 0 && terms[i3 + 1]) {
        let end2 = i3 + multi[word] - 1;
        for (let k2 = end2; k2 > i3; k2 -= 1) {
          let words = terms.slice(i3, k2 + 1);
          let str2 = words.map((term) => term.machine || term.normal).join(" ");
          if (frozenLex.hasOwnProperty(str2) === true) {
            setTag2(words, frozenLex[str2], world2, false, "1-frozen-multi-lexicon");
            words.forEach((term) => term.frozen = true);
            continue;
          }
        }
      }
      if (frozenLex[word] !== void 0 && frozenLex.hasOwnProperty(word)) {
        setTag2([t3], frozenLex[word], world2, false, "1-freeze-lexicon");
        t3.frozen = true;
        continue;
      }
    }
  });
};
var unfreeze = function(view) {
  view.docs.forEach((ts) => {
    ts.forEach((term) => {
      delete term.frozen;
    });
  });
  return view;
};
var compute_default5 = { frozen: freeze, freeze, unfreeze };

// node_modules/compromise/src/1-one/freeze/debug.js
var blue = (str2) => "\x1B[34m" + str2 + "\x1B[0m";
var dim = (str2) => "\x1B[3m\x1B[2m" + str2 + "\x1B[0m";
var debug = function(view) {
  view.docs.forEach((terms) => {
    console.log(blue("\n  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"));
    terms.forEach((t3) => {
      let str2 = `  ${dim("\u2502")}  `;
      let txt = t3.implicit || t3.text || "-";
      if (t3.frozen === true) {
        str2 += `${blue(txt)} \u2744\uFE0F`;
      } else {
        str2 += dim(txt);
      }
      console.log(str2);
    });
  });
};
var debug_default = debug;

// node_modules/compromise/src/1-one/freeze/plugin.js
var plugin_default4 = {
  // add .compute('freeze')
  compute: compute_default5,
  mutate: (world2) => {
    const methods18 = world2.methods.one;
    methods18.termMethods.isFrozen = (term) => term.frozen === true;
    methods18.debug.freeze = debug_default;
    methods18.debug.frozen = debug_default;
  },
  api: function(View2) {
    View2.prototype.freeze = function() {
      this.docs.forEach((ts) => {
        ts.forEach((term) => {
          term.frozen = true;
        });
      });
      return this;
    };
    View2.prototype.unfreeze = function() {
      this.compute("unfreeze");
    };
    View2.prototype.isFrozen = function() {
      return this.match("@isFrozen+");
    };
  },
  // run it in init
  hooks: ["freeze"]
};

// node_modules/compromise/src/1-one/lexicon/compute/multi-word.js
var multiWord = function(terms, start_i, world2) {
  const { model: model4, methods: methods18 } = world2;
  const setTag2 = methods18.one.setTag;
  const multi = model4.one._multiCache || {};
  const { lexicon: lexicon3 } = model4.one || {};
  let t3 = terms[start_i];
  let word = t3.machine || t3.normal;
  if (multi[word] !== void 0 && terms[start_i + 1]) {
    let end2 = start_i + multi[word] - 1;
    for (let i3 = end2; i3 > start_i; i3 -= 1) {
      let words = terms.slice(start_i, i3 + 1);
      if (words.length <= 1) {
        return false;
      }
      let str2 = words.map((term) => term.machine || term.normal).join(" ");
      if (lexicon3.hasOwnProperty(str2) === true) {
        let tag = lexicon3[str2];
        setTag2(words, tag, world2, false, "1-multi-lexicon");
        if (tag && tag.length === 2 && (tag[0] === "PhrasalVerb" || tag[1] === "PhrasalVerb")) {
          setTag2([words[1]], "Particle", world2, false, "1-phrasal-particle");
        }
        return true;
      }
    }
    return false;
  }
  return null;
};
var multi_word_default = multiWord;

// node_modules/compromise/src/1-one/lexicon/compute/single-word.js
var prefix = /^(under|over|mis|re|un|dis|semi|pre|post)-?/;
var allowPrefix = /* @__PURE__ */ new Set(["Verb", "Infinitive", "PastTense", "Gerund", "PresentTense", "Adjective", "Participle"]);
var checkLexicon = function(terms, i3, world2) {
  const { model: model4, methods: methods18 } = world2;
  const setTag2 = methods18.one.setTag;
  const { lexicon: lexicon3 } = model4.one;
  let t3 = terms[i3];
  let word = t3.machine || t3.normal;
  if (lexicon3[word] !== void 0 && lexicon3.hasOwnProperty(word)) {
    setTag2([t3], lexicon3[word], world2, false, "1-lexicon");
    return true;
  }
  if (t3.alias) {
    let found = t3.alias.find((str2) => lexicon3.hasOwnProperty(str2));
    if (found) {
      setTag2([t3], lexicon3[found], world2, false, "1-lexicon-alias");
      return true;
    }
  }
  if (prefix.test(word) === true) {
    let stem = word.replace(prefix, "");
    if (lexicon3.hasOwnProperty(stem) && stem.length > 3) {
      if (allowPrefix.has(lexicon3[stem])) {
        setTag2([t3], lexicon3[stem], world2, false, "1-lexicon-prefix");
        return true;
      }
    }
  }
  return null;
};
var single_word_default = checkLexicon;

// node_modules/compromise/src/1-one/lexicon/compute/index.js
var lexicon = function(view) {
  const world2 = view.world;
  view.docs.forEach((terms) => {
    for (let i3 = 0; i3 < terms.length; i3 += 1) {
      if (terms[i3].tags.size === 0) {
        let found = null;
        found = found || multi_word_default(terms, i3, world2);
        found = found || single_word_default(terms, i3, world2);
      }
    }
  });
};
var compute_default6 = {
  lexicon
};

// node_modules/compromise/src/1-one/lexicon/methods/expand.js
var expand2 = function(words) {
  let lex = {};
  let _multi = {};
  Object.keys(words).forEach((word) => {
    let tag = words[word];
    word = word.toLowerCase().trim();
    word = word.replace(/'s\b/, "");
    let split2 = word.split(/ /);
    if (split2.length > 1) {
      if (_multi[split2[0]] === void 0 || split2.length > _multi[split2[0]]) {
        _multi[split2[0]] = split2.length;
      }
    }
    lex[word] = lex[word] || tag;
  });
  delete lex[""];
  delete lex[null];
  delete lex[" "];
  return { lex, _multi };
};
var expand_default = expand2;

// node_modules/compromise/src/1-one/lexicon/methods/index.js
var methods_default3 = {
  one: {
    expandLexicon: expand_default
  }
};

// node_modules/compromise/src/1-one/lexicon/lib.js
var addWords = function(words, isFrozen = false) {
  const world2 = this.world();
  const { methods: methods18, model: model4 } = world2;
  if (!words) {
    return;
  }
  Object.keys(words).forEach((k2) => {
    if (typeof words[k2] === "string" && words[k2].startsWith("#")) {
      words[k2] = words[k2].replace(/^#/, "");
    }
  });
  if (isFrozen === true) {
    let { lex: lex2, _multi: _multi2 } = methods18.one.expandLexicon(words, world2);
    Object.assign(model4.one._multiCache, _multi2);
    Object.assign(model4.one.frozenLex, lex2);
    return;
  }
  if (methods18.two.expandLexicon) {
    let { lex: lex2, _multi: _multi2 } = methods18.two.expandLexicon(words, world2);
    Object.assign(model4.one.lexicon, lex2);
    Object.assign(model4.one._multiCache, _multi2);
  }
  let { lex, _multi } = methods18.one.expandLexicon(words, world2);
  Object.assign(model4.one.lexicon, lex);
  Object.assign(model4.one._multiCache, _multi);
};
var lib_default = { addWords };

// node_modules/compromise/src/1-one/lexicon/plugin.js
var model2 = {
  one: {
    lexicon: {},
    //setup blank lexicon
    _multiCache: {},
    frozenLex: {}
    //2nd lexicon
  }
};
var plugin_default5 = {
  model: model2,
  methods: methods_default3,
  compute: compute_default6,
  lib: lib_default,
  hooks: ["lexicon"]
};

// node_modules/compromise/src/1-one/lookup/api/buildTrie/index.js
var tokenize = function(phrase, world2) {
  const { methods: methods18, model: model4 } = world2;
  let terms = methods18.one.tokenize.splitTerms(phrase, model4).map((t3) => methods18.one.tokenize.splitWhitespace(t3, model4));
  return terms.map((term) => term.text.toLowerCase());
};
var buildTrie = function(phrases, world2) {
  let goNext = [{}];
  let endAs = [null];
  let failTo = [0];
  let xs = [];
  let n2 = 0;
  phrases.forEach(function(phrase) {
    let curr = 0;
    let words = tokenize(phrase, world2);
    for (let i3 = 0; i3 < words.length; i3++) {
      let word = words[i3];
      if (goNext[curr] && goNext[curr].hasOwnProperty(word)) {
        curr = goNext[curr][word];
      } else {
        n2++;
        goNext[curr][word] = n2;
        goNext[n2] = {};
        curr = n2;
        endAs[n2] = null;
      }
    }
    endAs[curr] = [words.length];
  });
  for (let word in goNext[0]) {
    n2 = goNext[0][word];
    failTo[n2] = 0;
    xs.push(n2);
  }
  while (xs.length) {
    let r2 = xs.shift();
    let keys = Object.keys(goNext[r2]);
    for (let i3 = 0; i3 < keys.length; i3 += 1) {
      let word = keys[i3];
      let s2 = goNext[r2][word];
      xs.push(s2);
      n2 = failTo[r2];
      while (n2 > 0 && !goNext[n2].hasOwnProperty(word)) {
        n2 = failTo[n2];
      }
      if (goNext.hasOwnProperty(n2)) {
        let fs2 = goNext[n2][word];
        failTo[s2] = fs2;
        if (endAs[fs2]) {
          endAs[s2] = endAs[s2] || [];
          endAs[s2] = endAs[s2].concat(endAs[fs2]);
        }
      } else {
        failTo[s2] = 0;
      }
    }
  }
  return { goNext, endAs, failTo };
};
var buildTrie_default = buildTrie;

// node_modules/compromise/src/1-one/lookup/api/scan.js
var scanWords = function(terms, trie, opts2) {
  let n2 = 0;
  let results = [];
  for (let i3 = 0; i3 < terms.length; i3++) {
    let word = terms[i3][opts2.form] || terms[i3].normal;
    while (n2 > 0 && (trie.goNext[n2] === void 0 || !trie.goNext[n2].hasOwnProperty(word))) {
      n2 = trie.failTo[n2] || 0;
    }
    if (!trie.goNext[n2].hasOwnProperty(word)) {
      continue;
    }
    n2 = trie.goNext[n2][word];
    if (trie.endAs[n2]) {
      let arr = trie.endAs[n2];
      for (let o2 = 0; o2 < arr.length; o2++) {
        let len = arr[o2];
        let term = terms[i3 - len + 1];
        let [no, start2] = term.index;
        results.push([no, start2, start2 + len, term.id]);
      }
    }
  }
  return results;
};
var cacheMiss = function(words, cache) {
  for (let i3 = 0; i3 < words.length; i3 += 1) {
    if (cache.has(words[i3]) === true) {
      return false;
    }
  }
  return true;
};
var scan2 = function(view, trie, opts2) {
  let results = [];
  opts2.form = opts2.form || "normal";
  let docs = view.docs;
  if (!trie.goNext || !trie.goNext[0]) {
    console.error("Compromise invalid lookup trie");
    return view.none();
  }
  let firstWords = Object.keys(trie.goNext[0]);
  for (let i3 = 0; i3 < docs.length; i3++) {
    if (view._cache && view._cache[i3] && cacheMiss(firstWords, view._cache[i3]) === true) {
      continue;
    }
    let terms = docs[i3];
    let found = scanWords(terms, trie, opts2);
    if (found.length > 0) {
      results = results.concat(found);
    }
  }
  return view.update(results);
};
var scan_default = scan2;

// node_modules/compromise/src/1-one/lookup/api/index.js
var isObject3 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
function api_default3(View2) {
  View2.prototype.lookup = function(input, opts2 = {}) {
    if (!input) {
      return this.none();
    }
    if (typeof input === "string") {
      input = [input];
    }
    let trie = isObject3(input) ? input : buildTrie_default(input, this.world);
    let res = scan_default(this, trie, opts2);
    res = res.settle();
    return res;
  };
}

// node_modules/compromise/src/1-one/lookup/api/buildTrie/compress.js
var truncate = (list2, val) => {
  for (let i3 = list2.length - 1; i3 >= 0; i3 -= 1) {
    if (list2[i3] !== val) {
      list2 = list2.slice(0, i3 + 1);
      return list2;
    }
  }
  return list2;
};
var compress = function(trie) {
  trie.goNext = trie.goNext.map((o2) => {
    if (Object.keys(o2).length === 0) {
      return void 0;
    }
    return o2;
  });
  trie.goNext = truncate(trie.goNext, void 0);
  trie.failTo = truncate(trie.failTo, 0);
  trie.endAs = truncate(trie.endAs, null);
  return trie;
};
var compress_default = compress;

// node_modules/compromise/src/1-one/lookup/plugin.js
var lib = {
  /** turn an array or object into a compressed trie*/
  buildTrie: function(input) {
    const trie = buildTrie_default(input, this.world());
    return compress_default(trie);
  }
};
lib.compile = lib.buildTrie;
var plugin_default6 = {
  api: api_default3,
  lib
};

// node_modules/compromise/src/1-one/match/api/_lib.js
var relPointer = function(ptrs, parent) {
  if (!parent) {
    return ptrs;
  }
  ptrs.forEach((ptr) => {
    let n2 = ptr[0];
    if (parent[n2]) {
      ptr[0] = parent[n2][0];
      ptr[1] += parent[n2][1];
      ptr[2] += parent[n2][1];
    }
  });
  return ptrs;
};
var fixPointers2 = function(res, parent) {
  let { ptrs, byGroup } = res;
  ptrs = relPointer(ptrs, parent);
  Object.keys(byGroup).forEach((k2) => {
    byGroup[k2] = relPointer(byGroup[k2], parent);
  });
  return { ptrs, byGroup };
};
var parseRegs = function(regs, opts2, world2) {
  const one = world2.methods.one;
  if (typeof regs === "number") {
    regs = String(regs);
  }
  if (typeof regs === "string") {
    regs = one.killUnicode(regs, world2);
    regs = one.parseMatch(regs, opts2, world2);
  }
  return regs;
};
var isObject4 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
var isView = (val) => val && isObject4(val) && val.isView === true;
var isNet = (val) => val && isObject4(val) && val.isNet === true;

// node_modules/compromise/src/1-one/match/api/match.js
var match = function(regs, group, opts2) {
  const one = this.methods.one;
  if (isView(regs)) {
    return this.intersection(regs);
  }
  if (isNet(regs)) {
    return this.sweep(regs, { tagger: false }).view.settle();
  }
  regs = parseRegs(regs, opts2, this.world);
  let todo = { regs, group };
  let res = one.match(this.docs, todo, this._cache);
  let { ptrs, byGroup } = fixPointers2(res, this.fullPointer);
  let view = this.toView(ptrs);
  view._groups = byGroup;
  return view;
};
var matchOne = function(regs, group, opts2) {
  const one = this.methods.one;
  if (isView(regs)) {
    return this.intersection(regs).eq(0);
  }
  if (isNet(regs)) {
    return this.sweep(regs, { tagger: false, matchOne: true }).view;
  }
  regs = parseRegs(regs, opts2, this.world);
  let todo = { regs, group, justOne: true };
  let res = one.match(this.docs, todo, this._cache);
  let { ptrs, byGroup } = fixPointers2(res, this.fullPointer);
  let view = this.toView(ptrs);
  view._groups = byGroup;
  return view;
};
var has = function(regs, group, opts2) {
  const one = this.methods.one;
  if (isView(regs)) {
    let ptrs2 = this.intersection(regs).fullPointer;
    return ptrs2.length > 0;
  }
  if (isNet(regs)) {
    return this.sweep(regs, { tagger: false }).view.found;
  }
  regs = parseRegs(regs, opts2, this.world);
  let todo = { regs, group, justOne: true };
  let ptrs = one.match(this.docs, todo, this._cache).ptrs;
  return ptrs.length > 0;
};
var ifFn = function(regs, group, opts2) {
  const one = this.methods.one;
  if (isView(regs)) {
    return this.filter((m) => m.intersection(regs).found);
  }
  if (isNet(regs)) {
    let m = this.sweep(regs, { tagger: false }).view.settle();
    return this.if(m);
  }
  regs = parseRegs(regs, opts2, this.world);
  let todo = { regs, group, justOne: true };
  let ptrs = this.fullPointer;
  let cache = this._cache || [];
  ptrs = ptrs.filter((ptr, i3) => {
    let m = this.update([ptr]);
    let res = one.match(m.docs, todo, cache[i3]).ptrs;
    return res.length > 0;
  });
  let view = this.update(ptrs);
  if (this._cache) {
    view._cache = ptrs.map((ptr) => cache[ptr[0]]);
  }
  return view;
};
var ifNo = function(regs, group, opts2) {
  const { methods: methods18 } = this;
  const one = methods18.one;
  if (isView(regs)) {
    return this.filter((m) => !m.intersection(regs).found);
  }
  if (isNet(regs)) {
    let m = this.sweep(regs, { tagger: false }).view.settle();
    return this.ifNo(m);
  }
  regs = parseRegs(regs, opts2, this.world);
  let cache = this._cache || [];
  let view = this.filter((m, i3) => {
    let todo = { regs, group, justOne: true };
    let ptrs = one.match(m.docs, todo, cache[i3]).ptrs;
    return ptrs.length === 0;
  });
  if (this._cache) {
    view._cache = view.ptrs.map((ptr) => cache[ptr[0]]);
  }
  return view;
};
var match_default = { matchOne, match, has, if: ifFn, ifNo };

// node_modules/compromise/src/1-one/match/api/lookaround.js
var before = function(regs, group, opts2) {
  const { indexN: indexN2 } = this.methods.one.pointer;
  let pre = [];
  let byN = indexN2(this.fullPointer);
  Object.keys(byN).forEach((k2) => {
    let first = byN[k2].sort((a2, b) => a2[1] > b[1] ? 1 : -1)[0];
    if (first[1] > 0) {
      pre.push([first[0], 0, first[1]]);
    }
  });
  let preWords = this.toView(pre);
  if (!regs) {
    return preWords;
  }
  return preWords.match(regs, group, opts2);
};
var after = function(regs, group, opts2) {
  const { indexN: indexN2 } = this.methods.one.pointer;
  let post2 = [];
  let byN = indexN2(this.fullPointer);
  let document2 = this.document;
  Object.keys(byN).forEach((k2) => {
    let last = byN[k2].sort((a2, b) => a2[1] > b[1] ? -1 : 1)[0];
    let [n2, , end2] = last;
    if (end2 < document2[n2].length) {
      post2.push([n2, end2, document2[n2].length]);
    }
  });
  let postWords = this.toView(post2);
  if (!regs) {
    return postWords;
  }
  return postWords.match(regs, group, opts2);
};
var growLeft = function(regs, group, opts2) {
  if (typeof regs === "string") {
    regs = this.world.methods.one.parseMatch(regs, opts2, this.world);
  }
  regs[regs.length - 1].end = true;
  let ptrs = this.fullPointer;
  this.forEach((m, n2) => {
    let more = m.before(regs, group);
    if (more.found) {
      let terms = more.terms();
      ptrs[n2][1] -= terms.length;
      ptrs[n2][3] = terms.docs[0][0].id;
    }
  });
  return this.update(ptrs);
};
var growRight = function(regs, group, opts2) {
  if (typeof regs === "string") {
    regs = this.world.methods.one.parseMatch(regs, opts2, this.world);
  }
  regs[0].start = true;
  let ptrs = this.fullPointer;
  this.forEach((m, n2) => {
    let more = m.after(regs, group);
    if (more.found) {
      let terms = more.terms();
      ptrs[n2][2] += terms.length;
      ptrs[n2][4] = null;
    }
  });
  return this.update(ptrs);
};
var grow = function(regs, group, opts2) {
  return this.growRight(regs, group, opts2).growLeft(regs, group, opts2);
};
var lookaround_default = { before, after, growLeft, growRight, grow };

// node_modules/compromise/src/1-one/match/api/split.js
var combine = function(left, right) {
  return [left[0], left[1], right[2]];
};
var isArray6 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var getDoc = (reg, view, group) => {
  if (typeof reg === "string" || isArray6(reg)) {
    return view.match(reg, group);
  }
  if (!reg) {
    return view.none();
  }
  return reg;
};
var addIds2 = function(ptr, view) {
  let [n2, start2, end2] = ptr;
  if (view.document[n2] && view.document[n2][start2]) {
    ptr[3] = ptr[3] || view.document[n2][start2].id;
    if (view.document[n2][end2 - 1]) {
      ptr[4] = ptr[4] || view.document[n2][end2 - 1].id;
    }
  }
  return ptr;
};
var methods8 = {};
methods8.splitOn = function(m, group) {
  const { splitAll: splitAll2 } = this.methods.one.pointer;
  let splits = getDoc(m, this, group).fullPointer;
  let all = splitAll2(this.fullPointer, splits);
  let res = [];
  all.forEach((o2) => {
    res.push(o2.passthrough);
    res.push(o2.before);
    res.push(o2.match);
    res.push(o2.after);
  });
  res = res.filter((p2) => p2);
  res = res.map((p2) => addIds2(p2, this));
  return this.update(res);
};
methods8.splitBefore = function(m, group) {
  const { splitAll: splitAll2 } = this.methods.one.pointer;
  let splits = getDoc(m, this, group).fullPointer;
  let all = splitAll2(this.fullPointer, splits);
  for (let i3 = 0; i3 < all.length; i3 += 1) {
    if (!all[i3].after && all[i3 + 1] && all[i3 + 1].before) {
      if (all[i3].match && all[i3].match[0] === all[i3 + 1].before[0]) {
        all[i3].after = all[i3 + 1].before;
        delete all[i3 + 1].before;
      }
    }
  }
  let res = [];
  all.forEach((o2) => {
    res.push(o2.passthrough);
    res.push(o2.before);
    if (o2.match && o2.after) {
      res.push(combine(o2.match, o2.after));
    } else {
      res.push(o2.match);
    }
  });
  res = res.filter((p2) => p2);
  res = res.map((p2) => addIds2(p2, this));
  return this.update(res);
};
methods8.splitAfter = function(m, group) {
  const { splitAll: splitAll2 } = this.methods.one.pointer;
  let splits = getDoc(m, this, group).fullPointer;
  let all = splitAll2(this.fullPointer, splits);
  let res = [];
  all.forEach((o2) => {
    res.push(o2.passthrough);
    if (o2.before && o2.match) {
      res.push(combine(o2.before, o2.match));
    } else {
      res.push(o2.before);
      res.push(o2.match);
    }
    res.push(o2.after);
  });
  res = res.filter((p2) => p2);
  res = res.map((p2) => addIds2(p2, this));
  return this.update(res);
};
methods8.split = methods8.splitAfter;
var split_default = methods8;

// node_modules/compromise/src/1-one/match/api/join.js
var isNeighbour = function(ptrL, ptrR) {
  if (!ptrL || !ptrR) {
    return false;
  }
  if (ptrL[0] !== ptrR[0]) {
    return false;
  }
  return ptrL[2] === ptrR[1];
};
var mergeIf = function(doc, lMatch, rMatch) {
  const world2 = doc.world;
  const parseMatch = world2.methods.one.parseMatch;
  lMatch = lMatch || ".$";
  rMatch = rMatch || "^.";
  let leftMatch = parseMatch(lMatch, {}, world2);
  let rightMatch = parseMatch(rMatch, {}, world2);
  leftMatch[leftMatch.length - 1].end = true;
  rightMatch[0].start = true;
  let ptrs = doc.fullPointer;
  let res = [ptrs[0]];
  for (let i3 = 1; i3 < ptrs.length; i3 += 1) {
    let ptrL = res[res.length - 1];
    let ptrR = ptrs[i3];
    let left = doc.update([ptrL]);
    let right = doc.update([ptrR]);
    if (isNeighbour(ptrL, ptrR) && left.has(leftMatch) && right.has(rightMatch)) {
      res[res.length - 1] = [ptrL[0], ptrL[1], ptrR[2], ptrL[3], ptrR[4]];
    } else {
      res.push(ptrR);
    }
  }
  return doc.update(res);
};
var methods9 = {
  //  merge only if conditions are met
  joinIf: function(lMatch, rMatch) {
    return mergeIf(this, lMatch, rMatch);
  },
  // merge all neighbouring matches
  join: function() {
    return mergeIf(this);
  }
};
var join_default = methods9;

// node_modules/compromise/src/1-one/match/api/index.js
var methods10 = Object.assign({}, match_default, lookaround_default, split_default, join_default);
methods10.lookBehind = methods10.before;
methods10.lookBefore = methods10.before;
methods10.lookAhead = methods10.after;
methods10.lookAfter = methods10.after;
methods10.notIf = methods10.ifNo;
var matchAPI = function(View2) {
  Object.assign(View2.prototype, methods10);
};
var api_default4 = matchAPI;

// node_modules/compromise/src/1-one/match/methods/parseMatch/01-parseBlocks.js
var bySlashes = /(?:^|\s)([![^]*(?:<[^<]*>)?\/.*?[^\\/]\/[?\]+*$~]*)(?:\s|$)/;
var byParentheses = /([!~[^]*(?:<[^<]*>)?\([^)]+[^\\)]\)[?\]+*$~]*)(?:\s|$)/;
var byWord = / /g;
var isBlock = (str2) => {
  return /^[![^]*(<[^<]*>)?\(/.test(str2) && /\)[?\]+*$~]*$/.test(str2);
};
var isReg = (str2) => {
  return /^[![^]*(<[^<]*>)?\//.test(str2) && /\/[?\]+*$~]*$/.test(str2);
};
var cleanUp = function(arr) {
  arr = arr.map((str2) => str2.trim());
  arr = arr.filter((str2) => str2);
  return arr;
};
var parseBlocks = function(txt) {
  let arr = txt.split(bySlashes);
  let res = [];
  arr.forEach((str2) => {
    if (isReg(str2)) {
      res.push(str2);
      return;
    }
    res = res.concat(str2.split(byParentheses));
  });
  res = cleanUp(res);
  let final = [];
  res.forEach((str2) => {
    if (isBlock(str2)) {
      final.push(str2);
    } else if (isReg(str2)) {
      final.push(str2);
    } else {
      final = final.concat(str2.split(byWord));
    }
  });
  final = cleanUp(final);
  return final;
};
var parseBlocks_default = parseBlocks;

// node_modules/compromise/src/1-one/match/methods/parseMatch/02-parseToken.js
var hasMinMax = /\{([0-9]+)?(, *[0-9]*)?\}/;
var andSign = /&&/;
var captureName = new RegExp(/^<\s*(\S+)\s*>/);
var titleCase = (str2) => str2.charAt(0).toUpperCase() + str2.substring(1);
var end = (str2) => str2.charAt(str2.length - 1);
var start = (str2) => str2.charAt(0);
var stripStart = (str2) => str2.substring(1);
var stripEnd = (str2) => str2.substring(0, str2.length - 1);
var stripBoth = function(str2) {
  str2 = stripStart(str2);
  str2 = stripEnd(str2);
  return str2;
};
var parseToken = function(w, opts2) {
  let obj = {};
  for (let i3 = 0; i3 < 2; i3 += 1) {
    if (end(w) === "$") {
      obj.end = true;
      w = stripEnd(w);
    }
    if (start(w) === "^") {
      obj.start = true;
      w = stripStart(w);
    }
    if (end(w) === "?") {
      obj.optional = true;
      w = stripEnd(w);
    }
    if (start(w) === "[" || end(w) === "]") {
      obj.group = null;
      if (start(w) === "[") {
        obj.groupStart = true;
      }
      if (end(w) === "]") {
        obj.groupEnd = true;
      }
      w = w.replace(/^\[/, "");
      w = w.replace(/\]$/, "");
      if (start(w) === "<") {
        const res = captureName.exec(w);
        if (res.length >= 2) {
          obj.group = res[1];
          w = w.replace(res[0], "");
        }
      }
    }
    if (end(w) === "+") {
      obj.greedy = true;
      w = stripEnd(w);
    }
    if (w !== "*" && end(w) === "*" && w !== "\\*") {
      obj.greedy = true;
      w = stripEnd(w);
    }
    if (start(w) === "!") {
      obj.negative = true;
      w = stripStart(w);
    }
    if (start(w) === "~" && end(w) === "~" && w.length > 2) {
      w = stripBoth(w);
      obj.fuzzy = true;
      obj.min = opts2.fuzzy || 0.85;
      if (/\(/.test(w) === false) {
        obj.word = w;
        return obj;
      }
    }
    if (start(w) === "/" && end(w) === "/") {
      w = stripBoth(w);
      if (opts2.caseSensitive) {
        obj.use = "text";
      }
      obj.regex = new RegExp(w);
      return obj;
    }
    if (hasMinMax.test(w) === true) {
      w = w.replace(hasMinMax, (_a2, b, c2) => {
        if (c2 === void 0) {
          obj.min = Number(b);
          obj.max = Number(b);
        } else {
          c2 = c2.replace(/, */, "");
          if (b === void 0) {
            obj.min = 0;
            obj.max = Number(c2);
          } else {
            obj.min = Number(b);
            obj.max = Number(c2 || 999);
          }
        }
        obj.greedy = true;
        if (!obj.min) {
          obj.optional = true;
        }
        return "";
      });
    }
    if (start(w) === "(" && end(w) === ")") {
      if (andSign.test(w)) {
        obj.choices = w.split(andSign);
        obj.operator = "and";
      } else {
        obj.choices = w.split("|");
        obj.operator = "or";
      }
      obj.choices[0] = stripStart(obj.choices[0]);
      let last = obj.choices.length - 1;
      obj.choices[last] = stripEnd(obj.choices[last]);
      obj.choices = obj.choices.map((s2) => s2.trim());
      obj.choices = obj.choices.filter((s2) => s2);
      obj.choices = obj.choices.map((str2) => {
        return str2.split(/ /g).map((s2) => parseToken(s2, opts2));
      });
      w = "";
    }
    if (start(w) === "{" && end(w) === "}") {
      w = stripBoth(w);
      obj.root = w;
      if (/\//.test(w)) {
        let split2 = obj.root.split(/\//);
        obj.root = split2[0];
        obj.pos = split2[1];
        if (obj.pos === "adj") {
          obj.pos = "Adjective";
        }
        obj.pos = obj.pos.charAt(0).toUpperCase() + obj.pos.substr(1).toLowerCase();
        if (split2[2] !== void 0) {
          obj.sense = split2[2];
        }
      }
      return obj;
    }
    if (start(w) === "<" && end(w) === ">") {
      w = stripBoth(w);
      obj.chunk = titleCase(w);
      obj.greedy = true;
      return obj;
    }
    if (start(w) === "%" && end(w) === "%") {
      w = stripBoth(w);
      obj.switch = w;
      return obj;
    }
  }
  if (start(w) === "#") {
    obj.tag = stripStart(w);
    obj.tag = titleCase(obj.tag);
    return obj;
  }
  if (start(w) === "@") {
    obj.method = stripStart(w);
    return obj;
  }
  if (w === ".") {
    obj.anything = true;
    return obj;
  }
  if (w === "*") {
    obj.anything = true;
    obj.greedy = true;
    obj.optional = true;
    return obj;
  }
  if (w) {
    w = w.replace("\\*", "*");
    w = w.replace("\\.", ".");
    if (opts2.caseSensitive) {
      obj.use = "text";
    } else {
      w = w.toLowerCase();
    }
    obj.word = w;
  }
  return obj;
};
var parseToken_default = parseToken;

// node_modules/compromise/src/1-one/match/methods/parseMatch/03-splitHyphens.js
var hasDash = /[a-z0-9][-â€“â€”][a-z]/i;
var splitHyphens = function(regs, world2) {
  let prefixes = world2.model.one.prefixes;
  for (let i3 = regs.length - 1; i3 >= 0; i3 -= 1) {
    let reg = regs[i3];
    if (reg.word && hasDash.test(reg.word)) {
      let words = reg.word.split(/[-â€“â€”]/g);
      if (prefixes.hasOwnProperty(words[0])) {
        continue;
      }
      words = words.filter((w) => w).reverse();
      regs.splice(i3, 1);
      words.forEach((w) => {
        let obj = Object.assign({}, reg);
        obj.word = w;
        regs.splice(i3, 0, obj);
      });
    }
  }
  return regs;
};
var splitHyphens_default = splitHyphens;

// node_modules/compromise/src/1-one/match/methods/parseMatch/04-inflect-root.js
var addVerbs = function(token, world2) {
  let { all } = world2.methods.two.transform.verb || {};
  let str2 = token.root;
  if (!all) {
    return [];
  }
  return all(str2, world2.model);
};
var addNoun = function(token, world2) {
  let { all } = world2.methods.two.transform.noun || {};
  if (!all) {
    return [token.root];
  }
  return all(token.root, world2.model);
};
var addAdjective = function(token, world2) {
  let { all } = world2.methods.two.transform.adjective || {};
  if (!all) {
    return [token.root];
  }
  return all(token.root, world2.model);
};
var inflectRoot = function(regs, world2) {
  regs = regs.map((token) => {
    if (token.root) {
      if (world2.methods.two && world2.methods.two.transform) {
        let choices = [];
        if (token.pos) {
          if (token.pos === "Verb") {
            choices = choices.concat(addVerbs(token, world2));
          } else if (token.pos === "Noun") {
            choices = choices.concat(addNoun(token, world2));
          } else if (token.pos === "Adjective") {
            choices = choices.concat(addAdjective(token, world2));
          }
        } else {
          choices = choices.concat(addVerbs(token, world2));
          choices = choices.concat(addNoun(token, world2));
          choices = choices.concat(addAdjective(token, world2));
        }
        choices = choices.filter((str2) => str2);
        if (choices.length > 0) {
          token.operator = "or";
          token.fastOr = new Set(choices);
        }
      } else {
        token.machine = token.root;
        delete token.id;
        delete token.root;
      }
    }
    return token;
  });
  return regs;
};
var inflect_root_default = inflectRoot;

// node_modules/compromise/src/1-one/match/methods/parseMatch/05-postProcess.js
var nameGroups = function(regs) {
  let index4 = 0;
  let inGroup = null;
  for (let i3 = 0; i3 < regs.length; i3++) {
    const token = regs[i3];
    if (token.groupStart === true) {
      inGroup = token.group;
      if (inGroup === null) {
        inGroup = String(index4);
        index4 += 1;
      }
    }
    if (inGroup !== null) {
      token.group = inGroup;
    }
    if (token.groupEnd === true) {
      inGroup = null;
    }
  }
  return regs;
};
var doFastOrMode = function(tokens) {
  return tokens.map((token) => {
    if (token.choices !== void 0) {
      if (token.operator !== "or") {
        return token;
      }
      if (token.fuzzy === true) {
        return token;
      }
      let shouldPack = token.choices.every((block) => {
        if (block.length !== 1) {
          return false;
        }
        let reg = block[0];
        if (reg.fuzzy === true) {
          return false;
        }
        if (reg.start || reg.end) {
          return false;
        }
        if (reg.word !== void 0 && reg.negative !== true && reg.optional !== true && reg.method !== true) {
          return true;
        }
        return false;
      });
      if (shouldPack === true) {
        token.fastOr = /* @__PURE__ */ new Set();
        token.choices.forEach((block) => {
          token.fastOr.add(block[0].word);
        });
        delete token.choices;
      }
    }
    return token;
  });
};
var fuzzyOr = function(regs) {
  return regs.map((reg) => {
    if (reg.fuzzy && reg.choices) {
      reg.choices.forEach((r2) => {
        if (r2.length === 1 && r2[0].word) {
          r2[0].fuzzy = true;
          r2[0].min = reg.min;
        }
      });
    }
    return reg;
  });
};
var postProcess = function(regs) {
  regs = nameGroups(regs);
  regs = doFastOrMode(regs);
  regs = fuzzyOr(regs);
  return regs;
};
var postProcess_default = postProcess;

// node_modules/compromise/src/1-one/match/methods/parseMatch/index.js
var syntax = function(input, opts2, world2) {
  if (input === null || input === void 0 || input === "") {
    return [];
  }
  opts2 = opts2 || {};
  if (typeof input === "number") {
    input = String(input);
  }
  let tokens = parseBlocks_default(input);
  tokens = tokens.map((str2) => parseToken_default(str2, opts2));
  tokens = splitHyphens_default(tokens, world2);
  tokens = inflect_root_default(tokens, world2);
  tokens = postProcess_default(tokens, opts2);
  return tokens;
};
var parseMatch_default = syntax;

// node_modules/compromise/src/1-one/match/methods/match/01-failFast.js
var anyIntersection = function(setA, setB) {
  for (let elem of setB) {
    if (setA.has(elem)) {
      return true;
    }
  }
  return false;
};
var failFast = function(regs, cache) {
  for (let i3 = 0; i3 < regs.length; i3 += 1) {
    let reg = regs[i3];
    if (reg.optional === true || reg.negative === true || reg.fuzzy === true) {
      continue;
    }
    if (reg.word !== void 0 && cache.has(reg.word) === false) {
      return true;
    }
    if (reg.tag !== void 0 && cache.has("#" + reg.tag) === false) {
      return true;
    }
    if (reg.fastOr && anyIntersection(reg.fastOr, cache) === false) {
      return false;
    }
  }
  return false;
};
var failFast_default = failFast;

// node_modules/compromise/src/1-one/match/methods/match/term/_fuzzy.js
var editDistance = function(strA, strB) {
  let aLength = strA.length, bLength = strB.length;
  if (aLength === 0) {
    return bLength;
  }
  if (bLength === 0) {
    return aLength;
  }
  let limit2 = (bLength > aLength ? bLength : aLength) + 1;
  if (Math.abs(aLength - bLength) > (limit2 || 100)) {
    return limit2 || 100;
  }
  let matrix = [];
  for (let i3 = 0; i3 < limit2; i3++) {
    matrix[i3] = [i3];
    matrix[i3].length = limit2;
  }
  for (let i3 = 0; i3 < limit2; i3++) {
    matrix[0][i3] = i3;
  }
  let j2, a_index, b_index, cost, min, t3;
  for (let i3 = 1; i3 <= aLength; ++i3) {
    a_index = strA[i3 - 1];
    for (j2 = 1; j2 <= bLength; ++j2) {
      if (i3 === j2 && matrix[i3][j2] > 4) {
        return aLength;
      }
      b_index = strB[j2 - 1];
      cost = a_index === b_index ? 0 : 1;
      min = matrix[i3 - 1][j2] + 1;
      if ((t3 = matrix[i3][j2 - 1] + 1) < min)
        min = t3;
      if ((t3 = matrix[i3 - 1][j2 - 1] + cost) < min)
        min = t3;
      let shouldUpdate = i3 > 1 && j2 > 1 && a_index === strB[j2 - 2] && strA[i3 - 2] === b_index && (t3 = matrix[i3 - 2][j2 - 2] + cost) < min;
      if (shouldUpdate) {
        matrix[i3][j2] = t3;
      } else {
        matrix[i3][j2] = min;
      }
    }
  }
  return matrix[aLength][bLength];
};
var fuzzyMatch = function(strA, strB, minLength = 3) {
  if (strA === strB) {
    return 1;
  }
  if (strA.length < minLength || strB.length < minLength) {
    return 0;
  }
  const steps = editDistance(strA, strB);
  let length2 = Math.max(strA.length, strB.length);
  let relative = length2 === 0 ? 0 : steps / length2;
  let similarity = 1 - relative;
  return similarity;
};
var fuzzy_default = fuzzyMatch;

// node_modules/compromise/src/1-one/match/methods/termMethods.js
var startQuote = /([\u0022\uFF02\u0027\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F])/;
var endQuote = /([\u0022\uFF02\u0027\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4])/;
var hasHyphen = /^[-â€“â€”]$/;
var hasDash2 = / [-â€“â€”]{1,3} /;
var hasPost = (term, punct) => term.post.indexOf(punct) !== -1;
var methods11 = {
  /** does it have a quotation symbol?  */
  hasQuote: (term) => startQuote.test(term.pre) || endQuote.test(term.post),
  /** does it have a comma?  */
  hasComma: (term) => hasPost(term, ","),
  /** does it end in a period? */
  hasPeriod: (term) => hasPost(term, ".") === true && hasPost(term, "...") === false,
  /** does it end in an exclamation */
  hasExclamation: (term) => hasPost(term, "!"),
  /** does it end with a question mark? */
  hasQuestionMark: (term) => hasPost(term, "?") || hasPost(term, "\xBF"),
  /** is there a ... at the end? */
  hasEllipses: (term) => hasPost(term, "..") || hasPost(term, "\u2026"),
  /** is there a semicolon after term word? */
  hasSemicolon: (term) => hasPost(term, ";"),
  /** is there a colon after term word? */
  hasColon: (term) => hasPost(term, ":"),
  /** is there a slash '/' in term word? */
  hasSlash: (term) => /\//.test(term.text),
  /** a hyphen connects two words like-term */
  hasHyphen: (term) => hasHyphen.test(term.post) || hasHyphen.test(term.pre),
  /** a dash separates words - like that */
  hasDash: (term) => hasDash2.test(term.post) || hasDash2.test(term.pre),
  /** is it multiple words combinded */
  hasContraction: (term) => Boolean(term.implicit),
  /** is it an acronym */
  isAcronym: (term) => term.tags.has("Acronym"),
  /** does it have any tags */
  isKnown: (term) => term.tags.size > 0,
  /** uppercase first letter, then a lowercase */
  isTitleCase: (term) => /^\p{Lu}[a-z'\u00C0-\u00FF]/u.test(term.text),
  /** uppercase all letters */
  isUpperCase: (term) => /^\p{Lu}+$/u.test(term.text)
};
methods11.hasQuotation = methods11.hasQuote;
var termMethods_default = methods11;

// node_modules/compromise/src/1-one/match/methods/match/term/doesMatch.js
var wrapMatch = function() {
};
var doesMatch = function(term, reg, index4, length2) {
  if (reg.anything === true) {
    return true;
  }
  if (reg.start === true && index4 !== 0) {
    return false;
  }
  if (reg.end === true && index4 !== length2 - 1) {
    return false;
  }
  if (reg.id !== void 0 && reg.id === term.id) {
    return true;
  }
  if (reg.word !== void 0) {
    if (reg.use) {
      return reg.word === term[reg.use];
    }
    if (term.machine !== null && term.machine === reg.word) {
      return true;
    }
    if (term.alias !== void 0 && term.alias.hasOwnProperty(reg.word)) {
      return true;
    }
    if (reg.fuzzy === true) {
      if (reg.word === term.root) {
        return true;
      }
      let score = fuzzy_default(reg.word, term.normal);
      if (score >= reg.min) {
        return true;
      }
    }
    if (term.alias && term.alias.some((str2) => str2 === reg.word)) {
      return true;
    }
    return reg.word === term.text || reg.word === term.normal;
  }
  if (reg.tag !== void 0) {
    return term.tags.has(reg.tag) === true;
  }
  if (reg.method !== void 0) {
    if (typeof termMethods_default[reg.method] === "function" && termMethods_default[reg.method](term) === true) {
      return true;
    }
    return false;
  }
  if (reg.pre !== void 0) {
    return term.pre && term.pre.includes(reg.pre);
  }
  if (reg.post !== void 0) {
    return term.post && term.post.includes(reg.post);
  }
  if (reg.regex !== void 0) {
    let str2 = term.normal;
    if (reg.use) {
      str2 = term[reg.use];
    }
    return reg.regex.test(str2);
  }
  if (reg.chunk !== void 0) {
    return term.chunk === reg.chunk;
  }
  if (reg.switch !== void 0) {
    return term.switch === reg.switch;
  }
  if (reg.machine !== void 0) {
    return term.normal === reg.machine || term.machine === reg.machine || term.root === reg.machine;
  }
  if (reg.sense !== void 0) {
    return term.sense === reg.sense;
  }
  if (reg.fastOr !== void 0) {
    if (reg.pos && !term.tags.has(reg.pos)) {
      return null;
    }
    let str2 = term.root || term.implicit || term.machine || term.normal;
    return reg.fastOr.has(str2) || reg.fastOr.has(term.text);
  }
  if (reg.choices !== void 0) {
    if (reg.operator === "and") {
      return reg.choices.every((r2) => wrapMatch(term, r2, index4, length2));
    }
    return reg.choices.some((r2) => wrapMatch(term, r2, index4, length2));
  }
  return false;
};
wrapMatch = function(t3, reg, index4, length2) {
  let result = doesMatch(t3, reg, index4, length2);
  if (reg.negative === true) {
    return !result;
  }
  return result;
};
var doesMatch_default = wrapMatch;

// node_modules/compromise/src/1-one/match/methods/match/steps/logic/greedy.js
var getGreedy = function(state, endReg) {
  let reg = Object.assign({}, state.regs[state.r], { start: false, end: false });
  let start2 = state.t;
  for (; state.t < state.terms.length; state.t += 1) {
    if (endReg && doesMatch_default(state.terms[state.t], endReg, state.start_i + state.t, state.phrase_length)) {
      return state.t;
    }
    let count = state.t - start2 + 1;
    if (reg.max !== void 0 && count === reg.max) {
      return state.t;
    }
    if (doesMatch_default(state.terms[state.t], reg, state.start_i + state.t, state.phrase_length) === false) {
      if (reg.min !== void 0 && count < reg.min) {
        return null;
      }
      return state.t;
    }
  }
  return state.t;
};
var greedyTo = function(state, nextReg) {
  let t3 = state.t;
  if (!nextReg) {
    return state.terms.length;
  }
  for (; t3 < state.terms.length; t3 += 1) {
    if (doesMatch_default(state.terms[t3], nextReg, state.start_i + t3, state.phrase_length) === true) {
      return t3;
    }
  }
  return null;
};
var isEndGreedy = function(reg, state) {
  if (reg.end === true && reg.greedy === true) {
    if (state.start_i + state.t < state.phrase_length - 1) {
      let tmpReg = Object.assign({}, reg, { end: false });
      if (doesMatch_default(state.terms[state.t], tmpReg, state.start_i + state.t, state.phrase_length) === true) {
        return true;
      }
    }
  }
  return false;
};

// node_modules/compromise/src/1-one/match/methods/match/_lib.js
var getGroup = function(state, term_index) {
  if (state.groups[state.inGroup]) {
    return state.groups[state.inGroup];
  }
  state.groups[state.inGroup] = {
    start: term_index,
    length: 0
  };
  return state.groups[state.inGroup];
};

// node_modules/compromise/src/1-one/match/methods/match/steps/astrix.js
var doAstrix = function(state) {
  let { regs } = state;
  let reg = regs[state.r];
  let skipto = greedyTo(state, regs[state.r + 1]);
  if (skipto === null || skipto === 0) {
    return null;
  }
  if (reg.min !== void 0 && skipto - state.t < reg.min) {
    return null;
  }
  if (reg.max !== void 0 && skipto - state.t > reg.max) {
    state.t = state.t + reg.max;
    return true;
  }
  if (state.hasGroup === true) {
    const g3 = getGroup(state, state.t);
    g3.length = skipto - state.t;
  }
  state.t = skipto;
  return true;
};
var astrix_default = doAstrix;

// node_modules/compromise/src/1-one/match/methods/match/steps/logic/and-or.js
var isArray7 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var doOrBlock = function(state, skipN = 0) {
  let block = state.regs[state.r];
  let wasFound = false;
  for (let c2 = 0; c2 < block.choices.length; c2 += 1) {
    let regs = block.choices[c2];
    if (!isArray7(regs)) {
      return false;
    }
    wasFound = regs.every((cr, w_index) => {
      let extra = 0;
      let t3 = state.t + w_index + skipN + extra;
      if (state.terms[t3] === void 0) {
        return false;
      }
      let foundBlock = doesMatch_default(state.terms[t3], cr, t3 + state.start_i, state.phrase_length);
      if (foundBlock === true && cr.greedy === true) {
        for (let i3 = 1; i3 < state.terms.length; i3 += 1) {
          let term = state.terms[t3 + i3];
          if (term) {
            let keepGoing = doesMatch_default(term, cr, state.start_i + i3, state.phrase_length);
            if (keepGoing === true) {
              extra += 1;
            } else {
              break;
            }
          }
        }
      }
      skipN += extra;
      return foundBlock;
    });
    if (wasFound) {
      skipN += regs.length;
      break;
    }
  }
  if (wasFound && block.greedy === true) {
    return doOrBlock(state, skipN);
  }
  return skipN;
};
var doAndBlock = function(state) {
  let longest = 0;
  let reg = state.regs[state.r];
  let allDidMatch = reg.choices.every((block) => {
    let allWords = block.every((cr, w_index) => {
      let tryTerm = state.t + w_index;
      if (state.terms[tryTerm] === void 0) {
        return false;
      }
      return doesMatch_default(state.terms[tryTerm], cr, tryTerm, state.phrase_length);
    });
    if (allWords === true && block.length > longest) {
      longest = block.length;
    }
    return allWords;
  });
  if (allDidMatch === true) {
    return longest;
  }
  return false;
};

// node_modules/compromise/src/1-one/match/methods/match/steps/or-block.js
var orBlock = function(state) {
  const { regs } = state;
  let reg = regs[state.r];
  let skipNum = doOrBlock(state);
  if (skipNum) {
    if (reg.negative === true) {
      return null;
    }
    if (state.hasGroup === true) {
      const g3 = getGroup(state, state.t);
      g3.length += skipNum;
    }
    if (reg.end === true) {
      let end2 = state.phrase_length;
      if (state.t + state.start_i + skipNum !== end2) {
        return null;
      }
    }
    state.t += skipNum;
    return true;
  } else if (!reg.optional) {
    return null;
  }
  return true;
};
var or_block_default = orBlock;

// node_modules/compromise/src/1-one/match/methods/match/steps/and-block.js
var andBlock = function(state) {
  const { regs } = state;
  let reg = regs[state.r];
  let skipNum = doAndBlock(state);
  if (skipNum) {
    if (reg.negative === true) {
      return null;
    }
    if (state.hasGroup === true) {
      const g3 = getGroup(state, state.t);
      g3.length += skipNum;
    }
    if (reg.end === true) {
      let end2 = state.phrase_length - 1;
      if (state.t + state.start_i !== end2) {
        return null;
      }
    }
    state.t += skipNum;
    return true;
  } else if (!reg.optional) {
    return null;
  }
  return true;
};
var and_block_default = andBlock;

// node_modules/compromise/src/1-one/match/methods/match/steps/logic/negative-greedy.js
var negGreedy = function(state, reg, nextReg) {
  let skip = 0;
  for (let t3 = state.t; t3 < state.terms.length; t3 += 1) {
    let found = doesMatch_default(state.terms[t3], reg, state.start_i + state.t, state.phrase_length);
    if (found) {
      break;
    }
    if (nextReg) {
      found = doesMatch_default(state.terms[t3], nextReg, state.start_i + state.t, state.phrase_length);
      if (found) {
        break;
      }
    }
    skip += 1;
    if (reg.max !== void 0 && skip === reg.max) {
      break;
    }
  }
  if (skip === 0) {
    return false;
  }
  if (reg.min && reg.min > skip) {
    return false;
  }
  state.t += skip;
  return true;
};
var negative_greedy_default = negGreedy;

// node_modules/compromise/src/1-one/match/methods/match/steps/negative.js
var doNegative = function(state) {
  const { regs } = state;
  let reg = regs[state.r];
  let tmpReg = Object.assign({}, reg);
  tmpReg.negative = false;
  let found = doesMatch_default(state.terms[state.t], tmpReg, state.start_i + state.t, state.phrase_length);
  if (found) {
    return false;
  }
  if (reg.optional) {
    let nextReg = regs[state.r + 1];
    if (nextReg) {
      let fNext = doesMatch_default(state.terms[state.t], nextReg, state.start_i + state.t, state.phrase_length);
      if (fNext) {
        state.r += 1;
      } else if (nextReg.optional && regs[state.r + 2]) {
        let fNext2 = doesMatch_default(state.terms[state.t], regs[state.r + 2], state.start_i + state.t, state.phrase_length);
        if (fNext2) {
          state.r += 2;
        }
      }
    }
  }
  if (reg.greedy) {
    return negative_greedy_default(state, tmpReg, regs[state.r + 1]);
  }
  state.t += 1;
  return true;
};
var negative_default = doNegative;

// node_modules/compromise/src/1-one/match/methods/match/steps/optional-match.js
var foundOptional = function(state) {
  const { regs } = state;
  let reg = regs[state.r];
  let term = state.terms[state.t];
  let nextRegMatched = doesMatch_default(term, regs[state.r + 1], state.start_i + state.t, state.phrase_length);
  if (reg.negative || nextRegMatched) {
    let nextTerm = state.terms[state.t + 1];
    if (!nextTerm || !doesMatch_default(nextTerm, regs[state.r + 1], state.start_i + state.t, state.phrase_length)) {
      state.r += 1;
    }
  }
};
var optional_match_default = foundOptional;

// node_modules/compromise/src/1-one/match/methods/match/steps/greedy-match.js
var greedyMatch = function(state) {
  const { regs, phrase_length } = state;
  let reg = regs[state.r];
  state.t = getGreedy(state, regs[state.r + 1]);
  if (state.t === null) {
    return null;
  }
  if (reg.min && reg.min > state.t) {
    return null;
  }
  if (reg.end === true && state.start_i + state.t !== phrase_length) {
    return null;
  }
  return true;
};
var greedy_match_default = greedyMatch;

// node_modules/compromise/src/1-one/match/methods/match/steps/contraction-skip.js
var contractionSkip = function(state) {
  let term = state.terms[state.t];
  let reg = state.regs[state.r];
  if (term.implicit && state.terms[state.t + 1]) {
    let nextTerm = state.terms[state.t + 1];
    if (!nextTerm.implicit) {
      return;
    }
    if (reg.word === term.normal) {
      state.t += 1;
    }
    if (reg.method === "hasContraction") {
      state.t += 1;
    }
  }
};
var contraction_skip_default = contractionSkip;

// node_modules/compromise/src/1-one/match/methods/match/steps/simple-match.js
var setGroup = function(state, startAt) {
  let reg = state.regs[state.r];
  const g3 = getGroup(state, startAt);
  if (state.t > 1 && reg.greedy) {
    g3.length += state.t - startAt;
  } else {
    g3.length++;
  }
};
var simpleMatch = function(state) {
  const { regs } = state;
  let reg = regs[state.r];
  let term = state.terms[state.t];
  let startAt = state.t;
  if (reg.optional && regs[state.r + 1] && reg.negative) {
    return true;
  }
  if (reg.optional && regs[state.r + 1]) {
    optional_match_default(state);
  }
  if (term.implicit && state.terms[state.t + 1]) {
    contraction_skip_default(state);
  }
  state.t += 1;
  if (reg.end === true && state.t !== state.terms.length && reg.greedy !== true) {
    return null;
  }
  if (reg.greedy === true) {
    let alive = greedy_match_default(state);
    if (!alive) {
      return null;
    }
  }
  if (state.hasGroup === true) {
    setGroup(state, startAt);
  }
  return true;
};
var simple_match_default = simpleMatch;

// node_modules/compromise/src/1-one/match/methods/match/02-from-here.js
var tryHere = function(terms, regs, start_i, phrase_length) {
  if (terms.length === 0 || regs.length === 0) {
    return null;
  }
  let state = {
    t: 0,
    terms,
    r: 0,
    regs,
    groups: {},
    start_i,
    phrase_length,
    inGroup: null
  };
  for (; state.r < regs.length; state.r += 1) {
    let reg = regs[state.r];
    state.hasGroup = Boolean(reg.group);
    if (state.hasGroup === true) {
      state.inGroup = reg.group;
    } else {
      state.inGroup = null;
    }
    if (!state.terms[state.t]) {
      const alive = regs.slice(state.r).some((remain) => !remain.optional);
      if (alive === false) {
        break;
      }
      return null;
    }
    if (reg.anything === true && reg.greedy === true) {
      let alive = astrix_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (reg.choices !== void 0 && reg.operator === "or") {
      let alive = or_block_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (reg.choices !== void 0 && reg.operator === "and") {
      let alive = and_block_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (reg.anything === true) {
      if (reg.negative && reg.anything) {
        return null;
      }
      let alive = simple_match_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (isEndGreedy(reg, state) === true) {
      let alive = simple_match_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (reg.negative) {
      let alive = negative_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    let hasMatch = doesMatch_default(state.terms[state.t], reg, state.start_i + state.t, state.phrase_length);
    if (hasMatch === true) {
      let alive = simple_match_default(state);
      if (!alive) {
        return null;
      }
      continue;
    }
    if (reg.optional === true) {
      continue;
    }
    return null;
  }
  let pntr = [null, start_i, state.t + start_i];
  if (pntr[1] === pntr[2]) {
    return null;
  }
  let groups = {};
  Object.keys(state.groups).forEach((k2) => {
    let o2 = state.groups[k2];
    let start2 = start_i + o2.start;
    groups[k2] = [null, start2, start2 + o2.length];
  });
  return { pointer: pntr, groups };
};
var from_here_default = tryHere;

// node_modules/compromise/src/1-one/match/methods/match/03-getGroup.js
var getGroup2 = function(res, group) {
  let ptrs = [];
  let byGroup = {};
  if (res.length === 0) {
    return { ptrs, byGroup };
  }
  if (typeof group === "number") {
    group = String(group);
  }
  if (group) {
    res.forEach((r2) => {
      if (r2.groups[group]) {
        ptrs.push(r2.groups[group]);
      }
    });
  } else {
    res.forEach((r2) => {
      ptrs.push(r2.pointer);
      Object.keys(r2.groups).forEach((k2) => {
        byGroup[k2] = byGroup[k2] || [];
        byGroup[k2].push(r2.groups[k2]);
      });
    });
  }
  return { ptrs, byGroup };
};
var getGroup_default = getGroup2;

// node_modules/compromise/src/1-one/match/methods/match/03-notIf.js
var notIf = function(results, not, docs) {
  results = results.filter((res) => {
    let [n2, start2, end2] = res.pointer;
    let terms = docs[n2].slice(start2, end2);
    for (let i3 = 0; i3 < terms.length; i3 += 1) {
      let slice = terms.slice(i3);
      let found = from_here_default(slice, not, i3, terms.length);
      if (found !== null) {
        return false;
      }
    }
    return true;
  });
  return results;
};
var notIf_default = notIf;

// node_modules/compromise/src/1-one/match/methods/match/index.js
var addSentence = function(res, n2) {
  res.pointer[0] = n2;
  Object.keys(res.groups).forEach((k2) => {
    res.groups[k2][0] = n2;
  });
  return res;
};
var handleStart = function(terms, regs, n2) {
  let res = from_here_default(terms, regs, 0, terms.length);
  if (res) {
    res = addSentence(res, n2);
    return res;
  }
  return null;
};
var runMatch = function(docs, todo, cache) {
  cache = cache || [];
  let { regs, group, justOne } = todo;
  let results = [];
  if (!regs || regs.length === 0) {
    return { ptrs: [], byGroup: {} };
  }
  const minLength = regs.filter((r2) => r2.optional !== true && r2.negative !== true).length;
  docs:
    for (let n2 = 0; n2 < docs.length; n2 += 1) {
      let terms = docs[n2];
      if (cache[n2] && failFast_default(regs, cache[n2])) {
        continue;
      }
      if (regs[0].start === true) {
        let foundStart = handleStart(terms, regs, n2, group);
        if (foundStart) {
          results.push(foundStart);
        }
        continue;
      }
      for (let i3 = 0; i3 < terms.length; i3 += 1) {
        let slice = terms.slice(i3);
        if (slice.length < minLength) {
          break;
        }
        let res = from_here_default(slice, regs, i3, terms.length);
        if (res) {
          res = addSentence(res, n2);
          results.push(res);
          if (justOne === true) {
            break docs;
          }
          let end2 = res.pointer[2];
          if (Math.abs(end2 - 1) > i3) {
            i3 = Math.abs(end2 - 1);
          }
        }
      }
    }
  if (regs[regs.length - 1].end === true) {
    results = results.filter((res) => {
      let n2 = res.pointer[0];
      return docs[n2].length === res.pointer[2];
    });
  }
  if (todo.notIf) {
    results = notIf_default(results, todo.notIf, docs);
  }
  results = getGroup_default(results, group);
  results.ptrs.forEach((ptr) => {
    let [n2, start2, end2] = ptr;
    ptr[3] = docs[n2][start2].id;
    ptr[4] = docs[n2][end2 - 1].id;
  });
  return results;
};
var match_default2 = runMatch;

// node_modules/compromise/src/1-one/match/methods/index.js
var methods12 = {
  one: {
    termMethods: termMethods_default,
    parseMatch: parseMatch_default,
    match: match_default2
  }
};
var methods_default4 = methods12;

// node_modules/compromise/src/1-one/match/lib.js
var lib_default2 = {
  /** pre-parse any match statements */
  parseMatch: function(str2, opts2) {
    const world2 = this.world();
    let killUnicode2 = world2.methods.one.killUnicode;
    if (killUnicode2) {
      str2 = killUnicode2(str2, world2);
    }
    return world2.methods.one.parseMatch(str2, opts2, world2);
  }
};

// node_modules/compromise/src/1-one/match/plugin.js
var plugin_default7 = {
  api: api_default4,
  methods: methods_default4,
  lib: lib_default2
};

// node_modules/compromise/src/1-one/output/api/html.js
var isClass = /^\../;
var isId = /^#./;
var escapeXml = (str2) => {
  str2 = str2.replace(/&/g, "&amp;");
  str2 = str2.replace(/</g, "&lt;");
  str2 = str2.replace(/>/g, "&gt;");
  str2 = str2.replace(/"/g, "&quot;");
  str2 = str2.replace(/'/g, "&apos;");
  return str2;
};
var toTag = function(k2) {
  let start2 = "";
  let end2 = "</span>";
  k2 = escapeXml(k2);
  if (isClass.test(k2)) {
    start2 = `<span class="${k2.replace(/^\./, "")}"`;
  } else if (isId.test(k2)) {
    start2 = `<span id="${k2.replace(/^#/, "")}"`;
  } else {
    start2 = `<${k2}`;
    end2 = `</${k2}>`;
  }
  start2 += ">";
  return { start: start2, end: end2 };
};
var getIndex = function(doc, obj) {
  let starts = {};
  let ends = {};
  Object.keys(obj).forEach((k2) => {
    let res = obj[k2];
    let tag = toTag(k2);
    if (typeof res === "string") {
      res = doc.match(res);
    }
    res.docs.forEach((terms) => {
      if (terms.every((t3) => t3.implicit)) {
        return;
      }
      let a2 = terms[0].id;
      starts[a2] = starts[a2] || [];
      starts[a2].push(tag.start);
      let b = terms[terms.length - 1].id;
      ends[b] = ends[b] || [];
      ends[b].push(tag.end);
    });
  });
  return { starts, ends };
};
var html = function(obj) {
  let { starts, ends } = getIndex(this, obj);
  let out2 = "";
  this.docs.forEach((terms) => {
    for (let i3 = 0; i3 < terms.length; i3 += 1) {
      let t3 = terms[i3];
      if (starts.hasOwnProperty(t3.id)) {
        out2 += starts[t3.id].join("");
      }
      out2 += t3.pre || "";
      out2 += t3.text || "";
      if (ends.hasOwnProperty(t3.id)) {
        out2 += ends[t3.id].join("");
      }
      out2 += t3.post || "";
    }
  });
  return out2;
};
var html_default = { html };

// node_modules/compromise/src/1-one/output/api/_text.js
var trimEnd = /[,:;)\]*.?~!\u0022\uFF02\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4â€”-]+$/;
var trimStart = /^[(['"*~\uFF02\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F]+/;
var punctToKill = /[,:;)('"\u201D\]]/;
var isHyphen = /^[-â€“â€”]$/;
var hasSpace = / /;
var textFromTerms = function(terms, opts2, keepSpace = true) {
  let txt = "";
  terms.forEach((t3) => {
    let pre = t3.pre || "";
    let post2 = t3.post || "";
    if (opts2.punctuation === "some") {
      pre = pre.replace(trimStart, "");
      if (isHyphen.test(post2)) {
        post2 = " ";
      }
      post2 = post2.replace(punctToKill, "");
      post2 = post2.replace(/\?!+/, "?");
      post2 = post2.replace(/!+/, "!");
      post2 = post2.replace(/\?+/, "?");
      post2 = post2.replace(/\.{2,}/, "");
      if (t3.tags.has("Abbreviation")) {
        post2 = post2.replace(/\./, "");
      }
    }
    if (opts2.whitespace === "some") {
      pre = pre.replace(/\s/, "");
      post2 = post2.replace(/\s+/, " ");
    }
    if (!opts2.keepPunct) {
      pre = pre.replace(trimStart, "");
      if (post2 === "-") {
        post2 = " ";
      } else {
        post2 = post2.replace(trimEnd, "");
      }
    }
    let word = t3[opts2.form || "text"] || t3.normal || "";
    if (opts2.form === "implicit") {
      word = t3.implicit || t3.text;
    }
    if (opts2.form === "root" && t3.implicit) {
      word = t3.root || t3.implicit || t3.normal;
    }
    if ((opts2.form === "machine" || opts2.form === "implicit" || opts2.form === "root") && t3.implicit) {
      if (!post2 || !hasSpace.test(post2)) {
        post2 += " ";
      }
    }
    txt += pre + word + post2;
  });
  if (keepSpace === false) {
    txt = txt.trim();
  }
  if (opts2.lowerCase === true) {
    txt = txt.toLowerCase();
  }
  return txt;
};
var textFromDoc = function(docs, opts2) {
  let text = "";
  if (!docs || !docs[0] || !docs[0][0]) {
    return text;
  }
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    text += textFromTerms(docs[i3], opts2, true);
  }
  if (!opts2.keepSpace) {
    text = text.trim();
  }
  if (opts2.keepEndPunct === false) {
    if (!docs[0][0].tags.has("Emoticon")) {
      text = text.replace(trimStart, "");
    }
    let last = docs[docs.length - 1];
    if (!last[last.length - 1].tags.has("Emoticon")) {
      text = text.replace(trimEnd, "");
    }
    if (text.endsWith(`'`) && !text.endsWith(`s'`)) {
      text = text.replace(/'/, "");
    }
  }
  if (opts2.cleanWhitespace === true) {
    text = text.trim();
  }
  return text;
};

// node_modules/compromise/src/1-one/output/api/_fmts.js
var fmts = {
  text: {
    form: "text"
  },
  normal: {
    whitespace: "some",
    punctuation: "some",
    case: "some",
    unicode: "some",
    form: "normal"
  },
  machine: {
    keepSpace: false,
    whitespace: "some",
    punctuation: "some",
    case: "none",
    unicode: "some",
    form: "machine"
  },
  root: {
    keepSpace: false,
    whitespace: "some",
    punctuation: "some",
    case: "some",
    unicode: "some",
    form: "root"
  },
  implicit: {
    form: "implicit"
  }
};
fmts.clean = fmts.normal;
fmts.reduced = fmts.root;
var fmts_default = fmts;

// node_modules/compromise/src/1-one/output/methods/hash.js
var k = [];
var i = 0;
for (; i < 64; ) {
  k[i] = 0 | Math.sin(++i % Math.PI) * 4294967296;
}
var md5 = function(s2) {
  let b, c2, d2, h2 = [b = 1732584193, c2 = 4023233417, ~b, ~c2], words = [], j2 = decodeURI(encodeURI(s2)) + "\x80", a2 = j2.length;
  s2 = --a2 / 4 + 2 | 15;
  words[--s2] = a2 * 8;
  for (; ~a2; ) {
    words[a2 >> 2] |= j2.charCodeAt(a2) << 8 * a2--;
  }
  for (i = j2 = 0; i < s2; i += 16) {
    a2 = h2;
    for (; j2 < 64; a2 = [
      d2 = a2[3],
      b + ((d2 = a2[0] + [b & c2 | ~b & d2, d2 & b | ~d2 & c2, b ^ c2 ^ d2, c2 ^ (b | ~d2)][a2 = j2 >> 4] + k[j2] + ~~words[i | [j2, 5 * j2 + 1, 3 * j2 + 5, 7 * j2][a2] & 15]) << (a2 = [7, 12, 17, 22, 5, 9, 14, 20, 4, 11, 16, 23, 6, 10, 15, 21][4 * a2 + j2++ % 4]) | d2 >>> -a2),
      b,
      c2
    ]) {
      b = a2[1] | 0;
      c2 = a2[2];
    }
    for (j2 = 4; j2; )
      h2[--j2] += a2[j2];
  }
  for (s2 = ""; j2 < 32; ) {
    s2 += (h2[j2 >> 3] >> (1 ^ j2++) * 4 & 15).toString(16);
  }
  return s2;
};
var hash_default = md5;

// node_modules/compromise/src/1-one/output/api/json.js
var defaults = {
  text: true,
  terms: true
};
var opts = { case: "none", unicode: "some", form: "machine", punctuation: "some" };
var merge = function(a2, b) {
  return Object.assign({}, a2, b);
};
var fns4 = {
  text: (terms) => textFromTerms(terms, { keepPunct: true }, false),
  normal: (terms) => textFromTerms(terms, merge(fmts_default.normal, { keepPunct: true }), false),
  implicit: (terms) => textFromTerms(terms, merge(fmts_default.implicit, { keepPunct: true }), false),
  machine: (terms) => textFromTerms(terms, opts, false),
  root: (terms) => textFromTerms(terms, merge(opts, { form: "root" }), false),
  hash: (terms) => hash_default(textFromTerms(terms, { keepPunct: true }, false)),
  offset: (terms) => {
    let len = fns4.text(terms).length;
    return {
      index: terms[0].offset.index,
      start: terms[0].offset.start,
      length: len
    };
  },
  terms: (terms) => {
    return terms.map((t3) => {
      let term = Object.assign({}, t3);
      term.tags = Array.from(t3.tags);
      return term;
    });
  },
  confidence: (_terms, view, i3) => view.eq(i3).confidence(),
  syllables: (_terms, view, i3) => view.eq(i3).syllables(),
  sentence: (_terms, view, i3) => view.eq(i3).fullSentence().text(),
  dirty: (terms) => terms.some((t3) => t3.dirty === true)
};
fns4.sentences = fns4.sentence;
fns4.clean = fns4.normal;
fns4.reduced = fns4.root;
var toJSON = function(view, option) {
  option = option || {};
  if (typeof option === "string") {
    option = {};
  }
  option = Object.assign({}, defaults, option);
  if (option.offset) {
    view.compute("offset");
  }
  return view.docs.map((terms, i3) => {
    let res = {};
    Object.keys(option).forEach((k2) => {
      if (option[k2] && fns4[k2]) {
        res[k2] = fns4[k2](terms, view, i3);
      }
    });
    return res;
  });
};
var methods13 = {
  /** return data */
  json: function(n2) {
    let res = toJSON(this, n2);
    if (typeof n2 === "number") {
      return res[n2];
    }
    return res;
  }
};
methods13.data = methods13.json;
var json_default = methods13;

// node_modules/compromise/src/1-one/output/api/debug.js
var isClientSide = () => typeof window !== "undefined" && window.document;
var debug2 = function(fmt2) {
  let debugMethods = this.methods.one.debug || {};
  if (fmt2 && debugMethods.hasOwnProperty(fmt2)) {
    debugMethods[fmt2](this);
    return this;
  }
  if (isClientSide()) {
    debugMethods.clientSide(this);
    return this;
  }
  debugMethods.tags(this);
  return this;
};
var debug_default2 = debug2;

// node_modules/compromise/src/1-one/output/api/wrap.js
var toText = function(term) {
  let pre = term.pre || "";
  let post2 = term.post || "";
  return pre + term.text + post2;
};
var findStarts = function(doc, obj) {
  let starts = {};
  Object.keys(obj).forEach((reg) => {
    let m = doc.match(reg);
    m.fullPointer.forEach((a2) => {
      starts[a2[3]] = { fn: obj[reg], end: a2[2] };
    });
  });
  return starts;
};
var wrap = function(doc, obj) {
  let starts = findStarts(doc, obj);
  let text = "";
  doc.docs.forEach((terms, n2) => {
    for (let i3 = 0; i3 < terms.length; i3 += 1) {
      let t3 = terms[i3];
      if (starts.hasOwnProperty(t3.id)) {
        let { fn, end: end2 } = starts[t3.id];
        let m = doc.update([[n2, i3, end2]]);
        text += terms[i3].pre || "";
        text += fn(m);
        i3 = end2 - 1;
        text += terms[i3].post || "";
      } else {
        text += toText(t3);
      }
    }
  });
  return text;
};
var wrap_default = wrap;

// node_modules/compromise/src/1-one/output/api/out.js
var isObject5 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
var topk = function(arr) {
  let obj = {};
  arr.forEach((a2) => {
    obj[a2] = obj[a2] || 0;
    obj[a2] += 1;
  });
  let res = Object.keys(obj).map((k2) => {
    return { normal: k2, count: obj[k2] };
  });
  return res.sort((a2, b) => a2.count > b.count ? -1 : 0);
};
var out = function(method) {
  if (isObject5(method)) {
    return wrap_default(this, method);
  }
  if (method === "text") {
    return this.text();
  }
  if (method === "normal") {
    return this.text("normal");
  }
  if (method === "root") {
    return this.text("root");
  }
  if (method === "machine" || method === "reduced") {
    return this.text("machine");
  }
  if (method === "hash" || method === "md5") {
    return hash_default(this.text());
  }
  if (method === "json") {
    return this.json();
  }
  if (method === "offset" || method === "offsets") {
    this.compute("offset");
    return this.json({ offset: true });
  }
  if (method === "array") {
    let arr = this.docs.map((terms) => {
      return terms.reduce((str2, t3) => {
        return str2 + t3.pre + t3.text + t3.post;
      }, "").trim();
    });
    return arr.filter((str2) => str2);
  }
  if (method === "freq" || method === "frequency" || method === "topk") {
    return topk(this.json({ normal: true }).map((o2) => o2.normal));
  }
  if (method === "terms") {
    let list2 = [];
    this.docs.forEach((terms) => {
      let words = terms.map((t3) => t3.text);
      words = words.filter((t3) => t3);
      list2 = list2.concat(words);
    });
    return list2;
  }
  if (method === "tags") {
    return this.docs.map((terms) => {
      return terms.reduce((h2, t3) => {
        h2[t3.implicit || t3.normal] = Array.from(t3.tags);
        return h2;
      }, {});
    });
  }
  if (method === "debug") {
    return this.debug();
  }
  return this.text();
};
var methods14 = {
  /** */
  debug: debug_default2,
  /** */
  out,
  /** */
  wrap: function(obj) {
    return wrap_default(this, obj);
  }
};
var out_default = methods14;

// node_modules/compromise/src/1-one/output/api/text.js
var isObject6 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
var text_default = {
  /** */
  text: function(fmt2) {
    let opts2 = {};
    if (fmt2 && typeof fmt2 === "string" && fmts_default.hasOwnProperty(fmt2)) {
      opts2 = Object.assign({}, fmts_default[fmt2]);
    } else if (fmt2 && isObject6(fmt2)) {
      opts2 = Object.assign({}, fmt2);
    }
    if (opts2.keepSpace === void 0 && !this.isFull()) {
      opts2.keepSpace = false;
    }
    if (opts2.keepEndPunct === void 0 && this.pointer) {
      let ptr = this.pointer[0];
      if (ptr && ptr[1]) {
        opts2.keepEndPunct = false;
      } else {
        opts2.keepEndPunct = true;
      }
    }
    if (opts2.keepPunct === void 0) {
      opts2.keepPunct = true;
    }
    if (opts2.keepSpace === void 0) {
      opts2.keepSpace = true;
    }
    return textFromDoc(this.docs, opts2);
  }
};

// node_modules/compromise/src/1-one/output/api/index.js
var methods15 = Object.assign({}, out_default, text_default, json_default, html_default);
var addAPI3 = function(View2) {
  Object.assign(View2.prototype, methods15);
};
var api_default5 = addAPI3;

// node_modules/compromise/src/1-one/output/methods/debug/client-side.js
var logClientSide = function(view) {
  console.log("%c -=-=- ", "background-color:#6699cc;");
  view.forEach((m) => {
    console.groupCollapsed(m.text());
    let terms = m.docs[0];
    let out2 = terms.map((t3) => {
      let text = t3.text || "-";
      if (t3.implicit) {
        text = "[" + t3.implicit + "]";
      }
      let tags = "[" + Array.from(t3.tags).join(", ") + "]";
      return { text, tags };
    });
    console.table(out2, ["text", "tags"]);
    console.groupEnd();
  });
};
var client_side_default = logClientSide;

// node_modules/compromise/src/1-one/output/methods/debug/_color.js
var reset = "\x1B[0m";
var cli = {
  green: (str2) => "\x1B[32m" + str2 + reset,
  red: (str2) => "\x1B[31m" + str2 + reset,
  blue: (str2) => "\x1B[34m" + str2 + reset,
  magenta: (str2) => "\x1B[35m" + str2 + reset,
  cyan: (str2) => "\x1B[36m" + str2 + reset,
  yellow: (str2) => "\x1B[33m" + str2 + reset,
  black: (str2) => "\x1B[30m" + str2 + reset,
  dim: (str2) => "\x1B[2m" + str2 + reset,
  i: (str2) => "\x1B[3m" + str2 + reset
};
var color_default = cli;

// node_modules/compromise/src/1-one/output/methods/debug/tags.js
var tagString = function(tags, model4) {
  if (model4.one.tagSet) {
    tags = tags.map((tag) => {
      if (!model4.one.tagSet.hasOwnProperty(tag)) {
        return tag;
      }
      const c2 = model4.one.tagSet[tag].color || "blue";
      return color_default[c2](tag);
    });
  }
  return tags.join(", ");
};
var showTags = function(view) {
  let { docs, model: model4 } = view;
  if (docs.length === 0) {
    console.log(color_default.blue("\n     \u2500\u2500\u2500\u2500\u2500\u2500"));
  }
  docs.forEach((terms) => {
    console.log(color_default.blue("\n  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"));
    terms.forEach((t3) => {
      let tags = [...t3.tags || []];
      let text = t3.text || "-";
      if (t3.sense) {
        text = `{${t3.normal}/${t3.sense}}`;
      }
      if (t3.implicit) {
        text = "[" + t3.implicit + "]";
      }
      text = color_default.yellow(text);
      let word = "'" + text + "'";
      if (t3.reference) {
        let str3 = view.update([t3.reference]).text("normal");
        word += ` - ${color_default.dim(color_default.i("[" + str3 + "]"))}`;
      }
      word = word.padEnd(18);
      let str2 = color_default.blue("  \u2502 ") + color_default.i(word) + "  - " + tagString(tags, model4);
      console.log(str2);
    });
  });
  console.log("\n");
};
var tags_default = showTags;

// node_modules/compromise/src/1-one/output/methods/debug/chunks.js
var showChunks = function(view) {
  let { docs } = view;
  console.log("");
  docs.forEach((terms) => {
    let out2 = [];
    terms.forEach((term) => {
      if (term.chunk === "Noun") {
        out2.push(color_default.blue(term.implicit || term.normal));
      } else if (term.chunk === "Verb") {
        out2.push(color_default.green(term.implicit || term.normal));
      } else if (term.chunk === "Adjective") {
        out2.push(color_default.yellow(term.implicit || term.normal));
      } else if (term.chunk === "Pivot") {
        out2.push(color_default.red(term.implicit || term.normal));
      } else {
        out2.push(term.implicit || term.normal);
      }
    });
    console.log(out2.join(" "), "\n");
  });
  console.log("\n");
};
var chunks_default = showChunks;

// node_modules/compromise/src/1-one/output/methods/debug/highlight.js
var split = (txt, offset2, index4) => {
  let buff = index4 * 9;
  let start2 = offset2.start + buff;
  let end2 = start2 + offset2.length;
  let pre = txt.substring(0, start2);
  let mid = txt.substring(start2, end2);
  let post2 = txt.substring(end2, txt.length);
  return [pre, mid, post2];
};
var spliceIn = function(txt, offset2, index4) {
  let parts = split(txt, offset2, index4);
  return `${parts[0]}${color_default.blue(parts[1])}${parts[2]}`;
};
var showHighlight = function(doc) {
  if (!doc.found) {
    return;
  }
  let bySentence = {};
  doc.fullPointer.forEach((ptr) => {
    bySentence[ptr[0]] = bySentence[ptr[0]] || [];
    bySentence[ptr[0]].push(ptr);
  });
  Object.keys(bySentence).forEach((k2) => {
    let full = doc.update([[Number(k2)]]);
    let txt = full.text();
    let matches = doc.update(bySentence[k2]);
    let json = matches.json({ offset: true });
    json.forEach((obj, i3) => {
      txt = spliceIn(txt, obj.offset, i3);
    });
    console.log(txt);
  });
  console.log("\n");
};
var highlight_default = showHighlight;

// node_modules/compromise/src/1-one/output/methods/debug/index.js
var debug3 = {
  tags: tags_default,
  clientSide: client_side_default,
  chunks: chunks_default,
  highlight: highlight_default
};
var debug_default3 = debug3;

// node_modules/compromise/src/1-one/output/plugin.js
var plugin_default8 = {
  api: api_default5,
  methods: {
    one: {
      hash: hash_default,
      debug: debug_default3
    }
  }
};

// node_modules/compromise/src/1-one/pointers/api/lib/_lib.js
var doesOverlap = function(a2, b) {
  if (a2[0] !== b[0]) {
    return false;
  }
  let [, startA, endA] = a2;
  let [, startB, endB] = b;
  if (startA <= startB && endA > startB) {
    return true;
  }
  if (startB <= startA && endB > startA) {
    return true;
  }
  return false;
};
var getExtent = function(ptrs) {
  let min = ptrs[0][1];
  let max2 = ptrs[0][2];
  ptrs.forEach((ptr) => {
    if (ptr[1] < min) {
      min = ptr[1];
    }
    if (ptr[2] > max2) {
      max2 = ptr[2];
    }
  });
  return [ptrs[0][0], min, max2];
};
var indexN = function(ptrs) {
  let byN = {};
  ptrs.forEach((ref) => {
    byN[ref[0]] = byN[ref[0]] || [];
    byN[ref[0]].push(ref);
  });
  return byN;
};
var uniquePtrs = function(arr) {
  let obj = {};
  for (let i3 = 0; i3 < arr.length; i3 += 1) {
    obj[arr[i3].join(",")] = arr[i3];
  }
  return Object.values(obj);
};

// node_modules/compromise/src/1-one/pointers/api/lib/split.js
var pivotBy = function(full, m) {
  let [n2, start2] = full;
  let mStart = m[1];
  let mEnd = m[2];
  let res = {};
  if (start2 < mStart) {
    let end2 = mStart < full[2] ? mStart : full[2];
    res.before = [n2, start2, end2];
  }
  res.match = m;
  if (full[2] > mEnd) {
    res.after = [n2, mEnd, full[2]];
  }
  return res;
};
var doesMatch2 = function(full, m) {
  return full[1] <= m[1] && m[2] <= full[2];
};
var splitAll = function(full, m) {
  let byN = indexN(m);
  let res = [];
  full.forEach((ptr) => {
    let [n2] = ptr;
    let matches = byN[n2] || [];
    matches = matches.filter((p2) => doesMatch2(ptr, p2));
    if (matches.length === 0) {
      res.push({ passthrough: ptr });
      return;
    }
    matches = matches.sort((a2, b) => a2[1] - b[1]);
    let carry = ptr;
    matches.forEach((p2, i3) => {
      let found = pivotBy(carry, p2);
      if (!matches[i3 + 1]) {
        res.push(found);
      } else {
        res.push({ before: found.before, match: found.match });
        if (found.after) {
          carry = found.after;
        }
      }
    });
  });
  return res;
};
var split_default2 = splitAll;

// node_modules/compromise/src/1-one/pointers/methods/getDoc.js
var max = 20;
var blindSweep = function(id, doc, n2) {
  for (let i3 = 0; i3 < max; i3 += 1) {
    if (doc[n2 - i3]) {
      let index4 = doc[n2 - i3].findIndex((term) => term.id === id);
      if (index4 !== -1) {
        return [n2 - i3, index4];
      }
    }
    if (doc[n2 + i3]) {
      let index4 = doc[n2 + i3].findIndex((term) => term.id === id);
      if (index4 !== -1) {
        return [n2 + i3, index4];
      }
    }
  }
  return null;
};
var repairEnding = function(ptr, document2) {
  let [n2, start2, , , endId] = ptr;
  let terms = document2[n2];
  let newEnd = terms.findIndex((t3) => t3.id === endId);
  if (newEnd === -1) {
    ptr[2] = document2[n2].length;
    ptr[4] = terms.length ? terms[terms.length - 1].id : null;
  } else {
    ptr[2] = newEnd;
  }
  return document2[n2].slice(start2, ptr[2] + 1);
};
var getDoc2 = function(ptrs, document2) {
  let doc = [];
  ptrs.forEach((ptr, i3) => {
    if (!ptr) {
      return;
    }
    let [n2, start2, end2, id, endId] = ptr;
    let terms = document2[n2] || [];
    if (start2 === void 0) {
      start2 = 0;
    }
    if (end2 === void 0) {
      end2 = terms.length;
    }
    if (id && (!terms[start2] || terms[start2].id !== id)) {
      let wild = blindSweep(id, document2, n2);
      if (wild !== null) {
        let len = end2 - start2;
        terms = document2[wild[0]].slice(wild[1], wild[1] + len);
        let startId = terms[0] ? terms[0].id : null;
        ptrs[i3] = [wild[0], wild[1], wild[1] + len, startId];
      }
    } else {
      terms = terms.slice(start2, end2);
    }
    if (terms.length === 0) {
      return;
    }
    if (start2 === end2) {
      return;
    }
    if (endId && terms[terms.length - 1].id !== endId) {
      terms = repairEnding(ptr, document2);
    }
    doc.push(terms);
  });
  doc = doc.filter((a2) => a2.length > 0);
  return doc;
};
var getDoc_default = getDoc2;

// node_modules/compromise/src/1-one/pointers/methods/index.js
var termList = function(docs) {
  let arr = [];
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      arr.push(docs[i3][t3]);
    }
  }
  return arr;
};
var methods_default5 = {
  one: {
    termList,
    getDoc: getDoc_default,
    pointer: {
      indexN,
      splitAll: split_default2
    }
  }
};

// node_modules/compromise/src/1-one/pointers/api/lib/union.js
var getUnion = function(a2, b) {
  let both = a2.concat(b);
  let byN = indexN(both);
  let res = [];
  both.forEach((ptr) => {
    let [n2] = ptr;
    if (byN[n2].length === 1) {
      res.push(ptr);
      return;
    }
    let hmm = byN[n2].filter((m) => doesOverlap(ptr, m));
    hmm.push(ptr);
    let range = getExtent(hmm);
    res.push(range);
  });
  res = uniquePtrs(res);
  return res;
};
var union_default = getUnion;

// node_modules/compromise/src/1-one/pointers/api/lib/difference.js
var subtract = function(refs, not) {
  let res = [];
  let found = split_default2(refs, not);
  found.forEach((o2) => {
    if (o2.passthrough) {
      res.push(o2.passthrough);
    }
    if (o2.before) {
      res.push(o2.before);
    }
    if (o2.after) {
      res.push(o2.after);
    }
  });
  return res;
};
var difference_default = subtract;

// node_modules/compromise/src/1-one/pointers/api/lib/intersection.js
var intersection = function(a2, b) {
  let start2 = a2[1] < b[1] ? b[1] : a2[1];
  let end2 = a2[2] > b[2] ? b[2] : a2[2];
  if (start2 < end2) {
    return [a2[0], start2, end2];
  }
  return null;
};
var getIntersection = function(a2, b) {
  let byN = indexN(b);
  let res = [];
  a2.forEach((ptr) => {
    let hmm = byN[ptr[0]] || [];
    hmm = hmm.filter((p2) => doesOverlap(ptr, p2));
    if (hmm.length === 0) {
      return;
    }
    hmm.forEach((h2) => {
      let overlap = intersection(ptr, h2);
      if (overlap) {
        res.push(overlap);
      }
    });
  });
  return res;
};
var intersection_default = getIntersection;

// node_modules/compromise/src/1-one/pointers/api/index.js
var isArray8 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var getDoc3 = (m, view) => {
  if (typeof m === "string" || isArray8(m)) {
    return view.match(m);
  }
  if (!m) {
    return view.none();
  }
  return m;
};
var addIds3 = function(ptrs, docs) {
  return ptrs.map((ptr) => {
    let [n2, start2] = ptr;
    if (docs[n2] && docs[n2][start2]) {
      ptr[3] = docs[n2][start2].id;
    }
    return ptr;
  });
};
var methods16 = {};
methods16.union = function(m) {
  m = getDoc3(m, this);
  let ptrs = union_default(this.fullPointer, m.fullPointer);
  ptrs = addIds3(ptrs, this.document);
  return this.toView(ptrs);
};
methods16.and = methods16.union;
methods16.intersection = function(m) {
  m = getDoc3(m, this);
  let ptrs = intersection_default(this.fullPointer, m.fullPointer);
  ptrs = addIds3(ptrs, this.document);
  return this.toView(ptrs);
};
methods16.not = function(m) {
  m = getDoc3(m, this);
  let ptrs = difference_default(this.fullPointer, m.fullPointer);
  ptrs = addIds3(ptrs, this.document);
  return this.toView(ptrs);
};
methods16.difference = methods16.not;
methods16.complement = function() {
  let doc = this.all();
  let ptrs = difference_default(doc.fullPointer, this.fullPointer);
  ptrs = addIds3(ptrs, this.document);
  return this.toView(ptrs);
};
methods16.settle = function() {
  let ptrs = this.fullPointer;
  ptrs.forEach((ptr) => {
    ptrs = union_default(ptrs, [ptr]);
  });
  ptrs = addIds3(ptrs, this.document);
  return this.update(ptrs);
};
var addAPI4 = function(View2) {
  Object.assign(View2.prototype, methods16);
};
var api_default6 = addAPI4;

// node_modules/compromise/src/1-one/pointers/plugin.js
var plugin_default9 = {
  methods: methods_default5,
  api: api_default6
};

// node_modules/compromise/src/1-one/sweep/lib.js
var lib_default3 = {
  // compile a list of matches into a match-net
  buildNet: function(matches) {
    const methods18 = this.methods();
    let net = methods18.one.buildNet(matches, this.world());
    net.isNet = true;
    return net;
  }
};

// node_modules/compromise/src/1-one/sweep/api.js
var api = function(View2) {
  View2.prototype.sweep = function(net, opts2 = {}) {
    const { world: world2, docs } = this;
    const { methods: methods18 } = world2;
    let found = methods18.one.bulkMatch(docs, net, this.methods, opts2);
    if (opts2.tagger !== false) {
      methods18.one.bulkTagger(found, docs, this.world);
    }
    found = found.map((o2) => {
      let ptr = o2.pointer;
      let term = docs[ptr[0]][ptr[1]];
      let len = ptr[2] - ptr[1];
      if (term.index) {
        o2.pointer = [
          term.index[0],
          term.index[1],
          ptr[1] + len
        ];
      }
      return o2;
    });
    let ptrs = found.map((o2) => o2.pointer);
    found = found.map((obj) => {
      obj.view = this.update([obj.pointer]);
      delete obj.regs;
      delete obj.needs;
      delete obj.pointer;
      delete obj._expanded;
      return obj;
    });
    return {
      view: this.update(ptrs),
      found
    };
  };
};
var api_default7 = api;

// node_modules/compromise/src/1-one/sweep/methods/buildNet/01-parse.js
var getTokenNeeds = function(reg) {
  if (reg.optional === true || reg.negative === true) {
    return null;
  }
  if (reg.tag) {
    return "#" + reg.tag;
  }
  if (reg.word) {
    return reg.word;
  }
  if (reg.switch) {
    return `%${reg.switch}%`;
  }
  return null;
};
var getNeeds = function(regs) {
  let needs = [];
  regs.forEach((reg) => {
    needs.push(getTokenNeeds(reg));
    if (reg.operator === "and" && reg.choices) {
      reg.choices.forEach((oneSide) => {
        oneSide.forEach((r2) => {
          needs.push(getTokenNeeds(r2));
        });
      });
    }
  });
  return needs.filter((str2) => str2);
};
var getWants = function(regs) {
  let wants = [];
  let count = 0;
  regs.forEach((reg) => {
    if (reg.operator === "or" && !reg.optional && !reg.negative) {
      if (reg.fastOr) {
        Array.from(reg.fastOr).forEach((w) => {
          wants.push(w);
        });
      }
      if (reg.choices) {
        reg.choices.forEach((rs) => {
          rs.forEach((r2) => {
            let n2 = getTokenNeeds(r2);
            if (n2) {
              wants.push(n2);
            }
          });
        });
      }
      count += 1;
    }
  });
  return { wants, count };
};
var parse3 = function(matches, world2) {
  const parseMatch = world2.methods.one.parseMatch;
  matches.forEach((obj) => {
    obj.regs = parseMatch(obj.match, {}, world2);
    if (typeof obj.ifNo === "string") {
      obj.ifNo = [obj.ifNo];
    }
    if (obj.notIf) {
      obj.notIf = parseMatch(obj.notIf, {}, world2);
    }
    obj.needs = getNeeds(obj.regs);
    let { wants, count } = getWants(obj.regs);
    obj.wants = wants;
    obj.minWant = count;
    obj.minWords = obj.regs.filter((o2) => !o2.optional).length;
  });
  return matches;
};
var parse_default = parse3;

// node_modules/compromise/src/1-one/sweep/methods/buildNet/index.js
var buildNet = function(matches, world2) {
  matches = parse_default(matches, world2);
  let hooks2 = {};
  matches.forEach((obj) => {
    obj.needs.forEach((str2) => {
      hooks2[str2] = Array.isArray(hooks2[str2]) ? hooks2[str2] : [];
      hooks2[str2].push(obj);
    });
    obj.wants.forEach((str2) => {
      hooks2[str2] = Array.isArray(hooks2[str2]) ? hooks2[str2] : [];
      hooks2[str2].push(obj);
    });
  });
  Object.keys(hooks2).forEach((k2) => {
    let already = {};
    hooks2[k2] = hooks2[k2].filter((obj) => {
      if (typeof already[obj.match] === "boolean") {
        return false;
      }
      already[obj.match] = true;
      return true;
    });
  });
  let always = matches.filter((o2) => o2.needs.length === 0 && o2.wants.length === 0);
  return {
    hooks: hooks2,
    always
  };
};
var buildNet_default = buildNet;

// node_modules/compromise/src/1-one/sweep/methods/sweep/01-getHooks.js
var getHooks = function(docCaches, hooks2) {
  return docCaches.map((set, i3) => {
    let maybe = [];
    Object.keys(hooks2).forEach((k2) => {
      if (docCaches[i3].has(k2)) {
        maybe = maybe.concat(hooks2[k2]);
      }
    });
    let already = {};
    maybe = maybe.filter((m) => {
      if (typeof already[m.match] === "boolean") {
        return false;
      }
      already[m.match] = true;
      return true;
    });
    return maybe;
  });
};
var getHooks_default = getHooks;

// node_modules/compromise/src/1-one/sweep/methods/sweep/02-trim-down.js
var localTrim = function(maybeList, docCache) {
  return maybeList.map((list2, n2) => {
    let haves = docCache[n2];
    list2 = list2.filter((obj) => {
      return obj.needs.every((need) => haves.has(need));
    });
    list2 = list2.filter((obj) => {
      if (obj.ifNo !== void 0 && obj.ifNo.some((no) => haves.has(no)) === true) {
        return false;
      }
      return true;
    });
    list2 = list2.filter((obj) => {
      if (obj.wants.length === 0) {
        return true;
      }
      let found = obj.wants.filter((str2) => haves.has(str2)).length;
      return found >= obj.minWant;
    });
    return list2;
  });
};
var trim_down_default = localTrim;

// node_modules/compromise/src/1-one/sweep/methods/sweep/04-runMatch.js
var runMatch2 = function(maybeList, document2, docCache, methods18, opts2) {
  let results = [];
  for (let n2 = 0; n2 < maybeList.length; n2 += 1) {
    for (let i3 = 0; i3 < maybeList[n2].length; i3 += 1) {
      let m = maybeList[n2][i3];
      let res = methods18.one.match([document2[n2]], m);
      if (res.ptrs.length > 0) {
        res.ptrs.forEach((ptr) => {
          ptr[0] = n2;
          let todo = Object.assign({}, m, { pointer: ptr });
          if (m.unTag !== void 0) {
            todo.unTag = m.unTag;
          }
          results.push(todo);
        });
        if (opts2.matchOne === true) {
          return [results[0]];
        }
      }
    }
  }
  return results;
};
var runMatch_default = runMatch2;

// node_modules/compromise/src/1-one/sweep/methods/sweep/index.js
var tooSmall = function(maybeList, document2) {
  return maybeList.map((arr, i3) => {
    let termCount = document2[i3].length;
    arr = arr.filter((o2) => {
      return termCount >= o2.minWords;
    });
    return arr;
  });
};
var sweep = function(document2, net, methods18, opts2 = {}) {
  let docCache = methods18.one.cacheDoc(document2);
  let maybeList = getHooks_default(docCache, net.hooks);
  maybeList = trim_down_default(maybeList, docCache, document2);
  if (net.always.length > 0) {
    maybeList = maybeList.map((arr) => arr.concat(net.always));
  }
  maybeList = tooSmall(maybeList, document2);
  let results = runMatch_default(maybeList, document2, docCache, methods18, opts2);
  return results;
};
var sweep_default = sweep;

// node_modules/compromise/src/1-one/sweep/methods/tagger/canBe.js
var canBe = function(terms, tag, model4) {
  let tagSet = model4.one.tagSet;
  if (!tagSet.hasOwnProperty(tag)) {
    return true;
  }
  let not = tagSet[tag].not || [];
  for (let i3 = 0; i3 < terms.length; i3 += 1) {
    let term = terms[i3];
    for (let k2 = 0; k2 < not.length; k2 += 1) {
      if (term.tags.has(not[k2]) === true) {
        return false;
      }
    }
  }
  return true;
};
var canBe_default = canBe;

// node_modules/compromise/src/1-one/sweep/methods/tagger/index.js
var tagger = function(list2, document2, world2) {
  const { model: model4, methods: methods18 } = world2;
  const { getDoc: getDoc4, setTag: setTag2, unTag: unTag2 } = methods18.one;
  const looksPlural = methods18.two.looksPlural;
  if (list2.length === 0) {
    return list2;
  }
  const env = typeof process === "undefined" || !process.env ? self.env || {} : process.env;
  if (env.DEBUG_TAGS) {
    console.log(`

  \x1B[32m\u2192 ${list2.length} post-tagger:\x1B[0m`);
  }
  return list2.map((todo) => {
    if (!todo.tag && !todo.chunk && !todo.unTag) {
      return;
    }
    let reason = todo.reason || todo.match;
    let terms = getDoc4([todo.pointer], document2)[0];
    if (todo.safe === true) {
      if (canBe_default(terms, todo.tag, model4) === false) {
        return;
      }
      if (terms[terms.length - 1].post === "-") {
        return;
      }
    }
    if (todo.tag !== void 0) {
      setTag2(terms, todo.tag, world2, todo.safe, `[post] '${reason}'`);
      if (todo.tag === "Noun" && looksPlural) {
        let term = terms[terms.length - 1];
        if (looksPlural(term.text)) {
          setTag2([term], "Plural", world2, todo.safe, "quick-plural");
        } else {
          setTag2([term], "Singular", world2, todo.safe, "quick-singular");
        }
      }
      if (todo.freeze === true) {
        terms.forEach((term) => term.frozen = true);
      }
    }
    if (todo.unTag !== void 0) {
      unTag2(terms, todo.unTag, world2, todo.safe, reason);
    }
    if (todo.chunk) {
      terms.forEach((t3) => t3.chunk = todo.chunk);
    }
  });
};
var tagger_default = tagger;

// node_modules/compromise/src/1-one/sweep/methods/index.js
var methods_default6 = {
  buildNet: buildNet_default,
  bulkMatch: sweep_default,
  bulkTagger: tagger_default
};

// node_modules/compromise/src/1-one/sweep/plugin.js
var plugin_default10 = {
  lib: lib_default3,
  api: api_default7,
  methods: {
    one: methods_default6
  }
};

// node_modules/compromise/src/1-one/tag/methods/setTag.js
var isMulti = / /;
var addChunk = function(term, tag) {
  if (tag === "Noun") {
    term.chunk = tag;
  }
  if (tag === "Verb") {
    term.chunk = tag;
  }
};
var tagTerm = function(term, tag, tagSet, isSafe) {
  if (term.tags.has(tag) === true) {
    return null;
  }
  if (tag === ".") {
    return null;
  }
  if (term.frozen === true) {
    isSafe = true;
  }
  let known = tagSet[tag];
  if (known) {
    if (known.not && known.not.length > 0) {
      for (let o2 = 0; o2 < known.not.length; o2 += 1) {
        if (isSafe === true && term.tags.has(known.not[o2])) {
          return null;
        }
        term.tags.delete(known.not[o2]);
      }
    }
    if (known.parents && known.parents.length > 0) {
      for (let o2 = 0; o2 < known.parents.length; o2 += 1) {
        term.tags.add(known.parents[o2]);
        addChunk(term, known.parents[o2]);
      }
    }
  }
  term.tags.add(tag);
  term.dirty = true;
  addChunk(term, tag);
  return true;
};
var multiTag = function(terms, tagString2, tagSet, isSafe) {
  let tags = tagString2.split(isMulti);
  terms.forEach((term, i3) => {
    let tag = tags[i3];
    if (tag) {
      tag = tag.replace(/^#/, "");
      tagTerm(term, tag, tagSet, isSafe);
    }
  });
};
var isArray9 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var log = (terms, tag, reason = "") => {
  const yellow = (str2) => "\x1B[33m\x1B[3m" + str2 + "\x1B[0m";
  const i3 = (str2) => "\x1B[3m" + str2 + "\x1B[0m";
  let word = terms.map((t3) => {
    return t3.text || "[" + t3.implicit + "]";
  }).join(" ");
  if (typeof tag !== "string" && tag.length > 2) {
    tag = tag.slice(0, 2).join(", #") + " +";
  }
  tag = typeof tag !== "string" ? tag.join(", #") : tag;
  console.log(` ${yellow(word).padEnd(24)} \x1B[32m\u2192\x1B[0m #${tag.padEnd(22)}  ${i3(reason)}`);
};
var setTag = function(terms, tag, world2 = {}, isSafe, reason) {
  const tagSet = world2.model.one.tagSet || {};
  if (!tag) {
    return;
  }
  const env = typeof process === "undefined" || !process.env ? self.env || {} : process.env;
  if (env && env.DEBUG_TAGS) {
    log(terms, tag, reason);
  }
  if (isArray9(tag) === true) {
    tag.forEach((tg) => setTag(terms, tg, world2, isSafe));
    return;
  }
  if (typeof tag !== "string") {
    console.warn(`compromise: Invalid tag '${tag}'`);
    return;
  }
  tag = tag.trim();
  if (isMulti.test(tag)) {
    multiTag(terms, tag, tagSet, isSafe);
    return;
  }
  tag = tag.replace(/^#/, "");
  for (let i3 = 0; i3 < terms.length; i3 += 1) {
    tagTerm(terms[i3], tag, tagSet, isSafe);
  }
};
var setTag_default = setTag;

// node_modules/compromise/src/1-one/tag/methods/unTag.js
var unTag = function(terms, tag, tagSet) {
  tag = tag.trim().replace(/^#/, "");
  for (let i3 = 0; i3 < terms.length; i3 += 1) {
    let term = terms[i3];
    if (term.frozen === true) {
      continue;
    }
    if (tag === "*") {
      term.tags.clear();
      continue;
    }
    let known = tagSet[tag];
    if (known && known.children.length > 0) {
      for (let o2 = 0; o2 < known.children.length; o2 += 1) {
        term.tags.delete(known.children[o2]);
      }
    }
    term.tags.delete(tag);
  }
};
var unTag_default = unTag;

// node_modules/compromise/src/1-one/tag/methods/canBe.js
var canBe2 = function(term, tag, tagSet) {
  if (!tagSet.hasOwnProperty(tag)) {
    return true;
  }
  let not = tagSet[tag].not || [];
  for (let i3 = 0; i3 < not.length; i3 += 1) {
    if (term.tags.has(not[i3])) {
      return false;
    }
  }
  return true;
};
var canBe_default2 = canBe2;

// node_modules/grad-school/builds/grad-school.mjs
var e = function(e2) {
  return e2.children = e2.children || [], e2._cache = e2._cache || {}, e2.props = e2.props || {}, e2._cache.parents = e2._cache.parents || [], e2._cache.children = e2._cache.children || [], e2;
};
var t2 = /^ *(#|\/\/)/;
var n = function(t3) {
  let n2 = t3.trim().split(/->/), r2 = [];
  n2.forEach((t4) => {
    r2 = r2.concat(function(t5) {
      if (!(t5 = t5.trim()))
        return null;
      if (/^\[/.test(t5) && /\]$/.test(t5)) {
        let n3 = (t5 = (t5 = t5.replace(/^\[/, "")).replace(/\]$/, "")).split(/,/);
        return n3 = n3.map((e2) => e2.trim()).filter((e2) => e2), n3 = n3.map((t6) => e({ id: t6 })), n3;
      }
      return [e({ id: t5 })];
    }(t4));
  }), r2 = r2.filter((e2) => e2);
  let i3 = r2[0];
  for (let e2 = 1; e2 < r2.length; e2 += 1)
    i3.children.push(r2[e2]), i3 = r2[e2];
  return r2[0];
};
var r = (e2, t3) => {
  let n2 = [], r2 = [e2];
  for (; r2.length > 0; ) {
    let e3 = r2.pop();
    n2.push(e3), e3.children && e3.children.forEach((n3) => {
      t3 && t3(e3, n3), r2.push(n3);
    });
  }
  return n2;
};
var i2 = (e2) => "[object Array]" === Object.prototype.toString.call(e2);
var c = (e2) => (e2 = e2 || "").trim();
var s = function(c2 = []) {
  return "string" == typeof c2 ? function(r2) {
    let i3 = r2.split(/\r?\n/), c3 = [];
    i3.forEach((e2) => {
      if (!e2.trim() || t2.test(e2))
        return;
      let r3 = ((e3) => {
        const t3 = /^( {2}|\t)/;
        let n2 = 0;
        for (; t3.test(e3); )
          e3 = e3.replace(t3, ""), n2 += 1;
        return n2;
      })(e2);
      c3.push({ indent: r3, node: n(e2) });
    });
    let s3 = function(e2) {
      let t3 = { children: [] };
      return e2.forEach((n2, r3) => {
        0 === n2.indent ? t3.children = t3.children.concat(n2.node) : e2[r3 - 1] && function(e3, t4) {
          let n3 = e3[t4].indent;
          for (; t4 >= 0; t4 -= 1)
            if (e3[t4].indent < n3)
              return e3[t4];
          return e3[0];
        }(e2, r3).node.children.push(n2.node);
      }), t3;
    }(c3);
    return s3 = e(s3), s3;
  }(c2) : i2(c2) ? function(t3) {
    let n2 = {};
    t3.forEach((e2) => {
      n2[e2.id] = e2;
    });
    let r2 = e({});
    return t3.forEach((t4) => {
      if ((t4 = e(t4)).parent)
        if (n2.hasOwnProperty(t4.parent)) {
          let e2 = n2[t4.parent];
          delete t4.parent, e2.children.push(t4);
        } else
          console.warn(`[Grad] - missing node '${t4.parent}'`);
      else
        r2.children.push(t4);
    }), r2;
  }(c2) : (r(s2 = c2).forEach(e), s2);
  var s2;
};
var h = (e2) => "\x1B[31m" + e2 + "\x1B[0m";
var o = (e2) => "\x1B[2m" + e2 + "\x1B[0m";
var l = function(e2, t3) {
  let n2 = "-> ";
  t3 && (n2 = o("\u2192 "));
  let i3 = "";
  return r(e2).forEach((e3, r2) => {
    let c2 = e3.id || "";
    if (t3 && (c2 = h(c2)), 0 === r2 && !e3.id)
      return;
    let s2 = e3._cache.parents.length;
    i3 += "    ".repeat(s2) + n2 + c2 + "\n";
  }), i3;
};
var a = function(e2) {
  let t3 = r(e2);
  t3.forEach((e3) => {
    delete (e3 = Object.assign({}, e3)).children;
  });
  let n2 = t3[0];
  return n2 && !n2.id && 0 === Object.keys(n2.props).length && t3.shift(), t3;
};
var p = { text: l, txt: l, array: a, flat: a };
var d = function(e2, t3) {
  return "nested" === t3 || "json" === t3 ? e2 : "debug" === t3 ? (console.log(l(e2, true)), null) : p.hasOwnProperty(t3) ? p[t3](e2) : e2;
};
var u = (e2) => {
  r(e2, (e3, t3) => {
    e3.id && (e3._cache.parents = e3._cache.parents || [], t3._cache.parents = e3._cache.parents.concat([e3.id]));
  });
};
var f = (e2, t3) => (Object.keys(t3).forEach((n2) => {
  if (t3[n2] instanceof Set) {
    let r2 = e2[n2] || /* @__PURE__ */ new Set();
    e2[n2] = /* @__PURE__ */ new Set([...r2, ...t3[n2]]);
  } else {
    if (((e3) => e3 && "object" == typeof e3 && !Array.isArray(e3))(t3[n2])) {
      let r2 = e2[n2] || {};
      e2[n2] = Object.assign({}, t3[n2], r2);
    } else
      i2(t3[n2]) ? e2[n2] = t3[n2].concat(e2[n2] || []) : void 0 === e2[n2] && (e2[n2] = t3[n2]);
  }
}), e2);
var j = /\//;
var g2 = class {
  constructor(e2 = {}) {
    Object.defineProperty(this, "json", { enumerable: false, value: e2, writable: true });
  }
  get children() {
    return this.json.children;
  }
  get id() {
    return this.json.id;
  }
  get found() {
    return this.json.id || this.json.children.length > 0;
  }
  props(e2 = {}) {
    let t3 = this.json.props || {};
    return "string" == typeof e2 && (t3[e2] = true), this.json.props = Object.assign(t3, e2), this;
  }
  get(t3) {
    if (t3 = c(t3), !j.test(t3)) {
      let e2 = this.json.children.find((e3) => e3.id === t3);
      return new g2(e2);
    }
    let n2 = ((e2, t4) => {
      let n3 = ((e3) => "string" != typeof e3 ? e3 : (e3 = e3.replace(/^\//, "")).split(/\//))(t4 = t4 || "");
      for (let t5 = 0; t5 < n3.length; t5 += 1) {
        let r2 = e2.children.find((e3) => e3.id === n3[t5]);
        if (!r2)
          return null;
        e2 = r2;
      }
      return e2;
    })(this.json, t3) || e({});
    return new g2(n2);
  }
  add(t3, n2 = {}) {
    if (i2(t3))
      return t3.forEach((e2) => this.add(c(e2), n2)), this;
    t3 = c(t3);
    let r2 = e({ id: t3, props: n2 });
    return this.json.children.push(r2), new g2(r2);
  }
  remove(e2) {
    return e2 = c(e2), this.json.children = this.json.children.filter((t3) => t3.id !== e2), this;
  }
  nodes() {
    return r(this.json).map((e2) => (delete (e2 = Object.assign({}, e2)).children, e2));
  }
  cache() {
    return ((e2) => {
      let t3 = r(e2, (e3, t4) => {
        e3.id && (e3._cache.parents = e3._cache.parents || [], e3._cache.children = e3._cache.children || [], t4._cache.parents = e3._cache.parents.concat([e3.id]));
      }), n2 = {};
      t3.forEach((e3) => {
        e3.id && (n2[e3.id] = e3);
      }), t3.forEach((e3) => {
        e3._cache.parents.forEach((t4) => {
          n2.hasOwnProperty(t4) && n2[t4]._cache.children.push(e3.id);
        });
      }), e2._cache.children = Object.keys(n2);
    })(this.json), this;
  }
  list() {
    return r(this.json);
  }
  fillDown() {
    var e2;
    return e2 = this.json, r(e2, (e3, t3) => {
      t3.props = f(t3.props, e3.props);
    }), this;
  }
  depth() {
    u(this.json);
    let e2 = r(this.json), t3 = e2.length > 1 ? 1 : 0;
    return e2.forEach((e3) => {
      if (0 === e3._cache.parents.length)
        return;
      let n2 = e3._cache.parents.length + 1;
      n2 > t3 && (t3 = n2);
    }), t3;
  }
  out(e2) {
    return u(this.json), d(this.json, e2);
  }
  debug() {
    return u(this.json), d(this.json, "debug"), this;
  }
};
var _ = function(e2) {
  let t3 = s(e2);
  return new g2(t3);
};
_.prototype.plugin = function(e2) {
  e2(this);
};

// node_modules/compromise/src/1-one/tag/methods/addTags/_colors.js
var colors = {
  Noun: "blue",
  Verb: "green",
  Negative: "green",
  Date: "red",
  Value: "red",
  Adjective: "magenta",
  Preposition: "cyan",
  Conjunction: "cyan",
  Determiner: "cyan",
  Hyphenated: "cyan",
  Adverb: "cyan"
};
var colors_default = colors;

// node_modules/compromise/src/1-one/tag/methods/addTags/02-fmt.js
var getColor = function(node) {
  if (colors_default.hasOwnProperty(node.id)) {
    return colors_default[node.id];
  }
  if (colors_default.hasOwnProperty(node.is)) {
    return colors_default[node.is];
  }
  let found = node._cache.parents.find((c2) => colors_default[c2]);
  return colors_default[found];
};
var fmt = function(nodes) {
  const res = {};
  nodes.forEach((node) => {
    let { not, also, is, novel } = node.props;
    let parents = node._cache.parents;
    if (also) {
      parents = parents.concat(also);
    }
    res[node.id] = {
      is,
      not,
      novel,
      also,
      parents,
      children: node._cache.children,
      color: getColor(node)
    };
  });
  Object.keys(res).forEach((k2) => {
    let nots = new Set(res[k2].not);
    res[k2].not.forEach((not) => {
      if (res[not]) {
        res[not].children.forEach((tag) => nots.add(tag));
      }
    });
    res[k2].not = Array.from(nots);
  });
  return res;
};
var fmt_default = fmt;

// node_modules/compromise/src/1-one/tag/methods/addTags/01-validate.js
var toArr = function(input) {
  if (!input) {
    return [];
  }
  if (typeof input === "string") {
    return [input];
  }
  return input;
};
var addImplied = function(tags, already) {
  Object.keys(tags).forEach((k2) => {
    if (tags[k2].isA) {
      tags[k2].is = tags[k2].isA;
    }
    if (tags[k2].notA) {
      tags[k2].not = tags[k2].notA;
    }
    if (tags[k2].is && typeof tags[k2].is === "string") {
      if (!already.hasOwnProperty(tags[k2].is) && !tags.hasOwnProperty(tags[k2].is)) {
        tags[tags[k2].is] = {};
      }
    }
    if (tags[k2].not && typeof tags[k2].not === "string" && !tags.hasOwnProperty(tags[k2].not)) {
      if (!already.hasOwnProperty(tags[k2].not) && !tags.hasOwnProperty(tags[k2].not)) {
        tags[tags[k2].not] = {};
      }
    }
  });
  return tags;
};
var validate = function(tags, already) {
  tags = addImplied(tags, already);
  Object.keys(tags).forEach((k2) => {
    tags[k2].children = toArr(tags[k2].children);
    tags[k2].not = toArr(tags[k2].not);
  });
  Object.keys(tags).forEach((k2) => {
    let nots = tags[k2].not || [];
    nots.forEach((no) => {
      if (tags[no] && tags[no].not) {
        tags[no].not.push(k2);
      }
    });
  });
  return tags;
};
var validate_default = validate;

// node_modules/compromise/src/1-one/tag/methods/addTags/index.js
var compute3 = function(allTags) {
  const flatList = Object.keys(allTags).map((k2) => {
    let o2 = allTags[k2];
    const props = { not: new Set(o2.not), also: o2.also, is: o2.is, novel: o2.novel };
    return { id: k2, parent: o2.is, props, children: [] };
  });
  const graph = _(flatList).cache().fillDown();
  return graph.out("array");
};
var fromUser = function(tags) {
  Object.keys(tags).forEach((k2) => {
    tags[k2] = Object.assign({}, tags[k2]);
    tags[k2].novel = true;
  });
  return tags;
};
var addTags = function(tags, already) {
  if (Object.keys(already).length > 0) {
    tags = fromUser(tags);
  }
  tags = validate_default(tags, already);
  let allTags = Object.assign({}, already, tags);
  const nodes = compute3(allTags);
  const res = fmt_default(nodes);
  return res;
};
var addTags_default = addTags;

// node_modules/compromise/src/1-one/tag/methods/index.js
var methods_default7 = {
  one: {
    setTag: setTag_default,
    unTag: unTag_default,
    addTags: addTags_default,
    canBe: canBe_default2
  }
};

// node_modules/compromise/src/1-one/tag/api/tag.js
var isArray10 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var fns5 = {
  /** add a given tag, to all these terms */
  tag: function(input, reason = "", isSafe) {
    if (!this.found || !input) {
      return this;
    }
    let terms = this.termList();
    if (terms.length === 0) {
      return this;
    }
    const { methods: methods18, verbose: verbose2, world: world2 } = this;
    if (verbose2 === true) {
      console.log(" +  ", input, reason || "");
    }
    if (isArray10(input)) {
      input.forEach((tag) => methods18.one.setTag(terms, tag, world2, isSafe, reason));
    } else {
      methods18.one.setTag(terms, input, world2, isSafe, reason);
    }
    this.uncache();
    return this;
  },
  /** add a given tag, only if it is consistent */
  tagSafe: function(input, reason = "") {
    return this.tag(input, reason, true);
  },
  /** remove a given tag from all these terms */
  unTag: function(input, reason) {
    if (!this.found || !input) {
      return this;
    }
    let terms = this.termList();
    if (terms.length === 0) {
      return this;
    }
    const { methods: methods18, verbose: verbose2, model: model4 } = this;
    if (verbose2 === true) {
      console.log(" -  ", input, reason || "");
    }
    let tagSet = model4.one.tagSet;
    if (isArray10(input)) {
      input.forEach((tag) => methods18.one.unTag(terms, tag, tagSet));
    } else {
      methods18.one.unTag(terms, input, tagSet);
    }
    this.uncache();
    return this;
  },
  /** return only the terms that can be this tag  */
  canBe: function(tag) {
    tag = tag.replace(/^#/, "");
    let tagSet = this.model.one.tagSet;
    let canBe3 = this.methods.one.canBe;
    let nope = [];
    this.document.forEach((terms, n2) => {
      terms.forEach((term, i3) => {
        if (!canBe3(term, tag, tagSet)) {
          nope.push([n2, i3, i3 + 1]);
        }
      });
    });
    let noDoc = this.update(nope);
    return this.difference(noDoc);
  }
};
var tag_default = fns5;

// node_modules/compromise/src/1-one/tag/api/index.js
var tagAPI = function(View2) {
  Object.assign(View2.prototype, tag_default);
};
var api_default8 = tagAPI;

// node_modules/compromise/src/1-one/tag/lib.js
var addTags2 = function(tags) {
  const { model: model4, methods: methods18 } = this.world();
  const tagSet = model4.one.tagSet;
  const fn = methods18.one.addTags;
  let res = fn(tags, tagSet);
  model4.one.tagSet = res;
  return this;
};
var lib_default4 = { addTags: addTags2 };

// node_modules/compromise/src/1-one/tag/compute/tagRank.js
var boringTags = /* @__PURE__ */ new Set(["Auxiliary", "Possessive"]);
var sortByKids = function(tags, tagSet) {
  tags = tags.sort((a2, b) => {
    if (boringTags.has(a2) || !tagSet.hasOwnProperty(b)) {
      return 1;
    }
    if (boringTags.has(b) || !tagSet.hasOwnProperty(a2)) {
      return -1;
    }
    let kids = tagSet[a2].children || [];
    let aKids = kids.length;
    kids = tagSet[b].children || [];
    let bKids = kids.length;
    return aKids - bKids;
  });
  return tags;
};
var tagRank = function(view) {
  const { document: document2, world: world2 } = view;
  const tagSet = world2.model.one.tagSet;
  document2.forEach((terms) => {
    terms.forEach((term) => {
      let tags = Array.from(term.tags);
      term.tagRank = sortByKids(tags, tagSet);
    });
  });
};
var tagRank_default = tagRank;

// node_modules/compromise/src/1-one/tag/plugin.js
var plugin_default11 = {
  model: {
    one: { tagSet: {} }
  },
  compute: {
    tagRank: tagRank_default
  },
  methods: methods_default7,
  api: api_default8,
  lib: lib_default4
};

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/01-simple-split.js
var initSplit = /([.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s)/g;
var splitsOnly = /^[.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s$/;
var newLine = /((?:\r?\n|\r)+)/;
var basicSplit = function(text) {
  let all = [];
  let lines = text.split(newLine);
  for (let i3 = 0; i3 < lines.length; i3++) {
    let arr = lines[i3].split(initSplit);
    for (let o2 = 0; o2 < arr.length; o2++) {
      if (arr[o2 + 1] && splitsOnly.test(arr[o2 + 1]) === true) {
        arr[o2] += arr[o2 + 1];
        arr[o2 + 1] = "";
      }
      if (arr[o2] !== "") {
        all.push(arr[o2]);
      }
    }
  }
  return all;
};
var simple_split_default = basicSplit;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/02-simple-merge.js
var hasLetter = /[a-z0-9\u00C0-\u00FF\u00a9\u00ae\u2000-\u3300\ud000-\udfff]/i;
var hasSomething = /\S/;
var notEmpty = function(splits) {
  let chunks = [];
  for (let i3 = 0; i3 < splits.length; i3++) {
    let s2 = splits[i3];
    if (s2 === void 0 || s2 === "") {
      continue;
    }
    if (hasSomething.test(s2) === false || hasLetter.test(s2) === false) {
      if (chunks[chunks.length - 1]) {
        chunks[chunks.length - 1] += s2;
        continue;
      } else if (splits[i3 + 1]) {
        splits[i3 + 1] = s2 + splits[i3 + 1];
        continue;
      }
    }
    chunks.push(s2);
  }
  return chunks;
};
var simple_merge_default = notEmpty;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/03-smart-merge.js
var smartMerge = function(chunks, world2) {
  const isSentence2 = world2.methods.one.tokenize.isSentence;
  const abbrevs = world2.model.one.abbreviations || /* @__PURE__ */ new Set();
  let sentences = [];
  for (let i3 = 0; i3 < chunks.length; i3++) {
    let c2 = chunks[i3];
    if (chunks[i3 + 1] && isSentence2(c2, abbrevs) === false) {
      chunks[i3 + 1] = c2 + (chunks[i3 + 1] || "");
    } else if (c2 && c2.length > 0) {
      sentences.push(c2);
      chunks[i3] = "";
    }
  }
  return sentences;
};
var smart_merge_default = smartMerge;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/04-quote-merge.js
var MAX_QUOTE = 280;
var pairs = {
  '"': '"',
  // 'StraightDoubleQuotes'
  "\uFF02": "\uFF02",
  // 'StraightDoubleQuotesWide'
  // '\u0027': '\u0027', // 'StraightSingleQuotes'
  "\u201C": "\u201D",
  // 'CommaDoubleQuotes'
  // '\u2018': '\u2019', // 'CommaSingleQuotes'
  "\u201F": "\u201D",
  // 'CurlyDoubleQuotesReversed'
  // '\u201B': '\u2019', // 'CurlySingleQuotesReversed'
  "\u201E": "\u201D",
  // 'LowCurlyDoubleQuotes'
  "\u2E42": "\u201D",
  // 'LowCurlyDoubleQuotesReversed'
  "\u201A": "\u2019",
  // 'LowCurlySingleQuotes'
  "\xAB": "\xBB",
  // 'AngleDoubleQuotes'
  "\u2039": "\u203A",
  // 'AngleSingleQuotes'
  "\u2035": "\u2032",
  // 'PrimeSingleQuotes'
  "\u2036": "\u2033",
  // 'PrimeDoubleQuotes'
  "\u2037": "\u2034",
  // 'PrimeTripleQuotes'
  "\u301D": "\u301E",
  // 'PrimeDoubleQuotes'
  // '\u0060': '\u00B4', // 'PrimeSingleQuotes'
  "\u301F": "\u301E"
  // 'LowPrimeDoubleQuotesReversed'
};
var openQuote = RegExp("[" + Object.keys(pairs).join("") + "]", "g");
var closeQuote = RegExp("[" + Object.values(pairs).join("") + "]", "g");
var closesQuote = function(str2) {
  if (!str2) {
    return false;
  }
  let m = str2.match(closeQuote);
  if (m !== null && m.length === 1) {
    return true;
  }
  return false;
};
var quoteMerge = function(splits) {
  let arr = [];
  for (let i3 = 0; i3 < splits.length; i3 += 1) {
    let split2 = splits[i3];
    let m = split2.match(openQuote);
    if (m !== null && m.length === 1) {
      if (closesQuote(splits[i3 + 1]) && splits[i3 + 1].length < MAX_QUOTE) {
        splits[i3] += splits[i3 + 1];
        arr.push(splits[i3]);
        splits[i3 + 1] = "";
        i3 += 1;
        continue;
      }
      if (closesQuote(splits[i3 + 2])) {
        let toAdd = splits[i3 + 1] + splits[i3 + 2];
        if (toAdd.length < MAX_QUOTE) {
          splits[i3] += toAdd;
          arr.push(splits[i3]);
          splits[i3 + 1] = "";
          splits[i3 + 2] = "";
          i3 += 2;
          continue;
        }
      }
    }
    arr.push(splits[i3]);
  }
  return arr;
};
var quote_merge_default = quoteMerge;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/05-parens-merge.js
var MAX_LEN = 250;
var hasOpen = /\(/g;
var hasClosed = /\)/g;
var mergeParens = function(splits) {
  let arr = [];
  for (let i3 = 0; i3 < splits.length; i3 += 1) {
    let split2 = splits[i3];
    let m = split2.match(hasOpen);
    if (m !== null && m.length === 1) {
      if (splits[i3 + 1] && splits[i3 + 1].length < MAX_LEN) {
        let m2 = splits[i3 + 1].match(hasClosed);
        if (m2 !== null && m.length === 1 && !hasOpen.test(splits[i3 + 1])) {
          splits[i3] += splits[i3 + 1];
          arr.push(splits[i3]);
          splits[i3 + 1] = "";
          i3 += 1;
          continue;
        }
      }
    }
    arr.push(splits[i3]);
  }
  return arr;
};
var parens_merge_default = mergeParens;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/index.js
var hasSomething2 = /\S/;
var startWhitespace = /^\s+/;
var splitSentences = function(text, world2) {
  text = text || "";
  text = String(text);
  if (!text || typeof text !== "string" || hasSomething2.test(text) === false) {
    return [];
  }
  text = text.replace("\xA0", " ");
  let splits = simple_split_default(text);
  let sentences = simple_merge_default(splits);
  sentences = smart_merge_default(sentences, world2);
  sentences = quote_merge_default(sentences);
  sentences = parens_merge_default(sentences);
  if (sentences.length === 0) {
    return [text];
  }
  for (let i3 = 1; i3 < sentences.length; i3 += 1) {
    let ws = sentences[i3].match(startWhitespace);
    if (ws !== null) {
      sentences[i3 - 1] += ws[0];
      sentences[i3] = sentences[i3].replace(startWhitespace, "");
    }
  }
  return sentences;
};
var sentences_default = splitSentences;

// node_modules/compromise/src/1-one/tokenize/methods/02-terms/01-hyphens.js
var hasHyphen2 = function(str2, model4) {
  let parts = str2.split(/[-â€“â€”]/);
  if (parts.length <= 1) {
    return false;
  }
  const { prefixes, suffixes } = model4.one;
  if (parts[0].length === 1 && /[a-z]/i.test(parts[0])) {
    return false;
  }
  if (prefixes.hasOwnProperty(parts[0])) {
    return false;
  }
  parts[1] = parts[1].trim().replace(/[.?!]$/, "");
  if (suffixes.hasOwnProperty(parts[1])) {
    return false;
  }
  let reg = /^([a-z\u00C0-\u00FF`"'/]+)[-â€“â€”]([a-z0-9\u00C0-\u00FF].*)/i;
  if (reg.test(str2) === true) {
    return true;
  }
  let reg2 = /^[('"]?([0-9]{1,4})[-â€“â€”]([a-z\u00C0-\u00FF`"'/-]+[)'"]?$)/i;
  if (reg2.test(str2) === true) {
    return true;
  }
  return false;
};
var splitHyphens2 = function(word) {
  let arr = [];
  const hyphens = word.split(/[-â€“â€”]/);
  let whichDash = "-";
  let found = word.match(/[-â€“â€”]/);
  if (found && found[0]) {
    whichDash = found;
  }
  for (let o2 = 0; o2 < hyphens.length; o2++) {
    if (o2 === hyphens.length - 1) {
      arr.push(hyphens[o2]);
    } else {
      arr.push(hyphens[o2] + whichDash);
    }
  }
  return arr;
};

// node_modules/compromise/src/1-one/tokenize/methods/02-terms/03-ranges.js
var combineRanges = function(arr) {
  const startRange = /^[0-9]{1,4}(:[0-9][0-9])?([a-z]{1,2})? ?[-â€“â€”] ?$/;
  const endRange = /^[0-9]{1,4}([a-z]{1,2})? ?$/;
  for (let i3 = 0; i3 < arr.length - 1; i3 += 1) {
    if (arr[i3 + 1] && startRange.test(arr[i3]) && endRange.test(arr[i3 + 1])) {
      arr[i3] = arr[i3] + arr[i3 + 1];
      arr[i3 + 1] = null;
    }
  }
  return arr;
};
var ranges_default = combineRanges;

// node_modules/compromise/src/1-one/tokenize/methods/02-terms/02-slashes.js
var isSlash = /\p{L} ?\/ ?\p{L}+$/u;
var combineSlashes = function(arr) {
  for (let i3 = 1; i3 < arr.length - 1; i3++) {
    if (isSlash.test(arr[i3])) {
      arr[i3 - 1] += arr[i3] + arr[i3 + 1];
      arr[i3] = null;
      arr[i3 + 1] = null;
    }
  }
  return arr;
};
var slashes_default = combineSlashes;

// node_modules/compromise/src/1-one/tokenize/methods/02-terms/index.js
var wordlike = /\S/;
var isBoundary = /^[!?.]+$/;
var naiiveSplit = /(\S+)/;
var notWord = [
  ".",
  "?",
  "!",
  ":",
  ";",
  "-",
  "\u2013",
  "\u2014",
  "--",
  "...",
  "(",
  ")",
  "[",
  "]",
  '"',
  "'",
  "`",
  "\xAB",
  "\xBB",
  "*",
  "\u2022"
];
notWord = notWord.reduce((h2, c2) => {
  h2[c2] = true;
  return h2;
}, {});
var isArray11 = function(arr) {
  return Object.prototype.toString.call(arr) === "[object Array]";
};
var splitWords = function(str2, model4) {
  let result = [];
  let arr = [];
  str2 = str2 || "";
  if (typeof str2 === "number") {
    str2 = String(str2);
  }
  if (isArray11(str2)) {
    return str2;
  }
  const words = str2.split(naiiveSplit);
  for (let i3 = 0; i3 < words.length; i3++) {
    if (hasHyphen2(words[i3], model4) === true) {
      arr = arr.concat(splitHyphens2(words[i3]));
      continue;
    }
    arr.push(words[i3]);
  }
  let carry = "";
  for (let i3 = 0; i3 < arr.length; i3++) {
    let word = arr[i3];
    if (wordlike.test(word) === true && notWord.hasOwnProperty(word) === false && isBoundary.test(word) === false) {
      if (result.length > 0) {
        result[result.length - 1] += carry;
        result.push(word);
      } else {
        result.push(carry + word);
      }
      carry = "";
    } else {
      carry += word;
    }
  }
  if (carry) {
    if (result.length === 0) {
      result[0] = "";
    }
    result[result.length - 1] += carry;
  }
  result = slashes_default(result);
  result = ranges_default(result);
  result = result.filter((s2) => s2);
  return result;
};
var terms_default = splitWords;

// node_modules/compromise/src/1-one/tokenize/methods/03-whitespace/tokenize.js
var isLetter = /\p{Letter}/u;
var isNumber = /[\p{Number}\p{Currency_Symbol}]/u;
var hasAcronym = /^[a-z]\.([a-z]\.)+/i;
var chillin = /[sn]['â€™]$/;
var normalizePunctuation = function(str2, model4) {
  let { prePunctuation: prePunctuation2, postPunctuation: postPunctuation2, emoticons: emoticons2 } = model4.one;
  let original = str2;
  let pre = "";
  let post2 = "";
  let chars = Array.from(str2);
  if (emoticons2.hasOwnProperty(str2.trim())) {
    return { str: str2.trim(), pre, post: " " };
  }
  let len = chars.length;
  for (let i3 = 0; i3 < len; i3 += 1) {
    let c2 = chars[0];
    if (prePunctuation2[c2] === true) {
      continue;
    }
    if ((c2 === "+" || c2 === "-") && isNumber.test(chars[1])) {
      break;
    }
    if (c2 === "'" && c2.length === 3 && isNumber.test(chars[1])) {
      break;
    }
    if (isLetter.test(c2) || isNumber.test(c2)) {
      break;
    }
    pre += chars.shift();
  }
  len = chars.length;
  for (let i3 = 0; i3 < len; i3 += 1) {
    let c2 = chars[chars.length - 1];
    if (postPunctuation2[c2] === true) {
      continue;
    }
    if (isLetter.test(c2) || isNumber.test(c2)) {
      break;
    }
    if (c2 === "." && hasAcronym.test(original) === true) {
      continue;
    }
    if (c2 === "'" && chillin.test(original) === true) {
      continue;
    }
    post2 = chars.pop() + post2;
  }
  str2 = chars.join("");
  if (str2 === "") {
    original = original.replace(/ *$/, (after2) => {
      post2 = after2 || "";
      return "";
    });
    str2 = original;
    pre = "";
  }
  return { str: str2, pre, post: post2 };
};
var tokenize_default = normalizePunctuation;

// node_modules/compromise/src/1-one/tokenize/methods/03-whitespace/index.js
var parseTerm = (txt, model4) => {
  let { str: str2, pre, post: post2 } = tokenize_default(txt, model4);
  const parsed = {
    text: str2,
    pre,
    post: post2,
    tags: /* @__PURE__ */ new Set()
  };
  return parsed;
};
var whitespace_default2 = parseTerm;

// node_modules/compromise/src/1-one/tokenize/methods/unicode.js
var killUnicode = function(str2, world2) {
  const unicode2 = world2.model.one.unicode || {};
  str2 = str2 || "";
  let chars = str2.split("");
  chars.forEach((s2, i3) => {
    if (unicode2[s2]) {
      chars[i3] = unicode2[s2];
    }
  });
  return chars.join("");
};
var unicode_default = killUnicode;

// node_modules/compromise/src/1-one/tokenize/compute/normal/01-cleanup.js
var clean = function(str2) {
  str2 = str2 || "";
  str2 = str2.toLowerCase();
  str2 = str2.trim();
  let original = str2;
  str2 = str2.replace(/[,;.!?]+$/, "");
  str2 = str2.replace(/\u2026/g, "...");
  str2 = str2.replace(/\u2013/g, "-");
  if (/^[:;]/.test(str2) === false) {
    str2 = str2.replace(/\.{3,}$/g, "");
    str2 = str2.replace(/[",.!:;?)]+$/g, "");
    str2 = str2.replace(/^['"(]+/g, "");
  }
  str2 = str2.replace(/[\u200B-\u200D\uFEFF]/g, "");
  str2 = str2.trim();
  if (str2 === "") {
    str2 = original;
  }
  str2 = str2.replace(/([0-9]),([0-9])/g, "$1$2");
  return str2;
};
var cleanup_default = clean;

// node_modules/compromise/src/1-one/tokenize/compute/normal/02-acronyms.js
var periodAcronym = /([A-Z]\.)+[A-Z]?,?$/;
var oneLetterAcronym = /^[A-Z]\.,?$/;
var noPeriodAcronym = /[A-Z]{2,}('s|,)?$/;
var lowerCaseAcronym = /([a-z]\.)+[a-z]\.?$/;
var isAcronym = function(str2) {
  if (periodAcronym.test(str2) === true) {
    return true;
  }
  if (lowerCaseAcronym.test(str2) === true) {
    return true;
  }
  if (oneLetterAcronym.test(str2) === true) {
    return true;
  }
  if (noPeriodAcronym.test(str2) === true) {
    return true;
  }
  return false;
};
var doAcronym = function(str2) {
  if (isAcronym(str2)) {
    str2 = str2.replace(/\./g, "");
  }
  return str2;
};
var acronyms_default = doAcronym;

// node_modules/compromise/src/1-one/tokenize/compute/normal/index.js
var normalize = function(term, world2) {
  const killUnicode2 = world2.methods.one.killUnicode;
  let str2 = term.text || "";
  str2 = cleanup_default(str2);
  str2 = killUnicode2(str2, world2);
  str2 = acronyms_default(str2);
  term.normal = str2;
};
var normal_default = normalize;

// node_modules/compromise/src/1-one/tokenize/methods/parse.js
var parse4 = function(input, world2) {
  const { methods: methods18, model: model4 } = world2;
  const { splitSentences: splitSentences2, splitTerms, splitWhitespace } = methods18.one.tokenize;
  input = input || "";
  let sentences = splitSentences2(input, world2);
  input = sentences.map((txt) => {
    let terms = splitTerms(txt, model4);
    terms = terms.map((t3) => splitWhitespace(t3, model4));
    terms.forEach((t3) => {
      normal_default(t3, world2);
    });
    return terms;
  });
  return input;
};
var parse_default2 = parse4;

// node_modules/compromise/src/1-one/tokenize/methods/01-sentences/is-sentence.js
var isAcronym2 = /[ .][A-Z]\.? *$/i;
var hasEllipse = /(?:\u2026|\.{2,}) *$/;
var hasLetter2 = /\p{L}/u;
var hasPeriod = /\. *$/;
var leadInit = /^[A-Z]\. $/;
var isSentence = function(str2, abbrevs) {
  if (hasLetter2.test(str2) === false) {
    return false;
  }
  if (isAcronym2.test(str2) === true) {
    return false;
  }
  if (str2.length === 3 && leadInit.test(str2)) {
    return false;
  }
  if (hasEllipse.test(str2) === true) {
    return false;
  }
  let txt = str2.replace(/[.!?\u203D\u2E18\u203C\u2047-\u2049] *$/, "");
  let words = txt.split(" ");
  let lastWord = words[words.length - 1].toLowerCase();
  if (abbrevs.hasOwnProperty(lastWord) === true && hasPeriod.test(str2) === true) {
    return false;
  }
  return true;
};
var is_sentence_default = isSentence;

// node_modules/compromise/src/1-one/tokenize/methods/index.js
var methods_default8 = {
  one: {
    killUnicode: unicode_default,
    tokenize: {
      splitSentences: sentences_default,
      isSentence: is_sentence_default,
      splitTerms: terms_default,
      splitWhitespace: whitespace_default2,
      fromString: parse_default2
    }
  }
};

// node_modules/compromise/src/1-one/tokenize/model/aliases.js
var aliases = {
  "&": "and",
  "@": "at",
  "%": "percent",
  "plz": "please",
  "bein": "being"
};
var aliases_default = aliases;

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/misc.js
var misc_default = [
  "approx",
  "apt",
  "bc",
  "cyn",
  "eg",
  "esp",
  "est",
  "etc",
  "ex",
  "exp",
  "prob",
  //probably
  "pron",
  // Pronunciation
  "gal",
  //gallon
  "min",
  "pseud",
  "fig",
  //figure
  "jd",
  "lat",
  //latitude
  "lng",
  //longitude
  "vol",
  //volume
  "fm",
  //not am
  "def",
  //definition
  "misc",
  "plz",
  //please
  "ea",
  //each
  "ps",
  "sec",
  //second
  "pt",
  "pref",
  //preface
  "pl",
  //plural
  "pp",
  //pages
  "qt",
  //quarter
  "fr",
  //french
  "sq",
  "nee",
  //given name at birth
  "ss",
  //ship, or sections
  "tel",
  "temp",
  "vet",
  "ver",
  //version
  "fem",
  //feminine
  "masc",
  //masculine
  "eng",
  //engineering/english
  "adj",
  //adjective
  "vb",
  //verb
  "rb",
  //adverb
  "inf",
  //infinitive
  "situ",
  // in situ
  "vivo",
  "vitro",
  "wr"
  //world record
];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/honorifics.js
var honorifics_default = [
  "adj",
  "adm",
  "adv",
  "asst",
  "atty",
  "bldg",
  "brig",
  "capt",
  "cmdr",
  "comdr",
  "cpl",
  "det",
  "dr",
  "esq",
  "gen",
  "gov",
  "hon",
  "jr",
  "llb",
  "lt",
  "maj",
  "messrs",
  "mlle",
  "mme",
  "mr",
  "mrs",
  "ms",
  "mstr",
  "phd",
  "prof",
  "pvt",
  "rep",
  "reps",
  "res",
  "rev",
  "sen",
  "sens",
  "sfc",
  "sgt",
  "sir",
  "sr",
  "supt",
  "surg"
  //miss
  //misses
];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/months.js
var months_default = ["jan", "feb", "mar", "apr", "jun", "jul", "aug", "sep", "sept", "oct", "nov", "dec"];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/nouns.js
var nouns_default = [
  "ad",
  "al",
  "arc",
  "ba",
  "bl",
  "ca",
  "cca",
  "col",
  "corp",
  "ft",
  "fy",
  "ie",
  "lit",
  "ma",
  "md",
  "pd",
  "tce"
];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/organizations.js
var organizations_default = ["dept", "univ", "assn", "bros", "inc", "ltd", "co"];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/places.js
var places_default = [
  "rd",
  "st",
  "dist",
  "mt",
  "ave",
  "blvd",
  "cl",
  // 'ct',
  "cres",
  "hwy",
  //states
  "ariz",
  "cal",
  "calif",
  "colo",
  "conn",
  "fla",
  "fl",
  "ga",
  "ida",
  "ia",
  "kan",
  "kans",
  "minn",
  "neb",
  "nebr",
  "okla",
  "penna",
  "penn",
  "pa",
  "dak",
  "tenn",
  "tex",
  "ut",
  "vt",
  "va",
  "wis",
  "wisc",
  "wy",
  "wyo",
  "usafa",
  "alta",
  "ont",
  "que",
  "sask"
];

// node_modules/compromise/src/1-one/tokenize/model/abbreviations/units.js
var units_default = [
  "dl",
  "ml",
  "gal",
  // 'ft', //ambiguous
  "qt",
  "pt",
  "tbl",
  "tsp",
  "tbsp",
  "km",
  "dm",
  //decimeter
  "cm",
  "mm",
  "mi",
  "td",
  "hr",
  //hour
  "hrs",
  //hour
  "kg",
  "hg",
  "dg",
  //decigram
  "cg",
  //centigram
  "mg",
  //milligram
  "\xB5g",
  //microgram
  "lb",
  //pound
  "oz",
  //ounce
  "sq ft",
  "hz",
  //hertz
  "mps",
  //meters per second
  "mph",
  "kmph",
  //kilometers per hour
  "kb",
  //kilobyte
  "mb",
  //megabyte
  // 'gb', //ambig
  "tb",
  //terabyte
  "lx",
  //lux
  "lm",
  //lumen
  // 'pa', //ambig
  "fl oz",
  //
  "yb"
];

// node_modules/compromise/src/1-one/tokenize/model/lexicon.js
var list = [
  [misc_default],
  [units_default, "Unit"],
  [nouns_default, "Noun"],
  [honorifics_default, "Honorific"],
  [months_default, "Month"],
  [organizations_default, "Organization"],
  [places_default, "Place"]
];
var abbreviations = {};
var lexicon2 = {};
list.forEach((a2) => {
  a2[0].forEach((w) => {
    abbreviations[w] = true;
    lexicon2[w] = "Abbreviation";
    if (a2[1] !== void 0) {
      lexicon2[w] = [lexicon2[w], a2[1]];
    }
  });
});

// node_modules/compromise/src/1-one/tokenize/model/prefixes.js
var prefixes_default = [
  "anti",
  "bi",
  "co",
  "contra",
  "de",
  "extra",
  "infra",
  "inter",
  "intra",
  "macro",
  "micro",
  "mis",
  "mono",
  "multi",
  "peri",
  "pre",
  "pro",
  "proto",
  "pseudo",
  "re",
  "sub",
  "supra",
  "trans",
  "tri",
  "un",
  "out",
  //out-lived
  "ex"
  //ex-wife
  // 'counter',
  // 'mid',
  // 'out',
  // 'non',
  // 'over',
  // 'post',
  // 'semi',
  // 'super', //'super-cool'
  // 'ultra', //'ulta-cool'
  // 'under',
  // 'whole',
].reduce((h2, str2) => {
  h2[str2] = true;
  return h2;
}, {});

// node_modules/compromise/src/1-one/tokenize/model/suffixes.js
var suffixes_default = {
  "like": true,
  "ish": true,
  "less": true,
  "able": true,
  "elect": true,
  "type": true,
  "designate": true
  // 'fold':true,
};

// node_modules/compromise/src/1-one/tokenize/model/unicode.js
var compact = {
  "!": "\xA1",
  "?": "\xBF\u0241",
  '"': '\u201C\u201D"\u275D\u275E',
  "'": "\u2018\u201B\u275B\u275C\u2019",
  "-": "\u2014\u2013",
  a: "\xAA\xC0\xC1\xC2\xC3\xC4\xC5\xE0\xE1\xE2\xE3\xE4\xE5\u0100\u0101\u0102\u0103\u0104\u0105\u01CD\u01CE\u01DE\u01DF\u01E0\u01E1\u01FA\u01FB\u0200\u0201\u0202\u0203\u0226\u0227\u023A\u0386\u0391\u0394\u039B\u03AC\u03B1\u03BB\u0410\u0430\u0466\u0467\u04D0\u04D1\u04D2\u04D3\u019B\xE6",
  b: "\xDF\xFE\u0180\u0181\u0182\u0183\u0184\u0185\u0243\u0392\u03B2\u03D0\u03E6\u0411\u0412\u042A\u042C\u0432\u044A\u044C\u0462\u0463\u048C\u048D",
  c: "\xA2\xA9\xC7\xE7\u0106\u0107\u0108\u0109\u010A\u010B\u010C\u010D\u0186\u0187\u0188\u023B\u023C\u037B\u037C\u03F2\u03F9\u03FD\u03FE\u0421\u0441\u0454\u0480\u0481\u04AA\u04AB",
  d: "\xD0\u010E\u010F\u0110\u0111\u0189\u018A\u0221\u018B\u018C",
  e: "\xC8\xC9\xCA\xCB\xE8\xE9\xEA\xEB\u0112\u0113\u0114\u0115\u0116\u0117\u0118\u0119\u011A\u011B\u0190\u0204\u0205\u0206\u0207\u0228\u0229\u0246\u0247\u0388\u0395\u039E\u03A3\u03AD\u03B5\u03BE\u03F5\u0400\u0401\u0415\u0435\u0450\u0451\u04BC\u04BD\u04BE\u04BF\u04D6\u04D7\u1EC5",
  f: "\u0191\u0192\u03DC\u03DD\u04FA\u04FB\u0492\u0493\u017F",
  g: "\u011C\u011D\u011E\u011F\u0120\u0121\u0122\u0123\u0193\u01E4\u01E5\u01E6\u01E7\u01F4\u01F5",
  h: "\u0124\u0125\u0126\u0127\u0195\u01F6\u021E\u021F\u0389\u0397\u0402\u040A\u040B\u041D\u043D\u0452\u045B\u04A2\u04A3\u04A4\u04A5\u04BA\u04BB\u04C9\u04CA",
  I: "\xCC\xCD\xCE\xCF",
  i: "\xEC\xED\xEE\xEF\u0128\u0129\u012A\u012B\u012C\u012D\u012E\u012F\u0130\u0131\u0196\u0197\u0208\u0209\u020A\u020B\u038A\u0390\u03AA\u03AF\u03B9\u03CA\u0406\u0407\u0456\u0457i\u0307",
  j: "\u0134\u0135\u01F0\u0237\u0248\u0249\u03F3\u0408\u0458",
  k: "\u0136\u0137\u0138\u0198\u0199\u01E8\u01E9\u039A\u03BA\u040C\u0416\u041A\u0436\u043A\u045C\u049A\u049B\u049C\u049D\u049E\u049F\u04A0\u04A1",
  l: "\u0139\u013A\u013B\u013C\u013D\u013E\u013F\u0140\u0141\u0142\u019A\u01AA\u01C0\u01CF\u01D0\u0234\u023D\u0399\u04C0\u04CF",
  m: "\u039C\u03FA\u03FB\u041C\u043C\u04CD\u04CE",
  n: "\xD1\xF1\u0143\u0144\u0145\u0146\u0147\u0148\u0149\u014A\u014B\u019D\u019E\u01F8\u01F9\u0220\u0235\u039D\u03A0\u03AE\u03B7\u03DE\u040D\u0418\u0419\u041B\u041F\u0438\u0439\u043B\u043F\u045D\u048A\u048B\u04C5\u04C6\u04E2\u04E3\u04E4\u04E5\u03C0",
  o: "\xD2\xD3\xD4\xD5\xD6\xD8\xF0\xF2\xF3\xF4\xF5\xF6\xF8\u014C\u014D\u014E\u014F\u0150\u0151\u019F\u01A0\u01A1\u01D1\u01D2\u01EA\u01EB\u01EC\u01ED\u01FE\u01FF\u020C\u020D\u020E\u020F\u022A\u022B\u022C\u022D\u022E\u022F\u0230\u0231\u038C\u0398\u039F\u03B8\u03BF\u03C3\u03CC\u03D5\u03D8\u03D9\u03EC\u03F4\u041E\u0424\u043E\u0472\u0473\u04E6\u04E7\u04E8\u04E9\u04EA\u04EB",
  p: "\u01A4\u03A1\u03C1\u03F7\u03F8\u03FC\u0420\u0440\u048E\u048F\xDE",
  q: "\u024A\u024B",
  r: "\u0154\u0155\u0156\u0157\u0158\u0159\u01A6\u0210\u0211\u0212\u0213\u024C\u024D\u0403\u0413\u042F\u0433\u044F\u0453\u0490\u0491",
  s: "\u015A\u015B\u015C\u015D\u015E\u015F\u0160\u0161\u01A7\u01A8\u0218\u0219\u023F\u0405\u0455",
  t: "\u0162\u0163\u0164\u0165\u0166\u0167\u01AB\u01AC\u01AD\u01AE\u021A\u021B\u0236\u023E\u0393\u03A4\u03C4\u03EE\u0422\u0442",
  u: "\xD9\xDA\xDB\xDC\xF9\xFA\xFB\xFC\u0168\u0169\u016A\u016B\u016C\u016D\u016E\u016F\u0170\u0171\u0172\u0173\u01AF\u01B0\u01B1\u01B2\u01D3\u01D4\u01D5\u01D6\u01D7\u01D8\u01D9\u01DA\u01DB\u01DC\u0214\u0215\u0216\u0217\u0244\u03B0\u03C5\u03CB\u03CD",
  v: "\u03BD\u0474\u0475\u0476\u0477",
  w: "\u0174\u0175\u019C\u03C9\u03CE\u03D6\u03E2\u03E3\u0428\u0429\u0448\u0449\u0461\u047F",
  x: "\xD7\u03A7\u03C7\u03D7\u03F0\u0425\u0445\u04B2\u04B3\u04FC\u04FD\u04FE\u04FF",
  y: "\xDD\xFD\xFF\u0176\u0177\u0178\u01B3\u01B4\u0232\u0233\u024E\u024F\u038E\u03A5\u03AB\u03B3\u03C8\u03D2\u03D3\u03D4\u040E\u0423\u0443\u0447\u045E\u0470\u0471\u04AE\u04AF\u04B0\u04B1\u04EE\u04EF\u04F0\u04F1\u04F2\u04F3",
  z: "\u0179\u017A\u017B\u017C\u017D\u017E\u01B5\u01B6\u0224\u0225\u0240\u0396"
};
var unicode = {};
Object.keys(compact).forEach(function(k2) {
  compact[k2].split("").forEach(function(s2) {
    unicode[s2] = k2;
  });
});
var unicode_default2 = unicode;

// node_modules/compromise/src/1-one/tokenize/model/punctuation.js
var prePunctuation = {
  "#": true,
  //#hastag
  "@": true,
  //@atmention
  "_": true,
  //underscore
  "\xB0": true,
  // '+': true,//+4
  // '\\-',//-4  (escape)
  // '.',//.4
  // zero-width chars
  "\u200B": true,
  "\u200C": true,
  "\u200D": true,
  "\uFEFF": true
};
var postPunctuation = {
  "%": true,
  //88%
  "_": true,
  //underscore
  "\xB0": true,
  //degrees, italian ordinal
  // '\'',// sometimes
  // zero-width chars
  "\u200B": true,
  "\u200C": true,
  "\u200D": true,
  "\uFEFF": true
};
var emoticons = {
  "<3": true,
  "</3": true,
  "<\\3": true,
  ":^P": true,
  ":^p": true,
  ":^O": true,
  ":^3": true
};

// node_modules/compromise/src/1-one/tokenize/model/index.js
var model_default2 = {
  one: {
    aliases: aliases_default,
    abbreviations,
    prefixes: prefixes_default,
    suffixes: suffixes_default,
    prePunctuation,
    postPunctuation,
    lexicon: lexicon2,
    //give this one forward
    unicode: unicode_default2,
    emoticons
  }
};

// node_modules/compromise/src/1-one/tokenize/compute/alias.js
var hasSlash = /\//;
var hasDomain = /[a-z]\.[a-z]/i;
var isMath = /[0-9]/;
var addAliases = function(term, world2) {
  let str2 = term.normal || term.text || term.machine;
  const aliases2 = world2.model.one.aliases;
  if (aliases2.hasOwnProperty(str2)) {
    term.alias = term.alias || [];
    term.alias.push(aliases2[str2]);
  }
  if (hasSlash.test(str2) && !hasDomain.test(str2) && !isMath.test(str2)) {
    let arr = str2.split(hasSlash);
    if (arr.length <= 3) {
      arr.forEach((word) => {
        word = word.trim();
        if (word !== "") {
          term.alias = term.alias || [];
          term.alias.push(word);
        }
      });
    }
  }
  return term;
};
var alias_default = addAliases;

// node_modules/compromise/src/1-one/tokenize/compute/machine.js
var hasDash3 = /^\p{Letter}+-\p{Letter}+$/u;
var doMachine = function(term) {
  let str2 = term.implicit || term.normal || term.text;
  str2 = str2.replace(/['â€™]s$/, "");
  str2 = str2.replace(/s['â€™]$/, "s");
  str2 = str2.replace(/([aeiou][ktrp])in'$/, "$1ing");
  if (hasDash3.test(str2)) {
    str2 = str2.replace(/-/g, "");
  }
  str2 = str2.replace(/^[#@]/, "");
  if (str2 !== term.normal) {
    term.machine = str2;
  }
};
var machine_default = doMachine;

// node_modules/compromise/src/1-one/tokenize/compute/freq.js
var freq = function(view) {
  let docs = view.docs;
  let counts = {};
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      let term = docs[i3][t3];
      let word = term.machine || term.normal;
      counts[word] = counts[word] || 0;
      counts[word] += 1;
    }
  }
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      let term = docs[i3][t3];
      let word = term.machine || term.normal;
      term.freq = counts[word];
    }
  }
};
var freq_default = freq;

// node_modules/compromise/src/1-one/tokenize/compute/offset.js
var offset = function(view) {
  let elapsed = 0;
  let index4 = 0;
  let docs = view.document;
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      let term = docs[i3][t3];
      term.offset = {
        index: index4,
        start: elapsed + term.pre.length,
        length: term.text.length
      };
      elapsed += term.pre.length + term.text.length + term.post.length;
      index4 += 1;
    }
  }
};
var offset_default = offset;

// node_modules/compromise/src/1-one/tokenize/compute/reindex.js
var index3 = function(view) {
  let document2 = view.document;
  for (let n2 = 0; n2 < document2.length; n2 += 1) {
    for (let i3 = 0; i3 < document2[n2].length; i3 += 1) {
      document2[n2][i3].index = [n2, i3];
    }
  }
};
var reindex_default = index3;

// node_modules/compromise/src/1-one/tokenize/compute/wordCount.js
var wordCount2 = function(view) {
  let n2 = 0;
  let docs = view.docs;
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      if (docs[i3][t3].normal === "") {
        continue;
      }
      n2 += 1;
      docs[i3][t3].wordCount = n2;
    }
  }
};
var wordCount_default = wordCount2;

// node_modules/compromise/src/1-one/tokenize/compute/index.js
var termLoop = function(view, fn) {
  let docs = view.docs;
  for (let i3 = 0; i3 < docs.length; i3 += 1) {
    for (let t3 = 0; t3 < docs[i3].length; t3 += 1) {
      fn(docs[i3][t3], view.world);
    }
  }
};
var methods17 = {
  alias: (view) => termLoop(view, alias_default),
  machine: (view) => termLoop(view, machine_default),
  normal: (view) => termLoop(view, normal_default),
  freq: freq_default,
  offset: offset_default,
  index: reindex_default,
  wordCount: wordCount_default
};
var compute_default7 = methods17;

// node_modules/compromise/src/1-one/tokenize/plugin.js
var plugin_default12 = {
  compute: compute_default7,
  methods: methods_default8,
  model: model_default2,
  hooks: ["alias", "machine", "index", "id"]
};

// node_modules/compromise/src/1-one/typeahead/compute.js
var typeahead = function(view) {
  const prefixes = view.model.one.typeahead;
  const docs = view.docs;
  if (docs.length === 0 || Object.keys(prefixes).length === 0) {
    return;
  }
  let lastPhrase = docs[docs.length - 1] || [];
  let lastTerm = lastPhrase[lastPhrase.length - 1];
  if (lastTerm.post) {
    return;
  }
  if (prefixes.hasOwnProperty(lastTerm.normal)) {
    let found = prefixes[lastTerm.normal];
    lastTerm.implicit = found;
    lastTerm.machine = found;
    lastTerm.typeahead = true;
    if (view.compute.preTagger) {
      view.last().unTag("*").compute(["lexicon", "preTagger"]);
    }
  }
};
var compute_default8 = { typeahead };

// node_modules/compromise/src/1-one/typeahead/api.js
var autoFill = function() {
  const docs = this.docs;
  if (docs.length === 0) {
    return this;
  }
  let lastPhrase = docs[docs.length - 1] || [];
  let term = lastPhrase[lastPhrase.length - 1];
  if (term.typeahead === true && term.machine) {
    term.text = term.machine;
    term.normal = term.machine;
  }
  return this;
};
var api2 = function(View2) {
  View2.prototype.autoFill = autoFill;
};
var api_default9 = api2;

// node_modules/compromise/src/1-one/typeahead/lib/allPrefixes.js
var getPrefixes = function(arr, opts2, world2) {
  let index4 = {};
  let collisions = [];
  let existing = world2.prefixes || {};
  arr.forEach((str2) => {
    str2 = str2.toLowerCase().trim();
    let max2 = str2.length;
    if (opts2.max && max2 > opts2.max) {
      max2 = opts2.max;
    }
    for (let size = opts2.min; size < max2; size += 1) {
      let prefix2 = str2.substring(0, size);
      if (opts2.safe && world2.model.one.lexicon.hasOwnProperty(prefix2)) {
        continue;
      }
      if (existing.hasOwnProperty(prefix2) === true) {
        collisions.push(prefix2);
        continue;
      }
      if (index4.hasOwnProperty(prefix2) === true) {
        collisions.push(prefix2);
        continue;
      }
      index4[prefix2] = str2;
    }
  });
  index4 = Object.assign({}, existing, index4);
  collisions.forEach((str2) => {
    delete index4[str2];
  });
  return index4;
};
var allPrefixes_default = getPrefixes;

// node_modules/compromise/src/1-one/typeahead/lib/index.js
var isObject7 = (val) => {
  return Object.prototype.toString.call(val) === "[object Object]";
};
var defaults2 = {
  safe: true,
  min: 3
};
var prepare = function(words = [], opts2 = {}) {
  let model4 = this.model();
  opts2 = Object.assign({}, defaults2, opts2);
  if (isObject7(words)) {
    Object.assign(model4.one.lexicon, words);
    words = Object.keys(words);
  }
  let prefixes = allPrefixes_default(words, opts2, this.world());
  Object.keys(prefixes).forEach((str2) => {
    if (model4.one.typeahead.hasOwnProperty(str2)) {
      delete model4.one.typeahead[str2];
      return;
    }
    model4.one.typeahead[str2] = prefixes[str2];
  });
  return this;
};
var lib_default5 = {
  typeahead: prepare
};

// node_modules/compromise/src/1-one/typeahead/plugin.js
var model3 = {
  one: {
    typeahead: {}
    //set a blank key-val
  }
};
var plugin_default13 = {
  model: model3,
  api: api_default9,
  lib: lib_default5,
  compute: compute_default8,
  hooks: ["typeahead"]
};

// node_modules/compromise/src/one.js
nlp_default.extend(plugin_default2);
nlp_default.extend(plugin_default8);
nlp_default.extend(plugin_default7);
nlp_default.extend(plugin_default9);
nlp_default.extend(plugin_default11);
nlp_default.plugin(plugin_default3);
nlp_default.extend(plugin_default12);
nlp_default.extend(plugin_default4);
nlp_default.plugin(plugin_default);
nlp_default.extend(plugin_default6);
nlp_default.extend(plugin_default13);
nlp_default.extend(plugin_default5);
nlp_default.extend(plugin_default10);
var one_default = nlp_default;

// src/prompt/prompt.ts
var TEMPLATE_VARIABLES = `{{pre_cursor}}
{{post_cursor}} 
{{active_sentence}} 
{{last_line}}`;
function preparePrompt(editor, template = TEMPLATE_VARIABLES) {
  const cursor = editor.getCursor();
  const preCursor = editor.getRange({ line: 0, ch: 0 }, cursor);
  const postCursor = editor.getRange(cursor, { line: editor.lastLine(), ch: editor.getLine(editor.lastLine()).length });
  const activeSentence = one_default(preCursor).fullSentences().last().out("text");
  const lastLine = editor.getLine(editor.lastLine());
  return renderTemplate(template, {
    pre_cursor: preCursor,
    post_cursor: postCursor,
    active_sentence: activeSentence,
    last_line: lastLine
  });
}
function renderTemplate(template, args) {
  return mustache_default.render(template, args);
}

// src/providers/ollama/provider.ts
var OllamaProvider = class {
  constructor(settins) {
    this.aborted = false;
    this.settings = settins;
    this.client = new Ollama2({ host: this.settings.host });
  }
  async *generate(editor, options) {
    this.aborted = false;
    const prompt = preparePrompt(editor, options.userPrompt);
    const completionIterator = await this.client.generate({
      model: options.model,
      prompt,
      system: options.systemPrompt,
      stream: true,
      options: {
        temperature: options.temperature
      }
    });
    const initialPosition = editor.getCursor();
    let completion = "";
    for await (let response of completionIterator) {
      if (this.aborted) {
        return;
      }
      if (this.cursorMoved(editor, initialPosition)) {
        console.log("cursor moved, aborting completion");
        this.abort();
        return;
      }
      completion += response.response;
      yield completion;
    }
  }
  cursorMoved(editor, initialPosition) {
    const currentPosition = editor.getCursor();
    return currentPosition.line !== initialPosition.line || currentPosition.ch !== initialPosition.ch;
  }
  async abort() {
    if (this.aborted)
      return;
    this.client.abort();
    this.aborted = true;
    console.log("aborted completion");
  }
  async updateModels() {
    const response = await this.client.list();
    this.settings.models = response.models.map((model4) => model4.name);
    return this.settings.models;
  }
  async connectionTest() {
    try {
      await this.client.list();
      return true;
    } catch (error) {
      console.error("Error testing connection:", error);
      return false;
    }
  }
};

// node_modules/openai/internal/qs/formats.mjs
var default_format = "RFC3986";
var formatters = {
  RFC1738: (v) => String(v).replace(/%20/g, "+"),
  RFC3986: (v) => String(v)
};
var RFC1738 = "RFC1738";

// node_modules/openai/internal/qs/utils.mjs
var is_array = Array.isArray;
var hex_table = (() => {
  const array = [];
  for (let i3 = 0; i3 < 256; ++i3) {
    array.push("%" + ((i3 < 16 ? "0" : "") + i3.toString(16)).toUpperCase());
  }
  return array;
})();
var limit = 1024;
var encode = (str2, _defaultEncoder, charset, _kind, format) => {
  if (str2.length === 0) {
    return str2;
  }
  let string = str2;
  if (typeof str2 === "symbol") {
    string = Symbol.prototype.toString.call(str2);
  } else if (typeof str2 !== "string") {
    string = String(str2);
  }
  if (charset === "iso-8859-1") {
    return escape(string).replace(/%u[0-9a-f]{4}/gi, function($0) {
      return "%26%23" + parseInt($0.slice(2), 16) + "%3B";
    });
  }
  let out2 = "";
  for (let j2 = 0; j2 < string.length; j2 += limit) {
    const segment = string.length >= limit ? string.slice(j2, j2 + limit) : string;
    const arr = [];
    for (let i3 = 0; i3 < segment.length; ++i3) {
      let c2 = segment.charCodeAt(i3);
      if (c2 === 45 || // -
      c2 === 46 || // .
      c2 === 95 || // _
      c2 === 126 || // ~
      c2 >= 48 && c2 <= 57 || // 0-9
      c2 >= 65 && c2 <= 90 || // a-z
      c2 >= 97 && c2 <= 122 || // A-Z
      format === RFC1738 && (c2 === 40 || c2 === 41)) {
        arr[arr.length] = segment.charAt(i3);
        continue;
      }
      if (c2 < 128) {
        arr[arr.length] = hex_table[c2];
        continue;
      }
      if (c2 < 2048) {
        arr[arr.length] = hex_table[192 | c2 >> 6] + hex_table[128 | c2 & 63];
        continue;
      }
      if (c2 < 55296 || c2 >= 57344) {
        arr[arr.length] = hex_table[224 | c2 >> 12] + hex_table[128 | c2 >> 6 & 63] + hex_table[128 | c2 & 63];
        continue;
      }
      i3 += 1;
      c2 = 65536 + ((c2 & 1023) << 10 | segment.charCodeAt(i3) & 1023);
      arr[arr.length] = hex_table[240 | c2 >> 18] + hex_table[128 | c2 >> 12 & 63] + hex_table[128 | c2 >> 6 & 63] + hex_table[128 | c2 & 63];
    }
    out2 += arr.join("");
  }
  return out2;
};
function is_buffer(obj) {
  if (!obj || typeof obj !== "object") {
    return false;
  }
  return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));
}
function maybe_map(val, fn) {
  if (is_array(val)) {
    const mapped = [];
    for (let i3 = 0; i3 < val.length; i3 += 1) {
      mapped.push(fn(val[i3]));
    }
    return mapped;
  }
  return fn(val);
}

// node_modules/openai/internal/qs/stringify.mjs
var has2 = Object.prototype.hasOwnProperty;
var array_prefix_generators = {
  brackets(prefix2) {
    return String(prefix2) + "[]";
  },
  comma: "comma",
  indices(prefix2, key) {
    return String(prefix2) + "[" + key + "]";
  },
  repeat(prefix2) {
    return String(prefix2);
  }
};
var is_array2 = Array.isArray;
var push2 = Array.prototype.push;
var push_to_array = function(arr, value_or_array) {
  push2.apply(arr, is_array2(value_or_array) ? value_or_array : [value_or_array]);
};
var to_ISO = Date.prototype.toISOString;
var defaults3 = {
  addQueryPrefix: false,
  allowDots: false,
  allowEmptyArrays: false,
  arrayFormat: "indices",
  charset: "utf-8",
  charsetSentinel: false,
  delimiter: "&",
  encode: true,
  encodeDotInKeys: false,
  encoder: encode,
  encodeValuesOnly: false,
  format: default_format,
  formatter: formatters[default_format],
  /** @deprecated */
  indices: false,
  serializeDate(date) {
    return to_ISO.call(date);
  },
  skipNulls: false,
  strictNullHandling: false
};
function is_non_nullish_primitive(v) {
  return typeof v === "string" || typeof v === "number" || typeof v === "boolean" || typeof v === "symbol" || typeof v === "bigint";
}
var sentinel = {};
function inner_stringify(object, prefix2, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter2, sort2, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {
  let obj = object;
  let tmp_sc = sideChannel;
  let step = 0;
  let find_flag = false;
  while ((tmp_sc = tmp_sc.get(sentinel)) !== void 0 && !find_flag) {
    const pos = tmp_sc.get(object);
    step += 1;
    if (typeof pos !== "undefined") {
      if (pos === step) {
        throw new RangeError("Cyclic object value");
      } else {
        find_flag = true;
      }
    }
    if (typeof tmp_sc.get(sentinel) === "undefined") {
      step = 0;
    }
  }
  if (typeof filter2 === "function") {
    obj = filter2(prefix2, obj);
  } else if (obj instanceof Date) {
    obj = serializeDate == null ? void 0 : serializeDate(obj);
  } else if (generateArrayPrefix === "comma" && is_array2(obj)) {
    obj = maybe_map(obj, function(value) {
      if (value instanceof Date) {
        return serializeDate == null ? void 0 : serializeDate(value);
      }
      return value;
    });
  }
  if (obj === null) {
    if (strictNullHandling) {
      return encoder && !encodeValuesOnly ? (
        // @ts-expect-error
        encoder(prefix2, defaults3.encoder, charset, "key", format)
      ) : prefix2;
    }
    obj = "";
  }
  if (is_non_nullish_primitive(obj) || is_buffer(obj)) {
    if (encoder) {
      const key_value = encodeValuesOnly ? prefix2 : encoder(prefix2, defaults3.encoder, charset, "key", format);
      return [
        (formatter == null ? void 0 : formatter(key_value)) + "=" + // @ts-expect-error
        (formatter == null ? void 0 : formatter(encoder(obj, defaults3.encoder, charset, "value", format)))
      ];
    }
    return [(formatter == null ? void 0 : formatter(prefix2)) + "=" + (formatter == null ? void 0 : formatter(String(obj)))];
  }
  const values = [];
  if (typeof obj === "undefined") {
    return values;
  }
  let obj_keys;
  if (generateArrayPrefix === "comma" && is_array2(obj)) {
    if (encodeValuesOnly && encoder) {
      obj = maybe_map(obj, encoder);
    }
    obj_keys = [{ value: obj.length > 0 ? obj.join(",") || null : void 0 }];
  } else if (is_array2(filter2)) {
    obj_keys = filter2;
  } else {
    const keys = Object.keys(obj);
    obj_keys = sort2 ? keys.sort(sort2) : keys;
  }
  const encoded_prefix = encodeDotInKeys ? String(prefix2).replace(/\./g, "%2E") : String(prefix2);
  const adjusted_prefix = commaRoundTrip && is_array2(obj) && obj.length === 1 ? encoded_prefix + "[]" : encoded_prefix;
  if (allowEmptyArrays && is_array2(obj) && obj.length === 0) {
    return adjusted_prefix + "[]";
  }
  for (let j2 = 0; j2 < obj_keys.length; ++j2) {
    const key = obj_keys[j2];
    const value = (
      // @ts-ignore
      typeof key === "object" && typeof key.value !== "undefined" ? key.value : obj[key]
    );
    if (skipNulls && value === null) {
      continue;
    }
    const encoded_key = allowDots && encodeDotInKeys ? key.replace(/\./g, "%2E") : key;
    const key_prefix = is_array2(obj) ? typeof generateArrayPrefix === "function" ? generateArrayPrefix(adjusted_prefix, encoded_key) : adjusted_prefix : adjusted_prefix + (allowDots ? "." + encoded_key : "[" + encoded_key + "]");
    sideChannel.set(object, step);
    const valueSideChannel = /* @__PURE__ */ new WeakMap();
    valueSideChannel.set(sentinel, sideChannel);
    push_to_array(values, inner_stringify(
      value,
      key_prefix,
      generateArrayPrefix,
      commaRoundTrip,
      allowEmptyArrays,
      strictNullHandling,
      skipNulls,
      encodeDotInKeys,
      // @ts-ignore
      generateArrayPrefix === "comma" && encodeValuesOnly && is_array2(obj) ? null : encoder,
      filter2,
      sort2,
      allowDots,
      serializeDate,
      format,
      formatter,
      encodeValuesOnly,
      charset,
      valueSideChannel
    ));
  }
  return values;
}
function normalize_stringify_options(opts2 = defaults3) {
  if (typeof opts2.allowEmptyArrays !== "undefined" && typeof opts2.allowEmptyArrays !== "boolean") {
    throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");
  }
  if (typeof opts2.encodeDotInKeys !== "undefined" && typeof opts2.encodeDotInKeys !== "boolean") {
    throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");
  }
  if (opts2.encoder !== null && typeof opts2.encoder !== "undefined" && typeof opts2.encoder !== "function") {
    throw new TypeError("Encoder has to be a function.");
  }
  const charset = opts2.charset || defaults3.charset;
  if (typeof opts2.charset !== "undefined" && opts2.charset !== "utf-8" && opts2.charset !== "iso-8859-1") {
    throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
  }
  let format = default_format;
  if (typeof opts2.format !== "undefined") {
    if (!has2.call(formatters, opts2.format)) {
      throw new TypeError("Unknown format option provided.");
    }
    format = opts2.format;
  }
  const formatter = formatters[format];
  let filter2 = defaults3.filter;
  if (typeof opts2.filter === "function" || is_array2(opts2.filter)) {
    filter2 = opts2.filter;
  }
  let arrayFormat;
  if (opts2.arrayFormat && opts2.arrayFormat in array_prefix_generators) {
    arrayFormat = opts2.arrayFormat;
  } else if ("indices" in opts2) {
    arrayFormat = opts2.indices ? "indices" : "repeat";
  } else {
    arrayFormat = defaults3.arrayFormat;
  }
  if ("commaRoundTrip" in opts2 && typeof opts2.commaRoundTrip !== "boolean") {
    throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
  }
  const allowDots = typeof opts2.allowDots === "undefined" ? !!opts2.encodeDotInKeys === true ? true : defaults3.allowDots : !!opts2.allowDots;
  return {
    addQueryPrefix: typeof opts2.addQueryPrefix === "boolean" ? opts2.addQueryPrefix : defaults3.addQueryPrefix,
    // @ts-ignore
    allowDots,
    allowEmptyArrays: typeof opts2.allowEmptyArrays === "boolean" ? !!opts2.allowEmptyArrays : defaults3.allowEmptyArrays,
    arrayFormat,
    charset,
    charsetSentinel: typeof opts2.charsetSentinel === "boolean" ? opts2.charsetSentinel : defaults3.charsetSentinel,
    commaRoundTrip: !!opts2.commaRoundTrip,
    delimiter: typeof opts2.delimiter === "undefined" ? defaults3.delimiter : opts2.delimiter,
    encode: typeof opts2.encode === "boolean" ? opts2.encode : defaults3.encode,
    encodeDotInKeys: typeof opts2.encodeDotInKeys === "boolean" ? opts2.encodeDotInKeys : defaults3.encodeDotInKeys,
    encoder: typeof opts2.encoder === "function" ? opts2.encoder : defaults3.encoder,
    encodeValuesOnly: typeof opts2.encodeValuesOnly === "boolean" ? opts2.encodeValuesOnly : defaults3.encodeValuesOnly,
    filter: filter2,
    format,
    formatter,
    serializeDate: typeof opts2.serializeDate === "function" ? opts2.serializeDate : defaults3.serializeDate,
    skipNulls: typeof opts2.skipNulls === "boolean" ? opts2.skipNulls : defaults3.skipNulls,
    // @ts-ignore
    sort: typeof opts2.sort === "function" ? opts2.sort : null,
    strictNullHandling: typeof opts2.strictNullHandling === "boolean" ? opts2.strictNullHandling : defaults3.strictNullHandling
  };
}
function stringify(object, opts2 = {}) {
  let obj = object;
  const options = normalize_stringify_options(opts2);
  let obj_keys;
  let filter2;
  if (typeof options.filter === "function") {
    filter2 = options.filter;
    obj = filter2("", obj);
  } else if (is_array2(options.filter)) {
    filter2 = options.filter;
    obj_keys = filter2;
  }
  const keys = [];
  if (typeof obj !== "object" || obj === null) {
    return "";
  }
  const generateArrayPrefix = array_prefix_generators[options.arrayFormat];
  const commaRoundTrip = generateArrayPrefix === "comma" && options.commaRoundTrip;
  if (!obj_keys) {
    obj_keys = Object.keys(obj);
  }
  if (options.sort) {
    obj_keys.sort(options.sort);
  }
  const sideChannel = /* @__PURE__ */ new WeakMap();
  for (let i3 = 0; i3 < obj_keys.length; ++i3) {
    const key = obj_keys[i3];
    if (options.skipNulls && obj[key] === null) {
      continue;
    }
    push_to_array(keys, inner_stringify(
      obj[key],
      key,
      // @ts-expect-error
      generateArrayPrefix,
      commaRoundTrip,
      options.allowEmptyArrays,
      options.strictNullHandling,
      options.skipNulls,
      options.encodeDotInKeys,
      options.encode ? options.encoder : null,
      options.filter,
      options.sort,
      options.allowDots,
      options.serializeDate,
      options.format,
      options.formatter,
      options.encodeValuesOnly,
      options.charset,
      sideChannel
    ));
  }
  const joined = keys.join(options.delimiter);
  let prefix2 = options.addQueryPrefix === true ? "?" : "";
  if (options.charsetSentinel) {
    if (options.charset === "iso-8859-1") {
      prefix2 += "utf8=%26%2310003%3B&";
    } else {
      prefix2 += "utf8=%E2%9C%93&";
    }
  }
  return joined.length > 0 ? prefix2 + joined : "";
}

// node_modules/openai/version.mjs
var VERSION = "4.88.0";

// node_modules/openai/_shims/registry.mjs
var auto = false;
var kind = void 0;
var fetch3 = void 0;
var Request3 = void 0;
var Response3 = void 0;
var Headers3 = void 0;
var FormData2 = void 0;
var Blob2 = void 0;
var File2 = void 0;
var ReadableStream2 = void 0;
var getMultipartRequestOptions = void 0;
var getDefaultAgent = void 0;
var fileFromPath = void 0;
var isFsReadStream = void 0;
function setShims(shims, options = { auto: false }) {
  if (auto) {
    throw new Error(`you must \`import 'openai/shims/${shims.kind}'\` before importing anything else from openai`);
  }
  if (kind) {
    throw new Error(`can't \`import 'openai/shims/${shims.kind}'\` after \`import 'openai/shims/${kind}'\``);
  }
  auto = options.auto;
  kind = shims.kind;
  fetch3 = shims.fetch;
  Request3 = shims.Request;
  Response3 = shims.Response;
  Headers3 = shims.Headers;
  FormData2 = shims.FormData;
  Blob2 = shims.Blob;
  File2 = shims.File;
  ReadableStream2 = shims.ReadableStream;
  getMultipartRequestOptions = shims.getMultipartRequestOptions;
  getDefaultAgent = shims.getDefaultAgent;
  fileFromPath = shims.fileFromPath;
  isFsReadStream = shims.isFsReadStream;
}

// node_modules/openai/_shims/MultipartBody.mjs
var MultipartBody = class {
  constructor(body) {
    this.body = body;
  }
  get [Symbol.toStringTag]() {
    return "MultipartBody";
  }
};

// node_modules/openai/_shims/web-runtime.mjs
function getRuntime({ manuallyImported } = {}) {
  const recommendation = manuallyImported ? `You may need to use polyfills` : `Add one of these imports before your first \`import \u2026 from 'openai'\`:
- \`import 'openai/shims/node'\` (if you're running on Node)
- \`import 'openai/shims/web'\` (otherwise)
`;
  let _fetch, _Request, _Response, _Headers;
  try {
    _fetch = fetch;
    _Request = Request;
    _Response = Response;
    _Headers = Headers;
  } catch (error) {
    throw new Error(`this environment is missing the following Web Fetch API type: ${error.message}. ${recommendation}`);
  }
  return {
    kind: "web",
    fetch: _fetch,
    Request: _Request,
    Response: _Response,
    Headers: _Headers,
    FormData: (
      // @ts-ignore
      typeof FormData !== "undefined" ? FormData : class FormData {
        // @ts-ignore
        constructor() {
          throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${recommendation}`);
        }
      }
    ),
    Blob: typeof Blob !== "undefined" ? Blob : class Blob {
      constructor() {
        throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${recommendation}`);
      }
    },
    File: (
      // @ts-ignore
      typeof File !== "undefined" ? File : class File {
        // @ts-ignore
        constructor() {
          throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${recommendation}`);
        }
      }
    ),
    ReadableStream: (
      // @ts-ignore
      typeof ReadableStream !== "undefined" ? ReadableStream : class ReadableStream {
        // @ts-ignore
        constructor() {
          throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${recommendation}`);
        }
      }
    ),
    getMultipartRequestOptions: async (form, opts2) => ({
      ...opts2,
      body: new MultipartBody(form)
    }),
    getDefaultAgent: (url) => void 0,
    fileFromPath: () => {
      throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads");
    },
    isFsReadStream: (value) => false
  };
}

// node_modules/openai/_shims/index.mjs
if (!kind)
  setShims(getRuntime(), { auto: true });

// node_modules/openai/error.mjs
var OpenAIError = class extends Error {
};
var APIError = class extends OpenAIError {
  constructor(status, error, message, headers) {
    super(`${APIError.makeMessage(status, error, message)}`);
    this.status = status;
    this.headers = headers;
    this.request_id = headers == null ? void 0 : headers["x-request-id"];
    this.error = error;
    const data = error;
    this.code = data == null ? void 0 : data["code"];
    this.param = data == null ? void 0 : data["param"];
    this.type = data == null ? void 0 : data["type"];
  }
  static makeMessage(status, error, message) {
    const msg = (error == null ? void 0 : error.message) ? typeof error.message === "string" ? error.message : JSON.stringify(error.message) : error ? JSON.stringify(error) : message;
    if (status && msg) {
      return `${status} ${msg}`;
    }
    if (status) {
      return `${status} status code (no body)`;
    }
    if (msg) {
      return msg;
    }
    return "(no status code or body)";
  }
  static generate(status, errorResponse, message, headers) {
    if (!status || !headers) {
      return new APIConnectionError({ message, cause: castToError(errorResponse) });
    }
    const error = errorResponse == null ? void 0 : errorResponse["error"];
    if (status === 400) {
      return new BadRequestError(status, error, message, headers);
    }
    if (status === 401) {
      return new AuthenticationError(status, error, message, headers);
    }
    if (status === 403) {
      return new PermissionDeniedError(status, error, message, headers);
    }
    if (status === 404) {
      return new NotFoundError(status, error, message, headers);
    }
    if (status === 409) {
      return new ConflictError(status, error, message, headers);
    }
    if (status === 422) {
      return new UnprocessableEntityError(status, error, message, headers);
    }
    if (status === 429) {
      return new RateLimitError(status, error, message, headers);
    }
    if (status >= 500) {
      return new InternalServerError(status, error, message, headers);
    }
    return new APIError(status, error, message, headers);
  }
};
var APIUserAbortError = class extends APIError {
  constructor({ message } = {}) {
    super(void 0, void 0, message || "Request was aborted.", void 0);
  }
};
var APIConnectionError = class extends APIError {
  constructor({ message, cause }) {
    super(void 0, void 0, message || "Connection error.", void 0);
    if (cause)
      this.cause = cause;
  }
};
var APIConnectionTimeoutError = class extends APIConnectionError {
  constructor({ message } = {}) {
    super({ message: message != null ? message : "Request timed out." });
  }
};
var BadRequestError = class extends APIError {
};
var AuthenticationError = class extends APIError {
};
var PermissionDeniedError = class extends APIError {
};
var NotFoundError = class extends APIError {
};
var ConflictError = class extends APIError {
};
var UnprocessableEntityError = class extends APIError {
};
var RateLimitError = class extends APIError {
};
var InternalServerError = class extends APIError {
};
var LengthFinishReasonError = class extends OpenAIError {
  constructor() {
    super(`Could not parse response content as the length limit was reached`);
  }
};
var ContentFilterFinishReasonError = class extends OpenAIError {
  constructor() {
    super(`Could not parse response content as the request was rejected by the content filter`);
  }
};

// node_modules/openai/internal/decoders/line.mjs
var __classPrivateFieldSet = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _LineDecoder_carriageReturnIndex;
var LineDecoder = class {
  constructor() {
    _LineDecoder_carriageReturnIndex.set(this, void 0);
    this.buffer = new Uint8Array();
    __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, "f");
  }
  decode(chunk) {
    if (chunk == null) {
      return [];
    }
    const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === "string" ? new TextEncoder().encode(chunk) : chunk;
    let newData = new Uint8Array(this.buffer.length + binaryChunk.length);
    newData.set(this.buffer);
    newData.set(binaryChunk, this.buffer.length);
    this.buffer = newData;
    const lines = [];
    let patternIndex;
    while ((patternIndex = findNewlineIndex(this.buffer, __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f"))) != null) {
      if (patternIndex.carriage && __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f") == null) {
        __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, patternIndex.index, "f");
        continue;
      }
      if (__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f") != null && (patternIndex.index !== __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f") + 1 || patternIndex.carriage)) {
        lines.push(this.decodeText(this.buffer.slice(0, __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f") - 1)));
        this.buffer = this.buffer.slice(__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f"));
        __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, "f");
        continue;
      }
      const endIndex = __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, "f") !== null ? patternIndex.preceding - 1 : patternIndex.preceding;
      const line = this.decodeText(this.buffer.slice(0, endIndex));
      lines.push(line);
      this.buffer = this.buffer.slice(patternIndex.index);
      __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, "f");
    }
    return lines;
  }
  decodeText(bytes) {
    var _a2;
    if (bytes == null)
      return "";
    if (typeof bytes === "string")
      return bytes;
    if (typeof Buffer !== "undefined") {
      if (bytes instanceof Buffer) {
        return bytes.toString();
      }
      if (bytes instanceof Uint8Array) {
        return Buffer.from(bytes).toString();
      }
      throw new OpenAIError(`Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`);
    }
    if (typeof TextDecoder !== "undefined") {
      if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {
        (_a2 = this.textDecoder) != null ? _a2 : this.textDecoder = new TextDecoder("utf8");
        return this.textDecoder.decode(bytes);
      }
      throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`);
    }
    throw new OpenAIError(`Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`);
  }
  flush() {
    if (!this.buffer.length) {
      return [];
    }
    return this.decode("\n");
  }
};
_LineDecoder_carriageReturnIndex = /* @__PURE__ */ new WeakMap();
LineDecoder.NEWLINE_CHARS = /* @__PURE__ */ new Set(["\n", "\r"]);
LineDecoder.NEWLINE_REGEXP = /\r\n|[\n\r]/g;
function findNewlineIndex(buffer, startIndex) {
  const newline = 10;
  const carriage = 13;
  for (let i3 = startIndex != null ? startIndex : 0; i3 < buffer.length; i3++) {
    if (buffer[i3] === newline) {
      return { preceding: i3, index: i3 + 1, carriage: false };
    }
    if (buffer[i3] === carriage) {
      return { preceding: i3, index: i3 + 1, carriage: true };
    }
  }
  return null;
}
function findDoubleNewlineIndex(buffer) {
  const newline = 10;
  const carriage = 13;
  for (let i3 = 0; i3 < buffer.length - 1; i3++) {
    if (buffer[i3] === newline && buffer[i3 + 1] === newline) {
      return i3 + 2;
    }
    if (buffer[i3] === carriage && buffer[i3 + 1] === carriage) {
      return i3 + 2;
    }
    if (buffer[i3] === carriage && buffer[i3 + 1] === newline && i3 + 3 < buffer.length && buffer[i3 + 2] === carriage && buffer[i3 + 3] === newline) {
      return i3 + 4;
    }
  }
  return -1;
}

// node_modules/openai/internal/stream-utils.mjs
function ReadableStreamToAsyncIterable(stream) {
  if (stream[Symbol.asyncIterator])
    return stream;
  const reader = stream.getReader();
  return {
    async next() {
      try {
        const result = await reader.read();
        if (result == null ? void 0 : result.done)
          reader.releaseLock();
        return result;
      } catch (e2) {
        reader.releaseLock();
        throw e2;
      }
    },
    async return() {
      const cancelPromise = reader.cancel();
      reader.releaseLock();
      await cancelPromise;
      return { done: true, value: void 0 };
    },
    [Symbol.asyncIterator]() {
      return this;
    }
  };
}

// node_modules/openai/streaming.mjs
var Stream = class {
  constructor(iterator, controller) {
    this.iterator = iterator;
    this.controller = controller;
  }
  static fromSSEResponse(response, controller) {
    let consumed2 = false;
    async function* iterator() {
      if (consumed2) {
        throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
      }
      consumed2 = true;
      let done = false;
      try {
        for await (const sse of _iterSSEMessages(response, controller)) {
          if (done)
            continue;
          if (sse.data.startsWith("[DONE]")) {
            done = true;
            continue;
          }
          if (sse.event === null || sse.event.startsWith("response.")) {
            let data;
            try {
              data = JSON.parse(sse.data);
            } catch (e2) {
              console.error(`Could not parse message into JSON:`, sse.data);
              console.error(`From chunk:`, sse.raw);
              throw e2;
            }
            if (data && data.error) {
              throw new APIError(void 0, data.error, void 0, void 0);
            }
            yield data;
          } else {
            let data;
            try {
              data = JSON.parse(sse.data);
            } catch (e2) {
              console.error(`Could not parse message into JSON:`, sse.data);
              console.error(`From chunk:`, sse.raw);
              throw e2;
            }
            if (sse.event == "error") {
              throw new APIError(void 0, data.error, data.message, void 0);
            }
            yield { event: sse.event, data };
          }
        }
        done = true;
      } catch (e2) {
        if (e2 instanceof Error && e2.name === "AbortError")
          return;
        throw e2;
      } finally {
        if (!done)
          controller.abort();
      }
    }
    return new Stream(iterator, controller);
  }
  /**
   * Generates a Stream from a newline-separated ReadableStream
   * where each item is a JSON value.
   */
  static fromReadableStream(readableStream, controller) {
    let consumed2 = false;
    async function* iterLines() {
      const lineDecoder = new LineDecoder();
      const iter = ReadableStreamToAsyncIterable(readableStream);
      for await (const chunk of iter) {
        for (const line of lineDecoder.decode(chunk)) {
          yield line;
        }
      }
      for (const line of lineDecoder.flush()) {
        yield line;
      }
    }
    async function* iterator() {
      if (consumed2) {
        throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
      }
      consumed2 = true;
      let done = false;
      try {
        for await (const line of iterLines()) {
          if (done)
            continue;
          if (line)
            yield JSON.parse(line);
        }
        done = true;
      } catch (e2) {
        if (e2 instanceof Error && e2.name === "AbortError")
          return;
        throw e2;
      } finally {
        if (!done)
          controller.abort();
      }
    }
    return new Stream(iterator, controller);
  }
  [Symbol.asyncIterator]() {
    return this.iterator();
  }
  /**
   * Splits the stream into two streams which can be
   * independently read from at different speeds.
   */
  tee() {
    const left = [];
    const right = [];
    const iterator = this.iterator();
    const teeIterator = (queue) => {
      return {
        next: () => {
          if (queue.length === 0) {
            const result = iterator.next();
            left.push(result);
            right.push(result);
          }
          return queue.shift();
        }
      };
    };
    return [
      new Stream(() => teeIterator(left), this.controller),
      new Stream(() => teeIterator(right), this.controller)
    ];
  }
  /**
   * Converts this stream to a newline-separated ReadableStream of
   * JSON stringified values in the stream
   * which can be turned back into a Stream with `Stream.fromReadableStream()`.
   */
  toReadableStream() {
    const self2 = this;
    let iter;
    const encoder = new TextEncoder();
    return new ReadableStream2({
      async start() {
        iter = self2[Symbol.asyncIterator]();
      },
      async pull(ctrl) {
        try {
          const { value, done } = await iter.next();
          if (done)
            return ctrl.close();
          const bytes = encoder.encode(JSON.stringify(value) + "\n");
          ctrl.enqueue(bytes);
        } catch (err) {
          ctrl.error(err);
        }
      },
      async cancel() {
        var _a2;
        await ((_a2 = iter.return) == null ? void 0 : _a2.call(iter));
      }
    });
  }
};
async function* _iterSSEMessages(response, controller) {
  if (!response.body) {
    controller.abort();
    throw new OpenAIError(`Attempted to iterate over a response with no body`);
  }
  const sseDecoder = new SSEDecoder();
  const lineDecoder = new LineDecoder();
  const iter = ReadableStreamToAsyncIterable(response.body);
  for await (const sseChunk of iterSSEChunks(iter)) {
    for (const line of lineDecoder.decode(sseChunk)) {
      const sse = sseDecoder.decode(line);
      if (sse)
        yield sse;
    }
  }
  for (const line of lineDecoder.flush()) {
    const sse = sseDecoder.decode(line);
    if (sse)
      yield sse;
  }
}
async function* iterSSEChunks(iterator) {
  let data = new Uint8Array();
  for await (const chunk of iterator) {
    if (chunk == null) {
      continue;
    }
    const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === "string" ? new TextEncoder().encode(chunk) : chunk;
    let newData = new Uint8Array(data.length + binaryChunk.length);
    newData.set(data);
    newData.set(binaryChunk, data.length);
    data = newData;
    let patternIndex;
    while ((patternIndex = findDoubleNewlineIndex(data)) !== -1) {
      yield data.slice(0, patternIndex);
      data = data.slice(patternIndex);
    }
  }
  if (data.length > 0) {
    yield data;
  }
}
var SSEDecoder = class {
  constructor() {
    this.event = null;
    this.data = [];
    this.chunks = [];
  }
  decode(line) {
    if (line.endsWith("\r")) {
      line = line.substring(0, line.length - 1);
    }
    if (!line) {
      if (!this.event && !this.data.length)
        return null;
      const sse = {
        event: this.event,
        data: this.data.join("\n"),
        raw: this.chunks
      };
      this.event = null;
      this.data = [];
      this.chunks = [];
      return sse;
    }
    this.chunks.push(line);
    if (line.startsWith(":")) {
      return null;
    }
    let [fieldname, _2, value] = partition(line, ":");
    if (value.startsWith(" ")) {
      value = value.substring(1);
    }
    if (fieldname === "event") {
      this.event = value;
    } else if (fieldname === "data") {
      this.data.push(value);
    }
    return null;
  }
};
function partition(str2, delimiter) {
  const index4 = str2.indexOf(delimiter);
  if (index4 !== -1) {
    return [str2.substring(0, index4), delimiter, str2.substring(index4 + delimiter.length)];
  }
  return [str2, "", ""];
}

// node_modules/openai/uploads.mjs
var isResponseLike = (value) => value != null && typeof value === "object" && typeof value.url === "string" && typeof value.blob === "function";
var isFileLike = (value) => value != null && typeof value === "object" && typeof value.name === "string" && typeof value.lastModified === "number" && isBlobLike(value);
var isBlobLike = (value) => value != null && typeof value === "object" && typeof value.size === "number" && typeof value.type === "string" && typeof value.text === "function" && typeof value.slice === "function" && typeof value.arrayBuffer === "function";
var isUploadable = (value) => {
  return isFileLike(value) || isResponseLike(value) || isFsReadStream(value);
};
async function toFile(value, name, options) {
  var _a2, _b, _c;
  value = await value;
  if (isFileLike(value)) {
    return value;
  }
  if (isResponseLike(value)) {
    const blob = await value.blob();
    name || (name = (_a2 = new URL(value.url).pathname.split(/[\\/]/).pop()) != null ? _a2 : "unknown_file");
    const data = isBlobLike(blob) ? [await blob.arrayBuffer()] : [blob];
    return new File2(data, name, options);
  }
  const bits = await getBytes(value);
  name || (name = (_b = getName(value)) != null ? _b : "unknown_file");
  if (!(options == null ? void 0 : options.type)) {
    const type = (_c = bits[0]) == null ? void 0 : _c.type;
    if (typeof type === "string") {
      options = { ...options, type };
    }
  }
  return new File2(bits, name, options);
}
async function getBytes(value) {
  var _a2;
  let parts = [];
  if (typeof value === "string" || ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.
  value instanceof ArrayBuffer) {
    parts.push(value);
  } else if (isBlobLike(value)) {
    parts.push(await value.arrayBuffer());
  } else if (isAsyncIterableIterator(value)) {
    for await (const chunk of value) {
      parts.push(chunk);
    }
  } else {
    throw new Error(`Unexpected data type: ${typeof value}; constructor: ${(_a2 = value == null ? void 0 : value.constructor) == null ? void 0 : _a2.name}; props: ${propsForError(value)}`);
  }
  return parts;
}
function propsForError(value) {
  const props = Object.getOwnPropertyNames(value);
  return `[${props.map((p2) => `"${p2}"`).join(", ")}]`;
}
function getName(value) {
  var _a2;
  return getStringFromMaybeBuffer(value.name) || getStringFromMaybeBuffer(value.filename) || // For fs.ReadStream
  ((_a2 = getStringFromMaybeBuffer(value.path)) == null ? void 0 : _a2.split(/[\\/]/).pop());
}
var getStringFromMaybeBuffer = (x) => {
  if (typeof x === "string")
    return x;
  if (typeof Buffer !== "undefined" && x instanceof Buffer)
    return String(x);
  return void 0;
};
var isAsyncIterableIterator = (value) => value != null && typeof value === "object" && typeof value[Symbol.asyncIterator] === "function";
var isMultipartBody = (body) => body && typeof body === "object" && body.body && body[Symbol.toStringTag] === "MultipartBody";
var multipartFormRequestOptions = async (opts2) => {
  const form = await createForm(opts2.body);
  return getMultipartRequestOptions(form, opts2);
};
var createForm = async (body) => {
  const form = new FormData2();
  await Promise.all(Object.entries(body || {}).map(([key, value]) => addFormValue(form, key, value)));
  return form;
};
var addFormValue = async (form, key, value) => {
  if (value === void 0)
    return;
  if (value == null) {
    throw new TypeError(`Received null for "${key}"; to pass null in FormData, you must use the string 'null'`);
  }
  if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
    form.append(key, String(value));
  } else if (isUploadable(value)) {
    const file = await toFile(value);
    form.append(key, file);
  } else if (Array.isArray(value)) {
    await Promise.all(value.map((entry) => addFormValue(form, key + "[]", entry)));
  } else if (typeof value === "object") {
    await Promise.all(Object.entries(value).map(([name, prop]) => addFormValue(form, `${key}[${name}]`, prop)));
  } else {
    throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`);
  }
};

// node_modules/openai/core.mjs
var __classPrivateFieldSet2 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet2 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _AbstractPage_client;
async function defaultParseResponse(props) {
  var _a2;
  const { response } = props;
  if (props.options.stream) {
    debug4("response", response.status, response.url, response.headers, response.body);
    if (props.options.__streamClass) {
      return props.options.__streamClass.fromSSEResponse(response, props.controller);
    }
    return Stream.fromSSEResponse(response, props.controller);
  }
  if (response.status === 204) {
    return null;
  }
  if (props.options.__binaryResponse) {
    return response;
  }
  const contentType = response.headers.get("content-type");
  const mediaType = (_a2 = contentType == null ? void 0 : contentType.split(";")[0]) == null ? void 0 : _a2.trim();
  const isJSON = (mediaType == null ? void 0 : mediaType.includes("application/json")) || (mediaType == null ? void 0 : mediaType.endsWith("+json"));
  if (isJSON) {
    const json = await response.json();
    debug4("response", response.status, response.url, response.headers, json);
    return _addRequestID(json, response);
  }
  const text = await response.text();
  debug4("response", response.status, response.url, response.headers, text);
  return text;
}
function _addRequestID(value, response) {
  if (!value || typeof value !== "object" || Array.isArray(value)) {
    return value;
  }
  return Object.defineProperty(value, "_request_id", {
    value: response.headers.get("x-request-id"),
    enumerable: false
  });
}
var APIPromise = class extends Promise {
  constructor(responsePromise, parseResponse2 = defaultParseResponse) {
    super((resolve2) => {
      resolve2(null);
    });
    this.responsePromise = responsePromise;
    this.parseResponse = parseResponse2;
  }
  _thenUnwrap(transform) {
    return new APIPromise(this.responsePromise, async (props) => _addRequestID(transform(await this.parseResponse(props), props), props.response));
  }
  /**
   * Gets the raw `Response` instance instead of parsing the response
   * data.
   *
   * If you want to parse the response body but still get the `Response`
   * instance, you can use {@link withResponse()}.
   *
   * ðŸ‘‹ Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` if you can,
   * or add one of these imports before your first `import â€¦ from 'openai'`:
   * - `import 'openai/shims/node'` (if you're running on Node)
   * - `import 'openai/shims/web'` (otherwise)
   */
  asResponse() {
    return this.responsePromise.then((p2) => p2.response);
  }
  /**
   * Gets the parsed response data, the raw `Response` instance and the ID of the request,
   * returned via the X-Request-ID header which is useful for debugging requests and reporting
   * issues to OpenAI.
   *
   * If you just want to get the raw `Response` instance without parsing it,
   * you can use {@link asResponse()}.
   *
   *
   * ðŸ‘‹ Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` if you can,
   * or add one of these imports before your first `import â€¦ from 'openai'`:
   * - `import 'openai/shims/node'` (if you're running on Node)
   * - `import 'openai/shims/web'` (otherwise)
   */
  async withResponse() {
    const [data, response] = await Promise.all([this.parse(), this.asResponse()]);
    return { data, response, request_id: response.headers.get("x-request-id") };
  }
  parse() {
    if (!this.parsedPromise) {
      this.parsedPromise = this.responsePromise.then(this.parseResponse);
    }
    return this.parsedPromise;
  }
  then(onfulfilled, onrejected) {
    return this.parse().then(onfulfilled, onrejected);
  }
  catch(onrejected) {
    return this.parse().catch(onrejected);
  }
  finally(onfinally) {
    return this.parse().finally(onfinally);
  }
};
var APIClient = class {
  constructor({
    baseURL,
    maxRetries = 2,
    timeout = 6e5,
    // 10 minutes
    httpAgent,
    fetch: overriddenFetch
  }) {
    this.baseURL = baseURL;
    this.maxRetries = validatePositiveInteger("maxRetries", maxRetries);
    this.timeout = validatePositiveInteger("timeout", timeout);
    this.httpAgent = httpAgent;
    this.fetch = overriddenFetch != null ? overriddenFetch : fetch3;
  }
  authHeaders(opts2) {
    return {};
  }
  /**
   * Override this to add your own default headers, for example:
   *
   *  {
   *    ...super.defaultHeaders(),
   *    Authorization: 'Bearer 123',
   *  }
   */
  defaultHeaders(opts2) {
    return {
      Accept: "application/json",
      "Content-Type": "application/json",
      "User-Agent": this.getUserAgent(),
      ...getPlatformHeaders(),
      ...this.authHeaders(opts2)
    };
  }
  /**
   * Override this to add your own headers validation:
   */
  validateHeaders(headers, customHeaders) {
  }
  defaultIdempotencyKey() {
    return `stainless-node-retry-${uuid4()}`;
  }
  get(path, opts2) {
    return this.methodRequest("get", path, opts2);
  }
  post(path, opts2) {
    return this.methodRequest("post", path, opts2);
  }
  patch(path, opts2) {
    return this.methodRequest("patch", path, opts2);
  }
  put(path, opts2) {
    return this.methodRequest("put", path, opts2);
  }
  delete(path, opts2) {
    return this.methodRequest("delete", path, opts2);
  }
  methodRequest(method, path, opts2) {
    return this.request(Promise.resolve(opts2).then(async (opts3) => {
      const body = opts3 && isBlobLike(opts3 == null ? void 0 : opts3.body) ? new DataView(await opts3.body.arrayBuffer()) : (opts3 == null ? void 0 : opts3.body) instanceof DataView ? opts3.body : (opts3 == null ? void 0 : opts3.body) instanceof ArrayBuffer ? new DataView(opts3.body) : opts3 && ArrayBuffer.isView(opts3 == null ? void 0 : opts3.body) ? new DataView(opts3.body.buffer) : opts3 == null ? void 0 : opts3.body;
      return { method, path, ...opts3, body };
    }));
  }
  getAPIList(path, Page2, opts2) {
    return this.requestAPIList(Page2, { method: "get", path, ...opts2 });
  }
  calculateContentLength(body) {
    if (typeof body === "string") {
      if (typeof Buffer !== "undefined") {
        return Buffer.byteLength(body, "utf8").toString();
      }
      if (typeof TextEncoder !== "undefined") {
        const encoder = new TextEncoder();
        const encoded = encoder.encode(body);
        return encoded.length.toString();
      }
    } else if (ArrayBuffer.isView(body)) {
      return body.byteLength.toString();
    }
    return null;
  }
  buildRequest(options, { retryCount = 0 } = {}) {
    var _a2, _b, _c, _d, _e, _f;
    options = { ...options };
    const { method, path, query, headers = {} } = options;
    const body = ArrayBuffer.isView(options.body) || options.__binaryRequest && typeof options.body === "string" ? options.body : isMultipartBody(options.body) ? options.body.body : options.body ? JSON.stringify(options.body, null, 2) : null;
    const contentLength = this.calculateContentLength(body);
    const url = this.buildURL(path, query);
    if ("timeout" in options)
      validatePositiveInteger("timeout", options.timeout);
    options.timeout = (_a2 = options.timeout) != null ? _a2 : this.timeout;
    const httpAgent = (_c = (_b = options.httpAgent) != null ? _b : this.httpAgent) != null ? _c : getDefaultAgent(url);
    const minAgentTimeout = options.timeout + 1e3;
    if (typeof ((_d = httpAgent == null ? void 0 : httpAgent.options) == null ? void 0 : _d.timeout) === "number" && minAgentTimeout > ((_e = httpAgent.options.timeout) != null ? _e : 0)) {
      httpAgent.options.timeout = minAgentTimeout;
    }
    if (this.idempotencyHeader && method !== "get") {
      if (!options.idempotencyKey)
        options.idempotencyKey = this.defaultIdempotencyKey();
      headers[this.idempotencyHeader] = options.idempotencyKey;
    }
    const reqHeaders = this.buildHeaders({ options, headers, contentLength, retryCount });
    const req = {
      method,
      ...body && { body },
      headers: reqHeaders,
      ...httpAgent && { agent: httpAgent },
      // @ts-ignore node-fetch uses a custom AbortSignal type that is
      // not compatible with standard web types
      signal: (_f = options.signal) != null ? _f : null
    };
    return { req, url, timeout: options.timeout };
  }
  buildHeaders({ options, headers, contentLength, retryCount }) {
    const reqHeaders = {};
    if (contentLength) {
      reqHeaders["content-length"] = contentLength;
    }
    const defaultHeaders = this.defaultHeaders(options);
    applyHeadersMut(reqHeaders, defaultHeaders);
    applyHeadersMut(reqHeaders, headers);
    if (isMultipartBody(options.body) && kind !== "node") {
      delete reqHeaders["content-type"];
    }
    if (getHeader(defaultHeaders, "x-stainless-retry-count") === void 0 && getHeader(headers, "x-stainless-retry-count") === void 0) {
      reqHeaders["x-stainless-retry-count"] = String(retryCount);
    }
    if (getHeader(defaultHeaders, "x-stainless-timeout") === void 0 && getHeader(headers, "x-stainless-timeout") === void 0 && options.timeout) {
      reqHeaders["x-stainless-timeout"] = String(options.timeout);
    }
    this.validateHeaders(reqHeaders, headers);
    return reqHeaders;
  }
  /**
   * Used as a callback for mutating the given `FinalRequestOptions` object.
   */
  async prepareOptions(options) {
  }
  /**
   * Used as a callback for mutating the given `RequestInit` object.
   *
   * This is useful for cases where you want to add certain headers based off of
   * the request properties, e.g. `method` or `url`.
   */
  async prepareRequest(request, { url, options }) {
  }
  parseHeaders(headers) {
    return !headers ? {} : Symbol.iterator in headers ? Object.fromEntries(Array.from(headers).map((header) => [...header])) : { ...headers };
  }
  makeStatusError(status, error, message, headers) {
    return APIError.generate(status, error, message, headers);
  }
  request(options, remainingRetries = null) {
    return new APIPromise(this.makeRequest(options, remainingRetries));
  }
  async makeRequest(optionsInput, retriesRemaining) {
    var _a2, _b, _c;
    const options = await optionsInput;
    const maxRetries = (_a2 = options.maxRetries) != null ? _a2 : this.maxRetries;
    if (retriesRemaining == null) {
      retriesRemaining = maxRetries;
    }
    await this.prepareOptions(options);
    const { req, url, timeout } = this.buildRequest(options, { retryCount: maxRetries - retriesRemaining });
    await this.prepareRequest(req, { url, options });
    debug4("request", url, options, req.headers);
    if ((_b = options.signal) == null ? void 0 : _b.aborted) {
      throw new APIUserAbortError();
    }
    const controller = new AbortController();
    const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);
    if (response instanceof Error) {
      if ((_c = options.signal) == null ? void 0 : _c.aborted) {
        throw new APIUserAbortError();
      }
      if (retriesRemaining) {
        return this.retryRequest(options, retriesRemaining);
      }
      if (response.name === "AbortError") {
        throw new APIConnectionTimeoutError();
      }
      throw new APIConnectionError({ cause: response });
    }
    const responseHeaders = createResponseHeaders(response.headers);
    if (!response.ok) {
      if (retriesRemaining && this.shouldRetry(response)) {
        const retryMessage2 = `retrying, ${retriesRemaining} attempts remaining`;
        debug4(`response (error; ${retryMessage2})`, response.status, url, responseHeaders);
        return this.retryRequest(options, retriesRemaining, responseHeaders);
      }
      const errText = await response.text().catch((e2) => castToError(e2).message);
      const errJSON = safeJSON(errText);
      const errMessage = errJSON ? void 0 : errText;
      const retryMessage = retriesRemaining ? `(error; no more retries left)` : `(error; not retryable)`;
      debug4(`response (error; ${retryMessage})`, response.status, url, responseHeaders, errMessage);
      const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);
      throw err;
    }
    return { response, options, controller };
  }
  requestAPIList(Page2, options) {
    const request = this.makeRequest(options, null);
    return new PagePromise(this, request, Page2);
  }
  buildURL(path, query) {
    const url = isAbsoluteURL(path) ? new URL(path) : new URL(this.baseURL + (this.baseURL.endsWith("/") && path.startsWith("/") ? path.slice(1) : path));
    const defaultQuery = this.defaultQuery();
    if (!isEmptyObj(defaultQuery)) {
      query = { ...defaultQuery, ...query };
    }
    if (typeof query === "object" && query && !Array.isArray(query)) {
      url.search = this.stringifyQuery(query);
    }
    return url.toString();
  }
  stringifyQuery(query) {
    return Object.entries(query).filter(([_2, value]) => typeof value !== "undefined").map(([key, value]) => {
      if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;
      }
      if (value === null) {
        return `${encodeURIComponent(key)}=`;
      }
      throw new OpenAIError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);
    }).join("&");
  }
  async fetchWithTimeout(url, init, ms, controller) {
    const { signal, ...options } = init || {};
    if (signal)
      signal.addEventListener("abort", () => controller.abort());
    const timeout = setTimeout(() => controller.abort(), ms);
    const fetchOptions = {
      signal: controller.signal,
      ...options
    };
    if (fetchOptions.method) {
      fetchOptions.method = fetchOptions.method.toUpperCase();
    }
    return (
      // use undefined this binding; fetch errors if bound to something else in browser/cloudflare
      this.fetch.call(void 0, url, fetchOptions).finally(() => {
        clearTimeout(timeout);
      })
    );
  }
  shouldRetry(response) {
    const shouldRetryHeader = response.headers.get("x-should-retry");
    if (shouldRetryHeader === "true")
      return true;
    if (shouldRetryHeader === "false")
      return false;
    if (response.status === 408)
      return true;
    if (response.status === 409)
      return true;
    if (response.status === 429)
      return true;
    if (response.status >= 500)
      return true;
    return false;
  }
  async retryRequest(options, retriesRemaining, responseHeaders) {
    var _a2;
    let timeoutMillis;
    const retryAfterMillisHeader = responseHeaders == null ? void 0 : responseHeaders["retry-after-ms"];
    if (retryAfterMillisHeader) {
      const timeoutMs = parseFloat(retryAfterMillisHeader);
      if (!Number.isNaN(timeoutMs)) {
        timeoutMillis = timeoutMs;
      }
    }
    const retryAfterHeader = responseHeaders == null ? void 0 : responseHeaders["retry-after"];
    if (retryAfterHeader && !timeoutMillis) {
      const timeoutSeconds = parseFloat(retryAfterHeader);
      if (!Number.isNaN(timeoutSeconds)) {
        timeoutMillis = timeoutSeconds * 1e3;
      } else {
        timeoutMillis = Date.parse(retryAfterHeader) - Date.now();
      }
    }
    if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1e3)) {
      const maxRetries = (_a2 = options.maxRetries) != null ? _a2 : this.maxRetries;
      timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);
    }
    await sleep(timeoutMillis);
    return this.makeRequest(options, retriesRemaining - 1);
  }
  calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {
    const initialRetryDelay = 0.5;
    const maxRetryDelay = 8;
    const numRetries = maxRetries - retriesRemaining;
    const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);
    const jitter = 1 - Math.random() * 0.25;
    return sleepSeconds * jitter * 1e3;
  }
  getUserAgent() {
    return `${this.constructor.name}/JS ${VERSION}`;
  }
};
var AbstractPage = class {
  constructor(client, response, body, options) {
    _AbstractPage_client.set(this, void 0);
    __classPrivateFieldSet2(this, _AbstractPage_client, client, "f");
    this.options = options;
    this.response = response;
    this.body = body;
  }
  hasNextPage() {
    const items = this.getPaginatedItems();
    if (!items.length)
      return false;
    return this.nextPageInfo() != null;
  }
  async getNextPage() {
    const nextInfo = this.nextPageInfo();
    if (!nextInfo) {
      throw new OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");
    }
    const nextOptions = { ...this.options };
    if ("params" in nextInfo && typeof nextOptions.query === "object") {
      nextOptions.query = { ...nextOptions.query, ...nextInfo.params };
    } else if ("url" in nextInfo) {
      const params = [...Object.entries(nextOptions.query || {}), ...nextInfo.url.searchParams.entries()];
      for (const [key, value] of params) {
        nextInfo.url.searchParams.set(key, value);
      }
      nextOptions.query = void 0;
      nextOptions.path = nextInfo.url.toString();
    }
    return await __classPrivateFieldGet2(this, _AbstractPage_client, "f").requestAPIList(this.constructor, nextOptions);
  }
  async *iterPages() {
    let page = this;
    yield page;
    while (page.hasNextPage()) {
      page = await page.getNextPage();
      yield page;
    }
  }
  async *[(_AbstractPage_client = /* @__PURE__ */ new WeakMap(), Symbol.asyncIterator)]() {
    for await (const page of this.iterPages()) {
      for (const item of page.getPaginatedItems()) {
        yield item;
      }
    }
  }
};
var PagePromise = class extends APIPromise {
  constructor(client, request, Page2) {
    super(request, async (props) => new Page2(client, props.response, await defaultParseResponse(props), props.options));
  }
  /**
   * Allow auto-paginating iteration on an unawaited list call, eg:
   *
   *    for await (const item of client.items.list()) {
   *      console.log(item)
   *    }
   */
  async *[Symbol.asyncIterator]() {
    const page = await this;
    for await (const item of page) {
      yield item;
    }
  }
};
var createResponseHeaders = (headers) => {
  return new Proxy(Object.fromEntries(
    // @ts-ignore
    headers.entries()
  ), {
    get(target, name) {
      const key = name.toString();
      return target[key.toLowerCase()] || target[key];
    }
  });
};
var requestOptionsKeys = {
  method: true,
  path: true,
  query: true,
  body: true,
  headers: true,
  maxRetries: true,
  stream: true,
  timeout: true,
  httpAgent: true,
  signal: true,
  idempotencyKey: true,
  __metadata: true,
  __binaryRequest: true,
  __binaryResponse: true,
  __streamClass: true
};
var isRequestOptions = (obj) => {
  return typeof obj === "object" && obj !== null && !isEmptyObj(obj) && Object.keys(obj).every((k2) => hasOwn(requestOptionsKeys, k2));
};
var getPlatformProperties = () => {
  var _a2, _b;
  if (typeof Deno !== "undefined" && Deno.build != null) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(Deno.build.os),
      "X-Stainless-Arch": normalizeArch(Deno.build.arch),
      "X-Stainless-Runtime": "deno",
      "X-Stainless-Runtime-Version": typeof Deno.version === "string" ? Deno.version : (_b = (_a2 = Deno.version) == null ? void 0 : _a2.deno) != null ? _b : "unknown"
    };
  }
  if (typeof EdgeRuntime !== "undefined") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": `other:${EdgeRuntime}`,
      "X-Stainless-Runtime": "edge",
      "X-Stainless-Runtime-Version": process.version
    };
  }
  if (Object.prototype.toString.call(typeof process !== "undefined" ? process : 0) === "[object process]") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(process.platform),
      "X-Stainless-Arch": normalizeArch(process.arch),
      "X-Stainless-Runtime": "node",
      "X-Stainless-Runtime-Version": process.version
    };
  }
  const browserInfo = getBrowserInfo();
  if (browserInfo) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": "unknown",
      "X-Stainless-Runtime": `browser:${browserInfo.browser}`,
      "X-Stainless-Runtime-Version": browserInfo.version
    };
  }
  return {
    "X-Stainless-Lang": "js",
    "X-Stainless-Package-Version": VERSION,
    "X-Stainless-OS": "Unknown",
    "X-Stainless-Arch": "unknown",
    "X-Stainless-Runtime": "unknown",
    "X-Stainless-Runtime-Version": "unknown"
  };
};
function getBrowserInfo() {
  if (typeof navigator === "undefined" || !navigator) {
    return null;
  }
  const browserPatterns = [
    { key: "edge", pattern: /Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "chrome", pattern: /Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "firefox", pattern: /Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "safari", pattern: /(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/ }
  ];
  for (const { key, pattern } of browserPatterns) {
    const match2 = pattern.exec(navigator.userAgent);
    if (match2) {
      const major = match2[1] || 0;
      const minor = match2[2] || 0;
      const patch = match2[3] || 0;
      return { browser: key, version: `${major}.${minor}.${patch}` };
    }
  }
  return null;
}
var normalizeArch = (arch) => {
  if (arch === "x32")
    return "x32";
  if (arch === "x86_64" || arch === "x64")
    return "x64";
  if (arch === "arm")
    return "arm";
  if (arch === "aarch64" || arch === "arm64")
    return "arm64";
  if (arch)
    return `other:${arch}`;
  return "unknown";
};
var normalizePlatform = (platform) => {
  platform = platform.toLowerCase();
  if (platform.includes("ios"))
    return "iOS";
  if (platform === "android")
    return "Android";
  if (platform === "darwin")
    return "MacOS";
  if (platform === "win32")
    return "Windows";
  if (platform === "freebsd")
    return "FreeBSD";
  if (platform === "openbsd")
    return "OpenBSD";
  if (platform === "linux")
    return "Linux";
  if (platform)
    return `Other:${platform}`;
  return "Unknown";
};
var _platformHeaders;
var getPlatformHeaders = () => {
  return _platformHeaders != null ? _platformHeaders : _platformHeaders = getPlatformProperties();
};
var safeJSON = (text) => {
  try {
    return JSON.parse(text);
  } catch (err) {
    return void 0;
  }
};
var startsWithSchemeRegexp = /^[a-z][a-z0-9+.-]*:/i;
var isAbsoluteURL = (url) => {
  return startsWithSchemeRegexp.test(url);
};
var sleep = (ms) => new Promise((resolve2) => setTimeout(resolve2, ms));
var validatePositiveInteger = (name, n2) => {
  if (typeof n2 !== "number" || !Number.isInteger(n2)) {
    throw new OpenAIError(`${name} must be an integer`);
  }
  if (n2 < 0) {
    throw new OpenAIError(`${name} must be a positive integer`);
  }
  return n2;
};
var castToError = (err) => {
  if (err instanceof Error)
    return err;
  if (typeof err === "object" && err !== null) {
    try {
      return new Error(JSON.stringify(err));
    } catch (e2) {
    }
  }
  return new Error(err);
};
var readEnv = (env) => {
  var _a2, _b, _c, _d, _e, _f;
  if (typeof process !== "undefined") {
    return (_c = (_b = (_a2 = process.env) == null ? void 0 : _a2[env]) == null ? void 0 : _b.trim()) != null ? _c : void 0;
  }
  if (typeof Deno !== "undefined") {
    return (_f = (_e = (_d = Deno.env) == null ? void 0 : _d.get) == null ? void 0 : _e.call(_d, env)) == null ? void 0 : _f.trim();
  }
  return void 0;
};
function isEmptyObj(obj) {
  if (!obj)
    return true;
  for (const _k in obj)
    return false;
  return true;
}
function hasOwn(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
}
function applyHeadersMut(targetHeaders, newHeaders) {
  for (const k2 in newHeaders) {
    if (!hasOwn(newHeaders, k2))
      continue;
    const lowerKey = k2.toLowerCase();
    if (!lowerKey)
      continue;
    const val = newHeaders[k2];
    if (val === null) {
      delete targetHeaders[lowerKey];
    } else if (val !== void 0) {
      targetHeaders[lowerKey] = val;
    }
  }
}
var SENSITIVE_HEADERS = /* @__PURE__ */ new Set(["authorization", "api-key"]);
function debug4(action, ...args) {
  var _a2;
  if (typeof process !== "undefined" && ((_a2 = process == null ? void 0 : process.env) == null ? void 0 : _a2["DEBUG"]) === "true") {
    const modifiedArgs = args.map((arg) => {
      if (!arg) {
        return arg;
      }
      if (arg["headers"]) {
        const modifiedArg2 = { ...arg, headers: { ...arg["headers"] } };
        for (const header in arg["headers"]) {
          if (SENSITIVE_HEADERS.has(header.toLowerCase())) {
            modifiedArg2["headers"][header] = "REDACTED";
          }
        }
        return modifiedArg2;
      }
      let modifiedArg = null;
      for (const header in arg) {
        if (SENSITIVE_HEADERS.has(header.toLowerCase())) {
          modifiedArg != null ? modifiedArg : modifiedArg = { ...arg };
          modifiedArg[header] = "REDACTED";
        }
      }
      return modifiedArg != null ? modifiedArg : arg;
    });
    console.log(`OpenAI:DEBUG:${action}`, ...modifiedArgs);
  }
}
var uuid4 = () => {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (c2) => {
    const r2 = Math.random() * 16 | 0;
    const v = c2 === "x" ? r2 : r2 & 3 | 8;
    return v.toString(16);
  });
};
var isRunningInBrowser = () => {
  return (
    // @ts-ignore
    typeof window !== "undefined" && // @ts-ignore
    typeof window.document !== "undefined" && // @ts-ignore
    typeof navigator !== "undefined"
  );
};
var isHeadersProtocol = (headers) => {
  return typeof (headers == null ? void 0 : headers.get) === "function";
};
var getHeader = (headers, header) => {
  var _a2;
  const lowerCasedHeader = header.toLowerCase();
  if (isHeadersProtocol(headers)) {
    const intercapsHeader = ((_a2 = header[0]) == null ? void 0 : _a2.toUpperCase()) + header.substring(1).replace(/([^\w])(\w)/g, (_m, g1, g22) => g1 + g22.toUpperCase());
    for (const key of [header, lowerCasedHeader, header.toUpperCase(), intercapsHeader]) {
      const value = headers.get(key);
      if (value) {
        return value;
      }
    }
  }
  for (const [key, value] of Object.entries(headers)) {
    if (key.toLowerCase() === lowerCasedHeader) {
      if (Array.isArray(value)) {
        if (value.length <= 1)
          return value[0];
        console.warn(`Received ${value.length} entries for the ${header} header, using the first entry.`);
        return value[0];
      }
      return value;
    }
  }
  return void 0;
};
function isObj(obj) {
  return obj != null && typeof obj === "object" && !Array.isArray(obj);
}

// node_modules/openai/pagination.mjs
var Page = class extends AbstractPage {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data || [];
    this.object = body.object;
  }
  getPaginatedItems() {
    var _a2;
    return (_a2 = this.data) != null ? _a2 : [];
  }
  // @deprecated Please use `nextPageInfo()` instead
  /**
   * This page represents a response that isn't actually paginated at the API level
   * so there will never be any next page params.
   */
  nextPageParams() {
    return null;
  }
  nextPageInfo() {
    return null;
  }
};
var CursorPage = class extends AbstractPage {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data || [];
    this.has_more = body.has_more || false;
  }
  getPaginatedItems() {
    var _a2;
    return (_a2 = this.data) != null ? _a2 : [];
  }
  hasNextPage() {
    if (this.has_more === false) {
      return false;
    }
    return super.hasNextPage();
  }
  // @deprecated Please use `nextPageInfo()` instead
  nextPageParams() {
    const info = this.nextPageInfo();
    if (!info)
      return null;
    if ("params" in info)
      return info.params;
    const params = Object.fromEntries(info.url.searchParams);
    if (!Object.keys(params).length)
      return null;
    return params;
  }
  nextPageInfo() {
    var _a2;
    const data = this.getPaginatedItems();
    if (!data.length) {
      return null;
    }
    const id = (_a2 = data[data.length - 1]) == null ? void 0 : _a2.id;
    if (!id) {
      return null;
    }
    return { params: { after: id } };
  }
};

// node_modules/openai/resource.mjs
var APIResource = class {
  constructor(client) {
    this._client = client;
  }
};

// node_modules/openai/resources/chat/completions/messages.mjs
var Messages = class extends APIResource {
  list(completionId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(completionId, {}, query);
    }
    return this._client.getAPIList(`/chat/completions/${completionId}/messages`, ChatCompletionStoreMessagesPage, { query, ...options });
  }
};

// node_modules/openai/resources/chat/completions/completions.mjs
var Completions = class extends APIResource {
  constructor() {
    super(...arguments);
    this.messages = new Messages(this._client);
  }
  create(body, options) {
    var _a2;
    return this._client.post("/chat/completions", { body, ...options, stream: (_a2 = body.stream) != null ? _a2 : false });
  }
  /**
   * Get a stored chat completion. Only Chat Completions that have been created with
   * the `store` parameter set to `true` will be returned.
   */
  retrieve(completionId, options) {
    return this._client.get(`/chat/completions/${completionId}`, options);
  }
  /**
   * Modify a stored chat completion. Only Chat Completions that have been created
   * with the `store` parameter set to `true` can be modified. Currently, the only
   * supported modification is to update the `metadata` field.
   */
  update(completionId, body, options) {
    return this._client.post(`/chat/completions/${completionId}`, { body, ...options });
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/chat/completions", ChatCompletionsPage, { query, ...options });
  }
  /**
   * Delete a stored chat completion. Only Chat Completions that have been created
   * with the `store` parameter set to `true` can be deleted.
   */
  del(completionId, options) {
    return this._client.delete(`/chat/completions/${completionId}`, options);
  }
};
var ChatCompletionsPage = class extends CursorPage {
};
var ChatCompletionStoreMessagesPage = class extends CursorPage {
};
Completions.ChatCompletionsPage = ChatCompletionsPage;
Completions.Messages = Messages;

// node_modules/openai/resources/chat/chat.mjs
var Chat = class extends APIResource {
  constructor() {
    super(...arguments);
    this.completions = new Completions(this._client);
  }
};
Chat.Completions = Completions;
Chat.ChatCompletionsPage = ChatCompletionsPage;

// node_modules/openai/resources/audio/speech.mjs
var Speech = class extends APIResource {
  /**
   * Generates audio from the input text.
   */
  create(body, options) {
    return this._client.post("/audio/speech", {
      body,
      ...options,
      headers: { Accept: "application/octet-stream", ...options == null ? void 0 : options.headers },
      __binaryResponse: true
    });
  }
};

// node_modules/openai/resources/audio/transcriptions.mjs
var Transcriptions = class extends APIResource {
  create(body, options) {
    return this._client.post("/audio/transcriptions", multipartFormRequestOptions({ body, ...options, __metadata: { model: body.model } }));
  }
};

// node_modules/openai/resources/audio/translations.mjs
var Translations = class extends APIResource {
  create(body, options) {
    return this._client.post("/audio/translations", multipartFormRequestOptions({ body, ...options, __metadata: { model: body.model } }));
  }
};

// node_modules/openai/resources/audio/audio.mjs
var Audio = class extends APIResource {
  constructor() {
    super(...arguments);
    this.transcriptions = new Transcriptions(this._client);
    this.translations = new Translations(this._client);
    this.speech = new Speech(this._client);
  }
};
Audio.Transcriptions = Transcriptions;
Audio.Translations = Translations;
Audio.Speech = Speech;

// node_modules/openai/resources/batches.mjs
var Batches = class extends APIResource {
  /**
   * Creates and executes a batch from an uploaded file of requests
   */
  create(body, options) {
    return this._client.post("/batches", { body, ...options });
  }
  /**
   * Retrieves a batch.
   */
  retrieve(batchId, options) {
    return this._client.get(`/batches/${batchId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/batches", BatchesPage, { query, ...options });
  }
  /**
   * Cancels an in-progress batch. The batch will be in status `cancelling` for up to
   * 10 minutes, before changing to `cancelled`, where it will have partial results
   * (if any) available in the output file.
   */
  cancel(batchId, options) {
    return this._client.post(`/batches/${batchId}/cancel`, options);
  }
};
var BatchesPage = class extends CursorPage {
};
Batches.BatchesPage = BatchesPage;

// node_modules/openai/resources/beta/assistants.mjs
var Assistants = class extends APIResource {
  /**
   * Create an assistant with a model and instructions.
   */
  create(body, options) {
    return this._client.post("/assistants", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves an assistant.
   */
  retrieve(assistantId, options) {
    return this._client.get(`/assistants/${assistantId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies an assistant.
   */
  update(assistantId, body, options) {
    return this._client.post(`/assistants/${assistantId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/assistants", AssistantsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete an assistant.
   */
  del(assistantId, options) {
    return this._client.delete(`/assistants/${assistantId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};
var AssistantsPage = class extends CursorPage {
};
Assistants.AssistantsPage = AssistantsPage;

// node_modules/openai/lib/RunnableFunction.mjs
function isRunnableFunctionWithParse(fn) {
  return typeof fn.parse === "function";
}

// node_modules/openai/lib/chatCompletionUtils.mjs
var isAssistantMessage = (message) => {
  return (message == null ? void 0 : message.role) === "assistant";
};
var isFunctionMessage = (message) => {
  return (message == null ? void 0 : message.role) === "function";
};
var isToolMessage = (message) => {
  return (message == null ? void 0 : message.role) === "tool";
};

// node_modules/openai/lib/EventStream.mjs
var __classPrivateFieldSet3 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet3 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _EventStream_instances;
var _EventStream_connectedPromise;
var _EventStream_resolveConnectedPromise;
var _EventStream_rejectConnectedPromise;
var _EventStream_endPromise;
var _EventStream_resolveEndPromise;
var _EventStream_rejectEndPromise;
var _EventStream_listeners;
var _EventStream_ended;
var _EventStream_errored;
var _EventStream_aborted;
var _EventStream_catchingPromiseCreated;
var _EventStream_handleError;
var EventStream = class {
  constructor() {
    _EventStream_instances.add(this);
    this.controller = new AbortController();
    _EventStream_connectedPromise.set(this, void 0);
    _EventStream_resolveConnectedPromise.set(this, () => {
    });
    _EventStream_rejectConnectedPromise.set(this, () => {
    });
    _EventStream_endPromise.set(this, void 0);
    _EventStream_resolveEndPromise.set(this, () => {
    });
    _EventStream_rejectEndPromise.set(this, () => {
    });
    _EventStream_listeners.set(this, {});
    _EventStream_ended.set(this, false);
    _EventStream_errored.set(this, false);
    _EventStream_aborted.set(this, false);
    _EventStream_catchingPromiseCreated.set(this, false);
    __classPrivateFieldSet3(this, _EventStream_connectedPromise, new Promise((resolve2, reject) => {
      __classPrivateFieldSet3(this, _EventStream_resolveConnectedPromise, resolve2, "f");
      __classPrivateFieldSet3(this, _EventStream_rejectConnectedPromise, reject, "f");
    }), "f");
    __classPrivateFieldSet3(this, _EventStream_endPromise, new Promise((resolve2, reject) => {
      __classPrivateFieldSet3(this, _EventStream_resolveEndPromise, resolve2, "f");
      __classPrivateFieldSet3(this, _EventStream_rejectEndPromise, reject, "f");
    }), "f");
    __classPrivateFieldGet3(this, _EventStream_connectedPromise, "f").catch(() => {
    });
    __classPrivateFieldGet3(this, _EventStream_endPromise, "f").catch(() => {
    });
  }
  _run(executor) {
    setTimeout(() => {
      executor().then(() => {
        this._emitFinal();
        this._emit("end");
      }, __classPrivateFieldGet3(this, _EventStream_instances, "m", _EventStream_handleError).bind(this));
    }, 0);
  }
  _connected() {
    if (this.ended)
      return;
    __classPrivateFieldGet3(this, _EventStream_resolveConnectedPromise, "f").call(this);
    this._emit("connect");
  }
  get ended() {
    return __classPrivateFieldGet3(this, _EventStream_ended, "f");
  }
  get errored() {
    return __classPrivateFieldGet3(this, _EventStream_errored, "f");
  }
  get aborted() {
    return __classPrivateFieldGet3(this, _EventStream_aborted, "f");
  }
  abort() {
    this.controller.abort();
  }
  /**
   * Adds the listener function to the end of the listeners array for the event.
   * No checks are made to see if the listener has already been added. Multiple calls passing
   * the same combination of event and listener will result in the listener being added, and
   * called, multiple times.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  on(event, listener) {
    const listeners = __classPrivateFieldGet3(this, _EventStream_listeners, "f")[event] || (__classPrivateFieldGet3(this, _EventStream_listeners, "f")[event] = []);
    listeners.push({ listener });
    return this;
  }
  /**
   * Removes the specified listener from the listener array for the event.
   * off() will remove, at most, one instance of a listener from the listener array. If any single
   * listener has been added multiple times to the listener array for the specified event, then
   * off() must be called multiple times to remove each instance.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  off(event, listener) {
    const listeners = __classPrivateFieldGet3(this, _EventStream_listeners, "f")[event];
    if (!listeners)
      return this;
    const index4 = listeners.findIndex((l2) => l2.listener === listener);
    if (index4 >= 0)
      listeners.splice(index4, 1);
    return this;
  }
  /**
   * Adds a one-time listener function for the event. The next time the event is triggered,
   * this listener is removed and then invoked.
   * @returns this ChatCompletionStream, so that calls can be chained
   */
  once(event, listener) {
    const listeners = __classPrivateFieldGet3(this, _EventStream_listeners, "f")[event] || (__classPrivateFieldGet3(this, _EventStream_listeners, "f")[event] = []);
    listeners.push({ listener, once: true });
    return this;
  }
  /**
   * This is similar to `.once()`, but returns a Promise that resolves the next time
   * the event is triggered, instead of calling a listener callback.
   * @returns a Promise that resolves the next time given event is triggered,
   * or rejects if an error is emitted.  (If you request the 'error' event,
   * returns a promise that resolves with the error).
   *
   * Example:
   *
   *   const message = await stream.emitted('message') // rejects if the stream errors
   */
  emitted(event) {
    return new Promise((resolve2, reject) => {
      __classPrivateFieldSet3(this, _EventStream_catchingPromiseCreated, true, "f");
      if (event !== "error")
        this.once("error", reject);
      this.once(event, resolve2);
    });
  }
  async done() {
    __classPrivateFieldSet3(this, _EventStream_catchingPromiseCreated, true, "f");
    await __classPrivateFieldGet3(this, _EventStream_endPromise, "f");
  }
  _emit(event, ...args) {
    if (__classPrivateFieldGet3(this, _EventStream_ended, "f")) {
      return;
    }
    if (event === "end") {
      __classPrivateFieldSet3(this, _EventStream_ended, true, "f");
      __classPrivateFieldGet3(this, _EventStream_resolveEndPromise, "f").call(this);
    }
    const listeners = __classPrivateFieldGet3(this, _EventStream_listeners, "f")[event];
    if (listeners) {
      __classPrivateFieldGet3(this, _EventStream_listeners, "f")[event] = listeners.filter((l2) => !l2.once);
      listeners.forEach(({ listener }) => listener(...args));
    }
    if (event === "abort") {
      const error = args[0];
      if (!__classPrivateFieldGet3(this, _EventStream_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet3(this, _EventStream_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet3(this, _EventStream_rejectEndPromise, "f").call(this, error);
      this._emit("end");
      return;
    }
    if (event === "error") {
      const error = args[0];
      if (!__classPrivateFieldGet3(this, _EventStream_catchingPromiseCreated, "f") && !(listeners == null ? void 0 : listeners.length)) {
        Promise.reject(error);
      }
      __classPrivateFieldGet3(this, _EventStream_rejectConnectedPromise, "f").call(this, error);
      __classPrivateFieldGet3(this, _EventStream_rejectEndPromise, "f").call(this, error);
      this._emit("end");
    }
  }
  _emitFinal() {
  }
};
_EventStream_connectedPromise = /* @__PURE__ */ new WeakMap(), _EventStream_resolveConnectedPromise = /* @__PURE__ */ new WeakMap(), _EventStream_rejectConnectedPromise = /* @__PURE__ */ new WeakMap(), _EventStream_endPromise = /* @__PURE__ */ new WeakMap(), _EventStream_resolveEndPromise = /* @__PURE__ */ new WeakMap(), _EventStream_rejectEndPromise = /* @__PURE__ */ new WeakMap(), _EventStream_listeners = /* @__PURE__ */ new WeakMap(), _EventStream_ended = /* @__PURE__ */ new WeakMap(), _EventStream_errored = /* @__PURE__ */ new WeakMap(), _EventStream_aborted = /* @__PURE__ */ new WeakMap(), _EventStream_catchingPromiseCreated = /* @__PURE__ */ new WeakMap(), _EventStream_instances = /* @__PURE__ */ new WeakSet(), _EventStream_handleError = function _EventStream_handleError2(error) {
  __classPrivateFieldSet3(this, _EventStream_errored, true, "f");
  if (error instanceof Error && error.name === "AbortError") {
    error = new APIUserAbortError();
  }
  if (error instanceof APIUserAbortError) {
    __classPrivateFieldSet3(this, _EventStream_aborted, true, "f");
    return this._emit("abort", error);
  }
  if (error instanceof OpenAIError) {
    return this._emit("error", error);
  }
  if (error instanceof Error) {
    const openAIError = new OpenAIError(error.message);
    openAIError.cause = error;
    return this._emit("error", openAIError);
  }
  return this._emit("error", new OpenAIError(String(error)));
};

// node_modules/openai/lib/parser.mjs
function isAutoParsableResponseFormat(response_format) {
  return (response_format == null ? void 0 : response_format["$brand"]) === "auto-parseable-response-format";
}
function isAutoParsableTool(tool) {
  return (tool == null ? void 0 : tool["$brand"]) === "auto-parseable-tool";
}
function maybeParseChatCompletion(completion, params) {
  if (!params || !hasAutoParseableInput(params)) {
    return {
      ...completion,
      choices: completion.choices.map((choice) => ({
        ...choice,
        message: {
          ...choice.message,
          parsed: null,
          ...choice.message.tool_calls ? {
            tool_calls: choice.message.tool_calls
          } : void 0
        }
      }))
    };
  }
  return parseChatCompletion(completion, params);
}
function parseChatCompletion(completion, params) {
  const choices = completion.choices.map((choice) => {
    var _a2, _b;
    if (choice.finish_reason === "length") {
      throw new LengthFinishReasonError();
    }
    if (choice.finish_reason === "content_filter") {
      throw new ContentFilterFinishReasonError();
    }
    return {
      ...choice,
      message: {
        ...choice.message,
        ...choice.message.tool_calls ? {
          tool_calls: (_b = (_a2 = choice.message.tool_calls) == null ? void 0 : _a2.map((toolCall) => parseToolCall(params, toolCall))) != null ? _b : void 0
        } : void 0,
        parsed: choice.message.content && !choice.message.refusal ? parseResponseFormat(params, choice.message.content) : null
      }
    };
  });
  return { ...completion, choices };
}
function parseResponseFormat(params, content) {
  var _a2, _b;
  if (((_a2 = params.response_format) == null ? void 0 : _a2.type) !== "json_schema") {
    return null;
  }
  if (((_b = params.response_format) == null ? void 0 : _b.type) === "json_schema") {
    if ("$parseRaw" in params.response_format) {
      const response_format = params.response_format;
      return response_format.$parseRaw(content);
    }
    return JSON.parse(content);
  }
  return null;
}
function parseToolCall(params, toolCall) {
  var _a2;
  const inputTool = (_a2 = params.tools) == null ? void 0 : _a2.find((inputTool2) => {
    var _a3;
    return ((_a3 = inputTool2.function) == null ? void 0 : _a3.name) === toolCall.function.name;
  });
  return {
    ...toolCall,
    function: {
      ...toolCall.function,
      parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCall.function.arguments) : (inputTool == null ? void 0 : inputTool.function.strict) ? JSON.parse(toolCall.function.arguments) : null
    }
  };
}
function shouldParseToolCall(params, toolCall) {
  var _a2;
  if (!params) {
    return false;
  }
  const inputTool = (_a2 = params.tools) == null ? void 0 : _a2.find((inputTool2) => {
    var _a3;
    return ((_a3 = inputTool2.function) == null ? void 0 : _a3.name) === toolCall.function.name;
  });
  return isAutoParsableTool(inputTool) || (inputTool == null ? void 0 : inputTool.function.strict) || false;
}
function hasAutoParseableInput(params) {
  var _a2, _b;
  if (isAutoParsableResponseFormat(params.response_format)) {
    return true;
  }
  return (_b = (_a2 = params.tools) == null ? void 0 : _a2.some((t3) => isAutoParsableTool(t3) || t3.type === "function" && t3.function.strict === true)) != null ? _b : false;
}
function validateInputTools(tools) {
  for (const tool of tools != null ? tools : []) {
    if (tool.type !== "function") {
      throw new OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${tool.type}\``);
    }
    if (tool.function.strict !== true) {
      throw new OpenAIError(`The \`${tool.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`);
    }
  }
}

// node_modules/openai/lib/AbstractChatCompletionRunner.mjs
var __classPrivateFieldGet4 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _AbstractChatCompletionRunner_instances;
var _AbstractChatCompletionRunner_getFinalContent;
var _AbstractChatCompletionRunner_getFinalMessage;
var _AbstractChatCompletionRunner_getFinalFunctionCall;
var _AbstractChatCompletionRunner_getFinalFunctionCallResult;
var _AbstractChatCompletionRunner_calculateTotalUsage;
var _AbstractChatCompletionRunner_validateParams;
var _AbstractChatCompletionRunner_stringifyFunctionCallResult;
var DEFAULT_MAX_CHAT_COMPLETIONS = 10;
var AbstractChatCompletionRunner = class extends EventStream {
  constructor() {
    super(...arguments);
    _AbstractChatCompletionRunner_instances.add(this);
    this._chatCompletions = [];
    this.messages = [];
  }
  _addChatCompletion(chatCompletion) {
    var _a2;
    this._chatCompletions.push(chatCompletion);
    this._emit("chatCompletion", chatCompletion);
    const message = (_a2 = chatCompletion.choices[0]) == null ? void 0 : _a2.message;
    if (message)
      this._addMessage(message);
    return chatCompletion;
  }
  _addMessage(message, emit = true) {
    if (!("content" in message))
      message.content = null;
    this.messages.push(message);
    if (emit) {
      this._emit("message", message);
      if ((isFunctionMessage(message) || isToolMessage(message)) && message.content) {
        this._emit("functionCallResult", message.content);
      } else if (isAssistantMessage(message) && message.function_call) {
        this._emit("functionCall", message.function_call);
      } else if (isAssistantMessage(message) && message.tool_calls) {
        for (const tool_call of message.tool_calls) {
          if (tool_call.type === "function") {
            this._emit("functionCall", tool_call.function);
          }
        }
      }
    }
  }
  /**
   * @returns a promise that resolves with the final ChatCompletion, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletion.
   */
  async finalChatCompletion() {
    await this.done();
    const completion = this._chatCompletions[this._chatCompletions.length - 1];
    if (!completion)
      throw new OpenAIError("stream ended without producing a ChatCompletion");
    return completion;
  }
  /**
   * @returns a promise that resolves with the content of the final ChatCompletionMessage, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalContent() {
    await this.done();
    return __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalContent).call(this);
  }
  /**
   * @returns a promise that resolves with the the final assistant ChatCompletionMessage response,
   * or rejects if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalMessage() {
    await this.done();
    return __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this);
  }
  /**
   * @returns a promise that resolves with the content of the final FunctionCall, or rejects
   * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.
   */
  async finalFunctionCall() {
    await this.done();
    return __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);
  }
  async finalFunctionCallResult() {
    await this.done();
    return __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);
  }
  async totalUsage() {
    await this.done();
    return __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_calculateTotalUsage).call(this);
  }
  allChatCompletions() {
    return [...this._chatCompletions];
  }
  _emitFinal() {
    const completion = this._chatCompletions[this._chatCompletions.length - 1];
    if (completion)
      this._emit("finalChatCompletion", completion);
    const finalMessage = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this);
    if (finalMessage)
      this._emit("finalMessage", finalMessage);
    const finalContent = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalContent).call(this);
    if (finalContent)
      this._emit("finalContent", finalContent);
    const finalFunctionCall = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);
    if (finalFunctionCall)
      this._emit("finalFunctionCall", finalFunctionCall);
    const finalFunctionCallResult = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);
    if (finalFunctionCallResult != null)
      this._emit("finalFunctionCallResult", finalFunctionCallResult);
    if (this._chatCompletions.some((c2) => c2.usage)) {
      this._emit("totalUsage", __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_calculateTotalUsage).call(this));
    }
  }
  async _createChatCompletion(client, params, options) {
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_validateParams).call(this, params);
    const chatCompletion = await client.chat.completions.create({ ...params, stream: false }, { ...options, signal: this.controller.signal });
    this._connected();
    return this._addChatCompletion(parseChatCompletion(chatCompletion, params));
  }
  async _runChatCompletion(client, params, options) {
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    return await this._createChatCompletion(client, params, options);
  }
  async _runFunctions(client, params, options) {
    var _a2;
    const role = "function";
    const { function_call = "auto", stream, ...restParams } = params;
    const singleFunctionToCall = typeof function_call !== "string" && (function_call == null ? void 0 : function_call.name);
    const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};
    const functionsByName = {};
    for (const f2 of params.functions) {
      functionsByName[f2.name || f2.function.name] = f2;
    }
    const functions = params.functions.map((f2) => ({
      name: f2.name || f2.function.name,
      parameters: f2.parameters,
      description: f2.description
    }));
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    for (let i3 = 0; i3 < maxChatCompletions; ++i3) {
      const chatCompletion = await this._createChatCompletion(client, {
        ...restParams,
        function_call,
        functions,
        messages: [...this.messages]
      }, options);
      const message = (_a2 = chatCompletion.choices[0]) == null ? void 0 : _a2.message;
      if (!message) {
        throw new OpenAIError(`missing message in ChatCompletion response`);
      }
      if (!message.function_call)
        return;
      const { name, arguments: args } = message.function_call;
      const fn = functionsByName[name];
      if (!fn) {
        const content2 = `Invalid function_call: ${JSON.stringify(name)}. Available options are: ${functions.map((f2) => JSON.stringify(f2.name)).join(", ")}. Please try again`;
        this._addMessage({ role, name, content: content2 });
        continue;
      } else if (singleFunctionToCall && singleFunctionToCall !== name) {
        const content2 = `Invalid function_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;
        this._addMessage({ role, name, content: content2 });
        continue;
      }
      let parsed;
      try {
        parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;
      } catch (error) {
        this._addMessage({
          role,
          name,
          content: error instanceof Error ? error.message : String(error)
        });
        continue;
      }
      const rawContent = await fn.function(parsed, this);
      const content = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);
      this._addMessage({ role, name, content });
      if (singleFunctionToCall)
        return;
    }
  }
  async _runTools(client, params, options) {
    var _a2, _b, _c;
    const role = "tool";
    const { tool_choice = "auto", stream, ...restParams } = params;
    const singleFunctionToCall = typeof tool_choice !== "string" && ((_a2 = tool_choice == null ? void 0 : tool_choice.function) == null ? void 0 : _a2.name);
    const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};
    const inputTools = params.tools.map((tool) => {
      if (isAutoParsableTool(tool)) {
        if (!tool.$callback) {
          throw new OpenAIError("Tool given to `.runTools()` that does not have an associated function");
        }
        return {
          type: "function",
          function: {
            function: tool.$callback,
            name: tool.function.name,
            description: tool.function.description || "",
            parameters: tool.function.parameters,
            parse: tool.$parseRaw,
            strict: true
          }
        };
      }
      return tool;
    });
    const functionsByName = {};
    for (const f2 of inputTools) {
      if (f2.type === "function") {
        functionsByName[f2.function.name || f2.function.function.name] = f2.function;
      }
    }
    const tools = "tools" in params ? inputTools.map((t3) => t3.type === "function" ? {
      type: "function",
      function: {
        name: t3.function.name || t3.function.function.name,
        parameters: t3.function.parameters,
        description: t3.function.description,
        strict: t3.function.strict
      }
    } : t3) : void 0;
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    for (let i3 = 0; i3 < maxChatCompletions; ++i3) {
      const chatCompletion = await this._createChatCompletion(client, {
        ...restParams,
        tool_choice,
        tools,
        messages: [...this.messages]
      }, options);
      const message = (_b = chatCompletion.choices[0]) == null ? void 0 : _b.message;
      if (!message) {
        throw new OpenAIError(`missing message in ChatCompletion response`);
      }
      if (!((_c = message.tool_calls) == null ? void 0 : _c.length)) {
        return;
      }
      for (const tool_call of message.tool_calls) {
        if (tool_call.type !== "function")
          continue;
        const tool_call_id = tool_call.id;
        const { name, arguments: args } = tool_call.function;
        const fn = functionsByName[name];
        if (!fn) {
          const content2 = `Invalid tool_call: ${JSON.stringify(name)}. Available options are: ${Object.keys(functionsByName).map((name2) => JSON.stringify(name2)).join(", ")}. Please try again`;
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        } else if (singleFunctionToCall && singleFunctionToCall !== name) {
          const content2 = `Invalid tool_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        }
        let parsed;
        try {
          parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;
        } catch (error) {
          const content2 = error instanceof Error ? error.message : String(error);
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        }
        const rawContent = await fn.function(parsed, this);
        const content = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);
        this._addMessage({ role, tool_call_id, content });
        if (singleFunctionToCall) {
          return;
        }
      }
    }
    return;
  }
};
_AbstractChatCompletionRunner_instances = /* @__PURE__ */ new WeakSet(), _AbstractChatCompletionRunner_getFinalContent = function _AbstractChatCompletionRunner_getFinalContent2() {
  var _a2;
  return (_a2 = __classPrivateFieldGet4(this, _AbstractChatCompletionRunner_instances, "m", _AbstractChatCompletionRunner_getFinalMessage).call(this).content) != null ? _a2 : null;
}, _AbstractChatCompletionRunner_getFinalMessage = function _AbstractChatCompletionRunner_getFinalMessage2() {
  var _a2, _b;
  let i3 = this.messages.length;
  while (i3-- > 0) {
    const message = this.messages[i3];
    if (isAssistantMessage(message)) {
      const { function_call, ...rest } = message;
      const ret = {
        ...rest,
        content: (_a2 = message.content) != null ? _a2 : null,
        refusal: (_b = message.refusal) != null ? _b : null
      };
      if (function_call) {
        ret.function_call = function_call;
      }
      return ret;
    }
  }
  throw new OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant");
}, _AbstractChatCompletionRunner_getFinalFunctionCall = function _AbstractChatCompletionRunner_getFinalFunctionCall2() {
  var _a2, _b;
  for (let i3 = this.messages.length - 1; i3 >= 0; i3--) {
    const message = this.messages[i3];
    if (isAssistantMessage(message) && (message == null ? void 0 : message.function_call)) {
      return message.function_call;
    }
    if (isAssistantMessage(message) && ((_a2 = message == null ? void 0 : message.tool_calls) == null ? void 0 : _a2.length)) {
      return (_b = message.tool_calls.at(-1)) == null ? void 0 : _b.function;
    }
  }
  return;
}, _AbstractChatCompletionRunner_getFinalFunctionCallResult = function _AbstractChatCompletionRunner_getFinalFunctionCallResult2() {
  for (let i3 = this.messages.length - 1; i3 >= 0; i3--) {
    const message = this.messages[i3];
    if (isFunctionMessage(message) && message.content != null) {
      return message.content;
    }
    if (isToolMessage(message) && message.content != null && typeof message.content === "string" && this.messages.some((x) => {
      var _a2;
      return x.role === "assistant" && ((_a2 = x.tool_calls) == null ? void 0 : _a2.some((y) => y.type === "function" && y.id === message.tool_call_id));
    })) {
      return message.content;
    }
  }
  return;
}, _AbstractChatCompletionRunner_calculateTotalUsage = function _AbstractChatCompletionRunner_calculateTotalUsage2() {
  const total = {
    completion_tokens: 0,
    prompt_tokens: 0,
    total_tokens: 0
  };
  for (const { usage } of this._chatCompletions) {
    if (usage) {
      total.completion_tokens += usage.completion_tokens;
      total.prompt_tokens += usage.prompt_tokens;
      total.total_tokens += usage.total_tokens;
    }
  }
  return total;
}, _AbstractChatCompletionRunner_validateParams = function _AbstractChatCompletionRunner_validateParams2(params) {
  if (params.n != null && params.n > 1) {
    throw new OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.");
  }
}, _AbstractChatCompletionRunner_stringifyFunctionCallResult = function _AbstractChatCompletionRunner_stringifyFunctionCallResult2(rawContent) {
  return typeof rawContent === "string" ? rawContent : rawContent === void 0 ? "undefined" : JSON.stringify(rawContent);
};

// node_modules/openai/lib/ChatCompletionRunner.mjs
var ChatCompletionRunner = class extends AbstractChatCompletionRunner {
  /** @deprecated - please use `runTools` instead. */
  static runFunctions(client, params, options) {
    const runner = new ChatCompletionRunner();
    const opts2 = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runFunctions" }
    };
    runner._run(() => runner._runFunctions(client, params, opts2));
    return runner;
  }
  static runTools(client, params, options) {
    const runner = new ChatCompletionRunner();
    const opts2 = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runTools" }
    };
    runner._run(() => runner._runTools(client, params, opts2));
    return runner;
  }
  _addMessage(message, emit = true) {
    super._addMessage(message, emit);
    if (isAssistantMessage(message) && message.content) {
      this._emit("content", message.content);
    }
  }
};

// node_modules/openai/_vendor/partial-json-parser/parser.mjs
var STR = 1;
var NUM = 2;
var ARR = 4;
var OBJ = 8;
var NULL = 16;
var BOOL = 32;
var NAN = 64;
var INFINITY = 128;
var MINUS_INFINITY = 256;
var INF = INFINITY | MINUS_INFINITY;
var SPECIAL = NULL | BOOL | INF | NAN;
var ATOM = STR | NUM | SPECIAL;
var COLLECTION = ARR | OBJ;
var ALL = ATOM | COLLECTION;
var Allow = {
  STR,
  NUM,
  ARR,
  OBJ,
  NULL,
  BOOL,
  NAN,
  INFINITY,
  MINUS_INFINITY,
  INF,
  SPECIAL,
  ATOM,
  COLLECTION,
  ALL
};
var PartialJSON = class extends Error {
};
var MalformedJSON = class extends Error {
};
function parseJSON2(jsonString, allowPartial = Allow.ALL) {
  if (typeof jsonString !== "string") {
    throw new TypeError(`expecting str, got ${typeof jsonString}`);
  }
  if (!jsonString.trim()) {
    throw new Error(`${jsonString} is empty`);
  }
  return _parseJSON(jsonString.trim(), allowPartial);
}
var _parseJSON = (jsonString, allow) => {
  const length2 = jsonString.length;
  let index4 = 0;
  const markPartialJSON = (msg) => {
    throw new PartialJSON(`${msg} at position ${index4}`);
  };
  const throwMalformedError = (msg) => {
    throw new MalformedJSON(`${msg} at position ${index4}`);
  };
  const parseAny = () => {
    skipBlank();
    if (index4 >= length2)
      markPartialJSON("Unexpected end of input");
    if (jsonString[index4] === '"')
      return parseStr();
    if (jsonString[index4] === "{")
      return parseObj();
    if (jsonString[index4] === "[")
      return parseArr();
    if (jsonString.substring(index4, index4 + 4) === "null" || Allow.NULL & allow && length2 - index4 < 4 && "null".startsWith(jsonString.substring(index4))) {
      index4 += 4;
      return null;
    }
    if (jsonString.substring(index4, index4 + 4) === "true" || Allow.BOOL & allow && length2 - index4 < 4 && "true".startsWith(jsonString.substring(index4))) {
      index4 += 4;
      return true;
    }
    if (jsonString.substring(index4, index4 + 5) === "false" || Allow.BOOL & allow && length2 - index4 < 5 && "false".startsWith(jsonString.substring(index4))) {
      index4 += 5;
      return false;
    }
    if (jsonString.substring(index4, index4 + 8) === "Infinity" || Allow.INFINITY & allow && length2 - index4 < 8 && "Infinity".startsWith(jsonString.substring(index4))) {
      index4 += 8;
      return Infinity;
    }
    if (jsonString.substring(index4, index4 + 9) === "-Infinity" || Allow.MINUS_INFINITY & allow && 1 < length2 - index4 && length2 - index4 < 9 && "-Infinity".startsWith(jsonString.substring(index4))) {
      index4 += 9;
      return -Infinity;
    }
    if (jsonString.substring(index4, index4 + 3) === "NaN" || Allow.NAN & allow && length2 - index4 < 3 && "NaN".startsWith(jsonString.substring(index4))) {
      index4 += 3;
      return NaN;
    }
    return parseNum();
  };
  const parseStr = () => {
    const start2 = index4;
    let escape2 = false;
    index4++;
    while (index4 < length2 && (jsonString[index4] !== '"' || escape2 && jsonString[index4 - 1] === "\\")) {
      escape2 = jsonString[index4] === "\\" ? !escape2 : false;
      index4++;
    }
    if (jsonString.charAt(index4) == '"') {
      try {
        return JSON.parse(jsonString.substring(start2, ++index4 - Number(escape2)));
      } catch (e2) {
        throwMalformedError(String(e2));
      }
    } else if (Allow.STR & allow) {
      try {
        return JSON.parse(jsonString.substring(start2, index4 - Number(escape2)) + '"');
      } catch (e2) {
        return JSON.parse(jsonString.substring(start2, jsonString.lastIndexOf("\\")) + '"');
      }
    }
    markPartialJSON("Unterminated string literal");
  };
  const parseObj = () => {
    index4++;
    skipBlank();
    const obj = {};
    try {
      while (jsonString[index4] !== "}") {
        skipBlank();
        if (index4 >= length2 && Allow.OBJ & allow)
          return obj;
        const key = parseStr();
        skipBlank();
        index4++;
        try {
          const value = parseAny();
          Object.defineProperty(obj, key, { value, writable: true, enumerable: true, configurable: true });
        } catch (e2) {
          if (Allow.OBJ & allow)
            return obj;
          else
            throw e2;
        }
        skipBlank();
        if (jsonString[index4] === ",")
          index4++;
      }
    } catch (e2) {
      if (Allow.OBJ & allow)
        return obj;
      else
        markPartialJSON("Expected '}' at end of object");
    }
    index4++;
    return obj;
  };
  const parseArr = () => {
    index4++;
    const arr = [];
    try {
      while (jsonString[index4] !== "]") {
        arr.push(parseAny());
        skipBlank();
        if (jsonString[index4] === ",") {
          index4++;
        }
      }
    } catch (e2) {
      if (Allow.ARR & allow) {
        return arr;
      }
      markPartialJSON("Expected ']' at end of array");
    }
    index4++;
    return arr;
  };
  const parseNum = () => {
    if (index4 === 0) {
      if (jsonString === "-" && Allow.NUM & allow)
        markPartialJSON("Not sure what '-' is");
      try {
        return JSON.parse(jsonString);
      } catch (e2) {
        if (Allow.NUM & allow) {
          try {
            if ("." === jsonString[jsonString.length - 1])
              return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf(".")));
            return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf("e")));
          } catch (e3) {
          }
        }
        throwMalformedError(String(e2));
      }
    }
    const start2 = index4;
    if (jsonString[index4] === "-")
      index4++;
    while (jsonString[index4] && !",]}".includes(jsonString[index4]))
      index4++;
    if (index4 == length2 && !(Allow.NUM & allow))
      markPartialJSON("Unterminated number literal");
    try {
      return JSON.parse(jsonString.substring(start2, index4));
    } catch (e2) {
      if (jsonString.substring(start2, index4) === "-" && Allow.NUM & allow)
        markPartialJSON("Not sure what '-' is");
      try {
        return JSON.parse(jsonString.substring(start2, jsonString.lastIndexOf("e")));
      } catch (e3) {
        throwMalformedError(String(e3));
      }
    }
  };
  const skipBlank = () => {
    while (index4 < length2 && " \n\r	".includes(jsonString[index4])) {
      index4++;
    }
  };
  return parseAny();
};
var partialParse = (input) => parseJSON2(input, Allow.ALL ^ Allow.NUM);

// node_modules/openai/lib/ChatCompletionStream.mjs
var __classPrivateFieldSet4 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet5 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _ChatCompletionStream_instances;
var _ChatCompletionStream_params;
var _ChatCompletionStream_choiceEventStates;
var _ChatCompletionStream_currentChatCompletionSnapshot;
var _ChatCompletionStream_beginRequest;
var _ChatCompletionStream_getChoiceEventState;
var _ChatCompletionStream_addChunk;
var _ChatCompletionStream_emitToolCallDoneEvent;
var _ChatCompletionStream_emitContentDoneEvents;
var _ChatCompletionStream_endRequest;
var _ChatCompletionStream_getAutoParseableResponseFormat;
var _ChatCompletionStream_accumulateChatCompletion;
var ChatCompletionStream = class extends AbstractChatCompletionRunner {
  constructor(params) {
    super();
    _ChatCompletionStream_instances.add(this);
    _ChatCompletionStream_params.set(this, void 0);
    _ChatCompletionStream_choiceEventStates.set(this, void 0);
    _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);
    __classPrivateFieldSet4(this, _ChatCompletionStream_params, params, "f");
    __classPrivateFieldSet4(this, _ChatCompletionStream_choiceEventStates, [], "f");
  }
  get currentChatCompletionSnapshot() {
    return __classPrivateFieldGet5(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
  }
  /**
   * Intended for use on the frontend, consuming a stream produced with
   * `.toReadableStream()` on the backend.
   *
   * Note that messages sent to the model do not appear in `.on('message')`
   * in this context.
   */
  static fromReadableStream(stream) {
    const runner = new ChatCompletionStream(null);
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  static createChatCompletion(client, params, options) {
    const runner = new ChatCompletionStream(params);
    runner._run(() => runner._runChatCompletion(client, { ...params, stream: true }, { ...options, headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" } }));
    return runner;
  }
  async _createChatCompletion(client, params, options) {
    var _a2;
    super._createChatCompletion;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_beginRequest).call(this);
    const stream = await client.chat.completions.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const chunk of stream) {
      __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_addChunk).call(this, chunk);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addChatCompletion(__classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
  }
  async _fromReadableStream(readableStream, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_beginRequest).call(this);
    this._connected();
    const stream = Stream.fromReadableStream(readableStream, this.controller);
    let chatId;
    for await (const chunk of stream) {
      if (chatId && chatId !== chunk.id) {
        this._addChatCompletion(__classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
      }
      __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_addChunk).call(this, chunk);
      chatId = chunk.id;
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addChatCompletion(__classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_endRequest).call(this));
  }
  [(_ChatCompletionStream_params = /* @__PURE__ */ new WeakMap(), _ChatCompletionStream_choiceEventStates = /* @__PURE__ */ new WeakMap(), _ChatCompletionStream_currentChatCompletionSnapshot = /* @__PURE__ */ new WeakMap(), _ChatCompletionStream_instances = /* @__PURE__ */ new WeakSet(), _ChatCompletionStream_beginRequest = function _ChatCompletionStream_beginRequest2() {
    if (this.ended)
      return;
    __classPrivateFieldSet4(this, _ChatCompletionStream_currentChatCompletionSnapshot, void 0, "f");
  }, _ChatCompletionStream_getChoiceEventState = function _ChatCompletionStream_getChoiceEventState2(choice) {
    let state = __classPrivateFieldGet5(this, _ChatCompletionStream_choiceEventStates, "f")[choice.index];
    if (state) {
      return state;
    }
    state = {
      content_done: false,
      refusal_done: false,
      logprobs_content_done: false,
      logprobs_refusal_done: false,
      done_tool_calls: /* @__PURE__ */ new Set(),
      current_tool_call_index: null
    };
    __classPrivateFieldGet5(this, _ChatCompletionStream_choiceEventStates, "f")[choice.index] = state;
    return state;
  }, _ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk2(chunk) {
    var _a2, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t;
    if (this.ended)
      return;
    const completion = __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_accumulateChatCompletion).call(this, chunk);
    this._emit("chunk", chunk, completion);
    for (const choice of chunk.choices) {
      const choiceSnapshot = completion.choices[choice.index];
      if (choice.delta.content != null && ((_a2 = choiceSnapshot.message) == null ? void 0 : _a2.role) === "assistant" && ((_b = choiceSnapshot.message) == null ? void 0 : _b.content)) {
        this._emit("content", choice.delta.content, choiceSnapshot.message.content);
        this._emit("content.delta", {
          delta: choice.delta.content,
          snapshot: choiceSnapshot.message.content,
          parsed: choiceSnapshot.message.parsed
        });
      }
      if (choice.delta.refusal != null && ((_c = choiceSnapshot.message) == null ? void 0 : _c.role) === "assistant" && ((_d = choiceSnapshot.message) == null ? void 0 : _d.refusal)) {
        this._emit("refusal.delta", {
          delta: choice.delta.refusal,
          snapshot: choiceSnapshot.message.refusal
        });
      }
      if (((_e = choice.logprobs) == null ? void 0 : _e.content) != null && ((_f = choiceSnapshot.message) == null ? void 0 : _f.role) === "assistant") {
        this._emit("logprobs.content.delta", {
          content: (_g = choice.logprobs) == null ? void 0 : _g.content,
          snapshot: (_i = (_h = choiceSnapshot.logprobs) == null ? void 0 : _h.content) != null ? _i : []
        });
      }
      if (((_j = choice.logprobs) == null ? void 0 : _j.refusal) != null && ((_k = choiceSnapshot.message) == null ? void 0 : _k.role) === "assistant") {
        this._emit("logprobs.refusal.delta", {
          refusal: (_l = choice.logprobs) == null ? void 0 : _l.refusal,
          snapshot: (_n = (_m = choiceSnapshot.logprobs) == null ? void 0 : _m.refusal) != null ? _n : []
        });
      }
      const state = __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);
      if (choiceSnapshot.finish_reason) {
        __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);
        if (state.current_tool_call_index != null) {
          __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);
        }
      }
      for (const toolCall of (_o = choice.delta.tool_calls) != null ? _o : []) {
        if (state.current_tool_call_index !== toolCall.index) {
          __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);
          if (state.current_tool_call_index != null) {
            __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);
          }
        }
        state.current_tool_call_index = toolCall.index;
      }
      for (const toolCallDelta of (_p = choice.delta.tool_calls) != null ? _p : []) {
        const toolCallSnapshot = (_q = choiceSnapshot.message.tool_calls) == null ? void 0 : _q[toolCallDelta.index];
        if (!(toolCallSnapshot == null ? void 0 : toolCallSnapshot.type)) {
          continue;
        }
        if ((toolCallSnapshot == null ? void 0 : toolCallSnapshot.type) === "function") {
          this._emit("tool_calls.function.arguments.delta", {
            name: (_r = toolCallSnapshot.function) == null ? void 0 : _r.name,
            index: toolCallDelta.index,
            arguments: toolCallSnapshot.function.arguments,
            parsed_arguments: toolCallSnapshot.function.parsed_arguments,
            arguments_delta: (_t = (_s = toolCallDelta.function) == null ? void 0 : _s.arguments) != null ? _t : ""
          });
        } else {
          assertNever(toolCallSnapshot == null ? void 0 : toolCallSnapshot.type);
        }
      }
    }
  }, _ChatCompletionStream_emitToolCallDoneEvent = function _ChatCompletionStream_emitToolCallDoneEvent2(choiceSnapshot, toolCallIndex) {
    var _a2, _b, _c;
    const state = __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);
    if (state.done_tool_calls.has(toolCallIndex)) {
      return;
    }
    const toolCallSnapshot = (_a2 = choiceSnapshot.message.tool_calls) == null ? void 0 : _a2[toolCallIndex];
    if (!toolCallSnapshot) {
      throw new Error("no tool call snapshot");
    }
    if (!toolCallSnapshot.type) {
      throw new Error("tool call snapshot missing `type`");
    }
    if (toolCallSnapshot.type === "function") {
      const inputTool = (_c = (_b = __classPrivateFieldGet5(this, _ChatCompletionStream_params, "f")) == null ? void 0 : _b.tools) == null ? void 0 : _c.find((tool) => tool.type === "function" && tool.function.name === toolCallSnapshot.function.name);
      this._emit("tool_calls.function.arguments.done", {
        name: toolCallSnapshot.function.name,
        index: toolCallIndex,
        arguments: toolCallSnapshot.function.arguments,
        parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCallSnapshot.function.arguments) : (inputTool == null ? void 0 : inputTool.function.strict) ? JSON.parse(toolCallSnapshot.function.arguments) : null
      });
    } else {
      assertNever(toolCallSnapshot.type);
    }
  }, _ChatCompletionStream_emitContentDoneEvents = function _ChatCompletionStream_emitContentDoneEvents2(choiceSnapshot) {
    var _a2, _b;
    const state = __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);
    if (choiceSnapshot.message.content && !state.content_done) {
      state.content_done = true;
      const responseFormat = __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getAutoParseableResponseFormat).call(this);
      this._emit("content.done", {
        content: choiceSnapshot.message.content,
        parsed: responseFormat ? responseFormat.$parseRaw(choiceSnapshot.message.content) : null
      });
    }
    if (choiceSnapshot.message.refusal && !state.refusal_done) {
      state.refusal_done = true;
      this._emit("refusal.done", { refusal: choiceSnapshot.message.refusal });
    }
    if (((_a2 = choiceSnapshot.logprobs) == null ? void 0 : _a2.content) && !state.logprobs_content_done) {
      state.logprobs_content_done = true;
      this._emit("logprobs.content.done", { content: choiceSnapshot.logprobs.content });
    }
    if (((_b = choiceSnapshot.logprobs) == null ? void 0 : _b.refusal) && !state.logprobs_refusal_done) {
      state.logprobs_refusal_done = true;
      this._emit("logprobs.refusal.done", { refusal: choiceSnapshot.logprobs.refusal });
    }
  }, _ChatCompletionStream_endRequest = function _ChatCompletionStream_endRequest2() {
    if (this.ended) {
      throw new OpenAIError(`stream has ended, this shouldn't happen`);
    }
    const snapshot = __classPrivateFieldGet5(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
    if (!snapshot) {
      throw new OpenAIError(`request ended without sending any chunks`);
    }
    __classPrivateFieldSet4(this, _ChatCompletionStream_currentChatCompletionSnapshot, void 0, "f");
    __classPrivateFieldSet4(this, _ChatCompletionStream_choiceEventStates, [], "f");
    return finalizeChatCompletion(snapshot, __classPrivateFieldGet5(this, _ChatCompletionStream_params, "f"));
  }, _ChatCompletionStream_getAutoParseableResponseFormat = function _ChatCompletionStream_getAutoParseableResponseFormat2() {
    var _a2;
    const responseFormat = (_a2 = __classPrivateFieldGet5(this, _ChatCompletionStream_params, "f")) == null ? void 0 : _a2.response_format;
    if (isAutoParsableResponseFormat(responseFormat)) {
      return responseFormat;
    }
    return null;
  }, _ChatCompletionStream_accumulateChatCompletion = function _ChatCompletionStream_accumulateChatCompletion2(chunk) {
    var _a3, _b2, _c2, _d2, _e, _f;
    var _a2, _b, _c, _d;
    let snapshot = __classPrivateFieldGet5(this, _ChatCompletionStream_currentChatCompletionSnapshot, "f");
    const { choices, ...rest } = chunk;
    if (!snapshot) {
      snapshot = __classPrivateFieldSet4(this, _ChatCompletionStream_currentChatCompletionSnapshot, {
        ...rest,
        choices: []
      }, "f");
    } else {
      Object.assign(snapshot, rest);
    }
    for (const { delta, finish_reason, index: index4, logprobs = null, ...other } of chunk.choices) {
      let choice = snapshot.choices[index4];
      if (!choice) {
        choice = snapshot.choices[index4] = { finish_reason, index: index4, message: {}, logprobs, ...other };
      }
      if (logprobs) {
        if (!choice.logprobs) {
          choice.logprobs = Object.assign({}, logprobs);
        } else {
          const { content: content2, refusal: refusal2, ...rest3 } = logprobs;
          assertIsEmpty(rest3);
          Object.assign(choice.logprobs, rest3);
          if (content2) {
            (_a3 = (_a2 = choice.logprobs).content) != null ? _a3 : _a2.content = [];
            choice.logprobs.content.push(...content2);
          }
          if (refusal2) {
            (_b2 = (_b = choice.logprobs).refusal) != null ? _b2 : _b.refusal = [];
            choice.logprobs.refusal.push(...refusal2);
          }
        }
      }
      if (finish_reason) {
        choice.finish_reason = finish_reason;
        if (__classPrivateFieldGet5(this, _ChatCompletionStream_params, "f") && hasAutoParseableInput(__classPrivateFieldGet5(this, _ChatCompletionStream_params, "f"))) {
          if (finish_reason === "length") {
            throw new LengthFinishReasonError();
          }
          if (finish_reason === "content_filter") {
            throw new ContentFilterFinishReasonError();
          }
        }
      }
      Object.assign(choice, other);
      if (!delta)
        continue;
      const { content, refusal, function_call, role, tool_calls, ...rest2 } = delta;
      assertIsEmpty(rest2);
      Object.assign(choice.message, rest2);
      if (refusal) {
        choice.message.refusal = (choice.message.refusal || "") + refusal;
      }
      if (role)
        choice.message.role = role;
      if (function_call) {
        if (!choice.message.function_call) {
          choice.message.function_call = function_call;
        } else {
          if (function_call.name)
            choice.message.function_call.name = function_call.name;
          if (function_call.arguments) {
            (_c2 = (_c = choice.message.function_call).arguments) != null ? _c2 : _c.arguments = "";
            choice.message.function_call.arguments += function_call.arguments;
          }
        }
      }
      if (content) {
        choice.message.content = (choice.message.content || "") + content;
        if (!choice.message.refusal && __classPrivateFieldGet5(this, _ChatCompletionStream_instances, "m", _ChatCompletionStream_getAutoParseableResponseFormat).call(this)) {
          choice.message.parsed = partialParse(choice.message.content);
        }
      }
      if (tool_calls) {
        if (!choice.message.tool_calls)
          choice.message.tool_calls = [];
        for (const { index: index5, id, type, function: fn, ...rest3 } of tool_calls) {
          const tool_call = (_d2 = (_d = choice.message.tool_calls)[index5]) != null ? _d2 : _d[index5] = {};
          Object.assign(tool_call, rest3);
          if (id)
            tool_call.id = id;
          if (type)
            tool_call.type = type;
          if (fn)
            (_f = tool_call.function) != null ? _f : tool_call.function = { name: (_e = fn.name) != null ? _e : "", arguments: "" };
          if (fn == null ? void 0 : fn.name)
            tool_call.function.name = fn.name;
          if (fn == null ? void 0 : fn.arguments) {
            tool_call.function.arguments += fn.arguments;
            if (shouldParseToolCall(__classPrivateFieldGet5(this, _ChatCompletionStream_params, "f"), tool_call)) {
              tool_call.function.parsed_arguments = partialParse(tool_call.function.arguments);
            }
          }
        }
      }
    }
    return snapshot;
  }, Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("chunk", (chunk) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(chunk);
      } else {
        pushQueue.push(chunk);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve2, reject) => readQueue.push({ resolve: resolve2, reject })).then((chunk2) => chunk2 ? { value: chunk2, done: false } : { value: void 0, done: true });
        }
        const chunk = pushQueue.shift();
        return { value: chunk, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  toReadableStream() {
    const stream = new Stream(this[Symbol.asyncIterator].bind(this), this.controller);
    return stream.toReadableStream();
  }
};
function finalizeChatCompletion(snapshot, params) {
  const { id, choices, created, model: model4, system_fingerprint, ...rest } = snapshot;
  const completion = {
    ...rest,
    id,
    choices: choices.map(({ message, finish_reason, index: index4, logprobs, ...choiceRest }) => {
      var _a2, _b, _c;
      if (!finish_reason) {
        throw new OpenAIError(`missing finish_reason for choice ${index4}`);
      }
      const { content = null, function_call, tool_calls, ...messageRest } = message;
      const role = message.role;
      if (!role) {
        throw new OpenAIError(`missing role for choice ${index4}`);
      }
      if (function_call) {
        const { arguments: args, name } = function_call;
        if (args == null) {
          throw new OpenAIError(`missing function_call.arguments for choice ${index4}`);
        }
        if (!name) {
          throw new OpenAIError(`missing function_call.name for choice ${index4}`);
        }
        return {
          ...choiceRest,
          message: {
            content,
            function_call: { arguments: args, name },
            role,
            refusal: (_a2 = message.refusal) != null ? _a2 : null
          },
          finish_reason,
          index: index4,
          logprobs
        };
      }
      if (tool_calls) {
        return {
          ...choiceRest,
          index: index4,
          finish_reason,
          logprobs,
          message: {
            ...messageRest,
            role,
            content,
            refusal: (_b = message.refusal) != null ? _b : null,
            tool_calls: tool_calls.map((tool_call, i3) => {
              const { function: fn, type, id: id2, ...toolRest } = tool_call;
              const { arguments: args, name, ...fnRest } = fn || {};
              if (id2 == null) {
                throw new OpenAIError(`missing choices[${index4}].tool_calls[${i3}].id
${str(snapshot)}`);
              }
              if (type == null) {
                throw new OpenAIError(`missing choices[${index4}].tool_calls[${i3}].type
${str(snapshot)}`);
              }
              if (name == null) {
                throw new OpenAIError(`missing choices[${index4}].tool_calls[${i3}].function.name
${str(snapshot)}`);
              }
              if (args == null) {
                throw new OpenAIError(`missing choices[${index4}].tool_calls[${i3}].function.arguments
${str(snapshot)}`);
              }
              return { ...toolRest, id: id2, type, function: { ...fnRest, name, arguments: args } };
            })
          }
        };
      }
      return {
        ...choiceRest,
        message: { ...messageRest, content, role, refusal: (_c = message.refusal) != null ? _c : null },
        finish_reason,
        index: index4,
        logprobs
      };
    }),
    created,
    model: model4,
    object: "chat.completion",
    ...system_fingerprint ? { system_fingerprint } : {}
  };
  return maybeParseChatCompletion(completion, params);
}
function str(x) {
  return JSON.stringify(x);
}
function assertIsEmpty(obj) {
  return;
}
function assertNever(_x) {
}

// node_modules/openai/lib/ChatCompletionStreamingRunner.mjs
var ChatCompletionStreamingRunner = class extends ChatCompletionStream {
  static fromReadableStream(stream) {
    const runner = new ChatCompletionStreamingRunner(null);
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  /** @deprecated - please use `runTools` instead. */
  static runFunctions(client, params, options) {
    const runner = new ChatCompletionStreamingRunner(null);
    const opts2 = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runFunctions" }
    };
    runner._run(() => runner._runFunctions(client, params, opts2));
    return runner;
  }
  static runTools(client, params, options) {
    const runner = new ChatCompletionStreamingRunner(
      // @ts-expect-error TODO these types are incompatible
      params
    );
    const opts2 = {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "runTools" }
    };
    runner._run(() => runner._runTools(client, params, opts2));
    return runner;
  }
};

// node_modules/openai/resources/beta/chat/completions.mjs
var Completions2 = class extends APIResource {
  parse(body, options) {
    validateInputTools(body.tools);
    return this._client.chat.completions.create(body, {
      ...options,
      headers: {
        ...options == null ? void 0 : options.headers,
        "X-Stainless-Helper-Method": "beta.chat.completions.parse"
      }
    })._thenUnwrap((completion) => parseChatCompletion(completion, body));
  }
  runFunctions(body, options) {
    if (body.stream) {
      return ChatCompletionStreamingRunner.runFunctions(this._client, body, options);
    }
    return ChatCompletionRunner.runFunctions(this._client, body, options);
  }
  runTools(body, options) {
    if (body.stream) {
      return ChatCompletionStreamingRunner.runTools(this._client, body, options);
    }
    return ChatCompletionRunner.runTools(this._client, body, options);
  }
  /**
   * Creates a chat completion stream
   */
  stream(body, options) {
    return ChatCompletionStream.createChatCompletion(this._client, body, options);
  }
};

// node_modules/openai/resources/beta/chat/chat.mjs
var Chat2 = class extends APIResource {
  constructor() {
    super(...arguments);
    this.completions = new Completions2(this._client);
  }
};
(function(Chat3) {
  Chat3.Completions = Completions2;
})(Chat2 || (Chat2 = {}));

// node_modules/openai/resources/beta/realtime/sessions.mjs
var Sessions = class extends APIResource {
  /**
   * Create an ephemeral API token for use in client-side applications with the
   * Realtime API. Can be configured with the same session parameters as the
   * `session.update` client event.
   *
   * It responds with a session object, plus a `client_secret` key which contains a
   * usable ephemeral API token that can be used to authenticate browser clients for
   * the Realtime API.
   */
  create(body, options) {
    return this._client.post("/realtime/sessions", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};

// node_modules/openai/resources/beta/realtime/realtime.mjs
var Realtime = class extends APIResource {
  constructor() {
    super(...arguments);
    this.sessions = new Sessions(this._client);
  }
};
Realtime.Sessions = Sessions;

// node_modules/openai/lib/AssistantStream.mjs
var __classPrivateFieldGet6 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var __classPrivateFieldSet5 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var _AssistantStream_instances;
var _AssistantStream_events;
var _AssistantStream_runStepSnapshots;
var _AssistantStream_messageSnapshots;
var _AssistantStream_messageSnapshot;
var _AssistantStream_finalRun;
var _AssistantStream_currentContentIndex;
var _AssistantStream_currentContent;
var _AssistantStream_currentToolCallIndex;
var _AssistantStream_currentToolCall;
var _AssistantStream_currentEvent;
var _AssistantStream_currentRunSnapshot;
var _AssistantStream_currentRunStepSnapshot;
var _AssistantStream_addEvent;
var _AssistantStream_endRequest;
var _AssistantStream_handleMessage;
var _AssistantStream_handleRunStep;
var _AssistantStream_handleEvent;
var _AssistantStream_accumulateRunStep;
var _AssistantStream_accumulateMessage;
var _AssistantStream_accumulateContent;
var _AssistantStream_handleRun;
var AssistantStream = class extends EventStream {
  constructor() {
    super(...arguments);
    _AssistantStream_instances.add(this);
    _AssistantStream_events.set(this, []);
    _AssistantStream_runStepSnapshots.set(this, {});
    _AssistantStream_messageSnapshots.set(this, {});
    _AssistantStream_messageSnapshot.set(this, void 0);
    _AssistantStream_finalRun.set(this, void 0);
    _AssistantStream_currentContentIndex.set(this, void 0);
    _AssistantStream_currentContent.set(this, void 0);
    _AssistantStream_currentToolCallIndex.set(this, void 0);
    _AssistantStream_currentToolCall.set(this, void 0);
    _AssistantStream_currentEvent.set(this, void 0);
    _AssistantStream_currentRunSnapshot.set(this, void 0);
    _AssistantStream_currentRunStepSnapshot.set(this, void 0);
  }
  [(_AssistantStream_events = /* @__PURE__ */ new WeakMap(), _AssistantStream_runStepSnapshots = /* @__PURE__ */ new WeakMap(), _AssistantStream_messageSnapshots = /* @__PURE__ */ new WeakMap(), _AssistantStream_messageSnapshot = /* @__PURE__ */ new WeakMap(), _AssistantStream_finalRun = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentContentIndex = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentContent = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentToolCallIndex = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentToolCall = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentEvent = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentRunSnapshot = /* @__PURE__ */ new WeakMap(), _AssistantStream_currentRunStepSnapshot = /* @__PURE__ */ new WeakMap(), _AssistantStream_instances = /* @__PURE__ */ new WeakSet(), Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("event", (event) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(event);
      } else {
        pushQueue.push(event);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve2, reject) => readQueue.push({ resolve: resolve2, reject })).then((chunk2) => chunk2 ? { value: chunk2, done: false } : { value: void 0, done: true });
        }
        const chunk = pushQueue.shift();
        return { value: chunk, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  static fromReadableStream(stream) {
    const runner = new AssistantStream();
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  async _fromReadableStream(readableStream, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    this._connected();
    const stream = Stream.fromReadableStream(readableStream, this.controller);
    for await (const event of stream) {
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addRun(__classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  toReadableStream() {
    const stream = new Stream(this[Symbol.asyncIterator].bind(this), this.controller);
    return stream.toReadableStream();
  }
  static createToolAssistantStream(threadId, runId, runs, params, options) {
    const runner = new AssistantStream();
    runner._run(() => runner._runToolAssistantStream(threadId, runId, runs, params, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  async _createToolAssistantStream(run, threadId, runId, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    const body = { ...params, stream: true };
    const stream = await run.submitToolOutputs(threadId, runId, body, {
      ...options,
      signal: this.controller.signal
    });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addRun(__classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  static createThreadAssistantStream(params, thread, options) {
    const runner = new AssistantStream();
    runner._run(() => runner._threadAssistantStream(params, thread, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  static createAssistantStream(threadId, runs, params, options) {
    const runner = new AssistantStream();
    runner._run(() => runner._runAssistantStream(threadId, runs, params, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  currentEvent() {
    return __classPrivateFieldGet6(this, _AssistantStream_currentEvent, "f");
  }
  currentRun() {
    return __classPrivateFieldGet6(this, _AssistantStream_currentRunSnapshot, "f");
  }
  currentMessageSnapshot() {
    return __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f");
  }
  currentRunStepSnapshot() {
    return __classPrivateFieldGet6(this, _AssistantStream_currentRunStepSnapshot, "f");
  }
  async finalRunSteps() {
    await this.done();
    return Object.values(__classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f"));
  }
  async finalMessages() {
    await this.done();
    return Object.values(__classPrivateFieldGet6(this, _AssistantStream_messageSnapshots, "f"));
  }
  async finalRun() {
    await this.done();
    if (!__classPrivateFieldGet6(this, _AssistantStream_finalRun, "f"))
      throw Error("Final run was not received.");
    return __classPrivateFieldGet6(this, _AssistantStream_finalRun, "f");
  }
  async _createThreadAssistantStream(thread, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    const body = { ...params, stream: true };
    const stream = await thread.createAndRun(body, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addRun(__classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  async _createAssistantStream(run, threadId, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    const body = { ...params, stream: true };
    const stream = await run.create(threadId, body, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addRun(__classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_endRequest).call(this));
  }
  static accumulateDelta(acc, delta) {
    for (const [key, deltaValue] of Object.entries(delta)) {
      if (!acc.hasOwnProperty(key)) {
        acc[key] = deltaValue;
        continue;
      }
      let accValue = acc[key];
      if (accValue === null || accValue === void 0) {
        acc[key] = deltaValue;
        continue;
      }
      if (key === "index" || key === "type") {
        acc[key] = deltaValue;
        continue;
      }
      if (typeof accValue === "string" && typeof deltaValue === "string") {
        accValue += deltaValue;
      } else if (typeof accValue === "number" && typeof deltaValue === "number") {
        accValue += deltaValue;
      } else if (isObj(accValue) && isObj(deltaValue)) {
        accValue = this.accumulateDelta(accValue, deltaValue);
      } else if (Array.isArray(accValue) && Array.isArray(deltaValue)) {
        if (accValue.every((x) => typeof x === "string" || typeof x === "number")) {
          accValue.push(...deltaValue);
          continue;
        }
        for (const deltaEntry of deltaValue) {
          if (!isObj(deltaEntry)) {
            throw new Error(`Expected array delta entry to be an object but got: ${deltaEntry}`);
          }
          const index4 = deltaEntry["index"];
          if (index4 == null) {
            console.error(deltaEntry);
            throw new Error("Expected array delta entry to have an `index` property");
          }
          if (typeof index4 !== "number") {
            throw new Error(`Expected array delta entry \`index\` property to be a number but got ${index4}`);
          }
          const accEntry = accValue[index4];
          if (accEntry == null) {
            accValue.push(deltaEntry);
          } else {
            accValue[index4] = this.accumulateDelta(accEntry, deltaEntry);
          }
        }
        continue;
      } else {
        throw Error(`Unhandled record type: ${key}, deltaValue: ${deltaValue}, accValue: ${accValue}`);
      }
      acc[key] = accValue;
    }
    return acc;
  }
  _addRun(run) {
    return run;
  }
  async _threadAssistantStream(params, thread, options) {
    return await this._createThreadAssistantStream(thread, params, options);
  }
  async _runAssistantStream(threadId, runs, params, options) {
    return await this._createAssistantStream(runs, threadId, params, options);
  }
  async _runToolAssistantStream(threadId, runId, runs, params, options) {
    return await this._createToolAssistantStream(runs, threadId, runId, params, options);
  }
};
_AssistantStream_addEvent = function _AssistantStream_addEvent2(event) {
  if (this.ended)
    return;
  __classPrivateFieldSet5(this, _AssistantStream_currentEvent, event, "f");
  __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_handleEvent).call(this, event);
  switch (event.event) {
    case "thread.created":
      break;
    case "thread.run.created":
    case "thread.run.queued":
    case "thread.run.in_progress":
    case "thread.run.requires_action":
    case "thread.run.completed":
    case "thread.run.incomplete":
    case "thread.run.failed":
    case "thread.run.cancelling":
    case "thread.run.cancelled":
    case "thread.run.expired":
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_handleRun).call(this, event);
      break;
    case "thread.run.step.created":
    case "thread.run.step.in_progress":
    case "thread.run.step.delta":
    case "thread.run.step.completed":
    case "thread.run.step.failed":
    case "thread.run.step.cancelled":
    case "thread.run.step.expired":
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_handleRunStep).call(this, event);
      break;
    case "thread.message.created":
    case "thread.message.in_progress":
    case "thread.message.delta":
    case "thread.message.completed":
    case "thread.message.incomplete":
      __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_handleMessage).call(this, event);
      break;
    case "error":
      throw new Error("Encountered an error event in event processing - errors should be processed earlier");
    default:
      assertNever2(event);
  }
}, _AssistantStream_endRequest = function _AssistantStream_endRequest2() {
  if (this.ended) {
    throw new OpenAIError(`stream has ended, this shouldn't happen`);
  }
  if (!__classPrivateFieldGet6(this, _AssistantStream_finalRun, "f"))
    throw Error("Final run has not been received");
  return __classPrivateFieldGet6(this, _AssistantStream_finalRun, "f");
}, _AssistantStream_handleMessage = function _AssistantStream_handleMessage2(event) {
  const [accumulatedMessage, newContent] = __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_accumulateMessage).call(this, event, __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f"));
  __classPrivateFieldSet5(this, _AssistantStream_messageSnapshot, accumulatedMessage, "f");
  __classPrivateFieldGet6(this, _AssistantStream_messageSnapshots, "f")[accumulatedMessage.id] = accumulatedMessage;
  for (const content of newContent) {
    const snapshotContent = accumulatedMessage.content[content.index];
    if ((snapshotContent == null ? void 0 : snapshotContent.type) == "text") {
      this._emit("textCreated", snapshotContent.text);
    }
  }
  switch (event.event) {
    case "thread.message.created":
      this._emit("messageCreated", event.data);
      break;
    case "thread.message.in_progress":
      break;
    case "thread.message.delta":
      this._emit("messageDelta", event.data.delta, accumulatedMessage);
      if (event.data.delta.content) {
        for (const content of event.data.delta.content) {
          if (content.type == "text" && content.text) {
            let textDelta = content.text;
            let snapshot = accumulatedMessage.content[content.index];
            if (snapshot && snapshot.type == "text") {
              this._emit("textDelta", textDelta, snapshot.text);
            } else {
              throw Error("The snapshot associated with this text delta is not text or missing");
            }
          }
          if (content.index != __classPrivateFieldGet6(this, _AssistantStream_currentContentIndex, "f")) {
            if (__classPrivateFieldGet6(this, _AssistantStream_currentContent, "f")) {
              switch (__classPrivateFieldGet6(this, _AssistantStream_currentContent, "f").type) {
                case "text":
                  this._emit("textDone", __classPrivateFieldGet6(this, _AssistantStream_currentContent, "f").text, __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f"));
                  break;
                case "image_file":
                  this._emit("imageFileDone", __classPrivateFieldGet6(this, _AssistantStream_currentContent, "f").image_file, __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f"));
                  break;
              }
            }
            __classPrivateFieldSet5(this, _AssistantStream_currentContentIndex, content.index, "f");
          }
          __classPrivateFieldSet5(this, _AssistantStream_currentContent, accumulatedMessage.content[content.index], "f");
        }
      }
      break;
    case "thread.message.completed":
    case "thread.message.incomplete":
      if (__classPrivateFieldGet6(this, _AssistantStream_currentContentIndex, "f") !== void 0) {
        const currentContent = event.data.content[__classPrivateFieldGet6(this, _AssistantStream_currentContentIndex, "f")];
        if (currentContent) {
          switch (currentContent.type) {
            case "image_file":
              this._emit("imageFileDone", currentContent.image_file, __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f"));
              break;
            case "text":
              this._emit("textDone", currentContent.text, __classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f"));
              break;
          }
        }
      }
      if (__classPrivateFieldGet6(this, _AssistantStream_messageSnapshot, "f")) {
        this._emit("messageDone", event.data);
      }
      __classPrivateFieldSet5(this, _AssistantStream_messageSnapshot, void 0, "f");
  }
}, _AssistantStream_handleRunStep = function _AssistantStream_handleRunStep2(event) {
  const accumulatedRunStep = __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_accumulateRunStep).call(this, event);
  __classPrivateFieldSet5(this, _AssistantStream_currentRunStepSnapshot, accumulatedRunStep, "f");
  switch (event.event) {
    case "thread.run.step.created":
      this._emit("runStepCreated", event.data);
      break;
    case "thread.run.step.delta":
      const delta = event.data.delta;
      if (delta.step_details && delta.step_details.type == "tool_calls" && delta.step_details.tool_calls && accumulatedRunStep.step_details.type == "tool_calls") {
        for (const toolCall of delta.step_details.tool_calls) {
          if (toolCall.index == __classPrivateFieldGet6(this, _AssistantStream_currentToolCallIndex, "f")) {
            this._emit("toolCallDelta", toolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index]);
          } else {
            if (__classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f")) {
              this._emit("toolCallDone", __classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f"));
            }
            __classPrivateFieldSet5(this, _AssistantStream_currentToolCallIndex, toolCall.index, "f");
            __classPrivateFieldSet5(this, _AssistantStream_currentToolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index], "f");
            if (__classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f"))
              this._emit("toolCallCreated", __classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f"));
          }
        }
      }
      this._emit("runStepDelta", event.data.delta, accumulatedRunStep);
      break;
    case "thread.run.step.completed":
    case "thread.run.step.failed":
    case "thread.run.step.cancelled":
    case "thread.run.step.expired":
      __classPrivateFieldSet5(this, _AssistantStream_currentRunStepSnapshot, void 0, "f");
      const details = event.data.step_details;
      if (details.type == "tool_calls") {
        if (__classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f")) {
          this._emit("toolCallDone", __classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f"));
          __classPrivateFieldSet5(this, _AssistantStream_currentToolCall, void 0, "f");
        }
      }
      this._emit("runStepDone", event.data, accumulatedRunStep);
      break;
    case "thread.run.step.in_progress":
      break;
  }
}, _AssistantStream_handleEvent = function _AssistantStream_handleEvent2(event) {
  __classPrivateFieldGet6(this, _AssistantStream_events, "f").push(event);
  this._emit("event", event);
}, _AssistantStream_accumulateRunStep = function _AssistantStream_accumulateRunStep2(event) {
  switch (event.event) {
    case "thread.run.step.created":
      __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id] = event.data;
      return event.data;
    case "thread.run.step.delta":
      let snapshot = __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id];
      if (!snapshot) {
        throw Error("Received a RunStepDelta before creation of a snapshot");
      }
      let data = event.data;
      if (data.delta) {
        const accumulated = AssistantStream.accumulateDelta(snapshot, data.delta);
        __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id] = accumulated;
      }
      return __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id];
    case "thread.run.step.completed":
    case "thread.run.step.failed":
    case "thread.run.step.cancelled":
    case "thread.run.step.expired":
    case "thread.run.step.in_progress":
      __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id] = event.data;
      break;
  }
  if (__classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id])
    return __classPrivateFieldGet6(this, _AssistantStream_runStepSnapshots, "f")[event.data.id];
  throw new Error("No snapshot available");
}, _AssistantStream_accumulateMessage = function _AssistantStream_accumulateMessage2(event, snapshot) {
  let newContent = [];
  switch (event.event) {
    case "thread.message.created":
      return [event.data, newContent];
    case "thread.message.delta":
      if (!snapshot) {
        throw Error("Received a delta with no existing snapshot (there should be one from message creation)");
      }
      let data = event.data;
      if (data.delta.content) {
        for (const contentElement of data.delta.content) {
          if (contentElement.index in snapshot.content) {
            let currentContent = snapshot.content[contentElement.index];
            snapshot.content[contentElement.index] = __classPrivateFieldGet6(this, _AssistantStream_instances, "m", _AssistantStream_accumulateContent).call(this, contentElement, currentContent);
          } else {
            snapshot.content[contentElement.index] = contentElement;
            newContent.push(contentElement);
          }
        }
      }
      return [snapshot, newContent];
    case "thread.message.in_progress":
    case "thread.message.completed":
    case "thread.message.incomplete":
      if (snapshot) {
        return [snapshot, newContent];
      } else {
        throw Error("Received thread message event with no existing snapshot");
      }
  }
  throw Error("Tried to accumulate a non-message event");
}, _AssistantStream_accumulateContent = function _AssistantStream_accumulateContent2(contentElement, currentContent) {
  return AssistantStream.accumulateDelta(currentContent, contentElement);
}, _AssistantStream_handleRun = function _AssistantStream_handleRun2(event) {
  __classPrivateFieldSet5(this, _AssistantStream_currentRunSnapshot, event.data, "f");
  switch (event.event) {
    case "thread.run.created":
      break;
    case "thread.run.queued":
      break;
    case "thread.run.in_progress":
      break;
    case "thread.run.requires_action":
    case "thread.run.cancelled":
    case "thread.run.failed":
    case "thread.run.completed":
    case "thread.run.expired":
      __classPrivateFieldSet5(this, _AssistantStream_finalRun, event.data, "f");
      if (__classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f")) {
        this._emit("toolCallDone", __classPrivateFieldGet6(this, _AssistantStream_currentToolCall, "f"));
        __classPrivateFieldSet5(this, _AssistantStream_currentToolCall, void 0, "f");
      }
      break;
    case "thread.run.cancelling":
      break;
  }
};
function assertNever2(_x) {
}

// node_modules/openai/resources/beta/threads/messages.mjs
var Messages2 = class extends APIResource {
  /**
   * Create a message.
   */
  create(threadId, body, options) {
    return this._client.post(`/threads/${threadId}/messages`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieve a message.
   */
  retrieve(threadId, messageId, options) {
    return this._client.get(`/threads/${threadId}/messages/${messageId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a message.
   */
  update(threadId, messageId, body, options) {
    return this._client.post(`/threads/${threadId}/messages/${messageId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/messages`, MessagesPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Deletes a message.
   */
  del(threadId, messageId, options) {
    return this._client.delete(`/threads/${threadId}/messages/${messageId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};
var MessagesPage = class extends CursorPage {
};
Messages2.MessagesPage = MessagesPage;

// node_modules/openai/resources/beta/threads/runs/steps.mjs
var Steps = class extends APIResource {
  retrieve(threadId, runId, stepId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.retrieve(threadId, runId, stepId, {}, query);
    }
    return this._client.get(`/threads/${threadId}/runs/${runId}/steps/${stepId}`, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, runId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, runId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/runs/${runId}/steps`, RunStepsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};
var RunStepsPage = class extends CursorPage {
};
Steps.RunStepsPage = RunStepsPage;

// node_modules/openai/resources/beta/threads/runs/runs.mjs
var Runs = class extends APIResource {
  constructor() {
    super(...arguments);
    this.steps = new Steps(this._client);
  }
  create(threadId, params, options) {
    var _a2;
    const { include, ...body } = params;
    return this._client.post(`/threads/${threadId}/runs`, {
      query: { include },
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers },
      stream: (_a2 = params.stream) != null ? _a2 : false
    });
  }
  /**
   * Retrieves a run.
   */
  retrieve(threadId, runId, options) {
    return this._client.get(`/threads/${threadId}/runs/${runId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a run.
   */
  update(threadId, runId, body, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(threadId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/runs`, RunsPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Cancels a run that is `in_progress`.
   */
  cancel(threadId, runId, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}/cancel`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * A helper to create a run an poll for a terminal state. More information on Run
   * lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async createAndPoll(threadId, body, options) {
    const run = await this.create(threadId, body, options);
    return await this.poll(threadId, run.id, options);
  }
  /**
   * Create a Run stream
   *
   * @deprecated use `stream` instead
   */
  createAndStream(threadId, body, options) {
    return AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);
  }
  /**
   * A helper to poll a run status until it reaches a terminal state. More
   * information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async poll(threadId, runId, options) {
    const headers = { ...options == null ? void 0 : options.headers, "X-Stainless-Poll-Helper": "true" };
    if (options == null ? void 0 : options.pollIntervalMs) {
      headers["X-Stainless-Custom-Poll-Interval"] = options.pollIntervalMs.toString();
    }
    while (true) {
      const { data: run, response } = await this.retrieve(threadId, runId, {
        ...options,
        headers: { ...options == null ? void 0 : options.headers, ...headers }
      }).withResponse();
      switch (run.status) {
        case "queued":
        case "in_progress":
        case "cancelling":
          let sleepInterval = 5e3;
          if (options == null ? void 0 : options.pollIntervalMs) {
            sleepInterval = options.pollIntervalMs;
          } else {
            const headerInterval = response.headers.get("openai-poll-after-ms");
            if (headerInterval) {
              const headerIntervalMs = parseInt(headerInterval);
              if (!isNaN(headerIntervalMs)) {
                sleepInterval = headerIntervalMs;
              }
            }
          }
          await sleep(sleepInterval);
          break;
        case "requires_action":
        case "incomplete":
        case "cancelled":
        case "completed":
        case "failed":
        case "expired":
          return run;
      }
    }
  }
  /**
   * Create a Run stream
   */
  stream(threadId, body, options) {
    return AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);
  }
  submitToolOutputs(threadId, runId, body, options) {
    var _a2;
    return this._client.post(`/threads/${threadId}/runs/${runId}/submit_tool_outputs`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers },
      stream: (_a2 = body.stream) != null ? _a2 : false
    });
  }
  /**
   * A helper to submit a tool output to a run and poll for a terminal run state.
   * More information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async submitToolOutputsAndPoll(threadId, runId, body, options) {
    const run = await this.submitToolOutputs(threadId, runId, body, options);
    return await this.poll(threadId, run.id, options);
  }
  /**
   * Submit the tool outputs from a previous run and stream the run to a terminal
   * state. More information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  submitToolOutputsStream(threadId, runId, body, options) {
    return AssistantStream.createToolAssistantStream(threadId, runId, this._client.beta.threads.runs, body, options);
  }
};
var RunsPage = class extends CursorPage {
};
Runs.RunsPage = RunsPage;
Runs.Steps = Steps;
Runs.RunStepsPage = RunStepsPage;

// node_modules/openai/resources/beta/threads/threads.mjs
var Threads = class extends APIResource {
  constructor() {
    super(...arguments);
    this.runs = new Runs(this._client);
    this.messages = new Messages2(this._client);
  }
  create(body = {}, options) {
    if (isRequestOptions(body)) {
      return this.create({}, body);
    }
    return this._client.post("/threads", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a thread.
   */
  retrieve(threadId, options) {
    return this._client.get(`/threads/${threadId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a thread.
   */
  update(threadId, body, options) {
    return this._client.post(`/threads/${threadId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete a thread.
   */
  del(threadId, options) {
    return this._client.delete(`/threads/${threadId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  createAndRun(body, options) {
    var _a2;
    return this._client.post("/threads/runs", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers },
      stream: (_a2 = body.stream) != null ? _a2 : false
    });
  }
  /**
   * A helper to create a thread, start a run and then poll for a terminal state.
   * More information on Run lifecycles can be found here:
   * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps
   */
  async createAndRunPoll(body, options) {
    const run = await this.createAndRun(body, options);
    return await this.runs.poll(run.thread_id, run.id, options);
  }
  /**
   * Create a thread and stream the run back
   */
  createAndRunStream(body, options) {
    return AssistantStream.createThreadAssistantStream(body, this._client.beta.threads, options);
  }
};
Threads.Runs = Runs;
Threads.RunsPage = RunsPage;
Threads.Messages = Messages2;
Threads.MessagesPage = MessagesPage;

// node_modules/openai/resources/beta/beta.mjs
var Beta = class extends APIResource {
  constructor() {
    super(...arguments);
    this.realtime = new Realtime(this._client);
    this.chat = new Chat2(this._client);
    this.assistants = new Assistants(this._client);
    this.threads = new Threads(this._client);
  }
};
Beta.Realtime = Realtime;
Beta.Assistants = Assistants;
Beta.AssistantsPage = AssistantsPage;
Beta.Threads = Threads;

// node_modules/openai/resources/completions.mjs
var Completions3 = class extends APIResource {
  create(body, options) {
    var _a2;
    return this._client.post("/completions", { body, ...options, stream: (_a2 = body.stream) != null ? _a2 : false });
  }
};

// node_modules/openai/resources/embeddings.mjs
var Embeddings = class extends APIResource {
  /**
   * Creates an embedding vector representing the input text.
   */
  create(body, options) {
    return this._client.post("/embeddings", { body, ...options });
  }
};

// node_modules/openai/resources/files.mjs
var Files = class extends APIResource {
  /**
   * Upload a file that can be used across various endpoints. Individual files can be
   * up to 512 MB, and the size of all files uploaded by one organization can be up
   * to 100 GB.
   *
   * The Assistants API supports files up to 2 million tokens and of specific file
   * types. See the
   * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for
   * details.
   *
   * The Fine-tuning API only supports `.jsonl` files. The input also has certain
   * required formats for fine-tuning
   * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or
   * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)
   * models.
   *
   * The Batch API only supports `.jsonl` files up to 200 MB in size. The input also
   * has a specific required
   * [format](https://platform.openai.com/docs/api-reference/batch/request-input).
   *
   * Please [contact us](https://help.openai.com/) if you need to increase these
   * storage limits.
   */
  create(body, options) {
    return this._client.post("/files", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Returns information about a specific file.
   */
  retrieve(fileId, options) {
    return this._client.get(`/files/${fileId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/files", FileObjectsPage, { query, ...options });
  }
  /**
   * Delete a file.
   */
  del(fileId, options) {
    return this._client.delete(`/files/${fileId}`, options);
  }
  /**
   * Returns the contents of the specified file.
   */
  content(fileId, options) {
    return this._client.get(`/files/${fileId}/content`, {
      ...options,
      headers: { Accept: "application/binary", ...options == null ? void 0 : options.headers },
      __binaryResponse: true
    });
  }
  /**
   * Returns the contents of the specified file.
   *
   * @deprecated The `.content()` method should be used instead
   */
  retrieveContent(fileId, options) {
    return this._client.get(`/files/${fileId}/content`, options);
  }
  /**
   * Waits for the given file to be processed, default timeout is 30 mins.
   */
  async waitForProcessing(id, { pollInterval = 5e3, maxWait = 30 * 60 * 1e3 } = {}) {
    const TERMINAL_STATES = /* @__PURE__ */ new Set(["processed", "error", "deleted"]);
    const start2 = Date.now();
    let file = await this.retrieve(id);
    while (!file.status || !TERMINAL_STATES.has(file.status)) {
      await sleep(pollInterval);
      file = await this.retrieve(id);
      if (Date.now() - start2 > maxWait) {
        throw new APIConnectionTimeoutError({
          message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`
        });
      }
    }
    return file;
  }
};
var FileObjectsPage = class extends CursorPage {
};
Files.FileObjectsPage = FileObjectsPage;

// node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs
var Checkpoints = class extends APIResource {
  list(fineTuningJobId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(fineTuningJobId, {}, query);
    }
    return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/checkpoints`, FineTuningJobCheckpointsPage, { query, ...options });
  }
};
var FineTuningJobCheckpointsPage = class extends CursorPage {
};
Checkpoints.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage;

// node_modules/openai/resources/fine-tuning/jobs/jobs.mjs
var Jobs = class extends APIResource {
  constructor() {
    super(...arguments);
    this.checkpoints = new Checkpoints(this._client);
  }
  /**
   * Creates a fine-tuning job which begins the process of creating a new model from
   * a given dataset.
   *
   * Response includes details of the enqueued job including job status and the name
   * of the fine-tuned models once complete.
   *
   * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)
   */
  create(body, options) {
    return this._client.post("/fine_tuning/jobs", { body, ...options });
  }
  /**
   * Get info about a fine-tuning job.
   *
   * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)
   */
  retrieve(fineTuningJobId, options) {
    return this._client.get(`/fine_tuning/jobs/${fineTuningJobId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/fine_tuning/jobs", FineTuningJobsPage, { query, ...options });
  }
  /**
   * Immediately cancel a fine-tune job.
   */
  cancel(fineTuningJobId, options) {
    return this._client.post(`/fine_tuning/jobs/${fineTuningJobId}/cancel`, options);
  }
  listEvents(fineTuningJobId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.listEvents(fineTuningJobId, {}, query);
    }
    return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/events`, FineTuningJobEventsPage, {
      query,
      ...options
    });
  }
};
var FineTuningJobsPage = class extends CursorPage {
};
var FineTuningJobEventsPage = class extends CursorPage {
};
Jobs.FineTuningJobsPage = FineTuningJobsPage;
Jobs.FineTuningJobEventsPage = FineTuningJobEventsPage;
Jobs.Checkpoints = Checkpoints;
Jobs.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage;

// node_modules/openai/resources/fine-tuning/fine-tuning.mjs
var FineTuning = class extends APIResource {
  constructor() {
    super(...arguments);
    this.jobs = new Jobs(this._client);
  }
};
FineTuning.Jobs = Jobs;
FineTuning.FineTuningJobsPage = FineTuningJobsPage;
FineTuning.FineTuningJobEventsPage = FineTuningJobEventsPage;

// node_modules/openai/resources/images.mjs
var Images = class extends APIResource {
  /**
   * Creates a variation of a given image.
   */
  createVariation(body, options) {
    return this._client.post("/images/variations", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Creates an edited or extended image given an original image and a prompt.
   */
  edit(body, options) {
    return this._client.post("/images/edits", multipartFormRequestOptions({ body, ...options }));
  }
  /**
   * Creates an image given a prompt.
   */
  generate(body, options) {
    return this._client.post("/images/generations", { body, ...options });
  }
};

// node_modules/openai/resources/models.mjs
var Models = class extends APIResource {
  /**
   * Retrieves a model instance, providing basic information about the model such as
   * the owner and permissioning.
   */
  retrieve(model4, options) {
    return this._client.get(`/models/${model4}`, options);
  }
  /**
   * Lists the currently available models, and provides basic information about each
   * one such as the owner and availability.
   */
  list(options) {
    return this._client.getAPIList("/models", ModelsPage, options);
  }
  /**
   * Delete a fine-tuned model. You must have the Owner role in your organization to
   * delete a model.
   */
  del(model4, options) {
    return this._client.delete(`/models/${model4}`, options);
  }
};
var ModelsPage = class extends Page {
};
Models.ModelsPage = ModelsPage;

// node_modules/openai/resources/moderations.mjs
var Moderations = class extends APIResource {
  /**
   * Classifies if text and/or image inputs are potentially harmful. Learn more in
   * the [moderation guide](https://platform.openai.com/docs/guides/moderation).
   */
  create(body, options) {
    return this._client.post("/moderations", { body, ...options });
  }
};

// node_modules/openai/lib/ResponsesParser.mjs
function maybeParseResponse(response, params) {
  if (!params || !hasAutoParseableInput2(params)) {
    return {
      ...response,
      output_parsed: null,
      output: response.output.map((item) => {
        if (item.type === "function_call") {
          return {
            ...item,
            parsed_arguments: null
          };
        }
        if (item.type === "message") {
          return {
            ...item,
            content: item.content.map((content) => ({
              ...content,
              parsed: null
            }))
          };
        } else {
          return item;
        }
      })
    };
  }
  return parseResponse(response, params);
}
function parseResponse(response, params) {
  const output = response.output.map((item) => {
    if (item.type === "function_call") {
      return {
        ...item,
        parsed_arguments: parseToolCall2(params, item)
      };
    }
    if (item.type === "message") {
      const content = item.content.map((content2) => {
        if (content2.type === "output_text") {
          return {
            ...content2,
            parsed: parseTextFormat(params, content2.text)
          };
        }
        return content2;
      });
      return {
        ...item,
        content
      };
    }
    return item;
  });
  const parsed = Object.assign({}, response, { output });
  if (!Object.getOwnPropertyDescriptor(response, "output_text")) {
    addOutputText(parsed);
  }
  Object.defineProperty(parsed, "output_parsed", {
    enumerable: true,
    get() {
      for (const output2 of parsed.output) {
        if (output2.type !== "message") {
          continue;
        }
        for (const content of output2.content) {
          if (content.type === "output_text" && content.parsed !== null) {
            return content.parsed;
          }
        }
      }
      return null;
    }
  });
  return parsed;
}
function parseTextFormat(params, content) {
  var _a2, _b, _c, _d;
  if (((_b = (_a2 = params.text) == null ? void 0 : _a2.format) == null ? void 0 : _b.type) !== "json_schema") {
    return null;
  }
  if ("$parseRaw" in ((_c = params.text) == null ? void 0 : _c.format)) {
    const text_format = (_d = params.text) == null ? void 0 : _d.format;
    return text_format.$parseRaw(content);
  }
  return JSON.parse(content);
}
function hasAutoParseableInput2(params) {
  var _a2;
  if (isAutoParsableResponseFormat((_a2 = params.text) == null ? void 0 : _a2.format)) {
    return true;
  }
  return false;
}
function isAutoParsableTool2(tool) {
  return (tool == null ? void 0 : tool["$brand"]) === "auto-parseable-tool";
}
function getInputToolByName(input_tools, name) {
  return input_tools.find((tool) => tool.type === "function" && tool.name === name);
}
function parseToolCall2(params, toolCall) {
  var _a2;
  const inputTool = getInputToolByName((_a2 = params.tools) != null ? _a2 : [], toolCall.name);
  return {
    ...toolCall,
    ...toolCall,
    parsed_arguments: isAutoParsableTool2(inputTool) ? inputTool.$parseRaw(toolCall.arguments) : (inputTool == null ? void 0 : inputTool.strict) ? JSON.parse(toolCall.arguments) : null
  };
}
function addOutputText(rsp) {
  const texts = [];
  for (const output of rsp.output) {
    if (output.type !== "message") {
      continue;
    }
    for (const content of output.content) {
      if (content.type === "output_text") {
        texts.push(content.text);
      }
    }
  }
  rsp.output_text = texts.join("");
}

// node_modules/openai/resources/responses/input-items.mjs
var InputItems = class extends APIResource {
  list(responseId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(responseId, {}, query);
    }
    return this._client.getAPIList(`/responses/${responseId}/input_items`, ResponseItemsPage, {
      query,
      ...options
    });
  }
};

// node_modules/openai/lib/responses/ResponseStream.mjs
var __classPrivateFieldSet6 = function(receiver, state, value, kind2, f2) {
  if (kind2 === "m")
    throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return kind2 === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
};
var __classPrivateFieldGet7 = function(receiver, state, kind2, f2) {
  if (kind2 === "a" && !f2)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind2 === "m" ? f2 : kind2 === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
};
var _ResponseStream_instances;
var _ResponseStream_params;
var _ResponseStream_currentResponseSnapshot;
var _ResponseStream_finalResponse;
var _ResponseStream_beginRequest;
var _ResponseStream_addEvent;
var _ResponseStream_endRequest;
var _ResponseStream_accumulateResponse;
var ResponseStream = class extends EventStream {
  constructor(params) {
    super();
    _ResponseStream_instances.add(this);
    _ResponseStream_params.set(this, void 0);
    _ResponseStream_currentResponseSnapshot.set(this, void 0);
    _ResponseStream_finalResponse.set(this, void 0);
    __classPrivateFieldSet6(this, _ResponseStream_params, params, "f");
  }
  static createResponse(client, params, options) {
    const runner = new ResponseStream(params);
    runner._run(() => runner._createResponse(client, params, {
      ...options,
      headers: { ...options == null ? void 0 : options.headers, "X-Stainless-Helper-Method": "stream" }
    }));
    return runner;
  }
  async _createResponse(client, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted)
        this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet7(this, _ResponseStream_instances, "m", _ResponseStream_beginRequest).call(this);
    const stream = await client.responses.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });
    this._connected();
    for await (const event of stream) {
      __classPrivateFieldGet7(this, _ResponseStream_instances, "m", _ResponseStream_addEvent).call(this, event);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return __classPrivateFieldGet7(this, _ResponseStream_instances, "m", _ResponseStream_endRequest).call(this);
  }
  [(_ResponseStream_params = /* @__PURE__ */ new WeakMap(), _ResponseStream_currentResponseSnapshot = /* @__PURE__ */ new WeakMap(), _ResponseStream_finalResponse = /* @__PURE__ */ new WeakMap(), _ResponseStream_instances = /* @__PURE__ */ new WeakSet(), _ResponseStream_beginRequest = function _ResponseStream_beginRequest2() {
    if (this.ended)
      return;
    __classPrivateFieldSet6(this, _ResponseStream_currentResponseSnapshot, void 0, "f");
  }, _ResponseStream_addEvent = function _ResponseStream_addEvent2(event) {
    if (this.ended)
      return;
    const response = __classPrivateFieldGet7(this, _ResponseStream_instances, "m", _ResponseStream_accumulateResponse).call(this, event);
    this._emit("event", event);
    switch (event.type) {
      case "response.output_text.delta": {
        const output = response.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "message") {
          const content = output.content[event.content_index];
          if (!content) {
            throw new OpenAIError(`missing content at index ${event.content_index}`);
          }
          if (content.type !== "output_text") {
            throw new OpenAIError(`expected content to be 'output_text', got ${content.type}`);
          }
          this._emit("response.output_text.delta", {
            ...event,
            snapshot: content.text
          });
        }
        break;
      }
      case "response.function_call_arguments.delta": {
        const output = response.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "function_call") {
          this._emit("response.function_call_arguments.delta", {
            ...event,
            snapshot: output.arguments
          });
        }
        break;
      }
      default:
        this._emit(event.type, event);
        break;
    }
  }, _ResponseStream_endRequest = function _ResponseStream_endRequest2() {
    if (this.ended) {
      throw new OpenAIError(`stream has ended, this shouldn't happen`);
    }
    const snapshot = __classPrivateFieldGet7(this, _ResponseStream_currentResponseSnapshot, "f");
    if (!snapshot) {
      throw new OpenAIError(`request ended without sending any events`);
    }
    __classPrivateFieldSet6(this, _ResponseStream_currentResponseSnapshot, void 0, "f");
    const parsedResponse = finalizeResponse(snapshot, __classPrivateFieldGet7(this, _ResponseStream_params, "f"));
    __classPrivateFieldSet6(this, _ResponseStream_finalResponse, parsedResponse, "f");
    return parsedResponse;
  }, _ResponseStream_accumulateResponse = function _ResponseStream_accumulateResponse2(event) {
    let snapshot = __classPrivateFieldGet7(this, _ResponseStream_currentResponseSnapshot, "f");
    if (!snapshot) {
      if (event.type !== "response.created") {
        throw new OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${event.type}`);
      }
      snapshot = __classPrivateFieldSet6(this, _ResponseStream_currentResponseSnapshot, event.response, "f");
      return snapshot;
    }
    switch (event.type) {
      case "response.output_item.added": {
        snapshot.output.push(event.item);
        break;
      }
      case "response.content_part.added": {
        const output = snapshot.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "message") {
          output.content.push(event.part);
        }
        break;
      }
      case "response.output_text.delta": {
        const output = snapshot.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "message") {
          const content = output.content[event.content_index];
          if (!content) {
            throw new OpenAIError(`missing content at index ${event.content_index}`);
          }
          if (content.type !== "output_text") {
            throw new OpenAIError(`expected content to be 'output_text', got ${content.type}`);
          }
          content.text += event.delta;
        }
        break;
      }
      case "response.function_call_arguments.delta": {
        const output = snapshot.output[event.output_index];
        if (!output) {
          throw new OpenAIError(`missing output at index ${event.output_index}`);
        }
        if (output.type === "function_call") {
          output.arguments += event.delta;
        }
        break;
      }
      case "response.completed": {
        __classPrivateFieldSet6(this, _ResponseStream_currentResponseSnapshot, event.response, "f");
        break;
      }
    }
    return snapshot;
  }, Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("event", (event) => {
      const reader = readQueue.shift();
      if (reader) {
        reader.resolve(event);
      } else {
        pushQueue.push(event);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader.resolve(void 0);
      }
      readQueue.length = 0;
    });
    this.on("abort", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    this.on("error", (err) => {
      done = true;
      for (const reader of readQueue) {
        reader.reject(err);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve2, reject) => readQueue.push({ resolve: resolve2, reject })).then((event2) => event2 ? { value: event2, done: false } : { value: void 0, done: true });
        }
        const event = pushQueue.shift();
        return { value: event, done: false };
      },
      return: async () => {
        this.abort();
        return { value: void 0, done: true };
      }
    };
  }
  /**
   * @returns a promise that resolves with the final Response, or rejects
   * if an error occurred or the stream ended prematurely without producing a REsponse.
   */
  async finalResponse() {
    await this.done();
    const response = __classPrivateFieldGet7(this, _ResponseStream_finalResponse, "f");
    if (!response)
      throw new OpenAIError("stream ended without producing a ChatCompletion");
    return response;
  }
};
function finalizeResponse(snapshot, params) {
  return maybeParseResponse(snapshot, params);
}

// node_modules/openai/resources/responses/responses.mjs
var Responses = class extends APIResource {
  constructor() {
    super(...arguments);
    this.inputItems = new InputItems(this._client);
  }
  create(body, options) {
    var _a2;
    return this._client.post("/responses", { body, ...options, stream: (_a2 = body.stream) != null ? _a2 : false })._thenUnwrap((rsp) => {
      if ("object" in rsp && rsp.object === "response") {
        addOutputText(rsp);
      }
      return rsp;
    });
  }
  retrieve(responseId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.retrieve(responseId, {}, query);
    }
    return this._client.get(`/responses/${responseId}`, { query, ...options });
  }
  /**
   * Deletes a model response with the given ID.
   */
  del(responseId, options) {
    return this._client.delete(`/responses/${responseId}`, {
      ...options,
      headers: { Accept: "*/*", ...options == null ? void 0 : options.headers }
    });
  }
  parse(body, options) {
    return this._client.responses.create(body, options)._thenUnwrap((response) => parseResponse(response, body));
  }
  /**
   * Creates a chat completion stream
   */
  stream(body, options) {
    return ResponseStream.createResponse(this._client, body, options);
  }
};
var ResponseItemsPage = class extends CursorPage {
};
Responses.InputItems = InputItems;

// node_modules/openai/resources/uploads/parts.mjs
var Parts = class extends APIResource {
  /**
   * Adds a
   * [Part](https://platform.openai.com/docs/api-reference/uploads/part-object) to an
   * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object.
   * A Part represents a chunk of bytes from the file you are trying to upload.
   *
   * Each Part can be at most 64 MB, and you can add Parts until you hit the Upload
   * maximum of 8 GB.
   *
   * It is possible to add multiple Parts in parallel. You can decide the intended
   * order of the Parts when you
   * [complete the Upload](https://platform.openai.com/docs/api-reference/uploads/complete).
   */
  create(uploadId, body, options) {
    return this._client.post(`/uploads/${uploadId}/parts`, multipartFormRequestOptions({ body, ...options }));
  }
};

// node_modules/openai/resources/uploads/uploads.mjs
var Uploads = class extends APIResource {
  constructor() {
    super(...arguments);
    this.parts = new Parts(this._client);
  }
  /**
   * Creates an intermediate
   * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object
   * that you can add
   * [Parts](https://platform.openai.com/docs/api-reference/uploads/part-object) to.
   * Currently, an Upload can accept at most 8 GB in total and expires after an hour
   * after you create it.
   *
   * Once you complete the Upload, we will create a
   * [File](https://platform.openai.com/docs/api-reference/files/object) object that
   * contains all the parts you uploaded. This File is usable in the rest of our
   * platform as a regular File object.
   *
   * For certain `purpose` values, the correct `mime_type` must be specified. Please
   * refer to documentation for the
   * [supported MIME types for your use case](https://platform.openai.com/docs/assistants/tools/file-search#supported-files).
   *
   * For guidance on the proper filename extensions for each purpose, please follow
   * the documentation on
   * [creating a File](https://platform.openai.com/docs/api-reference/files/create).
   */
  create(body, options) {
    return this._client.post("/uploads", { body, ...options });
  }
  /**
   * Cancels the Upload. No Parts may be added after an Upload is cancelled.
   */
  cancel(uploadId, options) {
    return this._client.post(`/uploads/${uploadId}/cancel`, options);
  }
  /**
   * Completes the
   * [Upload](https://platform.openai.com/docs/api-reference/uploads/object).
   *
   * Within the returned Upload object, there is a nested
   * [File](https://platform.openai.com/docs/api-reference/files/object) object that
   * is ready to use in the rest of the platform.
   *
   * You can specify the order of the Parts by passing in an ordered list of the Part
   * IDs.
   *
   * The number of bytes uploaded upon completion must match the number of bytes
   * initially specified when creating the Upload object. No Parts may be added after
   * an Upload is completed.
   */
  complete(uploadId, body, options) {
    return this._client.post(`/uploads/${uploadId}/complete`, { body, ...options });
  }
};
Uploads.Parts = Parts;

// node_modules/openai/lib/Util.mjs
var allSettledWithThrow = async (promises2) => {
  const results = await Promise.allSettled(promises2);
  const rejected = results.filter((result) => result.status === "rejected");
  if (rejected.length) {
    for (const result of rejected) {
      console.error(result.reason);
    }
    throw new Error(`${rejected.length} promise(s) failed - see the above errors`);
  }
  const values = [];
  for (const result of results) {
    if (result.status === "fulfilled") {
      values.push(result.value);
    }
  }
  return values;
};

// node_modules/openai/resources/vector-stores/files.mjs
var Files2 = class extends APIResource {
  /**
   * Create a vector store file by attaching a
   * [File](https://platform.openai.com/docs/api-reference/files) to a
   * [vector store](https://platform.openai.com/docs/api-reference/vector-stores/object).
   */
  create(vectorStoreId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/files`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a vector store file.
   */
  retrieve(vectorStoreId, fileId, options) {
    return this._client.get(`/vector_stores/${vectorStoreId}/files/${fileId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Update attributes on a vector store file.
   */
  update(vectorStoreId, fileId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/files/${fileId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(vectorStoreId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(vectorStoreId, {}, query);
    }
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files`, VectorStoreFilesPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete a vector store file. This will remove the file from the vector store but
   * the file itself will not be deleted. To delete the file, use the
   * [delete file](https://platform.openai.com/docs/api-reference/files/delete)
   * endpoint.
   */
  del(vectorStoreId, fileId, options) {
    return this._client.delete(`/vector_stores/${vectorStoreId}/files/${fileId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Attach a file to the given vector store and wait for it to be processed.
   */
  async createAndPoll(vectorStoreId, body, options) {
    const file = await this.create(vectorStoreId, body, options);
    return await this.poll(vectorStoreId, file.id, options);
  }
  /**
   * Wait for the vector store file to finish processing.
   *
   * Note: this will return even if the file failed to process, you need to check
   * file.last_error and file.status to handle these cases
   */
  async poll(vectorStoreId, fileId, options) {
    const headers = { ...options == null ? void 0 : options.headers, "X-Stainless-Poll-Helper": "true" };
    if (options == null ? void 0 : options.pollIntervalMs) {
      headers["X-Stainless-Custom-Poll-Interval"] = options.pollIntervalMs.toString();
    }
    while (true) {
      const fileResponse = await this.retrieve(vectorStoreId, fileId, {
        ...options,
        headers
      }).withResponse();
      const file = fileResponse.data;
      switch (file.status) {
        case "in_progress":
          let sleepInterval = 5e3;
          if (options == null ? void 0 : options.pollIntervalMs) {
            sleepInterval = options.pollIntervalMs;
          } else {
            const headerInterval = fileResponse.response.headers.get("openai-poll-after-ms");
            if (headerInterval) {
              const headerIntervalMs = parseInt(headerInterval);
              if (!isNaN(headerIntervalMs)) {
                sleepInterval = headerIntervalMs;
              }
            }
          }
          await sleep(sleepInterval);
          break;
        case "failed":
        case "completed":
          return file;
      }
    }
  }
  /**
   * Upload a file to the `files` API and then attach it to the given vector store.
   *
   * Note the file will be asynchronously processed (you can use the alternative
   * polling helper method to wait for processing to complete).
   */
  async upload(vectorStoreId, file, options) {
    const fileInfo = await this._client.files.create({ file, purpose: "assistants" }, options);
    return this.create(vectorStoreId, { file_id: fileInfo.id }, options);
  }
  /**
   * Add a file to a vector store and poll until processing is complete.
   */
  async uploadAndPoll(vectorStoreId, file, options) {
    const fileInfo = await this.upload(vectorStoreId, file, options);
    return await this.poll(vectorStoreId, fileInfo.id, options);
  }
  /**
   * Retrieve the parsed contents of a vector store file.
   */
  content(vectorStoreId, fileId, options) {
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files/${fileId}/content`, FileContentResponsesPage, { ...options, headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers } });
  }
};
var VectorStoreFilesPage = class extends CursorPage {
};
var FileContentResponsesPage = class extends Page {
};
Files2.VectorStoreFilesPage = VectorStoreFilesPage;
Files2.FileContentResponsesPage = FileContentResponsesPage;

// node_modules/openai/resources/vector-stores/file-batches.mjs
var FileBatches = class extends APIResource {
  /**
   * Create a vector store file batch.
   */
  create(vectorStoreId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/file_batches`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a vector store file batch.
   */
  retrieve(vectorStoreId, batchId, options) {
    return this._client.get(`/vector_stores/${vectorStoreId}/file_batches/${batchId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Cancel a vector store file batch. This attempts to cancel the processing of
   * files in this batch as soon as possible.
   */
  cancel(vectorStoreId, batchId, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/cancel`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Create a vector store batch and poll until all files have been processed.
   */
  async createAndPoll(vectorStoreId, body, options) {
    const batch = await this.create(vectorStoreId, body);
    return await this.poll(vectorStoreId, batch.id, options);
  }
  listFiles(vectorStoreId, batchId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.listFiles(vectorStoreId, batchId, {}, query);
    }
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/files`, VectorStoreFilesPage, { query, ...options, headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers } });
  }
  /**
   * Wait for the given file batch to be processed.
   *
   * Note: this will return even if one of the files failed to process, you need to
   * check batch.file_counts.failed_count to handle this case.
   */
  async poll(vectorStoreId, batchId, options) {
    const headers = { ...options == null ? void 0 : options.headers, "X-Stainless-Poll-Helper": "true" };
    if (options == null ? void 0 : options.pollIntervalMs) {
      headers["X-Stainless-Custom-Poll-Interval"] = options.pollIntervalMs.toString();
    }
    while (true) {
      const { data: batch, response } = await this.retrieve(vectorStoreId, batchId, {
        ...options,
        headers
      }).withResponse();
      switch (batch.status) {
        case "in_progress":
          let sleepInterval = 5e3;
          if (options == null ? void 0 : options.pollIntervalMs) {
            sleepInterval = options.pollIntervalMs;
          } else {
            const headerInterval = response.headers.get("openai-poll-after-ms");
            if (headerInterval) {
              const headerIntervalMs = parseInt(headerInterval);
              if (!isNaN(headerIntervalMs)) {
                sleepInterval = headerIntervalMs;
              }
            }
          }
          await sleep(sleepInterval);
          break;
        case "failed":
        case "cancelled":
        case "completed":
          return batch;
      }
    }
  }
  /**
   * Uploads the given files concurrently and then creates a vector store file batch.
   *
   * The concurrency limit is configurable using the `maxConcurrency` parameter.
   */
  async uploadAndPoll(vectorStoreId, { files, fileIds = [] }, options) {
    var _a2;
    if (files == null || files.length == 0) {
      throw new Error(`No \`files\` provided to process. If you've already uploaded files you should use \`.createAndPoll()\` instead`);
    }
    const configuredConcurrency = (_a2 = options == null ? void 0 : options.maxConcurrency) != null ? _a2 : 5;
    const concurrencyLimit = Math.min(configuredConcurrency, files.length);
    const client = this._client;
    const fileIterator = files.values();
    const allFileIds = [...fileIds];
    async function processFiles(iterator) {
      for (let item of iterator) {
        const fileObj = await client.files.create({ file: item, purpose: "assistants" }, options);
        allFileIds.push(fileObj.id);
      }
    }
    const workers = Array(concurrencyLimit).fill(fileIterator).map(processFiles);
    await allSettledWithThrow(workers);
    return await this.createAndPoll(vectorStoreId, {
      file_ids: allFileIds
    });
  }
};

// node_modules/openai/resources/vector-stores/vector-stores.mjs
var VectorStores = class extends APIResource {
  constructor() {
    super(...arguments);
    this.files = new Files2(this._client);
    this.fileBatches = new FileBatches(this._client);
  }
  /**
   * Create a vector store.
   */
  create(body, options) {
    return this._client.post("/vector_stores", {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Retrieves a vector store.
   */
  retrieve(vectorStoreId, options) {
    return this._client.get(`/vector_stores/${vectorStoreId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Modifies a vector store.
   */
  update(vectorStoreId, body, options) {
    return this._client.post(`/vector_stores/${vectorStoreId}`, {
      body,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/vector_stores", VectorStoresPage, {
      query,
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Delete a vector store.
   */
  del(vectorStoreId, options) {
    return this._client.delete(`/vector_stores/${vectorStoreId}`, {
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
  /**
   * Search a vector store for relevant chunks based on a query and file attributes
   * filter.
   */
  search(vectorStoreId, body, options) {
    return this._client.getAPIList(`/vector_stores/${vectorStoreId}/search`, VectorStoreSearchResponsesPage, {
      body,
      method: "post",
      ...options,
      headers: { "OpenAI-Beta": "assistants=v2", ...options == null ? void 0 : options.headers }
    });
  }
};
var VectorStoresPage = class extends CursorPage {
};
var VectorStoreSearchResponsesPage = class extends Page {
};
VectorStores.VectorStoresPage = VectorStoresPage;
VectorStores.VectorStoreSearchResponsesPage = VectorStoreSearchResponsesPage;
VectorStores.Files = Files2;
VectorStores.VectorStoreFilesPage = VectorStoreFilesPage;
VectorStores.FileContentResponsesPage = FileContentResponsesPage;
VectorStores.FileBatches = FileBatches;

// node_modules/openai/index.mjs
var _a;
var OpenAI = class extends APIClient {
  /**
   * API Client for interfacing with the OpenAI API.
   *
   * @param {string | undefined} [opts.apiKey=process.env['OPENAI_API_KEY'] ?? undefined]
   * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]
   * @param {string | null | undefined} [opts.project=process.env['OPENAI_PROJECT_ID'] ?? null]
   * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL'] ?? https://api.openai.com/v1] - Override the default base URL for the API.
   * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.
   * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.
   * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.
   * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.
   * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.
   * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.
   * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.
   */
  constructor({ baseURL = readEnv("OPENAI_BASE_URL"), apiKey = readEnv("OPENAI_API_KEY"), organization = ((_a2) => (_a2 = readEnv("OPENAI_ORG_ID")) != null ? _a2 : null)(), project = ((_b) => (_b = readEnv("OPENAI_PROJECT_ID")) != null ? _b : null)(), ...opts2 } = {}) {
    var _a3;
    if (apiKey === void 0) {
      throw new OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");
    }
    const options = {
      apiKey,
      organization,
      project,
      ...opts2,
      baseURL: baseURL || `https://api.openai.com/v1`
    };
    if (!options.dangerouslyAllowBrowser && isRunningInBrowser()) {
      throw new OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");
    }
    super({
      baseURL: options.baseURL,
      timeout: (_a3 = options.timeout) != null ? _a3 : 6e5,
      httpAgent: options.httpAgent,
      maxRetries: options.maxRetries,
      fetch: options.fetch
    });
    this.completions = new Completions3(this);
    this.chat = new Chat(this);
    this.embeddings = new Embeddings(this);
    this.files = new Files(this);
    this.images = new Images(this);
    this.audio = new Audio(this);
    this.moderations = new Moderations(this);
    this.models = new Models(this);
    this.fineTuning = new FineTuning(this);
    this.vectorStores = new VectorStores(this);
    this.beta = new Beta(this);
    this.batches = new Batches(this);
    this.uploads = new Uploads(this);
    this.responses = new Responses(this);
    this._options = options;
    this.apiKey = apiKey;
    this.organization = organization;
    this.project = project;
  }
  defaultQuery() {
    return this._options.defaultQuery;
  }
  defaultHeaders(opts2) {
    return {
      ...super.defaultHeaders(opts2),
      "OpenAI-Organization": this.organization,
      "OpenAI-Project": this.project,
      ...this._options.defaultHeaders
    };
  }
  authHeaders(opts2) {
    return { Authorization: `Bearer ${this.apiKey}` };
  }
  stringifyQuery(query) {
    return stringify(query, { arrayFormat: "brackets" });
  }
};
_a = OpenAI;
OpenAI.OpenAI = _a;
OpenAI.DEFAULT_TIMEOUT = 6e5;
OpenAI.OpenAIError = OpenAIError;
OpenAI.APIError = APIError;
OpenAI.APIConnectionError = APIConnectionError;
OpenAI.APIConnectionTimeoutError = APIConnectionTimeoutError;
OpenAI.APIUserAbortError = APIUserAbortError;
OpenAI.NotFoundError = NotFoundError;
OpenAI.ConflictError = ConflictError;
OpenAI.RateLimitError = RateLimitError;
OpenAI.BadRequestError = BadRequestError;
OpenAI.AuthenticationError = AuthenticationError;
OpenAI.InternalServerError = InternalServerError;
OpenAI.PermissionDeniedError = PermissionDeniedError;
OpenAI.UnprocessableEntityError = UnprocessableEntityError;
OpenAI.toFile = toFile;
OpenAI.fileFromPath = fileFromPath;
OpenAI.Completions = Completions3;
OpenAI.Chat = Chat;
OpenAI.ChatCompletionsPage = ChatCompletionsPage;
OpenAI.Embeddings = Embeddings;
OpenAI.Files = Files;
OpenAI.FileObjectsPage = FileObjectsPage;
OpenAI.Images = Images;
OpenAI.Audio = Audio;
OpenAI.Moderations = Moderations;
OpenAI.Models = Models;
OpenAI.ModelsPage = ModelsPage;
OpenAI.FineTuning = FineTuning;
OpenAI.VectorStores = VectorStores;
OpenAI.VectorStoresPage = VectorStoresPage;
OpenAI.VectorStoreSearchResponsesPage = VectorStoreSearchResponsesPage;
OpenAI.Beta = Beta;
OpenAI.Batches = Batches;
OpenAI.BatchesPage = BatchesPage;
OpenAI.Uploads = Uploads;
OpenAI.Responses = Responses;
var openai_default = OpenAI;

// src/providers/openai/provider.ts
var OpenAIProvider = class {
  constructor(settings) {
    this.aborted = false;
    this.settings = settings;
    this.client = new openai_default({
      apiKey: this.settings.apiKey,
      dangerouslyAllowBrowser: true
    });
  }
  async *generate(editor, options) {
    var _a2, _b;
    this.aborted = false;
    this.abortcontroller = new AbortController();
    const initialPosition = editor.getCursor();
    const prompt = preparePrompt(editor, options.userPrompt);
    const stream = await this.client.chat.completions.create({
      model: options.model,
      messages: [
        { role: "system", content: options.systemPrompt },
        { role: "user", content: prompt }
      ],
      temperature: options.temperature,
      stream: true
    }, { signal: this.abortcontroller.signal });
    let completion = "";
    for await (const chunk of stream) {
      if (this.aborted) {
        return;
      }
      if (this.cursorMoved(editor, initialPosition)) {
        console.log("cursor moved, aborting completion");
        this.abort();
        return;
      }
      const content = ((_b = (_a2 = chunk.choices[0]) == null ? void 0 : _a2.delta) == null ? void 0 : _b.content) || "";
      completion += content;
      yield completion;
    }
  }
  async abort() {
    if (this.aborted)
      return;
    this.aborted = true;
    this.abortcontroller.abort();
    console.log("aborted completion");
  }
  async updateModels() {
    if (!this.client) {
      return this.settings.models;
    }
    const models = await this.client.models.list();
    const chatModels = models.data.filter((model4) => model4.id.includes("gpt")).map((model4) => model4.id);
    this.settings.models = chatModels;
    return chatModels;
  }
  async connectionTest() {
    try {
      await this.client.models.list();
      return true;
    } catch (error) {
      console.error("Error testing connection:", error);
      return false;
    }
  }
  cursorMoved(editor, initialPosition) {
    const currentPosition = editor.getCursor();
    return currentPosition.line !== initialPosition.line || currentPosition.ch !== initialPosition.ch;
  }
};

// src/providers/openai-compat/provider.ts
var OpenAICompatibleProvider = class {
  constructor(settings) {
    this.aborted = false;
    this.settings = settings;
    this.client = new openai_default({
      baseURL: this.settings.baseUrl,
      apiKey: this.settings.apiKey,
      dangerouslyAllowBrowser: true
    });
  }
  async *generate(editor, options) {
    var _a2, _b;
    this.aborted = false;
    this.abortcontroller = new AbortController();
    const initialPosition = editor.getCursor();
    const prompt = preparePrompt(editor, options.userPrompt);
    const stream = await this.client.chat.completions.create({
      model: options.model,
      messages: [
        { role: "system", content: options.systemPrompt },
        { role: "user", content: prompt }
      ],
      temperature: options.temperature,
      stream: true
    }, { signal: this.abortcontroller.signal });
    let completion = "";
    for await (const chunk of stream) {
      if (this.aborted) {
        return;
      }
      if (this.cursorMoved(editor, initialPosition)) {
        console.log("cursor moved, aborting completion");
        this.abort();
        return;
      }
      const content = ((_b = (_a2 = chunk.choices[0]) == null ? void 0 : _a2.delta) == null ? void 0 : _b.content) || "";
      completion += content;
      yield completion;
    }
  }
  async abort() {
    if (this.aborted)
      return;
    this.aborted = true;
    this.abortcontroller.abort();
    console.log("aborted completion");
  }
  async updateModels() {
    if (!this.client) {
      return this.settings.models;
    }
    const models = await this.client.models.list();
    const chatModels = models.data.filter((model4) => model4.id.includes("gpt")).map((model4) => model4.id);
    this.settings.models = chatModels;
    return chatModels;
  }
  async connectionTest() {
    try {
      await this.client.models.list();
      return true;
    } catch (error) {
      console.error("Error testing connection:", error);
      return false;
    }
  }
  cursorMoved(editor, initialPosition) {
    const currentPosition = editor.getCursor();
    return currentPosition.line !== initialPosition.line || currentPosition.ch !== initialPosition.ch;
  }
};

// src/providers/factory.ts
var ProviderFactory = class {
  constructor(plugin2) {
    this.plugin = plugin2;
    this.settings = this.plugin.settings;
    this.providers = this.buildProviders(this.settings);
  }
  rebuildProviders() {
    this.providers = this.buildProviders(this.settings);
  }
  getProvider(provider) {
    return this.providers[provider];
  }
  async updateModels(provider) {
    return this.providers[provider].updateModels();
  }
  async connectionTest(provider) {
    return this.providers[provider].connectionTest();
  }
  buildProviders(settings) {
    return {
      ["ollama" /* OLLAMA */]: new OllamaProvider(settings.providers.ollama),
      ["openai" /* OPENAI */]: new OpenAIProvider(settings.providers.openai),
      ["openai_compatible" /* OPENAI_COMPATIBLE */]: new OpenAICompatibleProvider(settings.providers.openai_compatible)
    };
  }
};

// src/settings/settings.ts
var DEFAULT_PROFILE = "default";
var DEFAULT_PATH = "/";
var DEFAULT_SETTINGS = {
  enabled: false,
  providers: {
    openai: {
      integration: "openai" /* OPENAI */,
      name: "Open AI",
      description: "Use OpenAI APIs to generate text.",
      apiKey: "api-key",
      model: "gpt-4o-mini",
      models: ["gpt-4o", "gpt-4o-mini"],
      configured: false
    },
    ollama: {
      integration: "ollama" /* OLLAMA */,
      name: "Ollama",
      description: "Use your own Ollama instance to generate text.",
      host: "http://localhost:11434",
      models: ["llama3.2:latest", "mistral-nemo"],
      configured: false
    },
    openai_compatible: {
      integration: "openai_compatible" /* OPENAI_COMPATIBLE */,
      name: "OpenAI Compatible",
      description: "Use OpenAI compatible APIs to generate completions.",
      apiKey: "api-key",
      baseUrl: "https://api.openai.com/v1",
      model: "gpt-4o-mini",
      models: ["gpt-4o", "gpt-4o-mini"],
      configured: false
    }
  },
  profiles: {
    default: {
      name: "Default Profile",
      provider: "ollama" /* OLLAMA */,
      delayMs: 500,
      splitStrategy: "sentence",
      completionOptions: {
        model: "llama3.2:latest",
        userPrompt: "Complete following text:\n {{pre_cursor}}}",
        systemPrompt: "You are an helpful AI completer. Follow instructions",
        temperature: 0.5
      }
    }
  },
  path_configs: {
    "/": {
      profile: DEFAULT_PROFILE,
      enabled: true
    }
  }
};
function createProfile(settings) {
  const profiles = settings.profiles;
  const id = Math.random().toString(36).substring(2, 6);
  let name = "New Profile";
  let i3 = 1;
  Object.entries(profiles).forEach(([, value]) => {
    if (value.name === name) {
      name = `New Profile ${i3}`;
      i3++;
    }
  });
  const defaultProfile = profiles[DEFAULT_PROFILE];
  const profile = {
    ...defaultProfile,
    name
  };
  profiles[id] = profile;
  return id;
}
function findPathConfig(settings, path) {
  return settings.path_configs[path] || settings.path_configs[DEFAULT_PATH];
}
function createPathConfig(settings, path, profile) {
  path = path || DEFAULT_PATH;
  settings.path_configs[path] = { profile, enabled: true };
}
function resetSettings(settings) {
  Object.assign(settings, DEFAULT_SETTINGS);
}

// src/settings/tab.ts
var import_obsidian2 = require("obsidian");

// src/settings/provider.ts
var import_obsidian = require("obsidian");
var ProviderSettingsModal = class extends import_obsidian.Modal {
  constructor(app, plugin2, providerType) {
    super(app);
    this.plugin = plugin2;
    this.providerType = providerType;
    this.modalEl.addClass("inscribe-provider-settings-modal");
  }
  onOpen() {
    this.renderProviderSettings();
  }
  async renderProviderSettings() {
    const { contentEl } = this;
    contentEl.empty();
    switch (this.providerType) {
      case "ollama" /* OLLAMA */:
        this.renderOllamaSettings();
        break;
      case "openai" /* OPENAI */:
        this.renderOpenAISettings();
        break;
      case "openai_compatible" /* OPENAI_COMPATIBLE */:
        this.renderOpenAICompatibleSettings();
        break;
      default:
        contentEl.createEl("h2", { text: "Unknown provider type" });
        break;
    }
  }
  async renderOllamaSettings() {
    const { contentEl } = this;
    contentEl.empty();
    this.setTitle("Ollama Settings");
    new import_obsidian.Setting(contentEl).setName("Ollama Host").setDesc("The host of the Ollama API").addText((text) => {
      text.setValue(this.plugin.settings.providers.ollama.host).onChange(async (value) => {
        this.plugin.settings.providers.ollama.host = value;
        await this.plugin.saveSettings();
      });
    });
    this.renderConnectionStatus(this.plugin.settings.providers.ollama);
  }
  async renderOpenAISettings() {
    const { contentEl } = this;
    contentEl.empty();
    this.setTitle("OpenAI Settings");
    new import_obsidian.Setting(contentEl).setName("OpenAI API Key").setDesc("The API key for OpenAI").addText((text) => {
      text.setValue(this.plugin.settings.providers.openai.apiKey).onChange(async (value) => {
        this.plugin.settings.providers.openai.apiKey = value;
        await this.plugin.saveSettings();
      });
    });
    this.renderConnectionStatus(this.plugin.settings.providers.openai);
  }
  async renderOpenAICompatibleSettings() {
    const { contentEl } = this;
    contentEl.empty();
    this.setTitle("OpenAI Compatible Provider Settings");
    new import_obsidian.Setting(contentEl).setName("API Key").setDesc("The API key for OpenAI Compatible Provider").addText((text) => {
      text.setValue(this.plugin.settings.providers.openai_compatible.apiKey).onChange(async (value) => {
        this.plugin.settings.providers.openai_compatible.apiKey = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(contentEl).setName("Base URL").setDesc("The base URL for OpenAI Compatible Provider").addText((text) => {
      text.setValue(this.plugin.settings.providers.openai_compatible.baseUrl).onChange(async (value) => {
        this.plugin.settings.providers.openai_compatible.baseUrl = value;
        await this.plugin.saveSettings();
      });
    });
    this.renderConnectionStatus(this.plugin.settings.providers.openai_compatible);
  }
  renderConnectionStatus(provider) {
    new import_obsidian.Setting(this.contentEl).setName("Status").setDesc(`${provider.configured ? "Successful" : "Failed"}`).addButton((button) => {
      button.setButtonText(`Connection Test`).onClick(async () => {
        button.setDisabled(true).setButtonText("Testing...");
        provider.configured = await this.plugin.providerFactory.connectionTest(this.providerType);
        await this.plugin.saveSettings();
        new import_obsidian.Notice(provider.configured ? "Connected!" : "Failed to connect");
        this.renderProviderSettings();
      });
    });
  }
  onClose() {
    var _a2;
    const { contentEl } = this;
    contentEl.empty();
    (_a2 = this.plugin.app.setting) == null ? void 0 : _a2.openTabById(this.plugin.manifest.id);
  }
};

// src/settings/tab.ts
var InscribeSettingsTab = class extends import_obsidian2.PluginSettingTab {
  constructor(plugin2) {
    super(plugin2.app, plugin2);
    this.plugin = plugin2;
  }
  display() {
    this.containerEl.empty();
    const generalContainer = document.createElement("div");
    this.containerEl.appendChild(generalContainer);
    this.generalSection = new GeneralSection(generalContainer, this.plugin, this.display.bind(this));
    this.generalSection.render();
    const providersContainer = document.createElement("div");
    this.containerEl.appendChild(providersContainer);
    this.providersSection = new ProvidersSection(providersContainer, this.app, this.plugin);
    this.providersSection.render();
    const profilesContainer = document.createElement("div");
    this.containerEl.appendChild(profilesContainer);
    this.profilesSection = new ProfilesSection(profilesContainer, this.plugin);
    this.profilesSection.render();
    const pathMappingsContainer = document.createElement("div");
    this.containerEl.appendChild(pathMappingsContainer);
    this.pathConfigsSection = new PathConfigsSection(pathMappingsContainer, this.plugin);
    this.pathConfigsSection.render();
  }
};
var GeneralSection = class {
  constructor(container, plugin2, displayFunc) {
    this.container = container;
    this.plugin = plugin2;
    this.displayFunc = displayFunc;
  }
  async render() {
    this.container.empty();
    new import_obsidian2.Setting(this.container).setName("Enabled").setDesc("Enable or disable completions globally").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.enabled).onChange(async (value) => {
        this.plugin.settings.enabled = value;
        await this.plugin.saveSettings();
        this.plugin.statusBarItem.render();
      });
    });
    new import_obsidian2.Setting(this.container).setName("Reset Settings").setDesc("Reset all settings to default").addButton((button) => {
      button.setWarning().setButtonText("Reset").setTooltip("Reset settings to default").onClick(async () => {
        resetSettings(this.plugin.settings);
        await this.plugin.saveSettings();
        this.displayFunc();
        this.plugin.statusBarItem.render();
        new import_obsidian2.Notice("Settings reset to default");
      });
    });
  }
};
var ProvidersSection = class {
  constructor(container, app, plugin2) {
    this.app = app;
    this.container = container;
    this.plugin = plugin2;
  }
  async render() {
    this.container.empty();
    this.container.createEl("h3", { text: "Providers" });
    new import_obsidian2.Setting(this.container).setName("Ollama").setDesc("Local AI provider running on your machine").addExtraButton((button) => this.createConfigureButton(
      button,
      "ollama" /* OLLAMA */,
      this.plugin.settings.providers.ollama.configured
    ));
    new import_obsidian2.Setting(this.container).setName("OpenAI").setDesc("OpenAI API").addExtraButton((button) => this.createConfigureButton(
      button,
      "openai" /* OPENAI */,
      this.plugin.settings.providers.openai.configured
    ));
    new import_obsidian2.Setting(this.container).setName("OpenAI Compatible").setDesc("OpenAI compatible provider").addExtraButton((button) => this.createConfigureButton(
      button,
      "openai_compatible" /* OPENAI_COMPATIBLE */,
      this.plugin.settings.providers.openai_compatible.configured
    ));
  }
  createConfigureButton(button, type, configured) {
    button.extraSettingsEl.setCssProps({
      color: configured ? "var(--text-success)" : "var(--text-warning)"
    });
    button.setIcon(configured ? "cog" : "cog").setTooltip(configured ? "Provider configured" : "Provider not configured").onClick(() => {
      new ProviderSettingsModal(this.app, this.plugin, type).open();
    });
  }
};
var ProfilesSection = class {
  constructor(container, plugin2) {
    this.displayedProfileId = DEFAULT_PROFILE;
    this.container = container;
    this.plugin = plugin2;
    this.selectionContainer = document.createElement("div");
    this.profileContainer = document.createElement("div");
    this.container.appendChild(this.selectionContainer);
    this.container.appendChild(this.profileContainer);
  }
  async render() {
    this.container.empty();
    this.container.createEl("h3", { text: "Profiles" });
    this.container.appendChild(this.selectionContainer);
    this.container.appendChild(this.profileContainer);
    await this.renderProfileSelection();
    const displayedProfile = this.plugin.settings.profiles[this.displayedProfileId];
    await this.renderProfileSettings(displayedProfile);
  }
  async renderProfileSelection() {
    this.selectionContainer.empty();
    new import_obsidian2.Setting(this.selectionContainer).setName("Manage profile").setDesc("Select a profile to configure its settings").addDropdown((dropdown) => this.createProfileDropdown(dropdown)).addExtraButton((button) => this.createNewProfileButton(button)).addExtraButton((button) => this.createDeleteProfileButton(button));
  }
  createProfileDropdown(dropdown) {
    Object.entries(this.plugin.settings.profiles).forEach(([id, profile]) => {
      dropdown.addOption(id, profile.name);
    });
    dropdown.setValue(this.displayedProfileId).onChange(async (value) => {
      this.displayedProfileId = value;
      await this.renderProfileSettings(this.plugin.settings.profiles[value]);
    });
  }
  createNewProfileButton(button) {
    button.setIcon("plus").setTooltip("Create new profile").onClick(async () => {
      this.displayedProfileId = createProfile(this.plugin.settings);
      await this.plugin.saveSettings();
      await this.render();
    });
  }
  createDeleteProfileButton(button) {
    const isDefault = this.displayedProfileId === DEFAULT_PROFILE;
    button.setDisabled(isDefault).setIcon("trash").setTooltip(isDefault ? "Cannot delete default profile" : "Delete profile").onClick(async () => {
      delete this.plugin.settings.profiles[this.displayedProfileId];
      this.displayedProfileId = DEFAULT_PROFILE;
      await this.plugin.saveSettings();
      await this.render();
    });
  }
  async renderProfileSettings(profile) {
    this.profileContainer.empty();
    new import_obsidian2.Setting(this.profileContainer).setName("Profile Name").setDesc("Name of the profile").addText((text) => {
      text.setValue(profile.name).onChange(async (value) => {
        profile.name = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("AI Provider").setDesc("Choose your preferred AI provider").addDropdown((dropdown) => {
      dropdown.addOption("ollama" /* OLLAMA */, "Ollama").addOption("openai" /* OPENAI */, "OpenAI").addOption("openai_compatible" /* OPENAI_COMPATIBLE */, "OpenAI Compatible").setValue(profile.provider).onChange(async (value) => {
        profile.provider = value;
        await this.plugin.saveSettings();
        await this.renderProfileSettings(profile);
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("Model").setDesc("Select the model to use for completions").addExtraButton((button) => {
      button.setIcon("refresh-ccw").setTooltip("Update model list").onClick(async () => {
        await this.plugin.providerFactory.updateModels(profile.provider);
        await this.plugin.saveSettings();
        await this.renderProfileSettings(profile);
        new import_obsidian2.Notice("Model list updated");
      });
    }).addDropdown(async (dropdown) => {
      const models = this.plugin.settings.providers[profile.provider].models;
      dropdown.addOptions(Object.fromEntries(models.map((model4) => [model4, model4]))).setValue(profile.completionOptions.model).onChange(async (value) => {
        profile.completionOptions.model = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("Temperature").setDesc("Control the randomness of completions (0 = deterministic, 1 = creative)").addSlider((slider) => {
      slider.setLimits(0, 1, 0.1).setValue(profile.completionOptions.temperature).setDynamicTooltip().onChange(async (value) => {
        profile.completionOptions.temperature = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("Suggestion Delay").setDesc("Delay in milliseconds before fetching suggestions").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder("1000").setValue(String(profile.delayMs)).onChange(async (value) => {
        profile.delayMs = parseInt(value);
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("Completion Strategy").setDesc("Choose how completions should be split and accepted").addDropdown((dropdown) => {
      dropdown.addOption("word", "Word by Word").addOption("sentence", "Sentence by Sentence").addOption("paragraph", "Paragraph by Paragraph").addOption("full", "Full Completion").setValue(profile.splitStrategy).onChange(async (value) => {
        profile.splitStrategy = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(this.profileContainer).setName("System Prompt").setDesc("Set system prompt").addTextArea((text) => {
      text.inputEl.rows = 3;
      text.inputEl.setCssStyles({
        width: "100%",
        resize: "vertical",
        position: "relative"
      });
      text.setValue(profile.completionOptions.systemPrompt).onChange(
        async (value) => {
          profile.completionOptions.systemPrompt = value;
          await this.plugin.saveSettings();
        }
      );
    });
    new import_obsidian2.Setting(this.profileContainer).setName("User Prompt").setDesc("User prompt template.").addExtraButton((button) => {
      button.setIcon("list").setTooltip("Insert mustache template variables").onClick(async () => {
        const text = profile.completionOptions.userPrompt + "\n" + TEMPLATE_VARIABLES;
        profile.completionOptions.userPrompt = text;
        await this.plugin.saveSettings();
        await this.renderProfileSettings(profile);
      });
    }).addTextArea((text) => {
      text.inputEl.rows = 3;
      text.inputEl.setCssStyles({
        width: "100%",
        resize: "vertical",
        position: "relative"
      });
      text.setValue(profile.completionOptions.userPrompt).onChange(
        async (value) => {
          profile.completionOptions.userPrompt = value;
          await this.plugin.saveSettings();
        }
      );
    });
  }
};
var PathConfigsSection = class {
  constructor(container, plugin2) {
    this.container = container;
    this.plugin = plugin2;
    this.tableContainer = document.createElement("div");
  }
  async render() {
    this.container.empty();
    this.container.createEl("h2", { text: "Path Configs" });
    this.container.createEl("p", {
      text: "You can assign profiles to paths. Paths are matched by prefix, with longer paths taking precedence. For example, '/Daily' will match all files in the Daily folder."
    });
    this.container.appendChild(this.tableContainer);
    await this.renderMappingsTable();
  }
  async renderMappingsTable() {
    this.tableContainer.empty();
    const table = this.tableContainer.createEl("table", { cls: "mapping-table" });
    const header = table.createEl("tr");
    header.createEl("th", { text: "Path" });
    header.createEl("th", { text: "Profile" });
    header.createEl("th", { text: "" });
    header.createEl("th", { text: "" });
    const newRow = table.createEl("tr", { cls: "new-mapping-row" });
    let pathInput = "";
    let selectedProfile = DEFAULT_PROFILE;
    const pathCell = newRow.createEl("td");
    new import_obsidian2.TextComponent(pathCell).setPlaceholder("Enter path (e.g., Daily/Work)").onChange((value) => {
      pathInput = value;
    });
    const profileCell = newRow.createEl("td");
    const profileDropdown = new import_obsidian2.DropdownComponent(profileCell).setValue(selectedProfile);
    Object.entries(this.plugin.settings.profiles).forEach(([id, profile]) => {
      profileDropdown.addOption(id, profile.name);
    });
    profileDropdown.onChange((value) => {
      selectedProfile = value;
    });
    newRow.createEl("td");
    const actionCell = newRow.createEl("td");
    new import_obsidian2.ExtraButtonComponent(actionCell).setIcon("plus").setTooltip("Add profile mapping").onClick(async () => {
      if (!pathInput) {
        new import_obsidian2.Notice("Path cannot be empty");
        return;
      }
      createPathConfig(this.plugin.settings, pathInput, selectedProfile);
      await this.plugin.saveSettings();
      await this.render();
    });
    Object.entries(this.plugin.settings.path_configs).forEach(([path, mapping]) => {
      const row = table.createEl("tr");
      const isDefaultMapping = path === DEFAULT_PATH;
      row.createEl("td", { text: isDefaultMapping ? "Root" : path });
      const profileCell2 = row.createEl("td");
      const profileDropdown2 = new import_obsidian2.DropdownComponent(profileCell2).setDisabled(isDefaultMapping);
      Object.entries(this.plugin.settings.profiles).forEach(([id, profile]) => {
        profileDropdown2.addOption(id, profile.name);
      });
      profileDropdown2.setValue(mapping.profile);
      profileDropdown2.onChange(async (value) => {
        createPathConfig(this.plugin.settings, path, value);
        await this.plugin.saveSettings();
      });
      const deleteCell = row.createEl("td");
      new import_obsidian2.ExtraButtonComponent(deleteCell).setIcon("trash").setDisabled(isDefaultMapping).setTooltip("Delete mapping").onClick(async () => {
        delete this.plugin.settings.path_configs[path];
        await this.plugin.saveSettings();
        await this.render();
      });
      const enabledCell = row.createEl("td");
      new import_obsidian2.ToggleComponent(enabledCell).setTooltip("Enable/disable mapping").setValue(mapping.enabled).onChange(async (value) => {
        this.plugin.settings.path_configs[path].enabled = value;
        await this.plugin.saveSettings();
        this.plugin.statusBarItem.render();
      });
    });
  }
};

// src/profile/service.ts
var ProfileService = class {
  constructor(plugin2) {
    this.inlineSuggestionOptions = { delayMs: 300, splitStrategy: "sentence" };
    this.profileChangeCallbacks = [];
    this.plugin = plugin2;
    this.app = this.plugin.app;
    this.settings = this.plugin.settings;
    this.update(this.getActiveFilePath());
    this.app.workspace.on("file-open", (file) => {
      if (!file)
        return;
      this.update(file.path);
    });
  }
  getActiveProfile() {
    return this.activeProfile;
  }
  getActivePath() {
    return this.activePath;
  }
  getActivePathConfig() {
    return findPathConfig(this.settings, this.activePath);
  }
  getOptions() {
    return {
      delayMs: this.activeProfile.delayMs,
      splitStrategy: this.activeProfile.splitStrategy
    };
  }
  onProfileChange(callback) {
    this.profileChangeCallbacks.push(callback);
  }
  update(filePath) {
    [this.activePath, this.activeProfile] = this.resolveProfileFromPath(filePath);
    this.profileChangeCallbacks.forEach((cb) => cb(this.activeProfile));
  }
  getActiveFilePath() {
    const activeEditor = this.app.workspace.activeEditor;
    if (!activeEditor)
      return "";
    if (!activeEditor.file)
      return "";
    return activeEditor.file.path;
  }
  resolveProfileFromPath(filePath) {
    if (!this.settings.path_configs || Object.keys(this.settings.path_configs).length === 0) {
      return [DEFAULT_PATH, this.settings.profiles[DEFAULT_PROFILE]];
    }
    const normalizedPath = filePath.replace(/^\/+|\/+$/g, "");
    let longestMatch = "";
    let matchedProfile = DEFAULT_PROFILE;
    let pathMapping = "/";
    Object.entries(this.settings.path_configs).forEach(([path, mapping]) => {
      const normalizedMappingPath = path.replace(/^\/+|\/+$/g, "");
      if (normalizedPath.startsWith(normalizedMappingPath)) {
        if (normalizedMappingPath.length > longestMatch.length) {
          longestMatch = normalizedMappingPath;
          matchedProfile = mapping.profile;
          pathMapping = path;
        }
      }
    });
    return [pathMapping, this.settings.profiles[matchedProfile]];
  }
  onunload() {
    this.app.workspace.off("file-open", this.update);
  }
};

// src/completions/service.ts
var CompletionService = class {
  constructor(app, settings, profileService, providerFactory) {
    this.completionStatusListeners = [];
    this.app = app;
    this.settings = settings;
    this.profileService = profileService;
    this.providerFactory = providerFactory;
  }
  async *fetchCompletion() {
    if (!this.completionEnabled())
      return;
    const activeEditor = this.app.workspace.activeEditor;
    if (!activeEditor)
      return;
    if (!activeEditor.editor)
      return;
    const profile = this.profileService.getActiveProfile();
    const provider = this.providerFactory.getProvider(profile.provider);
    const options = profile.completionOptions;
    yield* this.complete(activeEditor.editor, provider, options);
  }
  onCompletionStatusChange(listener) {
    this.completionStatusListeners.push(listener);
  }
  completionEnabled() {
    return this.settings.enabled && this.profileService.getActivePathConfig().enabled;
  }
  notifyCompletionStatus(isGenerating) {
    for (const listener of this.completionStatusListeners) {
      listener(isGenerating);
    }
  }
  async *complete(editor, provider, options) {
    await provider.abort();
    const cursor = editor.getCursor();
    const currentLine = editor.getLine(cursor.line);
    if (!currentLine.length)
      return;
    const lastChar = currentLine[cursor.ch - 1];
    if (lastChar !== " ")
      return;
    this.notifyCompletionStatus(true);
    for await (const text of provider.generate(editor, options)) {
      yield { text };
    }
    this.notifyCompletionStatus(false);
  }
};

// src/statusbar/statusbar.ts
var import_obsidian3 = require("obsidian");
var StatusBarItem = class {
  constructor(plugin2, profileService, completionService) {
    this.isGenerating = false;
    this.plugin = plugin2;
    this.profileService = profileService;
    this.completionService = completionService;
    this.profileService.onProfileChange(this.handleProfileChange.bind(this));
    this.completionService.onCompletionStatusChange(this.handleCompletionStatusChange.bind(this));
    this.statusBarItem = this.createStatusBarItem();
    this.render();
  }
  render() {
    if (this.isGenerating) {
      this.statusBarItem.addClass("active");
      (0, import_obsidian3.setTooltip)(this.statusBarItem, "Inscribing...", { placement: "top" });
    } else {
      this.statusBarItem.removeClass("active");
      if (this.completionService.completionEnabled()) {
        this.statusBarItem.removeClass("completion-disabled");
        this.updateProfile(this.profileService.getActiveProfile().name);
      } else {
        this.statusBarItem.addClass("completion-disabled");
        (0, import_obsidian3.setTooltip)(this.statusBarItem, `Completion disabled`, { placement: "top" });
      }
    }
  }
  createStatusBarItem() {
    const item = this.plugin.addStatusBarItem();
    (0, import_obsidian3.setIcon)(item, "feather");
    item.addClasses(["status-bar-item-icon", `mod-clickable`]);
    item.addEventListener("click", this.displayContextMenu.bind(this));
    return item;
  }
  displayContextMenu(event) {
    const menu = new import_obsidian3.Menu();
    const globalCompletionEnabled = this.plugin.settings.enabled;
    const pathCompletionEnabled = this.profileService.getActivePathConfig().enabled;
    const path = this.profileService.getActivePath();
    const profile = this.profileService.getActiveProfile();
    menu.addItem((item) => {
      item.setTitle(`Profile: ${profile.name}`).setIsLabel(true);
    });
    menu.addItem((item) => {
      item.setTitle(`${pathCompletionEnabled ? "Disable" : "Enable"} this path: {${path}]}`).setChecked(pathCompletionEnabled).onClick(() => {
        const pathConfig = findPathConfig(this.plugin.settings, path);
        pathConfig.enabled = !pathCompletionEnabled;
        this.plugin.saveSettings();
        this.render();
      });
    });
    menu.addItem((item) => {
      item.setTitle(`${globalCompletionEnabled ? "Disable" : "Enable"} globally`).setChecked(globalCompletionEnabled).onClick(() => {
        this.plugin.settings.enabled = !globalCompletionEnabled;
        this.plugin.saveSettings();
        this.render();
      });
    });
    menu.addSeparator();
    menu.addItem((item) => {
      item.setTitle("Open settings").onClick(() => {
        const setting = this.plugin.app.setting;
        setting.open();
        setting.openTabById(this.plugin.manifest.id);
      });
    });
    menu.showAtMouseEvent(event);
  }
  handleCompletionStatusChange(isGenerating) {
    this.isGenerating = isGenerating;
    this.render();
  }
  handleProfileChange(profile) {
    this.render();
  }
  updateProfile(profile) {
    (0, import_obsidian3.setTooltip)(this.statusBarItem, `Profile: ${profile}`, { placement: "top" });
  }
};

// src/main.ts
var Inscribe = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.profileService = new ProfileService(this);
    this.providerFactory = new ProviderFactory(this);
    this.completionEngine = new CompletionService(this.app, this.settings, this.profileService, this.providerFactory);
    this.statusBarItem = new StatusBarItem(this, this.profileService, this.completionEngine);
    this.addSettingTab(new InscribeSettingsTab(this));
    await this.setupExtension();
  }
  async onunload() {
    this.profileService.onunload();
  }
  async setupExtension() {
    const extension = inlineSuggestions({
      fetchFunc: () => this.completionEngine.fetchCompletion(),
      getOptions: () => this.profileService.getOptions()
    });
    this.registerEditorExtension(extension);
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.providerFactory.rebuildProviders();
  }
};
/*! Bundled license information:

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2V4dGVuc2lvbi9pbmRleC50cyIsICJub2RlX21vZHVsZXMvb2xsYW1hL2Rpc3QvaW5kZXgubWpzIiwgIm5vZGVfbW9kdWxlcy93aGF0d2ctZmV0Y2gvZmV0Y2guanMiLCAibm9kZV9tb2R1bGVzL29sbGFtYS9kaXN0L2Jyb3dzZXIubWpzIiwgIm5vZGVfbW9kdWxlcy9tdXN0YWNoZS9tdXN0YWNoZS5tanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjL0FQSS93b3JsZC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvQVBJL21ldGhvZHMvY29tcHV0ZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvQVBJL21ldGhvZHMvbG9vcHMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjL0FQSS9tZXRob2RzL3V0aWxzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy9BUEkvbWV0aG9kcy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvQVBJL1ZpZXcuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjL192ZXJzaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy9BUEkvZXh0ZW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy9BUEkvX2xpYi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvQVBJL2lucHV0cy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvbmxwLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jYWNoZS9tZXRob2RzL2NhY2hlRG9jLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jYWNoZS9tZXRob2RzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jYWNoZS9hcGkuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NhY2hlL2NvbXB1dGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NhY2hlL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY2hhbmdlL2FwaS9jYXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jaGFuZ2UvYXBpL2xpYi9pbnNlcnQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9jb21wdXRlL3V1aWQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9hcGkvaW5zZXJ0LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jaGFuZ2UvYXBpL3JlcGxhY2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9hcGkvbGliL3JlbW92ZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY2hhbmdlL2FwaS9yZW1vdmUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9hcGkvd2hpdGVzcGFjZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY2hhbmdlL2FwaS9saWIvX3NvcnQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9hcGkvc29ydC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY2hhbmdlL2FwaS9jb25jYXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NoYW5nZS9hcGkvaGFyZGVuLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jaGFuZ2UvYXBpL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jaGFuZ2UvY29tcHV0ZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY2hhbmdlL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY29udHJhY3Rpb24tb25lL21vZGVsL2NvbnRyYWN0aW9ucy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY29udHJhY3Rpb24tb25lL21vZGVsL251bWJlci1zdWZmaXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9tb2RlbC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY29udHJhY3Rpb24tb25lL2NvbXB1dGUvY29udHJhY3Rpb25zL19zcGxpY2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9jb21wdXRlL2NvbnRyYWN0aW9ucy9hcG9zdHJvcGhlLWQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9jb21wdXRlL2NvbnRyYWN0aW9ucy9hcG9zdHJvcGhlLXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9jb21wdXRlL2NvbnRyYWN0aW9ucy9mcmVuY2guanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9jb21wdXRlL2NvbnRyYWN0aW9ucy9udW1iZXItcmFuZ2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2NvbnRyYWN0aW9uLW9uZS9jb21wdXRlL2NvbnRyYWN0aW9ucy9udW1iZXItdW5pdC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY29udHJhY3Rpb24tb25lL2NvbXB1dGUvY29udHJhY3Rpb25zL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9jb250cmFjdGlvbi1vbmUvY29tcHV0ZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvY29udHJhY3Rpb24tb25lL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvZnJlZXplL2NvbXB1dGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2ZyZWV6ZS9kZWJ1Zy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvZnJlZXplL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbGV4aWNvbi9jb21wdXRlL211bHRpLXdvcmQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2xleGljb24vY29tcHV0ZS9zaW5nbGUtd29yZC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbGV4aWNvbi9jb21wdXRlL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9sZXhpY29uL21ldGhvZHMvZXhwYW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9sZXhpY29uL21ldGhvZHMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2xleGljb24vbGliLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9sZXhpY29uL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbG9va3VwL2FwaS9idWlsZFRyaWUvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2xvb2t1cC9hcGkvc2Nhbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbG9va3VwL2FwaS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbG9va3VwL2FwaS9idWlsZFRyaWUvY29tcHJlc3MuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL2xvb2t1cC9wbHVnaW4uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL2FwaS9fbGliLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9hcGkvbWF0Y2guanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL2FwaS9sb29rYXJvdW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9hcGkvc3BsaXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL2FwaS9qb2luLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9hcGkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvcGFyc2VNYXRjaC8wMS1wYXJzZUJsb2Nrcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9wYXJzZU1hdGNoLzAyLXBhcnNlVG9rZW4uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvcGFyc2VNYXRjaC8wMy1zcGxpdEh5cGhlbnMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvcGFyc2VNYXRjaC8wNC1pbmZsZWN0LXJvb3QuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvcGFyc2VNYXRjaC8wNS1wb3N0UHJvY2Vzcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9wYXJzZU1hdGNoL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoLzAxLWZhaWxGYXN0LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL3Rlcm0vX2Z1enp5LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL3Rlcm1NZXRob2RzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL3Rlcm0vZG9lc01hdGNoLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL3N0ZXBzL2xvZ2ljL2dyZWVkeS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9fbGliLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL3N0ZXBzL2FzdHJpeC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9zdGVwcy9sb2dpYy9hbmQtb3IuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvbWF0Y2gvc3RlcHMvb3ItYmxvY2suanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvbWF0Y2gvc3RlcHMvYW5kLWJsb2NrLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL3N0ZXBzL2xvZ2ljL25lZ2F0aXZlLWdyZWVkeS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9zdGVwcy9uZWdhdGl2ZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9zdGVwcy9vcHRpb25hbC1tYXRjaC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9zdGVwcy9ncmVlZHktbWF0Y2guanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvbWF0Y2gvc3RlcHMvY29udHJhY3Rpb24tc2tpcC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvbWF0Y2gvbWV0aG9kcy9tYXRjaC9zdGVwcy9zaW1wbGUtbWF0Y2guanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL21ldGhvZHMvbWF0Y2gvMDItZnJvbS1oZXJlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoLzAzLWdldEdyb3VwLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoLzAzLW5vdElmLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL21hdGNoL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9tZXRob2RzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9tYXRjaC9saWIuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL21hdGNoL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L2FwaS9odG1sLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvYXBpL190ZXh0LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvYXBpL19mbXRzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvbWV0aG9kcy9oYXNoLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvYXBpL2pzb24uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL291dHB1dC9hcGkvZGVidWcuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL291dHB1dC9hcGkvd3JhcC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L2FwaS9vdXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL291dHB1dC9hcGkvdGV4dC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L2FwaS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L21ldGhvZHMvZGVidWcvY2xpZW50LXNpZGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL291dHB1dC9tZXRob2RzL2RlYnVnL19jb2xvci5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L21ldGhvZHMvZGVidWcvdGFncy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvb3V0cHV0L21ldGhvZHMvZGVidWcvY2h1bmtzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvbWV0aG9kcy9kZWJ1Zy9oaWdobGlnaHQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL291dHB1dC9tZXRob2RzL2RlYnVnL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9vdXRwdXQvcGx1Z2luLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9wb2ludGVycy9hcGkvbGliL19saWIuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3BvaW50ZXJzL2FwaS9saWIvc3BsaXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3BvaW50ZXJzL21ldGhvZHMvZ2V0RG9jLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9wb2ludGVycy9tZXRob2RzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9wb2ludGVycy9hcGkvbGliL3VuaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9wb2ludGVycy9hcGkvbGliL2RpZmZlcmVuY2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3BvaW50ZXJzL2FwaS9saWIvaW50ZXJzZWN0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9wb2ludGVycy9hcGkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3BvaW50ZXJzL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvc3dlZXAvbGliLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9zd2VlcC9hcGkuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL21ldGhvZHMvYnVpbGROZXQvMDEtcGFyc2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL21ldGhvZHMvYnVpbGROZXQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL21ldGhvZHMvc3dlZXAvMDEtZ2V0SG9va3MuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL21ldGhvZHMvc3dlZXAvMDItdHJpbS1kb3duLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9zd2VlcC9tZXRob2RzL3N3ZWVwLzA0LXJ1bk1hdGNoLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9zd2VlcC9tZXRob2RzL3N3ZWVwL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS9zd2VlcC9tZXRob2RzL3RhZ2dlci9jYW5CZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvc3dlZXAvbWV0aG9kcy90YWdnZXIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL21ldGhvZHMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3N3ZWVwL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL21ldGhvZHMvc2V0VGFnLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90YWcvbWV0aG9kcy91blRhZy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL21ldGhvZHMvY2FuQmUuanMiLCAibm9kZV9tb2R1bGVzL2dyYWQtc2Nob29sL2J1aWxkcy9ncmFkLXNjaG9vbC5tanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3RhZy9tZXRob2RzL2FkZFRhZ3MvX2NvbG9ycy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL21ldGhvZHMvYWRkVGFncy8wMi1mbXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3RhZy9tZXRob2RzL2FkZFRhZ3MvMDEtdmFsaWRhdGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3RhZy9tZXRob2RzL2FkZFRhZ3MvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3RhZy9tZXRob2RzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90YWcvYXBpL3RhZy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL2FwaS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL2xpYi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL2NvbXB1dGUvdGFnUmFuay5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdGFnL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbWV0aG9kcy8wMS1zZW50ZW5jZXMvMDEtc2ltcGxlLXNwbGl0LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAxLXNlbnRlbmNlcy8wMi1zaW1wbGUtbWVyZ2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21ldGhvZHMvMDEtc2VudGVuY2VzLzAzLXNtYXJ0LW1lcmdlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAxLXNlbnRlbmNlcy8wNC1xdW90ZS1tZXJnZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbWV0aG9kcy8wMS1zZW50ZW5jZXMvMDUtcGFyZW5zLW1lcmdlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAxLXNlbnRlbmNlcy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbWV0aG9kcy8wMi10ZXJtcy8wMS1oeXBoZW5zLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAyLXRlcm1zLzAzLXJhbmdlcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbWV0aG9kcy8wMi10ZXJtcy8wMi1zbGFzaGVzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAyLXRlcm1zL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzLzAzLXdoaXRlc3BhY2UvdG9rZW5pemUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21ldGhvZHMvMDMtd2hpdGVzcGFjZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbWV0aG9kcy91bmljb2RlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9jb21wdXRlL25vcm1hbC8wMS1jbGVhbnVwLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9jb21wdXRlL25vcm1hbC8wMi1hY3Jvbnltcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvY29tcHV0ZS9ub3JtYWwvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21ldGhvZHMvcGFyc2UuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21ldGhvZHMvMDEtc2VudGVuY2VzL2lzLXNlbnRlbmNlLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tZXRob2RzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tb2RlbC9hbGlhc2VzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tb2RlbC9hYmJyZXZpYXRpb25zL21pc2MuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2FiYnJldmlhdGlvbnMvaG9ub3JpZmljcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbW9kZWwvYWJicmV2aWF0aW9ucy9tb250aHMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2FiYnJldmlhdGlvbnMvbm91bnMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2FiYnJldmlhdGlvbnMvb3JnYW5pemF0aW9ucy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbW9kZWwvYWJicmV2aWF0aW9ucy9wbGFjZXMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2FiYnJldmlhdGlvbnMvdW5pdHMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2xleGljb24uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL3ByZWZpeGVzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9tb2RlbC9zdWZmaXhlcy5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbW9kZWwvdW5pY29kZS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvbW9kZWwvcHVuY3R1YXRpb24uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL21vZGVsL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9jb21wdXRlL2FsaWFzLmpzIiwgIm5vZGVfbW9kdWxlcy9jb21wcm9taXNlL3NyYy8xLW9uZS90b2tlbml6ZS9jb21wdXRlL21hY2hpbmUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL2NvbXB1dGUvZnJlcS5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvY29tcHV0ZS9vZmZzZXQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL2NvbXB1dGUvcmVpbmRleC5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdG9rZW5pemUvY29tcHV0ZS93b3JkQ291bnQuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL2NvbXB1dGUvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3Rva2VuaXplL3BsdWdpbi5qcyIsICJub2RlX21vZHVsZXMvY29tcHJvbWlzZS9zcmMvMS1vbmUvdHlwZWFoZWFkL2NvbXB1dGUuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3R5cGVhaGVhZC9hcGkuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3R5cGVhaGVhZC9saWIvYWxsUHJlZml4ZXMuanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3R5cGVhaGVhZC9saWIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjLzEtb25lL3R5cGVhaGVhZC9wbHVnaW4uanMiLCAibm9kZV9tb2R1bGVzL2NvbXByb21pc2Uvc3JjL29uZS5qcyIsICJzcmMvcHJvbXB0L3Byb21wdC50cyIsICJzcmMvcHJvdmlkZXJzL29sbGFtYS9wcm92aWRlci50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9pbnRlcm5hbC9xcy9mb3JtYXRzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2ludGVybmFsL3FzL3V0aWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2ludGVybmFsL3FzL3N0cmluZ2lmeS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy92ZXJzaW9uLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL19zaGltcy9yZWdpc3RyeS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9fc2hpbXMvTXVsdGlwYXJ0Qm9keS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9fc2hpbXMvd2ViLXJ1bnRpbWUudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvaW5kZXgubWpzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2Vycm9yLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2ludGVybmFsL2RlY29kZXJzL2xpbmUudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvaW50ZXJuYWwvc3RyZWFtLXV0aWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3N0cmVhbWluZy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy91cGxvYWRzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2NvcmUudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcGFnaW5hdGlvbi50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucy9tZXNzYWdlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucy9jb21wbGV0aW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvY2hhdC9jaGF0LnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9hdWRpby9zcGVlY2gudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zY3JpcHRpb25zLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9hdWRpby90cmFuc2xhdGlvbnMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2F1ZGlvL2F1ZGlvLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iYXRjaGVzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL2Fzc2lzdGFudHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL1J1bm5hYmxlRnVuY3Rpb24udHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL2NoYXRDb21wbGV0aW9uVXRpbHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0V2ZW50U3RyZWFtLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9wYXJzZXIudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0NoYXRDb21wbGV0aW9uUnVubmVyLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL192ZW5kb3IvcGFydGlhbC1qc29uLXBhcnNlci9wYXJzZXIudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lci50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS9jaGF0L2NvbXBsZXRpb25zLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL2NoYXQvY2hhdC50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS9yZWFsdGltZS9zZXNzaW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS9yZWFsdGltZS9yZWFsdGltZS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9saWIvQXNzaXN0YW50U3RyZWFtLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvbWVzc2FnZXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3N0ZXBzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvcnVucy9ydW5zLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvdGhyZWFkcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS9iZXRhLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9jb21wbGV0aW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvZW1iZWRkaW5ncy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvZmlsZXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvY2hlY2twb2ludHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvam9icy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvZmluZS10dW5pbmcvZmluZS10dW5pbmcudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2ltYWdlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvbW9kZWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9tb2RlcmF0aW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9saWIvUmVzcG9uc2VzUGFyc2VyLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9yZXNwb25zZXMvaW5wdXQtaXRlbXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL3Jlc3BvbnNlcy9SZXNwb25zZVN0cmVhbS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvcmVzcG9uc2VzL3Jlc3BvbnNlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvdXBsb2Fkcy9wYXJ0cy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvdXBsb2Fkcy91cGxvYWRzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9VdGlsLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL2ZpbGVzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL2ZpbGUtYmF0Y2hlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvdmVjdG9yLXN0b3Jlcy92ZWN0b3Itc3RvcmVzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2luZGV4LnRzIiwgInNyYy9wcm92aWRlcnMvb3BlbmFpL3Byb3ZpZGVyLnRzIiwgInNyYy9wcm92aWRlcnMvb3BlbmFpLWNvbXBhdC9wcm92aWRlci50cyIsICJzcmMvcHJvdmlkZXJzL2ZhY3RvcnkudHMiLCAic3JjL3NldHRpbmdzL3NldHRpbmdzLnRzIiwgInNyYy9zZXR0aW5ncy90YWIudHMiLCAic3JjL3NldHRpbmdzL3Byb3ZpZGVyLnRzIiwgInNyYy9wcm9maWxlL3NlcnZpY2UudHMiLCAic3JjL2NvbXBsZXRpb25zL3NlcnZpY2UudHMiLCAic3JjL3N0YXR1c2Jhci9zdGF0dXNiYXIudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IGlubGluZVN1Z2dlc3Rpb25zIH0gZnJvbSBcIi4vZXh0ZW5zaW9uXCI7XG5pbXBvcnQgeyBTZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4vc2V0dGluZ3Mvc2V0dGluZ3MnO1xuaW1wb3J0IEluc2NyaWJlU2V0dGluZ3NUYWIgZnJvbSAnLi9zZXR0aW5ncy90YWInO1xuaW1wb3J0IHsgUHJvdmlkZXJGYWN0b3J5IH0gZnJvbSAnLi9wcm92aWRlcnMvZmFjdG9yeSc7XG5pbXBvcnQgeyBQcm9maWxlU2VydmljZSB9IGZyb20gJy4vcHJvZmlsZS9zZXJ2aWNlJztcbmltcG9ydCBDb21wbGV0aW9uU2VydmljZSBmcm9tICcuL2NvbXBsZXRpb25zL3NlcnZpY2UnO1xuaW1wb3J0IFN0YXR1c0Jhckl0ZW0gZnJvbSAnLi9zdGF0dXNiYXIvc3RhdHVzYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5zY3JpYmUgZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogU2V0dGluZ3M7XG5cdHByb3ZpZGVyRmFjdG9yeTogUHJvdmlkZXJGYWN0b3J5O1xuXHRzdGF0dXNCYXJJdGVtOiBTdGF0dXNCYXJJdGVtO1xuXG5cdHByaXZhdGUgcHJvZmlsZVNlcnZpY2U6IFByb2ZpbGVTZXJ2aWNlO1xuXHRwcml2YXRlIGNvbXBsZXRpb25FbmdpbmU6IENvbXBsZXRpb25TZXJ2aWNlO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0dGhpcy5wcm9maWxlU2VydmljZSA9IG5ldyBQcm9maWxlU2VydmljZSh0aGlzKTtcblx0XHR0aGlzLnByb3ZpZGVyRmFjdG9yeSA9IG5ldyBQcm92aWRlckZhY3RvcnkodGhpcyk7XG5cdFx0dGhpcy5jb21wbGV0aW9uRW5naW5lID0gbmV3IENvbXBsZXRpb25TZXJ2aWNlKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzLCB0aGlzLnByb2ZpbGVTZXJ2aWNlLCB0aGlzLnByb3ZpZGVyRmFjdG9yeSk7XG5cdFx0dGhpcy5zdGF0dXNCYXJJdGVtID0gbmV3IFN0YXR1c0Jhckl0ZW0odGhpcywgdGhpcy5wcm9maWxlU2VydmljZSwgdGhpcy5jb21wbGV0aW9uRW5naW5lKTtcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgSW5zY3JpYmVTZXR0aW5nc1RhYih0aGlzKSk7XG5cdFx0YXdhaXQgdGhpcy5zZXR1cEV4dGVuc2lvbigpO1xuXHR9XG5cblx0YXN5bmMgb251bmxvYWQoKSB7XG5cdFx0dGhpcy5wcm9maWxlU2VydmljZS5vbnVubG9hZCgpO1xuXHR9XG5cblx0YXN5bmMgc2V0dXBFeHRlbnNpb24oKSB7XG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gaW5saW5lU3VnZ2VzdGlvbnMoe1xuXHRcdFx0ZmV0Y2hGdW5jOiAoKSA9PiB0aGlzLmNvbXBsZXRpb25FbmdpbmUuZmV0Y2hDb21wbGV0aW9uKCksXG5cdFx0XHRnZXRPcHRpb25zOiAoKSA9PiB0aGlzLnByb2ZpbGVTZXJ2aWNlLmdldE9wdGlvbnMoKVxuXHRcdH0pO1xuXHRcdHRoaXMucmVnaXN0ZXJFZGl0b3JFeHRlbnNpb24oZXh0ZW5zaW9uKTtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcblx0XHRcdHt9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcblx0XHRcdGF3YWl0IHRoaXMubG9hZERhdGEoKVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0XHR0aGlzLnByb3ZpZGVyRmFjdG9yeS5yZWJ1aWxkUHJvdmlkZXJzKCk7XG5cdH1cbn0iLCAiLyoqXG4gKiBJbmxpbmUgQ29tcGxldGlvbnMgZXh0ZW5zaW9uIGZvciBDb2RlTWlycm9yXG4gKlxuICogVGhpcyBleHRlbnNpb24gb2ZmZXJzIGlubGluZSBzdWdnZXN0aW9ucyB3aXRoOlxuICogLSBDb25maWd1cmFibGUgc3VnZ2VzdGlvbiBmZXRjaGluZyBzdHJhdGVnaWVzXG4gKiAtIE11bHRpcGxlIHRleHQgc2VnbWVudGF0aW9uIGFwcHJvYWNoZXNcbiAqIC0gRGVib3VuY2VkIG5ldHdvcmsgcmVxdWVzdHNcbiAqIC0gTm9uLWludmFzaXZlIHN1Z2dlc3Rpb24gcmVuZGVyaW5nXG4gKi9cblxuaW1wb3J0IHtcbiAgICBWaWV3UGx1Z2luLFxuICAgIEVkaXRvclZpZXcsXG4gICAgVmlld1VwZGF0ZSxcbiAgICBEZWNvcmF0aW9uLFxuICAgIFdpZGdldFR5cGUsXG4gICAga2V5bWFwLFxufSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7XG4gICAgU3RhdGVFZmZlY3QsXG4gICAgVGV4dCxcbiAgICBTdGF0ZUZpZWxkLFxuICAgIEVkaXRvclN0YXRlLFxuICAgIEVkaXRvclNlbGVjdGlvbixcbiAgICBUcmFuc2FjdGlvbixcbiAgICBQcmVjLFxufSBmcm9tICdAY29kZW1pcnJvci9zdGF0ZSc7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICBUeXBlIERlZmluaXRpb25zXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8qKiBTdXBwb3J0ZWQgc2VnbWVudGF0aW9uIHN0cmF0ZWdpZXMgKi9cbmV4cG9ydCB0eXBlIFNwbGl0U3RyYXRlZ3kgPSBrZXlvZiB0eXBlb2YgVGV4dFNwbGl0U3RyYXRlZ2llcztcblxuLyoqIElubGluZSBzdWdnZXN0aW9uIHN0cnVjdHVyZSBcdTIwMTMgbm93IG9ubHkgY2FycmllcyB0ZXh0LiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWdnZXN0aW9uIHtcbiAgICB0ZXh0OiBzdHJpbmc7XG59XG5cbi8qKiBJbmxpbmUgY29tcGxldGlvbiBjb25maWd1cmF0aW9uLlxuICogXG4gKiBOb3RlOiBJbnN0ZWFkIG9mIGVhY2ggc3VnZ2VzdGlvbiBjYXJyeWluZyBpdHMgc3BsaXQgc3RyYXRlZ3ksXG4gKiB5b3Ugc3VwcGx5IGEgZHluYW1pYyBnZXR0ZXIgZnVuY3Rpb24gKGBnZXRPcHRpb25zYCkgc28gdGhhdCB0aGUgZXh0ZW5zaW9uXG4gKiBhbHdheXMgdXNlcyB0aGUgY3VycmVudCBzZXR0aW5ncy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbmxpbmVDb21wbGV0aW9uQ29uZmlnIHtcbiAgICBmZXRjaEZ1bmM6IChcbiAgICAgICAgc3RhdGU6IEVkaXRvclN0YXRlXG4gICAgKSA9PiBBc3luY0dlbmVyYXRvcjxTdWdnZXN0aW9uPiB8IFByb21pc2U8U3VnZ2VzdGlvbj47XG4gICAgLyoqIChPcHRpb25hbCkgQSBzdGF0aWMgaG90a2V5IGZvciBhY2NlcHRpbmcgc3VnZ2VzdGlvbnMuICovXG4gICAgYWNjZXB0YW5jZUhvdGtleT86IHN0cmluZztcbiAgICAvKiogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgY3VycmVudCBvcHRpb25zLiAqL1xuICAgIGdldE9wdGlvbnM6ICgpID0+IElubGluZUNvbXBsZXRpb25PcHRpb25zO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElubGluZUNvbXBsZXRpb25PcHRpb25zIHtcbiAgICBkZWxheU1zPzogbnVtYmVyO1xuICAgIHNwbGl0U3RyYXRlZ3k/OiBTcGxpdFN0cmF0ZWd5O1xufVxuXG4vKiogSW50ZXJuYWwgc3RhdGUgZm9yIHRoZSBjdXJyZW50IHN1Z2dlc3Rpb24gc2Vzc2lvbi5cbiAqIE5vdGU6IFRoZSBwcmV2aW91cyBcInNlZ21lbnRhdGlvblwiIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQuXG4gKi9cbmludGVyZmFjZSBTdWdnZXN0aW9uU2Vzc2lvbiB7XG4gICAgZnVsbFRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgcmVtYWluaW5nVGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgICBiYXNlbGluZURvY3VtZW50OiBUZXh0IHwgbnVsbDtcbiAgICBhbmNob3JQb3NpdGlvbjogbnVtYmVyIHwgbnVsbDtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgIFRleHQgU2VnbWVudGF0aW9uIFN0cmF0ZWdpZXNcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLyoqXG4gKiBBIHNldCBvZiB0ZXh0IHNwbGl0dGluZyBmdW5jdGlvbnMgdXNlZCB0byBkZXRlcm1pbmUgaG93IG11Y2ggb2YgdGhlXG4gKiBzdWdnZXN0aW9uIHRvIGFjY2VwdCB3aGVuIHRyaWdnZXJlZC5cbiAqL1xuY29uc3QgVGV4dFNwbGl0U3RyYXRlZ2llcyA9IHtcbiAgICAvKipcbiAgICAgKiBXb3JkLWxldmVsIHNlZ21lbnRhdGlvbiAoc3BhY2UtZGVsaW1pdGVkKS5cbiAgICAgKiBBY2NlcHRzIHRleHQgdW50aWwgKGFuZCBpbmNsdWRpbmcpIHRoZSBmaXJzdCBzcGFjZS5cbiAgICAgKi9cbiAgICB3b3JkOiAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHRTcGFjZSA9IHRleHQuaW5kZXhPZignICcpO1xuICAgICAgICByZXR1cm4gbmV4dFNwYWNlID09PSAtMVxuICAgICAgICAgICAgPyB7IGFjY2VwdGVkOiB0ZXh0LCByZW1haW5pbmc6ICcnIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGFjY2VwdGVkOiB0ZXh0LnNsaWNlKDAsIG5leHRTcGFjZSArIDEpLFxuICAgICAgICAgICAgICAgIHJlbWFpbmluZzogdGV4dC5zbGljZShuZXh0U3BhY2UgKyAxKSxcbiAgICAgICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbnRlbmNlLWxldmVsIHNlZ21lbnRhdGlvbiAocHVuY3R1YXRpb24gZm9sbG93ZWQgYnkgd2hpdGVzcGFjZSkuXG4gICAgICovXG4gICAgc2VudGVuY2U6ICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9bLiE/XVxccysvKTtcbiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWNjZXB0ZWQ6IHRleHQuc2xpY2UoMCwgbWF0Y2guaW5kZXggKyAxKSxcbiAgICAgICAgICAgICAgICByZW1haW5pbmc6IHRleHQuc2xpY2UobWF0Y2guaW5kZXggKyAxKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgYWNjZXB0ZWQ6IHRleHQsIHJlbWFpbmluZzogJycgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFyYWdyYXBoLWxldmVsIHNlZ21lbnRhdGlvbiAoZG91YmxlIG5ld2xpbmUpLlxuICAgICAqL1xuICAgIHBhcmFncmFwaDogKHRleHQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBwYXJhZ3JhcGhFbmQgPSB0ZXh0LmluZGV4T2YoJ1xcblxcbicpO1xuICAgICAgICByZXR1cm4gcGFyYWdyYXBoRW5kID09PSAtMVxuICAgICAgICAgICAgPyB7IGFjY2VwdGVkOiB0ZXh0LCByZW1haW5pbmc6ICcnIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGFjY2VwdGVkOiB0ZXh0LnNsaWNlKDAsIHBhcmFncmFwaEVuZCArIDIpLFxuICAgICAgICAgICAgICAgIHJlbWFpbmluZzogdGV4dC5zbGljZShwYXJhZ3JhcGhFbmQgKyAyKSxcbiAgICAgICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF0b21pYyBhY2NlcHRhbmNlIFx1MjAxMyBjb25zdW1lIHRoZSBlbnRpcmUgc3VnZ2VzdGlvbi5cbiAgICAgKi9cbiAgICBmdWxsOiAodGV4dDogc3RyaW5nKSA9PiAoeyBhY2NlcHRlZDogdGV4dCwgcmVtYWluaW5nOiAnJyB9KSxcbn0gYXMgY29uc3Q7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICBTdWdnZXN0aW9uIFNlc3Npb24gU3RhdGUgTWFuYWdlbWVudFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKipcbiAqIEVmZmVjdCB0byB1cGRhdGUgdGhlIHN1Z2dlc3Rpb24gc2Vzc2lvbiBzdGF0ZS5cbiAqIEEgYG51bGxgIGNvbnRlbnQgc2lnbmFscyBhIHJlc2V0LlxuICovXG5jb25zdCBTdWdnZXN0aW9uVXBkYXRlRWZmZWN0ID0gU3RhdGVFZmZlY3QuZGVmaW5lPHtcbiAgICBjb250ZW50OiBzdHJpbmcgfCBudWxsO1xuICAgIGRvY3VtZW50OiBUZXh0IHwgbnVsbDtcbiAgICBhbmNob3I6IG51bWJlciB8IG51bGw7XG59PigpO1xuXG4vKipcbiAqIFRoZSBzdGF0ZSBmaWVsZCB0aGF0IGhvbGRzIHRoZSBjdXJyZW50IHN1Z2dlc3Rpb24gc2Vzc2lvbi5cbiAqL1xuY29uc3Qgc3VnZ2VzdGlvblNlc3Npb25TdGF0ZSA9IFN0YXRlRmllbGQuZGVmaW5lPFN1Z2dlc3Rpb25TZXNzaW9uPih7XG4gICAgY3JlYXRlOiAoKSA9PiBnZXRSZXNldFNlc3Npb24oKSxcblxuICAgIHVwZGF0ZShzZXNzaW9uLCB0cmFuc2FjdGlvbikge1xuICAgICAgICAvLyBQcm9jZXNzIGV4cGxpY2l0IHNlc3Npb24gdXBkYXRlIGVmZmVjdHMuXG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IHRyYW5zYWN0aW9uLmVmZmVjdHMuZmluZCgoZSkgPT5cbiAgICAgICAgICAgIGUuaXMoU3VnZ2VzdGlvblVwZGF0ZUVmZmVjdClcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVmZmVjdCkgcmV0dXJuIHVwZGF0ZVNlc3Npb25Gcm9tRWZmZWN0KGVmZmVjdC52YWx1ZSk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGRvY3VtZW50IGhhcyBjaGFuZ2VkLCBhZGp1c3QgdGhlIHNlc3Npb24uXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmRvY0NoYW5nZWQgJiZcbiAgICAgICAgICAgIHNlc3Npb24ucmVtYWluaW5nVGV4dCAmJlxuICAgICAgICAgICAgc2Vzc2lvbi5hbmNob3JQb3NpdGlvbiAhPT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVTZXNzaW9uT25Eb2N1bWVudENoYW5nZShzZXNzaW9uLCB0cmFuc2FjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBhY3RpdmUgc3VnZ2VzdGlvbiBidXQgdGhlIGN1cnNvciBoYXMgbW92ZWQsIGNhbmNlbCBpdC5cbiAgICAgICAgaWYgKHNlc3Npb24ucmVtYWluaW5nVGV4dCAhPT0gbnVsbCAmJiBzZXNzaW9uLmFuY2hvclBvc2l0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlU2Vzc2lvbk9uQ3Vyc29yRHJpZnQoc2Vzc2lvbiwgdHJhbnNhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfSxcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmcmVzaCwgZW1wdHkgc3VnZ2VzdGlvbiBzZXNzaW9uLlxuICovXG5mdW5jdGlvbiBnZXRSZXNldFNlc3Npb24oKTogU3VnZ2VzdGlvblNlc3Npb24ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGZ1bGxUZXh0OiBudWxsLFxuICAgICAgICByZW1haW5pbmdUZXh0OiBudWxsLFxuICAgICAgICBiYXNlbGluZURvY3VtZW50OiBudWxsLFxuICAgICAgICBhbmNob3JQb3NpdGlvbjogbnVsbCxcbiAgICB9O1xufVxuXG4vKipcbiAqIFVwZGF0ZSBzZXNzaW9uIHN0YXRlIGJhc2VkIG9uIGFuIGluY29taW5nIGVmZmVjdC5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU2Vzc2lvbkZyb21FZmZlY3QoZWZmZWN0OiB7XG4gICAgY29udGVudDogc3RyaW5nIHwgbnVsbDtcbiAgICBkb2N1bWVudDogVGV4dCB8IG51bGw7XG4gICAgYW5jaG9yOiBudW1iZXIgfCBudWxsO1xufSk6IFN1Z2dlc3Rpb25TZXNzaW9uIHtcbiAgICByZXR1cm4gZWZmZWN0LmNvbnRlbnQgPT09IG51bGxcbiAgICAgICAgPyBnZXRSZXNldFNlc3Npb24oKVxuICAgICAgICA6IGluaXRpYWxpemVTZXNzaW9uKGVmZmVjdCBhcyB7XG4gICAgICAgICAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgICAgICAgICBkb2N1bWVudDogVGV4dDtcbiAgICAgICAgICAgIGFuY2hvcjogbnVtYmVyO1xuICAgICAgICB9KTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIG5ldyBzdWdnZXN0aW9uIHNlc3Npb24gd2l0aCBwcm92aWRlZCBlZmZlY3QgZGF0YS5cbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZVNlc3Npb24oZWZmZWN0OiB7XG4gICAgY29udGVudDogc3RyaW5nO1xuICAgIGRvY3VtZW50OiBUZXh0O1xuICAgIGFuY2hvcjogbnVtYmVyO1xufSk6IFN1Z2dlc3Rpb25TZXNzaW9uIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBmdWxsVGV4dDogZWZmZWN0LmNvbnRlbnQsXG4gICAgICAgIHJlbWFpbmluZ1RleHQ6IGVmZmVjdC5jb250ZW50LFxuICAgICAgICBiYXNlbGluZURvY3VtZW50OiBlZmZlY3QuZG9jdW1lbnQsXG4gICAgICAgIGFuY2hvclBvc2l0aW9uOiBlZmZlY3QuYW5jaG9yLFxuICAgIH07XG59XG5cbi8qKlxuICogQWRqdXN0IHRoZSBzdWdnZXN0aW9uIHNlc3Npb24gaW4gcmVzcG9uc2UgdG8gZG9jdW1lbnQgY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU2Vzc2lvbk9uRG9jdW1lbnRDaGFuZ2UoXG4gICAgc2Vzc2lvbjogU3VnZ2VzdGlvblNlc3Npb24sXG4gICAgdHJhbnNhY3Rpb246IFRyYW5zYWN0aW9uXG4pOiBTdWdnZXN0aW9uU2Vzc2lvbiB7XG4gICAgbGV0IGluc2VydGVkQ29udGVudCA9ICcnO1xuICAgIGxldCBpbnNlcnRpb25BdEFuY2hvciA9IGZhbHNlO1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIGRvY3VtZW50IGNoYW5nZXMgdG8gZGV0ZWN0IGFuIGluc2VydGlvbiBhdCB0aGUgc3VnZ2VzdGlvbidzIGFuY2hvci5cbiAgICB0cmFuc2FjdGlvbi5jaGFuZ2VzLml0ZXJDaGFuZ2VzKChmcm9tQSwgdG9BLCBfZnJvbUIsIF90b0IsIGluc2VydGVkKSA9PiB7XG4gICAgICAgIGlmIChmcm9tQSA9PT0gc2Vzc2lvbi5hbmNob3JQb3NpdGlvbiAmJiB0b0EgPT09IGZyb21BKSB7XG4gICAgICAgICAgICBpbnNlcnRlZENvbnRlbnQgPSBpbnNlcnRlZC50b1N0cmluZygpO1xuICAgICAgICAgICAgaW5zZXJ0aW9uQXRBbmNob3IgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIWluc2VydGlvbkF0QW5jaG9yIHx8ICFzZXNzaW9uLnJlbWFpbmluZ1RleHQpIHtcbiAgICAgICAgcmV0dXJuIGludmFsaWRhdGVTZXNzaW9uKHNlc3Npb24pO1xuICAgIH1cblxuICAgIC8vIFZlcmlmeSB0aGUgaW5zZXJ0ZWQgdGV4dCBtYXRjaGVzIHRoZSBwZW5kaW5nIHN1Z2dlc3Rpb24uXG4gICAgaWYgKHNlc3Npb24ucmVtYWluaW5nVGV4dC5zdGFydHNXaXRoKGluc2VydGVkQ29udGVudCkpIHtcbiAgICAgICAgcmV0dXJuIGFkdmFuY2VTZXNzaW9uKHNlc3Npb24sIGluc2VydGVkQ29udGVudC5sZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiBpbnZhbGlkYXRlU2Vzc2lvbihzZXNzaW9uKTtcbn1cblxuLyoqXG4gKiBBZHZhbmNlIHRoZSBzZXNzaW9uIGJ5IGNvbnN1bWluZyBhY2NlcHRlZCB0ZXh0LlxuICovXG5mdW5jdGlvbiBhZHZhbmNlU2Vzc2lvbihcbiAgICBzZXNzaW9uOiBTdWdnZXN0aW9uU2Vzc2lvbixcbiAgICBjb25zdW1lZExlbmd0aDogbnVtYmVyXG4pOiBTdWdnZXN0aW9uU2Vzc2lvbiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc2Vzc2lvbixcbiAgICAgICAgcmVtYWluaW5nVGV4dDpcbiAgICAgICAgICAgIHNlc3Npb24ucmVtYWluaW5nVGV4dCEuc2xpY2UoY29uc3VtZWRMZW5ndGgpLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICA/IHNlc3Npb24ucmVtYWluaW5nVGV4dCEuc2xpY2UoY29uc3VtZWRMZW5ndGgpXG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICBhbmNob3JQb3NpdGlvbjogc2Vzc2lvbi5hbmNob3JQb3NpdGlvbiEgKyBjb25zdW1lZExlbmd0aCxcbiAgICB9O1xufVxuXG4vKipcbiAqIEludmFsaWRhdGUgdGhlIHNlc3Npb24sIGVmZmVjdGl2ZWx5IGNhbmNlbGxpbmcgYW55IHBlbmRpbmcgc3VnZ2VzdGlvbi5cbiAqL1xuZnVuY3Rpb24gaW52YWxpZGF0ZVNlc3Npb24oc2Vzc2lvbjogU3VnZ2VzdGlvblNlc3Npb24pOiBTdWdnZXN0aW9uU2Vzc2lvbiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc2Vzc2lvbixcbiAgICAgICAgcmVtYWluaW5nVGV4dDogbnVsbCxcbiAgICAgICAgYW5jaG9yUG9zaXRpb246IG51bGwsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBDYW5jZWwgdGhlIHN1Z2dlc3Rpb24gaWYgdGhlIGN1cnNvciBoYXMgZHJpZnRlZCBhd2F5LlxuICovXG5mdW5jdGlvbiB1cGRhdGVTZXNzaW9uT25DdXJzb3JEcmlmdChcbiAgICBzZXNzaW9uOiBTdWdnZXN0aW9uU2Vzc2lvbixcbiAgICB0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb25cbik6IFN1Z2dlc3Rpb25TZXNzaW9uIHtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb24uc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCAhPT0gc2Vzc2lvbi5hbmNob3JQb3NpdGlvblxuICAgICAgICA/IGludmFsaWRhdGVTZXNzaW9uKHNlc3Npb24pXG4gICAgICAgIDogc2Vzc2lvbjtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgIFN1Z2dlc3Rpb24gUmVuZGVyaW5nIChWaXN1YWxpemF0aW9uIExheWVyKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKipcbiAqIFdpZGdldCBmb3IgcmVuZGVyaW5nIGlubGluZSBzdWdnZXN0aW9uIHRleHQuXG4gKi9cbmNsYXNzIFN1Z2dlc3Rpb25XaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgT1BBQ0lUWSA9IDAuNDtcbiAgICBzdGF0aWMgcmVhZG9ubHkgQ1NTX0NMQVNTID0gJ2NtLWlubGluZS1wcmVkaWN0aW9uJztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgY29udGVudDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgdG9ET00oKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFN1Z2dlc3Rpb25XaWRnZXQuQ1NTX0NMQVNTO1xuICAgICAgICBzcGFuLnN0eWxlLm9wYWNpdHkgPSBTdWdnZXN0aW9uV2lkZ2V0Lk9QQUNJVFkudG9TdHJpbmcoKTtcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IHRoaXMuY29udGVudDtcbiAgICAgICAgcmV0dXJuIHNwYW47XG4gICAgfVxufVxuXG4vKipcbiAqIFBsdWdpbiB0aGF0IHJlbmRlcnMgaW5saW5lIHN1Z2dlc3Rpb24gZGVjb3JhdGlvbnMuXG4gKi9cbmNvbnN0IHN1Z2dlc3Rpb25SZW5kZXJlciA9IFZpZXdQbHVnaW4uZnJvbUNsYXNzKFxuICAgIGNsYXNzIHtcbiAgICAgICAgZGVjb3JhdGlvbnMgPSBEZWNvcmF0aW9uLm5vbmU7XG5cbiAgICAgICAgdXBkYXRlKHVwZGF0ZTogVmlld1VwZGF0ZSkge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHVwZGF0ZS5zdGF0ZS5maWVsZChzdWdnZXN0aW9uU2Vzc2lvblN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSBzZXNzaW9uLnJlbWFpbmluZ1RleHRcbiAgICAgICAgICAgICAgICA/IHRoaXMuY3JlYXRlRGVjb3JhdGlvbih1cGRhdGUudmlldywgc2Vzc2lvbi5yZW1haW5pbmdUZXh0KVxuICAgICAgICAgICAgICAgIDogRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVEZWNvcmF0aW9uKHZpZXc6IEVkaXRvclZpZXcsIHN1Z2dlc3Rpb25UZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnNvclBvc2l0aW9uID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkO1xuICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24uc2V0KFtcbiAgICAgICAgICAgICAgICBEZWNvcmF0aW9uLndpZGdldCh7XG4gICAgICAgICAgICAgICAgICAgIHdpZGdldDogbmV3IFN1Z2dlc3Rpb25XaWRnZXQoc3VnZ2VzdGlvblRleHQpLFxuICAgICAgICAgICAgICAgICAgICBzaWRlOiAxLFxuICAgICAgICAgICAgICAgIH0pLnJhbmdlKGN1cnNvclBvc2l0aW9uKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7IGRlY29yYXRpb25zOiAodikgPT4gdi5kZWNvcmF0aW9ucyB9XG4pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgU3VnZ2VzdGlvbiBGZXRjaGluZyAoRGVib3VuY2VkIEZldGNoZXIpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmZXRjaGVyIGZvciBzdWdnZXN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gZmV0Y2ggLSBUaGUgc3VnZ2VzdGlvbiBmZXRjaCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBnZXREZWxheSAtIEEgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBjdXJyZW50IGRlYm91bmNlIGRlbGF5IGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuY29uc3QgY3JlYXRlRGVib3VuY2VkRmV0Y2hlciA9IChcbiAgICBmZXRjaDogKHN0YXRlOiBFZGl0b3JTdGF0ZSkgPT4gQXN5bmNHZW5lcmF0b3I8U3VnZ2VzdGlvbj4sXG4gICAgZ2V0RGVsYXk6ICgpID0+IG51bWJlclxuKSA9PiB7XG4gICAgbGV0IGFjdGl2ZVJlcXVlc3QgPSB0cnVlO1xuICAgIGxldCB0aW1lb3V0SWQ6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+O1xuXG4gICAgLyoqXG4gICAgICogVGhyb3R0bGVkIGZldGNoIHRoYXQgd2FpdHMgZm9yIHRoZSBkZWJvdW5jZSBpbnRlcnZhbC5cbiAgICAgKi9cbiAgICBjb25zdCB0aHJvdHRsZWRGZXRjaCA9IGFzeW5jIGZ1bmN0aW9uKiAoc3RhdGU6IEVkaXRvclN0YXRlKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICBhY3RpdmVSZXF1ZXN0ID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQocmVzb2x2ZSwgZ2V0RGVsYXkoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWN0aXZlUmVxdWVzdCkgeWllbGQqIGZldGNoKHN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGx1Z2luIHRoYXQgaW5pdGlhdGVzIHN1Z2dlc3Rpb24gZmV0Y2hpbmcgb24gZG9jdW1lbnQgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBjb25zdCBmZXRjaGVyUGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoXG4gICAgICAgIGNsYXNzIHtcbiAgICAgICAgICAgIHByaXZhdGUgY3VycmVudFJlcXVlc3RJZCA9IDA7XG5cbiAgICAgICAgICAgIGFzeW5jIHVwZGF0ZSh1cGRhdGU6IFZpZXdVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHVwZGF0ZS5zdGF0ZTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHRyaWdnZXIgZmV0Y2ggaWYgdGhlcmUgaXMgbm8gYWN0aXZlIHN1Z2dlc3Rpb24uXG4gICAgICAgICAgICAgICAgaWYgKCF1cGRhdGUuZG9jQ2hhbmdlZCB8fCBzdGF0ZS5maWVsZChzdWdnZXN0aW9uU2Vzc2lvblN0YXRlKS5yZW1haW5pbmdUZXh0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0SWQgPSArK3RoaXMuY3VycmVudFJlcXVlc3RJZDtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHN1Z2dlc3Rpb24gb2YgdGhyb3R0bGVkRmV0Y2goc3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBzdGFsZSByZXF1ZXN0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RJZCAhPT0gdGhpcy5jdXJyZW50UmVxdWVzdElkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZS52aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFN1Z2dlc3Rpb25VcGRhdGVFZmZlY3Qub2Yoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHN1Z2dlc3Rpb24udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudDogc3RhdGUuZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmV0Y2hlclBsdWdpbixcbiAgICAgICAgdGVybWluYXRlOiAoKSA9PiB7XG4gICAgICAgICAgICBhY3RpdmVSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgIFVzZXIgSW50ZXJhY3Rpb24gKEFjY2VwdGFuY2UgSGFuZGxlcilcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLyoqXG4gKiBSZXR1cm5zIGEga2V5IGJpbmRpbmcgdGhhdCBhY2NlcHRzIHRoZSBjdXJyZW50IHN1Z2dlc3Rpb24uXG4gKlxuICogQHBhcmFtIHRlcm1pbmF0ZUZldGNoIC0gRnVuY3Rpb24gdG8gc3RvcCBmdXJ0aGVyIGZldGNoaW5nLlxuICogQHBhcmFtIGhvdGtleSAtIFRoZSBrZXkgdGhhdCB0cmlnZ2VycyBhY2NlcHRhbmNlLlxuICogQHBhcmFtIGdldE9wdGlvbnMgLSBGdW5jdGlvbiByZXR1cm5pbmcgZHluYW1pYyBvcHRpb25zIChpbmNsdWRpbmcgc3BsaXRTdHJhdGVneSkuXG4gKi9cbmNvbnN0IGNyZWF0ZUFjY2VwdGFuY2VIYW5kbGVyID0gKFxuICAgIHRlcm1pbmF0ZUZldGNoOiAoKSA9PiB2b2lkLFxuICAgIGhvdGtleTogc3RyaW5nLFxuICAgIGdldE9wdGlvbnM6ICgpID0+IHsgZGVsYXlNcz86IG51bWJlcjsgc3BsaXRTdHJhdGVneT86IFNwbGl0U3RyYXRlZ3kgfVxuKSA9PlxuICAgIFByZWMuaGlnaGVzdChcbiAgICAgICAga2V5bWFwLm9mKFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBrZXk6IGhvdGtleSxcbiAgICAgICAgICAgICAgICBydW46ICh2aWV3OiBFZGl0b3JWaWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSB2aWV3LnN0YXRlLmZpZWxkKHN1Z2dlc3Rpb25TZXNzaW9uU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb24ucmVtYWluaW5nVGV4dCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBvYnRhaW4gdGhlIGN1cnJlbnQgc3BsaXQgc3RyYXRlZ3kgZnJvbSBnZXRPcHRpb25zLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkeW5hbWljT3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VnbWVudGF0aW9uS2V5ID0gZHluYW1pY09wdGlvbnMuc3BsaXRTdHJhdGVneSA/PyAnd29yZCc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYWNjZXB0ZWQsIHJlbWFpbmluZyB9ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIFRleHRTcGxpdFN0cmF0ZWdpZXNbc2VnbWVudGF0aW9uS2V5XShzZXNzaW9uLnJlbWFpbmluZ1RleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWNjZXB0ZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJbnNlcnQgdGhlIGFjY2VwdGVkIHN1Z2dlc3Rpb24gdGV4dC5cbiAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5pbnNlcnRDb21wbGV0aW9uKHZpZXcuc3RhdGUsIGFjY2VwdGVkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHM6IFN1Z2dlc3Rpb25VcGRhdGVFZmZlY3Qub2Yoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlbWFpbmluZyB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50OiByZW1haW5pbmcgPyBzZXNzaW9uLmJhc2VsaW5lRG9jdW1lbnQgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogcmVtYWluaW5nID8gc2Vzc2lvbi5hbmNob3JQb3NpdGlvbiEgKyBhY2NlcHRlZC5sZW5ndGggOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVtYWluaW5nKSB0ZXJtaW5hdGVGZXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSlcbiAgICApO1xuXG4vKipcbiAqIEhlbHBlciB0byBjcmVhdGUgYSB0cmFuc2FjdGlvbiB0aGF0IGluc2VydHMgY29tcGxldGlvbiB0ZXh0LlxuICovXG5jb25zdCBpbnNlcnRDb21wbGV0aW9uID0gKHN0YXRlOiBFZGl0b3JTdGF0ZSwgdGV4dDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY3Vyc29yUG9zID0gc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZDtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZS5jaGFuZ2VCeVJhbmdlKCgpID0+ICh7XG4gICAgICAgICAgICBjaGFuZ2VzOiB7IGZyb206IGN1cnNvclBvcywgaW5zZXJ0OiB0ZXh0IH0sXG4gICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihjdXJzb3JQb3MgKyB0ZXh0Lmxlbmd0aCksXG4gICAgICAgIH0pKSxcbiAgICAgICAgdXNlckV2ZW50OiAnY29tcGxldGlvbi5hY2NlcHQnLFxuICAgIH07XG59O1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgUHVibGljIEFQSVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKipcbiAqIFRoZSBtYWluIGV4dGVuc2lvbiBmdW5jdGlvbi4gSXQgd2lyZXMgdXAgc2Vzc2lvbiBzdGF0ZSBtYW5hZ2VtZW50LFxuICogc3VnZ2VzdGlvbiBmZXRjaGluZywgcmVuZGVyaW5nLCBhbmQgdXNlciBpbnRlcmFjdGlvbi5cbiAqXG4gKiBOb3RpY2UgdGhhdCB0aGUgc3VnZ2VzdGlvbiBub3cgb25seSBjb250YWlucyB0ZXh0LlxuICogVGhlIHNwbGl0IHN0cmF0ZWd5IGlzIGFsd2F5cyBvYnRhaW5lZCBkeW5hbWljYWxseSB2aWEgYGdldE9wdGlvbnMoKWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmxpbmVTdWdnZXN0aW9ucyhjb25maWc6IElubGluZUNvbXBsZXRpb25Db25maWcpIHtcbiAgICBjb25zdCB7IGZldGNoRnVuYywgZ2V0T3B0aW9ucyB9ID0gY29uZmlnO1xuICAgIC8vIFVzZSB0aGUgaG90a2V5IGZyb20gdGhlIGNvbmZpZyBpZiBwcm92aWRlZDsgb3RoZXJ3aXNlLCBkZWZhdWx0IHRvIFwiVGFiXCIuXG4gICAgY29uc3Qgc3RhdGljSG90a2V5ID0gY29uZmlnLmFjY2VwdGFuY2VIb3RrZXkgfHwgJ1RhYic7XG5cbiAgICAvLyBOb3JtYWxpemUgdGhlIGZldGNoIGZ1bmN0aW9uIHRvIGFsd2F5cyByZXR1cm4gYW4gYXN5bmMgZ2VuZXJhdG9yLlxuICAgIGNvbnN0IG5vcm1hbGl6ZUZldGNoID0gYXN5bmMgZnVuY3Rpb24qIChzdGF0ZTogRWRpdG9yU3RhdGUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2hGdW5jKHN0YXRlKTtcbiAgICAgICAgaWYgKFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgeWllbGQqIHJlc3VsdCBhcyBBc3luY0dlbmVyYXRvcjxTdWdnZXN0aW9uPjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHlpZWxkIHJlc3VsdCBhcyBTdWdnZXN0aW9uO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFVzZSBnZXRPcHRpb25zKCkgdG8gb2J0YWluIHRoZSBjdXJyZW50IGRlYm91bmNlIGRlbGF5LlxuICAgIGNvbnN0IGdldERlbGF5ID0gKCkgPT4gZ2V0T3B0aW9ucygpLmRlbGF5TXMgPz8gMzAwO1xuICAgIGNvbnN0IHsgZmV0Y2hlclBsdWdpbiwgdGVybWluYXRlIH0gPSBjcmVhdGVEZWJvdW5jZWRGZXRjaGVyKG5vcm1hbGl6ZUZldGNoLCBnZXREZWxheSk7XG4gICAgY29uc3QgYWNjZXB0YW5jZUhhbmRsZXIgPSBjcmVhdGVBY2NlcHRhbmNlSGFuZGxlcih0ZXJtaW5hdGUsIHN0YXRpY0hvdGtleSwgZ2V0T3B0aW9ucyk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgICBzdWdnZXN0aW9uU2Vzc2lvblN0YXRlLFxuICAgICAgICBmZXRjaGVyUGx1Z2luLFxuICAgICAgICBzdWdnZXN0aW9uUmVuZGVyZXIsXG4gICAgICAgIGFjY2VwdGFuY2VIYW5kbGVyLFxuICAgIF07XG59XG4iLCAiaW1wb3J0IGZzLCB7IHByb21pc2VzIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgT2xsYW1hIGFzIE9sbGFtYSQxIH0gZnJvbSAnLi9icm93c2VyLm1qcyc7XG5pbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XG5cbmNsYXNzIE9sbGFtYSBleHRlbmRzIE9sbGFtYSQxIHtcbiAgYXN5bmMgZW5jb2RlSW1hZ2UoaW1hZ2UpIHtcbiAgICBpZiAodHlwZW9mIGltYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gQnVmZmVyLmZyb20oaW1hZ2UpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoaW1hZ2UpKSB7XG4gICAgICAgIGNvbnN0IGZpbGVCdWZmZXIgPSBhd2FpdCBwcm9taXNlcy5yZWFkRmlsZShyZXNvbHZlKGltYWdlKSk7XG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShmaWxlQnVmZmVyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICB9XG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG4gIC8qKlxuICAgKiBjaGVja3MgaWYgYSBmaWxlIGV4aXN0c1xuICAgKiBAcGFyYW0gcGF0aCB7c3RyaW5nfSAtIFRoZSBwYXRoIHRvIHRoZSBmaWxlXG4gICAqIEBwcml2YXRlIEBpbnRlcm5hbFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gLSBXaGV0aGVyIHRoZSBmaWxlIGV4aXN0cyBvciBub3RcbiAgICovXG4gIGFzeW5jIGZpbGVFeGlzdHMocGF0aCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwcm9taXNlcy5hY2Nlc3MocGF0aCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgY3JlYXRlKHJlcXVlc3QpIHtcbiAgICBpZiAocmVxdWVzdC5mcm9tICYmIGF3YWl0IHRoaXMuZmlsZUV4aXN0cyhyZXNvbHZlKHJlcXVlc3QuZnJvbSkpKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkNyZWF0aW5nIHdpdGggYSBsb2NhbCBwYXRoIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGZyb20gb2xsYW1hLWpzXCIpO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdC5zdHJlYW0pIHtcbiAgICAgIHJldHVybiBzdXBlci5jcmVhdGUocmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdXBlci5jcmVhdGUocmVxdWVzdCk7XG4gICAgfVxuICB9XG59XG5jb25zdCBpbmRleCA9IG5ldyBPbGxhbWEoKTtcblxuZXhwb3J0IHsgT2xsYW1hLCBpbmRleCBhcyBkZWZhdWx0IH07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zICovXG52YXIgZyA9XG4gICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcykgfHxcbiAgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmKSB8fFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbCkgfHxcbiAge31cblxudmFyIHN1cHBvcnQgPSB7XG4gIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gZyxcbiAgaXRlcmFibGU6ICdTeW1ib2wnIGluIGcgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gIGJsb2I6XG4gICAgJ0ZpbGVSZWFkZXInIGluIGcgJiZcbiAgICAnQmxvYicgaW4gZyAmJlxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gZyxcbiAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gZ1xufVxuXG5mdW5jdGlvbiBpc0RhdGFWaWV3KG9iaikge1xuICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbn1cblxuaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gIF1cblxuICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPVxuICAgIEFycmF5QnVmZmVyLmlzVmlldyB8fFxuICAgIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgfVxuICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5eX2B8fiFdL2kudGVzdChuYW1lKSB8fCBuYW1lID09PSAnJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lOiBcIicgKyBuYW1lICsgJ1wiJylcbiAgfVxuICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gIH1cbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG5mdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpdGVyYXRvclxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gIHRoaXMubWFwID0ge31cblxuICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIGlmIChoZWFkZXIubGVuZ3RoICE9IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSGVhZGVycyBjb25zdHJ1Y3RvcjogZXhwZWN0ZWQgbmFtZS92YWx1ZSBwYWlyIHRvIGJlIGxlbmd0aCAyLCBmb3VuZCcgKyBoZWFkZXIubGVuZ3RoKVxuICAgICAgfVxuICAgICAgdGhpcy5hcHBlbmQoaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG4gICAgfSwgdGhpcylcbiAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgIH0sIHRoaXMpXG4gIH1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlICsgJywgJyArIHZhbHVlIDogdmFsdWVcbn1cblxuSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgfVxuICB9XG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgaXRlbXMucHVzaChuYW1lKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpdGVtcy5wdXNoKHZhbHVlKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbmlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG59XG5cbmZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgaWYgKGJvZHkuX25vQm9keSkgcmV0dXJuXG4gIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICB9XG4gIGJvZHkuYm9keVVzZWQgPSB0cnVlXG59XG5cbmZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICB9XG4gICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgdmFyIG1hdGNoID0gL2NoYXJzZXQ9KFtBLVphLXowLTlfLV0rKS8uZXhlYyhibG9iLnR5cGUpXG4gIHZhciBlbmNvZGluZyA9IG1hdGNoID8gbWF0Y2hbMV0gOiAndXRmLTgnXG4gIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IsIGVuY29kaW5nKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gIH1cbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICB9IGVsc2Uge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgfVxufVxuXG5mdW5jdGlvbiBCb2R5KCkge1xuICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAvKlxuICAgICAgZmV0Y2gtbW9jayB3cmFwcyB0aGUgUmVzcG9uc2Ugb2JqZWN0IGluIGFuIEVTNiBQcm94eSB0b1xuICAgICAgcHJvdmlkZSB1c2VmdWwgdGVzdCBoYXJuZXNzIGZlYXR1cmVzIHN1Y2ggYXMgZmx1c2guIEhvd2V2ZXIsIG9uXG4gICAgICBFUzUgYnJvd3NlcnMgd2l0aG91dCBmZXRjaCBvciBQcm94eSBzdXBwb3J0IHBvbGx5ZmlsbHMgbXVzdCBiZSB1c2VkO1xuICAgICAgdGhlIHByb3h5LXBvbGx5ZmlsbCBpcyB1bmFibGUgdG8gcHJveHkgYW4gYXR0cmlidXRlIHVubGVzcyBpdCBleGlzdHNcbiAgICAgIG9uIHRoZSBvYmplY3QgYmVmb3JlIHRoZSBQcm94eSBpcyBjcmVhdGVkLiBUaGlzIGNoYW5nZSBlbnN1cmVzXG4gICAgICBSZXNwb25zZS5ib2R5VXNlZCBleGlzdHMgb24gdGhlIGluc3RhbmNlLCB3aGlsZSBtYWludGFpbmluZyB0aGVcbiAgICAgIHNlbWFudGljIG9mIHNldHRpbmcgUmVxdWVzdC5ib2R5VXNlZCBpbiB0aGUgY29uc3RydWN0b3IgYmVmb3JlXG4gICAgICBfaW5pdEJvZHkgaXMgY2FsbGVkLlxuICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtYXNzaWduXG4gICAgdGhpcy5ib2R5VXNlZCA9IHRoaXMuYm9keVVzZWRcbiAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIHRoaXMuX25vQm9keSA9IHRydWU7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIGlzQ29uc3VtZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKGlzQ29uc3VtZWQpIHtcbiAgICAgICAgcmV0dXJuIGlzQ29uc3VtZWRcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShcbiAgICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIuYnVmZmVyLnNsaWNlKFxuICAgICAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyLmJ5dGVPZmZzZXQsXG4gICAgICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIuYnl0ZU9mZnNldCArIHRoaXMuX2JvZHlBcnJheUJ1ZmZlci5ieXRlTGVuZ3RoXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIGFzIEFycmF5QnVmZmVyJylcbiAgICB9XG4gIH1cblxuICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICB9XG4gIH1cblxuICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG52YXIgbWV0aG9kcyA9IFsnQ09OTkVDVCcsICdERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQQVRDSCcsICdQT1NUJywgJ1BVVCcsICdUUkFDRSddXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXF1ZXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BsZWFzZSB1c2UgdGhlIFwibmV3XCIgb3BlcmF0b3IsIHRoaXMgRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uJylcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICB9XG4gICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgdGhpcy5zaWduYWwgPSBpbnB1dC5zaWduYWxcbiAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgfVxuXG4gIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ3NhbWUtb3JpZ2luJ1xuICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gIH1cbiAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICB0aGlzLnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsIHx8IHRoaXMuc2lnbmFsIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCdBYm9ydENvbnRyb2xsZXInIGluIGcpIHtcbiAgICAgIHZhciBjdHJsID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgcmV0dXJuIGN0cmwuc2lnbmFsO1xuICAgIH1cbiAgfSgpKTtcbiAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICB9XG4gIHRoaXMuX2luaXRCb2R5KGJvZHkpXG5cbiAgaWYgKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSB7XG4gICAgaWYgKG9wdGlvbnMuY2FjaGUgPT09ICduby1zdG9yZScgfHwgb3B0aW9ucy5jYWNoZSA9PT0gJ25vLWNhY2hlJykge1xuICAgICAgLy8gU2VhcmNoIGZvciBhICdfJyBwYXJhbWV0ZXIgaW4gdGhlIHF1ZXJ5IHN0cmluZ1xuICAgICAgdmFyIHJlUGFyYW1TZWFyY2ggPSAvKFs/Jl0pXz1bXiZdKi9cbiAgICAgIGlmIChyZVBhcmFtU2VhcmNoLnRlc3QodGhpcy51cmwpKSB7XG4gICAgICAgIC8vIElmIGl0IGFscmVhZHkgZXhpc3RzIHRoZW4gc2V0IHRoZSB2YWx1ZSB3aXRoIHRoZSBjdXJyZW50IHRpbWVcbiAgICAgICAgdGhpcy51cmwgPSB0aGlzLnVybC5yZXBsYWNlKHJlUGFyYW1TZWFyY2gsICckMV89JyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBhIG5ldyAnXycgcGFyYW1ldGVyIHRvIHRoZSBlbmQgd2l0aCB0aGUgY3VycmVudCB0aW1lXG4gICAgICAgIHZhciByZVF1ZXJ5U3RyaW5nID0gL1xcPy9cbiAgICAgICAgdGhpcy51cmwgKz0gKHJlUXVlcnlTdHJpbmcudGVzdCh0aGlzLnVybCkgPyAnJicgOiAnPycpICsgJ189JyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7Ym9keTogdGhpcy5fYm9keUluaXR9KVxufVxuXG5mdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gIGJvZHlcbiAgICAudHJpbSgpXG4gICAgLnNwbGl0KCcmJylcbiAgICAuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgcmV0dXJuIGZvcm1cbn1cblxuZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gIC8vIFJlcGxhY2UgaW5zdGFuY2VzIG9mIFxcclxcbiBhbmQgXFxuIGZvbGxvd2VkIGJ5IGF0IGxlYXN0IG9uZSBzcGFjZSBvciBob3Jpem9udGFsIHRhYiB3aXRoIGEgc3BhY2VcbiAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcyMzAjc2VjdGlvbi0zLjJcbiAgdmFyIHByZVByb2Nlc3NlZEhlYWRlcnMgPSByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJylcbiAgLy8gQXZvaWRpbmcgc3BsaXQgdmlhIHJlZ2V4IHRvIHdvcmsgYXJvdW5kIGEgY29tbW9uIElFMTEgYnVnIHdpdGggdGhlIGNvcmUtanMgMy42LjAgcmVnZXggcG9seWZpbGxcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dpdGh1Yi9mZXRjaC9pc3N1ZXMvNzQ4XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy83NTFcbiAgcHJlUHJvY2Vzc2VkSGVhZGVyc1xuICAgIC5zcGxpdCgnXFxyJylcbiAgICAubWFwKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgcmV0dXJuIGhlYWRlci5pbmRleE9mKCdcXG4nKSA9PT0gMCA/IGhlYWRlci5zdWJzdHIoMSwgaGVhZGVyLmxlbmd0aCkgOiBoZWFkZXJcbiAgICB9KVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignUmVzcG9uc2UgJyArIGVycm9yLm1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICByZXR1cm4gaGVhZGVyc1xufVxuXG5Cb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbmV4cG9ydCBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVzcG9uc2UpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGxlYXNlIHVzZSB0aGUgXCJuZXdcIiBvcGVyYXRvciwgdGhpcyBET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4nKVxuICB9XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fVxuICB9XG5cbiAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXMgPT09IHVuZGVmaW5lZCA/IDIwMCA6IG9wdGlvbnMuc3RhdHVzXG4gIGlmICh0aGlzLnN0YXR1cyA8IDIwMCB8fCB0aGlzLnN0YXR1cyA+IDU5OSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzcG9uc2UnOiBUaGUgc3RhdHVzIHByb3ZpZGVkICgwKSBpcyBvdXRzaWRlIHRoZSByYW5nZSBbMjAwLCA1OTldLlwiKVxuICB9XG4gIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgdGhpcy5zdGF0dXNUZXh0ID0gb3B0aW9ucy5zdGF0dXNUZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6ICcnICsgb3B0aW9ucy5zdGF0dXNUZXh0XG4gIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbn1cblxuQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgIHVybDogdGhpcy51cmxcbiAgfSlcbn1cblxuUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDIwMCwgc3RhdHVzVGV4dDogJyd9KVxuICByZXNwb25zZS5vayA9IGZhbHNlXG4gIHJlc3BvbnNlLnN0YXR1cyA9IDBcbiAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgcmV0dXJuIHJlc3BvbnNlXG59XG5cbnZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG5SZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gIH1cblxuICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbn1cblxuZXhwb3J0IHZhciBET01FeGNlcHRpb24gPSBnLkRPTUV4Y2VwdGlvblxudHJ5IHtcbiAgbmV3IERPTUV4Y2VwdGlvbigpXG59IGNhdGNoIChlcnIpIHtcbiAgRE9NRXhjZXB0aW9uID0gZnVuY3Rpb24obWVzc2FnZSwgbmFtZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2VcbiAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgdmFyIGVycm9yID0gRXJyb3IobWVzc2FnZSlcbiAgICB0aGlzLnN0YWNrID0gZXJyb3Iuc3RhY2tcbiAgfVxuICBET01FeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpXG4gIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBET01FeGNlcHRpb25cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoKGlucHV0LCBpbml0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuXG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsICYmIHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IERPTUV4Y2VwdGlvbignQWJvcnRlZCcsICdBYm9ydEVycm9yJykpXG4gICAgfVxuXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICBmdW5jdGlvbiBhYm9ydFhocigpIHtcbiAgICAgIHhoci5hYm9ydCgpXG4gICAgfVxuXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgfVxuICAgICAgLy8gVGhpcyBjaGVjayBpZiBzcGVjaWZpY2FsbHkgZm9yIHdoZW4gYSB1c2VyIGZldGNoZXMgYSBmaWxlIGxvY2FsbHkgZnJvbSB0aGUgZmlsZSBzeXN0ZW1cbiAgICAgIC8vIE9ubHkgaWYgdGhlIHN0YXR1cyBpcyBvdXQgb2YgYSBub3JtYWwgcmFuZ2VcbiAgICAgIGlmIChyZXF1ZXN0LnVybC5pbmRleE9mKCdmaWxlOi8vJykgPT09IDAgJiYgKHhoci5zdGF0dXMgPCAyMDAgfHwgeGhyLnN0YXR1cyA+IDU5OSkpIHtcbiAgICAgICAgb3B0aW9ucy5zdGF0dXMgPSAyMDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLnN0YXR1cyA9IHhoci5zdGF0dXM7XG4gICAgICB9XG4gICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG4gICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgICB9LCAwKVxuICAgIH1cblxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfSwgMClcbiAgICB9XG5cbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IHRpbWVkIG91dCcpKVxuICAgICAgfSwgMClcbiAgICB9XG5cbiAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpKVxuICAgICAgfSwgMClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaXhVcmwodXJsKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdXJsID09PSAnJyAmJiBnLmxvY2F0aW9uLmhyZWYgPyBnLmxvY2F0aW9uLmhyZWYgOiB1cmxcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVybFxuICAgICAgfVxuICAgIH1cblxuICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCBmaXhVcmwocmVxdWVzdC51cmwpLCB0cnVlKVxuXG4gICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICB9IGVsc2UgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdvbWl0Jykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhocikge1xuICAgICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBzdXBwb3J0LmFycmF5QnVmZmVyXG4gICAgICApIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcidcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5pdCAmJiB0eXBlb2YgaW5pdC5oZWFkZXJzID09PSAnb2JqZWN0JyAmJiAhKGluaXQuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMgfHwgKGcuSGVhZGVycyAmJiBpbml0LmhlYWRlcnMgaW5zdGFuY2VvZiBnLkhlYWRlcnMpKSkge1xuICAgICAgdmFyIG5hbWVzID0gW107XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhpbml0LmhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICBuYW1lcy5wdXNoKG5vcm1hbGl6ZU5hbWUobmFtZSkpXG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIG5vcm1hbGl6ZVZhbHVlKGluaXQuaGVhZGVyc1tuYW1lXSkpXG4gICAgICB9KVxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWVzLmluZGV4T2YobmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwpIHtcbiAgICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG5cbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRE9ORSAoc3VjY2VzcyBvciBmYWlsdXJlKVxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgfSlcbn1cblxuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG5cbmlmICghZy5mZXRjaCkge1xuICBnLmZldGNoID0gZmV0Y2hcbiAgZy5IZWFkZXJzID0gSGVhZGVyc1xuICBnLlJlcXVlc3QgPSBSZXF1ZXN0XG4gIGcuUmVzcG9uc2UgPSBSZXNwb25zZVxufVxuIiwgImltcG9ydCAnd2hhdHdnLWZldGNoJztcblxuY29uc3QgdmVyc2lvbiA9IFwiMC41LjEyXCI7XG5cbnZhciBfX2RlZlByb3AkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AkMSA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCQxID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xuICBfX2RlZk5vcm1hbFByb3AkMShvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5jbGFzcyBSZXNwb25zZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihlcnJvciwgc3RhdHVzX2NvZGUpIHtcbiAgICBzdXBlcihlcnJvcik7XG4gICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIHRoaXMuc3RhdHVzX2NvZGUgPSBzdGF0dXNfY29kZTtcbiAgICB0aGlzLm5hbWUgPSBcIlJlc3BvbnNlRXJyb3JcIjtcbiAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFJlc3BvbnNlRXJyb3IpO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgQWJvcnRhYmxlQXN5bmNJdGVyYXRvciB7XG4gIGNvbnN0cnVjdG9yKGFib3J0Q29udHJvbGxlciwgaXRyLCBkb25lQ2FsbGJhY2spIHtcbiAgICBfX3B1YmxpY0ZpZWxkJDEodGhpcywgXCJhYm9ydENvbnRyb2xsZXJcIik7XG4gICAgX19wdWJsaWNGaWVsZCQxKHRoaXMsIFwiaXRyXCIpO1xuICAgIF9fcHVibGljRmllbGQkMSh0aGlzLCBcImRvbmVDYWxsYmFja1wiKTtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlciA9IGFib3J0Q29udHJvbGxlcjtcbiAgICB0aGlzLml0ciA9IGl0cjtcbiAgICB0aGlzLmRvbmVDYWxsYmFjayA9IGRvbmVDYWxsYmFjaztcbiAgfVxuICBhYm9ydCgpIHtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICB9XG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGZvciBhd2FpdCAoY29uc3QgbWVzc2FnZSBvZiB0aGlzLml0cikge1xuICAgICAgaWYgKFwiZXJyb3JcIiBpbiBtZXNzYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlLmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHlpZWxkIG1lc3NhZ2U7XG4gICAgICBpZiAobWVzc2FnZS5kb25lIHx8IG1lc3NhZ2Uuc3RhdHVzID09PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICB0aGlzLmRvbmVDYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkRpZCBub3QgcmVjZWl2ZSBkb25lIG9yIHN1Y2Nlc3MgcmVzcG9uc2UgaW4gc3RyZWFtLlwiKTtcbiAgfVxufVxuY29uc3QgY2hlY2tPayA9IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG1lc3NhZ2UgPSBgRXJyb3IgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YDtcbiAgbGV0IGVycm9yRGF0YSA9IG51bGw7XG4gIGlmIChyZXNwb25zZS5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKT8uaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIG1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgbWVzc2FnZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gcGFyc2UgZXJyb3IgcmVzcG9uc2UgYXMgSlNPTlwiKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiR2V0dGluZyB0ZXh0IGZyb20gcmVzcG9uc2VcIik7XG4gICAgICBjb25zdCB0ZXh0UmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICBtZXNzYWdlID0gdGV4dFJlc3BvbnNlIHx8IG1lc3NhZ2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGdldCB0ZXh0IGZyb20gZXJyb3IgcmVzcG9uc2VcIik7XG4gICAgfVxuICB9XG4gIHRocm93IG5ldyBSZXNwb25zZUVycm9yKG1lc3NhZ2UsIHJlc3BvbnNlLnN0YXR1cyk7XG59O1xuZnVuY3Rpb24gZ2V0UGxhdGZvcm0oKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYXZpZ2F0b3IpIHtcbiAgICByZXR1cm4gYCR7d2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpfSBCcm93c2VyLyR7bmF2aWdhdG9yLnVzZXJBZ2VudH07YDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBgJHtwcm9jZXNzLmFyY2h9ICR7cHJvY2Vzcy5wbGF0Zm9ybX0gTm9kZS5qcy8ke3Byb2Nlc3MudmVyc2lvbn1gO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuY29uc3QgZmV0Y2hXaXRoSGVhZGVycyA9IGFzeW5jIChmZXRjaCwgdXJsLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgZGVmYXVsdEhlYWRlcnMgPSB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICBcIlVzZXItQWdlbnRcIjogYG9sbGFtYS1qcy8ke3ZlcnNpb259ICgke2dldFBsYXRmb3JtKCl9KWBcbiAgfTtcbiAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICBvcHRpb25zLmhlYWRlcnMgPSB7fTtcbiAgfVxuICBjb25zdCBjdXN0b21IZWFkZXJzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuaGVhZGVycykuZmlsdGVyKChba2V5XSkgPT4gIU9iamVjdC5rZXlzKGRlZmF1bHRIZWFkZXJzKS5zb21lKChkZWZhdWx0S2V5KSA9PiBkZWZhdWx0S2V5LnRvTG93ZXJDYXNlKCkgPT09IGtleS50b0xvd2VyQ2FzZSgpKSlcbiAgKTtcbiAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgIC4uLmRlZmF1bHRIZWFkZXJzLFxuICAgIC4uLmN1c3RvbUhlYWRlcnNcbiAgfTtcbiAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucyk7XG59O1xuY29uc3QgZ2V0ID0gYXN5bmMgKGZldGNoLCBob3N0LCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoSGVhZGVycyhmZXRjaCwgaG9zdCwge1xuICAgIGhlYWRlcnM6IG9wdGlvbnM/LmhlYWRlcnNcbiAgfSk7XG4gIGF3YWl0IGNoZWNrT2socmVzcG9uc2UpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgcG9zdCA9IGFzeW5jIChmZXRjaCwgaG9zdCwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBpc1JlY29yZCA9IChpbnB1dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoaW5wdXQpO1xuICB9O1xuICBjb25zdCBmb3JtYXR0ZWREYXRhID0gaXNSZWNvcmQoZGF0YSkgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IGRhdGE7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoSGVhZGVycyhmZXRjaCwgaG9zdCwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogZm9ybWF0dGVkRGF0YSxcbiAgICBzaWduYWw6IG9wdGlvbnM/LnNpZ25hbCxcbiAgICBoZWFkZXJzOiBvcHRpb25zPy5oZWFkZXJzXG4gIH0pO1xuICBhd2FpdCBjaGVja09rKHJlc3BvbnNlKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlbCA9IGFzeW5jIChmZXRjaCwgaG9zdCwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aEhlYWRlcnMoZmV0Y2gsIGhvc3QsIHtcbiAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgaGVhZGVyczogb3B0aW9ucz8uaGVhZGVyc1xuICB9KTtcbiAgYXdhaXQgY2hlY2tPayhyZXNwb25zZSk7XG4gIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBwYXJzZUpTT04gPSBhc3luYyBmdW5jdGlvbiogKGl0cikge1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIik7XG4gIGxldCBidWZmZXIgPSBcIlwiO1xuICBjb25zdCByZWFkZXIgPSBpdHIuZ2V0UmVhZGVyKCk7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgeyBkb25lLCB2YWx1ZTogY2h1bmsgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBidWZmZXIgKz0gZGVjb2Rlci5kZWNvZGUoY2h1bmspO1xuICAgIGNvbnN0IHBhcnRzID0gYnVmZmVyLnNwbGl0KFwiXFxuXCIpO1xuICAgIGJ1ZmZlciA9IHBhcnRzLnBvcCgpID8/IFwiXCI7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICB5aWVsZCBKU09OLnBhcnNlKHBhcnQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiaW52YWxpZCBqc29uOiBcIiwgcGFydCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgcGFydCBvZiBidWZmZXIuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChwKSA9PiBwICE9PSBcIlwiKSkge1xuICAgIHRyeSB7XG4gICAgICB5aWVsZCBKU09OLnBhcnNlKHBhcnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJpbnZhbGlkIGpzb246IFwiLCBwYXJ0KTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBmb3JtYXRIb3N0ID0gKGhvc3QpID0+IHtcbiAgaWYgKCFob3N0KSB7XG4gICAgcmV0dXJuIFwiaHR0cDovLzEyNy4wLjAuMToxMTQzNFwiO1xuICB9XG4gIGxldCBpc0V4cGxpY2l0UHJvdG9jb2wgPSBob3N0LmluY2x1ZGVzKFwiOi8vXCIpO1xuICBpZiAoaG9zdC5zdGFydHNXaXRoKFwiOlwiKSkge1xuICAgIGhvc3QgPSBgaHR0cDovLzEyNy4wLjAuMSR7aG9zdH1gO1xuICAgIGlzRXhwbGljaXRQcm90b2NvbCA9IHRydWU7XG4gIH1cbiAgaWYgKCFpc0V4cGxpY2l0UHJvdG9jb2wpIHtcbiAgICBob3N0ID0gYGh0dHA6Ly8ke2hvc3R9YDtcbiAgfVxuICBjb25zdCB1cmwgPSBuZXcgVVJMKGhvc3QpO1xuICBsZXQgcG9ydCA9IHVybC5wb3J0O1xuICBpZiAoIXBvcnQpIHtcbiAgICBpZiAoIWlzRXhwbGljaXRQcm90b2NvbCkge1xuICAgICAgcG9ydCA9IFwiMTE0MzRcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9ydCA9IHVybC5wcm90b2NvbCA9PT0gXCJodHRwczpcIiA/IFwiNDQzXCIgOiBcIjgwXCI7XG4gICAgfVxuICB9XG4gIGxldCBmb3JtYXR0ZWRIb3N0ID0gYCR7dXJsLnByb3RvY29sfS8vJHt1cmwuaG9zdG5hbWV9OiR7cG9ydH0ke3VybC5wYXRobmFtZX1gO1xuICBpZiAoZm9ybWF0dGVkSG9zdC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICBmb3JtYXR0ZWRIb3N0ID0gZm9ybWF0dGVkSG9zdC5zbGljZSgwLCAtMSk7XG4gIH1cbiAgcmV0dXJuIGZvcm1hdHRlZEhvc3Q7XG59O1xuXG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gIF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5sZXQgT2xsYW1hJDEgPSBjbGFzcyBPbGxhbWEge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY29uZmlnXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJmZXRjaFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib25nb2luZ1N0cmVhbWVkUmVxdWVzdHNcIiwgW10pO1xuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgaG9zdDogXCJcIixcbiAgICAgIGhlYWRlcnM6IGNvbmZpZz8uaGVhZGVyc1xuICAgIH07XG4gICAgaWYgKCFjb25maWc/LnByb3h5KSB7XG4gICAgICB0aGlzLmNvbmZpZy5ob3N0ID0gZm9ybWF0SG9zdChjb25maWc/Lmhvc3QgPz8gXCJodHRwOi8vMTI3LjAuMC4xOjExNDM0XCIpO1xuICAgIH1cbiAgICB0aGlzLmZldGNoID0gY29uZmlnPy5mZXRjaCA/PyBmZXRjaDtcbiAgfVxuICAvLyBBYm9ydCBhbnkgb25nb2luZyBzdHJlYW1lZCByZXF1ZXN0cyB0byBPbGxhbWFcbiAgYWJvcnQoKSB7XG4gICAgZm9yIChjb25zdCByZXF1ZXN0IG9mIHRoaXMub25nb2luZ1N0cmVhbWVkUmVxdWVzdHMpIHtcbiAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICB9XG4gICAgdGhpcy5vbmdvaW5nU3RyZWFtZWRSZXF1ZXN0cy5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxuICAgKiBQcm9jZXNzZXMgYSByZXF1ZXN0IHRvIHRoZSBPbGxhbWEgc2VydmVyLiBJZiB0aGUgcmVxdWVzdCBpcyBzdHJlYW1hYmxlLCBpdCB3aWxsIHJldHVybiBhXG4gICAqIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHMgdGhlIHJlc3BvbnNlIG1lc3NhZ2VzLiBPdGhlcndpc2UsIGl0IHdpbGwgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgKiBvYmplY3QuXG4gICAqIEBwYXJhbSBlbmRwb2ludCB7c3RyaW5nfSAtIFRoZSBlbmRwb2ludCB0byBzZW5kIHRoZSByZXF1ZXN0IHRvLlxuICAgKiBAcGFyYW0gcmVxdWVzdCB7b2JqZWN0fSAtIFRoZSByZXF1ZXN0IG9iamVjdCB0byBzZW5kIHRvIHRoZSBlbmRwb2ludC5cbiAgICogQHByb3RlY3RlZCB7VCB8IEFib3J0YWJsZUFzeW5jSXRlcmF0b3I8VD59IC0gVGhlIHJlc3BvbnNlIG9iamVjdCBvciBhIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHNcbiAgICogcmVzcG9uc2UgbWVzc2FnZXMuXG4gICAqIEB0aHJvd3Mge0Vycm9yfSAtIElmIHRoZSByZXNwb25zZSBib2R5IGlzIG1pc3Npbmcgb3IgaWYgdGhlIHJlc3BvbnNlIGlzIGFuIGVycm9yLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxUIHwgQWJvcnRhYmxlQXN5bmNJdGVyYXRvcjxUPj59IC0gVGhlIHJlc3BvbnNlIG9iamVjdCBvciBhIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHMgdGhlIHN0cmVhbWVkIHJlc3BvbnNlLlxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc1N0cmVhbWFibGVSZXF1ZXN0KGVuZHBvaW50LCByZXF1ZXN0KSB7XG4gICAgcmVxdWVzdC5zdHJlYW0gPSByZXF1ZXN0LnN0cmVhbSA/PyBmYWxzZTtcbiAgICBjb25zdCBob3N0ID0gYCR7dGhpcy5jb25maWcuaG9zdH0vYXBpLyR7ZW5kcG9pbnR9YDtcbiAgICBpZiAocmVxdWVzdC5zdHJlYW0pIHtcbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHBvc3QodGhpcy5mZXRjaCwgaG9zdCwgcmVxdWVzdCwge1xuICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmhlYWRlcnNcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZTIuYm9keSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGJvZHlcIik7XG4gICAgICB9XG4gICAgICBjb25zdCBpdHIgPSBwYXJzZUpTT04ocmVzcG9uc2UyLmJvZHkpO1xuICAgICAgY29uc3QgYWJvcnRhYmxlQXN5bmNJdGVyYXRvciA9IG5ldyBBYm9ydGFibGVBc3luY0l0ZXJhdG9yKFxuICAgICAgICBhYm9ydENvbnRyb2xsZXIsXG4gICAgICAgIGl0cixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLm9uZ29pbmdTdHJlYW1lZFJlcXVlc3RzLmluZGV4T2YoYWJvcnRhYmxlQXN5bmNJdGVyYXRvcik7XG4gICAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5vbmdvaW5nU3RyZWFtZWRSZXF1ZXN0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdGhpcy5vbmdvaW5nU3RyZWFtZWRSZXF1ZXN0cy5wdXNoKGFib3J0YWJsZUFzeW5jSXRlcmF0b3IpO1xuICAgICAgcmV0dXJuIGFib3J0YWJsZUFzeW5jSXRlcmF0b3I7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLmZldGNoLCBob3N0LCByZXF1ZXN0LCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmNvbmZpZy5oZWFkZXJzXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICAvKipcbiAgICogRW5jb2RlcyBhbiBpbWFnZSB0byBiYXNlNjQgaWYgaXQgaXMgYSBVaW50OEFycmF5LlxuICAgKiBAcGFyYW0gaW1hZ2Uge1VpbnQ4QXJyYXkgfCBzdHJpbmd9IC0gVGhlIGltYWdlIHRvIGVuY29kZS5cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgYmFzZTY0IGVuY29kZWQgaW1hZ2UuXG4gICAqL1xuICBhc3luYyBlbmNvZGVJbWFnZShpbWFnZSkge1xuICAgIGlmICh0eXBlb2YgaW1hZ2UgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IHVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheShpbWFnZSk7XG4gICAgICBsZXQgYnl0ZVN0cmluZyA9IFwiXCI7XG4gICAgICBjb25zdCBsZW4gPSB1aW50OEFycmF5LmJ5dGVMZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGJ5dGVTdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1aW50OEFycmF5W2ldKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBidG9hKGJ5dGVTdHJpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gaW1hZ2U7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIHJlc3BvbnNlIGZyb20gYSB0ZXh0IHByb21wdC5cbiAgICogQHBhcmFtIHJlcXVlc3Qge0dlbmVyYXRlUmVxdWVzdH0gLSBUaGUgcmVxdWVzdCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEdlbmVyYXRlUmVzcG9uc2UgfCBBYm9ydGFibGVBc3luY0l0ZXJhdG9yPEdlbmVyYXRlUmVzcG9uc2U+Pn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0IG9yXG4gICAqIGFuIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHMgcmVzcG9uc2UgbWVzc2FnZXMuXG4gICAqL1xuICBhc3luYyBnZW5lcmF0ZShyZXF1ZXN0KSB7XG4gICAgaWYgKHJlcXVlc3QuaW1hZ2VzKSB7XG4gICAgICByZXF1ZXN0LmltYWdlcyA9IGF3YWl0IFByb21pc2UuYWxsKHJlcXVlc3QuaW1hZ2VzLm1hcCh0aGlzLmVuY29kZUltYWdlLmJpbmQodGhpcykpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1N0cmVhbWFibGVSZXF1ZXN0KFwiZ2VuZXJhdGVcIiwgcmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIENoYXRzIHdpdGggdGhlIG1vZGVsLiBUaGUgcmVxdWVzdCBvYmplY3QgY2FuIGNvbnRhaW4gbWVzc2FnZXMgd2l0aCBpbWFnZXMgdGhhdCBhcmUgZWl0aGVyXG4gICAqIFVpbnQ4QXJyYXlzIG9yIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3MuIFRoZSBpbWFnZXMgd2lsbCBiZSBiYXNlNjQgZW5jb2RlZCBiZWZvcmUgc2VuZGluZyB0aGVcbiAgICogcmVxdWVzdC5cbiAgICogQHBhcmFtIHJlcXVlc3Qge0NoYXRSZXF1ZXN0fSAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICogQHJldHVybnMge1Byb21pc2U8Q2hhdFJlc3BvbnNlIHwgQWJvcnRhYmxlQXN5bmNJdGVyYXRvcjxDaGF0UmVzcG9uc2U+Pn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0IG9yIGFuXG4gICAqIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHMgcmVzcG9uc2UgbWVzc2FnZXMuXG4gICAqL1xuICBhc3luYyBjaGF0KHJlcXVlc3QpIHtcbiAgICBpZiAocmVxdWVzdC5tZXNzYWdlcykge1xuICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHJlcXVlc3QubWVzc2FnZXMpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuaW1hZ2VzKSB7XG4gICAgICAgICAgbWVzc2FnZS5pbWFnZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIG1lc3NhZ2UuaW1hZ2VzLm1hcCh0aGlzLmVuY29kZUltYWdlLmJpbmQodGhpcykpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzU3RyZWFtYWJsZVJlcXVlc3QoXCJjaGF0XCIsIHJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IG1vZGVsIGZyb20gYSBzdHJlYW0gb2YgZGF0YS5cbiAgICogQHBhcmFtIHJlcXVlc3Qge0NyZWF0ZVJlcXVlc3R9IC0gVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxQcm9ncmVzc1Jlc3BvbnNlIHwgQWJvcnRhYmxlQXN5bmNJdGVyYXRvcjxQcm9ncmVzc1Jlc3BvbnNlPj59IC0gVGhlIHJlc3BvbnNlIG9iamVjdCBvciBhIHN0cmVhbSBvZiBwcm9ncmVzcyByZXNwb25zZXMuXG4gICAqL1xuICBhc3luYyBjcmVhdGUocmVxdWVzdCkge1xuICAgIHJldHVybiB0aGlzLnByb2Nlc3NTdHJlYW1hYmxlUmVxdWVzdChcImNyZWF0ZVwiLCB7XG4gICAgICAuLi5yZXF1ZXN0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFB1bGxzIGEgbW9kZWwgZnJvbSB0aGUgT2xsYW1hIHJlZ2lzdHJ5LiBUaGUgcmVxdWVzdCBvYmplY3QgY2FuIGNvbnRhaW4gYSBzdHJlYW0gZmxhZyB0byBpbmRpY2F0ZSBpZiB0aGVcbiAgICogcmVzcG9uc2Ugc2hvdWxkIGJlIHN0cmVhbWVkLlxuICAgKiBAcGFyYW0gcmVxdWVzdCB7UHVsbFJlcXVlc3R9IC0gVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxQcm9ncmVzc1Jlc3BvbnNlIHwgQWJvcnRhYmxlQXN5bmNJdGVyYXRvcjxQcm9ncmVzc1Jlc3BvbnNlPj59IC0gVGhlIHJlc3BvbnNlIG9iamVjdCBvclxuICAgKiBhbiBBYm9ydGFibGVBc3luY0l0ZXJhdG9yIHRoYXQgeWllbGRzIHJlc3BvbnNlIG1lc3NhZ2VzLlxuICAgKi9cbiAgYXN5bmMgcHVsbChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1N0cmVhbWFibGVSZXF1ZXN0KFwicHVsbFwiLCB7XG4gICAgICBuYW1lOiByZXF1ZXN0Lm1vZGVsLFxuICAgICAgc3RyZWFtOiByZXF1ZXN0LnN0cmVhbSxcbiAgICAgIGluc2VjdXJlOiByZXF1ZXN0Lmluc2VjdXJlXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFB1c2hlcyBhIG1vZGVsIHRvIHRoZSBPbGxhbWEgcmVnaXN0cnkuIFRoZSByZXF1ZXN0IG9iamVjdCBjYW4gY29udGFpbiBhIHN0cmVhbSBmbGFnIHRvIGluZGljYXRlIGlmIHRoZVxuICAgKiByZXNwb25zZSBzaG91bGQgYmUgc3RyZWFtZWQuXG4gICAqIEBwYXJhbSByZXF1ZXN0IHtQdXNoUmVxdWVzdH0gLSBUaGUgcmVxdWVzdCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFByb2dyZXNzUmVzcG9uc2UgfCBBYm9ydGFibGVBc3luY0l0ZXJhdG9yPFByb2dyZXNzUmVzcG9uc2U+Pn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0IG9yXG4gICAqIGFuIEFib3J0YWJsZUFzeW5jSXRlcmF0b3IgdGhhdCB5aWVsZHMgcmVzcG9uc2UgbWVzc2FnZXMuXG4gICAqL1xuICBhc3luYyBwdXNoKHJlcXVlc3QpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzU3RyZWFtYWJsZVJlcXVlc3QoXCJwdXNoXCIsIHtcbiAgICAgIG5hbWU6IHJlcXVlc3QubW9kZWwsXG4gICAgICBzdHJlYW06IHJlcXVlc3Quc3RyZWFtLFxuICAgICAgaW5zZWN1cmU6IHJlcXVlc3QuaW5zZWN1cmVcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlcyBhIG1vZGVsIGZyb20gdGhlIHNlcnZlci4gVGhlIHJlcXVlc3Qgb2JqZWN0IHNob3VsZCBjb250YWluIHRoZSBuYW1lIG9mIHRoZSBtb2RlbCB0b1xuICAgKiBkZWxldGUuXG4gICAqIEBwYXJhbSByZXF1ZXN0IHtEZWxldGVSZXF1ZXN0fSAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICogQHJldHVybnMge1Byb21pc2U8U3RhdHVzUmVzcG9uc2U+fSAtIFRoZSByZXNwb25zZSBvYmplY3QuXG4gICAqL1xuICBhc3luYyBkZWxldGUocmVxdWVzdCkge1xuICAgIGF3YWl0IGRlbChcbiAgICAgIHRoaXMuZmV0Y2gsXG4gICAgICBgJHt0aGlzLmNvbmZpZy5ob3N0fS9hcGkvZGVsZXRlYCxcbiAgICAgIHsgbmFtZTogcmVxdWVzdC5tb2RlbCB9LFxuICAgICAgeyBoZWFkZXJzOiB0aGlzLmNvbmZpZy5oZWFkZXJzIH1cbiAgICApO1xuICAgIHJldHVybiB7IHN0YXR1czogXCJzdWNjZXNzXCIgfTtcbiAgfVxuICAvKipcbiAgICogQ29waWVzIGEgbW9kZWwgZnJvbSBvbmUgbmFtZSB0byBhbm90aGVyLiBUaGUgcmVxdWVzdCBvYmplY3Qgc2hvdWxkIGNvbnRhaW4gdGhlIG5hbWUgb2YgdGhlXG4gICAqIG1vZGVsIHRvIGNvcHkgYW5kIHRoZSBuZXcgbmFtZS5cbiAgICogQHBhcmFtIHJlcXVlc3Qge0NvcHlSZXF1ZXN0fSAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICogQHJldHVybnMge1Byb21pc2U8U3RhdHVzUmVzcG9uc2U+fSAtIFRoZSByZXNwb25zZSBvYmplY3QuXG4gICAqL1xuICBhc3luYyBjb3B5KHJlcXVlc3QpIHtcbiAgICBhd2FpdCBwb3N0KHRoaXMuZmV0Y2gsIGAke3RoaXMuY29uZmlnLmhvc3R9L2FwaS9jb3B5YCwgeyAuLi5yZXF1ZXN0IH0sIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmhlYWRlcnNcbiAgICB9KTtcbiAgICByZXR1cm4geyBzdGF0dXM6IFwic3VjY2Vzc1wiIH07XG4gIH1cbiAgLyoqXG4gICAqIExpc3RzIHRoZSBtb2RlbHMgb24gdGhlIHNlcnZlci5cbiAgICogQHJldHVybnMge1Byb21pc2U8TGlzdFJlc3BvbnNlPn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0LlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gLSBJZiB0aGUgcmVzcG9uc2UgYm9keSBpcyBtaXNzaW5nLlxuICAgKi9cbiAgYXN5bmMgbGlzdCgpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldCh0aGlzLmZldGNoLCBgJHt0aGlzLmNvbmZpZy5ob3N0fS9hcGkvdGFnc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmhlYWRlcnNcbiAgICB9KTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyB0aGUgbWV0YWRhdGEgb2YgYSBtb2RlbC4gVGhlIHJlcXVlc3Qgb2JqZWN0IHNob3VsZCBjb250YWluIHRoZSBuYW1lIG9mIHRoZSBtb2RlbC5cbiAgICogQHBhcmFtIHJlcXVlc3Qge1Nob3dSZXF1ZXN0fSAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICogQHJldHVybnMge1Byb21pc2U8U2hvd1Jlc3BvbnNlPn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0LlxuICAgKi9cbiAgYXN5bmMgc2hvdyhyZXF1ZXN0KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwb3N0KHRoaXMuZmV0Y2gsIGAke3RoaXMuY29uZmlnLmhvc3R9L2FwaS9zaG93YCwge1xuICAgICAgLi4ucmVxdWVzdFxuICAgIH0sIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmhlYWRlcnNcbiAgICB9KTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIC8qKlxuICAgKiBFbWJlZHMgdGV4dCBpbnB1dCBpbnRvIHZlY3RvcnMuXG4gICAqIEBwYXJhbSByZXF1ZXN0IHtFbWJlZFJlcXVlc3R9IC0gVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxFbWJlZFJlc3BvbnNlPn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0LlxuICAgKi9cbiAgYXN5bmMgZW1iZWQocmVxdWVzdCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLmZldGNoLCBgJHt0aGlzLmNvbmZpZy5ob3N0fS9hcGkvZW1iZWRgLCB7XG4gICAgICAuLi5yZXF1ZXN0XG4gICAgfSwge1xuICAgICAgaGVhZGVyczogdGhpcy5jb25maWcuaGVhZGVyc1xuICAgIH0pO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVtYmVkcyBhIHRleHQgcHJvbXB0IGludG8gYSB2ZWN0b3IuXG4gICAqIEBwYXJhbSByZXF1ZXN0IHtFbWJlZGRpbmdzUmVxdWVzdH0gLSBUaGUgcmVxdWVzdCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEVtYmVkZGluZ3NSZXNwb25zZT59IC0gVGhlIHJlc3BvbnNlIG9iamVjdC5cbiAgICovXG4gIGFzeW5jIGVtYmVkZGluZ3MocmVxdWVzdCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCh0aGlzLmZldGNoLCBgJHt0aGlzLmNvbmZpZy5ob3N0fS9hcGkvZW1iZWRkaW5nc2AsIHtcbiAgICAgIC4uLnJlcXVlc3RcbiAgICB9LCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmNvbmZpZy5oZWFkZXJzXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICAvKipcbiAgICogTGlzdHMgdGhlIHJ1bm5pbmcgbW9kZWxzIG9uIHRoZSBzZXJ2ZXJcbiAgICogQHJldHVybnMge1Byb21pc2U8TGlzdFJlc3BvbnNlPn0gLSBUaGUgcmVzcG9uc2Ugb2JqZWN0LlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gLSBJZiB0aGUgcmVzcG9uc2UgYm9keSBpcyBtaXNzaW5nLlxuICAgKi9cbiAgYXN5bmMgcHMoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXQodGhpcy5mZXRjaCwgYCR7dGhpcy5jb25maWcuaG9zdH0vYXBpL3BzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5jb25maWcuaGVhZGVyc1xuICAgIH0pO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbn07XG5jb25zdCBicm93c2VyID0gbmV3IE9sbGFtYSQxKCk7XG5cbmV4cG9ydCB7IE9sbGFtYSQxIGFzIE9sbGFtYSwgYnJvd3NlciBhcyBkZWZhdWx0IH07XG4iLCAiLyohXG4gKiBtdXN0YWNoZS5qcyAtIExvZ2ljLWxlc3Mge3ttdXN0YWNoZX19IHRlbXBsYXRlcyB3aXRoIEphdmFTY3JpcHRcbiAqIGh0dHA6Ly9naXRodWIuY29tL2phbmwvbXVzdGFjaGUuanNcbiAqL1xuXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXlQb2x5ZmlsbCAob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3RUb1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uIChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogTW9yZSBjb3JyZWN0IHR5cGVvZiBzdHJpbmcgaGFuZGxpbmcgYXJyYXlcbiAqIHdoaWNoIG5vcm1hbGx5IHJldHVybnMgdHlwZW9mICdvYmplY3QnXG4gKi9cbmZ1bmN0aW9uIHR5cGVTdHIgKG9iaikge1xuICByZXR1cm4gaXNBcnJheShvYmopID8gJ2FycmF5JyA6IHR5cGVvZiBvYmo7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cCAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbn1cblxuLyoqXG4gKiBOdWxsIHNhZmUgd2F5IG9mIGNoZWNraW5nIHdoZXRoZXIgb3Igbm90IGFuIG9iamVjdCxcbiAqIGluY2x1ZGluZyBpdHMgcHJvdG90eXBlLCBoYXMgYSBnaXZlbiBwcm9wZXJ0eVxuICovXG5mdW5jdGlvbiBoYXNQcm9wZXJ0eSAob2JqLCBwcm9wTmFtZSkge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgKHByb3BOYW1lIGluIG9iaik7XG59XG5cbi8qKlxuICogU2FmZSB3YXkgb2YgZGV0ZWN0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiB0aGluZyBpcyBhIHByaW1pdGl2ZSBhbmRcbiAqIHdoZXRoZXIgaXQgaGFzIHRoZSBnaXZlbiBwcm9wZXJ0eVxuICovXG5mdW5jdGlvbiBwcmltaXRpdmVIYXNPd25Qcm9wZXJ0eSAocHJpbWl0aXZlLCBwcm9wTmFtZSkge1xuICByZXR1cm4gKFxuICAgIHByaW1pdGl2ZSAhPSBudWxsXG4gICAgJiYgdHlwZW9mIHByaW1pdGl2ZSAhPT0gJ29iamVjdCdcbiAgICAmJiBwcmltaXRpdmUuaGFzT3duUHJvcGVydHlcbiAgICAmJiBwcmltaXRpdmUuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpXG4gICk7XG59XG5cbi8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvQ09VQ0hEQi01Nzdcbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFubC9tdXN0YWNoZS5qcy9pc3N1ZXMvMTg5XG52YXIgcmVnRXhwVGVzdCA9IFJlZ0V4cC5wcm90b3R5cGUudGVzdDtcbmZ1bmN0aW9uIHRlc3RSZWdFeHAgKHJlLCBzdHJpbmcpIHtcbiAgcmV0dXJuIHJlZ0V4cFRlc3QuY2FsbChyZSwgc3RyaW5nKTtcbn1cblxudmFyIG5vblNwYWNlUmUgPSAvXFxTLztcbmZ1bmN0aW9uIGlzV2hpdGVzcGFjZSAoc3RyaW5nKSB7XG4gIHJldHVybiAhdGVzdFJlZ0V4cChub25TcGFjZVJlLCBzdHJpbmcpO1xufVxuXG52YXIgZW50aXR5TWFwID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiMzOTsnLFxuICAnLyc6ICcmI3gyRjsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5mdW5jdGlvbiBlc2NhcGVIdG1sIChzdHJpbmcpIHtcbiAgcmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UoL1smPD5cIidgPVxcL10vZywgZnVuY3Rpb24gZnJvbUVudGl0eU1hcCAocykge1xuICAgIHJldHVybiBlbnRpdHlNYXBbc107XG4gIH0pO1xufVxuXG52YXIgd2hpdGVSZSA9IC9cXHMqLztcbnZhciBzcGFjZVJlID0gL1xccysvO1xudmFyIGVxdWFsc1JlID0gL1xccyo9LztcbnZhciBjdXJseVJlID0gL1xccypcXH0vO1xudmFyIHRhZ1JlID0gLyN8XFxefFxcL3w+fFxce3wmfD18IS87XG5cbi8qKlxuICogQnJlYWtzIHVwIHRoZSBnaXZlbiBgdGVtcGxhdGVgIHN0cmluZyBpbnRvIGEgdHJlZSBvZiB0b2tlbnMuIElmIHRoZSBgdGFnc2BcbiAqIGFyZ3VtZW50IGlzIGdpdmVuIGhlcmUgaXQgbXVzdCBiZSBhbiBhcnJheSB3aXRoIHR3byBzdHJpbmcgdmFsdWVzOiB0aGVcbiAqIG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFncyB1c2VkIGluIHRoZSB0ZW1wbGF0ZSAoZS5nLiBbIFwiPCVcIiwgXCIlPlwiIF0pLiBPZlxuICogY291cnNlLCB0aGUgZGVmYXVsdCBpcyB0byB1c2UgbXVzdGFjaGVzIChpLmUuIG11c3RhY2hlLnRhZ3MpLlxuICpcbiAqIEEgdG9rZW4gaXMgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCA0IGVsZW1lbnRzLiBUaGUgZmlyc3QgZWxlbWVudCBpcyB0aGVcbiAqIG11c3RhY2hlIHN5bWJvbCB0aGF0IHdhcyB1c2VkIGluc2lkZSB0aGUgdGFnLCBlLmcuIFwiI1wiIG9yIFwiJlwiLiBJZiB0aGUgdGFnXG4gKiBkaWQgbm90IGNvbnRhaW4gYSBzeW1ib2wgKGkuZS4ge3tteVZhbHVlfX0pIHRoaXMgZWxlbWVudCBpcyBcIm5hbWVcIi4gRm9yXG4gKiBhbGwgdGV4dCB0aGF0IGFwcGVhcnMgb3V0c2lkZSBhIHN5bWJvbCB0aGlzIGVsZW1lbnQgaXMgXCJ0ZXh0XCIuXG4gKlxuICogVGhlIHNlY29uZCBlbGVtZW50IG9mIGEgdG9rZW4gaXMgaXRzIFwidmFsdWVcIi4gRm9yIG11c3RhY2hlIHRhZ3MgdGhpcyBpc1xuICogd2hhdGV2ZXIgZWxzZSB3YXMgaW5zaWRlIHRoZSB0YWcgYmVzaWRlcyB0aGUgb3BlbmluZyBzeW1ib2wuIEZvciB0ZXh0IHRva2Vuc1xuICogdGhpcyBpcyB0aGUgdGV4dCBpdHNlbGYuXG4gKlxuICogVGhlIHRoaXJkIGFuZCBmb3VydGggZWxlbWVudHMgb2YgdGhlIHRva2VuIGFyZSB0aGUgc3RhcnQgYW5kIGVuZCBpbmRpY2VzLFxuICogcmVzcGVjdGl2ZWx5LCBvZiB0aGUgdG9rZW4gaW4gdGhlIG9yaWdpbmFsIHRlbXBsYXRlLlxuICpcbiAqIFRva2VucyB0aGF0IGFyZSB0aGUgcm9vdCBub2RlIG9mIGEgc3VidHJlZSBjb250YWluIHR3byBtb3JlIGVsZW1lbnRzOiAxKSBhblxuICogYXJyYXkgb2YgdG9rZW5zIGluIHRoZSBzdWJ0cmVlIGFuZCAyKSB0aGUgaW5kZXggaW4gdGhlIG9yaWdpbmFsIHRlbXBsYXRlIGF0XG4gKiB3aGljaCB0aGUgY2xvc2luZyB0YWcgZm9yIHRoYXQgc2VjdGlvbiBiZWdpbnMuXG4gKlxuICogVG9rZW5zIGZvciBwYXJ0aWFscyBhbHNvIGNvbnRhaW4gdHdvIG1vcmUgZWxlbWVudHM6IDEpIGEgc3RyaW5nIHZhbHVlIG9mXG4gKiBpbmRlbmRhdGlvbiBwcmlvciB0byB0aGF0IHRhZyBhbmQgMikgdGhlIGluZGV4IG9mIHRoYXQgdGFnIG9uIHRoYXQgbGluZSAtXG4gKiBlZyBhIHZhbHVlIG9mIDIgaW5kaWNhdGVzIHRoZSBwYXJ0aWFsIGlzIHRoZSB0aGlyZCB0YWcgb24gdGhpcyBsaW5lLlxuICovXG5mdW5jdGlvbiBwYXJzZVRlbXBsYXRlICh0ZW1wbGF0ZSwgdGFncykge1xuICBpZiAoIXRlbXBsYXRlKVxuICAgIHJldHVybiBbXTtcbiAgdmFyIGxpbmVIYXNOb25TcGFjZSA9IGZhbHNlO1xuICB2YXIgc2VjdGlvbnMgPSBbXTsgICAgIC8vIFN0YWNrIHRvIGhvbGQgc2VjdGlvbiB0b2tlbnNcbiAgdmFyIHRva2VucyA9IFtdOyAgICAgICAvLyBCdWZmZXIgdG8gaG9sZCB0aGUgdG9rZW5zXG4gIHZhciBzcGFjZXMgPSBbXTsgICAgICAgLy8gSW5kaWNlcyBvZiB3aGl0ZXNwYWNlIHRva2VucyBvbiB0aGUgY3VycmVudCBsaW5lXG4gIHZhciBoYXNUYWcgPSBmYWxzZTsgICAgLy8gSXMgdGhlcmUgYSB7e3RhZ319IG9uIHRoZSBjdXJyZW50IGxpbmU/XG4gIHZhciBub25TcGFjZSA9IGZhbHNlOyAgLy8gSXMgdGhlcmUgYSBub24tc3BhY2UgY2hhciBvbiB0aGUgY3VycmVudCBsaW5lP1xuICB2YXIgaW5kZW50YXRpb24gPSAnJzsgIC8vIFRyYWNrcyBpbmRlbnRhdGlvbiBmb3IgdGFncyB0aGF0IHVzZSBpdFxuICB2YXIgdGFnSW5kZXggPSAwOyAgICAgIC8vIFN0b3JlcyBhIGNvdW50IG9mIG51bWJlciBvZiB0YWdzIGVuY291bnRlcmVkIG9uIGEgbGluZVxuXG4gIC8vIFN0cmlwcyBhbGwgd2hpdGVzcGFjZSB0b2tlbnMgYXJyYXkgZm9yIHRoZSBjdXJyZW50IGxpbmVcbiAgLy8gaWYgdGhlcmUgd2FzIGEge3sjdGFnfX0gb24gaXQgYW5kIG90aGVyd2lzZSBvbmx5IHNwYWNlLlxuICBmdW5jdGlvbiBzdHJpcFNwYWNlICgpIHtcbiAgICBpZiAoaGFzVGFnICYmICFub25TcGFjZSkge1xuICAgICAgd2hpbGUgKHNwYWNlcy5sZW5ndGgpXG4gICAgICAgIGRlbGV0ZSB0b2tlbnNbc3BhY2VzLnBvcCgpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3BhY2VzID0gW107XG4gICAgfVxuXG4gICAgaGFzVGFnID0gZmFsc2U7XG4gICAgbm9uU3BhY2UgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBvcGVuaW5nVGFnUmUsIGNsb3NpbmdUYWdSZSwgY2xvc2luZ0N1cmx5UmU7XG4gIGZ1bmN0aW9uIGNvbXBpbGVUYWdzICh0YWdzVG9Db21waWxlKSB7XG4gICAgaWYgKHR5cGVvZiB0YWdzVG9Db21waWxlID09PSAnc3RyaW5nJylcbiAgICAgIHRhZ3NUb0NvbXBpbGUgPSB0YWdzVG9Db21waWxlLnNwbGl0KHNwYWNlUmUsIDIpO1xuXG4gICAgaWYgKCFpc0FycmF5KHRhZ3NUb0NvbXBpbGUpIHx8IHRhZ3NUb0NvbXBpbGUubGVuZ3RoICE9PSAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRhZ3M6ICcgKyB0YWdzVG9Db21waWxlKTtcblxuICAgIG9wZW5pbmdUYWdSZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKHRhZ3NUb0NvbXBpbGVbMF0pICsgJ1xcXFxzKicpO1xuICAgIGNsb3NpbmdUYWdSZSA9IG5ldyBSZWdFeHAoJ1xcXFxzKicgKyBlc2NhcGVSZWdFeHAodGFnc1RvQ29tcGlsZVsxXSkpO1xuICAgIGNsb3NpbmdDdXJseVJlID0gbmV3IFJlZ0V4cCgnXFxcXHMqJyArIGVzY2FwZVJlZ0V4cCgnfScgKyB0YWdzVG9Db21waWxlWzFdKSk7XG4gIH1cblxuICBjb21waWxlVGFncyh0YWdzIHx8IG11c3RhY2hlLnRhZ3MpO1xuXG4gIHZhciBzY2FubmVyID0gbmV3IFNjYW5uZXIodGVtcGxhdGUpO1xuXG4gIHZhciBzdGFydCwgdHlwZSwgdmFsdWUsIGNociwgdG9rZW4sIG9wZW5TZWN0aW9uO1xuICB3aGlsZSAoIXNjYW5uZXIuZW9zKCkpIHtcbiAgICBzdGFydCA9IHNjYW5uZXIucG9zO1xuXG4gICAgLy8gTWF0Y2ggYW55IHRleHQgYmV0d2VlbiB0YWdzLlxuICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwob3BlbmluZ1RhZ1JlKTtcblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgdmFsdWVMZW5ndGg7ICsraSkge1xuICAgICAgICBjaHIgPSB2YWx1ZS5jaGFyQXQoaSk7XG5cbiAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjaHIpKSB7XG4gICAgICAgICAgc3BhY2VzLnB1c2godG9rZW5zLmxlbmd0aCk7XG4gICAgICAgICAgaW5kZW50YXRpb24gKz0gY2hyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vblNwYWNlID0gdHJ1ZTtcbiAgICAgICAgICBsaW5lSGFzTm9uU3BhY2UgPSB0cnVlO1xuICAgICAgICAgIGluZGVudGF0aW9uICs9ICcgJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRva2Vucy5wdXNoKFsgJ3RleHQnLCBjaHIsIHN0YXJ0LCBzdGFydCArIDEgXSk7XG4gICAgICAgIHN0YXJ0ICs9IDE7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIHdoaXRlc3BhY2Ugb24gdGhlIGN1cnJlbnQgbGluZS5cbiAgICAgICAgaWYgKGNociA9PT0gJ1xcbicpIHtcbiAgICAgICAgICBzdHJpcFNwYWNlKCk7XG4gICAgICAgICAgaW5kZW50YXRpb24gPSAnJztcbiAgICAgICAgICB0YWdJbmRleCA9IDA7XG4gICAgICAgICAgbGluZUhhc05vblNwYWNlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNYXRjaCB0aGUgb3BlbmluZyB0YWcuXG4gICAgaWYgKCFzY2FubmVyLnNjYW4ob3BlbmluZ1RhZ1JlKSlcbiAgICAgIGJyZWFrO1xuXG4gICAgaGFzVGFnID0gdHJ1ZTtcblxuICAgIC8vIEdldCB0aGUgdGFnIHR5cGUuXG4gICAgdHlwZSA9IHNjYW5uZXIuc2Nhbih0YWdSZSkgfHwgJ25hbWUnO1xuICAgIHNjYW5uZXIuc2Nhbih3aGl0ZVJlKTtcblxuICAgIC8vIEdldCB0aGUgdGFnIHZhbHVlLlxuICAgIGlmICh0eXBlID09PSAnPScpIHtcbiAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwoZXF1YWxzUmUpO1xuICAgICAgc2Nhbm5lci5zY2FuKGVxdWFsc1JlKTtcbiAgICAgIHNjYW5uZXIuc2NhblVudGlsKGNsb3NpbmdUYWdSZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAneycpIHtcbiAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ0N1cmx5UmUpO1xuICAgICAgc2Nhbm5lci5zY2FuKGN1cmx5UmUpO1xuICAgICAgc2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ1RhZ1JlKTtcbiAgICAgIHR5cGUgPSAnJic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ1RhZ1JlKTtcbiAgICB9XG5cbiAgICAvLyBNYXRjaCB0aGUgY2xvc2luZyB0YWcuXG4gICAgaWYgKCFzY2FubmVyLnNjYW4oY2xvc2luZ1RhZ1JlKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgdGFnIGF0ICcgKyBzY2FubmVyLnBvcyk7XG5cbiAgICBpZiAodHlwZSA9PSAnPicpIHtcbiAgICAgIHRva2VuID0gWyB0eXBlLCB2YWx1ZSwgc3RhcnQsIHNjYW5uZXIucG9zLCBpbmRlbnRhdGlvbiwgdGFnSW5kZXgsIGxpbmVIYXNOb25TcGFjZSBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2tlbiA9IFsgdHlwZSwgdmFsdWUsIHN0YXJ0LCBzY2FubmVyLnBvcyBdO1xuICAgIH1cbiAgICB0YWdJbmRleCsrO1xuICAgIHRva2Vucy5wdXNoKHRva2VuKTtcblxuICAgIGlmICh0eXBlID09PSAnIycgfHwgdHlwZSA9PT0gJ14nKSB7XG4gICAgICBzZWN0aW9ucy5wdXNoKHRva2VuKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICcvJykge1xuICAgICAgLy8gQ2hlY2sgc2VjdGlvbiBuZXN0aW5nLlxuICAgICAgb3BlblNlY3Rpb24gPSBzZWN0aW9ucy5wb3AoKTtcblxuICAgICAgaWYgKCFvcGVuU2VjdGlvbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbm9wZW5lZCBzZWN0aW9uIFwiJyArIHZhbHVlICsgJ1wiIGF0ICcgKyBzdGFydCk7XG5cbiAgICAgIGlmIChvcGVuU2VjdGlvblsxXSAhPT0gdmFsdWUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiBcIicgKyBvcGVuU2VjdGlvblsxXSArICdcIiBhdCAnICsgc3RhcnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ25hbWUnIHx8IHR5cGUgPT09ICd7JyB8fCB0eXBlID09PSAnJicpIHtcbiAgICAgIG5vblNwYWNlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICc9Jykge1xuICAgICAgLy8gU2V0IHRoZSB0YWdzIGZvciB0aGUgbmV4dCB0aW1lIGFyb3VuZC5cbiAgICAgIGNvbXBpbGVUYWdzKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBzdHJpcFNwYWNlKCk7XG5cbiAgLy8gTWFrZSBzdXJlIHRoZXJlIGFyZSBubyBvcGVuIHNlY3Rpb25zIHdoZW4gd2UncmUgZG9uZS5cbiAgb3BlblNlY3Rpb24gPSBzZWN0aW9ucy5wb3AoKTtcblxuICBpZiAob3BlblNlY3Rpb24pXG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmNsb3NlZCBzZWN0aW9uIFwiJyArIG9wZW5TZWN0aW9uWzFdICsgJ1wiIGF0ICcgKyBzY2FubmVyLnBvcyk7XG5cbiAgcmV0dXJuIG5lc3RUb2tlbnMoc3F1YXNoVG9rZW5zKHRva2VucykpO1xufVxuXG4vKipcbiAqIENvbWJpbmVzIHRoZSB2YWx1ZXMgb2YgY29uc2VjdXRpdmUgdGV4dCB0b2tlbnMgaW4gdGhlIGdpdmVuIGB0b2tlbnNgIGFycmF5XG4gKiB0byBhIHNpbmdsZSB0b2tlbi5cbiAqL1xuZnVuY3Rpb24gc3F1YXNoVG9rZW5zICh0b2tlbnMpIHtcbiAgdmFyIHNxdWFzaGVkVG9rZW5zID0gW107XG5cbiAgdmFyIHRva2VuLCBsYXN0VG9rZW47XG4gIGZvciAodmFyIGkgPSAwLCBudW1Ub2tlbnMgPSB0b2tlbnMubGVuZ3RoOyBpIDwgbnVtVG9rZW5zOyArK2kpIHtcbiAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgIGlmICh0b2tlbikge1xuICAgICAgaWYgKHRva2VuWzBdID09PSAndGV4dCcgJiYgbGFzdFRva2VuICYmIGxhc3RUb2tlblswXSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGxhc3RUb2tlblsxXSArPSB0b2tlblsxXTtcbiAgICAgICAgbGFzdFRva2VuWzNdID0gdG9rZW5bM107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcXVhc2hlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgbGFzdFRva2VuID0gdG9rZW47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNxdWFzaGVkVG9rZW5zO1xufVxuXG4vKipcbiAqIEZvcm1zIHRoZSBnaXZlbiBhcnJheSBvZiBgdG9rZW5zYCBpbnRvIGEgbmVzdGVkIHRyZWUgc3RydWN0dXJlIHdoZXJlXG4gKiB0b2tlbnMgdGhhdCByZXByZXNlbnQgYSBzZWN0aW9uIGhhdmUgdHdvIGFkZGl0aW9uYWwgaXRlbXM6IDEpIGFuIGFycmF5IG9mXG4gKiBhbGwgdG9rZW5zIHRoYXQgYXBwZWFyIGluIHRoYXQgc2VjdGlvbiBhbmQgMikgdGhlIGluZGV4IGluIHRoZSBvcmlnaW5hbFxuICogdGVtcGxhdGUgdGhhdCByZXByZXNlbnRzIHRoZSBlbmQgb2YgdGhhdCBzZWN0aW9uLlxuICovXG5mdW5jdGlvbiBuZXN0VG9rZW5zICh0b2tlbnMpIHtcbiAgdmFyIG5lc3RlZFRva2VucyA9IFtdO1xuICB2YXIgY29sbGVjdG9yID0gbmVzdGVkVG9rZW5zO1xuICB2YXIgc2VjdGlvbnMgPSBbXTtcblxuICB2YXIgdG9rZW4sIHNlY3Rpb247XG4gIGZvciAodmFyIGkgPSAwLCBudW1Ub2tlbnMgPSB0b2tlbnMubGVuZ3RoOyBpIDwgbnVtVG9rZW5zOyArK2kpIHtcbiAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgIHN3aXRjaCAodG9rZW5bMF0pIHtcbiAgICAgIGNhc2UgJyMnOlxuICAgICAgY2FzZSAnXic6XG4gICAgICAgIGNvbGxlY3Rvci5wdXNoKHRva2VuKTtcbiAgICAgICAgc2VjdGlvbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbGxlY3RvciA9IHRva2VuWzRdID0gW107XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnLyc6XG4gICAgICAgIHNlY3Rpb24gPSBzZWN0aW9ucy5wb3AoKTtcbiAgICAgICAgc2VjdGlvbls1XSA9IHRva2VuWzJdO1xuICAgICAgICBjb2xsZWN0b3IgPSBzZWN0aW9ucy5sZW5ndGggPiAwID8gc2VjdGlvbnNbc2VjdGlvbnMubGVuZ3RoIC0gMV1bNF0gOiBuZXN0ZWRUb2tlbnM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29sbGVjdG9yLnB1c2godG9rZW4pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXN0ZWRUb2tlbnM7XG59XG5cbi8qKlxuICogQSBzaW1wbGUgc3RyaW5nIHNjYW5uZXIgdGhhdCBpcyB1c2VkIGJ5IHRoZSB0ZW1wbGF0ZSBwYXJzZXIgdG8gZmluZFxuICogdG9rZW5zIGluIHRlbXBsYXRlIHN0cmluZ3MuXG4gKi9cbmZ1bmN0aW9uIFNjYW5uZXIgKHN0cmluZykge1xuICB0aGlzLnN0cmluZyA9IHN0cmluZztcbiAgdGhpcy50YWlsID0gc3RyaW5nO1xuICB0aGlzLnBvcyA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhaWwgaXMgZW1wdHkgKGVuZCBvZiBzdHJpbmcpLlxuICovXG5TY2FubmVyLnByb3RvdHlwZS5lb3MgPSBmdW5jdGlvbiBlb3MgKCkge1xuICByZXR1cm4gdGhpcy50YWlsID09PSAnJztcbn07XG5cbi8qKlxuICogVHJpZXMgdG8gbWF0Y2ggdGhlIGdpdmVuIHJlZ3VsYXIgZXhwcmVzc2lvbiBhdCB0aGUgY3VycmVudCBwb3NpdGlvbi5cbiAqIFJldHVybnMgdGhlIG1hdGNoZWQgdGV4dCBpZiBpdCBjYW4gbWF0Y2gsIHRoZSBlbXB0eSBzdHJpbmcgb3RoZXJ3aXNlLlxuICovXG5TY2FubmVyLnByb3RvdHlwZS5zY2FuID0gZnVuY3Rpb24gc2NhbiAocmUpIHtcbiAgdmFyIG1hdGNoID0gdGhpcy50YWlsLm1hdGNoKHJlKTtcblxuICBpZiAoIW1hdGNoIHx8IG1hdGNoLmluZGV4ICE9PSAwKVxuICAgIHJldHVybiAnJztcblxuICB2YXIgc3RyaW5nID0gbWF0Y2hbMF07XG5cbiAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZyhzdHJpbmcubGVuZ3RoKTtcbiAgdGhpcy5wb3MgKz0gc3RyaW5nLmxlbmd0aDtcblxuICByZXR1cm4gc3RyaW5nO1xufTtcblxuLyoqXG4gKiBTa2lwcyBhbGwgdGV4dCB1bnRpbCB0aGUgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uIGNhbiBiZSBtYXRjaGVkLiBSZXR1cm5zXG4gKiB0aGUgc2tpcHBlZCBzdHJpbmcsIHdoaWNoIGlzIHRoZSBlbnRpcmUgdGFpbCBpZiBubyBtYXRjaCBjYW4gYmUgbWFkZS5cbiAqL1xuU2Nhbm5lci5wcm90b3R5cGUuc2NhblVudGlsID0gZnVuY3Rpb24gc2NhblVudGlsIChyZSkge1xuICB2YXIgaW5kZXggPSB0aGlzLnRhaWwuc2VhcmNoKHJlKSwgbWF0Y2g7XG5cbiAgc3dpdGNoIChpbmRleCkge1xuICAgIGNhc2UgLTE6XG4gICAgICBtYXRjaCA9IHRoaXMudGFpbDtcbiAgICAgIHRoaXMudGFpbCA9ICcnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAwOlxuICAgICAgbWF0Y2ggPSAnJztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBtYXRjaCA9IHRoaXMudGFpbC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZyhpbmRleCk7XG4gIH1cblxuICB0aGlzLnBvcyArPSBtYXRjaC5sZW5ndGg7XG5cbiAgcmV0dXJuIG1hdGNoO1xufTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgcmVuZGVyaW5nIGNvbnRleHQgYnkgd3JhcHBpbmcgYSB2aWV3IG9iamVjdCBhbmRcbiAqIG1haW50YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgY29udGV4dC5cbiAqL1xuZnVuY3Rpb24gQ29udGV4dCAodmlldywgcGFyZW50Q29udGV4dCkge1xuICB0aGlzLnZpZXcgPSB2aWV3O1xuICB0aGlzLmNhY2hlID0geyAnLic6IHRoaXMudmlldyB9O1xuICB0aGlzLnBhcmVudCA9IHBhcmVudENvbnRleHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBjb250ZXh0IHVzaW5nIHRoZSBnaXZlbiB2aWV3IHdpdGggdGhpcyBjb250ZXh0XG4gKiBhcyB0aGUgcGFyZW50LlxuICovXG5Db250ZXh0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAodmlldykge1xuICByZXR1cm4gbmV3IENvbnRleHQodmlldywgdGhpcyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBuYW1lIGluIHRoaXMgY29udGV4dCwgdHJhdmVyc2luZ1xuICogdXAgdGhlIGNvbnRleHQgaGllcmFyY2h5IGlmIHRoZSB2YWx1ZSBpcyBhYnNlbnQgaW4gdGhpcyBjb250ZXh0J3Mgdmlldy5cbiAqL1xuQ29udGV4dC5wcm90b3R5cGUubG9va3VwID0gZnVuY3Rpb24gbG9va3VwIChuYW1lKSB7XG4gIHZhciBjYWNoZSA9IHRoaXMuY2FjaGU7XG5cbiAgdmFyIHZhbHVlO1xuICBpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICB2YWx1ZSA9IGNhY2hlW25hbWVdO1xuICB9IGVsc2Uge1xuICAgIHZhciBjb250ZXh0ID0gdGhpcywgaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzLCBpbmRleCwgbG9va3VwSGl0ID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoY29udGV4dCkge1xuICAgICAgaWYgKG5hbWUuaW5kZXhPZignLicpID4gMCkge1xuICAgICAgICBpbnRlcm1lZGlhdGVWYWx1ZSA9IGNvbnRleHQudmlldztcbiAgICAgICAgbmFtZXMgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgIGluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNpbmcgdGhlIGRvdCBub3Rpb24gcGF0aCBpbiBgbmFtZWAsIHdlIGRlc2NlbmQgdGhyb3VnaCB0aGVcbiAgICAgICAgICogbmVzdGVkIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRvIGJlIGNlcnRhaW4gdGhhdCB0aGUgbG9va3VwIGhhcyBiZWVuIHN1Y2Nlc3NmdWwsIHdlIGhhdmUgdG9cbiAgICAgICAgICogY2hlY2sgaWYgdGhlIGxhc3Qgb2JqZWN0IGluIHRoZSBwYXRoIGFjdHVhbGx5IGhhcyB0aGUgcHJvcGVydHlcbiAgICAgICAgICogd2UgYXJlIGxvb2tpbmcgZm9yLiBXZSBzdG9yZSB0aGUgcmVzdWx0IGluIGBsb29rdXBIaXRgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIHNwZWNpYWxseSBuZWNlc3NhcnkgZm9yIHdoZW4gdGhlIHZhbHVlIGhhcyBiZWVuIHNldCB0b1xuICAgICAgICAgKiBgdW5kZWZpbmVkYCBhbmQgd2Ugd2FudCB0byBhdm9pZCBsb29raW5nIHVwIHBhcmVudCBjb250ZXh0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhlIGNhc2Ugd2hlcmUgZG90IG5vdGF0aW9uIGlzIHVzZWQsIHdlIGNvbnNpZGVyIHRoZSBsb29rdXBcbiAgICAgICAgICogdG8gYmUgc3VjY2Vzc2Z1bCBldmVuIGlmIHRoZSBsYXN0IFwib2JqZWN0XCIgaW4gdGhlIHBhdGggaXNcbiAgICAgICAgICogbm90IGFjdHVhbGx5IGFuIG9iamVjdCBidXQgYSBwcmltaXRpdmUgKGUuZy4sIGEgc3RyaW5nLCBvciBhblxuICAgICAgICAgKiBpbnRlZ2VyKSwgYmVjYXVzZSBpdCBpcyBzb21ldGltZXMgdXNlZnVsIHRvIGFjY2VzcyBhIHByb3BlcnR5XG4gICAgICAgICAqIG9mIGFuIGF1dG9ib3hlZCBwcmltaXRpdmUsIHN1Y2ggYXMgdGhlIGxlbmd0aCBvZiBhIHN0cmluZy5cbiAgICAgICAgICoqL1xuICAgICAgICB3aGlsZSAoaW50ZXJtZWRpYXRlVmFsdWUgIT0gbnVsbCAmJiBpbmRleCA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gbmFtZXMubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIGxvb2t1cEhpdCA9IChcbiAgICAgICAgICAgICAgaGFzUHJvcGVydHkoaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzW2luZGV4XSlcbiAgICAgICAgICAgICAgfHwgcHJpbWl0aXZlSGFzT3duUHJvcGVydHkoaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzW2luZGV4XSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICBpbnRlcm1lZGlhdGVWYWx1ZSA9IGludGVybWVkaWF0ZVZhbHVlW25hbWVzW2luZGV4KytdXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW50ZXJtZWRpYXRlVmFsdWUgPSBjb250ZXh0LnZpZXdbbmFtZV07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9ubHkgY2hlY2tpbmcgYWdhaW5zdCBgaGFzUHJvcGVydHlgLCB3aGljaCBhbHdheXMgcmV0dXJucyBgZmFsc2VgIGlmXG4gICAgICAgICAqIGBjb250ZXh0LnZpZXdgIGlzIG5vdCBhbiBvYmplY3QuIERlbGliZXJhdGVseSBvbWl0dGluZyB0aGUgY2hlY2tcbiAgICAgICAgICogYWdhaW5zdCBgcHJpbWl0aXZlSGFzT3duUHJvcGVydHlgIGlmIGRvdCBub3RhdGlvbiBpcyBub3QgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQ29uc2lkZXIgdGhpcyBleGFtcGxlOlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogTXVzdGFjaGUucmVuZGVyKFwiVGhlIGxlbmd0aCBvZiBhIGZvb3RiYWxsIGZpZWxkIGlzIHt7I2xlbmd0aH19e3tsZW5ndGh9fXt7L2xlbmd0aH19LlwiLCB7bGVuZ3RoOiBcIjEwMCB5YXJkc1wifSlcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHdlIHdlcmUgdG8gY2hlY2sgYWxzbyBhZ2FpbnN0IGBwcmltaXRpdmVIYXNPd25Qcm9wZXJ0eWAsIGFzIHdlIGRvXG4gICAgICAgICAqIGluIHRoZSBkb3Qgbm90YXRpb24gY2FzZSwgdGhlbiByZW5kZXIgY2FsbCB3b3VsZCByZXR1cm46XG4gICAgICAgICAqXG4gICAgICAgICAqIFwiVGhlIGxlbmd0aCBvZiBhIGZvb3RiYWxsIGZpZWxkIGlzIDkuXCJcbiAgICAgICAgICpcbiAgICAgICAgICogcmF0aGVyIHRoYW4gdGhlIGV4cGVjdGVkOlxuICAgICAgICAgKlxuICAgICAgICAgKiBcIlRoZSBsZW5ndGggb2YgYSBmb290YmFsbCBmaWVsZCBpcyAxMDAgeWFyZHMuXCJcbiAgICAgICAgICoqL1xuICAgICAgICBsb29rdXBIaXQgPSBoYXNQcm9wZXJ0eShjb250ZXh0LnZpZXcsIG5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAobG9va3VwSGl0KSB7XG4gICAgICAgIHZhbHVlID0gaW50ZXJtZWRpYXRlVmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0ID0gY29udGV4dC5wYXJlbnQ7XG4gICAgfVxuXG4gICAgY2FjaGVbbmFtZV0gPSB2YWx1ZTtcbiAgfVxuXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSlcbiAgICB2YWx1ZSA9IHZhbHVlLmNhbGwodGhpcy52aWV3KTtcblxuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIEEgV3JpdGVyIGtub3dzIGhvdyB0byB0YWtlIGEgc3RyZWFtIG9mIHRva2VucyBhbmQgcmVuZGVyIHRoZW0gdG8gYVxuICogc3RyaW5nLCBnaXZlbiBhIGNvbnRleHQuIEl0IGFsc28gbWFpbnRhaW5zIGEgY2FjaGUgb2YgdGVtcGxhdGVzIHRvXG4gKiBhdm9pZCB0aGUgbmVlZCB0byBwYXJzZSB0aGUgc2FtZSB0ZW1wbGF0ZSB0d2ljZS5cbiAqL1xuZnVuY3Rpb24gV3JpdGVyICgpIHtcbiAgdGhpcy50ZW1wbGF0ZUNhY2hlID0ge1xuICAgIF9jYWNoZToge30sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQgKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuX2NhY2hlW2tleV0gPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24gZ2V0IChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZVtrZXldO1xuICAgIH0sXG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIENsZWFycyBhbGwgY2FjaGVkIHRlbXBsYXRlcyBpbiB0aGlzIHdyaXRlci5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSAoKSB7XG4gIGlmICh0eXBlb2YgdGhpcy50ZW1wbGF0ZUNhY2hlICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRoaXMudGVtcGxhdGVDYWNoZS5jbGVhcigpO1xuICB9XG59O1xuXG4vKipcbiAqIFBhcnNlcyBhbmQgY2FjaGVzIHRoZSBnaXZlbiBgdGVtcGxhdGVgIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gYHRhZ3NgIG9yXG4gKiBgbXVzdGFjaGUudGFnc2AgaWYgYHRhZ3NgIGlzIG9taXR0ZWQsICBhbmQgcmV0dXJucyB0aGUgYXJyYXkgb2YgdG9rZW5zXG4gKiB0aGF0IGlzIGdlbmVyYXRlZCBmcm9tIHRoZSBwYXJzZS5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlICh0ZW1wbGF0ZSwgdGFncykge1xuICB2YXIgY2FjaGUgPSB0aGlzLnRlbXBsYXRlQ2FjaGU7XG4gIHZhciBjYWNoZUtleSA9IHRlbXBsYXRlICsgJzonICsgKHRhZ3MgfHwgbXVzdGFjaGUudGFncykuam9pbignOicpO1xuICB2YXIgaXNDYWNoZUVuYWJsZWQgPSB0eXBlb2YgY2FjaGUgIT09ICd1bmRlZmluZWQnO1xuICB2YXIgdG9rZW5zID0gaXNDYWNoZUVuYWJsZWQgPyBjYWNoZS5nZXQoY2FjaGVLZXkpIDogdW5kZWZpbmVkO1xuXG4gIGlmICh0b2tlbnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgdG9rZW5zID0gcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGFncyk7XG4gICAgaXNDYWNoZUVuYWJsZWQgJiYgY2FjaGUuc2V0KGNhY2hlS2V5LCB0b2tlbnMpO1xuICB9XG4gIHJldHVybiB0b2tlbnM7XG59O1xuXG4vKipcbiAqIEhpZ2gtbGV2ZWwgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byByZW5kZXIgdGhlIGdpdmVuIGB0ZW1wbGF0ZWAgd2l0aFxuICogdGhlIGdpdmVuIGB2aWV3YC5cbiAqXG4gKiBUaGUgb3B0aW9uYWwgYHBhcnRpYWxzYCBhcmd1bWVudCBtYXkgYmUgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlXG4gKiBuYW1lcyBhbmQgdGVtcGxhdGVzIG9mIHBhcnRpYWxzIHRoYXQgYXJlIHVzZWQgaW4gdGhlIHRlbXBsYXRlLiBJdCBtYXlcbiAqIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gbG9hZCBwYXJ0aWFsIHRlbXBsYXRlcyBvbiB0aGUgZmx5XG4gKiB0aGF0IHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50OiB0aGUgbmFtZSBvZiB0aGUgcGFydGlhbC5cbiAqXG4gKiBJZiB0aGUgb3B0aW9uYWwgYGNvbmZpZ2AgYXJndW1lbnQgaXMgZ2l2ZW4gaGVyZSwgdGhlbiBpdCBzaG91bGQgYmUgYW5cbiAqIG9iamVjdCB3aXRoIGEgYHRhZ3NgIGF0dHJpYnV0ZSBvciBhbiBgZXNjYXBlYCBhdHRyaWJ1dGUgb3IgYm90aC5cbiAqIElmIGFuIGFycmF5IGlzIHBhc3NlZCwgdGhlbiBpdCB3aWxsIGJlIGludGVycHJldGVkIHRoZSBzYW1lIHdheSBhc1xuICogYSBgdGFnc2AgYXR0cmlidXRlIG9uIGEgYGNvbmZpZ2Agb2JqZWN0LlxuICpcbiAqIFRoZSBgdGFnc2AgYXR0cmlidXRlIG9mIGEgYGNvbmZpZ2Agb2JqZWN0IG11c3QgYmUgYW4gYXJyYXkgd2l0aCB0d29cbiAqIHN0cmluZyB2YWx1ZXM6IHRoZSBvcGVuaW5nIGFuZCBjbG9zaW5nIHRhZ3MgdXNlZCBpbiB0aGUgdGVtcGxhdGUgKGUuZy5cbiAqIFsgXCI8JVwiLCBcIiU+XCIgXSkuIFRoZSBkZWZhdWx0IGlzIHRvIG11c3RhY2hlLnRhZ3MuXG4gKlxuICogVGhlIGBlc2NhcGVgIGF0dHJpYnV0ZSBvZiBhIGBjb25maWdgIG9iamVjdCBtdXN0IGJlIGEgZnVuY3Rpb24gd2hpY2hcbiAqIGFjY2VwdHMgYSBzdHJpbmcgYXMgaW5wdXQgYW5kIG91dHB1dHMgYSBzYWZlbHkgZXNjYXBlZCBzdHJpbmcuXG4gKiBJZiBhbiBgZXNjYXBlYCBmdW5jdGlvbiBpcyBub3QgcHJvdmlkZWQsIHRoZW4gYW4gSFRNTC1zYWZlIHN0cmluZ1xuICogZXNjYXBpbmcgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgZGVmYXVsdC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgY29uZmlnKSB7XG4gIHZhciB0YWdzID0gdGhpcy5nZXRDb25maWdUYWdzKGNvbmZpZyk7XG4gIHZhciB0b2tlbnMgPSB0aGlzLnBhcnNlKHRlbXBsYXRlLCB0YWdzKTtcbiAgdmFyIGNvbnRleHQgPSAodmlldyBpbnN0YW5jZW9mIENvbnRleHQpID8gdmlldyA6IG5ldyBDb250ZXh0KHZpZXcsIHVuZGVmaW5lZCk7XG4gIHJldHVybiB0aGlzLnJlbmRlclRva2Vucyh0b2tlbnMsIGNvbnRleHQsIHBhcnRpYWxzLCB0ZW1wbGF0ZSwgY29uZmlnKTtcbn07XG5cbi8qKlxuICogTG93LWxldmVsIG1ldGhvZCB0aGF0IHJlbmRlcnMgdGhlIGdpdmVuIGFycmF5IG9mIGB0b2tlbnNgIHVzaW5nXG4gKiB0aGUgZ2l2ZW4gYGNvbnRleHRgIGFuZCBgcGFydGlhbHNgLlxuICpcbiAqIE5vdGU6IFRoZSBgb3JpZ2luYWxUZW1wbGF0ZWAgaXMgb25seSBldmVyIHVzZWQgdG8gZXh0cmFjdCB0aGUgcG9ydGlvblxuICogb2YgdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRoYXQgd2FzIGNvbnRhaW5lZCBpbiBhIGhpZ2hlci1vcmRlciBzZWN0aW9uLlxuICogSWYgdGhlIHRlbXBsYXRlIGRvZXNuJ3QgdXNlIGhpZ2hlci1vcmRlciBzZWN0aW9ucywgdGhpcyBhcmd1bWVudCBtYXlcbiAqIGJlIG9taXR0ZWQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUucmVuZGVyVG9rZW5zID0gZnVuY3Rpb24gcmVuZGVyVG9rZW5zICh0b2tlbnMsIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlLCBjb25maWcpIHtcbiAgdmFyIGJ1ZmZlciA9ICcnO1xuXG4gIHZhciB0b2tlbiwgc3ltYm9sLCB2YWx1ZTtcbiAgZm9yICh2YXIgaSA9IDAsIG51bVRva2VucyA9IHRva2Vucy5sZW5ndGg7IGkgPCBudW1Ub2tlbnM7ICsraSkge1xuICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgIHN5bWJvbCA9IHRva2VuWzBdO1xuXG4gICAgaWYgKHN5bWJvbCA9PT0gJyMnKSB2YWx1ZSA9IHRoaXMucmVuZGVyU2VjdGlvbih0b2tlbiwgY29udGV4dCwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUsIGNvbmZpZyk7XG4gICAgZWxzZSBpZiAoc3ltYm9sID09PSAnXicpIHZhbHVlID0gdGhpcy5yZW5kZXJJbnZlcnRlZCh0b2tlbiwgY29udGV4dCwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUsIGNvbmZpZyk7XG4gICAgZWxzZSBpZiAoc3ltYm9sID09PSAnPicpIHZhbHVlID0gdGhpcy5yZW5kZXJQYXJ0aWFsKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgY29uZmlnKTtcbiAgICBlbHNlIGlmIChzeW1ib2wgPT09ICcmJykgdmFsdWUgPSB0aGlzLnVuZXNjYXBlZFZhbHVlKHRva2VuLCBjb250ZXh0KTtcbiAgICBlbHNlIGlmIChzeW1ib2wgPT09ICduYW1lJykgdmFsdWUgPSB0aGlzLmVzY2FwZWRWYWx1ZSh0b2tlbiwgY29udGV4dCwgY29uZmlnKTtcbiAgICBlbHNlIGlmIChzeW1ib2wgPT09ICd0ZXh0JykgdmFsdWUgPSB0aGlzLnJhd1ZhbHVlKHRva2VuKTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgYnVmZmVyICs9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZmZlcjtcbn07XG5cbldyaXRlci5wcm90b3R5cGUucmVuZGVyU2VjdGlvbiA9IGZ1bmN0aW9uIHJlbmRlclNlY3Rpb24gKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSwgY29uZmlnKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGJ1ZmZlciA9ICcnO1xuICB2YXIgdmFsdWUgPSBjb250ZXh0Lmxvb2t1cCh0b2tlblsxXSk7XG5cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlbmRlciBhbiBhcmJpdHJhcnkgdGVtcGxhdGVcbiAgLy8gaW4gdGhlIGN1cnJlbnQgY29udGV4dCBieSBoaWdoZXItb3JkZXIgc2VjdGlvbnMuXG4gIGZ1bmN0aW9uIHN1YlJlbmRlciAodGVtcGxhdGUpIHtcbiAgICByZXR1cm4gc2VsZi5yZW5kZXIodGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzLCBjb25maWcpO1xuICB9XG5cbiAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuXG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAodmFyIGogPSAwLCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaiA8IHZhbHVlTGVuZ3RoOyArK2opIHtcbiAgICAgIGJ1ZmZlciArPSB0aGlzLnJlbmRlclRva2Vucyh0b2tlbls0XSwgY29udGV4dC5wdXNoKHZhbHVlW2pdKSwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUsIGNvbmZpZyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgYnVmZmVyICs9IHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LnB1c2godmFsdWUpLCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSwgY29uZmlnKTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxUZW1wbGF0ZSAhPT0gJ3N0cmluZycpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCB1c2UgaGlnaGVyLW9yZGVyIHNlY3Rpb25zIHdpdGhvdXQgdGhlIG9yaWdpbmFsIHRlbXBsYXRlJyk7XG5cbiAgICAvLyBFeHRyYWN0IHRoZSBwb3J0aW9uIG9mIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0aGF0IHRoZSBzZWN0aW9uIGNvbnRhaW5zLlxuICAgIHZhbHVlID0gdmFsdWUuY2FsbChjb250ZXh0LnZpZXcsIG9yaWdpbmFsVGVtcGxhdGUuc2xpY2UodG9rZW5bM10sIHRva2VuWzVdKSwgc3ViUmVuZGVyKTtcblxuICAgIGlmICh2YWx1ZSAhPSBudWxsKVxuICAgICAgYnVmZmVyICs9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGJ1ZmZlciArPSB0aGlzLnJlbmRlclRva2Vucyh0b2tlbls0XSwgY29udGV4dCwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUsIGNvbmZpZyk7XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlcjtcbn07XG5cbldyaXRlci5wcm90b3R5cGUucmVuZGVySW52ZXJ0ZWQgPSBmdW5jdGlvbiByZW5kZXJJbnZlcnRlZCAodG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlLCBjb25maWcpIHtcbiAgdmFyIHZhbHVlID0gY29udGV4dC5sb29rdXAodG9rZW5bMV0pO1xuXG4gIC8vIFVzZSBKYXZhU2NyaXB0J3MgZGVmaW5pdGlvbiBvZiBmYWxzeS4gSW5jbHVkZSBlbXB0eSBhcnJheXMuXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFubC9tdXN0YWNoZS5qcy9pc3N1ZXMvMTg2XG4gIGlmICghdmFsdWUgfHwgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkpXG4gICAgcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSwgY29uZmlnKTtcbn07XG5cbldyaXRlci5wcm90b3R5cGUuaW5kZW50UGFydGlhbCA9IGZ1bmN0aW9uIGluZGVudFBhcnRpYWwgKHBhcnRpYWwsIGluZGVudGF0aW9uLCBsaW5lSGFzTm9uU3BhY2UpIHtcbiAgdmFyIGZpbHRlcmVkSW5kZW50YXRpb24gPSBpbmRlbnRhdGlvbi5yZXBsYWNlKC9bXiBcXHRdL2csICcnKTtcbiAgdmFyIHBhcnRpYWxCeU5sID0gcGFydGlhbC5zcGxpdCgnXFxuJyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydGlhbEJ5TmwubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocGFydGlhbEJ5TmxbaV0ubGVuZ3RoICYmIChpID4gMCB8fCAhbGluZUhhc05vblNwYWNlKSkge1xuICAgICAgcGFydGlhbEJ5TmxbaV0gPSBmaWx0ZXJlZEluZGVudGF0aW9uICsgcGFydGlhbEJ5TmxbaV07XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJ0aWFsQnlObC5qb2luKCdcXG4nKTtcbn07XG5cbldyaXRlci5wcm90b3R5cGUucmVuZGVyUGFydGlhbCA9IGZ1bmN0aW9uIHJlbmRlclBhcnRpYWwgKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgY29uZmlnKSB7XG4gIGlmICghcGFydGlhbHMpIHJldHVybjtcbiAgdmFyIHRhZ3MgPSB0aGlzLmdldENvbmZpZ1RhZ3MoY29uZmlnKTtcblxuICB2YXIgdmFsdWUgPSBpc0Z1bmN0aW9uKHBhcnRpYWxzKSA/IHBhcnRpYWxzKHRva2VuWzFdKSA6IHBhcnRpYWxzW3Rva2VuWzFdXTtcbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICB2YXIgbGluZUhhc05vblNwYWNlID0gdG9rZW5bNl07XG4gICAgdmFyIHRhZ0luZGV4ID0gdG9rZW5bNV07XG4gICAgdmFyIGluZGVudGF0aW9uID0gdG9rZW5bNF07XG4gICAgdmFyIGluZGVudGVkVmFsdWUgPSB2YWx1ZTtcbiAgICBpZiAodGFnSW5kZXggPT0gMCAmJiBpbmRlbnRhdGlvbikge1xuICAgICAgaW5kZW50ZWRWYWx1ZSA9IHRoaXMuaW5kZW50UGFydGlhbCh2YWx1ZSwgaW5kZW50YXRpb24sIGxpbmVIYXNOb25TcGFjZSk7XG4gICAgfVxuICAgIHZhciB0b2tlbnMgPSB0aGlzLnBhcnNlKGluZGVudGVkVmFsdWUsIHRhZ3MpO1xuICAgIHJldHVybiB0aGlzLnJlbmRlclRva2Vucyh0b2tlbnMsIGNvbnRleHQsIHBhcnRpYWxzLCBpbmRlbnRlZFZhbHVlLCBjb25maWcpO1xuICB9XG59O1xuXG5Xcml0ZXIucHJvdG90eXBlLnVuZXNjYXBlZFZhbHVlID0gZnVuY3Rpb24gdW5lc2NhcGVkVmFsdWUgKHRva2VuLCBjb250ZXh0KSB7XG4gIHZhciB2YWx1ZSA9IGNvbnRleHQubG9va3VwKHRva2VuWzFdKTtcbiAgaWYgKHZhbHVlICE9IG51bGwpXG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuV3JpdGVyLnByb3RvdHlwZS5lc2NhcGVkVmFsdWUgPSBmdW5jdGlvbiBlc2NhcGVkVmFsdWUgKHRva2VuLCBjb250ZXh0LCBjb25maWcpIHtcbiAgdmFyIGVzY2FwZSA9IHRoaXMuZ2V0Q29uZmlnRXNjYXBlKGNvbmZpZykgfHwgbXVzdGFjaGUuZXNjYXBlO1xuICB2YXIgdmFsdWUgPSBjb250ZXh0Lmxvb2t1cCh0b2tlblsxXSk7XG4gIGlmICh2YWx1ZSAhPSBudWxsKVxuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBlc2NhcGUgPT09IG11c3RhY2hlLmVzY2FwZSkgPyBTdHJpbmcodmFsdWUpIDogZXNjYXBlKHZhbHVlKTtcbn07XG5cbldyaXRlci5wcm90b3R5cGUucmF3VmFsdWUgPSBmdW5jdGlvbiByYXdWYWx1ZSAodG9rZW4pIHtcbiAgcmV0dXJuIHRva2VuWzFdO1xufTtcblxuV3JpdGVyLnByb3RvdHlwZS5nZXRDb25maWdUYWdzID0gZnVuY3Rpb24gZ2V0Q29uZmlnVGFncyAoY29uZmlnKSB7XG4gIGlmIChpc0FycmF5KGNvbmZpZykpIHtcbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG4gIGVsc2UgaWYgKGNvbmZpZyAmJiB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBjb25maWcudGFncztcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59O1xuXG5Xcml0ZXIucHJvdG90eXBlLmdldENvbmZpZ0VzY2FwZSA9IGZ1bmN0aW9uIGdldENvbmZpZ0VzY2FwZSAoY29uZmlnKSB7XG4gIGlmIChjb25maWcgJiYgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgIWlzQXJyYXkoY29uZmlnKSkge1xuICAgIHJldHVybiBjb25maWcuZXNjYXBlO1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbnZhciBtdXN0YWNoZSA9IHtcbiAgbmFtZTogJ211c3RhY2hlLmpzJyxcbiAgdmVyc2lvbjogJzQuMi4wJyxcbiAgdGFnczogWyAne3snLCAnfX0nIF0sXG4gIGNsZWFyQ2FjaGU6IHVuZGVmaW5lZCxcbiAgZXNjYXBlOiB1bmRlZmluZWQsXG4gIHBhcnNlOiB1bmRlZmluZWQsXG4gIHJlbmRlcjogdW5kZWZpbmVkLFxuICBTY2FubmVyOiB1bmRlZmluZWQsXG4gIENvbnRleHQ6IHVuZGVmaW5lZCxcbiAgV3JpdGVyOiB1bmRlZmluZWQsXG4gIC8qKlxuICAgKiBBbGxvd3MgYSB1c2VyIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNhY2hpbmcgc3RyYXRlZ3ksIGJ5IHByb3ZpZGluZyBhblxuICAgKiBvYmplY3Qgd2l0aCBzZXQsIGdldCBhbmQgY2xlYXIgbWV0aG9kcy4gVGhpcyBjYW4gYWxzbyBiZSB1c2VkIHRvIGRpc2FibGVcbiAgICogdGhlIGNhY2hlIGJ5IHNldHRpbmcgaXQgdG8gdGhlIGxpdGVyYWwgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBzZXQgdGVtcGxhdGVDYWNoZSAoY2FjaGUpIHtcbiAgICBkZWZhdWx0V3JpdGVyLnRlbXBsYXRlQ2FjaGUgPSBjYWNoZTtcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgdGhlIGRlZmF1bHQgb3Igb3ZlcnJpZGRlbiBjYWNoaW5nIG9iamVjdCBmcm9tIHRoZSBkZWZhdWx0IHdyaXRlci5cbiAgICovXG4gIGdldCB0ZW1wbGF0ZUNhY2hlICgpIHtcbiAgICByZXR1cm4gZGVmYXVsdFdyaXRlci50ZW1wbGF0ZUNhY2hlO1xuICB9XG59O1xuXG4vLyBBbGwgaGlnaC1sZXZlbCBtdXN0YWNoZS4qIGZ1bmN0aW9ucyB1c2UgdGhpcyB3cml0ZXIuXG52YXIgZGVmYXVsdFdyaXRlciA9IG5ldyBXcml0ZXIoKTtcblxuLyoqXG4gKiBDbGVhcnMgYWxsIGNhY2hlZCB0ZW1wbGF0ZXMgaW4gdGhlIGRlZmF1bHQgd3JpdGVyLlxuICovXG5tdXN0YWNoZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSAoKSB7XG4gIHJldHVybiBkZWZhdWx0V3JpdGVyLmNsZWFyQ2FjaGUoKTtcbn07XG5cbi8qKlxuICogUGFyc2VzIGFuZCBjYWNoZXMgdGhlIGdpdmVuIHRlbXBsYXRlIGluIHRoZSBkZWZhdWx0IHdyaXRlciBhbmQgcmV0dXJucyB0aGVcbiAqIGFycmF5IG9mIHRva2VucyBpdCBjb250YWlucy4gRG9pbmcgdGhpcyBhaGVhZCBvZiB0aW1lIGF2b2lkcyB0aGUgbmVlZCB0b1xuICogcGFyc2UgdGVtcGxhdGVzIG9uIHRoZSBmbHkgYXMgdGhleSBhcmUgcmVuZGVyZWQuXG4gKi9cbm11c3RhY2hlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UgKHRlbXBsYXRlLCB0YWdzKSB7XG4gIHJldHVybiBkZWZhdWx0V3JpdGVyLnBhcnNlKHRlbXBsYXRlLCB0YWdzKTtcbn07XG5cbi8qKlxuICogUmVuZGVycyB0aGUgYHRlbXBsYXRlYCB3aXRoIHRoZSBnaXZlbiBgdmlld2AsIGBwYXJ0aWFsc2AsIGFuZCBgY29uZmlnYFxuICogdXNpbmcgdGhlIGRlZmF1bHQgd3JpdGVyLlxuICovXG5tdXN0YWNoZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgY29uZmlnKSB7XG4gIGlmICh0eXBlb2YgdGVtcGxhdGUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB0ZW1wbGF0ZSEgVGVtcGxhdGUgc2hvdWxkIGJlIGEgXCJzdHJpbmdcIiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdidXQgXCInICsgdHlwZVN0cih0ZW1wbGF0ZSkgKyAnXCIgd2FzIGdpdmVuIGFzIHRoZSBmaXJzdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCBmb3IgbXVzdGFjaGUjcmVuZGVyKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscyknKTtcbiAgfVxuXG4gIHJldHVybiBkZWZhdWx0V3JpdGVyLnJlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMsIGNvbmZpZyk7XG59O1xuXG4vLyBFeHBvcnQgdGhlIGVzY2FwaW5nIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIHVzZXIgbWF5IG92ZXJyaWRlIGl0LlxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW5sL211c3RhY2hlLmpzL2lzc3Vlcy8yNDRcbm11c3RhY2hlLmVzY2FwZSA9IGVzY2FwZUh0bWw7XG5cbi8vIEV4cG9ydCB0aGVzZSBtYWlubHkgZm9yIHRlc3RpbmcsIGJ1dCBhbHNvIGZvciBhZHZhbmNlZCB1c2FnZS5cbm11c3RhY2hlLlNjYW5uZXIgPSBTY2FubmVyO1xubXVzdGFjaGUuQ29udGV4dCA9IENvbnRleHQ7XG5tdXN0YWNoZS5Xcml0ZXIgPSBXcml0ZXI7XG5cbmV4cG9ydCBkZWZhdWx0IG11c3RhY2hlO1xuIiwgImxldCBtZXRob2RzID0ge1xuICBvbmU6IHt9LFxuICB0d286IHt9LFxuICB0aHJlZToge30sXG4gIGZvdXI6IHt9LFxufVxuXG5sZXQgbW9kZWwgPSB7XG4gIG9uZToge30sXG4gIHR3bzoge30sXG4gIHRocmVlOiB7fSxcbn1cbmxldCBjb21wdXRlID0ge31cbmxldCBob29rcyA9IFtdXG5cbmV4cG9ydCBkZWZhdWx0IHsgbWV0aG9kcywgbW9kZWwsIGNvbXB1dGUsIGhvb2tzIH1cbiIsICJjb25zdCBpc0FycmF5ID0gaW5wdXQgPT4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuXG5jb25zdCBmbnMgPSB7XG4gIC8qKiBhZGQgbWV0YWRhdGEgdG8gdGVybSBvYmplY3RzICovXG4gIGNvbXB1dGU6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIGNvbnN0IHsgd29ybGQgfSA9IHRoaXNcbiAgICBjb25zdCBjb21wdXRlID0gd29ybGQuY29tcHV0ZVxuICAgIC8vIGRvIG9uZSBtZXRob2RcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyAmJiBjb21wdXRlLmhhc093blByb3BlcnR5KGlucHV0KSkge1xuICAgICAgY29tcHV0ZVtpbnB1dF0odGhpcylcbiAgICB9XG4gICAgLy8gYWxsb3cgYSBsaXN0IG9mIG1ldGhvZHNcbiAgICBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgaW5wdXQuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgaWYgKHdvcmxkLmNvbXB1dGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBjb21wdXRlW25hbWVdKHRoaXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdubyBjb21wdXRlOicsIGlucHV0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIC8vIGFsbG93IGEgY3VzdG9tIGNvbXB1dGUgZnVuY3Rpb25cbiAgICBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlucHV0KHRoaXMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2Fybignbm8gY29tcHV0ZTonLCBpbnB1dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9LFxufVxuZXhwb3J0IGRlZmF1bHQgZm5zXG4iLCAiLy8gd3JhcHBlcnMgZm9yIGxvb3BzIGluIGphdmFzY3JpcHQgYXJyYXlzXG5cbmNvbnN0IGZvckVhY2ggPSBmdW5jdGlvbiAoY2IpIHtcbiAgbGV0IHB0cnMgPSB0aGlzLmZ1bGxQb2ludGVyXG4gIHB0cnMuZm9yRWFjaCgocHRyLCBpKSA9PiB7XG4gICAgbGV0IHZpZXcgPSB0aGlzLnVwZGF0ZShbcHRyXSlcbiAgICBjYih2aWV3LCBpKVxuICB9KVxuICByZXR1cm4gdGhpc1xufVxuXG5jb25zdCBtYXAgPSBmdW5jdGlvbiAoY2IsIGVtcHR5KSB7XG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICBsZXQgcmVzID0gcHRycy5tYXAoKHB0ciwgaSkgPT4ge1xuICAgIGxldCB2aWV3ID0gdGhpcy51cGRhdGUoW3B0cl0pXG4gICAgbGV0IG91dCA9IGNiKHZpZXcsIGkpXG4gICAgLy8gaWYgd2UgcmV0dXJuZWQgbm90aGluZywgcmV0dXJuIGEgdmlld1xuICAgIGlmIChvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9uZSgpXG4gICAgfVxuICAgIHJldHVybiBvdXRcbiAgfSlcbiAgaWYgKHJlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZW1wdHkgfHwgdGhpcy51cGRhdGUoW10pXG4gIH1cbiAgLy8gcmV0dXJuIGFuIGFycmF5IG9mIHZhbHVlcywgb3IgVmlldyBvYmplY3RzP1xuICAvLyB1c2VyIGNhbiByZXR1cm4gZWl0aGVyIGZyb20gdGhlaXIgY2FsbGJhY2tcbiAgaWYgKHJlc1swXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gYXJyYXkgb2Ygc3RyaW5nc1xuICAgIGlmICh0eXBlb2YgcmVzWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHJlc1xuICAgIH1cbiAgICAvLyBhcnJheSBvZiBvYmplY3RzXG4gICAgaWYgKHR5cGVvZiByZXNbMF0gPT09ICdvYmplY3QnICYmIChyZXNbMF0gPT09IG51bGwgfHwgIXJlc1swXS5pc1ZpZXcpKSB7XG4gICAgICByZXR1cm4gcmVzXG4gICAgfVxuICB9XG4gIC8vIHJldHVybiBhIFZpZXcgb2JqZWN0XG4gIGxldCBhbGwgPSBbXVxuICByZXMuZm9yRWFjaChwdHIgPT4ge1xuICAgIGFsbCA9IGFsbC5jb25jYXQocHRyLmZ1bGxQb2ludGVyKVxuICB9KVxuICByZXR1cm4gdGhpcy50b1ZpZXcoYWxsKVxufVxuXG5jb25zdCBmaWx0ZXIgPSBmdW5jdGlvbiAoY2IpIHtcbiAgbGV0IHB0cnMgPSB0aGlzLmZ1bGxQb2ludGVyXG4gIHB0cnMgPSBwdHJzLmZpbHRlcigocHRyLCBpKSA9PiB7XG4gICAgbGV0IHZpZXcgPSB0aGlzLnVwZGF0ZShbcHRyXSlcbiAgICByZXR1cm4gY2IodmlldywgaSlcbiAgfSlcbiAgbGV0IHJlcyA9IHRoaXMudXBkYXRlKHB0cnMpXG4gIHJldHVybiByZXNcbn1cblxuY29uc3QgZmluZCA9IGZ1bmN0aW9uIChjYikge1xuICBsZXQgcHRycyA9IHRoaXMuZnVsbFBvaW50ZXJcbiAgbGV0IGZvdW5kID0gcHRycy5maW5kKChwdHIsIGkpID0+IHtcbiAgICBsZXQgdmlldyA9IHRoaXMudXBkYXRlKFtwdHJdKVxuICAgIHJldHVybiBjYih2aWV3LCBpKVxuICB9KVxuICByZXR1cm4gdGhpcy51cGRhdGUoW2ZvdW5kXSlcbn1cblxuY29uc3Qgc29tZSA9IGZ1bmN0aW9uIChjYikge1xuICBsZXQgcHRycyA9IHRoaXMuZnVsbFBvaW50ZXJcbiAgcmV0dXJuIHB0cnMuc29tZSgocHRyLCBpKSA9PiB7XG4gICAgbGV0IHZpZXcgPSB0aGlzLnVwZGF0ZShbcHRyXSlcbiAgICByZXR1cm4gY2IodmlldywgaSlcbiAgfSlcbn1cblxuY29uc3QgcmFuZG9tID0gZnVuY3Rpb24gKG4gPSAxKSB7XG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICBsZXQgciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHB0cnMubGVuZ3RoKVxuICAvL3ByZXZlbnQgaXQgZnJvbSBnb2luZyBvdmVyIHRoZSBlbmRcbiAgaWYgKHIgKyBuID4gdGhpcy5sZW5ndGgpIHtcbiAgICByID0gdGhpcy5sZW5ndGggLSBuXG4gICAgciA9IHIgPCAwID8gMCA6IHJcbiAgfVxuICBwdHJzID0gcHRycy5zbGljZShyLCByICsgbilcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHB0cnMpXG59XG5leHBvcnQgZGVmYXVsdCB7IGZvckVhY2gsIG1hcCwgZmlsdGVyLCBmaW5kLCBzb21lLCByYW5kb20gfVxuIiwgImNvbnN0IHV0aWxzID0ge1xuICAvKiogKi9cbiAgdGVybUxpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tZXRob2RzLm9uZS50ZXJtTGlzdCh0aGlzLmRvY3MpXG4gIH0sXG4gIC8qKiByZXR1cm4gaW5kaXZpZHVhbCB0ZXJtcyovXG4gIHRlcm1zOiBmdW5jdGlvbiAobikge1xuICAgIGxldCBtID0gdGhpcy5tYXRjaCgnLicpXG4gICAgLy8gdGhpcyBpcyBhIGJpdCBmYXN0ZXIgdGhhbiAubWF0Y2goJy4nKSBcbiAgICAvLyBsZXQgcHRycyA9IFtdXG4gICAgLy8gdGhpcy5kb2NzLmZvckVhY2goKHRlcm1zKSA9PiB7XG4gICAgLy8gICB0ZXJtcy5mb3JFYWNoKCh0ZXJtKSA9PiB7XG4gICAgLy8gICAgIGxldCBbeSwgeF0gPSB0ZXJtLmluZGV4IHx8IFtdXG4gICAgLy8gICAgIHB0cnMucHVzaChbeSwgeCwgeCArIDFdKVxuICAgIC8vICAgfSlcbiAgICAvLyB9KVxuICAgIC8vIGxldCBtID0gdGhpcy51cGRhdGUocHRycylcbiAgICByZXR1cm4gdHlwZW9mIG4gPT09ICdudW1iZXInID8gbS5lcShuKSA6IG1cbiAgfSxcblxuICAvKiogKi9cbiAgZ3JvdXBzOiBmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICBpZiAoZ3JvdXAgfHwgZ3JvdXAgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh0aGlzLl9ncm91cHNbZ3JvdXBdIHx8IFtdKVxuICAgIH1cbiAgICAvLyByZXR1cm4gYW4gb2JqZWN0IG9mIFZpZXdzXG4gICAgbGV0IHJlcyA9IHt9XG4gICAgT2JqZWN0LmtleXModGhpcy5fZ3JvdXBzKS5mb3JFYWNoKGsgPT4ge1xuICAgICAgcmVzW2tdID0gdGhpcy51cGRhdGUodGhpcy5fZ3JvdXBzW2tdKVxuICAgIH0pXG4gICAgLy8gdGhpcy5fZ3JvdXBzID0gbnVsbFxuICAgIHJldHVybiByZXNcbiAgfSxcbiAgLyoqICovXG4gIGVxOiBmdW5jdGlvbiAobikge1xuICAgIGxldCBwdHIgPSB0aGlzLnBvaW50ZXJcbiAgICBpZiAoIXB0cikge1xuICAgICAgcHRyID0gdGhpcy5kb2NzLm1hcCgoX2RvYywgaSkgPT4gW2ldKVxuICAgIH1cbiAgICBpZiAocHRyW25dKSB7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGUoW3B0cltuXV0pXG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5vbmUoKVxuICB9LFxuICAvKiogKi9cbiAgZmlyc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lcSgwKVxuICB9LFxuICAvKiogKi9cbiAgbGFzdDogZnVuY3Rpb24gKCkge1xuICAgIGxldCBuID0gdGhpcy5mdWxsUG9pbnRlci5sZW5ndGggLSAxXG4gICAgcmV0dXJuIHRoaXMuZXEobilcbiAgfSxcblxuICAvKiogZ3JhYiB0ZXJtWzBdIGZvciBldmVyeSBtYXRjaCAqL1xuICBmaXJzdFRlcm1zOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2goJ14uJylcbiAgfSxcblxuICAvKiogZ3JhYiB0aGUgbGFzdCB0ZXJtIGZvciBldmVyeSBtYXRjaCAgKi9cbiAgbGFzdFRlcm1zOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2goJy4kJylcbiAgfSxcblxuICAvKiogKi9cbiAgc2xpY2U6IGZ1bmN0aW9uIChtaW4sIG1heCkge1xuICAgIGxldCBwbnRycyA9IHRoaXMucG9pbnRlciB8fCB0aGlzLmRvY3MubWFwKChfbywgbikgPT4gW25dKVxuICAgIHBudHJzID0gcG50cnMuc2xpY2UobWluLCBtYXgpXG4gICAgcmV0dXJuIHRoaXMudXBkYXRlKHBudHJzKVxuICB9LFxuXG4gIC8qKiByZXR1cm4gYSB2aWV3IG9mIHRoZSBlbnRpcmUgZG9jdW1lbnQgKi9cbiAgYWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlKCkudG9WaWV3KClcbiAgfSxcbiAgLyoqICAqL1xuICBmdWxsU2VudGVuY2VzOiBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHB0cnMgPSB0aGlzLmZ1bGxQb2ludGVyLm1hcChhID0+IFthWzBdXSkgLy9sYXp5IVxuICAgIHJldHVybiB0aGlzLnVwZGF0ZShwdHJzKS50b1ZpZXcoKVxuICB9LFxuICAvKiogcmV0dXJuIGEgdmlldyBvZiBubyBwYXJ0cyBvZiB0aGUgZG9jdW1lbnQgKi9cbiAgbm9uZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZShbXSlcbiAgfSxcblxuICAvKiogYXJlIHRoZXNlIHR3byB2aWV3cyBsb29raW5nIGF0IHRoZSBzYW1lIHdvcmRzPyAqL1xuICBpc0RvYzogZnVuY3Rpb24gKGIpIHtcbiAgICBpZiAoIWIgfHwgIWIuaXNWaWV3KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgbGV0IGFQdHIgPSB0aGlzLmZ1bGxQb2ludGVyXG4gICAgbGV0IGJQdHIgPSBiLmZ1bGxQb2ludGVyXG4gICAgaWYgKCFhUHRyLmxlbmd0aCA9PT0gYlB0ci5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICAvLyBlbnN1cmUgcG9pbnRlcnMgYXJlIHRoZSBzYW1lXG4gICAgcmV0dXJuIGFQdHIuZXZlcnkoKHB0ciwgaSkgPT4ge1xuICAgICAgaWYgKCFiUHRyW2ldKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgLy8gZW5zdXJlIFtuLCBzdGFydCwgZW5kXSBhcmUgYWxsIHRoZSBzYW1lXG4gICAgICByZXR1cm4gcHRyWzBdID09PSBiUHRyW2ldWzBdICYmIHB0clsxXSA9PT0gYlB0cltpXVsxXSAmJiBwdHJbMl0gPT09IGJQdHJbaV1bMl1cbiAgICB9KVxuICB9LFxuXG4gIC8qKiBob3cgbWFueSBzZXBlcmF0ZSB0ZXJtcyBkb2VzIHRoZSBkb2N1bWVudCBoYXZlPyAqL1xuICB3b3JkQ291bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kb2NzLnJlZHVjZSgoY291bnQsIHRlcm1zKSA9PiB7XG4gICAgICBjb3VudCArPSB0ZXJtcy5maWx0ZXIodCA9PiB0LnRleHQgIT09ICcnKS5sZW5ndGhcbiAgICAgIHJldHVybiBjb3VudFxuICAgIH0sIDApXG4gIH0sXG5cbiAgLy8gaXMgdGhlIHBvaW50ZXIgdGhlIGZ1bGwgc2VudGVuY2U/XG4gIGlzRnVsbDogZnVuY3Rpb24gKCkge1xuICAgIGxldCBwdHJzID0gdGhpcy5wb2ludGVyXG4gICAgaWYgKCFwdHJzKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBtdXN0IHN0YXJ0IGF0IGJlZ2lubmluZ1xuICAgIGlmIChwdHJzLmxlbmd0aCA9PT0gMCB8fCBwdHJzWzBdWzBdICE9PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgbGV0IHdhbnRUZXJtcyA9IDBcbiAgICBsZXQgaGF2ZVRlcm1zID0gMFxuICAgIHRoaXMuZG9jdW1lbnQuZm9yRWFjaCh0ZXJtcyA9PiB3YW50VGVybXMgKz0gdGVybXMubGVuZ3RoKVxuICAgIHRoaXMuZG9jcy5mb3JFYWNoKHRlcm1zID0+IGhhdmVUZXJtcyArPSB0ZXJtcy5sZW5ndGgpXG4gICAgcmV0dXJuIHdhbnRUZXJtcyA9PT0gaGF2ZVRlcm1zXG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBwdHJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgLy8gICBsZXQgW24sIHN0YXJ0LCBlbmRdID0gcHRyc1tpXVxuICAgIC8vICAgLy8gaXQncyBub3QgdGhlIHN0YXJ0XG4gICAgLy8gICBpZiAobiAhPT0gaSB8fCBzdGFydCAhPT0gMCkge1xuICAgIC8vICAgICByZXR1cm4gZmFsc2VcbiAgICAvLyAgIH1cbiAgICAvLyAgIC8vIGl0J3MgdG9vIHNob3J0XG4gICAgLy8gICBpZiAoZG9jdW1lbnRbbl0ubGVuZ3RoID4gZW5kKSB7XG4gICAgLy8gICAgIHJldHVybiBmYWxzZVxuICAgIC8vICAgfVxuICAgIC8vIH1cbiAgICAvLyByZXR1cm4gdHJ1ZVxuICB9LFxuXG4gIC8vIHJldHVybiB0aGUgbnRoIGVsZW0gb2YgYSBkb2NcbiAgZ2V0TnRoOiBmdW5jdGlvbiAobikge1xuICAgIGlmICh0eXBlb2YgbiA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiB0aGlzLmVxKG4pXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB0aGlzLmlmKG4pXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufVxudXRpbHMuZ3JvdXAgPSB1dGlscy5ncm91cHNcbnV0aWxzLmZ1bGxTZW50ZW5jZSA9IHV0aWxzLmZ1bGxTZW50ZW5jZXNcbnV0aWxzLnNlbnRlbmNlID0gdXRpbHMuZnVsbFNlbnRlbmNlc1xudXRpbHMubGFzdFRlcm0gPSB1dGlscy5sYXN0VGVybXNcbnV0aWxzLmZpcnN0VGVybSA9IHV0aWxzLmZpcnN0VGVybXNcbmV4cG9ydCBkZWZhdWx0IHV0aWxzXG4iLCAiaW1wb3J0IGNvbXB1dGUgZnJvbSAnLi9jb21wdXRlLmpzJ1xuaW1wb3J0IGxvb3BzIGZyb20gJy4vbG9vcHMuanMnXG5pbXBvcnQgdXRpbCBmcm9tICcuL3V0aWxzLmpzJ1xuXG5jb25zdCBtZXRob2RzID0gT2JqZWN0LmFzc2lnbih7fSwgdXRpbCwgY29tcHV0ZSwgbG9vcHMpXG5cbi8vIGFsaWFzZXNcbm1ldGhvZHMuZ2V0ID0gbWV0aG9kcy5lcVxuZXhwb3J0IGRlZmF1bHQgbWV0aG9kc1xuIiwgImltcG9ydCB3b3JsZCBmcm9tICcuL3dvcmxkLmpzJ1xuaW1wb3J0IGFwaSBmcm9tICcuL21ldGhvZHMvaW5kZXguanMnXG5cbmNsYXNzIFZpZXcge1xuICBjb25zdHJ1Y3Rvcihkb2N1bWVudCwgcG9pbnRlciwgZ3JvdXBzID0ge30pIHtcbiAgICAvLyBpbnZpc2libGUgcHJvcHNcbiAgICBsZXQgcHJvcHMgPSBbXG4gICAgICBbJ2RvY3VtZW50JywgZG9jdW1lbnRdLFxuICAgICAgWyd3b3JsZCcsIHdvcmxkXSxcbiAgICAgIFsnX2dyb3VwcycsIGdyb3Vwc10sXG4gICAgICBbJ19jYWNoZScsIG51bGxdLFxuICAgICAgWyd2aWV3VHlwZScsICdWaWV3J10sXG4gICAgXVxuICAgIHByb3BzLmZvckVhY2goYSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgYVswXSwge1xuICAgICAgICB2YWx1ZTogYVsxXSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB9KVxuICAgIH0pXG4gICAgdGhpcy5wdHJzID0gcG9pbnRlclxuICB9XG4gIC8qIGdldHRlcnM6ICAqL1xuICBnZXQgZG9jcygpIHtcbiAgICBsZXQgZG9jcyA9IHRoaXMuZG9jdW1lbnRcbiAgICBpZiAodGhpcy5wdHJzKSB7XG4gICAgICBkb2NzID0gd29ybGQubWV0aG9kcy5vbmUuZ2V0RG9jKHRoaXMucHRycywgdGhpcy5kb2N1bWVudClcbiAgICB9XG4gICAgcmV0dXJuIGRvY3NcbiAgfVxuICBnZXQgcG9pbnRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wdHJzXG4gIH1cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMud29ybGQubWV0aG9kc1xuICB9XG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy53b3JsZC5tb2RlbFxuICB9XG4gIGdldCBob29rcygpIHtcbiAgICByZXR1cm4gdGhpcy53b3JsZC5ob29rc1xuICB9XG4gIGdldCBpc1ZpZXcoKSB7XG4gICAgcmV0dXJuIHRydWUgLy90aGlzIGNvbWVzIGluIGhhbmR5IHNvbWV0aW1lc1xuICB9XG4gIC8vIGlzIHRoZSB2aWV3IG5vdC1lbXB0eT9cbiAgZ2V0IGZvdW5kKCkge1xuICAgIHJldHVybiB0aGlzLmRvY3MubGVuZ3RoID4gMFxuICB9XG4gIC8vIGhvdyBtYW55IG1hdGNoZXMgd2UgaGF2ZVxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLmRvY3MubGVuZ3RoXG4gIH1cbiAgLy8gcmV0dXJuIGEgbW9yZS1oYWNrYWJsZSBwb2ludGVyXG4gIGdldCBmdWxsUG9pbnRlcigpIHtcbiAgICBsZXQgeyBkb2NzLCBwdHJzLCBkb2N1bWVudCB9ID0gdGhpc1xuICAgIC8vIGNvbXB1dGUgYSBwcm9wZXIgcG9pbnRlciwgZnJvbSBkb2NzXG4gICAgbGV0IHBvaW50ZXJzID0gcHRycyB8fCBkb2NzLm1hcCgoX2QsIG4pID0+IFtuXSlcbiAgICAvLyBkbyB3ZSBuZWVkIHRvIHJlcGFpciBpdCwgZmlyc3Q/XG4gICAgcmV0dXJuIHBvaW50ZXJzLm1hcChhID0+IHtcbiAgICAgIGxldCBbbiwgc3RhcnQsIGVuZCwgaWQsIGVuZElkXSA9IGFcbiAgICAgIHN0YXJ0ID0gc3RhcnQgfHwgMFxuICAgICAgZW5kID0gZW5kIHx8IChkb2N1bWVudFtuXSB8fCBbXSkubGVuZ3RoXG4gICAgICAvL2FkZCBmcm96ZW4gaWQsIGZvciBnb29kLW1lYXN1cmVcbiAgICAgIGlmIChkb2N1bWVudFtuXSAmJiBkb2N1bWVudFtuXVtzdGFydF0pIHtcbiAgICAgICAgaWQgPSBpZCB8fCBkb2N1bWVudFtuXVtzdGFydF0uaWRcbiAgICAgICAgaWYgKGRvY3VtZW50W25dW2VuZCAtIDFdKSB7XG4gICAgICAgICAgZW5kSWQgPSBlbmRJZCB8fCBkb2N1bWVudFtuXVtlbmQgLSAxXS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gW24sIHN0YXJ0LCBlbmQsIGlkLCBlbmRJZF1cbiAgICB9KVxuICB9XG4gIC8vIGNyZWF0ZSBhIG5ldyBWaWV3LCBmcm9tIHRoaXMgb25lXG4gIHVwZGF0ZShwb2ludGVyKSB7XG4gICAgbGV0IG0gPSBuZXcgVmlldyh0aGlzLmRvY3VtZW50LCBwb2ludGVyKVxuICAgIC8vIHNlbmQgdGhlIGNhY2hlIGRvd24sIHRvbz9cbiAgICBpZiAodGhpcy5fY2FjaGUgJiYgcG9pbnRlciAmJiBwb2ludGVyLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIG9ubHkga2VlcCBjYWNoZSBpZiBpdCdzIGEgZnVsbC1zZW50ZW5jZVxuICAgICAgbGV0IGNhY2hlID0gW11cbiAgICAgIHBvaW50ZXIuZm9yRWFjaCgocHRyLCBpKSA9PiB7XG4gICAgICAgIGxldCBbbiwgc3RhcnQsIGVuZF0gPSBwdHJcbiAgICAgICAgaWYgKHB0ci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjYWNoZVtpXSA9IHRoaXMuX2NhY2hlW25dXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhcnQgPT09IDAgJiYgdGhpcy5kb2N1bWVudFtuXS5sZW5ndGggPT09IGVuZCkge1xuICAgICAgICAgIGNhY2hlW2ldID0gdGhpcy5fY2FjaGVbbl1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGlmIChjYWNoZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIG0uX2NhY2hlID0gY2FjaGVcbiAgICAgIH1cbiAgICB9XG4gICAgbS53b3JsZCA9IHRoaXMud29ybGRcbiAgICByZXR1cm4gbVxuICB9XG4gIC8vIGNyZWF0ZSBhIG5ldyBWaWV3LCBmcm9tIHRoaXMgb25lXG4gIHRvVmlldyhwb2ludGVyKSB7XG4gICAgcmV0dXJuIG5ldyBWaWV3KHRoaXMuZG9jdW1lbnQsIHBvaW50ZXIgfHwgdGhpcy5wb2ludGVyKVxuICB9XG4gIGZyb21UZXh0KGlucHV0KSB7XG4gICAgY29uc3QgeyBtZXRob2RzIH0gPSB0aGlzXG4gICAgLy9hc3N1bWUgLi8wMS10b2tlbml6ZSBpcyBpbnN0YWxsZWRcbiAgICBsZXQgZG9jdW1lbnQgPSBtZXRob2RzLm9uZS50b2tlbml6ZS5mcm9tU3RyaW5nKGlucHV0LCB0aGlzLndvcmxkKVxuICAgIGxldCBkb2MgPSBuZXcgVmlldyhkb2N1bWVudClcbiAgICBkb2Mud29ybGQgPSB0aGlzLndvcmxkXG4gICAgZG9jLmNvbXB1dGUoWydub3JtYWwnLCAnZnJlZXplJywgJ2xleGljb24nXSlcbiAgICBpZiAodGhpcy53b3JsZC5jb21wdXRlLnByZVRhZ2dlcikge1xuICAgICAgZG9jLmNvbXB1dGUoJ3ByZVRhZ2dlcicpXG4gICAgfVxuICAgIGRvYy5jb21wdXRlKCd1bmZyZWV6ZScpXG4gICAgcmV0dXJuIGRvY1xuICB9XG4gIGNsb25lKCkge1xuICAgIC8vIGNsb25lIHRoZSB3aG9sZSBkb2N1bWVudFxuICAgIGxldCBkb2N1bWVudCA9IHRoaXMuZG9jdW1lbnQuc2xpY2UoMCkgLy9ub2RlIDE3OiBzdHJ1Y3R1cmVkQ2xvbmUoZG9jdW1lbnQpO1xuICAgIGRvY3VtZW50ID0gZG9jdW1lbnQubWFwKHRlcm1zID0+IHtcbiAgICAgIHJldHVybiB0ZXJtcy5tYXAodGVybSA9PiB7XG4gICAgICAgIHRlcm0gPSBPYmplY3QuYXNzaWduKHt9LCB0ZXJtKVxuICAgICAgICB0ZXJtLnRhZ3MgPSBuZXcgU2V0KHRlcm0udGFncylcbiAgICAgICAgcmV0dXJuIHRlcm1cbiAgICAgIH0pXG4gICAgfSlcbiAgICAvLyBjbG9uZSBvbmx5IHN1Yi1kb2N1bWVudCA/XG4gICAgbGV0IG0gPSB0aGlzLnVwZGF0ZSh0aGlzLnBvaW50ZXIpXG4gICAgbS5kb2N1bWVudCA9IGRvY3VtZW50XG4gICAgbS5fY2FjaGUgPSB0aGlzLl9jYWNoZSAvL2Nsb25lIHRoaXMgdG9vP1xuICAgIHJldHVybiBtXG4gIH1cbn1cbk9iamVjdC5hc3NpZ24oVmlldy5wcm90b3R5cGUsIGFwaSlcbmV4cG9ydCBkZWZhdWx0IFZpZXdcbiIsICJleHBvcnQgZGVmYXVsdCAnMTQuMTQuNCciLCAiY29uc3QgaXNPYmplY3QgPSBmdW5jdGlvbiAoaXRlbSkge1xuICByZXR1cm4gaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSlcbn1cblxuLy8gcmVjdXJzaXZlIG1lcmdlIG9mIG9iamVjdHNcbmZ1bmN0aW9uIG1lcmdlRGVlcChtb2RlbCwgcGx1Z2luKSB7XG4gIGlmIChpc09iamVjdChwbHVnaW4pKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGx1Z2luKSB7XG4gICAgICBpZiAoaXNPYmplY3QocGx1Z2luW2tleV0pKSB7XG4gICAgICAgIGlmICghbW9kZWxba2V5XSkgT2JqZWN0LmFzc2lnbihtb2RlbCwgeyBba2V5XToge30gfSlcbiAgICAgICAgbWVyZ2VEZWVwKG1vZGVsW2tleV0sIHBsdWdpbltrZXldKSAvL3JlY3Vyc2lvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihtb2RlbCwgeyBba2V5XTogcGx1Z2luW2tleV0gfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1vZGVsXG59XG4vLyBjb25zdCBtZXJnZWQgPSBtZXJnZURlZXAoeyBhOiAxIH0sIHsgYjogeyBjOiB7IGQ6IHsgZTogMTIzNDUgfSB9IH0gfSlcbi8vIGNvbnNvbGUuZGlyKG1lcmdlZCwgeyBkZXB0aDogNSB9KVxuXG4vLyB2cm9vbVxuZnVuY3Rpb24gbWVyZ2VRdWljayhtb2RlbCwgcGx1Z2luKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIHBsdWdpbikge1xuICAgIG1vZGVsW2tleV0gPSBtb2RlbFtrZXldIHx8IHt9XG4gICAgT2JqZWN0LmFzc2lnbihtb2RlbFtrZXldLCBwbHVnaW5ba2V5XSlcbiAgfVxuICByZXR1cm4gbW9kZWxcbn1cblxuY29uc3QgYWRkSXJyZWd1bGFycyA9IGZ1bmN0aW9uIChtb2RlbCwgY29uaikge1xuICBsZXQgbSA9IG1vZGVsLnR3by5tb2RlbHMgfHwge31cbiAgT2JqZWN0LmtleXMoY29uaikuZm9yRWFjaChrID0+IHtcbiAgICAvLyB2ZXJiIGZvcm1zXG4gICAgaWYgKGNvbmpba10ucGFzdFRlbnNlKSB7XG4gICAgICBpZiAobS50b1Bhc3QpIHtcbiAgICAgICAgbS50b1Bhc3QuZXhba10gPSBjb25qW2tdLnBhc3RUZW5zZVxuICAgICAgfVxuICAgICAgaWYgKG0uZnJvbVBhc3QpIHtcbiAgICAgICAgbS5mcm9tUGFzdC5leFtjb25qW2tdLnBhc3RUZW5zZV0gPSBrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb25qW2tdLnByZXNlbnRUZW5zZSkge1xuICAgICAgaWYgKG0udG9QcmVzZW50KSB7XG4gICAgICAgIG0udG9QcmVzZW50LmV4W2tdID0gY29ualtrXS5wcmVzZW50VGVuc2VcbiAgICAgIH1cbiAgICAgIGlmIChtLmZyb21QcmVzZW50KSB7XG4gICAgICAgIG0uZnJvbVByZXNlbnQuZXhbY29ualtrXS5wcmVzZW50VGVuc2VdID0ga1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29ualtrXS5nZXJ1bmQpIHtcbiAgICAgIGlmIChtLnRvR2VydW5kKSB7XG4gICAgICAgIG0udG9HZXJ1bmQuZXhba10gPSBjb25qW2tdLmdlcnVuZFxuICAgICAgfVxuICAgICAgaWYgKG0uZnJvbUdlcnVuZCkge1xuICAgICAgICBtLmZyb21HZXJ1bmQuZXhbY29ualtrXS5nZXJ1bmRdID0ga1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBhZGplY3RpdmUgZm9ybXNcbiAgICBpZiAoY29ualtrXS5jb21wYXJhdGl2ZSkge1xuICAgICAgaWYgKG0udG9Db21wYXJhdGl2ZSkge1xuICAgICAgICBtLnRvQ29tcGFyYXRpdmUuZXhba10gPSBjb25qW2tdLmNvbXBhcmF0aXZlXG4gICAgICB9XG4gICAgICBpZiAobS5mcm9tQ29tcGFyYXRpdmUpIHtcbiAgICAgICAgbS5mcm9tQ29tcGFyYXRpdmUuZXhbY29ualtrXS5jb21wYXJhdGl2ZV0gPSBrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb25qW2tdLnN1cGVybGF0aXZlKSB7XG4gICAgICBpZiAobS50b1N1cGVybGF0aXZlKSB7XG4gICAgICAgIG0udG9TdXBlcmxhdGl2ZS5leFtrXSA9IGNvbmpba10uc3VwZXJsYXRpdmVcbiAgICAgIH1cbiAgICAgIGlmIChtLmZyb21TdXBlcmxhdGl2ZSkge1xuICAgICAgICBtLmZyb21TdXBlcmxhdGl2ZS5leFtjb25qW2tdLnN1cGVybGF0aXZlXSA9IGtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5cbmNvbnN0IGV4dGVuZCA9IGZ1bmN0aW9uIChwbHVnaW4sIHdvcmxkLCBWaWV3LCBubHApIHtcbiAgY29uc3QgeyBtZXRob2RzLCBtb2RlbCwgY29tcHV0ZSwgaG9va3MgfSA9IHdvcmxkXG4gIGlmIChwbHVnaW4ubWV0aG9kcykge1xuICAgIG1lcmdlUXVpY2sobWV0aG9kcywgcGx1Z2luLm1ldGhvZHMpXG4gIH1cbiAgaWYgKHBsdWdpbi5tb2RlbCkge1xuICAgIG1lcmdlRGVlcChtb2RlbCwgcGx1Z2luLm1vZGVsKVxuICB9XG4gIGlmIChwbHVnaW4uaXJyZWd1bGFycykge1xuICAgIGFkZElycmVndWxhcnMobW9kZWwsIHBsdWdpbi5pcnJlZ3VsYXJzKVxuICB9XG4gIC8vIHNoYWxsb3ctbWVyZ2UgY29tcHV0ZVxuICBpZiAocGx1Z2luLmNvbXB1dGUpIHtcbiAgICBPYmplY3QuYXNzaWduKGNvbXB1dGUsIHBsdWdpbi5jb21wdXRlKVxuICB9XG4gIC8vIGFwcGVuZCBuZXcgaG9va3NcbiAgaWYgKGhvb2tzKSB7XG4gICAgd29ybGQuaG9va3MgPSBob29rcy5jb25jYXQocGx1Z2luLmhvb2tzIHx8IFtdKVxuICB9XG4gIC8vIGFzc2lnbiBuZXcgY2xhc3MgbWV0aG9kc1xuICBpZiAocGx1Z2luLmFwaSkge1xuICAgIHBsdWdpbi5hcGkoVmlldylcbiAgfVxuICBpZiAocGx1Z2luLmxpYikge1xuICAgIE9iamVjdC5rZXlzKHBsdWdpbi5saWIpLmZvckVhY2goayA9PiAobmxwW2tdID0gcGx1Z2luLmxpYltrXSkpXG4gIH1cbiAgaWYgKHBsdWdpbi50YWdzKSB7XG4gICAgbmxwLmFkZFRhZ3MocGx1Z2luLnRhZ3MpXG4gIH1cbiAgaWYgKHBsdWdpbi53b3Jkcykge1xuICAgIG5scC5hZGRXb3JkcyhwbHVnaW4ud29yZHMpXG4gIH1cbiAgaWYgKHBsdWdpbi5mcm96ZW4pIHtcbiAgICBubHAuYWRkV29yZHMocGx1Z2luLmZyb3plbiwgdHJ1ZSlcbiAgfVxuICBpZiAocGx1Z2luLm11dGF0ZSkge1xuICAgIHBsdWdpbi5tdXRhdGUod29ybGQsIG5scClcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZXh0ZW5kXG4iLCAiXG4vKiogbG9nIHRoZSBkZWNpc2lvbi1tYWtpbmcgdG8gY29uc29sZSAqL1xuY29uc3QgdmVyYm9zZSA9IGZ1bmN0aW9uIChzZXQpIHtcbiAgY29uc3QgZW52ID0gdHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnIHx8ICFwcm9jZXNzLmVudiA/IHNlbGYuZW52IHx8IHt9IDogcHJvY2Vzcy5lbnYgLy91c2Ugd2luZG93LCBpbiBicm93c2VyXG4gIGVudi5ERUJVR19UQUdTID0gc2V0ID09PSAndGFnZ2VyJyB8fCBzZXQgPT09IHRydWUgPyB0cnVlIDogJydcbiAgZW52LkRFQlVHX01BVENIID0gc2V0ID09PSAnbWF0Y2gnIHx8IHNldCA9PT0gdHJ1ZSA/IHRydWUgOiAnJ1xuICBlbnYuREVCVUdfQ0hVTktTID0gc2V0ID09PSAnY2h1bmtlcicgfHwgc2V0ID09PSB0cnVlID8gdHJ1ZSA6ICcnXG4gIHJldHVybiB0aGlzXG59XG5cbmV4cG9ydCB7IHZlcmJvc2UgfSIsICJjb25zdCBpc09iamVjdCA9IHZhbCA9PiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSdcbn1cblxuY29uc3QgaXNBcnJheSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nXG59XG5cbi8vIGludGVybmFsIFRlcm0gb2JqZWN0cyBhcmUgc2xpZ2h0bHkgZGlmZmVyZW50XG5jb25zdCBmcm9tSnNvbiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gIHJldHVybiBqc29uLm1hcChvID0+IHtcbiAgICByZXR1cm4gby50ZXJtcy5tYXAodGVybSA9PiB7XG4gICAgICBpZiAoaXNBcnJheSh0ZXJtLnRhZ3MpKSB7XG4gICAgICAgIHRlcm0udGFncyA9IG5ldyBTZXQodGVybS50YWdzKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRlcm1cbiAgICB9KVxuICB9KVxufVxuXG4vLyBpbnRlcnByZXQgYW4gYXJyYXktb2YtYXJyYXlzXG5jb25zdCBwcmVUb2tlbml6ZWQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBhcnIubWFwKChhKSA9PiB7XG4gICAgcmV0dXJuIGEubWFwKHN0ciA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiBzdHIsXG4gICAgICAgIG5vcm1hbDogc3RyLC8vY2xlYW51cFxuICAgICAgICBwcmU6ICcnLFxuICAgICAgICBwb3N0OiAnICcsXG4gICAgICAgIHRhZ3M6IG5ldyBTZXQoKVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG59XG5cbmNvbnN0IGlucHV0cyA9IGZ1bmN0aW9uIChpbnB1dCwgVmlldywgd29ybGQpIHtcbiAgY29uc3QgeyBtZXRob2RzIH0gPSB3b3JsZFxuICBsZXQgZG9jID0gbmV3IFZpZXcoW10pXG4gIGRvYy53b3JsZCA9IHdvcmxkXG4gIC8vIHN1cHBvcnQgYSBudW1iZXJcbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICBpbnB1dCA9IFN0cmluZyhpbnB1dClcbiAgfVxuICAvLyByZXR1cm4gZW1wdHkgZG9jXG4gIGlmICghaW5wdXQpIHtcbiAgICByZXR1cm4gZG9jXG4gIH1cbiAgLy8gcGFyc2UgYSBzdHJpbmdcbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICBsZXQgZG9jdW1lbnQgPSBtZXRob2RzLm9uZS50b2tlbml6ZS5mcm9tU3RyaW5nKGlucHV0LCB3b3JsZClcbiAgICByZXR1cm4gbmV3IFZpZXcoZG9jdW1lbnQpXG4gIH1cbiAgLy8gaGFuZGxlIGNvbXByb21pc2UgVmlld1xuICBpZiAoaXNPYmplY3QoaW5wdXQpICYmIGlucHV0LmlzVmlldykge1xuICAgIHJldHVybiBuZXcgVmlldyhpbnB1dC5kb2N1bWVudCwgaW5wdXQucHRycylcbiAgfVxuICAvLyBoYW5kbGUganNvbiBpbnB1dFxuICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAvLyBwcmUtdG9rZW5pemVkIGFycmF5LW9mLWFycmF5cyBcbiAgICBpZiAoaXNBcnJheShpbnB1dFswXSkpIHtcbiAgICAgIGxldCBkb2N1bWVudCA9IHByZVRva2VuaXplZChpbnB1dClcbiAgICAgIHJldHVybiBuZXcgVmlldyhkb2N1bWVudClcbiAgICB9XG4gICAgLy8gaGFuZGxlIGpzb24gb3V0cHV0XG4gICAgbGV0IGRvY3VtZW50ID0gZnJvbUpzb24oaW5wdXQpXG4gICAgcmV0dXJuIG5ldyBWaWV3KGRvY3VtZW50KVxuICB9XG4gIHJldHVybiBkb2Ncbn1cbmV4cG9ydCBkZWZhdWx0IGlucHV0cyIsICJpbXBvcnQgVmlldyBmcm9tICcuL0FQSS9WaWV3LmpzJ1xuaW1wb3J0IHRtcFdybGQgZnJvbSAnLi9BUEkvd29ybGQuanMnXG5pbXBvcnQgdmVyc2lvbiBmcm9tICcuL192ZXJzaW9uLmpzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICcuL0FQSS9leHRlbmQuanMnXG5pbXBvcnQgeyB2ZXJib3NlIH0gZnJvbSAnLi9BUEkvX2xpYi5qcydcbmltcG9ydCBoYW5kbGVJbnB1dHMgZnJvbSAnLi9BUEkvaW5wdXRzLmpzJ1xuXG5sZXQgd29ybGQgPSBPYmplY3QuYXNzaWduKHt9LCB0bXBXcmxkKVxuXG5jb25zdCBubHAgPSBmdW5jdGlvbiAoaW5wdXQsIGxleCkge1xuICBpZiAobGV4KSB7XG4gICAgbmxwLmFkZFdvcmRzKGxleClcbiAgfVxuICBsZXQgZG9jID0gaGFuZGxlSW5wdXRzKGlucHV0LCBWaWV3LCB3b3JsZClcbiAgaWYgKGlucHV0KSB7XG4gICAgZG9jLmNvbXB1dGUod29ybGQuaG9va3MpXG4gIH1cbiAgcmV0dXJuIGRvY1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KG5scCwgJ193b3JsZCcsIHtcbiAgdmFsdWU6IHdvcmxkLFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pXG5cbi8qKiBkb24ndCBydW4gdGhlIFBPUy10YWdnZXIgKi9cbm5scC50b2tlbml6ZSA9IGZ1bmN0aW9uIChpbnB1dCwgbGV4KSB7XG4gIGNvbnN0IHsgY29tcHV0ZSB9ID0gdGhpcy5fd29ybGRcbiAgLy8gYWRkIHVzZXItZ2l2ZW4gd29yZHMgdG8gbGV4aWNvblxuICBpZiAobGV4KSB7XG4gICAgbmxwLmFkZFdvcmRzKGxleClcbiAgfVxuICAvLyBydW4gdGhlIHRva2VuaXplclxuICBsZXQgZG9jID0gaGFuZGxlSW5wdXRzKGlucHV0LCBWaWV3LCB3b3JsZClcbiAgLy8gZ2l2ZSBjb250cmFjdGlvbnMgYSBzaG90LCBhdCBsZWFzdFxuICBpZiAoY29tcHV0ZS5jb250cmFjdGlvbnMpIHtcbiAgICBkb2MuY29tcHV0ZShbJ2FsaWFzJywgJ25vcm1hbCcsICdtYWNoaW5lJywgJ2NvbnRyYWN0aW9ucyddKSAvL3J1biBpdCBpZiB3ZSd2ZSBnb3QgaXRcbiAgfVxuICByZXR1cm4gZG9jXG59XG5cbi8qKiBleHRlbmQgY29tcHJvbWlzZSBmdW5jdGlvbmFsaXR5ICovXG5ubHAucGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICBleHRlbmQocGx1Z2luLCB0aGlzLl93b3JsZCwgVmlldywgdGhpcylcbiAgcmV0dXJuIHRoaXNcbn1cbm5scC5leHRlbmQgPSBubHAucGx1Z2luXG5cblxuLyoqIHJlYWNoLWludG8gY29tcHJvbWlzZSBpbnRlcm5hbHMgKi9cbm5scC53b3JsZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3dvcmxkXG59XG5ubHAubW9kZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl93b3JsZC5tb2RlbFxufVxubmxwLm1ldGhvZHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl93b3JsZC5tZXRob2RzXG59XG5ubHAuaG9va3MgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl93b3JsZC5ob29rc1xufVxuXG4vKiogbG9nIHRoZSBkZWNpc2lvbi1tYWtpbmcgdG8gY29uc29sZSAqL1xubmxwLnZlcmJvc2UgPSB2ZXJib3NlXG4vKiogY3VycmVudCBsaWJyYXJ5IHJlbGVhc2UgdmVyc2lvbiAqL1xubmxwLnZlcnNpb24gPSB2ZXJzaW9uXG5cbmV4cG9ydCBkZWZhdWx0IG5scFxuIiwgImNvbnN0IGNyZWF0ZUNhY2hlID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XG4gIGxldCBjYWNoZSA9IGRvY3VtZW50Lm1hcCh0ZXJtcyA9PiB7XG4gICAgbGV0IGl0ZW1zID0gbmV3IFNldCgpXG4gICAgdGVybXMuZm9yRWFjaCh0ZXJtID0+IHtcbiAgICAgIC8vIGFkZCB3b3Jkc1xuICAgICAgaWYgKHRlcm0ubm9ybWFsICE9PSAnJykge1xuICAgICAgICBpdGVtcy5hZGQodGVybS5ub3JtYWwpXG4gICAgICB9XG4gICAgICAvLyBjYWNoZSBzd2l0Y2gtc3RhdHVzIC0gJyVOb3VufFZlcmIlJ1xuICAgICAgaWYgKHRlcm0uc3dpdGNoKSB7XG4gICAgICAgIGl0ZW1zLmFkZChgJSR7dGVybS5zd2l0Y2h9JWApXG4gICAgICB9XG4gICAgICAvLyBjYWNoZSBpbXBsaWNpdCB3b3JkcywgdG9vXG4gICAgICBpZiAodGVybS5pbXBsaWNpdCkge1xuICAgICAgICBpdGVtcy5hZGQodGVybS5pbXBsaWNpdClcbiAgICAgIH1cbiAgICAgIGlmICh0ZXJtLm1hY2hpbmUpIHtcbiAgICAgICAgaXRlbXMuYWRkKHRlcm0ubWFjaGluZSlcbiAgICAgIH1cbiAgICAgIGlmICh0ZXJtLnJvb3QpIHtcbiAgICAgICAgaXRlbXMuYWRkKHRlcm0ucm9vdClcbiAgICAgIH1cbiAgICAgIC8vIGNhY2hlIHNsYXNoZXMgd29yZHMsIGV0Y1xuICAgICAgaWYgKHRlcm0uYWxpYXMpIHtcbiAgICAgICAgdGVybS5hbGlhcy5mb3JFYWNoKHN0ciA9PiBpdGVtcy5hZGQoc3RyKSlcbiAgICAgIH1cbiAgICAgIGxldCB0YWdzID0gQXJyYXkuZnJvbSh0ZXJtLnRhZ3MpXG4gICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRhZ3MubGVuZ3RoOyB0ICs9IDEpIHtcbiAgICAgICAgaXRlbXMuYWRkKCcjJyArIHRhZ3NbdF0pXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gaXRlbXNcbiAgfSlcbiAgcmV0dXJuIGNhY2hlXG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDYWNoZVxuIiwgImltcG9ydCBjYWNoZURvYyBmcm9tICcuL2NhY2hlRG9jLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG9uZToge1xuICAgIGNhY2hlRG9jLFxuICB9LFxufVxuIiwgImNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiAqL1xuICBjYWNoZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2NhY2hlID0gdGhpcy5tZXRob2RzLm9uZS5jYWNoZURvYyh0aGlzLmRvY3VtZW50KVxuICAgIHJldHVybiB0aGlzXG4gIH0sXG4gIC8qKiAqL1xuICB1bmNhY2hlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fY2FjaGUgPSBudWxsXG4gICAgcmV0dXJuIHRoaXNcbiAgfSxcbn1cbmNvbnN0IGFkZEFQSSA9IGZ1bmN0aW9uIChWaWV3KSB7XG4gIE9iamVjdC5hc3NpZ24oVmlldy5wcm90b3R5cGUsIG1ldGhvZHMpXG59XG5leHBvcnQgZGVmYXVsdCBhZGRBUElcbiIsICJcbmV4cG9ydCBkZWZhdWx0IHtcbiAgY2FjaGU6IGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgdmlldy5fY2FjaGUgPSB2aWV3Lm1ldGhvZHMub25lLmNhY2hlRG9jKHZpZXcuZG9jdW1lbnQpXG4gIH1cbn0iLCAiaW1wb3J0IG1ldGhvZHMgZnJvbSAnLi9tZXRob2RzL2luZGV4LmpzJ1xuaW1wb3J0IGFwaSBmcm9tICcuL2FwaS5qcydcbmltcG9ydCBjb21wdXRlIGZyb20gJy4vY29tcHV0ZS5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBhcGksXG4gIGNvbXB1dGUsXG4gIG1ldGhvZHMsXG59XG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICAvKiogKi9cbiAgdG9Mb3dlckNhc2U6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRlcm1MaXN0KCkuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudGV4dCA9IHQudGV4dC50b0xvd2VyQ2FzZSgpXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuICAvKiogKi9cbiAgdG9VcHBlckNhc2U6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRlcm1MaXN0KCkuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudGV4dCA9IHQudGV4dC50b1VwcGVyQ2FzZSgpXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuICAvKiogKi9cbiAgdG9UaXRsZUNhc2U6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRlcm1MaXN0KCkuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudGV4dCA9IHQudGV4dC5yZXBsYWNlKC9eICpbYS16XFx1MDBDMC1cXHUwMEZGXS8sIHggPT4geC50b1VwcGVyQ2FzZSgpKSAvL3N1cHBvcnQgdW5pY29kZT9cbiAgICB9KVxuICAgIHJldHVybiB0aGlzXG4gIH0sXG4gIC8qKiAqL1xuICB0b0NhbWVsQ2FzZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZG9jcy5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICAgIHRlcm1zLmZvckVhY2goKHQsIGkpID0+IHtcbiAgICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgICB0LnRleHQgPSB0LnRleHQucmVwbGFjZSgvXiAqW2EtelxcdTAwQzAtXFx1MDBGRl0vLCB4ID0+IHgudG9VcHBlckNhc2UoKSkgLy9zdXBwb3J0IHVuaWNvZGU/XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgIT09IHRlcm1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICB0LnBvc3QgPSAnJ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXNcbiAgfSxcbn1cbiIsICIvLyBjYXNlIGxvZ2ljXG5jb25zdCBpc1RpdGxlQ2FzZSA9IChzdHIpID0+IC9eXFxwe0x1fVtcXHB7TGx9J1x1MjAxOV0vdS50ZXN0KHN0cikgfHwgL15cXHB7THV9JC91LnRlc3Qoc3RyKVxuY29uc3QgdG9UaXRsZUNhc2UgPSAoc3RyKSA9PiBzdHIucmVwbGFjZSgvXlxccHtMbH0vdSwgeCA9PiB4LnRvVXBwZXJDYXNlKCkpXG5jb25zdCB0b0xvd2VyQ2FzZSA9IChzdHIpID0+IHN0ci5yZXBsYWNlKC9eXFxwe0x1fS91LCB4ID0+IHgudG9Mb3dlckNhc2UoKSlcblxuLy8gc3BsaWNlIGFuIGFycmF5IGludG8gYW4gYXJyYXlcbmNvbnN0IHNwbGljZUFyciA9IChwYXJlbnQsIGluZGV4LCBjaGlsZCkgPT4ge1xuICAvLyB0YWcgdGhlbSBhcyBkaXJ0eVxuICBjaGlsZC5mb3JFYWNoKHRlcm0gPT4gdGVybS5kaXJ0eSA9IHRydWUpXG4gIGlmIChwYXJlbnQpIHtcbiAgICBsZXQgYXJncyA9IFtpbmRleCwgMF0uY29uY2F0KGNoaWxkKVxuICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocGFyZW50LCBhcmdzKVxuICB9XG4gIHJldHVybiBwYXJlbnRcbn1cblxuLy8gYWRkIGEgc3BhY2UgYXQgZW5kLCBpZiByZXF1aXJlZFxuY29uc3QgZW5kU3BhY2UgPSBmdW5jdGlvbiAodGVybXMpIHtcbiAgY29uc3QgaGFzU3BhY2UgPSAvICQvXG4gIGNvbnN0IGhhc0Rhc2ggPSAvWy1cdTIwMTNcdTIwMTRdL1xuICBsZXQgbGFzdFRlcm0gPSB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXVxuICBpZiAobGFzdFRlcm0gJiYgIWhhc1NwYWNlLnRlc3QobGFzdFRlcm0ucG9zdCkgJiYgIWhhc0Rhc2gudGVzdChsYXN0VGVybS5wb3N0KSkge1xuICAgIGxhc3RUZXJtLnBvc3QgKz0gJyAnXG4gIH1cbn1cblxuLy8gc2VudGVuY2UtZW5kaW5nIHB1bmN0dWF0aW9uIHNob3VsZCBtb3ZlIGluIGFwcGVuZFxuY29uc3QgbW92ZVB1bmN0ID0gKHNvdXJjZSwgZW5kLCBuZWVkbGUpID0+IHtcbiAgY29uc3QganVpY3kgPSAvWy0uPyEsOzopXHUyMDEzXHUyMDE0J1wiXS9nXG4gIGxldCB3YXNMYXN0ID0gc291cmNlW2VuZCAtIDFdXG4gIGlmICghd2FzTGFzdCkge1xuICAgIHJldHVyblxuICB9XG4gIGxldCBwb3N0ID0gd2FzTGFzdC5wb3N0XG4gIGlmIChqdWljeS50ZXN0KHBvc3QpKSB7XG4gICAgbGV0IHB1bmN0ID0gcG9zdC5tYXRjaChqdWljeSkuam9pbignJykgLy9ub3QgcGVyZmVjdFxuICAgIGxldCBsYXN0ID0gbmVlZGxlW25lZWRsZS5sZW5ndGggLSAxXVxuICAgIGxhc3QucG9zdCA9IHB1bmN0ICsgbGFzdC5wb3N0XG4gICAgLy8gcmVtb3ZlIGl0LCBmcm9tIHNvdXJjZVxuICAgIHdhc0xhc3QucG9zdCA9IHdhc0xhc3QucG9zdC5yZXBsYWNlKGp1aWN5LCAnJylcbiAgfVxufVxuXG5cbmNvbnN0IG1vdmVUaXRsZUNhc2UgPSBmdW5jdGlvbiAoaG9tZSwgc3RhcnQsIG5lZWRsZSkge1xuICBsZXQgZnJvbSA9IGhvbWVbc3RhcnRdXG4gIC8vIHNob3VsZCB3ZSBib3RoZXI/XG4gIGlmIChzdGFydCAhPT0gMCB8fCAhaXNUaXRsZUNhc2UoZnJvbS50ZXh0KSkge1xuICAgIHJldHVyblxuICB9XG4gIC8vIHRpdGxlY2FzZSBuZXcgZmlyc3QgdGVybVxuICBuZWVkbGVbMF0udGV4dCA9IHRvVGl0bGVDYXNlKG5lZWRsZVswXS50ZXh0KVxuICAvLyBzaG91bGQgd2UgdW4tdGl0bGVjYXNlIHRoZSBvbGQgd29yZD9cbiAgbGV0IG9sZCA9IGhvbWVbc3RhcnRdXG4gIGlmIChvbGQudGFncy5oYXMoJ1Byb3Blck5vdW4nKSB8fCBvbGQudGFncy5oYXMoJ0Fjcm9ueW0nKSkge1xuICAgIHJldHVyblxuICB9XG4gIGlmIChpc1RpdGxlQ2FzZShvbGQudGV4dCkgJiYgb2xkLnRleHQubGVuZ3RoID4gMSkge1xuICAgIG9sZC50ZXh0ID0gdG9Mb3dlckNhc2Uob2xkLnRleHQpXG4gIH1cbn1cblxuLy8gcHV0IHRoZXNlIHdvcmRzIGJlZm9yZSB0aGUgb3RoZXJzXG5jb25zdCBjbGVhblByZXBlbmQgPSBmdW5jdGlvbiAoaG9tZSwgcHRyLCBuZWVkbGUsIGRvY3VtZW50KSB7XG4gIGxldCBbbiwgc3RhcnQsIGVuZF0gPSBwdHJcbiAgLy8gaW50cm9kdWNlIHNwYWNlcyBhcHByb3ByaWF0ZWx5XG4gIGlmIChzdGFydCA9PT0gMCkge1xuICAgIC8vIGF0IHN0YXJ0IC0gbmVlZCBzcGFjZSBpbiBpbnNlcnRcbiAgICBlbmRTcGFjZShuZWVkbGUpXG4gIH0gZWxzZSBpZiAoZW5kID09PSBkb2N1bWVudFtuXS5sZW5ndGgpIHtcbiAgICAvLyBhdCBlbmQgLSBuZWVkIHNwYWNlIGluIGhvbWVcbiAgICBlbmRTcGFjZShuZWVkbGUpXG4gIH0gZWxzZSB7XG4gICAgLy8gaW4gbWlkZGxlIC0gbmVlZCBzcGFjZSBpbiBob21lIGFuZCBpbnNlcnRcbiAgICBlbmRTcGFjZShuZWVkbGUpXG4gICAgZW5kU3BhY2UoW2hvbWVbcHRyWzFdXV0pXG4gIH1cbiAgbW92ZVRpdGxlQ2FzZShob21lLCBzdGFydCwgbmVlZGxlKVxuICAvLyBtb3ZlUHVuY3QoaG9tZSwgZW5kLCBuZWVkbGUpXG4gIHNwbGljZUFycihob21lLCBzdGFydCwgbmVlZGxlKVxufVxuXG5jb25zdCBjbGVhbkFwcGVuZCA9IGZ1bmN0aW9uIChob21lLCBwdHIsIG5lZWRsZSwgZG9jdW1lbnQpIHtcbiAgbGV0IFtuLCAsIGVuZF0gPSBwdHJcbiAgbGV0IHRvdGFsID0gKGRvY3VtZW50W25dIHx8IFtdKS5sZW5ndGhcbiAgaWYgKGVuZCA8IHRvdGFsKSB7XG4gICAgLy8gYXJlIHdlIGluIHRoZSBtaWRkbGU/XG4gICAgLy8gYWRkIHRyYWlsaW5nIHNwYWNlIG9uIHNlbGZcbiAgICBtb3ZlUHVuY3QoaG9tZSwgZW5kLCBuZWVkbGUpXG4gICAgZW5kU3BhY2UobmVlZGxlKVxuICB9IGVsc2UgaWYgKHRvdGFsID09PSBlbmQpIHtcbiAgICAvLyBhcmUgd2UgYXQgdGhlIGVuZD9cbiAgICAvLyBhZGQgYSBzcGFjZSB0byBwcmVkZWNlc3NvclxuICAgIGVuZFNwYWNlKGhvbWUpXG4gICAgLy8gdmVyeSBlbmQsIG1vdmUgcGVyaW9kXG4gICAgbW92ZVB1bmN0KGhvbWUsIGVuZCwgbmVlZGxlKVxuICAgIC8vIGlzIHRoZXJlIGFub3RoZXIgc2VudGVuY2UgYWZ0ZXI/XG4gICAgaWYgKGRvY3VtZW50W24gKyAxXSkge1xuICAgICAgbmVlZGxlW25lZWRsZS5sZW5ndGggLSAxXS5wb3N0ICs9ICcgJ1xuICAgIH1cbiAgfVxuICBzcGxpY2VBcnIoaG9tZSwgcHRyWzJdLCBuZWVkbGUpXG4gIC8vIHNldCBuZXcgZW5kSWRcbiAgcHRyWzRdID0gbmVlZGxlW25lZWRsZS5sZW5ndGggLSAxXS5pZFxufVxuXG5leHBvcnQgeyBjbGVhblByZXBlbmQsIGNsZWFuQXBwZW5kLCBzcGxpY2VBcnIgfVxuIiwgIi8qXG51bmlxdWUgJiBvcmRlcmVkIHRlcm0gaWRzLCBiYXNlZCBvbiB0aW1lICYgdGVybSBpbmRleFxuXG5CYXNlIDM2IChudW1iZXJzK2FzY2lpKVxuICAzIGRpZ2l0IDQsNjAwXG4gIDIgZGlnaXQgMSwyMDBcbiAgMSBkaWdpdCAzNlxuXG4gIFRUVHxOTk58SUl8UlxuXG5UVFQgLT4gNDYgdGVybXMgc2luY2UgbG9hZFxuTk5OIC0+IDQ2IHRob3VzYW5kIHNlbnRlbmNlcyAoPjEgaW5mLWplc3QpXG5JSSAgLT4gMSwyMDAgd29yZHMgaW4gYSBzZW50ZW5jZSAobnV0cylcblIgICAtPiAxLTM2IHJhbmRvbSBudW1iZXIgXG5cbm5vdmVsczogXG4gIGF2ZyA4MCwwMDAgd29yZHNcbiAgICAxNSB3b3JkcyBwZXIgc2VudGVuY2VcbiAgNSwwMDAgc2VudGVuY2VzXG5cbkluZmluaXRlIEplc3Q6XG4gIDM2LDI0NyBzZW50ZW5jZXNcbiAgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9sb25nZXN0X25vdmVsc1xuXG5jb2xsaXNpb25zIGFyZSBtb3JlLWxpa2VseSBhZnRlclxuICAgIDQ2IHNlY29uZHMgaGF2ZSBwYXNzZWQsXG4gIGFuZCBcbiAgICBhZnRlciA0Ni10aG91c2FuZCBzZW50ZW5jZXNcblxuKi9cbmxldCBpbmRleCA9IDBcblxuY29uc3QgcGFkMyA9IChzdHIpID0+IHtcbiAgc3RyID0gc3RyLmxlbmd0aCA8IDMgPyAnMCcgKyBzdHIgOiBzdHJcbiAgcmV0dXJuIHN0ci5sZW5ndGggPCAzID8gJzAnICsgc3RyIDogc3RyXG59XG5cbmNvbnN0IHRvSWQgPSBmdW5jdGlvbiAodGVybSkge1xuICBsZXQgW24sIGldID0gdGVybS5pbmRleCB8fCBbMCwgMF1cbiAgaW5kZXggKz0gMVxuXG4gIC8vZG9uJ3Qgb3ZlcmZsb3cgaW5kZXhcbiAgaW5kZXggPSBpbmRleCA+IDQ2NjU1ID8gMCA6IGluZGV4XG4gIC8vZG9uJ3Qgb3ZlcmZsb3cgc2VudGVuY2VzXG4gIG4gPSBuID4gNDY2NTUgPyAwIDogblxuICAvLyAvL2Rvbid0IG92ZXJmbG93IHRlcm1zXG4gIGkgPSBpID4gMTI5NCA/IDAgOiBpXG5cbiAgLy8gMyBkaWdpdHMgZm9yIHRpbWVcbiAgbGV0IGlkID0gcGFkMyhpbmRleC50b1N0cmluZygzNikpXG4gIC8vIDMgZGlnaXQgIGZvciBzZW50ZW5jZSBpbmRleCAoNDZrKVxuICBpZCArPSBwYWQzKG4udG9TdHJpbmcoMzYpKVxuXG4gIC8vIDEgZGlnaXQgZm9yIHRlcm0gaW5kZXggKDM2KVxuICBsZXQgdHggPSBpLnRvU3RyaW5nKDM2KVxuICB0eCA9IHR4Lmxlbmd0aCA8IDIgPyAnMCcgKyB0eCA6IHR4IC8vcGFkMlxuICBpZCArPSB0eFxuXG4gIC8vIDEgZGlnaXQgcmFuZG9tIG51bWJlclxuICBsZXQgciA9IHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAzNiwgMTApXG4gIGlkICs9IChyKS50b1N0cmluZygzNilcblxuICByZXR1cm4gdGVybS5ub3JtYWwgKyAnfCcgKyBpZC50b1VwcGVyQ2FzZSgpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHRvSWRcblxuLy8gc2V0SW50ZXJ2YWwoKCkgPT4gY29uc29sZS5sb2codG9JZCg0LCAxMikpLCAxMDApXG4iLCAiaW1wb3J0IHsgY2xlYW5BcHBlbmQsIGNsZWFuUHJlcGVuZCB9IGZyb20gJy4vbGliL2luc2VydC5qcydcbmltcG9ydCB1dWlkIGZyb20gJy4uL2NvbXB1dGUvdXVpZC5qcydcbi8vIGFyZSB3ZSBpbnNlcnRpbmcgaW5zaWRlIGEgY29udHJhY3Rpb24/XG4vLyBleHBhbmQgaXQgZmlyc3RcbmNvbnN0IGV4cGFuZCA9IGZ1bmN0aW9uIChtKSB7XG4gIGlmIChtLmhhcygnQGhhc0NvbnRyYWN0aW9uJykgJiYgdHlwZW9mIG0uY29udHJhY3Rpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8mJiBtLmFmdGVyKCdeLicpLmhhcygnQGhhc0NvbnRyYWN0aW9uJylcbiAgICBsZXQgbW9yZSA9IG0uZ3JvdygnQGhhc0NvbnRyYWN0aW9uJylcbiAgICBtb3JlLmNvbnRyYWN0aW9ucygpLmV4cGFuZCgpXG4gIH1cbn1cblxuY29uc3QgaXNBcnJheSA9IGFyciA9PiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuXG4vLyBzZXQgbmV3IGlkcyBmb3IgZWFjaCB0ZXJtc1xuY29uc3QgYWRkSWRzID0gZnVuY3Rpb24gKHRlcm1zKSB7XG4gIHRlcm1zID0gdGVybXMubWFwKHRlcm0gPT4ge1xuICAgIHRlcm0uaWQgPSB1dWlkKHRlcm0pXG4gICAgcmV0dXJuIHRlcm1cbiAgfSlcbiAgcmV0dXJuIHRlcm1zXG59XG5cbmNvbnN0IGdldFRlcm1zID0gZnVuY3Rpb24gKGlucHV0LCB3b3JsZCkge1xuICBjb25zdCB7IG1ldGhvZHMgfSA9IHdvcmxkXG4gIC8vIGNyZWF0ZSBvdXIgdGVybXMgZnJvbSBhIHN0cmluZ1xuICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBtZXRob2RzLm9uZS50b2tlbml6ZS5mcm9tU3RyaW5nKGlucHV0LCB3b3JsZClbMF0gLy9hc3N1bWUgb25lIHNlbnRlbmNlXG4gIH1cbiAgLy9hbGxvdyBhIHZpZXcgb2JqZWN0XG4gIGlmICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0LmlzVmlldykge1xuICAgIHJldHVybiBpbnB1dC5jbG9uZSgpLmRvY3NbMF0gfHwgW10gLy9hc3N1bWUgb25lIHNlbnRlbmNlXG4gIH1cbiAgLy9hbGxvdyBhbiBhcnJheSBvZiB0ZXJtcywgdG9vXG4gIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgIHJldHVybiBpc0FycmF5KGlucHV0WzBdKSA/IGlucHV0WzBdIDogaW5wdXRcbiAgfVxuICByZXR1cm4gW11cbn1cblxuY29uc3QgaW5zZXJ0ID0gZnVuY3Rpb24gKGlucHV0LCB2aWV3LCBwcmVwZW5kKSB7XG4gIGNvbnN0IHsgZG9jdW1lbnQsIHdvcmxkIH0gPSB2aWV3XG4gIHZpZXcudW5jYWNoZSgpXG4gIC8vIGluc2VydCB3b3JkcyBhdCBlbmQgb2YgZWFjaCBkb2NcbiAgbGV0IHB0cnMgPSB2aWV3LmZ1bGxQb2ludGVyXG4gIGxldCBzZWxmUHRycyA9IHZpZXcuZnVsbFBvaW50ZXJcbiAgdmlldy5mb3JFYWNoKChtLCBpKSA9PiB7XG4gICAgbGV0IHB0ciA9IG0uZnVsbFBvaW50ZXJbMF1cbiAgICBsZXQgW25dID0gcHRyXG4gICAgLy8gYWRkLWluIHRoZSB3b3Jkc1xuICAgIGxldCBob21lID0gZG9jdW1lbnRbbl1cbiAgICBsZXQgdGVybXMgPSBnZXRUZXJtcyhpbnB1dCwgd29ybGQpXG4gICAgLy8gYXJlIHdlIGluc2VydGluZyBub3RoaW5nP1xuICAgIGlmICh0ZXJtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0ZXJtcyA9IGFkZElkcyh0ZXJtcylcbiAgICBpZiAocHJlcGVuZCkge1xuICAgICAgZXhwYW5kKHZpZXcudXBkYXRlKFtwdHJdKS5maXJzdFRlcm0oKSlcbiAgICAgIGNsZWFuUHJlcGVuZChob21lLCBwdHIsIHRlcm1zLCBkb2N1bWVudClcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwYW5kKHZpZXcudXBkYXRlKFtwdHJdKS5sYXN0VGVybSgpKVxuICAgICAgY2xlYW5BcHBlbmQoaG9tZSwgcHRyLCB0ZXJtcywgZG9jdW1lbnQpXG4gICAgfVxuICAgIC8vIGhhcmRlbiB0aGUgcG9pbnRlclxuICAgIGlmIChkb2N1bWVudFtuXSAmJiBkb2N1bWVudFtuXVtwdHJbMV1dKSB7XG4gICAgICBwdHJbM10gPSBkb2N1bWVudFtuXVtwdHJbMV1dLmlkXG4gICAgfVxuICAgIC8vIGNoYW5nZSBzZWxmIGJhY2t3YXJkcyBieSBsZW5cbiAgICBzZWxmUHRyc1tpXSA9IHB0clxuICAgIC8vIGV4dGVuZCB0aGUgcG9pbnRlclxuICAgIHB0clsyXSArPSB0ZXJtcy5sZW5ndGhcbiAgICBwdHJzW2ldID0gcHRyXG4gIH0pXG4gIGxldCBkb2MgPSB2aWV3LnRvVmlldyhwdHJzKVxuICAvLyBzaGlmdCBvdXIgc2VsZiBwb2ludGVyLCBpZiBuZWNlc3NhcnlcbiAgdmlldy5wdHJzID0gc2VsZlB0cnNcbiAgLy8gdHJ5IHRvIHRhZyB0aGVtLCB0b29cbiAgZG9jLmNvbXB1dGUoWydpZCcsICdpbmRleCcsICdmcmVlemUnLCAnbGV4aWNvbiddKVxuICBpZiAoZG9jLndvcmxkLmNvbXB1dGUucHJlVGFnZ2VyKSB7XG4gICAgZG9jLmNvbXB1dGUoJ3ByZVRhZ2dlcicpXG4gIH1cbiAgZG9jLmNvbXB1dGUoJ3VuZnJlZXplJylcbiAgcmV0dXJuIGRvY1xufVxuXG5jb25zdCBmbnMgPSB7XG4gIGluc2VydEFmdGVyOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5zZXJ0KGlucHV0LCB0aGlzLCBmYWxzZSlcbiAgfSxcbiAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5zZXJ0KGlucHV0LCB0aGlzLCB0cnVlKVxuICB9LFxufVxuZm5zLmFwcGVuZCA9IGZucy5pbnNlcnRBZnRlclxuZm5zLnByZXBlbmQgPSBmbnMuaW5zZXJ0QmVmb3JlXG5mbnMuaW5zZXJ0ID0gZm5zLmluc2VydEFmdGVyXG5cbmV4cG9ydCBkZWZhdWx0IGZuc1xuIiwgImNvbnN0IGRvbGxhclN0dWIgPSAvXFwkWzAtOWEtel0rL2dcbmNvbnN0IGZucyA9IHt9XG5cbi8vIGNhc2UgbG9naWNcbmNvbnN0IGlzVGl0bGVDYXNlID0gKHN0cikgPT4gL15cXHB7THV9W1xccHtMbH0nXHUyMDE5XS91LnRlc3Qoc3RyKSB8fCAvXlxccHtMdX0kL3UudGVzdChzdHIpXG5jb25zdCB0b1RpdGxlQ2FzZSA9IChzdHIpID0+IHN0ci5yZXBsYWNlKC9eXFxwe0xsfS91LCB4ID0+IHgudG9VcHBlckNhc2UoKSlcbmNvbnN0IHRvTG93ZXJDYXNlID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoL15cXHB7THV9L3UsIHggPT4geC50b0xvd2VyQ2FzZSgpKVxuXG4vLyBkb2MucmVwbGFjZSgnZm9vJywgKG0pPT57fSlcbmNvbnN0IHJlcGxhY2VCeUZuID0gZnVuY3Rpb24gKG1haW4sIGZuLCBrZWVwKSB7XG4gIG1haW4uZm9yRWFjaChtID0+IHtcbiAgICBsZXQgb3V0ID0gZm4obSlcbiAgICBtLnJlcGxhY2VXaXRoKG91dCwga2VlcClcbiAgfSlcbiAgcmV0dXJuIG1haW5cbn1cblxuLy8gc3VwcG9ydCAnZm9vICQwJyByZXBsYWNlbWVudHNcbmNvbnN0IHN1YkRvbGxhclNpZ24gPSBmdW5jdGlvbiAoaW5wdXQsIG1haW4pIHtcbiAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gaW5wdXRcbiAgfVxuICBsZXQgZ3JvdXBzID0gbWFpbi5ncm91cHMoKVxuICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoZG9sbGFyU3R1YiwgYSA9PiB7XG4gICAgbGV0IG51bSA9IGEucmVwbGFjZSgvXFwkLywgJycpXG4gICAgaWYgKGdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShudW0pKSB7XG4gICAgICByZXR1cm4gZ3JvdXBzW251bV0udGV4dCgpXG4gICAgfVxuICAgIHJldHVybiBhXG4gIH0pXG4gIHJldHVybiBpbnB1dFxufVxuXG5mbnMucmVwbGFjZVdpdGggPSBmdW5jdGlvbiAoaW5wdXQsIGtlZXAgPSB7fSkge1xuICBsZXQgcHRycyA9IHRoaXMuZnVsbFBvaW50ZXJcbiAgbGV0IG1haW4gPSB0aGlzXG4gIHRoaXMudW5jYWNoZSgpXG4gIGlmICh0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gcmVwbGFjZUJ5Rm4obWFpbiwgaW5wdXQsIGtlZXApXG4gIH1cbiAgbGV0IHRlcm1zID0gbWFpbi5kb2NzWzBdXG4gIGlmICghdGVybXMpIHJldHVybiBtYWluXG4gIGxldCBpc09yaWdpbmFsUG9zc2Vzc2l2ZSA9IGtlZXAucG9zc2Vzc2l2ZXMgJiYgdGVybXNbdGVybXMubGVuZ3RoIC0gMV0udGFncy5oYXMoJ1Bvc3Nlc3NpdmUnKVxuICBsZXQgaXNPcmlnaW5hbFRpdGxlQ2FzZSA9IGtlZXAuY2FzZSAmJiBpc1RpdGxlQ2FzZSh0ZXJtc1swXS50ZXh0KVxuICAvLyBzdXBwb3J0ICdmb28gJDAnIHJlcGxhY2VtZW50c1xuICBpbnB1dCA9IHN1YkRvbGxhclNpZ24oaW5wdXQsIG1haW4pXG5cbiAgbGV0IG9yaWdpbmFsID0gdGhpcy51cGRhdGUocHRycylcbiAgLy8gc29mdGVuLXVwIHBvaW50ZXJcbiAgcHRycyA9IHB0cnMubWFwKHB0ciA9PiBwdHIuc2xpY2UoMCwgMykpXG4gIC8vIG9yaWdpbmFsLmZyZWV6ZSgpXG4gIGxldCBvbGRUYWdzID0gKG9yaWdpbmFsLmRvY3NbMF0gfHwgW10pLm1hcCh0ZXJtID0+IEFycmF5LmZyb20odGVybS50YWdzKSlcbiAgbGV0IG9yaWdpbmFsUHJlID0gb3JpZ2luYWwuZG9jc1swXVswXS5wcmVcbiAgbGV0IG9yaWdpbmFsUG9zdCA9IG9yaWdpbmFsLmRvY3NbMF1bb3JpZ2luYWwuZG9jc1swXS5sZW5ndGggLSAxXS5wb3N0XG4gIC8vIHNsaWRlIHRoaXMgaW5cbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICBpbnB1dCA9IHRoaXMuZnJvbVRleHQoaW5wdXQpLmNvbXB1dGUoJ2lkJylcbiAgfVxuICBtYWluLmluc2VydEFmdGVyKGlucHV0KVxuICAvLyBhcmUgd2UgcmVwbGFjaW5nIHBhcnQgb2YgYSBjb250cmFjdGlvbj9cbiAgaWYgKG9yaWdpbmFsLmhhcygnQGhhc0NvbnRyYWN0aW9uJykgJiYgbWFpbi5jb250cmFjdGlvbnMpIHtcbiAgICBsZXQgbW9yZSA9IG1haW4uZ3JvdygnQGhhc0NvbnRyYWN0aW9uKycpXG4gICAgbW9yZS5jb250cmFjdGlvbnMoKS5leHBhbmQoKVxuICB9XG4gIC8vIGRlbGV0ZSB0aGUgb3JpZ2luYWwgdGVybXNcbiAgbWFpbi5kZWxldGUob3JpZ2luYWwpIC8vc2NpZW5jZS5cblxuICAvLyBrZWVwIFwiSm9obidzXCJcbiAgaWYgKGlzT3JpZ2luYWxQb3NzZXNzaXZlKSB7XG4gICAgbGV0IHRtcCA9IG1haW4uZG9jc1swXVxuICAgIGxldCB0ZXJtID0gdG1wW3RtcC5sZW5ndGggLSAxXVxuICAgIGlmICghdGVybS50YWdzLmhhcygnUG9zc2Vzc2l2ZScpKSB7XG4gICAgICB0ZXJtLnRleHQgKz0gXCInc1wiXG4gICAgICB0ZXJtLm5vcm1hbCArPSBcIidzXCJcbiAgICAgIHRlcm0udGFncy5hZGQoJ1Bvc3Nlc3NpdmUnKVxuICAgIH1cbiAgfVxuXG4gIC8vIHRyeSB0byBrZWVwIHNvbWUgcHJlLXB1bmN0dWF0aW9uXG4gIGlmIChvcmlnaW5hbFByZSAmJiBtYWluLmRvY3NbMF0pIHtcbiAgICBtYWluLmRvY3NbMF1bMF0ucHJlID0gb3JpZ2luYWxQcmVcbiAgfVxuICAvLyB0cnkgdG8ga2VlcCBhbnkgcG9zdC1wdW5jdHVhdGlvblxuICBpZiAob3JpZ2luYWxQb3N0ICYmIG1haW4uZG9jc1swXSkge1xuICAgIGxldCBsYXN0T25lID0gbWFpbi5kb2NzWzBdW21haW4uZG9jc1swXS5sZW5ndGggLSAxXVxuICAgIGlmICghbGFzdE9uZS5wb3N0LnRyaW0oKSkge1xuICAgICAgbGFzdE9uZS5wb3N0ID0gb3JpZ2luYWxQb3N0XG4gICAgfVxuICB9XG5cbiAgLy8gd2hhdCBzaG91bGQgd2UgcmV0dXJuP1xuICBsZXQgbSA9IG1haW4udG9WaWV3KHB0cnMpLmNvbXB1dGUoWydpbmRleCcsICdmcmVlemUnLCAnbGV4aWNvbiddKVxuICBpZiAobS53b3JsZC5jb21wdXRlLnByZVRhZ2dlcikge1xuICAgIG0uY29tcHV0ZSgncHJlVGFnZ2VyJylcbiAgfVxuICBtLmNvbXB1dGUoJ3VuZnJlZXplJylcbiAgLy8gcmVwbGFjZSBhbnkgb2xkIHRhZ3NcbiAgaWYgKGtlZXAudGFncykge1xuICAgIG0udGVybXMoKS5mb3JFYWNoKCh0ZXJtLCBpKSA9PiB7XG4gICAgICB0ZXJtLnRhZ1NhZmUob2xkVGFnc1tpXSlcbiAgICB9KVxuICB9XG5cbiAgaWYgKCFtLmRvY3NbMF0gfHwgIW0uZG9jc1swXVswXSkgcmV0dXJuIG1cblxuICAvLyB0cnkgdG8gY28tZXJjZSBjYXNlLCB0b29cbiAgaWYgKGtlZXAuY2FzZSkge1xuICAgIGxldCB0cmFuc2Zvcm1DYXNlID0gaXNPcmlnaW5hbFRpdGxlQ2FzZSA/IHRvVGl0bGVDYXNlIDogdG9Mb3dlckNhc2VcbiAgICBtLmRvY3NbMF1bMF0udGV4dCA9IHRyYW5zZm9ybUNhc2UobS5kb2NzWzBdWzBdLnRleHQpXG4gIH1cblxuICAvLyBjb25zb2xlLmxvZyhpbnB1dC5kb2NzWzBdKVxuICAvLyBsZXQgcmVncyA9IGlucHV0LmRvY3NbMF0ubWFwKHQgPT4ge1xuICAvLyAgIHJldHVybiB7IGlkOiB0LmlkLCBvcHRpb25hbDogdHJ1ZSB9XG4gIC8vIH0pXG4gIC8vIG0uYWZ0ZXIoJyhhfGhveSknKS5kZWJ1ZygpXG4gIC8vIG0uZ3Jvd1JpZ2h0KCcoYXxob3kpJykuZGVidWcoKVxuICAvLyBjb25zb2xlLmxvZyhtKVxuICByZXR1cm4gbVxufVxuXG5mbnMucmVwbGFjZSA9IGZ1bmN0aW9uIChtYXRjaCwgaW5wdXQsIGtlZXApIHtcbiAgaWYgKG1hdGNoICYmICFpbnB1dCkge1xuICAgIHJldHVybiB0aGlzLnJlcGxhY2VXaXRoKG1hdGNoLCBrZWVwKVxuICB9XG4gIGxldCBtID0gdGhpcy5tYXRjaChtYXRjaClcbiAgaWYgKCFtLmZvdW5kKSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICB0aGlzLnNvZnRlbigpXG4gIHJldHVybiBtLnJlcGxhY2VXaXRoKGlucHV0LCBrZWVwKVxufVxuZXhwb3J0IGRlZmF1bHQgZm5zXG4iLCAiXG4vLyB0cmFuc2ZlciBzZW50ZW5jZS1lbmRpbmcgcHVuY3R1YXRpb25cbmNvbnN0IHJlcGFpclB1bmN0ID0gZnVuY3Rpb24gKHRlcm1zLCBsZW4pIHtcbiAgbGV0IGxhc3QgPSB0ZXJtcy5sZW5ndGggLSAxXG4gIGxldCBmcm9tID0gdGVybXNbbGFzdF1cbiAgbGV0IHRvID0gdGVybXNbbGFzdCAtIGxlbl1cbiAgaWYgKHRvICYmIGZyb20pIHtcbiAgICB0by5wb3N0ICs9IGZyb20ucG9zdCAvL3RoaXMgaXNuJ3QgcGVyZmVjdC5cbiAgICB0by5wb3N0ID0gdG8ucG9zdC5yZXBsYWNlKC8gKyhbLj8hLDs6XSkvLCAnJDEnKVxuICAgIC8vIGRvbid0IGFsbG93IGFueSBzaWxseSBwdW5jdHVhdGlvbiBvdXRjb21lcyBsaWtlICcsISdcbiAgICB0by5wb3N0ID0gdG8ucG9zdC5yZXBsYWNlKC9bLDs6XSsoWy4/IV0pLywgJyQxJylcbiAgfVxufVxuXG4vLyByZW1vdmUgdGVybXMgZnJvbSBkb2N1bWVudCBqc29uXG5jb25zdCBwbHVja091dCA9IGZ1bmN0aW9uIChkb2N1bWVudCwgbm90cykge1xuICBub3RzLmZvckVhY2gocHRyID0+IHtcbiAgICBsZXQgW24sIHN0YXJ0LCBlbmRdID0gcHRyXG4gICAgbGV0IGxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgaWYgKCFkb2N1bWVudFtuXSkge1xuICAgICAgcmV0dXJuIC8vIHdlaXJkIVxuICAgIH1cbiAgICBpZiAoZW5kID09PSBkb2N1bWVudFtuXS5sZW5ndGggJiYgZW5kID4gMSkge1xuICAgICAgcmVwYWlyUHVuY3QoZG9jdW1lbnRbbl0sIGxlbilcbiAgICB9XG4gICAgZG9jdW1lbnRbbl0uc3BsaWNlKHN0YXJ0LCBsZW4pIC8vIHJlcGxhY2VzIGxlbiB0ZXJtcyBhdCBpbmRleCBzdGFydFxuICB9KVxuICAvLyByZW1vdmUgYW55IG5vdy1lbXB0eSBzZW50ZW5jZXNcbiAgLy8gKGZvcmVhY2ggKyBzcGxpY2UgPSAnbXV0YWJsZSBmaWx0ZXInKVxuICBmb3IgKGxldCBpID0gZG9jdW1lbnQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICBpZiAoZG9jdW1lbnRbaV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICBkb2N1bWVudC5zcGxpY2UoaSwgMSlcbiAgICAgIC8vIHJlbW92ZSBhbnkgdHJhaWxpbmcgd2hpdGVzcGFjZSBiZWZvcmUgb3VyIHJlbW92ZWQgc2VudGVuY2VcbiAgICAgIGlmIChpID09PSBkb2N1bWVudC5sZW5ndGggJiYgZG9jdW1lbnRbaSAtIDFdKSB7XG4gICAgICAgIGxldCB0ZXJtcyA9IGRvY3VtZW50W2kgLSAxXVxuICAgICAgICBsZXQgbGFzdFRlcm0gPSB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXVxuICAgICAgICBpZiAobGFzdFRlcm0pIHtcbiAgICAgICAgICBsYXN0VGVybS5wb3N0ID0gbGFzdFRlcm0ucG9zdC50cmltRW5kKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gcmVwYWlyIGFueSBkb3duc3RyZWFtIGluZGV4ZXNcbiAgICAgIC8vIGZvciAobGV0IGsgPSBpOyBrIDwgZG9jdW1lbnQubGVuZ3RoOyBrICs9IDEpIHtcbiAgICAgIC8vICAgZG9jdW1lbnRba10uZm9yRWFjaCh0ZXJtID0+IHRlcm0uaW5kZXhbMF0gLT0gMSlcbiAgICAgIC8vIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWNrT3V0IiwgImltcG9ydCBwbHVja091dFRlcm0gZnJvbSAnLi9saWIvcmVtb3ZlLmpzJ1xuXG5jb25zdCBmaXhQb2ludGVycyA9IGZ1bmN0aW9uIChwdHJzLCBnb25lUHRycykge1xuICBwdHJzID0gcHRycy5tYXAocHRyID0+IHtcbiAgICBsZXQgW25dID0gcHRyXG4gICAgaWYgKCFnb25lUHRyc1tuXSkge1xuICAgICAgcmV0dXJuIHB0clxuICAgIH1cbiAgICBnb25lUHRyc1tuXS5mb3JFYWNoKG5vID0+IHtcbiAgICAgIGxldCBsZW4gPSBub1syXSAtIG5vWzFdXG4gICAgICAvLyBkb2VzIGl0IGVmZmVjdCBvdXIgcG9pbnRlcj9cbiAgICAgIGlmIChwdHJbMV0gPD0gbm9bMV0gJiYgcHRyWzJdID49IG5vWzJdKSB7XG4gICAgICAgIHB0clsyXSAtPSBsZW5cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBwdHJcbiAgfSlcblxuICAvLyBkZWNyZW1lbnQgYW55IHBvaW50ZXJzIGFmdGVyIGEgbm93LWVtcHR5IHBvaW50ZXJcbiAgcHRycy5mb3JFYWNoKChwdHIsIGkpID0+IHtcbiAgICAvLyBpcyB0aGUgcG9pbnRlciBub3cgZW1wdHk/XG4gICAgaWYgKHB0clsxXSA9PT0gMCAmJiBwdHJbMl0gPT0gMCkge1xuICAgICAgLy8gZ28gZG93biBzdWJzZXF1ZW50IHBvaW50ZXJzXG4gICAgICBmb3IgKGxldCBuID0gaSArIDE7IG4gPCBwdHJzLmxlbmd0aDsgbiArPSAxKSB7XG4gICAgICAgIHB0cnNbbl1bMF0gLT0gMVxuICAgICAgICBpZiAocHRyc1tuXVswXSA8IDApIHtcbiAgICAgICAgICBwdHJzW25dWzBdID0gMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KVxuICAvLyByZW1vdmUgYW55IG5vdy1lbXB0eSBwb2ludGVyc1xuICBwdHJzID0gcHRycy5maWx0ZXIocHRyID0+IHB0clsyXSAtIHB0clsxXSA+IDApXG5cbiAgLy8gcmVtb3ZlIG9sZCBoYXJkLXBvaW50ZXJzXG4gIHB0cnMgPSBwdHJzLm1hcCgocHRyKSA9PiB7XG4gICAgcHRyWzNdID0gbnVsbFxuICAgIHB0cls0XSA9IG51bGxcbiAgICByZXR1cm4gcHRyXG4gIH0pXG4gIHJldHVybiBwdHJzXG59XG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiAqL1xuICByZW1vdmU6IGZ1bmN0aW9uIChyZWcpIHtcbiAgICBjb25zdCB7IGluZGV4TiB9ID0gdGhpcy5tZXRob2RzLm9uZS5wb2ludGVyXG4gICAgdGhpcy51bmNhY2hlKClcbiAgICAvLyB0d28gbW9kZXM6XG4gICAgLy8gIC0gYS4gcmVtb3ZlIHNlbGYsIGZyb20gZnVsbCBwYXJlbnRcbiAgICBsZXQgc2VsZiA9IHRoaXMuYWxsKClcbiAgICBsZXQgbm90ID0gdGhpc1xuICAgIC8vICAtIGIuIHJlbW92ZSBhIG1hdGNoLCBmcm9tIHNlbGZcbiAgICBpZiAocmVnKSB7XG4gICAgICBzZWxmID0gdGhpc1xuICAgICAgbm90ID0gdGhpcy5tYXRjaChyZWcpXG4gICAgfVxuICAgIGxldCBpc0Z1bGwgPSAhc2VsZi5wdHJzXG4gICAgLy8gaXMgaXQgcGFydCBvZiBhIGNvbnRyYWN0aW9uP1xuICAgIGlmIChub3QuaGFzKCdAaGFzQ29udHJhY3Rpb24nKSAmJiBub3QuY29udHJhY3Rpb25zKSB7XG4gICAgICBsZXQgbW9yZSA9IG5vdC5ncm93KCdAaGFzQ29udHJhY3Rpb24nKVxuICAgICAgbW9yZS5jb250cmFjdGlvbnMoKS5leHBhbmQoKVxuICAgIH1cblxuICAgIGxldCBwdHJzID0gc2VsZi5mdWxsUG9pbnRlclxuICAgIGxldCBub3RzID0gbm90LmZ1bGxQb2ludGVyLnJldmVyc2UoKVxuICAgIC8vIHJlbW92ZSB0aGVtIGZyb20gdGhlIGFjdHVhbCBkb2N1bWVudClcbiAgICBsZXQgZG9jdW1lbnQgPSBwbHVja091dFRlcm0odGhpcy5kb2N1bWVudCwgbm90cylcbiAgICAvLyByZXBhaXIgb3VyIHBvaW50ZXJzXG4gICAgbGV0IGdvbmVQdHJzID0gaW5kZXhOKG5vdHMpXG4gICAgcHRycyA9IGZpeFBvaW50ZXJzKHB0cnMsIGdvbmVQdHJzKVxuICAgIC8vIGNsZWFuIHVwIG91ciBvcmlnaW5hbCBpbnB1dHNcbiAgICBzZWxmLnB0cnMgPSBwdHJzXG4gICAgc2VsZi5kb2N1bWVudCA9IGRvY3VtZW50XG4gICAgc2VsZi5jb21wdXRlKCdpbmRleCcpXG4gICAgLy8gaWYgd2Ugc3RhcnRlZCB6b29tZWQtb3V0LCB0cnkgdG8gZW5kIHpvb21lZC1vdXRcbiAgICBpZiAoaXNGdWxsKSB7XG4gICAgICBzZWxmLnB0cnMgPSB1bmRlZmluZWRcbiAgICB9XG4gICAgaWYgKCFyZWcpIHtcbiAgICAgIHRoaXMucHRycyA9IFtdXG4gICAgICByZXR1cm4gc2VsZi5ub25lKClcbiAgICB9XG4gICAgbGV0IHJlcyA9IHNlbGYudG9WaWV3KHB0cnMpIC8vcmV0dXJuIG5ldyBkb2N1bWVudFxuICAgIHJldHVybiByZXNcbiAgfSxcbn1cblxuLy8gYWxpYXNlc1xubWV0aG9kcy5kZWxldGUgPSBtZXRob2RzLnJlbW92ZVxuZXhwb3J0IGRlZmF1bHQgbWV0aG9kc1xuIiwgImNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiBhZGQgdGhpcyBwdW5jdHVhdGlvbiBvciB3aGl0ZXNwYWNlIGJlZm9yZSBlYWNoIG1hdGNoOiAqL1xuICBwcmU6IGZ1bmN0aW9uIChzdHIsIGNvbmNhdCkge1xuICAgIGlmIChzdHIgPT09IHVuZGVmaW5lZCAmJiB0aGlzLmZvdW5kKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb2NzWzBdWzBdLnByZVxuICAgIH1cbiAgICB0aGlzLmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgICBsZXQgdGVybSA9IHRlcm1zWzBdXG4gICAgICBpZiAoY29uY2F0ID09PSB0cnVlKSB7XG4gICAgICAgIHRlcm0ucHJlICs9IHN0clxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGVybS5wcmUgPSBzdHJcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiB0aGlzXG4gIH0sXG5cbiAgLyoqIGFkZCB0aGlzIHB1bmN0dWF0aW9uIG9yIHdoaXRlc3BhY2UgYWZ0ZXIgZWFjaCBtYXRjaDogKi9cbiAgcG9zdDogZnVuY3Rpb24gKHN0ciwgY29uY2F0KSB7XG4gICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgbGFzdCA9IHRoaXMuZG9jc1t0aGlzLmRvY3MubGVuZ3RoIC0gMV1cbiAgICAgIHJldHVybiBsYXN0W2xhc3QubGVuZ3RoIC0gMV0ucG9zdFxuICAgIH1cbiAgICB0aGlzLmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgICBsZXQgdGVybSA9IHRlcm1zW3Rlcm1zLmxlbmd0aCAtIDFdXG4gICAgICBpZiAoY29uY2F0ID09PSB0cnVlKSB7XG4gICAgICAgIHRlcm0ucG9zdCArPSBzdHJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRlcm0ucG9zdCA9IHN0clxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHRoaXNcbiAgfSxcblxuICAvKiogcmVtb3ZlIHdoaXRlc3BhY2UgZnJvbSBzdGFydC9lbmQgKi9cbiAgdHJpbTogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5mb3VuZCkge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgbGV0IGRvY3MgPSB0aGlzLmRvY3NcbiAgICBsZXQgc3RhcnQgPSBkb2NzWzBdWzBdXG4gICAgc3RhcnQucHJlID0gc3RhcnQucHJlLnRyaW1TdGFydCgpXG4gICAgbGV0IGxhc3QgPSBkb2NzW2RvY3MubGVuZ3RoIC0gMV1cbiAgICBsZXQgZW5kID0gbGFzdFtsYXN0Lmxlbmd0aCAtIDFdXG4gICAgZW5kLnBvc3QgPSBlbmQucG9zdC50cmltRW5kKClcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiBjb25uZWN0IHdvcmRzIHdpdGggaHlwaGVuLCBhbmQgcmVtb3ZlIHdoaXRlc3BhY2UgKi9cbiAgaHlwaGVuYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kb2NzLmZvckVhY2godGVybXMgPT4ge1xuICAgICAgLy9yZW1vdmUgd2hpdGVzcGFjZVxuICAgICAgdGVybXMuZm9yRWFjaCgodCwgaSkgPT4ge1xuICAgICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICAgIHQucHJlID0gJydcbiAgICAgICAgfVxuICAgICAgICBpZiAodGVybXNbaSArIDFdKSB7XG4gICAgICAgICAgdC5wb3N0ID0gJy0nXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiByZW1vdmUgaHlwaGVucyBiZXR3ZWVuIHdvcmRzLCBhbmQgc2V0IHdoaXRlc3BhY2UgKi9cbiAgZGVoeXBoZW5hdGU6IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBoYXNIeXBoZW4gPSAvWy1cdTIwMTNcdTIwMTRdL1xuICAgIHRoaXMuZG9jcy5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICAgIC8vcmVtb3ZlIHdoaXRlc3BhY2VcbiAgICAgIHRlcm1zLmZvckVhY2godCA9PiB7XG4gICAgICAgIGlmIChoYXNIeXBoZW4udGVzdCh0LnBvc3QpKSB7XG4gICAgICAgICAgdC5wb3N0ID0gJyAnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiBhZGQgcXVvdGF0aW9ucyBhcm91bmQgdGhlc2UgbWF0Y2hlcyAqL1xuICB0b1F1b3RhdGlvbnM6IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgc3RhcnQgPSBzdGFydCB8fCBgXCJgXG4gICAgZW5kID0gZW5kIHx8IGBcImBcbiAgICB0aGlzLmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgICB0ZXJtc1swXS5wcmUgPSBzdGFydCArIHRlcm1zWzBdLnByZVxuICAgICAgbGV0IGxhc3QgPSB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXVxuICAgICAgbGFzdC5wb3N0ID0gZW5kICsgbGFzdC5wb3N0XG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiBhZGQgYnJhY2tldHMgYXJvdW5kIHRoZXNlIG1hdGNoZXMgKi9cbiAgdG9QYXJlbnRoZXNlczogZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICBzdGFydCA9IHN0YXJ0IHx8IGAoYFxuICAgIGVuZCA9IGVuZCB8fCBgKWBcbiAgICB0aGlzLmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgICB0ZXJtc1swXS5wcmUgPSBzdGFydCArIHRlcm1zWzBdLnByZVxuICAgICAgbGV0IGxhc3QgPSB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXVxuICAgICAgbGFzdC5wb3N0ID0gZW5kICsgbGFzdC5wb3N0XG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxufVxuXG4vLyBhbGlhc2VzXG5tZXRob2RzLmRlSHlwaGVuYXRlID0gbWV0aG9kcy5kZWh5cGhlbmF0ZVxubWV0aG9kcy50b1F1b3RhdGlvbiA9IG1ldGhvZHMudG9RdW90YXRpb25zXG5cbmV4cG9ydCBkZWZhdWx0IG1ldGhvZHNcbiIsICIvKiogYWxwaGFiZXRpY2FsIG9yZGVyICovXG5jb25zdCBhbHBoYSA9IChhLCBiKSA9PiB7XG4gIGlmIChhLm5vcm1hbCA8IGIubm9ybWFsKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKGEubm9ybWFsID4gYi5ub3JtYWwpIHtcbiAgICByZXR1cm4gMVxuICB9XG4gIHJldHVybiAwXG59XG5cbi8qKiBjb3VudCB0aGUgIyBvZiBjaGFyYWN0ZXJzIG9mIGVhY2ggbWF0Y2ggKi9cbmNvbnN0IGxlbmd0aCA9IChhLCBiKSA9PiB7XG4gIGxldCBsZWZ0ID0gYS5ub3JtYWwudHJpbSgpLmxlbmd0aFxuICBsZXQgcmlnaHQgPSBiLm5vcm1hbC50cmltKCkubGVuZ3RoXG4gIGlmIChsZWZ0IDwgcmlnaHQpIHtcbiAgICByZXR1cm4gMVxuICB9XG4gIGlmIChsZWZ0ID4gcmlnaHQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICByZXR1cm4gMFxufVxuXG4vKiogY291bnQgdGhlICMgb2YgdGVybXMgaW4gZWFjaCBtYXRjaCAqL1xuY29uc3Qgd29yZENvdW50ID0gKGEsIGIpID0+IHtcbiAgaWYgKGEud29yZHMgPCBiLndvcmRzKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuICBpZiAoYS53b3JkcyA+IGIud29yZHMpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICByZXR1cm4gMFxufVxuXG4vKiogY291bnQgdGhlICMgb2YgdGVybXMgaW4gZWFjaCBtYXRjaCAqL1xuY29uc3Qgc2VxdWVudGlhbCA9IChhLCBiKSA9PiB7XG4gIGlmIChhWzBdIDwgYlswXSkge1xuICAgIHJldHVybiAxXG4gIH1cbiAgaWYgKGFbMF0gPiBiWzBdKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgcmV0dXJuIGFbMV0gPiBiWzFdID8gMSA6IC0xXG59XG5cbi8qKiBzb3J0IGJ5ICMgb2YgZHVwbGljYXRlcyBpbiB0aGUgZG9jdW1lbnQqL1xuY29uc3QgYnlGcmVxID0gZnVuY3Rpb24gKGFycikge1xuICBsZXQgY291bnRzID0ge31cbiAgYXJyLmZvckVhY2gobyA9PiB7XG4gICAgY291bnRzW28ubm9ybWFsXSA9IGNvdW50c1tvLm5vcm1hbF0gfHwgMFxuICAgIGNvdW50c1tvLm5vcm1hbF0gKz0gMVxuICB9KVxuICAvLyBzb3J0IGJ5IGZyZXFcbiAgYXJyLnNvcnQoKGEsIGIpID0+IHtcbiAgICBsZXQgbGVmdCA9IGNvdW50c1thLm5vcm1hbF1cbiAgICBsZXQgcmlnaHQgPSBjb3VudHNbYi5ub3JtYWxdXG4gICAgaWYgKGxlZnQgPCByaWdodCkge1xuICAgICAgcmV0dXJuIDFcbiAgICB9XG4gICAgaWYgKGxlZnQgPiByaWdodCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH0pXG4gIHJldHVybiBhcnJcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBhbHBoYSwgbGVuZ3RoLCB3b3JkQ291bnQsIHNlcXVlbnRpYWwsIGJ5RnJlcSB9XG4iLCAiaW1wb3J0IG1ldGhvZHMgZnJvbSAnLi9saWIvX3NvcnQuanMnXG4vLyBhbGlhc2VzXG5jb25zdCBzZXFOYW1lcyA9IG5ldyBTZXQoWydpbmRleCcsICdzZXF1ZW5jZScsICdzZXEnLCAnc2VxdWVudGlhbCcsICdjaHJvbicsICdjaHJvbm9sb2dpY2FsJ10pXG5jb25zdCBmcmVxTmFtZXMgPSBuZXcgU2V0KFsnZnJlcScsICdmcmVxdWVuY3knLCAndG9waycsICdyZXBlYXRzJ10pXG5jb25zdCBhbHBoYU5hbWVzID0gbmV3IFNldChbJ2FscGhhJywgJ2FscGhhYmV0aWNhbCddKVxuXG4vLyBzdXBwb3J0IGZ1bmN0aW9uIGFzIHBhcmFtZXRlclxuY29uc3QgY3VzdG9tU29ydCA9IGZ1bmN0aW9uICh2aWV3LCBmbikge1xuICBsZXQgcHRycyA9IHZpZXcuZnVsbFBvaW50ZXJcbiAgcHRycyA9IHB0cnMuc29ydCgoYSwgYikgPT4ge1xuICAgIGEgPSB2aWV3LnVwZGF0ZShbYV0pXG4gICAgYiA9IHZpZXcudXBkYXRlKFtiXSlcbiAgICByZXR1cm4gZm4oYSwgYilcbiAgfSlcbiAgdmlldy5wdHJzID0gcHRycyAvL211dGF0ZSBvcmlnaW5hbFxuICByZXR1cm4gdmlld1xufVxuXG4vKiogcmUtYXJyYW5nZSB0aGUgb3JkZXIgb2YgdGhlIG1hdGNoZXMgKGluIHBsYWNlKSAqL1xuY29uc3Qgc29ydCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICBsZXQgeyBkb2NzLCBwb2ludGVyIH0gPSB0aGlzXG4gIHRoaXMudW5jYWNoZSgpXG4gIGlmICh0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gY3VzdG9tU29ydCh0aGlzLCBpbnB1dClcbiAgfVxuICBpbnB1dCA9IGlucHV0IHx8ICdhbHBoYSdcbiAgbGV0IHB0cnMgPSBwb2ludGVyIHx8IGRvY3MubWFwKChfZCwgbikgPT4gW25dKVxuICBsZXQgYXJyID0gZG9jcy5tYXAoKHRlcm1zLCBuKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiBuLFxuICAgICAgd29yZHM6IHRlcm1zLmxlbmd0aCxcbiAgICAgIG5vcm1hbDogdGVybXMubWFwKHQgPT4gdC5tYWNoaW5lIHx8IHQubm9ybWFsIHx8ICcnKS5qb2luKCcgJyksXG4gICAgICBwb2ludGVyOiBwdHJzW25dLFxuICAgIH1cbiAgfSlcbiAgLy8gJ2Nocm9ub2xvZ2ljYWwnIHNvcnRpbmdcbiAgaWYgKHNlcU5hbWVzLmhhcyhpbnB1dCkpIHtcbiAgICBpbnB1dCA9ICdzZXF1ZW50aWFsJ1xuICB9XG4gIC8vIGFscGhhYmV0aWNhbCBzb3J0aW5nXG4gIGlmIChhbHBoYU5hbWVzLmhhcyhpbnB1dCkpIHtcbiAgICBpbnB1dCA9ICdhbHBoYSdcbiAgfVxuICAvLyBzb3J0IGJ5IGZyZXF1ZW5jeVxuICBpZiAoZnJlcU5hbWVzLmhhcyhpbnB1dCkpIHtcbiAgICBhcnIgPSBtZXRob2RzLmJ5RnJlcShhcnIpXG4gICAgcmV0dXJuIHRoaXMudXBkYXRlKGFyci5tYXAobyA9PiBvLnBvaW50ZXIpKVxuICB9XG4gIC8vIGFwcGx5IHNvcnQgbWV0aG9kIG9uIGVhY2ggcGhyYXNlXG4gIGlmICh0eXBlb2YgbWV0aG9kc1tpbnB1dF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICBhcnIgPSBhcnIuc29ydChtZXRob2RzW2lucHV0XSlcbiAgICByZXR1cm4gdGhpcy51cGRhdGUoYXJyLm1hcChvID0+IG8ucG9pbnRlcikpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuLyoqIHJldmVyc2UgdGhlIG9yZGVyIG9mIHRoZSBtYXRjaGVzLCBidXQgbm90IHRoZSB3b3JkcyBvciBpbmRleCAqL1xuY29uc3QgcmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHB0cnMgPSB0aGlzLnBvaW50ZXIgfHwgdGhpcy5kb2NzLm1hcCgoX2QsIG4pID0+IFtuXSlcbiAgcHRycyA9IFtdLmNvbmNhdChwdHJzKVxuICBwdHJzID0gcHRycy5yZXZlcnNlKClcbiAgaWYgKHRoaXMuX2NhY2hlKSB7XG4gICAgdGhpcy5fY2FjaGUgPSB0aGlzLl9jYWNoZS5yZXZlcnNlKClcbiAgfVxuICByZXR1cm4gdGhpcy51cGRhdGUocHRycylcbn1cblxuLyoqIHJlbW92ZSBhbnkgZHVwbGljYXRlIG1hdGNoZXMgKi9cbmNvbnN0IHVuaXF1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGFscmVhZHkgPSBuZXcgU2V0KClcbiAgbGV0IHJlcyA9IHRoaXMuZmlsdGVyKG0gPT4ge1xuICAgIGxldCB0eHQgPSBtLnRleHQoJ21hY2hpbmUnKVxuICAgIGlmIChhbHJlYWR5Lmhhcyh0eHQpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgYWxyZWFkeS5hZGQodHh0KVxuICAgIHJldHVybiB0cnVlXG4gIH0pXG4gIC8vIHRoaXMucHRycyA9IHJlcy5wdHJzIC8vbXV0YXRlIG9yaWdpbmFsP1xuICByZXR1cm4gcmVzLy8uY29tcHV0ZSgnaW5kZXgnKVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IHVuaXF1ZSwgcmV2ZXJzZSwgc29ydCB9XG4iLCAiY29uc3QgaXNBcnJheSA9IChhcnIpID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nXG5cbi8vIGFwcGVuZCBhIG5ldyBkb2N1bWVudCwgc29tZWhvd1xuY29uc3QgY29tYmluZURvY3MgPSBmdW5jdGlvbiAoaG9tZURvY3MsIGlucHV0RG9jcykge1xuICBpZiAoaG9tZURvY3MubGVuZ3RoID4gMCkge1xuICAgIC8vIGFkZCBhIHNwYWNlXG4gICAgbGV0IGVuZCA9IGhvbWVEb2NzW2hvbWVEb2NzLmxlbmd0aCAtIDFdXG4gICAgbGV0IGxhc3QgPSBlbmRbZW5kLmxlbmd0aCAtIDFdXG4gICAgaWYgKC8gLy50ZXN0KGxhc3QucG9zdCkgPT09IGZhbHNlKSB7XG4gICAgICBsYXN0LnBvc3QgKz0gJyAnXG4gICAgfVxuICB9XG4gIGhvbWVEb2NzID0gaG9tZURvY3MuY29uY2F0KGlucHV0RG9jcylcbiAgcmV0dXJuIGhvbWVEb2NzXG59XG5cbmNvbnN0IGNvbWJpbmVWaWV3cyA9IGZ1bmN0aW9uIChob21lLCBpbnB1dCkge1xuICAvLyBpcyBpdCBhIHZpZXcgZnJvbSB0aGUgc2FtZSBkb2N1bWVudD9cbiAgaWYgKGhvbWUuZG9jdW1lbnQgPT09IGlucHV0LmRvY3VtZW50KSB7XG4gICAgbGV0IHB0cnMgPSBob21lLmZ1bGxQb2ludGVyLmNvbmNhdChpbnB1dC5mdWxsUG9pbnRlcilcbiAgICByZXR1cm4gaG9tZS50b1ZpZXcocHRycykuY29tcHV0ZSgnaW5kZXgnKVxuICB9XG4gIC8vIHVwZGF0ZSBuIG9mIG5ldyBwb2ludGVyLCB0byBlbmQgb2Ygb3VyIHBvaW50ZXJcbiAgbGV0IHB0cnMgPSBpbnB1dC5mdWxsUG9pbnRlclxuICBwdHJzLmZvckVhY2goYSA9PiB7XG4gICAgYVswXSArPSBob21lLmRvY3VtZW50Lmxlbmd0aFxuICB9KVxuICBob21lLmRvY3VtZW50ID0gY29tYmluZURvY3MoaG9tZS5kb2N1bWVudCwgaW5wdXQuZG9jcylcbiAgcmV0dXJuIGhvbWUuYWxsKClcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAvLyBhZGQgc3RyaW5nIGFzIG5ldyBtYXRjaC9zZW50ZW5jZVxuICBjb25jYXQ6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIC8vIHBhcnNlIGFuZCBzcGxpY2UtaW4gbmV3IHRlcm1zXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxldCBtb3JlID0gdGhpcy5mcm9tVGV4dChpbnB1dClcbiAgICAgIC8vIGVhc3kgY29uY2F0XG4gICAgICBpZiAoIXRoaXMuZm91bmQgfHwgIXRoaXMucHRycykge1xuICAgICAgICB0aGlzLmRvY3VtZW50ID0gdGhpcy5kb2N1bWVudC5jb25jYXQobW9yZS5kb2N1bWVudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZSBpbiB0aGUgbWlkZGxlLCB0aGlzIGlzIGFjdHVhbGx5IGEgc3BsaWNlIG9wZXJhdGlvblxuICAgICAgICBsZXQgcHRycyA9IHRoaXMuZnVsbFBvaW50ZXJcbiAgICAgICAgbGV0IGF0ID0gcHRyc1twdHJzLmxlbmd0aCAtIDFdWzBdXG4gICAgICAgIHRoaXMuZG9jdW1lbnQuc3BsaWNlKGF0LCAwLCAuLi5tb3JlLmRvY3VtZW50KVxuICAgICAgfVxuICAgICAgLy8gcHV0IHRoZSBkb2NzXG4gICAgICByZXR1cm4gdGhpcy5hbGwoKS5jb21wdXRlKCdpbmRleCcpXG4gICAgfVxuICAgIC8vIHBsb3Agc29tZSB2aWV3IG9iamVjdHMgdG9nZXRoZXJcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJiBpbnB1dC5pc1ZpZXcpIHtcbiAgICAgIHJldHVybiBjb21iaW5lVmlld3ModGhpcywgaW5wdXQpXG4gICAgfVxuICAgIC8vIGFzc3VtZSBpdCdzIGFuIGFycmF5IG9mIHRlcm1zXG4gICAgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICBsZXQgZG9jcyA9IGNvbWJpbmVEb2NzKHRoaXMuZG9jdW1lbnQsIGlucHV0KVxuICAgICAgdGhpcy5kb2N1bWVudCA9IGRvY3NcbiAgICAgIHJldHVybiB0aGlzLmFsbCgpXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH0sXG59IiwgIi8vIGFkZCBpbmRleGVzIHRvIHBvaW50ZXJzXG5jb25zdCBoYXJkZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucHRycyA9IHRoaXMuZnVsbFBvaW50ZXJcbiAgcmV0dXJuIHRoaXNcbn1cbi8vIHJlbW92ZSBpbmRleGVzIGZyb20gcG9pbnRlcnNcbmNvbnN0IHNvZnRlbiA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHB0ciA9IHRoaXMucHRyc1xuICBpZiAoIXB0ciB8fCBwdHIubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgcHRyID0gcHRyLm1hcChhID0+IGEuc2xpY2UoMCwgMykpXG4gIHRoaXMucHRycyA9IHB0clxuICByZXR1cm4gdGhpc1xufVxuZXhwb3J0IGRlZmF1bHQgeyBoYXJkZW4sIHNvZnRlbiB9IiwgImltcG9ydCBjYXNlRm5zIGZyb20gJy4vY2FzZS5qcydcbmltcG9ydCBpbnNlcnQgZnJvbSAnLi9pbnNlcnQuanMnXG5pbXBvcnQgcmVwbGFjZSBmcm9tICcuL3JlcGxhY2UuanMnXG5pbXBvcnQgcmVtb3ZlIGZyb20gJy4vcmVtb3ZlLmpzJ1xuaW1wb3J0IHdoaXRlc3BhY2UgZnJvbSAnLi93aGl0ZXNwYWNlLmpzJ1xuaW1wb3J0IHNvcnQgZnJvbSAnLi9zb3J0LmpzJ1xuaW1wb3J0IGNvbmNhdCBmcm9tICcuL2NvbmNhdC5qcydcbmltcG9ydCBoYXJkZW4gZnJvbSAnLi9oYXJkZW4uanMnXG5cbmNvbnN0IG1ldGhvZHMgPSBPYmplY3QuYXNzaWduKHt9LCBjYXNlRm5zLCBpbnNlcnQsIHJlcGxhY2UsIHJlbW92ZSwgd2hpdGVzcGFjZSwgc29ydCwgY29uY2F0LCBoYXJkZW4pXG5cbmNvbnN0IGFkZEFQSSA9IGZ1bmN0aW9uIChWaWV3KSB7XG4gIE9iamVjdC5hc3NpZ24oVmlldy5wcm90b3R5cGUsIG1ldGhvZHMpXG59XG5leHBvcnQgZGVmYXVsdCBhZGRBUElcbiIsICJpbXBvcnQgdXVpZCBmcm9tICcuL3V1aWQuanMnXG5cbmNvbnN0IGNvbXB1dGUgPSB7XG4gIGlkOiBmdW5jdGlvbiAodmlldykge1xuICAgIGxldCBkb2NzID0gdmlldy5kb2NzXG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCBkb2NzLmxlbmd0aDsgbiArPSAxKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3Nbbl0ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgbGV0IHRlcm0gPSBkb2NzW25dW2ldXG4gICAgICAgIHRlcm0uaWQgPSB0ZXJtLmlkIHx8IHV1aWQodGVybSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29tcHV0ZSIsICJpbXBvcnQgYXBpIGZyb20gJy4vYXBpL2luZGV4LmpzJ1xuaW1wb3J0IGNvbXB1dGUgZnJvbSAnLi9jb21wdXRlL2luZGV4LmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFwaSxcbiAgY29tcHV0ZSxcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBbXG4gIC8vIHNpbXBsZSBtYXBwaW5nc1xuICB7IHdvcmQ6ICdAJywgb3V0OiBbJ2F0J10gfSxcbiAgeyB3b3JkOiAnYXJlbnQnLCBvdXQ6IFsnYXJlJywgJ25vdCddIH0sXG4gIHsgd29yZDogJ2Fsb3QnLCBvdXQ6IFsnYScsICdsb3QnXSB9LFxuICB7IHdvcmQ6ICdicmInLCBvdXQ6IFsnYmUnLCAncmlnaHQnLCAnYmFjayddIH0sXG4gIHsgd29yZDogJ2Nhbm5vdCcsIG91dDogWydjYW4nLCAnbm90J10gfSxcbiAgeyB3b3JkOiAnZHVuJywgb3V0OiBbJ2RvJywgJ25vdCddIH0sXG4gIHsgd29yZDogXCJjYW4ndFwiLCBvdXQ6IFsnY2FuJywgJ25vdCddIH0sXG4gIHsgd29yZDogXCJzaGFuJ3RcIiwgb3V0OiBbJ3Nob3VsZCcsICdub3QnXSB9LFxuICB7IHdvcmQ6IFwid29uJ3RcIiwgb3V0OiBbJ3dpbGwnLCAnbm90J10gfSxcbiAgeyB3b3JkOiBcInRoYXQnc1wiLCBvdXQ6IFsndGhhdCcsICdpcyddIH0sXG4gIHsgd29yZDogXCJ3aGF0J3NcIiwgb3V0OiBbJ3doYXQnLCAnaXMnXSB9LFxuICB7IHdvcmQ6IFwibGV0J3NcIiwgb3V0OiBbJ2xldCcsICd1cyddIH0sXG4gIC8vIHsgd29yZDogXCJ0aGVyZSdzXCIsIG91dDogWyd0aGVyZScsICdpcyddIH0sXG4gIHsgd29yZDogJ2R1bm5vJywgb3V0OiBbJ2RvJywgJ25vdCcsICdrbm93J10gfSxcbiAgeyB3b3JkOiAnZ29ubmEnLCBvdXQ6IFsnZ29pbmcnLCAndG8nXSB9LFxuICB7IHdvcmQ6ICdnb3R0YScsIG91dDogWydoYXZlJywgJ2dvdCcsICd0byddIH0sIC8vaG1tXG4gIHsgd29yZDogJ2dpbW1lJywgb3V0OiBbJ2dpdmUnLCAnbWUnXSB9LFxuICB7IHdvcmQ6ICdvdXR0YScsIG91dDogWydvdXQnLCAnb2YnXSB9LFxuICB7IHdvcmQ6ICd0cnluYScsIG91dDogWyd0cnlpbmcnLCAndG8nXSB9LFxuICB7IHdvcmQ6ICdndGcnLCBvdXQ6IFsnZ290JywgJ3RvJywgJ2dvJ10gfSxcbiAgeyB3b3JkOiAnaW0nLCBvdXQ6IFsnaScsICdhbSddIH0sXG4gIHsgd29yZDogJ2ltbWEnLCBvdXQ6IFsnSScsICd3aWxsJ10gfSxcbiAgeyB3b3JkOiAnaW1vJywgb3V0OiBbJ2luJywgJ215JywgJ29waW5pb24nXSB9LFxuICB7IHdvcmQ6ICdpcmwnLCBvdXQ6IFsnaW4nLCAncmVhbCcsICdsaWZlJ10gfSxcbiAgeyB3b3JkOiAnaXZlJywgb3V0OiBbJ2knLCAnaGF2ZSddIH0sXG4gIHsgd29yZDogJ3JuJywgb3V0OiBbJ3JpZ2h0JywgJ25vdyddIH0sXG4gIHsgd29yZDogJ3RiaCcsIG91dDogWyd0bycsICdiZScsICdob25lc3QnXSB9LFxuICB7IHdvcmQ6ICd3YW5uYScsIG91dDogWyd3YW50JywgJ3RvJ10gfSxcbiAgeyB3b3JkOiBgYydtZXJlYCwgb3V0OiBbJ2NvbWUnLCAnaGVyZSddIH0sXG4gIHsgd29yZDogYGMnbW9uYCwgb3V0OiBbJ2NvbWUnLCAnb24nXSB9LFxuICAvLyBzaG91bGRhLCBjb3VsZGFcbiAgeyB3b3JkOiAnc2hvdWxkYScsIG91dDogWydzaG91bGQnLCAnaGF2ZSddIH0sXG4gIHsgd29yZDogJ2NvdWxkYScsIG91dDogWydjb3VsZGEnLCAnaGF2ZSddIH0sXG4gIHsgd29yZDogJ3dvdWxkYScsIG91dDogWyd3b3VsZGEnLCAnaGF2ZSddIH0sXG4gIHsgd29yZDogJ211c3RhJywgb3V0OiBbJ211c3QnLCAnaGF2ZSddIH0sXG5cbiAgeyB3b3JkOiBcInRpc1wiLCBvdXQ6IFsnaXQnLCAnaXMnXSB9LFxuICB7IHdvcmQ6IFwidHdhc1wiLCBvdXQ6IFsnaXQnLCAnd2FzJ10gfSxcbiAgeyB3b3JkOiBgeSdrbm93YCwgb3V0OiBbJ3lvdScsICdrbm93J10gfSxcbiAgeyB3b3JkOiBcIm5lJ2VyXCIsIG91dDogWyduZXZlciddIH0sXG4gIHsgd29yZDogXCJvJ2VyXCIsIG91dDogWydvdmVyJ10gfSxcbiAgLy8gY29udHJhY3Rpb24tcGFydCBtYXBwaW5nc1xuICB7IGFmdGVyOiAnbGwnLCBvdXQ6IFsnd2lsbCddIH0sXG4gIHsgYWZ0ZXI6ICd2ZScsIG91dDogWydoYXZlJ10gfSxcbiAgeyBhZnRlcjogJ3JlJywgb3V0OiBbJ2FyZSddIH0sXG4gIHsgYWZ0ZXI6ICdtJywgb3V0OiBbJ2FtJ10gfSxcbiAgLy8gZnJlbmNoIGNvbnRyYWN0aW9uc1xuICB7IGJlZm9yZTogJ2MnLCBvdXQ6IFsnY2UnXSB9LFxuICB7IGJlZm9yZTogJ20nLCBvdXQ6IFsnbWUnXSB9LFxuICB7IGJlZm9yZTogJ24nLCBvdXQ6IFsnbmUnXSB9LFxuICB7IGJlZm9yZTogJ3F1Jywgb3V0OiBbJ3F1ZSddIH0sXG4gIHsgYmVmb3JlOiAncycsIG91dDogWydzZSddIH0sXG4gIHsgYmVmb3JlOiAndCcsIG91dDogWyd0dSddIH0sIC8vIHQnYWltZVxuXG4gIC8vIG1pc3NpbmcgYXBvc3Ryb3BoZXNcbiAgeyB3b3JkOiAnc2hvdWxkbnQnLCBvdXQ6IFsnc2hvdWxkJywgJ25vdCddIH0sXG4gIHsgd29yZDogJ2NvdWxkbnQnLCBvdXQ6IFsnY291bGQnLCAnbm90J10gfSxcbiAgeyB3b3JkOiAnd291bGRudCcsIG91dDogWyd3b3VsZCcsICdub3QnXSB9LFxuICB7IHdvcmQ6ICdoYXNudCcsIG91dDogWydoYXMnLCAnbm90J10gfSxcbiAgeyB3b3JkOiAnd2FzbnQnLCBvdXQ6IFsnd2FzJywgJ25vdCddIH0sXG4gIHsgd29yZDogJ2lzbnQnLCBvdXQ6IFsnaXMnLCAnbm90J10gfSxcbiAgeyB3b3JkOiAnY2FudCcsIG91dDogWydjYW4nLCAnbm90J10gfSxcbiAgeyB3b3JkOiAnZG9udCcsIG91dDogWydkbycsICdub3QnXSB9LFxuICB7IHdvcmQ6ICd3b250Jywgb3V0OiBbJ3dpbGwnLCAnbm90J10gfSxcbiAgLy8gYXBvc3Ryb3BoZSBkXG4gIHsgd29yZDogJ2hvd2QnLCBvdXQ6IFsnaG93JywgJ2RpZCddIH0sXG4gIHsgd29yZDogJ3doYXRkJywgb3V0OiBbJ3doYXQnLCAnZGlkJ10gfSxcbiAgeyB3b3JkOiAnd2hlbmQnLCBvdXQ6IFsnd2hlbicsICdkaWQnXSB9LFxuICB7IHdvcmQ6ICd3aGVyZWQnLCBvdXQ6IFsnd2hlcmUnLCAnZGlkJ10gfSxcbl1cbiIsICIvLyBudW1iZXIgc3VmZml4ZXMgdGhhdCBhcmUgbm90IHVuaXRzXG5jb25zdCB0ID0gdHJ1ZVxuZXhwb3J0IGRlZmF1bHQge1xuICAnc3QnOiB0LFxuICAnbmQnOiB0LFxuICAncmQnOiB0LFxuICAndGgnOiB0LFxuICAnYW0nOiB0LFxuICAncG0nOiB0LFxuICAnbWF4JzogdCxcbiAgJ1x1MDBCMCc6IHQsXG4gICdzJzogdCwgLy8gMTk5MHNcbiAgJ2UnOiB0LCAvLyAxOGUgLSBmcmVuY2gvc3BhbmlzaCBvcmRpbmFsXG4gICdlcic6IHQsIC8vZnJlbmNoIDFlclxuICAnXHUwMEU4cmUnOiB0LCAvLycnXG4gICdcdTAwRThtZSc6IHQsIC8vZnJlbmNoIDJcdTAwRThtZVxufSIsICJpbXBvcnQgY29udHJhY3Rpb25zIGZyb20gJy4vY29udHJhY3Rpb25zLmpzJ1xuaW1wb3J0IG51bWJlclN1ZmZpeGVzIGZyb20gJy4vbnVtYmVyLXN1ZmZpeC5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBvbmU6IHtcbiAgICBjb250cmFjdGlvbnMsXG4gICAgbnVtYmVyU3VmZml4ZXNcbiAgfVxufVxuIiwgIi8vIHB1dCBuIG5ldyB3b3JkcyB3aGVyZSAxIHdvcmQgd2FzXG5jb25zdCBpbnNlcnRDb250cmFjdGlvbiA9IGZ1bmN0aW9uIChkb2N1bWVudCwgcG9pbnQsIHdvcmRzKSB7XG4gIGxldCBbbiwgd10gPSBwb2ludFxuICBpZiAoIXdvcmRzIHx8IHdvcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVyblxuICB9XG4gIHdvcmRzID0gd29yZHMubWFwKCh3b3JkLCBpKSA9PiB7XG4gICAgd29yZC5pbXBsaWNpdCA9IHdvcmQudGV4dFxuICAgIHdvcmQubWFjaGluZSA9IHdvcmQudGV4dFxuICAgIHdvcmQucHJlID0gJydcbiAgICB3b3JkLnBvc3QgPSAnJ1xuICAgIHdvcmQudGV4dCA9ICcnXG4gICAgd29yZC5ub3JtYWwgPSAnJ1xuICAgIHdvcmQuaW5kZXggPSBbbiwgdyArIGldXG4gICAgcmV0dXJuIHdvcmRcbiAgfSlcbiAgaWYgKHdvcmRzWzBdKSB7XG4gICAgLy8gbW92ZSB3aGl0ZXNwYWNlIG92ZXJcbiAgICB3b3Jkc1swXS5wcmUgPSBkb2N1bWVudFtuXVt3XS5wcmVcbiAgICB3b3Jkc1t3b3Jkcy5sZW5ndGggLSAxXS5wb3N0ID0gZG9jdW1lbnRbbl1bd10ucG9zdFxuICAgIC8vIGFkZCB0aGUgdGV4dC9ub3JtYWwgdG8gdGhlIGZpcnN0IHRlcm1cbiAgICB3b3Jkc1swXS50ZXh0ID0gZG9jdW1lbnRbbl1bd10udGV4dFxuICAgIHdvcmRzWzBdLm5vcm1hbCA9IGRvY3VtZW50W25dW3ddLm5vcm1hbCAvLyBtb3ZlIHRhZ3MgdG9vP1xuICB9XG4gIC8vIGRvIHRoZSBzcGxpY2VcbiAgZG9jdW1lbnRbbl0uc3BsaWNlKHcsIDEsIC4uLndvcmRzKVxufVxuZXhwb3J0IGRlZmF1bHQgaW5zZXJ0Q29udHJhY3Rpb25cbiIsICJjb25zdCBoYXNDb250cmFjdGlvbiA9IC8nL1xuLy9sb29rIGZvciBhIHBhc3QtdGVuc2UgdmVyYlxuLy8gY29uc3QgaGFzUGFzdFRlbnNlID0gKHRlcm1zLCBpKSA9PiB7XG4vLyAgIGxldCBhZnRlciA9IHRlcm1zLnNsaWNlKGkgKyAxLCBpICsgMylcbi8vICAgcmV0dXJuIGFmdGVyLnNvbWUodCA9PiB0LnRhZ3MuaGFzKCdQYXN0VGVuc2UnKSlcbi8vIH1cbi8vIGhlJ2Qgd2Fsa2VkIC0+IGhhZFxuLy8gaG93J2QgLT4gZGlkXG4vLyBoZSdkIGdvIC0+IHdvdWxkXG5cbmNvbnN0IGFsd2F5c0RpZCA9IG5ldyBTZXQoW1xuICAnd2hhdCcsXG4gICdob3cnLFxuICAnd2hlbicsXG4gICd3aGVyZScsXG4gICd3aHknLFxuXSlcblxuLy8gYWZ0ZXItd29yZHNcbmNvbnN0IHVzZVdvdWxkID0gbmV3IFNldChbXG4gICdiZScsXG4gICdnbycsXG4gICdzdGFydCcsXG4gICd0aGluaycsXG4gICduZWVkJyxcbl0pXG5cbmNvbnN0IHVzZUhhZCA9IG5ldyBTZXQoW1xuICAnYmVlbicsXG4gICdnb25lJ1xuXSlcbi8vIHRoZXknZCBnb25lXG4vLyB0aGV5J2QgZ29cblxuXG4vLyBoZSdkIGJlZW5cbi8vICAgIGhlIGhhZCBiZWVuXG4vLyAgICBoZSB3b3VsZCBiZWVuXG5cbmNvbnN0IF9hcG9zdHJvcGhlRCA9IGZ1bmN0aW9uICh0ZXJtcywgaSkge1xuICBsZXQgYmVmb3JlID0gdGVybXNbaV0ubm9ybWFsLnNwbGl0KGhhc0NvbnRyYWN0aW9uKVswXVxuXG4gIC8vIHdoYXQnZCwgaG93J2RcbiAgaWYgKGFsd2F5c0RpZC5oYXMoYmVmb3JlKSkge1xuICAgIHJldHVybiBbYmVmb3JlLCAnZGlkJ11cbiAgfVxuICBpZiAodGVybXNbaSArIDFdKSB7XG4gICAgLy8gdGhleSdkIGdvbmVcbiAgICBpZiAodXNlSGFkLmhhcyh0ZXJtc1tpICsgMV0ubm9ybWFsKSkge1xuICAgICAgcmV0dXJuIFtiZWZvcmUsICdoYWQnXVxuICAgIH1cbiAgICAvLyB0aGV5J2QgZ29cbiAgICBpZiAodXNlV291bGQuaGFzKHRlcm1zW2kgKyAxXS5ub3JtYWwpKSB7XG4gICAgICByZXR1cm4gW2JlZm9yZSwgJ3dvdWxkJ11cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGxcbiAgLy8gICBpZiAoaGFzUGFzdFRlbnNlKHRlcm1zLCBpKSA9PT0gdHJ1ZSkge1xuICAvLyAgICAgcmV0dXJuIFtiZWZvcmUsICdoYWQnXVxuICAvLyAgIH1cbiAgLy8gICAvLyBoYWQvd291bGQvZGlkXG4gIC8vICAgcmV0dXJuIFtiZWZvcmUsICd3b3VsZCddXG59XG5leHBvcnQgZGVmYXVsdCBfYXBvc3Ryb3BoZURcbiIsICJcbi8vYWluJ3QgLT4gYXJlL2lzIG5vdFxuY29uc3QgYXBvc3Ryb3BoZVQgPSBmdW5jdGlvbiAodGVybXMsIGkpIHtcbiAgaWYgKHRlcm1zW2ldLm5vcm1hbCA9PT0gXCJhaW4ndFwiIHx8IHRlcm1zW2ldLm5vcm1hbCA9PT0gJ2FpbnQnKSB7XG4gICAgcmV0dXJuIG51bGwgLy9kbyB0aGlzIGluIC4vdHdvL1xuICB9XG4gIGxldCBiZWZvcmUgPSB0ZXJtc1tpXS5ub3JtYWwucmVwbGFjZSgvbid0LywgJycpXG4gIHJldHVybiBbYmVmb3JlLCAnbm90J11cbn1cblxuZXhwb3J0IGRlZmF1bHQgYXBvc3Ryb3BoZVRcbiIsICJjb25zdCBoYXNDb250cmFjdGlvbiA9IC8nL1xuY29uc3QgaXNGZW1pbmluZSA9IC8oZXxcdTAwRTl8YWlzb258c2lvbnx0aW9uKSQvXG5jb25zdCBpc01hc2N1bGluZSA9IC8oYWdlfGlzbWV8YWNsZXxlZ2V8b2lyZSkkL1xuLy8gbCdhbW91clxuY29uc3QgcHJlTCA9ICh0ZXJtcywgaSkgPT4ge1xuICAvLyBsZS9sYVxuICBsZXQgYWZ0ZXIgPSB0ZXJtc1tpXS5ub3JtYWwuc3BsaXQoaGFzQ29udHJhY3Rpb24pWzFdXG4gIC8vIHF1aWNrIGZyZW5jaCBnZW5kZXIgZGlzYW1iaWcgKHJvdWdoKVxuICBpZiAoYWZ0ZXIgJiYgYWZ0ZXIuZW5kc1dpdGgoJ2UnKSkge1xuICAgIHJldHVybiBbJ2xhJywgYWZ0ZXJdXG4gIH1cbiAgcmV0dXJuIFsnbGUnLCBhZnRlcl1cbn1cblxuLy8gZCdhbWVyaXF1ZVxuY29uc3QgcHJlRCA9ICh0ZXJtcywgaSkgPT4ge1xuICBsZXQgYWZ0ZXIgPSB0ZXJtc1tpXS5ub3JtYWwuc3BsaXQoaGFzQ29udHJhY3Rpb24pWzFdXG4gIC8vIHF1aWNrIGd1ZXNzIGZvciBub3VuLWFncmVlbWVudCAocm91Z2gpXG4gIGlmIChhZnRlciAmJiBpc0ZlbWluaW5lLnRlc3QoYWZ0ZXIpICYmICFpc01hc2N1bGluZS50ZXN0KGFmdGVyKSkge1xuICAgIHJldHVybiBbJ2R1JywgYWZ0ZXJdXG4gIH0gZWxzZSBpZiAoYWZ0ZXIgJiYgYWZ0ZXIuZW5kc1dpdGgoJ3MnKSkge1xuICAgIHJldHVybiBbJ2RlcycsIGFmdGVyXVxuICB9XG4gIHJldHVybiBbJ2RlJywgYWZ0ZXJdXG59XG5cbi8vIGonYWltZVxuY29uc3QgcHJlSiA9ICh0ZXJtcywgaSkgPT4ge1xuICBsZXQgYWZ0ZXIgPSB0ZXJtc1tpXS5ub3JtYWwuc3BsaXQoaGFzQ29udHJhY3Rpb24pWzFdXG4gIHJldHVybiBbJ2plJywgYWZ0ZXJdXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcHJlSixcbiAgcHJlTCxcbiAgcHJlRCxcbn1cbiIsICJjb25zdCBpc1JhbmdlID0gL14oWzAtOS5dezEsNH1bYS16XXswLDJ9KSA/Wy1cdTIwMTNcdTIwMTRdID8oWzAtOV17MSw0fVthLXpdezAsMn0pJC9pXG5jb25zdCB0aW1lUmFuZ2UgPSAvXihbMC05XXsxLDJ9KDpbMC05XVswLTldKT8oYW18cG0pPykgP1stXHUyMDEzXHUyMDE0XSA/KFswLTldezEsMn0oOlswLTldWzAtOV0pPyhhbXxwbSk/KSQvaVxuY29uc3QgcGhvbmVOdW0gPSAvXlswLTldezN9LVswLTldezR9JC9cblxuY29uc3QgbnVtYmVyUmFuZ2UgPSBmdW5jdGlvbiAodGVybXMsIGkpIHtcbiAgbGV0IHRlcm0gPSB0ZXJtc1tpXVxuICBsZXQgcGFydHMgPSB0ZXJtLnRleHQubWF0Y2goaXNSYW5nZSlcbiAgaWYgKHBhcnRzICE9PSBudWxsKSB7XG4gICAgLy8gMTIzLTEyMzQgaXMgYSBwaG9uZSBudW1iZXIsIG5vdCBhIG51bWJlci1yYW5nZVxuICAgIGlmICh0ZXJtLnRhZ3MuaGFzKCdQaG9uZU51bWJlcicpID09PSB0cnVlIHx8IHBob25lTnVtLnRlc3QodGVybS50ZXh0KSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIFtwYXJ0c1sxXSwgJ3RvJywgcGFydHNbMl1dXG4gIH0gZWxzZSB7XG4gICAgcGFydHMgPSB0ZXJtLnRleHQubWF0Y2godGltZVJhbmdlKVxuICAgIGlmIChwYXJ0cyAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFtwYXJ0c1sxXSwgJ3RvJywgcGFydHNbNF1dXG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5leHBvcnQgZGVmYXVsdCBudW1iZXJSYW5nZVxuIiwgImNvbnN0IG51bVVuaXQgPSAvXihbKy1dP1swLTldWy4sMC05XSopKFthLXpcdTAwQjBcdTAwQjJcdTAwQjNcdTAwQjUvXSspJC8gLy8obXVzdCBiZSBsb3dlcmNhc2UpXG5cbmNvbnN0IG51bWJlclVuaXQgPSBmdW5jdGlvbiAodGVybXMsIGksIHdvcmxkKSB7XG4gIGNvbnN0IG5vdFVuaXQgPSB3b3JsZC5tb2RlbC5vbmUubnVtYmVyU3VmZml4ZXMgfHwge31cbiAgbGV0IHRlcm0gPSB0ZXJtc1tpXVxuICBsZXQgcGFydHMgPSB0ZXJtLnRleHQubWF0Y2gobnVtVW5pdClcbiAgaWYgKHBhcnRzICE9PSBudWxsKSB7XG4gICAgLy8gaXMgaXQgYSByZWNvZ25pemVkIHVuaXQsIGxpa2UgJ2ttJz9cbiAgICBsZXQgdW5pdCA9IHBhcnRzWzJdLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgLy8gZG9uJ3Qgc3BsaXQgJzNyZCdcbiAgICBpZiAobm90VW5pdC5oYXNPd25Qcm9wZXJ0eSh1bml0KSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIFtwYXJ0c1sxXSwgdW5pdF0gLy9zcGxpdCBpdFxuICB9XG4gIHJldHVybiBudWxsXG59XG5leHBvcnQgZGVmYXVsdCBudW1iZXJVbml0XG4iLCAiaW1wb3J0IHNwbGljZSBmcm9tICcuL19zcGxpY2UuanMnXG5pbXBvcnQgYXBvc3Ryb3BoZUQgZnJvbSAnLi9hcG9zdHJvcGhlLWQuanMnXG5pbXBvcnQgYXBvc3Ryb3BoZVQgZnJvbSAnLi9hcG9zdHJvcGhlLXQuanMnXG5pbXBvcnQgZnJlbmNoIGZyb20gJy4vZnJlbmNoLmpzJ1xuaW1wb3J0IG51bWJlclJhbmdlIGZyb20gJy4vbnVtYmVyLXJhbmdlLmpzJ1xuaW1wb3J0IG51bWJlclVuaXQgZnJvbSAnLi9udW1iZXItdW5pdC5qcydcblxuY29uc3QgYnlBcG9zdHJvcGhlID0gLycvXG5jb25zdCBudW1EYXNoID0gL15bMC05XVteLVx1MjAxM1x1MjAxNF0qWy1cdTIwMTNcdTIwMTRdLio/WzAtOV0vXG5cbi8vIHJ1biB0YWdnZXIgb24gb3VyIG5ldyBpbXBsaWNpdCB0ZXJtc1xuY29uc3QgcmVUYWcgPSBmdW5jdGlvbiAodGVybXMsIHZpZXcsIHN0YXJ0LCBsZW4pIHtcbiAgbGV0IHRtcCA9IHZpZXcudXBkYXRlKClcbiAgdG1wLmRvY3VtZW50ID0gW3Rlcm1zXVxuICAvLyBvZmZlciB0byByZS10YWcgbmVpZ2hib3VycywgdG9vXG4gIGxldCBlbmQgPSBzdGFydCArIGxlblxuICBpZiAoc3RhcnQgPiAwKSB7XG4gICAgc3RhcnQgLT0gMVxuICB9XG4gIGlmICh0ZXJtc1tlbmRdKSB7XG4gICAgZW5kICs9IDFcbiAgfVxuICB0bXAucHRycyA9IFtbMCwgc3RhcnQsIGVuZF1dXG59XG5cbmNvbnN0IGJ5RW5kID0ge1xuICAvLyBhaW4ndFxuICB0OiAodGVybXMsIGkpID0+IGFwb3N0cm9waGVUKHRlcm1zLCBpKSxcbiAgLy8gaG93J2RcbiAgZDogKHRlcm1zLCBpKSA9PiBhcG9zdHJvcGhlRCh0ZXJtcywgaSksXG59XG5cbmNvbnN0IGJ5U3RhcnQgPSB7XG4gIC8vIGonYWltZVxuICBqOiAodGVybXMsIGkpID0+IGZyZW5jaC5wcmVKKHRlcm1zLCBpKSxcbiAgLy8gbCdhbW91clxuICBsOiAodGVybXMsIGkpID0+IGZyZW5jaC5wcmVMKHRlcm1zLCBpKSxcbiAgLy8gZCdhbWVyaXF1ZVxuICBkOiAodGVybXMsIGkpID0+IGZyZW5jaC5wcmVEKHRlcm1zLCBpKSxcbn1cblxuLy8gcHVsbC1hcGFydCBrbm93biBjb250cmFjdGlvbnMgZnJvbSBtb2RlbFxuY29uc3Qga25vd25PbmVzID0gZnVuY3Rpb24gKGxpc3QsIHRlcm0sIGJlZm9yZSwgYWZ0ZXIpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGV0IG8gPSBsaXN0W2ldXG4gICAgLy8gbG9vayBmb3Igd29yZC13b3JkIG1hdGNoIChjYW5ub3QtPiBbY2FuLCBub3RdKVxuICAgIGlmIChvLndvcmQgPT09IHRlcm0ubm9ybWFsKSB7XG4gICAgICByZXR1cm4gby5vdXRcbiAgICB9XG4gICAgLy8gbG9vayBmb3IgYWZ0ZXItbWF0Y2ggKCdyZSAtPiBbXywgYXJlXSlcbiAgICBlbHNlIGlmIChhZnRlciAhPT0gbnVsbCAmJiBhZnRlciA9PT0gby5hZnRlcikge1xuICAgICAgcmV0dXJuIFtiZWZvcmVdLmNvbmNhdChvLm91dClcbiAgICB9XG4gICAgLy8gbG9vayBmb3IgYmVmb3JlLW1hdGNoIChsJyAtPiBbbGUsIF9dKVxuICAgIGVsc2UgaWYgKGJlZm9yZSAhPT0gbnVsbCAmJiBiZWZvcmUgPT09IG8uYmVmb3JlICYmIGFmdGVyICYmIGFmdGVyLmxlbmd0aCA+IDIpIHtcbiAgICAgIHJldHVybiBvLm91dC5jb25jYXQoYWZ0ZXIpXG4gICAgICAvLyByZXR1cm4gW28ub3V0LCBhZnRlcl0gLy90eXBlb2Ygby5vdXQgPT09ICdzdHJpbmcnID8gW28ub3V0LCBhZnRlcl0gOiBvLm91dCh0ZXJtcywgaSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuY29uc3QgdG9Eb2NzID0gZnVuY3Rpb24gKHdvcmRzLCB2aWV3KSB7XG4gIGxldCBkb2MgPSB2aWV3LmZyb21UZXh0KHdvcmRzLmpvaW4oJyAnKSlcbiAgZG9jLmNvbXB1dGUoWydpZCcsICdhbGlhcyddKVxuICByZXR1cm4gZG9jLmRvY3NbMF1cbn1cblxuLy8gdGhlcmUncyBpcyB1c3VhbGx5IFt0aGVyZSwgaXNdXG4vLyBidXQgY2FuIGJlICd0aGVyZSBoYXMnIGZvciAndGhlcmUgaGFzICguLikgYmVlbidcbmNvbnN0IHRoZXJlSGFzID0gZnVuY3Rpb24gKHRlcm1zLCBpKSB7XG4gIGZvciAobGV0IGsgPSBpICsgMTsgayA8IDU7IGsgKz0gMSkge1xuICAgIGlmICghdGVybXNba10pIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGlmICh0ZXJtc1trXS5ub3JtYWwgPT09ICdiZWVuJykge1xuICAgICAgcmV0dXJuIFsndGhlcmUnLCAnaGFzJ11cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFsndGhlcmUnLCAnaXMnXVxufVxuXG4vL3JlYWxseSBlYXN5IG9uZXNcbmNvbnN0IGNvbnRyYWN0aW9ucyA9IHZpZXcgPT4ge1xuICBsZXQgeyB3b3JsZCwgZG9jdW1lbnQgfSA9IHZpZXdcbiAgY29uc3QgeyBtb2RlbCwgbWV0aG9kcyB9ID0gd29ybGRcbiAgbGV0IGxpc3QgPSBtb2RlbC5vbmUuY29udHJhY3Rpb25zIHx8IFtdXG4gIC8vIGxldCB1bml0cyA9IG5ldyBTZXQobW9kZWwub25lLnVuaXRzIHx8IFtdKVxuICAvLyBlYWNoIHNlbnRlbmNlXG4gIGRvY3VtZW50LmZvckVhY2goKHRlcm1zLCBuKSA9PiB7XG4gICAgLy8gbG9vcCB0aHJvdWdoIHRlcm1zIGJhY2t3YXJkc1xuICAgIGZvciAobGV0IGkgPSB0ZXJtcy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgbGV0IGJlZm9yZSA9IG51bGxcbiAgICAgIGxldCBhZnRlciA9IG51bGxcbiAgICAgIGlmIChieUFwb3N0cm9waGUudGVzdCh0ZXJtc1tpXS5ub3JtYWwpID09PSB0cnVlKSB7XG4gICAgICAgIGxldCByZXMgPSB0ZXJtc1tpXS5ub3JtYWwuc3BsaXQoYnlBcG9zdHJvcGhlKVxuICAgICAgICBiZWZvcmUgPSByZXNbMF1cbiAgICAgICAgYWZ0ZXIgPSByZXNbMV1cbiAgICAgIH1cbiAgICAgIC8vIGFueSBrbm93bi1vbmVzLCBsaWtlICdkdW5ubyc/XG4gICAgICBsZXQgd29yZHMgPSBrbm93bk9uZXMobGlzdCwgdGVybXNbaV0sIGJlZm9yZSwgYWZ0ZXIpXG4gICAgICAvLyBbJ2ZvbycsICdzJ11cbiAgICAgIGlmICghd29yZHMgJiYgYnlFbmQuaGFzT3duUHJvcGVydHkoYWZ0ZXIpKSB7XG4gICAgICAgIHdvcmRzID0gYnlFbmRbYWZ0ZXJdKHRlcm1zLCBpLCB3b3JsZClcbiAgICAgIH1cbiAgICAgIC8vIFsnaicsICdhaW1lJ11cbiAgICAgIGlmICghd29yZHMgJiYgYnlTdGFydC5oYXNPd25Qcm9wZXJ0eShiZWZvcmUpKSB7XG4gICAgICAgIHdvcmRzID0gYnlTdGFydFtiZWZvcmVdKHRlcm1zLCBpKVxuICAgICAgfVxuICAgICAgLy8gJ3RoZXJlIGlzJyB2cyAndGhlcmUgaGFzJ1xuICAgICAgaWYgKGJlZm9yZSA9PT0gJ3RoZXJlJyAmJiBhZnRlciA9PT0gJ3MnKSB7XG4gICAgICAgIHdvcmRzID0gdGhlcmVIYXModGVybXMsIGkpXG4gICAgICB9XG4gICAgICAvLyBhY3R1YWxseSBpbnNlcnQgdGhlIG5ldyB0ZXJtc1xuICAgICAgaWYgKHdvcmRzKSB7XG4gICAgICAgIHdvcmRzID0gdG9Eb2NzKHdvcmRzLCB2aWV3KVxuICAgICAgICBzcGxpY2UoZG9jdW1lbnQsIFtuLCBpXSwgd29yZHMpXG4gICAgICAgIHJlVGFnKGRvY3VtZW50W25dLCB2aWV3LCBpLCB3b3Jkcy5sZW5ndGgpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICAvLyAnNDQtMicgaGFzIHNwZWNpYWwgY2FyZVxuICAgICAgaWYgKG51bURhc2gudGVzdCh0ZXJtc1tpXS5ub3JtYWwpKSB7XG4gICAgICAgIHdvcmRzID0gbnVtYmVyUmFuZ2UodGVybXMsIGkpXG4gICAgICAgIGlmICh3b3Jkcykge1xuICAgICAgICAgIHdvcmRzID0gdG9Eb2NzKHdvcmRzLCB2aWV3KVxuICAgICAgICAgIHNwbGljZShkb2N1bWVudCwgW24sIGldLCB3b3JkcylcbiAgICAgICAgICBtZXRob2RzLm9uZS5zZXRUYWcod29yZHMsICdOdW1iZXJSYW5nZScsIHdvcmxkKSAvL2FkZCBjdXN0b20gdGFnXG4gICAgICAgICAgLy8gaXMgaXQgYSB0aW1lLXJhbmdlLCBsaWtlICc1LTlwbSdcbiAgICAgICAgICBpZiAod29yZHNbMl0gJiYgd29yZHNbMl0udGFncy5oYXMoJ1RpbWUnKSkge1xuICAgICAgICAgICAgbWV0aG9kcy5vbmUuc2V0VGFnKFt3b3Jkc1swXV0sICdUaW1lJywgd29ybGQsIG51bGwsICd0aW1lLXJhbmdlJylcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVUYWcoZG9jdW1lbnRbbl0sIHZpZXcsIGksIHdvcmRzLmxlbmd0aClcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgLy8gc3BsaXQtYXBhcnQgJzRrbSdcbiAgICAgIHdvcmRzID0gbnVtYmVyVW5pdCh0ZXJtcywgaSwgd29ybGQpXG4gICAgICBpZiAod29yZHMpIHtcbiAgICAgICAgd29yZHMgPSB0b0RvY3Mod29yZHMsIHZpZXcpXG4gICAgICAgIHNwbGljZShkb2N1bWVudCwgW24sIGldLCB3b3JkcylcbiAgICAgICAgbWV0aG9kcy5vbmUuc2V0VGFnKFt3b3Jkc1sxXV0sICdVbml0Jywgd29ybGQsIG51bGwsICdjb250cmFjdGlvbi11bml0JylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5leHBvcnQgZGVmYXVsdCBjb250cmFjdGlvbnNcbiIsICJpbXBvcnQgY29udHJhY3Rpb25zIGZyb20gJy4vY29udHJhY3Rpb25zL2luZGV4LmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7IGNvbnRyYWN0aW9ucyB9XG4iLCAiaW1wb3J0IG1vZGVsIGZyb20gJy4vbW9kZWwvaW5kZXguanMnXG5pbXBvcnQgY29tcHV0ZSBmcm9tICcuL2NvbXB1dGUvaW5kZXguanMnXG5cbmNvbnN0IHBsdWdpbiA9IHtcbiAgbW9kZWw6IG1vZGVsLFxuICBjb21wdXRlOiBjb21wdXRlLFxuICBob29rczogWydjb250cmFjdGlvbnMnXSxcbn1cbmV4cG9ydCBkZWZhdWx0IHBsdWdpblxuIiwgImNvbnN0IGZyZWV6ZSA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIGNvbnN0IHdvcmxkID0gdmlldy53b3JsZFxuICBjb25zdCB7IG1vZGVsLCBtZXRob2RzIH0gPSB2aWV3LndvcmxkXG4gIGNvbnN0IHNldFRhZyA9IG1ldGhvZHMub25lLnNldFRhZ1xuICBjb25zdCB7IGZyb3plbkxleCB9ID0gbW9kZWwub25lXG4gIGNvbnN0IG11bHRpID0gbW9kZWwub25lLl9tdWx0aUNhY2hlIHx8IHt9XG5cbiAgdmlldy5kb2NzLmZvckVhY2godGVybXMgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVybXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIC8vIGJhc2ljIGxleGljb24gbG9va3VwXG4gICAgICBsZXQgdCA9IHRlcm1zW2ldXG4gICAgICBsZXQgd29yZCA9IHQubWFjaGluZSB8fCB0Lm5vcm1hbFxuXG4gICAgICAvLyB0ZXN0IGEgbXVsdGktd29yZFxuICAgICAgaWYgKG11bHRpW3dvcmRdICE9PSB1bmRlZmluZWQgJiYgdGVybXNbaSArIDFdKSB7XG4gICAgICAgIGxldCBlbmQgPSBpICsgbXVsdGlbd29yZF0gLSAxXG4gICAgICAgIGZvciAobGV0IGsgPSBlbmQ7IGsgPiBpOyBrIC09IDEpIHtcbiAgICAgICAgICBsZXQgd29yZHMgPSB0ZXJtcy5zbGljZShpLCBrICsgMSlcbiAgICAgICAgICBsZXQgc3RyID0gd29yZHMubWFwKHRlcm0gPT4gdGVybS5tYWNoaW5lIHx8IHRlcm0ubm9ybWFsKS5qb2luKCcgJylcbiAgICAgICAgICAvLyBsb29rdXAgZnJvemVuIGxleGljb25cbiAgICAgICAgICBpZiAoZnJvemVuTGV4Lmhhc093blByb3BlcnR5KHN0cikgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHNldFRhZyh3b3JkcywgZnJvemVuTGV4W3N0cl0sIHdvcmxkLCBmYWxzZSwgJzEtZnJvemVuLW11bHRpLWxleGljb24nKVxuICAgICAgICAgICAgd29yZHMuZm9yRWFjaCh0ZXJtID0+ICh0ZXJtLmZyb3plbiA9IHRydWUpKVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHRlc3Qgc2luZ2xlIHdvcmRcbiAgICAgIGlmIChmcm96ZW5MZXhbd29yZF0gIT09IHVuZGVmaW5lZCAmJiBmcm96ZW5MZXguaGFzT3duUHJvcGVydHkod29yZCkpIHtcbiAgICAgICAgc2V0VGFnKFt0XSwgZnJvemVuTGV4W3dvcmRdLCB3b3JsZCwgZmFsc2UsICcxLWZyZWV6ZS1sZXhpY29uJylcbiAgICAgICAgdC5mcm96ZW4gPSB0cnVlXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG5jb25zdCB1bmZyZWV6ZSA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIHZpZXcuZG9jcy5mb3JFYWNoKHRzID0+IHtcbiAgICB0cy5mb3JFYWNoKHRlcm0gPT4ge1xuICAgICAgZGVsZXRlIHRlcm0uZnJvemVuXG4gICAgfSlcbiAgfSlcbiAgcmV0dXJuIHZpZXdcbn1cbmV4cG9ydCBkZWZhdWx0IHsgZnJvemVuOiBmcmVlemUsIGZyZWV6ZSwgdW5mcmVlemUgfVxuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmNvbnN0IGJsdWUgPSBzdHIgPT4gJ1xceDFiWzM0bScgKyBzdHIgKyAnXFx4MWJbMG0nXG5jb25zdCBkaW0gPSBzdHIgPT4gJ1xceDFiWzNtXFx4MWJbMm0nICsgc3RyICsgJ1xceDFiWzBtJ1xuXG5jb25zdCBkZWJ1ZyA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIHZpZXcuZG9jcy5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICBjb25zb2xlLmxvZyhibHVlKCdcXG4gIFx1MjUwQ1x1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMCcpKVxuICAgIHRlcm1zLmZvckVhY2godCA9PiB7XG4gICAgICBsZXQgc3RyID0gYCAgJHtkaW0oJ1x1MjUwMicpfSAgYFxuICAgICAgbGV0IHR4dCA9IHQuaW1wbGljaXQgfHwgdC50ZXh0IHx8ICctJ1xuICAgICAgaWYgKHQuZnJvemVuID09PSB0cnVlKSB7XG4gICAgICAgIHN0ciArPSBgJHtibHVlKHR4dCl9IFx1Mjc0NFx1RkUwRmBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciArPSBkaW0odHh0KVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coc3RyKVxuICAgIH0pXG4gIH0pXG59XG5leHBvcnQgZGVmYXVsdCBkZWJ1Z1xuIiwgImltcG9ydCBjb21wdXRlIGZyb20gJy4vY29tcHV0ZS5qcydcbmltcG9ydCBkZWJ1ZyBmcm9tICcuL2RlYnVnLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8vIGFkZCAuY29tcHV0ZSgnZnJlZXplJylcbiAgY29tcHV0ZSxcblxuICBtdXRhdGU6IHdvcmxkID0+IHtcbiAgICBjb25zdCBtZXRob2RzID0gd29ybGQubWV0aG9kcy5vbmVcbiAgICAvLyBhZGQgQGlzRnJvemVuIG1ldGhvZFxuICAgIG1ldGhvZHMudGVybU1ldGhvZHMuaXNGcm96ZW4gPSB0ZXJtID0+IHRlcm0uZnJvemVuID09PSB0cnVlXG4gICAgLy8gYWRkcyBgLmRlYnVnKCdmcm96ZW4nKWBcbiAgICBtZXRob2RzLmRlYnVnLmZyZWV6ZSA9IGRlYnVnXG4gICAgbWV0aG9kcy5kZWJ1Zy5mcm96ZW4gPSBkZWJ1Z1xuICB9LFxuXG4gIGFwaTogZnVuY3Rpb24gKFZpZXcpIHtcbiAgICAvLyBzZXQgYWxsIHRlcm1zIHRvIHJlamVjdCBhbnkgZGVzY3RydWN0aXZlIHRhZ3NcbiAgICBWaWV3LnByb3RvdHlwZS5mcmVlemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmRvY3MuZm9yRWFjaCh0cyA9PiB7XG4gICAgICAgIHRzLmZvckVhY2godGVybSA9PiB7XG4gICAgICAgICAgdGVybS5mcm96ZW4gPSB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgLy8gcmVzZXQgYWxsIHRlcm1zIHRvIGFsbG93ICBhbnkgZGVzY3RydWN0aXZlIHRhZ3NcbiAgICBWaWV3LnByb3RvdHlwZS51bmZyZWV6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY29tcHV0ZSgndW5mcmVlemUnKVxuICAgIH1cbiAgICAvLyByZXR1cm4gYWxsIGZyb3plbiB0ZXJtc1xuICAgIFZpZXcucHJvdG90eXBlLmlzRnJvemVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2goJ0Bpc0Zyb3plbisnKVxuICAgIH1cbiAgfSxcbiAgLy8gcnVuIGl0IGluIGluaXRcbiAgaG9va3M6IFsnZnJlZXplJ10sXG59XG4iLCAiLy8gc2Nhbi1haGVhZCB0byBtYXRjaCBtdWx0aXBsZS13b3JkIHRlcm1zIC0gJ2phY2sgcmFiYml0J1xuY29uc3QgbXVsdGlXb3JkID0gZnVuY3Rpb24gKHRlcm1zLCBzdGFydF9pLCB3b3JsZCkge1xuICBjb25zdCB7IG1vZGVsLCBtZXRob2RzIH0gPSB3b3JsZFxuICBjb25zdCBzZXRUYWcgPSBtZXRob2RzLm9uZS5zZXRUYWdcbiAgY29uc3QgbXVsdGkgPSBtb2RlbC5vbmUuX211bHRpQ2FjaGUgfHwge31cbiAgY29uc3QgeyBsZXhpY29uIH0gPSBtb2RlbC5vbmUgfHwge31cbiAgbGV0IHQgPSB0ZXJtc1tzdGFydF9pXVxuICBsZXQgd29yZCA9IHQubWFjaGluZSB8fCB0Lm5vcm1hbFxuXG4gIC8vIGZvdW5kIGEgd29yZCB0byBzY2FuLWFoZWFkIG9uXG4gIGlmIChtdWx0aVt3b3JkXSAhPT0gdW5kZWZpbmVkICYmIHRlcm1zW3N0YXJ0X2kgKyAxXSkge1xuICAgIGxldCBlbmQgPSBzdGFydF9pICsgbXVsdGlbd29yZF0gLSAxXG4gICAgZm9yIChsZXQgaSA9IGVuZDsgaSA+IHN0YXJ0X2k7IGkgLT0gMSkge1xuICAgICAgbGV0IHdvcmRzID0gdGVybXMuc2xpY2Uoc3RhcnRfaSwgaSArIDEpXG4gICAgICBpZiAod29yZHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBsZXQgc3RyID0gd29yZHMubWFwKHRlcm0gPT4gdGVybS5tYWNoaW5lIHx8IHRlcm0ubm9ybWFsKS5qb2luKCcgJylcbiAgICAgIC8vIGxvb2t1cCByZWd1bGFyIGxleGljb25cbiAgICAgIGlmIChsZXhpY29uLmhhc093blByb3BlcnR5KHN0cikgPT09IHRydWUpIHtcbiAgICAgICAgbGV0IHRhZyA9IGxleGljb25bc3RyXVxuICAgICAgICBzZXRUYWcod29yZHMsIHRhZywgd29ybGQsIGZhbHNlLCAnMS1tdWx0aS1sZXhpY29uJylcbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBwaHJhc2FsLXZlcmJzIC0gMm5kIHdvcmQgaXMgYSAjUGFydGljbGVcbiAgICAgICAgaWYgKHRhZyAmJiB0YWcubGVuZ3RoID09PSAyICYmICh0YWdbMF0gPT09ICdQaHJhc2FsVmVyYicgfHwgdGFnWzFdID09PSAnUGhyYXNhbFZlcmInKSkge1xuICAgICAgICAgIHNldFRhZyhbd29yZHNbMV1dLCAnUGFydGljbGUnLCB3b3JsZCwgZmFsc2UsICcxLXBocmFzYWwtcGFydGljbGUnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHJldHVybiBudWxsXG59XG5leHBvcnQgZGVmYXVsdCBtdWx0aVdvcmRcbiIsICJjb25zdCBwcmVmaXggPSAvXih1bmRlcnxvdmVyfG1pc3xyZXx1bnxkaXN8c2VtaXxwcmV8cG9zdCktPy9cbi8vIGFudGl8bm9ufGV4dHJhfGludGVyfGludHJhfG92ZXJcbmNvbnN0IGFsbG93UHJlZml4ID0gbmV3IFNldChbJ1ZlcmInLCAnSW5maW5pdGl2ZScsICdQYXN0VGVuc2UnLCAnR2VydW5kJywgJ1ByZXNlbnRUZW5zZScsICdBZGplY3RpdmUnLCAnUGFydGljaXBsZSddKVxuXG4vLyB0YWcgYW55IHdvcmRzIGluIG91ciBsZXhpY29uXG5jb25zdCBjaGVja0xleGljb24gPSBmdW5jdGlvbiAodGVybXMsIGksIHdvcmxkKSB7XG4gIGNvbnN0IHsgbW9kZWwsIG1ldGhvZHMgfSA9IHdvcmxkXG4gIC8vIGNvbnN0IGZhc3RUYWcgPSBtZXRob2RzLm9uZS5mYXN0VGFnXG4gIGNvbnN0IHNldFRhZyA9IG1ldGhvZHMub25lLnNldFRhZ1xuICBjb25zdCB7IGxleGljb24gfSA9IG1vZGVsLm9uZVxuXG4gIC8vIGJhc2ljIGxleGljb24gbG9va3VwXG4gIGxldCB0ID0gdGVybXNbaV1cbiAgbGV0IHdvcmQgPSB0Lm1hY2hpbmUgfHwgdC5ub3JtYWxcbiAgLy8gbm9ybWFsIGxleGljb24gbG9va3VwXG4gIGlmIChsZXhpY29uW3dvcmRdICE9PSB1bmRlZmluZWQgJiYgbGV4aWNvbi5oYXNPd25Qcm9wZXJ0eSh3b3JkKSkge1xuICAgIHNldFRhZyhbdF0sIGxleGljb25bd29yZF0sIHdvcmxkLCBmYWxzZSwgJzEtbGV4aWNvbicpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICAvLyBsb29rdXAgYWxpYXNlcyBpbiB0aGUgbGV4aWNvblxuICBpZiAodC5hbGlhcykge1xuICAgIGxldCBmb3VuZCA9IHQuYWxpYXMuZmluZChzdHIgPT4gbGV4aWNvbi5oYXNPd25Qcm9wZXJ0eShzdHIpKVxuICAgIGlmIChmb3VuZCkge1xuICAgICAgc2V0VGFnKFt0XSwgbGV4aWNvbltmb3VuZF0sIHdvcmxkLCBmYWxzZSwgJzEtbGV4aWNvbi1hbGlhcycpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuICAvLyBwcmVmaXhpbmcgZm9yIHZlcmJzL2FkamVjdGl2ZXNcbiAgaWYgKHByZWZpeC50ZXN0KHdvcmQpID09PSB0cnVlKSB7XG4gICAgbGV0IHN0ZW0gPSB3b3JkLnJlcGxhY2UocHJlZml4LCAnJylcbiAgICBpZiAobGV4aWNvbi5oYXNPd25Qcm9wZXJ0eShzdGVtKSAmJiBzdGVtLmxlbmd0aCA+IDMpIHtcbiAgICAgIC8vIG9ubHkgYWxsb3cgcHJlZml4ZXMgZm9yIHZlcmJzL2FkamVjdGl2ZXNcbiAgICAgIGlmIChhbGxvd1ByZWZpeC5oYXMobGV4aWNvbltzdGVtXSkpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJy0+Jywgd29yZCwgc3RlbSwgbGV4aWNvbltzdGVtXSlcbiAgICAgICAgc2V0VGFnKFt0XSwgbGV4aWNvbltzdGVtXSwgd29ybGQsIGZhbHNlLCAnMS1sZXhpY29uLXByZWZpeCcpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5leHBvcnQgZGVmYXVsdCBjaGVja0xleGljb25cbiIsICJpbXBvcnQgbXVsdGlXb3JkIGZyb20gJy4vbXVsdGktd29yZC5qcydcbmltcG9ydCBzaW5nbGVXb3JkIGZyb20gJy4vc2luZ2xlLXdvcmQuanMnXG5cbi8vIHRhZyBhbnkgd29yZHMgaW4gb3VyIGxleGljb24gLSBldmVuIGlmIGl0IGhhc24ndCBiZWVuIGZpbGxlZC11cCB5ZXRcbi8vIHJlc3Qgb2YgcHJlLXRhZ2dlciBpcyBpbiAuL3R3by9wcmVUYWdnZXJcbmNvbnN0IGxleGljb24gPSBmdW5jdGlvbiAodmlldykge1xuICBjb25zdCB3b3JsZCA9IHZpZXcud29ybGRcbiAgLy8gbG9vcCB0aHJvdWdoIG91ciB0ZXJtc1xuICB2aWV3LmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHRlcm1zW2ldLnRhZ3Muc2l6ZSA9PT0gMCkge1xuICAgICAgICBsZXQgZm91bmQgPSBudWxsXG4gICAgICAgIGZvdW5kID0gZm91bmQgfHwgbXVsdGlXb3JkKHRlcm1zLCBpLCB3b3JsZClcbiAgICAgICAgLy8gbG9va3VwIGtub3duIHdvcmRzXG4gICAgICAgIGZvdW5kID0gZm91bmQgfHwgc2luZ2xlV29yZCh0ZXJtcywgaSwgd29ybGQpXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGxleGljb24sXG59XG4iLCAiLy8gZGVyaXZlIGNsZXZlciB0aGluZ3MgZnJvbSBvdXIgbGV4aWNvbiBrZXktdmFsdWUgcGFpcnNcbmNvbnN0IGV4cGFuZCA9IGZ1bmN0aW9uICh3b3Jkcykge1xuICAvLyBjb25zdCB7IG1ldGhvZHMsIG1vZGVsIH0gPSB3b3JsZFxuICBsZXQgbGV4ID0ge31cbiAgLy8gY29uc29sZS5sb2coJ3N0YXJ0OicsIE9iamVjdC5rZXlzKGxleCkubGVuZ3RoKVxuICBsZXQgX211bHRpID0ge31cbiAgLy8gZ28gdGhyb3VnaCBlYWNoIHdvcmQgaW4gdGhpcyBrZXktdmFsdWUgb2JqOlxuICBPYmplY3Qua2V5cyh3b3JkcykuZm9yRWFjaCh3b3JkID0+IHtcbiAgICBsZXQgdGFnID0gd29yZHNbd29yZF1cbiAgICAvLyBub3JtYWxpemUgbGV4aWNvbiBhIGxpdHRsZSBiaXRcbiAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgIHdvcmQgPSB3b3JkLnJlcGxhY2UoLydzXFxiLywgJycpXG4gICAgLy8gY2FjaGUgbXVsdGktd29yZCB0ZXJtc1xuICAgIGxldCBzcGxpdCA9IHdvcmQuc3BsaXQoLyAvKVxuICAgIGlmIChzcGxpdC5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBwcmVmZXIgbG9uZ2VyIG9uZXNcbiAgICAgIGlmIChfbXVsdGlbc3BsaXRbMF1dID09PSB1bmRlZmluZWQgfHwgc3BsaXQubGVuZ3RoID4gX211bHRpW3NwbGl0WzBdXSkge1xuICAgICAgICBfbXVsdGlbc3BsaXRbMF1dID0gc3BsaXQubGVuZ3RoXG4gICAgICB9XG4gICAgfVxuICAgIGxleFt3b3JkXSA9IGxleFt3b3JkXSB8fCB0YWdcbiAgfSlcbiAgLy8gY2xlYW51cFxuICBkZWxldGUgbGV4WycnXVxuICBkZWxldGUgbGV4W251bGxdXG4gIGRlbGV0ZSBsZXhbJyAnXVxuICByZXR1cm4geyBsZXgsIF9tdWx0aSB9XG59XG5leHBvcnQgZGVmYXVsdCBleHBhbmRcbiIsICJpbXBvcnQgZXhwYW5kTGV4aWNvbiBmcm9tICcuL2V4cGFuZC5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBvbmU6IHtcbiAgICBleHBhbmRMZXhpY29uLFxuICB9XG59IiwgIi8qKiBpbnNlcnQgbmV3IHdvcmRzL3BocmFzZXMgaW50byB0aGUgbGV4aWNvbiAqL1xuY29uc3QgYWRkV29yZHMgPSBmdW5jdGlvbiAod29yZHMsIGlzRnJvemVuID0gZmFsc2UpIHtcbiAgY29uc3Qgd29ybGQgPSB0aGlzLndvcmxkKClcbiAgY29uc3QgeyBtZXRob2RzLCBtb2RlbCB9ID0gd29ybGRcbiAgaWYgKCF3b3Jkcykge1xuICAgIHJldHVyblxuICB9XG4gIC8vIG5vcm1hbGl6ZSB0YWcgdmFsc1xuICBPYmplY3Qua2V5cyh3b3JkcykuZm9yRWFjaChrID0+IHtcbiAgICBpZiAodHlwZW9mIHdvcmRzW2tdID09PSAnc3RyaW5nJyAmJiB3b3Jkc1trXS5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgIHdvcmRzW2tdID0gd29yZHNba10ucmVwbGFjZSgvXiMvLCAnJylcbiAgICB9XG4gIH0pXG4gIC8vIHRoZXNlIHdvcmRzIGdvIGludG8gYSBzZXBlcmF0ZSBsZXhpY29uXG4gIGlmIChpc0Zyb3plbiA9PT0gdHJ1ZSkge1xuICAgIGxldCB7IGxleCwgX211bHRpIH0gPSBtZXRob2RzLm9uZS5leHBhbmRMZXhpY29uKHdvcmRzLCB3b3JsZClcbiAgICBPYmplY3QuYXNzaWduKG1vZGVsLm9uZS5fbXVsdGlDYWNoZSwgX211bHRpKVxuICAgIE9iamVjdC5hc3NpZ24obW9kZWwub25lLmZyb3plbkxleCwgbGV4KVxuICAgIHJldHVyblxuICB9XG4gIC8vIGFkZCBzb21lIHdvcmRzIHRvIG91ciBsZXhpY29uXG4gIGlmIChtZXRob2RzLnR3by5leHBhbmRMZXhpY29uKSB7XG4gICAgLy8gZG8gZmFuY3kgLi90d28gdmVyc2lvblxuICAgIGxldCB7IGxleCwgX211bHRpIH0gPSBtZXRob2RzLnR3by5leHBhbmRMZXhpY29uKHdvcmRzLCB3b3JsZClcbiAgICBPYmplY3QuYXNzaWduKG1vZGVsLm9uZS5sZXhpY29uLCBsZXgpXG4gICAgT2JqZWN0LmFzc2lnbihtb2RlbC5vbmUuX211bHRpQ2FjaGUsIF9tdWx0aSlcbiAgfVxuICAvLyBkbyBiYXNpYyAuL29uZSB2ZXJzaW9uXG4gIGxldCB7IGxleCwgX211bHRpIH0gPSBtZXRob2RzLm9uZS5leHBhbmRMZXhpY29uKHdvcmRzLCB3b3JsZClcbiAgT2JqZWN0LmFzc2lnbihtb2RlbC5vbmUubGV4aWNvbiwgbGV4KVxuICBPYmplY3QuYXNzaWduKG1vZGVsLm9uZS5fbXVsdGlDYWNoZSwgX211bHRpKVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGFkZFdvcmRzIH1cbiIsICJpbXBvcnQgY29tcHV0ZSBmcm9tICcuL2NvbXB1dGUvaW5kZXguanMnXG5pbXBvcnQgbWV0aG9kcyBmcm9tICcuL21ldGhvZHMvaW5kZXguanMnXG5pbXBvcnQgbGliIGZyb20gJy4vbGliLmpzJ1xuXG5jb25zdCBtb2RlbCA9IHtcbiAgb25lOiB7XG4gICAgbGV4aWNvbjoge30sIC8vc2V0dXAgYmxhbmsgbGV4aWNvblxuICAgIF9tdWx0aUNhY2hlOiB7fSxcbiAgICBmcm96ZW5MZXg6IHt9LCAvLzJuZCBsZXhpY29uXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbW9kZWwsXG4gIG1ldGhvZHMsXG4gIGNvbXB1dGUsXG4gIGxpYixcbiAgaG9va3M6IFsnbGV4aWNvbiddLFxufVxuIiwgIi8vIGVkaXRlZCBieSBTcGVuY2VyIEtlbGx5XG4vLyBjcmVkaXQgdG8gaHR0cHM6Ly9naXRodWIuY29tL0JydW5vUkIvYWhvY29yYXNpY2sgYnkgQnJ1bm8gUm9iZXJ0byBCXHUwMEZBcmlnby5cblxuY29uc3QgdG9rZW5pemUgPSBmdW5jdGlvbiAocGhyYXNlLCB3b3JsZCkge1xuICBjb25zdCB7IG1ldGhvZHMsIG1vZGVsIH0gPSB3b3JsZFxuICBsZXQgdGVybXMgPSBtZXRob2RzLm9uZS50b2tlbml6ZS5zcGxpdFRlcm1zKHBocmFzZSwgbW9kZWwpLm1hcCh0ID0+IG1ldGhvZHMub25lLnRva2VuaXplLnNwbGl0V2hpdGVzcGFjZSh0LCBtb2RlbCkpXG4gIHJldHVybiB0ZXJtcy5tYXAodGVybSA9PiB0ZXJtLnRleHQudG9Mb3dlckNhc2UoKSlcbn1cblxuLy8gdHVybiBhbiBhcnJheSBvciBvYmplY3QgaW50byBhIGNvbXByZXNzZWQgYWhvLWNvcmFzaWNrIHN0cnVjdHVyZVxuY29uc3QgYnVpbGRUcmllID0gZnVuY3Rpb24gKHBocmFzZXMsIHdvcmxkKSB7XG5cbiAgLy8gY29uc3QgdG9rZW5pemU9bWV0aG9kcy5vbmUuXG4gIGxldCBnb05leHQgPSBbe31dXG4gIGxldCBlbmRBcyA9IFtudWxsXVxuICBsZXQgZmFpbFRvID0gWzBdXG5cbiAgbGV0IHhzID0gW11cbiAgbGV0IG4gPSAwXG4gIHBocmFzZXMuZm9yRWFjaChmdW5jdGlvbiAocGhyYXNlKSB7XG4gICAgbGV0IGN1cnIgPSAwXG4gICAgLy8gbGV0IHdvcmRzQiA9IHBocmFzZS5zcGxpdCgvIC9nKS5maWx0ZXIodyA9PiB3KVxuICAgIGxldCB3b3JkcyA9IHRva2VuaXplKHBocmFzZSwgd29ybGQpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHdvcmQgPSB3b3Jkc1tpXVxuICAgICAgaWYgKGdvTmV4dFtjdXJyXSAmJiBnb05leHRbY3Vycl0uaGFzT3duUHJvcGVydHkod29yZCkpIHtcbiAgICAgICAgY3VyciA9IGdvTmV4dFtjdXJyXVt3b3JkXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbisrXG4gICAgICAgIGdvTmV4dFtjdXJyXVt3b3JkXSA9IG5cbiAgICAgICAgZ29OZXh0W25dID0ge31cbiAgICAgICAgY3VyciA9IG5cbiAgICAgICAgZW5kQXNbbl0gPSBudWxsXG4gICAgICB9XG4gICAgfVxuICAgIGVuZEFzW2N1cnJdID0gW3dvcmRzLmxlbmd0aF1cbiAgfSlcbiAgLy8gZihzKSA9IDAgZm9yIGFsbCBzdGF0ZXMgb2YgZGVwdGggMSAodGhlIG9uZXMgZnJvbSB3aGljaCB0aGUgMCBzdGF0ZSBjYW4gdHJhbnNpdGlvbiB0bylcbiAgZm9yIChsZXQgd29yZCBpbiBnb05leHRbMF0pIHtcbiAgICBuID0gZ29OZXh0WzBdW3dvcmRdXG4gICAgZmFpbFRvW25dID0gMFxuICAgIHhzLnB1c2gobilcbiAgfVxuXG4gIHdoaWxlICh4cy5sZW5ndGgpIHtcbiAgICBsZXQgciA9IHhzLnNoaWZ0KClcbiAgICAvLyBmb3IgZWFjaCBzeW1ib2wgYSBzdWNoIHRoYXQgZyhyLCBhKSA9IHNcbiAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKGdvTmV4dFtyXSlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGxldCB3b3JkID0ga2V5c1tpXVxuICAgICAgbGV0IHMgPSBnb05leHRbcl1bd29yZF1cbiAgICAgIHhzLnB1c2gocylcbiAgICAgIC8vIHNldCBzdGF0ZSA9IGYocilcbiAgICAgIG4gPSBmYWlsVG9bcl1cbiAgICAgIHdoaWxlIChuID4gMCAmJiAhZ29OZXh0W25dLmhhc093blByb3BlcnR5KHdvcmQpKSB7XG4gICAgICAgIG4gPSBmYWlsVG9bbl1cbiAgICAgIH1cbiAgICAgIGlmIChnb05leHQuaGFzT3duUHJvcGVydHkobikpIHtcbiAgICAgICAgbGV0IGZzID0gZ29OZXh0W25dW3dvcmRdXG4gICAgICAgIGZhaWxUb1tzXSA9IGZzXG4gICAgICAgIGlmIChlbmRBc1tmc10pIHtcbiAgICAgICAgICBlbmRBc1tzXSA9IGVuZEFzW3NdIHx8IFtdXG4gICAgICAgICAgZW5kQXNbc10gPSBlbmRBc1tzXS5jb25jYXQoZW5kQXNbZnNdKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmYWlsVG9bc10gPSAwXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7IGdvTmV4dCwgZW5kQXMsIGZhaWxUbyB9XG59XG5leHBvcnQgZGVmYXVsdCBidWlsZFRyaWVcblxuLy8gY29uc29sZS5sb2coYnVpbGRUcmllKFsnc21hcnQgYW5kIGNvb2wnLCAnc21hcnQgYW5kIG5pY2UnXSkpXG4iLCAiLy8gZm9sbG93IG91ciB0cmllIHN0cnVjdHVyZVxuY29uc3Qgc2NhbldvcmRzID0gZnVuY3Rpb24gKHRlcm1zLCB0cmllLCBvcHRzKSB7XG4gIGxldCBuID0gMFxuICBsZXQgcmVzdWx0cyA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGVybXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgd29yZCA9IHRlcm1zW2ldW29wdHMuZm9ybV0gfHwgdGVybXNbaV0ubm9ybWFsXG4gICAgLy8gbWFpbiBtYXRjaC1sb2dpYyBsb29wOlxuICAgIHdoaWxlIChuID4gMCAmJiAodHJpZS5nb05leHRbbl0gPT09IHVuZGVmaW5lZCB8fCAhdHJpZS5nb05leHRbbl0uaGFzT3duUHJvcGVydHkod29yZCkpKSB7XG4gICAgICBuID0gdHJpZS5mYWlsVG9bbl0gfHwgMCAvLyAodXN1YWxseSBiYWNrIHRvIDApXG4gICAgfVxuICAgIC8vIGRpZCB3ZSBmYWlsP1xuICAgIGlmICghdHJpZS5nb05leHRbbl0uaGFzT3duUHJvcGVydHkod29yZCkpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIG4gPSB0cmllLmdvTmV4dFtuXVt3b3JkXVxuICAgIGlmICh0cmllLmVuZEFzW25dKSB7XG4gICAgICBsZXQgYXJyID0gdHJpZS5lbmRBc1tuXVxuICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCBhcnIubGVuZ3RoOyBvKyspIHtcbiAgICAgICAgbGV0IGxlbiA9IGFycltvXVxuICAgICAgICBsZXQgdGVybSA9IHRlcm1zW2kgLSBsZW4gKyAxXVxuICAgICAgICBsZXQgW25vLCBzdGFydF0gPSB0ZXJtLmluZGV4XG4gICAgICAgIHJlc3VsdHMucHVzaChbbm8sIHN0YXJ0LCBzdGFydCArIGxlbiwgdGVybS5pZF0pXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzXG59XG5cbmNvbnN0IGNhY2hlTWlzcyA9IGZ1bmN0aW9uICh3b3JkcywgY2FjaGUpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChjYWNoZS5oYXMod29yZHNbaV0pID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuY29uc3Qgc2NhbiA9IGZ1bmN0aW9uICh2aWV3LCB0cmllLCBvcHRzKSB7XG4gIGxldCByZXN1bHRzID0gW11cbiAgb3B0cy5mb3JtID0gb3B0cy5mb3JtIHx8ICdub3JtYWwnXG4gIGxldCBkb2NzID0gdmlldy5kb2NzXG4gIGlmICghdHJpZS5nb05leHQgfHwgIXRyaWUuZ29OZXh0WzBdKSB7XG4gICAgY29uc29sZS5lcnJvcignQ29tcHJvbWlzZSBpbnZhbGlkIGxvb2t1cCB0cmllJykvL2VzbGludC1kaXNhYmxlLWxpbmVcbiAgICByZXR1cm4gdmlldy5ub25lKClcbiAgfVxuICBsZXQgZmlyc3RXb3JkcyA9IE9iamVjdC5rZXlzKHRyaWUuZ29OZXh0WzBdKVxuICAvLyBkbyBlYWNoIHBocmFzZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBjYW4gd2Ugc2tpcCB0aGUgcGhyYXNlLCBhbGwgdG9nZXRoZXI/XG4gICAgaWYgKHZpZXcuX2NhY2hlICYmIHZpZXcuX2NhY2hlW2ldICYmIGNhY2hlTWlzcyhmaXJzdFdvcmRzLCB2aWV3Ll9jYWNoZVtpXSkgPT09IHRydWUpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIGxldCB0ZXJtcyA9IGRvY3NbaV1cbiAgICBsZXQgZm91bmQgPSBzY2FuV29yZHModGVybXMsIHRyaWUsIG9wdHMpXG4gICAgaWYgKGZvdW5kLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChmb3VuZClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZpZXcudXBkYXRlKHJlc3VsdHMpXG59XG5leHBvcnQgZGVmYXVsdCBzY2FuXG4iLCAiaW1wb3J0IGJ1aWxkIGZyb20gJy4vYnVpbGRUcmllL2luZGV4LmpzJ1xuaW1wb3J0IHNjYW4gZnJvbSAnLi9zY2FuLmpzJ1xuXG5jb25zdCBpc09iamVjdCA9IHZhbCA9PiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSdcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKFZpZXcpIHtcblxuICAvKiogZmluZCBhbGwgbWF0Y2hlcyBpbiB0aGlzIGRvY3VtZW50ICovXG4gIFZpZXcucHJvdG90eXBlLmxvb2t1cCA9IGZ1bmN0aW9uIChpbnB1dCwgb3B0cyA9IHt9KSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9uZSgpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpbnB1dCA9IFtpbnB1dF1cbiAgICB9XG4gICAgbGV0IHRyaWUgPSBpc09iamVjdChpbnB1dCkgPyBpbnB1dCA6IGJ1aWxkKGlucHV0LCB0aGlzLndvcmxkKVxuICAgIGxldCByZXMgPSBzY2FuKHRoaXMsIHRyaWUsIG9wdHMpXG4gICAgcmVzID0gcmVzLnNldHRsZSgpXG4gICAgcmV0dXJuIHJlc1xuICB9XG59IiwgIi8vIGNob3Atb2ZmIHRhaWwgb2YgcmVkdW5kYW50IHZhbHMgYXQgZW5kIG9mIGFycmF5XG5jb25zdCB0cnVuY2F0ZSA9IChsaXN0LCB2YWwpID0+IHtcbiAgZm9yIChsZXQgaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICBpZiAobGlzdFtpXSAhPT0gdmFsKSB7XG4gICAgICBsaXN0ID0gbGlzdC5zbGljZSgwLCBpICsgMSlcbiAgICAgIHJldHVybiBsaXN0XG4gICAgfVxuICB9XG4gIHJldHVybiBsaXN0XG59XG5cbi8vIHBydW5lIHRyaWUgYSBiaXRcbmNvbnN0IGNvbXByZXNzID0gZnVuY3Rpb24gKHRyaWUpIHtcbiAgdHJpZS5nb05leHQgPSB0cmllLmdvTmV4dC5tYXAobyA9PiB7XG4gICAgaWYgKE9iamVjdC5rZXlzKG8pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgICByZXR1cm4gb1xuICB9KVxuICAvLyBjaG9wLW9mZiB0YWlsIG9mIHVuZGVmaW5lZCB2YWxzIGluIGdvTmV4dCBhcnJheVxuICB0cmllLmdvTmV4dCA9IHRydW5jYXRlKHRyaWUuZ29OZXh0LCB1bmRlZmluZWQpXG4gIC8vIGNob3Atb2ZmIHRhaWwgb2YgemVyb3MgaW4gZmFpbFRvIGFycmF5XG4gIHRyaWUuZmFpbFRvID0gdHJ1bmNhdGUodHJpZS5mYWlsVG8sIDApXG4gIC8vIGNob3Atb2ZmIHRhaWwgb2YgbnVsbHMgaW4gZW5kQXMgYXJyYXlcbiAgdHJpZS5lbmRBcyA9IHRydW5jYXRlKHRyaWUuZW5kQXMsIG51bGwpXG4gIHJldHVybiB0cmllXG59XG5leHBvcnQgZGVmYXVsdCBjb21wcmVzcyIsICJpbXBvcnQgYXBpIGZyb20gJy4vYXBpL2luZGV4LmpzJ1xuaW1wb3J0IGNvbXByZXNzIGZyb20gJy4vYXBpL2J1aWxkVHJpZS9jb21wcmVzcy5qcydcbmltcG9ydCBidWlsZCBmcm9tICcuL2FwaS9idWlsZFRyaWUvaW5kZXguanMnXG5cbi8qKiBwcmUtY29tcGlsZSBhIGxpc3Qgb2YgbWF0Y2hlcyB0byBsb29rdXAgKi9cbmNvbnN0IGxpYiA9IHtcbiAgLyoqIHR1cm4gYW4gYXJyYXkgb3Igb2JqZWN0IGludG8gYSBjb21wcmVzc2VkIHRyaWUqL1xuICBidWlsZFRyaWU6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIGNvbnN0IHRyaWUgPSBidWlsZChpbnB1dCwgdGhpcy53b3JsZCgpKVxuICAgIHJldHVybiBjb21wcmVzcyh0cmllKVxuICB9XG59XG4vLyBhZGQgYWxpYXNcbmxpYi5jb21waWxlID0gbGliLmJ1aWxkVHJpZVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFwaSxcbiAgbGliXG59XG4iLCAiZXhwb3J0IGNvbnN0IHJlbFBvaW50ZXIgPSBmdW5jdGlvbiAocHRycywgcGFyZW50KSB7XG4gIGlmICghcGFyZW50KSB7XG4gICAgcmV0dXJuIHB0cnNcbiAgfVxuICBwdHJzLmZvckVhY2gocHRyID0+IHtcbiAgICBsZXQgbiA9IHB0clswXVxuICAgIGlmIChwYXJlbnRbbl0pIHtcbiAgICAgIHB0clswXSA9IHBhcmVudFtuXVswXSAvL25cbiAgICAgIHB0clsxXSArPSBwYXJlbnRbbl1bMV0gLy9zdGFydFxuICAgICAgcHRyWzJdICs9IHBhcmVudFtuXVsxXSAvL2VuZFxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHB0cnNcbn1cblxuLy8gbWFrZSBtYXRjaC1yZXN1bHQgcmVsYXRpdmUgdG8gd2hvbGUgZG9jdW1lbnRcbmV4cG9ydCBjb25zdCBmaXhQb2ludGVycyA9IGZ1bmN0aW9uIChyZXMsIHBhcmVudCkge1xuICBsZXQgeyBwdHJzLCBieUdyb3VwIH0gPSByZXNcbiAgcHRycyA9IHJlbFBvaW50ZXIocHRycywgcGFyZW50KVxuICBPYmplY3Qua2V5cyhieUdyb3VwKS5mb3JFYWNoKGsgPT4ge1xuICAgIGJ5R3JvdXBba10gPSByZWxQb2ludGVyKGJ5R3JvdXBba10sIHBhcmVudClcbiAgfSlcbiAgcmV0dXJuIHsgcHRycywgYnlHcm91cCB9XG59XG5cbi8vIHR1cm4gYW55IG1hdGNoYWJsZSBpbnB1dCBpbnRwIGEgbGlzdCBvZiBtYXRjaGVzXG5leHBvcnQgY29uc3QgcGFyc2VSZWdzID0gZnVuY3Rpb24gKHJlZ3MsIG9wdHMsIHdvcmxkKSB7XG4gIGNvbnN0IG9uZSA9IHdvcmxkLm1ldGhvZHMub25lXG4gIGlmICh0eXBlb2YgcmVncyA9PT0gJ251bWJlcicpIHtcbiAgICByZWdzID0gU3RyaW5nKHJlZ3MpXG4gIH1cbiAgLy8gc3VwcG9ydCBwYXJhbSBhcyBzdHJpbmdcbiAgaWYgKHR5cGVvZiByZWdzID09PSAnc3RyaW5nJykge1xuICAgIHJlZ3MgPSBvbmUua2lsbFVuaWNvZGUocmVncywgd29ybGQpXG4gICAgcmVncyA9IG9uZS5wYXJzZU1hdGNoKHJlZ3MsIG9wdHMsIHdvcmxkKVxuICB9XG4gIHJldHVybiByZWdzXG59XG5cbmNvbnN0IGlzT2JqZWN0ID0gdmFsID0+IHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJ1xufVxuXG4vLyBkaWQgdGhleSBwYXNzLWluIGEgY29tcHJvbWlzZSBvYmplY3Q/XG5leHBvcnQgY29uc3QgaXNWaWV3ID0gdmFsID0+IHZhbCAmJiBpc09iamVjdCh2YWwpICYmIHZhbC5pc1ZpZXcgPT09IHRydWVcblxuZXhwb3J0IGNvbnN0IGlzTmV0ID0gdmFsID0+IHZhbCAmJiBpc09iamVjdCh2YWwpICYmIHZhbC5pc05ldCA9PT0gdHJ1ZVxuIiwgImltcG9ydCB7IGZpeFBvaW50ZXJzLCBpc1ZpZXcsIGlzTmV0LCBwYXJzZVJlZ3MgfSBmcm9tICcuL19saWIuanMnXG5cbmNvbnN0IG1hdGNoID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IG9uZSA9IHRoaXMubWV0aG9kcy5vbmVcbiAgLy8gc3VwcG9ydCBwYXJhbSBhcyB2aWV3IG9iamVjdFxuICBpZiAoaXNWaWV3KHJlZ3MpKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uKHJlZ3MpXG4gIH1cbiAgLy8gc3VwcG9ydCBhIGNvbXBpbGVkIHNldCBvZiBtYXRjaGVzXG4gIGlmIChpc05ldChyZWdzKSkge1xuICAgIHJldHVybiB0aGlzLnN3ZWVwKHJlZ3MsIHsgdGFnZ2VyOiBmYWxzZSB9KS52aWV3LnNldHRsZSgpXG4gIH1cbiAgcmVncyA9IHBhcnNlUmVncyhyZWdzLCBvcHRzLCB0aGlzLndvcmxkKVxuICBsZXQgdG9kbyA9IHsgcmVncywgZ3JvdXAgfVxuICBsZXQgcmVzID0gb25lLm1hdGNoKHRoaXMuZG9jcywgdG9kbywgdGhpcy5fY2FjaGUpXG4gIGxldCB7IHB0cnMsIGJ5R3JvdXAgfSA9IGZpeFBvaW50ZXJzKHJlcywgdGhpcy5mdWxsUG9pbnRlcilcbiAgbGV0IHZpZXcgPSB0aGlzLnRvVmlldyhwdHJzKVxuICB2aWV3Ll9ncm91cHMgPSBieUdyb3VwXG4gIHJldHVybiB2aWV3XG59XG5cbmNvbnN0IG1hdGNoT25lID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IG9uZSA9IHRoaXMubWV0aG9kcy5vbmVcbiAgLy8gc3VwcG9ydCBhdCB2aWV3IGFzIGEgcGFyYW1cbiAgaWYgKGlzVmlldyhyZWdzKSkge1xuICAgIHJldHVybiB0aGlzLmludGVyc2VjdGlvbihyZWdzKS5lcSgwKVxuICB9XG4gIC8vIHN1cHBvcnQgYSBjb21waWxlZCBzZXQgb2YgbWF0Y2hlc1xuICBpZiAoaXNOZXQocmVncykpIHtcbiAgICByZXR1cm4gdGhpcy5zd2VlcChyZWdzLCB7IHRhZ2dlcjogZmFsc2UsIG1hdGNoT25lOiB0cnVlIH0pLnZpZXdcbiAgfVxuICByZWdzID0gcGFyc2VSZWdzKHJlZ3MsIG9wdHMsIHRoaXMud29ybGQpXG4gIGxldCB0b2RvID0geyByZWdzLCBncm91cCwganVzdE9uZTogdHJ1ZSB9XG4gIGxldCByZXMgPSBvbmUubWF0Y2godGhpcy5kb2NzLCB0b2RvLCB0aGlzLl9jYWNoZSlcbiAgbGV0IHsgcHRycywgYnlHcm91cCB9ID0gZml4UG9pbnRlcnMocmVzLCB0aGlzLmZ1bGxQb2ludGVyKVxuICBsZXQgdmlldyA9IHRoaXMudG9WaWV3KHB0cnMpXG4gIHZpZXcuX2dyb3VwcyA9IGJ5R3JvdXBcbiAgcmV0dXJuIHZpZXdcbn1cblxuY29uc3QgaGFzID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IG9uZSA9IHRoaXMubWV0aG9kcy5vbmVcbiAgLy8gc3VwcG9ydCB2aWV3IGFzIGlucHV0XG4gIGlmIChpc1ZpZXcocmVncykpIHtcbiAgICBsZXQgcHRycyA9IHRoaXMuaW50ZXJzZWN0aW9uKHJlZ3MpLmZ1bGxQb2ludGVyXG4gICAgcmV0dXJuIHB0cnMubGVuZ3RoID4gMFxuICB9XG4gIC8vIHN1cHBvcnQgYSBjb21waWxlZCBzZXQgb2YgbWF0Y2hlc1xuICBpZiAoaXNOZXQocmVncykpIHtcbiAgICByZXR1cm4gdGhpcy5zd2VlcChyZWdzLCB7IHRhZ2dlcjogZmFsc2UgfSkudmlldy5mb3VuZFxuICB9XG4gIHJlZ3MgPSBwYXJzZVJlZ3MocmVncywgb3B0cywgdGhpcy53b3JsZClcbiAgbGV0IHRvZG8gPSB7IHJlZ3MsIGdyb3VwLCBqdXN0T25lOiB0cnVlIH1cbiAgbGV0IHB0cnMgPSBvbmUubWF0Y2godGhpcy5kb2NzLCB0b2RvLCB0aGlzLl9jYWNoZSkucHRyc1xuICByZXR1cm4gcHRycy5sZW5ndGggPiAwXG59XG5cbi8vICdpZidcbmNvbnN0IGlmRm4gPSBmdW5jdGlvbiAocmVncywgZ3JvdXAsIG9wdHMpIHtcbiAgY29uc3Qgb25lID0gdGhpcy5tZXRob2RzLm9uZVxuICAvLyBzdXBwb3J0IHZpZXcgYXMgaW5wdXRcbiAgaWYgKGlzVmlldyhyZWdzKSkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcihtID0+IG0uaW50ZXJzZWN0aW9uKHJlZ3MpLmZvdW5kKVxuICB9XG4gIC8vIHN1cHBvcnQgYSBjb21waWxlZCBzZXQgb2YgbWF0Y2hlc1xuICBpZiAoaXNOZXQocmVncykpIHtcbiAgICBsZXQgbSA9IHRoaXMuc3dlZXAocmVncywgeyB0YWdnZXI6IGZhbHNlIH0pLnZpZXcuc2V0dGxlKClcbiAgICByZXR1cm4gdGhpcy5pZihtKSAvL3JlY3Vyc2Ugd2l0aCByZXN1bHRcbiAgfVxuICByZWdzID0gcGFyc2VSZWdzKHJlZ3MsIG9wdHMsIHRoaXMud29ybGQpXG4gIGxldCB0b2RvID0geyByZWdzLCBncm91cCwganVzdE9uZTogdHJ1ZSB9XG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICBsZXQgY2FjaGUgPSB0aGlzLl9jYWNoZSB8fCBbXVxuICBwdHJzID0gcHRycy5maWx0ZXIoKHB0ciwgaSkgPT4ge1xuICAgIGxldCBtID0gdGhpcy51cGRhdGUoW3B0cl0pXG4gICAgbGV0IHJlcyA9IG9uZS5tYXRjaChtLmRvY3MsIHRvZG8sIGNhY2hlW2ldKS5wdHJzXG4gICAgcmV0dXJuIHJlcy5sZW5ndGggPiAwXG4gIH0pXG4gIGxldCB2aWV3ID0gdGhpcy51cGRhdGUocHRycylcbiAgLy8gdHJ5IGFuZCByZWNvbnN0cnVjdCB0aGUgY2FjaGVcbiAgaWYgKHRoaXMuX2NhY2hlKSB7XG4gICAgdmlldy5fY2FjaGUgPSBwdHJzLm1hcChwdHIgPT4gY2FjaGVbcHRyWzBdXSlcbiAgfVxuICByZXR1cm4gdmlld1xufVxuXG5jb25zdCBpZk5vID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IHsgbWV0aG9kcyB9ID0gdGhpc1xuICBjb25zdCBvbmUgPSBtZXRob2RzLm9uZVxuICAvLyBzdXBwb3J0IGEgdmlldyBvYmplY3QgYXMgaW5wdXRcbiAgaWYgKGlzVmlldyhyZWdzKSkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcihtID0+ICFtLmludGVyc2VjdGlvbihyZWdzKS5mb3VuZClcbiAgfVxuICAvLyBzdXBwb3J0IGEgY29tcGlsZWQgc2V0IG9mIG1hdGNoZXNcbiAgaWYgKGlzTmV0KHJlZ3MpKSB7XG4gICAgbGV0IG0gPSB0aGlzLnN3ZWVwKHJlZ3MsIHsgdGFnZ2VyOiBmYWxzZSB9KS52aWV3LnNldHRsZSgpXG4gICAgcmV0dXJuIHRoaXMuaWZObyhtKVxuICB9XG4gIC8vIG90aGVyd2lzZSBwYXJzZSB0aGUgbWF0Y2ggc3RyaW5nXG4gIHJlZ3MgPSBwYXJzZVJlZ3MocmVncywgb3B0cywgdGhpcy53b3JsZClcbiAgbGV0IGNhY2hlID0gdGhpcy5fY2FjaGUgfHwgW11cbiAgbGV0IHZpZXcgPSB0aGlzLmZpbHRlcigobSwgaSkgPT4ge1xuICAgIGxldCB0b2RvID0geyByZWdzLCBncm91cCwganVzdE9uZTogdHJ1ZSB9XG4gICAgbGV0IHB0cnMgPSBvbmUubWF0Y2gobS5kb2NzLCB0b2RvLCBjYWNoZVtpXSkucHRyc1xuICAgIHJldHVybiBwdHJzLmxlbmd0aCA9PT0gMFxuICB9KVxuICAvLyB0cnkgdG8gcmVjb25zdHJ1Y3QgdGhlIGNhY2hlXG4gIGlmICh0aGlzLl9jYWNoZSkge1xuICAgIHZpZXcuX2NhY2hlID0gdmlldy5wdHJzLm1hcChwdHIgPT4gY2FjaGVbcHRyWzBdXSlcbiAgfVxuICByZXR1cm4gdmlld1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IG1hdGNoT25lLCBtYXRjaCwgaGFzLCBpZjogaWZGbiwgaWZObyB9XG4iLCAiY29uc3QgYmVmb3JlID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IHsgaW5kZXhOIH0gPSB0aGlzLm1ldGhvZHMub25lLnBvaW50ZXJcbiAgbGV0IHByZSA9IFtdXG4gIGxldCBieU4gPSBpbmRleE4odGhpcy5mdWxsUG9pbnRlcilcbiAgT2JqZWN0LmtleXMoYnlOKS5mb3JFYWNoKGsgPT4ge1xuICAgIC8vIGNoZWNrIG9ubHkgdGhlIGVhcmxpZXN0IG1hdGNoIGluIHRoZSBzZW50ZW5jZVxuICAgIGxldCBmaXJzdCA9IGJ5TltrXS5zb3J0KChhLCBiKSA9PiAoYVsxXSA+IGJbMV0gPyAxIDogLTEpKVswXVxuICAgIGlmIChmaXJzdFsxXSA+IDApIHtcbiAgICAgIHByZS5wdXNoKFtmaXJzdFswXSwgMCwgZmlyc3RbMV1dKVxuICAgIH1cbiAgfSlcbiAgbGV0IHByZVdvcmRzID0gdGhpcy50b1ZpZXcocHJlKVxuICBpZiAoIXJlZ3MpIHtcbiAgICByZXR1cm4gcHJlV29yZHNcbiAgfVxuICByZXR1cm4gcHJlV29yZHMubWF0Y2gocmVncywgZ3JvdXAsIG9wdHMpXG59XG5cbmNvbnN0IGFmdGVyID0gZnVuY3Rpb24gKHJlZ3MsIGdyb3VwLCBvcHRzKSB7XG4gIGNvbnN0IHsgaW5kZXhOIH0gPSB0aGlzLm1ldGhvZHMub25lLnBvaW50ZXJcbiAgbGV0IHBvc3QgPSBbXVxuICBsZXQgYnlOID0gaW5kZXhOKHRoaXMuZnVsbFBvaW50ZXIpXG4gIGxldCBkb2N1bWVudCA9IHRoaXMuZG9jdW1lbnRcbiAgT2JqZWN0LmtleXMoYnlOKS5mb3JFYWNoKGsgPT4ge1xuICAgIC8vIGNoZWNrIG9ubHkgdGhlIGxhdGVzdCBtYXRjaCBpbiB0aGUgc2VudGVuY2VcbiAgICBsZXQgbGFzdCA9IGJ5TltrXS5zb3J0KChhLCBiKSA9PiAoYVsxXSA+IGJbMV0gPyAtMSA6IDEpKVswXVxuICAgIGxldCBbbiwgLCBlbmRdID0gbGFzdFxuICAgIGlmIChlbmQgPCBkb2N1bWVudFtuXS5sZW5ndGgpIHtcbiAgICAgIHBvc3QucHVzaChbbiwgZW5kLCBkb2N1bWVudFtuXS5sZW5ndGhdKVxuICAgIH1cbiAgfSlcbiAgbGV0IHBvc3RXb3JkcyA9IHRoaXMudG9WaWV3KHBvc3QpXG4gIGlmICghcmVncykge1xuICAgIHJldHVybiBwb3N0V29yZHNcbiAgfVxuICByZXR1cm4gcG9zdFdvcmRzLm1hdGNoKHJlZ3MsIGdyb3VwLCBvcHRzKVxufVxuXG5jb25zdCBncm93TGVmdCA9IGZ1bmN0aW9uIChyZWdzLCBncm91cCwgb3B0cykge1xuICBpZiAodHlwZW9mIHJlZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgcmVncyA9IHRoaXMud29ybGQubWV0aG9kcy5vbmUucGFyc2VNYXRjaChyZWdzLCBvcHRzLCB0aGlzLndvcmxkKVxuICB9XG4gIHJlZ3NbcmVncy5sZW5ndGggLSAxXS5lbmQgPSB0cnVlIC8vIGVuc3VyZSBtYXRjaGVzIGFyZSBiZXNpZGUgdXMgXHUyMTkwXG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICB0aGlzLmZvckVhY2goKG0sIG4pID0+IHtcbiAgICBsZXQgbW9yZSA9IG0uYmVmb3JlKHJlZ3MsIGdyb3VwKVxuICAgIGlmIChtb3JlLmZvdW5kKSB7XG4gICAgICBsZXQgdGVybXMgPSBtb3JlLnRlcm1zKClcbiAgICAgIHB0cnNbbl1bMV0gLT0gdGVybXMubGVuZ3RoXG4gICAgICBwdHJzW25dWzNdID0gdGVybXMuZG9jc1swXVswXS5pZFxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHB0cnMpXG59XG5cbmNvbnN0IGdyb3dSaWdodCA9IGZ1bmN0aW9uIChyZWdzLCBncm91cCwgb3B0cykge1xuICBpZiAodHlwZW9mIHJlZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgcmVncyA9IHRoaXMud29ybGQubWV0aG9kcy5vbmUucGFyc2VNYXRjaChyZWdzLCBvcHRzLCB0aGlzLndvcmxkKVxuICB9XG4gIHJlZ3NbMF0uc3RhcnQgPSB0cnVlIC8vIGVuc3VyZSBtYXRjaGVzIGFyZSBiZXNpZGUgdXMgXHUyMTkyXG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICB0aGlzLmZvckVhY2goKG0sIG4pID0+IHtcbiAgICBsZXQgbW9yZSA9IG0uYWZ0ZXIocmVncywgZ3JvdXApXG4gICAgaWYgKG1vcmUuZm91bmQpIHtcbiAgICAgIGxldCB0ZXJtcyA9IG1vcmUudGVybXMoKVxuICAgICAgcHRyc1tuXVsyXSArPSB0ZXJtcy5sZW5ndGhcbiAgICAgIHB0cnNbbl1bNF0gPSBudWxsIC8vcmVtb3ZlIGVuZC1pZFxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHB0cnMpXG59XG5cbmNvbnN0IGdyb3cgPSBmdW5jdGlvbiAocmVncywgZ3JvdXAsIG9wdHMpIHtcbiAgcmV0dXJuIHRoaXMuZ3Jvd1JpZ2h0KHJlZ3MsIGdyb3VwLCBvcHRzKS5ncm93TGVmdChyZWdzLCBncm91cCwgb3B0cylcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBiZWZvcmUsIGFmdGVyLCBncm93TGVmdCwgZ3Jvd1JpZ2h0LCBncm93IH1cbiIsICJjb25zdCBjb21iaW5lID0gZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBbbGVmdFswXSwgbGVmdFsxXSwgcmlnaHRbMl1dXG59XG5cbmNvbnN0IGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG5jb25zdCBnZXREb2MgPSAocmVnLCB2aWV3LCBncm91cCkgPT4ge1xuICBpZiAodHlwZW9mIHJlZyA9PT0gJ3N0cmluZycgfHwgaXNBcnJheShyZWcpKSB7XG4gICAgcmV0dXJuIHZpZXcubWF0Y2gocmVnLCBncm91cClcbiAgfVxuICBpZiAoIXJlZykge1xuICAgIHJldHVybiB2aWV3Lm5vbmUoKVxuICB9XG4gIHJldHVybiByZWdcbn1cblxuY29uc3QgYWRkSWRzID0gZnVuY3Rpb24gKHB0ciwgdmlldykge1xuICBsZXQgW24sIHN0YXJ0LCBlbmRdID0gcHRyXG4gIGlmICh2aWV3LmRvY3VtZW50W25dICYmIHZpZXcuZG9jdW1lbnRbbl1bc3RhcnRdKSB7XG4gICAgcHRyWzNdID0gcHRyWzNdIHx8IHZpZXcuZG9jdW1lbnRbbl1bc3RhcnRdLmlkXG4gICAgaWYgKHZpZXcuZG9jdW1lbnRbbl1bZW5kIC0gMV0pIHtcbiAgICAgIHB0cls0XSA9IHB0cls0XSB8fCB2aWV3LmRvY3VtZW50W25dW2VuZCAtIDFdLmlkXG4gICAgfVxuICB9XG4gIHJldHVybiBwdHJcbn1cblxuY29uc3QgbWV0aG9kcyA9IHt9XG4vLyBbYmVmb3JlXSwgW21hdGNoXSwgW2FmdGVyXVxubWV0aG9kcy5zcGxpdE9uID0gZnVuY3Rpb24gKG0sIGdyb3VwKSB7XG4gIGNvbnN0IHsgc3BsaXRBbGwgfSA9IHRoaXMubWV0aG9kcy5vbmUucG9pbnRlclxuICBsZXQgc3BsaXRzID0gZ2V0RG9jKG0sIHRoaXMsIGdyb3VwKS5mdWxsUG9pbnRlclxuICBsZXQgYWxsID0gc3BsaXRBbGwodGhpcy5mdWxsUG9pbnRlciwgc3BsaXRzKVxuICBsZXQgcmVzID0gW11cbiAgYWxsLmZvckVhY2gobyA9PiB7XG4gICAgcmVzLnB1c2goby5wYXNzdGhyb3VnaClcbiAgICByZXMucHVzaChvLmJlZm9yZSlcbiAgICByZXMucHVzaChvLm1hdGNoKVxuICAgIHJlcy5wdXNoKG8uYWZ0ZXIpXG4gIH0pXG4gIHJlcyA9IHJlcy5maWx0ZXIocCA9PiBwKVxuICByZXMgPSByZXMubWFwKHAgPT4gYWRkSWRzKHAsIHRoaXMpKVxuICByZXR1cm4gdGhpcy51cGRhdGUocmVzKVxufVxuXG4vLyBbYmVmb3JlXSwgW21hdGNoIGFmdGVyXVxubWV0aG9kcy5zcGxpdEJlZm9yZSA9IGZ1bmN0aW9uIChtLCBncm91cCkge1xuICBjb25zdCB7IHNwbGl0QWxsIH0gPSB0aGlzLm1ldGhvZHMub25lLnBvaW50ZXJcbiAgbGV0IHNwbGl0cyA9IGdldERvYyhtLCB0aGlzLCBncm91cCkuZnVsbFBvaW50ZXJcbiAgbGV0IGFsbCA9IHNwbGl0QWxsKHRoaXMuZnVsbFBvaW50ZXIsIHNwbGl0cylcbiAgLy8gcmVwYWlyIG1hdGNoZXMgdG8gZmF2b3IgW21hdGNoLCBhZnRlcl1cbiAgLy8gLSBpbnN0ZWFkIG9mIFtiZWZvcmUsIG1hdGNoXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIC8vIG1vdmUgYSBiZWZvcmUgdG8gYSBwcmVjZWRpbmcgYWZ0ZXJcbiAgICBpZiAoIWFsbFtpXS5hZnRlciAmJiBhbGxbaSArIDFdICYmIGFsbFtpICsgMV0uYmVmb3JlKSB7XG4gICAgICAvLyBlbnN1cmUgaXQncyBmcm9tIHRoZSBzYW1lIG9yaWdpbmFsIHNlbnRlbmNlXG4gICAgICBpZiAoYWxsW2ldLm1hdGNoICYmIGFsbFtpXS5tYXRjaFswXSA9PT0gYWxsW2kgKyAxXS5iZWZvcmVbMF0pIHtcbiAgICAgICAgYWxsW2ldLmFmdGVyID0gYWxsW2kgKyAxXS5iZWZvcmVcbiAgICAgICAgZGVsZXRlIGFsbFtpICsgMV0uYmVmb3JlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlcyA9IFtdXG4gIGFsbC5mb3JFYWNoKG8gPT4ge1xuICAgIHJlcy5wdXNoKG8ucGFzc3Rocm91Z2gpXG4gICAgcmVzLnB1c2goby5iZWZvcmUpXG4gICAgLy8gYSwgW3gsIGJdXG4gICAgaWYgKG8ubWF0Y2ggJiYgby5hZnRlcikge1xuICAgICAgcmVzLnB1c2goY29tYmluZShvLm1hdGNoLCBvLmFmdGVyKSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYSwgW3hdLCBiXG4gICAgICByZXMucHVzaChvLm1hdGNoKVxuICAgIH1cbiAgfSlcbiAgcmVzID0gcmVzLmZpbHRlcihwID0+IHApXG4gIHJlcyA9IHJlcy5tYXAocCA9PiBhZGRJZHMocCwgdGhpcykpXG4gIHJldHVybiB0aGlzLnVwZGF0ZShyZXMpXG59XG5cbi8vIFtiZWZvcmUgbWF0Y2hdLCBbYWZ0ZXJdXG5tZXRob2RzLnNwbGl0QWZ0ZXIgPSBmdW5jdGlvbiAobSwgZ3JvdXApIHtcbiAgY29uc3QgeyBzcGxpdEFsbCB9ID0gdGhpcy5tZXRob2RzLm9uZS5wb2ludGVyXG4gIGxldCBzcGxpdHMgPSBnZXREb2MobSwgdGhpcywgZ3JvdXApLmZ1bGxQb2ludGVyXG4gIGxldCBhbGwgPSBzcGxpdEFsbCh0aGlzLmZ1bGxQb2ludGVyLCBzcGxpdHMpXG4gIGxldCByZXMgPSBbXVxuICBhbGwuZm9yRWFjaChvID0+IHtcbiAgICByZXMucHVzaChvLnBhc3N0aHJvdWdoKVxuICAgIGlmIChvLmJlZm9yZSAmJiBvLm1hdGNoKSB7XG4gICAgICByZXMucHVzaChjb21iaW5lKG8uYmVmb3JlLCBvLm1hdGNoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnB1c2goby5iZWZvcmUpXG4gICAgICByZXMucHVzaChvLm1hdGNoKVxuICAgIH1cbiAgICByZXMucHVzaChvLmFmdGVyKVxuICB9KVxuICByZXMgPSByZXMuZmlsdGVyKHAgPT4gcClcbiAgcmVzID0gcmVzLm1hcChwID0+IGFkZElkcyhwLCB0aGlzKSlcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHJlcylcbn1cbm1ldGhvZHMuc3BsaXQgPSBtZXRob2RzLnNwbGl0QWZ0ZXJcblxuZXhwb3J0IGRlZmF1bHQgbWV0aG9kc1xuIiwgIi8vIGNoZWNrIGlmIHR3byBwb2ludGVycyBhcmUgcGVyZmVjdGx5IGNvbnNlY3V0aXZlXG5jb25zdCBpc05laWdoYm91ciA9IGZ1bmN0aW9uIChwdHJMLCBwdHJSKSB7XG4gIC8vIHZhbGlkYXRlXG4gIGlmICghcHRyTCB8fCAhcHRyUikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIC8vIHNhbWUgc2VudGVuY2VcbiAgaWYgKHB0ckxbMF0gIT09IHB0clJbMF0pIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvLyBlbnN1cmUgUiBzdGFydHMgd2hlcmUgTCBlbmRzXG4gIHJldHVybiBwdHJMWzJdID09PSBwdHJSWzFdXG59XG5cbi8vIGpvaW4gdHdvIG5laWdoYm91cmluZyB3b3JkcywgaWYgdGhleSBib3RoIG1hdGNoXG5jb25zdCBtZXJnZUlmID0gZnVuY3Rpb24gKGRvYywgbE1hdGNoLCByTWF0Y2gpIHtcbiAgY29uc3Qgd29ybGQgPSBkb2Mud29ybGRcbiAgY29uc3QgcGFyc2VNYXRjaCA9IHdvcmxkLm1ldGhvZHMub25lLnBhcnNlTWF0Y2hcbiAgbE1hdGNoID0gbE1hdGNoIHx8ICcuJCcgLy9kZWZhdWx0c1xuICByTWF0Y2ggPSByTWF0Y2ggfHwgJ14uJ1xuICBsZXQgbGVmdE1hdGNoID0gcGFyc2VNYXRjaChsTWF0Y2gsIHt9LCB3b3JsZClcbiAgbGV0IHJpZ2h0TWF0Y2ggPSBwYXJzZU1hdGNoKHJNYXRjaCwge30sIHdvcmxkKVxuICAvLyBlbnN1cmUgZW5kLXJlcXVpcmVtZW50IHRvIGxlZnQtbWF0Y2gsIHN0YXJ0LXJlcXVpcmVtbnRzIHRvIHJpZ2h0IG1hdGNoXG4gIGxlZnRNYXRjaFtsZWZ0TWF0Y2gubGVuZ3RoIC0gMV0uZW5kID0gdHJ1ZVxuICByaWdodE1hdGNoWzBdLnN0YXJ0ID0gdHJ1ZVxuICAvLyBsZXQncyBnZXQgZ29pbmcuXG4gIGxldCBwdHJzID0gZG9jLmZ1bGxQb2ludGVyXG4gIGxldCByZXMgPSBbcHRyc1swXV1cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBwdHJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGV0IHB0ckwgPSByZXNbcmVzLmxlbmd0aCAtIDFdXG4gICAgbGV0IHB0clIgPSBwdHJzW2ldXG4gICAgbGV0IGxlZnQgPSBkb2MudXBkYXRlKFtwdHJMXSlcbiAgICBsZXQgcmlnaHQgPSBkb2MudXBkYXRlKFtwdHJSXSlcbiAgICAvLyBzaG91bGQgd2UgbWFyZ2UgbGVmdCtyaWdodD9cbiAgICBpZiAoaXNOZWlnaGJvdXIocHRyTCwgcHRyUikgJiYgbGVmdC5oYXMobGVmdE1hdGNoKSAmJiByaWdodC5oYXMocmlnaHRNYXRjaCkpIHtcbiAgICAgIC8vIG1lcmdlIHJpZ2h0IHB0ciBpbnRvIGV4aXN0aW5nIHJlc3VsdFxuICAgICAgcmVzW3Jlcy5sZW5ndGggLSAxXSA9IFtwdHJMWzBdLCBwdHJMWzFdLCBwdHJSWzJdLCBwdHJMWzNdLCBwdHJSWzRdXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXMucHVzaChwdHJSKVxuICAgIH1cbiAgfVxuICAvLyByZXR1cm4gbmV3IHBvaW50ZXJzXG4gIHJldHVybiBkb2MudXBkYXRlKHJlcylcbn1cblxuY29uc3QgbWV0aG9kcyA9IHtcbiAgLy8gIG1lcmdlIG9ubHkgaWYgY29uZGl0aW9ucyBhcmUgbWV0XG4gIGpvaW5JZjogZnVuY3Rpb24gKGxNYXRjaCwgck1hdGNoKSB7XG4gICAgcmV0dXJuIG1lcmdlSWYodGhpcywgbE1hdGNoLCByTWF0Y2gpXG4gIH0sXG4gIC8vIG1lcmdlIGFsbCBuZWlnaGJvdXJpbmcgbWF0Y2hlc1xuICBqb2luOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG1lcmdlSWYodGhpcylcbiAgfSxcbn1cbmV4cG9ydCBkZWZhdWx0IG1ldGhvZHNcbiIsICJpbXBvcnQgbWF0Y2ggZnJvbSAnLi9tYXRjaC5qcydcbmltcG9ydCBsb29rYXJvdW5kIGZyb20gJy4vbG9va2Fyb3VuZC5qcydcbmltcG9ydCBzcGxpdCBmcm9tICcuL3NwbGl0LmpzJ1xuaW1wb3J0IGpvaW4gZnJvbSAnLi9qb2luLmpzJ1xuXG5jb25zdCBtZXRob2RzID0gT2JqZWN0LmFzc2lnbih7fSwgbWF0Y2gsIGxvb2thcm91bmQsIHNwbGl0LCBqb2luKVxuLy8gYWxpYXNlc1xubWV0aG9kcy5sb29rQmVoaW5kID0gbWV0aG9kcy5iZWZvcmVcbm1ldGhvZHMubG9va0JlZm9yZSA9IG1ldGhvZHMuYmVmb3JlXG5cbm1ldGhvZHMubG9va0FoZWFkID0gbWV0aG9kcy5hZnRlclxubWV0aG9kcy5sb29rQWZ0ZXIgPSBtZXRob2RzLmFmdGVyXG5cbm1ldGhvZHMubm90SWYgPSBtZXRob2RzLmlmTm9cbmNvbnN0IG1hdGNoQVBJID0gZnVuY3Rpb24gKFZpZXcpIHtcbiAgT2JqZWN0LmFzc2lnbihWaWV3LnByb3RvdHlwZSwgbWV0aG9kcylcbn1cbmV4cG9ydCBkZWZhdWx0IG1hdGNoQVBJXG4iLCAiLy8gbWF0Y2ggICdmb28gL3llcy8nIGFuZCBub3QgJ2Zvby9uby9iYXInXG5jb25zdCBieVNsYXNoZXMgPSAvKD86XnxcXHMpKFshW15dKig/OjxbXjxdKj4pP1xcLy4qP1teXFxcXC9dXFwvWz9cXF0rKiR+XSopKD86XFxzfCQpL1xuLy8gbWF0Y2ggJyh5ZXMpIGJ1dCBub3QgZm9vKG5vKWJhcidcbmNvbnN0IGJ5UGFyZW50aGVzZXMgPSAvKFshflteXSooPzo8W148XSo+KT9cXChbXildK1teXFxcXCldXFwpWz9cXF0rKiR+XSopKD86XFxzfCQpL1xuLy8gb2theVxuY29uc3QgYnlXb3JkID0gLyAvZ1xuXG5jb25zdCBpc0Jsb2NrID0gc3RyID0+IHtcbiAgcmV0dXJuIC9eWyFbXl0qKDxbXjxdKj4pP1xcKC8udGVzdChzdHIpICYmIC9cXClbP1xcXSsqJH5dKiQvLnRlc3Qoc3RyKVxufVxuY29uc3QgaXNSZWcgPSBzdHIgPT4ge1xuICByZXR1cm4gL15bIVteXSooPFtePF0qPik/XFwvLy50ZXN0KHN0cikgJiYgL1xcL1s/XFxdKyokfl0qJC8udGVzdChzdHIpXG59XG5cbmNvbnN0IGNsZWFuVXAgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyciA9IGFyci5tYXAoc3RyID0+IHN0ci50cmltKCkpXG4gIGFyciA9IGFyci5maWx0ZXIoc3RyID0+IHN0cilcbiAgcmV0dXJuIGFyclxufVxuXG5jb25zdCBwYXJzZUJsb2NrcyA9IGZ1bmN0aW9uICh0eHQpIHtcbiAgLy8gcGFyc2UgYnkgL3JlZ2V4LyBmaXJzdFxuICBsZXQgYXJyID0gdHh0LnNwbGl0KGJ5U2xhc2hlcylcbiAgbGV0IHJlcyA9IFtdXG4gIC8vIHBhcnNlIGJ5IChibG9ja3MpLCBuZXh0XG4gIGFyci5mb3JFYWNoKHN0ciA9PiB7XG4gICAgaWYgKGlzUmVnKHN0cikpIHtcbiAgICAgIHJlcy5wdXNoKHN0cilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICByZXMgPSByZXMuY29uY2F0KHN0ci5zcGxpdChieVBhcmVudGhlc2VzKSlcbiAgfSlcbiAgcmVzID0gY2xlYW5VcChyZXMpXG4gIC8vIHNwbGl0IGJ5IHNwYWNlcywgbm93XG4gIGxldCBmaW5hbCA9IFtdXG4gIHJlcy5mb3JFYWNoKHN0ciA9PiB7XG4gICAgaWYgKGlzQmxvY2soc3RyKSkge1xuICAgICAgZmluYWwucHVzaChzdHIpXG4gICAgfSBlbHNlIGlmIChpc1JlZyhzdHIpKSB7XG4gICAgICBmaW5hbC5wdXNoKHN0cilcbiAgICB9IGVsc2Uge1xuICAgICAgZmluYWwgPSBmaW5hbC5jb25jYXQoc3RyLnNwbGl0KGJ5V29yZCkpXG4gICAgfVxuICB9KVxuICBmaW5hbCA9IGNsZWFuVXAoZmluYWwpXG4gIHJldHVybiBmaW5hbFxufVxuZXhwb3J0IGRlZmF1bHQgcGFyc2VCbG9ja3NcbiIsICJjb25zdCBoYXNNaW5NYXggPSAvXFx7KFswLTldKyk/KCwgKlswLTldKik/XFx9L1xuY29uc3QgYW5kU2lnbiA9IC8mJi9cbi8vIGNvbnN0IGhhc0Rhc2ggPSAvXFxwe0xldHRlcn1bLVx1MjAxM1x1MjAxNF1cXHB7TGV0dGVyfS91XG5jb25zdCBjYXB0dXJlTmFtZSA9IG5ldyBSZWdFeHAoL148XFxzKihcXFMrKVxccyo+Lylcbi8qIGJyZWFrLWRvd24gYSBtYXRjaCBleHByZXNzaW9uIGludG8gdGhpczpcbntcbiAgd29yZDonJyxcbiAgdGFnOicnLFxuICByZWdleDonJyxcblxuICBzdGFydDpmYWxzZSxcbiAgZW5kOmZhbHNlLFxuICBuZWdhdGl2ZTpmYWxzZSxcbiAgYW55dGhpbmc6ZmFsc2UsXG4gIGdyZWVkeTpmYWxzZSxcbiAgb3B0aW9uYWw6ZmFsc2UsXG5cbiAgbmFtZWQ6JycsXG4gIGNob2ljZXM6W10sXG59XG4qL1xuY29uc3QgdGl0bGVDYXNlID0gc3RyID0+IHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zdWJzdHJpbmcoMSlcbmNvbnN0IGVuZCA9IChzdHIpID0+IHN0ci5jaGFyQXQoc3RyLmxlbmd0aCAtIDEpXG5jb25zdCBzdGFydCA9IChzdHIpID0+IHN0ci5jaGFyQXQoMClcbmNvbnN0IHN0cmlwU3RhcnQgPSAoc3RyKSA9PiBzdHIuc3Vic3RyaW5nKDEpXG5jb25zdCBzdHJpcEVuZCA9IChzdHIpID0+IHN0ci5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpXG5cbmNvbnN0IHN0cmlwQm90aCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgc3RyID0gc3RyaXBTdGFydChzdHIpXG4gIHN0ciA9IHN0cmlwRW5kKHN0cilcbiAgcmV0dXJuIHN0clxufVxuLy9cbmNvbnN0IHBhcnNlVG9rZW4gPSBmdW5jdGlvbiAodywgb3B0cykge1xuICBsZXQgb2JqID0ge31cbiAgLy9jb2xsZWN0IGFueSBmbGFncyAoZG8gaXQgdHdpY2UpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSArPSAxKSB7XG4gICAgLy9lbmQtZmxhZ1xuICAgIGlmIChlbmQodykgPT09ICckJykge1xuICAgICAgb2JqLmVuZCA9IHRydWVcbiAgICAgIHcgPSBzdHJpcEVuZCh3KVxuICAgIH1cbiAgICAvL2Zyb250LWZsYWdcbiAgICBpZiAoc3RhcnQodykgPT09ICdeJykge1xuICAgICAgb2JqLnN0YXJ0ID0gdHJ1ZVxuICAgICAgdyA9IHN0cmlwU3RhcnQodylcbiAgICB9XG4gICAgaWYgKGVuZCh3KSA9PT0gJz8nKSB7XG4gICAgICBvYmoub3B0aW9uYWwgPSB0cnVlXG4gICAgICB3ID0gc3RyaXBFbmQodylcbiAgICB9XG4gICAgLy9jYXB0dXJlIGdyb3VwICh0aGlzIG9uZSBjYW4gc3BhbiBtdWx0aXBsZS10ZXJtcylcbiAgICBpZiAoc3RhcnQodykgPT09ICdbJyB8fCBlbmQodykgPT09ICddJykge1xuICAgICAgb2JqLmdyb3VwID0gbnVsbFxuICAgICAgaWYgKHN0YXJ0KHcpID09PSAnWycpIHtcbiAgICAgICAgb2JqLmdyb3VwU3RhcnQgPSB0cnVlXG4gICAgICB9XG4gICAgICBpZiAoZW5kKHcpID09PSAnXScpIHtcbiAgICAgICAgb2JqLmdyb3VwRW5kID0gdHJ1ZVxuICAgICAgfVxuICAgICAgdyA9IHcucmVwbGFjZSgvXlxcWy8sICcnKVxuICAgICAgdyA9IHcucmVwbGFjZSgvXFxdJC8sICcnKVxuICAgICAgLy8gVXNlIGNhcHR1cmUgZ3JvdXAgbmFtZVxuICAgICAgaWYgKHN0YXJ0KHcpID09PSAnPCcpIHtcbiAgICAgICAgY29uc3QgcmVzID0gY2FwdHVyZU5hbWUuZXhlYyh3KVxuICAgICAgICBpZiAocmVzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgb2JqLmdyb3VwID0gcmVzWzFdXG4gICAgICAgICAgdyA9IHcucmVwbGFjZShyZXNbMF0sICcnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vYmFjay1mbGFnc1xuICAgIGlmIChlbmQodykgPT09ICcrJykge1xuICAgICAgb2JqLmdyZWVkeSA9IHRydWVcbiAgICAgIHcgPSBzdHJpcEVuZCh3KVxuICAgIH1cbiAgICBpZiAodyAhPT0gJyonICYmIGVuZCh3KSA9PT0gJyonICYmIHcgIT09ICdcXFxcKicpIHtcbiAgICAgIG9iai5ncmVlZHkgPSB0cnVlXG4gICAgICB3ID0gc3RyaXBFbmQodylcbiAgICB9XG4gICAgaWYgKHN0YXJ0KHcpID09PSAnIScpIHtcbiAgICAgIG9iai5uZWdhdGl2ZSA9IHRydWVcbiAgICAgIC8vIG9iai5vcHRpb25hbCA9IHRydWVcbiAgICAgIHcgPSBzdHJpcFN0YXJ0KHcpXG4gICAgfVxuICAgIC8vc29mdC1tYXRjaFxuICAgIGlmIChzdGFydCh3KSA9PT0gJ34nICYmIGVuZCh3KSA9PT0gJ34nICYmIHcubGVuZ3RoID4gMikge1xuICAgICAgdyA9IHN0cmlwQm90aCh3KVxuICAgICAgb2JqLmZ1enp5ID0gdHJ1ZVxuICAgICAgb2JqLm1pbiA9IG9wdHMuZnV6enkgfHwgMC44NVxuICAgICAgaWYgKC9cXCgvLnRlc3QodykgPT09IGZhbHNlKSB7XG4gICAgICAgIG9iai53b3JkID0gd1xuICAgICAgICByZXR1cm4gb2JqXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9yZWdleFxuICAgIGlmIChzdGFydCh3KSA9PT0gJy8nICYmIGVuZCh3KSA9PT0gJy8nKSB7XG4gICAgICB3ID0gc3RyaXBCb3RoKHcpXG4gICAgICBpZiAob3B0cy5jYXNlU2Vuc2l0aXZlKSB7XG4gICAgICAgIG9iai51c2UgPSAndGV4dCdcbiAgICAgIH1cbiAgICAgIG9iai5yZWdleCA9IG5ldyBSZWdFeHAodykgLy9wb3RlbnRpYWwgdnVsbiAtIHNlY3VyaXR5L2RldGVjdC1ub24tbGl0ZXJhbC1yZWdleHBcbiAgICAgIHJldHVybiBvYmpcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0IGZvb3sxLDl9XG4gICAgaWYgKGhhc01pbk1heC50ZXN0KHcpID09PSB0cnVlKSB7XG4gICAgICB3ID0gdy5yZXBsYWNlKGhhc01pbk1heCwgKF9hLCBiLCBjKSA9PiB7XG4gICAgICAgIGlmIChjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyAnezN9J1x0RXhhY3RseSB0aHJlZSB0aW1lc1xuICAgICAgICAgIG9iai5taW4gPSBOdW1iZXIoYilcbiAgICAgICAgICBvYmoubWF4ID0gTnVtYmVyKGIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYyA9IGMucmVwbGFjZSgvLCAqLywgJycpXG4gICAgICAgICAgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gJ3ssOX0nIGltcGxpZWQgemVybyBtaW5cbiAgICAgICAgICAgIG9iai5taW4gPSAwXG4gICAgICAgICAgICBvYmoubWF4ID0gTnVtYmVyKGMpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICd7Miw0fScgVHdvIHRvIGZvdXIgdGltZXNcbiAgICAgICAgICAgIG9iai5taW4gPSBOdW1iZXIoYilcbiAgICAgICAgICAgIC8vICd7Myx9JyBUaHJlZSBvciBtb3JlIHRpbWVzXG4gICAgICAgICAgICBvYmoubWF4ID0gTnVtYmVyKGMgfHwgOTk5KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB1c2Ugc2FtZSBtZXRob2QgYXMgJysnXG4gICAgICAgIG9iai5ncmVlZHkgPSB0cnVlXG4gICAgICAgIC8vIDAgYXMgbWluIG1lYW5zIHRoZSBzYW1lIGFzICc/J1xuICAgICAgICBpZiAoIW9iai5taW4pIHtcbiAgICAgICAgICBvYmoub3B0aW9uYWwgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vd3JhcHBlZC1mbGFnc1xuICAgIGlmIChzdGFydCh3KSA9PT0gJygnICYmIGVuZCh3KSA9PT0gJyknKSB7XG4gICAgICAvLyBzdXBwb3J0IChvbmUgJiYgdHdvKVxuICAgICAgaWYgKGFuZFNpZ24udGVzdCh3KSkge1xuICAgICAgICBvYmouY2hvaWNlcyA9IHcuc3BsaXQoYW5kU2lnbilcbiAgICAgICAgb2JqLm9wZXJhdG9yID0gJ2FuZCdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iai5jaG9pY2VzID0gdy5zcGxpdCgnfCcpXG4gICAgICAgIG9iai5vcGVyYXRvciA9ICdvcidcbiAgICAgIH1cbiAgICAgIC8vcmVtb3ZlICcoJyBhbmQgJyknXG4gICAgICBvYmouY2hvaWNlc1swXSA9IHN0cmlwU3RhcnQob2JqLmNob2ljZXNbMF0pXG4gICAgICBsZXQgbGFzdCA9IG9iai5jaG9pY2VzLmxlbmd0aCAtIDFcbiAgICAgIG9iai5jaG9pY2VzW2xhc3RdID0gc3RyaXBFbmQob2JqLmNob2ljZXNbbGFzdF0pXG4gICAgICAvLyBjbGVhbiB1cCB0aGUgcmVzdWx0c1xuICAgICAgb2JqLmNob2ljZXMgPSBvYmouY2hvaWNlcy5tYXAocyA9PiBzLnRyaW0oKSlcbiAgICAgIG9iai5jaG9pY2VzID0gb2JqLmNob2ljZXMuZmlsdGVyKHMgPT4gcylcbiAgICAgIC8vcmVjdXJzaW9uIGFsZXJ0IVxuICAgICAgb2JqLmNob2ljZXMgPSBvYmouY2hvaWNlcy5tYXAoc3RyID0+IHtcbiAgICAgICAgcmV0dXJuIHN0ci5zcGxpdCgvIC9nKS5tYXAocyA9PiBwYXJzZVRva2VuKHMsIG9wdHMpKVxuICAgICAgfSlcbiAgICAgIHcgPSAnJ1xuICAgIH1cblxuICAgIC8vcm9vdC9zZW5zZSBvdmVybG9hZGVkXG4gICAgaWYgKHN0YXJ0KHcpID09PSAneycgJiYgZW5kKHcpID09PSAnfScpIHtcbiAgICAgIHcgPSBzdHJpcEJvdGgodylcbiAgICAgIC8vIG9iai5zZW5zZSA9IHdcbiAgICAgIG9iai5yb290ID0gd1xuICAgICAgaWYgKC9cXC8vLnRlc3QodykpIHtcbiAgICAgICAgbGV0IHNwbGl0ID0gb2JqLnJvb3Quc3BsaXQoL1xcLy8pXG4gICAgICAgIG9iai5yb290ID0gc3BsaXRbMF1cbiAgICAgICAgb2JqLnBvcyA9IHNwbGl0WzFdXG4gICAgICAgIGlmIChvYmoucG9zID09PSAnYWRqJykge1xuICAgICAgICAgIG9iai5wb3MgPSAnQWRqZWN0aXZlJ1xuICAgICAgICB9XG4gICAgICAgIC8vIHRpdGxlY2FzZVxuICAgICAgICBvYmoucG9zID0gb2JqLnBvcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG9iai5wb3Muc3Vic3RyKDEpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLy8gYWRkIHNlbnNlLW51bWJlciB0b29cbiAgICAgICAgaWYgKHNwbGl0WzJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBvYmouc2Vuc2UgPSBzcGxpdFsyXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqXG4gICAgfVxuICAgIC8vY2h1bmtzXG4gICAgaWYgKHN0YXJ0KHcpID09PSAnPCcgJiYgZW5kKHcpID09PSAnPicpIHtcbiAgICAgIHcgPSBzdHJpcEJvdGgodylcbiAgICAgIG9iai5jaHVuayA9IHRpdGxlQ2FzZSh3KVxuICAgICAgb2JqLmdyZWVkeSA9IHRydWVcbiAgICAgIHJldHVybiBvYmpcbiAgICB9XG4gICAgaWYgKHN0YXJ0KHcpID09PSAnJScgJiYgZW5kKHcpID09PSAnJScpIHtcbiAgICAgIHcgPSBzdHJpcEJvdGgodylcbiAgICAgIG9iai5zd2l0Y2ggPSB3XG4gICAgICByZXR1cm4gb2JqXG4gICAgfVxuICB9XG4gIC8vZG8gdGhlIGFjdHVhbCB0b2tlbiBjb250ZW50XG4gIGlmIChzdGFydCh3KSA9PT0gJyMnKSB7XG4gICAgb2JqLnRhZyA9IHN0cmlwU3RhcnQodylcbiAgICBvYmoudGFnID0gdGl0bGVDYXNlKG9iai50YWcpXG4gICAgcmV0dXJuIG9ialxuICB9XG4gIC8vZHluYW1pYyBmdW5jdGlvbiBvbiBhIHRlcm0gb2JqZWN0XG4gIGlmIChzdGFydCh3KSA9PT0gJ0AnKSB7XG4gICAgb2JqLm1ldGhvZCA9IHN0cmlwU3RhcnQodylcbiAgICByZXR1cm4gb2JqXG4gIH1cbiAgaWYgKHcgPT09ICcuJykge1xuICAgIG9iai5hbnl0aGluZyA9IHRydWVcbiAgICByZXR1cm4gb2JqXG4gIH1cbiAgLy9zdXBwb3J0IGFsb25lLWFzdHJpeFxuICBpZiAodyA9PT0gJyonKSB7XG4gICAgb2JqLmFueXRoaW5nID0gdHJ1ZVxuICAgIG9iai5ncmVlZHkgPSB0cnVlXG4gICAgb2JqLm9wdGlvbmFsID0gdHJ1ZVxuICAgIHJldHVybiBvYmpcbiAgfVxuICBpZiAodykge1xuICAgIC8vc29tZWhvdyBoYW5kbGUgZW5jb2RlZC1jaGFycz9cbiAgICB3ID0gdy5yZXBsYWNlKCdcXFxcKicsICcqJylcbiAgICB3ID0gdy5yZXBsYWNlKCdcXFxcLicsICcuJylcbiAgICBpZiAob3B0cy5jYXNlU2Vuc2l0aXZlKSB7XG4gICAgICBvYmoudXNlID0gJ3RleHQnXG4gICAgfSBlbHNlIHtcbiAgICAgIHcgPSB3LnRvTG93ZXJDYXNlKClcbiAgICB9XG4gICAgb2JqLndvcmQgPSB3XG4gIH1cbiAgcmV0dXJuIG9ialxufVxuZXhwb3J0IGRlZmF1bHQgcGFyc2VUb2tlblxuIiwgImNvbnN0IGhhc0Rhc2ggPSAvW2EtejAtOV1bLVx1MjAxM1x1MjAxNF1bYS16XS9pXG5cbi8vIG1hdGNoICdyZS1kbycgLT4gWydyZScsJ2RvJ11cbmNvbnN0IHNwbGl0SHlwaGVucyA9IGZ1bmN0aW9uIChyZWdzLCB3b3JsZCkge1xuICBsZXQgcHJlZml4ZXMgPSB3b3JsZC5tb2RlbC5vbmUucHJlZml4ZXNcbiAgZm9yIChsZXQgaSA9IHJlZ3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICBsZXQgcmVnID0gcmVnc1tpXVxuICAgIGlmIChyZWcud29yZCAmJiBoYXNEYXNoLnRlc3QocmVnLndvcmQpKSB7XG4gICAgICBsZXQgd29yZHMgPSByZWcud29yZC5zcGxpdCgvWy1cdTIwMTNcdTIwMTRdL2cpXG4gICAgICAvLyBkb24ndCBzcGxpdCAncmUtY3ljbGUnLCBldGNcbiAgICAgIGlmIChwcmVmaXhlcy5oYXNPd25Qcm9wZXJ0eSh3b3Jkc1swXSkpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIHdvcmRzID0gd29yZHMuZmlsdGVyKHcgPT4gdykucmV2ZXJzZSgpXG4gICAgICByZWdzLnNwbGljZShpLCAxKVxuICAgICAgd29yZHMuZm9yRWFjaCh3ID0+IHtcbiAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHJlZylcbiAgICAgICAgb2JqLndvcmQgPSB3XG4gICAgICAgIHJlZ3Muc3BsaWNlKGksIDAsIG9iailcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIHJldHVybiByZWdzXG59XG5leHBvcnQgZGVmYXVsdCBzcGxpdEh5cGhlbnMiLCAiXG4vLyBhZGQgYWxsIGNvbmp1Z2F0aW9ucyBvZiB0aGlzIHZlcmJcbmNvbnN0IGFkZFZlcmJzID0gZnVuY3Rpb24gKHRva2VuLCB3b3JsZCkge1xuICBsZXQgeyBhbGwgfSA9IHdvcmxkLm1ldGhvZHMudHdvLnRyYW5zZm9ybS52ZXJiIHx8IHt9XG4gIGxldCBzdHIgPSB0b2tlbi5yb290XG4gIGlmICghYWxsKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbiAgcmV0dXJuIGFsbChzdHIsIHdvcmxkLm1vZGVsKVxufVxuXG4vLyBhZGQgYWxsIGluZmxlY3Rpb25zIG9mIHRoaXMgbm91blxuY29uc3QgYWRkTm91biA9IGZ1bmN0aW9uICh0b2tlbiwgd29ybGQpIHtcbiAgbGV0IHsgYWxsIH0gPSB3b3JsZC5tZXRob2RzLnR3by50cmFuc2Zvcm0ubm91biB8fCB7fVxuICBpZiAoIWFsbCkge1xuICAgIHJldHVybiBbdG9rZW4ucm9vdF1cbiAgfVxuICByZXR1cm4gYWxsKHRva2VuLnJvb3QsIHdvcmxkLm1vZGVsKVxufVxuXG4vLyBhZGQgYWxsIGluZmxlY3Rpb25zIG9mIHRoaXMgYWRqZWN0aXZlXG5jb25zdCBhZGRBZGplY3RpdmUgPSBmdW5jdGlvbiAodG9rZW4sIHdvcmxkKSB7XG4gIGxldCB7IGFsbCB9ID0gd29ybGQubWV0aG9kcy50d28udHJhbnNmb3JtLmFkamVjdGl2ZSB8fCB7fVxuICBpZiAoIWFsbCkge1xuICAgIHJldHVybiBbdG9rZW4ucm9vdF1cbiAgfVxuICByZXR1cm4gYWxsKHRva2VuLnJvb3QsIHdvcmxkLm1vZGVsKVxufVxuXG4vLyB0dXJuICd7d2Fsa30nIGludG8gJ3dhbGtpbmcnLCAnd2Fsa2VkJywgZXRjXG5jb25zdCBpbmZsZWN0Um9vdCA9IGZ1bmN0aW9uIChyZWdzLCB3b3JsZCkge1xuICAvLyBkbyB3ZSBoYXZlIGNvbXByb21pc2UvdHdvP1xuICByZWdzID0gcmVncy5tYXAodG9rZW4gPT4ge1xuICAgIC8vIGEgcmVnIHRvIGNvbnZlcnQgJ3tmb299J1xuICAgIGlmICh0b2tlbi5yb290KSB7XG4gICAgICAvLyBjaGVjayBpZiBjb21wcm9taXNlL3R3byBpcyBsb2FkZWRcbiAgICAgIGlmICh3b3JsZC5tZXRob2RzLnR3byAmJiB3b3JsZC5tZXRob2RzLnR3by50cmFuc2Zvcm0pIHtcbiAgICAgICAgbGV0IGNob2ljZXMgPSBbXVxuICAgICAgICAvLyBoYXZlIGV4cGxpY2l0bHkgc2V0IGZyb20gUE9TIC0gJ3tzd2VldC9hZGplY3RpdmV9J1xuICAgICAgICBpZiAodG9rZW4ucG9zKSB7XG4gICAgICAgICAgaWYgKHRva2VuLnBvcyA9PT0gJ1ZlcmInKSB7XG4gICAgICAgICAgICBjaG9pY2VzID0gY2hvaWNlcy5jb25jYXQoYWRkVmVyYnModG9rZW4sIHdvcmxkKSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnBvcyA9PT0gJ05vdW4nKSB7XG4gICAgICAgICAgICBjaG9pY2VzID0gY2hvaWNlcy5jb25jYXQoYWRkTm91bih0b2tlbiwgd29ybGQpKVxuICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4ucG9zID09PSAnQWRqZWN0aXZlJykge1xuICAgICAgICAgICAgY2hvaWNlcyA9IGNob2ljZXMuY29uY2F0KGFkZEFkamVjdGl2ZSh0b2tlbiwgd29ybGQpKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBkbyB2ZXJiL25vdW4vYWRqIGJ5IGRlZmF1bHRcbiAgICAgICAgICBjaG9pY2VzID0gY2hvaWNlcy5jb25jYXQoYWRkVmVyYnModG9rZW4sIHdvcmxkKSlcbiAgICAgICAgICBjaG9pY2VzID0gY2hvaWNlcy5jb25jYXQoYWRkTm91bih0b2tlbiwgd29ybGQpKVxuICAgICAgICAgIGNob2ljZXMgPSBjaG9pY2VzLmNvbmNhdChhZGRBZGplY3RpdmUodG9rZW4sIHdvcmxkKSlcbiAgICAgICAgfVxuICAgICAgICBjaG9pY2VzID0gY2hvaWNlcy5maWx0ZXIoc3RyID0+IHN0cilcbiAgICAgICAgaWYgKGNob2ljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRva2VuLm9wZXJhdG9yID0gJ29yJ1xuICAgICAgICAgIHRva2VuLmZhc3RPciA9IG5ldyBTZXQoY2hvaWNlcylcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgbm8gY29tcHJvbWlzZS90d28sIGRyb3AgZG93biBpbnRvICdtYWNoaW5lJyBsb29rdXBcbiAgICAgICAgdG9rZW4ubWFjaGluZSA9IHRva2VuLnJvb3RcbiAgICAgICAgZGVsZXRlIHRva2VuLmlkXG4gICAgICAgIGRlbGV0ZSB0b2tlbi5yb290XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0b2tlblxuICB9KVxuXG4gIHJldHVybiByZWdzXG59XG5leHBvcnQgZGVmYXVsdCBpbmZsZWN0Um9vdCIsICIvLyBuYW1lIGFueSBbdW5uYW1lZF0gY2FwdHVyZS1ncm91cHMgd2l0aCBhIG51bWJlclxuY29uc3QgbmFtZUdyb3VwcyA9IGZ1bmN0aW9uIChyZWdzKSB7XG4gIGxldCBpbmRleCA9IDBcbiAgbGV0IGluR3JvdXAgPSBudWxsXG4gIC8vJ2ZpbGwgaW4nIGNhcHR1cmUgZ3JvdXBzIGJldHdlZW4gc3RhcnQtZW5kXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRva2VuID0gcmVnc1tpXVxuICAgIGlmICh0b2tlbi5ncm91cFN0YXJ0ID09PSB0cnVlKSB7XG4gICAgICBpbkdyb3VwID0gdG9rZW4uZ3JvdXBcbiAgICAgIGlmIChpbkdyb3VwID09PSBudWxsKSB7XG4gICAgICAgIGluR3JvdXAgPSBTdHJpbmcoaW5kZXgpXG4gICAgICAgIGluZGV4ICs9IDFcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluR3JvdXAgIT09IG51bGwpIHtcbiAgICAgIHRva2VuLmdyb3VwID0gaW5Hcm91cFxuICAgIH1cbiAgICBpZiAodG9rZW4uZ3JvdXBFbmQgPT09IHRydWUpIHtcbiAgICAgIGluR3JvdXAgPSBudWxsXG4gICAgfVxuICB9XG4gIHJldHVybiByZWdzXG59XG5cbi8vIG9wdGltaXplIGFuICdvcicgbG9va3VwLCB3aGVuIHRoZSAoYXxifGMpIGxpc3QgaXMgc2ltcGxlIG9yIG11bHRpLXdvcmRcbmNvbnN0IGRvRmFzdE9yTW9kZSA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcbiAgcmV0dXJuIHRva2Vucy5tYXAodG9rZW4gPT4ge1xuICAgIGlmICh0b2tlbi5jaG9pY2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSBpdCdzIGFuIE9SXG4gICAgICBpZiAodG9rZW4ub3BlcmF0b3IgIT09ICdvcicpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuXG4gICAgICB9XG4gICAgICBpZiAodG9rZW4uZnV6enkgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuXG4gICAgICB9XG4gICAgICAvLyBhcmUgdGhleSBhbGwgc3RyYWlnaHQtdXAgd29yZHM/IHRoZW4gb3B0aW1pemUgdGhlbS5cbiAgICAgIGxldCBzaG91bGRQYWNrID0gdG9rZW4uY2hvaWNlcy5ldmVyeShibG9jayA9PiB7XG4gICAgICAgIGlmIChibG9jay5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVnID0gYmxvY2tbMF1cbiAgICAgICAgLy8gfmZ1enp5fiB3b3JkcyBuZWVkIG1vcmUgY2FyZVxuICAgICAgICBpZiAocmVnLmZ1enp5ID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgLy8gXiBhbmQgJCBnZXQgbG9zdCBpbiBmYXN0T3JcbiAgICAgICAgaWYgKHJlZy5zdGFydCB8fCByZWcuZW5kKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZy53b3JkICE9PSB1bmRlZmluZWQgJiYgcmVnLm5lZ2F0aXZlICE9PSB0cnVlICYmIHJlZy5vcHRpb25hbCAhPT0gdHJ1ZSAmJiByZWcubWV0aG9kICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWUgLy9yZWcgaXMgc2ltcGxlLWVub3VnaFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSlcbiAgICAgIGlmIChzaG91bGRQYWNrID09PSB0cnVlKSB7XG4gICAgICAgIHRva2VuLmZhc3RPciA9IG5ldyBTZXQoKVxuICAgICAgICB0b2tlbi5jaG9pY2VzLmZvckVhY2goYmxvY2sgPT4ge1xuICAgICAgICAgIHRva2VuLmZhc3RPci5hZGQoYmxvY2tbMF0ud29yZClcbiAgICAgICAgfSlcbiAgICAgICAgZGVsZXRlIHRva2VuLmNob2ljZXNcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRva2VuXG4gIH0pXG59XG5cbi8vIHN1cHBvcnQgfihhfGJ8Yyl+XG5jb25zdCBmdXp6eU9yID0gZnVuY3Rpb24gKHJlZ3MpIHtcbiAgcmV0dXJuIHJlZ3MubWFwKHJlZyA9PiB7XG4gICAgaWYgKHJlZy5mdXp6eSAmJiByZWcuY2hvaWNlcykge1xuICAgICAgLy8gcGFzcyBmdXp6eS1kYXRhIHRvIGVhY2ggT1IgY2hvaWNlXG4gICAgICByZWcuY2hvaWNlcy5mb3JFYWNoKHIgPT4ge1xuICAgICAgICBpZiAoci5sZW5ndGggPT09IDEgJiYgclswXS53b3JkKSB7XG4gICAgICAgICAgclswXS5mdXp6eSA9IHRydWVcbiAgICAgICAgICByWzBdLm1pbiA9IHJlZy5taW5cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHJlZ1xuICB9KVxufVxuXG5jb25zdCBwb3N0UHJvY2VzcyA9IGZ1bmN0aW9uIChyZWdzKSB7XG4gIC8vIGVuc3VyZSBhbGwgY2FwdHVyZSBncm91cHMgbmFtZXMgYXJlIGZpbGxlZCBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmRcbiAgcmVncyA9IG5hbWVHcm91cHMocmVncylcbiAgLy8gY29udmVydCAnY2hvaWNlcycgZm9ybWF0IHRvICdmYXN0T3InIGZvcm1hdFxuICByZWdzID0gZG9GYXN0T3JNb2RlKHJlZ3MpXG4gIC8vIHN1cHBvcnQgfihmb298YmFyKX5cbiAgcmVncyA9IGZ1enp5T3IocmVncylcbiAgcmV0dXJuIHJlZ3Ncbn1cbmV4cG9ydCBkZWZhdWx0IHBvc3RQcm9jZXNzXG4iLCAiaW1wb3J0IHBhcnNlQmxvY2tzIGZyb20gJy4vMDEtcGFyc2VCbG9ja3MuanMnXG5pbXBvcnQgcGFyc2VUb2tlbiBmcm9tICcuLzAyLXBhcnNlVG9rZW4uanMnXG5pbXBvcnQgc3BsaXRIeXBoZW5zIGZyb20gJy4vMDMtc3BsaXRIeXBoZW5zLmpzJ1xuaW1wb3J0IGluZmxlY3RSb290IGZyb20gJy4vMDQtaW5mbGVjdC1yb290LmpzJ1xuaW1wb3J0IHBvc3RQcm9jZXNzIGZyb20gJy4vMDUtcG9zdFByb2Nlc3MuanMnXG5cbi8qKiBwYXJzZSBhIG1hdGNoLXN5bnRheCBzdHJpbmcgaW50byBqc29uICovXG5jb25zdCBzeW50YXggPSBmdW5jdGlvbiAoaW5wdXQsIG9wdHMsIHdvcmxkKSB7XG4gIC8vIGZhaWwtZmFzdFxuICBpZiAoaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHVuZGVmaW5lZCB8fCBpbnB1dCA9PT0gJycpIHtcbiAgICByZXR1cm4gW11cbiAgfVxuICBvcHRzID0gb3B0cyB8fCB7fVxuICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgIGlucHV0ID0gU3RyaW5nKGlucHV0KSAvL2dvIGZvciBpdD9cbiAgfVxuICBsZXQgdG9rZW5zID0gcGFyc2VCbG9ja3MoaW5wdXQpXG4gIC8vdHVybiB0aGVtIGludG8gb2JqZWN0c1xuICB0b2tlbnMgPSB0b2tlbnMubWFwKHN0ciA9PiBwYXJzZVRva2VuKHN0ciwgb3B0cykpXG4gIC8vICd+cmUtZG9+J1xuICB0b2tlbnMgPSBzcGxpdEh5cGhlbnModG9rZW5zLCB3b3JsZClcbiAgLy8gJ3t3YWxrfSdcbiAgdG9rZW5zID0gaW5mbGVjdFJvb3QodG9rZW5zLCB3b3JsZClcbiAgLy9jbGVhbiB1cCBhbnl0aGluZyB3ZWlyZFxuICB0b2tlbnMgPSBwb3N0UHJvY2Vzcyh0b2tlbnMsIG9wdHMpXG4gIC8vIGNvbnNvbGUubG9nKHRva2VucylcbiAgcmV0dXJuIHRva2Vuc1xufVxuZXhwb3J0IGRlZmF1bHQgc3ludGF4XG4iLCAiY29uc3QgYW55SW50ZXJzZWN0aW9uID0gZnVuY3Rpb24gKHNldEEsIHNldEIpIHtcbiAgZm9yIChsZXQgZWxlbSBvZiBzZXRCKSB7XG4gICAgaWYgKHNldEEuaGFzKGVsZW0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cbi8vIGNoZWNrIHdvcmRzL3RhZ3MgYWdhaW5zdCBvdXIgY2FjaGVcbmNvbnN0IGZhaWxGYXN0ID0gZnVuY3Rpb24gKHJlZ3MsIGNhY2hlKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVncy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGxldCByZWcgPSByZWdzW2ldXG4gICAgaWYgKHJlZy5vcHRpb25hbCA9PT0gdHJ1ZSB8fCByZWcubmVnYXRpdmUgPT09IHRydWUgfHwgcmVnLmZ1enp5ID09PSB0cnVlKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyBpcyB0aGUgd29yZCBtaXNzaW5nIGZyb20gdGhlIGNhY2hlP1xuICAgIGlmIChyZWcud29yZCAhPT0gdW5kZWZpbmVkICYmIGNhY2hlLmhhcyhyZWcud29yZCkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBpcyB0aGUgdGFnIG1pc3Npbmc/XG4gICAgaWYgKHJlZy50YWcgIT09IHVuZGVmaW5lZCAmJiBjYWNoZS5oYXMoJyMnICsgcmVnLnRhZykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBwZXJmb3JtIGEgc3BlZWR1cCBmb3IgZmFzdC1vclxuICAgIGlmIChyZWcuZmFzdE9yICYmIGFueUludGVyc2VjdGlvbihyZWcuZmFzdE9yLCBjYWNoZSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5leHBvcnQgZGVmYXVsdCBmYWlsRmFzdFxuIiwgIi8vIGZ1enp5LW1hdGNoIChkYW1lcmF1LWxldmVuc2h0ZWluKVxuLy8gQmFzZWQgb24gIHRhZC1saXNweSAvbm9kZS1kYW1lcmF1LWxldmVuc2h0ZWluXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGFkLWxpc3B5L25vZGUtZGFtZXJhdS1sZXZlbnNodGVpbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gY291bnQgc3RlcHMgKGluc2VydGlvbnMsIGRlbGV0aW9ucywgc3Vic3RpdHV0aW9ucywgb3IgdHJhbnNwb3NpdGlvbnMpXG5jb25zdCBlZGl0RGlzdGFuY2UgPSBmdW5jdGlvbiAoc3RyQSwgc3RyQikge1xuICBsZXQgYUxlbmd0aCA9IHN0ckEubGVuZ3RoLFxuICAgIGJMZW5ndGggPSBzdHJCLmxlbmd0aFxuICAvLyBmYWlsLWZhc3RcbiAgaWYgKGFMZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYkxlbmd0aFxuICB9XG4gIGlmIChiTGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGFMZW5ndGhcbiAgfVxuICAvLyBJZiB0aGUgbGltaXQgaXMgbm90IGRlZmluZWQgaXQgd2lsbCBiZSBjYWxjdWxhdGUgZnJvbSB0aGlzIGFuZCB0aGF0IGFyZ3MuXG4gIGxldCBsaW1pdCA9IChiTGVuZ3RoID4gYUxlbmd0aCA/IGJMZW5ndGggOiBhTGVuZ3RoKSArIDFcbiAgaWYgKE1hdGguYWJzKGFMZW5ndGggLSBiTGVuZ3RoKSA+IChsaW1pdCB8fCAxMDApKSB7XG4gICAgcmV0dXJuIGxpbWl0IHx8IDEwMFxuICB9XG4gIC8vIGluaXQgdGhlIGFycmF5XG4gIGxldCBtYXRyaXggPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbWl0OyBpKyspIHtcbiAgICBtYXRyaXhbaV0gPSBbaV1cbiAgICBtYXRyaXhbaV0ubGVuZ3RoID0gbGltaXRcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbWl0OyBpKyspIHtcbiAgICBtYXRyaXhbMF1baV0gPSBpXG4gIH1cbiAgLy8gQ2FsY3VsYXRlIG1hdHJpeC5cbiAgbGV0IGosIGFfaW5kZXgsIGJfaW5kZXgsIGNvc3QsIG1pbiwgdFxuICBmb3IgKGxldCBpID0gMTsgaSA8PSBhTGVuZ3RoOyArK2kpIHtcbiAgICBhX2luZGV4ID0gc3RyQVtpIC0gMV1cbiAgICBmb3IgKGogPSAxOyBqIDw9IGJMZW5ndGg7ICsraikge1xuICAgICAgLy8gQ2hlY2sgdGhlIGphZ2dlZCBkaXN0YW5jZSB0b3RhbCBzbyBmYXJcbiAgICAgIGlmIChpID09PSBqICYmIG1hdHJpeFtpXVtqXSA+IDQpIHtcbiAgICAgICAgcmV0dXJuIGFMZW5ndGhcbiAgICAgIH1cbiAgICAgIGJfaW5kZXggPSBzdHJCW2ogLSAxXVxuICAgICAgY29zdCA9IGFfaW5kZXggPT09IGJfaW5kZXggPyAwIDogMSAvLyBTdGVwIDVcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgbWluaW11bSAobXVjaCBmYXN0ZXIgdGhhbiBNYXRoLm1pbiguLi4pKS5cbiAgICAgIG1pbiA9IG1hdHJpeFtpIC0gMV1bal0gKyAxIC8vIERlbGV0aW9uLlxuICAgICAgaWYgKCh0ID0gbWF0cml4W2ldW2ogLSAxXSArIDEpIDwgbWluKSBtaW4gPSB0IC8vIEluc2VydGlvbi5cbiAgICAgIGlmICgodCA9IG1hdHJpeFtpIC0gMV1baiAtIDFdICsgY29zdCkgPCBtaW4pIG1pbiA9IHQgLy8gU3Vic3RpdHV0aW9uLlxuICAgICAgLy8gVXBkYXRlIG1hdHJpeC5cbiAgICAgIGxldCBzaG91bGRVcGRhdGUgPVxuICAgICAgICBpID4gMSAmJiBqID4gMSAmJiBhX2luZGV4ID09PSBzdHJCW2ogLSAyXSAmJiBzdHJBW2kgLSAyXSA9PT0gYl9pbmRleCAmJiAodCA9IG1hdHJpeFtpIC0gMl1baiAtIDJdICsgY29zdCkgPCBtaW5cbiAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgbWF0cml4W2ldW2pdID0gdFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0cml4W2ldW2pdID0gbWluXG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIHJldHVybiBudW1iZXIgb2Ygc3RlcHNcbiAgcmV0dXJuIG1hdHJpeFthTGVuZ3RoXVtiTGVuZ3RoXVxufVxuLy8gc2NvcmUgc2ltaWxhcml0eSBieSBmcm9tIDAtMSAoc3RlcHMvbGVuZ3RoKVxuY29uc3QgZnV6enlNYXRjaCA9IGZ1bmN0aW9uIChzdHJBLCBzdHJCLCBtaW5MZW5ndGggPSAzKSB7XG4gIGlmIChzdHJBID09PSBzdHJCKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuICAvL2Rvbid0IGV2ZW4gYm90aGVyIG9uIHRpbnkgc3RyaW5nc1xuICBpZiAoc3RyQS5sZW5ndGggPCBtaW5MZW5ndGggfHwgc3RyQi5sZW5ndGggPCBtaW5MZW5ndGgpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGNvbnN0IHN0ZXBzID0gZWRpdERpc3RhbmNlKHN0ckEsIHN0ckIpXG4gIGxldCBsZW5ndGggPSBNYXRoLm1heChzdHJBLmxlbmd0aCwgc3RyQi5sZW5ndGgpXG4gIGxldCByZWxhdGl2ZSA9IGxlbmd0aCA9PT0gMCA/IDAgOiBzdGVwcyAvIGxlbmd0aFxuICBsZXQgc2ltaWxhcml0eSA9IDEgLSByZWxhdGl2ZVxuICByZXR1cm4gc2ltaWxhcml0eVxufVxuZXhwb3J0IGRlZmF1bHQgZnV6enlNYXRjaFxuIiwgIi8vIHRoZXNlIG1ldGhvZHMgYXJlIGNhbGxlZCB3aXRoICdAaGFzQ29tbWEnIGluIHRoZSBtYXRjaCBzeW50YXhcbi8vIHZhcmlvdXMgdW5pY29kZSBxdW90YXRpb24tbWFyayBmb3JtYXRzXG5jb25zdCBzdGFydFF1b3RlID1cbiAgLyhbXFx1MDAyMlxcdUZGMDJcXHUwMDI3XFx1MjAxQ1xcdTIwMThcXHUyMDFGXFx1MjAxQlxcdTIwMUVcXHUyRTQyXFx1MjAxQVxcdTAwQUJcXHUyMDM5XFx1MjAzNVxcdTIwMzZcXHUyMDM3XFx1MzAxRFxcdTAwNjBcXHUzMDFGXSkvXG5cbmNvbnN0IGVuZFF1b3RlID0gLyhbXFx1MDAyMlxcdUZGMDJcXHUwMDI3XFx1MjAxRFxcdTIwMTlcXHUwMEJCXFx1MjAzQVxcdTIwMzJcXHUyMDMzXFx1MjAzNFxcdTMwMUVcXHUwMEI0XSkvXG5cbmNvbnN0IGhhc0h5cGhlbiA9IC9eWy1cdTIwMTNcdTIwMTRdJC9cbmNvbnN0IGhhc0Rhc2ggPSAvIFstXHUyMDEzXHUyMDE0XXsxLDN9IC9cblxuLyoqIHNlYXJjaCB0aGUgdGVybSdzICdwb3N0JyBwdW5jdHVhdGlvbiAgKi9cbmNvbnN0IGhhc1Bvc3QgPSAodGVybSwgcHVuY3QpID0+IHRlcm0ucG9zdC5pbmRleE9mKHB1bmN0KSAhPT0gLTFcbi8qKiBzZWFyY2ggdGhlIHRlcm0ncyAncHJlJyBwdW5jdHVhdGlvbiAgKi9cbi8vIGNvbnN0IGhhc1ByZSA9ICh0ZXJtLCBwdW5jdCkgPT4gdGVybS5wcmUuaW5kZXhPZihwdW5jdCkgIT09IC0xXG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiBkb2VzIGl0IGhhdmUgYSBxdW90YXRpb24gc3ltYm9sPyAgKi9cbiAgaGFzUXVvdGU6IHRlcm0gPT4gc3RhcnRRdW90ZS50ZXN0KHRlcm0ucHJlKSB8fCBlbmRRdW90ZS50ZXN0KHRlcm0ucG9zdCksXG4gIC8qKiBkb2VzIGl0IGhhdmUgYSBjb21tYT8gICovXG4gIGhhc0NvbW1hOiB0ZXJtID0+IGhhc1Bvc3QodGVybSwgJywnKSxcbiAgLyoqIGRvZXMgaXQgZW5kIGluIGEgcGVyaW9kPyAqL1xuICBoYXNQZXJpb2Q6IHRlcm0gPT4gaGFzUG9zdCh0ZXJtLCAnLicpID09PSB0cnVlICYmIGhhc1Bvc3QodGVybSwgJy4uLicpID09PSBmYWxzZSxcbiAgLyoqIGRvZXMgaXQgZW5kIGluIGFuIGV4Y2xhbWF0aW9uICovXG4gIGhhc0V4Y2xhbWF0aW9uOiB0ZXJtID0+IGhhc1Bvc3QodGVybSwgJyEnKSxcbiAgLyoqIGRvZXMgaXQgZW5kIHdpdGggYSBxdWVzdGlvbiBtYXJrPyAqL1xuICBoYXNRdWVzdGlvbk1hcms6IHRlcm0gPT4gaGFzUG9zdCh0ZXJtLCAnPycpIHx8IGhhc1Bvc3QodGVybSwgJ1x1MDBCRicpLFxuICAvKiogaXMgdGhlcmUgYSAuLi4gYXQgdGhlIGVuZD8gKi9cbiAgaGFzRWxsaXBzZXM6IHRlcm0gPT4gaGFzUG9zdCh0ZXJtLCAnLi4nKSB8fCBoYXNQb3N0KHRlcm0sICdcdTIwMjYnKSxcbiAgLyoqIGlzIHRoZXJlIGEgc2VtaWNvbG9uIGFmdGVyIHRlcm0gd29yZD8gKi9cbiAgaGFzU2VtaWNvbG9uOiB0ZXJtID0+IGhhc1Bvc3QodGVybSwgJzsnKSxcbiAgLyoqIGlzIHRoZXJlIGEgY29sb24gYWZ0ZXIgdGVybSB3b3JkPyAqL1xuICBoYXNDb2xvbjogdGVybSA9PiBoYXNQb3N0KHRlcm0sICc6JyksXG4gIC8qKiBpcyB0aGVyZSBhIHNsYXNoICcvJyBpbiB0ZXJtIHdvcmQ/ICovXG4gIGhhc1NsYXNoOiB0ZXJtID0+IC9cXC8vLnRlc3QodGVybS50ZXh0KSxcbiAgLyoqIGEgaHlwaGVuIGNvbm5lY3RzIHR3byB3b3JkcyBsaWtlLXRlcm0gKi9cbiAgaGFzSHlwaGVuOiB0ZXJtID0+IGhhc0h5cGhlbi50ZXN0KHRlcm0ucG9zdCkgfHwgaGFzSHlwaGVuLnRlc3QodGVybS5wcmUpLFxuICAvKiogYSBkYXNoIHNlcGFyYXRlcyB3b3JkcyAtIGxpa2UgdGhhdCAqL1xuICBoYXNEYXNoOiB0ZXJtID0+IGhhc0Rhc2gudGVzdCh0ZXJtLnBvc3QpIHx8IGhhc0Rhc2gudGVzdCh0ZXJtLnByZSksXG4gIC8qKiBpcyBpdCBtdWx0aXBsZSB3b3JkcyBjb21iaW5kZWQgKi9cbiAgaGFzQ29udHJhY3Rpb246IHRlcm0gPT4gQm9vbGVhbih0ZXJtLmltcGxpY2l0KSxcbiAgLyoqIGlzIGl0IGFuIGFjcm9ueW0gKi9cbiAgaXNBY3JvbnltOiB0ZXJtID0+IHRlcm0udGFncy5oYXMoJ0Fjcm9ueW0nKSxcbiAgLyoqIGRvZXMgaXQgaGF2ZSBhbnkgdGFncyAqL1xuICBpc0tub3duOiB0ZXJtID0+IHRlcm0udGFncy5zaXplID4gMCxcbiAgLyoqIHVwcGVyY2FzZSBmaXJzdCBsZXR0ZXIsIHRoZW4gYSBsb3dlcmNhc2UgKi9cbiAgaXNUaXRsZUNhc2U6IHRlcm0gPT4gL15cXHB7THV9W2EteidcXHUwMEMwLVxcdTAwRkZdL3UudGVzdCh0ZXJtLnRleHQpLFxuICAvKiogdXBwZXJjYXNlIGFsbCBsZXR0ZXJzICovXG4gIGlzVXBwZXJDYXNlOiB0ZXJtID0+IC9eXFxwe0x1fSskL3UudGVzdCh0ZXJtLnRleHQpLFxufVxuLy8gYWxpYXNlc1xubWV0aG9kcy5oYXNRdW90YXRpb24gPSBtZXRob2RzLmhhc1F1b3RlXG5cbmV4cG9ydCBkZWZhdWx0IG1ldGhvZHNcbiIsICJpbXBvcnQgZnV6enkgZnJvbSAnLi9fZnV6enkuanMnXG5pbXBvcnQgbWV0aG9kcyBmcm9tICcuLi8uLi90ZXJtTWV0aG9kcy5qcycgLy90aGlzIHNob3VsZCBsb2FkIG9mZiBvZiAnbWV0aG9kcy5vbmUudGVybU1ldGhvZHMnXG5cbi8vZGVjbGFyZSBpdCB1cCBoZXJlXG5sZXQgd3JhcE1hdGNoID0gZnVuY3Rpb24gKCkgeyB9XG4vKiogaWdub3JlIG9wdGlvbmFsL2dyZWVkeSBsb2dpYywgc3RyYWlnaHQtdXAgdGVybSBtYXRjaCovXG5jb25zdCBkb2VzTWF0Y2ggPSBmdW5jdGlvbiAodGVybSwgcmVnLCBpbmRleCwgbGVuZ3RoKSB7XG4gIC8vIHN1cHBvcnQgJy4nXG4gIGlmIChyZWcuYW55dGhpbmcgPT09IHRydWUpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vIHN1cHBvcnQgJ14nIChpbiBwYXJlbnRoZXNlcylcbiAgaWYgKHJlZy5zdGFydCA9PT0gdHJ1ZSAmJiBpbmRleCAhPT0gMCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIC8vIHN1cHBvcnQgJyQnIChpbiBwYXJlbnRoZXNlcylcbiAgaWYgKHJlZy5lbmQgPT09IHRydWUgJiYgaW5kZXggIT09IGxlbmd0aCAtIDEpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvLyBtYXRjaCBhbiBpZFxuICBpZiAocmVnLmlkICE9PSB1bmRlZmluZWQgJiYgcmVnLmlkID09PSB0ZXJtLmlkKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICAvL3N1cHBvcnQgYSB0ZXh0IG1hdGNoXG4gIGlmIChyZWcud29yZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gY2hlY2sgY2FzZS1zZW5zaXRpdml0eSwgZXRjXG4gICAgaWYgKHJlZy51c2UpIHtcbiAgICAgIHJldHVybiByZWcud29yZCA9PT0gdGVybVtyZWcudXNlXVxuICAgIH1cbiAgICAvL21hdGNoIGNvbnRyYWN0aW9ucywgbWFjaGluZS1mb3JtXG4gICAgaWYgKHRlcm0ubWFjaGluZSAhPT0gbnVsbCAmJiB0ZXJtLm1hY2hpbmUgPT09IHJlZy53b3JkKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyB0ZXJtIGFsaWFzZXMgZm9yIHNsYXNoZXMgYW5kIHRoaW5nc1xuICAgIGlmICh0ZXJtLmFsaWFzICE9PSB1bmRlZmluZWQgJiYgdGVybS5hbGlhcy5oYXNPd25Qcm9wZXJ0eShyZWcud29yZCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIC8vIHN1cHBvcnQgfiBmdXp6eSBtYXRjaFxuICAgIGlmIChyZWcuZnV6enkgPT09IHRydWUpIHtcbiAgICAgIGlmIChyZWcud29yZCA9PT0gdGVybS5yb290KSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgICBsZXQgc2NvcmUgPSBmdXp6eShyZWcud29yZCwgdGVybS5ub3JtYWwpXG4gICAgICBpZiAoc2NvcmUgPj0gcmVnLm1pbikge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBtYXRjaCBzbGFzaGVzIGFuZCB0aGluZ3NcbiAgICBpZiAodGVybS5hbGlhcyAmJiB0ZXJtLmFsaWFzLnNvbWUoc3RyID0+IHN0ciA9PT0gcmVnLndvcmQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvL21hdGNoIGVpdGhlciAubm9ybWFsIG9yIC50ZXh0XG4gICAgcmV0dXJuIHJlZy53b3JkID09PSB0ZXJtLnRleHQgfHwgcmVnLndvcmQgPT09IHRlcm0ubm9ybWFsXG4gIH1cbiAgLy9zdXBwb3J0ICNUYWdcbiAgaWYgKHJlZy50YWcgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0ZXJtLnRhZ3MuaGFzKHJlZy50YWcpID09PSB0cnVlXG4gIH1cbiAgLy9zdXBwb3J0IEBtZXRob2RcbiAgaWYgKHJlZy5tZXRob2QgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgbWV0aG9kc1tyZWcubWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJyAmJiBtZXRob2RzW3JlZy5tZXRob2RdKHRlcm0pID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvL3N1cHBvcnQgd2hpdGVzcGFjZS9wdW5jdHVhdGlvblxuICBpZiAocmVnLnByZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRlcm0ucHJlICYmIHRlcm0ucHJlLmluY2x1ZGVzKHJlZy5wcmUpXG4gIH1cbiAgaWYgKHJlZy5wb3N0ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGVybS5wb3N0ICYmIHRlcm0ucG9zdC5pbmNsdWRlcyhyZWcucG9zdClcbiAgfVxuICAvL3N1cHBvcnQgL3JlZy9cbiAgaWYgKHJlZy5yZWdleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbGV0IHN0ciA9IHRlcm0ubm9ybWFsXG4gICAgaWYgKHJlZy51c2UpIHtcbiAgICAgIHN0ciA9IHRlcm1bcmVnLnVzZV1cbiAgICB9XG4gICAgcmV0dXJuIHJlZy5yZWdleC50ZXN0KHN0cilcbiAgfVxuICAvL3N1cHBvcnQgPGNodW5rPlxuICBpZiAocmVnLmNodW5rICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGVybS5jaHVuayA9PT0gcmVnLmNodW5rXG4gIH1cbiAgLy9zdXBwb3J0ICVOb3VufFZlcmIlXG4gIGlmIChyZWcuc3dpdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGVybS5zd2l0Y2ggPT09IHJlZy5zd2l0Y2hcbiAgfVxuICAvL3N1cHBvcnQge21hY2hpbmV9XG4gIGlmIChyZWcubWFjaGluZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRlcm0ubm9ybWFsID09PSByZWcubWFjaGluZSB8fCB0ZXJtLm1hY2hpbmUgPT09IHJlZy5tYWNoaW5lIHx8IHRlcm0ucm9vdCA9PT0gcmVnLm1hY2hpbmVcbiAgfVxuICAvL3N1cHBvcnQge3dvcmQvc2Vuc2V9XG4gIGlmIChyZWcuc2Vuc2UgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0ZXJtLnNlbnNlID09PSByZWcuc2Vuc2VcbiAgfVxuICAvLyBzdXBwb3J0IG9wdGltaXplZCAob25lfHR3bylcbiAgaWYgKHJlZy5mYXN0T3IgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIHt3b3JrL3ZlcmJ9IG11c3QgYmUgYSB2ZXJiXG4gICAgaWYgKHJlZy5wb3MgJiYgIXRlcm0udGFncy5oYXMocmVnLnBvcykpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGxldCBzdHIgPSB0ZXJtLnJvb3QgfHwgdGVybS5pbXBsaWNpdCB8fCB0ZXJtLm1hY2hpbmUgfHwgdGVybS5ub3JtYWxcbiAgICByZXR1cm4gcmVnLmZhc3RPci5oYXMoc3RyKSB8fCByZWcuZmFzdE9yLmhhcyh0ZXJtLnRleHQpXG4gIH1cbiAgLy9zdXBwb3J0IHNsb3dlciAob25lfHR3bylcbiAgaWYgKHJlZy5jaG9pY2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyB0cnkgdG8gc3VwcG9ydCAmJiBvcGVyYXRvclxuICAgIGlmIChyZWcub3BlcmF0b3IgPT09ICdhbmQnKSB7XG4gICAgICAvLyBtdXN0IG1hdGNoIHRoZW0gYWxsXG4gICAgICByZXR1cm4gcmVnLmNob2ljZXMuZXZlcnkociA9PiB3cmFwTWF0Y2godGVybSwgciwgaW5kZXgsIGxlbmd0aCkpXG4gICAgfVxuICAgIC8vIG9yIG11c3QgbWF0Y2ggb25lXG4gICAgcmV0dXJuIHJlZy5jaG9pY2VzLnNvbWUociA9PiB3cmFwTWF0Y2godGVybSwgciwgaW5kZXgsIGxlbmd0aCkpXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG4vLyB3cmFwIHJlc3VsdCBmb3IgIW5lZ2F0aXZlIG1hdGNoIGxvZ2ljXG53cmFwTWF0Y2ggPSBmdW5jdGlvbiAodCwgcmVnLCBpbmRleCwgbGVuZ3RoKSB7XG4gIGxldCByZXN1bHQgPSBkb2VzTWF0Y2godCwgcmVnLCBpbmRleCwgbGVuZ3RoKVxuICBpZiAocmVnLm5lZ2F0aXZlID09PSB0cnVlKSB7XG4gICAgcmV0dXJuICFyZXN1bHRcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5leHBvcnQgZGVmYXVsdCB3cmFwTWF0Y2hcbiIsICJpbXBvcnQgZG9lc01hdGNoIGZyb20gJy4uLy4uL3Rlcm0vZG9lc01hdGNoLmpzJ1xuXG4vLyBmb3IgZ3JlZWR5IGNoZWNraW5nLCB3ZSBubyBsb25nZXIgY2FyZSBhYm91dCB0aGUgcmVnLnN0YXJ0XG4vLyB2YWx1ZSwgYW5kIGxlYXZpbmcgaXQgY2FuIGNhdXNlIGZhaWx1cmVzIGZvciBhbmNob3JlZCBncmVlZHlcbi8vIG1hdGNoZXMuICBkaXR0byBmb3IgZW5kLWdyZWVkeSBtYXRjaGVzOiB3ZSBuZWVkIGFuIGVhcmxpZXIgbm9uLVxuLy8gZW5kaW5nIG1hdGNoIHRvIHN1Y2NjZWVkIHVudGlsIHdlIGdldCB0byB0aGUgYWN0dWFsIGVuZC5cbmNvbnN0IGdldEdyZWVkeSA9IGZ1bmN0aW9uIChzdGF0ZSwgZW5kUmVnKSB7XG4gIGxldCByZWcgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yZWdzW3N0YXRlLnJdLCB7IHN0YXJ0OiBmYWxzZSwgZW5kOiBmYWxzZSB9KVxuICBsZXQgc3RhcnQgPSBzdGF0ZS50XG4gIGZvciAoOyBzdGF0ZS50IDwgc3RhdGUudGVybXMubGVuZ3RoOyBzdGF0ZS50ICs9IDEpIHtcbiAgICAvL3N0b3AgZm9yIG5leHQtcmVnIG1hdGNoXG4gICAgaWYgKGVuZFJlZyAmJiBkb2VzTWF0Y2goc3RhdGUudGVybXNbc3RhdGUudF0sIGVuZFJlZywgc3RhdGUuc3RhcnRfaSArIHN0YXRlLnQsIHN0YXRlLnBocmFzZV9sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gc3RhdGUudFxuICAgIH1cbiAgICBsZXQgY291bnQgPSBzdGF0ZS50IC0gc3RhcnQgKyAxXG4gICAgLy8gaXMgaXQgbWF4LWxlbmd0aCBub3c/XG4gICAgaWYgKHJlZy5tYXggIT09IHVuZGVmaW5lZCAmJiBjb3VudCA9PT0gcmVnLm1heCkge1xuICAgICAgcmV0dXJuIHN0YXRlLnRcbiAgICB9XG4gICAgLy9zdG9wIGhlcmVcbiAgICBpZiAoZG9lc01hdGNoKHN0YXRlLnRlcm1zW3N0YXRlLnRdLCByZWcsIHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50LCBzdGF0ZS5waHJhc2VfbGVuZ3RoKSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGlzIGl0IHRvbyBzaG9ydD9cbiAgICAgIGlmIChyZWcubWluICE9PSB1bmRlZmluZWQgJiYgY291bnQgPCByZWcubWluKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGUudFxuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhdGUudFxufVxuXG5jb25zdCBncmVlZHlUbyA9IGZ1bmN0aW9uIChzdGF0ZSwgbmV4dFJlZykge1xuICBsZXQgdCA9IHN0YXRlLnRcbiAgLy9pZiB0aGVyZSdzIG5vIG5leHQgb25lLCBqdXN0IGdvIG9mZiB0aGUgZW5kIVxuICBpZiAoIW5leHRSZWcpIHtcbiAgICByZXR1cm4gc3RhdGUudGVybXMubGVuZ3RoXG4gIH1cbiAgLy9vdGhlcndpc2UsIHdlJ3JlIGxvb2tpbmcgZm9yIHRoZSBuZXh0IG9uZVxuICBmb3IgKDsgdCA8IHN0YXRlLnRlcm1zLmxlbmd0aDsgdCArPSAxKSB7XG4gICAgaWYgKGRvZXNNYXRjaChzdGF0ZS50ZXJtc1t0XSwgbmV4dFJlZywgc3RhdGUuc3RhcnRfaSArIHQsIHN0YXRlLnBocmFzZV9sZW5ndGgpID09PSB0cnVlKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgZ3JlZWR5VG8gJHtzdGF0ZS50ZXJtc1t0XS5ub3JtYWx9YClcbiAgICAgIHJldHVybiB0XG4gICAgfVxuICB9XG4gIC8vZ3Vlc3MgaXQgZG9lc24ndCBleGlzdCwgdGhlbi5cbiAgcmV0dXJuIG51bGxcbn1cblxuY29uc3QgaXNFbmRHcmVlZHkgPSBmdW5jdGlvbiAocmVnLCBzdGF0ZSkge1xuICBpZiAocmVnLmVuZCA9PT0gdHJ1ZSAmJiByZWcuZ3JlZWR5ID09PSB0cnVlKSB7XG4gICAgaWYgKHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50IDwgc3RhdGUucGhyYXNlX2xlbmd0aCAtIDEpIHtcbiAgICAgIGxldCB0bXBSZWcgPSBPYmplY3QuYXNzaWduKHt9LCByZWcsIHsgZW5kOiBmYWxzZSB9KVxuICAgICAgaWYgKGRvZXNNYXRjaChzdGF0ZS50ZXJtc1tzdGF0ZS50XSwgdG1wUmVnLCBzdGF0ZS5zdGFydF9pICsgc3RhdGUudCwgc3RhdGUucGhyYXNlX2xlbmd0aCkgPT09IHRydWUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYGVuZEdyZWVkeSAke3N0YXRlLnRlcm1zW3N0YXRlLnRdLm5vcm1hbH1gKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZXhwb3J0IHsgaXNFbmRHcmVlZHksIGdyZWVkeVRvLCBnZXRHcmVlZHkgfSIsICJcblxuZXhwb3J0IGNvbnN0IGdldEdyb3VwID0gZnVuY3Rpb24gKHN0YXRlLCB0ZXJtX2luZGV4KSB7XG4gIGlmIChzdGF0ZS5ncm91cHNbc3RhdGUuaW5Hcm91cF0pIHtcbiAgICByZXR1cm4gc3RhdGUuZ3JvdXBzW3N0YXRlLmluR3JvdXBdXG4gIH1cbiAgc3RhdGUuZ3JvdXBzW3N0YXRlLmluR3JvdXBdID0ge1xuICAgIHN0YXJ0OiB0ZXJtX2luZGV4LFxuICAgIGxlbmd0aDogMCxcbiAgfVxuICByZXR1cm4gc3RhdGUuZ3JvdXBzW3N0YXRlLmluR3JvdXBdXG59XG4iLCAiaW1wb3J0IHsgZ3JlZWR5VG8gfSBmcm9tICcuL2xvZ2ljL2dyZWVkeS5qcydcbmltcG9ydCB7IGdldEdyb3VwIH0gZnJvbSAnLi4vX2xpYi5qcydcblxuLy9zdXBwb3J0ICd1bnNwZWNpZmljIGdyZWVkeScgLiogcHJvcGVybHlcbi8vIGl0cyBsb2dpYyBpcyAnZ3JlZWR5IHVudGlsJywgd2hlcmUgaXQncyBsb29raW5nIGZvciB0aGUgbmV4dCB0b2tlblxuLy8gJy4rIGZvbycgbWVhbnMgd2UgY2hlY2sgZm9yICdmb28nLCBpbmRlZmluZXRseVxuY29uc3QgZG9Bc3RyaXggPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgbGV0IHsgcmVncyB9ID0gc3RhdGVcbiAgbGV0IHJlZyA9IHJlZ3Nbc3RhdGUucl1cblxuICBsZXQgc2tpcHRvID0gZ3JlZWR5VG8oc3RhdGUsIHJlZ3Nbc3RhdGUuciArIDFdKVxuICAvL21heWJlIHdlIGNvdWxkbid0IGZpbmQgaXRcbiAgaWYgKHNraXB0byA9PT0gbnVsbCB8fCBza2lwdG8gPT09IDApIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIC8vIGVuc3VyZSBpdCdzIGxvbmcgZW5vdWdoXG4gIGlmIChyZWcubWluICE9PSB1bmRlZmluZWQgJiYgc2tpcHRvIC0gc3RhdGUudCA8IHJlZy5taW4pIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIC8vIHJlZHVjZSBpdCBiYWNrLCBpZiBpdCdzIHRvbyBsb25nXG4gIGlmIChyZWcubWF4ICE9PSB1bmRlZmluZWQgJiYgc2tpcHRvIC0gc3RhdGUudCA+IHJlZy5tYXgpIHtcbiAgICBzdGF0ZS50ID0gc3RhdGUudCArIHJlZy5tYXhcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vIHNldCB0aGUgZ3JvdXAgcmVzdWx0XG4gIGlmIChzdGF0ZS5oYXNHcm91cCA9PT0gdHJ1ZSkge1xuICAgIGNvbnN0IGcgPSBnZXRHcm91cChzdGF0ZSwgc3RhdGUudClcbiAgICBnLmxlbmd0aCA9IHNraXB0byAtIHN0YXRlLnRcbiAgfVxuICBzdGF0ZS50ID0gc2tpcHRvXG4gIC8vIGxvZyhgXHUyNzEzIHxncmVlZHl8YClcbiAgcmV0dXJuIHRydWVcbn1cbmV4cG9ydCBkZWZhdWx0IGRvQXN0cml4IiwgImltcG9ydCBkb2VzTWF0Y2ggZnJvbSAnLi4vLi4vdGVybS9kb2VzTWF0Y2guanMnXG5cbmNvbnN0IGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG5leHBvcnQgY29uc3QgZG9PckJsb2NrID0gZnVuY3Rpb24gKHN0YXRlLCBza2lwTiA9IDApIHtcbiAgbGV0IGJsb2NrID0gc3RhdGUucmVnc1tzdGF0ZS5yXVxuICBsZXQgd2FzRm91bmQgPSBmYWxzZVxuICAvLyBkbyBlYWNoIG11bHRpd29yZCBzZXF1ZW5jZVxuICBmb3IgKGxldCBjID0gMDsgYyA8IGJsb2NrLmNob2ljZXMubGVuZ3RoOyBjICs9IDEpIHtcbiAgICAvLyB0cnkgdG8gbWF0Y2ggdGhpcyBsaXN0IG9mIHRva2Vuc1xuICAgIGxldCByZWdzID0gYmxvY2suY2hvaWNlc1tjXVxuICAgIGlmICghaXNBcnJheShyZWdzKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHdhc0ZvdW5kID0gcmVncy5ldmVyeSgoY3IsIHdfaW5kZXgpID0+IHtcbiAgICAgIGxldCBleHRyYSA9IDBcbiAgICAgIGxldCB0ID0gc3RhdGUudCArIHdfaW5kZXggKyBza2lwTiArIGV4dHJhXG4gICAgICBpZiAoc3RhdGUudGVybXNbdF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGxldCBmb3VuZEJsb2NrID0gZG9lc01hdGNoKHN0YXRlLnRlcm1zW3RdLCBjciwgdCArIHN0YXRlLnN0YXJ0X2ksIHN0YXRlLnBocmFzZV9sZW5ndGgpXG4gICAgICAvLyB0aGlzIGNhbiBiZSBncmVlZHkgLSAnKGZvbysgYmFyKSdcbiAgICAgIGlmIChmb3VuZEJsb2NrID09PSB0cnVlICYmIGNyLmdyZWVkeSA9PT0gdHJ1ZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN0YXRlLnRlcm1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgbGV0IHRlcm0gPSBzdGF0ZS50ZXJtc1t0ICsgaV1cbiAgICAgICAgICBpZiAodGVybSkge1xuICAgICAgICAgICAgbGV0IGtlZXBHb2luZyA9IGRvZXNNYXRjaCh0ZXJtLCBjciwgc3RhdGUuc3RhcnRfaSArIGksIHN0YXRlLnBocmFzZV9sZW5ndGgpXG4gICAgICAgICAgICBpZiAoa2VlcEdvaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGV4dHJhICs9IDFcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBza2lwTiArPSBleHRyYVxuICAgICAgcmV0dXJuIGZvdW5kQmxvY2tcbiAgICB9KVxuICAgIGlmICh3YXNGb3VuZCkge1xuICAgICAgc2tpcE4gKz0gcmVncy5sZW5ndGhcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIC8vIHdlIGZvdW5kIGEgbWF0Y2ggLSAgaXMgaXQgZ3JlZWR5IHRob3VnaD9cbiAgaWYgKHdhc0ZvdW5kICYmIGJsb2NrLmdyZWVkeSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBkb09yQmxvY2soc3RhdGUsIHNraXBOKSAvLyB0cnkgaXQgYWdhaW4hXG4gIH1cbiAgcmV0dXJuIHNraXBOXG59XG5cbmNvbnN0IGRvQW5kQmxvY2sgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgbGV0IGxvbmdlc3QgPSAwXG4gIC8vIGFsbCBibG9ja3MgbXVzdCBtYXRjaCwgYW5kIHdlIHJldHVybiB0aGUgZ3JlZWRpZXN0IG1hdGNoXG4gIGxldCByZWcgPSBzdGF0ZS5yZWdzW3N0YXRlLnJdXG4gIGxldCBhbGxEaWRNYXRjaCA9IHJlZy5jaG9pY2VzLmV2ZXJ5KGJsb2NrID0+IHtcbiAgICAvLyAgZm9yIG11bHRpLXdvcmQgYmxvY2tzLCBhbGwgbXVzdCBtYXRjaFxuICAgIGxldCBhbGxXb3JkcyA9IGJsb2NrLmV2ZXJ5KChjciwgd19pbmRleCkgPT4ge1xuICAgICAgbGV0IHRyeVRlcm0gPSBzdGF0ZS50ICsgd19pbmRleFxuICAgICAgaWYgKHN0YXRlLnRlcm1zW3RyeVRlcm1dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICByZXR1cm4gZG9lc01hdGNoKHN0YXRlLnRlcm1zW3RyeVRlcm1dLCBjciwgdHJ5VGVybSwgc3RhdGUucGhyYXNlX2xlbmd0aClcbiAgICB9KVxuICAgIGlmIChhbGxXb3JkcyA9PT0gdHJ1ZSAmJiBibG9jay5sZW5ndGggPiBsb25nZXN0KSB7XG4gICAgICBsb25nZXN0ID0gYmxvY2subGVuZ3RoXG4gICAgfVxuICAgIHJldHVybiBhbGxXb3Jkc1xuICB9KVxuICBpZiAoYWxsRGlkTWF0Y2ggPT09IHRydWUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhgZG9BbmRCbG9jayAke3N0YXRlLnRlcm1zW3N0YXRlLnRdLm5vcm1hbH1gKVxuICAgIHJldHVybiBsb25nZXN0XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5leHBvcnQgeyBkb0FuZEJsb2NrIH0iLCAiaW1wb3J0IHsgZG9PckJsb2NrIH0gZnJvbSAnLi9sb2dpYy9hbmQtb3IuanMnXG5pbXBvcnQgeyBnZXRHcm91cCB9IGZyb20gJy4uL19saWIuanMnXG5cbmNvbnN0IG9yQmxvY2sgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY29uc3QgeyByZWdzIH0gPSBzdGF0ZVxuICBsZXQgcmVnID0gcmVnc1tzdGF0ZS5yXVxuICBsZXQgc2tpcE51bSA9IGRvT3JCbG9jayhzdGF0ZSlcbiAgLy8gZGlkIHdlIGZpbmQgYSBtYXRjaD9cbiAgaWYgKHNraXBOdW0pIHtcbiAgICAvLyBoYW5kbGUgJ25vdCcgbG9naWNcbiAgICBpZiAocmVnLm5lZ2F0aXZlID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gbnVsbCAvLyBkaWVcbiAgICB9XG4gICAgLy8gdHVjayBpbiBhcyBuYW1lZC1ncm91cFxuICAgIGlmIChzdGF0ZS5oYXNHcm91cCA9PT0gdHJ1ZSkge1xuICAgICAgY29uc3QgZyA9IGdldEdyb3VwKHN0YXRlLCBzdGF0ZS50KVxuICAgICAgZy5sZW5ndGggKz0gc2tpcE51bVxuICAgIH1cbiAgICAvLyBlbnN1cmUgd2UncmUgYXQgdGhlIGVuZFxuICAgIGlmIChyZWcuZW5kID09PSB0cnVlKSB7XG4gICAgICBsZXQgZW5kID0gc3RhdGUucGhyYXNlX2xlbmd0aFxuICAgICAgaWYgKHN0YXRlLnQgKyBzdGF0ZS5zdGFydF9pICsgc2tpcE51bSAhPT0gZW5kKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfVxuICAgIHN0YXRlLnQgKz0gc2tpcE51bVxuICAgIC8vIGxvZyhgXHUyNzEzIHxmb3VuZC1vcnxgKVxuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSBpZiAoIXJlZy5vcHRpb25hbCkge1xuICAgIHJldHVybiBudWxsIC8vZGllXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cbmV4cG9ydCBkZWZhdWx0IG9yQmxvY2siLCAiaW1wb3J0IHsgZG9BbmRCbG9jayB9IGZyb20gJy4vbG9naWMvYW5kLW9yLmpzJ1xuaW1wb3J0IHsgZ2V0R3JvdXAgfSBmcm9tICcuLi9fbGliLmpzJ1xuXG4vLyAnKGZvbyAmJiAjTm91biknIC0gcmVxdWlyZSBhbGwgbWF0Y2hlcyBvbiB0aGUgdGVybVxuY29uc3QgYW5kQmxvY2sgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY29uc3QgeyByZWdzIH0gPSBzdGF0ZVxuICBsZXQgcmVnID0gcmVnc1tzdGF0ZS5yXVxuXG4gIGxldCBza2lwTnVtID0gZG9BbmRCbG9jayhzdGF0ZSlcbiAgaWYgKHNraXBOdW0pIHtcbiAgICAvLyBoYW5kbGUgJ25vdCcgbG9naWNcbiAgICBpZiAocmVnLm5lZ2F0aXZlID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gbnVsbCAvLyBkaWVcbiAgICB9XG4gICAgaWYgKHN0YXRlLmhhc0dyb3VwID09PSB0cnVlKSB7XG4gICAgICBjb25zdCBnID0gZ2V0R3JvdXAoc3RhdGUsIHN0YXRlLnQpXG4gICAgICBnLmxlbmd0aCArPSBza2lwTnVtXG4gICAgfVxuICAgIC8vIGVuc3VyZSB3ZSdyZSBhdCB0aGUgZW5kXG4gICAgaWYgKHJlZy5lbmQgPT09IHRydWUpIHtcbiAgICAgIGxldCBlbmQgPSBzdGF0ZS5waHJhc2VfbGVuZ3RoIC0gMVxuICAgICAgaWYgKHN0YXRlLnQgKyBzdGF0ZS5zdGFydF9pICE9PSBlbmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICB9XG4gICAgc3RhdGUudCArPSBza2lwTnVtXG4gICAgLy8gbG9nKGBcdTI3MTMgfGZvdW5kLWFuZHxgKVxuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSBpZiAoIXJlZy5vcHRpb25hbCkge1xuICAgIHJldHVybiBudWxsIC8vZGllXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cbmV4cG9ydCBkZWZhdWx0IGFuZEJsb2NrIiwgImltcG9ydCBkb2VzTWF0Y2ggZnJvbSAnLi4vLi4vdGVybS9kb2VzTWF0Y2guanMnXG5cbmNvbnN0IG5lZ0dyZWVkeSA9IGZ1bmN0aW9uIChzdGF0ZSwgcmVnLCBuZXh0UmVnKSB7XG4gIGxldCBza2lwID0gMFxuICBmb3IgKGxldCB0ID0gc3RhdGUudDsgdCA8IHN0YXRlLnRlcm1zLmxlbmd0aDsgdCArPSAxKSB7XG4gICAgbGV0IGZvdW5kID0gZG9lc01hdGNoKHN0YXRlLnRlcm1zW3RdLCByZWcsIHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50LCBzdGF0ZS5waHJhc2VfbGVuZ3RoKVxuICAgIC8vIHdlIGRvbid0IHdhbnQgYSBtYXRjaCwgaGVyZVxuICAgIGlmIChmb3VuZCkge1xuICAgICAgYnJlYWsvL3N0b3AgZ29pbmdcbiAgICB9XG4gICAgLy8gYXJlIHdlIGRvaW5nICdncmVlZHktdG8nP1xuICAgIC8vIC0gXCIhZm9vKyBhZnRlclwiICBzaG91bGQgc3RvcCBhdCAnYWZ0ZXInXG4gICAgaWYgKG5leHRSZWcpIHtcbiAgICAgIGZvdW5kID0gZG9lc01hdGNoKHN0YXRlLnRlcm1zW3RdLCBuZXh0UmVnLCBzdGF0ZS5zdGFydF9pICsgc3RhdGUudCwgc3RhdGUucGhyYXNlX2xlbmd0aClcbiAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICBza2lwICs9IDFcbiAgICAvLyBpcyBpdCBtYXgtbGVuZ3RoIG5vdz9cbiAgICBpZiAocmVnLm1heCAhPT0gdW5kZWZpbmVkICYmIHNraXAgPT09IHJlZy5tYXgpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIGlmIChza2lwID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlIC8vZGVhZFxuICB9XG4gIC8vIGRpZCB3ZSBzYXRpc2Z5IG1pbiBmb3IgIWZvb3ttaW4sbWF4fVxuICBpZiAocmVnLm1pbiAmJiByZWcubWluID4gc2tpcCkge1xuICAgIHJldHVybiBmYWxzZS8vZGVhZFxuICB9XG4gIHN0YXRlLnQgKz0gc2tpcFxuICAvLyBzdGF0ZS5yICs9IDFcbiAgcmV0dXJuIHRydWVcbn1cblxuZXhwb3J0IGRlZmF1bHQgbmVnR3JlZWR5IiwgImltcG9ydCBtYXRjaFRlcm0gZnJvbSAnLi4vdGVybS9kb2VzTWF0Y2guanMnXG5pbXBvcnQgbmVnR3JlZWR5IGZyb20gJy4vbG9naWMvbmVnYXRpdmUtZ3JlZWR5LmpzJ1xuXG4vLyAnIWZvbycgc2hvdWxkIG1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgJ2Zvbydcbi8vIGlmIGl0IG1hdGNoZXMsIHJldHVybiBmYWxzZVxuY29uc3QgZG9OZWdhdGl2ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICBjb25zdCB7IHJlZ3MgfSA9IHN0YXRlXG4gIGxldCByZWcgPSByZWdzW3N0YXRlLnJdXG5cbiAgLy8gbWF0Y2ggKmFueXRoaW5nKiBidXQgdGhpcyB0ZXJtXG4gIGxldCB0bXBSZWcgPSBPYmplY3QuYXNzaWduKHt9LCByZWcpXG4gIHRtcFJlZy5uZWdhdGl2ZSA9IGZhbHNlIC8vIHRyeSByZW1vdmluZyBpdFxuXG4gIC8vIGZvdW5kIGl0PyBpZiBzbywgd2UgZGllIGhlcmVcbiAgbGV0IGZvdW5kID0gbWF0Y2hUZXJtKHN0YXRlLnRlcm1zW3N0YXRlLnRdLCB0bXBSZWcsIHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50LCBzdGF0ZS5waHJhc2VfbGVuZ3RoKVxuICBpZiAoZm91bmQpIHtcbiAgICByZXR1cm4gZmFsc2UvL2J5ZVxuICB9XG4gIC8vIHNob3VsZCB3ZSBza2lwIHRoZSB0ZXJtIHRvbz9cbiAgaWYgKHJlZy5vcHRpb25hbCkge1xuICAgIC8vIFwiYmVmb3JlIGFmdGVyXCIgLSBcImJlZm9yZSAhZm9vPyBhZnRlclwiXG4gICAgLy8gZG9lcyB0aGUgbmV4dCByZWcgbWF0Y2ggdGhlIHRoaXMgdGVybT9cbiAgICBsZXQgbmV4dFJlZyA9IHJlZ3Nbc3RhdGUuciArIDFdXG4gICAgaWYgKG5leHRSZWcpIHtcbiAgICAgIGxldCBmTmV4dCA9IG1hdGNoVGVybShzdGF0ZS50ZXJtc1tzdGF0ZS50XSwgbmV4dFJlZywgc3RhdGUuc3RhcnRfaSArIHN0YXRlLnQsIHN0YXRlLnBocmFzZV9sZW5ndGgpXG4gICAgICBpZiAoZk5leHQpIHtcbiAgICAgICAgc3RhdGUuciArPSAxXG4gICAgICB9IGVsc2UgaWYgKG5leHRSZWcub3B0aW9uYWwgJiYgcmVnc1tzdGF0ZS5yICsgMl0pIHtcbiAgICAgICAgLy8gdWdoLiBvayxcbiAgICAgICAgLy8gc3VwcG9ydCBcIiFmb28/IGV4dHJhPyBuZWVkXCJcbiAgICAgICAgLy8gYnV0IGRvbid0IHNjYW4gYWhlYWQgbW9yZSB0aGFuIHRoYXQuXG4gICAgICAgIGxldCBmTmV4dDIgPSBtYXRjaFRlcm0oc3RhdGUudGVybXNbc3RhdGUudF0sIHJlZ3Nbc3RhdGUuciArIDJdLCBzdGF0ZS5zdGFydF9pICsgc3RhdGUudCwgc3RhdGUucGhyYXNlX2xlbmd0aClcbiAgICAgICAgaWYgKGZOZXh0Mikge1xuICAgICAgICAgIHN0YXRlLnIgKz0gMlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIG5lZ2F0aXZlIGdyZWVkeSAtICFmb28rICAtIHN1cGVyIGhhcmQhXG4gIGlmIChyZWcuZ3JlZWR5KSB7XG4gICAgcmV0dXJuIG5lZ0dyZWVkeShzdGF0ZSwgdG1wUmVnLCByZWdzW3N0YXRlLnIgKyAxXSlcbiAgfVxuICBzdGF0ZS50ICs9IDFcbiAgcmV0dXJuIHRydWVcbn1cbmV4cG9ydCBkZWZhdWx0IGRvTmVnYXRpdmUiLCAiaW1wb3J0IG1hdGNoVGVybSBmcm9tICcuLi90ZXJtL2RvZXNNYXRjaC5qcydcblxuLy8gJ2Zvbz8gZm9vJyBtYXRjaGVzIGFyZSB0cmlja3kuXG5jb25zdCBmb3VuZE9wdGlvbmFsID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIGNvbnN0IHsgcmVncyB9ID0gc3RhdGVcbiAgbGV0IHJlZyA9IHJlZ3Nbc3RhdGUucl1cbiAgbGV0IHRlcm0gPSBzdGF0ZS50ZXJtc1tzdGF0ZS50XVxuICAvLyBkb2VzIHRoZSBuZXh0IHJlZyBtYXRjaCBpdCB0b28/XG4gIGxldCBuZXh0UmVnTWF0Y2hlZCA9IG1hdGNoVGVybSh0ZXJtLCByZWdzW3N0YXRlLnIgKyAxXSwgc3RhdGUuc3RhcnRfaSArIHN0YXRlLnQsIHN0YXRlLnBocmFzZV9sZW5ndGgpXG4gIGlmIChyZWcubmVnYXRpdmUgfHwgbmV4dFJlZ01hdGNoZWQpIHtcbiAgICAvLyBidXQgZG9lcyB0aGUgbmV4dCByZWcgbWF0Y2ggdGhlIG5leHQgdGVybT8/XG4gICAgLy8gb25seSBza2lwIGlmIGl0IGRvZXNuJ3RcbiAgICBsZXQgbmV4dFRlcm0gPSBzdGF0ZS50ZXJtc1tzdGF0ZS50ICsgMV1cbiAgICBpZiAoIW5leHRUZXJtIHx8ICFtYXRjaFRlcm0obmV4dFRlcm0sIHJlZ3Nbc3RhdGUuciArIDFdLCBzdGF0ZS5zdGFydF9pICsgc3RhdGUudCwgc3RhdGUucGhyYXNlX2xlbmd0aCkpIHtcbiAgICAgIHN0YXRlLnIgKz0gMVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmb3VuZE9wdGlvbmFsIiwgImltcG9ydCB7IGdldEdyZWVkeSB9IGZyb20gJy4vbG9naWMvZ3JlZWR5LmpzJ1xuXG4vLyBrZWVwICdmb28rJyBvciAnZm9vKicgZ29pbmcuLlxuY29uc3QgZ3JlZWR5TWF0Y2ggPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY29uc3QgeyByZWdzLCBwaHJhc2VfbGVuZ3RoIH0gPSBzdGF0ZVxuICBsZXQgcmVnID0gcmVnc1tzdGF0ZS5yXVxuICBzdGF0ZS50ID0gZ2V0R3JlZWR5KHN0YXRlLCByZWdzW3N0YXRlLnIgKyAxXSlcbiAgaWYgKHN0YXRlLnQgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbCAvL2dyZWVkeSB3YXMgdG9vIHNob3J0XG4gIH1cbiAgLy8gZm9vezIsNH0gLSBoYXMgYSBncmVlZC1taW5pbXVtXG4gIGlmIChyZWcubWluICYmIHJlZy5taW4gPiBzdGF0ZS50KSB7XG4gICAgcmV0dXJuIG51bGwgLy9ncmVlZHkgd2FzIHRvbyBzaG9ydFxuICB9XG4gIC8vICdmb28rJCcgLSBpZiBhbHNvIGFuIGVuZC1hbmNob3IsIGVuc3VyZSB3ZSByZWFsbHkgcmVhY2hlZCB0aGUgZW5kXG4gIGlmIChyZWcuZW5kID09PSB0cnVlICYmIHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50ICE9PSBwaHJhc2VfbGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGwgLy9ncmVlZHkgZGlkbid0IHJlYWNoIHRoZSBlbmRcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuZXhwb3J0IGRlZmF1bHQgZ3JlZWR5TWF0Y2giLCAiLy8gZm9yOiBbJ3dlJywgJ2hhdmUnXVxuLy8gYSBtYXRjaCBmb3IgXCJ3ZSBoYXZlXCIgc2hvdWxkIHdvcmsgYXMgbm9ybWFsXG4vLyBidXQgbWF0Y2hpbmcgXCJ3ZSd2ZVwiIHNob3VsZCBza2lwIG92ZXIgaW1wbGljdCB0ZXJtc1xuY29uc3QgY29udHJhY3Rpb25Ta2lwID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIGxldCB0ZXJtID0gc3RhdGUudGVybXNbc3RhdGUudF1cbiAgbGV0IHJlZyA9IHN0YXRlLnJlZ3Nbc3RhdGUucl1cbiAgLy8gZGlkIHdlIG1hdGNoIHRoZSBmaXJzdCBwYXJ0IG9mIGEgY29udHJhY3Rpb24/XG4gIGlmICh0ZXJtLmltcGxpY2l0ICYmIHN0YXRlLnRlcm1zW3N0YXRlLnQgKyAxXSkge1xuICAgIGxldCBuZXh0VGVybSA9IHN0YXRlLnRlcm1zW3N0YXRlLnQgKyAxXVxuICAgIC8vIGVuc3VyZSBuZXh0IHdvcmQgaXMgaW1wbGljaXRcbiAgICBpZiAoIW5leHRUZXJtLmltcGxpY2l0KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gd2UgbWF0Y2hlZCBcIndlJ3ZlXCIgLSBza2lwLW92ZXIgW3dlLCBoYXZlXVxuICAgIGlmIChyZWcud29yZCA9PT0gdGVybS5ub3JtYWwpIHtcbiAgICAgIHN0YXRlLnQgKz0gMVxuICAgIH1cbiAgICAvLyBhbHNvIHNraXAgZm9yIEBoYXNDb250cmFjdGlvblxuICAgIGlmIChyZWcubWV0aG9kID09PSAnaGFzQ29udHJhY3Rpb24nKSB7XG4gICAgICBzdGF0ZS50ICs9IDFcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGNvbnRyYWN0aW9uU2tpcCIsICJpbXBvcnQgeyBnZXRHcm91cCB9IGZyb20gJy4uL19saWIuanMnXG5pbXBvcnQgZm91bmRPcHRpb25hbCBmcm9tICcuL29wdGlvbmFsLW1hdGNoLmpzJ1xuaW1wb3J0IGdyZWVkeU1hdGNoIGZyb20gJy4vZ3JlZWR5LW1hdGNoLmpzJ1xuaW1wb3J0IGNvbnRyYWN0aW9uU2tpcCBmcm9tICcuL2NvbnRyYWN0aW9uLXNraXAuanMnXG5cblxuLy8gJ1tmb29dJyBzaG91bGQgYWxzbyBiZSBsb2dnZWQgYXMgYSBncm91cFxuY29uc3Qgc2V0R3JvdXAgPSBmdW5jdGlvbiAoc3RhdGUsIHN0YXJ0QXQpIHtcbiAgbGV0IHJlZyA9IHN0YXRlLnJlZ3Nbc3RhdGUucl1cbiAgLy8gR2V0IG9yIGNyZWF0ZSBjYXB0dXJlIGdyb3VwXG4gIGNvbnN0IGcgPSBnZXRHcm91cChzdGF0ZSwgc3RhcnRBdClcbiAgLy8gVXBkYXRlIGdyb3VwIC0gYWRkIGdyZWVkeSBvciBpbmNyZW1lbnQgbGVuZ3RoXG4gIGlmIChzdGF0ZS50ID4gMSAmJiByZWcuZ3JlZWR5KSB7XG4gICAgZy5sZW5ndGggKz0gc3RhdGUudCAtIHN0YXJ0QXRcbiAgfSBlbHNlIHtcbiAgICBnLmxlbmd0aCsrXG4gIH1cbn1cblxuLy8gd2hlbiBhIHJlZyBtYXRjaGVzIGEgdGVybVxuY29uc3Qgc2ltcGxlTWF0Y2ggPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY29uc3QgeyByZWdzIH0gPSBzdGF0ZVxuICBsZXQgcmVnID0gcmVnc1tzdGF0ZS5yXVxuICBsZXQgdGVybSA9IHN0YXRlLnRlcm1zW3N0YXRlLnRdXG4gIGxldCBzdGFydEF0ID0gc3RhdGUudFxuICAvLyBpZiBpdCdzIGEgbmVnYXRpdmUgb3B0aW9uYWwgbWF0Y2guLi4gOjBcbiAgaWYgKHJlZy5vcHRpb25hbCAmJiByZWdzW3N0YXRlLnIgKyAxXSAmJiByZWcubmVnYXRpdmUpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vIG9rYXksIGl0IHdhcyBhIG1hdGNoLCBidXQgaWYgaXQncyBvcHRpb25hbCB0b28sXG4gIC8vIHdlIHNob3VsZCBjaGVjayB0aGUgbmV4dCByZWcgdG9vLCB0byBza2lwIGl0P1xuICBpZiAocmVnLm9wdGlvbmFsICYmIHJlZ3Nbc3RhdGUuciArIDFdKSB7XG4gICAgZm91bmRPcHRpb25hbChzdGF0ZSlcbiAgfVxuICAvLyBDb250cmFjdGlvbiBza2lwOlxuICAvLyBkaWQgd2UgbWF0Y2ggdGhlIGZpcnN0IHBhcnQgb2YgYSBjb250cmFjdGlvbj9cbiAgaWYgKHRlcm0uaW1wbGljaXQgJiYgc3RhdGUudGVybXNbc3RhdGUudCArIDFdKSB7XG4gICAgY29udHJhY3Rpb25Ta2lwKHN0YXRlKVxuICB9XG4gIC8vYWR2YW5jZSB0byB0aGUgbmV4dCB0ZXJtIVxuICBzdGF0ZS50ICs9IDFcbiAgLy9jaGVjayBhbnkgZW5kaW5nICckJyBmbGFnc1xuICAvL2lmIHRoaXMgaXNuJ3QgdGhlIGxhc3QgdGVybSwgcmVmdXNlIHRoZSBtYXRjaFxuICBpZiAocmVnLmVuZCA9PT0gdHJ1ZSAmJiBzdGF0ZS50ICE9PSBzdGF0ZS50ZXJtcy5sZW5ndGggJiYgcmVnLmdyZWVkeSAhPT0gdHJ1ZSkge1xuICAgIHJldHVybiBudWxsIC8vZGllXG4gIH1cbiAgLy8ga2VlcCAnZm9vKycgZ29pbmcuLi5cbiAgaWYgKHJlZy5ncmVlZHkgPT09IHRydWUpIHtcbiAgICBsZXQgYWxpdmUgPSBncmVlZHlNYXRjaChzdGF0ZSlcbiAgICBpZiAoIWFsaXZlKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuICAvLyBsb2cgJ1tmb29dJyBhcyBhIGdyb3VwXG4gIGlmIChzdGF0ZS5oYXNHcm91cCA9PT0gdHJ1ZSkge1xuICAgIHNldEdyb3VwKHN0YXRlLCBzdGFydEF0KVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5leHBvcnQgZGVmYXVsdCBzaW1wbGVNYXRjaCIsICJpbXBvcnQgZG9Bc3RyaXggZnJvbSAnLi9zdGVwcy9hc3RyaXguanMnXG5pbXBvcnQgZG9PckJsb2NrIGZyb20gJy4vc3RlcHMvb3ItYmxvY2suanMnXG5pbXBvcnQgZG9BbmRCbG9jayBmcm9tICcuL3N0ZXBzL2FuZC1ibG9jay5qcydcbmltcG9ydCBkb05lZ2F0aXZlIGZyb20gJy4vc3RlcHMvbmVnYXRpdmUuanMnXG5pbXBvcnQgc2ltcGxlTWF0Y2ggZnJvbSAnLi9zdGVwcy9zaW1wbGUtbWF0Y2guanMnXG5pbXBvcnQgeyBpc0VuZEdyZWVkeSB9IGZyb20gJy4vc3RlcHMvbG9naWMvZ3JlZWR5LmpzJ1xuaW1wb3J0IG1hdGNoVGVybSBmcm9tICcuL3Rlcm0vZG9lc01hdGNoLmpzJ1xuLy8gaSBmb3JtYWxseSBhcG9sb2dpemUgZm9yIGhvdyBjb21wbGljYXRlZCB0aGlzIGlzLlxuXG4vKiogXG4gKiB0cnkgYSBzZXF1ZW5jZSBvZiBtYXRjaCB0b2tlbnMgKCdyZWdzJykgXG4gKiBvbiBhIHNlcXVlbmNlIG9mIHRlcm1zLCBcbiAqIHN0YXJ0aW5nIGF0IHRoaXMgY2VydGFpbiB0ZXJtLlxuICovXG5jb25zdCB0cnlIZXJlID0gZnVuY3Rpb24gKHRlcm1zLCByZWdzLCBzdGFydF9pLCBwaHJhc2VfbGVuZ3RoKSB7XG4gIC8vIGNvbnNvbGUubG9nKGBcXG5cXG46c3RhcnQ6ICcke3Rlcm1zWzBdLnRleHR9JzpgKVxuICBpZiAodGVybXMubGVuZ3RoID09PSAwIHx8IHJlZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICAvLyBhbGwgdGhlIHZhcmlhYmxlcyB0aGF0IG1hdHRlclxuICBsZXQgc3RhdGUgPSB7XG4gICAgdDogMCxcbiAgICB0ZXJtczogdGVybXMsXG4gICAgcjogMCxcbiAgICByZWdzOiByZWdzLFxuICAgIGdyb3Vwczoge30sXG4gICAgc3RhcnRfaTogc3RhcnRfaSxcbiAgICBwaHJhc2VfbGVuZ3RoOiBwaHJhc2VfbGVuZ3RoLFxuICAgIGluR3JvdXA6IG51bGwsXG4gIH1cblxuICAvLyB3ZSBtdXN0IHNhdGlzZnkgZXZlcnkgdG9rZW4gaW4gJ3JlZ3MnXG4gIC8vIGlmIHdlIGdldCB0byB0aGUgZW5kLCB3ZSBoYXZlIGEgbWF0Y2guXG4gIGZvciAoOyBzdGF0ZS5yIDwgcmVncy5sZW5ndGg7IHN0YXRlLnIgKz0gMSkge1xuICAgIGxldCByZWcgPSByZWdzW3N0YXRlLnJdXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyByZWcgaGFzIGEgbmFtZWQgY2FwdHVyZSBncm91cFxuICAgIHN0YXRlLmhhc0dyb3VwID0gQm9vbGVhbihyZWcuZ3JvdXApXG4gICAgLy8gUmV1c2UgcHJldmlvdXMgY2FwdHVyZSBncm91cCBpZiBzYW1lXG4gICAgaWYgKHN0YXRlLmhhc0dyb3VwID09PSB0cnVlKSB7XG4gICAgICBzdGF0ZS5pbkdyb3VwID0gcmVnLmdyb3VwXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmluR3JvdXAgPSBudWxsXG4gICAgfVxuICAgIC8vaGF2ZSB3ZSBydW4tb3V0IG9mIHRlcm1zP1xuICAgIGlmICghc3RhdGUudGVybXNbc3RhdGUudF0pIHtcbiAgICAgIC8vYXJlIGFsbCByZW1haW5pbmcgcmVncyBvcHRpb25hbCBvciBuZWdhdGl2ZT9cbiAgICAgIGNvbnN0IGFsaXZlID0gcmVncy5zbGljZShzdGF0ZS5yKS5zb21lKHJlbWFpbiA9PiAhcmVtYWluLm9wdGlvbmFsKVxuICAgICAgaWYgKGFsaXZlID09PSBmYWxzZSkge1xuICAgICAgICBicmVhayAvL2RvbmUhXG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbCAvLyBkaWVcbiAgICB9XG4gICAgLy8gc3VwcG9ydCAndW5zcGVjaWZpYyBncmVlZHknIC4qIHByb3Blcmx5XG4gICAgaWYgKHJlZy5hbnl0aGluZyA9PT0gdHJ1ZSAmJiByZWcuZ3JlZWR5ID09PSB0cnVlKSB7XG4gICAgICBsZXQgYWxpdmUgPSBkb0FzdHJpeChzdGF0ZSlcbiAgICAgIGlmICghYWxpdmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIHNsb3ctT1IgLSBtdWx0aS13b3JkIE9SIChhfGJ8Zm9vIGJhcilcbiAgICBpZiAocmVnLmNob2ljZXMgIT09IHVuZGVmaW5lZCAmJiByZWcub3BlcmF0b3IgPT09ICdvcicpIHtcbiAgICAgIGxldCBhbGl2ZSA9IGRvT3JCbG9jayhzdGF0ZSlcbiAgICAgIGlmICghYWxpdmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIHNsb3ctQU5EIC0gbXVsdGktd29yZCBBTkQgKCNOb3VuICYmIGZvbykgYmxvY2tzXG4gICAgaWYgKHJlZy5jaG9pY2VzICE9PSB1bmRlZmluZWQgJiYgcmVnLm9wZXJhdG9yID09PSAnYW5kJykge1xuICAgICAgbGV0IGFsaXZlID0gZG9BbmRCbG9jayhzdGF0ZSlcbiAgICAgIGlmICghYWxpdmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIHN1cHBvcnQgJy4nIGFzIGFueS1zaW5nbGVcbiAgICBpZiAocmVnLmFueXRoaW5nID09PSB0cnVlKSB7XG4gICAgICAvLyAnIS4nIG5lZ2F0aXZlIGFueXRoaW5nIHNob3VsZCBpbnN0YS1mYWlsXG4gICAgICBpZiAocmVnLm5lZ2F0aXZlICYmIHJlZy5hbnl0aGluZykge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgICAgbGV0IGFsaXZlID0gc2ltcGxlTWF0Y2goc3RhdGUpXG4gICAgICBpZiAoIWFsaXZlKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyBzdXBwb3J0ICdmb28qJCcgdW50aWwgdGhlIGVuZFxuICAgIGlmIChpc0VuZEdyZWVkeShyZWcsIHN0YXRlKSA9PT0gdHJ1ZSkge1xuICAgICAgbGV0IGFsaXZlID0gc2ltcGxlTWF0Y2goc3RhdGUpXG4gICAgICBpZiAoIWFsaXZlKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyBvaywgaXQgZG9lc24ndCBtYXRjaCAtIGJ1dCBtYXliZSBpdCB3YXNuJ3QgKnN1cHBvc2VkKiB0bz9cbiAgICBpZiAocmVnLm5lZ2F0aXZlKSB7XG4gICAgICAvLyB3ZSB3YW50ICphbnl0aGluZyogYnV0IHRoaXMgdGVybVxuICAgICAgbGV0IGFsaXZlID0gZG9OZWdhdGl2ZShzdGF0ZSlcbiAgICAgIGlmICghYWxpdmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIG9rLCBmaW5hbGx5IHRlc3QgdGhlIHRlcm0tcmVnXG4gICAgbGV0IGhhc01hdGNoID0gbWF0Y2hUZXJtKHN0YXRlLnRlcm1zW3N0YXRlLnRdLCByZWcsIHN0YXRlLnN0YXJ0X2kgKyBzdGF0ZS50LCBzdGF0ZS5waHJhc2VfbGVuZ3RoKVxuICAgIGlmIChoYXNNYXRjaCA9PT0gdHJ1ZSkge1xuICAgICAgbGV0IGFsaXZlID0gc2ltcGxlTWF0Y2goc3RhdGUpXG4gICAgICBpZiAoIWFsaXZlKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvL29rIHdobyBjYXJlcywga2VlcCBnb2luZ1xuICAgIGlmIChyZWcub3B0aW9uYWwgPT09IHRydWUpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgLy8gZmluYWxseSwgd2UgZGllXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICAvL3JldHVybiBvdXIgcmVzdWx0cywgYXMgcG9pbnRlcnNcbiAgbGV0IHBudHIgPSBbbnVsbCwgc3RhcnRfaSwgc3RhdGUudCArIHN0YXJ0X2ldXG4gIGlmIChwbnRyWzFdID09PSBwbnRyWzJdKSB7XG4gICAgcmV0dXJuIG51bGwgLy9mb3VuZCAwIHRlcm1zXG4gIH1cbiAgbGV0IGdyb3VwcyA9IHt9XG4gIE9iamVjdC5rZXlzKHN0YXRlLmdyb3VwcykuZm9yRWFjaChrID0+IHtcbiAgICBsZXQgbyA9IHN0YXRlLmdyb3Vwc1trXVxuICAgIGxldCBzdGFydCA9IHN0YXJ0X2kgKyBvLnN0YXJ0XG4gICAgZ3JvdXBzW2tdID0gW251bGwsIHN0YXJ0LCBzdGFydCArIG8ubGVuZ3RoXVxuICB9KVxuICByZXR1cm4geyBwb2ludGVyOiBwbnRyLCBncm91cHM6IGdyb3VwcyB9XG59XG5leHBvcnQgZGVmYXVsdCB0cnlIZXJlXG4iLCAiLy8gc3VwcG9ydCByZXR1cm5pbmcgYSBzdWJzZXQgb2YgYSBtYXRjaFxuLy8gbGlrZSAnZm9vIFtiYXJdIGJheicgLT4gYmFyXG5jb25zdCBnZXRHcm91cCA9IGZ1bmN0aW9uIChyZXMsIGdyb3VwKSB7XG4gIGxldCBwdHJzID0gW11cbiAgbGV0IGJ5R3JvdXAgPSB7fVxuICBpZiAocmVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IHB0cnMsIGJ5R3JvdXAgfVxuICB9XG4gIGlmICh0eXBlb2YgZ3JvdXAgPT09ICdudW1iZXInKSB7XG4gICAgZ3JvdXAgPSBTdHJpbmcoZ3JvdXApXG4gIH1cbiAgaWYgKGdyb3VwKSB7XG4gICAgcmVzLmZvckVhY2gociA9PiB7XG4gICAgICBpZiAoci5ncm91cHNbZ3JvdXBdKSB7XG4gICAgICAgIHB0cnMucHVzaChyLmdyb3Vwc1tncm91cF0pXG4gICAgICB9XG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICByZXMuZm9yRWFjaChyID0+IHtcbiAgICAgIHB0cnMucHVzaChyLnBvaW50ZXIpXG4gICAgICBPYmplY3Qua2V5cyhyLmdyb3VwcykuZm9yRWFjaChrID0+IHtcbiAgICAgICAgYnlHcm91cFtrXSA9IGJ5R3JvdXBba10gfHwgW11cbiAgICAgICAgYnlHcm91cFtrXS5wdXNoKHIuZ3JvdXBzW2tdKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG4gIHJldHVybiB7IHB0cnMsIGJ5R3JvdXAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZ2V0R3JvdXBcbiIsICJpbXBvcnQgZnJvbUhlcmUgZnJvbSAnLi8wMi1mcm9tLWhlcmUuanMnXG5cbmNvbnN0IG5vdElmID0gZnVuY3Rpb24gKHJlc3VsdHMsIG5vdCwgZG9jcykge1xuICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIocmVzID0+IHtcbiAgICBsZXQgW24sIHN0YXJ0LCBlbmRdID0gcmVzLnBvaW50ZXJcbiAgICBsZXQgdGVybXMgPSBkb2NzW25dLnNsaWNlKHN0YXJ0LCBlbmQpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IHNsaWNlID0gdGVybXMuc2xpY2UoaSlcbiAgICAgIGxldCBmb3VuZCA9IGZyb21IZXJlKHNsaWNlLCBub3QsIGksIHRlcm1zLmxlbmd0aClcbiAgICAgIGlmIChmb3VuZCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfSlcbiAgcmV0dXJuIHJlc3VsdHNcbn1cblxuZXhwb3J0IGRlZmF1bHQgbm90SWYiLCAiaW1wb3J0IGZhaWxGYXN0IGZyb20gJy4vMDEtZmFpbEZhc3QuanMnXG5pbXBvcnQgZnJvbUhlcmUgZnJvbSAnLi8wMi1mcm9tLWhlcmUuanMnXG5pbXBvcnQgZ2V0R3JvdXAgZnJvbSAnLi8wMy1nZXRHcm91cC5qcydcbmltcG9ydCBub3RJZiBmcm9tICcuLzAzLW5vdElmLmpzJ1xuXG5cbi8vIG1ha2UgcHJvcGVyIHBvaW50ZXJzXG5jb25zdCBhZGRTZW50ZW5jZSA9IGZ1bmN0aW9uIChyZXMsIG4pIHtcbiAgcmVzLnBvaW50ZXJbMF0gPSBuXG4gIE9iamVjdC5rZXlzKHJlcy5ncm91cHMpLmZvckVhY2goayA9PiB7XG4gICAgcmVzLmdyb3Vwc1trXVswXSA9IG5cbiAgfSlcbiAgcmV0dXJuIHJlc1xufVxuXG5jb25zdCBoYW5kbGVTdGFydCA9IGZ1bmN0aW9uICh0ZXJtcywgcmVncywgbikge1xuICBsZXQgcmVzID0gZnJvbUhlcmUodGVybXMsIHJlZ3MsIDAsIHRlcm1zLmxlbmd0aClcbiAgaWYgKHJlcykge1xuICAgIHJlcyA9IGFkZFNlbnRlbmNlKHJlcywgbilcbiAgICByZXR1cm4gcmVzIC8vZ2V0R3JvdXAoW3Jlc10sIGdyb3VwKVxuICB9XG4gIHJldHVybiBudWxsXG59XG5cbi8vIG9rLCBoZXJlIHdlIGdvLlxuY29uc3QgcnVuTWF0Y2ggPSBmdW5jdGlvbiAoZG9jcywgdG9kbywgY2FjaGUpIHtcbiAgY2FjaGUgPSBjYWNoZSB8fCBbXVxuICBsZXQgeyByZWdzLCBncm91cCwganVzdE9uZSB9ID0gdG9kb1xuICBsZXQgcmVzdWx0cyA9IFtdXG4gIGlmICghcmVncyB8fCByZWdzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IHB0cnM6IFtdLCBieUdyb3VwOiB7fSB9XG4gIH1cblxuICBjb25zdCBtaW5MZW5ndGggPSByZWdzLmZpbHRlcihyID0+IHIub3B0aW9uYWwgIT09IHRydWUgJiYgci5uZWdhdGl2ZSAhPT0gdHJ1ZSkubGVuZ3RoXG4gIGRvY3M6IGZvciAobGV0IG4gPSAwOyBuIDwgZG9jcy5sZW5ndGg7IG4gKz0gMSkge1xuICAgIGxldCB0ZXJtcyA9IGRvY3Nbbl1cbiAgICAvLyBsZXQgaW5kZXggPSB0ZXJtc1swXS5pbmRleCB8fCBbXVxuICAgIC8vIGNhbiB3ZSBza2lwIHRoaXMgc2VudGVuY2U/XG4gICAgaWYgKGNhY2hlW25dICYmIGZhaWxGYXN0KHJlZ3MsIGNhY2hlW25dKSkge1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgLy8gXnN0YXJ0IHJlZ3Mgb25seSBydW4gb25jZSwgcGVyIHBocmFzZVxuICAgIGlmIChyZWdzWzBdLnN0YXJ0ID09PSB0cnVlKSB7XG4gICAgICBsZXQgZm91bmRTdGFydCA9IGhhbmRsZVN0YXJ0KHRlcm1zLCByZWdzLCBuLCBncm91cClcbiAgICAgIGlmIChmb3VuZFN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChmb3VuZFN0YXJ0KVxuICAgICAgfVxuICAgICAgY29udGludWVcbiAgICB9XG4gICAgLy9vaywgdHJ5IHN0YXJ0aW5nIHRoZSBtYXRjaCBub3cgZnJvbSBldmVyeSB0ZXJtXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IHNsaWNlID0gdGVybXMuc2xpY2UoaSlcbiAgICAgIC8vIGVuc3VyZSBpdCdzIGxvbmctZW5vdWdoXG4gICAgICBpZiAoc2xpY2UubGVuZ3RoIDwgbWluTGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBsZXQgcmVzID0gZnJvbUhlcmUoc2xpY2UsIHJlZ3MsIGksIHRlcm1zLmxlbmd0aClcbiAgICAgIC8vIGRpZCB3ZSBmaW5kIGEgcmVzdWx0P1xuICAgICAgaWYgKHJlcykge1xuICAgICAgICAvLyByZXMgPSBhZGRTZW50ZW5jZShyZXMsIGluZGV4WzBdKVxuICAgICAgICByZXMgPSBhZGRTZW50ZW5jZShyZXMsIG4pXG4gICAgICAgIHJlc3VsdHMucHVzaChyZXMpXG4gICAgICAgIC8vIHNob3VsZCB3ZSBzdG9wIGhlcmU/XG4gICAgICAgIGlmIChqdXN0T25lID09PSB0cnVlKSB7XG4gICAgICAgICAgYnJlYWsgZG9jc1xuICAgICAgICB9XG4gICAgICAgIC8vIHNraXAgYWhlYWQsIG92ZXIgdGhlc2UgcmVzdWx0c1xuICAgICAgICBsZXQgZW5kID0gcmVzLnBvaW50ZXJbMl1cbiAgICAgICAgaWYgKE1hdGguYWJzKGVuZCAtIDEpID4gaSkge1xuICAgICAgICAgIGkgPSBNYXRoLmFicyhlbmQgLSAxKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIGVuc3VyZSBhbnkgZW5kLXJlc3VsdHMgKCQpIG1hdGNoIHVudGlsIHRoZSBsYXN0IHRlcm1cbiAgaWYgKHJlZ3NbcmVncy5sZW5ndGggLSAxXS5lbmQgPT09IHRydWUpIHtcbiAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIocmVzID0+IHtcbiAgICAgIGxldCBuID0gcmVzLnBvaW50ZXJbMF1cbiAgICAgIHJldHVybiBkb2NzW25dLmxlbmd0aCA9PT0gcmVzLnBvaW50ZXJbMl1cbiAgICB9KVxuICB9XG4gIGlmICh0b2RvLm5vdElmKSB7XG4gICAgcmVzdWx0cyA9IG5vdElmKHJlc3VsdHMsIHRvZG8ubm90SWYsIGRvY3MpXG4gIH1cbiAgLy8gZ3JhYiB0aGUgcmVxdWVzdGVkIGdyb3VwXG4gIHJlc3VsdHMgPSBnZXRHcm91cChyZXN1bHRzLCBncm91cClcbiAgLy8gYWRkIGlkcyB0byBwb2ludGVyc1xuICByZXN1bHRzLnB0cnMuZm9yRWFjaChwdHIgPT4ge1xuICAgIGxldCBbbiwgc3RhcnQsIGVuZF0gPSBwdHJcbiAgICBwdHJbM10gPSBkb2NzW25dW3N0YXJ0XS5pZC8vc3RhcnQtaWRcbiAgICBwdHJbNF0gPSBkb2NzW25dW2VuZCAtIDFdLmlkLy9lbmQtaWRcbiAgfSlcbiAgcmV0dXJuIHJlc3VsdHNcbn1cblxuZXhwb3J0IGRlZmF1bHQgcnVuTWF0Y2hcbiIsICJpbXBvcnQgcGFyc2VNYXRjaCBmcm9tICcuL3BhcnNlTWF0Y2gvaW5kZXguanMnXG5pbXBvcnQgbWF0Y2ggZnJvbSAnLi9tYXRjaC9pbmRleC5qcydcbmltcG9ydCB0ZXJtTWV0aG9kcyBmcm9tICcuL3Rlcm1NZXRob2RzLmpzJ1xuXG5jb25zdCBtZXRob2RzID0ge1xuICBvbmU6IHtcbiAgICB0ZXJtTWV0aG9kcyxcbiAgICBwYXJzZU1hdGNoLFxuICAgIG1hdGNoLFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBtZXRob2RzXG4iLCAiXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKiBwcmUtcGFyc2UgYW55IG1hdGNoIHN0YXRlbWVudHMgKi9cbiAgcGFyc2VNYXRjaDogZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuICAgIGNvbnN0IHdvcmxkID0gdGhpcy53b3JsZCgpXG4gICAgbGV0IGtpbGxVbmljb2RlID0gd29ybGQubWV0aG9kcy5vbmUua2lsbFVuaWNvZGVcbiAgICBpZiAoa2lsbFVuaWNvZGUpIHtcbiAgICAgIHN0ciA9IGtpbGxVbmljb2RlKHN0ciwgd29ybGQpXG4gICAgfVxuICAgIHJldHVybiB3b3JsZC5tZXRob2RzLm9uZS5wYXJzZU1hdGNoKHN0ciwgb3B0cywgd29ybGQpXG4gIH1cbn0iLCAiaW1wb3J0IGFwaSBmcm9tICcuL2FwaS9pbmRleC5qcydcbmltcG9ydCBtZXRob2RzIGZyb20gJy4vbWV0aG9kcy9pbmRleC5qcydcbmltcG9ydCBsaWIgZnJvbSAnLi9saWIuanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXBpLFxuICBtZXRob2RzLFxuICBsaWIsXG59XG4iLCAiY29uc3QgaXNDbGFzcyA9IC9eXFwuLi9cbmNvbnN0IGlzSWQgPSAvXiMuL1xuXG5jb25zdCBlc2NhcGVYbWwgPSBzdHIgPT4ge1xuICBzdHIgPSBzdHIucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICBzdHIgPSBzdHIucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgc3RyID0gc3RyLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICBzdHIgPSBzdHIucmVwbGFjZSgvJy9nLCAnJmFwb3M7JylcbiAgcmV0dXJuIHN0clxufVxuXG4vLyBpbnRlcnByZXQgLmNsYXNzLCAjaWQsIHRhZ05hbWVcbmNvbnN0IHRvVGFnID0gZnVuY3Rpb24gKGspIHtcbiAgbGV0IHN0YXJ0ID0gJydcbiAgbGV0IGVuZCA9ICc8L3NwYW4+J1xuICBrID0gZXNjYXBlWG1sKGspXG4gIGlmIChpc0NsYXNzLnRlc3QoaykpIHtcbiAgICBzdGFydCA9IGA8c3BhbiBjbGFzcz1cIiR7ay5yZXBsYWNlKC9eXFwuLywgJycpfVwiYFxuICB9IGVsc2UgaWYgKGlzSWQudGVzdChrKSkge1xuICAgIHN0YXJ0ID0gYDxzcGFuIGlkPVwiJHtrLnJlcGxhY2UoL14jLywgJycpfVwiYFxuICB9IGVsc2Uge1xuICAgIHN0YXJ0ID0gYDwke2t9YFxuICAgIGVuZCA9IGA8LyR7a30+YFxuICB9XG4gIHN0YXJ0ICs9ICc+J1xuICByZXR1cm4geyBzdGFydCwgZW5kIH1cbn1cblxuY29uc3QgZ2V0SW5kZXggPSBmdW5jdGlvbiAoZG9jLCBvYmopIHtcbiAgbGV0IHN0YXJ0cyA9IHt9XG4gIGxldCBlbmRzID0ge31cbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGsgPT4ge1xuICAgIGxldCByZXMgPSBvYmpba11cbiAgICBsZXQgdGFnID0gdG9UYWcoaylcbiAgICBpZiAodHlwZW9mIHJlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJlcyA9IGRvYy5tYXRjaChyZXMpXG4gICAgfVxuICAgIHJlcy5kb2NzLmZvckVhY2godGVybXMgPT4ge1xuICAgICAgLy8gZG9uJ3QgaGlnaGxpZ2h0IGltcGxpY2l0IHRlcm1zXG4gICAgICBpZiAodGVybXMuZXZlcnkodCA9PiB0LmltcGxpY2l0KSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGxldCBhID0gdGVybXNbMF0uaWRcbiAgICAgIHN0YXJ0c1thXSA9IHN0YXJ0c1thXSB8fCBbXVxuICAgICAgc3RhcnRzW2FdLnB1c2godGFnLnN0YXJ0KVxuICAgICAgbGV0IGIgPSB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXS5pZFxuICAgICAgZW5kc1tiXSA9IGVuZHNbYl0gfHwgW11cbiAgICAgIGVuZHNbYl0ucHVzaCh0YWcuZW5kKVxuICAgIH0pXG4gIH0pXG4gIHJldHVybiB7IHN0YXJ0cywgZW5kcyB9XG59XG5cbmNvbnN0IGh0bWwgPSBmdW5jdGlvbiAob2JqKSB7XG4gIC8vIGluZGV4IGlkcyB0byBoaWdobGlnaHRcbiAgbGV0IHsgc3RhcnRzLCBlbmRzIH0gPSBnZXRJbmRleCh0aGlzLCBvYmopXG4gIC8vIGNyZWF0ZSB0aGUgdGV4dCBvdXRwdXRcbiAgbGV0IG91dCA9ICcnXG4gIHRoaXMuZG9jcy5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlcm1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBsZXQgdCA9IHRlcm1zW2ldXG4gICAgICAvLyBkbyBhIHNwYW4gdGFnXG4gICAgICBpZiAoc3RhcnRzLmhhc093blByb3BlcnR5KHQuaWQpKSB7XG4gICAgICAgIG91dCArPSBzdGFydHNbdC5pZF0uam9pbignJylcbiAgICAgIH1cbiAgICAgIG91dCArPSB0LnByZSB8fCAnJ1xuICAgICAgb3V0ICs9IHQudGV4dCB8fCAnJ1xuICAgICAgaWYgKGVuZHMuaGFzT3duUHJvcGVydHkodC5pZCkpIHtcbiAgICAgICAgb3V0ICs9IGVuZHNbdC5pZF0uam9pbignJylcbiAgICAgIH1cbiAgICAgIG91dCArPSB0LnBvc3QgfHwgJydcbiAgICB9XG4gIH0pXG4gIHJldHVybiBvdXRcbn1cbmV4cG9ydCBkZWZhdWx0IHsgaHRtbCB9XG4iLCAiY29uc3QgdHJpbUVuZCA9IC9bLDo7KVxcXSouP34hXFx1MDAyMlxcdUZGMDJcXHUyMDFEXFx1MjAxOVxcdTAwQkJcXHUyMDNBXFx1MjAzMlxcdTIwMzNcXHUyMDM0XFx1MzAxRVxcdTAwQjRcdTIwMTQtXSskL1xuY29uc3QgdHJpbVN0YXJ0ID1cbiAgL15bKFsnXCIqflxcdUZGMDJcXHUyMDFDXFx1MjAxOFxcdTIwMUZcXHUyMDFCXFx1MjAxRVxcdTJFNDJcXHUyMDFBXFx1MDBBQlxcdTIwMzlcXHUyMDM1XFx1MjAzNlxcdTIwMzdcXHUzMDFEXFx1MDA2MFxcdTMwMUZdKy9cblxuY29uc3QgcHVuY3RUb0tpbGwgPSAvWyw6OykoJ1wiXFx1MjAxRFxcXV0vXG5jb25zdCBpc0h5cGhlbiA9IC9eWy1cdTIwMTNcdTIwMTRdJC9cbmNvbnN0IGhhc1NwYWNlID0gLyAvXG5cbmNvbnN0IHRleHRGcm9tVGVybXMgPSBmdW5jdGlvbiAodGVybXMsIG9wdHMsIGtlZXBTcGFjZSA9IHRydWUpIHtcbiAgbGV0IHR4dCA9ICcnXG4gIHRlcm1zLmZvckVhY2godCA9PiB7XG4gICAgbGV0IHByZSA9IHQucHJlIHx8ICcnXG4gICAgbGV0IHBvc3QgPSB0LnBvc3QgfHwgJydcbiAgICBpZiAob3B0cy5wdW5jdHVhdGlvbiA9PT0gJ3NvbWUnKSB7XG4gICAgICBwcmUgPSBwcmUucmVwbGFjZSh0cmltU3RhcnQsICcnKVxuICAgICAgLy8gcmVwbGFjZSBhIGh5cGhlbiB3aXRoIGEgc3BhY2VcbiAgICAgIGlmIChpc0h5cGhlbi50ZXN0KHBvc3QpKSB7XG4gICAgICAgIHBvc3QgPSAnICdcbiAgICAgIH1cbiAgICAgIHBvc3QgPSBwb3N0LnJlcGxhY2UocHVuY3RUb0tpbGwsICcnKVxuICAgICAgLy8gY2xlYW51cCBleGNsYW1hdGlvbnNcbiAgICAgIHBvc3QgPSBwb3N0LnJlcGxhY2UoL1xcPyErLywgJz8nKVxuICAgICAgcG9zdCA9IHBvc3QucmVwbGFjZSgvISsvLCAnIScpXG4gICAgICBwb3N0ID0gcG9zdC5yZXBsYWNlKC9cXD8rLywgJz8nKVxuICAgICAgLy8ga2lsbCBlbGlwc2VzXG4gICAgICBwb3N0ID0gcG9zdC5yZXBsYWNlKC9cXC57Mix9LywgJycpXG4gICAgICAvLyBraWxsIGFiYnJldmlhdGlvbiBwZXJpb2RzXG4gICAgICBpZiAodC50YWdzLmhhcygnQWJicmV2aWF0aW9uJykpIHtcbiAgICAgICAgcG9zdCA9IHBvc3QucmVwbGFjZSgvXFwuLywgJycpXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRzLndoaXRlc3BhY2UgPT09ICdzb21lJykge1xuICAgICAgcHJlID0gcHJlLnJlcGxhY2UoL1xccy8sICcnKSAvL3JlbW92ZSBwcmUtd2hpdGVzcGFjZVxuICAgICAgcG9zdCA9IHBvc3QucmVwbGFjZSgvXFxzKy8sICcgJykgLy9yZXBsYWNlIHBvc3Qtd2hpdGVzcGFjZSB3aXRoIGEgc3BhY2VcbiAgICB9XG4gICAgaWYgKCFvcHRzLmtlZXBQdW5jdCkge1xuICAgICAgcHJlID0gcHJlLnJlcGxhY2UodHJpbVN0YXJ0LCAnJylcbiAgICAgIGlmIChwb3N0ID09PSAnLScpIHtcbiAgICAgICAgcG9zdCA9ICcgJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9zdCA9IHBvc3QucmVwbGFjZSh0cmltRW5kLCAnJylcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gZ3JhYiB0aGUgY29ycmVjdCB3b3JkIGZvcm1hdFxuICAgIGxldCB3b3JkID0gdFtvcHRzLmZvcm0gfHwgJ3RleHQnXSB8fCB0Lm5vcm1hbCB8fCAnJ1xuICAgIGlmIChvcHRzLmZvcm0gPT09ICdpbXBsaWNpdCcpIHtcbiAgICAgIHdvcmQgPSB0LmltcGxpY2l0IHx8IHQudGV4dFxuICAgIH1cbiAgICBpZiAob3B0cy5mb3JtID09PSAncm9vdCcgJiYgdC5pbXBsaWNpdCkge1xuICAgICAgd29yZCA9IHQucm9vdCB8fCB0LmltcGxpY2l0IHx8IHQubm9ybWFsXG4gICAgfVxuICAgIC8vIGFkZCBhbiBpbXBsaWNpdCBzcGFjZSwgZm9yIGNvbnRyYWN0aW9uc1xuICAgIGlmICgob3B0cy5mb3JtID09PSAnbWFjaGluZScgfHwgb3B0cy5mb3JtID09PSAnaW1wbGljaXQnIHx8IG9wdHMuZm9ybSA9PT0gJ3Jvb3QnKSAmJiB0LmltcGxpY2l0KSB7XG4gICAgICBpZiAoIXBvc3QgfHwgIWhhc1NwYWNlLnRlc3QocG9zdCkpIHtcbiAgICAgICAgcG9zdCArPSAnICdcbiAgICAgIH1cbiAgICB9XG4gICAgdHh0ICs9IHByZSArIHdvcmQgKyBwb3N0XG4gIH0pXG4gIGlmIChrZWVwU3BhY2UgPT09IGZhbHNlKSB7XG4gICAgdHh0ID0gdHh0LnRyaW0oKVxuICB9XG4gIGlmIChvcHRzLmxvd2VyQ2FzZSA9PT0gdHJ1ZSkge1xuICAgIHR4dCA9IHR4dC50b0xvd2VyQ2FzZSgpXG4gIH1cbiAgcmV0dXJuIHR4dFxufVxuXG5jb25zdCB0ZXh0RnJvbURvYyA9IGZ1bmN0aW9uIChkb2NzLCBvcHRzKSB7XG4gIGxldCB0ZXh0ID0gJydcbiAgaWYgKCFkb2NzIHx8ICFkb2NzWzBdIHx8ICFkb2NzWzBdWzBdKSB7XG4gICAgcmV0dXJuIHRleHRcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAvLyBtaWRkbGVcbiAgICB0ZXh0ICs9IHRleHRGcm9tVGVybXMoZG9jc1tpXSwgb3B0cywgdHJ1ZSlcbiAgfVxuICBpZiAoIW9wdHMua2VlcFNwYWNlKSB7XG4gICAgdGV4dCA9IHRleHQudHJpbSgpXG4gIH1cbiAgaWYgKG9wdHMua2VlcEVuZFB1bmN0ID09PSBmYWxzZSkge1xuICAgIC8vIGRvbid0IHJlbW92ZSAnOiknIGV0Y1xuICAgIGlmICghZG9jc1swXVswXS50YWdzLmhhcygnRW1vdGljb24nKSkge1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSh0cmltU3RhcnQsICcnKVxuICAgIH1cbiAgICAvLyByZW1vdmUgZW5kaW5nIHBlcmlvZHNcbiAgICBsZXQgbGFzdCA9IGRvY3NbZG9jcy5sZW5ndGggLSAxXVxuICAgIGlmICghbGFzdFtsYXN0Lmxlbmd0aCAtIDFdLnRhZ3MuaGFzKCdFbW90aWNvbicpKSB7XG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHRyaW1FbmQsICcnKVxuICAgIH1cbiAgICAvLyBraWxsIGVuZCBxdW90YXRpb25zXG4gICAgaWYgKHRleHQuZW5kc1dpdGgoYCdgKSAmJiAhdGV4dC5lbmRzV2l0aChgcydgKSkge1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvJy8sICcnKVxuICAgIH1cbiAgfVxuICBpZiAob3B0cy5jbGVhbldoaXRlc3BhY2UgPT09IHRydWUpIHtcbiAgICB0ZXh0ID0gdGV4dC50cmltKClcbiAgfVxuICByZXR1cm4gdGV4dFxufVxuZXhwb3J0IHsgdGV4dEZyb21Eb2MsIHRleHRGcm9tVGVybXMgfVxuIiwgImNvbnN0IGZtdHMgPSB7XG4gIHRleHQ6IHtcbiAgICBmb3JtOiAndGV4dCcsXG4gIH0sXG4gIG5vcm1hbDoge1xuICAgIHdoaXRlc3BhY2U6ICdzb21lJyxcbiAgICBwdW5jdHVhdGlvbjogJ3NvbWUnLFxuICAgIGNhc2U6ICdzb21lJyxcbiAgICB1bmljb2RlOiAnc29tZScsXG4gICAgZm9ybTogJ25vcm1hbCcsXG4gIH0sXG4gIG1hY2hpbmU6IHtcbiAgICBrZWVwU3BhY2U6IGZhbHNlLFxuICAgIHdoaXRlc3BhY2U6ICdzb21lJyxcbiAgICBwdW5jdHVhdGlvbjogJ3NvbWUnLFxuICAgIGNhc2U6ICdub25lJyxcbiAgICB1bmljb2RlOiAnc29tZScsXG4gICAgZm9ybTogJ21hY2hpbmUnLFxuICB9LFxuICByb290OiB7XG4gICAga2VlcFNwYWNlOiBmYWxzZSxcbiAgICB3aGl0ZXNwYWNlOiAnc29tZScsXG4gICAgcHVuY3R1YXRpb246ICdzb21lJyxcbiAgICBjYXNlOiAnc29tZScsXG4gICAgdW5pY29kZTogJ3NvbWUnLFxuICAgIGZvcm06ICdyb290JyxcbiAgfSxcbiAgaW1wbGljaXQ6IHtcbiAgICBmb3JtOiAnaW1wbGljaXQnLFxuICB9XG59XG5mbXRzLmNsZWFuID0gZm10cy5ub3JtYWxcbmZtdHMucmVkdWNlZCA9IGZtdHMucm9vdFxuZXhwb3J0IGRlZmF1bHQgZm10cyIsICIvKiBlc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1taXhlZC1vcGVyYXRvcnMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW11bHRpLWFzc2lnbiAqL1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vamJ0L3RpbnktaGFzaGVzL1xubGV0IGsgPSBbXSxcbiAgaSA9IDBcbmZvciAoOyBpIDwgNjQ7ICkge1xuICBrW2ldID0gMCB8IChNYXRoLnNpbigrK2kgJSBNYXRoLlBJKSAqIDQyOTQ5NjcyOTYpXG59XG5cbmNvbnN0IG1kNSA9IGZ1bmN0aW9uIChzKSB7XG4gIGxldCBiLFxuICAgIGMsXG4gICAgZCxcbiAgICBoID0gWyhiID0gMHg2NzQ1MjMwMSksIChjID0gMHhlZmNkYWI4OSksIH5iLCB+Y10sXG4gICAgd29yZHMgPSBbXSxcbiAgICBqID0gZGVjb2RlVVJJKGVuY29kZVVSSShzKSkgKyAnXFx4ODAnLFxuICAgIGEgPSBqLmxlbmd0aFxuXG4gIHMgPSAoLS1hIC8gNCArIDIpIHwgMTVcblxuICB3b3Jkc1stLXNdID0gYSAqIDhcblxuICBmb3IgKDsgfmE7ICkge1xuICAgIHdvcmRzW2EgPj4gMl0gfD0gai5jaGFyQ29kZUF0KGEpIDw8ICg4ICogYS0tKVxuICB9XG5cbiAgZm9yIChpID0gaiA9IDA7IGkgPCBzOyBpICs9IDE2KSB7XG4gICAgYSA9IGhcblxuICAgIGZvciAoXG4gICAgICA7XG4gICAgICBqIDwgNjQ7XG4gICAgICBhID0gW1xuICAgICAgICAoZCA9IGFbM10pLFxuICAgICAgICBiICtcbiAgICAgICAgICAoKChkID1cbiAgICAgICAgICAgIGFbMF0gK1xuICAgICAgICAgICAgWyhiICYgYykgfCAofmIgJiBkKSwgKGQgJiBiKSB8ICh+ZCAmIGMpLCBiIF4gYyBeIGQsIGMgXiAoYiB8IH5kKV1bKGEgPSBqID4+IDQpXSArXG4gICAgICAgICAgICBrW2pdICtcbiAgICAgICAgICAgIH5+d29yZHNbaSB8IChbaiwgNSAqIGogKyAxLCAzICogaiArIDUsIDcgKiBqXVthXSAmIDE1KV0pIDw8XG4gICAgICAgICAgICAoYSA9IFs3LCAxMiwgMTcsIDIyLCA1LCA5LCAxNCwgMjAsIDQsIDExLCAxNiwgMjMsIDYsIDEwLCAxNSwgMjFdWzQgKiBhICsgKGorKyAlIDQpXSkpIHxcbiAgICAgICAgICAgIChkID4+PiAtYSkpLFxuICAgICAgICBiLFxuICAgICAgICBjLFxuICAgICAgXVxuICAgICkge1xuICAgICAgYiA9IGFbMV0gfCAwXG4gICAgICBjID0gYVsyXVxuICAgIH1cbiAgICBmb3IgKGogPSA0OyBqOyApIGhbLS1qXSArPSBhW2pdXG4gIH1cblxuICBmb3IgKHMgPSAnJzsgaiA8IDMyOyApIHtcbiAgICBzICs9ICgoaFtqID4+IDNdID4+ICgoMSBeIGorKykgKiA0KSkgJiAxNSkudG9TdHJpbmcoMTYpXG4gIH1cblxuICByZXR1cm4gc1xufVxuZXhwb3J0IGRlZmF1bHQgbWQ1XG4vLyBjb25zb2xlLmxvZyhtZDUoJ2Zvb2Qtc2FmZXR5JykpXG4iLCAiaW1wb3J0IHsgdGV4dEZyb21UZXJtcyB9IGZyb20gJy4vX3RleHQuanMnXG5pbXBvcnQgZm10cyBmcm9tICcuL19mbXRzLmpzJ1xuaW1wb3J0IGhhc2ggZnJvbSAnLi4vbWV0aG9kcy9oYXNoLmpzJ1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgdGV4dDogdHJ1ZSxcbiAgdGVybXM6IHRydWUsXG59XG5cbmxldCBvcHRzID0geyBjYXNlOiAnbm9uZScsIHVuaWNvZGU6ICdzb21lJywgZm9ybTogJ21hY2hpbmUnLCBwdW5jdHVhdGlvbjogJ3NvbWUnIH1cblxuY29uc3QgbWVyZ2UgPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYSwgYilcbn1cblxuY29uc3QgZm5zID0ge1xuICB0ZXh0OiB0ZXJtcyA9PiB0ZXh0RnJvbVRlcm1zKHRlcm1zLCB7IGtlZXBQdW5jdDogdHJ1ZSB9LCBmYWxzZSksXG4gIG5vcm1hbDogdGVybXMgPT4gdGV4dEZyb21UZXJtcyh0ZXJtcywgbWVyZ2UoZm10cy5ub3JtYWwsIHsga2VlcFB1bmN0OiB0cnVlIH0pLCBmYWxzZSksXG4gIGltcGxpY2l0OiB0ZXJtcyA9PiB0ZXh0RnJvbVRlcm1zKHRlcm1zLCBtZXJnZShmbXRzLmltcGxpY2l0LCB7IGtlZXBQdW5jdDogdHJ1ZSB9KSwgZmFsc2UpLFxuXG4gIG1hY2hpbmU6IHRlcm1zID0+IHRleHRGcm9tVGVybXModGVybXMsIG9wdHMsIGZhbHNlKSxcbiAgcm9vdDogdGVybXMgPT4gdGV4dEZyb21UZXJtcyh0ZXJtcywgbWVyZ2Uob3B0cywgeyBmb3JtOiAncm9vdCcgfSksIGZhbHNlKSxcblxuICBoYXNoOiB0ZXJtcyA9PiBoYXNoKHRleHRGcm9tVGVybXModGVybXMsIHsga2VlcFB1bmN0OiB0cnVlIH0sIGZhbHNlKSksXG5cbiAgb2Zmc2V0OiB0ZXJtcyA9PiB7XG4gICAgbGV0IGxlbiA9IGZucy50ZXh0KHRlcm1zKS5sZW5ndGhcbiAgICByZXR1cm4ge1xuICAgICAgaW5kZXg6IHRlcm1zWzBdLm9mZnNldC5pbmRleCxcbiAgICAgIHN0YXJ0OiB0ZXJtc1swXS5vZmZzZXQuc3RhcnQsXG4gICAgICBsZW5ndGg6IGxlbixcbiAgICB9XG4gIH0sXG4gIHRlcm1zOiB0ZXJtcyA9PiB7XG4gICAgcmV0dXJuIHRlcm1zLm1hcCh0ID0+IHtcbiAgICAgIGxldCB0ZXJtID0gT2JqZWN0LmFzc2lnbih7fSwgdClcbiAgICAgIHRlcm0udGFncyA9IEFycmF5LmZyb20odC50YWdzKVxuICAgICAgcmV0dXJuIHRlcm1cbiAgICB9KVxuICB9LFxuICBjb25maWRlbmNlOiAoX3Rlcm1zLCB2aWV3LCBpKSA9PiB2aWV3LmVxKGkpLmNvbmZpZGVuY2UoKSxcbiAgc3lsbGFibGVzOiAoX3Rlcm1zLCB2aWV3LCBpKSA9PiB2aWV3LmVxKGkpLnN5bGxhYmxlcygpLFxuICBzZW50ZW5jZTogKF90ZXJtcywgdmlldywgaSkgPT4gdmlldy5lcShpKS5mdWxsU2VudGVuY2UoKS50ZXh0KCksXG4gIGRpcnR5OiB0ZXJtcyA9PiB0ZXJtcy5zb21lKHQgPT4gdC5kaXJ0eSA9PT0gdHJ1ZSksXG59XG5mbnMuc2VudGVuY2VzID0gZm5zLnNlbnRlbmNlXG5mbnMuY2xlYW4gPSBmbnMubm9ybWFsXG5mbnMucmVkdWNlZCA9IGZucy5yb290XG5cbmNvbnN0IHRvSlNPTiA9IGZ1bmN0aW9uICh2aWV3LCBvcHRpb24pIHtcbiAgb3B0aW9uID0gb3B0aW9uIHx8IHt9XG4gIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJykge1xuICAgIG9wdGlvbiA9IHt9XG4gIH1cbiAgb3B0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIG9wdGlvbilcbiAgLy8gcnVuIGFueSBuZWNlc3NhcnkgdXBmcm9udCBzdGVwc1xuICBpZiAob3B0aW9uLm9mZnNldCkge1xuICAgIHZpZXcuY29tcHV0ZSgnb2Zmc2V0JylcbiAgfVxuICByZXR1cm4gdmlldy5kb2NzLm1hcCgodGVybXMsIGkpID0+IHtcbiAgICBsZXQgcmVzID0ge31cbiAgICBPYmplY3Qua2V5cyhvcHRpb24pLmZvckVhY2goayA9PiB7XG4gICAgICBpZiAob3B0aW9uW2tdICYmIGZuc1trXSkge1xuICAgICAgICByZXNba10gPSBmbnNba10odGVybXMsIHZpZXcsIGkpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcmVzXG4gIH0pXG59XG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiByZXR1cm4gZGF0YSAqL1xuICBqc29uOiBmdW5jdGlvbiAobikge1xuICAgIGxldCByZXMgPSB0b0pTT04odGhpcywgbilcbiAgICBpZiAodHlwZW9mIG4gPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcmVzW25dXG4gICAgfVxuICAgIHJldHVybiByZXNcbiAgfSxcbn1cbm1ldGhvZHMuZGF0YSA9IG1ldGhvZHMuanNvblxuZXhwb3J0IGRlZmF1bHQgbWV0aG9kc1xuIiwgImNvbnN0IGlzQ2xpZW50U2lkZSA9ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudFxuXG4vL291dHB1dCBzb21lIGhlbHBmdWwgc3R1ZmYgdG8gdGhlIGNvbnNvbGVcbmNvbnN0IGRlYnVnID0gZnVuY3Rpb24gKGZtdCkge1xuICBsZXQgZGVidWdNZXRob2RzID0gdGhpcy5tZXRob2RzLm9uZS5kZWJ1ZyB8fCB7fVxuICAvLyBzZWUgaWYgbWV0aG9kIG5hbWUgZXhpc3RzXG4gIGlmIChmbXQgJiYgZGVidWdNZXRob2RzLmhhc093blByb3BlcnR5KGZtdCkpIHtcbiAgICBkZWJ1Z01ldGhvZHNbZm10XSh0aGlzKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgLy8gbG9nIGRlZmF1bHQgY2xpZW50LXNpZGUgdmlld1xuICBpZiAoaXNDbGllbnRTaWRlKCkpIHtcbiAgICBkZWJ1Z01ldGhvZHMuY2xpZW50U2lkZSh0aGlzKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgLy8gZWxzZSwgc2hvdyByZWd1bGFyIHNlcnZlci1zaWRlIHRhZ3Mgdmlld1xuICBkZWJ1Z01ldGhvZHMudGFncyh0aGlzKVxuICByZXR1cm4gdGhpc1xufVxuZXhwb3J0IGRlZmF1bHQgZGVidWdcbiIsICJjb25zdCB0b1RleHQgPSBmdW5jdGlvbiAodGVybSkge1xuICBsZXQgcHJlID0gdGVybS5wcmUgfHwgJydcbiAgbGV0IHBvc3QgPSB0ZXJtLnBvc3QgfHwgJydcbiAgcmV0dXJuIHByZSArIHRlcm0udGV4dCArIHBvc3Rcbn1cblxuY29uc3QgZmluZFN0YXJ0cyA9IGZ1bmN0aW9uIChkb2MsIG9iaikge1xuICBsZXQgc3RhcnRzID0ge31cbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKHJlZyA9PiB7XG4gICAgbGV0IG0gPSBkb2MubWF0Y2gocmVnKVxuICAgIG0uZnVsbFBvaW50ZXIuZm9yRWFjaChhID0+IHtcbiAgICAgIHN0YXJ0c1thWzNdXSA9IHsgZm46IG9ialtyZWddLCBlbmQ6IGFbMl0gfVxuICAgIH0pXG4gIH0pXG4gIHJldHVybiBzdGFydHNcbn1cblxuY29uc3Qgd3JhcCA9IGZ1bmN0aW9uIChkb2MsIG9iaikge1xuICAvLyBpbmRleCBpZHMgdG8gaGlnaGxpZ2h0XG4gIGxldCBzdGFydHMgPSBmaW5kU3RhcnRzKGRvYywgb2JqKVxuICBsZXQgdGV4dCA9ICcnXG4gIGRvYy5kb2NzLmZvckVhY2goKHRlcm1zLCBuKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IHQgPSB0ZXJtc1tpXVxuICAgICAgLy8gZG8gYSBzcGFuIHRhZ1xuICAgICAgaWYgKHN0YXJ0cy5oYXNPd25Qcm9wZXJ0eSh0LmlkKSkge1xuICAgICAgICBsZXQgeyBmbiwgZW5kIH0gPSBzdGFydHNbdC5pZF1cbiAgICAgICAgbGV0IG0gPSBkb2MudXBkYXRlKFtbbiwgaSwgZW5kXV0pXG4gICAgICAgIHRleHQgKz0gdGVybXNbaV0ucHJlIHx8ICcnXG4gICAgICAgIHRleHQgKz0gZm4obSlcbiAgICAgICAgaSA9IGVuZCAtIDFcbiAgICAgICAgdGV4dCArPSB0ZXJtc1tpXS5wb3N0IHx8ICcnXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ICs9IHRvVGV4dCh0KVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHRleHRcbn1cbmV4cG9ydCBkZWZhdWx0IHdyYXAiLCAiaW1wb3J0IGRlYnVnIGZyb20gJy4vZGVidWcuanMnXG5pbXBvcnQgd3JhcCBmcm9tICcuL3dyYXAuanMnXG5pbXBvcnQgaGFzaCBmcm9tICcuLi9tZXRob2RzL2hhc2guanMnXG5cbmNvbnN0IGlzT2JqZWN0ID0gdmFsID0+IHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJ1xufVxuXG4vLyBzb3J0IGJ5IGZyZXF1ZW5jeVxuY29uc3QgdG9wayA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgbGV0IG9iaiA9IHt9XG4gIGFyci5mb3JFYWNoKGEgPT4ge1xuICAgIG9ialthXSA9IG9ialthXSB8fCAwXG4gICAgb2JqW2FdICs9IDFcbiAgfSlcbiAgbGV0IHJlcyA9IE9iamVjdC5rZXlzKG9iaikubWFwKGsgPT4ge1xuICAgIHJldHVybiB7IG5vcm1hbDogaywgY291bnQ6IG9ialtrXSB9XG4gIH0pXG4gIHJldHVybiByZXMuc29ydCgoYSwgYikgPT4gKGEuY291bnQgPiBiLmNvdW50ID8gLTEgOiAwKSlcbn1cblxuLyoqIHNvbWUgbmFtZWQgb3V0cHV0IGZvcm1hdHMgKi9cbmNvbnN0IG91dCA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgLy8gc3VwcG9ydCBjdXN0b20gb3V0cHV0c1xuICBpZiAoaXNPYmplY3QobWV0aG9kKSkge1xuICAgIHJldHVybiB3cmFwKHRoaXMsIG1ldGhvZClcbiAgfVxuICAvLyB0ZXh0IG91dCBmb3JtYXRzXG4gIGlmIChtZXRob2QgPT09ICd0ZXh0Jykge1xuICAgIHJldHVybiB0aGlzLnRleHQoKVxuICB9XG4gIGlmIChtZXRob2QgPT09ICdub3JtYWwnKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dCgnbm9ybWFsJylcbiAgfVxuICBpZiAobWV0aG9kID09PSAncm9vdCcpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0KCdyb290JylcbiAgfVxuICBpZiAobWV0aG9kID09PSAnbWFjaGluZScgfHwgbWV0aG9kID09PSAncmVkdWNlZCcpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0KCdtYWNoaW5lJylcbiAgfVxuICBpZiAobWV0aG9kID09PSAnaGFzaCcgfHwgbWV0aG9kID09PSAnbWQ1Jykge1xuICAgIHJldHVybiBoYXNoKHRoaXMudGV4dCgpKVxuICB9XG5cbiAgLy8ganNvbiBkYXRhIGZvcm1hdHNcbiAgaWYgKG1ldGhvZCA9PT0gJ2pzb24nKSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbigpXG4gIH1cbiAgaWYgKG1ldGhvZCA9PT0gJ29mZnNldCcgfHwgbWV0aG9kID09PSAnb2Zmc2V0cycpIHtcbiAgICB0aGlzLmNvbXB1dGUoJ29mZnNldCcpXG4gICAgcmV0dXJuIHRoaXMuanNvbih7IG9mZnNldDogdHJ1ZSB9KVxuICB9XG4gIGlmIChtZXRob2QgPT09ICdhcnJheScpIHtcbiAgICBsZXQgYXJyID0gdGhpcy5kb2NzLm1hcCh0ZXJtcyA9PiB7XG4gICAgICByZXR1cm4gdGVybXNcbiAgICAgICAgLnJlZHVjZSgoc3RyLCB0KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHN0ciArIHQucHJlICsgdC50ZXh0ICsgdC5wb3N0XG4gICAgICAgIH0sICcnKVxuICAgICAgICAudHJpbSgpXG4gICAgfSlcbiAgICByZXR1cm4gYXJyLmZpbHRlcihzdHIgPT4gc3RyKVxuICB9XG4gIC8vIHJldHVybiB0ZXJtcyBzb3J0ZWQgYnkgZnJlcXVlbmN5XG4gIGlmIChtZXRob2QgPT09ICdmcmVxJyB8fCBtZXRob2QgPT09ICdmcmVxdWVuY3knIHx8IG1ldGhvZCA9PT0gJ3RvcGsnKSB7XG4gICAgcmV0dXJuIHRvcGsodGhpcy5qc29uKHsgbm9ybWFsOiB0cnVlIH0pLm1hcChvID0+IG8ubm9ybWFsKSlcbiAgfVxuXG4gIC8vIHNvbWUgaGFuZHkgYWQtaG9jIG91dHB1dHNcbiAgaWYgKG1ldGhvZCA9PT0gJ3Rlcm1zJykge1xuICAgIGxldCBsaXN0ID0gW11cbiAgICB0aGlzLmRvY3MuZm9yRWFjaCh0ZXJtcyA9PiB7XG4gICAgICBsZXQgd29yZHMgPSB0ZXJtcy5tYXAodCA9PiB0LnRleHQpXG4gICAgICB3b3JkcyA9IHdvcmRzLmZpbHRlcih0ID0+IHQpXG4gICAgICBsaXN0ID0gbGlzdC5jb25jYXQod29yZHMpXG4gICAgfSlcbiAgICByZXR1cm4gbGlzdFxuICB9XG4gIGlmIChtZXRob2QgPT09ICd0YWdzJykge1xuICAgIHJldHVybiB0aGlzLmRvY3MubWFwKHRlcm1zID0+IHtcbiAgICAgIHJldHVybiB0ZXJtcy5yZWR1Y2UoKGgsIHQpID0+IHtcbiAgICAgICAgaFt0LmltcGxpY2l0IHx8IHQubm9ybWFsXSA9IEFycmF5LmZyb20odC50YWdzKVxuICAgICAgICByZXR1cm4gaFxuICAgICAgfSwge30pXG4gICAgfSlcbiAgfVxuICBpZiAobWV0aG9kID09PSAnZGVidWcnKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVidWcoKSAvL2FsbG93XG4gIH1cbiAgcmV0dXJuIHRoaXMudGV4dCgpXG59XG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIC8qKiAqL1xuICBkZWJ1ZzogZGVidWcsXG4gIC8qKiAqL1xuICBvdXQsXG4gIC8qKiAqL1xuICB3cmFwOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHdyYXAodGhpcywgb2JqKVxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBtZXRob2RzXG4iLCAiaW1wb3J0IHsgdGV4dEZyb21Eb2MgfSBmcm9tICcuL190ZXh0LmpzJ1xuaW1wb3J0IGZtdHMgZnJvbSAnLi9fZm10cy5qcydcblxuY29uc3QgaXNPYmplY3QgPSB2YWwgPT4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IE9iamVjdF0nXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqICovXG4gIHRleHQ6IGZ1bmN0aW9uIChmbXQpIHtcbiAgICBsZXQgb3B0cyA9IHt9XG4gICAgaWYgKGZtdCAmJiB0eXBlb2YgZm10ID09PSAnc3RyaW5nJyAmJiBmbXRzLmhhc093blByb3BlcnR5KGZtdCkpIHtcbiAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBmbXRzW2ZtdF0pXG4gICAgfSBlbHNlIGlmIChmbXQgJiYgaXNPYmplY3QoZm10KSkge1xuICAgICAgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGZtdCkgLy90b2RvOiBmaXhtZVxuICAgIH1cbiAgICAvLyBpcyBpdCBhIGZ1bGwgZG9jdW1lbnQ/XG4gICAgaWYgKG9wdHMua2VlcFNwYWNlID09PSB1bmRlZmluZWQgJiYgIXRoaXMuaXNGdWxsKCkpIHtcbiAgICAgIC8vXG4gICAgICBvcHRzLmtlZXBTcGFjZSA9IGZhbHNlXG4gICAgfVxuICAgIGlmIChvcHRzLmtlZXBFbmRQdW5jdCA9PT0gdW5kZWZpbmVkICYmIHRoaXMucG9pbnRlcikge1xuICAgICAgbGV0IHB0ciA9IHRoaXMucG9pbnRlclswXVxuICAgICAgaWYgKHB0ciAmJiBwdHJbMV0pIHtcbiAgICAgICAgb3B0cy5rZWVwRW5kUHVuY3QgPSBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0cy5rZWVwRW5kUHVuY3QgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIC8vIHNldCBkZWZhdWx0c1xuICAgIGlmIChvcHRzLmtlZXBQdW5jdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvcHRzLmtlZXBQdW5jdCA9IHRydWVcbiAgICB9XG4gICAgaWYgKG9wdHMua2VlcFNwYWNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdHMua2VlcFNwYWNlID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gdGV4dEZyb21Eb2ModGhpcy5kb2NzLCBvcHRzKVxuICB9LFxufVxuIiwgImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5qcydcbmltcG9ydCBqc29uIGZyb20gJy4vanNvbi5qcydcbmltcG9ydCBvdXQgZnJvbSAnLi9vdXQuanMnXG5pbXBvcnQgdGV4dCBmcm9tICcuL3RleHQuanMnXG5cbmNvbnN0IG1ldGhvZHMgPSBPYmplY3QuYXNzaWduKHt9LCBvdXQsIHRleHQsIGpzb24sIGh0bWwpXG5cbmNvbnN0IGFkZEFQSSA9IGZ1bmN0aW9uIChWaWV3KSB7XG4gIE9iamVjdC5hc3NpZ24oVmlldy5wcm90b3R5cGUsIG1ldGhvZHMpXG59XG5leHBvcnQgZGVmYXVsdCBhZGRBUElcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5jb25zdCBsb2dDbGllbnRTaWRlID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgY29uc29sZS5sb2coJyVjIC09LT0tICcsICdiYWNrZ3JvdW5kLWNvbG9yOiM2Njk5Y2M7JylcbiAgdmlldy5mb3JFYWNoKG0gPT4ge1xuICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQobS50ZXh0KCkpXG4gICAgbGV0IHRlcm1zID0gbS5kb2NzWzBdXG4gICAgbGV0IG91dCA9IHRlcm1zLm1hcCh0ID0+IHtcbiAgICAgIGxldCB0ZXh0ID0gdC50ZXh0IHx8ICctJ1xuICAgICAgaWYgKHQuaW1wbGljaXQpIHtcbiAgICAgICAgdGV4dCA9ICdbJyArIHQuaW1wbGljaXQgKyAnXSdcbiAgICAgIH1cbiAgICAgIGxldCB0YWdzID0gJ1snICsgQXJyYXkuZnJvbSh0LnRhZ3MpLmpvaW4oJywgJykgKyAnXSdcbiAgICAgIHJldHVybiB7IHRleHQsIHRhZ3MgfVxuICAgIH0pXG4gICAgY29uc29sZS50YWJsZShvdXQsIFsndGV4dCcsICd0YWdzJ10pXG4gICAgY29uc29sZS5ncm91cEVuZCgpXG4gIH0pXG59XG5leHBvcnQgZGVmYXVsdCBsb2dDbGllbnRTaWRlXG4iLCAiLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvOTc4MTIxOC9ob3ctdG8tY2hhbmdlLW5vZGUtanNzLWNvbnNvbGUtZm9udC1jb2xvclxuY29uc3QgcmVzZXQgPSAnXFx4MWJbMG0nXG5cbi8vY2hlYXBlciB0aGFuIHJlcXVpcmluZyBjaGFsa1xuY29uc3QgY2xpID0ge1xuICBncmVlbjogc3RyID0+ICdcXHgxYlszMm0nICsgc3RyICsgcmVzZXQsXG4gIHJlZDogc3RyID0+ICdcXHgxYlszMW0nICsgc3RyICsgcmVzZXQsXG4gIGJsdWU6IHN0ciA9PiAnXFx4MWJbMzRtJyArIHN0ciArIHJlc2V0LFxuICBtYWdlbnRhOiBzdHIgPT4gJ1xceDFiWzM1bScgKyBzdHIgKyByZXNldCxcbiAgY3lhbjogc3RyID0+ICdcXHgxYlszNm0nICsgc3RyICsgcmVzZXQsXG4gIHllbGxvdzogc3RyID0+ICdcXHgxYlszM20nICsgc3RyICsgcmVzZXQsXG4gIGJsYWNrOiBzdHIgPT4gJ1xceDFiWzMwbScgKyBzdHIgKyByZXNldCxcbiAgZGltOiBzdHIgPT4gJ1xceDFiWzJtJyArIHN0ciArIHJlc2V0LFxuICBpOiBzdHIgPT4gJ1xceDFiWzNtJyArIHN0ciArIHJlc2V0LFxufVxuZXhwb3J0IGRlZmF1bHQgY2xpXG4iLCAiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuaW1wb3J0IGNsaSBmcm9tICcuL19jb2xvci5qcydcblxuY29uc3QgdGFnU3RyaW5nID0gZnVuY3Rpb24gKHRhZ3MsIG1vZGVsKSB7XG4gIGlmIChtb2RlbC5vbmUudGFnU2V0KSB7XG4gICAgdGFncyA9IHRhZ3MubWFwKHRhZyA9PiB7XG4gICAgICBpZiAoIW1vZGVsLm9uZS50YWdTZXQuaGFzT3duUHJvcGVydHkodGFnKSkge1xuICAgICAgICByZXR1cm4gdGFnXG4gICAgICB9XG4gICAgICBjb25zdCBjID0gbW9kZWwub25lLnRhZ1NldFt0YWddLmNvbG9yIHx8ICdibHVlJ1xuICAgICAgcmV0dXJuIGNsaVtjXSh0YWcpXG4gICAgfSlcbiAgfVxuICByZXR1cm4gdGFncy5qb2luKCcsICcpXG59XG5cbmNvbnN0IHNob3dUYWdzID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgbGV0IHsgZG9jcywgbW9kZWwgfSA9IHZpZXdcbiAgaWYgKGRvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS5sb2coY2xpLmJsdWUoJ1xcbiAgICAgXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwJykpXG4gIH1cbiAgZG9jcy5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICBjb25zb2xlLmxvZyhjbGkuYmx1ZSgnXFxuICBcdTI1MENcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDAnKSlcbiAgICB0ZXJtcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgbGV0IHRhZ3MgPSBbLi4uKHQudGFncyB8fCBbXSldXG4gICAgICBsZXQgdGV4dCA9IHQudGV4dCB8fCAnLSdcbiAgICAgIGlmICh0LnNlbnNlKSB7XG4gICAgICAgIHRleHQgPSBgeyR7dC5ub3JtYWx9LyR7dC5zZW5zZX19YFxuICAgICAgfVxuICAgICAgaWYgKHQuaW1wbGljaXQpIHtcbiAgICAgICAgdGV4dCA9ICdbJyArIHQuaW1wbGljaXQgKyAnXSdcbiAgICAgIH1cbiAgICAgIHRleHQgPSBjbGkueWVsbG93KHRleHQpXG4gICAgICBsZXQgd29yZCA9IFwiJ1wiICsgdGV4dCArIFwiJ1wiXG4gICAgICBpZiAodC5yZWZlcmVuY2UpIHtcbiAgICAgICAgbGV0IHN0ciA9IHZpZXcudXBkYXRlKFt0LnJlZmVyZW5jZV0pLnRleHQoJ25vcm1hbCcpXG4gICAgICAgIHdvcmQgKz0gYCAtICR7Y2xpLmRpbShjbGkuaSgnWycgKyBzdHIgKyAnXScpKX1gXG4gICAgICB9XG4gICAgICB3b3JkID0gd29yZC5wYWRFbmQoMTgpXG4gICAgICBsZXQgc3RyID0gY2xpLmJsdWUoJyAgXHUyNTAyICcpICsgY2xpLmkod29yZCkgKyAnICAtICcgKyB0YWdTdHJpbmcodGFncywgbW9kZWwpXG4gICAgICBjb25zb2xlLmxvZyhzdHIpXG4gICAgfSlcbiAgfSlcbiAgY29uc29sZS5sb2coJ1xcbicpXG59XG5leHBvcnQgZGVmYXVsdCBzaG93VGFnc1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmltcG9ydCBjbGkgZnJvbSAnLi9fY29sb3IuanMnXG5cbmNvbnN0IHNob3dDaHVua3MgPSBmdW5jdGlvbiAodmlldykge1xuICBsZXQgeyBkb2NzIH0gPSB2aWV3XG4gIGNvbnNvbGUubG9nKCcnKVxuICBkb2NzLmZvckVhY2godGVybXMgPT4ge1xuICAgIGxldCBvdXQgPSBbXVxuICAgIHRlcm1zLmZvckVhY2godGVybSA9PiB7XG4gICAgICBpZiAodGVybS5jaHVuayA9PT0gJ05vdW4nKSB7XG4gICAgICAgIG91dC5wdXNoKGNsaS5ibHVlKHRlcm0uaW1wbGljaXQgfHwgdGVybS5ub3JtYWwpKVxuICAgICAgfSBlbHNlIGlmICh0ZXJtLmNodW5rID09PSAnVmVyYicpIHtcbiAgICAgICAgb3V0LnB1c2goY2xpLmdyZWVuKHRlcm0uaW1wbGljaXQgfHwgdGVybS5ub3JtYWwpKVxuICAgICAgfSBlbHNlIGlmICh0ZXJtLmNodW5rID09PSAnQWRqZWN0aXZlJykge1xuICAgICAgICBvdXQucHVzaChjbGkueWVsbG93KHRlcm0uaW1wbGljaXQgfHwgdGVybS5ub3JtYWwpKVxuICAgICAgfSBlbHNlIGlmICh0ZXJtLmNodW5rID09PSAnUGl2b3QnKSB7XG4gICAgICAgIG91dC5wdXNoKGNsaS5yZWQodGVybS5pbXBsaWNpdCB8fCB0ZXJtLm5vcm1hbCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQucHVzaCh0ZXJtLmltcGxpY2l0IHx8IHRlcm0ubm9ybWFsKVxuICAgICAgfVxuICAgIH0pXG4gICAgY29uc29sZS5sb2cob3V0LmpvaW4oJyAnKSwgJ1xcbicpXG4gIH0pXG4gIGNvbnNvbGUubG9nKCdcXG4nKVxufVxuZXhwb3J0IGRlZmF1bHQgc2hvd0NodW5rc1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmltcG9ydCBjbGkgZnJvbSAnLi9fY29sb3IuanMnXG5cbmNvbnN0IHNwbGl0ID0gKHR4dCwgb2Zmc2V0LCBpbmRleCkgPT4ge1xuICBsZXQgYnVmZiA9IGluZGV4ICogOSAvL3RoZXJlIGFyZSA5IG5ldyBjaGFycyBhZGRkZWQgdG8gZWFjaCBoaWdobGlnaHRcbiAgbGV0IHN0YXJ0ID0gb2Zmc2V0LnN0YXJ0ICsgYnVmZlxuICBsZXQgZW5kID0gc3RhcnQgKyBvZmZzZXQubGVuZ3RoXG4gIGxldCBwcmUgPSB0eHQuc3Vic3RyaW5nKDAsIHN0YXJ0KVxuICBsZXQgbWlkID0gdHh0LnN1YnN0cmluZyhzdGFydCwgZW5kKVxuICBsZXQgcG9zdCA9IHR4dC5zdWJzdHJpbmcoZW5kLCB0eHQubGVuZ3RoKVxuICByZXR1cm4gW3ByZSwgbWlkLCBwb3N0XVxufVxuXG5jb25zdCBzcGxpY2VJbiA9IGZ1bmN0aW9uICh0eHQsIG9mZnNldCwgaW5kZXgpIHtcbiAgbGV0IHBhcnRzID0gc3BsaXQodHh0LCBvZmZzZXQsIGluZGV4KVxuICByZXR1cm4gYCR7cGFydHNbMF19JHtjbGkuYmx1ZShwYXJ0c1sxXSl9JHtwYXJ0c1syXX1gXG59XG5cbmNvbnN0IHNob3dIaWdobGlnaHQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gIGlmICghZG9jLmZvdW5kKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgbGV0IGJ5U2VudGVuY2UgPSB7fVxuICBkb2MuZnVsbFBvaW50ZXIuZm9yRWFjaChwdHIgPT4ge1xuICAgIGJ5U2VudGVuY2VbcHRyWzBdXSA9IGJ5U2VudGVuY2VbcHRyWzBdXSB8fCBbXVxuICAgIGJ5U2VudGVuY2VbcHRyWzBdXS5wdXNoKHB0cilcbiAgfSlcbiAgT2JqZWN0LmtleXMoYnlTZW50ZW5jZSkuZm9yRWFjaChrID0+IHtcbiAgICBsZXQgZnVsbCA9IGRvYy51cGRhdGUoW1tOdW1iZXIoayldXSlcbiAgICBsZXQgdHh0ID0gZnVsbC50ZXh0KClcbiAgICBsZXQgbWF0Y2hlcyA9IGRvYy51cGRhdGUoYnlTZW50ZW5jZVtrXSlcbiAgICBsZXQganNvbiA9IG1hdGNoZXMuanNvbih7IG9mZnNldDogdHJ1ZSB9KVxuICAgIGpzb24uZm9yRWFjaCgob2JqLCBpKSA9PiB7XG4gICAgICB0eHQgPSBzcGxpY2VJbih0eHQsIG9iai5vZmZzZXQsIGkpXG4gICAgfSlcbiAgICBjb25zb2xlLmxvZyh0eHQpXG4gIH0pXG4gIGNvbnNvbGUubG9nKCdcXG4nKVxufVxuZXhwb3J0IGRlZmF1bHQgc2hvd0hpZ2hsaWdodFxuIiwgImltcG9ydCBjbGllbnRTaWRlIGZyb20gJy4vY2xpZW50LXNpZGUuanMnXG5pbXBvcnQgdGFncyBmcm9tICcuL3RhZ3MuanMnXG5pbXBvcnQgY2h1bmtzIGZyb20gJy4vY2h1bmtzLmpzJ1xuaW1wb3J0IGhpZ2hsaWdodCBmcm9tICcuL2hpZ2hsaWdodC5qcydcblxuY29uc3QgZGVidWcgPSB7XG4gIHRhZ3MsXG4gIGNsaWVudFNpZGUsXG4gIGNodW5rcyxcbiAgaGlnaGxpZ2h0LFxufVxuZXhwb3J0IGRlZmF1bHQgZGVidWdcbiIsICJpbXBvcnQgYXBpIGZyb20gJy4vYXBpL2luZGV4LmpzJ1xuaW1wb3J0IHsgZGVidWcsIGhhc2ggfSBmcm9tICcuL21ldGhvZHMvaW5kZXguanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXBpLFxuICBtZXRob2RzOiB7XG4gICAgb25lOiB7XG4gICAgICBoYXNoLFxuICAgICAgZGVidWcsXG4gICAgfSxcbiAgfSxcbn1cbiIsICIvLyBkbyB0aGUgcG9pbnRlcnMgaW50ZXJzZWN0P1xuZXhwb3J0IGNvbnN0IGRvZXNPdmVybGFwID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgaWYgKGFbMF0gIT09IGJbMF0pIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBsZXQgWywgc3RhcnRBLCBlbmRBXSA9IGFcbiAgbGV0IFssIHN0YXJ0QiwgZW5kQl0gPSBiXG4gIC8vIFthLGEsYSwtLC0sLSxdXG4gIC8vIFstLC0sYixiLGIsLSxdXG4gIGlmIChzdGFydEEgPD0gc3RhcnRCICYmIGVuZEEgPiBzdGFydEIpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vIFstLC0sLSxhLGEsLSxdXG4gIC8vIFstLC0sYixiLGIsLSxdXG4gIGlmIChzdGFydEIgPD0gc3RhcnRBICYmIGVuZEIgPiBzdGFydEEpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyBnZXQgd2lkZXN0IG1pbi9tYXhcbmV4cG9ydCBjb25zdCBnZXRFeHRlbnQgPSBmdW5jdGlvbiAocHRycykge1xuICBsZXQgbWluID0gcHRyc1swXVsxXVxuICBsZXQgbWF4ID0gcHRyc1swXVsyXVxuICBwdHJzLmZvckVhY2gocHRyID0+IHtcbiAgICBpZiAocHRyWzFdIDwgbWluKSB7XG4gICAgICBtaW4gPSBwdHJbMV1cbiAgICB9XG4gICAgaWYgKHB0clsyXSA+IG1heCkge1xuICAgICAgbWF4ID0gcHRyWzJdXG4gICAgfVxuICB9KVxuICByZXR1cm4gW3B0cnNbMF1bMF0sIG1pbiwgbWF4XVxufVxuXG4vLyBjb2xsZWN0IHBvaW50ZXJzIGJ5IHNlbnRlbmNlIG51bWJlclxuZXhwb3J0IGNvbnN0IGluZGV4TiA9IGZ1bmN0aW9uIChwdHJzKSB7XG4gIGxldCBieU4gPSB7fVxuICBwdHJzLmZvckVhY2gocmVmID0+IHtcbiAgICBieU5bcmVmWzBdXSA9IGJ5TltyZWZbMF1dIHx8IFtdXG4gICAgYnlOW3JlZlswXV0ucHVzaChyZWYpXG4gIH0pXG4gIHJldHVybiBieU5cbn1cblxuLy8gcmVtb3ZlIGV4YWN0IGR1cGxpY2F0ZXNcbmV4cG9ydCBjb25zdCB1bmlxdWVQdHJzID0gZnVuY3Rpb24gKGFycikge1xuICBsZXQgb2JqID0ge31cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBvYmpbYXJyW2ldLmpvaW4oJywnKV0gPSBhcnJbaV1cbiAgfVxuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhvYmopXG59XG5cbi8vIGEgYmVmb3JlIGJcbi8vIGNvbnNvbGUubG9nKGRvZXNPdmVybGFwKFswLCAwLCA0XSwgWzAsIDIsIDVdKSlcbi8vIC8vIGIgYmVmb3JlIGFcbi8vIGNvbnNvbGUubG9nKGRvZXNPdmVybGFwKFswLCAzLCA0XSwgWzAsIDEsIDVdKSlcbi8vIC8vIGRpc2pvaW50XG4vLyBjb25zb2xlLmxvZyhkb2VzT3ZlcmxhcChbMCwgMCwgM10sIFswLCA0LCA1XSkpXG4vLyBuZWlnaGJvdXJzXG4vLyBjb25zb2xlLmxvZyhkb2VzT3ZlcmxhcChbMCwgMSwgM10sIFswLCAzLCA1XSkpXG4vLyBjb25zb2xlLmxvZyhkb2VzT3ZlcmxhcChbMCwgMywgNV0sIFswLCAxLCAzXSkpXG5cbi8vIGNvbnNvbGUubG9nKFxuLy8gICBnZXRFeHRlbnQoW1xuLy8gICAgIFswLCAzLCA0XSxcbi8vICAgICBbMCwgNCwgNV0sXG4vLyAgICAgWzAsIDEsIDJdLFxuLy8gICBdKVxuLy8gKVxuIiwgImltcG9ydCB7IGluZGV4TiB9IGZyb20gJy4vX2xpYi5qcydcblxuLy8gc3BsaXQgYSBwb2ludGVyLCBieSBtYXRjaCBwb2ludGVyXG5jb25zdCBwaXZvdEJ5ID0gZnVuY3Rpb24gKGZ1bGwsIG0pIHtcbiAgbGV0IFtuLCBzdGFydF0gPSBmdWxsXG4gIGxldCBtU3RhcnQgPSBtWzFdXG4gIGxldCBtRW5kID0gbVsyXVxuICBsZXQgcmVzID0ge31cbiAgLy8gaXMgdGhlcmUgc3BhY2UgYmVmb3JlIHRoZSBtYXRjaD9cbiAgaWYgKHN0YXJ0IDwgbVN0YXJ0KSB7XG4gICAgbGV0IGVuZCA9IG1TdGFydCA8IGZ1bGxbMl0gPyBtU3RhcnQgOiBmdWxsWzJdIC8vIGZpbmQgY2xvc2VzdCBlbmQtcG9pbnRcbiAgICByZXMuYmVmb3JlID0gW24sIHN0YXJ0LCBlbmRdIC8vYmVmb3JlIHNlZ21lbnRcbiAgfVxuICByZXMubWF0Y2ggPSBtXG4gIC8vIGlzIHRoZXJlIHNwYWNlIGFmdGVyIHRoZSBtYXRjaD9cbiAgaWYgKGZ1bGxbMl0gPiBtRW5kKSB7XG4gICAgcmVzLmFmdGVyID0gW24sIG1FbmQsIGZ1bGxbMl1dIC8vYWZ0ZXIgc2VnbWVudFxuICB9XG4gIHJldHVybiByZXNcbn1cblxuY29uc3QgZG9lc01hdGNoID0gZnVuY3Rpb24gKGZ1bGwsIG0pIHtcbiAgcmV0dXJuIGZ1bGxbMV0gPD0gbVsxXSAmJiBtWzJdIDw9IGZ1bGxbMl1cbn1cblxuY29uc3Qgc3BsaXRBbGwgPSBmdW5jdGlvbiAoZnVsbCwgbSkge1xuICBsZXQgYnlOID0gaW5kZXhOKG0pXG4gIGxldCByZXMgPSBbXVxuICBmdWxsLmZvckVhY2gocHRyID0+IHtcbiAgICBsZXQgW25dID0gcHRyXG4gICAgbGV0IG1hdGNoZXMgPSBieU5bbl0gfHwgW11cbiAgICBtYXRjaGVzID0gbWF0Y2hlcy5maWx0ZXIocCA9PiBkb2VzTWF0Y2gocHRyLCBwKSlcbiAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlcy5wdXNoKHsgcGFzc3Rocm91Z2g6IHB0ciB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIGVuc3VyZSBtYXRjaGVzIGFyZSBpbi1vcmRlclxuICAgIG1hdGNoZXMgPSBtYXRjaGVzLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKVxuICAgIC8vIHN0YXJ0IHNwbGl0dGluZyBvdXIgbGVmdC10by1yaWdodFxuICAgIGxldCBjYXJyeSA9IHB0clxuICAgIG1hdGNoZXMuZm9yRWFjaCgocCwgaSkgPT4ge1xuICAgICAgbGV0IGZvdW5kID0gcGl2b3RCeShjYXJyeSwgcClcbiAgICAgIC8vIGxhc3Qgb25lXG4gICAgICBpZiAoIW1hdGNoZXNbaSArIDFdKSB7XG4gICAgICAgIHJlcy5wdXNoKGZvdW5kKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnB1c2goeyBiZWZvcmU6IGZvdW5kLmJlZm9yZSwgbWF0Y2g6IGZvdW5kLm1hdGNoIH0pXG4gICAgICAgIGlmIChmb3VuZC5hZnRlcikge1xuICAgICAgICAgIGNhcnJ5ID0gZm91bmQuYWZ0ZXJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG4gIHJldHVybiByZXNcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3BsaXRBbGxcbiIsICJjb25zdCBtYXggPSAyMFxuXG4vLyBzd2VlcC1hcm91bmQgbG9va2luZyBmb3Igb3VyIHN0YXJ0IHRlcm0gdXVpZFxuY29uc3QgYmxpbmRTd2VlcCA9IGZ1bmN0aW9uIChpZCwgZG9jLCBuKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4OyBpICs9IDEpIHtcbiAgICAvLyBsb29rIHVwIGEgc2VudGVuY2VcbiAgICBpZiAoZG9jW24gLSBpXSkge1xuICAgICAgbGV0IGluZGV4ID0gZG9jW24gLSBpXS5maW5kSW5kZXgodGVybSA9PiB0ZXJtLmlkID09PSBpZClcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFtuIC0gaSwgaW5kZXhdXG4gICAgICB9XG4gICAgfVxuICAgIC8vIGxvb2sgZG93biBhIHNlbnRlbmNlXG4gICAgaWYgKGRvY1tuICsgaV0pIHtcbiAgICAgIGxldCBpbmRleCA9IGRvY1tuICsgaV0uZmluZEluZGV4KHRlcm0gPT4gdGVybS5pZCA9PT0gaWQpXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBbbiArIGksIGluZGV4XVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5jb25zdCByZXBhaXJFbmRpbmcgPSBmdW5jdGlvbiAocHRyLCBkb2N1bWVudCkge1xuICBsZXQgW24sIHN0YXJ0LCAsICwgZW5kSWRdID0gcHRyXG4gIGxldCB0ZXJtcyA9IGRvY3VtZW50W25dXG4gIC8vIGxvb2sgZm9yIGVuZC1pZFxuICBsZXQgbmV3RW5kID0gdGVybXMuZmluZEluZGV4KHQgPT4gdC5pZCA9PT0gZW5kSWQpXG4gIGlmIChuZXdFbmQgPT09IC0xKSB7XG4gICAgLy8gaWYgZW5kLXRlcm0gd2Fzbid0IGZvdW5kLCBzbyBnbyBhbGwgdGhlIHdheSB0byB0aGUgZW5kXG4gICAgcHRyWzJdID0gZG9jdW1lbnRbbl0ubGVuZ3RoXG4gICAgcHRyWzRdID0gdGVybXMubGVuZ3RoID8gdGVybXNbdGVybXMubGVuZ3RoIC0gMV0uaWQgOiBudWxsXG4gIH0gZWxzZSB7XG4gICAgcHRyWzJdID0gbmV3RW5kIC8vIHJlcGFpciBlbmRpbmcgcG9pbnRlclxuICB9XG4gIHJldHVybiBkb2N1bWVudFtuXS5zbGljZShzdGFydCwgcHRyWzJdICsgMSlcbn1cblxuLyoqIHJldHVybiBhIHN1YnNldCBvZiB0aGUgZG9jdW1lbnQsIGZyb20gYSBwb2ludGVyICovXG5jb25zdCBnZXREb2MgPSBmdW5jdGlvbiAocHRycywgZG9jdW1lbnQpIHtcbiAgbGV0IGRvYyA9IFtdXG4gIHB0cnMuZm9yRWFjaCgocHRyLCBpKSA9PiB7XG4gICAgaWYgKCFwdHIpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBsZXQgW24sIHN0YXJ0LCBlbmQsIGlkLCBlbmRJZF0gPSBwdHIgLy9wYXJzZVBvaW50ZXIocHRyKVxuICAgIGxldCB0ZXJtcyA9IGRvY3VtZW50W25dIHx8IFtdXG4gICAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHN0YXJ0ID0gMFxuICAgIH1cbiAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVuZCA9IHRlcm1zLmxlbmd0aFxuICAgIH1cbiAgICBpZiAoaWQgJiYgKCF0ZXJtc1tzdGFydF0gfHwgdGVybXNbc3RhcnRdLmlkICE9PSBpZCkpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCcgIHJlcGFpcmluZyBwb2ludGVyLi4uJylcbiAgICAgIGxldCB3aWxkID0gYmxpbmRTd2VlcChpZCwgZG9jdW1lbnQsIG4pXG4gICAgICBpZiAod2lsZCAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgbGVuID0gZW5kIC0gc3RhcnRcbiAgICAgICAgdGVybXMgPSBkb2N1bWVudFt3aWxkWzBdXS5zbGljZSh3aWxkWzFdLCB3aWxkWzFdICsgbGVuKVxuICAgICAgICAvLyBhY3R1YWxseSBjaGFuZ2UgdGhlIHBvaW50ZXJcbiAgICAgICAgbGV0IHN0YXJ0SWQgPSB0ZXJtc1swXSA/IHRlcm1zWzBdLmlkIDogbnVsbFxuICAgICAgICBwdHJzW2ldID0gW3dpbGRbMF0sIHdpbGRbMV0sIHdpbGRbMV0gKyBsZW4sIHN0YXJ0SWRdXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlcm1zID0gdGVybXMuc2xpY2Uoc3RhcnQsIGVuZClcbiAgICB9XG4gICAgaWYgKHRlcm1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmIChzdGFydCA9PT0gZW5kKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gdGVzdCBlbmQtaWQsIGlmIGl0IGV4aXN0c1xuICAgIGlmIChlbmRJZCAmJiB0ZXJtc1t0ZXJtcy5sZW5ndGggLSAxXS5pZCAhPT0gZW5kSWQpIHtcbiAgICAgIHRlcm1zID0gcmVwYWlyRW5kaW5nKHB0ciwgZG9jdW1lbnQpXG4gICAgfVxuICAgIC8vIG90aGVyd2lzZSwgbG9va3MgZ29vZCFcbiAgICBkb2MucHVzaCh0ZXJtcylcbiAgfSlcbiAgZG9jID0gZG9jLmZpbHRlcihhID0+IGEubGVuZ3RoID4gMClcbiAgcmV0dXJuIGRvY1xufVxuZXhwb3J0IGRlZmF1bHQgZ2V0RG9jIiwgImltcG9ydCB7IGluZGV4TiB9IGZyb20gJy4uL2FwaS9saWIvX2xpYi5qcydcbmltcG9ydCBzcGxpdEFsbCBmcm9tICcuLi9hcGkvbGliL3NwbGl0LmpzJ1xuaW1wb3J0IGdldERvYyBmcm9tICcuL2dldERvYy5qcydcblxuLy8gZmxhdCBsaXN0IG9mIHRlcm1zIGZyb20gbmVzdGVkIGRvY3VtZW50XG5jb25zdCB0ZXJtTGlzdCA9IGZ1bmN0aW9uIChkb2NzKSB7XG4gIGxldCBhcnIgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBmb3IgKGxldCB0ID0gMDsgdCA8IGRvY3NbaV0ubGVuZ3RoOyB0ICs9IDEpIHtcbiAgICAgIGFyci5wdXNoKGRvY3NbaV1bdF0pXG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBvbmU6IHtcbiAgICB0ZXJtTGlzdCxcbiAgICBnZXREb2MsXG4gICAgcG9pbnRlcjoge1xuICAgICAgaW5kZXhOLFxuICAgICAgc3BsaXRBbGwsXG4gICAgfVxuICB9LFxufVxuIiwgImltcG9ydCB7IGRvZXNPdmVybGFwLCBnZXRFeHRlbnQsIGluZGV4TiwgdW5pcXVlUHRycyB9IGZyb20gJy4vX2xpYi5qcydcblxuLy8gYSB1bmlvbiBpcyBhICsgYiwgbWludXMgZHVwbGljYXRlc1xuY29uc3QgZ2V0VW5pb24gPSBmdW5jdGlvbiAoYSwgYikge1xuICBsZXQgYm90aCA9IGEuY29uY2F0KGIpXG4gIGxldCBieU4gPSBpbmRleE4oYm90aClcbiAgbGV0IHJlcyA9IFtdXG4gIGJvdGguZm9yRWFjaChwdHIgPT4ge1xuICAgIGxldCBbbl0gPSBwdHJcbiAgICBpZiAoYnlOW25dLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gd2UncmUgYWxvbmUgb24gdGhpcyBzZW50ZW5jZSwgc28gd2UncmUgZ29vZFxuICAgICAgcmVzLnB1c2gocHRyKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIHRoZXJlIG1heSBiZSBvdmVybGFwc1xuICAgIGxldCBobW0gPSBieU5bbl0uZmlsdGVyKG0gPT4gZG9lc092ZXJsYXAocHRyLCBtKSlcbiAgICBobW0ucHVzaChwdHIpXG4gICAgbGV0IHJhbmdlID0gZ2V0RXh0ZW50KGhtbSlcbiAgICByZXMucHVzaChyYW5nZSlcbiAgfSlcbiAgcmVzID0gdW5pcXVlUHRycyhyZXMpXG4gIHJldHVybiByZXNcbn1cbmV4cG9ydCBkZWZhdWx0IGdldFVuaW9uXG5cbi8vIHR3byBkaXNqb2ludFxuLy8gY29uc29sZS5sb2coZ2V0VW5pb24oW1sxLCAzLCA0XV0sIFtbMCwgMSwgMl1dKSlcbi8vIHR3byBkaXNqb2ludFxuLy8gY29uc29sZS5sb2coZ2V0VW5pb24oW1swLCAzLCA0XV0sIFtbMCwgMSwgMl1dKSlcbi8vIG92ZXJsYXAtcGx1c1xuLy8gY29uc29sZS5sb2coZ2V0VW5pb24oW1swLCAxLCA0XV0sIFtbMCwgMiwgNl1dKSlcbi8vIG92ZXJsYXBcbi8vIGNvbnNvbGUubG9nKGdldFVuaW9uKFtbMCwgMSwgNF1dLCBbWzAsIDIsIDNdXSkpXG4vLyBuZWlnaGJvdXJzXG4vLyBjb25zb2xlLmxvZyhnZXRVbmlvbihbWzAsIDEsIDNdXSwgW1swLCAzLCA1XV0pKVxuIiwgImltcG9ydCBzcGxpdEFsbCBmcm9tICcuL3NwbGl0LmpzJ1xuXG5jb25zdCBzdWJ0cmFjdCA9IGZ1bmN0aW9uIChyZWZzLCBub3QpIHtcbiAgbGV0IHJlcyA9IFtdXG4gIGxldCBmb3VuZCA9IHNwbGl0QWxsKHJlZnMsIG5vdClcbiAgZm91bmQuZm9yRWFjaChvID0+IHtcbiAgICBpZiAoby5wYXNzdGhyb3VnaCkge1xuICAgICAgcmVzLnB1c2goby5wYXNzdGhyb3VnaClcbiAgICB9XG4gICAgaWYgKG8uYmVmb3JlKSB7XG4gICAgICByZXMucHVzaChvLmJlZm9yZSlcbiAgICB9XG4gICAgaWYgKG8uYWZ0ZXIpIHtcbiAgICAgIHJlcy5wdXNoKG8uYWZ0ZXIpXG4gICAgfVxuICB9KVxuICByZXR1cm4gcmVzXG59XG5leHBvcnQgZGVmYXVsdCBzdWJ0cmFjdFxuXG4vLyBjb25zb2xlLmxvZyhzdWJ0cmFjdChbWzAsIDAsIDJdXSwgW1swLCAwLCAxXV0pKVxuLy8gY29uc29sZS5sb2coc3VidHJhY3QoW1swLCAwLCAyXV0sIFtbMCwgMSwgMl1dKSlcbiIsICJpbXBvcnQgeyBkb2VzT3ZlcmxhcCwgaW5kZXhOIH0gZnJvbSAnLi9fbGliLmpzJ1xuXG4vLyBbYSxhLGEsYSwtLC0sXVxuLy8gWy0sLSxiLGIsYiwtLF1cbi8vIFstLC0seCx4LC0sLSxdXG5jb25zdCBpbnRlcnNlY3Rpb24gPSBmdW5jdGlvbiAoYSwgYikge1xuICAvLyBmaW5kIHRoZSBsYXRlc3Qtc3RhcnRcbiAgbGV0IHN0YXJ0ID0gYVsxXSA8IGJbMV0gPyBiWzFdIDogYVsxXVxuICAvLyBmaW5kIHRoZSBlYXJsaWVzdC1lbmRcbiAgbGV0IGVuZCA9IGFbMl0gPiBiWzJdID8gYlsyXSA6IGFbMl1cbiAgLy8gZG9lcyBpdCBmb3JtIGEgdmFsaWQgcG9pbnRlcj9cbiAgaWYgKHN0YXJ0IDwgZW5kKSB7XG4gICAgcmV0dXJuIFthWzBdLCBzdGFydCwgZW5kXVxuICB9XG4gIHJldHVybiBudWxsXG59XG5cbmNvbnN0IGdldEludGVyc2VjdGlvbiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIGxldCBieU4gPSBpbmRleE4oYilcbiAgbGV0IHJlcyA9IFtdXG4gIGEuZm9yRWFjaChwdHIgPT4ge1xuICAgIGxldCBobW0gPSBieU5bcHRyWzBdXSB8fCBbXVxuICAgIGhtbSA9IGhtbS5maWx0ZXIocCA9PiBkb2VzT3ZlcmxhcChwdHIsIHApKVxuICAgIC8vIG5vIHNlbnRlbmNlLXBhaXJzLCBzbyBubyBpbnRlcnNlY3Rpb25cbiAgICBpZiAoaG1tLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGhtbS5mb3JFYWNoKGggPT4ge1xuICAgICAgbGV0IG92ZXJsYXAgPSBpbnRlcnNlY3Rpb24ocHRyLCBoKVxuICAgICAgaWYgKG92ZXJsYXApIHtcbiAgICAgICAgcmVzLnB1c2gob3ZlcmxhcClcbiAgICAgIH1cbiAgICB9KVxuICB9KVxuICByZXR1cm4gcmVzXG59XG5leHBvcnQgZGVmYXVsdCBnZXRJbnRlcnNlY3Rpb25cblxuLy8gY29uc29sZS5sb2coZ2V0SW50ZXJzZWN0aW9uKFtbMCwgMSwgM11dLCBbWzAsIDIsIDRdXSkpXG4iLCAiaW1wb3J0IGdldFVuaW9uIGZyb20gJy4vbGliL3VuaW9uLmpzJ1xuaW1wb3J0IGdldERpZmZlcmVuY2UgZnJvbSAnLi9saWIvZGlmZmVyZW5jZS5qcydcbmltcG9ydCBnZXRJbnRlcnNlY3Rpb24gZnJvbSAnLi9saWIvaW50ZXJzZWN0aW9uLmpzJ1xuXG5jb25zdCBpc0FycmF5ID0gZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT09ICdbb2JqZWN0IEFycmF5XSdcbn1cblxuY29uc3QgZ2V0RG9jID0gKG0sIHZpZXcpID0+IHtcbiAgaWYgKHR5cGVvZiBtID09PSAnc3RyaW5nJyB8fCBpc0FycmF5KG0pKSB7XG4gICAgcmV0dXJuIHZpZXcubWF0Y2gobSlcbiAgfVxuICBpZiAoIW0pIHtcbiAgICByZXR1cm4gdmlldy5ub25lKClcbiAgfVxuICAvLyBzdXBwb3J0IHByZS1wYXJzZWQgcmVnIG9iamVjdFxuICByZXR1cm4gbVxufVxuXG4vLyAnaGFyZGVuJyBvdXIganNvbiBwb2ludGVycywgYWdhaW5cbmNvbnN0IGFkZElkcyA9IGZ1bmN0aW9uIChwdHJzLCBkb2NzKSB7XG4gIHJldHVybiBwdHJzLm1hcChwdHIgPT4ge1xuICAgIGxldCBbbiwgc3RhcnRdID0gcHRyXG4gICAgaWYgKGRvY3Nbbl0gJiYgZG9jc1tuXVtzdGFydF0pIHtcbiAgICAgIHB0clszXSA9IGRvY3Nbbl1bc3RhcnRdLmlkXG4gICAgfVxuICAgIHJldHVybiBwdHJcbiAgfSlcbn1cblxuY29uc3QgbWV0aG9kcyA9IHt9XG5cbi8vIGFsbCBwYXJ0cywgbWludXMgZHVwbGljYXRlc1xubWV0aG9kcy51bmlvbiA9IGZ1bmN0aW9uIChtKSB7XG4gIG0gPSBnZXREb2MobSwgdGhpcylcbiAgbGV0IHB0cnMgPSBnZXRVbmlvbih0aGlzLmZ1bGxQb2ludGVyLCBtLmZ1bGxQb2ludGVyKVxuICBwdHJzID0gYWRkSWRzKHB0cnMsIHRoaXMuZG9jdW1lbnQpXG4gIHJldHVybiB0aGlzLnRvVmlldyhwdHJzKVxufVxubWV0aG9kcy5hbmQgPSBtZXRob2RzLnVuaW9uXG5cbi8vIG9ubHkgcGFydHMgdGhleSBib3RoIGhhdmVcbm1ldGhvZHMuaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24gKG0pIHtcbiAgbSA9IGdldERvYyhtLCB0aGlzKVxuICBsZXQgcHRycyA9IGdldEludGVyc2VjdGlvbih0aGlzLmZ1bGxQb2ludGVyLCBtLmZ1bGxQb2ludGVyKVxuICBwdHJzID0gYWRkSWRzKHB0cnMsIHRoaXMuZG9jdW1lbnQpXG4gIHJldHVybiB0aGlzLnRvVmlldyhwdHJzKVxufVxuXG4vLyBvbmx5IHBhcnRzIG9mIGEgdGhhdCBiIGRvZXMgbm90IGhhdmVcbm1ldGhvZHMubm90ID0gZnVuY3Rpb24gKG0pIHtcbiAgbSA9IGdldERvYyhtLCB0aGlzKVxuICBsZXQgcHRycyA9IGdldERpZmZlcmVuY2UodGhpcy5mdWxsUG9pbnRlciwgbS5mdWxsUG9pbnRlcilcbiAgcHRycyA9IGFkZElkcyhwdHJzLCB0aGlzLmRvY3VtZW50KVxuICByZXR1cm4gdGhpcy50b1ZpZXcocHRycylcbn1cbm1ldGhvZHMuZGlmZmVyZW5jZSA9IG1ldGhvZHMubm90XG5cbi8vIGdldCBvcHBvc2l0ZSBvZiBhIG1hdGNoXG5tZXRob2RzLmNvbXBsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBkb2MgPSB0aGlzLmFsbCgpXG4gIGxldCBwdHJzID0gZ2V0RGlmZmVyZW5jZShkb2MuZnVsbFBvaW50ZXIsIHRoaXMuZnVsbFBvaW50ZXIpXG4gIHB0cnMgPSBhZGRJZHMocHRycywgdGhpcy5kb2N1bWVudClcbiAgcmV0dXJuIHRoaXMudG9WaWV3KHB0cnMpXG59XG5cbi8vIHJlbW92ZSBvdmVybGFwc1xubWV0aG9kcy5zZXR0bGUgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBwdHJzID0gdGhpcy5mdWxsUG9pbnRlclxuICBwdHJzLmZvckVhY2gocHRyID0+IHtcbiAgICBwdHJzID0gZ2V0VW5pb24ocHRycywgW3B0cl0pXG4gIH0pXG4gIHB0cnMgPSBhZGRJZHMocHRycywgdGhpcy5kb2N1bWVudClcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHB0cnMpXG59XG5cbmNvbnN0IGFkZEFQSSA9IGZ1bmN0aW9uIChWaWV3KSB7XG4gIC8vIGFkZCBzZXQvaW50ZXJzZWN0aW9uL3VuaW9uXG4gIE9iamVjdC5hc3NpZ24oVmlldy5wcm90b3R5cGUsIG1ldGhvZHMpXG59XG5leHBvcnQgZGVmYXVsdCBhZGRBUElcbiIsICJpbXBvcnQgbWV0aG9kcyBmcm9tICcuL21ldGhvZHMvaW5kZXguanMnXG5pbXBvcnQgYXBpIGZyb20gJy4vYXBpL2luZGV4LmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG1ldGhvZHMsXG4gIGFwaSxcbn1cbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gIC8vIGNvbXBpbGUgYSBsaXN0IG9mIG1hdGNoZXMgaW50byBhIG1hdGNoLW5ldFxuICBidWlsZE5ldDogZnVuY3Rpb24gKG1hdGNoZXMpIHtcbiAgICBjb25zdCBtZXRob2RzID0gdGhpcy5tZXRob2RzKClcbiAgICBsZXQgbmV0ID0gbWV0aG9kcy5vbmUuYnVpbGROZXQobWF0Y2hlcywgdGhpcy53b3JsZCgpKVxuICAgIG5ldC5pc05ldCA9IHRydWVcbiAgICByZXR1cm4gbmV0XG4gIH1cbn0iLCAiY29uc3QgYXBpID0gZnVuY3Rpb24gKFZpZXcpIHtcblxuICAvKiogc3BlZWR5IG1hdGNoIGEgc2VxdWVuY2Ugb2YgbWF0Y2hlcyAqL1xuICBWaWV3LnByb3RvdHlwZS5zd2VlcCA9IGZ1bmN0aW9uIChuZXQsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgd29ybGQsIGRvY3MgfSA9IHRoaXNcbiAgICBjb25zdCB7IG1ldGhvZHMgfSA9IHdvcmxkXG4gICAgbGV0IGZvdW5kID0gbWV0aG9kcy5vbmUuYnVsa01hdGNoKGRvY3MsIG5ldCwgdGhpcy5tZXRob2RzLCBvcHRzKVxuXG4gICAgLy8gYXBwbHkgYW55IGNoYW5nZXNcbiAgICBpZiAob3B0cy50YWdnZXIgIT09IGZhbHNlKSB7XG4gICAgICBtZXRob2RzLm9uZS5idWxrVGFnZ2VyKGZvdW5kLCBkb2NzLCB0aGlzLndvcmxkKVxuICAgIH1cbiAgICAvLyBmaXggdGhlIHBvaW50ZXJzXG4gICAgLy8gY29sbGVjdCBhbGwgZm91bmQgcmVzdWx0cyBpbnRvIGEgVmlld1xuICAgIGZvdW5kID0gZm91bmQubWFwKG8gPT4ge1xuICAgICAgbGV0IHB0ciA9IG8ucG9pbnRlclxuICAgICAgbGV0IHRlcm0gPSBkb2NzW3B0clswXV1bcHRyWzFdXVxuICAgICAgbGV0IGxlbiA9IHB0clsyXSAtIHB0clsxXVxuICAgICAgaWYgKHRlcm0uaW5kZXgpIHtcbiAgICAgICAgby5wb2ludGVyID0gW1xuICAgICAgICAgIHRlcm0uaW5kZXhbMF0sXG4gICAgICAgICAgdGVybS5pbmRleFsxXSxcbiAgICAgICAgICBwdHJbMV0gKyBsZW5cbiAgICAgICAgXVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9cbiAgICB9KVxuICAgIGxldCBwdHJzID0gZm91bmQubWFwKG8gPT4gby5wb2ludGVyKVxuICAgIC8vIGNsZWFudXAgcmVzdWx0cyBhIGJpdFxuICAgIGZvdW5kID0gZm91bmQubWFwKG9iaiA9PiB7XG4gICAgICBvYmoudmlldyA9IHRoaXMudXBkYXRlKFtvYmoucG9pbnRlcl0pXG4gICAgICBkZWxldGUgb2JqLnJlZ3NcbiAgICAgIGRlbGV0ZSBvYmoubmVlZHNcbiAgICAgIGRlbGV0ZSBvYmoucG9pbnRlclxuICAgICAgZGVsZXRlIG9iai5fZXhwYW5kZWRcbiAgICAgIHJldHVybiBvYmpcbiAgICB9KVxuICAgIHJldHVybiB7XG4gICAgICB2aWV3OiB0aGlzLnVwZGF0ZShwdHJzKSxcbiAgICAgIGZvdW5kXG4gICAgfVxuICB9XG5cbn1cbmV4cG9ydCBkZWZhdWx0IGFwaSIsICIvLyBleHRyYWN0IHRoZSBjbGVhciBuZWVkcyBmb3IgYW4gaW5kaXZpZHVhbCBtYXRjaCB0b2tlblxuY29uc3QgZ2V0VG9rZW5OZWVkcyA9IGZ1bmN0aW9uIChyZWcpIHtcbiAgLy8gbmVnYXRpdmVzIGNhbid0IGJlIGNhY2hlZFxuICBpZiAocmVnLm9wdGlvbmFsID09PSB0cnVlIHx8IHJlZy5uZWdhdGl2ZSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgaWYgKHJlZy50YWcpIHtcbiAgICByZXR1cm4gJyMnICsgcmVnLnRhZ1xuICB9XG4gIGlmIChyZWcud29yZCkge1xuICAgIHJldHVybiByZWcud29yZFxuICB9XG4gIGlmIChyZWcuc3dpdGNoKSB7XG4gICAgcmV0dXJuIGAlJHtyZWcuc3dpdGNofSVgXG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuY29uc3QgZ2V0TmVlZHMgPSBmdW5jdGlvbiAocmVncykge1xuICBsZXQgbmVlZHMgPSBbXVxuICByZWdzLmZvckVhY2gocmVnID0+IHtcbiAgICBuZWVkcy5wdXNoKGdldFRva2VuTmVlZHMocmVnKSlcbiAgICAvLyBzdXBwb3J0IEFORCAoZm9vICYmIHRhZylcbiAgICBpZiAocmVnLm9wZXJhdG9yID09PSAnYW5kJyAmJiByZWcuY2hvaWNlcykge1xuICAgICAgcmVnLmNob2ljZXMuZm9yRWFjaChvbmVTaWRlID0+IHtcbiAgICAgICAgb25lU2lkZS5mb3JFYWNoKHIgPT4ge1xuICAgICAgICAgIG5lZWRzLnB1c2goZ2V0VG9rZW5OZWVkcyhyKSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9KVxuICByZXR1cm4gbmVlZHMuZmlsdGVyKHN0ciA9PiBzdHIpXG59XG5cbmNvbnN0IGdldFdhbnRzID0gZnVuY3Rpb24gKHJlZ3MpIHtcbiAgbGV0IHdhbnRzID0gW11cbiAgbGV0IGNvdW50ID0gMFxuICByZWdzLmZvckVhY2gocmVnID0+IHtcbiAgICBpZiAocmVnLm9wZXJhdG9yID09PSAnb3InICYmICFyZWcub3B0aW9uYWwgJiYgIXJlZy5uZWdhdGl2ZSkge1xuICAgICAgLy8gYWRkIGZhc3Qtb3IgdGVybXNcbiAgICAgIGlmIChyZWcuZmFzdE9yKSB7XG4gICAgICAgIEFycmF5LmZyb20ocmVnLmZhc3RPcikuZm9yRWFjaCh3ID0+IHtcbiAgICAgICAgICB3YW50cy5wdXNoKHcpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICAvLyBhZGQgc2xvdy1vclxuICAgICAgaWYgKHJlZy5jaG9pY2VzKSB7XG4gICAgICAgIHJlZy5jaG9pY2VzLmZvckVhY2gocnMgPT4ge1xuICAgICAgICAgIHJzLmZvckVhY2gociA9PiB7XG4gICAgICAgICAgICBsZXQgbiA9IGdldFRva2VuTmVlZHMocilcbiAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgIHdhbnRzLnB1c2gobilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgY291bnQgKz0gMVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHsgd2FudHMsIGNvdW50IH1cbn1cblxuY29uc3QgcGFyc2UgPSBmdW5jdGlvbiAobWF0Y2hlcywgd29ybGQpIHtcbiAgY29uc3QgcGFyc2VNYXRjaCA9IHdvcmxkLm1ldGhvZHMub25lLnBhcnNlTWF0Y2hcbiAgbWF0Y2hlcy5mb3JFYWNoKG9iaiA9PiB7XG4gICAgb2JqLnJlZ3MgPSBwYXJzZU1hdGNoKG9iai5tYXRjaCwge30sIHdvcmxkKVxuICAgIC8vIHdyYXAgdGhlc2UgaWZObyBwcm9wZXJ0aWVzIGludG8gYW4gYXJyYXlcbiAgICBpZiAodHlwZW9mIG9iai5pZk5vID09PSAnc3RyaW5nJykge1xuICAgICAgb2JqLmlmTm8gPSBbb2JqLmlmTm9dXG4gICAgfVxuICAgIGlmIChvYmoubm90SWYpIHtcbiAgICAgIG9iai5ub3RJZiA9IHBhcnNlTWF0Y2gob2JqLm5vdElmLCB7fSwgd29ybGQpXG4gICAgfVxuICAgIC8vIGNhY2hlIGFueSByZXF1aXJlbWVudHMgdXAtZnJvbnQgXG4gICAgb2JqLm5lZWRzID0gZ2V0TmVlZHMob2JqLnJlZ3MpXG4gICAgbGV0IHsgd2FudHMsIGNvdW50IH0gPSBnZXRXYW50cyhvYmoucmVncylcbiAgICBvYmoud2FudHMgPSB3YW50c1xuICAgIG9iai5taW5XYW50ID0gY291bnRcbiAgICAvLyBnZXQgcmlkIG9mIHRpbnkgc2VudGVuY2VzXG4gICAgb2JqLm1pbldvcmRzID0gb2JqLnJlZ3MuZmlsdGVyKG8gPT4gIW8ub3B0aW9uYWwpLmxlbmd0aFxuICB9KVxuICByZXR1cm4gbWF0Y2hlc1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZVxuIiwgImltcG9ydCBwYXJzZSBmcm9tICcuLzAxLXBhcnNlLmpzJ1xuXG4vLyBkbyBzb21lIGluZGV4aW5nIG9uIHRoZSBsaXN0IG9mIG1hdGNoZXNcbmNvbnN0IGJ1aWxkTmV0ID0gZnVuY3Rpb24gKG1hdGNoZXMsIHdvcmxkKSB7XG4gIC8vIHR1cm4gbWF0Y2gtc3ludGF4IGludG8ganNvblxuICBtYXRjaGVzID0gcGFyc2UobWF0Y2hlcywgd29ybGQpXG5cbiAgLy8gY29sbGVjdCBieSB3YW50cyBhbmQgbmVlZHNcbiAgbGV0IGhvb2tzID0ge31cbiAgbWF0Y2hlcy5mb3JFYWNoKG9iaiA9PiB7XG4gICAgLy8gYWRkIG5lZWRzXG4gICAgb2JqLm5lZWRzLmZvckVhY2goc3RyID0+IHtcbiAgICAgIGhvb2tzW3N0cl0gPSBBcnJheS5pc0FycmF5KGhvb2tzW3N0cl0pID8gaG9va3Nbc3RyXSA6IFtdXG4gICAgICBob29rc1tzdHJdLnB1c2gob2JqKVxuICAgIH0pXG4gICAgLy8gYWRkIHdhbnRzXG4gICAgb2JqLndhbnRzLmZvckVhY2goc3RyID0+IHtcbiAgICAgIGhvb2tzW3N0cl0gPSBBcnJheS5pc0FycmF5KGhvb2tzW3N0cl0pID8gaG9va3Nbc3RyXSA6IFtdXG4gICAgICBob29rc1tzdHJdLnB1c2gob2JqKVxuICAgIH0pXG4gIH0pXG4gIC8vIHJlbW92ZSBkdXBsaWNhdGVzXG4gIE9iamVjdC5rZXlzKGhvb2tzKS5mb3JFYWNoKGsgPT4ge1xuICAgIGxldCBhbHJlYWR5ID0ge31cbiAgICBob29rc1trXSA9IGhvb2tzW2tdLmZpbHRlcihvYmogPT4ge1xuICAgICAgaWYgKHR5cGVvZiBhbHJlYWR5W29iai5tYXRjaF0gPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGFscmVhZHlbb2JqLm1hdGNoXSA9IHRydWVcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSlcbiAgfSlcblxuICAvLyBrZWVwIGFsbCB1bi1jYWNoZWFibGUgbWF0Y2hlcyAodGhvc2Ugd2l0aCBubyBuZWVkcykgXG4gIGxldCBhbHdheXMgPSBtYXRjaGVzLmZpbHRlcihvID0+IG8ubmVlZHMubGVuZ3RoID09PSAwICYmIG8ud2FudHMubGVuZ3RoID09PSAwKVxuICByZXR1cm4ge1xuICAgIGhvb2tzLFxuICAgIGFsd2F5c1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJ1aWxkTmV0XG4iLCAiLy8gZm9yIGVhY2ggY2FjaGVkLXNlbnRlbmNlLCBmaW5kIGEgbGlzdCBvZiBwb3NzaWJsZSBtYXRjaGVzXG5jb25zdCBnZXRIb29rcyA9IGZ1bmN0aW9uIChkb2NDYWNoZXMsIGhvb2tzKSB7XG4gIHJldHVybiBkb2NDYWNoZXMubWFwKChzZXQsIGkpID0+IHtcbiAgICBsZXQgbWF5YmUgPSBbXVxuICAgIE9iamVjdC5rZXlzKGhvb2tzKS5mb3JFYWNoKGsgPT4ge1xuICAgICAgaWYgKGRvY0NhY2hlc1tpXS5oYXMoaykpIHtcbiAgICAgICAgbWF5YmUgPSBtYXliZS5jb25jYXQoaG9va3Nba10pXG4gICAgICB9XG4gICAgfSlcbiAgICAvLyByZW1vdmUgZHVwbGljYXRlc1xuICAgIGxldCBhbHJlYWR5ID0ge31cbiAgICBtYXliZSA9IG1heWJlLmZpbHRlcihtID0+IHtcbiAgICAgIGlmICh0eXBlb2YgYWxyZWFkeVttLm1hdGNoXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgYWxyZWFkeVttLm1hdGNoXSA9IHRydWVcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSlcbiAgICByZXR1cm4gbWF5YmVcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0SG9va3NcbiIsICIvLyBmaWx0ZXItZG93biBsaXN0IG9mIG1heWJlLW1hdGNoZXNcbmNvbnN0IGxvY2FsVHJpbSA9IGZ1bmN0aW9uIChtYXliZUxpc3QsIGRvY0NhY2hlKSB7XG4gIHJldHVybiBtYXliZUxpc3QubWFwKChsaXN0LCBuKSA9PiB7XG4gICAgbGV0IGhhdmVzID0gZG9jQ2FjaGVbbl1cbiAgICAvLyBlbnN1cmUgYWxsIHN0YXRlZC1uZWVkcyBvZiB0aGUgbWF0Y2ggYXJlIG1ldFxuICAgIGxpc3QgPSBsaXN0LmZpbHRlcihvYmogPT4ge1xuICAgICAgcmV0dXJuIG9iai5uZWVkcy5ldmVyeShuZWVkID0+IGhhdmVzLmhhcyhuZWVkKSlcbiAgICB9KVxuICAgIC8vIGVuc3VyZSBub3RoaW5nIG1hdGNoZXMgaW4gb3VyICdpZk5vJyBwcm9wZXJ0eVxuICAgIGxpc3QgPSBsaXN0LmZpbHRlcihvYmogPT4ge1xuICAgICAgaWYgKG9iai5pZk5vICE9PSB1bmRlZmluZWQgJiYgb2JqLmlmTm8uc29tZShubyA9PiBoYXZlcy5oYXMobm8pKSA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSlcbiAgICAvLyBlbnN1cmUgYXRsZWFzdCBvbmUoPykgb2YgdGhlIHdhbnRzIGlzIGZvdW5kXG4gICAgbGlzdCA9IGxpc3QuZmlsdGVyKG9iaiA9PiB7XG4gICAgICBpZiAob2JqLndhbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgLy8gZW5zdXJlIHRoZXJlJ3Mgb25lIGNhY2hlLWhpdFxuICAgICAgbGV0IGZvdW5kID0gb2JqLndhbnRzLmZpbHRlcihzdHIgPT4gaGF2ZXMuaGFzKHN0cikpLmxlbmd0aFxuICAgICAgcmV0dXJuIGZvdW5kID49IG9iai5taW5XYW50XG4gICAgfSlcbiAgICByZXR1cm4gbGlzdFxuICB9KVxufVxuZXhwb3J0IGRlZmF1bHQgbG9jYWxUcmltXG4iLCAiLy8gZmluYWxseSxcbi8vIGFjdHVhbGx5IHJ1biB0aGVzZSBtYXRjaC1zdGF0ZW1lbnRzIG9uIHRoZSB0ZXJtc1xuY29uc3QgcnVuTWF0Y2ggPSBmdW5jdGlvbiAobWF5YmVMaXN0LCBkb2N1bWVudCwgZG9jQ2FjaGUsIG1ldGhvZHMsIG9wdHMpIHtcbiAgbGV0IHJlc3VsdHMgPSBbXVxuICBmb3IgKGxldCBuID0gMDsgbiA8IG1heWJlTGlzdC5sZW5ndGg7IG4gKz0gMSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF5YmVMaXN0W25dLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBsZXQgbSA9IG1heWJlTGlzdFtuXVtpXVxuICAgICAgLy8gb2ssIGFjdHVhbGx5IGRvIHRoZSB3b3JrLlxuICAgICAgbGV0IHJlcyA9IG1ldGhvZHMub25lLm1hdGNoKFtkb2N1bWVudFtuXV0sIG0pXG4gICAgICAvLyBmb3VuZCBzb21ldGhpbmcuXG4gICAgICBpZiAocmVzLnB0cnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXMucHRycy5mb3JFYWNoKHB0ciA9PiB7XG4gICAgICAgICAgcHRyWzBdID0gbiAvLyBmaXggdGhlIHNlbnRlbmNlIHBvaW50ZXJcbiAgICAgICAgICAvLyBjaGVjayBpZk5vXG4gICAgICAgICAgLy8gaWYgKG0uaWZObyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gICBsZXQgdGVybXMgPSBkb2N1bWVudFtuXS5zbGljZShwdHJbMV0sIHB0clsyXSlcbiAgICAgICAgICAvLyAgIGZvciAobGV0IGsgPSAwOyBrIDwgbS5pZk5vLmxlbmd0aDsgayArPSAxKSB7XG4gICAgICAgICAgLy8gICAgIGNvbnN0IG5vID0gbS5pZk5vW2tdXG4gICAgICAgICAgLy8gICAgIC8vIHF1aWNrLWNoZWNrIGNhY2hlXG4gICAgICAgICAgLy8gICAgIGlmIChkb2NDYWNoZVtuXS5oYXMobm8pKSB7XG4gICAgICAgICAgLy8gICAgICAgaWYgKG5vLnN0YXJ0c1dpdGgoJyMnKSkge1xuICAgICAgICAgIC8vICAgICAgICAgbGV0IHRhZyA9IG5vLnJlcGxhY2UoL14jLywgJycpXG4gICAgICAgICAgLy8gICAgICAgICBpZiAodGVybXMuZmluZCh0ID0+IHQudGFncy5oYXModGFnKSkpIHtcbiAgICAgICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coJysnICsgdGFnKVxuICAgICAgICAgIC8vICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAvLyAgICAgICB9IGVsc2UgaWYgKHRlcm1zLmZpbmQodCA9PiB0Lm5vcm1hbCA9PT0gbm8gfHwgdC50YWdzLmhhcyhubykpKSB7XG4gICAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnKycgKyBubylcbiAgICAgICAgICAvLyAgICAgICAgIHJldHVyblxuICAgICAgICAgIC8vICAgICAgIH1cbiAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgIC8vICAgfVxuICAgICAgICAgIC8vIH1cbiAgICAgICAgICBsZXQgdG9kbyA9IE9iamVjdC5hc3NpZ24oe30sIG0sIHsgcG9pbnRlcjogcHRyIH0pXG4gICAgICAgICAgaWYgKG0udW5UYWcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdG9kby51blRhZyA9IG0udW5UYWdcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHRvZG8pXG4gICAgICAgIH0pXG4gICAgICAgIC8vb2sgY29vbCwgY2FuIHdlIHN0b3AgZWFybHk/XG4gICAgICAgIGlmIChvcHRzLm1hdGNoT25lID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIFtyZXN1bHRzWzBdXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzXG59XG5leHBvcnQgZGVmYXVsdCBydW5NYXRjaFxuIiwgImltcG9ydCBnZXRIb29rcyBmcm9tICcuLzAxLWdldEhvb2tzLmpzJ1xuaW1wb3J0IHRyaW1Eb3duIGZyb20gJy4vMDItdHJpbS1kb3duLmpzJ1xuLy8gaW1wb3J0IGdldFdhbnRzIGZyb20gJy4vMDMtZ2V0LXdhbnRzLmpzJ1xuaW1wb3J0IHJ1bk1hdGNoIGZyb20gJy4vMDQtcnVuTWF0Y2guanMnXG5cblxuY29uc3QgdG9vU21hbGwgPSBmdW5jdGlvbiAobWF5YmVMaXN0LCBkb2N1bWVudCkge1xuICByZXR1cm4gbWF5YmVMaXN0Lm1hcCgoYXJyLCBpKSA9PiB7XG4gICAgbGV0IHRlcm1Db3VudCA9IGRvY3VtZW50W2ldLmxlbmd0aFxuICAgIGFyciA9IGFyci5maWx0ZXIobyA9PiB7XG4gICAgICByZXR1cm4gdGVybUNvdW50ID49IG8ubWluV29yZHNcbiAgICB9KVxuICAgIHJldHVybiBhcnJcbiAgfSlcbn1cblxuY29uc3Qgc3dlZXAgPSBmdW5jdGlvbiAoZG9jdW1lbnQsIG5ldCwgbWV0aG9kcywgb3B0cyA9IHt9KSB7XG4gIC8vIGZpbmQgc3VpdGFibGUgbWF0Y2hlcyB0byBhdHRlbXB0LCBvbiBlYWNoIHNlbnRlbmNlXG4gIGxldCBkb2NDYWNoZSA9IG1ldGhvZHMub25lLmNhY2hlRG9jKGRvY3VtZW50KVxuICAvLyBjb2xsZWN0IHBvc3NpYmxlIG1hdGNoZXMgZm9yIHRoaXMgZG9jdW1lbnRcbiAgbGV0IG1heWJlTGlzdCA9IGdldEhvb2tzKGRvY0NhY2hlLCBuZXQuaG9va3MpXG4gIC8vIGVuc3VyZSBhbGwgZGVmaW5lZCBuZWVkcyBhcmUgbWV0IGZvciBlYWNoIG1hdGNoXG4gIG1heWJlTGlzdCA9IHRyaW1Eb3duKG1heWJlTGlzdCwgZG9jQ2FjaGUsIGRvY3VtZW50KVxuICAvLyBhZGQgdW5jaGFjaGVhYmxlIG1hdGNoZXMgdG8gZWFjaCBzZW50ZW5jZSdzIHRvZG8tbGlzdFxuICBpZiAobmV0LmFsd2F5cy5sZW5ndGggPiAwKSB7XG4gICAgbWF5YmVMaXN0ID0gbWF5YmVMaXN0Lm1hcChhcnIgPT4gYXJyLmNvbmNhdChuZXQuYWx3YXlzKSlcbiAgfVxuICAvLyBpZiB3ZSBkb24ndCBoYXZlIGVub3VnaCB3b3Jkc1xuICBtYXliZUxpc3QgPSB0b29TbWFsbChtYXliZUxpc3QsIGRvY3VtZW50KVxuXG4gIC8vIG5vdyBhY3R1YWxseSBydW4gdGhlIG1hdGNoZXNcbiAgbGV0IHJlc3VsdHMgPSBydW5NYXRjaChtYXliZUxpc3QsIGRvY3VtZW50LCBkb2NDYWNoZSwgbWV0aG9kcywgb3B0cylcbiAgLy8gY29uc29sZS5kaXIocmVzdWx0cywgeyBkZXB0aDogNSB9KVxuICByZXR1cm4gcmVzdWx0c1xufVxuZXhwb3J0IGRlZmF1bHQgc3dlZXBcbiIsICIvLyBpcyB0aGlzIHRhZyBjb25zaXN0ZW50IHdpdGggdGhlIHRhZ3MgdGhleSBhbHJlYWR5IGhhdmU/XG5jb25zdCBjYW5CZSA9IGZ1bmN0aW9uICh0ZXJtcywgdGFnLCBtb2RlbCkge1xuICBsZXQgdGFnU2V0ID0gbW9kZWwub25lLnRhZ1NldFxuICBpZiAoIXRhZ1NldC5oYXNPd25Qcm9wZXJ0eSh0YWcpKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBsZXQgbm90ID0gdGFnU2V0W3RhZ10ubm90IHx8IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGVybXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBsZXQgdGVybSA9IHRlcm1zW2ldXG4gICAgZm9yIChsZXQgayA9IDA7IGsgPCBub3QubGVuZ3RoOyBrICs9IDEpIHtcbiAgICAgIGlmICh0ZXJtLnRhZ3MuaGFzKG5vdFtrXSkgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlIC8vZm91bmQgYSB0YWcgY29uZmxpY3QgLSBiYWlsIVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuZXhwb3J0IGRlZmF1bHQgY2FuQmVcbiIsICJpbXBvcnQgY2FuQmUgZnJvbSAnLi9jYW5CZS5qcydcblxuY29uc3QgdGFnZ2VyID0gZnVuY3Rpb24gKGxpc3QsIGRvY3VtZW50LCB3b3JsZCkge1xuICBjb25zdCB7IG1vZGVsLCBtZXRob2RzIH0gPSB3b3JsZFxuICBjb25zdCB7IGdldERvYywgc2V0VGFnLCB1blRhZyB9ID0gbWV0aG9kcy5vbmVcbiAgY29uc3QgbG9va3NQbHVyYWwgPSBtZXRob2RzLnR3by5sb29rc1BsdXJhbFxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbGlzdFxuICB9XG4gIC8vIHNvbWUgbG9nZ2luZyBmb3IgZGVidWdnaW5nXG4gIGNvbnN0IGVudiA9IHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCAhcHJvY2Vzcy5lbnYgPyBzZWxmLmVudiB8fCB7fSA6IHByb2Nlc3MuZW52XG4gIGlmIChlbnYuREVCVUdfVEFHUykge1xuICAgIGNvbnNvbGUubG9nKGBcXG5cXG4gIFxceDFiWzMybVx1MjE5MiAke2xpc3QubGVuZ3RofSBwb3N0LXRhZ2dlcjpcXHgxYlswbWApIC8vZXNsaW50LWRpc2FibGUtbGluZVxuICB9XG4gIHJldHVybiBsaXN0Lm1hcCh0b2RvID0+IHtcbiAgICBpZiAoIXRvZG8udGFnICYmICF0b2RvLmNodW5rICYmICF0b2RvLnVuVGFnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgbGV0IHJlYXNvbiA9IHRvZG8ucmVhc29uIHx8IHRvZG8ubWF0Y2hcbiAgICBsZXQgdGVybXMgPSBnZXREb2MoW3RvZG8ucG9pbnRlcl0sIGRvY3VtZW50KVswXVxuICAgIC8vIGhhbmRsZSAnc2FmZScgdGFnXG4gICAgaWYgKHRvZG8uc2FmZSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gY2hlY2sgZm9yIGNvbmZsaWN0aW5nIHRhZ3NcbiAgICAgIGlmIChjYW5CZSh0ZXJtcywgdG9kby50YWcsIG1vZGVsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvLyBkb250IHRhZyBoYWxmIG9mIGEgaHlwaGVuYXRlZCB3b3JkXG4gICAgICBpZiAodGVybXNbdGVybXMubGVuZ3RoIC0gMV0ucG9zdCA9PT0gJy0nKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodG9kby50YWcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0VGFnKHRlcm1zLCB0b2RvLnRhZywgd29ybGQsIHRvZG8uc2FmZSwgYFtwb3N0XSAnJHtyZWFzb259J2ApXG4gICAgICAvLyBxdWljayBhbmQgZGlydHkgcGx1cmFsIHRhZ2dlciBcdUQ4M0RcdURFMTVcbiAgICAgIGlmICh0b2RvLnRhZyA9PT0gJ05vdW4nICYmIGxvb2tzUGx1cmFsKSB7XG4gICAgICAgIGxldCB0ZXJtID0gdGVybXNbdGVybXMubGVuZ3RoIC0gMV1cbiAgICAgICAgaWYgKGxvb2tzUGx1cmFsKHRlcm0udGV4dCkpIHtcbiAgICAgICAgICBzZXRUYWcoW3Rlcm1dLCAnUGx1cmFsJywgd29ybGQsIHRvZG8uc2FmZSwgJ3F1aWNrLXBsdXJhbCcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VGFnKFt0ZXJtXSwgJ1Npbmd1bGFyJywgd29ybGQsIHRvZG8uc2FmZSwgJ3F1aWNrLXNpbmd1bGFyJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gYWxsb3cgZnJlZXppbmcgdGhpcyBtYXRjaCwgdG9vXG4gICAgICBpZiAodG9kby5mcmVlemUgPT09IHRydWUpIHtcbiAgICAgICAgdGVybXMuZm9yRWFjaCh0ZXJtID0+ICh0ZXJtLmZyb3plbiA9IHRydWUpKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodG9kby51blRhZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1blRhZyh0ZXJtcywgdG9kby51blRhZywgd29ybGQsIHRvZG8uc2FmZSwgcmVhc29uKVxuICAgIH1cbiAgICAvLyBhbGxvdyBzZXR0aW5nIGNodW5rcywgdG9vXG4gICAgaWYgKHRvZG8uY2h1bmspIHtcbiAgICAgIHRlcm1zLmZvckVhY2godCA9PiAodC5jaHVuayA9IHRvZG8uY2h1bmspKVxuICAgIH1cbiAgfSlcbn1cbmV4cG9ydCBkZWZhdWx0IHRhZ2dlclxuIiwgImltcG9ydCBidWlsZE5ldCBmcm9tICcuL2J1aWxkTmV0L2luZGV4LmpzJ1xuaW1wb3J0IGJ1bGtNYXRjaCBmcm9tICcuL3N3ZWVwL2luZGV4LmpzJ1xuaW1wb3J0IGJ1bGtUYWdnZXIgZnJvbSAnLi90YWdnZXIvaW5kZXguanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYnVpbGROZXQsXG4gIGJ1bGtNYXRjaCxcbiAgYnVsa1RhZ2dlclxufSIsICJpbXBvcnQgbGliIGZyb20gJy4vbGliLmpzJ1xuaW1wb3J0IGFwaSBmcm9tICcuL2FwaS5qcydcbmltcG9ydCBtZXRob2RzIGZyb20gJy4vbWV0aG9kcy9pbmRleC5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBsaWIsXG4gIGFwaSxcbiAgbWV0aG9kczoge1xuICAgIG9uZTogbWV0aG9kcyxcbiAgfVxufSIsICJjb25zdCBpc011bHRpID0gLyAvXG5cbmNvbnN0IGFkZENodW5rID0gZnVuY3Rpb24gKHRlcm0sIHRhZykge1xuICBpZiAodGFnID09PSAnTm91bicpIHtcbiAgICB0ZXJtLmNodW5rID0gdGFnXG4gIH1cbiAgaWYgKHRhZyA9PT0gJ1ZlcmInKSB7XG4gICAgdGVybS5jaHVuayA9IHRhZ1xuICB9XG59XG5cbmNvbnN0IHRhZ1Rlcm0gPSBmdW5jdGlvbiAodGVybSwgdGFnLCB0YWdTZXQsIGlzU2FmZSkge1xuICAvLyBkb2VzIGl0IGFscmVhZHkgaGF2ZSB0aGlzIHRhZz9cbiAgaWYgKHRlcm0udGFncy5oYXModGFnKSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgLy8gYWxsb3cgdGhpcyBzaG9ydGhhbmQgaW4gbXVsdGlwbGUtdGFnIHN0cmluZ3NcbiAgaWYgKHRhZyA9PT0gJy4nKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICAvLyBkb24ndCBvdmVyd3JpdGUgYW55IHRhZ3MsIGlmIHRlcm0gaXMgZnJvemVuXG4gIGlmICh0ZXJtLmZyb3plbiA9PT0gdHJ1ZSkge1xuICAgIGlzU2FmZSA9IHRydWVcbiAgfVxuICAvLyBmb3Iga25vd24gdGFncywgZG8gbG9naWNhbCBkZXBlbmRlbmNpZXMgZmlyc3RcbiAgbGV0IGtub3duID0gdGFnU2V0W3RhZ11cbiAgaWYgKGtub3duKSB7XG4gICAgLy8gZmlyc3QsIHdlIHJlbW92ZSBhbnkgY29uZmxpY3RpbmcgdGFnc1xuICAgIGlmIChrbm93bi5ub3QgJiYga25vd24ubm90Lmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IG8gPSAwOyBvIDwga25vd24ubm90Lmxlbmd0aDsgbyArPSAxKSB7XG4gICAgICAgIC8vIGlmIHdlJ3JlIGluIHRhZ1NhZmUsIHNraXAgdGhpcyB0ZXJtLlxuICAgICAgICBpZiAoaXNTYWZlID09PSB0cnVlICYmIHRlcm0udGFncy5oYXMoa25vd24ubm90W29dKSkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgdGVybS50YWdzLmRlbGV0ZShrbm93bi5ub3Rbb10pXG4gICAgICB9XG4gICAgfVxuICAgIC8vIGFkZCBwYXJlbnQgdGFnc1xuICAgIGlmIChrbm93bi5wYXJlbnRzICYmIGtub3duLnBhcmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCBrbm93bi5wYXJlbnRzLmxlbmd0aDsgbyArPSAxKSB7XG4gICAgICAgIHRlcm0udGFncy5hZGQoa25vd24ucGFyZW50c1tvXSlcbiAgICAgICAgYWRkQ2h1bmsodGVybSwga25vd24ucGFyZW50c1tvXSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gZmluYWxseSwgYWRkIG91ciB0YWdcbiAgdGVybS50YWdzLmFkZCh0YWcpXG4gIC8vIG5vdyBpdCdzIGRpcnR5P1xuICB0ZXJtLmRpcnR5ID0gdHJ1ZVxuICAvLyBhZGQgYSBjaHVuayB0b28sIGlmIGl0J3MgZWFzeVxuICBhZGRDaHVuayh0ZXJtLCB0YWcpXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIHN1cHBvcnQgJyNOb3VuIC4gI0FkamVjdGl2ZScgc3ludGF4XG5jb25zdCBtdWx0aVRhZyA9IGZ1bmN0aW9uICh0ZXJtcywgdGFnU3RyaW5nLCB0YWdTZXQsIGlzU2FmZSkge1xuICBsZXQgdGFncyA9IHRhZ1N0cmluZy5zcGxpdChpc011bHRpKVxuICB0ZXJtcy5mb3JFYWNoKCh0ZXJtLCBpKSA9PiB7XG4gICAgbGV0IHRhZyA9IHRhZ3NbaV1cbiAgICBpZiAodGFnKSB7XG4gICAgICB0YWcgPSB0YWcucmVwbGFjZSgvXiMvLCAnJylcbiAgICAgIHRhZ1Rlcm0odGVybSwgdGFnLCB0YWdTZXQsIGlzU2FmZSlcbiAgICB9XG4gIH0pXG59XG5cbmNvbnN0IGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG4vLyB2ZXJib3NlLW1vZGUgdGFnZ2VyIGRlYnVnaW5nXG5jb25zdCBsb2cgPSAodGVybXMsIHRhZywgcmVhc29uID0gJycpID0+IHtcbiAgY29uc3QgeWVsbG93ID0gc3RyID0+ICdcXHgxYlszM21cXHgxYlszbScgKyBzdHIgKyAnXFx4MWJbMG0nXG4gIGNvbnN0IGkgPSBzdHIgPT4gJ1xceDFiWzNtJyArIHN0ciArICdcXHgxYlswbSdcbiAgbGV0IHdvcmQgPSB0ZXJtc1xuICAgIC5tYXAodCA9PiB7XG4gICAgICByZXR1cm4gdC50ZXh0IHx8ICdbJyArIHQuaW1wbGljaXQgKyAnXSdcbiAgICB9KVxuICAgIC5qb2luKCcgJylcbiAgaWYgKHR5cGVvZiB0YWcgIT09ICdzdHJpbmcnICYmIHRhZy5sZW5ndGggPiAyKSB7XG4gICAgdGFnID0gdGFnLnNsaWNlKDAsIDIpLmpvaW4oJywgIycpICsgJyArJyAvL3RydW5jYXRlIHRoZSBsaXN0IG9mIHRhZ3NcbiAgfVxuICB0YWcgPSB0eXBlb2YgdGFnICE9PSAnc3RyaW5nJyA/IHRhZy5qb2luKCcsICMnKSA6IHRhZ1xuICBjb25zb2xlLmxvZyhgICR7eWVsbG93KHdvcmQpLnBhZEVuZCgyNCl9IFxceDFiWzMybVx1MjE5MlxceDFiWzBtICMke3RhZy5wYWRFbmQoMjIpfSAgJHtpKHJlYXNvbil9YCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxufVxuXG4vLyBhZGQgYSB0YWcgdG8gYWxsIHRoZXNlIHRlcm1zXG5jb25zdCBzZXRUYWcgPSBmdW5jdGlvbiAodGVybXMsIHRhZywgd29ybGQgPSB7fSwgaXNTYWZlLCByZWFzb24pIHtcbiAgY29uc3QgdGFnU2V0ID0gd29ybGQubW9kZWwub25lLnRhZ1NldCB8fCB7fVxuICBpZiAoIXRhZykge1xuICAgIHJldHVyblxuICB9XG4gIC8vIHNvbWUgbG9nZ2luZyBmb3IgZGVidWdnaW5nXG4gIGNvbnN0IGVudiA9IHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCAhcHJvY2Vzcy5lbnYgPyBzZWxmLmVudiB8fCB7fSA6IHByb2Nlc3MuZW52XG4gIGlmIChlbnYgJiYgZW52LkRFQlVHX1RBR1MpIHtcbiAgICBsb2codGVybXMsIHRhZywgcmVhc29uKVxuICB9XG4gIGlmIChpc0FycmF5KHRhZykgPT09IHRydWUpIHtcbiAgICB0YWcuZm9yRWFjaCh0ZyA9PiBzZXRUYWcodGVybXMsIHRnLCB3b3JsZCwgaXNTYWZlKSlcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodHlwZW9mIHRhZyAhPT0gJ3N0cmluZycpIHtcbiAgICBjb25zb2xlLndhcm4oYGNvbXByb21pc2U6IEludmFsaWQgdGFnICcke3RhZ30nYCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIHJldHVyblxuICB9XG4gIHRhZyA9IHRhZy50cmltKClcbiAgLy8gc3VwcG9ydCAnI05vdW4gLiAjQWRqZWN0aXZlJyBzeW50YXhcbiAgaWYgKGlzTXVsdGkudGVzdCh0YWcpKSB7XG4gICAgbXVsdGlUYWcodGVybXMsIHRhZywgdGFnU2V0LCBpc1NhZmUpXG4gICAgcmV0dXJuXG4gIH1cbiAgdGFnID0gdGFnLnJlcGxhY2UoL14jLywgJycpXG4gIC8vIGxldCBzZXQgPSBmYWxzZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRlcm1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGFnVGVybSh0ZXJtc1tpXSwgdGFnLCB0YWdTZXQsIGlzU2FmZSlcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgc2V0VGFnXG4iLCAiLy8gcmVtb3ZlIHRoaXMgdGFnLCBhbmQgaXRzIGNoaWxkcmVuLCBmcm9tIHRoZXNlIHRlcm1zXG5jb25zdCB1blRhZyA9IGZ1bmN0aW9uICh0ZXJtcywgdGFnLCB0YWdTZXQpIHtcbiAgdGFnID0gdGFnLnRyaW0oKS5yZXBsYWNlKC9eIy8sICcnKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRlcm1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGV0IHRlcm0gPSB0ZXJtc1tpXVxuICAgIC8vIGRvbid0IHVudGFnIGFueXRoaW5nIGlmIHRlcm0gaXMgZnJvemVuXG4gICAgaWYgKHRlcm0uZnJvemVuID09PSB0cnVlKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyBzdXBwb3J0IGNsZWFyaW5nIGFsbCB0YWdzLCB3aXRoICcqJ1xuICAgIGlmICh0YWcgPT09ICcqJykge1xuICAgICAgdGVybS50YWdzLmNsZWFyKClcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIGZvciBrbm93biB0YWdzLCBkbyBsb2dpY2FsIGRlcGVuZGVuY2llcyBmaXJzdFxuICAgIGxldCBrbm93biA9IHRhZ1NldFt0YWddXG4gICAgLy8gcmVtb3ZpbmcgI1ZlcmIgc2hvdWxkIGFsc28gcmVtb3ZlICNQYXN0VGVuc2VcbiAgICBpZiAoa25vd24gJiYga25vd24uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCBrbm93bi5jaGlsZHJlbi5sZW5ndGg7IG8gKz0gMSkge1xuICAgICAgICB0ZXJtLnRhZ3MuZGVsZXRlKGtub3duLmNoaWxkcmVuW29dKVxuICAgICAgfVxuICAgIH1cbiAgICB0ZXJtLnRhZ3MuZGVsZXRlKHRhZylcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgdW5UYWdcbiIsICIvLyBxdWljayBjaGVjayBpZiB0aGlzIHRhZyB3aWxsIHJlcXVpcmUgYW55IHVudGFnZ2luZ1xuY29uc3QgY2FuQmUgPSBmdW5jdGlvbiAodGVybSwgdGFnLCB0YWdTZXQpIHtcbiAgaWYgKCF0YWdTZXQuaGFzT3duUHJvcGVydHkodGFnKSkge1xuICAgIHJldHVybiB0cnVlIC8vIGV2ZXJ5dGhpbmcgY2FuIGJlIGFuIHVua25vd24gdGFnXG4gIH1cbiAgbGV0IG5vdCA9IHRhZ1NldFt0YWddLm5vdCB8fCBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5vdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0ZXJtLnRhZ3MuaGFzKG5vdFtpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuZXhwb3J0IGRlZmF1bHQgY2FuQmVcbiIsICJjb25zdCBlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkcmVuPWUuY2hpbGRyZW58fFtdLGUuX2NhY2hlPWUuX2NhY2hlfHx7fSxlLnByb3BzPWUucHJvcHN8fHt9LGUuX2NhY2hlLnBhcmVudHM9ZS5fY2FjaGUucGFyZW50c3x8W10sZS5fY2FjaGUuY2hpbGRyZW49ZS5fY2FjaGUuY2hpbGRyZW58fFtdLGV9LHQ9L14gKigjfFxcL1xcLykvLG49ZnVuY3Rpb24odCl7bGV0IG49dC50cmltKCkuc3BsaXQoLy0+Lykscj1bXTtuLmZvckVhY2goKHQ9PntyPXIuY29uY2F0KGZ1bmN0aW9uKHQpe2lmKCEodD10LnRyaW0oKSkpcmV0dXJuIG51bGw7aWYoL15cXFsvLnRlc3QodCkmJi9cXF0kLy50ZXN0KHQpKXtsZXQgbj0odD0odD10LnJlcGxhY2UoL15cXFsvLFwiXCIpKS5yZXBsYWNlKC9cXF0kLyxcIlwiKSkuc3BsaXQoLywvKTtyZXR1cm4gbj1uLm1hcCgoZT0+ZS50cmltKCkpKS5maWx0ZXIoKGU9PmUpKSxuPW4ubWFwKCh0PT5lKHtpZDp0fSkpKSxufXJldHVybltlKHtpZDp0fSldfSh0KSl9KSkscj1yLmZpbHRlcigoZT0+ZSkpO2xldCBpPXJbMF07Zm9yKGxldCBlPTE7ZTxyLmxlbmd0aDtlKz0xKWkuY2hpbGRyZW4ucHVzaChyW2VdKSxpPXJbZV07cmV0dXJuIHJbMF19LHI9KGUsdCk9PntsZXQgbj1bXSxyPVtlXTtmb3IoO3IubGVuZ3RoPjA7KXtsZXQgZT1yLnBvcCgpO24ucHVzaChlKSxlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmZvckVhY2goKG49Pnt0JiZ0KGUsbiksci5wdXNoKG4pfSkpfXJldHVybiBufSxpPWU9PlwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSxjPWU9PihlPWV8fFwiXCIpLnRyaW0oKSxzPWZ1bmN0aW9uKGM9W10pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBjP2Z1bmN0aW9uKHIpe2xldCBpPXIuc3BsaXQoL1xccj9cXG4vKSxjPVtdO2kuZm9yRWFjaCgoZT0+e2lmKCFlLnRyaW0oKXx8dC50ZXN0KGUpKXJldHVybjtsZXQgcj0oZT0+e2NvbnN0IHQ9L14oIHsyfXxcXHQpLztsZXQgbj0wO2Zvcig7dC50ZXN0KGUpOyllPWUucmVwbGFjZSh0LFwiXCIpLG4rPTE7cmV0dXJuIG59KShlKTtjLnB1c2goe2luZGVudDpyLG5vZGU6bihlKX0pfSkpO2xldCBzPWZ1bmN0aW9uKGUpe2xldCB0PXtjaGlsZHJlbjpbXX07cmV0dXJuIGUuZm9yRWFjaCgoKG4scik9PnswPT09bi5pbmRlbnQ/dC5jaGlsZHJlbj10LmNoaWxkcmVuLmNvbmNhdChuLm5vZGUpOmVbci0xXSYmZnVuY3Rpb24oZSx0KXtsZXQgbj1lW3RdLmluZGVudDtmb3IoO3Q+PTA7dC09MSlpZihlW3RdLmluZGVudDxuKXJldHVybiBlW3RdO3JldHVybiBlWzBdfShlLHIpLm5vZGUuY2hpbGRyZW4ucHVzaChuLm5vZGUpfSkpLHR9KGMpO3JldHVybiBzPWUocyksc30oYyk6aShjKT9mdW5jdGlvbih0KXtsZXQgbj17fTt0LmZvckVhY2goKGU9PntuW2UuaWRdPWV9KSk7bGV0IHI9ZSh7fSk7cmV0dXJuIHQuZm9yRWFjaCgodD0+e2lmKCh0PWUodCkpLnBhcmVudClpZihuLmhhc093blByb3BlcnR5KHQucGFyZW50KSl7bGV0IGU9blt0LnBhcmVudF07ZGVsZXRlIHQucGFyZW50LGUuY2hpbGRyZW4ucHVzaCh0KX1lbHNlIGNvbnNvbGUud2FybihgW0dyYWRdIC0gbWlzc2luZyBub2RlICcke3QucGFyZW50fSdgKTtlbHNlIHIuY2hpbGRyZW4ucHVzaCh0KX0pKSxyfShjKToocihzPWMpLmZvckVhY2goZSkscyk7dmFyIHN9LGg9ZT0+XCJcdTAwMUJbMzFtXCIrZStcIlx1MDAxQlswbVwiLG89ZT0+XCJcdTAwMUJbMm1cIitlK1wiXHUwMDFCWzBtXCIsbD1mdW5jdGlvbihlLHQpe2xldCBuPVwiLT4gXCI7dCYmKG49byhcIlx1MjE5MiBcIikpO2xldCBpPVwiXCI7cmV0dXJuIHIoZSkuZm9yRWFjaCgoKGUscik9PntsZXQgYz1lLmlkfHxcIlwiO2lmKHQmJihjPWgoYykpLDA9PT1yJiYhZS5pZClyZXR1cm47bGV0IHM9ZS5fY2FjaGUucGFyZW50cy5sZW5ndGg7aSs9XCIgICAgXCIucmVwZWF0KHMpK24rYytcIlxcblwifSkpLGl9LGE9ZnVuY3Rpb24oZSl7bGV0IHQ9cihlKTt0LmZvckVhY2goKGU9PntkZWxldGUoZT1PYmplY3QuYXNzaWduKHt9LGUpKS5jaGlsZHJlbn0pKTtsZXQgbj10WzBdO3JldHVybiBuJiYhbi5pZCYmMD09PU9iamVjdC5rZXlzKG4ucHJvcHMpLmxlbmd0aCYmdC5zaGlmdCgpLHR9LHA9e3RleHQ6bCx0eHQ6bCxhcnJheTphLGZsYXQ6YX0sZD1mdW5jdGlvbihlLHQpe3JldHVyblwibmVzdGVkXCI9PT10fHxcImpzb25cIj09PXQ/ZTpcImRlYnVnXCI9PT10Pyhjb25zb2xlLmxvZyhsKGUsITApKSxudWxsKTpwLmhhc093blByb3BlcnR5KHQpP3BbdF0oZSk6ZX0sdT1lPT57cihlLCgoZSx0KT0+e2UuaWQmJihlLl9jYWNoZS5wYXJlbnRzPWUuX2NhY2hlLnBhcmVudHN8fFtdLHQuX2NhY2hlLnBhcmVudHM9ZS5fY2FjaGUucGFyZW50cy5jb25jYXQoW2UuaWRdKSl9KSl9LGY9KGUsdCk9PihPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChuPT57aWYodFtuXWluc3RhbmNlb2YgU2V0KXtsZXQgcj1lW25dfHxuZXcgU2V0O2Vbbl09bmV3IFNldChbLi4uciwuLi50W25dXSl9ZWxzZXtpZigoZT0+ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpKSh0W25dKSl7bGV0IHI9ZVtuXXx8e307ZVtuXT1PYmplY3QuYXNzaWduKHt9LHRbbl0scil9ZWxzZSBpKHRbbl0pP2Vbbl09dFtuXS5jb25jYXQoZVtuXXx8W10pOnZvaWQgMD09PWVbbl0mJihlW25dPXRbbl0pfX0pKSxlKSxqPS9cXC8vO2NsYXNzIGd7Y29uc3RydWN0b3IoZT17fSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJqc29uXCIse2VudW1lcmFibGU6ITEsdmFsdWU6ZSx3cml0YWJsZTohMH0pfWdldCBjaGlsZHJlbigpe3JldHVybiB0aGlzLmpzb24uY2hpbGRyZW59Z2V0IGlkKCl7cmV0dXJuIHRoaXMuanNvbi5pZH1nZXQgZm91bmQoKXtyZXR1cm4gdGhpcy5qc29uLmlkfHx0aGlzLmpzb24uY2hpbGRyZW4ubGVuZ3RoPjB9cHJvcHMoZT17fSl7bGV0IHQ9dGhpcy5qc29uLnByb3BzfHx7fTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKHRbZV09ITApLHRoaXMuanNvbi5wcm9wcz1PYmplY3QuYXNzaWduKHQsZSksdGhpc31nZXQodCl7aWYodD1jKHQpLCFqLnRlc3QodCkpe2xldCBlPXRoaXMuanNvbi5jaGlsZHJlbi5maW5kKChlPT5lLmlkPT09dCkpO3JldHVybiBuZXcgZyhlKX1sZXQgbj0oKGUsdCk9PntsZXQgbj0oZT0+XCJzdHJpbmdcIiE9dHlwZW9mIGU/ZTooZT1lLnJlcGxhY2UoL15cXC8vLFwiXCIpKS5zcGxpdCgvXFwvLykpKHQ9dHx8XCJcIik7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kz0xKXtsZXQgcj1lLmNoaWxkcmVuLmZpbmQoKGU9PmUuaWQ9PT1uW3RdKSk7aWYoIXIpcmV0dXJuIG51bGw7ZT1yfXJldHVybiBlfSkodGhpcy5qc29uLHQpfHxlKHt9KTtyZXR1cm4gbmV3IGcobil9YWRkKHQsbj17fSl7aWYoaSh0KSlyZXR1cm4gdC5mb3JFYWNoKChlPT50aGlzLmFkZChjKGUpLG4pKSksdGhpczt0PWModCk7bGV0IHI9ZSh7aWQ6dCxwcm9wczpufSk7cmV0dXJuIHRoaXMuanNvbi5jaGlsZHJlbi5wdXNoKHIpLG5ldyBnKHIpfXJlbW92ZShlKXtyZXR1cm4gZT1jKGUpLHRoaXMuanNvbi5jaGlsZHJlbj10aGlzLmpzb24uY2hpbGRyZW4uZmlsdGVyKCh0PT50LmlkIT09ZSkpLHRoaXN9bm9kZXMoKXtyZXR1cm4gcih0aGlzLmpzb24pLm1hcCgoZT0+KGRlbGV0ZShlPU9iamVjdC5hc3NpZ24oe30sZSkpLmNoaWxkcmVuLGUpKSl9Y2FjaGUoKXtyZXR1cm4oZT0+e2xldCB0PXIoZSwoKGUsdCk9PntlLmlkJiYoZS5fY2FjaGUucGFyZW50cz1lLl9jYWNoZS5wYXJlbnRzfHxbXSxlLl9jYWNoZS5jaGlsZHJlbj1lLl9jYWNoZS5jaGlsZHJlbnx8W10sdC5fY2FjaGUucGFyZW50cz1lLl9jYWNoZS5wYXJlbnRzLmNvbmNhdChbZS5pZF0pKX0pKSxuPXt9O3QuZm9yRWFjaCgoZT0+e2UuaWQmJihuW2UuaWRdPWUpfSkpLHQuZm9yRWFjaCgoZT0+e2UuX2NhY2hlLnBhcmVudHMuZm9yRWFjaCgodD0+e24uaGFzT3duUHJvcGVydHkodCkmJm5bdF0uX2NhY2hlLmNoaWxkcmVuLnB1c2goZS5pZCl9KSl9KSksZS5fY2FjaGUuY2hpbGRyZW49T2JqZWN0LmtleXMobil9KSh0aGlzLmpzb24pLHRoaXN9bGlzdCgpe3JldHVybiByKHRoaXMuanNvbil9ZmlsbERvd24oKXt2YXIgZTtyZXR1cm4gZT10aGlzLmpzb24scihlLCgoZSx0KT0+e3QucHJvcHM9Zih0LnByb3BzLGUucHJvcHMpfSkpLHRoaXN9ZGVwdGgoKXt1KHRoaXMuanNvbik7bGV0IGU9cih0aGlzLmpzb24pLHQ9ZS5sZW5ndGg+MT8xOjA7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2lmKDA9PT1lLl9jYWNoZS5wYXJlbnRzLmxlbmd0aClyZXR1cm47bGV0IG49ZS5fY2FjaGUucGFyZW50cy5sZW5ndGgrMTtuPnQmJih0PW4pfSkpLHR9b3V0KGUpe3JldHVybiB1KHRoaXMuanNvbiksZCh0aGlzLmpzb24sZSl9ZGVidWcoKXtyZXR1cm4gdSh0aGlzLmpzb24pLGQodGhpcy5qc29uLFwiZGVidWdcIiksdGhpc319Y29uc3QgXz1mdW5jdGlvbihlKXtsZXQgdD1zKGUpO3JldHVybiBuZXcgZyh0KX07Xy5wcm90b3R5cGUucGx1Z2luPWZ1bmN0aW9uKGUpe2UodGhpcyl9O2V4cG9ydHtfIGFzIGRlZmF1bHR9O1xuIiwgIi8vIGkganVzdCBtYWRlIHRoZXNlIHVwXG5jb25zdCBjb2xvcnMgPSB7XG4gIE5vdW46ICdibHVlJyxcbiAgVmVyYjogJ2dyZWVuJyxcbiAgTmVnYXRpdmU6ICdncmVlbicsXG4gIERhdGU6ICdyZWQnLFxuICBWYWx1ZTogJ3JlZCcsXG4gIEFkamVjdGl2ZTogJ21hZ2VudGEnLFxuICBQcmVwb3NpdGlvbjogJ2N5YW4nLFxuICBDb25qdW5jdGlvbjogJ2N5YW4nLFxuICBEZXRlcm1pbmVyOiAnY3lhbicsXG4gIEh5cGhlbmF0ZWQ6ICdjeWFuJyxcbiAgQWR2ZXJiOiAnY3lhbicsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbG9ycyIsICJpbXBvcnQgY29sb3JzIGZyb20gJy4vX2NvbG9ycy5qcydcblxuY29uc3QgZ2V0Q29sb3IgPSBmdW5jdGlvbiAobm9kZSkge1xuICBpZiAoY29sb3JzLmhhc093blByb3BlcnR5KG5vZGUuaWQpKSB7XG4gICAgcmV0dXJuIGNvbG9yc1tub2RlLmlkXVxuICB9XG4gIGlmIChjb2xvcnMuaGFzT3duUHJvcGVydHkobm9kZS5pcykpIHtcbiAgICByZXR1cm4gY29sb3JzW25vZGUuaXNdXG4gIH1cbiAgbGV0IGZvdW5kID0gbm9kZS5fY2FjaGUucGFyZW50cy5maW5kKGMgPT4gY29sb3JzW2NdKVxuICByZXR1cm4gY29sb3JzW2ZvdW5kXVxufVxuXG4vLyBjb252ZXJ0IHRhZ3MgdG8gb3VyIGZpbmFsIGZvcm1hdFxuY29uc3QgZm10ID0gZnVuY3Rpb24gKG5vZGVzKSB7XG4gIGNvbnN0IHJlcyA9IHt9XG4gIG5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgbGV0IHsgbm90LCBhbHNvLCBpcywgbm92ZWwgfSA9IG5vZGUucHJvcHNcbiAgICBsZXQgcGFyZW50cyA9IG5vZGUuX2NhY2hlLnBhcmVudHNcbiAgICBpZiAoYWxzbykge1xuICAgICAgcGFyZW50cyA9IHBhcmVudHMuY29uY2F0KGFsc28pXG4gICAgfVxuICAgIHJlc1tub2RlLmlkXSA9IHtcbiAgICAgIGlzLFxuICAgICAgbm90LFxuICAgICAgbm92ZWwsXG4gICAgICBhbHNvLFxuICAgICAgcGFyZW50cyxcbiAgICAgIGNoaWxkcmVuOiBub2RlLl9jYWNoZS5jaGlsZHJlbixcbiAgICAgIGNvbG9yOiBnZXRDb2xvcihub2RlKVxuICAgIH1cbiAgfSlcbiAgLy8gbGFzdGx5LCBhZGQgYWxsIGNoaWxkcmVuIG9mIGFsbCBub3RzXG4gIE9iamVjdC5rZXlzKHJlcykuZm9yRWFjaChrID0+IHtcbiAgICBsZXQgbm90cyA9IG5ldyBTZXQocmVzW2tdLm5vdClcbiAgICByZXNba10ubm90LmZvckVhY2gobm90ID0+IHtcbiAgICAgIGlmIChyZXNbbm90XSkge1xuICAgICAgICByZXNbbm90XS5jaGlsZHJlbi5mb3JFYWNoKHRhZyA9PiBub3RzLmFkZCh0YWcpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmVzW2tdLm5vdCA9IEFycmF5LmZyb20obm90cylcbiAgfSlcbiAgcmV0dXJuIHJlc1xufVxuXG5leHBvcnQgZGVmYXVsdCBmbXQiLCAiXG5jb25zdCB0b0FyciA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICBpZiAoIWlucHV0KSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gW2lucHV0XVxuICB9XG4gIHJldHVybiBpbnB1dFxufVxuXG5jb25zdCBhZGRJbXBsaWVkID0gZnVuY3Rpb24gKHRhZ3MsIGFscmVhZHkpIHtcbiAgT2JqZWN0LmtleXModGFncykuZm9yRWFjaChrID0+IHtcbiAgICAvLyBzdXBwb3J0IGRlcHJlY2F0ZWQgZm10c1xuICAgIGlmICh0YWdzW2tdLmlzQSkge1xuICAgICAgdGFnc1trXS5pcyA9IHRhZ3Nba10uaXNBXG4gICAgfVxuICAgIGlmICh0YWdzW2tdLm5vdEEpIHtcbiAgICAgIHRhZ3Nba10ubm90ID0gdGFnc1trXS5ub3RBXG4gICAgfVxuICAgIC8vIGFkZCBhbnkgaW1wbGljaXQgJ2lzJyB0YWdzXG4gICAgaWYgKHRhZ3Nba10uaXMgJiYgdHlwZW9mIHRhZ3Nba10uaXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoIWFscmVhZHkuaGFzT3duUHJvcGVydHkodGFnc1trXS5pcykgJiYgIXRhZ3MuaGFzT3duUHJvcGVydHkodGFnc1trXS5pcykpIHtcbiAgICAgICAgdGFnc1t0YWdzW2tdLmlzXSA9IHt9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGFkZCBhbnkgaW1wbGljaXQgJ25vdCcgdGFnc1xuICAgIGlmICh0YWdzW2tdLm5vdCAmJiB0eXBlb2YgdGFnc1trXS5ub3QgPT09ICdzdHJpbmcnICYmICF0YWdzLmhhc093blByb3BlcnR5KHRhZ3Nba10ubm90KSkge1xuICAgICAgaWYgKCFhbHJlYWR5Lmhhc093blByb3BlcnR5KHRhZ3Nba10ubm90KSAmJiAhdGFncy5oYXNPd25Qcm9wZXJ0eSh0YWdzW2tdLm5vdCkpIHtcbiAgICAgICAgdGFnc1t0YWdzW2tdLm5vdF0gPSB7fVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHRhZ3Ncbn1cblxuXG5jb25zdCB2YWxpZGF0ZSA9IGZ1bmN0aW9uICh0YWdzLCBhbHJlYWR5KSB7XG5cbiAgdGFncyA9IGFkZEltcGxpZWQodGFncywgYWxyZWFkeSlcblxuICAvLyBwcm9wZXJ0eSB2YWxpZGF0aW9uXG4gIE9iamVjdC5rZXlzKHRhZ3MpLmZvckVhY2goayA9PiB7XG4gICAgdGFnc1trXS5jaGlsZHJlbiA9IHRvQXJyKHRhZ3Nba10uY2hpbGRyZW4pXG4gICAgdGFnc1trXS5ub3QgPSB0b0Fycih0YWdzW2tdLm5vdClcbiAgfSlcbiAgLy8gbm90IGxpbmtzIGFyZSBiaS1kaXJlY3Rpb25hbFxuICAvLyBhZGQgYW55IGluY29taW5nIG5vdCB0YWdzXG4gIE9iamVjdC5rZXlzKHRhZ3MpLmZvckVhY2goayA9PiB7XG4gICAgbGV0IG5vdHMgPSB0YWdzW2tdLm5vdCB8fCBbXVxuICAgIG5vdHMuZm9yRWFjaChubyA9PiB7XG4gICAgICBpZiAodGFnc1tub10gJiYgdGFnc1tub10ubm90KSB7XG4gICAgICAgIHRhZ3Nbbm9dLm5vdC5wdXNoKGspXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbiAgcmV0dXJuIHRhZ3Ncbn1cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlIiwgImltcG9ydCBncmFkIGZyb20gJ2dyYWQtc2Nob29sJ1xuaW1wb3J0IGZtdCBmcm9tICcuLzAyLWZtdC5qcydcbmltcG9ydCB2YWxpZGF0ZSBmcm9tICcuLzAxLXZhbGlkYXRlLmpzJ1xuXG4vLyAnZmlsbC1kb3duJyBwYXJlbnQgbG9naWMgaW5mZXJlbmNlXG5jb25zdCBjb21wdXRlID0gZnVuY3Rpb24gKGFsbFRhZ3MpIHtcbiAgLy8gc2V0dXAgZ3JhcGgtbGliIGZvcm1hdFxuICBjb25zdCBmbGF0TGlzdCA9IE9iamVjdC5rZXlzKGFsbFRhZ3MpLm1hcChrID0+IHtcbiAgICBsZXQgbyA9IGFsbFRhZ3Nba11cbiAgICBjb25zdCBwcm9wcyA9IHsgbm90OiBuZXcgU2V0KG8ubm90KSwgYWxzbzogby5hbHNvLCBpczogby5pcywgbm92ZWw6IG8ubm92ZWwgfVxuICAgIHJldHVybiB7IGlkOiBrLCBwYXJlbnQ6IG8uaXMsIHByb3BzLCBjaGlsZHJlbjogW10gfVxuICB9KVxuICBjb25zdCBncmFwaCA9IGdyYWQoZmxhdExpc3QpLmNhY2hlKCkuZmlsbERvd24oKVxuICByZXR1cm4gZ3JhcGgub3V0KCdhcnJheScpXG59XG5cbmNvbnN0IGZyb21Vc2VyID0gZnVuY3Rpb24gKHRhZ3MpIHtcbiAgT2JqZWN0LmtleXModGFncykuZm9yRWFjaChrID0+IHtcbiAgICB0YWdzW2tdID0gT2JqZWN0LmFzc2lnbih7fSwgdGFnc1trXSlcbiAgICB0YWdzW2tdLm5vdmVsID0gdHJ1ZVxuICB9KVxuICByZXR1cm4gdGFnc1xufVxuXG5jb25zdCBhZGRUYWdzID0gZnVuY3Rpb24gKHRhZ3MsIGFscmVhZHkpIHtcbiAgLy8gYXJlIHRoZXNlIHRhZ3MgaW50ZXJuYWwgb25lcywgb3IgdXNlci1nZW5lcmF0ZWQ/XG4gIGlmIChPYmplY3Qua2V5cyhhbHJlYWR5KS5sZW5ndGggPiAwKSB7XG4gICAgdGFncyA9IGZyb21Vc2VyKHRhZ3MpXG4gIH1cbiAgdGFncyA9IHZhbGlkYXRlKHRhZ3MsIGFscmVhZHkpXG5cbiAgbGV0IGFsbFRhZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBhbHJlYWR5LCB0YWdzKVxuICAvLyBkbyBzb21lIGJhc2ljIHNldHRpbmctdXBcbiAgLy8gJ2ZpbGwtZG93bicgcGFyZW50IGxvZ2ljXG4gIGNvbnN0IG5vZGVzID0gY29tcHV0ZShhbGxUYWdzKVxuICAvLyBjb252ZXJ0IGl0IHRvIG91ciBmaW5hbCBmb3JtYXRcbiAgY29uc3QgcmVzID0gZm10KG5vZGVzKVxuICByZXR1cm4gcmVzXG59XG5leHBvcnQgZGVmYXVsdCBhZGRUYWdzXG4iLCAiaW1wb3J0IHNldFRhZyBmcm9tICcuL3NldFRhZy5qcydcbmltcG9ydCB1blRhZyBmcm9tICcuL3VuVGFnLmpzJ1xuaW1wb3J0IGNhbkJlIGZyb20gJy4vY2FuQmUuanMnXG5pbXBvcnQgYWRkVGFncyBmcm9tICcuL2FkZFRhZ3MvaW5kZXguanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgb25lOiB7XG4gICAgc2V0VGFnLFxuICAgIHVuVGFnLFxuICAgIGFkZFRhZ3MsXG4gICAgY2FuQmUsXG4gIH0sXG59XG4iLCAiLyogZXNsaW50IG5vLWNvbnNvbGU6IDAgKi9cbmNvbnN0IGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuY29uc3QgZm5zID0ge1xuICAvKiogYWRkIGEgZ2l2ZW4gdGFnLCB0byBhbGwgdGhlc2UgdGVybXMgKi9cbiAgdGFnOiBmdW5jdGlvbiAoaW5wdXQsIHJlYXNvbiA9ICcnLCBpc1NhZmUpIHtcbiAgICBpZiAoIXRoaXMuZm91bmQgfHwgIWlucHV0KSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBsZXQgdGVybXMgPSB0aGlzLnRlcm1MaXN0KClcbiAgICBpZiAodGVybXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBjb25zdCB7IG1ldGhvZHMsIHZlcmJvc2UsIHdvcmxkIH0gPSB0aGlzXG4gICAgLy8gbG9nZ2VyXG4gICAgaWYgKHZlcmJvc2UgPT09IHRydWUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCcgKyAgJywgaW5wdXQsIHJlYXNvbiB8fCAnJylcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICBpbnB1dC5mb3JFYWNoKHRhZyA9PiBtZXRob2RzLm9uZS5zZXRUYWcodGVybXMsIHRhZywgd29ybGQsIGlzU2FmZSwgcmVhc29uKSlcbiAgICB9IGVsc2Uge1xuICAgICAgbWV0aG9kcy5vbmUuc2V0VGFnKHRlcm1zLCBpbnB1dCwgd29ybGQsIGlzU2FmZSwgcmVhc29uKVxuICAgIH1cbiAgICAvLyB1bmNhY2hlXG4gICAgdGhpcy51bmNhY2hlKClcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiBhZGQgYSBnaXZlbiB0YWcsIG9ubHkgaWYgaXQgaXMgY29uc2lzdGVudCAqL1xuICB0YWdTYWZlOiBmdW5jdGlvbiAoaW5wdXQsIHJlYXNvbiA9ICcnKSB7XG4gICAgcmV0dXJuIHRoaXMudGFnKGlucHV0LCByZWFzb24sIHRydWUpXG4gIH0sXG5cbiAgLyoqIHJlbW92ZSBhIGdpdmVuIHRhZyBmcm9tIGFsbCB0aGVzZSB0ZXJtcyAqL1xuICB1blRhZzogZnVuY3Rpb24gKGlucHV0LCByZWFzb24pIHtcbiAgICBpZiAoIXRoaXMuZm91bmQgfHwgIWlucHV0KSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBsZXQgdGVybXMgPSB0aGlzLnRlcm1MaXN0KClcbiAgICBpZiAodGVybXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBjb25zdCB7IG1ldGhvZHMsIHZlcmJvc2UsIG1vZGVsIH0gPSB0aGlzXG4gICAgLy8gbG9nZ2VyXG4gICAgaWYgKHZlcmJvc2UgPT09IHRydWUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCcgLSAgJywgaW5wdXQsIHJlYXNvbiB8fCAnJylcbiAgICB9XG4gICAgbGV0IHRhZ1NldCA9IG1vZGVsLm9uZS50YWdTZXRcbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIGlucHV0LmZvckVhY2godGFnID0+IG1ldGhvZHMub25lLnVuVGFnKHRlcm1zLCB0YWcsIHRhZ1NldCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIG1ldGhvZHMub25lLnVuVGFnKHRlcm1zLCBpbnB1dCwgdGFnU2V0KVxuICAgIH1cbiAgICAvLyB1bmNhY2hlXG4gICAgdGhpcy51bmNhY2hlKClcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIC8qKiByZXR1cm4gb25seSB0aGUgdGVybXMgdGhhdCBjYW4gYmUgdGhpcyB0YWcgICovXG4gIGNhbkJlOiBmdW5jdGlvbiAodGFnKSB7XG4gICAgdGFnID0gdGFnLnJlcGxhY2UoL14jLywgJycpXG4gICAgbGV0IHRhZ1NldCA9IHRoaXMubW9kZWwub25lLnRhZ1NldFxuICAgIGxldCBjYW5CZSA9IHRoaXMubWV0aG9kcy5vbmUuY2FuQmVcbiAgICBsZXQgbm9wZSA9IFtdXG4gICAgdGhpcy5kb2N1bWVudC5mb3JFYWNoKCh0ZXJtcywgbikgPT4ge1xuICAgICAgdGVybXMuZm9yRWFjaCgodGVybSwgaSkgPT4ge1xuICAgICAgICBpZiAoIWNhbkJlKHRlcm0sIHRhZywgdGFnU2V0KSkge1xuICAgICAgICAgIG5vcGUucHVzaChbbiwgaSwgaSArIDFdKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gICAgbGV0IG5vRG9jID0gdGhpcy51cGRhdGUobm9wZSlcbiAgICByZXR1cm4gdGhpcy5kaWZmZXJlbmNlKG5vRG9jKVxuICB9LFxufVxuZXhwb3J0IGRlZmF1bHQgZm5zXG4iLCAiaW1wb3J0IHRhZyBmcm9tICcuL3RhZy5qcydcblxuY29uc3QgdGFnQVBJID0gZnVuY3Rpb24gKFZpZXcpIHtcbiAgT2JqZWN0LmFzc2lnbihWaWV3LnByb3RvdHlwZSwgdGFnKVxufVxuZXhwb3J0IGRlZmF1bHQgdGFnQVBJXG4iLCAiLy8gd2lyZS11cCBtb3JlIHBvcy10YWdzIHRvIG91ciBtb2RlbFxuY29uc3QgYWRkVGFncyA9IGZ1bmN0aW9uICh0YWdzKSB7XG4gIGNvbnN0IHsgbW9kZWwsIG1ldGhvZHMgfSA9IHRoaXMud29ybGQoKVxuICBjb25zdCB0YWdTZXQgPSBtb2RlbC5vbmUudGFnU2V0XG4gIGNvbnN0IGZuID0gbWV0aG9kcy5vbmUuYWRkVGFnc1xuICBsZXQgcmVzID0gZm4odGFncywgdGFnU2V0KVxuICBtb2RlbC5vbmUudGFnU2V0ID0gcmVzXG4gIHJldHVybiB0aGlzXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgYWRkVGFncyB9IiwgImNvbnN0IGJvcmluZ1RhZ3MgPSBuZXcgU2V0KFsnQXV4aWxpYXJ5JywgJ1Bvc3Nlc3NpdmUnXSlcblxuY29uc3Qgc29ydEJ5S2lkcyA9IGZ1bmN0aW9uICh0YWdzLCB0YWdTZXQpIHtcbiAgdGFncyA9IHRhZ3Muc29ydCgoYSwgYikgPT4ge1xuICAgIC8vICh1bmtub3duIHRhZ3MgYXJlIGludGVyZXN0aW5nKVxuICAgIGlmIChib3JpbmdUYWdzLmhhcyhhKSB8fCAhdGFnU2V0Lmhhc093blByb3BlcnR5KGIpKSB7XG4gICAgICByZXR1cm4gMVxuICAgIH1cbiAgICBpZiAoYm9yaW5nVGFncy5oYXMoYikgfHwgIXRhZ1NldC5oYXNPd25Qcm9wZXJ0eShhKSkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIGxldCBraWRzID0gdGFnU2V0W2FdLmNoaWxkcmVuIHx8IFtdXG4gICAgbGV0IGFLaWRzID0ga2lkcy5sZW5ndGhcbiAgICBraWRzID0gdGFnU2V0W2JdLmNoaWxkcmVuIHx8IFtdXG4gICAgbGV0IGJLaWRzID0ga2lkcy5sZW5ndGhcbiAgICByZXR1cm4gYUtpZHMgLSBiS2lkc1xuICB9KVxuICByZXR1cm4gdGFnc1xufVxuXG5jb25zdCB0YWdSYW5rID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgY29uc3QgeyBkb2N1bWVudCwgd29ybGQgfSA9IHZpZXdcbiAgY29uc3QgdGFnU2V0ID0gd29ybGQubW9kZWwub25lLnRhZ1NldFxuICBkb2N1bWVudC5mb3JFYWNoKHRlcm1zID0+IHtcbiAgICB0ZXJtcy5mb3JFYWNoKHRlcm0gPT4ge1xuICAgICAgbGV0IHRhZ3MgPSBBcnJheS5mcm9tKHRlcm0udGFncylcbiAgICAgIHRlcm0udGFnUmFuayA9IHNvcnRCeUtpZHModGFncywgdGFnU2V0KVxuICAgIH0pXG4gIH0pXG59XG5leHBvcnQgZGVmYXVsdCB0YWdSYW5rXG4iLCAiaW1wb3J0IG1ldGhvZHMgZnJvbSAnLi9tZXRob2RzL2luZGV4LmpzJ1xuaW1wb3J0IGFwaSBmcm9tICcuL2FwaS9pbmRleC5qcydcbmltcG9ydCBsaWIgZnJvbSAnLi9saWIuanMnXG5pbXBvcnQgdGFnUmFuayBmcm9tICcuL2NvbXB1dGUvdGFnUmFuay5qcydcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG1vZGVsOiB7XG4gICAgb25lOiB7IHRhZ1NldDoge30gfVxuICB9LFxuICBjb21wdXRlOiB7XG4gICAgdGFnUmFua1xuICB9LFxuICBtZXRob2RzLFxuICBhcGksXG4gIGxpYlxufVxuIiwgIi8vIHNwbGl0IGJ5IHBlcmlvZHMsIHF1ZXN0aW9uIG1hcmtzLCB1bmljb2RlIFx1MjA0NywgZXRjXG5jb25zdCBpbml0U3BsaXQgPSAvKFsuIT9cXHUyMDNEXFx1MkUxOFxcdTIwM0NcXHUyMDQ3LVxcdTIwNDlcXHUzMDAyXStcXHMpL2dcbi8vIG1lcmdlIHRoZXNlIGJhY2sgaW50byBwcmV2IHNlbnRlbmNlXG5jb25zdCBzcGxpdHNPbmx5ID0gL15bLiE/XFx1MjAzRFxcdTJFMThcXHUyMDNDXFx1MjA0Ny1cXHUyMDQ5XFx1MzAwMl0rXFxzJC9cbmNvbnN0IG5ld0xpbmUgPSAvKCg/Olxccj9cXG58XFxyKSspLyAvLyBNYXRjaCBkaWZmZXJlbnQgbmV3LWxpbmUgZm9ybWF0c1xuXG4vLyBTdGFydCB3aXRoIGEgcmVnZXg6XG5jb25zdCBiYXNpY1NwbGl0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgbGV0IGFsbCA9IFtdXG4gIC8vZmlyc3QsIHNwbGl0IGJ5IG5ld2xpbmVcbiAgbGV0IGxpbmVzID0gdGV4dC5zcGxpdChuZXdMaW5lKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy9zcGxpdCBieSBwZXJpb2QsIHF1ZXN0aW9uLW1hcmssIGFuZCBleGNsYW1hdGlvbi1tYXJrXG4gICAgbGV0IGFyciA9IGxpbmVzW2ldLnNwbGl0KGluaXRTcGxpdClcbiAgICBmb3IgKGxldCBvID0gMDsgbyA8IGFyci5sZW5ndGg7IG8rKykge1xuICAgICAgLy8gbWVyZ2UgJ2ZvbycgKyAnLidcbiAgICAgIGlmIChhcnJbbyArIDFdICYmIHNwbGl0c09ubHkudGVzdChhcnJbbyArIDFdKSA9PT0gdHJ1ZSkge1xuICAgICAgICBhcnJbb10gKz0gYXJyW28gKyAxXVxuICAgICAgICBhcnJbbyArIDFdID0gJydcbiAgICAgIH1cbiAgICAgIGlmIChhcnJbb10gIT09ICcnKSB7XG4gICAgICAgIGFsbC5wdXNoKGFycltvXSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFsbFxufVxuZXhwb3J0IGRlZmF1bHQgYmFzaWNTcGxpdFxuIiwgImNvbnN0IGhhc0xldHRlciA9IC9bYS16MC05XFx1MDBDMC1cXHUwMEZGXFx1MDBhOVxcdTAwYWVcXHUyMDAwLVxcdTMzMDBcXHVkMDAwLVxcdWRmZmZdL2lcbmNvbnN0IGhhc1NvbWV0aGluZyA9IC9cXFMvXG5cbmNvbnN0IG5vdEVtcHR5ID0gZnVuY3Rpb24gKHNwbGl0cykge1xuICBsZXQgY2h1bmtzID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGxpdHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgcyA9IHNwbGl0c1tpXVxuICAgIGlmIChzID09PSB1bmRlZmluZWQgfHwgcyA9PT0gJycpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vdGhpcyBpcyBtZWFuaW5nZnVsIHdoaXRlc3BhY2VcbiAgICBpZiAoaGFzU29tZXRoaW5nLnRlc3QocykgPT09IGZhbHNlIHx8IGhhc0xldHRlci50ZXN0KHMpID09PSBmYWxzZSkge1xuICAgICAgLy9hZGQgaXQgdG8gdGhlIGxhc3Qgb25lXG4gICAgICBpZiAoY2h1bmtzW2NodW5rcy5sZW5ndGggLSAxXSkge1xuICAgICAgICBjaHVua3NbY2h1bmtzLmxlbmd0aCAtIDFdICs9IHNcbiAgICAgICAgY29udGludWVcbiAgICAgIH0gZWxzZSBpZiAoc3BsaXRzW2kgKyAxXSkge1xuICAgICAgICAvL2FkZCBpdCB0byB0aGUgbmV4dCBvbmVcbiAgICAgICAgc3BsaXRzW2kgKyAxXSA9IHMgKyBzcGxpdHNbaSArIDFdXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgfVxuICAgIC8vZWxzZSwgb25seSB3aGl0ZXNwYWNlLCBubyB0ZXJtcywgbm8gc2VudGVuY2VcbiAgICBjaHVua3MucHVzaChzKVxuICB9XG4gIHJldHVybiBjaHVua3Ncbn1cbmV4cG9ydCBkZWZhdWx0IG5vdEVtcHR5IiwgIlxuLy9sb29wIHRocm91Z2ggdGhlc2UgY2h1bmtzLCBhbmQgam9pbiB0aGUgbm9uLXNlbnRlbmNlIGNodW5rcyBiYWNrIHRvZ2V0aGVyLi5cbmNvbnN0IHNtYXJ0TWVyZ2UgPSBmdW5jdGlvbiAoY2h1bmtzLCB3b3JsZCkge1xuICBjb25zdCBpc1NlbnRlbmNlID0gd29ybGQubWV0aG9kcy5vbmUudG9rZW5pemUuaXNTZW50ZW5jZVxuICBjb25zdCBhYmJyZXZzID0gd29ybGQubW9kZWwub25lLmFiYnJldmlhdGlvbnMgfHwgbmV3IFNldCgpXG5cbiAgbGV0IHNlbnRlbmNlcyA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2h1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGMgPSBjaHVua3NbaV1cbiAgICAvL3Nob3VsZCB0aGlzIGNodW5rIGJlIGNvbWJpbmVkIHdpdGggdGhlIG5leHQgb25lP1xuICAgIGlmIChjaHVua3NbaSArIDFdICYmIGlzU2VudGVuY2UoYywgYWJicmV2cykgPT09IGZhbHNlKSB7XG4gICAgICBjaHVua3NbaSArIDFdID0gYyArIChjaHVua3NbaSArIDFdIHx8ICcnKVxuICAgIH0gZWxzZSBpZiAoYyAmJiBjLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vdGhpcyBjaHVuayBpcyBhIHByb3BlciBzZW50ZW5jZS4uXG4gICAgICBzZW50ZW5jZXMucHVzaChjKVxuICAgICAgY2h1bmtzW2ldID0gJydcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlbnRlbmNlc1xufVxuZXhwb3J0IGRlZmF1bHQgc21hcnRNZXJnZSIsICIvKiBlc2xpbnQtZGlzYWJsZSByZWdleHAvbm8tZHVwZS1jaGFyYWN0ZXJzLWNoYXJhY3Rlci1jbGFzcyAqL1xuXG4vLyBtZXJnZSBlbWJlZGRlZCBxdW90ZXMgaW50byAxIHNlbnRlbmNlXG4vLyBsaWtlIC0gJ2hlIHNhaWQgXCJubyFcIiBhbmQgbGVmdC4nXG5jb25zdCBNQVhfUVVPVEUgPSAyODAvLyBcdTAwQUZcXF8oXHUzMEM0KV8vXHUwMEFGXG5cbi8vIGRvbid0IHN1cHBvcnQgc2luZ2xlLXF1b3RlcyBmb3IgbXVsdGktc2VudGVuY2VzXG5jb25zdCBwYWlycyA9IHtcbiAgJ1xcdTAwMjInOiAnXFx1MDAyMicsIC8vICdTdHJhaWdodERvdWJsZVF1b3RlcydcbiAgJ1xcdUZGMDInOiAnXFx1RkYwMicsIC8vICdTdHJhaWdodERvdWJsZVF1b3Rlc1dpZGUnXG4gIC8vICdcXHUwMDI3JzogJ1xcdTAwMjcnLCAvLyAnU3RyYWlnaHRTaW5nbGVRdW90ZXMnXG4gICdcXHUyMDFDJzogJ1xcdTIwMUQnLCAvLyAnQ29tbWFEb3VibGVRdW90ZXMnXG4gIC8vICdcXHUyMDE4JzogJ1xcdTIwMTknLCAvLyAnQ29tbWFTaW5nbGVRdW90ZXMnXG4gICdcXHUyMDFGJzogJ1xcdTIwMUQnLCAvLyAnQ3VybHlEb3VibGVRdW90ZXNSZXZlcnNlZCdcbiAgLy8gJ1xcdTIwMUInOiAnXFx1MjAxOScsIC8vICdDdXJseVNpbmdsZVF1b3Rlc1JldmVyc2VkJ1xuICAnXFx1MjAxRSc6ICdcXHUyMDFEJywgLy8gJ0xvd0N1cmx5RG91YmxlUXVvdGVzJ1xuICAnXFx1MkU0Mic6ICdcXHUyMDFEJywgLy8gJ0xvd0N1cmx5RG91YmxlUXVvdGVzUmV2ZXJzZWQnXG4gICdcXHUyMDFBJzogJ1xcdTIwMTknLCAvLyAnTG93Q3VybHlTaW5nbGVRdW90ZXMnXG4gICdcXHUwMEFCJzogJ1xcdTAwQkInLCAvLyAnQW5nbGVEb3VibGVRdW90ZXMnXG4gICdcXHUyMDM5JzogJ1xcdTIwM0EnLCAvLyAnQW5nbGVTaW5nbGVRdW90ZXMnXG4gICdcXHUyMDM1JzogJ1xcdTIwMzInLCAvLyAnUHJpbWVTaW5nbGVRdW90ZXMnXG4gICdcXHUyMDM2JzogJ1xcdTIwMzMnLCAvLyAnUHJpbWVEb3VibGVRdW90ZXMnXG4gICdcXHUyMDM3JzogJ1xcdTIwMzQnLCAvLyAnUHJpbWVUcmlwbGVRdW90ZXMnXG4gICdcXHUzMDFEJzogJ1xcdTMwMUUnLCAvLyAnUHJpbWVEb3VibGVRdW90ZXMnXG4gIC8vICdcXHUwMDYwJzogJ1xcdTAwQjQnLCAvLyAnUHJpbWVTaW5nbGVRdW90ZXMnXG4gICdcXHUzMDFGJzogJ1xcdTMwMUUnLCAvLyAnTG93UHJpbWVEb3VibGVRdW90ZXNSZXZlcnNlZCdcbn1cbmNvbnN0IG9wZW5RdW90ZSA9IFJlZ0V4cCgnWycgKyBPYmplY3Qua2V5cyhwYWlycykuam9pbignJykgKyAnXScsICdnJylcbmNvbnN0IGNsb3NlUXVvdGUgPSBSZWdFeHAoJ1snICsgT2JqZWN0LnZhbHVlcyhwYWlycykuam9pbignJykgKyAnXScsICdnJylcblxuY29uc3QgY2xvc2VzUXVvdGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIGlmICghc3RyKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgbGV0IG0gPSBzdHIubWF0Y2goY2xvc2VRdW90ZSlcbiAgaWYgKG0gIT09IG51bGwgJiYgbS5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyBhbGxvdyBtaWNyby1zZW50ZW5jZXMgd2hlbiBpbnNpZGUgYSBxdW90YXRpb24sIGxpa2U6XG4vLyB0aGUgZG9jIHNhaWQgXCJubyBzaXIuIGkgd2lsbCBub3QgYmVnXCIgYW5kIHdhbGtlZCBhd2F5LlxuY29uc3QgcXVvdGVNZXJnZSA9IGZ1bmN0aW9uIChzcGxpdHMpIHtcbiAgbGV0IGFyciA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3BsaXRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGV0IHNwbGl0ID0gc3BsaXRzW2ldXG4gICAgLy8gZG8gd2UgaGF2ZSBhbiBvcGVuLXF1b3RlIGFuZCBub3QgYSBjbG9zZWQgb25lP1xuICAgIGxldCBtID0gc3BsaXQubWF0Y2gob3BlblF1b3RlKVxuICAgIGlmIChtICE9PSBudWxsICYmIG0ubGVuZ3RoID09PSAxKSB7XG5cbiAgICAgIC8vIGxvb2sgYXQgdGhlIG5leHQgc2VudGVuY2UgZm9yIGEgY2xvc2luZyBxdW90ZSxcbiAgICAgIGlmIChjbG9zZXNRdW90ZShzcGxpdHNbaSArIDFdKSAmJiBzcGxpdHNbaSArIDFdLmxlbmd0aCA8IE1BWF9RVU9URSkge1xuICAgICAgICBzcGxpdHNbaV0gKz0gc3BsaXRzW2kgKyAxXS8vIG1lcmdlIHRoZW1cbiAgICAgICAgYXJyLnB1c2goc3BsaXRzW2ldKVxuICAgICAgICBzcGxpdHNbaSArIDFdID0gJydcbiAgICAgICAgaSArPSAxXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICAvLyBsb29rIGF0IG4rMiBmb3IgYSBjbG9zaW5nIHF1b3RlLFxuICAgICAgaWYgKGNsb3Nlc1F1b3RlKHNwbGl0c1tpICsgMl0pKSB7XG4gICAgICAgIGxldCB0b0FkZCA9IHNwbGl0c1tpICsgMV0gKyBzcGxpdHNbaSArIDJdLy8gbWVyZ2UgdGhlbSBhbGxcbiAgICAgICAgLy9tYWtlIHN1cmUgaXQncyBub3QgdG9vLWxvbmdcbiAgICAgICAgaWYgKHRvQWRkLmxlbmd0aCA8IE1BWF9RVU9URSkge1xuICAgICAgICAgIHNwbGl0c1tpXSArPSB0b0FkZFxuICAgICAgICAgIGFyci5wdXNoKHNwbGl0c1tpXSlcbiAgICAgICAgICBzcGxpdHNbaSArIDFdID0gJydcbiAgICAgICAgICBzcGxpdHNbaSArIDJdID0gJydcbiAgICAgICAgICBpICs9IDJcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGFyci5wdXNoKHNwbGl0c1tpXSlcbiAgfVxuICByZXR1cm4gYXJyXG59XG5leHBvcnQgZGVmYXVsdCBxdW90ZU1lcmdlXG4iLCAiY29uc3QgTUFYX0xFTiA9IDI1MC8vIFx1MDBBRlxcXyhcdTMwQzQpXy9cdTAwQUZcblxuLy8gc3VwcG9ydCB1bmljb2RlIHZhcmlhbnRzP1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTM1MzUxNzIvbGlzdC1vZi1hbGwtdW5pY29kZXMtb3Blbi1jbG9zZS1icmFja2V0c1xuY29uc3QgaGFzT3BlbiA9IC9cXCgvZ1xuY29uc3QgaGFzQ2xvc2VkID0gL1xcKS9nXG5jb25zdCBtZXJnZVBhcmVucyA9IGZ1bmN0aW9uIChzcGxpdHMpIHtcbiAgbGV0IGFyciA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3BsaXRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGV0IHNwbGl0ID0gc3BsaXRzW2ldXG4gICAgbGV0IG0gPSBzcGxpdC5tYXRjaChoYXNPcGVuKVxuICAgIGlmIChtICE9PSBudWxsICYmIG0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBsb29rIGF0IG5leHQgc2VudGVuY2UsIGZvciBjbG9zaW5nIHBhcmVudGhlc2lzXG4gICAgICBpZiAoc3BsaXRzW2kgKyAxXSAmJiBzcGxpdHNbaSArIDFdLmxlbmd0aCA8IE1BWF9MRU4pIHtcbiAgICAgICAgbGV0IG0yID0gc3BsaXRzW2kgKyAxXS5tYXRjaChoYXNDbG9zZWQpXG4gICAgICAgIGlmIChtMiAhPT0gbnVsbCAmJiBtLmxlbmd0aCA9PT0gMSAmJiAhaGFzT3Blbi50ZXN0KHNwbGl0c1tpICsgMV0pKSB7XG4gICAgICAgICAgLy8gbWVyZ2UgaW4gMm5kIHNlbnRlbmNlXG4gICAgICAgICAgc3BsaXRzW2ldICs9IHNwbGl0c1tpICsgMV1cbiAgICAgICAgICBhcnIucHVzaChzcGxpdHNbaV0pXG4gICAgICAgICAgc3BsaXRzW2kgKyAxXSA9ICcnXG4gICAgICAgICAgaSArPSAxXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBhcnIucHVzaChzcGxpdHNbaV0pXG4gIH1cbiAgcmV0dXJuIGFyclxufVxuZXhwb3J0IGRlZmF1bHQgbWVyZ2VQYXJlbnMiLCAiaW1wb3J0IHNpbXBsZVNwbGl0IGZyb20gJy4vMDEtc2ltcGxlLXNwbGl0LmpzJ1xuaW1wb3J0IHNpbXBsZU1lcmdlIGZyb20gJy4vMDItc2ltcGxlLW1lcmdlLmpzJ1xuaW1wb3J0IHNtYXJ0TWVyZ2UgZnJvbSAnLi8wMy1zbWFydC1tZXJnZS5qcydcbmltcG9ydCBxdW90ZU1lcmdlIGZyb20gJy4vMDQtcXVvdGUtbWVyZ2UuanMnXG5pbXBvcnQgcGFyZW5zTWVyZ2UgZnJvbSAnLi8wNS1wYXJlbnMtbWVyZ2UuanMnXG4vLyhSdWxlLWJhc2VkIHNlbnRlbmNlIGJvdW5kYXJ5IHNlZ21lbnRhdGlvbikgLSBjaG9wIGdpdmVuIHRleHQgaW50byBpdHMgcHJvcGVyIHNlbnRlbmNlcy5cbi8vIElnbm9yZSBwZXJpb2RzL3F1ZXN0aW9ucy9leGNsYW1hdGlvbnMgdXNlZCBpbiBhY3Jvbnltcy9hYmJyZXZpYXRpb25zL251bWJlcnMsIGV0Yy5cbi8vcmVncy1cbmNvbnN0IGhhc1NvbWV0aGluZyA9IC9cXFMvXG5jb25zdCBzdGFydFdoaXRlc3BhY2UgPSAvXlxccysvXG5cbmNvbnN0IHNwbGl0U2VudGVuY2VzID0gZnVuY3Rpb24gKHRleHQsIHdvcmxkKSB7XG4gIHRleHQgPSB0ZXh0IHx8ICcnXG4gIHRleHQgPSBTdHJpbmcodGV4dClcbiAgLy8gRW5zdXJlIGl0ICdzbWVsbHMgbGlrZScgYSBzZW50ZW5jZVxuICBpZiAoIXRleHQgfHwgdHlwZW9mIHRleHQgIT09ICdzdHJpbmcnIHx8IGhhc1NvbWV0aGluZy50ZXN0KHRleHQpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBbXVxuICB9XG4gIC8vIGNsZWFudXAgdW5pY29kZS1zcGFjZXNcbiAgdGV4dCA9IHRleHQucmVwbGFjZSgnXFx4YTAnLCAnICcpXG4gIC8vIEZpcnN0IGRvIGEgZ3JlZWR5LXNwbGl0Li5cbiAgbGV0IHNwbGl0cyA9IHNpbXBsZVNwbGl0KHRleHQpXG4gIC8vIEZpbHRlci1vdXQgdGhlIGNyYXAgb25lc1xuICBsZXQgc2VudGVuY2VzID0gc2ltcGxlTWVyZ2Uoc3BsaXRzKVxuICAvL2RldGVjdGlvbiBvZiBub24tc2VudGVuY2UgY2h1bmtzOlxuICBzZW50ZW5jZXMgPSBzbWFydE1lcmdlKHNlbnRlbmNlcywgd29ybGQpXG4gIC8vIGFsbG93ICdoZSBzYWlkIFwibm8gc2lyLlwiIGFuZCBsZWZ0LidcbiAgc2VudGVuY2VzID0gcXVvdGVNZXJnZShzZW50ZW5jZXMpXG4gIC8vIGFsbG93ICdpIHRob3VnaHQgKG5vIHdheSEpIGFuZCBsZWZ0LidcbiAgc2VudGVuY2VzID0gcGFyZW5zTWVyZ2Uoc2VudGVuY2VzKVxuICAvL2lmIHdlIG5ldmVyIGdvdCBhIHNlbnRlbmNlLCByZXR1cm4gdGhlIGdpdmVuIHRleHRcbiAgaWYgKHNlbnRlbmNlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW3RleHRdXG4gIH1cbiAgLy9tb3ZlIHdoaXRlc3BhY2UgdG8gdGhlIGVuZHMgb2Ygc2VudGVuY2VzLCB3aGVuIHBvc3NpYmxlXG4gIC8vWydoZWxsbycsJyB3b3JsZCddIC0+IFsnaGVsbG8gJywnd29ybGQnXVxuICBmb3IgKGxldCBpID0gMTsgaSA8IHNlbnRlbmNlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGxldCB3cyA9IHNlbnRlbmNlc1tpXS5tYXRjaChzdGFydFdoaXRlc3BhY2UpXG4gICAgaWYgKHdzICE9PSBudWxsKSB7XG4gICAgICBzZW50ZW5jZXNbaSAtIDFdICs9IHdzWzBdXG4gICAgICBzZW50ZW5jZXNbaV0gPSBzZW50ZW5jZXNbaV0ucmVwbGFjZShzdGFydFdoaXRlc3BhY2UsICcnKVxuICAgIH1cbiAgfVxuICByZXR1cm4gc2VudGVuY2VzXG59XG5leHBvcnQgZGVmYXVsdCBzcGxpdFNlbnRlbmNlc1xuIiwgImNvbnN0IGhhc0h5cGhlbiA9IGZ1bmN0aW9uIChzdHIsIG1vZGVsKSB7XG4gIGxldCBwYXJ0cyA9IHN0ci5zcGxpdCgvWy1cdTIwMTNcdTIwMTRdLylcbiAgaWYgKHBhcnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgY29uc3QgeyBwcmVmaXhlcywgc3VmZml4ZXMgfSA9IG1vZGVsLm9uZVxuXG4gIC8vIGwtdGhlYW5pbmUsIHgtcmF5XG4gIGlmIChwYXJ0c1swXS5sZW5ndGggPT09IDEgJiYgL1thLXpdL2kudGVzdChwYXJ0c1swXSkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvL2RvbnQgc3BsaXQgJ3JlLWRvJ1xuICBpZiAocHJlZml4ZXMuaGFzT3duUHJvcGVydHkocGFydHNbMF0pKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgLy9kb250IHNwbGl0ICdmbG93ZXItbGlrZSdcbiAgcGFydHNbMV0gPSBwYXJ0c1sxXS50cmltKCkucmVwbGFjZSgvWy4/IV0kLywgJycpXG4gIGlmIChzdWZmaXhlcy5oYXNPd25Qcm9wZXJ0eShwYXJ0c1sxXSkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvL2xldHRlci1udW1iZXIgJ2F1Zy0yMCdcbiAgbGV0IHJlZyA9IC9eKFthLXpcXHUwMEMwLVxcdTAwRkZgXCInL10rKVstXHUyMDEzXHUyMDE0XShbYS16MC05XFx1MDBDMC1cXHUwMEZGXS4qKS9pXG4gIGlmIChyZWcudGVzdChzdHIpID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICAvL251bWJlci1sZXR0ZXIgJzIwLWF1ZydcbiAgbGV0IHJlZzIgPSAvXlsoJ1wiXT8oWzAtOV17MSw0fSlbLVx1MjAxM1x1MjAxNF0oW2EtelxcdTAwQzAtXFx1MDBGRmBcIicvLV0rWyknXCJdPyQpL2lcbiAgaWYgKHJlZzIudGVzdChzdHIpID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuY29uc3Qgc3BsaXRIeXBoZW5zID0gZnVuY3Rpb24gKHdvcmQpIHtcbiAgbGV0IGFyciA9IFtdXG4gIC8vc3VwcG9ydCBtdWx0aXBsZS1oeXBoZW5hdGVkLXRlcm1zXG4gIGNvbnN0IGh5cGhlbnMgPSB3b3JkLnNwbGl0KC9bLVx1MjAxM1x1MjAxNF0vKVxuICBsZXQgd2hpY2hEYXNoID0gJy0nXG4gIGxldCBmb3VuZCA9IHdvcmQubWF0Y2goL1stXHUyMDEzXHUyMDE0XS8pXG4gIGlmIChmb3VuZCAmJiBmb3VuZFswXSkge1xuICAgIHdoaWNoRGFzaCA9IGZvdW5kXG4gIH1cbiAgZm9yIChsZXQgbyA9IDA7IG8gPCBoeXBoZW5zLmxlbmd0aDsgbysrKSB7XG4gICAgaWYgKG8gPT09IGh5cGhlbnMubGVuZ3RoIC0gMSkge1xuICAgICAgYXJyLnB1c2goaHlwaGVuc1tvXSlcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyLnB1c2goaHlwaGVuc1tvXSArIHdoaWNoRGFzaClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFyclxufVxuXG5leHBvcnQgeyBzcGxpdEh5cGhlbnMsIGhhc0h5cGhlbiB9XG4iLCAiLy8gY29tYmluZSAnMiAtIDUnIGxpa2UgJzItNScgaXNcbi8vIDItNDogMiwgNFxuY29uc3QgY29tYmluZVJhbmdlcyA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgY29uc3Qgc3RhcnRSYW5nZSA9IC9eWzAtOV17MSw0fSg6WzAtOV1bMC05XSk/KFthLXpdezEsMn0pPyA/Wy1cdTIwMTNcdTIwMTRdID8kL1xuICBjb25zdCBlbmRSYW5nZSA9IC9eWzAtOV17MSw0fShbYS16XXsxLDJ9KT8gPyQvXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aCAtIDE7IGkgKz0gMSkge1xuICAgIGlmIChhcnJbaSArIDFdICYmIHN0YXJ0UmFuZ2UudGVzdChhcnJbaV0pICYmIGVuZFJhbmdlLnRlc3QoYXJyW2kgKyAxXSkpIHtcbiAgICAgIGFycltpXSA9IGFycltpXSArIGFycltpICsgMV1cbiAgICAgIGFycltpICsgMV0gPSBudWxsXG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJcbn1cbmV4cG9ydCBkZWZhdWx0IGNvbWJpbmVSYW5nZXNcbiIsICJjb25zdCBpc1NsYXNoID0gL1xccHtMfSA/XFwvID9cXHB7TH0rJC91XG5cbi8vICdoZSAvIHNoZScgc2hvdWxkIGJlIG9uZSB3b3JkXG5jb25zdCBjb21iaW5lU2xhc2hlcyA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcnIubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgaWYgKGlzU2xhc2gudGVzdChhcnJbaV0pKSB7XG4gICAgICBhcnJbaSAtIDFdICs9IGFycltpXSArIGFycltpICsgMV1cbiAgICAgIGFycltpXSA9IG51bGxcbiAgICAgIGFycltpICsgMV0gPSBudWxsXG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJcbn1cbmV4cG9ydCBkZWZhdWx0IGNvbWJpbmVTbGFzaGVzXG4iLCAiaW1wb3J0IHsgaGFzSHlwaGVuLCBzcGxpdEh5cGhlbnMgfSBmcm9tICcuLzAxLWh5cGhlbnMuanMnXG5pbXBvcnQgY29tYmluZVJhbmdlcyBmcm9tICcuLzAzLXJhbmdlcy5qcydcbmltcG9ydCBjb21iaW5lU2xhc2hlcyBmcm9tICcuLzAyLXNsYXNoZXMuanMnXG5cbmNvbnN0IHdvcmRsaWtlID0gL1xcUy9cbmNvbnN0IGlzQm91bmRhcnkgPSAvXlshPy5dKyQvXG5jb25zdCBuYWlpdmVTcGxpdCA9IC8oXFxTKykvXG5cbmxldCBub3RXb3JkID0gW1xuICAnLicsXG4gICc/JyxcbiAgJyEnLFxuICAnOicsXG4gICc7JyxcbiAgJy0nLFxuICAnXHUyMDEzJyxcbiAgJ1x1MjAxNCcsXG4gICctLScsXG4gICcuLi4nLFxuICAnKCcsXG4gICcpJyxcbiAgJ1snLFxuICAnXScsXG4gICdcIicsXG4gIFwiJ1wiLFxuICAnYCcsXG4gICdcdTAwQUInLFxuICAnXHUwMEJCJyxcbiAgJyonLFxuICAnXHUyMDIyJyxcbl1cbm5vdFdvcmQgPSBub3RXb3JkLnJlZHVjZSgoaCwgYykgPT4ge1xuICBoW2NdID0gdHJ1ZVxuICByZXR1cm4gaFxufSwge30pXG5cbmNvbnN0IGlzQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xufVxuXG4vL3R1cm4gYSBzdHJpbmcgaW50byBhbiBhcnJheSBvZiBzdHJpbmdzIChuYWlpdmUgZm9yIG5vdywgbHVtcGVkIGxhdGVyKVxuY29uc3Qgc3BsaXRXb3JkcyA9IGZ1bmN0aW9uIChzdHIsIG1vZGVsKSB7XG4gIGxldCByZXN1bHQgPSBbXVxuICBsZXQgYXJyID0gW11cbiAgLy9zdGFydCB3aXRoIGEgbmFpaXZlIHNwbGl0XG4gIHN0ciA9IHN0ciB8fCAnJ1xuICBpZiAodHlwZW9mIHN0ciA9PT0gJ251bWJlcicpIHtcbiAgICBzdHIgPSBTdHJpbmcoc3RyKVxuICB9XG4gIGlmIChpc0FycmF5KHN0cikpIHtcbiAgICByZXR1cm4gc3RyXG4gIH1cbiAgY29uc3Qgd29yZHMgPSBzdHIuc3BsaXQobmFpaXZlU3BsaXQpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAvL3NwbGl0ICdvbmUtdHdvJ1xuICAgIGlmIChoYXNIeXBoZW4od29yZHNbaV0sIG1vZGVsKSA9PT0gdHJ1ZSkge1xuICAgICAgYXJyID0gYXJyLmNvbmNhdChzcGxpdEh5cGhlbnMod29yZHNbaV0pKVxuICAgICAgY29udGludWVcbiAgICB9XG4gICAgYXJyLnB1c2god29yZHNbaV0pXG4gIH1cbiAgLy9ncmVlZHkgbWVyZ2Ugd2hpdGVzcGFjZSthcnIgdG8gdGhlIHJpZ2h0XG4gIGxldCBjYXJyeSA9ICcnXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHdvcmQgPSBhcnJbaV1cbiAgICAvL2lmIGl0J3MgbW9yZSB0aGFuIGEgd2hpdGVzcGFjZVxuICAgIGlmICh3b3JkbGlrZS50ZXN0KHdvcmQpID09PSB0cnVlICYmIG5vdFdvcmQuaGFzT3duUHJvcGVydHkod29yZCkgPT09IGZhbHNlICYmIGlzQm91bmRhcnkudGVzdCh3b3JkKSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vcHV0IHdoaXRlc3BhY2Ugb24gZW5kIG9mIHByZXZpb3VzIHRlcm0sIGlmIHBvc3NpYmxlXG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSArPSBjYXJyeVxuICAgICAgICByZXN1bHQucHVzaCh3b3JkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9vdGhlcndpc2UsIGJ1dCB3aGl0ZXNwYWNlIGJlZm9yZVxuICAgICAgICByZXN1bHQucHVzaChjYXJyeSArIHdvcmQpXG4gICAgICB9XG4gICAgICBjYXJyeSA9ICcnXG4gICAgfSBlbHNlIHtcbiAgICAgIGNhcnJ5ICs9IHdvcmRcbiAgICB9XG4gIH1cbiAgLy9oYW5kbGUgbGFzdCBvbmVcbiAgaWYgKGNhcnJ5KSB7XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlc3VsdFswXSA9ICcnXG4gICAgfVxuICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gKz0gY2FycnkgLy9wdXQgaXQgb24gdGhlIGVuZFxuICB9XG4gIC8vIGNvbWJpbmUgJ29uZSAvIHR3bydcbiAgcmVzdWx0ID0gY29tYmluZVNsYXNoZXMocmVzdWx0KVxuICByZXN1bHQgPSBjb21iaW5lUmFuZ2VzKHJlc3VsdClcbiAgLy8gcmVtb3ZlIGVtcHR5IHJlc3VsdHNcbiAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihzID0+IHMpXG4gIHJldHVybiByZXN1bHRcbn1cbmV4cG9ydCBkZWZhdWx0IHNwbGl0V29yZHNcbiIsICIvL2FsbCBwdW5jdHVhdGlvbiBtYXJrcywgZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QdW5jdHVhdGlvblxuXG4vL3dlIGhhdmUgc2xpZ2h0bHkgZGlmZmVyZW50IHJ1bGVzIGZvciBzdGFydC9lbmQgLSBsaWtlICNoYXNodGFncy5cbmNvbnN0IGlzTGV0dGVyID0gL1xccHtMZXR0ZXJ9L3VcbmNvbnN0IGlzTnVtYmVyID0gL1tcXHB7TnVtYmVyfVxccHtDdXJyZW5jeV9TeW1ib2x9XS91XG5jb25zdCBoYXNBY3JvbnltID0gL15bYS16XVxcLihbYS16XVxcLikrL2lcbmNvbnN0IGNoaWxsaW4gPSAvW3NuXVsnXHUyMDE5XSQvXG5cbmNvbnN0IG5vcm1hbGl6ZVB1bmN0dWF0aW9uID0gZnVuY3Rpb24gKHN0ciwgbW9kZWwpIHtcbiAgLy8gcXVpY2sgbG9va3VwIGZvciBhbGxvd2VkIHByZS9wb3N0IHB1bmN0dWF0aW9uXG4gIGxldCB7IHByZVB1bmN0dWF0aW9uLCBwb3N0UHVuY3R1YXRpb24sIGVtb3RpY29ucyB9ID0gbW9kZWwub25lXG4gIGxldCBvcmlnaW5hbCA9IHN0clxuICBsZXQgcHJlID0gJydcbiAgbGV0IHBvc3QgPSAnJ1xuICBsZXQgY2hhcnMgPSBBcnJheS5mcm9tKHN0cilcblxuICAvLyBwdW5jdHVhdGlvbi1vbmx5IHdvcmRzLCBsaWtlICc8MydcbiAgaWYgKGVtb3RpY29ucy5oYXNPd25Qcm9wZXJ0eShzdHIudHJpbSgpKSkge1xuICAgIHJldHVybiB7IHN0cjogc3RyLnRyaW0oKSwgcHJlLCBwb3N0OiAnICcgfSAvL25vdCBncmVhdFxuICB9XG5cbiAgLy8gcG9wIGFueSBwdW5jdHVhdGlvbiBvZmYgb2YgdGhlIHN0YXJ0XG4gIGxldCBsZW4gPSBjaGFycy5sZW5ndGhcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIGxldCBjID0gY2hhcnNbMF1cbiAgICAvLyBrZWVwIGFueSBkZWNsYXJlZCBjaGFyc1xuICAgIGlmIChwcmVQdW5jdHVhdGlvbltjXSA9PT0gdHJ1ZSkge1xuICAgICAgY29udGludWUvL2tlZXAgaXRcbiAgICB9XG4gICAgLy8ga2VlcCAnKycgb3IgJy0nIG9ubHkgYmVmb3JlIGEgbnVtYmVyXG4gICAgaWYgKChjID09PSAnKycgfHwgYyA9PT0gJy0nKSAmJiBpc051bWJlci50ZXN0KGNoYXJzWzFdKSkge1xuICAgICAgYnJlYWsvL2RvbmVcbiAgICB9XG4gICAgLy8gJzk3IC0geWVhciBzaG9ydC1mb3JtXG4gICAgaWYgKGMgPT09IFwiJ1wiICYmIGMubGVuZ3RoID09PSAzICYmIGlzTnVtYmVyLnRlc3QoY2hhcnNbMV0pKSB7XG4gICAgICBicmVhay8vZG9uZVxuICAgIH1cbiAgICAvLyBzdGFydCBvZiB3b3JkXG4gICAgaWYgKGlzTGV0dGVyLnRlc3QoYykgfHwgaXNOdW1iZXIudGVzdChjKSkge1xuICAgICAgYnJlYWsgLy9kb25lXG4gICAgfVxuICAgIC8vIHB1bmN0dWF0aW9uXG4gICAgcHJlICs9IGNoYXJzLnNoaWZ0KCkvL2tlZXAgZ29pbmdcbiAgfVxuXG4gIC8vIHBvcCBhbnkgcHVuY3R1YXRpb24gb2ZmIG9mIHRoZSBlbmRcbiAgbGVuID0gY2hhcnMubGVuZ3RoXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICBsZXQgYyA9IGNoYXJzW2NoYXJzLmxlbmd0aCAtIDFdXG4gICAgLy8ga2VlcCBhbnkgZGVjbGFyZWQgY2hhcnNcbiAgICBpZiAocG9zdFB1bmN0dWF0aW9uW2NdID09PSB0cnVlKSB7XG4gICAgICBjb250aW51ZS8va2VlcCBpdFxuICAgIH1cbiAgICAvLyBzdGFydCBvZiB3b3JkXG4gICAgaWYgKGlzTGV0dGVyLnRlc3QoYykgfHwgaXNOdW1iZXIudGVzdChjKSkge1xuICAgICAgYnJlYWsgLy9kb25lXG4gICAgfVxuICAgIC8vIEYuQi5JLlxuICAgIGlmIChjID09PSAnLicgJiYgaGFzQWNyb255bS50ZXN0KG9yaWdpbmFsKSA9PT0gdHJ1ZSkge1xuICAgICAgY29udGludWUvL2tlZXAgaXRcbiAgICB9XG4gICAgLy8gIGtlZXAgcy1hcG9zdHJvcGhlIC0gXCJmbGFuZGVycydcIiBvciBcImNoaWxsaW4nXCJcbiAgICBpZiAoYyA9PT0gXCInXCIgJiYgY2hpbGxpbi50ZXN0KG9yaWdpbmFsKSA9PT0gdHJ1ZSkge1xuICAgICAgY29udGludWUvL2tlZXAgaXRcbiAgICB9XG4gICAgLy8gcHVuY3R1YXRpb25cbiAgICBwb3N0ID0gY2hhcnMucG9wKCkgKyBwb3N0Ly9rZWVwIGdvaW5nXG4gIH1cbiAgc3RyID0gY2hhcnMuam9pbignJylcbiAgLy93ZSB3ZW50IHRvbyBmYXIuLlxuICBpZiAoc3RyID09PSAnJykge1xuICAgIC8vIGRvIGEgdmVyeSBtaWxkIHBhcnNlLCBhbmQgaG9wZSBmb3IgdGhlIGJlc3QuXG4gICAgb3JpZ2luYWwgPSBvcmlnaW5hbC5yZXBsYWNlKC8gKiQvLCBhZnRlciA9PiB7XG4gICAgICBwb3N0ID0gYWZ0ZXIgfHwgJydcbiAgICAgIHJldHVybiAnJ1xuICAgIH0pXG4gICAgc3RyID0gb3JpZ2luYWxcbiAgICBwcmUgPSAnJ1xuICB9XG4gIHJldHVybiB7IHN0ciwgcHJlLCBwb3N0IH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5vcm1hbGl6ZVB1bmN0dWF0aW9uXG4iLCAiaW1wb3J0IHRva2VuaXplIGZyb20gJy4vdG9rZW5pemUuanMnXG5cbmNvbnN0IHBhcnNlVGVybSA9ICh0eHQsIG1vZGVsKSA9PiB7XG4gIC8vIGNsZWFudXAgYW55IHB1bmN0dWF0aW9uIGFzIHdoaXRlc3BhY2VcbiAgbGV0IHsgc3RyLCBwcmUsIHBvc3QgfSA9IHRva2VuaXplKHR4dCwgbW9kZWwpXG4gIGNvbnN0IHBhcnNlZCA9IHtcbiAgICB0ZXh0OiBzdHIsXG4gICAgcHJlOiBwcmUsXG4gICAgcG9zdDogcG9zdCxcbiAgICB0YWdzOiBuZXcgU2V0KCksXG4gIH1cbiAgcmV0dXJuIHBhcnNlZFxufVxuZXhwb3J0IGRlZmF1bHQgcGFyc2VUZXJtXG4iLCAiLy8gJ0JqXHUwMEY2cmsnIHRvICdCam9yaycuXG5jb25zdCBraWxsVW5pY29kZSA9IGZ1bmN0aW9uIChzdHIsIHdvcmxkKSB7XG4gIGNvbnN0IHVuaWNvZGUgPSB3b3JsZC5tb2RlbC5vbmUudW5pY29kZSB8fCB7fVxuICBzdHIgPSBzdHIgfHwgJydcbiAgbGV0IGNoYXJzID0gc3RyLnNwbGl0KCcnKVxuICBjaGFycy5mb3JFYWNoKChzLCBpKSA9PiB7XG4gICAgaWYgKHVuaWNvZGVbc10pIHtcbiAgICAgIGNoYXJzW2ldID0gdW5pY29kZVtzXVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG59XG5leHBvcnQgZGVmYXVsdCBraWxsVW5pY29kZVxuIiwgIi8qKiBzb21lIGJhc2ljIG9wZXJhdGlvbnMgb24gYSBzdHJpbmcgdG8gcmVkdWNlIG5vaXNlICovXG5jb25zdCBjbGVhbiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgc3RyID0gc3RyIHx8ICcnXG4gIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpXG4gIHN0ciA9IHN0ci50cmltKClcbiAgbGV0IG9yaWdpbmFsID0gc3RyXG4gIC8vcHVuY3R1YXRpb25cbiAgc3RyID0gc3RyLnJlcGxhY2UoL1ssOy4hP10rJC8sICcnKVxuICAvL2NvZXJjZSBVbmljb2RlIGVsbGlwc2VzXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC9cXHUyMDI2L2csICcuLi4nKVxuICAvL2VuLWRhc2hcbiAgc3RyID0gc3RyLnJlcGxhY2UoL1xcdTIwMTMvZywgJy0nKVxuICAvL3N0cmlwIGxlYWRpbmcgJiB0cmFpbGluZyBncmFtbWF0aWNhbCBwdW5jdHVhdGlvblxuICBpZiAoL15bOjtdLy50ZXN0KHN0cikgPT09IGZhbHNlKSB7XG4gICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcLnszLH0kL2csICcnKVxuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9bXCIsLiE6Oz8pXSskL2csICcnKVxuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9eWydcIihdKy9nLCAnJylcbiAgfVxuICAvLyByZW1vdmUgemVyby13aWR0aCBjaGFyYWN0ZXJzXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC9bXFx1MjAwQi1cXHUyMDBEXFx1RkVGRl0vZywgJycpXG4gIC8vZG8gdGhpcyBhZ2Fpbi4uXG4gIHN0ciA9IHN0ci50cmltKClcbiAgLy9vaCBzaHVja3MsXG4gIGlmIChzdHIgPT09ICcnKSB7XG4gICAgc3RyID0gb3JpZ2luYWxcbiAgfVxuICAvL25vLWNvbW1hcyBpbiBudW1iZXJzXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC8oWzAtOV0pLChbMC05XSkvZywgJyQxJDInKVxuICByZXR1cm4gc3RyXG59XG5leHBvcnQgZGVmYXVsdCBjbGVhblxuIiwgIi8vIGRvIGFjcm9ueW1zIG5lZWQgdG8gYmUgQVNDSUk/ICAuLi4ga2luZCBvZj9cbmNvbnN0IHBlcmlvZEFjcm9ueW0gPSAvKFtBLVpdXFwuKStbQS1aXT8sPyQvXG5jb25zdCBvbmVMZXR0ZXJBY3JvbnltID0gL15bQS1aXVxcLiw/JC9cbmNvbnN0IG5vUGVyaW9kQWNyb255bSA9IC9bQS1aXXsyLH0oJ3N8LCk/JC9cbmNvbnN0IGxvd2VyQ2FzZUFjcm9ueW0gPSAvKFthLXpdXFwuKStbYS16XVxcLj8kL1xuXG5jb25zdCBpc0Fjcm9ueW0gPSBmdW5jdGlvbiAoc3RyKSB7XG4gIC8vbGlrZSBOLkQuQVxuICBpZiAocGVyaW9kQWNyb255bS50ZXN0KHN0cikgPT09IHRydWUpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vbGlrZSBjLmUub1xuICBpZiAobG93ZXJDYXNlQWNyb255bS50ZXN0KHN0cikgPT09IHRydWUpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIC8vbGlrZSAnRi4nXG4gIGlmIChvbmVMZXR0ZXJBY3JvbnltLnRlc3Qoc3RyKSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgLy9saWtlIE5EQVxuICBpZiAobm9QZXJpb2RBY3JvbnltLnRlc3Qoc3RyKSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmNvbnN0IGRvQWNyb255bSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgaWYgKGlzQWNyb255bShzdHIpKSB7XG4gICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcLi9nLCAnJylcbiAgfVxuICByZXR1cm4gc3RyXG59XG5leHBvcnQgZGVmYXVsdCBkb0Fjcm9ueW1cbiIsICJpbXBvcnQgY2xlYW51cCBmcm9tICcuLzAxLWNsZWFudXAuanMnXG4vLyBpbXBvcnQgZG9Vbmljb2RlIGZyb20gJy4vMDItdW5pY29kZS5qcydcbmltcG9ydCBkb0Fjcm9ueW1zIGZyb20gJy4vMDItYWNyb255bXMuanMnXG5cbmNvbnN0IG5vcm1hbGl6ZSA9IGZ1bmN0aW9uICh0ZXJtLCB3b3JsZCkge1xuICBjb25zdCBraWxsVW5pY29kZSA9IHdvcmxkLm1ldGhvZHMub25lLmtpbGxVbmljb2RlXG4gIC8vIGNvbnNvbGUubG9nKHdvcmxkLm1ldGhvZHMub25lKVxuICBsZXQgc3RyID0gdGVybS50ZXh0IHx8ICcnXG4gIHN0ciA9IGNsZWFudXAoc3RyKVxuICAvLyh2ZXJ5KSByb3VnaCBBU0NJSSB0cmFuc2xpdGVyYXRpb24gLSAgYmpcdTAxNEZyayAtPiBiam9ya1xuICBzdHIgPSBraWxsVW5pY29kZShzdHIsIHdvcmxkKVxuICBzdHIgPSBkb0Fjcm9ueW1zKHN0cilcbiAgdGVybS5ub3JtYWwgPSBzdHJcbn1cbmV4cG9ydCBkZWZhdWx0IG5vcm1hbGl6ZVxuIiwgImltcG9ydCBub3JtYWxpemUgZnJvbSAnLi4vY29tcHV0ZS9ub3JtYWwvaW5kZXguanMnXG5cbi8vIHR1cm4gYSBzdHJpbmcgaW5wdXQgaW50byBhICdkb2N1bWVudCcganNvbiBmb3JtYXRcbmNvbnN0IHBhcnNlID0gZnVuY3Rpb24gKGlucHV0LCB3b3JsZCkge1xuICBjb25zdCB7IG1ldGhvZHMsIG1vZGVsIH0gPSB3b3JsZFxuICBjb25zdCB7IHNwbGl0U2VudGVuY2VzLCBzcGxpdFRlcm1zLCBzcGxpdFdoaXRlc3BhY2UgfSA9IG1ldGhvZHMub25lLnRva2VuaXplXG4gIGlucHV0ID0gaW5wdXQgfHwgJydcbiAgLy8gc3BsaXQgaW50byBzZW50ZW5jZXNcbiAgbGV0IHNlbnRlbmNlcyA9IHNwbGl0U2VudGVuY2VzKGlucHV0LCB3b3JsZClcbiAgLy8gc3BsaXQgaW50byB3b3JkIG9iamVjdHNcbiAgaW5wdXQgPSBzZW50ZW5jZXMubWFwKCh0eHQpID0+IHtcbiAgICBsZXQgdGVybXMgPSBzcGxpdFRlcm1zKHR4dCwgbW9kZWwpXG4gICAgLy8gc3BsaXQgaW50byBbcHJlLXRleHQtcG9zdF1cbiAgICB0ZXJtcyA9IHRlcm1zLm1hcCh0ID0+IHNwbGl0V2hpdGVzcGFjZSh0LCBtb2RlbCkpXG4gICAgLy8gYWRkIG5vcm1hbGl6ZWQgdGVybSBmb3JtYXQsIGFsd2F5c1xuICAgIHRlcm1zLmZvckVhY2goKHQpID0+IHtcbiAgICAgIG5vcm1hbGl6ZSh0LCB3b3JsZClcbiAgICB9KVxuICAgIHJldHVybiB0ZXJtc1xuICB9KVxuICByZXR1cm4gaW5wdXRcbn1cbmV4cG9ydCBkZWZhdWx0IHBhcnNlIiwgImNvbnN0IGlzQWNyb255bSA9IC9bIC5dW0EtWl1cXC4/ICokL2kgLy9hc2NpIC0gJ24ucy5hLidcbmNvbnN0IGhhc0VsbGlwc2UgPSAvKD86XFx1MjAyNnxcXC57Mix9KSAqJC8gLy8gJy4uLidcbmNvbnN0IGhhc0xldHRlciA9IC9cXHB7TH0vdVxuY29uc3QgaGFzUGVyaW9kID0gL1xcLiAqJC9cbmNvbnN0IGxlYWRJbml0ID0gL15bQS1aXVxcLiAkLyAvLyBcIlcuIEtlbnNpbmd0b25cIlxuXG4vKiogZG9lcyB0aGlzIGxvb2sgbGlrZSBhIHNlbnRlbmNlPyAqL1xuY29uc3QgaXNTZW50ZW5jZSA9IGZ1bmN0aW9uIChzdHIsIGFiYnJldnMpIHtcbiAgLy8gbXVzdCBoYXZlIGEgbGV0dGVyXG4gIGlmIChoYXNMZXR0ZXIudGVzdChzdHIpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIC8vIGNoZWNrIGZvciAnRi5CLkkuJ1xuICBpZiAoaXNBY3JvbnltLnRlc3Qoc3RyKSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIC8vIGNoZWNrIGZvciBsZWFkaW5nIGluaXRpYWwgLSBcIlcuIEtlbnNpbmd0b25cIlxuICBpZiAoc3RyLmxlbmd0aCA9PT0gMyAmJiBsZWFkSW5pdC50ZXN0KHN0cikpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvL2NoZWNrIGZvciAnLi4uJ1xuICBpZiAoaGFzRWxsaXBzZS50ZXN0KHN0cikgPT09IHRydWUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBsZXQgdHh0ID0gc3RyLnJlcGxhY2UoL1suIT9cXHUyMDNEXFx1MkUxOFxcdTIwM0NcXHUyMDQ3LVxcdTIwNDldICokLywgJycpXG4gIGxldCB3b3JkcyA9IHR4dC5zcGxpdCgnICcpXG4gIGxldCBsYXN0V29yZCA9IHdvcmRzW3dvcmRzLmxlbmd0aCAtIDFdLnRvTG93ZXJDYXNlKClcbiAgLy8gY2hlY2sgZm9yICdNci4nIChhbmQgbm90IG1yPylcbiAgaWYgKGFiYnJldnMuaGFzT3duUHJvcGVydHkobGFzdFdvcmQpID09PSB0cnVlICYmIGhhc1BlcmlvZC50ZXN0KHN0cikgPT09IHRydWUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvLyAvL2NoZWNrIGZvciBqZW9wYXJkeSFcbiAgLy8gaWYgKGJsYWNrbGlzdC5oYXNPd25Qcm9wZXJ0eShsYXN0V29yZCkpIHtcbiAgLy8gICByZXR1cm4gZmFsc2VcbiAgLy8gfVxuICByZXR1cm4gdHJ1ZVxufVxuZXhwb3J0IGRlZmF1bHQgaXNTZW50ZW5jZVxuIiwgImltcG9ydCBzcGxpdFNlbnRlbmNlcyBmcm9tICcuLzAxLXNlbnRlbmNlcy9pbmRleC5qcydcbmltcG9ydCBzcGxpdFRlcm1zIGZyb20gJy4vMDItdGVybXMvaW5kZXguanMnXG5pbXBvcnQgc3BsaXRXaGl0ZXNwYWNlIGZyb20gJy4vMDMtd2hpdGVzcGFjZS9pbmRleC5qcydcbmltcG9ydCBraWxsVW5pY29kZSBmcm9tICcuL3VuaWNvZGUuanMnXG5pbXBvcnQgZnJvbVN0cmluZyBmcm9tICcuL3BhcnNlLmpzJ1xuaW1wb3J0IGlzU2VudGVuY2UgZnJvbSAnLi8wMS1zZW50ZW5jZXMvaXMtc2VudGVuY2UuanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgb25lOiB7XG4gICAga2lsbFVuaWNvZGUsXG4gICAgdG9rZW5pemU6IHtcbiAgICAgIHNwbGl0U2VudGVuY2VzLFxuICAgICAgaXNTZW50ZW5jZSxcbiAgICAgIHNwbGl0VGVybXMsXG4gICAgICBzcGxpdFdoaXRlc3BhY2UsXG4gICAgICBmcm9tU3RyaW5nLFxuICAgIH0sXG4gIH0sXG59XG4iLCAiY29uc3QgYWxpYXNlcyA9IHtcbiAgJyYnOiAnYW5kJyxcbiAgJ0AnOiAnYXQnLFxuICAnJSc6ICdwZXJjZW50JyxcbiAgJ3Bseic6ICdwbGVhc2UnLFxuICAnYmVpbic6ICdiZWluZycsXG59XG5leHBvcnQgZGVmYXVsdCBhbGlhc2VzXG4iLCAiZXhwb3J0IGRlZmF1bHQgW1xuICAnYXBwcm94JyxcbiAgJ2FwdCcsXG4gICdiYycsXG4gICdjeW4nLFxuICAnZWcnLFxuICAnZXNwJyxcbiAgJ2VzdCcsXG4gICdldGMnLFxuICAnZXgnLFxuICAnZXhwJyxcbiAgJ3Byb2InLCAvL3Byb2JhYmx5XG4gICdwcm9uJywgLy8gUHJvbnVuY2lhdGlvblxuICAnZ2FsJywgLy9nYWxsb25cbiAgJ21pbicsXG4gICdwc2V1ZCcsXG4gICdmaWcnLCAvL2ZpZ3VyZVxuICAnamQnLFxuICAnbGF0JywgLy9sYXRpdHVkZVxuICAnbG5nJywgLy9sb25naXR1ZGVcbiAgJ3ZvbCcsIC8vdm9sdW1lXG4gICdmbScsIC8vbm90IGFtXG4gICdkZWYnLCAvL2RlZmluaXRpb25cbiAgJ21pc2MnLFxuICAncGx6JywgLy9wbGVhc2VcbiAgJ2VhJywgLy9lYWNoXG4gICdwcycsXG4gICdzZWMnLCAvL3NlY29uZFxuICAncHQnLFxuICAncHJlZicsIC8vcHJlZmFjZVxuICAncGwnLCAvL3BsdXJhbFxuICAncHAnLCAvL3BhZ2VzXG4gICdxdCcsIC8vcXVhcnRlclxuICAnZnInLCAvL2ZyZW5jaFxuICAnc3EnLFxuICAnbmVlJywgLy9naXZlbiBuYW1lIGF0IGJpcnRoXG4gICdzcycsIC8vc2hpcCwgb3Igc2VjdGlvbnNcbiAgJ3RlbCcsXG4gICd0ZW1wJyxcbiAgJ3ZldCcsXG4gICd2ZXInLCAvL3ZlcnNpb25cbiAgJ2ZlbScsIC8vZmVtaW5pbmVcbiAgJ21hc2MnLCAvL21hc2N1bGluZVxuICAnZW5nJywgLy9lbmdpbmVlcmluZy9lbmdsaXNoXG4gICdhZGonLCAvL2FkamVjdGl2ZVxuICAndmInLCAvL3ZlcmJcbiAgJ3JiJywgLy9hZHZlcmJcbiAgJ2luZicsIC8vaW5maW5pdGl2ZVxuICAnc2l0dScsIC8vIGluIHNpdHVcbiAgJ3Zpdm8nLFxuICAndml0cm8nLFxuICAnd3InLCAvL3dvcmxkIHJlY29yZFxuXVxuIiwgImV4cG9ydCBkZWZhdWx0IFtcbiAgJ2FkaicsXG4gICdhZG0nLFxuICAnYWR2JyxcbiAgJ2Fzc3QnLFxuICAnYXR0eScsXG4gICdibGRnJyxcbiAgJ2JyaWcnLFxuICAnY2FwdCcsXG4gICdjbWRyJyxcbiAgJ2NvbWRyJyxcbiAgJ2NwbCcsXG4gICdkZXQnLFxuICAnZHInLFxuICAnZXNxJyxcbiAgJ2dlbicsXG4gICdnb3YnLFxuICAnaG9uJyxcbiAgJ2pyJyxcbiAgJ2xsYicsXG4gICdsdCcsXG4gICdtYWonLFxuICAnbWVzc3JzJyxcbiAgJ21sbGUnLFxuICAnbW1lJyxcbiAgJ21yJyxcbiAgJ21ycycsXG4gICdtcycsXG4gICdtc3RyJyxcbiAgJ3BoZCcsXG4gICdwcm9mJyxcbiAgJ3B2dCcsXG4gICdyZXAnLFxuICAncmVwcycsXG4gICdyZXMnLFxuICAncmV2JyxcbiAgJ3NlbicsXG4gICdzZW5zJyxcbiAgJ3NmYycsXG4gICdzZ3QnLFxuICAnc2lyJyxcbiAgJ3NyJyxcbiAgJ3N1cHQnLFxuICAnc3VyZydcbiAgLy9taXNzXG4gIC8vbWlzc2VzXG5dXG4iLCAiZXhwb3J0IGRlZmF1bHQgWydqYW4nLCAnZmViJywgJ21hcicsICdhcHInLCAnanVuJywgJ2p1bCcsICdhdWcnLCAnc2VwJywgJ3NlcHQnLCAnb2N0JywgJ25vdicsICdkZWMnXVxuIiwgImV4cG9ydCBkZWZhdWx0IFtcbiAgJ2FkJyxcbiAgJ2FsJyxcbiAgJ2FyYycsXG4gICdiYScsXG4gICdibCcsXG4gICdjYScsXG4gICdjY2EnLFxuICAnY29sJyxcbiAgJ2NvcnAnLFxuICAnZnQnLFxuICAnZnknLFxuICAnaWUnLFxuICAnbGl0JyxcbiAgJ21hJyxcbiAgJ21kJyxcbiAgJ3BkJyxcbiAgJ3RjZScsXG5dXG4iLCAiZXhwb3J0IGRlZmF1bHQgWydkZXB0JywgJ3VuaXYnLCAnYXNzbicsICdicm9zJywgJ2luYycsICdsdGQnLCAnY28nXVxuIiwgImV4cG9ydCBkZWZhdWx0IFtcbiAgJ3JkJyxcbiAgJ3N0JyxcbiAgJ2Rpc3QnLFxuICAnbXQnLFxuICAnYXZlJyxcbiAgJ2JsdmQnLFxuICAnY2wnLFxuICAvLyAnY3QnLFxuICAnY3JlcycsXG4gICdod3knLFxuICAvL3N0YXRlc1xuICAnYXJpeicsXG4gICdjYWwnLFxuICAnY2FsaWYnLFxuICAnY29sbycsXG4gICdjb25uJyxcbiAgJ2ZsYScsXG4gICdmbCcsXG4gICdnYScsXG4gICdpZGEnLFxuICAnaWEnLFxuICAna2FuJyxcbiAgJ2thbnMnLFxuXG4gICdtaW5uJyxcbiAgJ25lYicsXG4gICduZWJyJyxcbiAgJ29rbGEnLFxuICAncGVubmEnLFxuICAncGVubicsXG4gICdwYScsXG4gICdkYWsnLFxuICAndGVubicsXG4gICd0ZXgnLFxuICAndXQnLFxuICAndnQnLFxuICAndmEnLFxuICAnd2lzJyxcbiAgJ3dpc2MnLFxuICAnd3knLFxuICAnd3lvJyxcbiAgJ3VzYWZhJyxcbiAgJ2FsdGEnLFxuICAnb250JyxcbiAgJ3F1ZScsXG4gICdzYXNrJyxcbl1cbiIsICIvLyB1bml0cyB0aGF0IGFyZSBhYmJyZXZpYXRpb25zIHRvb1xuZXhwb3J0IGRlZmF1bHQgW1xuICAnZGwnLFxuICAnbWwnLFxuICAnZ2FsJyxcbiAgLy8gJ2Z0JywgLy9hbWJpZ3VvdXNcbiAgJ3F0JyxcbiAgJ3B0JyxcbiAgJ3RibCcsXG4gICd0c3AnLFxuICAndGJzcCcsXG4gICdrbScsXG4gICdkbScsIC8vZGVjaW1ldGVyXG4gICdjbScsXG4gICdtbScsXG4gICdtaScsXG4gICd0ZCcsXG4gICdocicsIC8vaG91clxuICAnaHJzJywgLy9ob3VyXG4gICdrZycsXG4gICdoZycsXG4gICdkZycsIC8vZGVjaWdyYW1cbiAgJ2NnJywgLy9jZW50aWdyYW1cbiAgJ21nJywgLy9taWxsaWdyYW1cbiAgJ1x1MDBCNWcnLCAvL21pY3JvZ3JhbVxuICAnbGInLCAvL3BvdW5kXG4gICdveicsIC8vb3VuY2VcbiAgJ3NxIGZ0JyxcbiAgJ2h6JywgLy9oZXJ0elxuICAnbXBzJywgLy9tZXRlcnMgcGVyIHNlY29uZFxuICAnbXBoJyxcbiAgJ2ttcGgnLCAvL2tpbG9tZXRlcnMgcGVyIGhvdXJcbiAgJ2tiJywgLy9raWxvYnl0ZVxuICAnbWInLCAvL21lZ2FieXRlXG4gIC8vICdnYicsIC8vYW1iaWdcbiAgJ3RiJywgLy90ZXJhYnl0ZVxuICAnbHgnLCAvL2x1eFxuICAnbG0nLCAvL2x1bWVuXG4gIC8vICdwYScsIC8vYW1iaWdcbiAgJ2ZsIG96JywgLy9cbiAgJ3liJyxcbl1cbiIsICJpbXBvcnQgbWlzYyBmcm9tICcuL2FiYnJldmlhdGlvbnMvbWlzYy5qcydcbmltcG9ydCBob25vcmlmaWNzIGZyb20gJy4vYWJicmV2aWF0aW9ucy9ob25vcmlmaWNzLmpzJ1xuaW1wb3J0IG1vbnRocyBmcm9tICcuL2FiYnJldmlhdGlvbnMvbW9udGhzLmpzJ1xuaW1wb3J0IG5vdW5zIGZyb20gJy4vYWJicmV2aWF0aW9ucy9ub3Vucy5qcydcbmltcG9ydCBvcmdhbml6YXRpb25zIGZyb20gJy4vYWJicmV2aWF0aW9ucy9vcmdhbml6YXRpb25zLmpzJ1xuaW1wb3J0IHBsYWNlcyBmcm9tICcuL2FiYnJldmlhdGlvbnMvcGxhY2VzLmpzJ1xuaW1wb3J0IHVuaXRzIGZyb20gJy4vYWJicmV2aWF0aW9ucy91bml0cy5qcydcblxuLy8gYWRkIG91ciBhYmJyZXZpYXRpb24gbGlzdCB0byBvdXIgbGV4aWNvblxubGV0IGxpc3QgPSBbXG4gIFttaXNjXSxcbiAgW3VuaXRzLCAnVW5pdCddLFxuICBbbm91bnMsICdOb3VuJ10sXG4gIFtob25vcmlmaWNzLCAnSG9ub3JpZmljJ10sXG4gIFttb250aHMsICdNb250aCddLFxuICBbb3JnYW5pemF0aW9ucywgJ09yZ2FuaXphdGlvbiddLFxuICBbcGxhY2VzLCAnUGxhY2UnXSxcbl1cbi8vIGNyZWF0ZSBrZXktdmFsIGZvciBzZW50ZW5jZS10b2tlbml6ZXJcbmxldCBhYmJyZXZpYXRpb25zID0ge31cbi8vIGFkZCB0aGVtIHRvIGEgZnV0dXJlIGxleGljb25cbmxldCBsZXhpY29uID0ge31cblxubGlzdC5mb3JFYWNoKGEgPT4ge1xuICBhWzBdLmZvckVhY2godyA9PiB7XG4gICAgLy8gc2VudGVuY2UgYWJicmV2c1xuICAgIGFiYnJldmlhdGlvbnNbd10gPSB0cnVlXG4gICAgLy8gZnV0dXJlLWxleGljb25cbiAgICBsZXhpY29uW3ddID0gJ0FiYnJldmlhdGlvbidcbiAgICBpZiAoYVsxXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXhpY29uW3ddID0gW2xleGljb25bd10sIGFbMV1dXG4gICAgfVxuICB9KVxufSlcblxuZXhwb3J0IHsgbGV4aWNvbiwgYWJicmV2aWF0aW9ucyB9XG4iLCAiLy8gZGFzaGVkIHByZWZpeGVzIHRoYXQgYXJlIG5vdCBpbmRlcGVuZGVudCB3b3Jkc1xuLy8gICdtaWQtY2VudHVyeScsICdwcmUtaGlzdG9yeSdcbmV4cG9ydCBkZWZhdWx0IFtcbiAgJ2FudGknLFxuICAnYmknLFxuICAnY28nLFxuICAnY29udHJhJyxcbiAgJ2RlJyxcbiAgJ2V4dHJhJyxcbiAgJ2luZnJhJyxcbiAgJ2ludGVyJyxcbiAgJ2ludHJhJyxcbiAgJ21hY3JvJyxcbiAgJ21pY3JvJyxcbiAgJ21pcycsXG4gICdtb25vJyxcbiAgJ211bHRpJyxcbiAgJ3BlcmknLFxuICAncHJlJyxcbiAgJ3BybycsXG4gICdwcm90bycsXG4gICdwc2V1ZG8nLFxuICAncmUnLFxuICAnc3ViJyxcbiAgJ3N1cHJhJyxcbiAgJ3RyYW5zJyxcbiAgJ3RyaScsXG4gICd1bicsXG4gICdvdXQnLCAvL291dC1saXZlZFxuICAnZXgnLC8vZXgtd2lmZVxuXG4gIC8vICdjb3VudGVyJyxcbiAgLy8gJ21pZCcsXG4gIC8vICdvdXQnLFxuICAvLyAnbm9uJyxcbiAgLy8gJ292ZXInLFxuICAvLyAncG9zdCcsXG4gIC8vICdzZW1pJyxcbiAgLy8gJ3N1cGVyJywgLy8nc3VwZXItY29vbCdcbiAgLy8gJ3VsdHJhJywgLy8ndWx0YS1jb29sJ1xuICAvLyAndW5kZXInLFxuICAvLyAnd2hvbGUnLFxuXS5yZWR1Y2UoKGgsIHN0cikgPT4ge1xuICBoW3N0cl0gPSB0cnVlXG4gIHJldHVybiBoXG59LCB7fSkiLCAiLy8gZGFzaGVkIHN1ZmZpeGVzIHRoYXQgYXJlIG5vdCBpbmRlcGVuZGVudCB3b3Jkc1xuLy8gICdmbG93ZXItbGlrZScsICdwcmVzaWRlbnQtZWxlY3QnXG5leHBvcnQgZGVmYXVsdCB7XG4gICdsaWtlJzogdHJ1ZSxcbiAgJ2lzaCc6IHRydWUsXG4gICdsZXNzJzogdHJ1ZSxcbiAgJ2FibGUnOiB0cnVlLFxuICAnZWxlY3QnOiB0cnVlLFxuICAndHlwZSc6IHRydWUsXG4gICdkZXNpZ25hdGUnOiB0cnVlLFxuICAvLyAnZm9sZCc6dHJ1ZSxcbn0iLCAiLy9hIGh1Z2VseS1pZ25vcmFudCwgYW5kIHdpZGVseSBzdWJqZWN0aXZlIHRyYW5zbGl0ZXJhdGlvbiBvZiBsYXRpbiwgY3J5bGxpYywgZ3JlZWsgdW5pY29kZSBjaGFyYWN0ZXJzIHRvIGVuZ2xpc2ggYXNjaWkuXG4vL2FwcHJveGltYXRlIHZpc3VhbCAobm90IHNlbWFudGljIG9yIHBob25ldGljKSByZWxhdGlvbnNoaXAgYmV0d2VlbiB1bmljb2RlIGFuZCBhc2NpaSBjaGFyYWN0ZXJzXG4vL2h0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9Vbmljb2RlX2NoYXJhY3RlcnNcbi8vaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXQvY2NjP2tleT0wQWg0Nno3NTVqN2NWZEZSRE0xQTJZVnB3YTFaWVdscEpNMnBRWjAwM00wRVxubGV0IGNvbXBhY3QgPSB7XG4gICchJzogJ1x1MDBBMScsXG4gICc/JzogJ1x1MDBCRlx1MDI0MScsXG4gICdcIic6ICdcdTIwMUNcdTIwMURcIlx1Mjc1RFx1Mjc1RScsXG4gIFwiJ1wiOiAnXHUyMDE4XHUyMDFCXHUyNzVCXHUyNzVDXHUyMDE5JyxcbiAgJy0nOiAnXHUyMDE0XHUyMDEzJyxcbiAgYTogJ1x1MDBBQVx1MDBDMFx1MDBDMVx1MDBDMlx1MDBDM1x1MDBDNFx1MDBDNVx1MDBFMFx1MDBFMVx1MDBFMlx1MDBFM1x1MDBFNFx1MDBFNVx1MDEwMFx1MDEwMVx1MDEwMlx1MDEwM1x1MDEwNFx1MDEwNVx1MDFDRFx1MDFDRVx1MDFERVx1MDFERlx1MDFFMFx1MDFFMVx1MDFGQVx1MDFGQlx1MDIwMFx1MDIwMVx1MDIwMlx1MDIwM1x1MDIyNlx1MDIyN1x1MDIzQVx1MDM4Nlx1MDM5MVx1MDM5NFx1MDM5Qlx1MDNBQ1x1MDNCMVx1MDNCQlx1MDQxMFx1MDQzMFx1MDQ2Nlx1MDQ2N1x1MDREMFx1MDREMVx1MDREMlx1MDREM1x1MDE5Qlx1MDBFNicsXG4gIGI6ICdcdTAwREZcdTAwRkVcdTAxODBcdTAxODFcdTAxODJcdTAxODNcdTAxODRcdTAxODVcdTAyNDNcdTAzOTJcdTAzQjJcdTAzRDBcdTAzRTZcdTA0MTFcdTA0MTJcdTA0MkFcdTA0MkNcdTA0MzJcdTA0NEFcdTA0NENcdTA0NjJcdTA0NjNcdTA0OENcdTA0OEQnLFxuICBjOiAnXHUwMEEyXHUwMEE5XHUwMEM3XHUwMEU3XHUwMTA2XHUwMTA3XHUwMTA4XHUwMTA5XHUwMTBBXHUwMTBCXHUwMTBDXHUwMTBEXHUwMTg2XHUwMTg3XHUwMTg4XHUwMjNCXHUwMjNDXHUwMzdCXHUwMzdDXHUwM0YyXHUwM0Y5XHUwM0ZEXHUwM0ZFXHUwNDIxXHUwNDQxXHUwNDU0XHUwNDgwXHUwNDgxXHUwNEFBXHUwNEFCJyxcbiAgZDogJ1x1MDBEMFx1MDEwRVx1MDEwRlx1MDExMFx1MDExMVx1MDE4OVx1MDE4QVx1MDIyMVx1MDE4Qlx1MDE4QycsXG4gIGU6ICdcdTAwQzhcdTAwQzlcdTAwQ0FcdTAwQ0JcdTAwRThcdTAwRTlcdTAwRUFcdTAwRUJcdTAxMTJcdTAxMTNcdTAxMTRcdTAxMTVcdTAxMTZcdTAxMTdcdTAxMThcdTAxMTlcdTAxMUFcdTAxMUJcdTAxOTBcdTAyMDRcdTAyMDVcdTAyMDZcdTAyMDdcdTAyMjhcdTAyMjlcdTAyNDZcdTAyNDdcdTAzODhcdTAzOTVcdTAzOUVcdTAzQTNcdTAzQURcdTAzQjVcdTAzQkVcdTAzRjVcdTA0MDBcdTA0MDFcdTA0MTVcdTA0MzVcdTA0NTBcdTA0NTFcdTA0QkNcdTA0QkRcdTA0QkVcdTA0QkZcdTA0RDZcdTA0RDdcdTFFQzUnLFxuICBmOiAnXHUwMTkxXHUwMTkyXHUwM0RDXHUwM0REXHUwNEZBXHUwNEZCXHUwNDkyXHUwNDkzXHUwMTdGJyxcbiAgZzogJ1x1MDExQ1x1MDExRFx1MDExRVx1MDExRlx1MDEyMFx1MDEyMVx1MDEyMlx1MDEyM1x1MDE5M1x1MDFFNFx1MDFFNVx1MDFFNlx1MDFFN1x1MDFGNFx1MDFGNScsXG4gIGg6ICdcdTAxMjRcdTAxMjVcdTAxMjZcdTAxMjdcdTAxOTVcdTAxRjZcdTAyMUVcdTAyMUZcdTAzODlcdTAzOTdcdTA0MDJcdTA0MEFcdTA0MEJcdTA0MURcdTA0M0RcdTA0NTJcdTA0NUJcdTA0QTJcdTA0QTNcdTA0QTRcdTA0QTVcdTA0QkFcdTA0QkJcdTA0QzlcdTA0Q0EnLFxuICBJOiAnXHUwMENDXHUwMENEXHUwMENFXHUwMENGJyxcbiAgaTogJ1x1MDBFQ1x1MDBFRFx1MDBFRVx1MDBFRlx1MDEyOFx1MDEyOVx1MDEyQVx1MDEyQlx1MDEyQ1x1MDEyRFx1MDEyRVx1MDEyRlx1MDEzMFx1MDEzMVx1MDE5Nlx1MDE5N1x1MDIwOFx1MDIwOVx1MDIwQVx1MDIwQlx1MDM4QVx1MDM5MFx1MDNBQVx1MDNBRlx1MDNCOVx1MDNDQVx1MDQwNlx1MDQwN1x1MDQ1Nlx1MDQ1N2lcdTAzMDcnLFxuICBqOiAnXHUwMTM0XHUwMTM1XHUwMUYwXHUwMjM3XHUwMjQ4XHUwMjQ5XHUwM0YzXHUwNDA4XHUwNDU4JyxcbiAgazogJ1x1MDEzNlx1MDEzN1x1MDEzOFx1MDE5OFx1MDE5OVx1MDFFOFx1MDFFOVx1MDM5QVx1MDNCQVx1MDQwQ1x1MDQxNlx1MDQxQVx1MDQzNlx1MDQzQVx1MDQ1Q1x1MDQ5QVx1MDQ5Qlx1MDQ5Q1x1MDQ5RFx1MDQ5RVx1MDQ5Rlx1MDRBMFx1MDRBMScsXG4gIGw6ICdcdTAxMzlcdTAxM0FcdTAxM0JcdTAxM0NcdTAxM0RcdTAxM0VcdTAxM0ZcdTAxNDBcdTAxNDFcdTAxNDJcdTAxOUFcdTAxQUFcdTAxQzBcdTAxQ0ZcdTAxRDBcdTAyMzRcdTAyM0RcdTAzOTlcdTA0QzBcdTA0Q0YnLFxuICBtOiAnXHUwMzlDXHUwM0ZBXHUwM0ZCXHUwNDFDXHUwNDNDXHUwNENEXHUwNENFJyxcbiAgbjogJ1x1MDBEMVx1MDBGMVx1MDE0M1x1MDE0NFx1MDE0NVx1MDE0Nlx1MDE0N1x1MDE0OFx1MDE0OVx1MDE0QVx1MDE0Qlx1MDE5RFx1MDE5RVx1MDFGOFx1MDFGOVx1MDIyMFx1MDIzNVx1MDM5RFx1MDNBMFx1MDNBRVx1MDNCN1x1MDNERVx1MDQwRFx1MDQxOFx1MDQxOVx1MDQxQlx1MDQxRlx1MDQzOFx1MDQzOVx1MDQzQlx1MDQzRlx1MDQ1RFx1MDQ4QVx1MDQ4Qlx1MDRDNVx1MDRDNlx1MDRFMlx1MDRFM1x1MDRFNFx1MDRFNVx1MDNDMCcsXG4gIG86ICdcdTAwRDJcdTAwRDNcdTAwRDRcdTAwRDVcdTAwRDZcdTAwRDhcdTAwRjBcdTAwRjJcdTAwRjNcdTAwRjRcdTAwRjVcdTAwRjZcdTAwRjhcdTAxNENcdTAxNERcdTAxNEVcdTAxNEZcdTAxNTBcdTAxNTFcdTAxOUZcdTAxQTBcdTAxQTFcdTAxRDFcdTAxRDJcdTAxRUFcdTAxRUJcdTAxRUNcdTAxRURcdTAxRkVcdTAxRkZcdTAyMENcdTAyMERcdTAyMEVcdTAyMEZcdTAyMkFcdTAyMkJcdTAyMkNcdTAyMkRcdTAyMkVcdTAyMkZcdTAyMzBcdTAyMzFcdTAzOENcdTAzOThcdTAzOUZcdTAzQjhcdTAzQkZcdTAzQzNcdTAzQ0NcdTAzRDVcdTAzRDhcdTAzRDlcdTAzRUNcdTAzRjRcdTA0MUVcdTA0MjRcdTA0M0VcdTA0NzJcdTA0NzNcdTA0RTZcdTA0RTdcdTA0RThcdTA0RTlcdTA0RUFcdTA0RUInLFxuICBwOiAnXHUwMUE0XHUwM0ExXHUwM0MxXHUwM0Y3XHUwM0Y4XHUwM0ZDXHUwNDIwXHUwNDQwXHUwNDhFXHUwNDhGXHUwMERFJyxcbiAgcTogJ1x1MDI0QVx1MDI0QicsXG4gIHI6ICdcdTAxNTRcdTAxNTVcdTAxNTZcdTAxNTdcdTAxNThcdTAxNTlcdTAxQTZcdTAyMTBcdTAyMTFcdTAyMTJcdTAyMTNcdTAyNENcdTAyNERcdTA0MDNcdTA0MTNcdTA0MkZcdTA0MzNcdTA0NEZcdTA0NTNcdTA0OTBcdTA0OTEnLFxuICBzOiAnXHUwMTVBXHUwMTVCXHUwMTVDXHUwMTVEXHUwMTVFXHUwMTVGXHUwMTYwXHUwMTYxXHUwMUE3XHUwMUE4XHUwMjE4XHUwMjE5XHUwMjNGXHUwNDA1XHUwNDU1JyxcbiAgdDogJ1x1MDE2Mlx1MDE2M1x1MDE2NFx1MDE2NVx1MDE2Nlx1MDE2N1x1MDFBQlx1MDFBQ1x1MDFBRFx1MDFBRVx1MDIxQVx1MDIxQlx1MDIzNlx1MDIzRVx1MDM5M1x1MDNBNFx1MDNDNFx1MDNFRVx1MDQyMlx1MDQ0MicsXG4gIHU6ICdcdTAwRDlcdTAwREFcdTAwREJcdTAwRENcdTAwRjlcdTAwRkFcdTAwRkJcdTAwRkNcdTAxNjhcdTAxNjlcdTAxNkFcdTAxNkJcdTAxNkNcdTAxNkRcdTAxNkVcdTAxNkZcdTAxNzBcdTAxNzFcdTAxNzJcdTAxNzNcdTAxQUZcdTAxQjBcdTAxQjFcdTAxQjJcdTAxRDNcdTAxRDRcdTAxRDVcdTAxRDZcdTAxRDdcdTAxRDhcdTAxRDlcdTAxREFcdTAxREJcdTAxRENcdTAyMTRcdTAyMTVcdTAyMTZcdTAyMTdcdTAyNDRcdTAzQjBcdTAzQzVcdTAzQ0JcdTAzQ0QnLFxuICB2OiAnXHUwM0JEXHUwNDc0XHUwNDc1XHUwNDc2XHUwNDc3JyxcbiAgdzogJ1x1MDE3NFx1MDE3NVx1MDE5Q1x1MDNDOVx1MDNDRVx1MDNENlx1MDNFMlx1MDNFM1x1MDQyOFx1MDQyOVx1MDQ0OFx1MDQ0OVx1MDQ2MVx1MDQ3RicsXG4gIHg6ICdcdTAwRDdcdTAzQTdcdTAzQzdcdTAzRDdcdTAzRjBcdTA0MjVcdTA0NDVcdTA0QjJcdTA0QjNcdTA0RkNcdTA0RkRcdTA0RkVcdTA0RkYnLFxuICB5OiAnXHUwMEREXHUwMEZEXHUwMEZGXHUwMTc2XHUwMTc3XHUwMTc4XHUwMUIzXHUwMUI0XHUwMjMyXHUwMjMzXHUwMjRFXHUwMjRGXHUwMzhFXHUwM0E1XHUwM0FCXHUwM0IzXHUwM0M4XHUwM0QyXHUwM0QzXHUwM0Q0XHUwNDBFXHUwNDIzXHUwNDQzXHUwNDQ3XHUwNDVFXHUwNDcwXHUwNDcxXHUwNEFFXHUwNEFGXHUwNEIwXHUwNEIxXHUwNEVFXHUwNEVGXHUwNEYwXHUwNEYxXHUwNEYyXHUwNEYzJyxcbiAgejogJ1x1MDE3OVx1MDE3QVx1MDE3Qlx1MDE3Q1x1MDE3RFx1MDE3RVx1MDFCNVx1MDFCNlx1MDIyNFx1MDIyNVx1MDI0MFx1MDM5NicsXG59XG4vL2RlY29tcHJlc3MgZGF0YSBpbnRvIHR3byBoYXNoZXNcbmxldCB1bmljb2RlID0ge31cbk9iamVjdC5rZXlzKGNvbXBhY3QpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgY29tcGFjdFtrXS5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgIHVuaWNvZGVbc10gPSBrXG4gIH0pXG59KVxuZXhwb3J0IGRlZmF1bHQgdW5pY29kZVxuIiwgIi8vIGh0dHBzOi8vdXRpbC51bmljb2RlLm9yZy9Vbmljb2RlSnNwcy9saXN0LXVuaWNvZGVzZXQuanNwP2E9JTVDcCU3QnB1bmN0dWF0aW9uJTdEXG5cbi8vIHB1bmN0dWF0aW9uIHRvIGtlZXAgYXQgc3RhcnQgb2Ygd29yZFxuY29uc3QgcHJlUHVuY3R1YXRpb24gPSB7XG4gICcjJzogdHJ1ZSwgLy8jaGFzdGFnXG4gICdAJzogdHJ1ZSwgLy9AYXRtZW50aW9uXG4gICdfJzogdHJ1ZSwvL3VuZGVyc2NvcmVcbiAgJ1x1MDBCMCc6IHRydWUsXG4gIC8vICcrJzogdHJ1ZSwvLys0XG4gIC8vICdcXFxcLScsLy8tNCAgKGVzY2FwZSlcbiAgLy8gJy4nLC8vLjRcbiAgLy8gemVyby13aWR0aCBjaGFyc1xuICAnXFx1MjAwQic6IHRydWUsXG4gICdcXHUyMDBDJzogdHJ1ZSxcbiAgJ1xcdTIwMEQnOiB0cnVlLFxuICAnXFx1RkVGRic6IHRydWVcbn1cblxuLy8gcHVuY3R1YXRpb24gdG8ga2VlcCBhdCBlbmQgb2Ygd29yZFxuY29uc3QgcG9zdFB1bmN0dWF0aW9uID0ge1xuICAnJSc6IHRydWUsLy84OCVcbiAgJ18nOiB0cnVlLC8vdW5kZXJzY29yZVxuICAnXHUwMEIwJzogdHJ1ZSwvL2RlZ3JlZXMsIGl0YWxpYW4gb3JkaW5hbFxuICAvLyAnXFwnJywvLyBzb21ldGltZXNcbiAgLy8gemVyby13aWR0aCBjaGFyc1xuICAnXFx1MjAwQic6IHRydWUsXG4gICdcXHUyMDBDJzogdHJ1ZSxcbiAgJ1xcdTIwMEQnOiB0cnVlLFxuICAnXFx1RkVGRic6IHRydWVcbn1cblxuY29uc3QgZW1vdGljb25zID0ge1xuICAnPDMnOiB0cnVlLFxuICAnPC8zJzogdHJ1ZSxcbiAgJzxcXFxcMyc6IHRydWUsXG4gICc6XlAnOiB0cnVlLFxuICAnOl5wJzogdHJ1ZSxcbiAgJzpeTyc6IHRydWUsXG4gICc6XjMnOiB0cnVlLFxufVxuXG5leHBvcnQgeyBwcmVQdW5jdHVhdGlvbiwgcG9zdFB1bmN0dWF0aW9uLCBlbW90aWNvbnMgfSIsICJpbXBvcnQgYWxpYXNlcyBmcm9tICcuL2FsaWFzZXMuanMnXG5pbXBvcnQgeyBsZXhpY29uLCBhYmJyZXZpYXRpb25zIH0gZnJvbSAnLi9sZXhpY29uLmpzJ1xuaW1wb3J0IHByZWZpeGVzIGZyb20gJy4vcHJlZml4ZXMuanMnXG5pbXBvcnQgc3VmZml4ZXMgZnJvbSAnLi9zdWZmaXhlcy5qcydcbmltcG9ydCB1bmljb2RlIGZyb20gJy4vdW5pY29kZS5qcydcbmltcG9ydCB7IHByZVB1bmN0dWF0aW9uLCBwb3N0UHVuY3R1YXRpb24sIGVtb3RpY29ucyB9IGZyb20gJy4vcHVuY3R1YXRpb24uanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgb25lOiB7XG4gICAgYWxpYXNlcyxcbiAgICBhYmJyZXZpYXRpb25zLFxuICAgIHByZWZpeGVzLFxuICAgIHN1ZmZpeGVzLFxuICAgIHByZVB1bmN0dWF0aW9uLFxuICAgIHBvc3RQdW5jdHVhdGlvbixcbiAgICBsZXhpY29uLCAvL2dpdmUgdGhpcyBvbmUgZm9yd2FyZFxuICAgIHVuaWNvZGUsXG4gICAgZW1vdGljb25zXG4gIH0sXG59XG4iLCAiY29uc3QgaGFzU2xhc2ggPSAvXFwvL1xuY29uc3QgaGFzRG9tYWluID0gL1thLXpdXFwuW2Etel0vaVxuY29uc3QgaXNNYXRoID0gL1swLTldL1xuLy8gY29uc3QgaGFzU2xhc2ggPSAvW2EtelxcdTAwQzAtXFx1MDBGRl0gP1xcLyA/W2EtelxcdTAwQzAtXFx1MDBGRl0vXG4vLyBjb25zdCBoYXNBcG9zdHJvcGhlID0gL1snXHUyMDE5XXMkL1xuXG5jb25zdCBhZGRBbGlhc2VzID0gZnVuY3Rpb24gKHRlcm0sIHdvcmxkKSB7XG4gIGxldCBzdHIgPSB0ZXJtLm5vcm1hbCB8fCB0ZXJtLnRleHQgfHwgdGVybS5tYWNoaW5lXG4gIGNvbnN0IGFsaWFzZXMgPSB3b3JsZC5tb2RlbC5vbmUuYWxpYXNlc1xuICAvLyBsb29rdXAga25vd24gYWxpYXNlcyBsaWtlICcmJ1xuICBpZiAoYWxpYXNlcy5oYXNPd25Qcm9wZXJ0eShzdHIpKSB7XG4gICAgdGVybS5hbGlhcyA9IHRlcm0uYWxpYXMgfHwgW11cbiAgICB0ZXJtLmFsaWFzLnB1c2goYWxpYXNlc1tzdHJdKVxuICB9XG4gIC8vIHN1cHBvcnQgc2xhc2hlcyBhcyBhbGlhc2VzXG4gIGlmIChoYXNTbGFzaC50ZXN0KHN0cikgJiYgIWhhc0RvbWFpbi50ZXN0KHN0cikgJiYgIWlzTWF0aC50ZXN0KHN0cikpIHtcbiAgICBsZXQgYXJyID0gc3RyLnNwbGl0KGhhc1NsYXNoKVxuICAgIC8vIGRvbid0IHNwbGl0IHVybHMgYW5kIHRoaW5nc1xuICAgIGlmIChhcnIubGVuZ3RoIDw9IDMpIHtcbiAgICAgIGFyci5mb3JFYWNoKHdvcmQgPT4ge1xuICAgICAgICB3b3JkID0gd29yZC50cmltKClcbiAgICAgICAgaWYgKHdvcmQgIT09ICcnKSB7XG4gICAgICAgICAgdGVybS5hbGlhcyA9IHRlcm0uYWxpYXMgfHwgW11cbiAgICAgICAgICB0ZXJtLmFsaWFzLnB1c2god29yZClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgLy8gYWxpYXNlcyBmb3IgYXBvc3Ryb3BoZS1zXG4gIC8vIGlmIChoYXNBcG9zdHJvcGhlLnRlc3Qoc3RyKSkge1xuICAvLyAgIGxldCBtYWluID0gc3RyLnJlcGxhY2UoaGFzQXBvc3Ryb3BoZSwgJycpLnRyaW0oKVxuICAvLyAgIHRlcm0uYWxpYXMgPSB0ZXJtLmFsaWFzIHx8IFtdXG4gIC8vICAgdGVybS5hbGlhcy5wdXNoKG1haW4pXG4gIC8vIH1cbiAgcmV0dXJuIHRlcm1cbn1cbmV4cG9ydCBkZWZhdWx0IGFkZEFsaWFzZXNcbiIsICJjb25zdCBoYXNEYXNoID0gL15cXHB7TGV0dGVyfSstXFxwe0xldHRlcn0rJC91XG4vLyAnbWFjaGluZScgaXMgYSBub3JtYWxpemVkIGZvcm0gdGhhdCBsb29zZXMgaHVtYW4tcmVhZGFiaWxpdHlcbmNvbnN0IGRvTWFjaGluZSA9IGZ1bmN0aW9uICh0ZXJtKSB7XG4gIGxldCBzdHIgPSB0ZXJtLmltcGxpY2l0IHx8IHRlcm0ubm9ybWFsIHx8IHRlcm0udGV4dFxuICAvLyByZW1vdmUgYXBvc3Ryb3BoZXNcbiAgc3RyID0gc3RyLnJlcGxhY2UoL1snXHUyMDE5XXMkLywgJycpXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC9zWydcdTIwMTldJC8sICdzJylcbiAgLy9sb29raW4nLT5sb29raW5nIChtYWtlIGl0IGVhc2llciBmb3IgY29uanVnYXRpb24pXG4gIHN0ciA9IHN0ci5yZXBsYWNlKC8oW2FlaW91XVtrdHJwXSlpbickLywgJyQxaW5nJylcbiAgLy90dXJuIHJlLWVuYWN0bWVudCB0byByZWVuYWN0bWVudFxuICBpZiAoaGFzRGFzaC50ZXN0KHN0cikpIHtcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgvLS9nLCAnJylcbiAgfVxuICAvLyN0YWdzLCBAbWVudGlvbnNcbiAgc3RyID0gc3RyLnJlcGxhY2UoL15bI0BdLywgJycpXG4gIGlmIChzdHIgIT09IHRlcm0ubm9ybWFsKSB7XG4gICAgdGVybS5tYWNoaW5lID0gc3RyXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGRvTWFjaGluZVxuIiwgIi8vIHNvcnQgd29yZHMgYnkgZnJlcXVlbmN5XG5jb25zdCBmcmVxID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgbGV0IGRvY3MgPSB2aWV3LmRvY3NcbiAgbGV0IGNvdW50cyA9IHt9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGZvciAobGV0IHQgPSAwOyB0IDwgZG9jc1tpXS5sZW5ndGg7IHQgKz0gMSkge1xuICAgICAgbGV0IHRlcm0gPSBkb2NzW2ldW3RdXG4gICAgICBsZXQgd29yZCA9IHRlcm0ubWFjaGluZSB8fCB0ZXJtLm5vcm1hbFxuICAgICAgY291bnRzW3dvcmRdID0gY291bnRzW3dvcmRdIHx8IDBcbiAgICAgIGNvdW50c1t3b3JkXSArPSAxXG4gICAgfVxuICB9XG4gIC8vIGFkZCBjb3VudHMgb24gZWFjaCB0ZXJtXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGZvciAobGV0IHQgPSAwOyB0IDwgZG9jc1tpXS5sZW5ndGg7IHQgKz0gMSkge1xuICAgICAgbGV0IHRlcm0gPSBkb2NzW2ldW3RdXG4gICAgICBsZXQgd29yZCA9IHRlcm0ubWFjaGluZSB8fCB0ZXJtLm5vcm1hbFxuICAgICAgdGVybS5mcmVxID0gY291bnRzW3dvcmRdXG4gICAgfVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBmcmVxXG4iLCAiLy8gZ2V0IGFsbCBjaGFyYWN0ZXIgc3RhcnRpbmdzIGluIGRvY1xuY29uc3Qgb2Zmc2V0ID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgbGV0IGVsYXBzZWQgPSAwXG4gIGxldCBpbmRleCA9IDBcbiAgbGV0IGRvY3MgPSB2aWV3LmRvY3VtZW50IC8vc3RhcnQgZnJvbSB0aGUgYWN0dWFsLXRvcFxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBmb3IgKGxldCB0ID0gMDsgdCA8IGRvY3NbaV0ubGVuZ3RoOyB0ICs9IDEpIHtcbiAgICAgIGxldCB0ZXJtID0gZG9jc1tpXVt0XVxuICAgICAgdGVybS5vZmZzZXQgPSB7XG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgc3RhcnQ6IGVsYXBzZWQgKyB0ZXJtLnByZS5sZW5ndGgsXG4gICAgICAgIGxlbmd0aDogdGVybS50ZXh0Lmxlbmd0aCxcbiAgICAgIH1cbiAgICAgIGVsYXBzZWQgKz0gdGVybS5wcmUubGVuZ3RoICsgdGVybS50ZXh0Lmxlbmd0aCArIHRlcm0ucG9zdC5sZW5ndGhcbiAgICAgIGluZGV4ICs9IDFcbiAgICB9XG4gIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBvZmZzZXRcbiIsICIvLyBjaGVhdC0gYWRkIHRoZSBkb2N1bWVudCdzIHBvaW50ZXIgdG8gdGhlIHRlcm1zXG5jb25zdCBpbmRleCA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gIC8vIGNvbnNvbGUubG9nKCdyZWluZGV4JylcbiAgbGV0IGRvY3VtZW50ID0gdmlldy5kb2N1bWVudFxuICBmb3IgKGxldCBuID0gMDsgbiA8IGRvY3VtZW50Lmxlbmd0aDsgbiArPSAxKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2N1bWVudFtuXS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgZG9jdW1lbnRbbl1baV0uaW5kZXggPSBbbiwgaV1cbiAgICB9XG4gIH1cbiAgLy8gbGV0IHB0cnMgPSBiLmZ1bGxQb2ludGVyXG4gIC8vIGNvbnNvbGUubG9nKHB0cnMpXG4gIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAvLyAgIGNvbnN0IFtuLCBzdGFydF0gPSBwdHJzW2ldXG4gIC8vICAgZm9yIChsZXQgdCA9IDA7IHQgPCBkb2NzW2ldLmxlbmd0aDsgdCArPSAxKSB7XG4gIC8vICAgICBsZXQgdGVybSA9IGRvY3NbaV1bdF1cbiAgLy8gICAgIHRlcm0uaW5kZXggPSBbbiwgc3RhcnQgKyB0XVxuICAvLyAgIH1cbiAgLy8gfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmRleCIsICJjb25zdCB3b3JkQ291bnQgPSBmdW5jdGlvbiAodmlldykge1xuICBsZXQgbiA9IDBcbiAgbGV0IGRvY3MgPSB2aWV3LmRvY3NcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2NzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZm9yIChsZXQgdCA9IDA7IHQgPCBkb2NzW2ldLmxlbmd0aDsgdCArPSAxKSB7XG4gICAgICBpZiAoZG9jc1tpXVt0XS5ub3JtYWwgPT09ICcnKSB7XG4gICAgICAgIGNvbnRpbnVlIC8vc2tpcCBpbXBsaWNpdCB3b3Jkc1xuICAgICAgfVxuICAgICAgbiArPSAxXG4gICAgICBkb2NzW2ldW3RdLndvcmRDb3VudCA9IG5cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd29yZENvdW50XG4iLCAiaW1wb3J0IGFsaWFzIGZyb20gJy4vYWxpYXMuanMnXG5pbXBvcnQgbm9ybWFsIGZyb20gJy4vbm9ybWFsL2luZGV4LmpzJ1xuaW1wb3J0IG1hY2hpbmUgZnJvbSAnLi9tYWNoaW5lLmpzJ1xuaW1wb3J0IGZyZXEgZnJvbSAnLi9mcmVxLmpzJ1xuaW1wb3J0IG9mZnNldCBmcm9tICcuL29mZnNldC5qcydcbmltcG9ydCBpbmRleCBmcm9tICcuL3JlaW5kZXguanMnXG5pbXBvcnQgd29yZENvdW50IGZyb20gJy4vd29yZENvdW50LmpzJ1xuXG4vLyBjaGVhdC1tZXRob2QgZm9yIGEgcXVpY2sgbG9vcFxuY29uc3QgdGVybUxvb3AgPSBmdW5jdGlvbiAodmlldywgZm4pIHtcbiAgbGV0IGRvY3MgPSB2aWV3LmRvY3NcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2NzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZm9yIChsZXQgdCA9IDA7IHQgPCBkb2NzW2ldLmxlbmd0aDsgdCArPSAxKSB7XG4gICAgICBmbihkb2NzW2ldW3RdLCB2aWV3LndvcmxkKVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBtZXRob2RzID0ge1xuICBhbGlhczogKHZpZXcpID0+IHRlcm1Mb29wKHZpZXcsIGFsaWFzKSxcbiAgbWFjaGluZTogKHZpZXcpID0+IHRlcm1Mb29wKHZpZXcsIG1hY2hpbmUpLFxuICBub3JtYWw6ICh2aWV3KSA9PiB0ZXJtTG9vcCh2aWV3LCBub3JtYWwpLFxuICBmcmVxLFxuICBvZmZzZXQsXG4gIGluZGV4LFxuICB3b3JkQ291bnQsXG59XG5leHBvcnQgZGVmYXVsdCBtZXRob2RzXG4iLCAiaW1wb3J0IG1ldGhvZHMgZnJvbSAnLi9tZXRob2RzL2luZGV4LmpzJ1xuaW1wb3J0IG1vZGVsIGZyb20gJy4vbW9kZWwvaW5kZXguanMnXG5pbXBvcnQgY29tcHV0ZSBmcm9tICcuL2NvbXB1dGUvaW5kZXguanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcHV0ZSxcbiAgbWV0aG9kcyxcbiAgbW9kZWwsXG4gIGhvb2tzOiBbJ2FsaWFzJywgJ21hY2hpbmUnLCAnaW5kZXgnLCAnaWQnXSxcbn1cblxuLy8gY29uc3QgcGx1Z2luID0gZnVuY3Rpb24gKHdvcmxkKSB7XG4vLyAgIGxldCB7IG1ldGhvZHMsIG1vZGVsLCBwYXJzZXJzIH0gPSB3b3JsZFxuLy8gICBPYmplY3QuYXNzaWduKHt9LCBtZXRob2RzLCBfbWV0aG9kcylcbi8vICAgT2JqZWN0LmFzc2lnbihtb2RlbCwgX21vZGVsKVxuLy8gICBtZXRob2RzLm9uZS50b2tlbml6ZS5mcm9tU3RyaW5nID0gdG9rZW5pemVcbi8vICAgcGFyc2Vycy5wdXNoKCdub3JtYWwnKVxuLy8gICBwYXJzZXJzLnB1c2goJ2FsaWFzJylcbi8vICAgcGFyc2Vycy5wdXNoKCdtYWNoaW5lJylcbi8vICAgLy8gZXh0ZW5kIFZpZXcgY2xhc3Ncbi8vICAgLy8gYWRkTWV0aG9kcyhWaWV3KVxuLy8gfVxuLy8gZXhwb3J0IGRlZmF1bHQgcGx1Z2luXG4iLCAiLy8gbG9va3VwIGxhc3Qgd29yZCBpbiB0aGUgdHlwZS1haGVhZCBwcmVmaXhlc1xuY29uc3QgdHlwZWFoZWFkID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgY29uc3QgcHJlZml4ZXMgPSB2aWV3Lm1vZGVsLm9uZS50eXBlYWhlYWRcbiAgY29uc3QgZG9jcyA9IHZpZXcuZG9jc1xuICBpZiAoZG9jcy5sZW5ndGggPT09IDAgfHwgT2JqZWN0LmtleXMocHJlZml4ZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVyblxuICB9XG4gIGxldCBsYXN0UGhyYXNlID0gZG9jc1tkb2NzLmxlbmd0aCAtIDFdIHx8IFtdXG4gIGxldCBsYXN0VGVybSA9IGxhc3RQaHJhc2VbbGFzdFBocmFzZS5sZW5ndGggLSAxXVxuICAvLyBpZiB3ZSd2ZSBhbHJlYWR5IHB1dCB3aGl0ZXNwYWNlLCBlbmQuXG4gIGlmIChsYXN0VGVybS5wb3N0KSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgLy8gaWYgd2UgZm91bmQgc29tZXRoaW5nXG4gIGlmIChwcmVmaXhlcy5oYXNPd25Qcm9wZXJ0eShsYXN0VGVybS5ub3JtYWwpKSB7XG4gICAgbGV0IGZvdW5kID0gcHJlZml4ZXNbbGFzdFRlcm0ubm9ybWFsXVxuICAgIC8vIGFkZCBmdWxsLXdvcmQgYXMgYW4gaW1wbGljaXQgcmVzdWx0XG4gICAgbGFzdFRlcm0uaW1wbGljaXQgPSBmb3VuZFxuICAgIGxhc3RUZXJtLm1hY2hpbmUgPSBmb3VuZFxuICAgIGxhc3RUZXJtLnR5cGVhaGVhZCA9IHRydWVcbiAgICAvLyB0YWcgaXQsIGFzIG91ciBhc3N1bWVkIHRlcm1cbiAgICBpZiAodmlldy5jb21wdXRlLnByZVRhZ2dlcikge1xuICAgICAgdmlldy5sYXN0KCkudW5UYWcoJyonKS5jb21wdXRlKFsnbGV4aWNvbicsICdwcmVUYWdnZXInXSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgeyB0eXBlYWhlYWQgfVxuIiwgIi8vIGFzc3VtZSBhbnkgZGlzY292ZXJlZCBwcmVmaXhlc1xuY29uc3QgYXV0b0ZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGRvY3MgPSB0aGlzLmRvY3NcbiAgaWYgKGRvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBsZXQgbGFzdFBocmFzZSA9IGRvY3NbZG9jcy5sZW5ndGggLSAxXSB8fCBbXVxuICBsZXQgdGVybSA9IGxhc3RQaHJhc2VbbGFzdFBocmFzZS5sZW5ndGggLSAxXVxuICBpZiAodGVybS50eXBlYWhlYWQgPT09IHRydWUgJiYgdGVybS5tYWNoaW5lKSB7XG4gICAgdGVybS50ZXh0ID0gdGVybS5tYWNoaW5lXG4gICAgdGVybS5ub3JtYWwgPSB0ZXJtLm1hY2hpbmVcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5jb25zdCBhcGkgPSBmdW5jdGlvbiAoVmlldykge1xuICBWaWV3LnByb3RvdHlwZS5hdXRvRmlsbCA9IGF1dG9GaWxsXG59XG5leHBvcnQgZGVmYXVsdCBhcGkiLCAiLy8gZ2VuZXJhdGUgYWxsIHRoZSBwb3NzaWJsZSBwcmVmaXhlcyB1cC1mcm9udFxuY29uc3QgZ2V0UHJlZml4ZXMgPSBmdW5jdGlvbiAoYXJyLCBvcHRzLCB3b3JsZCkge1xuICBsZXQgaW5kZXggPSB7fVxuICBsZXQgY29sbGlzaW9ucyA9IFtdXG4gIGxldCBleGlzdGluZyA9IHdvcmxkLnByZWZpeGVzIHx8IHt9XG4gIGFyci5mb3JFYWNoKChzdHIpID0+IHtcbiAgICBzdHIgPSBzdHIudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICBsZXQgbWF4ID0gc3RyLmxlbmd0aFxuICAgIGlmIChvcHRzLm1heCAmJiBtYXggPiBvcHRzLm1heCkge1xuICAgICAgbWF4ID0gb3B0cy5tYXhcbiAgICB9XG4gICAgZm9yIChsZXQgc2l6ZSA9IG9wdHMubWluOyBzaXplIDwgbWF4OyBzaXplICs9IDEpIHtcbiAgICAgIGxldCBwcmVmaXggPSBzdHIuc3Vic3RyaW5nKDAsIHNpemUpXG4gICAgICAvLyBlbnN1cmUgcHJlZml4IGlzIG5vdCBhIHdvcmRcbiAgICAgIGlmIChvcHRzLnNhZmUgJiYgd29ybGQubW9kZWwub25lLmxleGljb24uaGFzT3duUHJvcGVydHkocHJlZml4KSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgLy8gZG9lcyBpdCBhbHJlYWR5IGV4aXN0P1xuICAgICAgaWYgKGV4aXN0aW5nLmhhc093blByb3BlcnR5KHByZWZpeCkgPT09IHRydWUpIHtcbiAgICAgICAgY29sbGlzaW9ucy5wdXNoKHByZWZpeClcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGlmIChpbmRleC5oYXNPd25Qcm9wZXJ0eShwcmVmaXgpID09PSB0cnVlKSB7XG4gICAgICAgIGNvbGxpc2lvbnMucHVzaChwcmVmaXgpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBpbmRleFtwcmVmaXhdID0gc3RyXG4gICAgfVxuICB9KVxuICAvLyBtZXJnZSB3aXRoIGV4aXN0aW5nIHByZWZpeGVzXG4gIGluZGV4ID0gT2JqZWN0LmFzc2lnbih7fSwgZXhpc3RpbmcsIGluZGV4KVxuICAvLyByZW1vdmUgYW1iaWd1b3VzLXByZWZpeGVzXG4gIGNvbGxpc2lvbnMuZm9yRWFjaCgoc3RyKSA9PiB7XG4gICAgZGVsZXRlIGluZGV4W3N0cl1cbiAgfSlcbiAgcmV0dXJuIGluZGV4XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFByZWZpeGVzXG4iLCAiaW1wb3J0IGFsbFByZWZpeGVzIGZyb20gJy4vYWxsUHJlZml4ZXMuanMnXG5cbmNvbnN0IGlzT2JqZWN0ID0gdmFsID0+IHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJ1xufVxuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgc2FmZTogdHJ1ZSxcbiAgbWluOiAzLFxufVxuXG5jb25zdCBwcmVwYXJlID0gZnVuY3Rpb24gKHdvcmRzID0gW10sIG9wdHMgPSB7fSkge1xuICBsZXQgbW9kZWwgPSB0aGlzLm1vZGVsKClcbiAgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRzKVxuICBpZiAoaXNPYmplY3Qod29yZHMpKSB7XG4gICAgT2JqZWN0LmFzc2lnbihtb2RlbC5vbmUubGV4aWNvbiwgd29yZHMpXG4gICAgd29yZHMgPSBPYmplY3Qua2V5cyh3b3JkcylcbiAgfVxuICBsZXQgcHJlZml4ZXMgPSBhbGxQcmVmaXhlcyh3b3Jkcywgb3B0cywgdGhpcy53b3JsZCgpKVxuICAvLyBtYW51YWxseSBjb21iaW5lIHRoZXNlIHdpdGggYW55IGV4aXN0aW5nIHByZWZpeGVzXG4gIE9iamVjdC5rZXlzKHByZWZpeGVzKS5mb3JFYWNoKHN0ciA9PiB7XG4gICAgLy8gZXhwbG9kZSBhbnkgb3ZlcmxhcHNcbiAgICBpZiAobW9kZWwub25lLnR5cGVhaGVhZC5oYXNPd25Qcm9wZXJ0eShzdHIpKSB7XG4gICAgICBkZWxldGUgbW9kZWwub25lLnR5cGVhaGVhZFtzdHJdXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgbW9kZWwub25lLnR5cGVhaGVhZFtzdHJdID0gcHJlZml4ZXNbc3RyXVxuICB9KVxuICByZXR1cm4gdGhpc1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHR5cGVhaGVhZDogcHJlcGFyZVxufSIsICJpbXBvcnQgY29tcHV0ZSBmcm9tICcuL2NvbXB1dGUuanMnXG5pbXBvcnQgYXBpIGZyb20gJy4vYXBpLmpzJ1xuaW1wb3J0IGxpYiBmcm9tICcuL2xpYi9pbmRleC5qcydcblxuY29uc3QgbW9kZWwgPSB7XG4gIG9uZToge1xuICAgIHR5cGVhaGVhZDoge30gLy9zZXQgYSBibGFuayBrZXktdmFsXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbW9kZWwsXG4gIGFwaSxcbiAgbGliLFxuICBjb21wdXRlLFxuICBob29rczogWyd0eXBlYWhlYWQnXVxufVxuXG4iLCAiaW1wb3J0IG5scCBmcm9tICcuL25scC5qcycgLy8gNWtiXG5pbXBvcnQgY2FjaGUgZnJvbSAnLi8xLW9uZS9jYWNoZS9wbHVnaW4uanMnXG5pbXBvcnQgY2hhbmdlIGZyb20gJy4vMS1vbmUvY2hhbmdlL3BsdWdpbi5qcydcbmltcG9ydCBjb250cmFjdGlvbnMgZnJvbSAnLi8xLW9uZS9jb250cmFjdGlvbi1vbmUvcGx1Z2luLmpzJ1xuaW1wb3J0IGZyZWV6ZSBmcm9tICcuLzEtb25lL2ZyZWV6ZS9wbHVnaW4uanMnXG5pbXBvcnQgbGV4aWNvbiBmcm9tICcuLzEtb25lL2xleGljb24vcGx1Z2luLmpzJ1xuaW1wb3J0IGxvb2t1cCBmcm9tICcuLzEtb25lL2xvb2t1cC9wbHVnaW4uanMnXG5pbXBvcnQgbWF0Y2ggZnJvbSAnLi8xLW9uZS9tYXRjaC9wbHVnaW4uanMnXG5pbXBvcnQgb3V0cHV0IGZyb20gJy4vMS1vbmUvb3V0cHV0L3BsdWdpbi5qcydcbmltcG9ydCBwb2ludGVycyBmcm9tICcuLzEtb25lL3BvaW50ZXJzL3BsdWdpbi5qcydcbmltcG9ydCBzd2VlcCBmcm9tICcuLzEtb25lL3N3ZWVwL3BsdWdpbi5qcydcbmltcG9ydCB0YWcgZnJvbSAnLi8xLW9uZS90YWcvcGx1Z2luLmpzJ1xuaW1wb3J0IHRva2VuaXplIGZyb20gJy4vMS1vbmUvdG9rZW5pemUvcGx1Z2luLmpzJ1xuaW1wb3J0IHR5cGVhaGVhZCBmcm9tICcuLzEtb25lL3R5cGVhaGVhZC9wbHVnaW4uanMnXG5cbi8vIG9yZGVyIGhlcmUgbWF0dGVyc1xubmxwLmV4dGVuZChjaGFuZ2UpIC8vMGtiXG5ubHAuZXh0ZW5kKG91dHB1dCkgLy8wa2Jcbm5scC5leHRlbmQobWF0Y2gpIC8vMTBrYlxubmxwLmV4dGVuZChwb2ludGVycykgLy8ya2Jcbm5scC5leHRlbmQodGFnKSAvLzJrYlxubmxwLnBsdWdpbihjb250cmFjdGlvbnMpIC8vfjZrYlxubmxwLmV4dGVuZCh0b2tlbml6ZSkgLy83a2Jcbm5scC5leHRlbmQoZnJlZXplKSAvL1xubmxwLnBsdWdpbihjYWNoZSkgLy9+MWtiXG5ubHAuZXh0ZW5kKGxvb2t1cCkgLy83a2Jcbm5scC5leHRlbmQodHlwZWFoZWFkKSAvLzFrYlxubmxwLmV4dGVuZChsZXhpY29uKSAvLzFrYlxubmxwLmV4dGVuZChzd2VlcCkgLy8xa2JcblxuZXhwb3J0IGRlZmF1bHQgbmxwIC8vIDQwa2JcbiIsICJpbXBvcnQgTXVzdGFjaGUgZnJvbSAnbXVzdGFjaGUnO1xuaW1wb3J0IHsgRWRpdG9yIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IG5scCBmcm9tICdjb21wcm9taXNlL29uZSdcblxuZXhwb3J0IGNvbnN0IFRFTVBMQVRFX1ZBUklBQkxFUyA9IGB7e3ByZV9jdXJzb3J9fVxcbnt7cG9zdF9jdXJzb3J9fSBcXG57e2FjdGl2ZV9zZW50ZW5jZX19IFxcbnt7bGFzdF9saW5lfX1gO1xuXG5pbnRlcmZhY2UgVGVtcGxhdGVBcmdzIHtcbiAgICBwcmVfY3Vyc29yOiBzdHJpbmc7XG4gICAgcG9zdF9jdXJzb3I6IHN0cmluZztcbiAgICBhY3RpdmVfc2VudGVuY2U6IHN0cmluZztcbiAgICBsYXN0X2xpbmU6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJlcGFyZVByb21wdChlZGl0b3I6IEVkaXRvciwgdGVtcGxhdGU6IHN0cmluZyA9IFRFTVBMQVRFX1ZBUklBQkxFUyk6IHN0cmluZyB7XG4gICAgY29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgIGNvbnN0IHByZUN1cnNvciA9IGVkaXRvci5nZXRSYW5nZSh7IGxpbmU6IDAsIGNoOiAwIH0sIGN1cnNvcik7XG4gICAgY29uc3QgcG9zdEN1cnNvciA9IGVkaXRvci5nZXRSYW5nZShjdXJzb3IsIHsgbGluZTogZWRpdG9yLmxhc3RMaW5lKCksIGNoOiBlZGl0b3IuZ2V0TGluZShlZGl0b3IubGFzdExpbmUoKSkubGVuZ3RoIH0pO1xuICAgIGNvbnN0IGFjdGl2ZVNlbnRlbmNlID0gbmxwKHByZUN1cnNvcikuZnVsbFNlbnRlbmNlcygpLmxhc3QoKS5vdXQoJ3RleHQnKTtcbiAgICBjb25zdCBsYXN0TGluZSA9IGVkaXRvci5nZXRMaW5lKGVkaXRvci5sYXN0TGluZSgpKTtcblxuICAgIHJldHVybiByZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwge1xuICAgICAgICBwcmVfY3Vyc29yOiBwcmVDdXJzb3IsXG4gICAgICAgIHBvc3RfY3Vyc29yOiBwb3N0Q3Vyc29yLFxuICAgICAgICBhY3RpdmVfc2VudGVuY2U6IGFjdGl2ZVNlbnRlbmNlLFxuICAgICAgICBsYXN0X2xpbmU6IGxhc3RMaW5lXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlOiBzdHJpbmcsIGFyZ3M6IFRlbXBsYXRlQXJncyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIE11c3RhY2hlLnJlbmRlcih0ZW1wbGF0ZSwgYXJncyk7XG59IiwgImltcG9ydCB7IE1vZGVsUmVzcG9uc2UsIE9sbGFtYSB9IGZyb20gXCJvbGxhbWFcIjtcbmltcG9ydCB7IE9sbGFtYVNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBFZGl0b3IgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBwcmVwYXJlUHJvbXB0IGZyb20gXCJzcmMvcHJvbXB0L3Byb21wdFwiO1xuaW1wb3J0IHsgQ29tcGxldGlvbk9wdGlvbnMgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzXCI7XG5cbmV4cG9ydCBjbGFzcyBPbGxhbWFQcm92aWRlciBpbXBsZW1lbnRzIFByb3ZpZGVyIHtcbiAgICBjbGllbnQ6IE9sbGFtYVxuICAgIHNldHRpbmdzOiBPbGxhbWFTZXR0aW5ncztcbiAgICBhYm9ydGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5zOiBPbGxhbWFTZXR0aW5ncykge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGlucztcbiAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT2xsYW1hKHsgaG9zdDogdGhpcy5zZXR0aW5ncy5ob3N0IH0pO1xuICAgIH1cblxuICAgIGFzeW5jICpnZW5lcmF0ZShlZGl0b3I6IEVkaXRvciwgb3B0aW9uczogQ29tcGxldGlvbk9wdGlvbnMpOiBBc3luY0dlbmVyYXRvcjxzdHJpbmc+IHtcbiAgICAgICAgdGhpcy5hYm9ydGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHByb21wdCA9IHByZXBhcmVQcm9tcHQoZWRpdG9yLCBvcHRpb25zLnVzZXJQcm9tcHQpO1xuXG4gICAgICAgIGNvbnN0IGNvbXBsZXRpb25JdGVyYXRvciA9IGF3YWl0IHRoaXMuY2xpZW50LmdlbmVyYXRlKHtcbiAgICAgICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsLFxuICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHQsXG4gICAgICAgICAgICBzeXN0ZW06IG9wdGlvbnMuc3lzdGVtUHJvbXB0LFxuICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlOiBvcHRpb25zLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBpbml0aWFsUG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGxldCBjb21wbGV0aW9uID0gXCJcIjtcbiAgICAgICAgZm9yIGF3YWl0IChsZXQgcmVzcG9uc2Ugb2YgY29tcGxldGlvbkl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY3Vyc29yTW92ZWQoZWRpdG9yLCBpbml0aWFsUG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjdXJzb3IgbW92ZWQsIGFib3J0aW5nIGNvbXBsZXRpb25cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBsZXRpb24gKz0gcmVzcG9uc2UucmVzcG9uc2U7XG4gICAgICAgICAgICB5aWVsZCBjb21wbGV0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjdXJzb3JNb3ZlZChlZGl0b3I6IEVkaXRvciwgaW5pdGlhbFBvc2l0aW9uOiB7IGxpbmU6IG51bWJlciwgY2g6IG51bWJlciB9KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IGVkaXRvci5nZXRDdXJzb3IoKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQb3NpdGlvbi5saW5lICE9PSBpbml0aWFsUG9zaXRpb24ubGluZSB8fCBjdXJyZW50UG9zaXRpb24uY2ggIT09IGluaXRpYWxQb3NpdGlvbi5jaDtcbiAgICB9XG5cbiAgICBhc3luYyBhYm9ydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmNsaWVudC5hYm9ydCgpO1xuICAgICAgICB0aGlzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZyhcImFib3J0ZWQgY29tcGxldGlvblwiKTtcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVNb2RlbHMoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50Lmxpc3QoKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5tb2RlbHMgPSByZXNwb25zZS5tb2RlbHMubWFwKChtb2RlbDogTW9kZWxSZXNwb25zZSkgPT4gbW9kZWwubmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubW9kZWxzO1xuICAgIH1cblxuICAgIGFzeW5jIGNvbm5lY3Rpb25UZXN0KCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQubGlzdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdGVzdGluZyBjb25uZWN0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuIiwgImltcG9ydCB0eXBlIHsgRm9ybWF0IH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0X2Zvcm1hdDogRm9ybWF0ID0gJ1JGQzM5ODYnO1xuZXhwb3J0IGNvbnN0IGZvcm1hdHRlcnM6IFJlY29yZDxGb3JtYXQsIChzdHI6IFByb3BlcnR5S2V5KSA9PiBzdHJpbmc+ID0ge1xuICBSRkMxNzM4OiAodjogUHJvcGVydHlLZXkpID0+IFN0cmluZyh2KS5yZXBsYWNlKC8lMjAvZywgJysnKSxcbiAgUkZDMzk4NjogKHY6IFByb3BlcnR5S2V5KSA9PiBTdHJpbmcodiksXG59O1xuZXhwb3J0IGNvbnN0IFJGQzE3MzggPSAnUkZDMTczOCc7XG5leHBvcnQgY29uc3QgUkZDMzk4NiA9ICdSRkMzOTg2JztcbiIsICJpbXBvcnQgeyBSRkMxNzM4IH0gZnJvbSAnLi9mb3JtYXRzJztcbmltcG9ydCB0eXBlIHsgRGVmYXVsdEVuY29kZXIsIEZvcm1hdCB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuY29uc3QgaXNfYXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG5jb25zdCBoZXhfdGFibGUgPSAoKCkgPT4ge1xuICBjb25zdCBhcnJheSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgYXJyYXkucHVzaCgnJScgKyAoKGkgPCAxNiA/ICcwJyA6ICcnKSArIGkudG9TdHJpbmcoMTYpKS50b1VwcGVyQ2FzZSgpKTtcbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGNvbXBhY3RfcXVldWU8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+KHF1ZXVlOiBBcnJheTx7IG9iajogVDsgcHJvcDogc3RyaW5nIH0+KSB7XG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgIGlmICghaXRlbSkgY29udGludWU7XG5cbiAgICBjb25zdCBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuXG4gICAgaWYgKGlzX2FycmF5KG9iaikpIHtcbiAgICAgIGNvbnN0IGNvbXBhY3RlZDogdW5rbm93bltdID0gW107XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb2JqLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW2pdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbXBhY3RlZC5wdXNoKG9ialtqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaXRlbS5vYmpbaXRlbS5wcm9wXSA9IGNvbXBhY3RlZDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXJyYXlfdG9fb2JqZWN0KHNvdXJjZTogYW55W10sIG9wdGlvbnM6IHsgcGxhaW5PYmplY3RzOiBib29sZWFuIH0pIHtcbiAgY29uc3Qgb2JqID0gb3B0aW9ucyAmJiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAodHlwZW9mIHNvdXJjZVtpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9ialtpXSA9IHNvdXJjZVtpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoXG4gIHRhcmdldDogYW55LFxuICBzb3VyY2U6IGFueSxcbiAgb3B0aW9uczogeyBwbGFpbk9iamVjdHM/OiBib29sZWFuOyBhbGxvd1Byb3RvdHlwZXM/OiBib29sZWFuIH0gPSB7fSxcbikge1xuICBpZiAoIXNvdXJjZSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoaXNfYXJyYXkodGFyZ2V0KSkge1xuICAgICAgdGFyZ2V0LnB1c2goc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHRhcmdldCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKFxuICAgICAgICAob3B0aW9ucyAmJiAob3B0aW9ucy5wbGFpbk9iamVjdHMgfHwgb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpKSB8fFxuICAgICAgICAhaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc291cmNlKVxuICAgICAgKSB7XG4gICAgICAgIHRhcmdldFtzb3VyY2VdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFt0YXJnZXQsIHNvdXJjZV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGlmICghdGFyZ2V0IHx8IHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIFt0YXJnZXRdLmNvbmNhdChzb3VyY2UpO1xuICB9XG5cbiAgbGV0IG1lcmdlVGFyZ2V0ID0gdGFyZ2V0O1xuICBpZiAoaXNfYXJyYXkodGFyZ2V0KSAmJiAhaXNfYXJyYXkoc291cmNlKSkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBtZXJnZVRhcmdldCA9IGFycmF5X3RvX29iamVjdCh0YXJnZXQsIG9wdGlvbnMpO1xuICB9XG5cbiAgaWYgKGlzX2FycmF5KHRhcmdldCkgJiYgaXNfYXJyYXkoc291cmNlKSkge1xuICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICBpZiAoaGFzLmNhbGwodGFyZ2V0LCBpKSkge1xuICAgICAgICBjb25zdCB0YXJnZXRJdGVtID0gdGFyZ2V0W2ldO1xuICAgICAgICBpZiAodGFyZ2V0SXRlbSAmJiB0eXBlb2YgdGFyZ2V0SXRlbSA9PT0gJ29iamVjdCcgJiYgaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICB0YXJnZXRbaV0gPSBtZXJnZSh0YXJnZXRJdGVtLCBpdGVtLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXQucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2ldID0gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgIGNvbnN0IHZhbHVlID0gc291cmNlW2tleV07XG5cbiAgICBpZiAoaGFzLmNhbGwoYWNjLCBrZXkpKSB7XG4gICAgICBhY2Nba2V5XSA9IG1lcmdlKGFjY1trZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIG1lcmdlVGFyZ2V0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbl9zaW5nbGVfc291cmNlKHRhcmdldDogYW55LCBzb3VyY2U6IGFueSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgYWNjW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB0YXJnZXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKHN0cjogc3RyaW5nLCBfOiBhbnksIGNoYXJzZXQ6IHN0cmluZykge1xuICBjb25zdCBzdHJXaXRob3V0UGx1cyA9IHN0ci5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgIC8vIHVuZXNjYXBlIG5ldmVyIHRocm93cywgbm8gdHJ5Li4uY2F0Y2ggbmVlZGVkOlxuICAgIHJldHVybiBzdHJXaXRob3V0UGx1cy5yZXBsYWNlKC8lWzAtOWEtZl17Mn0vZ2ksIHVuZXNjYXBlKTtcbiAgfVxuICAvLyB1dGYtOFxuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyV2l0aG91dFBsdXMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzO1xuICB9XG59XG5cbmNvbnN0IGxpbWl0ID0gMTAyNDtcblxuZXhwb3J0IGNvbnN0IGVuY29kZTogKFxuICBzdHI6IGFueSxcbiAgZGVmYXVsdEVuY29kZXI6IERlZmF1bHRFbmNvZGVyLFxuICBjaGFyc2V0OiBzdHJpbmcsXG4gIHR5cGU6ICdrZXknIHwgJ3ZhbHVlJyxcbiAgZm9ybWF0OiBGb3JtYXQsXG4pID0+IHN0cmluZyA9IChzdHIsIF9kZWZhdWx0RW5jb2RlciwgY2hhcnNldCwgX2tpbmQsIGZvcm1hdDogRm9ybWF0KSA9PiB7XG4gIC8vIFRoaXMgY29kZSB3YXMgb3JpZ2luYWxseSB3cml0dGVuIGJ5IEJyaWFuIFdoaXRlIGZvciB0aGUgaW8uanMgY29yZSBxdWVyeXN0cmluZyBsaWJyYXJ5LlxuICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxuICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICBsZXQgc3RyaW5nID0gc3RyO1xuICBpZiAodHlwZW9mIHN0ciA9PT0gJ3N5bWJvbCcpIHtcbiAgICBzdHJpbmcgPSBTeW1ib2wucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3RyKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgIHN0cmluZyA9IFN0cmluZyhzdHIpO1xuICB9XG5cbiAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgIHJldHVybiBlc2NhcGUoc3RyaW5nKS5yZXBsYWNlKC8ldVswLTlhLWZdezR9L2dpLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgIHJldHVybiAnJTI2JTIzJyArIHBhcnNlSW50KCQwLnNsaWNlKDIpLCAxNikgKyAnJTNCJztcbiAgICB9KTtcbiAgfVxuXG4gIGxldCBvdXQgPSAnJztcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBzdHJpbmcubGVuZ3RoOyBqICs9IGxpbWl0KSB7XG4gICAgY29uc3Qgc2VnbWVudCA9IHN0cmluZy5sZW5ndGggPj0gbGltaXQgPyBzdHJpbmcuc2xpY2UoaiwgaiArIGxpbWl0KSA6IHN0cmluZztcbiAgICBjb25zdCBhcnIgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudC5sZW5ndGg7ICsraSkge1xuICAgICAgbGV0IGMgPSBzZWdtZW50LmNoYXJDb2RlQXQoaSk7XG4gICAgICBpZiAoXG4gICAgICAgIGMgPT09IDB4MmQgfHwgLy8gLVxuICAgICAgICBjID09PSAweDJlIHx8IC8vIC5cbiAgICAgICAgYyA9PT0gMHg1ZiB8fCAvLyBfXG4gICAgICAgIGMgPT09IDB4N2UgfHwgLy8gflxuICAgICAgICAoYyA+PSAweDMwICYmIGMgPD0gMHgzOSkgfHwgLy8gMC05XG4gICAgICAgIChjID49IDB4NDEgJiYgYyA8PSAweDVhKSB8fCAvLyBhLXpcbiAgICAgICAgKGMgPj0gMHg2MSAmJiBjIDw9IDB4N2EpIHx8IC8vIEEtWlxuICAgICAgICAoZm9ybWF0ID09PSBSRkMxNzM4ICYmIChjID09PSAweDI4IHx8IGMgPT09IDB4MjkpKSAvLyAoIClcbiAgICAgICkge1xuICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBzZWdtZW50LmNoYXJBdChpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBoZXhfdGFibGVbY107XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgIGFyclthcnIubGVuZ3RoXSA9IGhleF90YWJsZVsweGMwIHwgKGMgPj4gNildISArIGhleF90YWJsZVsweDgwIHwgKGMgJiAweDNmKV07XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYyA8IDB4ZDgwMCB8fCBjID49IDB4ZTAwMCkge1xuICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPVxuICAgICAgICAgIGhleF90YWJsZVsweGUwIHwgKGMgPj4gMTIpXSEgKyBoZXhfdGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M2YpXSArIGhleF90YWJsZVsweDgwIHwgKGMgJiAweDNmKV07XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpICs9IDE7XG4gICAgICBjID0gMHgxMDAwMCArICgoKGMgJiAweDNmZikgPDwgMTApIHwgKHNlZ21lbnQuY2hhckNvZGVBdChpKSAmIDB4M2ZmKSk7XG5cbiAgICAgIGFyclthcnIubGVuZ3RoXSA9XG4gICAgICAgIGhleF90YWJsZVsweGYwIHwgKGMgPj4gMTgpXSEgK1xuICAgICAgICBoZXhfdGFibGVbMHg4MCB8ICgoYyA+PiAxMikgJiAweDNmKV0gK1xuICAgICAgICBoZXhfdGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M2YpXSArXG4gICAgICAgIGhleF90YWJsZVsweDgwIHwgKGMgJiAweDNmKV07XG4gICAgfVxuXG4gICAgb3V0ICs9IGFyci5qb2luKCcnKTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFjdCh2YWx1ZTogYW55KSB7XG4gIGNvbnN0IHF1ZXVlID0gW3sgb2JqOiB7IG86IHZhbHVlIH0sIHByb3A6ICdvJyB9XTtcbiAgY29uc3QgcmVmcyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCBpdGVtID0gcXVldWVbaV07XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbal0hO1xuICAgICAgY29uc3QgdmFsID0gb2JqW2tleV07XG4gICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmIHJlZnMuaW5kZXhPZih2YWwpID09PSAtMSkge1xuICAgICAgICBxdWV1ZS5wdXNoKHsgb2JqOiBvYmosIHByb3A6IGtleSB9KTtcbiAgICAgICAgcmVmcy5wdXNoKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcGFjdF9xdWV1ZShxdWV1ZSk7XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNfcmVnZXhwKG9iajogYW55KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc19idWZmZXIob2JqOiBhbnkpIHtcbiAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gISEob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lKGE6IGFueSwgYjogYW55KSB7XG4gIHJldHVybiBbXS5jb25jYXQoYSwgYik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXliZV9tYXA8VD4odmFsOiBUW10sIGZuOiAodjogVCkgPT4gVCkge1xuICBpZiAoaXNfYXJyYXkodmFsKSkge1xuICAgIGNvbnN0IG1hcHBlZCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBtYXBwZWQucHVzaChmbih2YWxbaV0hKSk7XG4gICAgfVxuICAgIHJldHVybiBtYXBwZWQ7XG4gIH1cbiAgcmV0dXJuIGZuKHZhbCk7XG59XG4iLCAiaW1wb3J0IHsgZW5jb2RlLCBpc19idWZmZXIsIG1heWJlX21hcCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdF9mb3JtYXQsIGZvcm1hdHRlcnMgfSBmcm9tICcuL2Zvcm1hdHMnO1xuaW1wb3J0IHR5cGUgeyBOb25OdWxsYWJsZVByb3BlcnRpZXMsIFN0cmluZ2lmeU9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuY29uc3QgYXJyYXlfcHJlZml4X2dlbmVyYXRvcnMgPSB7XG4gIGJyYWNrZXRzKHByZWZpeDogUHJvcGVydHlLZXkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHByZWZpeCkgKyAnW10nO1xuICB9LFxuICBjb21tYTogJ2NvbW1hJyxcbiAgaW5kaWNlcyhwcmVmaXg6IFByb3BlcnR5S2V5LCBrZXk6IHN0cmluZykge1xuICAgIHJldHVybiBTdHJpbmcocHJlZml4KSArICdbJyArIGtleSArICddJztcbiAgfSxcbiAgcmVwZWF0KHByZWZpeDogUHJvcGVydHlLZXkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHByZWZpeCk7XG4gIH0sXG59O1xuXG5jb25zdCBpc19hcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBwdXNoID0gQXJyYXkucHJvdG90eXBlLnB1c2g7XG5jb25zdCBwdXNoX3RvX2FycmF5ID0gZnVuY3Rpb24gKGFycjogYW55W10sIHZhbHVlX29yX2FycmF5OiBhbnkpIHtcbiAgcHVzaC5hcHBseShhcnIsIGlzX2FycmF5KHZhbHVlX29yX2FycmF5KSA/IHZhbHVlX29yX2FycmF5IDogW3ZhbHVlX29yX2FycmF5XSk7XG59O1xuXG5jb25zdCB0b19JU08gPSBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZztcblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gIGFkZFF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgYWxsb3dFbXB0eUFycmF5czogZmFsc2UsXG4gIGFycmF5Rm9ybWF0OiAnaW5kaWNlcycsXG4gIGNoYXJzZXQ6ICd1dGYtOCcsXG4gIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gIGRlbGltaXRlcjogJyYnLFxuICBlbmNvZGU6IHRydWUsXG4gIGVuY29kZURvdEluS2V5czogZmFsc2UsXG4gIGVuY29kZXI6IGVuY29kZSxcbiAgZW5jb2RlVmFsdWVzT25seTogZmFsc2UsXG4gIGZvcm1hdDogZGVmYXVsdF9mb3JtYXQsXG4gIGZvcm1hdHRlcjogZm9ybWF0dGVyc1tkZWZhdWx0X2Zvcm1hdF0sXG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICBpbmRpY2VzOiBmYWxzZSxcbiAgc2VyaWFsaXplRGF0ZShkYXRlKSB7XG4gICAgcmV0dXJuIHRvX0lTTy5jYWxsKGRhdGUpO1xuICB9LFxuICBza2lwTnVsbHM6IGZhbHNlLFxuICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlLFxufSBhcyBOb25OdWxsYWJsZVByb3BlcnRpZXM8U3RyaW5naWZ5T3B0aW9ucyAmIHsgZm9ybWF0dGVyOiAodHlwZW9mIGZvcm1hdHRlcnMpWydSRkMxNzM4J10gfT47XG5cbmZ1bmN0aW9uIGlzX25vbl9udWxsaXNoX3ByaW1pdGl2ZSh2OiB1bmtub3duKTogdiBpcyBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgc3ltYm9sIHwgYmlnaW50IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHxcbiAgICB0eXBlb2YgdiA9PT0gJ251bWJlcicgfHxcbiAgICB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgdHlwZW9mIHYgPT09ICdzeW1ib2wnIHx8XG4gICAgdHlwZW9mIHYgPT09ICdiaWdpbnQnXG4gICk7XG59XG5cbmNvbnN0IHNlbnRpbmVsID0ge307XG5cbmZ1bmN0aW9uIGlubmVyX3N0cmluZ2lmeShcbiAgb2JqZWN0OiBhbnksXG4gIHByZWZpeDogUHJvcGVydHlLZXksXG4gIGdlbmVyYXRlQXJyYXlQcmVmaXg6IFN0cmluZ2lmeU9wdGlvbnNbJ2FycmF5Rm9ybWF0J10gfCAoKHByZWZpeDogc3RyaW5nLCBrZXk6IHN0cmluZykgPT4gc3RyaW5nKSxcbiAgY29tbWFSb3VuZFRyaXA6IGJvb2xlYW4sXG4gIGFsbG93RW1wdHlBcnJheXM6IGJvb2xlYW4sXG4gIHN0cmljdE51bGxIYW5kbGluZzogYm9vbGVhbixcbiAgc2tpcE51bGxzOiBib29sZWFuLFxuICBlbmNvZGVEb3RJbktleXM6IGJvb2xlYW4sXG4gIGVuY29kZXI6IFN0cmluZ2lmeU9wdGlvbnNbJ2VuY29kZXInXSxcbiAgZmlsdGVyOiBTdHJpbmdpZnlPcHRpb25zWydmaWx0ZXInXSxcbiAgc29ydDogU3RyaW5naWZ5T3B0aW9uc1snc29ydCddLFxuICBhbGxvd0RvdHM6IFN0cmluZ2lmeU9wdGlvbnNbJ2FsbG93RG90cyddLFxuICBzZXJpYWxpemVEYXRlOiBTdHJpbmdpZnlPcHRpb25zWydzZXJpYWxpemVEYXRlJ10sXG4gIGZvcm1hdDogU3RyaW5naWZ5T3B0aW9uc1snZm9ybWF0J10sXG4gIGZvcm1hdHRlcjogU3RyaW5naWZ5T3B0aW9uc1snZm9ybWF0dGVyJ10sXG4gIGVuY29kZVZhbHVlc09ubHk6IGJvb2xlYW4sXG4gIGNoYXJzZXQ6IFN0cmluZ2lmeU9wdGlvbnNbJ2NoYXJzZXQnXSxcbiAgc2lkZUNoYW5uZWw6IFdlYWtNYXA8YW55LCBhbnk+LFxuKSB7XG4gIGxldCBvYmogPSBvYmplY3Q7XG5cbiAgbGV0IHRtcF9zYyA9IHNpZGVDaGFubmVsO1xuICBsZXQgc3RlcCA9IDA7XG4gIGxldCBmaW5kX2ZsYWcgPSBmYWxzZTtcbiAgd2hpbGUgKCh0bXBfc2MgPSB0bXBfc2MuZ2V0KHNlbnRpbmVsKSkgIT09IHZvaWQgdW5kZWZpbmVkICYmICFmaW5kX2ZsYWcpIHtcbiAgICAvLyBXaGVyZSBvYmplY3QgbGFzdCBhcHBlYXJlZCBpbiB0aGUgcmVmIHRyZWVcbiAgICBjb25zdCBwb3MgPSB0bXBfc2MuZ2V0KG9iamVjdCk7XG4gICAgc3RlcCArPSAxO1xuICAgIGlmICh0eXBlb2YgcG9zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHBvcyA9PT0gc3RlcCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ3ljbGljIG9iamVjdCB2YWx1ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmluZF9mbGFnID0gdHJ1ZTsgLy8gQnJlYWsgd2hpbGVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0bXBfc2MuZ2V0KHNlbnRpbmVsKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHN0ZXAgPSAwO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2JqID0gZmlsdGVyKHByZWZpeCwgb2JqKTtcbiAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgb2JqID0gc2VyaWFsaXplRGF0ZT8uKG9iaik7XG4gIH0gZWxzZSBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc19hcnJheShvYmopKSB7XG4gICAgb2JqID0gbWF5YmVfbWFwKG9iaiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVEYXRlPy4odmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIGlmIChzdHJpY3ROdWxsSGFuZGxpbmcpIHtcbiAgICAgIHJldHVybiBlbmNvZGVyICYmICFlbmNvZGVWYWx1ZXNPbmx5ID9cbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknLCBmb3JtYXQpXG4gICAgICAgIDogcHJlZml4O1xuICAgIH1cblxuICAgIG9iaiA9ICcnO1xuICB9XG5cbiAgaWYgKGlzX25vbl9udWxsaXNoX3ByaW1pdGl2ZShvYmopIHx8IGlzX2J1ZmZlcihvYmopKSB7XG4gICAgaWYgKGVuY29kZXIpIHtcbiAgICAgIGNvbnN0IGtleV92YWx1ZSA9XG4gICAgICAgIGVuY29kZVZhbHVlc09ubHkgPyBwcmVmaXhcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIDogZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknLCBmb3JtYXQpO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgZm9ybWF0dGVyPy4oa2V5X3ZhbHVlKSArXG4gICAgICAgICAgJz0nICtcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgZm9ybWF0dGVyPy4oZW5jb2RlcihvYmosIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICd2YWx1ZScsIGZvcm1hdCkpLFxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIFtmb3JtYXR0ZXI/LihwcmVmaXgpICsgJz0nICsgZm9ybWF0dGVyPy4oU3RyaW5nKG9iaikpXTtcbiAgfVxuXG4gIGNvbnN0IHZhbHVlczogc3RyaW5nW10gPSBbXTtcblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG5cbiAgbGV0IG9ial9rZXlzO1xuICBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc19hcnJheShvYmopKSB7XG4gICAgLy8gd2UgbmVlZCB0byBqb2luIGVsZW1lbnRzIGluXG4gICAgaWYgKGVuY29kZVZhbHVlc09ubHkgJiYgZW5jb2Rlcikge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB2YWx1ZXMgb25seVxuICAgICAgb2JqID0gbWF5YmVfbWFwKG9iaiwgZW5jb2Rlcik7XG4gICAgfVxuICAgIG9ial9rZXlzID0gW3sgdmFsdWU6IG9iai5sZW5ndGggPiAwID8gb2JqLmpvaW4oJywnKSB8fCBudWxsIDogdm9pZCB1bmRlZmluZWQgfV07XG4gIH0gZWxzZSBpZiAoaXNfYXJyYXkoZmlsdGVyKSkge1xuICAgIG9ial9rZXlzID0gZmlsdGVyO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIG9ial9rZXlzID0gc29ydCA/IGtleXMuc29ydChzb3J0KSA6IGtleXM7XG4gIH1cblxuICBjb25zdCBlbmNvZGVkX3ByZWZpeCA9IGVuY29kZURvdEluS2V5cyA/IFN0cmluZyhwcmVmaXgpLnJlcGxhY2UoL1xcLi9nLCAnJTJFJykgOiBTdHJpbmcocHJlZml4KTtcblxuICBjb25zdCBhZGp1c3RlZF9wcmVmaXggPVxuICAgIGNvbW1hUm91bmRUcmlwICYmIGlzX2FycmF5KG9iaikgJiYgb2JqLmxlbmd0aCA9PT0gMSA/IGVuY29kZWRfcHJlZml4ICsgJ1tdJyA6IGVuY29kZWRfcHJlZml4O1xuXG4gIGlmIChhbGxvd0VtcHR5QXJyYXlzICYmIGlzX2FycmF5KG9iaikgJiYgb2JqLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBhZGp1c3RlZF9wcmVmaXggKyAnW10nO1xuICB9XG5cbiAgZm9yIChsZXQgaiA9IDA7IGogPCBvYmpfa2V5cy5sZW5ndGg7ICsraikge1xuICAgIGNvbnN0IGtleSA9IG9ial9rZXlzW2pdO1xuICAgIGNvbnN0IHZhbHVlID1cbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHR5cGVvZiBrZXkgPT09ICdvYmplY3QnICYmIHR5cGVvZiBrZXkudmFsdWUgIT09ICd1bmRlZmluZWQnID8ga2V5LnZhbHVlIDogb2JqW2tleSBhcyBhbnldO1xuXG4gICAgaWYgKHNraXBOdWxscyAmJiB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGVuY29kZWRfa2V5ID0gYWxsb3dEb3RzICYmIGVuY29kZURvdEluS2V5cyA/IChrZXkgYXMgYW55KS5yZXBsYWNlKC9cXC4vZywgJyUyRScpIDoga2V5O1xuICAgIGNvbnN0IGtleV9wcmVmaXggPVxuICAgICAgaXNfYXJyYXkob2JqKSA/XG4gICAgICAgIHR5cGVvZiBnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4KGFkanVzdGVkX3ByZWZpeCwgZW5jb2RlZF9rZXkpXG4gICAgICAgIDogYWRqdXN0ZWRfcHJlZml4XG4gICAgICA6IGFkanVzdGVkX3ByZWZpeCArIChhbGxvd0RvdHMgPyAnLicgKyBlbmNvZGVkX2tleSA6ICdbJyArIGVuY29kZWRfa2V5ICsgJ10nKTtcblxuICAgIHNpZGVDaGFubmVsLnNldChvYmplY3QsIHN0ZXApO1xuICAgIGNvbnN0IHZhbHVlU2lkZUNoYW5uZWwgPSBuZXcgV2Vha01hcCgpO1xuICAgIHZhbHVlU2lkZUNoYW5uZWwuc2V0KHNlbnRpbmVsLCBzaWRlQ2hhbm5lbCk7XG4gICAgcHVzaF90b19hcnJheShcbiAgICAgIHZhbHVlcyxcbiAgICAgIGlubmVyX3N0cmluZ2lmeShcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGtleV9wcmVmaXgsXG4gICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgIGNvbW1hUm91bmRUcmlwLFxuICAgICAgICBhbGxvd0VtcHR5QXJyYXlzLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgZW5jb2RlRG90SW5LZXlzLFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgZW5jb2RlVmFsdWVzT25seSAmJiBpc19hcnJheShvYmopID8gbnVsbCA6IGVuY29kZXIsXG4gICAgICAgIGZpbHRlcixcbiAgICAgICAgc29ydCxcbiAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICBzZXJpYWxpemVEYXRlLFxuICAgICAgICBmb3JtYXQsXG4gICAgICAgIGZvcm1hdHRlcixcbiAgICAgICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgY2hhcnNldCxcbiAgICAgICAgdmFsdWVTaWRlQ2hhbm5lbCxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZV9zdHJpbmdpZnlfb3B0aW9ucyhcbiAgb3B0czogU3RyaW5naWZ5T3B0aW9ucyA9IGRlZmF1bHRzLFxuKTogTm9uTnVsbGFibGVQcm9wZXJ0aWVzPE9taXQ8U3RyaW5naWZ5T3B0aW9ucywgJ2luZGljZXMnPj4gJiB7IGluZGljZXM/OiBib29sZWFuIH0ge1xuICBpZiAodHlwZW9mIG9wdHMuYWxsb3dFbXB0eUFycmF5cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9wdHMuYWxsb3dFbXB0eUFycmF5cyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYGFsbG93RW1wdHlBcnJheXNgIG9wdGlvbiBjYW4gb25seSBiZSBgdHJ1ZWAgb3IgYGZhbHNlYCwgd2hlbiBwcm92aWRlZCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRzLmVuY29kZURvdEluS2V5cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9wdHMuZW5jb2RlRG90SW5LZXlzICE9PSAnYm9vbGVhbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgZW5jb2RlRG90SW5LZXlzYCBvcHRpb24gY2FuIG9ubHkgYmUgYHRydWVgIG9yIGBmYWxzZWAsIHdoZW4gcHJvdmlkZWQnKTtcbiAgfVxuXG4gIGlmIChvcHRzLmVuY29kZXIgIT09IG51bGwgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0VuY29kZXIgaGFzIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICBjb25zdCBjaGFyc2V0ID0gb3B0cy5jaGFyc2V0IHx8IGRlZmF1bHRzLmNoYXJzZXQ7XG4gIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgbGV0IGZvcm1hdCA9IGRlZmF1bHRfZm9ybWF0O1xuICBpZiAodHlwZW9mIG9wdHMuZm9ybWF0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICghaGFzLmNhbGwoZm9ybWF0dGVycywgb3B0cy5mb3JtYXQpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGZvcm1hdCBvcHRpb24gcHJvdmlkZWQuJyk7XG4gICAgfVxuICAgIGZvcm1hdCA9IG9wdHMuZm9ybWF0O1xuICB9XG4gIGNvbnN0IGZvcm1hdHRlciA9IGZvcm1hdHRlcnNbZm9ybWF0XTtcblxuICBsZXQgZmlsdGVyID0gZGVmYXVsdHMuZmlsdGVyO1xuICBpZiAodHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nIHx8IGlzX2FycmF5KG9wdHMuZmlsdGVyKSkge1xuICAgIGZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICB9XG5cbiAgbGV0IGFycmF5Rm9ybWF0OiBTdHJpbmdpZnlPcHRpb25zWydhcnJheUZvcm1hdCddO1xuICBpZiAob3B0cy5hcnJheUZvcm1hdCAmJiBvcHRzLmFycmF5Rm9ybWF0IGluIGFycmF5X3ByZWZpeF9nZW5lcmF0b3JzKSB7XG4gICAgYXJyYXlGb3JtYXQgPSBvcHRzLmFycmF5Rm9ybWF0O1xuICB9IGVsc2UgaWYgKCdpbmRpY2VzJyBpbiBvcHRzKSB7XG4gICAgYXJyYXlGb3JtYXQgPSBvcHRzLmluZGljZXMgPyAnaW5kaWNlcycgOiAncmVwZWF0JztcbiAgfSBlbHNlIHtcbiAgICBhcnJheUZvcm1hdCA9IGRlZmF1bHRzLmFycmF5Rm9ybWF0O1xuICB9XG5cbiAgaWYgKCdjb21tYVJvdW5kVHJpcCcgaW4gb3B0cyAmJiB0eXBlb2Ygb3B0cy5jb21tYVJvdW5kVHJpcCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYGNvbW1hUm91bmRUcmlwYCBtdXN0IGJlIGEgYm9vbGVhbiwgb3IgYWJzZW50Jyk7XG4gIH1cblxuICBjb25zdCBhbGxvd0RvdHMgPVxuICAgIHR5cGVvZiBvcHRzLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgISFvcHRzLmVuY29kZURvdEluS2V5cyA9PT0gdHJ1ZSA/XG4gICAgICAgIHRydWVcbiAgICAgIDogZGVmYXVsdHMuYWxsb3dEb3RzXG4gICAgOiAhIW9wdHMuYWxsb3dEb3RzO1xuXG4gIHJldHVybiB7XG4gICAgYWRkUXVlcnlQcmVmaXg6IHR5cGVvZiBvcHRzLmFkZFF1ZXJ5UHJlZml4ID09PSAnYm9vbGVhbicgPyBvcHRzLmFkZFF1ZXJ5UHJlZml4IDogZGVmYXVsdHMuYWRkUXVlcnlQcmVmaXgsXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGFsbG93RG90czogYWxsb3dEb3RzLFxuICAgIGFsbG93RW1wdHlBcnJheXM6XG4gICAgICB0eXBlb2Ygb3B0cy5hbGxvd0VtcHR5QXJyYXlzID09PSAnYm9vbGVhbicgPyAhIW9wdHMuYWxsb3dFbXB0eUFycmF5cyA6IGRlZmF1bHRzLmFsbG93RW1wdHlBcnJheXMsXG4gICAgYXJyYXlGb3JtYXQ6IGFycmF5Rm9ybWF0LFxuICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgY2hhcnNldFNlbnRpbmVsOlxuICAgICAgdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICBjb21tYVJvdW5kVHJpcDogISFvcHRzLmNvbW1hUm91bmRUcmlwLFxuICAgIGRlbGltaXRlcjogdHlwZW9mIG9wdHMuZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmRlbGltaXRlciA6IG9wdHMuZGVsaW1pdGVyLFxuICAgIGVuY29kZTogdHlwZW9mIG9wdHMuZW5jb2RlID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZSA6IGRlZmF1bHRzLmVuY29kZSxcbiAgICBlbmNvZGVEb3RJbktleXM6XG4gICAgICB0eXBlb2Ygb3B0cy5lbmNvZGVEb3RJbktleXMgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlRG90SW5LZXlzIDogZGVmYXVsdHMuZW5jb2RlRG90SW5LZXlzLFxuICAgIGVuY29kZXI6IHR5cGVvZiBvcHRzLmVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRzLmVuY29kZXIgOiBkZWZhdWx0cy5lbmNvZGVyLFxuICAgIGVuY29kZVZhbHVlc09ubHk6XG4gICAgICB0eXBlb2Ygb3B0cy5lbmNvZGVWYWx1ZXNPbmx5ID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZVZhbHVlc09ubHkgOiBkZWZhdWx0cy5lbmNvZGVWYWx1ZXNPbmx5LFxuICAgIGZpbHRlcjogZmlsdGVyLFxuICAgIGZvcm1hdDogZm9ybWF0LFxuICAgIGZvcm1hdHRlcjogZm9ybWF0dGVyLFxuICAgIHNlcmlhbGl6ZURhdGU6IHR5cGVvZiBvcHRzLnNlcmlhbGl6ZURhdGUgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNlcmlhbGl6ZURhdGUgOiBkZWZhdWx0cy5zZXJpYWxpemVEYXRlLFxuICAgIHNraXBOdWxsczogdHlwZW9mIG9wdHMuc2tpcE51bGxzID09PSAnYm9vbGVhbicgPyBvcHRzLnNraXBOdWxscyA6IGRlZmF1bHRzLnNraXBOdWxscyxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgc29ydDogdHlwZW9mIG9wdHMuc29ydCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc29ydCA6IG51bGwsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOlxuICAgICAgdHlwZW9mIG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nID09PSAnYm9vbGVhbicgPyBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA6IGRlZmF1bHRzLnN0cmljdE51bGxIYW5kbGluZyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeShvYmplY3Q6IGFueSwgb3B0czogU3RyaW5naWZ5T3B0aW9ucyA9IHt9KSB7XG4gIGxldCBvYmogPSBvYmplY3Q7XG4gIGNvbnN0IG9wdGlvbnMgPSBub3JtYWxpemVfc3RyaW5naWZ5X29wdGlvbnMob3B0cyk7XG5cbiAgbGV0IG9ial9rZXlzOiBQcm9wZXJ0eUtleVtdIHwgdW5kZWZpbmVkO1xuICBsZXQgZmlsdGVyO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICBvYmogPSBmaWx0ZXIoJycsIG9iaik7XG4gIH0gZWxzZSBpZiAoaXNfYXJyYXkob3B0aW9ucy5maWx0ZXIpKSB7XG4gICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgb2JqX2tleXMgPSBmaWx0ZXI7XG4gIH1cblxuICBjb25zdCBrZXlzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBjb25zdCBnZW5lcmF0ZUFycmF5UHJlZml4ID0gYXJyYXlfcHJlZml4X2dlbmVyYXRvcnNbb3B0aW9ucy5hcnJheUZvcm1hdF07XG4gIGNvbnN0IGNvbW1hUm91bmRUcmlwID0gZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBvcHRpb25zLmNvbW1hUm91bmRUcmlwO1xuXG4gIGlmICghb2JqX2tleXMpIHtcbiAgICBvYmpfa2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIH1cblxuICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgb2JqX2tleXMuc29ydChvcHRpb25zLnNvcnQpO1xuICB9XG5cbiAgY29uc3Qgc2lkZUNoYW5uZWwgPSBuZXcgV2Vha01hcCgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG9ial9rZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgY29uc3Qga2V5ID0gb2JqX2tleXNbaV0hO1xuXG4gICAgaWYgKG9wdGlvbnMuc2tpcE51bGxzICYmIG9ialtrZXldID09PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcHVzaF90b19hcnJheShcbiAgICAgIGtleXMsXG4gICAgICBpbm5lcl9zdHJpbmdpZnkoXG4gICAgICAgIG9ialtrZXldLFxuICAgICAgICBrZXksXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgY29tbWFSb3VuZFRyaXAsXG4gICAgICAgIG9wdGlvbnMuYWxsb3dFbXB0eUFycmF5cyxcbiAgICAgICAgb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgIG9wdGlvbnMuc2tpcE51bGxzLFxuICAgICAgICBvcHRpb25zLmVuY29kZURvdEluS2V5cyxcbiAgICAgICAgb3B0aW9ucy5lbmNvZGUgPyBvcHRpb25zLmVuY29kZXIgOiBudWxsLFxuICAgICAgICBvcHRpb25zLmZpbHRlcixcbiAgICAgICAgb3B0aW9ucy5zb3J0LFxuICAgICAgICBvcHRpb25zLmFsbG93RG90cyxcbiAgICAgICAgb3B0aW9ucy5zZXJpYWxpemVEYXRlLFxuICAgICAgICBvcHRpb25zLmZvcm1hdCxcbiAgICAgICAgb3B0aW9ucy5mb3JtYXR0ZXIsXG4gICAgICAgIG9wdGlvbnMuZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgb3B0aW9ucy5jaGFyc2V0LFxuICAgICAgICBzaWRlQ2hhbm5lbCxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGpvaW5lZCA9IGtleXMuam9pbihvcHRpb25zLmRlbGltaXRlcik7XG4gIGxldCBwcmVmaXggPSBvcHRpb25zLmFkZFF1ZXJ5UHJlZml4ID09PSB0cnVlID8gJz8nIDogJyc7XG5cbiAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JyksIHRoZSBcIm51bWVyaWMgZW50aXR5XCIgcmVwcmVzZW50YXRpb24gb2YgYSBjaGVja21hcmtcbiAgICAgIHByZWZpeCArPSAndXRmOD0lMjYlMjMxMDAwMyUzQiYnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJ1x1MjcxMycpXG4gICAgICBwcmVmaXggKz0gJ3V0Zjg9JUUyJTlDJTkzJic7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGpvaW5lZC5sZW5ndGggPiAwID8gcHJlZml4ICsgam9pbmVkIDogJyc7XG59XG4iLCAiZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC44OC4wJzsgLy8geC1yZWxlYXNlLXBsZWFzZS12ZXJzaW9uXG4iLCAiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5pbXBvcnQgeyB0eXBlIFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hpbXMge1xuICBraW5kOiBzdHJpbmc7XG4gIGZldGNoOiBhbnk7XG4gIFJlcXVlc3Q6IGFueTtcbiAgUmVzcG9uc2U6IGFueTtcbiAgSGVhZGVyczogYW55O1xuICBGb3JtRGF0YTogYW55O1xuICBCbG9iOiBhbnk7XG4gIEZpbGU6IGFueTtcbiAgUmVhZGFibGVTdHJlYW06IGFueTtcbiAgZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnM6IDxUID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KFxuICAgIGZvcm06IFNoaW1zWydGb3JtRGF0YSddLFxuICAgIG9wdHM6IFJlcXVlc3RPcHRpb25zPFQ+LFxuICApID0+IFByb21pc2U8UmVxdWVzdE9wdGlvbnM8VD4+O1xuICBnZXREZWZhdWx0QWdlbnQ6ICh1cmw6IHN0cmluZykgPT4gYW55O1xuICBmaWxlRnJvbVBhdGg6XG4gICAgfCAoKHBhdGg6IHN0cmluZywgZmlsZW5hbWU/OiBzdHJpbmcsIG9wdGlvbnM/OiB7fSkgPT4gUHJvbWlzZTxTaGltc1snRmlsZSddPilcbiAgICB8ICgocGF0aDogc3RyaW5nLCBvcHRpb25zPzoge30pID0+IFByb21pc2U8U2hpbXNbJ0ZpbGUnXT4pO1xuICBpc0ZzUmVhZFN0cmVhbTogKHZhbHVlOiBhbnkpID0+IGJvb2xlYW47XG59XG5cbmV4cG9ydCBsZXQgYXV0byA9IGZhbHNlO1xuZXhwb3J0IGxldCBraW5kOiBTaGltc1sna2luZCddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBmZXRjaDogU2hpbXNbJ2ZldGNoJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IFJlcXVlc3Q6IFNoaW1zWydSZXF1ZXN0J10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IFJlc3BvbnNlOiBTaGltc1snUmVzcG9uc2UnXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgSGVhZGVyczogU2hpbXNbJ0hlYWRlcnMnXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgRm9ybURhdGE6IFNoaW1zWydGb3JtRGF0YSddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBCbG9iOiBTaGltc1snQmxvYiddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBGaWxlOiBTaGltc1snRmlsZSddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBSZWFkYWJsZVN0cmVhbTogU2hpbXNbJ1JlYWRhYmxlU3RyZWFtJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zOiBTaGltc1snZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMnXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgZ2V0RGVmYXVsdEFnZW50OiBTaGltc1snZ2V0RGVmYXVsdEFnZW50J10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGZpbGVGcm9tUGF0aDogU2hpbXNbJ2ZpbGVGcm9tUGF0aCddIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBpc0ZzUmVhZFN0cmVhbTogU2hpbXNbJ2lzRnNSZWFkU3RyZWFtJ10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTaGltcyhzaGltczogU2hpbXMsIG9wdGlvbnM6IHsgYXV0bzogYm9vbGVhbiB9ID0geyBhdXRvOiBmYWxzZSB9KSB7XG4gIGlmIChhdXRvKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYHlvdSBtdXN0IFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7c2hpbXMua2luZH0nXFxgIGJlZm9yZSBpbXBvcnRpbmcgYW55dGhpbmcgZWxzZSBmcm9tIG9wZW5haWAsXG4gICAgKTtcbiAgfVxuICBpZiAoa2luZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgY2FuJ3QgXFxgaW1wb3J0ICdvcGVuYWkvc2hpbXMvJHtzaGltcy5raW5kfSdcXGAgYWZ0ZXIgXFxgaW1wb3J0ICdvcGVuYWkvc2hpbXMvJHtraW5kfSdcXGBgKTtcbiAgfVxuICBhdXRvID0gb3B0aW9ucy5hdXRvO1xuICBraW5kID0gc2hpbXMua2luZDtcbiAgZmV0Y2ggPSBzaGltcy5mZXRjaDtcbiAgUmVxdWVzdCA9IHNoaW1zLlJlcXVlc3Q7XG4gIFJlc3BvbnNlID0gc2hpbXMuUmVzcG9uc2U7XG4gIEhlYWRlcnMgPSBzaGltcy5IZWFkZXJzO1xuICBGb3JtRGF0YSA9IHNoaW1zLkZvcm1EYXRhO1xuICBCbG9iID0gc2hpbXMuQmxvYjtcbiAgRmlsZSA9IHNoaW1zLkZpbGU7XG4gIFJlYWRhYmxlU3RyZWFtID0gc2hpbXMuUmVhZGFibGVTdHJlYW07XG4gIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zID0gc2hpbXMuZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnM7XG4gIGdldERlZmF1bHRBZ2VudCA9IHNoaW1zLmdldERlZmF1bHRBZ2VudDtcbiAgZmlsZUZyb21QYXRoID0gc2hpbXMuZmlsZUZyb21QYXRoO1xuICBpc0ZzUmVhZFN0cmVhbSA9IHNoaW1zLmlzRnNSZWFkU3RyZWFtO1xufVxuIiwgIi8qKlxuICogRGlzY2xhaW1lcjogbW9kdWxlcyBpbiBfc2hpbXMgYXJlbid0IGludGVuZGVkIHRvIGJlIGltcG9ydGVkIGJ5IFNESyB1c2Vycy5cbiAqL1xuZXhwb3J0IGNsYXNzIE11bHRpcGFydEJvZHkge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgYm9keTogYW55KSB7fVxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ011bHRpcGFydEJvZHknO1xuICB9XG59XG4iLCAiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5pbXBvcnQgeyBNdWx0aXBhcnRCb2R5IH0gZnJvbSAnLi9NdWx0aXBhcnRCb2R5JztcbmltcG9ydCB7IHR5cGUgUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB7IHR5cGUgU2hpbXMgfSBmcm9tICcuL3JlZ2lzdHJ5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJ1bnRpbWUoeyBtYW51YWxseUltcG9ydGVkIH06IHsgbWFudWFsbHlJbXBvcnRlZD86IGJvb2xlYW4gfSA9IHt9KTogU2hpbXMge1xuICBjb25zdCByZWNvbW1lbmRhdGlvbiA9XG4gICAgbWFudWFsbHlJbXBvcnRlZCA/XG4gICAgICBgWW91IG1heSBuZWVkIHRvIHVzZSBwb2x5ZmlsbHNgXG4gICAgOiBgQWRkIG9uZSBvZiB0aGVzZSBpbXBvcnRzIGJlZm9yZSB5b3VyIGZpcnN0IFxcYGltcG9ydCBcdTIwMjYgZnJvbSAnb3BlbmFpJ1xcYDpcbi0gXFxgaW1wb3J0ICdvcGVuYWkvc2hpbXMvbm9kZSdcXGAgKGlmIHlvdSdyZSBydW5uaW5nIG9uIE5vZGUpXG4tIFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zL3dlYidcXGAgKG90aGVyd2lzZSlcbmA7XG5cbiAgbGV0IF9mZXRjaCwgX1JlcXVlc3QsIF9SZXNwb25zZSwgX0hlYWRlcnM7XG4gIHRyeSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIF9mZXRjaCA9IGZldGNoO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBfUmVxdWVzdCA9IFJlcXVlc3Q7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIF9SZXNwb25zZSA9IFJlc3BvbnNlO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBfSGVhZGVycyA9IEhlYWRlcnM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYHRoaXMgZW52aXJvbm1lbnQgaXMgbWlzc2luZyB0aGUgZm9sbG93aW5nIFdlYiBGZXRjaCBBUEkgdHlwZTogJHtcbiAgICAgICAgKGVycm9yIGFzIGFueSkubWVzc2FnZVxuICAgICAgfS4gJHtyZWNvbW1lbmRhdGlvbn1gLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGtpbmQ6ICd3ZWInLFxuICAgIGZldGNoOiBfZmV0Y2gsXG4gICAgUmVxdWVzdDogX1JlcXVlc3QsXG4gICAgUmVzcG9uc2U6IF9SZXNwb25zZSxcbiAgICBIZWFkZXJzOiBfSGVhZGVycyxcbiAgICBGb3JtRGF0YTpcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcgPyBGb3JtRGF0YSA6IChcbiAgICAgICAgY2xhc3MgRm9ybURhdGEge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYGZpbGUgdXBsb2FkcyBhcmVuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQgeWV0IGFzICdGb3JtRGF0YScgaXMgdW5kZWZpbmVkLiAke3JlY29tbWVuZGF0aW9ufWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICBCbG9iOlxuICAgICAgdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnID8gQmxvYiA6IChcbiAgICAgICAgY2xhc3MgQmxvYiB7XG4gICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBmaWxlIHVwbG9hZHMgYXJlbid0IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IHlldCBhcyAnQmxvYicgaXMgdW5kZWZpbmVkLiAke3JlY29tbWVuZGF0aW9ufWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICBGaWxlOlxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdHlwZW9mIEZpbGUgIT09ICd1bmRlZmluZWQnID8gRmlsZSA6IChcbiAgICAgICAgY2xhc3MgRmlsZSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgZmlsZSB1cGxvYWRzIGFyZW4ndCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCB5ZXQgYXMgJ0ZpbGUnIGlzIHVuZGVmaW5lZC4gJHtyZWNvbW1lbmRhdGlvbn1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgUmVhZGFibGVTdHJlYW06XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0eXBlb2YgUmVhZGFibGVTdHJlYW0gIT09ICd1bmRlZmluZWQnID8gUmVhZGFibGVTdHJlYW0gOiAoXG4gICAgICAgIGNsYXNzIFJlYWRhYmxlU3RyZWFtIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBzdHJlYW1pbmcgaXNuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQgeWV0IGFzICdSZWFkYWJsZVN0cmVhbScgaXMgdW5kZWZpbmVkLiAke3JlY29tbWVuZGF0aW9ufWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9uczogYXN5bmMgPFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBmb3JtOiBGb3JtRGF0YSxcbiAgICAgIG9wdHM6IFJlcXVlc3RPcHRpb25zPFQ+LFxuICAgICk6IFByb21pc2U8UmVxdWVzdE9wdGlvbnM8VD4+ID0+ICh7XG4gICAgICAuLi5vcHRzLFxuICAgICAgYm9keTogbmV3IE11bHRpcGFydEJvZHkoZm9ybSkgYXMgYW55LFxuICAgIH0pLFxuICAgIGdldERlZmF1bHRBZ2VudDogKHVybDogc3RyaW5nKSA9PiB1bmRlZmluZWQsXG4gICAgZmlsZUZyb21QYXRoOiAoKSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgYGZpbGVGcm9tUGF0aGAgZnVuY3Rpb24gaXMgb25seSBzdXBwb3J0ZWQgaW4gTm9kZS4gU2VlIHRoZSBSRUFETUUgZm9yIG1vcmUgZGV0YWlsczogaHR0cHM6Ly93d3cuZ2l0aHViLmNvbS9vcGVuYWkvb3BlbmFpLW5vZGUjZmlsZS11cGxvYWRzJyxcbiAgICAgICk7XG4gICAgfSxcbiAgICBpc0ZzUmVhZFN0cmVhbTogKHZhbHVlOiBhbnkpID0+IGZhbHNlLFxuICB9O1xufVxuIiwgIi8qKlxuICogRGlzY2xhaW1lcjogbW9kdWxlcyBpbiBfc2hpbXMgYXJlbid0IGludGVuZGVkIHRvIGJlIGltcG9ydGVkIGJ5IFNESyB1c2Vycy5cbiAqL1xuaW1wb3J0ICogYXMgc2hpbXMgZnJvbSAnLi9yZWdpc3RyeS5tanMnO1xuaW1wb3J0ICogYXMgYXV0byBmcm9tICdvcGVuYWkvX3NoaW1zL2F1dG8vcnVudGltZSc7XG5pZiAoIXNoaW1zLmtpbmQpIHNoaW1zLnNldFNoaW1zKGF1dG8uZ2V0UnVudGltZSgpLCB7IGF1dG86IHRydWUgfSk7XG5leHBvcnQgKiBmcm9tICcuL3JlZ2lzdHJ5Lm1qcyc7XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgY2FzdFRvRXJyb3IsIEhlYWRlcnMgfSBmcm9tICcuL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgT3BlbkFJRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5leHBvcnQgY2xhc3MgQVBJRXJyb3I8XG4gIFRTdGF0dXMgZXh0ZW5kcyBudW1iZXIgfCB1bmRlZmluZWQgPSBudW1iZXIgfCB1bmRlZmluZWQsXG4gIFRIZWFkZXJzIGV4dGVuZHMgSGVhZGVycyB8IHVuZGVmaW5lZCA9IEhlYWRlcnMgfCB1bmRlZmluZWQsXG4gIFRFcnJvciBleHRlbmRzIE9iamVjdCB8IHVuZGVmaW5lZCA9IE9iamVjdCB8IHVuZGVmaW5lZCxcbj4gZXh0ZW5kcyBPcGVuQUlFcnJvciB7XG4gIC8qKiBIVFRQIHN0YXR1cyBmb3IgdGhlIHJlc3BvbnNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvciAqL1xuICByZWFkb25seSBzdGF0dXM6IFRTdGF0dXM7XG4gIC8qKiBIVFRQIGhlYWRlcnMgZm9yIHRoZSByZXNwb25zZSB0aGF0IGNhdXNlZCB0aGUgZXJyb3IgKi9cbiAgcmVhZG9ubHkgaGVhZGVyczogVEhlYWRlcnM7XG4gIC8qKiBKU09OIGJvZHkgb2YgdGhlIHJlc3BvbnNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvciAqL1xuICByZWFkb25seSBlcnJvcjogVEVycm9yO1xuXG4gIHJlYWRvbmx5IGNvZGU6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHBhcmFtOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSB0eXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgcmVhZG9ubHkgcmVxdWVzdF9pZDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihzdGF0dXM6IFRTdGF0dXMsIGVycm9yOiBURXJyb3IsIG1lc3NhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZCwgaGVhZGVyczogVEhlYWRlcnMpIHtcbiAgICBzdXBlcihgJHtBUElFcnJvci5tYWtlTWVzc2FnZShzdGF0dXMsIGVycm9yLCBtZXNzYWdlKX1gKTtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgIHRoaXMucmVxdWVzdF9pZCA9IGhlYWRlcnM/LlsneC1yZXF1ZXN0LWlkJ107XG4gICAgdGhpcy5lcnJvciA9IGVycm9yO1xuXG4gICAgY29uc3QgZGF0YSA9IGVycm9yIGFzIFJlY29yZDxzdHJpbmcsIGFueT47XG4gICAgdGhpcy5jb2RlID0gZGF0YT8uWydjb2RlJ107XG4gICAgdGhpcy5wYXJhbSA9IGRhdGE/LlsncGFyYW0nXTtcbiAgICB0aGlzLnR5cGUgPSBkYXRhPy5bJ3R5cGUnXTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIG1ha2VNZXNzYWdlKHN0YXR1czogbnVtYmVyIHwgdW5kZWZpbmVkLCBlcnJvcjogYW55LCBtZXNzYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBtc2cgPVxuICAgICAgZXJyb3I/Lm1lc3NhZ2UgP1xuICAgICAgICB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgOiBKU09OLnN0cmluZ2lmeShlcnJvci5tZXNzYWdlKVxuICAgICAgOiBlcnJvciA/IEpTT04uc3RyaW5naWZ5KGVycm9yKVxuICAgICAgOiBtZXNzYWdlO1xuXG4gICAgaWYgKHN0YXR1cyAmJiBtc2cpIHtcbiAgICAgIHJldHVybiBgJHtzdGF0dXN9ICR7bXNnfWA7XG4gICAgfVxuICAgIGlmIChzdGF0dXMpIHtcbiAgICAgIHJldHVybiBgJHtzdGF0dXN9IHN0YXR1cyBjb2RlIChubyBib2R5KWA7XG4gICAgfVxuICAgIGlmIChtc2cpIHtcbiAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuICAgIHJldHVybiAnKG5vIHN0YXR1cyBjb2RlIG9yIGJvZHkpJztcbiAgfVxuXG4gIHN0YXRpYyBnZW5lcmF0ZShcbiAgICBzdGF0dXM6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgICBlcnJvclJlc3BvbnNlOiBPYmplY3QgfCB1bmRlZmluZWQsXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIGhlYWRlcnM6IEhlYWRlcnMgfCB1bmRlZmluZWQsXG4gICk6IEFQSUVycm9yIHtcbiAgICBpZiAoIXN0YXR1cyB8fCAhaGVhZGVycykge1xuICAgICAgcmV0dXJuIG5ldyBBUElDb25uZWN0aW9uRXJyb3IoeyBtZXNzYWdlLCBjYXVzZTogY2FzdFRvRXJyb3IoZXJyb3JSZXNwb25zZSkgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3IgPSAoZXJyb3JSZXNwb25zZSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KT8uWydlcnJvciddO1xuXG4gICAgaWYgKHN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICByZXR1cm4gbmV3IEJhZFJlcXVlc3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSA0MDEpIHtcbiAgICAgIHJldHVybiBuZXcgQXV0aGVudGljYXRpb25FcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICAgIHJldHVybiBuZXcgUGVybWlzc2lvbkRlbmllZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IDQwNCkge1xuICAgICAgcmV0dXJuIG5ldyBOb3RGb3VuZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IDQwOSkge1xuICAgICAgcmV0dXJuIG5ldyBDb25mbGljdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IDQyMikge1xuICAgICAgcmV0dXJuIG5ldyBVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICByZXR1cm4gbmV3IFJhdGVMaW1pdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPj0gNTAwKSB7XG4gICAgICByZXR1cm4gbmV3IEludGVybmFsU2VydmVyRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBUElFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQVBJVXNlckFib3J0RXJyb3IgZXh0ZW5kcyBBUElFcnJvcjx1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkPiB7XG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9OiB7IG1lc3NhZ2U/OiBzdHJpbmcgfSA9IHt9KSB7XG4gICAgc3VwZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIG1lc3NhZ2UgfHwgJ1JlcXVlc3Qgd2FzIGFib3J0ZWQuJywgdW5kZWZpbmVkKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvbkVycm9yIGV4dGVuZHMgQVBJRXJyb3I8dW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZD4ge1xuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UsIGNhdXNlIH06IHsgbWVzc2FnZT86IHN0cmluZyB8IHVuZGVmaW5lZDsgY2F1c2U/OiBFcnJvciB8IHVuZGVmaW5lZCB9KSB7XG4gICAgc3VwZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIG1lc3NhZ2UgfHwgJ0Nvbm5lY3Rpb24gZXJyb3IuJywgdW5kZWZpbmVkKTtcbiAgICAvLyBpbiBzb21lIGVudmlyb25tZW50cyB0aGUgJ2NhdXNlJyBwcm9wZXJ0eSBpcyBhbHJlYWR5IGRlY2xhcmVkXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChjYXVzZSkgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yIGV4dGVuZHMgQVBJQ29ubmVjdGlvbkVycm9yIHtcbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH06IHsgbWVzc2FnZT86IHN0cmluZyB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gJ1JlcXVlc3QgdGltZWQgb3V0LicgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJhZFJlcXVlc3RFcnJvciBleHRlbmRzIEFQSUVycm9yPDQwMCwgSGVhZGVycz4ge31cblxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBUElFcnJvcjw0MDEsIEhlYWRlcnM+IHt9XG5cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uRGVuaWVkRXJyb3IgZXh0ZW5kcyBBUElFcnJvcjw0MDMsIEhlYWRlcnM+IHt9XG5cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgQVBJRXJyb3I8NDA0LCBIZWFkZXJzPiB7fVxuXG5leHBvcnQgY2xhc3MgQ29uZmxpY3RFcnJvciBleHRlbmRzIEFQSUVycm9yPDQwOSwgSGVhZGVycz4ge31cblxuZXhwb3J0IGNsYXNzIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciBleHRlbmRzIEFQSUVycm9yPDQyMiwgSGVhZGVycz4ge31cblxuZXhwb3J0IGNsYXNzIFJhdGVMaW1pdEVycm9yIGV4dGVuZHMgQVBJRXJyb3I8NDI5LCBIZWFkZXJzPiB7fVxuXG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEFQSUVycm9yPG51bWJlciwgSGVhZGVycz4ge31cblxuZXhwb3J0IGNsYXNzIExlbmd0aEZpbmlzaFJlYXNvbkVycm9yIGV4dGVuZHMgT3BlbkFJRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIGNvbnRlbnQgYXMgdGhlIGxlbmd0aCBsaW1pdCB3YXMgcmVhY2hlZGApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IgZXh0ZW5kcyBPcGVuQUlFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKGBDb3VsZCBub3QgcGFyc2UgcmVzcG9uc2UgY29udGVudCBhcyB0aGUgcmVxdWVzdCB3YXMgcmVqZWN0ZWQgYnkgdGhlIGNvbnRlbnQgZmlsdGVyYCk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBPcGVuQUlFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yJztcblxuZXhwb3J0IHR5cGUgQnl0ZXMgPSBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IFVpbnQ4QXJyYXkgfCBCdWZmZXIgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgcmUtaW1wbGVtZW50YXRpb24gb2YgaHR0cHgncyBgTGluZURlY29kZXJgIGluIFB5dGhvbiB0aGF0IGhhbmRsZXMgaW5jcmVtZW50YWxseVxuICogcmVhZGluZyBsaW5lcyBmcm9tIHRleHQuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2VuY29kZS9odHRweC9ibG9iLzkyMDMzM2VhOTgxMThlOWNmNjE3ZjI0NjkwNWQ3YjIwMjUxMDk0MWMvaHR0cHgvX2RlY29kZXJzLnB5I0wyNThcbiAqL1xuZXhwb3J0IGNsYXNzIExpbmVEZWNvZGVyIHtcbiAgLy8gcHJldHRpZXItaWdub3JlXG4gIHN0YXRpYyBORVdMSU5FX0NIQVJTID0gbmV3IFNldChbJ1xcbicsICdcXHInXSk7XG4gIHN0YXRpYyBORVdMSU5FX1JFR0VYUCA9IC9cXHJcXG58W1xcblxccl0vZztcblxuICBidWZmZXI6IFVpbnQ4QXJyYXk7XG4gICNjYXJyaWFnZVJldHVybkluZGV4OiBudW1iZXIgfCBudWxsO1xuICB0ZXh0RGVjb2RlcjogYW55OyAvLyBUZXh0RGVjb2RlciBmb3VuZCBpbiBicm93c2Vyczsgbm90IHR5cGVkIHRvIGF2b2lkIHB1bGxpbmcgaW4gZWl0aGVyIFwiZG9tXCIgb3IgXCJub2RlXCIgdHlwZXMuXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheSgpO1xuICAgIHRoaXMuI2NhcnJpYWdlUmV0dXJuSW5kZXggPSBudWxsO1xuICB9XG5cbiAgZGVjb2RlKGNodW5rOiBCeXRlcyk6IHN0cmluZ1tdIHtcbiAgICBpZiAoY2h1bmsgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IGJpbmFyeUNodW5rID1cbiAgICAgIGNodW5rIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBuZXcgVWludDhBcnJheShjaHVuaylcbiAgICAgIDogdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJyA/IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShjaHVuaylcbiAgICAgIDogY2h1bms7XG5cbiAgICBsZXQgbmV3RGF0YSA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLmxlbmd0aCArIGJpbmFyeUNodW5rLmxlbmd0aCk7XG4gICAgbmV3RGF0YS5zZXQodGhpcy5idWZmZXIpO1xuICAgIG5ld0RhdGEuc2V0KGJpbmFyeUNodW5rLCB0aGlzLmJ1ZmZlci5sZW5ndGgpO1xuICAgIHRoaXMuYnVmZmVyID0gbmV3RGF0YTtcblxuICAgIGNvbnN0IGxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBwYXR0ZXJuSW5kZXg7XG4gICAgd2hpbGUgKChwYXR0ZXJuSW5kZXggPSBmaW5kTmV3bGluZUluZGV4KHRoaXMuYnVmZmVyLCB0aGlzLiNjYXJyaWFnZVJldHVybkluZGV4KSkgIT0gbnVsbCkge1xuICAgICAgaWYgKHBhdHRlcm5JbmRleC5jYXJyaWFnZSAmJiB0aGlzLiNjYXJyaWFnZVJldHVybkluZGV4ID09IG51bGwpIHtcbiAgICAgICAgLy8gc2tpcCB1bnRpbCB3ZSBlaXRoZXIgZ2V0IGEgY29ycmVzcG9uZGluZyBgXFxuYCwgYSBuZXcgYFxccmAgb3Igbm90aGluZ1xuICAgICAgICB0aGlzLiNjYXJyaWFnZVJldHVybkluZGV4ID0gcGF0dGVybkluZGV4LmluZGV4O1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gd2UgZ290IGRvdWJsZSBcXHIgb3IgXFxydGV4dFxcblxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLiNjYXJyaWFnZVJldHVybkluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgKHBhdHRlcm5JbmRleC5pbmRleCAhPT0gdGhpcy4jY2FycmlhZ2VSZXR1cm5JbmRleCArIDEgfHwgcGF0dGVybkluZGV4LmNhcnJpYWdlKVxuICAgICAgKSB7XG4gICAgICAgIGxpbmVzLnB1c2godGhpcy5kZWNvZGVUZXh0KHRoaXMuYnVmZmVyLnNsaWNlKDAsIHRoaXMuI2NhcnJpYWdlUmV0dXJuSW5kZXggLSAxKSkpO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLnNsaWNlKHRoaXMuI2NhcnJpYWdlUmV0dXJuSW5kZXgpO1xuICAgICAgICB0aGlzLiNjYXJyaWFnZVJldHVybkluZGV4ID0gbnVsbDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVuZEluZGV4ID1cbiAgICAgICAgdGhpcy4jY2FycmlhZ2VSZXR1cm5JbmRleCAhPT0gbnVsbCA/IHBhdHRlcm5JbmRleC5wcmVjZWRpbmcgLSAxIDogcGF0dGVybkluZGV4LnByZWNlZGluZztcblxuICAgICAgY29uc3QgbGluZSA9IHRoaXMuZGVjb2RlVGV4dCh0aGlzLmJ1ZmZlci5zbGljZSgwLCBlbmRJbmRleCkpO1xuICAgICAgbGluZXMucHVzaChsaW5lKTtcblxuICAgICAgdGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5zbGljZShwYXR0ZXJuSW5kZXguaW5kZXgpO1xuICAgICAgdGhpcy4jY2FycmlhZ2VSZXR1cm5JbmRleCA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpbmVzO1xuICB9XG5cbiAgZGVjb2RlVGV4dChieXRlczogQnl0ZXMpOiBzdHJpbmcge1xuICAgIGlmIChieXRlcyA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHJldHVybiBieXRlcztcblxuICAgIC8vIE5vZGU6XG4gICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoYnl0ZXMgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIGJ5dGVzLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAoYnl0ZXMgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShieXRlcykudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKFxuICAgICAgICBgVW5leHBlY3RlZDogcmVjZWl2ZWQgbm9uLVVpbnQ4QXJyYXkgKCR7Ynl0ZXMuY29uc3RydWN0b3IubmFtZX0pIHN0cmVhbSBjaHVuayBpbiBhbiBlbnZpcm9ubWVudCB3aXRoIGEgZ2xvYmFsIFwiQnVmZmVyXCIgZGVmaW5lZCwgd2hpY2ggdGhpcyBsaWJyYXJ5IGFzc3VtZXMgdG8gYmUgTm9kZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGVycm9yLmAsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEJyb3dzZXJcbiAgICBpZiAodHlwZW9mIFRleHREZWNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBieXRlcyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHRoaXMudGV4dERlY29kZXIgPz89IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpO1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0RGVjb2Rlci5kZWNvZGUoYnl0ZXMpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgIGBVbmV4cGVjdGVkOiByZWNlaXZlZCBub24tVWludDhBcnJheS9BcnJheUJ1ZmZlciAoJHtcbiAgICAgICAgICAoYnl0ZXMgYXMgYW55KS5jb25zdHJ1Y3Rvci5uYW1lXG4gICAgICAgIH0pIGluIGEgd2ViIHBsYXRmb3JtLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKFxuICAgICAgYFVuZXhwZWN0ZWQ6IG5laXRoZXIgQnVmZmVyIG5vciBUZXh0RGVjb2RlciBhcmUgYXZhaWxhYmxlIGFzIGdsb2JhbHMuIFBsZWFzZSByZXBvcnQgdGhpcyBlcnJvci5gLFxuICAgICk7XG4gIH1cblxuICBmbHVzaCgpOiBzdHJpbmdbXSB7XG4gICAgaWYgKCF0aGlzLmJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlKCdcXG4nKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2VhcmNoZXMgdGhlIGJ1ZmZlciBmb3IgdGhlIGVuZCBwYXR0ZXJucywgKFxcciBvciBcXG4pXG4gKiBhbmQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgaW5kZXggcHJlY2VkaW5nIHRoZSBtYXRjaGVkIG5ld2xpbmUgYW5kIHRoZVxuICogaW5kZXggYWZ0ZXIgdGhlIG5ld2xpbmUgY2hhci4gYG51bGxgIGlzIHJldHVybmVkIGlmIG5vIG5ldyBsaW5lIGlzIGZvdW5kLlxuICpcbiAqIGBgYHRzXG4gKiBmaW5kTmV3TGluZUluZGV4KCdhYmNcXG5kZWYnKSAtPiB7IHByZWNlZGluZzogMiwgaW5kZXg6IDMgfVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGZpbmROZXdsaW5lSW5kZXgoXG4gIGJ1ZmZlcjogVWludDhBcnJheSxcbiAgc3RhcnRJbmRleDogbnVtYmVyIHwgbnVsbCxcbik6IHsgcHJlY2VkaW5nOiBudW1iZXI7IGluZGV4OiBudW1iZXI7IGNhcnJpYWdlOiBib29sZWFuIH0gfCBudWxsIHtcbiAgY29uc3QgbmV3bGluZSA9IDB4MGE7IC8vIFxcblxuICBjb25zdCBjYXJyaWFnZSA9IDB4MGQ7IC8vIFxcclxuXG4gIGZvciAobGV0IGkgPSBzdGFydEluZGV4ID8/IDA7IGkgPCBidWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYnVmZmVyW2ldID09PSBuZXdsaW5lKSB7XG4gICAgICByZXR1cm4geyBwcmVjZWRpbmc6IGksIGluZGV4OiBpICsgMSwgY2FycmlhZ2U6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgaWYgKGJ1ZmZlcltpXSA9PT0gY2FycmlhZ2UpIHtcbiAgICAgIHJldHVybiB7IHByZWNlZGluZzogaSwgaW5kZXg6IGkgKyAxLCBjYXJyaWFnZTogdHJ1ZSB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZERvdWJsZU5ld2xpbmVJbmRleChidWZmZXI6IFVpbnQ4QXJyYXkpOiBudW1iZXIge1xuICAvLyBUaGlzIGZ1bmN0aW9uIHNlYXJjaGVzIHRoZSBidWZmZXIgZm9yIHRoZSBlbmQgcGF0dGVybnMgKFxcclxcciwgXFxuXFxuLCBcXHJcXG5cXHJcXG4pXG4gIC8vIGFuZCByZXR1cm5zIHRoZSBpbmRleCByaWdodCBhZnRlciB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhbnkgcGF0dGVybixcbiAgLy8gb3IgLTEgaWYgbm9uZSBvZiB0aGUgcGF0dGVybnMgYXJlIGZvdW5kLlxuICBjb25zdCBuZXdsaW5lID0gMHgwYTsgLy8gXFxuXG4gIGNvbnN0IGNhcnJpYWdlID0gMHgwZDsgLy8gXFxyXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXIubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgaWYgKGJ1ZmZlcltpXSA9PT0gbmV3bGluZSAmJiBidWZmZXJbaSArIDFdID09PSBuZXdsaW5lKSB7XG4gICAgICAvLyBcXG5cXG5cbiAgICAgIHJldHVybiBpICsgMjtcbiAgICB9XG4gICAgaWYgKGJ1ZmZlcltpXSA9PT0gY2FycmlhZ2UgJiYgYnVmZmVyW2kgKyAxXSA9PT0gY2FycmlhZ2UpIHtcbiAgICAgIC8vIFxcclxcclxuICAgICAgcmV0dXJuIGkgKyAyO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBidWZmZXJbaV0gPT09IGNhcnJpYWdlICYmXG4gICAgICBidWZmZXJbaSArIDFdID09PSBuZXdsaW5lICYmXG4gICAgICBpICsgMyA8IGJ1ZmZlci5sZW5ndGggJiZcbiAgICAgIGJ1ZmZlcltpICsgMl0gPT09IGNhcnJpYWdlICYmXG4gICAgICBidWZmZXJbaSArIDNdID09PSBuZXdsaW5lXG4gICAgKSB7XG4gICAgICAvLyBcXHJcXG5cXHJcXG5cbiAgICAgIHJldHVybiBpICsgNDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTE7XG59XG4iLCAiLyoqXG4gKiBNb3N0IGJyb3dzZXJzIGRvbid0IHlldCBoYXZlIGFzeW5jIGl0ZXJhYmxlIHN1cHBvcnQgZm9yIFJlYWRhYmxlU3RyZWFtLFxuICogYW5kIE5vZGUgaGFzIGEgdmVyeSBkaWZmZXJlbnQgd2F5IG9mIHJlYWRpbmcgYnl0ZXMgZnJvbSBpdHMgXCJSZWFkYWJsZVN0cmVhbVwiLlxuICpcbiAqIFRoaXMgcG9seWZpbGwgd2FzIHB1bGxlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9NYXR0aWFzQnVlbGVucy93ZWItc3RyZWFtcy1wb2x5ZmlsbC9wdWxsLzEyMiNpc3N1ZWNvbW1lbnQtMTYyNzM1NDQ5MFxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1Ub0FzeW5jSXRlcmFibGU8VD4oc3RyZWFtOiBhbnkpOiBBc3luY0l0ZXJhYmxlSXRlcmF0b3I8VD4ge1xuICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkgcmV0dXJuIHN0cmVhbTtcblxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIHJldHVybiB7XG4gICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChyZXN1bHQ/LmRvbmUpIHJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgd2hlbiBzdHJlYW0gYmVjb21lcyBjbG9zZWRcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGVycm9yZWRcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHJldHVybigpIHtcbiAgICAgIGNvbnN0IGNhbmNlbFByb21pc2UgPSByZWFkZXIuY2FuY2VsKCk7XG4gICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgIGF3YWl0IGNhbmNlbFByb21pc2U7XG4gICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgfSxcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBSZWFkYWJsZVN0cmVhbSwgdHlwZSBSZXNwb25zZSB9IGZyb20gJy4vX3NoaW1zL2luZGV4JztcbmltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSAnLi9lcnJvcic7XG5pbXBvcnQgeyBmaW5kRG91YmxlTmV3bGluZUluZGV4LCBMaW5lRGVjb2RlciB9IGZyb20gJy4vaW50ZXJuYWwvZGVjb2RlcnMvbGluZSc7XG5pbXBvcnQgeyBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvc3RyZWFtLXV0aWxzJztcblxuaW1wb3J0IHsgQVBJRXJyb3IgfSBmcm9tICcuL2Vycm9yJztcblxudHlwZSBCeXRlcyA9IHN0cmluZyB8IEFycmF5QnVmZmVyIHwgVWludDhBcnJheSB8IEJ1ZmZlciB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIFNlcnZlclNlbnRFdmVudCA9IHtcbiAgZXZlbnQ6IHN0cmluZyB8IG51bGw7XG4gIGRhdGE6IHN0cmluZztcbiAgcmF3OiBzdHJpbmdbXTtcbn07XG5cbmV4cG9ydCBjbGFzcyBTdHJlYW08SXRlbT4gaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlPEl0ZW0+IHtcbiAgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgaXRlcmF0b3I6ICgpID0+IEFzeW5jSXRlcmF0b3I8SXRlbT4sXG4gICAgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyLFxuICApIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICB9XG5cbiAgc3RhdGljIGZyb21TU0VSZXNwb25zZTxJdGVtPihyZXNwb25zZTogUmVzcG9uc2UsIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcik6IFN0cmVhbTxJdGVtPiB7XG4gICAgbGV0IGNvbnN1bWVkID0gZmFsc2U7XG5cbiAgICBhc3luYyBmdW5jdGlvbiogaXRlcmF0b3IoKTogQXN5bmNJdGVyYXRvcjxJdGVtLCBhbnksIHVuZGVmaW5lZD4ge1xuICAgICAgaWYgKGNvbnN1bWVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGl0ZXJhdGUgb3ZlciBhIGNvbnN1bWVkIHN0cmVhbSwgdXNlIGAudGVlKClgIHRvIHNwbGl0IHRoZSBzdHJlYW0uJyk7XG4gICAgICB9XG4gICAgICBjb25zdW1lZCA9IHRydWU7XG4gICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBzc2Ugb2YgX2l0ZXJTU0VNZXNzYWdlcyhyZXNwb25zZSwgY29udHJvbGxlcikpIHtcbiAgICAgICAgICBpZiAoZG9uZSkgY29udGludWU7XG5cbiAgICAgICAgICBpZiAoc3NlLmRhdGEuc3RhcnRzV2l0aCgnW0RPTkVdJykpIHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNzZS5ldmVudCA9PT0gbnVsbCB8fCBzc2UuZXZlbnQuc3RhcnRzV2l0aCgncmVzcG9uc2UuJykpIHtcbiAgICAgICAgICAgIGxldCBkYXRhO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShzc2UuZGF0YSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBwYXJzZSBtZXNzYWdlIGludG8gSlNPTjpgLCBzc2UuZGF0YSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZyb20gY2h1bms6YCwgc3NlLnJhdyk7XG4gICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKHVuZGVmaW5lZCwgZGF0YS5lcnJvciwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB5aWVsZCBkYXRhO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHNzZS5kYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2UgaW50byBKU09OOmAsIHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRnJvbSBjaHVuazpgLCBzc2UucmF3KTtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IElzIHRoaXMgd2hlcmUgdGhlIGVycm9yIHNob3VsZCBiZSB0aHJvd24/XG4gICAgICAgICAgICBpZiAoc3NlLmV2ZW50ID09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKHVuZGVmaW5lZCwgZGF0YS5lcnJvciwgZGF0YS5tZXNzYWdlLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQgeyBldmVudDogc3NlLmV2ZW50LCBkYXRhOiBkYXRhIH0gYXMgYW55O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgY2FsbHMgYHN0cmVhbS5jb250cm9sbGVyLmFib3J0KClgLCB3ZSBzaG91bGQgZXhpdCB3aXRob3V0IHRocm93aW5nLlxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSByZXR1cm47XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBgYnJlYWtgcywgYWJvcnQgdGhlIG9uZ29pbmcgcmVxdWVzdC5cbiAgICAgICAgaWYgKCFkb25lKSBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBTdHJlYW0oaXRlcmF0b3IsIGNvbnRyb2xsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIFN0cmVhbSBmcm9tIGEgbmV3bGluZS1zZXBhcmF0ZWQgUmVhZGFibGVTdHJlYW1cbiAgICogd2hlcmUgZWFjaCBpdGVtIGlzIGEgSlNPTiB2YWx1ZS5cbiAgICovXG4gIHN0YXRpYyBmcm9tUmVhZGFibGVTdHJlYW08SXRlbT4ocmVhZGFibGVTdHJlYW06IFJlYWRhYmxlU3RyZWFtLCBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIpOiBTdHJlYW08SXRlbT4ge1xuICAgIGxldCBjb25zdW1lZCA9IGZhbHNlO1xuXG4gICAgYXN5bmMgZnVuY3Rpb24qIGl0ZXJMaW5lcygpOiBBc3luY0dlbmVyYXRvcjxzdHJpbmcsIHZvaWQsIHVua25vd24+IHtcbiAgICAgIGNvbnN0IGxpbmVEZWNvZGVyID0gbmV3IExpbmVEZWNvZGVyKCk7XG5cbiAgICAgIGNvbnN0IGl0ZXIgPSBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZTxCeXRlcz4ocmVhZGFibGVTdHJlYW0pO1xuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpdGVyKSB7XG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5kZWNvZGUoY2h1bmspKSB7XG4gICAgICAgICAgeWllbGQgbGluZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZURlY29kZXIuZmx1c2goKSkge1xuICAgICAgICB5aWVsZCBsaW5lO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyYXRvcigpOiBBc3luY0l0ZXJhdG9yPEl0ZW0sIGFueSwgdW5kZWZpbmVkPiB7XG4gICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaXRlcmF0ZSBvdmVyIGEgY29uc3VtZWQgc3RyZWFtLCB1c2UgYC50ZWUoKWAgdG8gc3BsaXQgdGhlIHN0cmVhbS4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN1bWVkID0gdHJ1ZTtcbiAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGxpbmUgb2YgaXRlckxpbmVzKCkpIHtcbiAgICAgICAgICBpZiAoZG9uZSkgY29udGludWU7XG4gICAgICAgICAgaWYgKGxpbmUpIHlpZWxkIEpTT04ucGFyc2UobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGNhbGxzIGBzdHJlYW0uY29udHJvbGxlci5hYm9ydCgpYCwgd2Ugc2hvdWxkIGV4aXQgd2l0aG91dCB0aHJvd2luZy5cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm5hbWUgPT09ICdBYm9ydEVycm9yJykgcmV0dXJuO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgYGJyZWFrYHMsIGFib3J0IHRoZSBvbmdvaW5nIHJlcXVlc3QuXG4gICAgICAgIGlmICghZG9uZSkgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgU3RyZWFtKGl0ZXJhdG9yLCBjb250cm9sbGVyKTtcbiAgfVxuXG4gIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTogQXN5bmNJdGVyYXRvcjxJdGVtPiB7XG4gICAgcmV0dXJuIHRoaXMuaXRlcmF0b3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgdGhlIHN0cmVhbSBpbnRvIHR3byBzdHJlYW1zIHdoaWNoIGNhbiBiZVxuICAgKiBpbmRlcGVuZGVudGx5IHJlYWQgZnJvbSBhdCBkaWZmZXJlbnQgc3BlZWRzLlxuICAgKi9cbiAgdGVlKCk6IFtTdHJlYW08SXRlbT4sIFN0cmVhbTxJdGVtPl0ge1xuICAgIGNvbnN0IGxlZnQ6IEFycmF5PFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8SXRlbT4+PiA9IFtdO1xuICAgIGNvbnN0IHJpZ2h0OiBBcnJheTxQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PEl0ZW0+Pj4gPSBbXTtcbiAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMuaXRlcmF0b3IoKTtcblxuICAgIGNvbnN0IHRlZUl0ZXJhdG9yID0gKHF1ZXVlOiBBcnJheTxQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PEl0ZW0+Pj4pOiBBc3luY0l0ZXJhdG9yPEl0ZW0+ID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHQ6ICgpID0+IHtcbiAgICAgICAgICBpZiAocXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBsZWZ0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIHJpZ2h0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHF1ZXVlLnNoaWZ0KCkhO1xuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIG5ldyBTdHJlYW0oKCkgPT4gdGVlSXRlcmF0b3IobGVmdCksIHRoaXMuY29udHJvbGxlciksXG4gICAgICBuZXcgU3RyZWFtKCgpID0+IHRlZUl0ZXJhdG9yKHJpZ2h0KSwgdGhpcy5jb250cm9sbGVyKSxcbiAgICBdO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoaXMgc3RyZWFtIHRvIGEgbmV3bGluZS1zZXBhcmF0ZWQgUmVhZGFibGVTdHJlYW0gb2ZcbiAgICogSlNPTiBzdHJpbmdpZmllZCB2YWx1ZXMgaW4gdGhlIHN0cmVhbVxuICAgKiB3aGljaCBjYW4gYmUgdHVybmVkIGJhY2sgaW50byBhIFN0cmVhbSB3aXRoIGBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKClgLlxuICAgKi9cbiAgdG9SZWFkYWJsZVN0cmVhbSgpOiBSZWFkYWJsZVN0cmVhbSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGl0ZXI6IEFzeW5jSXRlcmF0b3I8SXRlbT47XG4gICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuXG4gICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgaXRlciA9IHNlbGZbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgcHVsbChjdHJsOiBhbnkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBpdGVyLm5leHQoKTtcbiAgICAgICAgICBpZiAoZG9uZSkgcmV0dXJuIGN0cmwuY2xvc2UoKTtcblxuICAgICAgICAgIGNvbnN0IGJ5dGVzID0gZW5jb2Rlci5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgJ1xcbicpO1xuXG4gICAgICAgICAgY3RybC5lbnF1ZXVlKGJ5dGVzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY3RybC5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgICBhd2FpdCBpdGVyLnJldHVybj8uKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiogX2l0ZXJTU0VNZXNzYWdlcyhcbiAgcmVzcG9uc2U6IFJlc3BvbnNlLFxuICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIsXG4pOiBBc3luY0dlbmVyYXRvcjxTZXJ2ZXJTZW50RXZlbnQsIHZvaWQsIHVua25vd24+IHtcbiAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgQXR0ZW1wdGVkIHRvIGl0ZXJhdGUgb3ZlciBhIHJlc3BvbnNlIHdpdGggbm8gYm9keWApO1xuICB9XG5cbiAgY29uc3Qgc3NlRGVjb2RlciA9IG5ldyBTU0VEZWNvZGVyKCk7XG4gIGNvbnN0IGxpbmVEZWNvZGVyID0gbmV3IExpbmVEZWNvZGVyKCk7XG5cbiAgY29uc3QgaXRlciA9IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlPEJ5dGVzPihyZXNwb25zZS5ib2R5KTtcbiAgZm9yIGF3YWl0IChjb25zdCBzc2VDaHVuayBvZiBpdGVyU1NFQ2h1bmtzKGl0ZXIpKSB7XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmRlY29kZShzc2VDaHVuaykpIHtcbiAgICAgIGNvbnN0IHNzZSA9IHNzZURlY29kZXIuZGVjb2RlKGxpbmUpO1xuICAgICAgaWYgKHNzZSkgeWllbGQgc3NlO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5mbHVzaCgpKSB7XG4gICAgY29uc3Qgc3NlID0gc3NlRGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgaWYgKHNzZSkgeWllbGQgc3NlO1xuICB9XG59XG5cbi8qKlxuICogR2l2ZW4gYW4gYXN5bmMgaXRlcmFibGUgaXRlcmF0b3IsIGl0ZXJhdGVzIG92ZXIgaXQgYW5kIHlpZWxkcyBmdWxsXG4gKiBTU0UgY2h1bmtzLCBpLmUuIHlpZWxkcyB3aGVuIGEgZG91YmxlIG5ldy1saW5lIGlzIGVuY291bnRlcmVkLlxuICovXG5hc3luYyBmdW5jdGlvbiogaXRlclNTRUNodW5rcyhpdGVyYXRvcjogQXN5bmNJdGVyYWJsZUl0ZXJhdG9yPEJ5dGVzPik6IEFzeW5jR2VuZXJhdG9yPFVpbnQ4QXJyYXk+IHtcbiAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheSgpO1xuXG4gIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcmF0b3IpIHtcbiAgICBpZiAoY2h1bmsgPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3QgYmluYXJ5Q2h1bmsgPVxuICAgICAgY2h1bmsgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBVaW50OEFycmF5KGNodW5rKVxuICAgICAgOiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnID8gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGNodW5rKVxuICAgICAgOiBjaHVuaztcblxuICAgIGxldCBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGggKyBiaW5hcnlDaHVuay5sZW5ndGgpO1xuICAgIG5ld0RhdGEuc2V0KGRhdGEpO1xuICAgIG5ld0RhdGEuc2V0KGJpbmFyeUNodW5rLCBkYXRhLmxlbmd0aCk7XG4gICAgZGF0YSA9IG5ld0RhdGE7XG5cbiAgICBsZXQgcGF0dGVybkluZGV4O1xuICAgIHdoaWxlICgocGF0dGVybkluZGV4ID0gZmluZERvdWJsZU5ld2xpbmVJbmRleChkYXRhKSkgIT09IC0xKSB7XG4gICAgICB5aWVsZCBkYXRhLnNsaWNlKDAsIHBhdHRlcm5JbmRleCk7XG4gICAgICBkYXRhID0gZGF0YS5zbGljZShwYXR0ZXJuSW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICB5aWVsZCBkYXRhO1xuICB9XG59XG5cbmNsYXNzIFNTRURlY29kZXIge1xuICBwcml2YXRlIGRhdGE6IHN0cmluZ1tdO1xuICBwcml2YXRlIGV2ZW50OiBzdHJpbmcgfCBudWxsO1xuICBwcml2YXRlIGNodW5rczogc3RyaW5nW107XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ldmVudCA9IG51bGw7XG4gICAgdGhpcy5kYXRhID0gW107XG4gICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgfVxuXG4gIGRlY29kZShsaW5lOiBzdHJpbmcpIHtcbiAgICBpZiAobGluZS5lbmRzV2l0aCgnXFxyJykpIHtcbiAgICAgIGxpbmUgPSBsaW5lLnN1YnN0cmluZygwLCBsaW5lLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIGlmICghbGluZSkge1xuICAgICAgLy8gZW1wdHkgbGluZSBhbmQgd2UgZGlkbid0IHByZXZpb3VzbHkgZW5jb3VudGVyIGFueSBtZXNzYWdlc1xuICAgICAgaWYgKCF0aGlzLmV2ZW50ICYmICF0aGlzLmRhdGEubGVuZ3RoKSByZXR1cm4gbnVsbDtcblxuICAgICAgY29uc3Qgc3NlOiBTZXJ2ZXJTZW50RXZlbnQgPSB7XG4gICAgICAgIGV2ZW50OiB0aGlzLmV2ZW50LFxuICAgICAgICBkYXRhOiB0aGlzLmRhdGEuam9pbignXFxuJyksXG4gICAgICAgIHJhdzogdGhpcy5jaHVua3MsXG4gICAgICB9O1xuXG4gICAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgdGhpcy5jaHVua3MgPSBbXTtcblxuICAgICAgcmV0dXJuIHNzZTtcbiAgICB9XG5cbiAgICB0aGlzLmNodW5rcy5wdXNoKGxpbmUpO1xuXG4gICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgW2ZpZWxkbmFtZSwgXywgdmFsdWVdID0gcGFydGl0aW9uKGxpbmUsICc6Jyk7XG5cbiAgICBpZiAodmFsdWUuc3RhcnRzV2l0aCgnICcpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygxKTtcbiAgICB9XG5cbiAgICBpZiAoZmllbGRuYW1lID09PSAnZXZlbnQnKSB7XG4gICAgICB0aGlzLmV2ZW50ID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChmaWVsZG5hbWUgPT09ICdkYXRhJykge1xuICAgICAgdGhpcy5kYXRhLnB1c2godmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnRpdGlvbihzdHI6IHN0cmluZywgZGVsaW1pdGVyOiBzdHJpbmcpOiBbc3RyaW5nLCBzdHJpbmcsIHN0cmluZ10ge1xuICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKGRlbGltaXRlcik7XG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICByZXR1cm4gW3N0ci5zdWJzdHJpbmcoMCwgaW5kZXgpLCBkZWxpbWl0ZXIsIHN0ci5zdWJzdHJpbmcoaW5kZXggKyBkZWxpbWl0ZXIubGVuZ3RoKV07XG4gIH1cblxuICByZXR1cm4gW3N0ciwgJycsICcnXTtcbn1cbiIsICJpbXBvcnQgeyB0eXBlIFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi9jb3JlJztcbmltcG9ydCB7XG4gIEZvcm1EYXRhLFxuICBGaWxlLFxuICB0eXBlIEJsb2IsXG4gIHR5cGUgRmlsZVByb3BlcnR5QmFnLFxuICBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyxcbiAgdHlwZSBGc1JlYWRTdHJlYW0sXG4gIGlzRnNSZWFkU3RyZWFtLFxufSBmcm9tICcuL19zaGltcy9pbmRleCc7XG5pbXBvcnQgeyBNdWx0aXBhcnRCb2R5IH0gZnJvbSAnLi9fc2hpbXMvTXVsdGlwYXJ0Qm9keSc7XG5leHBvcnQgeyBmaWxlRnJvbVBhdGggfSBmcm9tICcuL19zaGltcy9pbmRleCc7XG5cbnR5cGUgQmxvYkxpa2VQYXJ0ID0gc3RyaW5nIHwgQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcgfCBCbG9iTGlrZSB8IFVpbnQ4QXJyYXkgfCBEYXRhVmlldztcbmV4cG9ydCB0eXBlIEJsb2JQYXJ0ID0gc3RyaW5nIHwgQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcgfCBCbG9iIHwgVWludDhBcnJheSB8IERhdGFWaWV3O1xuXG4vKipcbiAqIFR5cGljYWxseSwgdGhpcyBpcyBhIG5hdGl2ZSBcIkZpbGVcIiBjbGFzcy5cbiAqXG4gKiBXZSBwcm92aWRlIHRoZSB7QGxpbmsgdG9GaWxlfSB1dGlsaXR5IHRvIGNvbnZlcnQgYSB2YXJpZXR5IG9mIG9iamVjdHNcbiAqIGludG8gdGhlIEZpbGUgY2xhc3MuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhIGZldGNoIFJlc3BvbnNlLCBvciBpbiBOb2RlLFxuICogdGhlIHJlc3VsdCBvZiBmcy5jcmVhdGVSZWFkU3RyZWFtKCkuXG4gKi9cbmV4cG9ydCB0eXBlIFVwbG9hZGFibGUgPSBGaWxlTGlrZSB8IFJlc3BvbnNlTGlrZSB8IEZzUmVhZFN0cmVhbTtcblxuLyoqXG4gKiBJbnRlbmRlZCB0byBtYXRjaCB3ZWIuQmxvYiwgbm9kZS5CbG9iLCBub2RlLWZldGNoLkJsb2IsIGV0Yy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCbG9iTGlrZSB7XG4gIC8qKiBbTUROIFJlZmVyZW5jZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0Jsb2Ivc2l6ZSkgKi9cbiAgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xuICAvKiogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9CbG9iL3R5cGUpICovXG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgLyoqIFtNRE4gUmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQmxvYi90ZXh0KSAqL1xuICB0ZXh0KCk6IFByb21pc2U8c3RyaW5nPjtcbiAgLyoqIFtNRE4gUmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQmxvYi9zbGljZSkgKi9cbiAgc2xpY2Uoc3RhcnQ/OiBudW1iZXIsIGVuZD86IG51bWJlcik6IEJsb2JMaWtlO1xuICAvLyB1bmZvcnR1bmF0ZWx5IEB0eXBlcy9ub2RlLWZldGNoQF4yLjYuNCBkb2Vzbid0IHR5cGUgdGhlIGFycmF5QnVmZmVyIG1ldGhvZFxufVxuXG4vKipcbiAqIEludGVuZGVkIHRvIG1hdGNoIHdlYi5GaWxlLCBub2RlLkZpbGUsIG5vZGUtZmV0Y2guRmlsZSwgZXRjLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVMaWtlIGV4dGVuZHMgQmxvYkxpa2Uge1xuICAvKiogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9GaWxlL2xhc3RNb2RpZmllZCkgKi9cbiAgcmVhZG9ubHkgbGFzdE1vZGlmaWVkOiBudW1iZXI7XG4gIC8qKiBbTUROIFJlZmVyZW5jZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0ZpbGUvbmFtZSkgKi9cbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEludGVuZGVkIHRvIG1hdGNoIHdlYi5SZXNwb25zZSwgbm9kZS5SZXNwb25zZSwgbm9kZS1mZXRjaC5SZXNwb25zZSwgZXRjLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlTGlrZSB7XG4gIHVybDogc3RyaW5nO1xuICBibG9iKCk6IFByb21pc2U8QmxvYkxpa2U+O1xufVxuXG5leHBvcnQgY29uc3QgaXNSZXNwb25zZUxpa2UgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIFJlc3BvbnNlTGlrZSA9PlxuICB2YWx1ZSAhPSBudWxsICYmXG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgdHlwZW9mIHZhbHVlLnVybCA9PT0gJ3N0cmluZycgJiZcbiAgdHlwZW9mIHZhbHVlLmJsb2IgPT09ICdmdW5jdGlvbic7XG5cbmV4cG9ydCBjb25zdCBpc0ZpbGVMaWtlID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBGaWxlTGlrZSA9PlxuICB2YWx1ZSAhPSBudWxsICYmXG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgdHlwZW9mIHZhbHVlLm5hbWUgPT09ICdzdHJpbmcnICYmXG4gIHR5cGVvZiB2YWx1ZS5sYXN0TW9kaWZpZWQgPT09ICdudW1iZXInICYmXG4gIGlzQmxvYkxpa2UodmFsdWUpO1xuXG4vKipcbiAqIFRoZSBCbG9iTGlrZSB0eXBlIG9taXRzIGFycmF5QnVmZmVyKCkgYmVjYXVzZSBAdHlwZXMvbm9kZS1mZXRjaEBeMi42LjQgbGFja3MgaXQ7IGJ1dCB0aGlzIGNoZWNrXG4gKiBhZGRzIHRoZSBhcnJheUJ1ZmZlcigpIG1ldGhvZCB0eXBlIGJlY2F1c2UgaXQgaXMgYXZhaWxhYmxlIGFuZCB1c2VkIGF0IHJ1bnRpbWVcbiAqL1xuZXhwb3J0IGNvbnN0IGlzQmxvYkxpa2UgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIEJsb2JMaWtlICYgeyBhcnJheUJ1ZmZlcigpOiBQcm9taXNlPEFycmF5QnVmZmVyPiB9ID0+XG4gIHZhbHVlICE9IG51bGwgJiZcbiAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICB0eXBlb2YgdmFsdWUuc2l6ZSA9PT0gJ251bWJlcicgJiZcbiAgdHlwZW9mIHZhbHVlLnR5cGUgPT09ICdzdHJpbmcnICYmXG4gIHR5cGVvZiB2YWx1ZS50ZXh0ID09PSAnZnVuY3Rpb24nICYmXG4gIHR5cGVvZiB2YWx1ZS5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICB0eXBlb2YgdmFsdWUuYXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbic7XG5cbmV4cG9ydCBjb25zdCBpc1VwbG9hZGFibGUgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIFVwbG9hZGFibGUgPT4ge1xuICByZXR1cm4gaXNGaWxlTGlrZSh2YWx1ZSkgfHwgaXNSZXNwb25zZUxpa2UodmFsdWUpIHx8IGlzRnNSZWFkU3RyZWFtKHZhbHVlKTtcbn07XG5cbmV4cG9ydCB0eXBlIFRvRmlsZUlucHV0ID0gVXBsb2FkYWJsZSB8IEV4Y2x1ZGU8QmxvYkxpa2VQYXJ0LCBzdHJpbmc+IHwgQXN5bmNJdGVyYWJsZTxCbG9iTGlrZVBhcnQ+O1xuXG4vKipcbiAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSB7QGxpbmsgRmlsZX0gdG8gcGFzcyB0byBhbiBTREsgdXBsb2FkIG1ldGhvZCBmcm9tIGEgdmFyaWV0eSBvZiBkaWZmZXJlbnQgZGF0YSBmb3JtYXRzXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHJhdyBjb250ZW50IG9mIHRoZSBmaWxlLiAgQ2FuIGJlIGFuIHtAbGluayBVcGxvYWRhYmxlfSwge0BsaW5rIEJsb2JMaWtlUGFydH0sIG9yIHtAbGluayBBc3luY0l0ZXJhYmxlfSBvZiB7QGxpbmsgQmxvYkxpa2VQYXJ0fXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgZmlsZS4gSWYgb21pdHRlZCwgdG9GaWxlIHdpbGwgdHJ5IHRvIGRldGVybWluZSBhIGZpbGUgbmFtZSBmcm9tIGJpdHMgaWYgcG9zc2libGVcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBhZGRpdGlvbmFsIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0aW9ucy50eXBlIHRoZSBNSU1FIHR5cGUgb2YgdGhlIGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0aW9ucy5sYXN0TW9kaWZpZWQgdGhlIGxhc3QgbW9kaWZpZWQgdGltZXN0YW1wXG4gKiBAcmV0dXJucyBhIHtAbGluayBGaWxlfSB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b0ZpbGUoXG4gIHZhbHVlOiBUb0ZpbGVJbnB1dCB8IFByb21pc2VMaWtlPFRvRmlsZUlucHV0PixcbiAgbmFtZT86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQsXG4gIG9wdGlvbnM/OiBGaWxlUHJvcGVydHlCYWcgfCB1bmRlZmluZWQsXG4pOiBQcm9taXNlPEZpbGVMaWtlPiB7XG4gIC8vIElmIGl0J3MgYSBwcm9taXNlLCByZXNvbHZlIGl0LlxuICB2YWx1ZSA9IGF3YWl0IHZhbHVlO1xuXG4gIC8vIElmIHdlJ3ZlIGJlZW4gZ2l2ZW4gYSBgRmlsZWAgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xuICBpZiAoaXNGaWxlTGlrZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBpZiAoaXNSZXNwb25zZUxpa2UodmFsdWUpKSB7XG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IHZhbHVlLmJsb2IoKTtcbiAgICBuYW1lIHx8PSBuZXcgVVJMKHZhbHVlLnVybCkucGF0aG5hbWUuc3BsaXQoL1tcXFxcL10vKS5wb3AoKSA/PyAndW5rbm93bl9maWxlJztcblxuICAgIC8vIHdlIG5lZWQgdG8gY29udmVydCB0aGUgYEJsb2JgIGludG8gYW4gYXJyYXkgYnVmZmVyIGJlY2F1c2UgdGhlIGBCbG9iYCBjbGFzc1xuICAgIC8vIHRoYXQgYG5vZGUtZmV0Y2hgIGRlZmluZXMgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIHdlYiBzdGFuZGFyZCB3aGljaCByZXN1bHRzXG4gICAgLy8gaW4gYG5ldyBGaWxlYCBpbnRlcnByZXRpbmcgaXQgYXMgYSBzdHJpbmcgaW5zdGVhZCBvZiBiaW5hcnkgZGF0YS5cbiAgICBjb25zdCBkYXRhID0gaXNCbG9iTGlrZShibG9iKSA/IFsoYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKSBhcyBhbnldIDogW2Jsb2JdO1xuXG4gICAgcmV0dXJuIG5ldyBGaWxlKGRhdGEsIG5hbWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uc3QgYml0cyA9IGF3YWl0IGdldEJ5dGVzKHZhbHVlKTtcblxuICBuYW1lIHx8PSBnZXROYW1lKHZhbHVlKSA/PyAndW5rbm93bl9maWxlJztcblxuICBpZiAoIW9wdGlvbnM/LnR5cGUpIHtcbiAgICBjb25zdCB0eXBlID0gKGJpdHNbMF0gYXMgYW55KT8udHlwZTtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCB0eXBlIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBGaWxlKGJpdHMsIG5hbWUsIG9wdGlvbnMpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRCeXRlcyh2YWx1ZTogVG9GaWxlSW5wdXQpOiBQcm9taXNlPEFycmF5PEJsb2JQYXJ0Pj4ge1xuICBsZXQgcGFydHM6IEFycmF5PEJsb2JQYXJ0PiA9IFtdO1xuICBpZiAoXG4gICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fFxuICAgIEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkgfHwgLy8gaW5jbHVkZXMgVWludDhBcnJheSwgQnVmZmVyLCBldGMuXG4gICAgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlclxuICApIHtcbiAgICBwYXJ0cy5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc0Jsb2JMaWtlKHZhbHVlKSkge1xuICAgIHBhcnRzLnB1c2goYXdhaXQgdmFsdWUuYXJyYXlCdWZmZXIoKSk7XG4gIH0gZWxzZSBpZiAoXG4gICAgaXNBc3luY0l0ZXJhYmxlSXRlcmF0b3IodmFsdWUpIC8vIGluY2x1ZGVzIFJlYWRhYmxlLCBSZWFkYWJsZVN0cmVhbSwgZXRjLlxuICApIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHZhbHVlKSB7XG4gICAgICBwYXJ0cy5wdXNoKGNodW5rIGFzIEJsb2JQYXJ0KTsgLy8gVE9ETywgY29uc2lkZXIgdmFsaWRhdGluZz9cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFVuZXhwZWN0ZWQgZGF0YSB0eXBlOiAke3R5cGVvZiB2YWx1ZX07IGNvbnN0cnVjdG9yOiAke3ZhbHVlPy5jb25zdHJ1Y3RvclxuICAgICAgICA/Lm5hbWV9OyBwcm9wczogJHtwcm9wc0ZvckVycm9yKHZhbHVlKX1gLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gcGFydHM7XG59XG5cbmZ1bmN0aW9uIHByb3BzRm9yRXJyb3IodmFsdWU6IGFueSk6IHN0cmluZyB7XG4gIGNvbnN0IHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICByZXR1cm4gYFske3Byb3BzLm1hcCgocCkgPT4gYFwiJHtwfVwiYCkuam9pbignLCAnKX1dYDtcbn1cblxuZnVuY3Rpb24gZ2V0TmFtZSh2YWx1ZTogYW55KTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIChcbiAgICBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIodmFsdWUubmFtZSkgfHxcbiAgICBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIodmFsdWUuZmlsZW5hbWUpIHx8XG4gICAgLy8gRm9yIGZzLlJlYWRTdHJlYW1cbiAgICBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIodmFsdWUucGF0aCk/LnNwbGl0KC9bXFxcXC9dLykucG9wKClcbiAgKTtcbn1cblxuY29uc3QgZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyID0gKHg6IHN0cmluZyB8IEJ1ZmZlciB8IHVua25vd24pOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKSByZXR1cm4geDtcbiAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHggaW5zdGFuY2VvZiBCdWZmZXIpIHJldHVybiBTdHJpbmcoeCk7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5jb25zdCBpc0FzeW5jSXRlcmFibGVJdGVyYXRvciA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgQXN5bmNJdGVyYWJsZUl0ZXJhdG9yPHVua25vd24+ID0+XG4gIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuXG5leHBvcnQgY29uc3QgaXNNdWx0aXBhcnRCb2R5ID0gKGJvZHk6IGFueSk6IGJvZHkgaXMgTXVsdGlwYXJ0Qm9keSA9PlxuICBib2R5ICYmIHR5cGVvZiBib2R5ID09PSAnb2JqZWN0JyAmJiBib2R5LmJvZHkgJiYgYm9keVtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTXVsdGlwYXJ0Qm9keSc7XG5cbi8qKlxuICogUmV0dXJucyBhIG11bHRpcGFydC9mb3JtLWRhdGEgcmVxdWVzdCBpZiBhbnkgcGFydCBvZiB0aGUgZ2l2ZW4gcmVxdWVzdCBib2R5IGNvbnRhaW5zIGEgRmlsZSAvIEJsb2IgdmFsdWUuXG4gKiBPdGhlcndpc2UgcmV0dXJucyB0aGUgcmVxdWVzdCBhcyBpcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1heWJlTXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zID0gYXN5bmMgPFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oXG4gIG9wdHM6IFJlcXVlc3RPcHRpb25zPFQ+LFxuKTogUHJvbWlzZTxSZXF1ZXN0T3B0aW9uczxUIHwgTXVsdGlwYXJ0Qm9keT4+ID0+IHtcbiAgaWYgKCFoYXNVcGxvYWRhYmxlVmFsdWUob3B0cy5ib2R5KSkgcmV0dXJuIG9wdHM7XG5cbiAgY29uc3QgZm9ybSA9IGF3YWl0IGNyZWF0ZUZvcm0ob3B0cy5ib2R5KTtcbiAgcmV0dXJuIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zKGZvcm0sIG9wdHMpO1xufTtcblxuZXhwb3J0IGNvbnN0IG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIDxUID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KFxuICBvcHRzOiBSZXF1ZXN0T3B0aW9uczxUPixcbik6IFByb21pc2U8UmVxdWVzdE9wdGlvbnM8VCB8IE11bHRpcGFydEJvZHk+PiA9PiB7XG4gIGNvbnN0IGZvcm0gPSBhd2FpdCBjcmVhdGVGb3JtKG9wdHMuYm9keSk7XG4gIHJldHVybiBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyhmb3JtLCBvcHRzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVGb3JtID0gYXN5bmMgPFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oYm9keTogVCB8IHVuZGVmaW5lZCk6IFByb21pc2U8Rm9ybURhdGE+ID0+IHtcbiAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICBhd2FpdCBQcm9taXNlLmFsbChPYmplY3QuZW50cmllcyhib2R5IHx8IHt9KS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYWRkRm9ybVZhbHVlKGZvcm0sIGtleSwgdmFsdWUpKSk7XG4gIHJldHVybiBmb3JtO1xufTtcblxuY29uc3QgaGFzVXBsb2FkYWJsZVZhbHVlID0gKHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiA9PiB7XG4gIGlmIChpc1VwbG9hZGFibGUodmFsdWUpKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUuc29tZShoYXNVcGxvYWRhYmxlVmFsdWUpO1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGZvciAoY29uc3QgayBpbiB2YWx1ZSkge1xuICAgICAgaWYgKGhhc1VwbG9hZGFibGVWYWx1ZSgodmFsdWUgYXMgYW55KVtrXSkpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBhZGRGb3JtVmFsdWUgPSBhc3luYyAoZm9ybTogRm9ybURhdGEsIGtleTogc3RyaW5nLCB2YWx1ZTogdW5rbm93bik6IFByb21pc2U8dm9pZD4gPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgUmVjZWl2ZWQgbnVsbCBmb3IgXCIke2tleX1cIjsgdG8gcGFzcyBudWxsIGluIEZvcm1EYXRhLCB5b3UgbXVzdCB1c2UgdGhlIHN0cmluZyAnbnVsbCdgLFxuICAgICk7XG4gIH1cblxuICAvLyBUT0RPOiBtYWtlIG5lc3RlZCBmb3JtYXRzIGNvbmZpZ3VyYWJsZVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgZm9ybS5hcHBlbmQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgfSBlbHNlIGlmIChpc1VwbG9hZGFibGUodmFsdWUpKSB7XG4gICAgY29uc3QgZmlsZSA9IGF3YWl0IHRvRmlsZSh2YWx1ZSk7XG4gICAgZm9ybS5hcHBlbmQoa2V5LCBmaWxlIGFzIEZpbGUpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwodmFsdWUubWFwKChlbnRyeSkgPT4gYWRkRm9ybVZhbHVlKGZvcm0sIGtleSArICdbXScsIGVudHJ5KSkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5tYXAoKFtuYW1lLCBwcm9wXSkgPT4gYWRkRm9ybVZhbHVlKGZvcm0sIGAke2tleX1bJHtuYW1lfV1gLCBwcm9wKSksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgYEludmFsaWQgdmFsdWUgZ2l2ZW4gdG8gZm9ybSwgZXhwZWN0ZWQgYSBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb2JqZWN0LCBBcnJheSwgRmlsZSBvciBCbG9iIGJ1dCBnb3QgJHt2YWx1ZX0gaW5zdGVhZGAsXG4gICAgKTtcbiAgfVxufTtcbiIsICJpbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi92ZXJzaW9uJztcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gJy4vc3RyZWFtaW5nJztcbmltcG9ydCB7XG4gIE9wZW5BSUVycm9yLFxuICBBUElFcnJvcixcbiAgQVBJQ29ubmVjdGlvbkVycm9yLFxuICBBUElDb25uZWN0aW9uVGltZW91dEVycm9yLFxuICBBUElVc2VyQWJvcnRFcnJvcixcbn0gZnJvbSAnLi9lcnJvcic7XG5pbXBvcnQge1xuICBraW5kIGFzIHNoaW1zS2luZCxcbiAgdHlwZSBSZWFkYWJsZSxcbiAgZ2V0RGVmYXVsdEFnZW50LFxuICB0eXBlIEFnZW50LFxuICBmZXRjaCxcbiAgdHlwZSBSZXF1ZXN0SW5mbyxcbiAgdHlwZSBSZXF1ZXN0SW5pdCxcbiAgdHlwZSBSZXNwb25zZSxcbiAgdHlwZSBIZWFkZXJzSW5pdCxcbn0gZnJvbSAnLi9fc2hpbXMvaW5kZXgnO1xuZXhwb3J0IHsgdHlwZSBSZXNwb25zZSB9O1xuaW1wb3J0IHsgQmxvYkxpa2UsIGlzQmxvYkxpa2UsIGlzTXVsdGlwYXJ0Qm9keSB9IGZyb20gJy4vdXBsb2Fkcyc7XG5leHBvcnQge1xuICBtYXliZU11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyxcbiAgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zLFxuICBjcmVhdGVGb3JtLFxuICB0eXBlIFVwbG9hZGFibGUsXG59IGZyb20gJy4vdXBsb2Fkcyc7XG5cbmV4cG9ydCB0eXBlIEZldGNoID0gKHVybDogUmVxdWVzdEluZm8sIGluaXQ/OiBSZXF1ZXN0SW5pdCkgPT4gUHJvbWlzZTxSZXNwb25zZT47XG5cbnR5cGUgUHJvbWlzZU9yVmFsdWU8VD4gPSBUIHwgUHJvbWlzZTxUPjtcblxudHlwZSBBUElSZXNwb25zZVByb3BzID0ge1xuICByZXNwb25zZTogUmVzcG9uc2U7XG4gIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnM7XG4gIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcjtcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGRlZmF1bHRQYXJzZVJlc3BvbnNlPFQ+KHByb3BzOiBBUElSZXNwb25zZVByb3BzKTogUHJvbWlzZTxXaXRoUmVxdWVzdElEPFQ+PiB7XG4gIGNvbnN0IHsgcmVzcG9uc2UgfSA9IHByb3BzO1xuICBpZiAocHJvcHMub3B0aW9ucy5zdHJlYW0pIHtcbiAgICBkZWJ1ZygncmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnVybCwgcmVzcG9uc2UuaGVhZGVycywgcmVzcG9uc2UuYm9keSk7XG5cbiAgICAvLyBOb3RlOiB0aGVyZSBpcyBhbiBpbnZhcmlhbnQgaGVyZSB0aGF0IGlzbid0IHJlcHJlc2VudGVkIGluIHRoZSB0eXBlIHN5c3RlbVxuICAgIC8vIHRoYXQgaWYgeW91IHNldCBgc3RyZWFtOiB0cnVlYCB0aGUgcmVzcG9uc2UgdHlwZSBtdXN0IGFsc28gYmUgYFN0cmVhbTxUPmBcblxuICAgIGlmIChwcm9wcy5vcHRpb25zLl9fc3RyZWFtQ2xhc3MpIHtcbiAgICAgIHJldHVybiBwcm9wcy5vcHRpb25zLl9fc3RyZWFtQ2xhc3MuZnJvbVNTRVJlc3BvbnNlKHJlc3BvbnNlLCBwcm9wcy5jb250cm9sbGVyKSBhcyBhbnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFN0cmVhbS5mcm9tU1NFUmVzcG9uc2UocmVzcG9uc2UsIHByb3BzLmNvbnRyb2xsZXIpIGFzIGFueTtcbiAgfVxuXG4gIC8vIGZldGNoIHJlZnVzZXMgdG8gcmVhZCB0aGUgYm9keSB3aGVuIHRoZSBzdGF0dXMgY29kZSBpcyAyMDQuXG4gIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgIHJldHVybiBudWxsIGFzIFdpdGhSZXF1ZXN0SUQ8VD47XG4gIH1cblxuICBpZiAocHJvcHMub3B0aW9ucy5fX2JpbmFyeVJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlIGFzIHVua25vd24gYXMgV2l0aFJlcXVlc3RJRDxUPjtcbiAgfVxuXG4gIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICBjb25zdCBtZWRpYVR5cGUgPSBjb250ZW50VHlwZT8uc3BsaXQoJzsnKVswXT8udHJpbSgpO1xuICBjb25zdCBpc0pTT04gPSBtZWRpYVR5cGU/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykgfHwgbWVkaWFUeXBlPy5lbmRzV2l0aCgnK2pzb24nKTtcbiAgaWYgKGlzSlNPTikge1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBkZWJ1ZygncmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnVybCwgcmVzcG9uc2UuaGVhZGVycywganNvbik7XG5cbiAgICByZXR1cm4gX2FkZFJlcXVlc3RJRChqc29uLCByZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICBkZWJ1ZygncmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnVybCwgcmVzcG9uc2UuaGVhZGVycywgdGV4dCk7XG5cbiAgLy8gVE9ETyBoYW5kbGUgYmxvYiwgYXJyYXlidWZmZXIsIG90aGVyIGNvbnRlbnQgdHlwZXMsIGV0Yy5cbiAgcmV0dXJuIHRleHQgYXMgdW5rbm93biBhcyBXaXRoUmVxdWVzdElEPFQ+O1xufVxuXG50eXBlIFdpdGhSZXF1ZXN0SUQ8VD4gPVxuICBUIGV4dGVuZHMgQXJyYXk8YW55PiB8IFJlc3BvbnNlIHwgQWJzdHJhY3RQYWdlPGFueT4gPyBUXG4gIDogVCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPyBUICYgeyBfcmVxdWVzdF9pZD86IHN0cmluZyB8IG51bGwgfVxuICA6IFQ7XG5cbmZ1bmN0aW9uIF9hZGRSZXF1ZXN0SUQ8VD4odmFsdWU6IFQsIHJlc3BvbnNlOiBSZXNwb25zZSk6IFdpdGhSZXF1ZXN0SUQ8VD4ge1xuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUgYXMgV2l0aFJlcXVlc3RJRDxUPjtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFsdWUsICdfcmVxdWVzdF9pZCcsIHtcbiAgICB2YWx1ZTogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtcmVxdWVzdC1pZCcpLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICB9KSBhcyBXaXRoUmVxdWVzdElEPFQ+O1xufVxuXG4vKipcbiAqIEEgc3ViY2xhc3Mgb2YgYFByb21pc2VgIHByb3ZpZGluZyBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzXG4gKiBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgU0RLLlxuICovXG5leHBvcnQgY2xhc3MgQVBJUHJvbWlzZTxUPiBleHRlbmRzIFByb21pc2U8V2l0aFJlcXVlc3RJRDxUPj4ge1xuICBwcml2YXRlIHBhcnNlZFByb21pc2U6IFByb21pc2U8V2l0aFJlcXVlc3RJRDxUPj4gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZXNwb25zZVByb21pc2U6IFByb21pc2U8QVBJUmVzcG9uc2VQcm9wcz4sXG4gICAgcHJpdmF0ZSBwYXJzZVJlc3BvbnNlOiAoXG4gICAgICBwcm9wczogQVBJUmVzcG9uc2VQcm9wcyxcbiAgICApID0+IFByb21pc2VPclZhbHVlPFdpdGhSZXF1ZXN0SUQ8VD4+ID0gZGVmYXVsdFBhcnNlUmVzcG9uc2UsXG4gICkge1xuICAgIHN1cGVyKChyZXNvbHZlKSA9PiB7XG4gICAgICAvLyB0aGlzIGlzIG1heWJlIGEgYml0IHdlaXJkIGJ1dCB0aGlzIGhhcyB0byBiZSBhIG5vLW9wIHRvIG5vdCBpbXBsaWNpdGx5XG4gICAgICAvLyBwYXJzZSB0aGUgcmVzcG9uc2UgYm9keTsgaW5zdGVhZCAudGhlbiwgLmNhdGNoLCAuZmluYWxseSBhcmUgb3ZlcnJpZGRlblxuICAgICAgLy8gdG8gcGFyc2UgdGhlIHJlc3BvbnNlXG4gICAgICByZXNvbHZlKG51bGwgYXMgYW55KTtcbiAgICB9KTtcbiAgfVxuXG4gIF90aGVuVW53cmFwPFU+KHRyYW5zZm9ybTogKGRhdGE6IFQsIHByb3BzOiBBUElSZXNwb25zZVByb3BzKSA9PiBVKTogQVBJUHJvbWlzZTxVPiB7XG4gICAgcmV0dXJuIG5ldyBBUElQcm9taXNlKHRoaXMucmVzcG9uc2VQcm9taXNlLCBhc3luYyAocHJvcHMpID0+XG4gICAgICBfYWRkUmVxdWVzdElEKHRyYW5zZm9ybShhd2FpdCB0aGlzLnBhcnNlUmVzcG9uc2UocHJvcHMpLCBwcm9wcyksIHByb3BzLnJlc3BvbnNlKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIGluc3RlYWQgb2YgcGFyc2luZyB0aGUgcmVzcG9uc2VcbiAgICogZGF0YS5cbiAgICpcbiAgICogSWYgeW91IHdhbnQgdG8gcGFyc2UgdGhlIHJlc3BvbnNlIGJvZHkgYnV0IHN0aWxsIGdldCB0aGUgYFJlc3BvbnNlYFxuICAgKiBpbnN0YW5jZSwgeW91IGNhbiB1c2Uge0BsaW5rIHdpdGhSZXNwb25zZSgpfS5cbiAgICpcbiAgICogXHVEODNEXHVEQzRCIEdldHRpbmcgdGhlIHdyb25nIFR5cGVTY3JpcHQgdHlwZSBmb3IgYFJlc3BvbnNlYD9cbiAgICogVHJ5IHNldHRpbmcgYFwibW9kdWxlUmVzb2x1dGlvblwiOiBcIk5vZGVOZXh0XCJgIGlmIHlvdSBjYW4sXG4gICAqIG9yIGFkZCBvbmUgb2YgdGhlc2UgaW1wb3J0cyBiZWZvcmUgeW91ciBmaXJzdCBgaW1wb3J0IFx1MjAyNiBmcm9tICdvcGVuYWknYDpcbiAgICogLSBgaW1wb3J0ICdvcGVuYWkvc2hpbXMvbm9kZSdgIChpZiB5b3UncmUgcnVubmluZyBvbiBOb2RlKVxuICAgKiAtIGBpbXBvcnQgJ29wZW5haS9zaGltcy93ZWInYCAob3RoZXJ3aXNlKVxuICAgKi9cbiAgYXNSZXNwb25zZSgpOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2VQcm9taXNlLnRoZW4oKHApID0+IHAucmVzcG9uc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHBhcnNlZCByZXNwb25zZSBkYXRhLCB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UgYW5kIHRoZSBJRCBvZiB0aGUgcmVxdWVzdCxcbiAgICogcmV0dXJuZWQgdmlhIHRoZSBYLVJlcXVlc3QtSUQgaGVhZGVyIHdoaWNoIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nIHJlcXVlc3RzIGFuZCByZXBvcnRpbmdcbiAgICogaXNzdWVzIHRvIE9wZW5BSS5cbiAgICpcbiAgICogSWYgeW91IGp1c3Qgd2FudCB0byBnZXQgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIHdpdGhvdXQgcGFyc2luZyBpdCxcbiAgICogeW91IGNhbiB1c2Uge0BsaW5rIGFzUmVzcG9uc2UoKX0uXG4gICAqXG4gICAqXG4gICAqIFx1RDgzRFx1REM0QiBHZXR0aW5nIHRoZSB3cm9uZyBUeXBlU2NyaXB0IHR5cGUgZm9yIGBSZXNwb25zZWA/XG4gICAqIFRyeSBzZXR0aW5nIGBcIm1vZHVsZVJlc29sdXRpb25cIjogXCJOb2RlTmV4dFwiYCBpZiB5b3UgY2FuLFxuICAgKiBvciBhZGQgb25lIG9mIHRoZXNlIGltcG9ydHMgYmVmb3JlIHlvdXIgZmlyc3QgYGltcG9ydCBcdTIwMjYgZnJvbSAnb3BlbmFpJ2A6XG4gICAqIC0gYGltcG9ydCAnb3BlbmFpL3NoaW1zL25vZGUnYCAoaWYgeW91J3JlIHJ1bm5pbmcgb24gTm9kZSlcbiAgICogLSBgaW1wb3J0ICdvcGVuYWkvc2hpbXMvd2ViJ2AgKG90aGVyd2lzZSlcbiAgICovXG4gIGFzeW5jIHdpdGhSZXNwb25zZSgpOiBQcm9taXNlPHsgZGF0YTogVDsgcmVzcG9uc2U6IFJlc3BvbnNlOyByZXF1ZXN0X2lkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkIH0+IHtcbiAgICBjb25zdCBbZGF0YSwgcmVzcG9uc2VdID0gYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMucGFyc2UoKSwgdGhpcy5hc1Jlc3BvbnNlKCldKTtcbiAgICByZXR1cm4geyBkYXRhLCByZXNwb25zZSwgcmVxdWVzdF9pZDogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtcmVxdWVzdC1pZCcpIH07XG4gIH1cblxuICBwcml2YXRlIHBhcnNlKCk6IFByb21pc2U8V2l0aFJlcXVlc3RJRDxUPj4ge1xuICAgIGlmICghdGhpcy5wYXJzZWRQcm9taXNlKSB7XG4gICAgICB0aGlzLnBhcnNlZFByb21pc2UgPSB0aGlzLnJlc3BvbnNlUHJvbWlzZS50aGVuKHRoaXMucGFyc2VSZXNwb25zZSkgYXMgYW55IGFzIFByb21pc2U8V2l0aFJlcXVlc3RJRDxUPj47XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBhcnNlZFByb21pc2U7XG4gIH1cblxuICBvdmVycmlkZSB0aGVuPFRSZXN1bHQxID0gV2l0aFJlcXVlc3RJRDxUPiwgVFJlc3VsdDIgPSBuZXZlcj4oXG4gICAgb25mdWxmaWxsZWQ/OiAoKHZhbHVlOiBXaXRoUmVxdWVzdElEPFQ+KSA9PiBUUmVzdWx0MSB8IFByb21pc2VMaWtlPFRSZXN1bHQxPikgfCB1bmRlZmluZWQgfCBudWxsLFxuICAgIG9ucmVqZWN0ZWQ/OiAoKHJlYXNvbjogYW55KSA9PiBUUmVzdWx0MiB8IFByb21pc2VMaWtlPFRSZXN1bHQyPikgfCB1bmRlZmluZWQgfCBudWxsLFxuICApOiBQcm9taXNlPFRSZXN1bHQxIHwgVFJlc3VsdDI+IHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZSgpLnRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpO1xuICB9XG5cbiAgb3ZlcnJpZGUgY2F0Y2g8VFJlc3VsdCA9IG5ldmVyPihcbiAgICBvbnJlamVjdGVkPzogKChyZWFzb246IGFueSkgPT4gVFJlc3VsdCB8IFByb21pc2VMaWtlPFRSZXN1bHQ+KSB8IHVuZGVmaW5lZCB8IG51bGwsXG4gICk6IFByb21pc2U8V2l0aFJlcXVlc3RJRDxUPiB8IFRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZSgpLmNhdGNoKG9ucmVqZWN0ZWQpO1xuICB9XG5cbiAgb3ZlcnJpZGUgZmluYWxseShvbmZpbmFsbHk/OiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQgfCBudWxsKTogUHJvbWlzZTxXaXRoUmVxdWVzdElEPFQ+PiB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2UoKS5maW5hbGx5KG9uZmluYWxseSk7XG4gIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFQSUNsaWVudCB7XG4gIGJhc2VVUkw6IHN0cmluZztcbiAgbWF4UmV0cmllczogbnVtYmVyO1xuICB0aW1lb3V0OiBudW1iZXI7XG4gIGh0dHBBZ2VudDogQWdlbnQgfCB1bmRlZmluZWQ7XG5cbiAgcHJpdmF0ZSBmZXRjaDogRmV0Y2g7XG4gIHByb3RlY3RlZCBpZGVtcG90ZW5jeUhlYWRlcj86IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgYmFzZVVSTCxcbiAgICBtYXhSZXRyaWVzID0gMixcbiAgICB0aW1lb3V0ID0gNjAwMDAwLCAvLyAxMCBtaW51dGVzXG4gICAgaHR0cEFnZW50LFxuICAgIGZldGNoOiBvdmVycmlkZGVuRmV0Y2gsXG4gIH06IHtcbiAgICBiYXNlVVJMOiBzdHJpbmc7XG4gICAgbWF4UmV0cmllcz86IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICB0aW1lb3V0OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgaHR0cEFnZW50OiBBZ2VudCB8IHVuZGVmaW5lZDtcbiAgICBmZXRjaDogRmV0Y2ggfCB1bmRlZmluZWQ7XG4gIH0pIHtcbiAgICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMO1xuICAgIHRoaXMubWF4UmV0cmllcyA9IHZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyKCdtYXhSZXRyaWVzJywgbWF4UmV0cmllcyk7XG4gICAgdGhpcy50aW1lb3V0ID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCB0aW1lb3V0KTtcbiAgICB0aGlzLmh0dHBBZ2VudCA9IGh0dHBBZ2VudDtcblxuICAgIHRoaXMuZmV0Y2ggPSBvdmVycmlkZGVuRmV0Y2ggPz8gZmV0Y2g7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXV0aEhlYWRlcnMob3B0czogRmluYWxSZXF1ZXN0T3B0aW9ucyk6IEhlYWRlcnMge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGlzIHRvIGFkZCB5b3VyIG93biBkZWZhdWx0IGhlYWRlcnMsIGZvciBleGFtcGxlOlxuICAgKlxuICAgKiAge1xuICAgKiAgICAuLi5zdXBlci5kZWZhdWx0SGVhZGVycygpLFxuICAgKiAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyIDEyMycsXG4gICAqICB9XG4gICAqL1xuICBwcm90ZWN0ZWQgZGVmYXVsdEhlYWRlcnMob3B0czogRmluYWxSZXF1ZXN0T3B0aW9ucyk6IEhlYWRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnVXNlci1BZ2VudCc6IHRoaXMuZ2V0VXNlckFnZW50KCksXG4gICAgICAuLi5nZXRQbGF0Zm9ybUhlYWRlcnMoKSxcbiAgICAgIC4uLnRoaXMuYXV0aEhlYWRlcnMob3B0cyksXG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBkZWZhdWx0UXVlcnkoKTogRGVmYXVsdFF1ZXJ5IHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGlzIHRvIGFkZCB5b3VyIG93biBoZWFkZXJzIHZhbGlkYXRpb246XG4gICAqL1xuICBwcm90ZWN0ZWQgdmFsaWRhdGVIZWFkZXJzKGhlYWRlcnM6IEhlYWRlcnMsIGN1c3RvbUhlYWRlcnM6IEhlYWRlcnMpIHt9XG5cbiAgcHJvdGVjdGVkIGRlZmF1bHRJZGVtcG90ZW5jeUtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgc3RhaW5sZXNzLW5vZGUtcmV0cnktJHt1dWlkNCgpfWA7XG4gIH1cblxuICBnZXQ8UmVxLCBSc3A+KHBhdGg6IHN0cmluZywgb3B0cz86IFByb21pc2VPclZhbHVlPFJlcXVlc3RPcHRpb25zPFJlcT4+KTogQVBJUHJvbWlzZTxSc3A+IHtcbiAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdnZXQnLCBwYXRoLCBvcHRzKTtcbiAgfVxuXG4gIHBvc3Q8UmVxLCBSc3A+KHBhdGg6IHN0cmluZywgb3B0cz86IFByb21pc2VPclZhbHVlPFJlcXVlc3RPcHRpb25zPFJlcT4+KTogQVBJUHJvbWlzZTxSc3A+IHtcbiAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdwb3N0JywgcGF0aCwgb3B0cyk7XG4gIH1cblxuICBwYXRjaDxSZXEsIFJzcD4ocGF0aDogc3RyaW5nLCBvcHRzPzogUHJvbWlzZU9yVmFsdWU8UmVxdWVzdE9wdGlvbnM8UmVxPj4pOiBBUElQcm9taXNlPFJzcD4ge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3BhdGNoJywgcGF0aCwgb3B0cyk7XG4gIH1cblxuICBwdXQ8UmVxLCBSc3A+KHBhdGg6IHN0cmluZywgb3B0cz86IFByb21pc2VPclZhbHVlPFJlcXVlc3RPcHRpb25zPFJlcT4+KTogQVBJUHJvbWlzZTxSc3A+IHtcbiAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdwdXQnLCBwYXRoLCBvcHRzKTtcbiAgfVxuXG4gIGRlbGV0ZTxSZXEsIFJzcD4ocGF0aDogc3RyaW5nLCBvcHRzPzogUHJvbWlzZU9yVmFsdWU8UmVxdWVzdE9wdGlvbnM8UmVxPj4pOiBBUElQcm9taXNlPFJzcD4ge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ2RlbGV0ZScsIHBhdGgsIG9wdHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBtZXRob2RSZXF1ZXN0PFJlcSwgUnNwPihcbiAgICBtZXRob2Q6IEhUVFBNZXRob2QsXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIG9wdHM/OiBQcm9taXNlT3JWYWx1ZTxSZXF1ZXN0T3B0aW9uczxSZXE+PixcbiAgKTogQVBJUHJvbWlzZTxSc3A+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFxuICAgICAgUHJvbWlzZS5yZXNvbHZlKG9wdHMpLnRoZW4oYXN5bmMgKG9wdHMpID0+IHtcbiAgICAgICAgY29uc3QgYm9keSA9XG4gICAgICAgICAgb3B0cyAmJiBpc0Jsb2JMaWtlKG9wdHM/LmJvZHkpID8gbmV3IERhdGFWaWV3KGF3YWl0IG9wdHMuYm9keS5hcnJheUJ1ZmZlcigpKVxuICAgICAgICAgIDogb3B0cz8uYm9keSBpbnN0YW5jZW9mIERhdGFWaWV3ID8gb3B0cy5ib2R5XG4gICAgICAgICAgOiBvcHRzPy5ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBuZXcgRGF0YVZpZXcob3B0cy5ib2R5KVxuICAgICAgICAgIDogb3B0cyAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcob3B0cz8uYm9keSkgPyBuZXcgRGF0YVZpZXcob3B0cy5ib2R5LmJ1ZmZlcilcbiAgICAgICAgICA6IG9wdHM/LmJvZHk7XG4gICAgICAgIHJldHVybiB7IG1ldGhvZCwgcGF0aCwgLi4ub3B0cywgYm9keSB9O1xuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIGdldEFQSUxpc3Q8SXRlbSwgUGFnZUNsYXNzIGV4dGVuZHMgQWJzdHJhY3RQYWdlPEl0ZW0+ID0gQWJzdHJhY3RQYWdlPEl0ZW0+PihcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgUGFnZTogbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gUGFnZUNsYXNzLFxuICAgIG9wdHM/OiBSZXF1ZXN0T3B0aW9uczxhbnk+LFxuICApOiBQYWdlUHJvbWlzZTxQYWdlQ2xhc3MsIEl0ZW0+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QVBJTGlzdChQYWdlLCB7IG1ldGhvZDogJ2dldCcsIHBhdGgsIC4uLm9wdHMgfSk7XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUNvbnRlbnRMZW5ndGgoYm9keTogdW5rbm93bik6IHN0cmluZyB8IG51bGwge1xuICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmJ5dGVMZW5ndGgoYm9keSwgJ3V0ZjgnKS50b1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIFRleHRFbmNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGVyLmVuY29kZShib2R5KTtcbiAgICAgICAgcmV0dXJuIGVuY29kZWQubGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoYm9keSkpIHtcbiAgICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGgudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGJ1aWxkUmVxdWVzdDxSZXE+KFxuICAgIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnM8UmVxPixcbiAgICB7IHJldHJ5Q291bnQgPSAwIH06IHsgcmV0cnlDb3VudD86IG51bWJlciB9ID0ge30sXG4gICk6IHsgcmVxOiBSZXF1ZXN0SW5pdDsgdXJsOiBzdHJpbmc7IHRpbWVvdXQ6IG51bWJlciB9IHtcbiAgICBvcHRpb25zID0geyAuLi5vcHRpb25zIH07XG4gICAgY29uc3QgeyBtZXRob2QsIHBhdGgsIHF1ZXJ5LCBoZWFkZXJzOiBoZWFkZXJzID0ge30gfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCBib2R5ID1cbiAgICAgIEFycmF5QnVmZmVyLmlzVmlldyhvcHRpb25zLmJvZHkpIHx8IChvcHRpb25zLl9fYmluYXJ5UmVxdWVzdCAmJiB0eXBlb2Ygb3B0aW9ucy5ib2R5ID09PSAnc3RyaW5nJykgP1xuICAgICAgICBvcHRpb25zLmJvZHlcbiAgICAgIDogaXNNdWx0aXBhcnRCb2R5KG9wdGlvbnMuYm9keSkgPyBvcHRpb25zLmJvZHkuYm9keVxuICAgICAgOiBvcHRpb25zLmJvZHkgPyBKU09OLnN0cmluZ2lmeShvcHRpb25zLmJvZHksIG51bGwsIDIpXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IHRoaXMuY2FsY3VsYXRlQ29udGVudExlbmd0aChib2R5KTtcblxuICAgIGNvbnN0IHVybCA9IHRoaXMuYnVpbGRVUkwocGF0aCEsIHF1ZXJ5KTtcbiAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdGlvbnMpIHZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyKCd0aW1lb3V0Jywgb3B0aW9ucy50aW1lb3V0KTtcbiAgICBvcHRpb25zLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgPz8gdGhpcy50aW1lb3V0O1xuICAgIGNvbnN0IGh0dHBBZ2VudCA9IG9wdGlvbnMuaHR0cEFnZW50ID8/IHRoaXMuaHR0cEFnZW50ID8/IGdldERlZmF1bHRBZ2VudCh1cmwpO1xuICAgIGNvbnN0IG1pbkFnZW50VGltZW91dCA9IG9wdGlvbnMudGltZW91dCArIDEwMDA7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIChodHRwQWdlbnQgYXMgYW55KT8ub3B0aW9ucz8udGltZW91dCA9PT0gJ251bWJlcicgJiZcbiAgICAgIG1pbkFnZW50VGltZW91dCA+ICgoaHR0cEFnZW50IGFzIGFueSkub3B0aW9ucy50aW1lb3V0ID8/IDApXG4gICAgKSB7XG4gICAgICAvLyBBbGxvdyBhbnkgZ2l2ZW4gcmVxdWVzdCB0byBidW1wIG91ciBhZ2VudCBhY3RpdmUgc29ja2V0IHRpbWVvdXQuXG4gICAgICAvLyBUaGlzIG1heSBzZWVtIHN0cmFuZ2UsIGJ1dCBsZWFraW5nIGFjdGl2ZSBzb2NrZXRzIHNob3VsZCBiZSByYXJlIGFuZCBub3QgcGFydGljdWxhcmx5IHByb2JsZW1hdGljLFxuICAgICAgLy8gYW5kIHdpdGhvdXQgbXV0YXRpbmcgYWdlbnQgd2Ugd291bGQgbmVlZCB0byBjcmVhdGUgbW9yZSBvZiB0aGVtLlxuICAgICAgLy8gVGhpcyB0cmFkZW9mZiBvcHRpbWl6ZXMgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgKGh0dHBBZ2VudCBhcyBhbnkpLm9wdGlvbnMudGltZW91dCA9IG1pbkFnZW50VGltZW91dDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pZGVtcG90ZW5jeUhlYWRlciAmJiBtZXRob2QgIT09ICdnZXQnKSB7XG4gICAgICBpZiAoIW9wdGlvbnMuaWRlbXBvdGVuY3lLZXkpIG9wdGlvbnMuaWRlbXBvdGVuY3lLZXkgPSB0aGlzLmRlZmF1bHRJZGVtcG90ZW5jeUtleSgpO1xuICAgICAgaGVhZGVyc1t0aGlzLmlkZW1wb3RlbmN5SGVhZGVyXSA9IG9wdGlvbnMuaWRlbXBvdGVuY3lLZXk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVxSGVhZGVycyA9IHRoaXMuYnVpbGRIZWFkZXJzKHsgb3B0aW9ucywgaGVhZGVycywgY29udGVudExlbmd0aCwgcmV0cnlDb3VudCB9KTtcblxuICAgIGNvbnN0IHJlcTogUmVxdWVzdEluaXQgPSB7XG4gICAgICBtZXRob2QsXG4gICAgICAuLi4oYm9keSAmJiB7IGJvZHk6IGJvZHkgYXMgYW55IH0pLFxuICAgICAgaGVhZGVyczogcmVxSGVhZGVycyxcbiAgICAgIC4uLihodHRwQWdlbnQgJiYgeyBhZ2VudDogaHR0cEFnZW50IH0pLFxuICAgICAgLy8gQHRzLWlnbm9yZSBub2RlLWZldGNoIHVzZXMgYSBjdXN0b20gQWJvcnRTaWduYWwgdHlwZSB0aGF0IGlzXG4gICAgICAvLyBub3QgY29tcGF0aWJsZSB3aXRoIHN0YW5kYXJkIHdlYiB0eXBlc1xuICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCA/PyBudWxsLFxuICAgIH07XG5cbiAgICByZXR1cm4geyByZXEsIHVybCwgdGltZW91dDogb3B0aW9ucy50aW1lb3V0IH07XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkSGVhZGVycyh7XG4gICAgb3B0aW9ucyxcbiAgICBoZWFkZXJzLFxuICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgcmV0cnlDb3VudCxcbiAgfToge1xuICAgIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnM7XG4gICAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZD47XG4gICAgY29udGVudExlbmd0aDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgICByZXRyeUNvdW50OiBudW1iZXI7XG4gIH0pOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgICBjb25zdCByZXFIZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKGNvbnRlbnRMZW5ndGgpIHtcbiAgICAgIHJlcUhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gPSBjb250ZW50TGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0IGRlZmF1bHRIZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycyhvcHRpb25zKTtcbiAgICBhcHBseUhlYWRlcnNNdXQocmVxSGVhZGVycywgZGVmYXVsdEhlYWRlcnMpO1xuICAgIGFwcGx5SGVhZGVyc011dChyZXFIZWFkZXJzLCBoZWFkZXJzKTtcblxuICAgIC8vIGxldCBidWlsdGluIGZldGNoIHNldCB0aGUgQ29udGVudC1UeXBlIGZvciBtdWx0aXBhcnQgYm9kaWVzXG4gICAgaWYgKGlzTXVsdGlwYXJ0Qm9keShvcHRpb25zLmJvZHkpICYmIHNoaW1zS2luZCAhPT0gJ25vZGUnKSB7XG4gICAgICBkZWxldGUgcmVxSGVhZGVyc1snY29udGVudC10eXBlJ107XG4gICAgfVxuXG4gICAgLy8gRG9uJ3Qgc2V0IHRoZXNlcyBoZWFkZXJzIGlmIHRoZXkgd2VyZSBhbHJlYWR5IHNldCBvciByZW1vdmVkIHRocm91Z2ggZGVmYXVsdCBoZWFkZXJzIG9yIGJ5IHRoZSBjYWxsZXIuXG4gICAgLy8gV2UgY2hlY2sgYGRlZmF1bHRIZWFkZXJzYCBhbmQgYGhlYWRlcnNgLCB3aGljaCBjYW4gY29udGFpbiBudWxscywgaW5zdGVhZCBvZiBgcmVxSGVhZGVyc2AgdG8gYWNjb3VudFxuICAgIC8vIGZvciB0aGUgcmVtb3ZhbCBjYXNlLlxuICAgIGlmIChcbiAgICAgIGdldEhlYWRlcihkZWZhdWx0SGVhZGVycywgJ3gtc3RhaW5sZXNzLXJldHJ5LWNvdW50JykgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgZ2V0SGVhZGVyKGhlYWRlcnMsICd4LXN0YWlubGVzcy1yZXRyeS1jb3VudCcpID09PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIHJlcUhlYWRlcnNbJ3gtc3RhaW5sZXNzLXJldHJ5LWNvdW50J10gPSBTdHJpbmcocmV0cnlDb3VudCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGdldEhlYWRlcihkZWZhdWx0SGVhZGVycywgJ3gtc3RhaW5sZXNzLXRpbWVvdXQnKSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICBnZXRIZWFkZXIoaGVhZGVycywgJ3gtc3RhaW5sZXNzLXRpbWVvdXQnKSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICBvcHRpb25zLnRpbWVvdXRcbiAgICApIHtcbiAgICAgIHJlcUhlYWRlcnNbJ3gtc3RhaW5sZXNzLXRpbWVvdXQnXSA9IFN0cmluZyhvcHRpb25zLnRpbWVvdXQpO1xuICAgIH1cblxuICAgIHRoaXMudmFsaWRhdGVIZWFkZXJzKHJlcUhlYWRlcnMsIGhlYWRlcnMpO1xuXG4gICAgcmV0dXJuIHJlcUhlYWRlcnM7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBhcyBhIGNhbGxiYWNrIGZvciBtdXRhdGluZyB0aGUgZ2l2ZW4gYEZpbmFsUmVxdWVzdE9wdGlvbnNgIG9iamVjdC5cbiAgICovXG4gIHByb3RlY3RlZCBhc3luYyBwcmVwYXJlT3B0aW9ucyhvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7fVxuXG4gIC8qKlxuICAgKiBVc2VkIGFzIGEgY2FsbGJhY2sgZm9yIG11dGF0aW5nIHRoZSBnaXZlbiBgUmVxdWVzdEluaXRgIG9iamVjdC5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGNhc2VzIHdoZXJlIHlvdSB3YW50IHRvIGFkZCBjZXJ0YWluIGhlYWRlcnMgYmFzZWQgb2ZmIG9mXG4gICAqIHRoZSByZXF1ZXN0IHByb3BlcnRpZXMsIGUuZy4gYG1ldGhvZGAgb3IgYHVybGAuXG4gICAqL1xuICBwcm90ZWN0ZWQgYXN5bmMgcHJlcGFyZVJlcXVlc3QoXG4gICAgcmVxdWVzdDogUmVxdWVzdEluaXQsXG4gICAgeyB1cmwsIG9wdGlvbnMgfTogeyB1cmw6IHN0cmluZzsgb3B0aW9uczogRmluYWxSZXF1ZXN0T3B0aW9ucyB9LFxuICApOiBQcm9taXNlPHZvaWQ+IHt9XG5cbiAgcHJvdGVjdGVkIHBhcnNlSGVhZGVycyhoZWFkZXJzOiBIZWFkZXJzSW5pdCB8IG51bGwgfCB1bmRlZmluZWQpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgICByZXR1cm4gKFxuICAgICAgIWhlYWRlcnMgPyB7fVxuICAgICAgOiBTeW1ib2wuaXRlcmF0b3IgaW4gaGVhZGVycyA/XG4gICAgICAgIE9iamVjdC5mcm9tRW50cmllcyhBcnJheS5mcm9tKGhlYWRlcnMgYXMgSXRlcmFibGU8c3RyaW5nW10+KS5tYXAoKGhlYWRlcikgPT4gWy4uLmhlYWRlcl0pKVxuICAgICAgOiB7IC4uLmhlYWRlcnMgfVxuICAgICk7XG4gIH1cblxuICBwcm90ZWN0ZWQgbWFrZVN0YXR1c0Vycm9yKFxuICAgIHN0YXR1czogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICAgIGVycm9yOiBPYmplY3QgfCB1bmRlZmluZWQsXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIGhlYWRlcnM6IEhlYWRlcnMgfCB1bmRlZmluZWQsXG4gICk6IEFQSUVycm9yIHtcbiAgICByZXR1cm4gQVBJRXJyb3IuZ2VuZXJhdGUoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gIH1cblxuICByZXF1ZXN0PFJlcSwgUnNwPihcbiAgICBvcHRpb25zOiBQcm9taXNlT3JWYWx1ZTxGaW5hbFJlcXVlc3RPcHRpb25zPFJlcT4+LFxuICAgIHJlbWFpbmluZ1JldHJpZXM6IG51bWJlciB8IG51bGwgPSBudWxsLFxuICApOiBBUElQcm9taXNlPFJzcD4ge1xuICAgIHJldHVybiBuZXcgQVBJUHJvbWlzZSh0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIHJlbWFpbmluZ1JldHJpZXMpKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbWFrZVJlcXVlc3Q8UmVxPihcbiAgICBvcHRpb25zSW5wdXQ6IFByb21pc2VPclZhbHVlPEZpbmFsUmVxdWVzdE9wdGlvbnM8UmVxPj4sXG4gICAgcmV0cmllc1JlbWFpbmluZzogbnVtYmVyIHwgbnVsbCxcbiAgKTogUHJvbWlzZTxBUElSZXNwb25zZVByb3BzPiB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IG9wdGlvbnNJbnB1dDtcbiAgICBjb25zdCBtYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID8/IHRoaXMubWF4UmV0cmllcztcbiAgICBpZiAocmV0cmllc1JlbWFpbmluZyA9PSBudWxsKSB7XG4gICAgICByZXRyaWVzUmVtYWluaW5nID0gbWF4UmV0cmllcztcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnByZXBhcmVPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgY29uc3QgeyByZXEsIHVybCwgdGltZW91dCB9ID0gdGhpcy5idWlsZFJlcXVlc3Qob3B0aW9ucywgeyByZXRyeUNvdW50OiBtYXhSZXRyaWVzIC0gcmV0cmllc1JlbWFpbmluZyB9KTtcblxuICAgIGF3YWl0IHRoaXMucHJlcGFyZVJlcXVlc3QocmVxLCB7IHVybCwgb3B0aW9ucyB9KTtcblxuICAgIGRlYnVnKCdyZXF1ZXN0JywgdXJsLCBvcHRpb25zLCByZXEuaGVhZGVycyk7XG5cbiAgICBpZiAob3B0aW9ucy5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoV2l0aFRpbWVvdXQodXJsLCByZXEsIHRpbWVvdXQsIGNvbnRyb2xsZXIpLmNhdGNoKGNhc3RUb0Vycm9yKTtcblxuICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBpZiAob3B0aW9ucy5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICB9XG4gICAgICBpZiAocmV0cmllc1JlbWFpbmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXRyeVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICBpZiAocmVzcG9uc2UubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIHRocm93IG5ldyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgQVBJQ29ubmVjdGlvbkVycm9yKHsgY2F1c2U6IHJlc3BvbnNlIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nICYmIHRoaXMuc2hvdWxkUmV0cnkocmVzcG9uc2UpKSB7XG4gICAgICAgIGNvbnN0IHJldHJ5TWVzc2FnZSA9IGByZXRyeWluZywgJHtyZXRyaWVzUmVtYWluaW5nfSBhdHRlbXB0cyByZW1haW5pbmdgO1xuICAgICAgICBkZWJ1ZyhgcmVzcG9uc2UgKGVycm9yOyAke3JldHJ5TWVzc2FnZX0pYCwgcmVzcG9uc2Uuc3RhdHVzLCB1cmwsIHJlc3BvbnNlSGVhZGVycyk7XG4gICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlcnJUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpLmNhdGNoKChlKSA9PiBjYXN0VG9FcnJvcihlKS5tZXNzYWdlKTtcbiAgICAgIGNvbnN0IGVyckpTT04gPSBzYWZlSlNPTihlcnJUZXh0KTtcbiAgICAgIGNvbnN0IGVyck1lc3NhZ2UgPSBlcnJKU09OID8gdW5kZWZpbmVkIDogZXJyVGV4dDtcbiAgICAgIGNvbnN0IHJldHJ5TWVzc2FnZSA9IHJldHJpZXNSZW1haW5pbmcgPyBgKGVycm9yOyBubyBtb3JlIHJldHJpZXMgbGVmdClgIDogYChlcnJvcjsgbm90IHJldHJ5YWJsZSlgO1xuXG4gICAgICBkZWJ1ZyhgcmVzcG9uc2UgKGVycm9yOyAke3JldHJ5TWVzc2FnZX0pYCwgcmVzcG9uc2Uuc3RhdHVzLCB1cmwsIHJlc3BvbnNlSGVhZGVycywgZXJyTWVzc2FnZSk7XG5cbiAgICAgIGNvbnN0IGVyciA9IHRoaXMubWFrZVN0YXR1c0Vycm9yKHJlc3BvbnNlLnN0YXR1cywgZXJySlNPTiwgZXJyTWVzc2FnZSwgcmVzcG9uc2VIZWFkZXJzKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG5cbiAgICByZXR1cm4geyByZXNwb25zZSwgb3B0aW9ucywgY29udHJvbGxlciB9O1xuICB9XG5cbiAgcmVxdWVzdEFQSUxpc3Q8SXRlbSA9IHVua25vd24sIFBhZ2VDbGFzcyBleHRlbmRzIEFic3RyYWN0UGFnZTxJdGVtPiA9IEFic3RyYWN0UGFnZTxJdGVtPj4oXG4gICAgUGFnZTogbmV3ICguLi5hcmdzOiBDb25zdHJ1Y3RvclBhcmFtZXRlcnM8dHlwZW9mIEFic3RyYWN0UGFnZT4pID0+IFBhZ2VDbGFzcyxcbiAgICBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zLFxuICApOiBQYWdlUHJvbWlzZTxQYWdlQ2xhc3MsIEl0ZW0+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5tYWtlUmVxdWVzdChvcHRpb25zLCBudWxsKTtcbiAgICByZXR1cm4gbmV3IFBhZ2VQcm9taXNlPFBhZ2VDbGFzcywgSXRlbT4odGhpcywgcmVxdWVzdCwgUGFnZSk7XG4gIH1cblxuICBidWlsZFVSTDxSZXE+KHBhdGg6IHN0cmluZywgcXVlcnk6IFJlcSB8IG51bGwgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuICAgIGNvbnN0IHVybCA9XG4gICAgICBpc0Fic29sdXRlVVJMKHBhdGgpID9cbiAgICAgICAgbmV3IFVSTChwYXRoKVxuICAgICAgOiBuZXcgVVJMKHRoaXMuYmFzZVVSTCArICh0aGlzLmJhc2VVUkwuZW5kc1dpdGgoJy8nKSAmJiBwYXRoLnN0YXJ0c1dpdGgoJy8nKSA/IHBhdGguc2xpY2UoMSkgOiBwYXRoKSk7XG5cbiAgICBjb25zdCBkZWZhdWx0UXVlcnkgPSB0aGlzLmRlZmF1bHRRdWVyeSgpO1xuICAgIGlmICghaXNFbXB0eU9iaihkZWZhdWx0UXVlcnkpKSB7XG4gICAgICBxdWVyeSA9IHsgLi4uZGVmYXVsdFF1ZXJ5LCAuLi5xdWVyeSB9IGFzIFJlcTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0JyAmJiBxdWVyeSAmJiAhQXJyYXkuaXNBcnJheShxdWVyeSkpIHtcbiAgICAgIHVybC5zZWFyY2ggPSB0aGlzLnN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgc3RyaW5naWZ5UXVlcnkocXVlcnk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogc3RyaW5nIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMocXVlcnkpXG4gICAgICAuZmlsdGVyKChbXywgdmFsdWVdKSA9PiB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKVxuICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKX1gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09YDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgICAgYENhbm5vdCBzdHJpbmdpZnkgdHlwZSAke3R5cGVvZiB2YWx1ZX07IEV4cGVjdGVkIHN0cmluZywgbnVtYmVyLCBib29sZWFuLCBvciBudWxsLiBJZiB5b3UgbmVlZCB0byBwYXNzIG5lc3RlZCBxdWVyeSBwYXJhbWV0ZXJzLCB5b3UgY2FuIG1hbnVhbGx5IGVuY29kZSB0aGVtLCBlLmcuIHsgcXVlcnk6IHsgJ2Zvb1trZXkxXSc6IHZhbHVlMSwgJ2Zvb1trZXkyXSc6IHZhbHVlMiB9IH0sIGFuZCBwbGVhc2Ugb3BlbiBhIEdpdEh1YiBpc3N1ZSByZXF1ZXN0aW5nIGJldHRlciBzdXBwb3J0IGZvciB5b3VyIHVzZSBjYXNlLmAsXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGFzeW5jIGZldGNoV2l0aFRpbWVvdXQoXG4gICAgdXJsOiBSZXF1ZXN0SW5mbyxcbiAgICBpbml0OiBSZXF1ZXN0SW5pdCB8IHVuZGVmaW5lZCxcbiAgICBtczogbnVtYmVyLFxuICAgIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcixcbiAgKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIGNvbnN0IHsgc2lnbmFsLCAuLi5vcHRpb25zIH0gPSBpbml0IHx8IHt9O1xuICAgIGlmIChzaWduYWwpIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSk7XG5cbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIG1zKTtcblxuICAgIGNvbnN0IGZldGNoT3B0aW9ucyA9IHtcbiAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwgYXMgYW55LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICB9O1xuICAgIGlmIChmZXRjaE9wdGlvbnMubWV0aG9kKSB7XG4gICAgICAvLyBDdXN0b20gbWV0aG9kcyBsaWtlICdwYXRjaCcgbmVlZCB0byBiZSB1cHBlcmNhc2VkXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy91bmRpY2kvaXNzdWVzLzIyOTRcbiAgICAgIGZldGNoT3B0aW9ucy5tZXRob2QgPSBmZXRjaE9wdGlvbnMubWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIC8vIHVzZSB1bmRlZmluZWQgdGhpcyBiaW5kaW5nOyBmZXRjaCBlcnJvcnMgaWYgYm91bmQgdG8gc29tZXRoaW5nIGVsc2UgaW4gYnJvd3Nlci9jbG91ZGZsYXJlXG4gICAgICB0aGlzLmZldGNoLmNhbGwodW5kZWZpbmVkLCB1cmwsIGZldGNoT3B0aW9ucykuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkUmV0cnkocmVzcG9uc2U6IFJlc3BvbnNlKTogYm9vbGVhbiB7XG4gICAgLy8gTm90ZSB0aGlzIGlzIG5vdCBhIHN0YW5kYXJkIGhlYWRlci5cbiAgICBjb25zdCBzaG91bGRSZXRyeUhlYWRlciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LXNob3VsZC1yZXRyeScpO1xuXG4gICAgLy8gSWYgdGhlIHNlcnZlciBleHBsaWNpdGx5IHNheXMgd2hldGhlciBvciBub3QgdG8gcmV0cnksIG9iZXkuXG4gICAgaWYgKHNob3VsZFJldHJ5SGVhZGVyID09PSAndHJ1ZScpIHJldHVybiB0cnVlO1xuICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ2ZhbHNlJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gUmV0cnkgb24gcmVxdWVzdCB0aW1lb3V0cy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDgpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gUmV0cnkgb24gbG9jayB0aW1lb3V0cy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gUmV0cnkgb24gcmF0ZSBsaW1pdHMuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIFJldHJ5IGludGVybmFsIGVycm9ycy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDUwMCkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJldHJ5UmVxdWVzdChcbiAgICBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zLFxuICAgIHJldHJpZXNSZW1haW5pbmc6IG51bWJlcixcbiAgICByZXNwb25zZUhlYWRlcnM/OiBIZWFkZXJzIHwgdW5kZWZpbmVkLFxuICApOiBQcm9taXNlPEFQSVJlc3BvbnNlUHJvcHM+IHtcbiAgICBsZXQgdGltZW91dE1pbGxpczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gICAgLy8gTm90ZSB0aGUgYHJldHJ5LWFmdGVyLW1zYCBoZWFkZXIgbWF5IG5vdCBiZSBzdGFuZGFyZCwgYnV0IGlzIGEgZ29vZCBpZGVhIGFuZCB3ZSdkIGxpa2UgcHJvYWN0aXZlIHN1cHBvcnQgZm9yIGl0LlxuICAgIGNvbnN0IHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIgPSByZXNwb25zZUhlYWRlcnM/LlsncmV0cnktYWZ0ZXItbXMnXTtcbiAgICBpZiAocmV0cnlBZnRlck1pbGxpc0hlYWRlcikge1xuICAgICAgY29uc3QgdGltZW91dE1zID0gcGFyc2VGbG9hdChyZXRyeUFmdGVyTWlsbGlzSGVhZGVyKTtcbiAgICAgIGlmICghTnVtYmVyLmlzTmFOKHRpbWVvdXRNcykpIHtcbiAgICAgICAgdGltZW91dE1pbGxpcyA9IHRpbWVvdXRNcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBYm91dCB0aGUgUmV0cnktQWZ0ZXIgaGVhZGVyOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvUmV0cnktQWZ0ZXJcbiAgICBjb25zdCByZXRyeUFmdGVySGVhZGVyID0gcmVzcG9uc2VIZWFkZXJzPy5bJ3JldHJ5LWFmdGVyJ107XG4gICAgaWYgKHJldHJ5QWZ0ZXJIZWFkZXIgJiYgIXRpbWVvdXRNaWxsaXMpIHtcbiAgICAgIGNvbnN0IHRpbWVvdXRTZWNvbmRzID0gcGFyc2VGbG9hdChyZXRyeUFmdGVySGVhZGVyKTtcbiAgICAgIGlmICghTnVtYmVyLmlzTmFOKHRpbWVvdXRTZWNvbmRzKSkge1xuICAgICAgICB0aW1lb3V0TWlsbGlzID0gdGltZW91dFNlY29uZHMgKiAxMDAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGltZW91dE1pbGxpcyA9IERhdGUucGFyc2UocmV0cnlBZnRlckhlYWRlcikgLSBEYXRlLm5vdygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBBUEkgYXNrcyB1cyB0byB3YWl0IGEgY2VydGFpbiBhbW91bnQgb2YgdGltZSAoYW5kIGl0J3MgYSByZWFzb25hYmxlIGFtb3VudCksXG4gICAgLy8ganVzdCBkbyB3aGF0IGl0IHNheXMsIGJ1dCBvdGhlcndpc2UgY2FsY3VsYXRlIGEgZGVmYXVsdFxuICAgIGlmICghKHRpbWVvdXRNaWxsaXMgJiYgMCA8PSB0aW1lb3V0TWlsbGlzICYmIHRpbWVvdXRNaWxsaXMgPCA2MCAqIDEwMDApKSB7XG4gICAgICBjb25zdCBtYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID8/IHRoaXMubWF4UmV0cmllcztcbiAgICAgIHRpbWVvdXRNaWxsaXMgPSB0aGlzLmNhbGN1bGF0ZURlZmF1bHRSZXRyeVRpbWVvdXRNaWxsaXMocmV0cmllc1JlbWFpbmluZywgbWF4UmV0cmllcyk7XG4gICAgfVxuICAgIGF3YWl0IHNsZWVwKHRpbWVvdXRNaWxsaXMpO1xuXG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZyAtIDEpO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVEZWZhdWx0UmV0cnlUaW1lb3V0TWlsbGlzKHJldHJpZXNSZW1haW5pbmc6IG51bWJlciwgbWF4UmV0cmllczogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbml0aWFsUmV0cnlEZWxheSA9IDAuNTtcbiAgICBjb25zdCBtYXhSZXRyeURlbGF5ID0gOC4wO1xuXG4gICAgY29uc3QgbnVtUmV0cmllcyA9IG1heFJldHJpZXMgLSByZXRyaWVzUmVtYWluaW5nO1xuXG4gICAgLy8gQXBwbHkgZXhwb25lbnRpYWwgYmFja29mZiwgYnV0IG5vdCBtb3JlIHRoYW4gdGhlIG1heC5cbiAgICBjb25zdCBzbGVlcFNlY29uZHMgPSBNYXRoLm1pbihpbml0aWFsUmV0cnlEZWxheSAqIE1hdGgucG93KDIsIG51bVJldHJpZXMpLCBtYXhSZXRyeURlbGF5KTtcblxuICAgIC8vIEFwcGx5IHNvbWUgaml0dGVyLCB0YWtlIHVwIHRvIGF0IG1vc3QgMjUgcGVyY2VudCBvZiB0aGUgcmV0cnkgdGltZS5cbiAgICBjb25zdCBqaXR0ZXIgPSAxIC0gTWF0aC5yYW5kb20oKSAqIDAuMjU7XG5cbiAgICByZXR1cm4gc2xlZXBTZWNvbmRzICogaml0dGVyICogMTAwMDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0VXNlckFnZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0vSlMgJHtWRVJTSU9OfWA7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUGFnZUluZm8gPSB7IHVybDogVVJMIH0gfCB7IHBhcmFtczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsIH07XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFBhZ2U8SXRlbT4gaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlPEl0ZW0+IHtcbiAgI2NsaWVudDogQVBJQ2xpZW50O1xuICBwcm90ZWN0ZWQgb3B0aW9uczogRmluYWxSZXF1ZXN0T3B0aW9ucztcblxuICBwcm90ZWN0ZWQgcmVzcG9uc2U6IFJlc3BvbnNlO1xuICBwcm90ZWN0ZWQgYm9keTogdW5rbm93bjtcblxuICBjb25zdHJ1Y3RvcihjbGllbnQ6IEFQSUNsaWVudCwgcmVzcG9uc2U6IFJlc3BvbnNlLCBib2R5OiB1bmtub3duLCBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zKSB7XG4gICAgdGhpcy4jY2xpZW50ID0gY2xpZW50O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIG5leHRQYWdlSW5mbyBpbnN0ZWFkXG4gICAqL1xuICBhYnN0cmFjdCBuZXh0UGFnZVBhcmFtcygpOiBQYXJ0aWFsPFJlY29yZDxzdHJpbmcsIHVua25vd24+PiB8IG51bGw7XG4gIGFic3RyYWN0IG5leHRQYWdlSW5mbygpOiBQYWdlSW5mbyB8IG51bGw7XG5cbiAgYWJzdHJhY3QgZ2V0UGFnaW5hdGVkSXRlbXMoKTogSXRlbVtdO1xuXG4gIGhhc05leHRQYWdlKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRQYWdpbmF0ZWRJdGVtcygpO1xuICAgIGlmICghaXRlbXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMubmV4dFBhZ2VJbmZvKCkgIT0gbnVsbDtcbiAgfVxuXG4gIGFzeW5jIGdldE5leHRQYWdlKCk6IFByb21pc2U8dGhpcz4ge1xuICAgIGNvbnN0IG5leHRJbmZvID0gdGhpcy5uZXh0UGFnZUluZm8oKTtcbiAgICBpZiAoIW5leHRJbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgICdObyBuZXh0IHBhZ2UgZXhwZWN0ZWQ7IHBsZWFzZSBjaGVjayBgLmhhc05leHRQYWdlKClgIGJlZm9yZSBjYWxsaW5nIGAuZ2V0TmV4dFBhZ2UoKWAuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IG5leHRPcHRpb25zID0geyAuLi50aGlzLm9wdGlvbnMgfTtcbiAgICBpZiAoJ3BhcmFtcycgaW4gbmV4dEluZm8gJiYgdHlwZW9mIG5leHRPcHRpb25zLnF1ZXJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB7IC4uLm5leHRPcHRpb25zLnF1ZXJ5LCAuLi5uZXh0SW5mby5wYXJhbXMgfTtcbiAgICB9IGVsc2UgaWYgKCd1cmwnIGluIG5leHRJbmZvKSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBbLi4uT2JqZWN0LmVudHJpZXMobmV4dE9wdGlvbnMucXVlcnkgfHwge30pLCAuLi5uZXh0SW5mby51cmwuc2VhcmNoUGFyYW1zLmVudHJpZXMoKV07XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBwYXJhbXMpIHtcbiAgICAgICAgbmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCB2YWx1ZSBhcyBhbnkpO1xuICAgICAgfVxuICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB1bmRlZmluZWQ7XG4gICAgICBuZXh0T3B0aW9ucy5wYXRoID0gbmV4dEluZm8udXJsLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLiNjbGllbnQucmVxdWVzdEFQSUxpc3QodGhpcy5jb25zdHJ1Y3RvciBhcyBhbnksIG5leHRPcHRpb25zKTtcbiAgfVxuXG4gIGFzeW5jICppdGVyUGFnZXMoKTogQXN5bmNHZW5lcmF0b3I8dGhpcz4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgIGxldCBwYWdlOiB0aGlzID0gdGhpcztcbiAgICB5aWVsZCBwYWdlO1xuICAgIHdoaWxlIChwYWdlLmhhc05leHRQYWdlKCkpIHtcbiAgICAgIHBhZ2UgPSBhd2FpdCBwYWdlLmdldE5leHRQYWdlKCk7XG4gICAgICB5aWVsZCBwYWdlO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6IEFzeW5jR2VuZXJhdG9yPEl0ZW0+IHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5pdGVyUGFnZXMoKSkge1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHBhZ2UuZ2V0UGFnaW5hdGVkSXRlbXMoKSkge1xuICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgc3ViY2xhc3Mgb2YgUHJvbWlzZSB3aWxsIHJlc29sdmUgdG8gYW4gaW5zdGFudGlhdGVkIFBhZ2Ugb25jZSB0aGUgcmVxdWVzdCBjb21wbGV0ZXMuXG4gKlxuICogSXQgYWxzbyBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGUgdG8gYWxsb3cgYXV0by1wYWdpbmF0aW5nIGl0ZXJhdGlvbiBvbiBhbiB1bmF3YWl0ZWQgbGlzdCBjYWxsLCBlZzpcbiAqXG4gKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICogICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICogICAgfVxuICovXG5leHBvcnQgY2xhc3MgUGFnZVByb21pc2U8XG4gICAgUGFnZUNsYXNzIGV4dGVuZHMgQWJzdHJhY3RQYWdlPEl0ZW0+LFxuICAgIEl0ZW0gPSBSZXR1cm5UeXBlPFBhZ2VDbGFzc1snZ2V0UGFnaW5hdGVkSXRlbXMnXT5bbnVtYmVyXSxcbiAgPlxuICBleHRlbmRzIEFQSVByb21pc2U8UGFnZUNsYXNzPlxuICBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGU8SXRlbT5cbntcbiAgY29uc3RydWN0b3IoXG4gICAgY2xpZW50OiBBUElDbGllbnQsXG4gICAgcmVxdWVzdDogUHJvbWlzZTxBUElSZXNwb25zZVByb3BzPixcbiAgICBQYWdlOiBuZXcgKC4uLmFyZ3M6IENvbnN0cnVjdG9yUGFyYW1ldGVyczx0eXBlb2YgQWJzdHJhY3RQYWdlPikgPT4gUGFnZUNsYXNzLFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgIHJlcXVlc3QsXG4gICAgICBhc3luYyAocHJvcHMpID0+XG4gICAgICAgIG5ldyBQYWdlKFxuICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICBwcm9wcy5yZXNwb25zZSxcbiAgICAgICAgICBhd2FpdCBkZWZhdWx0UGFyc2VSZXNwb25zZShwcm9wcyksXG4gICAgICAgICAgcHJvcHMub3B0aW9ucyxcbiAgICAgICAgKSBhcyBXaXRoUmVxdWVzdElEPFBhZ2VDbGFzcz4sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvdyBhdXRvLXBhZ2luYXRpbmcgaXRlcmF0aW9uIG9uIGFuIHVuYXdhaXRlZCBsaXN0IGNhbGwsIGVnOlxuICAgKlxuICAgKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICAgKiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXG4gICAqICAgIH1cbiAgICovXG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6IEFzeW5jR2VuZXJhdG9yPEl0ZW0+IHtcbiAgICBjb25zdCBwYWdlID0gYXdhaXQgdGhpcztcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgcGFnZSkge1xuICAgICAgeWllbGQgaXRlbTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyA9IChcbiAgaGVhZGVyczogQXdhaXRlZDxSZXR1cm5UeXBlPEZldGNoPj5bJ2hlYWRlcnMnXSxcbik6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPT4ge1xuICByZXR1cm4gbmV3IFByb3h5KFxuICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGhlYWRlcnMuZW50cmllcygpLFxuICAgICksXG4gICAge1xuICAgICAgZ2V0KHRhcmdldCwgbmFtZSkge1xuICAgICAgICBjb25zdCBrZXkgPSBuYW1lLnRvU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiB0YXJnZXRba2V5LnRvTG93ZXJDYXNlKCldIHx8IHRhcmdldFtrZXldO1xuICAgICAgfSxcbiAgICB9LFxuICApO1xufTtcblxudHlwZSBIVFRQTWV0aG9kID0gJ2dldCcgfCAncG9zdCcgfCAncHV0JyB8ICdwYXRjaCcgfCAnZGVsZXRlJztcblxuZXhwb3J0IHR5cGUgUmVxdWVzdENsaWVudCA9IHsgZmV0Y2g6IEZldGNoIH07XG5leHBvcnQgdHlwZSBIZWFkZXJzID0gUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZD47XG5leHBvcnQgdHlwZSBEZWZhdWx0UXVlcnkgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+O1xuZXhwb3J0IHR5cGUgS2V5c0VudW08VD4gPSB7IFtQIGluIGtleW9mIFJlcXVpcmVkPFQ+XTogdHJ1ZSB9O1xuXG5leHBvcnQgdHlwZSBSZXF1ZXN0T3B0aW9uczxcbiAgUmVxID0gdW5rbm93biB8IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgUmVhZGFibGUgfCBCbG9iTGlrZSB8IEFycmF5QnVmZmVyVmlldyB8IEFycmF5QnVmZmVyLFxuPiA9IHtcbiAgbWV0aG9kPzogSFRUUE1ldGhvZDtcbiAgcGF0aD86IHN0cmluZztcbiAgcXVlcnk/OiBSZXEgfCB1bmRlZmluZWQ7XG4gIGJvZHk/OiBSZXEgfCBudWxsIHwgdW5kZWZpbmVkO1xuICBoZWFkZXJzPzogSGVhZGVycyB8IHVuZGVmaW5lZDtcblxuICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuICBzdHJlYW0/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICB0aW1lb3V0PzogbnVtYmVyO1xuICBodHRwQWdlbnQ/OiBBZ2VudDtcbiAgc2lnbmFsPzogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQgfCBudWxsO1xuICBpZGVtcG90ZW5jeUtleT86IHN0cmluZztcblxuICBfX21ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIF9fYmluYXJ5UmVxdWVzdD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIF9fYmluYXJ5UmVzcG9uc2U/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBfX3N0cmVhbUNsYXNzPzogdHlwZW9mIFN0cmVhbTtcbn07XG5cbi8vIFRoaXMgaXMgcmVxdWlyZWQgc28gdGhhdCB3ZSBjYW4gZGV0ZXJtaW5lIGlmIGEgZ2l2ZW4gb2JqZWN0IG1hdGNoZXMgdGhlIFJlcXVlc3RPcHRpb25zXG4vLyB0eXBlIGF0IHJ1bnRpbWUuIFdoaWxlIHRoaXMgcmVxdWlyZXMgZHVwbGljYXRpb24sIGl0IGlzIGVuZm9yY2VkIGJ5IHRoZSBUeXBlU2NyaXB0XG4vLyBjb21waWxlciBzdWNoIHRoYXQgYW55IG1pc3NpbmcgLyBleHRyYW5lb3VzIGtleXMgd2lsbCBjYXVzZSBhbiBlcnJvci5cbmNvbnN0IHJlcXVlc3RPcHRpb25zS2V5czogS2V5c0VudW08UmVxdWVzdE9wdGlvbnM+ID0ge1xuICBtZXRob2Q6IHRydWUsXG4gIHBhdGg6IHRydWUsXG4gIHF1ZXJ5OiB0cnVlLFxuICBib2R5OiB0cnVlLFxuICBoZWFkZXJzOiB0cnVlLFxuXG4gIG1heFJldHJpZXM6IHRydWUsXG4gIHN0cmVhbTogdHJ1ZSxcbiAgdGltZW91dDogdHJ1ZSxcbiAgaHR0cEFnZW50OiB0cnVlLFxuICBzaWduYWw6IHRydWUsXG4gIGlkZW1wb3RlbmN5S2V5OiB0cnVlLFxuXG4gIF9fbWV0YWRhdGE6IHRydWUsXG4gIF9fYmluYXJ5UmVxdWVzdDogdHJ1ZSxcbiAgX19iaW5hcnlSZXNwb25zZTogdHJ1ZSxcbiAgX19zdHJlYW1DbGFzczogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBpc1JlcXVlc3RPcHRpb25zID0gKG9iajogdW5rbm93bik6IG9iaiBpcyBSZXF1ZXN0T3B0aW9ucyA9PiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiZcbiAgICBvYmogIT09IG51bGwgJiZcbiAgICAhaXNFbXB0eU9iaihvYmopICYmXG4gICAgT2JqZWN0LmtleXMob2JqKS5ldmVyeSgoaykgPT4gaGFzT3duKHJlcXVlc3RPcHRpb25zS2V5cywgaykpXG4gICk7XG59O1xuXG5leHBvcnQgdHlwZSBGaW5hbFJlcXVlc3RPcHRpb25zPFJlcSA9IHVua25vd24gfCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IFJlYWRhYmxlIHwgRGF0YVZpZXc+ID1cbiAgUmVxdWVzdE9wdGlvbnM8UmVxPiAmIHtcbiAgICBtZXRob2Q6IEhUVFBNZXRob2Q7XG4gICAgcGF0aDogc3RyaW5nO1xuICB9O1xuXG5kZWNsYXJlIGNvbnN0IERlbm86IGFueTtcbmRlY2xhcmUgY29uc3QgRWRnZVJ1bnRpbWU6IGFueTtcbnR5cGUgQXJjaCA9ICd4MzInIHwgJ3g2NCcgfCAnYXJtJyB8ICdhcm02NCcgfCBgb3RoZXI6JHtzdHJpbmd9YCB8ICd1bmtub3duJztcbnR5cGUgUGxhdGZvcm1OYW1lID1cbiAgfCAnTWFjT1MnXG4gIHwgJ0xpbnV4J1xuICB8ICdXaW5kb3dzJ1xuICB8ICdGcmVlQlNEJ1xuICB8ICdPcGVuQlNEJ1xuICB8ICdpT1MnXG4gIHwgJ0FuZHJvaWQnXG4gIHwgYE90aGVyOiR7c3RyaW5nfWBcbiAgfCAnVW5rbm93bic7XG50eXBlIEJyb3dzZXIgPSAnaWUnIHwgJ2VkZ2UnIHwgJ2Nocm9tZScgfCAnZmlyZWZveCcgfCAnc2FmYXJpJztcbnR5cGUgUGxhdGZvcm1Qcm9wZXJ0aWVzID0ge1xuICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcyc7XG4gICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBzdHJpbmc7XG4gICdYLVN0YWlubGVzcy1PUyc6IFBsYXRmb3JtTmFtZTtcbiAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBBcmNoO1xuICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdub2RlJyB8ICdkZW5vJyB8ICdlZGdlJyB8IGBicm93c2VyOiR7QnJvd3Nlcn1gIHwgJ3Vua25vd24nO1xuICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogc3RyaW5nO1xufTtcbmNvbnN0IGdldFBsYXRmb3JtUHJvcGVydGllcyA9ICgpOiBQbGF0Zm9ybVByb3BlcnRpZXMgPT4ge1xuICBpZiAodHlwZW9mIERlbm8gIT09ICd1bmRlZmluZWQnICYmIERlbm8uYnVpbGQgIT0gbnVsbCkge1xuICAgIHJldHVybiB7XG4gICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICdYLVN0YWlubGVzcy1PUyc6IG5vcm1hbGl6ZVBsYXRmb3JtKERlbm8uYnVpbGQub3MpLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBub3JtYWxpemVBcmNoKERlbm8uYnVpbGQuYXJjaCksXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdkZW5vJyxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOlxuICAgICAgICB0eXBlb2YgRGVuby52ZXJzaW9uID09PSAnc3RyaW5nJyA/IERlbm8udmVyc2lvbiA6IERlbm8udmVyc2lvbj8uZGVubyA/PyAndW5rbm93bicsXG4gICAgfTtcbiAgfVxuICBpZiAodHlwZW9mIEVkZ2VSdW50aW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB7XG4gICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICdYLVN0YWlubGVzcy1PUyc6ICdVbmtub3duJyxcbiAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogYG90aGVyOiR7RWRnZVJ1bnRpbWV9YCxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ2VkZ2UnLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IHByb2Nlc3MudmVyc2lvbixcbiAgICB9O1xuICB9XG4gIC8vIENoZWNrIGlmIE5vZGUuanNcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgPyBwcm9jZXNzIDogMCkgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuICAgIHJldHVybiB7XG4gICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICdYLVN0YWlubGVzcy1PUyc6IG5vcm1hbGl6ZVBsYXRmb3JtKHByb2Nlc3MucGxhdGZvcm0pLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBub3JtYWxpemVBcmNoKHByb2Nlc3MuYXJjaCksXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdub2RlJyxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBwcm9jZXNzLnZlcnNpb24sXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IGJyb3dzZXJJbmZvID0gZ2V0QnJvd3NlckluZm8oKTtcbiAgaWYgKGJyb3dzZXJJbmZvKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6IGBicm93c2VyOiR7YnJvd3NlckluZm8uYnJvd3Nlcn1gLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IGJyb3dzZXJJbmZvLnZlcnNpb24sXG4gICAgfTtcbiAgfVxuXG4gIC8vIFRPRE8gYWRkIHN1cHBvcnQgZm9yIENsb3VkZmxhcmUgd29ya2VycywgZXRjLlxuICByZXR1cm4ge1xuICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAnWC1TdGFpbmxlc3MtT1MnOiAnVW5rbm93bicsXG4gICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAndW5rbm93bicsXG4gICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6ICd1bmtub3duJyxcbiAgfTtcbn07XG5cbnR5cGUgQnJvd3NlckluZm8gPSB7XG4gIGJyb3dzZXI6IEJyb3dzZXI7XG4gIHZlcnNpb246IHN0cmluZztcbn07XG5cbmRlY2xhcmUgY29uc3QgbmF2aWdhdG9yOiB7IHVzZXJBZ2VudDogc3RyaW5nIH0gfCB1bmRlZmluZWQ7XG5cbi8vIE5vdGU6IG1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0pTLURldlRvb2xzL2hvc3QtZW52aXJvbm1lbnQvYmxvYi9iMWFiNzllY2RlMzdkYjVkNmUxNjNjMDUwZTU0ZmU3ZDI4N2Q3YzkyL3NyYy9pc29tb3JwaGljLmJyb3dzZXIudHNcbmZ1bmN0aW9uIGdldEJyb3dzZXJJbmZvKCk6IEJyb3dzZXJJbmZvIHwgbnVsbCB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCAhbmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBOT1RFOiBUaGUgb3JkZXIgbWF0dGVycyBoZXJlIVxuICBjb25zdCBicm93c2VyUGF0dGVybnMgPSBbXG4gICAgeyBrZXk6ICdlZGdlJyBhcyBjb25zdCwgcGF0dGVybjogL0VkZ2UoPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICB7IGtleTogJ2llJyBhcyBjb25zdCwgcGF0dGVybjogL01TSUUoPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICB7IGtleTogJ2llJyBhcyBjb25zdCwgcGF0dGVybjogL1RyaWRlbnQoPzouKnJ2XFw6KFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICB7IGtleTogJ2Nocm9tZScgYXMgY29uc3QsIHBhdHRlcm46IC9DaHJvbWUoPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICB7IGtleTogJ2ZpcmVmb3gnIGFzIGNvbnN0LCBwYXR0ZXJuOiAvRmlyZWZveCg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgIHsga2V5OiAnc2FmYXJpJyBhcyBjb25zdCwgcGF0dGVybjogLyg/OlZlcnNpb25cXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPyg/OlxcVytNb2JpbGVcXFMqKT9cXFcrU2FmYXJpLyB9LFxuICBdO1xuXG4gIC8vIEZpbmQgdGhlIEZJUlNUIG1hdGNoaW5nIGJyb3dzZXJcbiAgZm9yIChjb25zdCB7IGtleSwgcGF0dGVybiB9IG9mIGJyb3dzZXJQYXR0ZXJucykge1xuICAgIGNvbnN0IG1hdGNoID0gcGF0dGVybi5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgY29uc3QgbWFqb3IgPSBtYXRjaFsxXSB8fCAwO1xuICAgICAgY29uc3QgbWlub3IgPSBtYXRjaFsyXSB8fCAwO1xuICAgICAgY29uc3QgcGF0Y2ggPSBtYXRjaFszXSB8fCAwO1xuXG4gICAgICByZXR1cm4geyBicm93c2VyOiBrZXksIHZlcnNpb246IGAke21ham9yfS4ke21pbm9yfS4ke3BhdGNofWAgfTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3Qgbm9ybWFsaXplQXJjaCA9IChhcmNoOiBzdHJpbmcpOiBBcmNoID0+IHtcbiAgLy8gTm9kZSBkb2NzOlxuICAvLyAtIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NhcmNoXG4gIC8vIERlbm8gZG9jczpcbiAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gIGlmIChhcmNoID09PSAneDMyJykgcmV0dXJuICd4MzInO1xuICBpZiAoYXJjaCA9PT0gJ3g4Nl82NCcgfHwgYXJjaCA9PT0gJ3g2NCcpIHJldHVybiAneDY0JztcbiAgaWYgKGFyY2ggPT09ICdhcm0nKSByZXR1cm4gJ2FybSc7XG4gIGlmIChhcmNoID09PSAnYWFyY2g2NCcgfHwgYXJjaCA9PT0gJ2FybTY0JykgcmV0dXJuICdhcm02NCc7XG4gIGlmIChhcmNoKSByZXR1cm4gYG90aGVyOiR7YXJjaH1gO1xuICByZXR1cm4gJ3Vua25vd24nO1xufTtcblxuY29uc3Qgbm9ybWFsaXplUGxhdGZvcm0gPSAocGxhdGZvcm06IHN0cmluZyk6IFBsYXRmb3JtTmFtZSA9PiB7XG4gIC8vIE5vZGUgcGxhdGZvcm1zOlxuICAvLyAtIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NwbGF0Zm9ybVxuICAvLyBEZW5vIHBsYXRmb3JtczpcbiAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2Rlbm9sYW5kL2Rlbm8vaXNzdWVzLzE0Nzk5XG5cbiAgcGxhdGZvcm0gPSBwbGF0Zm9ybS50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIE5PVEU6IHRoaXMgaU9TIGNoZWNrIGlzIHVudGVzdGVkIGFuZCBtYXkgbm90IHdvcmtcbiAgLy8gTm9kZSBkb2VzIG5vdCB3b3JrIG5hdGl2ZWx5IG9uIElPUywgdGhlcmUgaXMgYSBmb3JrIGF0XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMtbW9iaWxlL25vZGVqcy1tb2JpbGVcbiAgLy8gaG93ZXZlciBpdCBpcyB1bmtub3duIGF0IHRoZSB0aW1lIG9mIHdyaXRpbmcgaG93IHRvIGRldGVjdCBpZiBpdCBpcyBydW5uaW5nXG4gIGlmIChwbGF0Zm9ybS5pbmNsdWRlcygnaW9zJykpIHJldHVybiAnaU9TJztcbiAgaWYgKHBsYXRmb3JtID09PSAnYW5kcm9pZCcpIHJldHVybiAnQW5kcm9pZCc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ2RhcndpbicpIHJldHVybiAnTWFjT1MnO1xuICBpZiAocGxhdGZvcm0gPT09ICd3aW4zMicpIHJldHVybiAnV2luZG93cyc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ2ZyZWVic2QnKSByZXR1cm4gJ0ZyZWVCU0QnO1xuICBpZiAocGxhdGZvcm0gPT09ICdvcGVuYnNkJykgcmV0dXJuICdPcGVuQlNEJztcbiAgaWYgKHBsYXRmb3JtID09PSAnbGludXgnKSByZXR1cm4gJ0xpbnV4JztcbiAgaWYgKHBsYXRmb3JtKSByZXR1cm4gYE90aGVyOiR7cGxhdGZvcm19YDtcbiAgcmV0dXJuICdVbmtub3duJztcbn07XG5cbmxldCBfcGxhdGZvcm1IZWFkZXJzOiBQbGF0Zm9ybVByb3BlcnRpZXM7XG5jb25zdCBnZXRQbGF0Zm9ybUhlYWRlcnMgPSAoKSA9PiB7XG4gIHJldHVybiAoX3BsYXRmb3JtSGVhZGVycyA/Pz0gZ2V0UGxhdGZvcm1Qcm9wZXJ0aWVzKCkpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNhZmVKU09OID0gKHRleHQ6IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59O1xuXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybC1zY2hlbWUtc3RyaW5nXG5jb25zdCBzdGFydHNXaXRoU2NoZW1lUmVnZXhwID0gL15bYS16XVthLXowLTkrLi1dKjovaTtcbmNvbnN0IGlzQWJzb2x1dGVVUkwgPSAodXJsOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHN0YXJ0c1dpdGhTY2hlbWVSZWdleHAudGVzdCh1cmwpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG1zOiBudW1iZXIpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5cbmNvbnN0IHZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyID0gKG5hbWU6IHN0cmluZywgbjogdW5rbm93bik6IG51bWJlciA9PiB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgIU51bWJlci5pc0ludGVnZXIobikpIHtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBhbiBpbnRlZ2VyYCk7XG4gIH1cbiAgaWYgKG4gPCAwKSB7XG4gICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGAke25hbWV9IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyYCk7XG4gIH1cbiAgcmV0dXJuIG47XG59O1xuXG5leHBvcnQgY29uc3QgY2FzdFRvRXJyb3IgPSAoZXJyOiBhbnkpOiBFcnJvciA9PiB7XG4gIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGVycjtcbiAgaWYgKHR5cGVvZiBlcnIgPT09ICdvYmplY3QnICYmIGVyciAhPT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGVycikpO1xuICAgIH0gY2F0Y2gge31cbiAgfVxuICByZXR1cm4gbmV3IEVycm9yKGVycik7XG59O1xuXG5leHBvcnQgY29uc3QgZW5zdXJlUHJlc2VudCA9IDxUPih2YWx1ZTogVCB8IG51bGwgfCB1bmRlZmluZWQpOiBUID0+IHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHRocm93IG5ldyBPcGVuQUlFcnJvcihgRXhwZWN0ZWQgYSB2YWx1ZSB0byBiZSBnaXZlbiBidXQgcmVjZWl2ZWQgJHt2YWx1ZX0gaW5zdGVhZC5gKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLyoqXG4gKiBSZWFkIGFuIGVudmlyb25tZW50IHZhcmlhYmxlLlxuICpcbiAqIFRyaW1zIGJlZ2lubmluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS5cbiAqXG4gKiBXaWxsIHJldHVybiB1bmRlZmluZWQgaWYgdGhlIGVudmlyb25tZW50IHZhcmlhYmxlIGRvZXNuJ3QgZXhpc3Qgb3IgY2Fubm90IGJlIGFjY2Vzc2VkLlxuICovXG5leHBvcnQgY29uc3QgcmVhZEVudiA9IChlbnY6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5lbnY/LltlbnZdPy50cmltKCkgPz8gdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gRGVuby5lbnY/LmdldD8uKGVudik/LnRyaW0oKTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvZXJjZUludGVnZXIgPSAodmFsdWU6IHVua25vd24pOiBudW1iZXIgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykgcmV0dXJuIE1hdGgucm91bmQodmFsdWUpO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG5cbiAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb2VyY2VGbG9hdCA9ICh2YWx1ZTogdW5rbm93bik6IG51bWJlciA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSByZXR1cm4gdmFsdWU7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG5cbiAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb2VyY2VCb29sZWFuID0gKHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykgcmV0dXJuIHZhbHVlO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgcmV0dXJuIHZhbHVlID09PSAndHJ1ZSc7XG4gIHJldHVybiBCb29sZWFuKHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUludGVnZXIgPSAodmFsdWU6IHVua25vd24pOiBudW1iZXIgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGNvZXJjZUludGVnZXIodmFsdWUpO1xufTtcblxuZXhwb3J0IGNvbnN0IG1heWJlQ29lcmNlRmxvYXQgPSAodmFsdWU6IHVua25vd24pOiBudW1iZXIgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGNvZXJjZUZsb2F0KHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUJvb2xlYW4gPSAodmFsdWU6IHVua25vd24pOiBib29sZWFuIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBjb2VyY2VCb29sZWFuKHZhbHVlKTtcbn07XG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNDQ5MTI4N1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHlPYmoob2JqOiBPYmplY3QgfCBudWxsIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB7XG4gIGlmICghb2JqKSByZXR1cm4gdHJ1ZTtcbiAgZm9yIChjb25zdCBfayBpbiBvYmopIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIGh0dHBzOi8vZXNsaW50Lm9yZy9kb2NzL2xhdGVzdC9ydWxlcy9uby1wcm90b3R5cGUtYnVpbHRpbnNcbmV4cG9ydCBmdW5jdGlvbiBoYXNPd24ob2JqOiBPYmplY3QsIGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuXG4vKipcbiAqIENvcGllcyBoZWFkZXJzIGZyb20gXCJuZXdIZWFkZXJzXCIgb250byBcInRhcmdldEhlYWRlcnNcIixcbiAqIHVzaW5nIGxvd2VyLWNhc2UgZm9yIGFsbCBwcm9wZXJ0aWVzLFxuICogaWdub3JpbmcgYW55IGtleXMgd2l0aCB1bmRlZmluZWQgdmFsdWVzLFxuICogYW5kIGRlbGV0aW5nIGFueSBrZXlzIHdpdGggbnVsbCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5SGVhZGVyc011dCh0YXJnZXRIZWFkZXJzOiBIZWFkZXJzLCBuZXdIZWFkZXJzOiBIZWFkZXJzKTogdm9pZCB7XG4gIGZvciAoY29uc3QgayBpbiBuZXdIZWFkZXJzKSB7XG4gICAgaWYgKCFoYXNPd24obmV3SGVhZGVycywgaykpIGNvbnRpbnVlO1xuICAgIGNvbnN0IGxvd2VyS2V5ID0gay50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghbG93ZXJLZXkpIGNvbnRpbnVlO1xuXG4gICAgY29uc3QgdmFsID0gbmV3SGVhZGVyc1trXTtcblxuICAgIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgIGRlbGV0ZSB0YXJnZXRIZWFkZXJzW2xvd2VyS2V5XTtcbiAgICB9IGVsc2UgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXRIZWFkZXJzW2xvd2VyS2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgU0VOU0lUSVZFX0hFQURFUlMgPSBuZXcgU2V0KFsnYXV0aG9yaXphdGlvbicsICdhcGkta2V5J10pO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVidWcoYWN0aW9uOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSB7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcz8uZW52Py5bJ0RFQlVHJ10gPT09ICd0cnVlJykge1xuICAgIGNvbnN0IG1vZGlmaWVkQXJncyA9IGFyZ3MubWFwKChhcmcpID0+IHtcbiAgICAgIGlmICghYXJnKSB7XG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZvciBzZW5zaXRpdmUgaGVhZGVycyBpbiByZXF1ZXN0IGJvZHkgJ2hlYWRlcnMnIG9iamVjdFxuICAgICAgaWYgKGFyZ1snaGVhZGVycyddKSB7XG4gICAgICAgIC8vIGNsb25lIHNvIHdlIGRvbid0IG11dGF0ZVxuICAgICAgICBjb25zdCBtb2RpZmllZEFyZyA9IHsgLi4uYXJnLCBoZWFkZXJzOiB7IC4uLmFyZ1snaGVhZGVycyddIH0gfTtcblxuICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBpbiBhcmdbJ2hlYWRlcnMnXSkge1xuICAgICAgICAgIGlmIChTRU5TSVRJVkVfSEVBREVSUy5oYXMoaGVhZGVyLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBtb2RpZmllZEFyZ1snaGVhZGVycyddW2hlYWRlcl0gPSAnUkVEQUNURUQnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtb2RpZmllZEFyZztcbiAgICAgIH1cblxuICAgICAgbGV0IG1vZGlmaWVkQXJnID0gbnVsbDtcblxuICAgICAgLy8gQ2hlY2sgZm9yIHNlbnNpdGl2ZSBoZWFkZXJzIGluIGhlYWRlcnMgb2JqZWN0XG4gICAgICBmb3IgKGNvbnN0IGhlYWRlciBpbiBhcmcpIHtcbiAgICAgICAgaWYgKFNFTlNJVElWRV9IRUFERVJTLmhhcyhoZWFkZXIudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAvLyBhdm9pZCBtYWtpbmcgYSBjb3B5IHVudGlsIHdlIG5lZWQgdG9cbiAgICAgICAgICBtb2RpZmllZEFyZyA/Pz0geyAuLi5hcmcgfTtcbiAgICAgICAgICBtb2RpZmllZEFyZ1toZWFkZXJdID0gJ1JFREFDVEVEJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbW9kaWZpZWRBcmcgPz8gYXJnO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKGBPcGVuQUk6REVCVUc6JHthY3Rpb259YCwgLi4ubW9kaWZpZWRBcmdzKTtcbiAgfVxufVxuXG4vKipcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXG4gKi9cbmNvbnN0IHV1aWQ0ID0gKCkgPT4ge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoYykgPT4ge1xuICAgIGNvbnN0IHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDA7XG4gICAgY29uc3QgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1J1bm5pbmdJbkJyb3dzZXIgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnXG4gICk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWRlcnNQcm90b2NvbCB7XG4gIGdldDogKGhlYWRlcjogc3RyaW5nKSA9PiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xufVxuZXhwb3J0IHR5cGUgSGVhZGVyc0xpa2UgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZD4gfCBIZWFkZXJzUHJvdG9jb2w7XG5cbmV4cG9ydCBjb25zdCBpc0hlYWRlcnNQcm90b2NvbCA9IChoZWFkZXJzOiBhbnkpOiBoZWFkZXJzIGlzIEhlYWRlcnNQcm90b2NvbCA9PiB7XG4gIHJldHVybiB0eXBlb2YgaGVhZGVycz8uZ2V0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFJlcXVpcmVkSGVhZGVyID0gKGhlYWRlcnM6IEhlYWRlcnNMaWtlIHwgSGVhZGVycywgaGVhZGVyOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBmb3VuZEhlYWRlciA9IGdldEhlYWRlcihoZWFkZXJzLCBoZWFkZXIpO1xuICBpZiAoZm91bmRIZWFkZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgJHtoZWFkZXJ9IGhlYWRlcmApO1xuICB9XG4gIHJldHVybiBmb3VuZEhlYWRlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRIZWFkZXIgPSAoaGVhZGVyczogSGVhZGVyc0xpa2UgfCBIZWFkZXJzLCBoZWFkZXI6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IGxvd2VyQ2FzZWRIZWFkZXIgPSBoZWFkZXIudG9Mb3dlckNhc2UoKTtcbiAgaWYgKGlzSGVhZGVyc1Byb3RvY29sKGhlYWRlcnMpKSB7XG4gICAgLy8gdG8gZGVhbCB3aXRoIHRoZSBjYXNlIHdoZXJlIHRoZSBoZWFkZXIgbG9va3MgbGlrZSBTdGFpbmxlc3MtRXZlbnQtSWRcbiAgICBjb25zdCBpbnRlcmNhcHNIZWFkZXIgPVxuICAgICAgaGVhZGVyWzBdPy50b1VwcGVyQ2FzZSgpICtcbiAgICAgIGhlYWRlci5zdWJzdHJpbmcoMSkucmVwbGFjZSgvKFteXFx3XSkoXFx3KS9nLCAoX20sIGcxLCBnMikgPT4gZzEgKyBnMi50b1VwcGVyQ2FzZSgpKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBbaGVhZGVyLCBsb3dlckNhc2VkSGVhZGVyLCBoZWFkZXIudG9VcHBlckNhc2UoKSwgaW50ZXJjYXBzSGVhZGVyXSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBoZWFkZXJzLmdldChrZXkpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhoZWFkZXJzKSkge1xuICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKSA9PT0gbG93ZXJDYXNlZEhlYWRlcikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPD0gMSkgcmV0dXJuIHZhbHVlWzBdO1xuICAgICAgICBjb25zb2xlLndhcm4oYFJlY2VpdmVkICR7dmFsdWUubGVuZ3RofSBlbnRyaWVzIGZvciB0aGUgJHtoZWFkZXJ9IGhlYWRlciwgdXNpbmcgdGhlIGZpcnN0IGVudHJ5LmApO1xuICAgICAgICByZXR1cm4gdmFsdWVbMF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogRW5jb2RlcyBhIHN0cmluZyB0byBCYXNlNjQgZm9ybWF0LlxuICovXG5leHBvcnQgY29uc3QgdG9CYXNlNjQgPSAoc3RyOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKTogc3RyaW5nID0+IHtcbiAgaWYgKCFzdHIpIHJldHVybiAnJztcbiAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHN0cikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBidG9hKHN0cik7XG4gIH1cblxuICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoJ0Nhbm5vdCBnZW5lcmF0ZSBiNjQgc3RyaW5nOyBFeHBlY3RlZCBgQnVmZmVyYCBvciBgYnRvYWAgdG8gYmUgZGVmaW5lZCcpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqKG9iajogdW5rbm93bik6IG9iaiBpcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShvYmopO1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFic3RyYWN0UGFnZSwgUmVzcG9uc2UsIEFQSUNsaWVudCwgRmluYWxSZXF1ZXN0T3B0aW9ucywgUGFnZUluZm8gfSBmcm9tICcuL2NvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2VSZXNwb25zZTxJdGVtPiB7XG4gIGRhdGE6IEFycmF5PEl0ZW0+O1xuXG4gIG9iamVjdDogc3RyaW5nO1xufVxuXG4vKipcbiAqIE5vdGU6IG5vIHBhZ2luYXRpb24gYWN0dWFsbHkgb2NjdXJzIHlldCwgdGhpcyBpcyBmb3IgZm9yd2FyZHMtY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2U8SXRlbT4gZXh0ZW5kcyBBYnN0cmFjdFBhZ2U8SXRlbT4gaW1wbGVtZW50cyBQYWdlUmVzcG9uc2U8SXRlbT4ge1xuICBkYXRhOiBBcnJheTxJdGVtPjtcblxuICBvYmplY3Q6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihjbGllbnQ6IEFQSUNsaWVudCwgcmVzcG9uc2U6IFJlc3BvbnNlLCBib2R5OiBQYWdlUmVzcG9uc2U8SXRlbT4sIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnMpIHtcbiAgICBzdXBlcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKTtcblxuICAgIHRoaXMuZGF0YSA9IGJvZHkuZGF0YSB8fCBbXTtcbiAgICB0aGlzLm9iamVjdCA9IGJvZHkub2JqZWN0O1xuICB9XG5cbiAgZ2V0UGFnaW5hdGVkSXRlbXMoKTogSXRlbVtdIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhID8/IFtdO1xuICB9XG5cbiAgLy8gQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV4dFBhZ2VJbmZvKClgIGluc3RlYWRcbiAgLyoqXG4gICAqIFRoaXMgcGFnZSByZXByZXNlbnRzIGEgcmVzcG9uc2UgdGhhdCBpc24ndCBhY3R1YWxseSBwYWdpbmF0ZWQgYXQgdGhlIEFQSSBsZXZlbFxuICAgKiBzbyB0aGVyZSB3aWxsIG5ldmVyIGJlIGFueSBuZXh0IHBhZ2UgcGFyYW1zLlxuICAgKi9cbiAgbmV4dFBhZ2VQYXJhbXMoKTogbnVsbCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBuZXh0UGFnZUluZm8oKTogbnVsbCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDdXJzb3JQYWdlUmVzcG9uc2U8SXRlbT4ge1xuICBkYXRhOiBBcnJheTxJdGVtPjtcblxuICBoYXNfbW9yZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDdXJzb3JQYWdlUGFyYW1zIHtcbiAgYWZ0ZXI/OiBzdHJpbmc7XG5cbiAgbGltaXQ/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBDdXJzb3JQYWdlPEl0ZW0gZXh0ZW5kcyB7IGlkOiBzdHJpbmcgfT5cbiAgZXh0ZW5kcyBBYnN0cmFjdFBhZ2U8SXRlbT5cbiAgaW1wbGVtZW50cyBDdXJzb3JQYWdlUmVzcG9uc2U8SXRlbT5cbntcbiAgZGF0YTogQXJyYXk8SXRlbT47XG5cbiAgaGFzX21vcmU6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY2xpZW50OiBBUElDbGllbnQsXG4gICAgcmVzcG9uc2U6IFJlc3BvbnNlLFxuICAgIGJvZHk6IEN1cnNvclBhZ2VSZXNwb25zZTxJdGVtPixcbiAgICBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zLFxuICApIHtcbiAgICBzdXBlcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKTtcblxuICAgIHRoaXMuZGF0YSA9IGJvZHkuZGF0YSB8fCBbXTtcbiAgICB0aGlzLmhhc19tb3JlID0gYm9keS5oYXNfbW9yZSB8fCBmYWxzZTtcbiAgfVxuXG4gIGdldFBhZ2luYXRlZEl0ZW1zKCk6IEl0ZW1bXSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YSA/PyBbXTtcbiAgfVxuXG4gIG92ZXJyaWRlIGhhc05leHRQYWdlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmhhc19tb3JlID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBzdXBlci5oYXNOZXh0UGFnZSgpO1xuICB9XG5cbiAgLy8gQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV4dFBhZ2VJbmZvKClgIGluc3RlYWRcbiAgbmV4dFBhZ2VQYXJhbXMoKTogUGFydGlhbDxDdXJzb3JQYWdlUGFyYW1zPiB8IG51bGwge1xuICAgIGNvbnN0IGluZm8gPSB0aGlzLm5leHRQYWdlSW5mbygpO1xuICAgIGlmICghaW5mbykgcmV0dXJuIG51bGw7XG4gICAgaWYgKCdwYXJhbXMnIGluIGluZm8pIHJldHVybiBpbmZvLnBhcmFtcztcbiAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuZnJvbUVudHJpZXMoaW5mby51cmwuc2VhcmNoUGFyYW1zKTtcbiAgICBpZiAoIU9iamVjdC5rZXlzKHBhcmFtcykubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgbmV4dFBhZ2VJbmZvKCk6IFBhZ2VJbmZvIHwgbnVsbCB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0UGFnaW5hdGVkSXRlbXMoKTtcbiAgICBpZiAoIWRhdGEubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBpZCA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXT8uaWQ7XG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgcGFyYW1zOiB7IGFmdGVyOiBpZCB9IH07XG4gIH1cbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgdHlwZSB7IE9wZW5BSSB9IGZyb20gJy4vaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgQVBJUmVzb3VyY2Uge1xuICBwcm90ZWN0ZWQgX2NsaWVudDogT3BlbkFJO1xuXG4gIGNvbnN0cnVjdG9yKGNsaWVudDogT3BlbkFJKSB7XG4gICAgdGhpcy5fY2xpZW50ID0gY2xpZW50O1xuICB9XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29tcGxldGlvbnNBUEkgZnJvbSAnLi9jb21wbGV0aW9ucyc7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZXNQYWdlIH0gZnJvbSAnLi9jb21wbGV0aW9ucyc7XG5pbXBvcnQgeyB0eXBlIEN1cnNvclBhZ2VQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi9wYWdpbmF0aW9uJztcblxuZXhwb3J0IGNsYXNzIE1lc3NhZ2VzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogR2V0IHRoZSBtZXNzYWdlcyBpbiBhIHN0b3JlZCBjaGF0IGNvbXBsZXRpb24uIE9ubHkgQ2hhdCBDb21wbGV0aW9ucyB0aGF0IGhhdmVcbiAgICogYmVlbiBjcmVhdGVkIHdpdGggdGhlIGBzdG9yZWAgcGFyYW1ldGVyIHNldCB0byBgdHJ1ZWAgd2lsbCBiZSByZXR1cm5lZC5cbiAgICovXG4gIGxpc3QoXG4gICAgY29tcGxldGlvbklkOiBzdHJpbmcsXG4gICAgcXVlcnk/OiBNZXNzYWdlTGlzdFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZXNQYWdlLCBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZT47XG4gIGxpc3QoXG4gICAgY29tcGxldGlvbklkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8Q2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2VzUGFnZSwgQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2U+O1xuICBsaXN0KFxuICAgIGNvbXBsZXRpb25JZDogc3RyaW5nLFxuICAgIHF1ZXJ5OiBNZXNzYWdlTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZXNQYWdlLCBDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZT4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdChjb21wbGV0aW9uSWQsIHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChcbiAgICAgIGAvY2hhdC9jb21wbGV0aW9ucy8ke2NvbXBsZXRpb25JZH0vbWVzc2FnZXNgLFxuICAgICAgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2VzUGFnZSxcbiAgICAgIHsgcXVlcnksIC4uLm9wdGlvbnMgfSxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZUxpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFNvcnQgb3JkZXIgZm9yIG1lc3NhZ2VzIGJ5IHRpbWVzdGFtcC4gVXNlIGBhc2NgIGZvciBhc2NlbmRpbmcgb3JkZXIgb3IgYGRlc2NgXG4gICAqIGZvciBkZXNjZW5kaW5nIG9yZGVyLiBEZWZhdWx0cyB0byBgYXNjYC5cbiAgICovXG4gIG9yZGVyPzogJ2FzYycgfCAnZGVzYyc7XG59XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBNZXNzYWdlcyB7XG4gIGV4cG9ydCB7IHR5cGUgTWVzc2FnZUxpc3RQYXJhbXMgYXMgTWVzc2FnZUxpc3RQYXJhbXMgfTtcbn1cblxuZXhwb3J0IHsgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2VzUGFnZSB9O1xuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgQVBJUHJvbWlzZSB9IGZyb20gJy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIENvbXBsZXRpb25zQ29tcGxldGlvbnNBUEkgZnJvbSAnLi9jb21wbGV0aW9ucyc7XG5pbXBvcnQgKiBhcyBDb21wbGV0aW9uc0FQSSBmcm9tICcuLi8uLi9jb21wbGV0aW9ucyc7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSAnLi4vLi4vc2hhcmVkJztcbmltcG9ydCAqIGFzIE1lc3NhZ2VzQVBJIGZyb20gJy4vbWVzc2FnZXMnO1xuaW1wb3J0IHsgTWVzc2FnZUxpc3RQYXJhbXMsIE1lc3NhZ2VzIH0gZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlLCB0eXBlIEN1cnNvclBhZ2VQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi9wYWdpbmF0aW9uJztcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gJy4uLy4uLy4uL3N0cmVhbWluZyc7XG5cbmV4cG9ydCBjbGFzcyBDb21wbGV0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgbWVzc2FnZXM6IE1lc3NhZ2VzQVBJLk1lc3NhZ2VzID0gbmV3IE1lc3NhZ2VzQVBJLk1lc3NhZ2VzKHRoaXMuX2NsaWVudCk7XG5cbiAgLyoqXG4gICAqICoqU3RhcnRpbmcgYSBuZXcgcHJvamVjdD8qKiBXZSByZWNvbW1lbmQgdHJ5aW5nXG4gICAqIFtSZXNwb25zZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcmVzcG9uc2VzKSB0byB0YWtlXG4gICAqIGFkdmFudGFnZSBvZiB0aGUgbGF0ZXN0IE9wZW5BSSBwbGF0Zm9ybSBmZWF0dXJlcy4gQ29tcGFyZVxuICAgKiBbQ2hhdCBDb21wbGV0aW9ucyB3aXRoIFJlc3BvbnNlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Jlc3BvbnNlcy12cy1jaGF0LWNvbXBsZXRpb25zP2FwaS1tb2RlPXJlc3BvbnNlcykuXG4gICAqXG4gICAqIC0tLVxuICAgKlxuICAgKiBDcmVhdGVzIGEgbW9kZWwgcmVzcG9uc2UgZm9yIHRoZSBnaXZlbiBjaGF0IGNvbnZlcnNhdGlvbi4gTGVhcm4gbW9yZSBpbiB0aGVcbiAgICogW3RleHQgZ2VuZXJhdGlvbl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3RleHQtZ2VuZXJhdGlvbiksXG4gICAqIFt2aXNpb25dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy92aXNpb24pLCBhbmRcbiAgICogW2F1ZGlvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvYXVkaW8pIGd1aWRlcy5cbiAgICpcbiAgICogUGFyYW1ldGVyIHN1cHBvcnQgY2FuIGRpZmZlciBkZXBlbmRpbmcgb24gdGhlIG1vZGVsIHVzZWQgdG8gZ2VuZXJhdGUgdGhlXG4gICAqIHJlc3BvbnNlLCBwYXJ0aWN1bGFybHkgZm9yIG5ld2VyIHJlYXNvbmluZyBtb2RlbHMuIFBhcmFtZXRlcnMgdGhhdCBhcmUgb25seVxuICAgKiBzdXBwb3J0ZWQgZm9yIHJlYXNvbmluZyBtb2RlbHMgYXJlIG5vdGVkIGJlbG93LiBGb3IgdGhlIGN1cnJlbnQgc3RhdGUgb2ZcbiAgICogdW5zdXBwb3J0ZWQgcGFyYW1ldGVycyBpbiByZWFzb25pbmcgbW9kZWxzLFxuICAgKiBbcmVmZXIgdG8gdGhlIHJlYXNvbmluZyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3JlYXNvbmluZykuXG4gICAqL1xuICBjcmVhdGUoXG4gICAgYm9keTogQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8Q2hhdENvbXBsZXRpb24+O1xuICBjcmVhdGUoXG4gICAgYm9keTogQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPENoYXRDb21wbGV0aW9uQ2h1bms+PjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zQmFzZSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08Q2hhdENvbXBsZXRpb25DaHVuaz4gfCBDaGF0Q29tcGxldGlvbj47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxDaGF0Q29tcGxldGlvbj4gfCBBUElQcm9taXNlPFN0cmVhbTxDaGF0Q29tcGxldGlvbkNodW5rPj4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2NoYXQvY29tcGxldGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMsIHN0cmVhbTogYm9keS5zdHJlYW0gPz8gZmFsc2UgfSkgYXNcbiAgICAgIHwgQVBJUHJvbWlzZTxDaGF0Q29tcGxldGlvbj5cbiAgICAgIHwgQVBJUHJvbWlzZTxTdHJlYW08Q2hhdENvbXBsZXRpb25DaHVuaz4+O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHN0b3JlZCBjaGF0IGNvbXBsZXRpb24uIE9ubHkgQ2hhdCBDb21wbGV0aW9ucyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAgICogdGhlIGBzdG9yZWAgcGFyYW1ldGVyIHNldCB0byBgdHJ1ZWAgd2lsbCBiZSByZXR1cm5lZC5cbiAgICovXG4gIHJldHJpZXZlKGNvbXBsZXRpb25JZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxDaGF0Q29tcGxldGlvbj4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvY2hhdC9jb21wbGV0aW9ucy8ke2NvbXBsZXRpb25JZH1gLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb2RpZnkgYSBzdG9yZWQgY2hhdCBjb21wbGV0aW9uLiBPbmx5IENoYXQgQ29tcGxldGlvbnMgdGhhdCBoYXZlIGJlZW4gY3JlYXRlZFxuICAgKiB3aXRoIHRoZSBgc3RvcmVgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgIGNhbiBiZSBtb2RpZmllZC4gQ3VycmVudGx5LCB0aGUgb25seVxuICAgKiBzdXBwb3J0ZWQgbW9kaWZpY2F0aW9uIGlzIHRvIHVwZGF0ZSB0aGUgYG1ldGFkYXRhYCBmaWVsZC5cbiAgICovXG4gIHVwZGF0ZShcbiAgICBjb21wbGV0aW9uSWQ6IHN0cmluZyxcbiAgICBib2R5OiBDaGF0Q29tcGxldGlvblVwZGF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPENoYXRDb21wbGV0aW9uPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvY2hhdC9jb21wbGV0aW9ucy8ke2NvbXBsZXRpb25JZH1gLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdCBzdG9yZWQgQ2hhdCBDb21wbGV0aW9ucy4gT25seSBDaGF0IENvbXBsZXRpb25zIHRoYXQgaGF2ZSBiZWVuIHN0b3JlZCB3aXRoXG4gICAqIHRoZSBgc3RvcmVgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqL1xuICBsaXN0KFxuICAgIHF1ZXJ5PzogQ2hhdENvbXBsZXRpb25MaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPENoYXRDb21wbGV0aW9uc1BhZ2UsIENoYXRDb21wbGV0aW9uPjtcbiAgbGlzdChvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8Q2hhdENvbXBsZXRpb25zUGFnZSwgQ2hhdENvbXBsZXRpb24+O1xuICBsaXN0KFxuICAgIHF1ZXJ5OiBDaGF0Q29tcGxldGlvbkxpc3RQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8Q2hhdENvbXBsZXRpb25zUGFnZSwgQ2hhdENvbXBsZXRpb24+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvY2hhdC9jb21wbGV0aW9ucycsIENoYXRDb21wbGV0aW9uc1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgc3RvcmVkIGNoYXQgY29tcGxldGlvbi4gT25seSBDaGF0IENvbXBsZXRpb25zIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWRcbiAgICogd2l0aCB0aGUgYHN0b3JlYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYCBjYW4gYmUgZGVsZXRlZC5cbiAgICovXG4gIGRlbChjb21wbGV0aW9uSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8Q2hhdENvbXBsZXRpb25EZWxldGVkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9jaGF0L2NvbXBsZXRpb25zLyR7Y29tcGxldGlvbklkfWAsIG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGF0Q29tcGxldGlvbnNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxDaGF0Q29tcGxldGlvbj4ge31cblxuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlPENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlPiB7fVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjaGF0IGNvbXBsZXRpb24gcmVzcG9uc2UgcmV0dXJuZWQgYnkgbW9kZWwsIGJhc2VkIG9uIHRoZSBwcm92aWRlZFxuICogaW5wdXQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb24ge1xuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGNoYXQgY29tcGxldGlvbi5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBjaGF0IGNvbXBsZXRpb24gY2hvaWNlcy4gQ2FuIGJlIG1vcmUgdGhhbiBvbmUgaWYgYG5gIGlzIGdyZWF0ZXJcbiAgICogdGhhbiAxLlxuICAgKi9cbiAgY2hvaWNlczogQXJyYXk8Q2hhdENvbXBsZXRpb24uQ2hvaWNlPjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBvZiB3aGVuIHRoZSBjaGF0IGNvbXBsZXRpb24gd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB1c2VkIGZvciB0aGUgY2hhdCBjb21wbGV0aW9uLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYGNoYXQuY29tcGxldGlvbmAuXG4gICAqL1xuICBvYmplY3Q6ICdjaGF0LmNvbXBsZXRpb24nO1xuXG4gIC8qKlxuICAgKiBUaGUgc2VydmljZSB0aWVyIHVzZWQgZm9yIHByb2Nlc3NpbmcgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBzZXJ2aWNlX3RpZXI/OiAnc2NhbGUnIHwgJ2RlZmF1bHQnIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhpcyBmaW5nZXJwcmludCByZXByZXNlbnRzIHRoZSBiYWNrZW5kIGNvbmZpZ3VyYXRpb24gdGhhdCB0aGUgbW9kZWwgcnVucyB3aXRoLlxuICAgKlxuICAgKiBDYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSBgc2VlZGAgcmVxdWVzdCBwYXJhbWV0ZXIgdG8gdW5kZXJzdGFuZCB3aGVuXG4gICAqIGJhY2tlbmQgY2hhbmdlcyBoYXZlIGJlZW4gbWFkZSB0aGF0IG1pZ2h0IGltcGFjdCBkZXRlcm1pbmlzbS5cbiAgICovXG4gIHN5c3RlbV9maW5nZXJwcmludD86IHN0cmluZztcblxuICAvKipcbiAgICogVXNhZ2Ugc3RhdGlzdGljcyBmb3IgdGhlIGNvbXBsZXRpb24gcmVxdWVzdC5cbiAgICovXG4gIHVzYWdlPzogQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvblVzYWdlO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uIHtcbiAgZXhwb3J0IGludGVyZmFjZSBDaG9pY2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSByZWFzb24gdGhlIG1vZGVsIHN0b3BwZWQgZ2VuZXJhdGluZyB0b2tlbnMuIFRoaXMgd2lsbCBiZSBgc3RvcGAgaWYgdGhlIG1vZGVsXG4gICAgICogaGl0IGEgbmF0dXJhbCBzdG9wIHBvaW50IG9yIGEgcHJvdmlkZWQgc3RvcCBzZXF1ZW5jZSwgYGxlbmd0aGAgaWYgdGhlIG1heGltdW1cbiAgICAgKiBudW1iZXIgb2YgdG9rZW5zIHNwZWNpZmllZCBpbiB0aGUgcmVxdWVzdCB3YXMgcmVhY2hlZCwgYGNvbnRlbnRfZmlsdGVyYCBpZlxuICAgICAqIGNvbnRlbnQgd2FzIG9taXR0ZWQgZHVlIHRvIGEgZmxhZyBmcm9tIG91ciBjb250ZW50IGZpbHRlcnMsIGB0b29sX2NhbGxzYCBpZiB0aGVcbiAgICAgKiBtb2RlbCBjYWxsZWQgYSB0b29sLCBvciBgZnVuY3Rpb25fY2FsbGAgKGRlcHJlY2F0ZWQpIGlmIHRoZSBtb2RlbCBjYWxsZWQgYVxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZpbmlzaF9yZWFzb246ICdzdG9wJyB8ICdsZW5ndGgnIHwgJ3Rvb2xfY2FsbHMnIHwgJ2NvbnRlbnRfZmlsdGVyJyB8ICdmdW5jdGlvbl9jYWxsJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgY2hvaWNlIGluIHRoZSBsaXN0IG9mIGNob2ljZXMuXG4gICAgICovXG4gICAgaW5kZXg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIExvZyBwcm9iYWJpbGl0eSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNob2ljZS5cbiAgICAgKi9cbiAgICBsb2dwcm9iczogQ2hvaWNlLkxvZ3Byb2JzIHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgY2hhdCBjb21wbGV0aW9uIG1lc3NhZ2UgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICBtZXNzYWdlOiBDb21wbGV0aW9uc0NvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uTWVzc2FnZTtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQ2hvaWNlIHtcbiAgICAvKipcbiAgICAgKiBMb2cgcHJvYmFiaWxpdHkgaW5mb3JtYXRpb24gZm9yIHRoZSBjaG9pY2UuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBMb2dwcm9icyB7XG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiBtZXNzYWdlIGNvbnRlbnQgdG9rZW5zIHdpdGggbG9nIHByb2JhYmlsaXR5IGluZm9ybWF0aW9uLlxuICAgICAgICovXG4gICAgICBjb250ZW50OiBBcnJheTxDb21wbGV0aW9uc0NvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iPiB8IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIG1lc3NhZ2UgcmVmdXNhbCB0b2tlbnMgd2l0aCBsb2cgcHJvYmFiaWxpdHkgaW5mb3JtYXRpb24uXG4gICAgICAgKi9cbiAgICAgIHJlZnVzYWw6IEFycmF5PENvbXBsZXRpb25zQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2I+IHwgbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBNZXNzYWdlcyBzZW50IGJ5IHRoZSBtb2RlbCBpbiByZXNwb25zZSB0byB1c2VyIG1lc3NhZ2VzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtIHtcbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlcyBhdXRob3IsIGluIHRoaXMgY2FzZSBgYXNzaXN0YW50YC5cbiAgICovXG4gIHJvbGU6ICdhc3Npc3RhbnQnO1xuXG4gIC8qKlxuICAgKiBEYXRhIGFib3V0IGEgcHJldmlvdXMgYXVkaW8gcmVzcG9uc2UgZnJvbSB0aGUgbW9kZWwuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvYXVkaW8pLlxuICAgKi9cbiAgYXVkaW8/OiBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbS5BdWRpbyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgYXNzaXN0YW50IG1lc3NhZ2UuIFJlcXVpcmVkIHVubGVzcyBgdG9vbF9jYWxsc2Agb3JcbiAgICogYGZ1bmN0aW9uX2NhbGxgIGlzIHNwZWNpZmllZC5cbiAgICovXG4gIGNvbnRlbnQ/OiBzdHJpbmcgfCBBcnJheTxDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dCB8IENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRSZWZ1c2FsPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQgYW5kIHJlcGxhY2VkIGJ5IGB0b29sX2NhbGxzYC4gVGhlIG5hbWUgYW5kIGFyZ3VtZW50cyBvZiBhXG4gICAqIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICovXG4gIGZ1bmN0aW9uX2NhbGw/OiBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbS5GdW5jdGlvbkNhbGwgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBuYW1lIGZvciB0aGUgcGFydGljaXBhbnQuIFByb3ZpZGVzIHRoZSBtb2RlbCBpbmZvcm1hdGlvbiB0b1xuICAgKiBkaWZmZXJlbnRpYXRlIGJldHdlZW4gcGFydGljaXBhbnRzIG9mIHRoZSBzYW1lIHJvbGUuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVmdXNhbCBtZXNzYWdlIGJ5IHRoZSBhc3Npc3RhbnQuXG4gICAqL1xuICByZWZ1c2FsPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHRvb2wgY2FsbHMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCwgc3VjaCBhcyBmdW5jdGlvbiBjYWxscy5cbiAgICovXG4gIHRvb2xfY2FsbHM/OiBBcnJheTxDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbD47XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0ge1xuICAvKipcbiAgICogRGF0YSBhYm91dCBhIHByZXZpb3VzIGF1ZGlvIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2F1ZGlvKS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQXVkaW8ge1xuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciBhIHByZXZpb3VzIGF1ZGlvIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGlkOiBzdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBhbmQgcmVwbGFjZWQgYnkgYHRvb2xfY2FsbHNgLiBUaGUgbmFtZSBhbmQgYXJndW1lbnRzIG9mIGFcbiAgICogZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbkNhbGwge1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudHMgdG8gY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiBKU09OXG4gICAgICogZm9ybWF0LiBOb3RlIHRoYXQgdGhlIG1vZGVsIGRvZXMgbm90IGFsd2F5cyBnZW5lcmF0ZSB2YWxpZCBKU09OLCBhbmQgbWF5XG4gICAgICogaGFsbHVjaW5hdGUgcGFyYW1ldGVycyBub3QgZGVmaW5lZCBieSB5b3VyIGZ1bmN0aW9uIHNjaGVtYS4gVmFsaWRhdGUgdGhlXG4gICAgICogYXJndW1lbnRzIGluIHlvdXIgY29kZSBiZWZvcmUgY2FsbGluZyB5b3VyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGFyZ3VtZW50czogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogSWYgdGhlIGF1ZGlvIG91dHB1dCBtb2RhbGl0eSBpcyByZXF1ZXN0ZWQsIHRoaXMgb2JqZWN0IGNvbnRhaW5zIGRhdGEgYWJvdXQgdGhlXG4gKiBhdWRpbyByZXNwb25zZSBmcm9tIHRoZSBtb2RlbC5cbiAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvYXVkaW8pLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uQXVkaW8ge1xuICAvKipcbiAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgYXVkaW8gcmVzcG9uc2UuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBCYXNlNjQgZW5jb2RlZCBhdWRpbyBieXRlcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLCBpbiB0aGUgZm9ybWF0IHNwZWNpZmllZCBpblxuICAgKiB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGRhdGE6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGlzIGF1ZGlvIHJlc3BvbnNlIHdpbGwgbm8gbG9uZ2VyIGJlXG4gICAqIGFjY2Vzc2libGUgb24gdGhlIHNlcnZlciBmb3IgdXNlIGluIG11bHRpLXR1cm4gY29udmVyc2F0aW9ucy5cbiAgICovXG4gIGV4cGlyZXNfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVHJhbnNjcmlwdCBvZiB0aGUgYXVkaW8gZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICovXG4gIHRyYW5zY3JpcHQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBQYXJhbWV0ZXJzIGZvciBhdWRpbyBvdXRwdXQuIFJlcXVpcmVkIHdoZW4gYXVkaW8gb3V0cHV0IGlzIHJlcXVlc3RlZCB3aXRoXG4gKiBgbW9kYWxpdGllczogW1wiYXVkaW9cIl1gLlxuICogW0xlYXJuIG1vcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9hdWRpbykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25BdWRpb1BhcmFtIHtcbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgb3V0cHV0IGF1ZGlvIGZvcm1hdC4gTXVzdCBiZSBvbmUgb2YgYHdhdmAsIGBtcDNgLCBgZmxhY2AsIGBvcHVzYCxcbiAgICogb3IgYHBjbTE2YC5cbiAgICovXG4gIGZvcm1hdDogJ3dhdicgfCAnbXAzJyB8ICdmbGFjJyB8ICdvcHVzJyB8ICdwY20xNic7XG5cbiAgLyoqXG4gICAqIFRoZSB2b2ljZSB0aGUgbW9kZWwgdXNlcyB0byByZXNwb25kLiBTdXBwb3J0ZWQgdm9pY2VzIGFyZSBgYWxsb3lgLCBgYXNoYCxcbiAgICogYGJhbGxhZGAsIGBjb3JhbGAsIGBlY2hvYCwgYHNhZ2VgLCBhbmQgYHNoaW1tZXJgLlxuICAgKi9cbiAgdm9pY2U6ICdhbGxveScgfCAnYXNoJyB8ICdiYWxsYWQnIHwgJ2NvcmFsJyB8ICdlY2hvJyB8ICdzYWdlJyB8ICdzaGltbWVyJyB8ICd2ZXJzZSc7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHN0cmVhbWVkIGNodW5rIG9mIGEgY2hhdCBjb21wbGV0aW9uIHJlc3BvbnNlIHJldHVybmVkIGJ5IHRoZSBtb2RlbCxcbiAqIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBpbnB1dC5cbiAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RyZWFtaW5nLXJlc3BvbnNlcykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25DaHVuayB7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2hhdCBjb21wbGV0aW9uLiBFYWNoIGNodW5rIGhhcyB0aGUgc2FtZSBJRC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBjaGF0IGNvbXBsZXRpb24gY2hvaWNlcy4gQ2FuIGNvbnRhaW4gbW9yZSB0aGFuIG9uZSBlbGVtZW50cyBpZiBgbmAgaXNcbiAgICogZ3JlYXRlciB0aGFuIDEuIENhbiBhbHNvIGJlIGVtcHR5IGZvciB0aGUgbGFzdCBjaHVuayBpZiB5b3Ugc2V0XG4gICAqIGBzdHJlYW1fb3B0aW9uczoge1wiaW5jbHVkZV91c2FnZVwiOiB0cnVlfWAuXG4gICAqL1xuICBjaG9pY2VzOiBBcnJheTxDaGF0Q29tcGxldGlvbkNodW5rLkNob2ljZT47XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgb2Ygd2hlbiB0aGUgY2hhdCBjb21wbGV0aW9uIHdhcyBjcmVhdGVkLiBFYWNoXG4gICAqIGNodW5rIGhhcyB0aGUgc2FtZSB0aW1lc3RhbXAuXG4gICAqL1xuICBjcmVhdGVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB0byBnZW5lcmF0ZSB0aGUgY29tcGxldGlvbi5cbiAgICovXG4gIG1vZGVsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGBjaGF0LmNvbXBsZXRpb24uY2h1bmtgLlxuICAgKi9cbiAgb2JqZWN0OiAnY2hhdC5jb21wbGV0aW9uLmNodW5rJztcblxuICAvKipcbiAgICogVGhlIHNlcnZpY2UgdGllciB1c2VkIGZvciBwcm9jZXNzaW5nIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgc2VydmljZV90aWVyPzogJ3NjYWxlJyB8ICdkZWZhdWx0JyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoaXMgZmluZ2VycHJpbnQgcmVwcmVzZW50cyB0aGUgYmFja2VuZCBjb25maWd1cmF0aW9uIHRoYXQgdGhlIG1vZGVsIHJ1bnMgd2l0aC5cbiAgICogQ2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGUgYHNlZWRgIHJlcXVlc3QgcGFyYW1ldGVyIHRvIHVuZGVyc3RhbmQgd2hlblxuICAgKiBiYWNrZW5kIGNoYW5nZXMgaGF2ZSBiZWVuIG1hZGUgdGhhdCBtaWdodCBpbXBhY3QgZGV0ZXJtaW5pc20uXG4gICAqL1xuICBzeXN0ZW1fZmluZ2VycHJpbnQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIGZpZWxkIHRoYXQgd2lsbCBvbmx5IGJlIHByZXNlbnQgd2hlbiB5b3Ugc2V0XG4gICAqIGBzdHJlYW1fb3B0aW9uczoge1wiaW5jbHVkZV91c2FnZVwiOiB0cnVlfWAgaW4geW91ciByZXF1ZXN0LiBXaGVuIHByZXNlbnQsIGl0XG4gICAqIGNvbnRhaW5zIGEgbnVsbCB2YWx1ZSAqKmV4Y2VwdCBmb3IgdGhlIGxhc3QgY2h1bmsqKiB3aGljaCBjb250YWlucyB0aGUgdG9rZW5cbiAgICogdXNhZ2Ugc3RhdGlzdGljcyBmb3IgdGhlIGVudGlyZSByZXF1ZXN0LlxuICAgKlxuICAgKiAqKk5PVEU6KiogSWYgdGhlIHN0cmVhbSBpcyBpbnRlcnJ1cHRlZCBvciBjYW5jZWxsZWQsIHlvdSBtYXkgbm90IHJlY2VpdmUgdGhlXG4gICAqIGZpbmFsIHVzYWdlIGNodW5rIHdoaWNoIGNvbnRhaW5zIHRoZSB0b3RhbCB0b2tlbiB1c2FnZSBmb3IgdGhlIHJlcXVlc3QuXG4gICAqL1xuICB1c2FnZT86IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25Vc2FnZTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvbkNodW5rIHtcbiAgZXhwb3J0IGludGVyZmFjZSBDaG9pY2Uge1xuICAgIC8qKlxuICAgICAqIEEgY2hhdCBjb21wbGV0aW9uIGRlbHRhIGdlbmVyYXRlZCBieSBzdHJlYW1lZCBtb2RlbCByZXNwb25zZXMuXG4gICAgICovXG4gICAgZGVsdGE6IENob2ljZS5EZWx0YTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZWFzb24gdGhlIG1vZGVsIHN0b3BwZWQgZ2VuZXJhdGluZyB0b2tlbnMuIFRoaXMgd2lsbCBiZSBgc3RvcGAgaWYgdGhlIG1vZGVsXG4gICAgICogaGl0IGEgbmF0dXJhbCBzdG9wIHBvaW50IG9yIGEgcHJvdmlkZWQgc3RvcCBzZXF1ZW5jZSwgYGxlbmd0aGAgaWYgdGhlIG1heGltdW1cbiAgICAgKiBudW1iZXIgb2YgdG9rZW5zIHNwZWNpZmllZCBpbiB0aGUgcmVxdWVzdCB3YXMgcmVhY2hlZCwgYGNvbnRlbnRfZmlsdGVyYCBpZlxuICAgICAqIGNvbnRlbnQgd2FzIG9taXR0ZWQgZHVlIHRvIGEgZmxhZyBmcm9tIG91ciBjb250ZW50IGZpbHRlcnMsIGB0b29sX2NhbGxzYCBpZiB0aGVcbiAgICAgKiBtb2RlbCBjYWxsZWQgYSB0b29sLCBvciBgZnVuY3Rpb25fY2FsbGAgKGRlcHJlY2F0ZWQpIGlmIHRoZSBtb2RlbCBjYWxsZWQgYVxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZpbmlzaF9yZWFzb246ICdzdG9wJyB8ICdsZW5ndGgnIHwgJ3Rvb2xfY2FsbHMnIHwgJ2NvbnRlbnRfZmlsdGVyJyB8ICdmdW5jdGlvbl9jYWxsJyB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGNob2ljZSBpbiB0aGUgbGlzdCBvZiBjaG9pY2VzLlxuICAgICAqL1xuICAgIGluZGV4OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBMb2cgcHJvYmFiaWxpdHkgaW5mb3JtYXRpb24gZm9yIHRoZSBjaG9pY2UuXG4gICAgICovXG4gICAgbG9ncHJvYnM/OiBDaG9pY2UuTG9ncHJvYnMgfCBudWxsO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBDaG9pY2Uge1xuICAgIC8qKlxuICAgICAqIEEgY2hhdCBjb21wbGV0aW9uIGRlbHRhIGdlbmVyYXRlZCBieSBzdHJlYW1lZCBtb2RlbCByZXNwb25zZXMuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBEZWx0YSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBjb250ZW50cyBvZiB0aGUgY2h1bmsgbWVzc2FnZS5cbiAgICAgICAqL1xuICAgICAgY29udGVudD86IHN0cmluZyB8IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBhbmQgcmVwbGFjZWQgYnkgYHRvb2xfY2FsbHNgLiBUaGUgbmFtZSBhbmQgYXJndW1lbnRzIG9mIGFcbiAgICAgICAqIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb25fY2FsbD86IERlbHRhLkZ1bmN0aW9uQ2FsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgcmVmdXNhbCBtZXNzYWdlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAgICAgKi9cbiAgICAgIHJlZnVzYWw/OiBzdHJpbmcgfCBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSByb2xlIG9mIHRoZSBhdXRob3Igb2YgdGhpcyBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICByb2xlPzogJ2RldmVsb3BlcicgfCAnc3lzdGVtJyB8ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3Rvb2wnO1xuXG4gICAgICB0b29sX2NhbGxzPzogQXJyYXk8RGVsdGEuVG9vbENhbGw+O1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgRGVsdGEge1xuICAgICAgLyoqXG4gICAgICAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkIGFuZCByZXBsYWNlZCBieSBgdG9vbF9jYWxsc2AuIFRoZSBuYW1lIGFuZCBhcmd1bWVudHMgb2YgYVxuICAgICAgICogZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgICAgICovXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJndW1lbnRzIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGgsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gSlNPTlxuICAgICAgICAgKiBmb3JtYXQuIE5vdGUgdGhhdCB0aGUgbW9kZWwgZG9lcyBub3QgYWx3YXlzIGdlbmVyYXRlIHZhbGlkIEpTT04sIGFuZCBtYXlcbiAgICAgICAgICogaGFsbHVjaW5hdGUgcGFyYW1ldGVycyBub3QgZGVmaW5lZCBieSB5b3VyIGZ1bmN0aW9uIHNjaGVtYS4gVmFsaWRhdGUgdGhlXG4gICAgICAgICAqIGFyZ3VtZW50cyBpbiB5b3VyIGNvZGUgYmVmb3JlIGNhbGxpbmcgeW91ciBmdW5jdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGFyZ3VtZW50cz86IHN0cmluZztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lPzogc3RyaW5nO1xuICAgICAgfVxuXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIFRvb2xDYWxsIHtcbiAgICAgICAgaW5kZXg6IG51bWJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICAgICAqL1xuICAgICAgICBpZD86IHN0cmluZztcblxuICAgICAgICBmdW5jdGlvbj86IFRvb2xDYWxsLkZ1bmN0aW9uO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbC4gQ3VycmVudGx5LCBvbmx5IGBmdW5jdGlvbmAgaXMgc3VwcG9ydGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdHlwZT86ICdmdW5jdGlvbic7XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydCBuYW1lc3BhY2UgVG9vbENhbGwge1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgYXJndW1lbnRzIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGgsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gSlNPTlxuICAgICAgICAgICAqIGZvcm1hdC4gTm90ZSB0aGF0IHRoZSBtb2RlbCBkb2VzIG5vdCBhbHdheXMgZ2VuZXJhdGUgdmFsaWQgSlNPTiwgYW5kIG1heVxuICAgICAgICAgICAqIGhhbGx1Y2luYXRlIHBhcmFtZXRlcnMgbm90IGRlZmluZWQgYnkgeW91ciBmdW5jdGlvbiBzY2hlbWEuIFZhbGlkYXRlIHRoZVxuICAgICAgICAgICAqIGFyZ3VtZW50cyBpbiB5b3VyIGNvZGUgYmVmb3JlIGNhbGxpbmcgeW91ciBmdW5jdGlvbi5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBhcmd1bWVudHM/OiBzdHJpbmc7XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBuYW1lPzogc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9nIHByb2JhYmlsaXR5IGluZm9ybWF0aW9uIGZvciB0aGUgY2hvaWNlLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgTG9ncHJvYnMge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgbWVzc2FnZSBjb250ZW50IHRva2VucyB3aXRoIGxvZyBwcm9iYWJpbGl0eSBpbmZvcm1hdGlvbi5cbiAgICAgICAqL1xuICAgICAgY29udGVudDogQXJyYXk8Q29tcGxldGlvbnNDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYj4gfCBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiBtZXNzYWdlIHJlZnVzYWwgdG9rZW5zIHdpdGggbG9nIHByb2JhYmlsaXR5IGluZm9ybWF0aW9uLlxuICAgICAgICovXG4gICAgICByZWZ1c2FsOiBBcnJheTxDb21wbGV0aW9uc0NvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iPiB8IG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTGVhcm4gYWJvdXRcbiAqIFt0ZXh0IGlucHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3RleHQtZ2VuZXJhdGlvbikuXG4gKi9cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnQgPVxuICB8IENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0XG4gIHwgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydEltYWdlXG4gIHwgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydElucHV0QXVkaW9cbiAgfCBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0LkZpbGU7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydCB7XG4gIC8qKlxuICAgKiBMZWFybiBhYm91dCBbZmlsZSBpbnB1dHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0KSBmb3IgdGV4dFxuICAgKiBnZW5lcmF0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlIHtcbiAgICBmaWxlOiBGaWxlLkZpbGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgY29udGVudCBwYXJ0LiBBbHdheXMgYGZpbGVgLlxuICAgICAqL1xuICAgIHR5cGU6ICdmaWxlJztcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgRmlsZSB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGJhc2U2NCBlbmNvZGVkIGZpbGUgZGF0YSwgdXNlZCB3aGVuIHBhc3NpbmcgdGhlIGZpbGUgdG8gdGhlIG1vZGVsIGFzIGFcbiAgICAgICAqIHN0cmluZy5cbiAgICAgICAqL1xuICAgICAgZmlsZV9kYXRhPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBJRCBvZiBhbiB1cGxvYWRlZCBmaWxlIHRvIHVzZSBhcyBpbnB1dC5cbiAgICAgICAqL1xuICAgICAgZmlsZV9pZD86IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZmlsZSwgdXNlZCB3aGVuIHBhc3NpbmcgdGhlIGZpbGUgdG8gdGhlIG1vZGVsIGFzIGEgc3RyaW5nLlxuICAgICAgICovXG4gICAgICBmaWxlbmFtZT86IHN0cmluZztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBMZWFybiBhYm91dCBbaW1hZ2UgaW5wdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdmlzaW9uKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2Uge1xuICBpbWFnZV91cmw6IENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZS5JbWFnZVVSTDtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGNvbnRlbnQgcGFydC5cbiAgICovXG4gIHR5cGU6ICdpbWFnZV91cmwnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VVUkwge1xuICAgIC8qKlxuICAgICAqIEVpdGhlciBhIFVSTCBvZiB0aGUgaW1hZ2Ugb3IgdGhlIGJhc2U2NCBlbmNvZGVkIGltYWdlIGRhdGEuXG4gICAgICovXG4gICAgdXJsOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGRldGFpbCBsZXZlbCBvZiB0aGUgaW1hZ2UuIExlYXJuIG1vcmUgaW4gdGhlXG4gICAgICogW1Zpc2lvbiBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Zpc2lvbiNsb3ctb3ItaGlnaC1maWRlbGl0eS1pbWFnZS11bmRlcnN0YW5kaW5nKS5cbiAgICAgKi9cbiAgICBkZXRhaWw/OiAnYXV0bycgfCAnbG93JyB8ICdoaWdoJztcbiAgfVxufVxuXG4vKipcbiAqIExlYXJuIGFib3V0IFthdWRpbyBpbnB1dHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9hdWRpbykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydElucHV0QXVkaW8ge1xuICBpbnB1dF9hdWRpbzogQ2hhdENvbXBsZXRpb25Db250ZW50UGFydElucHV0QXVkaW8uSW5wdXRBdWRpbztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGNvbnRlbnQgcGFydC4gQWx3YXlzIGBpbnB1dF9hdWRpb2AuXG4gICAqL1xuICB0eXBlOiAnaW5wdXRfYXVkaW8nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbnB1dEF1ZGlvIHtcbiAgZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvIHtcbiAgICAvKipcbiAgICAgKiBCYXNlNjQgZW5jb2RlZCBhdWRpbyBkYXRhLlxuICAgICAqL1xuICAgIGRhdGE6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBmb3JtYXQgb2YgdGhlIGVuY29kZWQgYXVkaW8gZGF0YS4gQ3VycmVudGx5IHN1cHBvcnRzIFwid2F2XCIgYW5kIFwibXAzXCIuXG4gICAgICovXG4gICAgZm9ybWF0OiAnd2F2JyB8ICdtcDMnO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFJlZnVzYWwge1xuICAvKipcbiAgICogVGhlIHJlZnVzYWwgbWVzc2FnZSBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgcmVmdXNhbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgY29udGVudCBwYXJ0LlxuICAgKi9cbiAgdHlwZTogJ3JlZnVzYWwnO1xufVxuXG4vKipcbiAqIExlYXJuIGFib3V0XG4gKiBbdGV4dCBpbnB1dHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0LWdlbmVyYXRpb24pLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0IHtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGNvbnRlbnQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBjb250ZW50IHBhcnQuXG4gICAqL1xuICB0eXBlOiAndGV4dCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25EZWxldGVkIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgY2hhdCBjb21wbGV0aW9uIHRoYXQgd2FzIGRlbGV0ZWQuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBjaGF0IGNvbXBsZXRpb24gd2FzIGRlbGV0ZWQuXG4gICAqL1xuICBkZWxldGVkOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBvYmplY3QgYmVpbmcgZGVsZXRlZC5cbiAgICovXG4gIG9iamVjdDogJ2NoYXQuY29tcGxldGlvbi5kZWxldGVkJztcbn1cblxuLyoqXG4gKiBEZXZlbG9wZXItcHJvdmlkZWQgaW5zdHJ1Y3Rpb25zIHRoYXQgdGhlIG1vZGVsIHNob3VsZCBmb2xsb3csIHJlZ2FyZGxlc3Mgb2ZcbiAqIG1lc3NhZ2VzIHNlbnQgYnkgdGhlIHVzZXIuIFdpdGggbzEgbW9kZWxzIGFuZCBuZXdlciwgYGRldmVsb3BlcmAgbWVzc2FnZXNcbiAqIHJlcGxhY2UgdGhlIHByZXZpb3VzIGBzeXN0ZW1gIG1lc3NhZ2VzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uRGV2ZWxvcGVyTWVzc2FnZVBhcmFtIHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgZGV2ZWxvcGVyIG1lc3NhZ2UuXG4gICAqL1xuICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dD47XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlcyBhdXRob3IsIGluIHRoaXMgY2FzZSBgZGV2ZWxvcGVyYC5cbiAgICovXG4gIHJvbGU6ICdkZXZlbG9wZXInO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBuYW1lIGZvciB0aGUgcGFydGljaXBhbnQuIFByb3ZpZGVzIHRoZSBtb2RlbCBpbmZvcm1hdGlvbiB0b1xuICAgKiBkaWZmZXJlbnRpYXRlIGJldHdlZW4gcGFydGljaXBhbnRzIG9mIHRoZSBzYW1lIHJvbGUuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFNwZWNpZnlpbmcgYSBwYXJ0aWN1bGFyIGZ1bmN0aW9uIHZpYSBge1wibmFtZVwiOiBcIm15X2Z1bmN0aW9uXCJ9YCBmb3JjZXMgdGhlIG1vZGVsXG4gKiB0byBjYWxsIHRoYXQgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25GdW5jdGlvbkNhbGxPcHRpb24ge1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtIHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiB0aGUgZnVuY3Rpb24gbWVzc2FnZS5cbiAgICovXG4gIGNvbnRlbnQ6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcm9sZSBvZiB0aGUgbWVzc2FnZXMgYXV0aG9yLCBpbiB0aGlzIGNhc2UgYGZ1bmN0aW9uYC5cbiAgICovXG4gIHJvbGU6ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogQSBjaGF0IGNvbXBsZXRpb24gbWVzc2FnZSBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uTWVzc2FnZSB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBjb250ZW50OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVmdXNhbCBtZXNzYWdlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICByZWZ1c2FsOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgcm9sZSBvZiB0aGUgYXV0aG9yIG9mIHRoaXMgbWVzc2FnZS5cbiAgICovXG4gIHJvbGU6ICdhc3Npc3RhbnQnO1xuXG4gIC8qKlxuICAgKiBBbm5vdGF0aW9ucyBmb3IgdGhlIG1lc3NhZ2UsIHdoZW4gYXBwbGljYWJsZSwgYXMgd2hlbiB1c2luZyB0aGVcbiAgICogW3dlYiBzZWFyY2ggdG9vbF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLXdlYi1zZWFyY2g/YXBpLW1vZGU9Y2hhdCkuXG4gICAqL1xuICBhbm5vdGF0aW9ucz86IEFycmF5PENoYXRDb21wbGV0aW9uTWVzc2FnZS5Bbm5vdGF0aW9uPjtcblxuICAvKipcbiAgICogSWYgdGhlIGF1ZGlvIG91dHB1dCBtb2RhbGl0eSBpcyByZXF1ZXN0ZWQsIHRoaXMgb2JqZWN0IGNvbnRhaW5zIGRhdGEgYWJvdXQgdGhlXG4gICAqIGF1ZGlvIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2F1ZGlvKS5cbiAgICovXG4gIGF1ZGlvPzogQ2hhdENvbXBsZXRpb25BdWRpbyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQgYW5kIHJlcGxhY2VkIGJ5IGB0b29sX2NhbGxzYC4gVGhlIG5hbWUgYW5kIGFyZ3VtZW50cyBvZiBhXG4gICAqIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICovXG4gIGZ1bmN0aW9uX2NhbGw/OiBDaGF0Q29tcGxldGlvbk1lc3NhZ2UuRnVuY3Rpb25DYWxsIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHRvb2wgY2FsbHMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCwgc3VjaCBhcyBmdW5jdGlvbiBjYWxscy5cbiAgICovXG4gIHRvb2xfY2FsbHM/OiBBcnJheTxDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbD47XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb25NZXNzYWdlIHtcbiAgLyoqXG4gICAqIEEgVVJMIGNpdGF0aW9uIHdoZW4gdXNpbmcgd2ViIHNlYXJjaC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQW5ub3RhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIFVSTCBjaXRhdGlvbi4gQWx3YXlzIGB1cmxfY2l0YXRpb25gLlxuICAgICAqL1xuICAgIHR5cGU6ICd1cmxfY2l0YXRpb24nO1xuXG4gICAgLyoqXG4gICAgICogQSBVUkwgY2l0YXRpb24gd2hlbiB1c2luZyB3ZWIgc2VhcmNoLlxuICAgICAqL1xuICAgIHVybF9jaXRhdGlvbjogQW5ub3RhdGlvbi5VUkxDaXRhdGlvbjtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQW5ub3RhdGlvbiB7XG4gICAgLyoqXG4gICAgICogQSBVUkwgY2l0YXRpb24gd2hlbiB1c2luZyB3ZWIgc2VhcmNoLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVVJMQ2l0YXRpb24ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGxhc3QgY2hhcmFjdGVyIG9mIHRoZSBVUkwgY2l0YXRpb24gaW4gdGhlIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIGVuZF9pbmRleDogbnVtYmVyO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIHRoZSBVUkwgY2l0YXRpb24gaW4gdGhlIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIHN0YXJ0X2luZGV4OiBudW1iZXI7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHRpdGxlIG9mIHRoZSB3ZWIgcmVzb3VyY2UuXG4gICAgICAgKi9cbiAgICAgIHRpdGxlOiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIFVSTCBvZiB0aGUgd2ViIHJlc291cmNlLlxuICAgICAgICovXG4gICAgICB1cmw6IHN0cmluZztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBhbmQgcmVwbGFjZWQgYnkgYHRvb2xfY2FsbHNgLiBUaGUgbmFtZSBhbmQgYXJndW1lbnRzIG9mIGFcbiAgICogZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbkNhbGwge1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudHMgdG8gY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiBKU09OXG4gICAgICogZm9ybWF0LiBOb3RlIHRoYXQgdGhlIG1vZGVsIGRvZXMgbm90IGFsd2F5cyBnZW5lcmF0ZSB2YWxpZCBKU09OLCBhbmQgbWF5XG4gICAgICogaGFsbHVjaW5hdGUgcGFyYW1ldGVycyBub3QgZGVmaW5lZCBieSB5b3VyIGZ1bmN0aW9uIHNjaGVtYS4gVmFsaWRhdGUgdGhlXG4gICAgICogYXJndW1lbnRzIGluIHlvdXIgY29kZSBiZWZvcmUgY2FsbGluZyB5b3VyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGFyZ3VtZW50czogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogRGV2ZWxvcGVyLXByb3ZpZGVkIGluc3RydWN0aW9ucyB0aGF0IHRoZSBtb2RlbCBzaG91bGQgZm9sbG93LCByZWdhcmRsZXNzIG9mXG4gKiBtZXNzYWdlcyBzZW50IGJ5IHRoZSB1c2VyLiBXaXRoIG8xIG1vZGVscyBhbmQgbmV3ZXIsIGBkZXZlbG9wZXJgIG1lc3NhZ2VzXG4gKiByZXBsYWNlIHRoZSBwcmV2aW91cyBgc3lzdGVtYCBtZXNzYWdlcy5cbiAqL1xuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gPVxuICB8IENoYXRDb21wbGV0aW9uRGV2ZWxvcGVyTWVzc2FnZVBhcmFtXG4gIHwgQ2hhdENvbXBsZXRpb25TeXN0ZW1NZXNzYWdlUGFyYW1cbiAgfCBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW1cbiAgfCBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbVxuICB8IENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbVxuICB8IENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24gdGhhdCB0aGUgbW9kZWwgY2FsbGVkLlxuICAgKi9cbiAgZnVuY3Rpb246IENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsLkZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbC4gQ3VycmVudGx5LCBvbmx5IGBmdW5jdGlvbmAgaXMgc3VwcG9ydGVkLlxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24gdGhhdCB0aGUgbW9kZWwgY2FsbGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIGFyZ3VtZW50cyB0byBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoLCBhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGluIEpTT05cbiAgICAgKiBmb3JtYXQuIE5vdGUgdGhhdCB0aGUgbW9kZWwgZG9lcyBub3QgYWx3YXlzIGdlbmVyYXRlIHZhbGlkIEpTT04sIGFuZCBtYXlcbiAgICAgKiBoYWxsdWNpbmF0ZSBwYXJhbWV0ZXJzIG5vdCBkZWZpbmVkIGJ5IHlvdXIgZnVuY3Rpb24gc2NoZW1hLiBWYWxpZGF0ZSB0aGVcbiAgICAgKiBhcmd1bWVudHMgaW4geW91ciBjb2RlIGJlZm9yZSBjYWxsaW5nIHlvdXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25Nb2RhbGl0eSA9ICd0ZXh0JyB8ICdhdWRpbyc7XG5cbi8qKlxuICogU3BlY2lmaWVzIGEgdG9vbCB0aGUgbW9kZWwgc2hvdWxkIHVzZS4gVXNlIHRvIGZvcmNlIHRoZSBtb2RlbCB0byBjYWxsIGEgc3BlY2lmaWNcbiAqIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uTmFtZWRUb29sQ2hvaWNlIHtcbiAgZnVuY3Rpb246IENoYXRDb21wbGV0aW9uTmFtZWRUb29sQ2hvaWNlLkZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbC4gQ3VycmVudGx5LCBvbmx5IGBmdW5jdGlvbmAgaXMgc3VwcG9ydGVkLlxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvbk5hbWVkVG9vbENob2ljZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZztcbiAgfVxufVxuXG4vKipcbiAqIFN0YXRpYyBwcmVkaWN0ZWQgb3V0cHV0IGNvbnRlbnQsIHN1Y2ggYXMgdGhlIGNvbnRlbnQgb2YgYSB0ZXh0IGZpbGUgdGhhdCBpc1xuICogYmVpbmcgcmVnZW5lcmF0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25QcmVkaWN0aW9uQ29udGVudCB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudCB0aGF0IHNob3VsZCBiZSBtYXRjaGVkIHdoZW4gZ2VuZXJhdGluZyBhIG1vZGVsIHJlc3BvbnNlLiBJZlxuICAgKiBnZW5lcmF0ZWQgdG9rZW5zIHdvdWxkIG1hdGNoIHRoaXMgY29udGVudCwgdGhlIGVudGlyZSBtb2RlbCByZXNwb25zZSBjYW4gYmVcbiAgICogcmV0dXJuZWQgbXVjaCBtb3JlIHF1aWNrbHkuXG4gICAqL1xuICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dD47XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBwcmVkaWN0ZWQgY29udGVudCB5b3Ugd2FudCB0byBwcm92aWRlLiBUaGlzIHR5cGUgaXMgY3VycmVudGx5XG4gICAqIGFsd2F5cyBgY29udGVudGAuXG4gICAqL1xuICB0eXBlOiAnY29udGVudCc7XG59XG5cbi8qKlxuICogVGhlIHJvbGUgb2YgdGhlIGF1dGhvciBvZiBhIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25Sb2xlID0gJ2RldmVsb3BlcicgfCAnc3lzdGVtJyB8ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3Rvb2wnIHwgJ2Z1bmN0aW9uJztcblxuLyoqXG4gKiBBIGNoYXQgY29tcGxldGlvbiBtZXNzYWdlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2UgZXh0ZW5kcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2Uge1xuICAvKipcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIGNoYXQgbWVzc2FnZS5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3Igc3RyZWFtaW5nIHJlc3BvbnNlLiBPbmx5IHNldCB0aGlzIHdoZW4geW91IHNldCBgc3RyZWFtOiB0cnVlYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblN0cmVhbU9wdGlvbnMge1xuICAvKipcbiAgICogSWYgc2V0LCBhbiBhZGRpdGlvbmFsIGNodW5rIHdpbGwgYmUgc3RyZWFtZWQgYmVmb3JlIHRoZSBgZGF0YTogW0RPTkVdYCBtZXNzYWdlLlxuICAgKiBUaGUgYHVzYWdlYCBmaWVsZCBvbiB0aGlzIGNodW5rIHNob3dzIHRoZSB0b2tlbiB1c2FnZSBzdGF0aXN0aWNzIGZvciB0aGUgZW50aXJlXG4gICAqIHJlcXVlc3QsIGFuZCB0aGUgYGNob2ljZXNgIGZpZWxkIHdpbGwgYWx3YXlzIGJlIGFuIGVtcHR5IGFycmF5LlxuICAgKlxuICAgKiBBbGwgb3RoZXIgY2h1bmtzIHdpbGwgYWxzbyBpbmNsdWRlIGEgYHVzYWdlYCBmaWVsZCwgYnV0IHdpdGggYSBudWxsIHZhbHVlLlxuICAgKiAqKk5PVEU6KiogSWYgdGhlIHN0cmVhbSBpcyBpbnRlcnJ1cHRlZCwgeW91IG1heSBub3QgcmVjZWl2ZSB0aGUgZmluYWwgdXNhZ2VcbiAgICogY2h1bmsgd2hpY2ggY29udGFpbnMgdGhlIHRvdGFsIHRva2VuIHVzYWdlIGZvciB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGluY2x1ZGVfdXNhZ2U/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIERldmVsb3Blci1wcm92aWRlZCBpbnN0cnVjdGlvbnMgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIGZvbGxvdywgcmVnYXJkbGVzcyBvZlxuICogbWVzc2FnZXMgc2VudCBieSB0aGUgdXNlci4gV2l0aCBvMSBtb2RlbHMgYW5kIG5ld2VyLCB1c2UgYGRldmVsb3BlcmAgbWVzc2FnZXNcbiAqIGZvciB0aGlzIHB1cnBvc2UgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbSB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgdGhlIHN5c3RlbSBtZXNzYWdlLlxuICAgKi9cbiAgY29udGVudDogc3RyaW5nIHwgQXJyYXk8Q2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgcm9sZSBvZiB0aGUgbWVzc2FnZXMgYXV0aG9yLCBpbiB0aGlzIGNhc2UgYHN5c3RlbWAuXG4gICAqL1xuICByb2xlOiAnc3lzdGVtJztcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgbmFtZSBmb3IgdGhlIHBhcnRpY2lwYW50LiBQcm92aWRlcyB0aGUgbW9kZWwgaW5mb3JtYXRpb24gdG9cbiAgICogZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIHBhcnRpY2lwYW50cyBvZiB0aGUgc2FtZSByb2xlLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYiB7XG4gIC8qKlxuICAgKiBUaGUgdG9rZW4uXG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgaW50ZWdlcnMgcmVwcmVzZW50aW5nIHRoZSBVVEYtOCBieXRlcyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdG9rZW4uXG4gICAqIFVzZWZ1bCBpbiBpbnN0YW5jZXMgd2hlcmUgY2hhcmFjdGVycyBhcmUgcmVwcmVzZW50ZWQgYnkgbXVsdGlwbGUgdG9rZW5zIGFuZFxuICAgKiB0aGVpciBieXRlIHJlcHJlc2VudGF0aW9ucyBtdXN0IGJlIGNvbWJpbmVkIHRvIGdlbmVyYXRlIHRoZSBjb3JyZWN0IHRleHRcbiAgICogcmVwcmVzZW50YXRpb24uIENhbiBiZSBgbnVsbGAgaWYgdGhlcmUgaXMgbm8gYnl0ZXMgcmVwcmVzZW50YXRpb24gZm9yIHRoZSB0b2tlbi5cbiAgICovXG4gIGJ5dGVzOiBBcnJheTxudW1iZXI+IHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIGxvZyBwcm9iYWJpbGl0eSBvZiB0aGlzIHRva2VuLCBpZiBpdCBpcyB3aXRoaW4gdGhlIHRvcCAyMCBtb3N0IGxpa2VseVxuICAgKiB0b2tlbnMuIE90aGVyd2lzZSwgdGhlIHZhbHVlIGAtOTk5OS4wYCBpcyB1c2VkIHRvIHNpZ25pZnkgdGhhdCB0aGUgdG9rZW4gaXMgdmVyeVxuICAgKiB1bmxpa2VseS5cbiAgICovXG4gIGxvZ3Byb2I6IG51bWJlcjtcblxuICAvKipcbiAgICogTGlzdCBvZiB0aGUgbW9zdCBsaWtlbHkgdG9rZW5zIGFuZCB0aGVpciBsb2cgcHJvYmFiaWxpdHksIGF0IHRoaXMgdG9rZW5cbiAgICogcG9zaXRpb24uIEluIHJhcmUgY2FzZXMsIHRoZXJlIG1heSBiZSBmZXdlciB0aGFuIHRoZSBudW1iZXIgb2YgcmVxdWVzdGVkXG4gICAqIGB0b3BfbG9ncHJvYnNgIHJldHVybmVkLlxuICAgKi9cbiAgdG9wX2xvZ3Byb2JzOiBBcnJheTxDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYi5Ub3BMb2dwcm9iPjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYiB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9wTG9ncHJvYiB7XG4gICAgLyoqXG4gICAgICogVGhlIHRva2VuLlxuICAgICAqL1xuICAgIHRva2VuOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgaW50ZWdlcnMgcmVwcmVzZW50aW5nIHRoZSBVVEYtOCBieXRlcyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdG9rZW4uXG4gICAgICogVXNlZnVsIGluIGluc3RhbmNlcyB3aGVyZSBjaGFyYWN0ZXJzIGFyZSByZXByZXNlbnRlZCBieSBtdWx0aXBsZSB0b2tlbnMgYW5kXG4gICAgICogdGhlaXIgYnl0ZSByZXByZXNlbnRhdGlvbnMgbXVzdCBiZSBjb21iaW5lZCB0byBnZW5lcmF0ZSB0aGUgY29ycmVjdCB0ZXh0XG4gICAgICogcmVwcmVzZW50YXRpb24uIENhbiBiZSBgbnVsbGAgaWYgdGhlcmUgaXMgbm8gYnl0ZXMgcmVwcmVzZW50YXRpb24gZm9yIHRoZSB0b2tlbi5cbiAgICAgKi9cbiAgICBieXRlczogQXJyYXk8bnVtYmVyPiB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9nIHByb2JhYmlsaXR5IG9mIHRoaXMgdG9rZW4sIGlmIGl0IGlzIHdpdGhpbiB0aGUgdG9wIDIwIG1vc3QgbGlrZWx5XG4gICAgICogdG9rZW5zLiBPdGhlcndpc2UsIHRoZSB2YWx1ZSBgLTk5OTkuMGAgaXMgdXNlZCB0byBzaWduaWZ5IHRoYXQgdGhlIHRva2VuIGlzIHZlcnlcbiAgICAgKiB1bmxpa2VseS5cbiAgICAgKi9cbiAgICBsb2dwcm9iOiBudW1iZXI7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblRvb2wge1xuICBmdW5jdGlvbjogU2hhcmVkLkZ1bmN0aW9uRGVmaW5pdGlvbjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHRvb2wuIEN1cnJlbnRseSwgb25seSBgZnVuY3Rpb25gIGlzIHN1cHBvcnRlZC5cbiAgICovXG4gIHR5cGU6ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogQ29udHJvbHMgd2hpY2ggKGlmIGFueSkgdG9vbCBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLiBgbm9uZWAgbWVhbnMgdGhlIG1vZGVsIHdpbGxcbiAqIG5vdCBjYWxsIGFueSB0b29sIGFuZCBpbnN0ZWFkIGdlbmVyYXRlcyBhIG1lc3NhZ2UuIGBhdXRvYCBtZWFucyB0aGUgbW9kZWwgY2FuXG4gKiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3IgY2FsbGluZyBvbmUgb3IgbW9yZSB0b29scy4gYHJlcXVpcmVkYCBtZWFuc1xuICogdGhlIG1vZGVsIG11c3QgY2FsbCBvbmUgb3IgbW9yZSB0b29scy4gU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgdG9vbCB2aWFcbiAqIGB7XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiOiB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn19YCBmb3JjZXMgdGhlIG1vZGVsIHRvXG4gKiBjYWxsIHRoYXQgdG9vbC5cbiAqXG4gKiBgbm9uZWAgaXMgdGhlIGRlZmF1bHQgd2hlbiBubyB0b29scyBhcmUgcHJlc2VudC4gYGF1dG9gIGlzIHRoZSBkZWZhdWx0IGlmIHRvb2xzXG4gKiBhcmUgcHJlc2VudC5cbiAqL1xuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sQ2hvaWNlT3B0aW9uID0gJ25vbmUnIHwgJ2F1dG8nIHwgJ3JlcXVpcmVkJyB8IENoYXRDb21wbGV0aW9uTmFtZWRUb29sQ2hvaWNlO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbSB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgdGhlIHRvb2wgbWVzc2FnZS5cbiAgICovXG4gIGNvbnRlbnQ6IHN0cmluZyB8IEFycmF5PENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0PjtcblxuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2VzIGF1dGhvciwgaW4gdGhpcyBjYXNlIGB0b29sYC5cbiAgICovXG4gIHJvbGU6ICd0b29sJztcblxuICAvKipcbiAgICogVG9vbCBjYWxsIHRoYXQgdGhpcyBtZXNzYWdlIGlzIHJlc3BvbmRpbmcgdG8uXG4gICAqL1xuICB0b29sX2NhbGxfaWQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBNZXNzYWdlcyBzZW50IGJ5IGFuIGVuZCB1c2VyLCBjb250YWluaW5nIHByb21wdHMgb3IgYWRkaXRpb25hbCBjb250ZXh0XG4gKiBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW0ge1xuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSB1c2VyIG1lc3NhZ2UuXG4gICAqL1xuICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0PjtcblxuICAvKipcbiAgICogVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2VzIGF1dGhvciwgaW4gdGhpcyBjYXNlIGB1c2VyYC5cbiAgICovXG4gIHJvbGU6ICd1c2VyJztcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgbmFtZSBmb3IgdGhlIHBhcnRpY2lwYW50LiBQcm92aWRlcyB0aGUgbW9kZWwgaW5mb3JtYXRpb24gdG9cbiAgICogZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIHBhcnRpY2lwYW50cyBvZiB0aGUgc2FtZSByb2xlLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkXG4gKi9cbmV4cG9ydCB0eXBlIENyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdE1lc3NhZ2UgPSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbTtcblxuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25SZWFzb25pbmdFZmZvcnQgPSBTaGFyZWQuUmVhc29uaW5nRWZmb3J0IHwgbnVsbDtcblxuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMgPVxuICB8IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nXG4gIHwgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBtZXNzYWdlcyBjb21wcmlzaW5nIHRoZSBjb252ZXJzYXRpb24gc28gZmFyLiBEZXBlbmRpbmcgb24gdGhlXG4gICAqIFttb2RlbF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzKSB5b3UgdXNlLCBkaWZmZXJlbnQgbWVzc2FnZVxuICAgKiB0eXBlcyAobW9kYWxpdGllcykgYXJlIHN1cHBvcnRlZCwgbGlrZVxuICAgKiBbdGV4dF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3RleHQtZ2VuZXJhdGlvbiksXG4gICAqIFtpbWFnZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy92aXNpb24pLCBhbmRcbiAgICogW2F1ZGlvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvYXVkaW8pLlxuICAgKi9cbiAgbWVzc2FnZXM6IEFycmF5PENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtPjtcblxuICAvKipcbiAgICogTW9kZWwgSUQgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcmVzcG9uc2UsIGxpa2UgYGdwdC00b2Agb3IgYG8xYC4gT3BlbkFJIG9mZmVycyBhXG4gICAqIHdpZGUgcmFuZ2Ugb2YgbW9kZWxzIHdpdGggZGlmZmVyZW50IGNhcGFiaWxpdGllcywgcGVyZm9ybWFuY2UgY2hhcmFjdGVyaXN0aWNzLFxuICAgKiBhbmQgcHJpY2UgcG9pbnRzLiBSZWZlciB0byB0aGVcbiAgICogW21vZGVsIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMpIHRvIGJyb3dzZSBhbmQgY29tcGFyZVxuICAgKiBhdmFpbGFibGUgbW9kZWxzLlxuICAgKi9cbiAgbW9kZWw6IChzdHJpbmcgJiB7fSkgfCBTaGFyZWQuQ2hhdE1vZGVsO1xuXG4gIC8qKlxuICAgKiBQYXJhbWV0ZXJzIGZvciBhdWRpbyBvdXRwdXQuIFJlcXVpcmVkIHdoZW4gYXVkaW8gb3V0cHV0IGlzIHJlcXVlc3RlZCB3aXRoXG4gICAqIGBtb2RhbGl0aWVzOiBbXCJhdWRpb1wiXWAuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvYXVkaW8pLlxuICAgKi9cbiAgYXVkaW8/OiBDaGF0Q29tcGxldGlvbkF1ZGlvUGFyYW0gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBOdW1iZXIgYmV0d2VlbiAtMi4wIGFuZCAyLjAuIFBvc2l0aXZlIHZhbHVlcyBwZW5hbGl6ZSBuZXcgdG9rZW5zIGJhc2VkIG9uIHRoZWlyXG4gICAqIGV4aXN0aW5nIGZyZXF1ZW5jeSBpbiB0aGUgdGV4dCBzbyBmYXIsIGRlY3JlYXNpbmcgdGhlIG1vZGVsJ3MgbGlrZWxpaG9vZCB0b1xuICAgKiByZXBlYXQgdGhlIHNhbWUgbGluZSB2ZXJiYXRpbS5cbiAgICovXG4gIGZyZXF1ZW5jeV9wZW5hbHR5PzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBgdG9vbF9jaG9pY2VgLlxuICAgKlxuICAgKiBDb250cm9scyB3aGljaCAoaWYgYW55KSBmdW5jdGlvbiBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLlxuICAgKlxuICAgKiBgbm9uZWAgbWVhbnMgdGhlIG1vZGVsIHdpbGwgbm90IGNhbGwgYSBmdW5jdGlvbiBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLlxuICAgKlxuICAgKiBgYXV0b2AgbWVhbnMgdGhlIG1vZGVsIGNhbiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3IgY2FsbGluZyBhXG4gICAqIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBTcGVjaWZ5aW5nIGEgcGFydGljdWxhciBmdW5jdGlvbiB2aWEgYHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifWAgZm9yY2VzIHRoZSBtb2RlbFxuICAgKiB0byBjYWxsIHRoYXQgZnVuY3Rpb24uXG4gICAqXG4gICAqIGBub25lYCBpcyB0aGUgZGVmYXVsdCB3aGVuIG5vIGZ1bmN0aW9ucyBhcmUgcHJlc2VudC4gYGF1dG9gIGlzIHRoZSBkZWZhdWx0IGlmXG4gICAqIGZ1bmN0aW9ucyBhcmUgcHJlc2VudC5cbiAgICovXG4gIGZ1bmN0aW9uX2NhbGw/OiAnbm9uZScgfCAnYXV0bycgfCBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbjtcblxuICAvKipcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBgdG9vbHNgLlxuICAgKlxuICAgKiBBIGxpc3Qgb2YgZnVuY3Rpb25zIHRoZSBtb2RlbCBtYXkgZ2VuZXJhdGUgSlNPTiBpbnB1dHMgZm9yLlxuICAgKi9cbiAgZnVuY3Rpb25zPzogQXJyYXk8Q2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMuRnVuY3Rpb24+O1xuXG4gIC8qKlxuICAgKiBNb2RpZnkgdGhlIGxpa2VsaWhvb2Qgb2Ygc3BlY2lmaWVkIHRva2VucyBhcHBlYXJpbmcgaW4gdGhlIGNvbXBsZXRpb24uXG4gICAqXG4gICAqIEFjY2VwdHMgYSBKU09OIG9iamVjdCB0aGF0IG1hcHMgdG9rZW5zIChzcGVjaWZpZWQgYnkgdGhlaXIgdG9rZW4gSUQgaW4gdGhlXG4gICAqIHRva2VuaXplcikgdG8gYW4gYXNzb2NpYXRlZCBiaWFzIHZhbHVlIGZyb20gLTEwMCB0byAxMDAuIE1hdGhlbWF0aWNhbGx5LCB0aGVcbiAgICogYmlhcyBpcyBhZGRlZCB0byB0aGUgbG9naXRzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgcHJpb3IgdG8gc2FtcGxpbmcuIFRoZSBleGFjdFxuICAgKiBlZmZlY3Qgd2lsbCB2YXJ5IHBlciBtb2RlbCwgYnV0IHZhbHVlcyBiZXR3ZWVuIC0xIGFuZCAxIHNob3VsZCBkZWNyZWFzZSBvclxuICAgKiBpbmNyZWFzZSBsaWtlbGlob29kIG9mIHNlbGVjdGlvbjsgdmFsdWVzIGxpa2UgLTEwMCBvciAxMDAgc2hvdWxkIHJlc3VsdCBpbiBhIGJhblxuICAgKiBvciBleGNsdXNpdmUgc2VsZWN0aW9uIG9mIHRoZSByZWxldmFudCB0b2tlbi5cbiAgICovXG4gIGxvZ2l0X2JpYXM/OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+IHwgbnVsbDtcblxuICAvKipcbiAgICogV2hldGhlciB0byByZXR1cm4gbG9nIHByb2JhYmlsaXRpZXMgb2YgdGhlIG91dHB1dCB0b2tlbnMgb3Igbm90LiBJZiB0cnVlLFxuICAgKiByZXR1cm5zIHRoZSBsb2cgcHJvYmFiaWxpdGllcyBvZiBlYWNoIG91dHB1dCB0b2tlbiByZXR1cm5lZCBpbiB0aGUgYGNvbnRlbnRgIG9mXG4gICAqIGBtZXNzYWdlYC5cbiAgICovXG4gIGxvZ3Byb2JzPzogYm9vbGVhbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIHVwcGVyIGJvdW5kIGZvciB0aGUgbnVtYmVyIG9mIHRva2VucyB0aGF0IGNhbiBiZSBnZW5lcmF0ZWQgZm9yIGEgY29tcGxldGlvbixcbiAgICogaW5jbHVkaW5nIHZpc2libGUgb3V0cHV0IHRva2VucyBhbmRcbiAgICogW3JlYXNvbmluZyB0b2tlbnNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9yZWFzb25pbmcpLlxuICAgKi9cbiAgbWF4X2NvbXBsZXRpb25fdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIFt0b2tlbnNdKC90b2tlbml6ZXIpIHRoYXQgY2FuIGJlIGdlbmVyYXRlZCBpbiB0aGUgY2hhdFxuICAgKiBjb21wbGV0aW9uLiBUaGlzIHZhbHVlIGNhbiBiZSB1c2VkIHRvIGNvbnRyb2xcbiAgICogW2Nvc3RzXShodHRwczovL29wZW5haS5jb20vYXBpL3ByaWNpbmcvKSBmb3IgdGV4dCBnZW5lcmF0ZWQgdmlhIEFQSS5cbiAgICpcbiAgICogVGhpcyB2YWx1ZSBpcyBub3cgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBgbWF4X2NvbXBsZXRpb25fdG9rZW5zYCwgYW5kIGlzIG5vdFxuICAgKiBjb21wYXRpYmxlIHdpdGhcbiAgICogW28xIHNlcmllcyBtb2RlbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9yZWFzb25pbmcpLlxuICAgKi9cbiAgbWF4X3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE91dHB1dCB0eXBlcyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBtb2RlbCB0byBnZW5lcmF0ZS4gTW9zdCBtb2RlbHMgYXJlIGNhcGFibGVcbiAgICogb2YgZ2VuZXJhdGluZyB0ZXh0LCB3aGljaCBpcyB0aGUgZGVmYXVsdDpcbiAgICpcbiAgICogYFtcInRleHRcIl1gXG4gICAqXG4gICAqIFRoZSBgZ3B0LTRvLWF1ZGlvLXByZXZpZXdgIG1vZGVsIGNhbiBhbHNvIGJlIHVzZWQgdG9cbiAgICogW2dlbmVyYXRlIGF1ZGlvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvYXVkaW8pLiBUbyByZXF1ZXN0IHRoYXRcbiAgICogdGhpcyBtb2RlbCBnZW5lcmF0ZSBib3RoIHRleHQgYW5kIGF1ZGlvIHJlc3BvbnNlcywgeW91IGNhbiB1c2U6XG4gICAqXG4gICAqIGBbXCJ0ZXh0XCIsIFwiYXVkaW9cIl1gXG4gICAqL1xuICBtb2RhbGl0aWVzPzogQXJyYXk8J3RleHQnIHwgJ2F1ZGlvJz4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBIb3cgbWFueSBjaGF0IGNvbXBsZXRpb24gY2hvaWNlcyB0byBnZW5lcmF0ZSBmb3IgZWFjaCBpbnB1dCBtZXNzYWdlLiBOb3RlIHRoYXRcbiAgICogeW91IHdpbGwgYmUgY2hhcmdlZCBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIGdlbmVyYXRlZCB0b2tlbnMgYWNyb3NzIGFsbCBvZiB0aGVcbiAgICogY2hvaWNlcy4gS2VlcCBgbmAgYXMgYDFgIHRvIG1pbmltaXplIGNvc3RzLlxuICAgKi9cbiAgbj86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlXG4gICAqIFtwYXJhbGxlbCBmdW5jdGlvbiBjYWxsaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZnVuY3Rpb24tY2FsbGluZyNjb25maWd1cmluZy1wYXJhbGxlbC1mdW5jdGlvbi1jYWxsaW5nKVxuICAgKiBkdXJpbmcgdG9vbCB1c2UuXG4gICAqL1xuICBwYXJhbGxlbF90b29sX2NhbGxzPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogU3RhdGljIHByZWRpY3RlZCBvdXRwdXQgY29udGVudCwgc3VjaCBhcyB0aGUgY29udGVudCBvZiBhIHRleHQgZmlsZSB0aGF0IGlzXG4gICAqIGJlaW5nIHJlZ2VuZXJhdGVkLlxuICAgKi9cbiAgcHJlZGljdGlvbj86IENoYXRDb21wbGV0aW9uUHJlZGljdGlvbkNvbnRlbnQgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBOdW1iZXIgYmV0d2VlbiAtMi4wIGFuZCAyLjAuIFBvc2l0aXZlIHZhbHVlcyBwZW5hbGl6ZSBuZXcgdG9rZW5zIGJhc2VkIG9uXG4gICAqIHdoZXRoZXIgdGhleSBhcHBlYXIgaW4gdGhlIHRleHQgc28gZmFyLCBpbmNyZWFzaW5nIHRoZSBtb2RlbCdzIGxpa2VsaWhvb2QgdG9cbiAgICogdGFsayBhYm91dCBuZXcgdG9waWNzLlxuICAgKi9cbiAgcHJlc2VuY2VfcGVuYWx0eT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqICoqby1zZXJpZXMgbW9kZWxzIG9ubHkqKlxuICAgKlxuICAgKiBDb25zdHJhaW5zIGVmZm9ydCBvbiByZWFzb25pbmcgZm9yXG4gICAqIFtyZWFzb25pbmcgbW9kZWxzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvcmVhc29uaW5nKS4gQ3VycmVudGx5XG4gICAqIHN1cHBvcnRlZCB2YWx1ZXMgYXJlIGBsb3dgLCBgbWVkaXVtYCwgYW5kIGBoaWdoYC4gUmVkdWNpbmcgcmVhc29uaW5nIGVmZm9ydCBjYW5cbiAgICogcmVzdWx0IGluIGZhc3RlciByZXNwb25zZXMgYW5kIGZld2VyIHRva2VucyB1c2VkIG9uIHJlYXNvbmluZyBpbiBhIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVhc29uaW5nX2VmZm9ydD86IFNoYXJlZC5SZWFzb25pbmdFZmZvcnQgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBbiBvYmplY3Qgc3BlY2lmeWluZyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fc2NoZW1hXCIsIFwianNvbl9zY2hlbWFcIjogey4uLn0gfWAgZW5hYmxlcyBTdHJ1Y3R1cmVkXG4gICAqIE91dHB1dHMgd2hpY2ggZW5zdXJlcyB0aGUgbW9kZWwgd2lsbCBtYXRjaCB5b3VyIHN1cHBsaWVkIEpTT04gc2NoZW1hLiBMZWFybiBtb3JlXG4gICAqIGluIHRoZVxuICAgKiBbU3RydWN0dXJlZCBPdXRwdXRzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKS5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX29iamVjdFwiIH1gIGVuYWJsZXMgdGhlIG9sZGVyIEpTT04gbW9kZSwgd2hpY2hcbiAgICogZW5zdXJlcyB0aGUgbWVzc2FnZSB0aGUgbW9kZWwgZ2VuZXJhdGVzIGlzIHZhbGlkIEpTT04uIFVzaW5nIGBqc29uX3NjaGVtYWAgaXNcbiAgICogcHJlZmVycmVkIGZvciBtb2RlbHMgdGhhdCBzdXBwb3J0IGl0LlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzpcbiAgICB8IFNoYXJlZC5SZXNwb25zZUZvcm1hdFRleHRcbiAgICB8IFNoYXJlZC5SZXNwb25zZUZvcm1hdEpTT05TY2hlbWFcbiAgICB8IFNoYXJlZC5SZXNwb25zZUZvcm1hdEpTT05PYmplY3Q7XG5cbiAgLyoqXG4gICAqIFRoaXMgZmVhdHVyZSBpcyBpbiBCZXRhLiBJZiBzcGVjaWZpZWQsIG91ciBzeXN0ZW0gd2lsbCBtYWtlIGEgYmVzdCBlZmZvcnQgdG9cbiAgICogc2FtcGxlIGRldGVybWluaXN0aWNhbGx5LCBzdWNoIHRoYXQgcmVwZWF0ZWQgcmVxdWVzdHMgd2l0aCB0aGUgc2FtZSBgc2VlZGAgYW5kXG4gICAqIHBhcmFtZXRlcnMgc2hvdWxkIHJldHVybiB0aGUgc2FtZSByZXN1bHQuIERldGVybWluaXNtIGlzIG5vdCBndWFyYW50ZWVkLCBhbmQgeW91XG4gICAqIHNob3VsZCByZWZlciB0byB0aGUgYHN5c3RlbV9maW5nZXJwcmludGAgcmVzcG9uc2UgcGFyYW1ldGVyIHRvIG1vbml0b3IgY2hhbmdlc1xuICAgKiBpbiB0aGUgYmFja2VuZC5cbiAgICovXG4gIHNlZWQ/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGxhdGVuY3kgdGllciB0byB1c2UgZm9yIHByb2Nlc3NpbmcgdGhlIHJlcXVlc3QuIFRoaXMgcGFyYW1ldGVyIGlzXG4gICAqIHJlbGV2YW50IGZvciBjdXN0b21lcnMgc3Vic2NyaWJlZCB0byB0aGUgc2NhbGUgdGllciBzZXJ2aWNlOlxuICAgKlxuICAgKiAtIElmIHNldCB0byAnYXV0bycsIGFuZCB0aGUgUHJvamVjdCBpcyBTY2FsZSB0aWVyIGVuYWJsZWQsIHRoZSBzeXN0ZW0gd2lsbFxuICAgKiAgIHV0aWxpemUgc2NhbGUgdGllciBjcmVkaXRzIHVudGlsIHRoZXkgYXJlIGV4aGF1c3RlZC5cbiAgICogLSBJZiBzZXQgdG8gJ2F1dG8nLCBhbmQgdGhlIFByb2plY3QgaXMgbm90IFNjYWxlIHRpZXIgZW5hYmxlZCwgdGhlIHJlcXVlc3Qgd2lsbFxuICAgKiAgIGJlIHByb2Nlc3NlZCB1c2luZyB0aGUgZGVmYXVsdCBzZXJ2aWNlIHRpZXIgd2l0aCBhIGxvd2VyIHVwdGltZSBTTEEgYW5kIG5vXG4gICAqICAgbGF0ZW5jeSBndWFyZW50ZWUuXG4gICAqIC0gSWYgc2V0IHRvICdkZWZhdWx0JywgdGhlIHJlcXVlc3Qgd2lsbCBiZSBwcm9jZXNzZWQgdXNpbmcgdGhlIGRlZmF1bHQgc2VydmljZVxuICAgKiAgIHRpZXIgd2l0aCBhIGxvd2VyIHVwdGltZSBTTEEgYW5kIG5vIGxhdGVuY3kgZ3VhcmVudGVlLlxuICAgKiAtIFdoZW4gbm90IHNldCwgdGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgJ2F1dG8nLlxuICAgKlxuICAgKiBXaGVuIHRoaXMgcGFyYW1ldGVyIGlzIHNldCwgdGhlIHJlc3BvbnNlIGJvZHkgd2lsbCBpbmNsdWRlIHRoZSBgc2VydmljZV90aWVyYFxuICAgKiB1dGlsaXplZC5cbiAgICovXG4gIHNlcnZpY2VfdGllcj86ICdhdXRvJyB8ICdkZWZhdWx0JyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFVwIHRvIDQgc2VxdWVuY2VzIHdoZXJlIHRoZSBBUEkgd2lsbCBzdG9wIGdlbmVyYXRpbmcgZnVydGhlciB0b2tlbnMuIFRoZVxuICAgKiByZXR1cm5lZCB0ZXh0IHdpbGwgbm90IGNvbnRhaW4gdGhlIHN0b3Agc2VxdWVuY2UuXG4gICAqL1xuICBzdG9wPzogc3RyaW5nIHwgbnVsbCB8IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIHN0b3JlIHRoZSBvdXRwdXQgb2YgdGhpcyBjaGF0IGNvbXBsZXRpb24gcmVxdWVzdCBmb3IgdXNlIGluXG4gICAqIG91ciBbbW9kZWwgZGlzdGlsbGF0aW9uXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZGlzdGlsbGF0aW9uKVxuICAgKiBvciBbZXZhbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9ldmFscykgcHJvZHVjdHMuXG4gICAqL1xuICBzdG9yZT86IGJvb2xlYW4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIG1vZGVsIHJlc3BvbnNlIGRhdGEgd2lsbCBiZSBzdHJlYW1lZCB0byB0aGUgY2xpZW50IGFzIGl0IGlzXG4gICAqIGdlbmVyYXRlZCB1c2luZ1xuICAgKiBbc2VydmVyLXNlbnQgZXZlbnRzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmVyLXNlbnRfZXZlbnRzL1VzaW5nX3NlcnZlci1zZW50X2V2ZW50cyNFdmVudF9zdHJlYW1fZm9ybWF0KS5cbiAgICogU2VlIHRoZVxuICAgKiBbU3RyZWFtaW5nIHNlY3Rpb24gYmVsb3ddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvY2hhdC9zdHJlYW1pbmcpXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLCBhbG9uZyB3aXRoIHRoZVxuICAgKiBbc3RyZWFtaW5nIHJlc3BvbnNlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cmVhbWluZy1yZXNwb25zZXMpXG4gICAqIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGhvdyB0byBoYW5kbGUgdGhlIHN0cmVhbWluZyBldmVudHMuXG4gICAqL1xuICBzdHJlYW0/OiBib29sZWFuIHwgbnVsbDtcblxuICAvKipcbiAgICogT3B0aW9ucyBmb3Igc3RyZWFtaW5nIHJlc3BvbnNlLiBPbmx5IHNldCB0aGlzIHdoZW4geW91IHNldCBgc3RyZWFtOiB0cnVlYC5cbiAgICovXG4gIHN0cmVhbV9vcHRpb25zPzogQ2hhdENvbXBsZXRpb25TdHJlYW1PcHRpb25zIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciBgdG9wX3BgIGJ1dFxuICAgKiBub3QgYm90aC5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQ29udHJvbHMgd2hpY2ggKGlmIGFueSkgdG9vbCBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLiBgbm9uZWAgbWVhbnMgdGhlIG1vZGVsIHdpbGxcbiAgICogbm90IGNhbGwgYW55IHRvb2wgYW5kIGluc3RlYWQgZ2VuZXJhdGVzIGEgbWVzc2FnZS4gYGF1dG9gIG1lYW5zIHRoZSBtb2RlbCBjYW5cbiAgICogcGljayBiZXR3ZWVuIGdlbmVyYXRpbmcgYSBtZXNzYWdlIG9yIGNhbGxpbmcgb25lIG9yIG1vcmUgdG9vbHMuIGByZXF1aXJlZGAgbWVhbnNcbiAgICogdGhlIG1vZGVsIG11c3QgY2FsbCBvbmUgb3IgbW9yZSB0b29scy4gU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgdG9vbCB2aWFcbiAgICogYHtcInR5cGVcIjogXCJmdW5jdGlvblwiLCBcImZ1bmN0aW9uXCI6IHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifX1gIGZvcmNlcyB0aGUgbW9kZWwgdG9cbiAgICogY2FsbCB0aGF0IHRvb2wuXG4gICAqXG4gICAqIGBub25lYCBpcyB0aGUgZGVmYXVsdCB3aGVuIG5vIHRvb2xzIGFyZSBwcmVzZW50LiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgaWYgdG9vbHNcbiAgICogYXJlIHByZXNlbnQuXG4gICAqL1xuICB0b29sX2Nob2ljZT86IENoYXRDb21wbGV0aW9uVG9vbENob2ljZU9wdGlvbjtcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHRvb2xzIHRoZSBtb2RlbCBtYXkgY2FsbC4gQ3VycmVudGx5LCBvbmx5IGZ1bmN0aW9ucyBhcmUgc3VwcG9ydGVkIGFzIGFcbiAgICogdG9vbC4gVXNlIHRoaXMgdG8gcHJvdmlkZSBhIGxpc3Qgb2YgZnVuY3Rpb25zIHRoZSBtb2RlbCBtYXkgZ2VuZXJhdGUgSlNPTiBpbnB1dHNcbiAgICogZm9yLiBBIG1heCBvZiAxMjggZnVuY3Rpb25zIGFyZSBzdXBwb3J0ZWQuXG4gICAqL1xuICB0b29scz86IEFycmF5PENoYXRDb21wbGV0aW9uVG9vbD47XG5cbiAgLyoqXG4gICAqIEFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCAyMCBzcGVjaWZ5aW5nIHRoZSBudW1iZXIgb2YgbW9zdCBsaWtlbHkgdG9rZW5zIHRvXG4gICAqIHJldHVybiBhdCBlYWNoIHRva2VuIHBvc2l0aW9uLCBlYWNoIHdpdGggYW4gYXNzb2NpYXRlZCBsb2cgcHJvYmFiaWxpdHkuXG4gICAqIGBsb2dwcm9ic2AgbXVzdCBiZSBzZXQgdG8gYHRydWVgIGlmIHRoaXMgcGFyYW1ldGVyIGlzIHVzZWQuXG4gICAqL1xuICB0b3BfbG9ncHJvYnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBzYW1wbGluZyB3aXRoIHRlbXBlcmF0dXJlLCBjYWxsZWQgbnVjbGV1cyBzYW1wbGluZywgd2hlcmUgdGhlXG4gICAqIG1vZGVsIGNvbnNpZGVycyB0aGUgcmVzdWx0cyBvZiB0aGUgdG9rZW5zIHdpdGggdG9wX3AgcHJvYmFiaWxpdHkgbWFzcy4gU28gMC4xXG4gICAqIG1lYW5zIG9ubHkgdGhlIHRva2VucyBjb21wcmlzaW5nIHRoZSB0b3AgMTAlIHByb2JhYmlsaXR5IG1hc3MgYXJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciBgdGVtcGVyYXR1cmVgIGJ1dCBub3QgYm90aC5cbiAgICovXG4gIHRvcF9wPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciByZXByZXNlbnRpbmcgeW91ciBlbmQtdXNlciwgd2hpY2ggY2FuIGhlbHAgT3BlbkFJIHRvIG1vbml0b3JcbiAgICogYW5kIGRldGVjdCBhYnVzZS5cbiAgICogW0xlYXJuIG1vcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zYWZldHktYmVzdC1wcmFjdGljZXMjZW5kLXVzZXItaWRzKS5cbiAgICovXG4gIHVzZXI/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoaXMgdG9vbCBzZWFyY2hlcyB0aGUgd2ViIGZvciByZWxldmFudCByZXN1bHRzIHRvIHVzZSBpbiBhIHJlc3BvbnNlLiBMZWFybiBtb3JlXG4gICAqIGFib3V0IHRoZVxuICAgKiBbd2ViIHNlYXJjaCB0b29sXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtd2ViLXNlYXJjaD9hcGktbW9kZT1jaGF0KS5cbiAgICovXG4gIHdlYl9zZWFyY2hfb3B0aW9ucz86IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLldlYlNlYXJjaE9wdGlvbnM7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQuIE11c3QgYmUgYS16LCBBLVosIDAtOSwgb3IgY29udGFpblxuICAgICAqIHVuZGVyc2NvcmVzIGFuZCBkYXNoZXMsIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NC5cbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIGRlc2NyaXB0aW9uIG9mIHdoYXQgdGhlIGZ1bmN0aW9uIGRvZXMsIHVzZWQgYnkgdGhlIG1vZGVsIHRvIGNob29zZSB3aGVuIGFuZFxuICAgICAqIGhvdyB0byBjYWxsIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJhbWV0ZXJzIHRoZSBmdW5jdGlvbnMgYWNjZXB0cywgZGVzY3JpYmVkIGFzIGEgSlNPTiBTY2hlbWEgb2JqZWN0LiBTZWUgdGhlXG4gICAgICogW2d1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZnVuY3Rpb24tY2FsbGluZykgZm9yIGV4YW1wbGVzLFxuICAgICAqIGFuZCB0aGVcbiAgICAgKiBbSlNPTiBTY2hlbWEgcmVmZXJlbmNlXShodHRwczovL2pzb24tc2NoZW1hLm9yZy91bmRlcnN0YW5kaW5nLWpzb24tc2NoZW1hLykgZm9yXG4gICAgICogZG9jdW1lbnRhdGlvbiBhYm91dCB0aGUgZm9ybWF0LlxuICAgICAqXG4gICAgICogT21pdHRpbmcgYHBhcmFtZXRlcnNgIGRlZmluZXMgYSBmdW5jdGlvbiB3aXRoIGFuIGVtcHR5IHBhcmFtZXRlciBsaXN0LlxuICAgICAqL1xuICAgIHBhcmFtZXRlcnM/OiBTaGFyZWQuRnVuY3Rpb25QYXJhbWV0ZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgdG9vbCBzZWFyY2hlcyB0aGUgd2ViIGZvciByZWxldmFudCByZXN1bHRzIHRvIHVzZSBpbiBhIHJlc3BvbnNlLiBMZWFybiBtb3JlXG4gICAqIGFib3V0IHRoZVxuICAgKiBbd2ViIHNlYXJjaCB0b29sXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtd2ViLXNlYXJjaD9hcGktbW9kZT1jaGF0KS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgV2ViU2VhcmNoT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogSGlnaCBsZXZlbCBndWlkYW5jZSBmb3IgdGhlIGFtb3VudCBvZiBjb250ZXh0IHdpbmRvdyBzcGFjZSB0byB1c2UgZm9yIHRoZVxuICAgICAqIHNlYXJjaC4gT25lIG9mIGBsb3dgLCBgbWVkaXVtYCwgb3IgYGhpZ2hgLiBgbWVkaXVtYCBpcyB0aGUgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBzZWFyY2hfY29udGV4dF9zaXplPzogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJztcblxuICAgIC8qKlxuICAgICAqIEFwcHJveGltYXRlIGxvY2F0aW9uIHBhcmFtZXRlcnMgZm9yIHRoZSBzZWFyY2guXG4gICAgICovXG4gICAgdXNlcl9sb2NhdGlvbj86IFdlYlNlYXJjaE9wdGlvbnMuVXNlckxvY2F0aW9uIHwgbnVsbDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgV2ViU2VhcmNoT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogQXBwcm94aW1hdGUgbG9jYXRpb24gcGFyYW1ldGVycyBmb3IgdGhlIHNlYXJjaC5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIFVzZXJMb2NhdGlvbiB7XG4gICAgICAvKipcbiAgICAgICAqIEFwcHJveGltYXRlIGxvY2F0aW9uIHBhcmFtZXRlcnMgZm9yIHRoZSBzZWFyY2guXG4gICAgICAgKi9cbiAgICAgIGFwcHJveGltYXRlOiBVc2VyTG9jYXRpb24uQXBwcm94aW1hdGU7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHR5cGUgb2YgbG9jYXRpb24gYXBwcm94aW1hdGlvbi4gQWx3YXlzIGBhcHByb3hpbWF0ZWAuXG4gICAgICAgKi9cbiAgICAgIHR5cGU6ICdhcHByb3hpbWF0ZSc7XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBVc2VyTG9jYXRpb24ge1xuICAgICAgLyoqXG4gICAgICAgKiBBcHByb3hpbWF0ZSBsb2NhdGlvbiBwYXJhbWV0ZXJzIGZvciB0aGUgc2VhcmNoLlxuICAgICAgICovXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEFwcHJveGltYXRlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyZWUgdGV4dCBpbnB1dCBmb3IgdGhlIGNpdHkgb2YgdGhlIHVzZXIsIGUuZy4gYFNhbiBGcmFuY2lzY29gLlxuICAgICAgICAgKi9cbiAgICAgICAgY2l0eT86IHN0cmluZztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR3by1sZXR0ZXIgW0lTTyBjb3VudHJ5IGNvZGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT18zMTY2LTEpIG9mXG4gICAgICAgICAqIHRoZSB1c2VyLCBlLmcuIGBVU2AuXG4gICAgICAgICAqL1xuICAgICAgICBjb3VudHJ5Pzogc3RyaW5nO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGcmVlIHRleHQgaW5wdXQgZm9yIHRoZSByZWdpb24gb2YgdGhlIHVzZXIsIGUuZy4gYENhbGlmb3JuaWFgLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVnaW9uPzogc3RyaW5nO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgW0lBTkEgdGltZXpvbmVdKGh0dHBzOi8vdGltZWFwaS5pby9kb2N1bWVudGF0aW9uL2lhbmEtdGltZXpvbmVzKSBvZiB0aGVcbiAgICAgICAgICogdXNlciwgZS5nLiBgQW1lcmljYS9Mb3NfQW5nZWxlc2AuXG4gICAgICAgICAqL1xuICAgICAgICB0aW1lem9uZT86IHN0cmluZztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBleHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyA9XG4gICAgQ29tcGxldGlvbnNDb21wbGV0aW9uc0FQSS5DaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZztcbiAgZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgPVxuICAgIENvbXBsZXRpb25zQ29tcGxldGlvbnNBUEkuQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIGluc3RlYWRcbiAqL1xuZXhwb3J0IHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyA9IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGUgbW9kZWwgcmVzcG9uc2UgZGF0YSB3aWxsIGJlIHN0cmVhbWVkIHRvIHRoZSBjbGllbnQgYXMgaXQgaXNcbiAgICogZ2VuZXJhdGVkIHVzaW5nXG4gICAqIFtzZXJ2ZXItc2VudCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2ZXItc2VudF9ldmVudHMvVXNpbmdfc2VydmVyLXNlbnRfZXZlbnRzI0V2ZW50X3N0cmVhbV9mb3JtYXQpLlxuICAgKiBTZWUgdGhlXG4gICAqIFtTdHJlYW1pbmcgc2VjdGlvbiBiZWxvd10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jaGF0L3N0cmVhbWluZylcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24sIGFsb25nIHdpdGggdGhlXG4gICAqIFtzdHJlYW1pbmcgcmVzcG9uc2VzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RyZWFtaW5nLXJlc3BvbnNlcylcbiAgICogZ3VpZGUgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIGhhbmRsZSB0aGUgc3RyZWFtaW5nIGV2ZW50cy5cbiAgICovXG4gIHN0cmVhbT86IGZhbHNlIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgaW5zdGVhZFxuICovXG5leHBvcnQgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nID0gQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgZXh0ZW5kcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBtb2RlbCByZXNwb25zZSBkYXRhIHdpbGwgYmUgc3RyZWFtZWQgdG8gdGhlIGNsaWVudCBhcyBpdCBpc1xuICAgKiBnZW5lcmF0ZWQgdXNpbmdcbiAgICogW3NlcnZlci1zZW50IGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHMjRXZlbnRfc3RyZWFtX2Zvcm1hdCkuXG4gICAqIFNlZSB0aGVcbiAgICogW1N0cmVhbWluZyBzZWN0aW9uIGJlbG93XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2NoYXQvc3RyZWFtaW5nKVxuICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiwgYWxvbmcgd2l0aCB0aGVcbiAgICogW3N0cmVhbWluZyByZXNwb25zZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJlYW1pbmctcmVzcG9uc2VzKVxuICAgKiBndWlkZSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBob3cgdG8gaGFuZGxlIHRoZSBzdHJlYW1pbmcgZXZlbnRzLlxuICAgKi9cbiAgc3RyZWFtOiB0cnVlO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyBpbnN0ZWFkXG4gKi9cbmV4cG9ydCB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgPSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZztcblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblVwZGF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE6IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENoYXRDb21wbGV0aW9uVXBkYXRlUGFyYW1zIGluc3RlYWRcbiAqL1xuZXhwb3J0IHR5cGUgQ29tcGxldGlvblVwZGF0ZVBhcmFtcyA9IENoYXRDb21wbGV0aW9uVXBkYXRlUGFyYW1zO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uTGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge1xuICAvKipcbiAgICogQSBsaXN0IG9mIG1ldGFkYXRhIGtleXMgdG8gZmlsdGVyIHRoZSBDaGF0IENvbXBsZXRpb25zIGJ5LiBFeGFtcGxlOlxuICAgKlxuICAgKiBgbWV0YWRhdGFba2V5MV09dmFsdWUxJm1ldGFkYXRhW2tleTJdPXZhbHVlMmBcbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIENoYXQgQ29tcGxldGlvbnMuXG4gICAqL1xuICBtb2RlbD86IHN0cmluZztcblxuICAvKipcbiAgICogU29ydCBvcmRlciBmb3IgQ2hhdCBDb21wbGV0aW9ucyBieSB0aW1lc3RhbXAuIFVzZSBgYXNjYCBmb3IgYXNjZW5kaW5nIG9yZGVyIG9yXG4gICAqIGBkZXNjYCBmb3IgZGVzY2VuZGluZyBvcmRlci4gRGVmYXVsdHMgdG8gYGFzY2AuXG4gICAqL1xuICBvcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBDaGF0Q29tcGxldGlvbkxpc3RQYXJhbXMgaW5zdGVhZFxuICovXG5leHBvcnQgdHlwZSBDb21wbGV0aW9uTGlzdFBhcmFtcyA9IENoYXRDb21wbGV0aW9uTGlzdFBhcmFtcztcblxuQ29tcGxldGlvbnMuQ2hhdENvbXBsZXRpb25zUGFnZSA9IENoYXRDb21wbGV0aW9uc1BhZ2U7XG5Db21wbGV0aW9ucy5NZXNzYWdlcyA9IE1lc3NhZ2VzO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgQ29tcGxldGlvbnMge1xuICBleHBvcnQge1xuICAgIHR5cGUgQ2hhdENvbXBsZXRpb24gYXMgQ2hhdENvbXBsZXRpb24sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQXVkaW8gYXMgQ2hhdENvbXBsZXRpb25BdWRpbyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQXVkaW9QYXJhbSBhcyBDaGF0Q29tcGxldGlvbkF1ZGlvUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNodW5rIGFzIENoYXRDb21wbGV0aW9uQ2h1bmssXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0IGFzIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnQsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2UgYXMgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydEltYWdlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydElucHV0QXVkaW8gYXMgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydElucHV0QXVkaW8sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0UmVmdXNhbCBhcyBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0UmVmdXNhbCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0IGFzIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0LFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25EZWxldGVkIGFzIENoYXRDb21wbGV0aW9uRGVsZXRlZCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uRGV2ZWxvcGVyTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uRGV2ZWxvcGVyTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25GdW5jdGlvbkNhbGxPcHRpb24gYXMgQ2hhdENvbXBsZXRpb25GdW5jdGlvbkNhbGxPcHRpb24sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2UgYXMgQ2hhdENvbXBsZXRpb25NZXNzYWdlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCBhcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTW9kYWxpdHkgYXMgQ2hhdENvbXBsZXRpb25Nb2RhbGl0eSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTmFtZWRUb29sQ2hvaWNlIGFzIENoYXRDb21wbGV0aW9uTmFtZWRUb29sQ2hvaWNlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25QcmVkaWN0aW9uQ29udGVudCBhcyBDaGF0Q29tcGxldGlvblByZWRpY3Rpb25Db250ZW50LFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Sb2xlIGFzIENoYXRDb21wbGV0aW9uUm9sZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlIGFzIENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25TdHJlYW1PcHRpb25zIGFzIENoYXRDb21wbGV0aW9uU3RyZWFtT3B0aW9ucyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uU3lzdGVtTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uU3lzdGVtTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2IgYXMgQ2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2IsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblRvb2wgYXMgQ2hhdENvbXBsZXRpb25Ub29sLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sQ2hvaWNlT3B0aW9uIGFzIENoYXRDb21wbGV0aW9uVG9vbENob2ljZU9wdGlvbixcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvblRvb2xNZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25Vc2VyTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0TWVzc2FnZSBhcyBDcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3RNZXNzYWdlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25SZWFzb25pbmdFZmZvcnQgYXMgQ2hhdENvbXBsZXRpb25SZWFzb25pbmdFZmZvcnQsXG4gICAgQ2hhdENvbXBsZXRpb25zUGFnZSBhcyBDaGF0Q29tcGxldGlvbnNQYWdlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMgYXMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIGFzIENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyBhcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgICB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgYXMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGFzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAgIHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyBhcyBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25VcGRhdGVQYXJhbXMgYXMgQ2hhdENvbXBsZXRpb25VcGRhdGVQYXJhbXMsXG4gICAgdHlwZSBDb21wbGV0aW9uVXBkYXRlUGFyYW1zIGFzIENvbXBsZXRpb25VcGRhdGVQYXJhbXMsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkxpc3RQYXJhbXMgYXMgQ2hhdENvbXBsZXRpb25MaXN0UGFyYW1zLFxuICAgIHR5cGUgQ29tcGxldGlvbkxpc3RQYXJhbXMgYXMgQ29tcGxldGlvbkxpc3RQYXJhbXMsXG4gIH07XG5cbiAgZXhwb3J0IHsgTWVzc2FnZXMgYXMgTWVzc2FnZXMsIHR5cGUgTWVzc2FnZUxpc3RQYXJhbXMgYXMgTWVzc2FnZUxpc3RQYXJhbXMgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tICcuLi9zaGFyZWQnO1xuaW1wb3J0ICogYXMgQ29tcGxldGlvbnNBUEkgZnJvbSAnLi9jb21wbGV0aW9ucy9jb21wbGV0aW9ucyc7XG5pbXBvcnQge1xuICBDaGF0Q29tcGxldGlvbixcbiAgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0sXG4gIENoYXRDb21wbGV0aW9uQXVkaW8sXG4gIENoYXRDb21wbGV0aW9uQXVkaW9QYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25DaHVuayxcbiAgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydCxcbiAgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydEltYWdlLFxuICBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW5wdXRBdWRpbyxcbiAgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFJlZnVzYWwsXG4gIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRUZXh0LFxuICBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICBDaGF0Q29tcGxldGlvbkRlbGV0ZWQsXG4gIENoYXRDb21wbGV0aW9uRGV2ZWxvcGVyTWVzc2FnZVBhcmFtLFxuICBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbixcbiAgQ2hhdENvbXBsZXRpb25GdW5jdGlvbk1lc3NhZ2VQYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25MaXN0UGFyYW1zLFxuICBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsXG4gIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtLFxuICBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCxcbiAgQ2hhdENvbXBsZXRpb25Nb2RhbGl0eSxcbiAgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UsXG4gIENoYXRDb21wbGV0aW9uUHJlZGljdGlvbkNvbnRlbnQsXG4gIENoYXRDb21wbGV0aW9uUmVhc29uaW5nRWZmb3J0LFxuICBDaGF0Q29tcGxldGlvblJvbGUsXG4gIENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlLFxuICBDaGF0Q29tcGxldGlvblN0cmVhbU9wdGlvbnMsXG4gIENoYXRDb21wbGV0aW9uU3lzdGVtTWVzc2FnZVBhcmFtLFxuICBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYixcbiAgQ2hhdENvbXBsZXRpb25Ub29sLFxuICBDaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb24sXG4gIENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25VcGRhdGVQYXJhbXMsXG4gIENoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25zUGFnZSxcbiAgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgQ29tcGxldGlvbkxpc3RQYXJhbXMsXG4gIENvbXBsZXRpb25VcGRhdGVQYXJhbXMsXG4gIENvbXBsZXRpb25zLFxuICBDcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3RNZXNzYWdlLFxufSBmcm9tICcuL2NvbXBsZXRpb25zL2NvbXBsZXRpb25zJztcblxuZXhwb3J0IGNsYXNzIENoYXQgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIGNvbXBsZXRpb25zOiBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9ucyA9IG5ldyBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9ucyh0aGlzLl9jbGllbnQpO1xufVxuXG5leHBvcnQgdHlwZSBDaGF0TW9kZWwgPSBTaGFyZWQuQ2hhdE1vZGVsO1xuXG5DaGF0LkNvbXBsZXRpb25zID0gQ29tcGxldGlvbnM7XG5DaGF0LkNoYXRDb21wbGV0aW9uc1BhZ2UgPSBDaGF0Q29tcGxldGlvbnNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgQ2hhdCB7XG4gIGV4cG9ydCB7IHR5cGUgQ2hhdE1vZGVsIGFzIENoYXRNb2RlbCB9O1xuXG4gIGV4cG9ydCB7XG4gICAgQ29tcGxldGlvbnMgYXMgQ29tcGxldGlvbnMsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbiBhcyBDaGF0Q29tcGxldGlvbixcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25BdWRpbyBhcyBDaGF0Q29tcGxldGlvbkF1ZGlvLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25BdWRpb1BhcmFtIGFzIENoYXRDb21wbGV0aW9uQXVkaW9QYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ2h1bmsgYXMgQ2hhdENvbXBsZXRpb25DaHVuayxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnQgYXMgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZSBhcyBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW1hZ2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW5wdXRBdWRpbyBhcyBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0SW5wdXRBdWRpbyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRSZWZ1c2FsIGFzIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRSZWZ1c2FsLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQgYXMgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFRleHQsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkRlbGV0ZWQgYXMgQ2hhdENvbXBsZXRpb25EZWxldGVkLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25EZXZlbG9wZXJNZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25EZXZlbG9wZXJNZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbiBhcyBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uQ2FsbE9wdGlvbixcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25GdW5jdGlvbk1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTWVzc2FnZSBhcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsIGFzIENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Nb2RhbGl0eSBhcyBDaGF0Q29tcGxldGlvbk1vZGFsaXR5LFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UgYXMgQ2hhdENvbXBsZXRpb25OYW1lZFRvb2xDaG9pY2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblByZWRpY3Rpb25Db250ZW50IGFzIENoYXRDb21wbGV0aW9uUHJlZGljdGlvbkNvbnRlbnQsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblJvbGUgYXMgQ2hhdENvbXBsZXRpb25Sb2xlLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2UgYXMgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblN0cmVhbU9wdGlvbnMgYXMgQ2hhdENvbXBsZXRpb25TdHJlYW1PcHRpb25zLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25TeXN0ZW1NZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25TeXN0ZW1NZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYiBhcyBDaGF0Q29tcGxldGlvblRva2VuTG9ncHJvYixcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVG9vbCBhcyBDaGF0Q29tcGxldGlvblRvb2wsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb24gYXMgQ2hhdENvbXBsZXRpb25Ub29sQ2hvaWNlT3B0aW9uLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3RNZXNzYWdlIGFzIENyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdE1lc3NhZ2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblJlYXNvbmluZ0VmZm9ydCBhcyBDaGF0Q29tcGxldGlvblJlYXNvbmluZ0VmZm9ydCxcbiAgICBDaGF0Q29tcGxldGlvbnNQYWdlIGFzIENoYXRDb21wbGV0aW9uc1BhZ2UsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyBhcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXMgYXMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIGFzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyBhcyBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgYXMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGFzIENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblVwZGF0ZVBhcmFtcyBhcyBDaGF0Q29tcGxldGlvblVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIENvbXBsZXRpb25VcGRhdGVQYXJhbXMgYXMgQ29tcGxldGlvblVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTGlzdFBhcmFtcyBhcyBDaGF0Q29tcGxldGlvbkxpc3RQYXJhbXMsXG4gICAgdHlwZSBDb21wbGV0aW9uTGlzdFBhcmFtcyBhcyBDb21wbGV0aW9uTGlzdFBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyB0eXBlIFJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vX3NoaW1zL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIFNwZWVjaCBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhdWRpbyBmcm9tIHRoZSBpbnB1dCB0ZXh0LlxuICAgKi9cbiAgY3JlYXRlKGJvZHk6IFNwZWVjaENyZWF0ZVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8UmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hdWRpby9zcGVlY2gnLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgX19iaW5hcnlSZXNwb25zZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBTcGVlY2hNb2RlbCA9ICd0dHMtMScgfCAndHRzLTEtaGQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNwZWVjaENyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgdGV4dCB0byBnZW5lcmF0ZSBhdWRpbyBmb3IuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyA0MDk2IGNoYXJhY3RlcnMuXG4gICAqL1xuICBpbnB1dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBPbmUgb2YgdGhlIGF2YWlsYWJsZSBbVFRTIG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI3R0cyk6XG4gICAqIGB0dHMtMWAgb3IgYHR0cy0xLWhkYFxuICAgKi9cbiAgbW9kZWw6IChzdHJpbmcgJiB7fSkgfCBTcGVlY2hNb2RlbDtcblxuICAvKipcbiAgICogVGhlIHZvaWNlIHRvIHVzZSB3aGVuIGdlbmVyYXRpbmcgdGhlIGF1ZGlvLiBTdXBwb3J0ZWQgdm9pY2VzIGFyZSBgYWxsb3lgLCBgYXNoYCxcbiAgICogYGNvcmFsYCwgYGVjaG9gLCBgZmFibGVgLCBgb255eGAsIGBub3ZhYCwgYHNhZ2VgIGFuZCBgc2hpbW1lcmAuIFByZXZpZXdzIG9mIHRoZVxuICAgKiB2b2ljZXMgYXJlIGF2YWlsYWJsZSBpbiB0aGVcbiAgICogW1RleHQgdG8gc3BlZWNoIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dC10by1zcGVlY2gjdm9pY2Utb3B0aW9ucykuXG4gICAqL1xuICB2b2ljZTogJ2FsbG95JyB8ICdhc2gnIHwgJ2NvcmFsJyB8ICdlY2hvJyB8ICdmYWJsZScgfCAnb255eCcgfCAnbm92YScgfCAnc2FnZScgfCAnc2hpbW1lcic7XG5cbiAgLyoqXG4gICAqIFRoZSBmb3JtYXQgdG8gYXVkaW8gaW4uIFN1cHBvcnRlZCBmb3JtYXRzIGFyZSBgbXAzYCwgYG9wdXNgLCBgYWFjYCwgYGZsYWNgLFxuICAgKiBgd2F2YCwgYW5kIGBwY21gLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogJ21wMycgfCAnb3B1cycgfCAnYWFjJyB8ICdmbGFjJyB8ICd3YXYnIHwgJ3BjbSc7XG5cbiAgLyoqXG4gICAqIFRoZSBzcGVlZCBvZiB0aGUgZ2VuZXJhdGVkIGF1ZGlvLiBTZWxlY3QgYSB2YWx1ZSBmcm9tIGAwLjI1YCB0byBgNC4wYC4gYDEuMGAgaXNcbiAgICogdGhlIGRlZmF1bHQuXG4gICAqL1xuICBzcGVlZD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIFNwZWVjaCB7XG4gIGV4cG9ydCB7IHR5cGUgU3BlZWNoTW9kZWwgYXMgU3BlZWNoTW9kZWwsIHR5cGUgU3BlZWNoQ3JlYXRlUGFyYW1zIGFzIFNwZWVjaENyZWF0ZVBhcmFtcyB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIEF1ZGlvQVBJIGZyb20gJy4vYXVkaW8nO1xuXG5leHBvcnQgY2xhc3MgVHJhbnNjcmlwdGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBUcmFuc2NyaWJlcyBhdWRpbyBpbnRvIHRoZSBpbnB1dCBsYW5ndWFnZS5cbiAgICovXG4gIGNyZWF0ZShcbiAgICBib2R5OiBUcmFuc2NyaXB0aW9uQ3JlYXRlUGFyYW1zPCdqc29uJyB8IHVuZGVmaW5lZD4sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxUcmFuc2NyaXB0aW9uPjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IFRyYW5zY3JpcHRpb25DcmVhdGVQYXJhbXM8J3ZlcmJvc2VfanNvbic+LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VHJhbnNjcmlwdGlvblZlcmJvc2U+O1xuICBjcmVhdGUoXG4gICAgYm9keTogVHJhbnNjcmlwdGlvbkNyZWF0ZVBhcmFtczwnc3J0JyB8ICd2dHQnIHwgJ3RleHQnPixcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPHN0cmluZz47XG4gIGNyZWF0ZShib2R5OiBUcmFuc2NyaXB0aW9uQ3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxUcmFuc2NyaXB0aW9uPjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IFRyYW5zY3JpcHRpb25DcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxUcmFuc2NyaXB0aW9uQ3JlYXRlUmVzcG9uc2UgfCBzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoXG4gICAgICAnL2F1ZGlvL3RyYW5zY3JpcHRpb25zJyxcbiAgICAgIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucywgX19tZXRhZGF0YTogeyBtb2RlbDogYm9keS5tb2RlbCB9IH0pLFxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgdHJhbnNjcmlwdGlvbiByZXNwb25zZSByZXR1cm5lZCBieSBtb2RlbCwgYmFzZWQgb24gdGhlIHByb3ZpZGVkXG4gKiBpbnB1dC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSB0cmFuc2NyaWJlZCB0ZXh0LlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zY3JpcHRpb25TZWdtZW50IHtcbiAgLyoqXG4gICAqIFVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBzZWdtZW50LlxuICAgKi9cbiAgaWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQXZlcmFnZSBsb2dwcm9iIG9mIHRoZSBzZWdtZW50LiBJZiB0aGUgdmFsdWUgaXMgbG93ZXIgdGhhbiAtMSwgY29uc2lkZXIgdGhlXG4gICAqIGxvZ3Byb2JzIGZhaWxlZC5cbiAgICovXG4gIGF2Z19sb2dwcm9iOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIENvbXByZXNzaW9uIHJhdGlvIG9mIHRoZSBzZWdtZW50LiBJZiB0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDIuNCwgY29uc2lkZXIgdGhlXG4gICAqIGNvbXByZXNzaW9uIGZhaWxlZC5cbiAgICovXG4gIGNvbXByZXNzaW9uX3JhdGlvOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEVuZCB0aW1lIG9mIHRoZSBzZWdtZW50IGluIHNlY29uZHMuXG4gICAqL1xuICBlbmQ6IG51bWJlcjtcblxuICAvKipcbiAgICogUHJvYmFiaWxpdHkgb2Ygbm8gc3BlZWNoIGluIHRoZSBzZWdtZW50LiBJZiB0aGUgdmFsdWUgaXMgaGlnaGVyIHRoYW4gMS4wIGFuZCB0aGVcbiAgICogYGF2Z19sb2dwcm9iYCBpcyBiZWxvdyAtMSwgY29uc2lkZXIgdGhpcyBzZWdtZW50IHNpbGVudC5cbiAgICovXG4gIG5vX3NwZWVjaF9wcm9iOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNlZWsgb2Zmc2V0IG9mIHRoZSBzZWdtZW50LlxuICAgKi9cbiAgc2VlazogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTdGFydCB0aW1lIG9mIHRoZSBzZWdtZW50IGluIHNlY29uZHMuXG4gICAqL1xuICBzdGFydDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUZW1wZXJhdHVyZSBwYXJhbWV0ZXIgdXNlZCBmb3IgZ2VuZXJhdGluZyB0aGUgc2VnbWVudC5cbiAgICovXG4gIHRlbXBlcmF0dXJlOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRleHQgY29udGVudCBvZiB0aGUgc2VnbWVudC5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogQXJyYXkgb2YgdG9rZW4gSURzIGZvciB0aGUgdGV4dCBjb250ZW50LlxuICAgKi9cbiAgdG9rZW5zOiBBcnJheTxudW1iZXI+O1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSB2ZXJib3NlIGpzb24gdHJhbnNjcmlwdGlvbiByZXNwb25zZSByZXR1cm5lZCBieSBtb2RlbCwgYmFzZWQgb24gdGhlXG4gKiBwcm92aWRlZCBpbnB1dC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0aW9uVmVyYm9zZSB7XG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gb2YgdGhlIGlucHV0IGF1ZGlvLlxuICAgKi9cbiAgZHVyYXRpb246IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGxhbmd1YWdlIG9mIHRoZSBpbnB1dCBhdWRpby5cbiAgICovXG4gIGxhbmd1YWdlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0cmFuc2NyaWJlZCB0ZXh0LlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTZWdtZW50cyBvZiB0aGUgdHJhbnNjcmliZWQgdGV4dCBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBkZXRhaWxzLlxuICAgKi9cbiAgc2VnbWVudHM/OiBBcnJheTxUcmFuc2NyaXB0aW9uU2VnbWVudD47XG5cbiAgLyoqXG4gICAqIEV4dHJhY3RlZCB3b3JkcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyB0aW1lc3RhbXBzLlxuICAgKi9cbiAgd29yZHM/OiBBcnJheTxUcmFuc2NyaXB0aW9uV29yZD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvbldvcmQge1xuICAvKipcbiAgICogRW5kIHRpbWUgb2YgdGhlIHdvcmQgaW4gc2Vjb25kcy5cbiAgICovXG4gIGVuZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTdGFydCB0aW1lIG9mIHRoZSB3b3JkIGluIHNlY29uZHMuXG4gICAqL1xuICBzdGFydDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdGV4dCBjb250ZW50IG9mIHRoZSB3b3JkLlxuICAgKi9cbiAgd29yZDogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSB0cmFuc2NyaXB0aW9uIHJlc3BvbnNlIHJldHVybmVkIGJ5IG1vZGVsLCBiYXNlZCBvbiB0aGUgcHJvdmlkZWRcbiAqIGlucHV0LlxuICovXG5leHBvcnQgdHlwZSBUcmFuc2NyaXB0aW9uQ3JlYXRlUmVzcG9uc2UgPSBUcmFuc2NyaXB0aW9uIHwgVHJhbnNjcmlwdGlvblZlcmJvc2U7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvbkNyZWF0ZVBhcmFtczxcbiAgUmVzcG9uc2VGb3JtYXQgZXh0ZW5kcyBBdWRpb0FQSS5BdWRpb1Jlc3BvbnNlRm9ybWF0IHwgdW5kZWZpbmVkID0gQXVkaW9BUEkuQXVkaW9SZXNwb25zZUZvcm1hdCB8IHVuZGVmaW5lZCxcbj4ge1xuICAvKipcbiAgICogVGhlIGF1ZGlvIGZpbGUgb2JqZWN0IChub3QgZmlsZSBuYW1lKSB0byB0cmFuc2NyaWJlLCBpbiBvbmUgb2YgdGhlc2UgZm9ybWF0czpcbiAgICogZmxhYywgbXAzLCBtcDQsIG1wZWcsIG1wZ2EsIG00YSwgb2dnLCB3YXYsIG9yIHdlYm0uXG4gICAqL1xuICBmaWxlOiBDb3JlLlVwbG9hZGFibGU7XG5cbiAgLyoqXG4gICAqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIE9ubHkgYHdoaXNwZXItMWAgKHdoaWNoIGlzIHBvd2VyZWQgYnkgb3VyIG9wZW4gc291cmNlXG4gICAqIFdoaXNwZXIgVjIgbW9kZWwpIGlzIGN1cnJlbnRseSBhdmFpbGFibGUuXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8IEF1ZGlvQVBJLkF1ZGlvTW9kZWw7XG5cbiAgLyoqXG4gICAqIFRoZSBsYW5ndWFnZSBvZiB0aGUgaW5wdXQgYXVkaW8uIFN1cHBseWluZyB0aGUgaW5wdXQgbGFuZ3VhZ2UgaW5cbiAgICogW0lTTy02MzktMV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9JU09fNjM5LTFfY29kZXMpIChlLmcuIGBlbmApXG4gICAqIGZvcm1hdCB3aWxsIGltcHJvdmUgYWNjdXJhY3kgYW5kIGxhdGVuY3kuXG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgdGV4dCB0byBndWlkZSB0aGUgbW9kZWwncyBzdHlsZSBvciBjb250aW51ZSBhIHByZXZpb3VzIGF1ZGlvXG4gICAqIHNlZ21lbnQuIFRoZVxuICAgKiBbcHJvbXB0XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3BlZWNoLXRvLXRleHQjcHJvbXB0aW5nKVxuICAgKiBzaG91bGQgbWF0Y2ggdGhlIGF1ZGlvIGxhbmd1YWdlLlxuICAgKi9cbiAgcHJvbXB0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIHRoZSBvdXRwdXQsIGluIG9uZSBvZiB0aGVzZSBvcHRpb25zOiBganNvbmAsIGB0ZXh0YCwgYHNydGAsXG4gICAqIGB2ZXJib3NlX2pzb25gLCBvciBgdnR0YC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86IFJlc3BvbnNlRm9ybWF0O1xuXG4gIC8qKlxuICAgKiBUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUsIGJldHdlZW4gMCBhbmQgMS4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsIG1ha2UgdGhlXG4gICAqIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlIGZvY3VzZWQgYW5kXG4gICAqIGRldGVybWluaXN0aWMuIElmIHNldCB0byAwLCB0aGUgbW9kZWwgd2lsbCB1c2VcbiAgICogW2xvZyBwcm9iYWJpbGl0eV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9nX3Byb2JhYmlsaXR5KSB0b1xuICAgKiBhdXRvbWF0aWNhbGx5IGluY3JlYXNlIHRoZSB0ZW1wZXJhdHVyZSB1bnRpbCBjZXJ0YWluIHRocmVzaG9sZHMgYXJlIGhpdC5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdGltZXN0YW1wIGdyYW51bGFyaXRpZXMgdG8gcG9wdWxhdGUgZm9yIHRoaXMgdHJhbnNjcmlwdGlvbi5cbiAgICogYHJlc3BvbnNlX2Zvcm1hdGAgbXVzdCBiZSBzZXQgYHZlcmJvc2VfanNvbmAgdG8gdXNlIHRpbWVzdGFtcCBncmFudWxhcml0aWVzLlxuICAgKiBFaXRoZXIgb3IgYm90aCBvZiB0aGVzZSBvcHRpb25zIGFyZSBzdXBwb3J0ZWQ6IGB3b3JkYCwgb3IgYHNlZ21lbnRgLiBOb3RlOiBUaGVyZVxuICAgKiBpcyBubyBhZGRpdGlvbmFsIGxhdGVuY3kgZm9yIHNlZ21lbnQgdGltZXN0YW1wcywgYnV0IGdlbmVyYXRpbmcgd29yZCB0aW1lc3RhbXBzXG4gICAqIGluY3VycyBhZGRpdGlvbmFsIGxhdGVuY3kuXG4gICAqL1xuICB0aW1lc3RhbXBfZ3JhbnVsYXJpdGllcz86IEFycmF5PCd3b3JkJyB8ICdzZWdtZW50Jz47XG59XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBUcmFuc2NyaXB0aW9ucyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBUcmFuc2NyaXB0aW9uIGFzIFRyYW5zY3JpcHRpb24sXG4gICAgdHlwZSBUcmFuc2NyaXB0aW9uU2VnbWVudCBhcyBUcmFuc2NyaXB0aW9uU2VnbWVudCxcbiAgICB0eXBlIFRyYW5zY3JpcHRpb25WZXJib3NlIGFzIFRyYW5zY3JpcHRpb25WZXJib3NlLFxuICAgIHR5cGUgVHJhbnNjcmlwdGlvbldvcmQgYXMgVHJhbnNjcmlwdGlvbldvcmQsXG4gICAgdHlwZSBUcmFuc2NyaXB0aW9uQ3JlYXRlUmVzcG9uc2UgYXMgVHJhbnNjcmlwdGlvbkNyZWF0ZVJlc3BvbnNlLFxuICAgIHR5cGUgVHJhbnNjcmlwdGlvbkNyZWF0ZVBhcmFtcyBhcyBUcmFuc2NyaXB0aW9uQ3JlYXRlUGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIEF1ZGlvQVBJIGZyb20gJy4vYXVkaW8nO1xuaW1wb3J0ICogYXMgVHJhbnNjcmlwdGlvbnNBUEkgZnJvbSAnLi90cmFuc2NyaXB0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBUcmFuc2xhdGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBUcmFuc2xhdGVzIGF1ZGlvIGludG8gRW5nbGlzaC5cbiAgICovXG4gIGNyZWF0ZShcbiAgICBib2R5OiBUcmFuc2xhdGlvbkNyZWF0ZVBhcmFtczwnanNvbicgfCB1bmRlZmluZWQ+LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VHJhbnNsYXRpb24+O1xuICBjcmVhdGUoXG4gICAgYm9keTogVHJhbnNsYXRpb25DcmVhdGVQYXJhbXM8J3ZlcmJvc2VfanNvbic+LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VHJhbnNsYXRpb25WZXJib3NlPjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zPCd0ZXh0JyB8ICdzcnQnIHwgJ3Z0dCc+LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8c3RyaW5nPjtcbiAgY3JlYXRlKGJvZHk6IFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxUcmFuc2xhdGlvbj47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBUcmFuc2xhdGlvbkNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFRyYW5zbGF0aW9uQ3JlYXRlUmVzcG9uc2UgfCBzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoXG4gICAgICAnL2F1ZGlvL3RyYW5zbGF0aW9ucycsXG4gICAgICBDb3JlLm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMsIF9fbWV0YWRhdGE6IHsgbW9kZWw6IGJvZHkubW9kZWwgfSB9KSxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNsYXRpb24ge1xuICB0ZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNsYXRpb25WZXJib3NlIHtcbiAgLyoqXG4gICAqIFRoZSBkdXJhdGlvbiBvZiB0aGUgaW5wdXQgYXVkaW8uXG4gICAqL1xuICBkdXJhdGlvbjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbGFuZ3VhZ2Ugb2YgdGhlIG91dHB1dCB0cmFuc2xhdGlvbiAoYWx3YXlzIGBlbmdsaXNoYCkuXG4gICAqL1xuICBsYW5ndWFnZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHJhbnNsYXRlZCB0ZXh0LlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTZWdtZW50cyBvZiB0aGUgdHJhbnNsYXRlZCB0ZXh0IGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIGRldGFpbHMuXG4gICAqL1xuICBzZWdtZW50cz86IEFycmF5PFRyYW5zY3JpcHRpb25zQVBJLlRyYW5zY3JpcHRpb25TZWdtZW50Pjtcbn1cblxuZXhwb3J0IHR5cGUgVHJhbnNsYXRpb25DcmVhdGVSZXNwb25zZSA9IFRyYW5zbGF0aW9uIHwgVHJhbnNsYXRpb25WZXJib3NlO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zPFxuICBSZXNwb25zZUZvcm1hdCBleHRlbmRzIEF1ZGlvQVBJLkF1ZGlvUmVzcG9uc2VGb3JtYXQgfCB1bmRlZmluZWQgPSBBdWRpb0FQSS5BdWRpb1Jlc3BvbnNlRm9ybWF0IHwgdW5kZWZpbmVkLFxuPiB7XG4gIC8qKlxuICAgKiBUaGUgYXVkaW8gZmlsZSBvYmplY3QgKG5vdCBmaWxlIG5hbWUpIHRyYW5zbGF0ZSwgaW4gb25lIG9mIHRoZXNlIGZvcm1hdHM6IGZsYWMsXG4gICAqIG1wMywgbXA0LCBtcGVnLCBtcGdhLCBtNGEsIG9nZywgd2F2LCBvciB3ZWJtLlxuICAgKi9cbiAgZmlsZTogQ29yZS5VcGxvYWRhYmxlO1xuXG4gIC8qKlxuICAgKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBPbmx5IGB3aGlzcGVyLTFgICh3aGljaCBpcyBwb3dlcmVkIGJ5IG91ciBvcGVuIHNvdXJjZVxuICAgKiBXaGlzcGVyIFYyIG1vZGVsKSBpcyBjdXJyZW50bHkgYXZhaWxhYmxlLlxuICAgKi9cbiAgbW9kZWw6IChzdHJpbmcgJiB7fSkgfCBBdWRpb0FQSS5BdWRpb01vZGVsO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCB0ZXh0IHRvIGd1aWRlIHRoZSBtb2RlbCdzIHN0eWxlIG9yIGNvbnRpbnVlIGEgcHJldmlvdXMgYXVkaW9cbiAgICogc2VnbWVudC4gVGhlXG4gICAqIFtwcm9tcHRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zcGVlY2gtdG8tdGV4dCNwcm9tcHRpbmcpXG4gICAqIHNob3VsZCBiZSBpbiBFbmdsaXNoLlxuICAgKi9cbiAgcHJvbXB0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIHRoZSBvdXRwdXQsIGluIG9uZSBvZiB0aGVzZSBvcHRpb25zOiBganNvbmAsIGB0ZXh0YCwgYHNydGAsXG4gICAqIGB2ZXJib3NlX2pzb25gLCBvciBgdnR0YC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86IFJlc3BvbnNlRm9ybWF0O1xuXG4gIC8qKlxuICAgKiBUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUsIGJldHdlZW4gMCBhbmQgMS4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsIG1ha2UgdGhlXG4gICAqIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlIGZvY3VzZWQgYW5kXG4gICAqIGRldGVybWluaXN0aWMuIElmIHNldCB0byAwLCB0aGUgbW9kZWwgd2lsbCB1c2VcbiAgICogW2xvZyBwcm9iYWJpbGl0eV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9nX3Byb2JhYmlsaXR5KSB0b1xuICAgKiBhdXRvbWF0aWNhbGx5IGluY3JlYXNlIHRoZSB0ZW1wZXJhdHVyZSB1bnRpbCBjZXJ0YWluIHRocmVzaG9sZHMgYXJlIGhpdC5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgVHJhbnNsYXRpb25zIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIFRyYW5zbGF0aW9uIGFzIFRyYW5zbGF0aW9uLFxuICAgIHR5cGUgVHJhbnNsYXRpb25WZXJib3NlIGFzIFRyYW5zbGF0aW9uVmVyYm9zZSxcbiAgICB0eXBlIFRyYW5zbGF0aW9uQ3JlYXRlUmVzcG9uc2UgYXMgVHJhbnNsYXRpb25DcmVhdGVSZXNwb25zZSxcbiAgICB0eXBlIFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zIGFzIFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgU3BlZWNoQVBJIGZyb20gJy4vc3BlZWNoJztcbmltcG9ydCB7IFNwZWVjaCwgU3BlZWNoQ3JlYXRlUGFyYW1zLCBTcGVlY2hNb2RlbCB9IGZyb20gJy4vc3BlZWNoJztcbmltcG9ydCAqIGFzIFRyYW5zY3JpcHRpb25zQVBJIGZyb20gJy4vdHJhbnNjcmlwdGlvbnMnO1xuaW1wb3J0IHtcbiAgVHJhbnNjcmlwdGlvbixcbiAgVHJhbnNjcmlwdGlvbkNyZWF0ZVBhcmFtcyxcbiAgVHJhbnNjcmlwdGlvbkNyZWF0ZVJlc3BvbnNlLFxuICBUcmFuc2NyaXB0aW9uU2VnbWVudCxcbiAgVHJhbnNjcmlwdGlvblZlcmJvc2UsXG4gIFRyYW5zY3JpcHRpb25Xb3JkLFxuICBUcmFuc2NyaXB0aW9ucyxcbn0gZnJvbSAnLi90cmFuc2NyaXB0aW9ucyc7XG5pbXBvcnQgKiBhcyBUcmFuc2xhdGlvbnNBUEkgZnJvbSAnLi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IHtcbiAgVHJhbnNsYXRpb24sXG4gIFRyYW5zbGF0aW9uQ3JlYXRlUGFyYW1zLFxuICBUcmFuc2xhdGlvbkNyZWF0ZVJlc3BvbnNlLFxuICBUcmFuc2xhdGlvblZlcmJvc2UsXG4gIFRyYW5zbGF0aW9ucyxcbn0gZnJvbSAnLi90cmFuc2xhdGlvbnMnO1xuXG5leHBvcnQgY2xhc3MgQXVkaW8gZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIHRyYW5zY3JpcHRpb25zOiBUcmFuc2NyaXB0aW9uc0FQSS5UcmFuc2NyaXB0aW9ucyA9IG5ldyBUcmFuc2NyaXB0aW9uc0FQSS5UcmFuc2NyaXB0aW9ucyh0aGlzLl9jbGllbnQpO1xuICB0cmFuc2xhdGlvbnM6IFRyYW5zbGF0aW9uc0FQSS5UcmFuc2xhdGlvbnMgPSBuZXcgVHJhbnNsYXRpb25zQVBJLlRyYW5zbGF0aW9ucyh0aGlzLl9jbGllbnQpO1xuICBzcGVlY2g6IFNwZWVjaEFQSS5TcGVlY2ggPSBuZXcgU3BlZWNoQVBJLlNwZWVjaCh0aGlzLl9jbGllbnQpO1xufVxuXG5leHBvcnQgdHlwZSBBdWRpb01vZGVsID0gJ3doaXNwZXItMSc7XG5cbi8qKlxuICogVGhlIGZvcm1hdCBvZiB0aGUgb3V0cHV0LCBpbiBvbmUgb2YgdGhlc2Ugb3B0aW9uczogYGpzb25gLCBgdGV4dGAsIGBzcnRgLFxuICogYHZlcmJvc2VfanNvbmAsIG9yIGB2dHRgLlxuICovXG5leHBvcnQgdHlwZSBBdWRpb1Jlc3BvbnNlRm9ybWF0ID0gJ2pzb24nIHwgJ3RleHQnIHwgJ3NydCcgfCAndmVyYm9zZV9qc29uJyB8ICd2dHQnO1xuXG5BdWRpby5UcmFuc2NyaXB0aW9ucyA9IFRyYW5zY3JpcHRpb25zO1xuQXVkaW8uVHJhbnNsYXRpb25zID0gVHJhbnNsYXRpb25zO1xuQXVkaW8uU3BlZWNoID0gU3BlZWNoO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgQXVkaW8ge1xuICBleHBvcnQgeyB0eXBlIEF1ZGlvTW9kZWwgYXMgQXVkaW9Nb2RlbCwgdHlwZSBBdWRpb1Jlc3BvbnNlRm9ybWF0IGFzIEF1ZGlvUmVzcG9uc2VGb3JtYXQgfTtcblxuICBleHBvcnQge1xuICAgIFRyYW5zY3JpcHRpb25zIGFzIFRyYW5zY3JpcHRpb25zLFxuICAgIHR5cGUgVHJhbnNjcmlwdGlvbiBhcyBUcmFuc2NyaXB0aW9uLFxuICAgIHR5cGUgVHJhbnNjcmlwdGlvblNlZ21lbnQgYXMgVHJhbnNjcmlwdGlvblNlZ21lbnQsXG4gICAgdHlwZSBUcmFuc2NyaXB0aW9uVmVyYm9zZSBhcyBUcmFuc2NyaXB0aW9uVmVyYm9zZSxcbiAgICB0eXBlIFRyYW5zY3JpcHRpb25Xb3JkIGFzIFRyYW5zY3JpcHRpb25Xb3JkLFxuICAgIHR5cGUgVHJhbnNjcmlwdGlvbkNyZWF0ZVJlc3BvbnNlIGFzIFRyYW5zY3JpcHRpb25DcmVhdGVSZXNwb25zZSxcbiAgICB0eXBlIFRyYW5zY3JpcHRpb25DcmVhdGVQYXJhbXMgYXMgVHJhbnNjcmlwdGlvbkNyZWF0ZVBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIFRyYW5zbGF0aW9ucyBhcyBUcmFuc2xhdGlvbnMsXG4gICAgdHlwZSBUcmFuc2xhdGlvbiBhcyBUcmFuc2xhdGlvbixcbiAgICB0eXBlIFRyYW5zbGF0aW9uVmVyYm9zZSBhcyBUcmFuc2xhdGlvblZlcmJvc2UsXG4gICAgdHlwZSBUcmFuc2xhdGlvbkNyZWF0ZVJlc3BvbnNlIGFzIFRyYW5zbGF0aW9uQ3JlYXRlUmVzcG9uc2UsXG4gICAgdHlwZSBUcmFuc2xhdGlvbkNyZWF0ZVBhcmFtcyBhcyBUcmFuc2xhdGlvbkNyZWF0ZVBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQgeyBTcGVlY2ggYXMgU3BlZWNoLCB0eXBlIFNwZWVjaE1vZGVsIGFzIFNwZWVjaE1vZGVsLCB0eXBlIFNwZWVjaENyZWF0ZVBhcmFtcyBhcyBTcGVlY2hDcmVhdGVQYXJhbXMgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBCYXRjaGVzQVBJIGZyb20gJy4vYmF0Y2hlcyc7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSAnLi9zaGFyZWQnO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIH0gZnJvbSAnLi4vcGFnaW5hdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBCYXRjaGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogQ3JlYXRlcyBhbmQgZXhlY3V0ZXMgYSBiYXRjaCBmcm9tIGFuIHVwbG9hZGVkIGZpbGUgb2YgcmVxdWVzdHNcbiAgICovXG4gIGNyZWF0ZShib2R5OiBCYXRjaENyZWF0ZVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8QmF0Y2g+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9iYXRjaGVzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIGJhdGNoLlxuICAgKi9cbiAgcmV0cmlldmUoYmF0Y2hJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxCYXRjaD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvYmF0Y2hlcy8ke2JhdGNoSWR9YCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdCB5b3VyIG9yZ2FuaXphdGlvbidzIGJhdGNoZXMuXG4gICAqL1xuICBsaXN0KHF1ZXJ5PzogQmF0Y2hMaXN0UGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8QmF0Y2hlc1BhZ2UsIEJhdGNoPjtcbiAgbGlzdChvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8QmF0Y2hlc1BhZ2UsIEJhdGNoPjtcbiAgbGlzdChcbiAgICBxdWVyeTogQmF0Y2hMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEJhdGNoZXNQYWdlLCBCYXRjaD4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9iYXRjaGVzJywgQmF0Y2hlc1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyBhbiBpbi1wcm9ncmVzcyBiYXRjaC4gVGhlIGJhdGNoIHdpbGwgYmUgaW4gc3RhdHVzIGBjYW5jZWxsaW5nYCBmb3IgdXAgdG9cbiAgICogMTAgbWludXRlcywgYmVmb3JlIGNoYW5naW5nIHRvIGBjYW5jZWxsZWRgLCB3aGVyZSBpdCB3aWxsIGhhdmUgcGFydGlhbCByZXN1bHRzXG4gICAqIChpZiBhbnkpIGF2YWlsYWJsZSBpbiB0aGUgb3V0cHV0IGZpbGUuXG4gICAqL1xuICBjYW5jZWwoYmF0Y2hJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxCYXRjaD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL2JhdGNoZXMvJHtiYXRjaElkfS9jYW5jZWxgLCBvcHRpb25zKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmF0Y2hlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlPEJhdGNoPiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoIHtcbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHRpbWUgZnJhbWUgd2l0aGluIHdoaWNoIHRoZSBiYXRjaCBzaG91bGQgYmUgcHJvY2Vzc2VkLlxuICAgKi9cbiAgY29tcGxldGlvbl93aW5kb3c6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgYmF0Y2ggd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBPcGVuQUkgQVBJIGVuZHBvaW50IHVzZWQgYnkgdGhlIGJhdGNoLlxuICAgKi9cbiAgZW5kcG9pbnQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBpbnB1dCBmaWxlIGZvciB0aGUgYmF0Y2guXG4gICAqL1xuICBpbnB1dF9maWxlX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGBiYXRjaGAuXG4gICAqL1xuICBvYmplY3Q6ICdiYXRjaCc7XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgYmF0Y2guXG4gICAqL1xuICBzdGF0dXM6XG4gICAgfCAndmFsaWRhdGluZydcbiAgICB8ICdmYWlsZWQnXG4gICAgfCAnaW5fcHJvZ3Jlc3MnXG4gICAgfCAnZmluYWxpemluZydcbiAgICB8ICdjb21wbGV0ZWQnXG4gICAgfCAnZXhwaXJlZCdcbiAgICB8ICdjYW5jZWxsaW5nJ1xuICAgIHwgJ2NhbmNlbGxlZCc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGJhdGNoIHdhcyBjYW5jZWxsZWQuXG4gICAqL1xuICBjYW5jZWxsZWRfYXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGJhdGNoIHN0YXJ0ZWQgY2FuY2VsbGluZy5cbiAgICovXG4gIGNhbmNlbGxpbmdfYXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGJhdGNoIHdhcyBjb21wbGV0ZWQuXG4gICAqL1xuICBjb21wbGV0ZWRfYXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZmlsZSBjb250YWluaW5nIHRoZSBvdXRwdXRzIG9mIHJlcXVlc3RzIHdpdGggZXJyb3JzLlxuICAgKi9cbiAgZXJyb3JfZmlsZV9pZD86IHN0cmluZztcblxuICBlcnJvcnM/OiBCYXRjaC5FcnJvcnM7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGJhdGNoIGV4cGlyZWQuXG4gICAqL1xuICBleHBpcmVkX2F0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBiYXRjaCB3aWxsIGV4cGlyZS5cbiAgICovXG4gIGV4cGlyZXNfYXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGJhdGNoIGZhaWxlZC5cbiAgICovXG4gIGZhaWxlZF9hdD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgYmF0Y2ggc3RhcnRlZCBmaW5hbGl6aW5nLlxuICAgKi9cbiAgZmluYWxpemluZ19hdD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgYmF0Y2ggc3RhcnRlZCBwcm9jZXNzaW5nLlxuICAgKi9cbiAgaW5fcHJvZ3Jlc3NfYXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZmlsZSBjb250YWluaW5nIHRoZSBvdXRwdXRzIG9mIHN1Y2Nlc3NmdWxseSBleGVjdXRlZCByZXF1ZXN0cy5cbiAgICovXG4gIG91dHB1dF9maWxlX2lkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVxdWVzdCBjb3VudHMgZm9yIGRpZmZlcmVudCBzdGF0dXNlcyB3aXRoaW4gdGhlIGJhdGNoLlxuICAgKi9cbiAgcmVxdWVzdF9jb3VudHM/OiBCYXRjaFJlcXVlc3RDb3VudHM7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQmF0Y2gge1xuICBleHBvcnQgaW50ZXJmYWNlIEVycm9ycyB7XG4gICAgZGF0YT86IEFycmF5PEJhdGNoZXNBUEkuQmF0Y2hFcnJvcj47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgbGlzdGAuXG4gICAgICovXG4gICAgb2JqZWN0Pzogc3RyaW5nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmF0Y2hFcnJvciB7XG4gIC8qKlxuICAgKiBBbiBlcnJvciBjb2RlIGlkZW50aWZ5aW5nIHRoZSBlcnJvciB0eXBlLlxuICAgKi9cbiAgY29kZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGxpbmUgbnVtYmVyIG9mIHRoZSBpbnB1dCBmaWxlIHdoZXJlIHRoZSBlcnJvciBvY2N1cnJlZCwgaWYgYXBwbGljYWJsZS5cbiAgICovXG4gIGxpbmU/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIGh1bWFuLXJlYWRhYmxlIG1lc3NhZ2UgcHJvdmlkaW5nIG1vcmUgZGV0YWlscyBhYm91dCB0aGUgZXJyb3IuXG4gICAqL1xuICBtZXNzYWdlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgcGFyYW1ldGVyIHRoYXQgY2F1c2VkIHRoZSBlcnJvciwgaWYgYXBwbGljYWJsZS5cbiAgICovXG4gIHBhcmFtPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBUaGUgcmVxdWVzdCBjb3VudHMgZm9yIGRpZmZlcmVudCBzdGF0dXNlcyB3aXRoaW4gdGhlIGJhdGNoLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoUmVxdWVzdENvdW50cyB7XG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgcmVxdWVzdHMgdGhhdCBoYXZlIGJlZW4gY29tcGxldGVkIHN1Y2Nlc3NmdWxseS5cbiAgICovXG4gIGNvbXBsZXRlZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgcmVxdWVzdHMgdGhhdCBoYXZlIGZhaWxlZC5cbiAgICovXG4gIGZhaWxlZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUb3RhbCBudW1iZXIgb2YgcmVxdWVzdHMgaW4gdGhlIGJhdGNoLlxuICAgKi9cbiAgdG90YWw6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCYXRjaENyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgdGltZSBmcmFtZSB3aXRoaW4gd2hpY2ggdGhlIGJhdGNoIHNob3VsZCBiZSBwcm9jZXNzZWQuIEN1cnJlbnRseSBvbmx5IGAyNGhgXG4gICAqIGlzIHN1cHBvcnRlZC5cbiAgICovXG4gIGNvbXBsZXRpb25fd2luZG93OiAnMjRoJztcblxuICAvKipcbiAgICogVGhlIGVuZHBvaW50IHRvIGJlIHVzZWQgZm9yIGFsbCByZXF1ZXN0cyBpbiB0aGUgYmF0Y2guIEN1cnJlbnRseVxuICAgKiBgL3YxL3Jlc3BvbnNlc2AsIGAvdjEvY2hhdC9jb21wbGV0aW9uc2AsIGAvdjEvZW1iZWRkaW5nc2AsIGFuZCBgL3YxL2NvbXBsZXRpb25zYFxuICAgKiBhcmUgc3VwcG9ydGVkLiBOb3RlIHRoYXQgYC92MS9lbWJlZGRpbmdzYCBiYXRjaGVzIGFyZSBhbHNvIHJlc3RyaWN0ZWQgdG8gYVxuICAgKiBtYXhpbXVtIG9mIDUwLDAwMCBlbWJlZGRpbmcgaW5wdXRzIGFjcm9zcyBhbGwgcmVxdWVzdHMgaW4gdGhlIGJhdGNoLlxuICAgKi9cbiAgZW5kcG9pbnQ6ICcvdjEvcmVzcG9uc2VzJyB8ICcvdjEvY2hhdC9jb21wbGV0aW9ucycgfCAnL3YxL2VtYmVkZGluZ3MnIHwgJy92MS9jb21wbGV0aW9ucyc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiBhbiB1cGxvYWRlZCBmaWxlIHRoYXQgY29udGFpbnMgcmVxdWVzdHMgZm9yIHRoZSBuZXcgYmF0Y2guXG4gICAqXG4gICAqIFNlZSBbdXBsb2FkIGZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvY3JlYXRlKVxuICAgKiBmb3IgaG93IHRvIHVwbG9hZCBhIGZpbGUuXG4gICAqXG4gICAqIFlvdXIgaW5wdXQgZmlsZSBtdXN0IGJlIGZvcm1hdHRlZCBhcyBhXG4gICAqIFtKU09OTCBmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2JhdGNoL3JlcXVlc3QtaW5wdXQpLFxuICAgKiBhbmQgbXVzdCBiZSB1cGxvYWRlZCB3aXRoIHRoZSBwdXJwb3NlIGBiYXRjaGAuIFRoZSBmaWxlIGNhbiBjb250YWluIHVwIHRvIDUwLDAwMFxuICAgKiByZXF1ZXN0cywgYW5kIGNhbiBiZSB1cCB0byAyMDAgTUIgaW4gc2l6ZS5cbiAgICovXG4gIGlucHV0X2ZpbGVfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCYXRjaExpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHt9XG5cbkJhdGNoZXMuQmF0Y2hlc1BhZ2UgPSBCYXRjaGVzUGFnZTtcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIEJhdGNoZXMge1xuICBleHBvcnQge1xuICAgIHR5cGUgQmF0Y2ggYXMgQmF0Y2gsXG4gICAgdHlwZSBCYXRjaEVycm9yIGFzIEJhdGNoRXJyb3IsXG4gICAgdHlwZSBCYXRjaFJlcXVlc3RDb3VudHMgYXMgQmF0Y2hSZXF1ZXN0Q291bnRzLFxuICAgIEJhdGNoZXNQYWdlIGFzIEJhdGNoZXNQYWdlLFxuICAgIHR5cGUgQmF0Y2hDcmVhdGVQYXJhbXMgYXMgQmF0Y2hDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBCYXRjaExpc3RQYXJhbXMgYXMgQmF0Y2hMaXN0UGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tICcuLi9zaGFyZWQnO1xuaW1wb3J0ICogYXMgTWVzc2FnZXNBUEkgZnJvbSAnLi90aHJlYWRzL21lc3NhZ2VzJztcbmltcG9ydCAqIGFzIFRocmVhZHNBUEkgZnJvbSAnLi90aHJlYWRzL3RocmVhZHMnO1xuaW1wb3J0ICogYXMgUnVuc0FQSSBmcm9tICcuL3RocmVhZHMvcnVucy9ydW5zJztcbmltcG9ydCAqIGFzIFN0ZXBzQVBJIGZyb20gJy4vdGhyZWFkcy9ydW5zL3N0ZXBzJztcbmltcG9ydCB7IEN1cnNvclBhZ2UsIHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gJy4uLy4uL3BhZ2luYXRpb24nO1xuXG5leHBvcnQgY2xhc3MgQXNzaXN0YW50cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBhc3Npc3RhbnQgd2l0aCBhIG1vZGVsIGFuZCBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBjcmVhdGUoYm9keTogQXNzaXN0YW50Q3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxBc3Npc3RhbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hc3Npc3RhbnRzJywge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhbiBhc3Npc3RhbnQuXG4gICAqL1xuICByZXRyaWV2ZShhc3Npc3RhbnRJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxBc3Npc3RhbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb2RpZmllcyBhbiBhc3Npc3RhbnQuXG4gICAqL1xuICB1cGRhdGUoXG4gICAgYXNzaXN0YW50SWQ6IHN0cmluZyxcbiAgICBib2R5OiBBc3Npc3RhbnRVcGRhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxBc3Npc3RhbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9YCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGFzc2lzdGFudHMuXG4gICAqL1xuICBsaXN0KFxuICAgIHF1ZXJ5PzogQXNzaXN0YW50TGlzdFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxBc3Npc3RhbnRzUGFnZSwgQXNzaXN0YW50PjtcbiAgbGlzdChvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8QXNzaXN0YW50c1BhZ2UsIEFzc2lzdGFudD47XG4gIGxpc3QoXG4gICAgcXVlcnk6IEFzc2lzdGFudExpc3RQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8QXNzaXN0YW50c1BhZ2UsIEFzc2lzdGFudD4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9hc3Npc3RhbnRzJywgQXNzaXN0YW50c1BhZ2UsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGFuIGFzc2lzdGFudC5cbiAgICovXG4gIGRlbChhc3Npc3RhbnRJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxBc3Npc3RhbnREZWxldGVkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFzc2lzdGFudHNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZTxBc3Npc3RhbnQ+IHt9XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBgYXNzaXN0YW50YCB0aGF0IGNhbiBjYWxsIHRoZSBtb2RlbCBhbmQgdXNlIHRvb2xzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFzc2lzdGFudCB7XG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIGFzc2lzdGFudCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBhc3Npc3RhbnQuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIGluc3RydWN0aW9ucyB0aGF0IHRoZSBhc3Npc3RhbnQgdXNlcy4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDI1NiwwMDBcbiAgICogY2hhcmFjdGVycy5cbiAgICovXG4gIGluc3RydWN0aW9uczogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhOiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBZb3UgY2FuIHVzZSB0aGVcbiAgICogW0xpc3QgbW9kZWxzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21vZGVscy9saXN0KSBBUEkgdG9cbiAgICogc2VlIGFsbCBvZiB5b3VyIGF2YWlsYWJsZSBtb2RlbHMsIG9yIHNlZSBvdXJcbiAgICogW01vZGVsIG92ZXJ2aWV3XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMpIGZvciBkZXNjcmlwdGlvbnMgb2ZcbiAgICogdGhlbS5cbiAgICovXG4gIG1vZGVsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBhc3Npc3RhbnQuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyAyNTYgY2hhcmFjdGVycy5cbiAgICovXG4gIG5hbWU6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGBhc3Npc3RhbnRgLlxuICAgKi9cbiAgb2JqZWN0OiAnYXNzaXN0YW50JztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHRvb2wgZW5hYmxlZCBvbiB0aGUgYXNzaXN0YW50LiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEyOCB0b29scyBwZXJcbiAgICogYXNzaXN0YW50LiBUb29scyBjYW4gYmUgb2YgdHlwZXMgYGNvZGVfaW50ZXJwcmV0ZXJgLCBgZmlsZV9zZWFyY2hgLCBvclxuICAgKiBgZnVuY3Rpb25gLlxuICAgKi9cbiAgdG9vbHM6IEFycmF5PEFzc2lzdGFudFRvb2w+O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGZvcm1hdCB0aGF0IHRoZSBtb2RlbCBtdXN0IG91dHB1dC4gQ29tcGF0aWJsZSB3aXRoXG4gICAqIFtHUFQtNG9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscyNncHQtNG8pLFxuICAgKiBbR1BULTQgVHVyYm9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscyNncHQtNC10dXJiby1hbmQtZ3B0LTQpLFxuICAgKiBhbmQgYWxsIEdQVC0zLjUgVHVyYm8gbW9kZWxzIHNpbmNlIGBncHQtMy41LXR1cmJvLTExMDZgLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fc2NoZW1hXCIsIFwianNvbl9zY2hlbWFcIjogey4uLn0gfWAgZW5hYmxlcyBTdHJ1Y3R1cmVkXG4gICAqIE91dHB1dHMgd2hpY2ggZW5zdXJlcyB0aGUgbW9kZWwgd2lsbCBtYXRjaCB5b3VyIHN1cHBsaWVkIEpTT04gc2NoZW1hLiBMZWFybiBtb3JlXG4gICAqIGluIHRoZVxuICAgKiBbU3RydWN0dXJlZCBPdXRwdXRzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKS5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX29iamVjdFwiIH1gIGVuYWJsZXMgSlNPTiBtb2RlLCB3aGljaCBlbnN1cmVzIHRoZVxuICAgKiBtZXNzYWdlIHRoZSBtb2RlbCBnZW5lcmF0ZXMgaXMgdmFsaWQgSlNPTi5cbiAgICpcbiAgICogKipJbXBvcnRhbnQ6Kiogd2hlbiB1c2luZyBKU09OIG1vZGUsIHlvdSAqKm11c3QqKiBhbHNvIGluc3RydWN0IHRoZSBtb2RlbCB0b1xuICAgKiBwcm9kdWNlIEpTT04geW91cnNlbGYgdmlhIGEgc3lzdGVtIG9yIHVzZXIgbWVzc2FnZS4gV2l0aG91dCB0aGlzLCB0aGUgbW9kZWwgbWF5XG4gICAqIGdlbmVyYXRlIGFuIHVuZW5kaW5nIHN0cmVhbSBvZiB3aGl0ZXNwYWNlIHVudGlsIHRoZSBnZW5lcmF0aW9uIHJlYWNoZXMgdGhlIHRva2VuXG4gICAqIGxpbWl0LCByZXN1bHRpbmcgaW4gYSBsb25nLXJ1bm5pbmcgYW5kIHNlZW1pbmdseSBcInN0dWNrXCIgcmVxdWVzdC4gQWxzbyBub3RlIHRoYXRcbiAgICogdGhlIG1lc3NhZ2UgY29udGVudCBtYXkgYmUgcGFydGlhbGx5IGN1dCBvZmYgaWYgYGZpbmlzaF9yZWFzb249XCJsZW5ndGhcImAsIHdoaWNoXG4gICAqIGluZGljYXRlcyB0aGUgZ2VuZXJhdGlvbiBleGNlZWRlZCBgbWF4X3Rva2Vuc2Agb3IgdGhlIGNvbnZlcnNhdGlvbiBleGNlZWRlZCB0aGVcbiAgICogbWF4IGNvbnRleHQgbGVuZ3RoLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogVGhyZWFkc0FQSS5Bc3Npc3RhbnRSZXNwb25zZUZvcm1hdE9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFdoYXQgc2FtcGxpbmcgdGVtcGVyYXR1cmUgdG8gdXNlLCBiZXR3ZWVuIDAgYW5kIDIuIEhpZ2hlciB2YWx1ZXMgbGlrZSAwLjggd2lsbFxuICAgKiBtYWtlIHRoZSBvdXRwdXQgbW9yZSByYW5kb20sIHdoaWxlIGxvd2VyIHZhbHVlcyBsaWtlIDAuMiB3aWxsIG1ha2UgaXQgbW9yZVxuICAgKiBmb2N1c2VkIGFuZCBkZXRlcm1pbmlzdGljLlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgdXNlZCBieSB0aGUgYXNzaXN0YW50J3MgdG9vbHMuIFRoZSByZXNvdXJjZXMgYXJlXG4gICAqIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXNcbiAgICogYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmVcbiAgICogSURzLlxuICAgKi9cbiAgdG9vbF9yZXNvdXJjZXM/OiBBc3Npc3RhbnQuVG9vbFJlc291cmNlcyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIGFsdGVybmF0aXZlIHRvIHNhbXBsaW5nIHdpdGggdGVtcGVyYXR1cmUsIGNhbGxlZCBudWNsZXVzIHNhbXBsaW5nLCB3aGVyZSB0aGVcbiAgICogbW9kZWwgY29uc2lkZXJzIHRoZSByZXN1bHRzIG9mIHRoZSB0b2tlbnMgd2l0aCB0b3BfcCBwcm9iYWJpbGl0eSBtYXNzLiBTbyAwLjFcbiAgICogbWVhbnMgb25seSB0aGUgdG9rZW5zIGNvbXByaXNpbmcgdGhlIHRvcCAxMCUgcHJvYmFiaWxpdHkgbWFzcyBhcmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIHRlbXBlcmF0dXJlIGJ1dCBub3QgYm90aC5cbiAgICovXG4gIHRvcF9wPzogbnVtYmVyIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBBc3Npc3RhbnQge1xuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGFzc2lzdGFudCdzIHRvb2xzLiBUaGUgcmVzb3VyY2VzIGFyZVxuICAgKiBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzXG4gICAqIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlXG4gICAqIElEcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgY29kZV9pbnRlcnByZXRlcj86IFRvb2xSZXNvdXJjZXMuQ29kZUludGVycHJldGVyO1xuXG4gICAgZmlsZV9zZWFyY2g/OiBUb29sUmVzb3VyY2VzLkZpbGVTZWFyY2g7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgbWFkZVxuICAgICAgICogYXZhaWxhYmxlIHRvIHRoZSBgY29kZV9pbnRlcnByZXRlcmBgIHRvb2wuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMjAgZmlsZXNcbiAgICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9vbC5cbiAgICAgICAqL1xuICAgICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBJRCBvZiB0aGVcbiAgICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAgICAgKiBhdHRhY2hlZCB0byB0aGlzIGFzc2lzdGFudC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxIHZlY3RvciBzdG9yZSBhdHRhY2hlZCB0b1xuICAgICAgICogdGhlIGFzc2lzdGFudC5cbiAgICAgICAqL1xuICAgICAgdmVjdG9yX3N0b3JlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50RGVsZXRlZCB7XG4gIGlkOiBzdHJpbmc7XG5cbiAgZGVsZXRlZDogYm9vbGVhbjtcblxuICBvYmplY3Q6ICdhc3Npc3RhbnQuZGVsZXRlZCc7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBldmVudCBlbWl0dGVkIHdoZW4gc3RyZWFtaW5nIGEgUnVuLlxuICpcbiAqIEVhY2ggZXZlbnQgaW4gYSBzZXJ2ZXItc2VudCBldmVudHMgc3RyZWFtIGhhcyBhbiBgZXZlbnRgIGFuZCBgZGF0YWAgcHJvcGVydHk6XG4gKlxuICogYGBgXG4gKiBldmVudDogdGhyZWFkLmNyZWF0ZWRcbiAqIGRhdGE6IHtcImlkXCI6IFwidGhyZWFkXzEyM1wiLCBcIm9iamVjdFwiOiBcInRocmVhZFwiLCAuLi59XG4gKiBgYGBcbiAqXG4gKiBXZSBlbWl0IGV2ZW50cyB3aGVuZXZlciBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZCwgdHJhbnNpdGlvbnMgdG8gYSBuZXcgc3RhdGUsIG9yXG4gKiBpcyBiZWluZyBzdHJlYW1lZCBpbiBwYXJ0cyAoZGVsdGFzKS4gRm9yIGV4YW1wbGUsIHdlIGVtaXQgYHRocmVhZC5ydW4uY3JlYXRlZGBcbiAqIHdoZW4gYSBuZXcgcnVuIGlzIGNyZWF0ZWQsIGB0aHJlYWQucnVuLmNvbXBsZXRlZGAgd2hlbiBhIHJ1biBjb21wbGV0ZXMsIGFuZCBzb1xuICogb24uIFdoZW4gYW4gQXNzaXN0YW50IGNob29zZXMgdG8gY3JlYXRlIGEgbWVzc2FnZSBkdXJpbmcgYSBydW4sIHdlIGVtaXQgYVxuICogYHRocmVhZC5tZXNzYWdlLmNyZWF0ZWQgZXZlbnRgLCBhIGB0aHJlYWQubWVzc2FnZS5pbl9wcm9ncmVzc2AgZXZlbnQsIG1hbnlcbiAqIGB0aHJlYWQubWVzc2FnZS5kZWx0YWAgZXZlbnRzLCBhbmQgZmluYWxseSBhIGB0aHJlYWQubWVzc2FnZS5jb21wbGV0ZWRgIGV2ZW50LlxuICpcbiAqIFdlIG1heSBhZGQgYWRkaXRpb25hbCBldmVudHMgb3ZlciB0aW1lLCBzbyB3ZSByZWNvbW1lbmQgaGFuZGxpbmcgdW5rbm93biBldmVudHNcbiAqIGdyYWNlZnVsbHkgaW4geW91ciBjb2RlLiBTZWUgdGhlXG4gKiBbQXNzaXN0YW50cyBBUEkgcXVpY2tzdGFydF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy9vdmVydmlldylcbiAqIHRvIGxlYXJuIGhvdyB0byBpbnRlZ3JhdGUgdGhlIEFzc2lzdGFudHMgQVBJIHdpdGggc3RyZWFtaW5nLlxuICovXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRTdHJlYW1FdmVudCA9XG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkQ3JlYXRlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1bkNyZWF0ZWRcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5RdWV1ZWRcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5JblByb2dyZXNzXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuUmVxdWlyZXNBY3Rpb25cbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5Db21wbGV0ZWRcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5JbmNvbXBsZXRlXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuRmFpbGVkXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuQ2FuY2VsbGluZ1xuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1bkNhbmNlbGxlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1bkV4cGlyZWRcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5TdGVwQ3JlYXRlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1blN0ZXBJblByb2dyZXNzXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcERlbHRhXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcENvbXBsZXRlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZFJ1blN0ZXBGYWlsZWRcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRSdW5TdGVwQ2FuY2VsbGVkXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcEV4cGlyZWRcbiAgfCBBc3Npc3RhbnRTdHJlYW1FdmVudC5UaHJlYWRNZXNzYWdlQ3JlYXRlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZE1lc3NhZ2VJblByb2dyZXNzXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkTWVzc2FnZURlbHRhXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuVGhyZWFkTWVzc2FnZUNvbXBsZXRlZFxuICB8IEFzc2lzdGFudFN0cmVhbUV2ZW50LlRocmVhZE1lc3NhZ2VJbmNvbXBsZXRlXG4gIHwgQXNzaXN0YW50U3RyZWFtRXZlbnQuRXJyb3JFdmVudDtcblxuZXhwb3J0IG5hbWVzcGFjZSBBc3Npc3RhbnRTdHJlYW1FdmVudCB7XG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIG5ld1xuICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMvb2JqZWN0KSBpc1xuICAgKiBjcmVhdGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRDcmVhdGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgdGhyZWFkIHRoYXQgY29udGFpbnNcbiAgICAgKiBbbWVzc2FnZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMpLlxuICAgICAqL1xuICAgIGRhdGE6IFRocmVhZHNBUEkuVGhyZWFkO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQuY3JlYXRlZCc7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGVuYWJsZSBpbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uLlxuICAgICAqL1xuICAgIGVuYWJsZWQ/OiBib29sZWFuO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgbmV3XG4gICAqIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpIGlzIGNyZWF0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkNyZWF0ZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5jcmVhdGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIG1vdmVzIHRvIGEgYHF1ZXVlZGAgc3RhdHVzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5RdWV1ZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5xdWV1ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogbW92ZXMgdG8gYW4gYGluX3Byb2dyZXNzYCBzdGF0dXMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkluUHJvZ3Jlc3Mge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5pbl9wcm9ncmVzcyc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBtb3ZlcyB0byBhIGByZXF1aXJlc19hY3Rpb25gIHN0YXR1cy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuUmVxdWlyZXNBY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5yZXF1aXJlc19hY3Rpb24nO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogaXMgY29tcGxldGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5Db21wbGV0ZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5jb21wbGV0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogZW5kcyB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkluY29tcGxldGUge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5pbmNvbXBsZXRlJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIGZhaWxzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5GYWlsZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5mYWlsZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogbW92ZXMgdG8gYSBgY2FuY2VsbGluZ2Agc3RhdHVzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5DYW5jZWxsaW5nIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uY2FuY2VsbGluZyc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBpcyBjYW5jZWxsZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkNhbmNlbGxlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmNhbmNlbGxlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBleHBpcmVzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5FeHBpcmVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uZXhwaXJlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbcnVuIHN0ZXBdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVuLXN0ZXBzL3N0ZXAtb2JqZWN0KVxuICAgKiBpcyBjcmVhdGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5TdGVwQ3JlYXRlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHN0ZXAgaW4gZXhlY3V0aW9uIG9mIGEgcnVuLlxuICAgICAqL1xuICAgIGRhdGE6IFN0ZXBzQVBJLlJ1blN0ZXA7XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uc3RlcC5jcmVhdGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gICAqIG1vdmVzIHRvIGFuIGBpbl9wcm9ncmVzc2Agc3RhdGUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blN0ZXBJblByb2dyZXNzIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgc3RlcCBpbiBleGVjdXRpb24gb2YgYSBydW4uXG4gICAgICovXG4gICAgZGF0YTogU3RlcHNBUEkuUnVuU3RlcDtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5zdGVwLmluX3Byb2dyZXNzJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBwYXJ0cyBvZiBhXG4gICAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gICAqIGFyZSBiZWluZyBzdHJlYW1lZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcERlbHRhIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgcnVuIHN0ZXAgZGVsdGEgaS5lLiBhbnkgY2hhbmdlZCBmaWVsZHMgb24gYSBydW4gc3RlcCBkdXJpbmdcbiAgICAgKiBzdHJlYW1pbmcuXG4gICAgICovXG4gICAgZGF0YTogU3RlcHNBUEkuUnVuU3RlcERlbHRhRXZlbnQ7XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uc3RlcC5kZWx0YSc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbcnVuIHN0ZXBdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVuLXN0ZXBzL3N0ZXAtb2JqZWN0KVxuICAgKiBpcyBjb21wbGV0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blN0ZXBDb21wbGV0ZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBzdGVwIGluIGV4ZWN1dGlvbiBvZiBhIHJ1bi5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnN0ZXAuY29tcGxldGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gICAqIGZhaWxzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5TdGVwRmFpbGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgc3RlcCBpbiBleGVjdXRpb24gb2YgYSBydW4uXG4gICAgICovXG4gICAgZGF0YTogU3RlcHNBUEkuUnVuU3RlcDtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5zdGVwLmZhaWxlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbcnVuIHN0ZXBdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVuLXN0ZXBzL3N0ZXAtb2JqZWN0KVxuICAgKiBpcyBjYW5jZWxsZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blN0ZXBDYW5jZWxsZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBzdGVwIGluIGV4ZWN1dGlvbiBvZiBhIHJ1bi5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnN0ZXAuY2FuY2VsbGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gICAqIGV4cGlyZXMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blN0ZXBFeHBpcmVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgc3RlcCBpbiBleGVjdXRpb24gb2YgYSBydW4uXG4gICAgICovXG4gICAgZGF0YTogU3RlcHNBUEkuUnVuU3RlcDtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5zdGVwLmV4cGlyZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW21lc3NhZ2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMvb2JqZWN0KSBpc1xuICAgKiBjcmVhdGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRNZXNzYWdlQ3JlYXRlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIG1lc3NhZ2Ugd2l0aGluIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IE1lc3NhZ2VzQVBJLk1lc3NhZ2U7XG5cbiAgICBldmVudDogJ3RocmVhZC5tZXNzYWdlLmNyZWF0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW21lc3NhZ2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMvb2JqZWN0KSBtb3Zlc1xuICAgKiB0byBhbiBgaW5fcHJvZ3Jlc3NgIHN0YXRlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRNZXNzYWdlSW5Qcm9ncmVzcyB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIG1lc3NhZ2Ugd2l0aGluIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IE1lc3NhZ2VzQVBJLk1lc3NhZ2U7XG5cbiAgICBldmVudDogJ3RocmVhZC5tZXNzYWdlLmluX3Byb2dyZXNzJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBwYXJ0cyBvZiBhXG4gICAqIFtNZXNzYWdlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzL29iamVjdCkgYXJlXG4gICAqIGJlaW5nIHN0cmVhbWVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRNZXNzYWdlRGVsdGEge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBtZXNzYWdlIGRlbHRhIGkuZS4gYW55IGNoYW5nZWQgZmllbGRzIG9uIGEgbWVzc2FnZSBkdXJpbmdcbiAgICAgKiBzdHJlYW1pbmcuXG4gICAgICovXG4gICAgZGF0YTogTWVzc2FnZXNBUEkuTWVzc2FnZURlbHRhRXZlbnQ7XG5cbiAgICBldmVudDogJ3RocmVhZC5tZXNzYWdlLmRlbHRhJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFttZXNzYWdlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzL29iamVjdCkgaXNcbiAgICogY29tcGxldGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRNZXNzYWdlQ29tcGxldGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgbWVzc2FnZSB3aXRoaW4gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogTWVzc2FnZXNBUEkuTWVzc2FnZTtcblxuICAgIGV2ZW50OiAndGhyZWFkLm1lc3NhZ2UuY29tcGxldGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFttZXNzYWdlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzL29iamVjdCkgZW5kc1xuICAgKiBiZWZvcmUgaXQgaXMgY29tcGxldGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRNZXNzYWdlSW5jb21wbGV0ZSB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIG1lc3NhZ2Ugd2l0aGluIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IE1lc3NhZ2VzQVBJLk1lc3NhZ2U7XG5cbiAgICBldmVudDogJ3RocmVhZC5tZXNzYWdlLmluY29tcGxldGUnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFuXG4gICAqIFtlcnJvcl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2Vycm9yLWNvZGVzI2FwaS1lcnJvcnMpIG9jY3Vycy5cbiAgICogVGhpcyBjYW4gaGFwcGVuIGR1ZSB0byBhbiBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3Igb3IgYSB0aW1lb3V0LlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBFcnJvckV2ZW50IHtcbiAgICBkYXRhOiBTaGFyZWQuRXJyb3JPYmplY3Q7XG5cbiAgICBldmVudDogJ2Vycm9yJztcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRUb29sID0gQ29kZUludGVycHJldGVyVG9vbCB8IEZpbGVTZWFyY2hUb29sIHwgRnVuY3Rpb25Ub29sO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlclRvb2wge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdG9vbCBiZWluZyBkZWZpbmVkOiBgY29kZV9pbnRlcnByZXRlcmBcbiAgICovXG4gIHR5cGU6ICdjb2RlX2ludGVycHJldGVyJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoVG9vbCB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBmaWxlX3NlYXJjaGBcbiAgICovXG4gIHR5cGU6ICdmaWxlX3NlYXJjaCc7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyBmb3IgdGhlIGZpbGUgc2VhcmNoIHRvb2wuXG4gICAqL1xuICBmaWxlX3NlYXJjaD86IEZpbGVTZWFyY2hUb29sLkZpbGVTZWFyY2g7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgRmlsZVNlYXJjaFRvb2wge1xuICAvKipcbiAgICogT3ZlcnJpZGVzIGZvciB0aGUgZmlsZSBzZWFyY2ggdG9vbC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc3VsdHMgdGhlIGZpbGUgc2VhcmNoIHRvb2wgc2hvdWxkIG91dHB1dC4gVGhlIGRlZmF1bHQgaXNcbiAgICAgKiAyMCBmb3IgYGdwdC00KmAgbW9kZWxzIGFuZCA1IGZvciBgZ3B0LTMuNS10dXJib2AuIFRoaXMgbnVtYmVyIHNob3VsZCBiZSBiZXR3ZWVuXG4gICAgICogMSBhbmQgNTAgaW5jbHVzaXZlLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoZSBmaWxlIHNlYXJjaCB0b29sIG1heSBvdXRwdXQgZmV3ZXIgdGhhbiBgbWF4X251bV9yZXN1bHRzYCByZXN1bHRzLlxuICAgICAqIFNlZSB0aGVcbiAgICAgKiBbZmlsZSBzZWFyY2ggdG9vbCBkb2N1bWVudGF0aW9uXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL3Rvb2xzL2ZpbGUtc2VhcmNoI2N1c3RvbWl6aW5nLWZpbGUtc2VhcmNoLXNldHRpbmdzKVxuICAgICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIG1heF9udW1fcmVzdWx0cz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSByYW5raW5nIG9wdGlvbnMgZm9yIHRoZSBmaWxlIHNlYXJjaC4gSWYgbm90IHNwZWNpZmllZCwgdGhlIGZpbGUgc2VhcmNoIHRvb2xcbiAgICAgKiB3aWxsIHVzZSB0aGUgYGF1dG9gIHJhbmtlciBhbmQgYSBzY29yZV90aHJlc2hvbGQgb2YgMC5cbiAgICAgKlxuICAgICAqIFNlZSB0aGVcbiAgICAgKiBbZmlsZSBzZWFyY2ggdG9vbCBkb2N1bWVudGF0aW9uXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL3Rvb2xzL2ZpbGUtc2VhcmNoI2N1c3RvbWl6aW5nLWZpbGUtc2VhcmNoLXNldHRpbmdzKVxuICAgICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIHJhbmtpbmdfb3B0aW9ucz86IEZpbGVTZWFyY2guUmFua2luZ09wdGlvbnM7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIEZpbGVTZWFyY2gge1xuICAgIC8qKlxuICAgICAqIFRoZSByYW5raW5nIG9wdGlvbnMgZm9yIHRoZSBmaWxlIHNlYXJjaC4gSWYgbm90IHNwZWNpZmllZCwgdGhlIGZpbGUgc2VhcmNoIHRvb2xcbiAgICAgKiB3aWxsIHVzZSB0aGUgYGF1dG9gIHJhbmtlciBhbmQgYSBzY29yZV90aHJlc2hvbGQgb2YgMC5cbiAgICAgKlxuICAgICAqIFNlZSB0aGVcbiAgICAgKiBbZmlsZSBzZWFyY2ggdG9vbCBkb2N1bWVudGF0aW9uXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL3Rvb2xzL2ZpbGUtc2VhcmNoI2N1c3RvbWl6aW5nLWZpbGUtc2VhcmNoLXNldHRpbmdzKVxuICAgICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgUmFua2luZ09wdGlvbnMge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgc2NvcmUgdGhyZXNob2xkIGZvciB0aGUgZmlsZSBzZWFyY2guIEFsbCB2YWx1ZXMgbXVzdCBiZSBhIGZsb2F0aW5nIHBvaW50XG4gICAgICAgKiBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxuICAgICAgICovXG4gICAgICBzY29yZV90aHJlc2hvbGQ6IG51bWJlcjtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgcmFua2VyIHRvIHVzZSBmb3IgdGhlIGZpbGUgc2VhcmNoLiBJZiBub3Qgc3BlY2lmaWVkIHdpbGwgdXNlIHRoZSBgYXV0b2BcbiAgICAgICAqIHJhbmtlci5cbiAgICAgICAqL1xuICAgICAgcmFua2VyPzogJ2F1dG8nIHwgJ2RlZmF1bHRfMjAyNF8wOF8yMSc7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25Ub29sIHtcbiAgZnVuY3Rpb246IFNoYXJlZC5GdW5jdGlvbkRlZmluaXRpb247XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYGZ1bmN0aW9uYFxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uJztcbn1cblxuLyoqXG4gKiBPY2N1cnMgd2hlbiBhXG4gKiBbbWVzc2FnZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcy9vYmplY3QpIGlzXG4gKiBjcmVhdGVkLlxuICovXG5leHBvcnQgdHlwZSBNZXNzYWdlU3RyZWFtRXZlbnQgPVxuICB8IE1lc3NhZ2VTdHJlYW1FdmVudC5UaHJlYWRNZXNzYWdlQ3JlYXRlZFxuICB8IE1lc3NhZ2VTdHJlYW1FdmVudC5UaHJlYWRNZXNzYWdlSW5Qcm9ncmVzc1xuICB8IE1lc3NhZ2VTdHJlYW1FdmVudC5UaHJlYWRNZXNzYWdlRGVsdGFcbiAgfCBNZXNzYWdlU3RyZWFtRXZlbnQuVGhyZWFkTWVzc2FnZUNvbXBsZXRlZFxuICB8IE1lc3NhZ2VTdHJlYW1FdmVudC5UaHJlYWRNZXNzYWdlSW5jb21wbGV0ZTtcblxuZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlU3RyZWFtRXZlbnQge1xuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbbWVzc2FnZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcy9vYmplY3QpIGlzXG4gICAqIGNyZWF0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VDcmVhdGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgbWVzc2FnZSB3aXRoaW4gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogTWVzc2FnZXNBUEkuTWVzc2FnZTtcblxuICAgIGV2ZW50OiAndGhyZWFkLm1lc3NhZ2UuY3JlYXRlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYVxuICAgKiBbbWVzc2FnZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcy9vYmplY3QpIG1vdmVzXG4gICAqIHRvIGFuIGBpbl9wcm9ncmVzc2Agc3RhdGUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VJblByb2dyZXNzIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgbWVzc2FnZSB3aXRoaW4gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogTWVzc2FnZXNBUEkuTWVzc2FnZTtcblxuICAgIGV2ZW50OiAndGhyZWFkLm1lc3NhZ2UuaW5fcHJvZ3Jlc3MnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIHBhcnRzIG9mIGFcbiAgICogW01lc3NhZ2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMvb2JqZWN0KSBhcmVcbiAgICogYmVpbmcgc3RyZWFtZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VEZWx0YSB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIG1lc3NhZ2UgZGVsdGEgaS5lLiBhbnkgY2hhbmdlZCBmaWVsZHMgb24gYSBtZXNzYWdlIGR1cmluZ1xuICAgICAqIHN0cmVhbWluZy5cbiAgICAgKi9cbiAgICBkYXRhOiBNZXNzYWdlc0FQSS5NZXNzYWdlRGVsdGFFdmVudDtcblxuICAgIGV2ZW50OiAndGhyZWFkLm1lc3NhZ2UuZGVsdGEnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW21lc3NhZ2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMvb2JqZWN0KSBpc1xuICAgKiBjb21wbGV0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VDb21wbGV0ZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBtZXNzYWdlIHdpdGhpbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBNZXNzYWdlc0FQSS5NZXNzYWdlO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQubWVzc2FnZS5jb21wbGV0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW21lc3NhZ2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMvb2JqZWN0KSBlbmRzXG4gICAqIGJlZm9yZSBpdCBpcyBjb21wbGV0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZE1lc3NhZ2VJbmNvbXBsZXRlIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgbWVzc2FnZSB3aXRoaW4gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogTWVzc2FnZXNBUEkuTWVzc2FnZTtcblxuICAgIGV2ZW50OiAndGhyZWFkLm1lc3NhZ2UuaW5jb21wbGV0ZSc7XG4gIH1cbn1cblxuLyoqXG4gKiBPY2N1cnMgd2hlbiBhXG4gKiBbcnVuIHN0ZXBdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVuLXN0ZXBzL3N0ZXAtb2JqZWN0KVxuICogaXMgY3JlYXRlZC5cbiAqL1xuZXhwb3J0IHR5cGUgUnVuU3RlcFN0cmVhbUV2ZW50ID1cbiAgfCBSdW5TdGVwU3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcENyZWF0ZWRcbiAgfCBSdW5TdGVwU3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcEluUHJvZ3Jlc3NcbiAgfCBSdW5TdGVwU3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcERlbHRhXG4gIHwgUnVuU3RlcFN0cmVhbUV2ZW50LlRocmVhZFJ1blN0ZXBDb21wbGV0ZWRcbiAgfCBSdW5TdGVwU3RyZWFtRXZlbnQuVGhyZWFkUnVuU3RlcEZhaWxlZFxuICB8IFJ1blN0ZXBTdHJlYW1FdmVudC5UaHJlYWRSdW5TdGVwQ2FuY2VsbGVkXG4gIHwgUnVuU3RlcFN0cmVhbUV2ZW50LlRocmVhZFJ1blN0ZXBFeHBpcmVkO1xuXG5leHBvcnQgbmFtZXNwYWNlIFJ1blN0ZXBTdHJlYW1FdmVudCB7XG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gICAqIGlzIGNyZWF0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blN0ZXBDcmVhdGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgc3RlcCBpbiBleGVjdXRpb24gb2YgYSBydW4uXG4gICAgICovXG4gICAgZGF0YTogU3RlcHNBUEkuUnVuU3RlcDtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5zdGVwLmNyZWF0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogbW92ZXMgdG8gYW4gYGluX3Byb2dyZXNzYCBzdGF0ZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcEluUHJvZ3Jlc3Mge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBzdGVwIGluIGV4ZWN1dGlvbiBvZiBhIHJ1bi5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnN0ZXAuaW5fcHJvZ3Jlc3MnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIHBhcnRzIG9mIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogYXJlIGJlaW5nIHN0cmVhbWVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5TdGVwRGVsdGEge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBydW4gc3RlcCBkZWx0YSBpLmUuIGFueSBjaGFuZ2VkIGZpZWxkcyBvbiBhIHJ1biBzdGVwIGR1cmluZ1xuICAgICAqIHN0cmVhbWluZy5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwRGVsdGFFdmVudDtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5zdGVwLmRlbHRhJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gICAqIGlzIGNvbXBsZXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcENvbXBsZXRlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHN0ZXAgaW4gZXhlY3V0aW9uIG9mIGEgcnVuLlxuICAgICAqL1xuICAgIGRhdGE6IFN0ZXBzQVBJLlJ1blN0ZXA7XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uc3RlcC5jb21wbGV0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogZmFpbHMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blN0ZXBGYWlsZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBzdGVwIGluIGV4ZWN1dGlvbiBvZiBhIHJ1bi5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnN0ZXAuZmFpbGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhXG4gICAqIFtydW4gc3RlcF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW4tc3RlcHMvc3RlcC1vYmplY3QpXG4gICAqIGlzIGNhbmNlbGxlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcENhbmNlbGxlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHN0ZXAgaW4gZXhlY3V0aW9uIG9mIGEgcnVuLlxuICAgICAqL1xuICAgIGRhdGE6IFN0ZXBzQVBJLlJ1blN0ZXA7XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uc3RlcC5jYW5jZWxsZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGFcbiAgICogW3J1biBzdGVwXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bi1zdGVwcy9zdGVwLW9iamVjdClcbiAgICogZXhwaXJlcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuU3RlcEV4cGlyZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBzdGVwIGluIGV4ZWN1dGlvbiBvZiBhIHJ1bi5cbiAgICAgKi9cbiAgICBkYXRhOiBTdGVwc0FQSS5SdW5TdGVwO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnN0ZXAuZXhwaXJlZCc7XG4gIH1cbn1cblxuLyoqXG4gKiBPY2N1cnMgd2hlbiBhIG5ld1xuICogW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdCkgaXMgY3JlYXRlZC5cbiAqL1xuZXhwb3J0IHR5cGUgUnVuU3RyZWFtRXZlbnQgPVxuICB8IFJ1blN0cmVhbUV2ZW50LlRocmVhZFJ1bkNyZWF0ZWRcbiAgfCBSdW5TdHJlYW1FdmVudC5UaHJlYWRSdW5RdWV1ZWRcbiAgfCBSdW5TdHJlYW1FdmVudC5UaHJlYWRSdW5JblByb2dyZXNzXG4gIHwgUnVuU3RyZWFtRXZlbnQuVGhyZWFkUnVuUmVxdWlyZXNBY3Rpb25cbiAgfCBSdW5TdHJlYW1FdmVudC5UaHJlYWRSdW5Db21wbGV0ZWRcbiAgfCBSdW5TdHJlYW1FdmVudC5UaHJlYWRSdW5JbmNvbXBsZXRlXG4gIHwgUnVuU3RyZWFtRXZlbnQuVGhyZWFkUnVuRmFpbGVkXG4gIHwgUnVuU3RyZWFtRXZlbnQuVGhyZWFkUnVuQ2FuY2VsbGluZ1xuICB8IFJ1blN0cmVhbUV2ZW50LlRocmVhZFJ1bkNhbmNlbGxlZFxuICB8IFJ1blN0cmVhbUV2ZW50LlRocmVhZFJ1bkV4cGlyZWQ7XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuU3RyZWFtRXZlbnQge1xuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBuZXdcbiAgICogW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdCkgaXMgY3JlYXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuQ3JlYXRlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmNyZWF0ZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogbW92ZXMgdG8gYSBgcXVldWVkYCBzdGF0dXMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1blF1ZXVlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnF1ZXVlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBtb3ZlcyB0byBhbiBgaW5fcHJvZ3Jlc3NgIHN0YXR1cy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuSW5Qcm9ncmVzcyB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmluX3Byb2dyZXNzJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIG1vdmVzIHRvIGEgYHJlcXVpcmVzX2FjdGlvbmAgc3RhdHVzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUaHJlYWRSdW5SZXF1aXJlc0FjdGlvbiB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLnJlcXVpcmVzX2FjdGlvbic7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBpcyBjb21wbGV0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkNvbXBsZXRlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmNvbXBsZXRlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBlbmRzIHdpdGggc3RhdHVzIGBpbmNvbXBsZXRlYC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuSW5jb21wbGV0ZSB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmluY29tcGxldGUnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9jY3VycyB3aGVuIGEgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zL29iamVjdClcbiAgICogZmFpbHMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkZhaWxlZCB7XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAgICAgKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICAgICAqL1xuICAgIGRhdGE6IFJ1bnNBUEkuUnVuO1xuXG4gICAgZXZlbnQ6ICd0aHJlYWQucnVuLmZhaWxlZCc7XG4gIH1cblxuICAvKipcbiAgICogT2NjdXJzIHdoZW4gYSBbcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvb2JqZWN0KVxuICAgKiBtb3ZlcyB0byBhIGBjYW5jZWxsaW5nYCBzdGF0dXMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkNhbmNlbGxpbmcge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5jYW5jZWxsaW5nJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIGlzIGNhbmNlbGxlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkUnVuQ2FuY2VsbGVkIHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiBydW4gb24gYVxuICAgICAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gICAgICovXG4gICAgZGF0YTogUnVuc0FQSS5SdW47XG5cbiAgICBldmVudDogJ3RocmVhZC5ydW4uY2FuY2VsbGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPY2N1cnMgd2hlbiBhIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9vYmplY3QpXG4gICAqIGV4cGlyZXMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZFJ1bkV4cGlyZWQge1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYW4gZXhlY3V0aW9uIHJ1biBvbiBhXG4gICAgICogW3RocmVhZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS90aHJlYWRzKS5cbiAgICAgKi9cbiAgICBkYXRhOiBSdW5zQVBJLlJ1bjtcblxuICAgIGV2ZW50OiAndGhyZWFkLnJ1bi5leHBpcmVkJztcbiAgfVxufVxuXG4vKipcbiAqIE9jY3VycyB3aGVuIGEgbmV3XG4gKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMvb2JqZWN0KSBpc1xuICogY3JlYXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaHJlYWRTdHJlYW1FdmVudCB7XG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIGEgdGhyZWFkIHRoYXQgY29udGFpbnNcbiAgICogW21lc3NhZ2VzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzKS5cbiAgICovXG4gIGRhdGE6IFRocmVhZHNBUEkuVGhyZWFkO1xuXG4gIGV2ZW50OiAndGhyZWFkLmNyZWF0ZWQnO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZSBpbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uLlxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50Q3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIFlvdSBjYW4gdXNlIHRoZVxuICAgKiBbTGlzdCBtb2RlbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbW9kZWxzL2xpc3QpIEFQSSB0b1xuICAgKiBzZWUgYWxsIG9mIHlvdXIgYXZhaWxhYmxlIG1vZGVscywgb3Igc2VlIG91clxuICAgKiBbTW9kZWwgb3ZlcnZpZXddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscykgZm9yIGRlc2NyaXB0aW9ucyBvZlxuICAgKiB0aGVtLlxuICAgKi9cbiAgbW9kZWw6IChzdHJpbmcgJiB7fSkgfCBTaGFyZWQuQ2hhdE1vZGVsO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGFzc2lzdGFudC4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgZGVzY3JpcHRpb24/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIGluc3RydWN0aW9ucyB0aGF0IHRoZSBhc3Npc3RhbnQgdXNlcy4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDI1NiwwMDBcbiAgICogY2hhcmFjdGVycy5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBhc3Npc3RhbnQuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyAyNTYgY2hhcmFjdGVycy5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiAqKm8tc2VyaWVzIG1vZGVscyBvbmx5KipcbiAgICpcbiAgICogQ29uc3RyYWlucyBlZmZvcnQgb24gcmVhc29uaW5nIGZvclxuICAgKiBbcmVhc29uaW5nIG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3JlYXNvbmluZykuIEN1cnJlbnRseVxuICAgKiBzdXBwb3J0ZWQgdmFsdWVzIGFyZSBgbG93YCwgYG1lZGl1bWAsIGFuZCBgaGlnaGAuIFJlZHVjaW5nIHJlYXNvbmluZyBlZmZvcnQgY2FuXG4gICAqIHJlc3VsdCBpbiBmYXN0ZXIgcmVzcG9uc2VzIGFuZCBmZXdlciB0b2tlbnMgdXNlZCBvbiByZWFzb25pbmcgaW4gYSByZXNwb25zZS5cbiAgICovXG4gIHJlYXNvbmluZ19lZmZvcnQ/OiBTaGFyZWQuUmVhc29uaW5nRWZmb3J0IHwgbnVsbDtcblxuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuIENvbXBhdGlibGUgd2l0aFxuICAgKiBbR1BULTRvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjZ3B0LTRvKSxcbiAgICogW0dQVC00IFR1cmJvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjZ3B0LTQtdHVyYm8tYW5kLWdwdC00KSxcbiAgICogYW5kIGFsbCBHUFQtMy41IFR1cmJvIG1vZGVscyBzaW5jZSBgZ3B0LTMuNS10dXJiby0xMTA2YC5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX3NjaGVtYVwiLCBcImpzb25fc2NoZW1hXCI6IHsuLi59IH1gIGVuYWJsZXMgU3RydWN0dXJlZFxuICAgKiBPdXRwdXRzIHdoaWNoIGVuc3VyZXMgdGhlIG1vZGVsIHdpbGwgbWF0Y2ggeW91ciBzdXBwbGllZCBKU09OIHNjaGVtYS4gTGVhcm4gbW9yZVxuICAgKiBpbiB0aGVcbiAgICogW1N0cnVjdHVyZWQgT3V0cHV0cyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cykuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIEpTT04gbW9kZSwgd2hpY2ggZW5zdXJlcyB0aGVcbiAgICogbWVzc2FnZSB0aGUgbW9kZWwgZ2VuZXJhdGVzIGlzIHZhbGlkIEpTT04uXG4gICAqXG4gICAqICoqSW1wb3J0YW50OioqIHdoZW4gdXNpbmcgSlNPTiBtb2RlLCB5b3UgKiptdXN0KiogYWxzbyBpbnN0cnVjdCB0aGUgbW9kZWwgdG9cbiAgICogcHJvZHVjZSBKU09OIHlvdXJzZWxmIHZpYSBhIHN5c3RlbSBvciB1c2VyIG1lc3NhZ2UuIFdpdGhvdXQgdGhpcywgdGhlIG1vZGVsIG1heVxuICAgKiBnZW5lcmF0ZSBhbiB1bmVuZGluZyBzdHJlYW0gb2Ygd2hpdGVzcGFjZSB1bnRpbCB0aGUgZ2VuZXJhdGlvbiByZWFjaGVzIHRoZSB0b2tlblxuICAgKiBsaW1pdCwgcmVzdWx0aW5nIGluIGEgbG9uZy1ydW5uaW5nIGFuZCBzZWVtaW5nbHkgXCJzdHVja1wiIHJlcXVlc3QuIEFsc28gbm90ZSB0aGF0XG4gICAqIHRoZSBtZXNzYWdlIGNvbnRlbnQgbWF5IGJlIHBhcnRpYWxseSBjdXQgb2ZmIGlmIGBmaW5pc2hfcmVhc29uPVwibGVuZ3RoXCJgLCB3aGljaFxuICAgKiBpbmRpY2F0ZXMgdGhlIGdlbmVyYXRpb24gZXhjZWVkZWQgYG1heF90b2tlbnNgIG9yIHRoZSBjb252ZXJzYXRpb24gZXhjZWVkZWQgdGhlXG4gICAqIG1heCBjb250ZXh0IGxlbmd0aC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86IFRocmVhZHNBUEkuQXNzaXN0YW50UmVzcG9uc2VGb3JtYXRPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGxcbiAgICogbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmVcbiAgICogZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGFzc2lzdGFudCdzIHRvb2xzLiBUaGUgcmVzb3VyY2VzIGFyZVxuICAgKiBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzXG4gICAqIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlXG4gICAqIElEcy5cbiAgICovXG4gIHRvb2xfcmVzb3VyY2VzPzogQXNzaXN0YW50Q3JlYXRlUGFyYW1zLlRvb2xSZXNvdXJjZXMgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdG9vbCBlbmFibGVkIG9uIHRoZSBhc3Npc3RhbnQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMTI4IHRvb2xzIHBlclxuICAgKiBhc3Npc3RhbnQuIFRvb2xzIGNhbiBiZSBvZiB0eXBlcyBgY29kZV9pbnRlcnByZXRlcmAsIGBmaWxlX3NlYXJjaGAsIG9yXG4gICAqIGBmdW5jdGlvbmAuXG4gICAqL1xuICB0b29scz86IEFycmF5PEFzc2lzdGFudFRvb2w+O1xuXG4gIC8qKlxuICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBzYW1wbGluZyB3aXRoIHRlbXBlcmF0dXJlLCBjYWxsZWQgbnVjbGV1cyBzYW1wbGluZywgd2hlcmUgdGhlXG4gICAqIG1vZGVsIGNvbnNpZGVycyB0aGUgcmVzdWx0cyBvZiB0aGUgdG9rZW5zIHdpdGggdG9wX3AgcHJvYmFiaWxpdHkgbWFzcy4gU28gMC4xXG4gICAqIG1lYW5zIG9ubHkgdGhlIHRva2VucyBjb21wcmlzaW5nIHRoZSB0b3AgMTAlIHByb2JhYmlsaXR5IG1hc3MgYXJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciB0ZW1wZXJhdHVyZSBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQXNzaXN0YW50Q3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSB1c2VkIGJ5IHRoZSBhc3Npc3RhbnQncyB0b29scy4gVGhlIHJlc291cmNlcyBhcmVcbiAgICogc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlc1xuICAgKiBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZVxuICAgKiBJRHMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGNvZGVfaW50ZXJwcmV0ZXI/OiBUb29sUmVzb3VyY2VzLkNvZGVJbnRlcnByZXRlcjtcblxuICAgIGZpbGVfc2VhcmNoPzogVG9vbFJlc291cmNlcy5GaWxlU2VhcmNoO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlciB7XG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIG1hZGVcbiAgICAgICAqIGF2YWlsYWJsZSB0byB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMjAgZmlsZXNcbiAgICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9vbC5cbiAgICAgICAqL1xuICAgICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZVxuICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgYXNzaXN0YW50LiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgKiB0aGUgYXNzaXN0YW50LlxuICAgICAgICovXG4gICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAgICAgLyoqXG4gICAgICAgKiBBIGhlbHBlciB0byBjcmVhdGUgYVxuICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAqIHdpdGggZmlsZV9pZHMgYW5kIGF0dGFjaCBpdCB0byB0aGlzIGFzc2lzdGFudC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxXG4gICAgICAgKiB2ZWN0b3Igc3RvcmUgYXR0YWNoZWQgdG8gdGhlIGFzc2lzdGFudC5cbiAgICAgICAqL1xuICAgICAgdmVjdG9yX3N0b3Jlcz86IEFycmF5PEZpbGVTZWFyY2guVmVjdG9yU3RvcmU+O1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgRmlsZVNlYXJjaCB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIFZlY3RvclN0b3JlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjaHVua2luZyBzdHJhdGVneSB1c2VkIHRvIGNodW5rIHRoZSBmaWxlKHMpLiBJZiBub3Qgc2V0LCB3aWxsIHVzZSB0aGUgYGF1dG9gXG4gICAgICAgICAqIHN0cmF0ZWd5LlxuICAgICAgICAgKi9cbiAgICAgICAgY2h1bmtpbmdfc3RyYXRlZ3k/OiBWZWN0b3JTdG9yZS5BdXRvIHwgVmVjdG9yU3RvcmUuU3RhdGljO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyB0b1xuICAgICAgICAgKiBhZGQgdG8gdGhlIHZlY3RvciBzdG9yZS4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxMDAwMCBmaWxlcyBpbiBhIHZlY3RvclxuICAgICAgICAgKiBzdG9yZS5cbiAgICAgICAgICovXG4gICAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAgICAgICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICAgICAgICpcbiAgICAgICAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICAgICAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICAgICAgICovXG4gICAgICAgIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcbiAgICAgIH1cblxuICAgICAgZXhwb3J0IG5hbWVzcGFjZSBWZWN0b3JTdG9yZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzdHJhdGVneS4gVGhpcyBzdHJhdGVneSBjdXJyZW50bHkgdXNlcyBhIGBtYXhfY2h1bmtfc2l6ZV90b2tlbnNgIG9mXG4gICAgICAgICAqIGA4MDBgIGFuZCBgY2h1bmtfb3ZlcmxhcF90b2tlbnNgIG9mIGA0MDBgLlxuICAgICAgICAgKi9cbiAgICAgICAgZXhwb3J0IGludGVyZmFjZSBBdXRvIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBbHdheXMgYGF1dG9gLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHR5cGU6ICdhdXRvJztcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgU3RhdGljIHtcbiAgICAgICAgICBzdGF0aWM6IFN0YXRpYy5TdGF0aWM7XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBbHdheXMgYHN0YXRpY2AuXG4gICAgICAgICAgICovXG4gICAgICAgICAgdHlwZTogJ3N0YXRpYyc7XG4gICAgICAgIH1cblxuICAgICAgICBleHBvcnQgbmFtZXNwYWNlIFN0YXRpYyB7XG4gICAgICAgICAgZXhwb3J0IGludGVyZmFjZSBTdGF0aWMge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIHRva2VucyB0aGF0IG92ZXJsYXAgYmV0d2VlbiBjaHVua3MuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGA0MDBgLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIE5vdGUgdGhhdCB0aGUgb3ZlcmxhcCBtdXN0IG5vdCBleGNlZWQgaGFsZiBvZiBgbWF4X2NodW5rX3NpemVfdG9rZW5zYC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2h1bmtfb3ZlcmxhcF90b2tlbnM6IG51bWJlcjtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIGluIGVhY2ggY2h1bmsuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGA4MDBgLiBUaGVcbiAgICAgICAgICAgICAqIG1pbmltdW0gdmFsdWUgaXMgYDEwMGAgYW5kIHRoZSBtYXhpbXVtIHZhbHVlIGlzIGA0MDk2YC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbWF4X2NodW5rX3NpemVfdG9rZW5zOiBudW1iZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VXBkYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYXNzaXN0YW50LiBUaGUgbWF4aW11bSBsZW5ndGggaXMgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gaW5zdHJ1Y3Rpb25zIHRoYXQgdGhlIGFzc2lzdGFudCB1c2VzLiBUaGUgbWF4aW11bSBsZW5ndGggaXMgMjU2LDAwMFxuICAgKiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gWW91IGNhbiB1c2UgdGhlXG4gICAqIFtMaXN0IG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMvbGlzdCkgQVBJIHRvXG4gICAqIHNlZSBhbGwgb2YgeW91ciBhdmFpbGFibGUgbW9kZWxzLCBvciBzZWUgb3VyXG4gICAqIFtNb2RlbCBvdmVydmlld10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzKSBmb3IgZGVzY3JpcHRpb25zIG9mXG4gICAqIHRoZW0uXG4gICAqL1xuICBtb2RlbD86XG4gICAgfCAoc3RyaW5nICYge30pXG4gICAgfCAnbzMtbWluaSdcbiAgICB8ICdvMy1taW5pLTIwMjUtMDEtMzEnXG4gICAgfCAnbzEnXG4gICAgfCAnbzEtMjAyNC0xMi0xNydcbiAgICB8ICdncHQtNG8nXG4gICAgfCAnZ3B0LTRvLTIwMjQtMTEtMjAnXG4gICAgfCAnZ3B0LTRvLTIwMjQtMDgtMDYnXG4gICAgfCAnZ3B0LTRvLTIwMjQtMDUtMTMnXG4gICAgfCAnZ3B0LTRvLW1pbmknXG4gICAgfCAnZ3B0LTRvLW1pbmktMjAyNC0wNy0xOCdcbiAgICB8ICdncHQtNC41LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQuNS1wcmV2aWV3LTIwMjUtMDItMjcnXG4gICAgfCAnZ3B0LTQtdHVyYm8nXG4gICAgfCAnZ3B0LTQtdHVyYm8tMjAyNC0wNC0wOSdcbiAgICB8ICdncHQtNC0wMTI1LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdHVyYm8tcHJldmlldydcbiAgICB8ICdncHQtNC0xMTA2LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdmlzaW9uLXByZXZpZXcnXG4gICAgfCAnZ3B0LTQnXG4gICAgfCAnZ3B0LTQtMDMxNCdcbiAgICB8ICdncHQtNC0wNjEzJ1xuICAgIHwgJ2dwdC00LTMyaydcbiAgICB8ICdncHQtNC0zMmstMDMxNCdcbiAgICB8ICdncHQtNC0zMmstMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvLTExMDYnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0wMTI1J1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrLTA2MTMnO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgYXNzaXN0YW50LiBUaGUgbWF4aW11bSBsZW5ndGggaXMgMjU2IGNoYXJhY3RlcnMuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogKipvLXNlcmllcyBtb2RlbHMgb25seSoqXG4gICAqXG4gICAqIENvbnN0cmFpbnMgZWZmb3J0IG9uIHJlYXNvbmluZyBmb3JcbiAgICogW3JlYXNvbmluZyBtb2RlbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9yZWFzb25pbmcpLiBDdXJyZW50bHlcbiAgICogc3VwcG9ydGVkIHZhbHVlcyBhcmUgYGxvd2AsIGBtZWRpdW1gLCBhbmQgYGhpZ2hgLiBSZWR1Y2luZyByZWFzb25pbmcgZWZmb3J0IGNhblxuICAgKiByZXN1bHQgaW4gZmFzdGVyIHJlc3BvbnNlcyBhbmQgZmV3ZXIgdG9rZW5zIHVzZWQgb24gcmVhc29uaW5nIGluIGEgcmVzcG9uc2UuXG4gICAqL1xuICByZWFzb25pbmdfZWZmb3J0PzogU2hhcmVkLlJlYXNvbmluZ0VmZm9ydCB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LiBDb21wYXRpYmxlIHdpdGhcbiAgICogW0dQVC00b10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00byksXG4gICAqIFtHUFQtNCBUdXJib10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00LXR1cmJvLWFuZC1ncHQtNCksXG4gICAqIGFuZCBhbGwgR1BULTMuNSBUdXJibyBtb2RlbHMgc2luY2UgYGdwdC0zLjUtdHVyYm8tMTEwNmAuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9zY2hlbWFcIiwgXCJqc29uX3NjaGVtYVwiOiB7Li4ufSB9YCBlbmFibGVzIFN0cnVjdHVyZWRcbiAgICogT3V0cHV0cyB3aGljaCBlbnN1cmVzIHRoZSBtb2RlbCB3aWxsIG1hdGNoIHlvdXIgc3VwcGxpZWQgSlNPTiBzY2hlbWEuIExlYXJuIG1vcmVcbiAgICogaW4gdGhlXG4gICAqIFtTdHJ1Y3R1cmVkIE91dHB1dHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGVuc3VyZXMgdGhlXG4gICAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gICAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAgICogZ2VuZXJhdGUgYW4gdW5lbmRpbmcgc3RyZWFtIG9mIHdoaXRlc3BhY2UgdW50aWwgdGhlIGdlbmVyYXRpb24gcmVhY2hlcyB0aGUgdG9rZW5cbiAgICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAgICogaW5kaWNhdGVzIHRoZSBnZW5lcmF0aW9uIGV4Y2VlZGVkIGBtYXhfdG9rZW5zYCBvciB0aGUgY29udmVyc2F0aW9uIGV4Y2VlZGVkIHRoZVxuICAgKiBtYXggY29udGV4dCBsZW5ndGguXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiBUaHJlYWRzQVBJLkFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSB1c2VkIGJ5IHRoZSBhc3Npc3RhbnQncyB0b29scy4gVGhlIHJlc291cmNlcyBhcmVcbiAgICogc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlc1xuICAgKiBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZVxuICAgKiBJRHMuXG4gICAqL1xuICB0b29sX3Jlc291cmNlcz86IEFzc2lzdGFudFVwZGF0ZVBhcmFtcy5Ub29sUmVzb3VyY2VzIHwgbnVsbDtcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHRvb2wgZW5hYmxlZCBvbiB0aGUgYXNzaXN0YW50LiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEyOCB0b29scyBwZXJcbiAgICogYXNzaXN0YW50LiBUb29scyBjYW4gYmUgb2YgdHlwZXMgYGNvZGVfaW50ZXJwcmV0ZXJgLCBgZmlsZV9zZWFyY2hgLCBvclxuICAgKiBgZnVuY3Rpb25gLlxuICAgKi9cbiAgdG9vbHM/OiBBcnJheTxBc3Npc3RhbnRUb29sPjtcblxuICAvKipcbiAgICogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcsIHdoZXJlIHRoZVxuICAgKiBtb2RlbCBjb25zaWRlcnMgdGhlIHJlc3VsdHMgb2YgdGhlIHRva2VucyB3aXRoIHRvcF9wIHByb2JhYmlsaXR5IG1hc3MuIFNvIDAuMVxuICAgKiBtZWFucyBvbmx5IHRoZSB0b2tlbnMgY29tcHJpc2luZyB0aGUgdG9wIDEwJSBwcm9iYWJpbGl0eSBtYXNzIGFyZSBjb25zaWRlcmVkLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgdGVtcGVyYXR1cmUgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEFzc2lzdGFudFVwZGF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgdXNlZCBieSB0aGUgYXNzaXN0YW50J3MgdG9vbHMuIFRoZSByZXNvdXJjZXMgYXJlXG4gICAqIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXNcbiAgICogYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmVcbiAgICogSURzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBjb2RlX2ludGVycHJldGVyPzogVG9vbFJlc291cmNlcy5Db2RlSW50ZXJwcmV0ZXI7XG5cbiAgICBmaWxlX3NlYXJjaD86IFRvb2xSZXNvdXJjZXMuRmlsZVNlYXJjaDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgICAgLyoqXG4gICAgICAgKiBPdmVycmlkZXMgdGhlIGxpc3Qgb2ZcbiAgICAgICAqIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgbWFkZSBhdmFpbGFibGVcbiAgICAgICAqIHRvIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlcyBhc3NvY2lhdGVkXG4gICAgICAgKiB3aXRoIHRoZSB0b29sLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcnJpZGVzIHRoZVxuICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgYXNzaXN0YW50LiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgKiB0aGUgYXNzaXN0YW50LlxuICAgICAgICovXG4gICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3Npc3RhbnRMaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGN1cnNvciBmb3IgdXNlIGluIHBhZ2luYXRpb24uIGBiZWZvcmVgIGlzIGFuIG9iamVjdCBJRCB0aGF0IGRlZmluZXMgeW91ciBwbGFjZVxuICAgKiBpbiB0aGUgbGlzdC4gRm9yIGluc3RhbmNlLCBpZiB5b3UgbWFrZSBhIGxpc3QgcmVxdWVzdCBhbmQgcmVjZWl2ZSAxMDAgb2JqZWN0cyxcbiAgICogc3RhcnRpbmcgd2l0aCBvYmpfZm9vLCB5b3VyIHN1YnNlcXVlbnQgY2FsbCBjYW4gaW5jbHVkZSBiZWZvcmU9b2JqX2ZvbyBpbiBvcmRlclxuICAgKiB0byBmZXRjaCB0aGUgcHJldmlvdXMgcGFnZSBvZiB0aGUgbGlzdC5cbiAgICovXG4gIGJlZm9yZT86IHN0cmluZztcblxuICAvKipcbiAgICogU29ydCBvcmRlciBieSB0aGUgYGNyZWF0ZWRfYXRgIHRpbWVzdGFtcCBvZiB0aGUgb2JqZWN0cy4gYGFzY2AgZm9yIGFzY2VuZGluZ1xuICAgKiBvcmRlciBhbmQgYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcbn1cblxuQXNzaXN0YW50cy5Bc3Npc3RhbnRzUGFnZSA9IEFzc2lzdGFudHNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgQXNzaXN0YW50cyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBBc3Npc3RhbnQgYXMgQXNzaXN0YW50LFxuICAgIHR5cGUgQXNzaXN0YW50RGVsZXRlZCBhcyBBc3Npc3RhbnREZWxldGVkLFxuICAgIHR5cGUgQXNzaXN0YW50U3RyZWFtRXZlbnQgYXMgQXNzaXN0YW50U3RyZWFtRXZlbnQsXG4gICAgdHlwZSBBc3Npc3RhbnRUb29sIGFzIEFzc2lzdGFudFRvb2wsXG4gICAgdHlwZSBDb2RlSW50ZXJwcmV0ZXJUb29sIGFzIENvZGVJbnRlcnByZXRlclRvb2wsXG4gICAgdHlwZSBGaWxlU2VhcmNoVG9vbCBhcyBGaWxlU2VhcmNoVG9vbCxcbiAgICB0eXBlIEZ1bmN0aW9uVG9vbCBhcyBGdW5jdGlvblRvb2wsXG4gICAgdHlwZSBNZXNzYWdlU3RyZWFtRXZlbnQgYXMgTWVzc2FnZVN0cmVhbUV2ZW50LFxuICAgIHR5cGUgUnVuU3RlcFN0cmVhbUV2ZW50IGFzIFJ1blN0ZXBTdHJlYW1FdmVudCxcbiAgICB0eXBlIFJ1blN0cmVhbUV2ZW50IGFzIFJ1blN0cmVhbUV2ZW50LFxuICAgIHR5cGUgVGhyZWFkU3RyZWFtRXZlbnQgYXMgVGhyZWFkU3RyZWFtRXZlbnQsXG4gICAgQXNzaXN0YW50c1BhZ2UgYXMgQXNzaXN0YW50c1BhZ2UsXG4gICAgdHlwZSBBc3Npc3RhbnRDcmVhdGVQYXJhbXMgYXMgQXNzaXN0YW50Q3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgQXNzaXN0YW50VXBkYXRlUGFyYW1zIGFzIEFzc2lzdGFudFVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIEFzc2lzdGFudExpc3RQYXJhbXMgYXMgQXNzaXN0YW50TGlzdFBhcmFtcyxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyB0eXBlIENoYXRDb21wbGV0aW9uUnVubmVyIH0gZnJvbSAnLi9DaGF0Q29tcGxldGlvblJ1bm5lcic7XG5pbXBvcnQgeyB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyIH0gZnJvbSAnLi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcic7XG5pbXBvcnQgeyBKU09OU2NoZW1hIH0gZnJvbSAnLi9qc29uc2NoZW1hJztcblxudHlwZSBQcm9taXNlT3JWYWx1ZTxUPiA9IFQgfCBQcm9taXNlPFQ+O1xuXG5leHBvcnQgdHlwZSBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3MgZXh0ZW5kcyBvYmplY3Q+ID0ge1xuICAvKipcbiAgICogQHBhcmFtIGFyZ3MgdGhlIHJldHVybiB2YWx1ZSBmcm9tIGBwYXJzZWAuXG4gICAqIEBwYXJhbSBydW5uZXIgdGhlIHJ1bm5lciBldmFsdWF0aW5nIHRoaXMgY2FsbGJhY2suXG4gICAqIEByZXR1cm5zIGEgc3RyaW5nIHRvIHNlbmQgYmFjayB0byBPcGVuQUkuXG4gICAqL1xuICBmdW5jdGlvbjogKFxuICAgIGFyZ3M6IEFyZ3MsXG4gICAgcnVubmVyOiBDaGF0Q29tcGxldGlvblJ1bm5lcjx1bmtub3duPiB8IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyPHVua25vd24+LFxuICApID0+IFByb21pc2VPclZhbHVlPHVua25vd24+O1xuICAvKipcbiAgICogQHBhcmFtIGlucHV0IHRoZSByYXcgYXJncyBmcm9tIHRoZSBPcGVuQUkgZnVuY3Rpb24gY2FsbC5cbiAgICogQHJldHVybnMgdGhlIHBhcnNlZCBhcmd1bWVudHMgdG8gcGFzcyB0byBgZnVuY3Rpb25gXG4gICAqL1xuICBwYXJzZTogKGlucHV0OiBzdHJpbmcpID0+IFByb21pc2VPclZhbHVlPEFyZ3M+O1xuICAvKipcbiAgICogVGhlIHBhcmFtZXRlcnMgdGhlIGZ1bmN0aW9uIGFjY2VwdHMsIGRlc2NyaWJlcyBhcyBhIEpTT04gU2NoZW1hIG9iamVjdC5cbiAgICovXG4gIHBhcmFtZXRlcnM6IEpTT05TY2hlbWE7XG4gIC8qKlxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHdoYXQgdGhlIGZ1bmN0aW9uIGRvZXMsIHVzZWQgYnkgdGhlIG1vZGVsIHRvIGNob29zZSB3aGVuIGFuZCBob3cgdG8gY2FsbCB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZC4gV2lsbCBkZWZhdWx0IHRvIGZ1bmN0aW9uLm5hbWUgaWYgb21pdHRlZC5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHN0cmljdD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBSdW5uYWJsZUZ1bmN0aW9uV2l0aG91dFBhcnNlID0ge1xuICAvKipcbiAgICogQHBhcmFtIGFyZ3MgdGhlIHJhdyBhcmdzIGZyb20gdGhlIE9wZW5BSSBmdW5jdGlvbiBjYWxsLlxuICAgKiBAcmV0dXJucyBhIHN0cmluZyB0byBzZW5kIGJhY2sgdG8gT3BlbkFJXG4gICAqL1xuICBmdW5jdGlvbjogKFxuICAgIGFyZ3M6IHN0cmluZyxcbiAgICBydW5uZXI6IENoYXRDb21wbGV0aW9uUnVubmVyPHVua25vd24+IHwgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXI8dW5rbm93bj4sXG4gICkgPT4gUHJvbWlzZU9yVmFsdWU8dW5rbm93bj47XG4gIC8qKlxuICAgKiBUaGUgcGFyYW1ldGVycyB0aGUgZnVuY3Rpb24gYWNjZXB0cywgZGVzY3JpYmVzIGFzIGEgSlNPTiBTY2hlbWEgb2JqZWN0LlxuICAgKi9cbiAgcGFyYW1ldGVyczogSlNPTlNjaGVtYTtcbiAgLyoqXG4gICAqIEEgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGUgZnVuY3Rpb24gZG9lcywgdXNlZCBieSB0aGUgbW9kZWwgdG8gY2hvb3NlIHdoZW4gYW5kIGhvdyB0byBjYWxsIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLiBXaWxsIGRlZmF1bHQgdG8gZnVuY3Rpb24ubmFtZSBpZiBvbWl0dGVkLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc3RyaWN0PzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFJ1bm5hYmxlRnVuY3Rpb248QXJncyBleHRlbmRzIG9iamVjdCB8IHN0cmluZz4gPVxuICBBcmdzIGV4dGVuZHMgc3RyaW5nID8gUnVubmFibGVGdW5jdGlvbldpdGhvdXRQYXJzZVxuICA6IEFyZ3MgZXh0ZW5kcyBvYmplY3QgPyBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+XG4gIDogbmV2ZXI7XG5cbmV4cG9ydCB0eXBlIFJ1bm5hYmxlVG9vbEZ1bmN0aW9uPEFyZ3MgZXh0ZW5kcyBvYmplY3QgfCBzdHJpbmc+ID1cbiAgQXJncyBleHRlbmRzIHN0cmluZyA/IFJ1bm5hYmxlVG9vbEZ1bmN0aW9uV2l0aG91dFBhcnNlXG4gIDogQXJncyBleHRlbmRzIG9iamVjdCA/IFJ1bm5hYmxlVG9vbEZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+XG4gIDogbmV2ZXI7XG5cbmV4cG9ydCB0eXBlIFJ1bm5hYmxlVG9vbEZ1bmN0aW9uV2l0aG91dFBhcnNlID0ge1xuICB0eXBlOiAnZnVuY3Rpb24nO1xuICBmdW5jdGlvbjogUnVubmFibGVGdW5jdGlvbldpdGhvdXRQYXJzZTtcbn07XG5leHBvcnQgdHlwZSBSdW5uYWJsZVRvb2xGdW5jdGlvbldpdGhQYXJzZTxBcmdzIGV4dGVuZHMgb2JqZWN0PiA9IHtcbiAgdHlwZTogJ2Z1bmN0aW9uJztcbiAgZnVuY3Rpb246IFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncz47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3MgZXh0ZW5kcyBvYmplY3Q+KFxuICBmbjogYW55LFxuKTogZm4gaXMgUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPiB7XG4gIHJldHVybiB0eXBlb2YgKGZuIGFzIGFueSkucGFyc2UgPT09ICdmdW5jdGlvbic7XG59XG5cbmV4cG9ydCB0eXBlIEJhc2VGdW5jdGlvbnNBcmdzID0gcmVhZG9ubHkgKG9iamVjdCB8IHN0cmluZylbXTtcblxuZXhwb3J0IHR5cGUgUnVubmFibGVGdW5jdGlvbnM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPiA9XG4gIFthbnlbXV0gZXh0ZW5kcyBbRnVuY3Rpb25zQXJnc10gPyByZWFkb25seSBSdW5uYWJsZUZ1bmN0aW9uPGFueT5bXVxuICA6IHtcbiAgICAgIFtJbmRleCBpbiBrZXlvZiBGdW5jdGlvbnNBcmdzXTogSW5kZXggZXh0ZW5kcyBudW1iZXIgPyBSdW5uYWJsZUZ1bmN0aW9uPEZ1bmN0aW9uc0FyZ3NbSW5kZXhdPlxuICAgICAgOiBGdW5jdGlvbnNBcmdzW0luZGV4XTtcbiAgICB9O1xuXG5leHBvcnQgdHlwZSBSdW5uYWJsZVRvb2xzPEZ1bmN0aW9uc0FyZ3MgZXh0ZW5kcyBCYXNlRnVuY3Rpb25zQXJncz4gPVxuICBbYW55W11dIGV4dGVuZHMgW0Z1bmN0aW9uc0FyZ3NdID8gcmVhZG9ubHkgUnVubmFibGVUb29sRnVuY3Rpb248YW55PltdXG4gIDoge1xuICAgICAgW0luZGV4IGluIGtleW9mIEZ1bmN0aW9uc0FyZ3NdOiBJbmRleCBleHRlbmRzIG51bWJlciA/IFJ1bm5hYmxlVG9vbEZ1bmN0aW9uPEZ1bmN0aW9uc0FyZ3NbSW5kZXhdPlxuICAgICAgOiBGdW5jdGlvbnNBcmdzW0luZGV4XTtcbiAgICB9O1xuXG4vKipcbiAqIFRoaXMgaXMgaGVscGVyIGNsYXNzIGZvciBwYXNzaW5nIGEgYGZ1bmN0aW9uYCBhbmQgYHBhcnNlYCB3aGVyZSB0aGUgYGZ1bmN0aW9uYFxuICogYXJndW1lbnQgdHlwZSBtYXRjaGVzIHRoZSBgcGFyc2VgIHJldHVybiB0eXBlLlxuICpcbiAqIEBkZXByZWNhdGVkIC0gcGxlYXNlIHVzZSBQYXJzaW5nVG9vbEZ1bmN0aW9uIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJzaW5nRnVuY3Rpb248QXJncyBleHRlbmRzIG9iamVjdD4ge1xuICBmdW5jdGlvbjogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPlsnZnVuY3Rpb24nXTtcbiAgcGFyc2U6IFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncz5bJ3BhcnNlJ107XG4gIHBhcmFtZXRlcnM6IFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncz5bJ3BhcmFtZXRlcnMnXTtcbiAgZGVzY3JpcHRpb246IFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncz5bJ2Rlc2NyaXB0aW9uJ107XG4gIG5hbWU/OiBSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlPEFyZ3M+WyduYW1lJ107XG5cbiAgY29uc3RydWN0b3IoaW5wdXQ6IFJ1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2U8QXJncz4pIHtcbiAgICB0aGlzLmZ1bmN0aW9uID0gaW5wdXQuZnVuY3Rpb247XG4gICAgdGhpcy5wYXJzZSA9IGlucHV0LnBhcnNlO1xuICAgIHRoaXMucGFyYW1ldGVycyA9IGlucHV0LnBhcmFtZXRlcnM7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGlucHV0LmRlc2NyaXB0aW9uO1xuICAgIHRoaXMubmFtZSA9IGlucHV0Lm5hbWU7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGlzIGhlbHBlciBjbGFzcyBmb3IgcGFzc2luZyBhIGBmdW5jdGlvbmAgYW5kIGBwYXJzZWAgd2hlcmUgdGhlIGBmdW5jdGlvbmBcbiAqIGFyZ3VtZW50IHR5cGUgbWF0Y2hlcyB0aGUgYHBhcnNlYCByZXR1cm4gdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnNpbmdUb29sRnVuY3Rpb248QXJncyBleHRlbmRzIG9iamVjdD4ge1xuICB0eXBlOiAnZnVuY3Rpb24nO1xuICBmdW5jdGlvbjogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPjtcblxuICBjb25zdHJ1Y3RvcihpbnB1dDogUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZTxBcmdzPikge1xuICAgIHRoaXMudHlwZSA9ICdmdW5jdGlvbic7XG4gICAgdGhpcy5mdW5jdGlvbiA9IGlucHV0O1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgdHlwZSBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSxcbiAgdHlwZSBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtLFxuICB0eXBlIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtLFxuICB0eXBlIENoYXRDb21wbGV0aW9uVG9vbE1lc3NhZ2VQYXJhbSxcbn0gZnJvbSAnLi4vcmVzb3VyY2VzJztcblxuZXhwb3J0IGNvbnN0IGlzQXNzaXN0YW50TWVzc2FnZSA9IChcbiAgbWVzc2FnZTogQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gfCBudWxsIHwgdW5kZWZpbmVkLFxuKTogbWVzc2FnZSBpcyBDaGF0Q29tcGxldGlvbkFzc2lzdGFudE1lc3NhZ2VQYXJhbSA9PiB7XG4gIHJldHVybiBtZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50Jztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uTWVzc2FnZSA9IChcbiAgbWVzc2FnZTogQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gfCBudWxsIHwgdW5kZWZpbmVkLFxuKTogbWVzc2FnZSBpcyBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtID0+IHtcbiAgcmV0dXJuIG1lc3NhZ2U/LnJvbGUgPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnQgY29uc3QgaXNUb29sTWVzc2FnZSA9IChcbiAgbWVzc2FnZTogQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0gfCBudWxsIHwgdW5kZWZpbmVkLFxuKTogbWVzc2FnZSBpcyBDaGF0Q29tcGxldGlvblRvb2xNZXNzYWdlUGFyYW0gPT4ge1xuICByZXR1cm4gbWVzc2FnZT8ucm9sZSA9PT0gJ3Rvb2wnO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJlc2VudDxUPihvYmo6IFQgfCBudWxsIHwgdW5kZWZpbmVkKTogb2JqIGlzIFQge1xuICByZXR1cm4gb2JqICE9IG51bGw7XG59XG4iLCAiaW1wb3J0IHsgQVBJVXNlckFib3J0RXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSAnLi4vZXJyb3InO1xuXG5leHBvcnQgY2xhc3MgRXZlbnRTdHJlYW08RXZlbnRUeXBlcyBleHRlbmRzIEJhc2VFdmVudHM+IHtcbiAgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICNjb25uZWN0ZWRQcm9taXNlOiBQcm9taXNlPHZvaWQ+O1xuICAjcmVzb2x2ZUNvbm5lY3RlZFByb21pc2U6ICgpID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgI3JlamVjdENvbm5lY3RlZFByb21pc2U6IChlcnJvcjogT3BlbkFJRXJyb3IpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICAjZW5kUHJvbWlzZTogUHJvbWlzZTx2b2lkPjtcbiAgI3Jlc29sdmVFbmRQcm9taXNlOiAoKSA9PiB2b2lkID0gKCkgPT4ge307XG4gICNyZWplY3RFbmRQcm9taXNlOiAoZXJyb3I6IE9wZW5BSUVycm9yKSA9PiB2b2lkID0gKCkgPT4ge307XG5cbiAgI2xpc3RlbmVyczoge1xuICAgIFtFdmVudCBpbiBrZXlvZiBFdmVudFR5cGVzXT86IEV2ZW50TGlzdGVuZXJzPEV2ZW50VHlwZXMsIEV2ZW50PjtcbiAgfSA9IHt9O1xuXG4gICNlbmRlZCA9IGZhbHNlO1xuICAjZXJyb3JlZCA9IGZhbHNlO1xuICAjYWJvcnRlZCA9IGZhbHNlO1xuICAjY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuI2Nvbm5lY3RlZFByb21pc2UgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLiNyZXNvbHZlQ29ubmVjdGVkUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICB0aGlzLiNyZWplY3RDb25uZWN0ZWRQcm9taXNlID0gcmVqZWN0O1xuICAgIH0pO1xuXG4gICAgdGhpcy4jZW5kUHJvbWlzZSA9IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuI3Jlc29sdmVFbmRQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgIHRoaXMuI3JlamVjdEVuZFByb21pc2UgPSByZWplY3Q7XG4gICAgfSk7XG5cbiAgICAvLyBEb24ndCBsZXQgdGhlc2UgcHJvbWlzZXMgY2F1c2UgdW5oYW5kbGVkIHJlamVjdGlvbiBlcnJvcnMuXG4gICAgLy8gd2Ugd2lsbCBtYW51YWxseSBjYXVzZSBhbiB1bmhhbmRsZWQgcmVqZWN0aW9uIGVycm9yIGxhdGVyXG4gICAgLy8gaWYgdGhlIHVzZXIgaGFzbid0IHJlZ2lzdGVyZWQgYW55IGVycm9yIGxpc3RlbmVyIG9yIGNhbGxlZFxuICAgIC8vIGFueSBwcm9taXNlLXJldHVybmluZyBtZXRob2QuXG4gICAgdGhpcy4jY29ubmVjdGVkUHJvbWlzZS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgdGhpcy4jZW5kUHJvbWlzZS5jYXRjaCgoKSA9PiB7fSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX3J1bih0aGlzOiBFdmVudFN0cmVhbTxFdmVudFR5cGVzPiwgZXhlY3V0b3I6ICgpID0+IFByb21pc2U8YW55Pikge1xuICAgIC8vIFVuZm9ydHVuYXRlbHkgaWYgd2UgY2FsbCBgZXhlY3V0b3IoKWAgaW1tZWRpYXRlbHkgd2UgZ2V0IHJ1bnRpbWUgZXJyb3JzIGFib3V0XG4gICAgLy8gcmVmZXJlbmNlcyB0byBgdGhpc2AgYmVmb3JlIHRoZSBgc3VwZXIoKWAgY29uc3RydWN0b3IgY2FsbCByZXR1cm5zLlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZXhlY3V0b3IoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5fZW1pdEZpbmFsKCk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgICAgfSwgdGhpcy4jaGFuZGxlRXJyb3IuYmluZCh0aGlzKSk7XG4gICAgfSwgMCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2Nvbm5lY3RlZCh0aGlzOiBFdmVudFN0cmVhbTxFdmVudFR5cGVzPikge1xuICAgIGlmICh0aGlzLmVuZGVkKSByZXR1cm47XG4gICAgdGhpcy4jcmVzb2x2ZUNvbm5lY3RlZFByb21pc2UoKTtcbiAgICB0aGlzLl9lbWl0KCdjb25uZWN0Jyk7XG4gIH1cblxuICBnZXQgZW5kZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2VuZGVkO1xuICB9XG5cbiAgZ2V0IGVycm9yZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2Vycm9yZWQ7XG4gIH1cblxuICBnZXQgYWJvcnRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy4jYWJvcnRlZDtcbiAgfVxuXG4gIGFib3J0KCkge1xuICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3RlbmVycyBhcnJheSBmb3IgdGhlIGV2ZW50LlxuICAgKiBObyBjaGVja3MgYXJlIG1hZGUgdG8gc2VlIGlmIHRoZSBsaXN0ZW5lciBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkLiBNdWx0aXBsZSBjYWxscyBwYXNzaW5nXG4gICAqIHRoZSBzYW1lIGNvbWJpbmF0aW9uIG9mIGV2ZW50IGFuZCBsaXN0ZW5lciB3aWxsIHJlc3VsdCBpbiB0aGUgbGlzdGVuZXIgYmVpbmcgYWRkZWQsIGFuZFxuICAgKiBjYWxsZWQsIG11bHRpcGxlIHRpbWVzLlxuICAgKiBAcmV0dXJucyB0aGlzIENoYXRDb21wbGV0aW9uU3RyZWFtLCBzbyB0aGF0IGNhbGxzIGNhbiBiZSBjaGFpbmVkXG4gICAqL1xuICBvbjxFdmVudCBleHRlbmRzIGtleW9mIEV2ZW50VHlwZXM+KGV2ZW50OiBFdmVudCwgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXI8RXZlbnRUeXBlcywgRXZlbnQ+KTogdGhpcyB7XG4gICAgY29uc3QgbGlzdGVuZXJzOiBFdmVudExpc3RlbmVyczxFdmVudFR5cGVzLCBFdmVudD4gPVxuICAgICAgdGhpcy4jbGlzdGVuZXJzW2V2ZW50XSB8fCAodGhpcy4jbGlzdGVuZXJzW2V2ZW50XSA9IFtdKTtcbiAgICBsaXN0ZW5lcnMucHVzaCh7IGxpc3RlbmVyIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBsaXN0ZW5lciBmcm9tIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIGV2ZW50LlxuICAgKiBvZmYoKSB3aWxsIHJlbW92ZSwgYXQgbW9zdCwgb25lIGluc3RhbmNlIG9mIGEgbGlzdGVuZXIgZnJvbSB0aGUgbGlzdGVuZXIgYXJyYXkuIElmIGFueSBzaW5nbGVcbiAgICogbGlzdGVuZXIgaGFzIGJlZW4gYWRkZWQgbXVsdGlwbGUgdGltZXMgdG8gdGhlIGxpc3RlbmVyIGFycmF5IGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LCB0aGVuXG4gICAqIG9mZigpIG11c3QgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHRvIHJlbW92ZSBlYWNoIGluc3RhbmNlLlxuICAgKiBAcmV0dXJucyB0aGlzIENoYXRDb21wbGV0aW9uU3RyZWFtLCBzbyB0aGF0IGNhbGxzIGNhbiBiZSBjaGFpbmVkXG4gICAqL1xuICBvZmY8RXZlbnQgZXh0ZW5kcyBrZXlvZiBFdmVudFR5cGVzPihldmVudDogRXZlbnQsIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyPEV2ZW50VHlwZXMsIEV2ZW50Pik6IHRoaXMge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuI2xpc3RlbmVyc1tldmVudF07XG4gICAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiB0aGlzO1xuICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmZpbmRJbmRleCgobCkgPT4gbC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpO1xuICAgIGlmIChpbmRleCA+PSAwKSBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgb25lLXRpbWUgbGlzdGVuZXIgZnVuY3Rpb24gZm9yIHRoZSBldmVudC4gVGhlIG5leHQgdGltZSB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLFxuICAgKiB0aGlzIGxpc3RlbmVyIGlzIHJlbW92ZWQgYW5kIHRoZW4gaW52b2tlZC5cbiAgICogQHJldHVybnMgdGhpcyBDaGF0Q29tcGxldGlvblN0cmVhbSwgc28gdGhhdCBjYWxscyBjYW4gYmUgY2hhaW5lZFxuICAgKi9cbiAgb25jZTxFdmVudCBleHRlbmRzIGtleW9mIEV2ZW50VHlwZXM+KGV2ZW50OiBFdmVudCwgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXI8RXZlbnRUeXBlcywgRXZlbnQ+KTogdGhpcyB7XG4gICAgY29uc3QgbGlzdGVuZXJzOiBFdmVudExpc3RlbmVyczxFdmVudFR5cGVzLCBFdmVudD4gPVxuICAgICAgdGhpcy4jbGlzdGVuZXJzW2V2ZW50XSB8fCAodGhpcy4jbGlzdGVuZXJzW2V2ZW50XSA9IFtdKTtcbiAgICBsaXN0ZW5lcnMucHVzaCh7IGxpc3RlbmVyLCBvbmNlOiB0cnVlIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgc2ltaWxhciB0byBgLm9uY2UoKWAsIGJ1dCByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRoZSBuZXh0IHRpbWVcbiAgICogdGhlIGV2ZW50IGlzIHRyaWdnZXJlZCwgaW5zdGVhZCBvZiBjYWxsaW5nIGEgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAqIEByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRoZSBuZXh0IHRpbWUgZ2l2ZW4gZXZlbnQgaXMgdHJpZ2dlcmVkLFxuICAgKiBvciByZWplY3RzIGlmIGFuIGVycm9yIGlzIGVtaXR0ZWQuICAoSWYgeW91IHJlcXVlc3QgdGhlICdlcnJvcicgZXZlbnQsXG4gICAqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZXJyb3IpLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBzdHJlYW0uZW1pdHRlZCgnbWVzc2FnZScpIC8vIHJlamVjdHMgaWYgdGhlIHN0cmVhbSBlcnJvcnNcbiAgICovXG4gIGVtaXR0ZWQ8RXZlbnQgZXh0ZW5kcyBrZXlvZiBFdmVudFR5cGVzPihcbiAgICBldmVudDogRXZlbnQsXG4gICk6IFByb21pc2U8XG4gICAgRXZlbnRQYXJhbWV0ZXJzPEV2ZW50VHlwZXMsIEV2ZW50PiBleHRlbmRzIFtpbmZlciBQYXJhbV0gPyBQYXJhbVxuICAgIDogRXZlbnRQYXJhbWV0ZXJzPEV2ZW50VHlwZXMsIEV2ZW50PiBleHRlbmRzIFtdID8gdm9pZFxuICAgIDogRXZlbnRQYXJhbWV0ZXJzPEV2ZW50VHlwZXMsIEV2ZW50PlxuICA+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy4jY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCA9IHRydWU7XG4gICAgICBpZiAoZXZlbnQgIT09ICdlcnJvcicpIHRoaXMub25jZSgnZXJyb3InLCByZWplY3QpO1xuICAgICAgdGhpcy5vbmNlKGV2ZW50LCByZXNvbHZlIGFzIGFueSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBkb25lKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuI2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQgPSB0cnVlO1xuICAgIGF3YWl0IHRoaXMuI2VuZFByb21pc2U7XG4gIH1cblxuICAjaGFuZGxlRXJyb3IodGhpczogRXZlbnRTdHJlYW08RXZlbnRUeXBlcz4sIGVycm9yOiB1bmtub3duKSB7XG4gICAgdGhpcy4jZXJyb3JlZCA9IHRydWU7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICBlcnJvciA9IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgIH1cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBBUElVc2VyQWJvcnRFcnJvcikge1xuICAgICAgdGhpcy4jYWJvcnRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcy5fZW1pdCgnYWJvcnQnLCBlcnJvcik7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIE9wZW5BSUVycm9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBjb25zdCBvcGVuQUlFcnJvcjogT3BlbkFJRXJyb3IgPSBuZXcgT3BlbkFJRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBvcGVuQUlFcnJvci5jYXVzZSA9IGVycm9yO1xuICAgICAgcmV0dXJuIHRoaXMuX2VtaXQoJ2Vycm9yJywgb3BlbkFJRXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgT3BlbkFJRXJyb3IoU3RyaW5nKGVycm9yKSkpO1xuICB9XG5cbiAgX2VtaXQ8RXZlbnQgZXh0ZW5kcyBrZXlvZiBCYXNlRXZlbnRzPihldmVudDogRXZlbnQsIC4uLmFyZ3M6IEV2ZW50UGFyYW1ldGVyczxCYXNlRXZlbnRzLCBFdmVudD4pOiB2b2lkO1xuICBfZW1pdDxFdmVudCBleHRlbmRzIGtleW9mIEV2ZW50VHlwZXM+KGV2ZW50OiBFdmVudCwgLi4uYXJnczogRXZlbnRQYXJhbWV0ZXJzPEV2ZW50VHlwZXMsIEV2ZW50Pik6IHZvaWQ7XG4gIF9lbWl0PEV2ZW50IGV4dGVuZHMga2V5b2YgRXZlbnRUeXBlcz4oXG4gICAgdGhpczogRXZlbnRTdHJlYW08RXZlbnRUeXBlcz4sXG4gICAgZXZlbnQ6IEV2ZW50LFxuICAgIC4uLmFyZ3M6IEV2ZW50UGFyYW1ldGVyczxFdmVudFR5cGVzLCBFdmVudD5cbiAgKSB7XG4gICAgLy8gbWFrZSBzdXJlIHdlIGRvbid0IGVtaXQgYW55IGV2ZW50cyBhZnRlciBlbmRcbiAgICBpZiAodGhpcy4jZW5kZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQgPT09ICdlbmQnKSB7XG4gICAgICB0aGlzLiNlbmRlZCA9IHRydWU7XG4gICAgICB0aGlzLiNyZXNvbHZlRW5kUHJvbWlzZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGxpc3RlbmVyczogRXZlbnRMaXN0ZW5lcnM8RXZlbnRUeXBlcywgRXZlbnQ+IHwgdW5kZWZpbmVkID0gdGhpcy4jbGlzdGVuZXJzW2V2ZW50XTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLiNsaXN0ZW5lcnNbZXZlbnRdID0gbGlzdGVuZXJzLmZpbHRlcigobCkgPT4gIWwub25jZSkgYXMgYW55O1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKHsgbGlzdGVuZXIgfTogYW55KSA9PiBsaXN0ZW5lciguLi4oYXJncyBhcyBhbnkpKSk7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50ID09PSAnYWJvcnQnKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGFyZ3NbMF0gYXMgQVBJVXNlckFib3J0RXJyb3I7XG4gICAgICBpZiAoIXRoaXMuI2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQgJiYgIWxpc3RlbmVycz8ubGVuZ3RoKSB7XG4gICAgICAgIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuI3JlamVjdENvbm5lY3RlZFByb21pc2UoZXJyb3IpO1xuICAgICAgdGhpcy4jcmVqZWN0RW5kUHJvbWlzZShlcnJvcik7XG4gICAgICB0aGlzLl9lbWl0KCdlbmQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQgPT09ICdlcnJvcicpIHtcbiAgICAgIC8vIE5PVEU6IF9lbWl0KCdlcnJvcicsIGVycm9yKSBzaG91bGQgb25seSBiZSBjYWxsZWQgZnJvbSAjaGFuZGxlRXJyb3IoKS5cblxuICAgICAgY29uc3QgZXJyb3IgPSBhcmdzWzBdIGFzIE9wZW5BSUVycm9yO1xuICAgICAgaWYgKCF0aGlzLiNjYXRjaGluZ1Byb21pc2VDcmVhdGVkICYmICFsaXN0ZW5lcnM/Lmxlbmd0aCkge1xuICAgICAgICAvLyBUcmlnZ2VyIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gaWYgdGhlIHVzZXIgaGFzbid0IHJlZ2lzdGVyZWQgYW55IGVycm9yIGhhbmRsZXJzLlxuICAgICAgICAvLyBJZiB5b3UgYXJlIHNlZWluZyBzdGFjayB0cmFjZXMgaGVyZSwgbWFrZSBzdXJlIHRvIGhhbmRsZSBlcnJvcnMgdmlhIGVpdGhlcjpcbiAgICAgICAgLy8gLSBydW5uZXIub24oJ2Vycm9yJywgKCkgPT4gLi4uKVxuICAgICAgICAvLyAtIGF3YWl0IHJ1bm5lci5kb25lKClcbiAgICAgICAgLy8gLSBhd2FpdCBydW5uZXIuZmluYWxDaGF0Q29tcGxldGlvbigpXG4gICAgICAgIC8vIC0gZXRjLlxuICAgICAgICBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgICB0aGlzLiNyZWplY3RDb25uZWN0ZWRQcm9taXNlKGVycm9yKTtcbiAgICAgIHRoaXMuI3JlamVjdEVuZFByb21pc2UoZXJyb3IpO1xuICAgICAgdGhpcy5fZW1pdCgnZW5kJyk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIF9lbWl0RmluYWwoKTogdm9pZCB7fVxufVxuXG50eXBlIEV2ZW50TGlzdGVuZXI8RXZlbnRzLCBFdmVudFR5cGUgZXh0ZW5kcyBrZXlvZiBFdmVudHM+ID0gRXZlbnRzW0V2ZW50VHlwZV07XG5cbnR5cGUgRXZlbnRMaXN0ZW5lcnM8RXZlbnRzLCBFdmVudFR5cGUgZXh0ZW5kcyBrZXlvZiBFdmVudHM+ID0gQXJyYXk8e1xuICBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjxFdmVudHMsIEV2ZW50VHlwZT47XG4gIG9uY2U/OiBib29sZWFuO1xufT47XG5cbmV4cG9ydCB0eXBlIEV2ZW50UGFyYW1ldGVyczxFdmVudHMsIEV2ZW50VHlwZSBleHRlbmRzIGtleW9mIEV2ZW50cz4gPSB7XG4gIFtFdmVudCBpbiBFdmVudFR5cGVdOiBFdmVudExpc3RlbmVyPEV2ZW50cywgRXZlbnRUeXBlPiBleHRlbmRzICguLi5hcmdzOiBpbmZlciBQKSA9PiBhbnkgPyBQIDogbmV2ZXI7XG59W0V2ZW50VHlwZV07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUV2ZW50cyB7XG4gIGNvbm5lY3Q6ICgpID0+IHZvaWQ7XG4gIGVycm9yOiAoZXJyb3I6IE9wZW5BSUVycm9yKSA9PiB2b2lkO1xuICBhYm9ydDogKGVycm9yOiBBUElVc2VyQWJvcnRFcnJvcikgPT4gdm9pZDtcbiAgZW5kOiAoKSA9PiB2b2lkO1xufVxuIiwgImltcG9ydCB7XG4gIENoYXRDb21wbGV0aW9uLFxuICBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwsXG4gIENoYXRDb21wbGV0aW9uVG9vbCxcbn0gZnJvbSAnLi4vcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMnO1xuaW1wb3J0IHtcbiAgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdUb29sUnVubmVyUGFyYW1zLFxuICBDaGF0Q29tcGxldGlvblN0cmVhbVBhcmFtcyxcbiAgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zLFxuICBQYXJzZWRDaGF0Q29tcGxldGlvbixcbiAgUGFyc2VkQ2hvaWNlLFxuICBQYXJzZWRGdW5jdGlvblRvb2xDYWxsLFxufSBmcm9tICcuLi9yZXNvdXJjZXMvYmV0YS9jaGF0L2NvbXBsZXRpb25zJztcbmltcG9ydCB7IFJlc3BvbnNlRm9ybWF0SlNPTlNjaGVtYSB9IGZyb20gJy4uL3Jlc291cmNlcy9zaGFyZWQnO1xuaW1wb3J0IHsgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yLCBMZW5ndGhGaW5pc2hSZWFzb25FcnJvciwgT3BlbkFJRXJyb3IgfSBmcm9tICcuLi9lcnJvcic7XG5pbXBvcnQgeyB0eXBlIFJlc3BvbnNlRm9ybWF0VGV4dEpTT05TY2hlbWFDb25maWcgfSBmcm9tICcuLi9yZXNvdXJjZXMvcmVzcG9uc2VzL3Jlc3BvbnNlcyc7XG5cbnR5cGUgQW55Q2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMgPVxuICB8IENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zXG4gIHwgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zPGFueT5cbiAgfCBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1Rvb2xSdW5uZXJQYXJhbXM8YW55PlxuICB8IENoYXRDb21wbGV0aW9uU3RyZWFtUGFyYW1zO1xuXG5leHBvcnQgdHlwZSBFeHRyYWN0UGFyc2VkQ29udGVudEZyb21QYXJhbXM8UGFyYW1zIGV4dGVuZHMgQW55Q2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXM+ID1cbiAgUGFyYW1zWydyZXNwb25zZV9mb3JtYXQnXSBleHRlbmRzIEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdDxpbmZlciBQPiA/IFAgOiBudWxsO1xuXG5leHBvcnQgdHlwZSBBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQ8UGFyc2VkVD4gPSBSZXNwb25zZUZvcm1hdEpTT05TY2hlbWEgJiB7XG4gIF9fb3V0cHV0OiBQYXJzZWRUOyAvLyB0eXBlLWxldmVsIG9ubHlcblxuICAkYnJhbmQ6ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnO1xuICAkcGFyc2VSYXcoY29udGVudDogc3RyaW5nKTogUGFyc2VkVDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQ8UGFyc2VkVD4oXG4gIHJlc3BvbnNlX2Zvcm1hdDogUmVzcG9uc2VGb3JtYXRKU09OU2NoZW1hLFxuICBwYXJzZXI6IChjb250ZW50OiBzdHJpbmcpID0+IFBhcnNlZFQsXG4pOiBBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQ8UGFyc2VkVD4ge1xuICBjb25zdCBvYmogPSB7IC4uLnJlc3BvbnNlX2Zvcm1hdCB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICRicmFuZDoge1xuICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSxcbiAgICAkcGFyc2VSYXc6IHtcbiAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gb2JqIGFzIEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdDxQYXJzZWRUPjtcbn1cblxuZXhwb3J0IHR5cGUgQXV0b1BhcnNlYWJsZVRleHRGb3JtYXQ8UGFyc2VkVD4gPSBSZXNwb25zZUZvcm1hdFRleHRKU09OU2NoZW1hQ29uZmlnICYge1xuICBfX291dHB1dDogUGFyc2VkVDsgLy8gdHlwZS1sZXZlbCBvbmx5XG5cbiAgJGJyYW5kOiAnYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0JztcbiAgJHBhcnNlUmF3KGNvbnRlbnQ6IHN0cmluZyk6IFBhcnNlZFQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVRleHRGb3JtYXQ8UGFyc2VkVD4oXG4gIHJlc3BvbnNlX2Zvcm1hdDogUmVzcG9uc2VGb3JtYXRUZXh0SlNPTlNjaGVtYUNvbmZpZyxcbiAgcGFyc2VyOiAoY29udGVudDogc3RyaW5nKSA9PiBQYXJzZWRULFxuKTogQXV0b1BhcnNlYWJsZVRleHRGb3JtYXQ8UGFyc2VkVD4ge1xuICBjb25zdCBvYmogPSB7IC4uLnJlc3BvbnNlX2Zvcm1hdCB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICRicmFuZDoge1xuICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSxcbiAgICAkcGFyc2VSYXc6IHtcbiAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gb2JqIGFzIEF1dG9QYXJzZWFibGVUZXh0Rm9ybWF0PFBhcnNlZFQ+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdDxQYXJzZWRUPihcbiAgcmVzcG9uc2VfZm9ybWF0OiBhbnksXG4pOiByZXNwb25zZV9mb3JtYXQgaXMgQXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0PFBhcnNlZFQ+IHtcbiAgcmV0dXJuIHJlc3BvbnNlX2Zvcm1hdD8uWyckYnJhbmQnXSA9PT0gJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCc7XG59XG5cbnR5cGUgVG9vbE9wdGlvbnMgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgYXJndW1lbnRzOiBhbnk7XG4gIGZ1bmN0aW9uPzogKChhcmdzOiBhbnkpID0+IGFueSkgfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBBdXRvUGFyc2VhYmxlVG9vbDxcbiAgT3B0aW9uc1QgZXh0ZW5kcyBUb29sT3B0aW9ucyxcbiAgSGFzRnVuY3Rpb24gPSBPcHRpb25zVFsnZnVuY3Rpb24nXSBleHRlbmRzIEZ1bmN0aW9uID8gdHJ1ZSA6IGZhbHNlLFxuPiA9IENoYXRDb21wbGV0aW9uVG9vbCAmIHtcbiAgX19hcmd1bWVudHM6IE9wdGlvbnNUWydhcmd1bWVudHMnXTsgLy8gdHlwZS1sZXZlbCBvbmx5XG4gIF9fbmFtZTogT3B0aW9uc1RbJ25hbWUnXTsgLy8gdHlwZS1sZXZlbCBvbmx5XG4gIF9faGFzRnVuY3Rpb246IEhhc0Z1bmN0aW9uOyAvLyB0eXBlLWxldmVsIG9ubHlcblxuICAkYnJhbmQ6ICdhdXRvLXBhcnNlYWJsZS10b29sJztcbiAgJGNhbGxiYWNrOiAoKGFyZ3M6IE9wdGlvbnNUWydhcmd1bWVudHMnXSkgPT4gYW55KSB8IHVuZGVmaW5lZDtcbiAgJHBhcnNlUmF3KGFyZ3M6IHN0cmluZyk6IE9wdGlvbnNUWydhcmd1bWVudHMnXTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlVG9vbDxPcHRpb25zVCBleHRlbmRzIFRvb2xPcHRpb25zPihcbiAgdG9vbDogQ2hhdENvbXBsZXRpb25Ub29sLFxuICB7XG4gICAgcGFyc2VyLFxuICAgIGNhbGxiYWNrLFxuICB9OiB7XG4gICAgcGFyc2VyOiAoY29udGVudDogc3RyaW5nKSA9PiBPcHRpb25zVFsnYXJndW1lbnRzJ107XG4gICAgY2FsbGJhY2s6ICgoYXJnczogYW55KSA9PiBhbnkpIHwgdW5kZWZpbmVkO1xuICB9LFxuKTogQXV0b1BhcnNlYWJsZVRvb2w8T3B0aW9uc1RbJ2FyZ3VtZW50cyddPiB7XG4gIGNvbnN0IG9iaiA9IHsgLi4udG9vbCB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICRicmFuZDoge1xuICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS10b29sJyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0sXG4gICAgJHBhcnNlUmF3OiB7XG4gICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSxcbiAgICAkY2FsbGJhY2s6IHtcbiAgICAgIHZhbHVlOiBjYWxsYmFjayxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBvYmogYXMgQXV0b1BhcnNlYWJsZVRvb2w8T3B0aW9uc1RbJ2FyZ3VtZW50cyddPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0b1BhcnNhYmxlVG9vbCh0b29sOiBhbnkpOiB0b29sIGlzIEF1dG9QYXJzZWFibGVUb29sPGFueT4ge1xuICByZXR1cm4gdG9vbD8uWyckYnJhbmQnXSA9PT0gJ2F1dG8tcGFyc2VhYmxlLXRvb2wnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF5YmVQYXJzZUNoYXRDb21wbGV0aW9uPFxuICBQYXJhbXMgZXh0ZW5kcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyB8IG51bGwsXG4gIFBhcnNlZFQgPSBQYXJhbXMgZXh0ZW5kcyBudWxsID8gbnVsbCA6IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxOb25OdWxsYWJsZTxQYXJhbXM+Pixcbj4oY29tcGxldGlvbjogQ2hhdENvbXBsZXRpb24sIHBhcmFtczogUGFyYW1zKTogUGFyc2VkQ2hhdENvbXBsZXRpb248UGFyc2VkVD4ge1xuICBpZiAoIXBhcmFtcyB8fCAhaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uY29tcGxldGlvbixcbiAgICAgIGNob2ljZXM6IGNvbXBsZXRpb24uY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4gKHtcbiAgICAgICAgLi4uY2hvaWNlLFxuICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgLi4uY2hvaWNlLm1lc3NhZ2UsXG4gICAgICAgICAgcGFyc2VkOiBudWxsLFxuICAgICAgICAgIC4uLihjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzID9cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9vbF9jYWxsczogY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCksXG4gICAgICAgIH0sXG4gICAgICB9KSksXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNoYXRDb21wbGV0aW9uPFxuICBQYXJhbXMgZXh0ZW5kcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgUGFyc2VkVCA9IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXM+LFxuPihjb21wbGV0aW9uOiBDaGF0Q29tcGxldGlvbiwgcGFyYW1zOiBQYXJhbXMpOiBQYXJzZWRDaGF0Q29tcGxldGlvbjxQYXJzZWRUPiB7XG4gIGNvbnN0IGNob2ljZXM6IEFycmF5PFBhcnNlZENob2ljZTxQYXJzZWRUPj4gPSBjb21wbGV0aW9uLmNob2ljZXMubWFwKChjaG9pY2UpOiBQYXJzZWRDaG9pY2U8UGFyc2VkVD4gPT4ge1xuICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgIH1cblxuICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2NvbnRlbnRfZmlsdGVyJykge1xuICAgICAgdGhyb3cgbmV3IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5jaG9pY2UsXG4gICAgICBtZXNzYWdlOiB7XG4gICAgICAgIC4uLmNob2ljZS5tZXNzYWdlLFxuICAgICAgICAuLi4oY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyA/XG4gICAgICAgICAge1xuICAgICAgICAgICAgdG9vbF9jYWxsczpcbiAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscz8ubWFwKCh0b29sQ2FsbCkgPT4gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSkgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICBwYXJzZWQ6XG4gICAgICAgICAgY2hvaWNlLm1lc3NhZ2UuY29udGVudCAmJiAhY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA/XG4gICAgICAgICAgICBwYXJzZVJlc3BvbnNlRm9ybWF0KHBhcmFtcywgY2hvaWNlLm1lc3NhZ2UuY29udGVudClcbiAgICAgICAgICA6IG51bGwsXG4gICAgICB9LFxuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiB7IC4uLmNvbXBsZXRpb24sIGNob2ljZXMgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VSZXNwb25zZUZvcm1hdDxcbiAgUGFyYW1zIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gIFBhcnNlZFQgPSBFeHRyYWN0UGFyc2VkQ29udGVudEZyb21QYXJhbXM8UGFyYW1zPixcbj4ocGFyYW1zOiBQYXJhbXMsIGNvbnRlbnQ6IHN0cmluZyk6IFBhcnNlZFQgfCBudWxsIHtcbiAgaWYgKHBhcmFtcy5yZXNwb25zZV9mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChwYXJhbXMucmVzcG9uc2VfZm9ybWF0Py50eXBlID09PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgaWYgKCckcGFyc2VSYXcnIGluIHBhcmFtcy5yZXNwb25zZV9mb3JtYXQpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlX2Zvcm1hdCA9IHBhcmFtcy5yZXNwb25zZV9mb3JtYXQgYXMgQXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0PFBhcnNlZFQ+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2VfZm9ybWF0LiRwYXJzZVJhdyhjb250ZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gSlNPTi5wYXJzZShjb250ZW50KTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRvb2xDYWxsPFBhcmFtcyBleHRlbmRzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zPihcbiAgcGFyYW1zOiBQYXJhbXMsXG4gIHRvb2xDYWxsOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCxcbik6IFBhcnNlZEZ1bmN0aW9uVG9vbENhbGwge1xuICBjb25zdCBpbnB1dFRvb2wgPSBwYXJhbXMudG9vbHM/LmZpbmQoKGlucHV0VG9vbCkgPT4gaW5wdXRUb29sLmZ1bmN0aW9uPy5uYW1lID09PSB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lKTtcbiAgcmV0dXJuIHtcbiAgICAuLi50b29sQ2FsbCxcbiAgICBmdW5jdGlvbjoge1xuICAgICAgLi4udG9vbENhbGwuZnVuY3Rpb24sXG4gICAgICBwYXJzZWRfYXJndW1lbnRzOlxuICAgICAgICBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICA6IGlucHV0VG9vbD8uZnVuY3Rpb24uc3RyaWN0ID8gSlNPTi5wYXJzZSh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgIDogbnVsbCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkUGFyc2VUb29sQ2FsbChcbiAgcGFyYW1zOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHRvb2xDYWxsOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCxcbik6IGJvb2xlYW4ge1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGlucHV0VG9vbCA9IHBhcmFtcy50b29scz8uZmluZCgoaW5wdXRUb29sKSA9PiBpbnB1dFRvb2wuZnVuY3Rpb24/Lm5hbWUgPT09IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUpO1xuICByZXR1cm4gaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgfHwgaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgfHwgZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zOiBBbnlDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyk6IGJvb2xlYW4ge1xuICBpZiAoaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdChwYXJhbXMucmVzcG9uc2VfZm9ybWF0KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICBwYXJhbXMudG9vbHM/LnNvbWUoXG4gICAgICAodCkgPT4gaXNBdXRvUGFyc2FibGVUb29sKHQpIHx8ICh0LnR5cGUgPT09ICdmdW5jdGlvbicgJiYgdC5mdW5jdGlvbi5zdHJpY3QgPT09IHRydWUpLFxuICAgICkgPz8gZmFsc2VcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRUb29scyh0b29sczogQ2hhdENvbXBsZXRpb25Ub29sW10gfCB1bmRlZmluZWQpIHtcbiAgZm9yIChjb25zdCB0b29sIG9mIHRvb2xzID8/IFtdKSB7XG4gICAgaWYgKHRvb2wudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKFxuICAgICAgICBgQ3VycmVudGx5IG9ubHkgXFxgZnVuY3Rpb25cXGAgdG9vbCB0eXBlcyBzdXBwb3J0IGF1dG8tcGFyc2luZzsgUmVjZWl2ZWQgXFxgJHt0b29sLnR5cGV9XFxgYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRvb2wuZnVuY3Rpb24uc3RyaWN0ICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgIGBUaGUgXFxgJHt0b29sLmZ1bmN0aW9uLm5hbWV9XFxgIHRvb2wgaXMgbm90IG1hcmtlZCB3aXRoIFxcYHN0cmljdDogdHJ1ZVxcYC4gT25seSBzdHJpY3QgZnVuY3Rpb24gdG9vbHMgY2FuIGJlIGF1dG8tcGFyc2VkYCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB7IHR5cGUgQ29tcGxldGlvblVzYWdlIH0gZnJvbSAnLi4vcmVzb3VyY2VzL2NvbXBsZXRpb25zJztcbmltcG9ydCB7XG4gIHR5cGUgQ2hhdENvbXBsZXRpb24sXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlLFxuICB0eXBlIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtLFxuICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICB0eXBlIENoYXRDb21wbGV0aW9uVG9vbCxcbn0gZnJvbSAnLi4vcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMnO1xuaW1wb3J0IHsgT3BlbkFJRXJyb3IgfSBmcm9tICcuLi9lcnJvcic7XG5pbXBvcnQge1xuICB0eXBlIFJ1bm5hYmxlRnVuY3Rpb24sXG4gIGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZSxcbiAgdHlwZSBCYXNlRnVuY3Rpb25zQXJncyxcbiAgUnVubmFibGVUb29sRnVuY3Rpb24sXG59IGZyb20gJy4vUnVubmFibGVGdW5jdGlvbic7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uUnVubmVyUGFyYW1zLCBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXMgfSBmcm9tICcuL0NoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7XG4gIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nRnVuY3Rpb25SdW5uZXJQYXJhbXMsXG4gIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtcyxcbn0gZnJvbSAnLi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcic7XG5pbXBvcnQgeyBpc0Fzc2lzdGFudE1lc3NhZ2UsIGlzRnVuY3Rpb25NZXNzYWdlLCBpc1Rvb2xNZXNzYWdlIH0gZnJvbSAnLi9jaGF0Q29tcGxldGlvblV0aWxzJztcbmltcG9ydCB7IEJhc2VFdmVudHMsIEV2ZW50U3RyZWFtIH0gZnJvbSAnLi9FdmVudFN0cmVhbSc7XG5pbXBvcnQgeyBQYXJzZWRDaGF0Q29tcGxldGlvbiB9IGZyb20gJy4uL3Jlc291cmNlcy9iZXRhL2NoYXQvY29tcGxldGlvbnMnO1xuaW1wb3J0IE9wZW5BSSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBpc0F1dG9QYXJzYWJsZVRvb2wsIHBhcnNlQ2hhdENvbXBsZXRpb24gfSBmcm9tICcuLi9saWIvcGFyc2VyJztcblxuY29uc3QgREVGQVVMVF9NQVhfQ0hBVF9DT01QTEVUSU9OUyA9IDEwO1xuZXhwb3J0IGludGVyZmFjZSBSdW5uZXJPcHRpb25zIGV4dGVuZHMgQ29yZS5SZXF1ZXN0T3B0aW9ucyB7XG4gIC8qKiBIb3cgbWFueSByZXF1ZXN0cyB0byBtYWtlIGJlZm9yZSBjYW5jZWxpbmcuIERlZmF1bHQgMTAuICovXG4gIG1heENoYXRDb21wbGV0aW9ucz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXI8XG4gIEV2ZW50VHlwZXMgZXh0ZW5kcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzLFxuICBQYXJzZWRULFxuPiBleHRlbmRzIEV2ZW50U3RyZWFtPEV2ZW50VHlwZXM+IHtcbiAgcHJvdGVjdGVkIF9jaGF0Q29tcGxldGlvbnM6IFBhcnNlZENoYXRDb21wbGV0aW9uPFBhcnNlZFQ+W10gPSBbXTtcbiAgbWVzc2FnZXM6IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtW10gPSBbXTtcblxuICBwcm90ZWN0ZWQgX2FkZENoYXRDb21wbGV0aW9uKFxuICAgIHRoaXM6IEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXI8QWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cywgUGFyc2VkVD4sXG4gICAgY2hhdENvbXBsZXRpb246IFBhcnNlZENoYXRDb21wbGV0aW9uPFBhcnNlZFQ+LFxuICApOiBQYXJzZWRDaGF0Q29tcGxldGlvbjxQYXJzZWRUPiB7XG4gICAgdGhpcy5fY2hhdENvbXBsZXRpb25zLnB1c2goY2hhdENvbXBsZXRpb24pO1xuICAgIHRoaXMuX2VtaXQoJ2NoYXRDb21wbGV0aW9uJywgY2hhdENvbXBsZXRpb24pO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjaGF0Q29tcGxldGlvbi5jaG9pY2VzWzBdPy5tZXNzYWdlO1xuICAgIGlmIChtZXNzYWdlKSB0aGlzLl9hZGRNZXNzYWdlKG1lc3NhZ2UgYXMgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0pO1xuICAgIHJldHVybiBjaGF0Q29tcGxldGlvbjtcbiAgfVxuXG4gIHByb3RlY3RlZCBfYWRkTWVzc2FnZShcbiAgICB0aGlzOiBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyPEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMsIFBhcnNlZFQ+LFxuICAgIG1lc3NhZ2U6IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtLFxuICAgIGVtaXQgPSB0cnVlLFxuICApIHtcbiAgICBpZiAoISgnY29udGVudCcgaW4gbWVzc2FnZSkpIG1lc3NhZ2UuY29udGVudCA9IG51bGw7XG5cbiAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG5cbiAgICBpZiAoZW1pdCkge1xuICAgICAgdGhpcy5fZW1pdCgnbWVzc2FnZScsIG1lc3NhZ2UpO1xuICAgICAgaWYgKChpc0Z1bmN0aW9uTWVzc2FnZShtZXNzYWdlKSB8fCBpc1Rvb2xNZXNzYWdlKG1lc3NhZ2UpKSAmJiBtZXNzYWdlLmNvbnRlbnQpIHtcbiAgICAgICAgLy8gTm90ZSwgdGhpcyBhc3N1bWVzIHRoYXQge3JvbGU6ICd0b29sJywgY29udGVudDogXHUyMDI2fSBpcyBhbHdheXMgdGhlIHJlc3VsdCBvZiBhIGNhbGwgb2YgdG9vbCBvZiB0eXBlPWZ1bmN0aW9uLlxuICAgICAgICB0aGlzLl9lbWl0KCdmdW5jdGlvbkNhbGxSZXN1bHQnLCBtZXNzYWdlLmNvbnRlbnQgYXMgc3RyaW5nKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICB0aGlzLl9lbWl0KCdmdW5jdGlvbkNhbGwnLCBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwpO1xuICAgICAgfSBlbHNlIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdG9vbF9jYWxsIG9mIG1lc3NhZ2UudG9vbF9jYWxscykge1xuICAgICAgICAgIGlmICh0b29sX2NhbGwudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZnVuY3Rpb25DYWxsJywgdG9vbF9jYWxsLmZ1bmN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZmluYWwgQ2hhdENvbXBsZXRpb24sIG9yIHJlamVjdHNcbiAgICogaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uLlxuICAgKi9cbiAgYXN5bmMgZmluYWxDaGF0Q29tcGxldGlvbigpOiBQcm9taXNlPFBhcnNlZENoYXRDb21wbGV0aW9uPFBhcnNlZFQ+PiB7XG4gICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgY29uc3QgY29tcGxldGlvbiA9IHRoaXMuX2NoYXRDb21wbGV0aW9uc1t0aGlzLl9jaGF0Q29tcGxldGlvbnMubGVuZ3RoIC0gMV07XG4gICAgaWYgKCFjb21wbGV0aW9uKSB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoJ3N0cmVhbSBlbmRlZCB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uJyk7XG4gICAgcmV0dXJuIGNvbXBsZXRpb247XG4gIH1cblxuICAjZ2V0RmluYWxDb250ZW50KCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLiNnZXRGaW5hbE1lc3NhZ2UoKS5jb250ZW50ID8/IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29udGVudCBvZiB0aGUgZmluYWwgQ2hhdENvbXBsZXRpb25NZXNzYWdlLCBvciByZWplY3RzXG4gICAqIGlmIGFuIGVycm9yIG9jY3VycmVkIG9yIHRoZSBzdHJlYW0gZW5kZWQgcHJlbWF0dXJlbHkgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbk1lc3NhZ2UuXG4gICAqL1xuICBhc3luYyBmaW5hbENvbnRlbnQoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgcmV0dXJuIHRoaXMuI2dldEZpbmFsQ29udGVudCgpO1xuICB9XG5cbiAgI2dldEZpbmFsTWVzc2FnZSgpOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2Uge1xuICAgIGxldCBpID0gdGhpcy5tZXNzYWdlcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW2ldO1xuICAgICAgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSkge1xuICAgICAgICBjb25zdCB7IGZ1bmN0aW9uX2NhbGwsIC4uLnJlc3QgfSA9IG1lc3NhZ2U7XG5cbiAgICAgICAgLy8gVE9ETzogc3VwcG9ydCBhdWRpbyBoZXJlXG4gICAgICAgIGNvbnN0IHJldDogT21pdDxDaGF0Q29tcGxldGlvbk1lc3NhZ2UsICdhdWRpbyc+ID0ge1xuICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgY29udGVudDogKG1lc3NhZ2UgYXMgQ2hhdENvbXBsZXRpb25NZXNzYWdlKS5jb250ZW50ID8/IG51bGwsXG4gICAgICAgICAgcmVmdXNhbDogKG1lc3NhZ2UgYXMgQ2hhdENvbXBsZXRpb25NZXNzYWdlKS5yZWZ1c2FsID8/IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChmdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgcmV0LmZ1bmN0aW9uX2NhbGwgPSBmdW5jdGlvbl9jYWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignc3RyZWFtIGVuZGVkIHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlIHdpdGggcm9sZT1hc3Npc3RhbnQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB0aGUgZmluYWwgYXNzaXN0YW50IENoYXRDb21wbGV0aW9uTWVzc2FnZSByZXNwb25zZSxcbiAgICogb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlLlxuICAgKi9cbiAgYXN5bmMgZmluYWxNZXNzYWdlKCk6IFByb21pc2U8Q2hhdENvbXBsZXRpb25NZXNzYWdlPiB7XG4gICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgcmV0dXJuIHRoaXMuI2dldEZpbmFsTWVzc2FnZSgpO1xuICB9XG5cbiAgI2dldEZpbmFsRnVuY3Rpb25DYWxsKCk6IENoYXRDb21wbGV0aW9uTWVzc2FnZS5GdW5jdGlvbkNhbGwgfCB1bmRlZmluZWQge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLm1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlc1tpXTtcbiAgICAgIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZT8uZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZS5mdW5jdGlvbl9jYWxsO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlPy50b29sX2NhbGxzPy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UudG9vbF9jYWxscy5hdCgtMSk/LmZ1bmN0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb250ZW50IG9mIHRoZSBmaW5hbCBGdW5jdGlvbkNhbGwsIG9yIHJlamVjdHNcbiAgICogaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uTWVzc2FnZS5cbiAgICovXG4gIGFzeW5jIGZpbmFsRnVuY3Rpb25DYWxsKCk6IFByb21pc2U8Q2hhdENvbXBsZXRpb25NZXNzYWdlLkZ1bmN0aW9uQ2FsbCB8IHVuZGVmaW5lZD4ge1xuICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgIHJldHVybiB0aGlzLiNnZXRGaW5hbEZ1bmN0aW9uQ2FsbCgpO1xuICB9XG5cbiAgI2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMubWVzc2FnZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW2ldO1xuICAgICAgaWYgKGlzRnVuY3Rpb25NZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UuY29udGVudCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlLmNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGlzVG9vbE1lc3NhZ2UobWVzc2FnZSkgJiZcbiAgICAgICAgbWVzc2FnZS5jb250ZW50ICE9IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgdGhpcy5tZXNzYWdlcy5zb21lKFxuICAgICAgICAgICh4KSA9PlxuICAgICAgICAgICAgeC5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICAgICAgeC50b29sX2NhbGxzPy5zb21lKCh5KSA9PiB5LnR5cGUgPT09ICdmdW5jdGlvbicgJiYgeS5pZCA9PT0gbWVzc2FnZS50b29sX2NhbGxfaWQpLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY29udGVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBhc3luYyBmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgIHJldHVybiB0aGlzLiNnZXRGaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCgpO1xuICB9XG5cbiAgI2NhbGN1bGF0ZVRvdGFsVXNhZ2UoKTogQ29tcGxldGlvblVzYWdlIHtcbiAgICBjb25zdCB0b3RhbDogQ29tcGxldGlvblVzYWdlID0ge1xuICAgICAgY29tcGxldGlvbl90b2tlbnM6IDAsXG4gICAgICBwcm9tcHRfdG9rZW5zOiAwLFxuICAgICAgdG90YWxfdG9rZW5zOiAwLFxuICAgIH07XG4gICAgZm9yIChjb25zdCB7IHVzYWdlIH0gb2YgdGhpcy5fY2hhdENvbXBsZXRpb25zKSB7XG4gICAgICBpZiAodXNhZ2UpIHtcbiAgICAgICAgdG90YWwuY29tcGxldGlvbl90b2tlbnMgKz0gdXNhZ2UuY29tcGxldGlvbl90b2tlbnM7XG4gICAgICAgIHRvdGFsLnByb21wdF90b2tlbnMgKz0gdXNhZ2UucHJvbXB0X3Rva2VucztcbiAgICAgICAgdG90YWwudG90YWxfdG9rZW5zICs9IHVzYWdlLnRvdGFsX3Rva2VucztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsO1xuICB9XG5cbiAgYXN5bmMgdG90YWxVc2FnZSgpOiBQcm9taXNlPENvbXBsZXRpb25Vc2FnZT4ge1xuICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgIHJldHVybiB0aGlzLiNjYWxjdWxhdGVUb3RhbFVzYWdlKCk7XG4gIH1cblxuICBhbGxDaGF0Q29tcGxldGlvbnMoKTogQ2hhdENvbXBsZXRpb25bXSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLl9jaGF0Q29tcGxldGlvbnNdO1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIF9lbWl0RmluYWwoXG4gICAgdGhpczogQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcjxBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzLCBQYXJzZWRUPixcbiAgKSB7XG4gICAgY29uc3QgY29tcGxldGlvbiA9IHRoaXMuX2NoYXRDb21wbGV0aW9uc1t0aGlzLl9jaGF0Q29tcGxldGlvbnMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGNvbXBsZXRpb24pIHRoaXMuX2VtaXQoJ2ZpbmFsQ2hhdENvbXBsZXRpb24nLCBjb21wbGV0aW9uKTtcbiAgICBjb25zdCBmaW5hbE1lc3NhZ2UgPSB0aGlzLiNnZXRGaW5hbE1lc3NhZ2UoKTtcbiAgICBpZiAoZmluYWxNZXNzYWdlKSB0aGlzLl9lbWl0KCdmaW5hbE1lc3NhZ2UnLCBmaW5hbE1lc3NhZ2UpO1xuICAgIGNvbnN0IGZpbmFsQ29udGVudCA9IHRoaXMuI2dldEZpbmFsQ29udGVudCgpO1xuICAgIGlmIChmaW5hbENvbnRlbnQpIHRoaXMuX2VtaXQoJ2ZpbmFsQ29udGVudCcsIGZpbmFsQ29udGVudCk7XG5cbiAgICBjb25zdCBmaW5hbEZ1bmN0aW9uQ2FsbCA9IHRoaXMuI2dldEZpbmFsRnVuY3Rpb25DYWxsKCk7XG4gICAgaWYgKGZpbmFsRnVuY3Rpb25DYWxsKSB0aGlzLl9lbWl0KCdmaW5hbEZ1bmN0aW9uQ2FsbCcsIGZpbmFsRnVuY3Rpb25DYWxsKTtcblxuICAgIGNvbnN0IGZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0ID0gdGhpcy4jZ2V0RmluYWxGdW5jdGlvbkNhbGxSZXN1bHQoKTtcbiAgICBpZiAoZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQgIT0gbnVsbCkgdGhpcy5fZW1pdCgnZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQnLCBmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCk7XG5cbiAgICBpZiAodGhpcy5fY2hhdENvbXBsZXRpb25zLnNvbWUoKGMpID0+IGMudXNhZ2UpKSB7XG4gICAgICB0aGlzLl9lbWl0KCd0b3RhbFVzYWdlJywgdGhpcy4jY2FsY3VsYXRlVG90YWxVc2FnZSgpKTtcbiAgICB9XG4gIH1cblxuICAjdmFsaWRhdGVQYXJhbXMocGFyYW1zOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyk6IHZvaWQge1xuICAgIGlmIChwYXJhbXMubiAhPSBudWxsICYmIHBhcmFtcy5uID4gMSkge1xuICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKFxuICAgICAgICAnQ2hhdENvbXBsZXRpb24gY29udmVuaWVuY2UgaGVscGVycyBvbmx5IHN1cHBvcnQgbj0xIGF0IHRoaXMgdGltZS4gVG8gdXNlIG4+MSwgcGxlYXNlIHVzZSBjaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSgpIGRpcmVjdGx5LicsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfY3JlYXRlQ2hhdENvbXBsZXRpb24oXG4gICAgY2xpZW50OiBPcGVuQUksXG4gICAgcGFyYW1zOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxQYXJzZWRDaGF0Q29tcGxldGlvbjxQYXJzZWRUPj4ge1xuICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICBpZiAoc2lnbmFsKSB7XG4gICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgIH1cbiAgICB0aGlzLiN2YWxpZGF0ZVBhcmFtcyhwYXJhbXMpO1xuXG4gICAgY29uc3QgY2hhdENvbXBsZXRpb24gPSBhd2FpdCBjbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoXG4gICAgICB7IC4uLnBhcmFtcywgc3RyZWFtOiBmYWxzZSB9LFxuICAgICAgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSxcbiAgICApO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbihwYXJzZUNoYXRDb21wbGV0aW9uKGNoYXRDb21wbGV0aW9uLCBwYXJhbXMpKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfcnVuQ2hhdENvbXBsZXRpb24oXG4gICAgY2xpZW50OiBPcGVuQUksXG4gICAgcGFyYW1zOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxDaGF0Q29tcGxldGlvbj4ge1xuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBwYXJhbXMubWVzc2FnZXMpIHtcbiAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZSwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIF9ydW5GdW5jdGlvbnM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPihcbiAgICBjbGllbnQ6IE9wZW5BSSxcbiAgICBwYXJhbXM6XG4gICAgICB8IENoYXRDb21wbGV0aW9uRnVuY3Rpb25SdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz5cbiAgICAgIHwgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdGdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICBvcHRpb25zPzogUnVubmVyT3B0aW9ucyxcbiAgKSB7XG4gICAgY29uc3Qgcm9sZSA9ICdmdW5jdGlvbicgYXMgY29uc3Q7XG4gICAgY29uc3QgeyBmdW5jdGlvbl9jYWxsID0gJ2F1dG8nLCBzdHJlYW0sIC4uLnJlc3RQYXJhbXMgfSA9IHBhcmFtcztcbiAgICBjb25zdCBzaW5nbGVGdW5jdGlvblRvQ2FsbCA9IHR5cGVvZiBmdW5jdGlvbl9jYWxsICE9PSAnc3RyaW5nJyAmJiBmdW5jdGlvbl9jYWxsPy5uYW1lO1xuICAgIGNvbnN0IHsgbWF4Q2hhdENvbXBsZXRpb25zID0gREVGQVVMVF9NQVhfQ0hBVF9DT01QTEVUSU9OUyB9ID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGNvbnN0IGZ1bmN0aW9uc0J5TmFtZTogUmVjb3JkPHN0cmluZywgUnVubmFibGVGdW5jdGlvbjxhbnk+PiA9IHt9O1xuICAgIGZvciAoY29uc3QgZiBvZiBwYXJhbXMuZnVuY3Rpb25zKSB7XG4gICAgICBmdW5jdGlvbnNCeU5hbWVbZi5uYW1lIHx8IGYuZnVuY3Rpb24ubmFtZV0gPSBmO1xuICAgIH1cblxuICAgIGNvbnN0IGZ1bmN0aW9uczogQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMuRnVuY3Rpb25bXSA9IHBhcmFtcy5mdW5jdGlvbnMubWFwKFxuICAgICAgKGYpOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcy5GdW5jdGlvbiA9PiAoe1xuICAgICAgICBuYW1lOiBmLm5hbWUgfHwgZi5mdW5jdGlvbi5uYW1lLFxuICAgICAgICBwYXJhbWV0ZXJzOiBmLnBhcmFtZXRlcnMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICAgIGRlc2NyaXB0aW9uOiBmLmRlc2NyaXB0aW9uLFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBwYXJhbXMubWVzc2FnZXMpIHtcbiAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4Q2hhdENvbXBsZXRpb25zOyArK2kpIHtcbiAgICAgIGNvbnN0IGNoYXRDb21wbGV0aW9uOiBDaGF0Q29tcGxldGlvbiA9IGF3YWl0IHRoaXMuX2NyZWF0ZUNoYXRDb21wbGV0aW9uKFxuICAgICAgICBjbGllbnQsXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5yZXN0UGFyYW1zLFxuICAgICAgICAgIGZ1bmN0aW9uX2NhbGwsXG4gICAgICAgICAgZnVuY3Rpb25zLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbLi4udGhpcy5tZXNzYWdlc10sXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGNoYXRDb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG1lc3NhZ2UgaW4gQ2hhdENvbXBsZXRpb24gcmVzcG9uc2VgKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWVzc2FnZS5mdW5jdGlvbl9jYWxsKSByZXR1cm47XG4gICAgICBjb25zdCB7IG5hbWUsIGFyZ3VtZW50czogYXJncyB9ID0gbWVzc2FnZS5mdW5jdGlvbl9jYWxsO1xuICAgICAgY29uc3QgZm4gPSBmdW5jdGlvbnNCeU5hbWVbbmFtZV07XG4gICAgICBpZiAoIWZuKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCBmdW5jdGlvbl9jYWxsOiAke0pTT04uc3RyaW5naWZ5KG5hbWUpfS4gQXZhaWxhYmxlIG9wdGlvbnMgYXJlOiAke2Z1bmN0aW9uc1xuICAgICAgICAgIC5tYXAoKGYpID0+IEpTT04uc3RyaW5naWZ5KGYubmFtZSkpXG4gICAgICAgICAgLmpvaW4oJywgJyl9LiBQbGVhc2UgdHJ5IGFnYWluYDtcblxuICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgbmFtZSwgY29udGVudCB9KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKHNpbmdsZUZ1bmN0aW9uVG9DYWxsICYmIHNpbmdsZUZ1bmN0aW9uVG9DYWxsICE9PSBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCBmdW5jdGlvbl9jYWxsOiAke0pTT04uc3RyaW5naWZ5KG5hbWUpfS4gJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBzaW5nbGVGdW5jdGlvblRvQ2FsbCxcbiAgICAgICAgKX0gcmVxdWVzdGVkLiBQbGVhc2UgdHJ5IGFnYWluYDtcblxuICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgbmFtZSwgY29udGVudCB9KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBwYXJzZWQ7XG4gICAgICB0cnkge1xuICAgICAgICBwYXJzZWQgPSBpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2UoZm4pID8gYXdhaXQgZm4ucGFyc2UoYXJncykgOiBhcmdzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7XG4gICAgICAgICAgcm9sZSxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGNvbnRlbnQ6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGl0IGNhbid0IHJ1bGUgb3V0IGBuZXZlcmAgdHlwZS5cbiAgICAgIGNvbnN0IHJhd0NvbnRlbnQgPSBhd2FpdCBmbi5mdW5jdGlvbihwYXJzZWQsIHRoaXMpO1xuICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuI3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdChyYXdDb250ZW50KTtcblxuICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIG5hbWUsIGNvbnRlbnQgfSk7XG5cbiAgICAgIGlmIChzaW5nbGVGdW5jdGlvblRvQ2FsbCkgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfcnVuVG9vbHM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPihcbiAgICBjbGllbnQ6IE9wZW5BSSxcbiAgICBwYXJhbXM6XG4gICAgICB8IENoYXRDb21wbGV0aW9uVG9vbFJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPlxuICAgICAgfCBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1Rvb2xSdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz4sXG4gICAgb3B0aW9ucz86IFJ1bm5lck9wdGlvbnMsXG4gICkge1xuICAgIGNvbnN0IHJvbGUgPSAndG9vbCcgYXMgY29uc3Q7XG4gICAgY29uc3QgeyB0b29sX2Nob2ljZSA9ICdhdXRvJywgc3RyZWFtLCAuLi5yZXN0UGFyYW1zIH0gPSBwYXJhbXM7XG4gICAgY29uc3Qgc2luZ2xlRnVuY3Rpb25Ub0NhbGwgPSB0eXBlb2YgdG9vbF9jaG9pY2UgIT09ICdzdHJpbmcnICYmIHRvb2xfY2hvaWNlPy5mdW5jdGlvbj8ubmFtZTtcbiAgICBjb25zdCB7IG1heENoYXRDb21wbGV0aW9ucyA9IERFRkFVTFRfTUFYX0NIQVRfQ09NUExFVElPTlMgfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBUT0RPKHNvbWVkYXkpOiBjbGVhbiB0aGlzIGxvZ2ljIHVwXG4gICAgY29uc3QgaW5wdXRUb29scyA9IHBhcmFtcy50b29scy5tYXAoKHRvb2wpOiBSdW5uYWJsZVRvb2xGdW5jdGlvbjxhbnk+ID0+IHtcbiAgICAgIGlmIChpc0F1dG9QYXJzYWJsZVRvb2wodG9vbCkpIHtcbiAgICAgICAgaWYgKCF0b29sLiRjYWxsYmFjaykge1xuICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignVG9vbCBnaXZlbiB0byBgLnJ1blRvb2xzKClgIHRoYXQgZG9lcyBub3QgaGF2ZSBhbiBhc3NvY2lhdGVkIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgIGZ1bmN0aW9uOiB0b29sLiRjYWxsYmFjayxcbiAgICAgICAgICAgIG5hbWU6IHRvb2wuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0b29sLmZ1bmN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogdG9vbC5mdW5jdGlvbi5wYXJhbWV0ZXJzIGFzIGFueSxcbiAgICAgICAgICAgIHBhcnNlOiB0b29sLiRwYXJzZVJhdyxcbiAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9vbCBhcyBhbnkgYXMgUnVubmFibGVUb29sRnVuY3Rpb248YW55PjtcbiAgICB9KTtcblxuICAgIGNvbnN0IGZ1bmN0aW9uc0J5TmFtZTogUmVjb3JkPHN0cmluZywgUnVubmFibGVGdW5jdGlvbjxhbnk+PiA9IHt9O1xuICAgIGZvciAoY29uc3QgZiBvZiBpbnB1dFRvb2xzKSB7XG4gICAgICBpZiAoZi50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZ1bmN0aW9uc0J5TmFtZVtmLmZ1bmN0aW9uLm5hbWUgfHwgZi5mdW5jdGlvbi5mdW5jdGlvbi5uYW1lXSA9IGYuZnVuY3Rpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdG9vbHM6IENoYXRDb21wbGV0aW9uVG9vbFtdID1cbiAgICAgICd0b29scycgaW4gcGFyYW1zID9cbiAgICAgICAgaW5wdXRUb29scy5tYXAoKHQpID0+XG4gICAgICAgICAgdC50eXBlID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0LmZ1bmN0aW9uLm5hbWUgfHwgdC5mdW5jdGlvbi5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHQuZnVuY3Rpb24ucGFyYW1ldGVycyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdC5mdW5jdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBzdHJpY3Q6IHQuZnVuY3Rpb24uc3RyaWN0LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDogKHQgYXMgdW5rbm93biBhcyBDaGF0Q29tcGxldGlvblRvb2wpLFxuICAgICAgICApXG4gICAgICA6ICh1bmRlZmluZWQgYXMgYW55KTtcblxuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBwYXJhbXMubWVzc2FnZXMpIHtcbiAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4Q2hhdENvbXBsZXRpb25zOyArK2kpIHtcbiAgICAgIGNvbnN0IGNoYXRDb21wbGV0aW9uOiBDaGF0Q29tcGxldGlvbiA9IGF3YWl0IHRoaXMuX2NyZWF0ZUNoYXRDb21wbGV0aW9uKFxuICAgICAgICBjbGllbnQsXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5yZXN0UGFyYW1zLFxuICAgICAgICAgIHRvb2xfY2hvaWNlLFxuICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbLi4udGhpcy5tZXNzYWdlc10sXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGNoYXRDb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U7XG4gICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG1lc3NhZ2UgaW4gQ2hhdENvbXBsZXRpb24gcmVzcG9uc2VgKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWVzc2FnZS50b29sX2NhbGxzPy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHRvb2xfY2FsbCBvZiBtZXNzYWdlLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgaWYgKHRvb2xfY2FsbC50eXBlICE9PSAnZnVuY3Rpb24nKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgdG9vbF9jYWxsX2lkID0gdG9vbF9jYWxsLmlkO1xuICAgICAgICBjb25zdCB7IG5hbWUsIGFyZ3VtZW50czogYXJncyB9ID0gdG9vbF9jYWxsLmZ1bmN0aW9uO1xuICAgICAgICBjb25zdCBmbiA9IGZ1bmN0aW9uc0J5TmFtZVtuYW1lXTtcblxuICAgICAgICBpZiAoIWZuKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGBJbnZhbGlkIHRvb2xfY2FsbDogJHtKU09OLnN0cmluZ2lmeShuYW1lKX0uIEF2YWlsYWJsZSBvcHRpb25zIGFyZTogJHtPYmplY3Qua2V5cyhcbiAgICAgICAgICAgIGZ1bmN0aW9uc0J5TmFtZSxcbiAgICAgICAgICApXG4gICAgICAgICAgICAubWFwKChuYW1lKSA9PiBKU09OLnN0cmluZ2lmeShuYW1lKSlcbiAgICAgICAgICAgIC5qb2luKCcsICcpfS4gUGxlYXNlIHRyeSBhZ2FpbmA7XG5cbiAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHNpbmdsZUZ1bmN0aW9uVG9DYWxsICYmIHNpbmdsZUZ1bmN0aW9uVG9DYWxsICE9PSBuYW1lKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGBJbnZhbGlkIHRvb2xfY2FsbDogJHtKU09OLnN0cmluZ2lmeShuYW1lKX0uICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBzaW5nbGVGdW5jdGlvblRvQ2FsbCxcbiAgICAgICAgICApfSByZXF1ZXN0ZWQuIFBsZWFzZSB0cnkgYWdhaW5gO1xuXG4gICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIHRvb2xfY2FsbF9pZCwgY29udGVudCB9KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYXJzZWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGFyc2VkID0gaXNSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlKGZuKSA/IGF3YWl0IGZuLnBhcnNlKGFyZ3MpIDogYXJncztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCB0b29sX2NhbGxfaWQsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGl0IGNhbid0IHJ1bGUgb3V0IGBuZXZlcmAgdHlwZS5cbiAgICAgICAgY29uc3QgcmF3Q29udGVudCA9IGF3YWl0IGZuLmZ1bmN0aW9uKHBhcnNlZCwgdGhpcyk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLiNzdHJpbmdpZnlGdW5jdGlvbkNhbGxSZXN1bHQocmF3Q29udGVudCk7XG4gICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCB0b29sX2NhbGxfaWQsIGNvbnRlbnQgfSk7XG5cbiAgICAgICAgaWYgKHNpbmdsZUZ1bmN0aW9uVG9DYWxsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgI3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdChyYXdDb250ZW50OiB1bmtub3duKTogc3RyaW5nIHtcbiAgICByZXR1cm4gKFxuICAgICAgdHlwZW9mIHJhd0NvbnRlbnQgPT09ICdzdHJpbmcnID8gcmF3Q29udGVudFxuICAgICAgOiByYXdDb250ZW50ID09PSB1bmRlZmluZWQgPyAndW5kZWZpbmVkJ1xuICAgICAgOiBKU09OLnN0cmluZ2lmeShyYXdDb250ZW50KVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzIGV4dGVuZHMgQmFzZUV2ZW50cyB7XG4gIGZ1bmN0aW9uQ2FsbDogKGZ1bmN0aW9uQ2FsbDogQ2hhdENvbXBsZXRpb25NZXNzYWdlLkZ1bmN0aW9uQ2FsbCkgPT4gdm9pZDtcbiAgbWVzc2FnZTogKG1lc3NhZ2U6IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtKSA9PiB2b2lkO1xuICBjaGF0Q29tcGxldGlvbjogKGNvbXBsZXRpb246IENoYXRDb21wbGV0aW9uKSA9PiB2b2lkO1xuICBmaW5hbENvbnRlbnQ6IChjb250ZW50U25hcHNob3Q6IHN0cmluZykgPT4gdm9pZDtcbiAgZmluYWxNZXNzYWdlOiAobWVzc2FnZTogQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0pID0+IHZvaWQ7XG4gIGZpbmFsQ2hhdENvbXBsZXRpb246IChjb21wbGV0aW9uOiBDaGF0Q29tcGxldGlvbikgPT4gdm9pZDtcbiAgZmluYWxGdW5jdGlvbkNhbGw6IChmdW5jdGlvbkNhbGw6IENoYXRDb21wbGV0aW9uTWVzc2FnZS5GdW5jdGlvbkNhbGwpID0+IHZvaWQ7XG4gIGZ1bmN0aW9uQ2FsbFJlc3VsdDogKGNvbnRlbnQ6IHN0cmluZykgPT4gdm9pZDtcbiAgZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQ6IChjb250ZW50OiBzdHJpbmcpID0+IHZvaWQ7XG4gIHRvdGFsVXNhZ2U6ICh1c2FnZTogQ29tcGxldGlvblVzYWdlKSA9PiB2b2lkO1xufVxuIiwgImltcG9ydCB7XG4gIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlUGFyYW0sXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG59IGZyb20gJy4uL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zJztcbmltcG9ydCB7IHR5cGUgUnVubmFibGVGdW5jdGlvbnMsIHR5cGUgQmFzZUZ1bmN0aW9uc0FyZ3MsIFJ1bm5hYmxlVG9vbHMgfSBmcm9tICcuL1J1bm5hYmxlRnVuY3Rpb24nO1xuaW1wb3J0IHtcbiAgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcixcbiAgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cyxcbiAgUnVubmVyT3B0aW9ucyxcbn0gZnJvbSAnLi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7IGlzQXNzaXN0YW50TWVzc2FnZSB9IGZyb20gJy4vY2hhdENvbXBsZXRpb25VdGlscyc7XG5pbXBvcnQgT3BlbkFJIGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IEF1dG9QYXJzZWFibGVUb29sIH0gZnJvbSAnLi4vbGliL3BhcnNlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMgZXh0ZW5kcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzIHtcbiAgY29udGVudDogKGNvbnRlbnQ6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25GdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+ID0gT21pdDxcbiAgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICdmdW5jdGlvbnMnXG4+ICYge1xuICBmdW5jdGlvbnM6IFJ1bm5hYmxlRnVuY3Rpb25zPEZ1bmN0aW9uc0FyZ3M+O1xufTtcblxuZXhwb3J0IHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3MgZXh0ZW5kcyBCYXNlRnVuY3Rpb25zQXJncz4gPSBPbWl0PFxuICBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgJ3Rvb2xzJ1xuPiAmIHtcbiAgdG9vbHM6IFJ1bm5hYmxlVG9vbHM8RnVuY3Rpb25zQXJncz4gfCBBdXRvUGFyc2VhYmxlVG9vbDxhbnksIHRydWU+W107XG59O1xuXG5leHBvcnQgY2xhc3MgQ2hhdENvbXBsZXRpb25SdW5uZXI8UGFyc2VkVCA9IG51bGw+IGV4dGVuZHMgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcjxcbiAgQ2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMsXG4gIFBhcnNlZFRcbj4ge1xuICAvKiogQGRlcHJlY2F0ZWQgLSBwbGVhc2UgdXNlIGBydW5Ub29sc2AgaW5zdGVhZC4gKi9cbiAgc3RhdGljIHJ1bkZ1bmN0aW9ucyhcbiAgICBjbGllbnQ6IE9wZW5BSSxcbiAgICBwYXJhbXM6IENoYXRDb21wbGV0aW9uRnVuY3Rpb25SdW5uZXJQYXJhbXM8YW55W10+LFxuICAgIG9wdGlvbnM/OiBSdW5uZXJPcHRpb25zLFxuICApOiBDaGF0Q29tcGxldGlvblJ1bm5lcjxudWxsPiB7XG4gICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uUnVubmVyKCk7XG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1bkZ1bmN0aW9ucycgfSxcbiAgICB9O1xuICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuRnVuY3Rpb25zKGNsaWVudCwgcGFyYW1zLCBvcHRzKSk7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbiAgfVxuXG4gIHN0YXRpYyBydW5Ub29sczxQYXJzZWRUPihcbiAgICBjbGllbnQ6IE9wZW5BSSxcbiAgICBwYXJhbXM6IENoYXRDb21wbGV0aW9uVG9vbFJ1bm5lclBhcmFtczxhbnlbXT4sXG4gICAgb3B0aW9ucz86IFJ1bm5lck9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uUnVubmVyPFBhcnNlZFQ+IHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25SdW5uZXI8UGFyc2VkVD4oKTtcbiAgICBjb25zdCBvcHRzID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAncnVuVG9vbHMnIH0sXG4gICAgfTtcbiAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRzKSk7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbiAgfVxuXG4gIG92ZXJyaWRlIF9hZGRNZXNzYWdlKFxuICAgIHRoaXM6IENoYXRDb21wbGV0aW9uUnVubmVyPFBhcnNlZFQ+LFxuICAgIG1lc3NhZ2U6IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtLFxuICAgIGVtaXQ6IGJvb2xlYW4gPSB0cnVlLFxuICApIHtcbiAgICBzdXBlci5fYWRkTWVzc2FnZShtZXNzYWdlLCBlbWl0KTtcbiAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgdGhpcy5fZW1pdCgnY29udGVudCcsIG1lc3NhZ2UuY29udGVudCBhcyBzdHJpbmcpO1xuICAgIH1cbiAgfVxufVxuIiwgImNvbnN0IFNUUiA9IDBiMDAwMDAwMDAxO1xuY29uc3QgTlVNID0gMGIwMDAwMDAwMTA7XG5jb25zdCBBUlIgPSAwYjAwMDAwMDEwMDtcbmNvbnN0IE9CSiA9IDBiMDAwMDAxMDAwO1xuY29uc3QgTlVMTCA9IDBiMDAwMDEwMDAwO1xuY29uc3QgQk9PTCA9IDBiMDAwMTAwMDAwO1xuY29uc3QgTkFOID0gMGIwMDEwMDAwMDA7XG5jb25zdCBJTkZJTklUWSA9IDBiMDEwMDAwMDAwO1xuY29uc3QgTUlOVVNfSU5GSU5JVFkgPSAwYjEwMDAwMDAwMDtcblxuY29uc3QgSU5GID0gSU5GSU5JVFkgfCBNSU5VU19JTkZJTklUWTtcbmNvbnN0IFNQRUNJQUwgPSBOVUxMIHwgQk9PTCB8IElORiB8IE5BTjtcbmNvbnN0IEFUT00gPSBTVFIgfCBOVU0gfCBTUEVDSUFMO1xuY29uc3QgQ09MTEVDVElPTiA9IEFSUiB8IE9CSjtcbmNvbnN0IEFMTCA9IEFUT00gfCBDT0xMRUNUSU9OO1xuXG5jb25zdCBBbGxvdyA9IHtcbiAgU1RSLFxuICBOVU0sXG4gIEFSUixcbiAgT0JKLFxuICBOVUxMLFxuICBCT09MLFxuICBOQU4sXG4gIElORklOSVRZLFxuICBNSU5VU19JTkZJTklUWSxcbiAgSU5GLFxuICBTUEVDSUFMLFxuICBBVE9NLFxuICBDT0xMRUNUSU9OLFxuICBBTEwsXG59O1xuXG4vLyBUaGUgSlNPTiBzdHJpbmcgc2VnbWVudCB3YXMgdW5hYmxlIHRvIGJlIHBhcnNlZCBjb21wbGV0ZWx5XG5jbGFzcyBQYXJ0aWFsSlNPTiBleHRlbmRzIEVycm9yIHt9XG5cbmNsYXNzIE1hbGZvcm1lZEpTT04gZXh0ZW5kcyBFcnJvciB7fVxuXG4vKipcbiAqIFBhcnNlIGluY29tcGxldGUgSlNPTlxuICogQHBhcmFtIHtzdHJpbmd9IGpzb25TdHJpbmcgUGFydGlhbCBKU09OIHRvIGJlIHBhcnNlZFxuICogQHBhcmFtIHtudW1iZXJ9IGFsbG93UGFydGlhbCBTcGVjaWZ5IHdoYXQgdHlwZXMgYXJlIGFsbG93ZWQgdG8gYmUgcGFydGlhbCwgc2VlIHtAbGluayBBbGxvd30gZm9yIGRldGFpbHNcbiAqIEByZXR1cm5zIFRoZSBwYXJzZWQgSlNPTlxuICogQHRocm93cyB7UGFydGlhbEpTT059IElmIHRoZSBKU09OIGlzIGluY29tcGxldGUgKHJlbGF0ZWQgdG8gdGhlIGBhbGxvd2AgcGFyYW1ldGVyKVxuICogQHRocm93cyB7TWFsZm9ybWVkSlNPTn0gSWYgdGhlIEpTT04gaXMgbWFsZm9ybWVkXG4gKi9cbmZ1bmN0aW9uIHBhcnNlSlNPTihqc29uU3RyaW5nOiBzdHJpbmcsIGFsbG93UGFydGlhbDogbnVtYmVyID0gQWxsb3cuQUxMKTogYW55IHtcbiAgaWYgKHR5cGVvZiBqc29uU3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGluZyBzdHIsIGdvdCAke3R5cGVvZiBqc29uU3RyaW5nfWApO1xuICB9XG4gIGlmICghanNvblN0cmluZy50cmltKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7anNvblN0cmluZ30gaXMgZW1wdHlgKTtcbiAgfVxuICByZXR1cm4gX3BhcnNlSlNPTihqc29uU3RyaW5nLnRyaW0oKSwgYWxsb3dQYXJ0aWFsKTtcbn1cblxuY29uc3QgX3BhcnNlSlNPTiA9IChqc29uU3RyaW5nOiBzdHJpbmcsIGFsbG93OiBudW1iZXIpID0+IHtcbiAgY29uc3QgbGVuZ3RoID0ganNvblN0cmluZy5sZW5ndGg7XG4gIGxldCBpbmRleCA9IDA7XG5cbiAgY29uc3QgbWFya1BhcnRpYWxKU09OID0gKG1zZzogc3RyaW5nKSA9PiB7XG4gICAgdGhyb3cgbmV3IFBhcnRpYWxKU09OKGAke21zZ30gYXQgcG9zaXRpb24gJHtpbmRleH1gKTtcbiAgfTtcblxuICBjb25zdCB0aHJvd01hbGZvcm1lZEVycm9yID0gKG1zZzogc3RyaW5nKSA9PiB7XG4gICAgdGhyb3cgbmV3IE1hbGZvcm1lZEpTT04oYCR7bXNnfSBhdCBwb3NpdGlvbiAke2luZGV4fWApO1xuICB9O1xuXG4gIGNvbnN0IHBhcnNlQW55OiAoKSA9PiBhbnkgPSAoKSA9PiB7XG4gICAgc2tpcEJsYW5rKCk7XG4gICAgaWYgKGluZGV4ID49IGxlbmd0aCkgbWFya1BhcnRpYWxKU09OKCdVbmV4cGVjdGVkIGVuZCBvZiBpbnB1dCcpO1xuICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJ1wiJykgcmV0dXJuIHBhcnNlU3RyKCk7XG4gICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAneycpIHJldHVybiBwYXJzZU9iaigpO1xuICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJ1snKSByZXR1cm4gcGFyc2VBcnIoKTtcbiAgICBpZiAoXG4gICAgICBqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA0KSA9PT0gJ251bGwnIHx8XG4gICAgICAoQWxsb3cuTlVMTCAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgNCAmJiAnbnVsbCcuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKVxuICAgICkge1xuICAgICAgaW5kZXggKz0gNDtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA0KSA9PT0gJ3RydWUnIHx8XG4gICAgICAoQWxsb3cuQk9PTCAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgNCAmJiAndHJ1ZScuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKVxuICAgICkge1xuICAgICAgaW5kZXggKz0gNDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA1KSA9PT0gJ2ZhbHNlJyB8fFxuICAgICAgKEFsbG93LkJPT0wgJiBhbGxvdyAmJiBsZW5ndGggLSBpbmRleCA8IDUgJiYgJ2ZhbHNlJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpXG4gICAgKSB7XG4gICAgICBpbmRleCArPSA1O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA4KSA9PT0gJ0luZmluaXR5JyB8fFxuICAgICAgKEFsbG93LklORklOSVRZICYgYWxsb3cgJiYgbGVuZ3RoIC0gaW5kZXggPCA4ICYmICdJbmZpbml0eScuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKVxuICAgICkge1xuICAgICAgaW5kZXggKz0gODtcbiAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAganNvblN0cmluZy5zdWJzdHJpbmcoaW5kZXgsIGluZGV4ICsgOSkgPT09ICctSW5maW5pdHknIHx8XG4gICAgICAoQWxsb3cuTUlOVVNfSU5GSU5JVFkgJiBhbGxvdyAmJlxuICAgICAgICAxIDwgbGVuZ3RoIC0gaW5kZXggJiZcbiAgICAgICAgbGVuZ3RoIC0gaW5kZXggPCA5ICYmXG4gICAgICAgICctSW5maW5pdHknLnN0YXJ0c1dpdGgoanNvblN0cmluZy5zdWJzdHJpbmcoaW5kZXgpKSlcbiAgICApIHtcbiAgICAgIGluZGV4ICs9IDk7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyAzKSA9PT0gJ05hTicgfHxcbiAgICAgIChBbGxvdy5OQU4gJiBhbGxvdyAmJiBsZW5ndGggLSBpbmRleCA8IDMgJiYgJ05hTicuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKVxuICAgICkge1xuICAgICAgaW5kZXggKz0gMztcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIHJldHVybiBwYXJzZU51bSgpO1xuICB9O1xuXG4gIGNvbnN0IHBhcnNlU3RyOiAoKSA9PiBzdHJpbmcgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhcnQgPSBpbmRleDtcbiAgICBsZXQgZXNjYXBlID0gZmFsc2U7XG4gICAgaW5kZXgrKzsgLy8gc2tpcCBpbml0aWFsIHF1b3RlXG4gICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoICYmIChqc29uU3RyaW5nW2luZGV4XSAhPT0gJ1wiJyB8fCAoZXNjYXBlICYmIGpzb25TdHJpbmdbaW5kZXggLSAxXSA9PT0gJ1xcXFwnKSkpIHtcbiAgICAgIGVzY2FwZSA9IGpzb25TdHJpbmdbaW5kZXhdID09PSAnXFxcXCcgPyAhZXNjYXBlIDogZmFsc2U7XG4gICAgICBpbmRleCsrO1xuICAgIH1cbiAgICBpZiAoanNvblN0cmluZy5jaGFyQXQoaW5kZXgpID09ICdcIicpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCArK2luZGV4IC0gTnVtYmVyKGVzY2FwZSkpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3dNYWxmb3JtZWRFcnJvcihTdHJpbmcoZSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQWxsb3cuU1RSICYgYWxsb3cpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBpbmRleCAtIE51bWJlcihlc2NhcGUpKSArICdcIicpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBTeW50YXhFcnJvcjogSW52YWxpZCBlc2NhcGUgc2VxdWVuY2VcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGpzb25TdHJpbmcubGFzdEluZGV4T2YoJ1xcXFwnKSkgKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWFya1BhcnRpYWxKU09OKCdVbnRlcm1pbmF0ZWQgc3RyaW5nIGxpdGVyYWwnKTtcbiAgfTtcblxuICBjb25zdCBwYXJzZU9iaiA9ICgpID0+IHtcbiAgICBpbmRleCsrOyAvLyBza2lwIGluaXRpYWwgYnJhY2VcbiAgICBza2lwQmxhbmsoKTtcbiAgICBjb25zdCBvYmo6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICB0cnkge1xuICAgICAgd2hpbGUgKGpzb25TdHJpbmdbaW5kZXhdICE9PSAnfScpIHtcbiAgICAgICAgc2tpcEJsYW5rKCk7XG4gICAgICAgIGlmIChpbmRleCA+PSBsZW5ndGggJiYgQWxsb3cuT0JKICYgYWxsb3cpIHJldHVybiBvYmo7XG4gICAgICAgIGNvbnN0IGtleSA9IHBhcnNlU3RyKCk7XG4gICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICBpbmRleCsrOyAvLyBza2lwIGNvbG9uXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUFueSgpO1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmIChBbGxvdy5PQkogJiBhbGxvdykgcmV0dXJuIG9iajtcbiAgICAgICAgICBlbHNlIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEJsYW5rKCk7XG4gICAgICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJywnKSBpbmRleCsrOyAvLyBza2lwIGNvbW1hXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKEFsbG93Lk9CSiAmIGFsbG93KSByZXR1cm4gb2JqO1xuICAgICAgZWxzZSBtYXJrUGFydGlhbEpTT04oXCJFeHBlY3RlZCAnfScgYXQgZW5kIG9mIG9iamVjdFwiKTtcbiAgICB9XG4gICAgaW5kZXgrKzsgLy8gc2tpcCBmaW5hbCBicmFjZVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgY29uc3QgcGFyc2VBcnIgPSAoKSA9PiB7XG4gICAgaW5kZXgrKzsgLy8gc2tpcCBpbml0aWFsIGJyYWNrZXRcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICB0cnkge1xuICAgICAgd2hpbGUgKGpzb25TdHJpbmdbaW5kZXhdICE9PSAnXScpIHtcbiAgICAgICAgYXJyLnB1c2gocGFyc2VBbnkoKSk7XG4gICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICBpZiAoanNvblN0cmluZ1tpbmRleF0gPT09ICcsJykge1xuICAgICAgICAgIGluZGV4Kys7IC8vIHNraXAgY29tbWFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChBbGxvdy5BUlIgJiBhbGxvdykge1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgfVxuICAgICAgbWFya1BhcnRpYWxKU09OKFwiRXhwZWN0ZWQgJ10nIGF0IGVuZCBvZiBhcnJheVwiKTtcbiAgICB9XG4gICAgaW5kZXgrKzsgLy8gc2tpcCBmaW5hbCBicmFja2V0XG4gICAgcmV0dXJuIGFycjtcbiAgfTtcblxuICBjb25zdCBwYXJzZU51bSA9ICgpID0+IHtcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIGlmIChqc29uU3RyaW5nID09PSAnLScgJiYgQWxsb3cuTlVNICYgYWxsb3cpIG1hcmtQYXJ0aWFsSlNPTihcIk5vdCBzdXJlIHdoYXQgJy0nIGlzXCIpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChBbGxvdy5OVU0gJiBhbGxvdykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoJy4nID09PSBqc29uU3RyaW5nW2pzb25TdHJpbmcubGVuZ3RoIC0gMV0pXG4gICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKDAsIGpzb25TdHJpbmcubGFzdEluZGV4T2YoJy4nKSkpO1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoMCwganNvblN0cmluZy5sYXN0SW5kZXhPZignZScpKSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuICAgICAgICB0aHJvd01hbGZvcm1lZEVycm9yKFN0cmluZyhlKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnQgPSBpbmRleDtcblxuICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJy0nKSBpbmRleCsrO1xuICAgIHdoaWxlIChqc29uU3RyaW5nW2luZGV4XSAmJiAhJyxdfScuaW5jbHVkZXMoanNvblN0cmluZ1tpbmRleF0hKSkgaW5kZXgrKztcblxuICAgIGlmIChpbmRleCA9PSBsZW5ndGggJiYgIShBbGxvdy5OVU0gJiBhbGxvdykpIG1hcmtQYXJ0aWFsSlNPTignVW50ZXJtaW5hdGVkIG51bWJlciBsaXRlcmFsJyk7XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGluZGV4KSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBpbmRleCkgPT09ICctJyAmJiBBbGxvdy5OVU0gJiBhbGxvdylcbiAgICAgICAgbWFya1BhcnRpYWxKU09OKFwiTm90IHN1cmUgd2hhdCAnLScgaXNcIik7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwganNvblN0cmluZy5sYXN0SW5kZXhPZignZScpKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93TWFsZm9ybWVkRXJyb3IoU3RyaW5nKGUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2tpcEJsYW5rID0gKCkgPT4ge1xuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCAmJiAnIFxcblxcclxcdCcuaW5jbHVkZXMoanNvblN0cmluZ1tpbmRleF0hKSkge1xuICAgICAgaW5kZXgrKztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHBhcnNlQW55KCk7XG59O1xuXG4vLyB1c2luZyB0aGlzIGZ1bmN0aW9uIHdpdGggbWFsZm9ybWVkIEpTT04gaXMgdW5kZWZpbmVkIGJlaGF2aW9yXG5jb25zdCBwYXJ0aWFsUGFyc2UgPSAoaW5wdXQ6IHN0cmluZykgPT4gcGFyc2VKU09OKGlucHV0LCBBbGxvdy5BTEwgXiBBbGxvdy5OVU0pO1xuXG5leHBvcnQgeyBwYXJ0aWFsUGFyc2UsIFBhcnRpYWxKU09OLCBNYWxmb3JtZWRKU09OIH07XG4iLCAiaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB7XG4gIE9wZW5BSUVycm9yLFxuICBBUElVc2VyQWJvcnRFcnJvcixcbiAgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IsXG4gIENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvcixcbn0gZnJvbSAnLi4vZXJyb3InO1xuaW1wb3J0IHtcbiAgQ2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2IsXG4gIHR5cGUgQ2hhdENvbXBsZXRpb24sXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25DaHVuayxcbiAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2UsXG4gIHR5cGUgQ2hhdENvbXBsZXRpb25Sb2xlLFxufSBmcm9tICcuLi9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucy9jb21wbGV0aW9ucyc7XG5pbXBvcnQge1xuICBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLFxuICB0eXBlIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJFdmVudHMsXG59IGZyb20gJy4vQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcic7XG5pbXBvcnQgeyB0eXBlIFJlYWRhYmxlU3RyZWFtIH0gZnJvbSAnLi4vX3NoaW1zL2luZGV4JztcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gJy4uL3N0cmVhbWluZyc7XG5pbXBvcnQgT3BlbkFJIGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IFBhcnNlZENoYXRDb21wbGV0aW9uIH0gZnJvbSAnLi4vcmVzb3VyY2VzL2JldGEvY2hhdC9jb21wbGV0aW9ucyc7XG5pbXBvcnQge1xuICBBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQsXG4gIGhhc0F1dG9QYXJzZWFibGVJbnB1dCxcbiAgaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdCxcbiAgaXNBdXRvUGFyc2FibGVUb29sLFxuICBtYXliZVBhcnNlQ2hhdENvbXBsZXRpb24sXG4gIHNob3VsZFBhcnNlVG9vbENhbGwsXG59IGZyb20gJy4uL2xpYi9wYXJzZXInO1xuaW1wb3J0IHsgcGFydGlhbFBhcnNlIH0gZnJvbSAnLi4vX3ZlbmRvci9wYXJ0aWFsLWpzb24tcGFyc2VyL3BhcnNlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGVudERlbHRhRXZlbnQge1xuICBkZWx0YTogc3RyaW5nO1xuICBzbmFwc2hvdDogc3RyaW5nO1xuICBwYXJzZWQ6IHVua25vd24gfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRlbnREb25lRXZlbnQ8UGFyc2VkVCA9IG51bGw+IHtcbiAgY29udGVudDogc3RyaW5nO1xuICBwYXJzZWQ6IFBhcnNlZFQgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlZnVzYWxEZWx0YUV2ZW50IHtcbiAgZGVsdGE6IHN0cmluZztcbiAgc25hcHNob3Q6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWZ1c2FsRG9uZUV2ZW50IHtcbiAgcmVmdXNhbDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uVG9vbENhbGxBcmd1bWVudHNEZWx0YUV2ZW50IHtcbiAgbmFtZTogc3RyaW5nO1xuXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgcGFyc2VkX2FyZ3VtZW50czogdW5rbm93bjtcblxuICBhcmd1bWVudHNfZGVsdGE6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvblRvb2xDYWxsQXJndW1lbnRzRG9uZUV2ZW50IHtcbiAgbmFtZTogc3RyaW5nO1xuXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgcGFyc2VkX2FyZ3VtZW50czogdW5rbm93bjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dQcm9ic0NvbnRlbnREZWx0YUV2ZW50IHtcbiAgY29udGVudDogQXJyYXk8Q2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2I+O1xuICBzbmFwc2hvdDogQXJyYXk8Q2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2I+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ1Byb2JzQ29udGVudERvbmVFdmVudCB7XG4gIGNvbnRlbnQ6IEFycmF5PENoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dQcm9ic1JlZnVzYWxEZWx0YUV2ZW50IHtcbiAgcmVmdXNhbDogQXJyYXk8Q2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2I+O1xuICBzbmFwc2hvdDogQXJyYXk8Q2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2I+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ1Byb2JzUmVmdXNhbERvbmVFdmVudCB7XG4gIHJlZnVzYWw6IEFycmF5PENoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGF0Q29tcGxldGlvblN0cmVhbUV2ZW50czxQYXJzZWRUID0gbnVsbD4gZXh0ZW5kcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzIHtcbiAgY29udGVudDogKGNvbnRlbnREZWx0YTogc3RyaW5nLCBjb250ZW50U25hcHNob3Q6IHN0cmluZykgPT4gdm9pZDtcbiAgY2h1bms6IChjaHVuazogQ2hhdENvbXBsZXRpb25DaHVuaywgc25hcHNob3Q6IENoYXRDb21wbGV0aW9uU25hcHNob3QpID0+IHZvaWQ7XG5cbiAgJ2NvbnRlbnQuZGVsdGEnOiAocHJvcHM6IENvbnRlbnREZWx0YUV2ZW50KSA9PiB2b2lkO1xuICAnY29udGVudC5kb25lJzogKHByb3BzOiBDb250ZW50RG9uZUV2ZW50PFBhcnNlZFQ+KSA9PiB2b2lkO1xuXG4gICdyZWZ1c2FsLmRlbHRhJzogKHByb3BzOiBSZWZ1c2FsRGVsdGFFdmVudCkgPT4gdm9pZDtcbiAgJ3JlZnVzYWwuZG9uZSc6IChwcm9wczogUmVmdXNhbERvbmVFdmVudCkgPT4gdm9pZDtcblxuICAndG9vbF9jYWxscy5mdW5jdGlvbi5hcmd1bWVudHMuZGVsdGEnOiAocHJvcHM6IEZ1bmN0aW9uVG9vbENhbGxBcmd1bWVudHNEZWx0YUV2ZW50KSA9PiB2b2lkO1xuICAndG9vbF9jYWxscy5mdW5jdGlvbi5hcmd1bWVudHMuZG9uZSc6IChwcm9wczogRnVuY3Rpb25Ub29sQ2FsbEFyZ3VtZW50c0RvbmVFdmVudCkgPT4gdm9pZDtcblxuICAnbG9ncHJvYnMuY29udGVudC5kZWx0YSc6IChwcm9wczogTG9nUHJvYnNDb250ZW50RGVsdGFFdmVudCkgPT4gdm9pZDtcbiAgJ2xvZ3Byb2JzLmNvbnRlbnQuZG9uZSc6IChwcm9wczogTG9nUHJvYnNDb250ZW50RG9uZUV2ZW50KSA9PiB2b2lkO1xuXG4gICdsb2dwcm9icy5yZWZ1c2FsLmRlbHRhJzogKHByb3BzOiBMb2dQcm9ic1JlZnVzYWxEZWx0YUV2ZW50KSA9PiB2b2lkO1xuICAnbG9ncHJvYnMucmVmdXNhbC5kb25lJzogKHByb3BzOiBMb2dQcm9ic1JlZnVzYWxEb25lRXZlbnQpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtUGFyYW1zID0gT21pdDxDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2UsICdzdHJlYW0nPiAmIHtcbiAgc3RyZWFtPzogdHJ1ZTtcbn07XG5cbmludGVyZmFjZSBDaG9pY2VFdmVudFN0YXRlIHtcbiAgY29udGVudF9kb25lOiBib29sZWFuO1xuICByZWZ1c2FsX2RvbmU6IGJvb2xlYW47XG4gIGxvZ3Byb2JzX2NvbnRlbnRfZG9uZTogYm9vbGVhbjtcbiAgbG9ncHJvYnNfcmVmdXNhbF9kb25lOiBib29sZWFuO1xuICBjdXJyZW50X3Rvb2xfY2FsbF9pbmRleDogbnVtYmVyIHwgbnVsbDtcbiAgZG9uZV90b29sX2NhbGxzOiBTZXQ8bnVtYmVyPjtcbn1cblxuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uU3RyZWFtPFBhcnNlZFQgPSBudWxsPlxuICBleHRlbmRzIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXI8Q2hhdENvbXBsZXRpb25TdHJlYW1FdmVudHM8UGFyc2VkVD4sIFBhcnNlZFQ+XG4gIGltcGxlbWVudHMgQXN5bmNJdGVyYWJsZTxDaGF0Q29tcGxldGlvbkNodW5rPlxue1xuICAjcGFyYW1zOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyB8IG51bGw7XG4gICNjaG9pY2VFdmVudFN0YXRlczogQ2hvaWNlRXZlbnRTdGF0ZVtdO1xuICAjY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3Q6IENoYXRDb21wbGV0aW9uU25hcHNob3QgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IocGFyYW1zOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyB8IG51bGwpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuI3BhcmFtcyA9IHBhcmFtcztcbiAgICB0aGlzLiNjaG9pY2VFdmVudFN0YXRlcyA9IFtdO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90KCk6IENoYXRDb21wbGV0aW9uU25hcHNob3QgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLiNjdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlbmRlZCBmb3IgdXNlIG9uIHRoZSBmcm9udGVuZCwgY29uc3VtaW5nIGEgc3RyZWFtIHByb2R1Y2VkIHdpdGhcbiAgICogYC50b1JlYWRhYmxlU3RyZWFtKClgIG9uIHRoZSBiYWNrZW5kLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgbWVzc2FnZXMgc2VudCB0byB0aGUgbW9kZWwgZG8gbm90IGFwcGVhciBpbiBgLm9uKCdtZXNzYWdlJylgXG4gICAqIGluIHRoaXMgY29udGV4dC5cbiAgICovXG4gIHN0YXRpYyBmcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbSk6IENoYXRDb21wbGV0aW9uU3RyZWFtPG51bGw+IHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW0obnVsbCk7XG4gICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9mcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtKSk7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVDaGF0Q29tcGxldGlvbjxQYXJzZWRUPihcbiAgICBjbGllbnQ6IE9wZW5BSSxcbiAgICBwYXJhbXM6IENoYXRDb21wbGV0aW9uU3RyZWFtUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDaGF0Q29tcGxldGlvblN0cmVhbTxQYXJzZWRUPiB7XG4gICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uU3RyZWFtPFBhcnNlZFQ+KHBhcmFtcyBhcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyk7XG4gICAgcnVubmVyLl9ydW4oKCkgPT5cbiAgICAgIHJ1bm5lci5fcnVuQ2hhdENvbXBsZXRpb24oXG4gICAgICAgIGNsaWVudCxcbiAgICAgICAgeyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9LFxuICAgICAgICB7IC4uLm9wdGlvbnMsIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnc3RyZWFtJyB9IH0sXG4gICAgICApLFxuICAgICk7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbiAgfVxuXG4gICNiZWdpblJlcXVlc3QoKSB7XG4gICAgaWYgKHRoaXMuZW5kZWQpIHJldHVybjtcbiAgICB0aGlzLiNjdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gICNnZXRDaG9pY2VFdmVudFN0YXRlKGNob2ljZTogQ2hhdENvbXBsZXRpb25TbmFwc2hvdC5DaG9pY2UpOiBDaG9pY2VFdmVudFN0YXRlIHtcbiAgICBsZXQgc3RhdGUgPSB0aGlzLiNjaG9pY2VFdmVudFN0YXRlc1tjaG9pY2UuaW5kZXhdO1xuICAgIGlmIChzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIHN0YXRlID0ge1xuICAgICAgY29udGVudF9kb25lOiBmYWxzZSxcbiAgICAgIHJlZnVzYWxfZG9uZTogZmFsc2UsXG4gICAgICBsb2dwcm9ic19jb250ZW50X2RvbmU6IGZhbHNlLFxuICAgICAgbG9ncHJvYnNfcmVmdXNhbF9kb25lOiBmYWxzZSxcbiAgICAgIGRvbmVfdG9vbF9jYWxsczogbmV3IFNldCgpLFxuICAgICAgY3VycmVudF90b29sX2NhbGxfaW5kZXg6IG51bGwsXG4gICAgfTtcbiAgICB0aGlzLiNjaG9pY2VFdmVudFN0YXRlc1tjaG9pY2UuaW5kZXhdID0gc3RhdGU7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgI2FkZENodW5rKHRoaXM6IENoYXRDb21wbGV0aW9uU3RyZWFtPFBhcnNlZFQ+LCBjaHVuazogQ2hhdENvbXBsZXRpb25DaHVuaykge1xuICAgIGlmICh0aGlzLmVuZGVkKSByZXR1cm47XG5cbiAgICBjb25zdCBjb21wbGV0aW9uID0gdGhpcy4jYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uKGNodW5rKTtcbiAgICB0aGlzLl9lbWl0KCdjaHVuaycsIGNodW5rLCBjb21wbGV0aW9uKTtcblxuICAgIGZvciAoY29uc3QgY2hvaWNlIG9mIGNodW5rLmNob2ljZXMpIHtcbiAgICAgIGNvbnN0IGNob2ljZVNuYXBzaG90ID0gY29tcGxldGlvbi5jaG9pY2VzW2Nob2ljZS5pbmRleF0hO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGNob2ljZS5kZWx0YS5jb250ZW50ICE9IG51bGwgJiZcbiAgICAgICAgY2hvaWNlU25hcHNob3QubWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiZcbiAgICAgICAgY2hvaWNlU25hcHNob3QubWVzc2FnZT8uY29udGVudFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2NvbnRlbnQnLCBjaG9pY2UuZGVsdGEuY29udGVudCwgY2hvaWNlU25hcHNob3QubWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29udGVudC5kZWx0YScsIHtcbiAgICAgICAgICBkZWx0YTogY2hvaWNlLmRlbHRhLmNvbnRlbnQsXG4gICAgICAgICAgc25hcHNob3Q6IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICBwYXJzZWQ6IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UucGFyc2VkLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBjaG9pY2UuZGVsdGEucmVmdXNhbCAhPSBudWxsICYmXG4gICAgICAgIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LnJvbGUgPT09ICdhc3Npc3RhbnQnICYmXG4gICAgICAgIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LnJlZnVzYWxcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9lbWl0KCdyZWZ1c2FsLmRlbHRhJywge1xuICAgICAgICAgIGRlbHRhOiBjaG9pY2UuZGVsdGEucmVmdXNhbCxcbiAgICAgICAgICBzbmFwc2hvdDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5yZWZ1c2FsLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNob2ljZS5sb2dwcm9icz8uY29udGVudCAhPSBudWxsICYmIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LnJvbGUgPT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2xvZ3Byb2JzLmNvbnRlbnQuZGVsdGEnLCB7XG4gICAgICAgICAgY29udGVudDogY2hvaWNlLmxvZ3Byb2JzPy5jb250ZW50LFxuICAgICAgICAgIHNuYXBzaG90OiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8uY29udGVudCA/PyBbXSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaG9pY2UubG9ncHJvYnM/LnJlZnVzYWwgIT0gbnVsbCAmJiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICB0aGlzLl9lbWl0KCdsb2dwcm9icy5yZWZ1c2FsLmRlbHRhJywge1xuICAgICAgICAgIHJlZnVzYWw6IGNob2ljZS5sb2dwcm9icz8ucmVmdXNhbCxcbiAgICAgICAgICBzbmFwc2hvdDogY2hvaWNlU25hcHNob3QubG9ncHJvYnM/LnJlZnVzYWwgPz8gW10sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuI2dldENob2ljZUV2ZW50U3RhdGUoY2hvaWNlU25hcHNob3QpO1xuXG4gICAgICBpZiAoY2hvaWNlU25hcHNob3QuZmluaXNoX3JlYXNvbikge1xuICAgICAgICB0aGlzLiNlbWl0Q29udGVudERvbmVFdmVudHMoY2hvaWNlU25hcHNob3QpO1xuXG4gICAgICAgIGlmIChzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy4jZW1pdFRvb2xDYWxsRG9uZUV2ZW50KGNob2ljZVNuYXBzaG90LCBzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiBjaG9pY2UuZGVsdGEudG9vbF9jYWxscyA/PyBbXSkge1xuICAgICAgICBpZiAoc3RhdGUuY3VycmVudF90b29sX2NhbGxfaW5kZXggIT09IHRvb2xDYWxsLmluZGV4KSB7XG4gICAgICAgICAgdGhpcy4jZW1pdENvbnRlbnREb25lRXZlbnRzKGNob2ljZVNuYXBzaG90KTtcblxuICAgICAgICAgIC8vIG5ldyB0b29sIGNhbGwgc3RhcnRlZCwgdGhlIHByZXZpb3VzIG9uZSBpcyBkb25lXG4gICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuI2VtaXRUb29sQ2FsbERvbmVFdmVudChjaG9pY2VTbmFwc2hvdCwgc3RhdGUuY3VycmVudF90b29sX2NhbGxfaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4ID0gdG9vbENhbGwuaW5kZXg7XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgdG9vbENhbGxEZWx0YSBvZiBjaG9pY2UuZGVsdGEudG9vbF9jYWxscyA/PyBbXSkge1xuICAgICAgICBjb25zdCB0b29sQ2FsbFNuYXBzaG90ID0gY2hvaWNlU25hcHNob3QubWVzc2FnZS50b29sX2NhbGxzPy5bdG9vbENhbGxEZWx0YS5pbmRleF07XG4gICAgICAgIGlmICghdG9vbENhbGxTbmFwc2hvdD8udHlwZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRvb2xDYWxsU25hcHNob3Q/LnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLl9lbWl0KCd0b29sX2NhbGxzLmZ1bmN0aW9uLmFyZ3VtZW50cy5kZWx0YScsIHtcbiAgICAgICAgICAgIG5hbWU6IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24/Lm5hbWUsXG4gICAgICAgICAgICBpbmRleDogdG9vbENhbGxEZWx0YS5pbmRleCxcbiAgICAgICAgICAgIGFyZ3VtZW50czogdG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5hcmd1bWVudHMsXG4gICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLnBhcnNlZF9hcmd1bWVudHMsXG4gICAgICAgICAgICBhcmd1bWVudHNfZGVsdGE6IHRvb2xDYWxsRGVsdGEuZnVuY3Rpb24/LmFyZ3VtZW50cyA/PyAnJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NlcnROZXZlcih0b29sQ2FsbFNuYXBzaG90Py50eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICNlbWl0VG9vbENhbGxEb25lRXZlbnQoY2hvaWNlU25hcHNob3Q6IENoYXRDb21wbGV0aW9uU25hcHNob3QuQ2hvaWNlLCB0b29sQ2FsbEluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuI2dldENob2ljZUV2ZW50U3RhdGUoY2hvaWNlU25hcHNob3QpO1xuICAgIGlmIChzdGF0ZS5kb25lX3Rvb2xfY2FsbHMuaGFzKHRvb2xDYWxsSW5kZXgpKSB7XG4gICAgICAvLyB3ZSd2ZSBhbHJlYWR5IGZpcmVkIHRoZSBkb25lIGV2ZW50XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdG9vbENhbGxTbmFwc2hvdCA9IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UudG9vbF9jYWxscz8uW3Rvb2xDYWxsSW5kZXhdO1xuICAgIGlmICghdG9vbENhbGxTbmFwc2hvdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyB0b29sIGNhbGwgc25hcHNob3QnKTtcbiAgICB9XG4gICAgaWYgKCF0b29sQ2FsbFNuYXBzaG90LnR5cGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndG9vbCBjYWxsIHNuYXBzaG90IG1pc3NpbmcgYHR5cGVgJyk7XG4gICAgfVxuXG4gICAgaWYgKHRvb2xDYWxsU25hcHNob3QudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc3QgaW5wdXRUb29sID0gdGhpcy4jcGFyYW1zPy50b29scz8uZmluZChcbiAgICAgICAgKHRvb2wpID0+IHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b29sLmZ1bmN0aW9uLm5hbWUgPT09IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24ubmFtZSxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xfY2FsbHMuZnVuY3Rpb24uYXJndW1lbnRzLmRvbmUnLCB7XG4gICAgICAgIG5hbWU6IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgaW5kZXg6IHRvb2xDYWxsSW5kZXgsXG4gICAgICAgIGFyZ3VtZW50czogdG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5hcmd1bWVudHMsXG4gICAgICAgIHBhcnNlZF9hcmd1bWVudHM6XG4gICAgICAgICAgaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgPyBpbnB1dFRvb2wuJHBhcnNlUmF3KHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgIDogaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgIDogbnVsbCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnROZXZlcih0b29sQ2FsbFNuYXBzaG90LnR5cGUpO1xuICAgIH1cbiAgfVxuXG4gICNlbWl0Q29udGVudERvbmVFdmVudHMoY2hvaWNlU25hcHNob3Q6IENoYXRDb21wbGV0aW9uU25hcHNob3QuQ2hvaWNlKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLiNnZXRDaG9pY2VFdmVudFN0YXRlKGNob2ljZVNuYXBzaG90KTtcblxuICAgIGlmIChjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQgJiYgIXN0YXRlLmNvbnRlbnRfZG9uZSkge1xuICAgICAgc3RhdGUuY29udGVudF9kb25lID0gdHJ1ZTtcblxuICAgICAgY29uc3QgcmVzcG9uc2VGb3JtYXQgPSB0aGlzLiNnZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQoKTtcblxuICAgICAgdGhpcy5fZW1pdCgnY29udGVudC5kb25lJywge1xuICAgICAgICBjb250ZW50OiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgIHBhcnNlZDogcmVzcG9uc2VGb3JtYXQgPyByZXNwb25zZUZvcm1hdC4kcGFyc2VSYXcoY2hvaWNlU25hcHNob3QubWVzc2FnZS5jb250ZW50KSA6IChudWxsIGFzIGFueSksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2hvaWNlU25hcHNob3QubWVzc2FnZS5yZWZ1c2FsICYmICFzdGF0ZS5yZWZ1c2FsX2RvbmUpIHtcbiAgICAgIHN0YXRlLnJlZnVzYWxfZG9uZSA9IHRydWU7XG5cbiAgICAgIHRoaXMuX2VtaXQoJ3JlZnVzYWwuZG9uZScsIHsgcmVmdXNhbDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5yZWZ1c2FsIH0pO1xuICAgIH1cblxuICAgIGlmIChjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8uY29udGVudCAmJiAhc3RhdGUubG9ncHJvYnNfY29udGVudF9kb25lKSB7XG4gICAgICBzdGF0ZS5sb2dwcm9ic19jb250ZW50X2RvbmUgPSB0cnVlO1xuXG4gICAgICB0aGlzLl9lbWl0KCdsb2dwcm9icy5jb250ZW50LmRvbmUnLCB7IGNvbnRlbnQ6IGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzLmNvbnRlbnQgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzPy5yZWZ1c2FsICYmICFzdGF0ZS5sb2dwcm9ic19yZWZ1c2FsX2RvbmUpIHtcbiAgICAgIHN0YXRlLmxvZ3Byb2JzX3JlZnVzYWxfZG9uZSA9IHRydWU7XG5cbiAgICAgIHRoaXMuX2VtaXQoJ2xvZ3Byb2JzLnJlZnVzYWwuZG9uZScsIHsgcmVmdXNhbDogY2hvaWNlU25hcHNob3QubG9ncHJvYnMucmVmdXNhbCB9KTtcbiAgICB9XG4gIH1cblxuICAjZW5kUmVxdWVzdCgpOiBQYXJzZWRDaGF0Q29tcGxldGlvbjxQYXJzZWRUPiB7XG4gICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgc3RyZWFtIGhhcyBlbmRlZCwgdGhpcyBzaG91bGRuJ3QgaGFwcGVuYCk7XG4gICAgfVxuICAgIGNvbnN0IHNuYXBzaG90ID0gdGhpcy4jY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3Q7XG4gICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGByZXF1ZXN0IGVuZGVkIHdpdGhvdXQgc2VuZGluZyBhbnkgY2h1bmtzYCk7XG4gICAgfVxuICAgIHRoaXMuI2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuI2Nob2ljZUV2ZW50U3RhdGVzID0gW107XG4gICAgcmV0dXJuIGZpbmFsaXplQ2hhdENvbXBsZXRpb24oc25hcHNob3QsIHRoaXMuI3BhcmFtcyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgYXN5bmMgX2NyZWF0ZUNoYXRDb21wbGV0aW9uKFxuICAgIGNsaWVudDogT3BlbkFJLFxuICAgIHBhcmFtczogQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IFByb21pc2U8UGFyc2VkQ2hhdENvbXBsZXRpb248UGFyc2VkVD4+IHtcbiAgICBzdXBlci5fY3JlYXRlQ2hhdENvbXBsZXRpb247XG4gICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgIGlmIChzaWduYWwpIHtcbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgfVxuICAgIHRoaXMuI2JlZ2luUmVxdWVzdCgpO1xuXG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgY2xpZW50LmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKFxuICAgICAgeyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9LFxuICAgICAgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSxcbiAgICApO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICB0aGlzLiNhZGRDaHVuayhjaHVuayk7XG4gICAgfVxuICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24odGhpcy4jZW5kUmVxdWVzdCgpKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfZnJvbVJlYWRhYmxlU3RyZWFtKFxuICAgIHJlYWRhYmxlU3RyZWFtOiBSZWFkYWJsZVN0cmVhbSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxDaGF0Q29tcGxldGlvbj4ge1xuICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICBpZiAoc2lnbmFsKSB7XG4gICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgIH1cbiAgICB0aGlzLiNiZWdpblJlcXVlc3QoKTtcbiAgICB0aGlzLl9jb25uZWN0ZWQoKTtcbiAgICBjb25zdCBzdHJlYW0gPSBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtPENoYXRDb21wbGV0aW9uQ2h1bms+KHJlYWRhYmxlU3RyZWFtLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgIGxldCBjaGF0SWQ7XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgIGlmIChjaGF0SWQgJiYgY2hhdElkICE9PSBjaHVuay5pZCkge1xuICAgICAgICAvLyBBIG5ldyByZXF1ZXN0IGhhcyBiZWVuIG1hZGUuXG4gICAgICAgIHRoaXMuX2FkZENoYXRDb21wbGV0aW9uKHRoaXMuI2VuZFJlcXVlc3QoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuI2FkZENodW5rKGNodW5rKTtcbiAgICAgIGNoYXRJZCA9IGNodW5rLmlkO1xuICAgIH1cbiAgICBpZiAoc3RyZWFtLmNvbnRyb2xsZXIuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoYXRDb21wbGV0aW9uKHRoaXMuI2VuZFJlcXVlc3QoKSk7XG4gIH1cblxuICAjZ2V0QXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KCk6IEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdDxQYXJzZWRUPiB8IG51bGwge1xuICAgIGNvbnN0IHJlc3BvbnNlRm9ybWF0ID0gdGhpcy4jcGFyYW1zPy5yZXNwb25zZV9mb3JtYXQ7XG4gICAgaWYgKGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQ8UGFyc2VkVD4ocmVzcG9uc2VGb3JtYXQpKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2VGb3JtYXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAjYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uKGNodW5rOiBDaGF0Q29tcGxldGlvbkNodW5rKTogQ2hhdENvbXBsZXRpb25TbmFwc2hvdCB7XG4gICAgbGV0IHNuYXBzaG90ID0gdGhpcy4jY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3Q7XG4gICAgY29uc3QgeyBjaG9pY2VzLCAuLi5yZXN0IH0gPSBjaHVuaztcbiAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICBzbmFwc2hvdCA9IHRoaXMuI2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90ID0ge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBjaG9pY2VzOiBbXSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oc25hcHNob3QsIHJlc3QpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgeyBkZWx0YSwgZmluaXNoX3JlYXNvbiwgaW5kZXgsIGxvZ3Byb2JzID0gbnVsbCwgLi4ub3RoZXIgfSBvZiBjaHVuay5jaG9pY2VzKSB7XG4gICAgICBsZXQgY2hvaWNlID0gc25hcHNob3QuY2hvaWNlc1tpbmRleF07XG4gICAgICBpZiAoIWNob2ljZSkge1xuICAgICAgICBjaG9pY2UgPSBzbmFwc2hvdC5jaG9pY2VzW2luZGV4XSA9IHsgZmluaXNoX3JlYXNvbiwgaW5kZXgsIG1lc3NhZ2U6IHt9LCBsb2dwcm9icywgLi4ub3RoZXIgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxvZ3Byb2JzKSB7XG4gICAgICAgIGlmICghY2hvaWNlLmxvZ3Byb2JzKSB7XG4gICAgICAgICAgY2hvaWNlLmxvZ3Byb2JzID0gT2JqZWN0LmFzc2lnbih7fSwgbG9ncHJvYnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHsgY29udGVudCwgcmVmdXNhbCwgLi4ucmVzdCB9ID0gbG9ncHJvYnM7XG4gICAgICAgICAgYXNzZXJ0SXNFbXB0eShyZXN0KTtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNob2ljZS5sb2dwcm9icywgcmVzdCk7XG5cbiAgICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgY2hvaWNlLmxvZ3Byb2JzLmNvbnRlbnQgPz89IFtdO1xuICAgICAgICAgICAgY2hvaWNlLmxvZ3Byb2JzLmNvbnRlbnQucHVzaCguLi5jb250ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVmdXNhbCkge1xuICAgICAgICAgICAgY2hvaWNlLmxvZ3Byb2JzLnJlZnVzYWwgPz89IFtdO1xuICAgICAgICAgICAgY2hvaWNlLmxvZ3Byb2JzLnJlZnVzYWwucHVzaCguLi5yZWZ1c2FsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmlzaF9yZWFzb24pIHtcbiAgICAgICAgY2hvaWNlLmZpbmlzaF9yZWFzb24gPSBmaW5pc2hfcmVhc29uO1xuXG4gICAgICAgIGlmICh0aGlzLiNwYXJhbXMgJiYgaGFzQXV0b1BhcnNlYWJsZUlucHV0KHRoaXMuI3BhcmFtcykpIHtcbiAgICAgICAgICBpZiAoZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaW5pc2hfcmVhc29uID09PSAnY29udGVudF9maWx0ZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIE9iamVjdC5hc3NpZ24oY2hvaWNlLCBvdGhlcik7XG5cbiAgICAgIGlmICghZGVsdGEpIGNvbnRpbnVlOyAvLyBTaG91bGRuJ3QgaGFwcGVuOyBqdXN0IGluIGNhc2UuXG5cbiAgICAgIGNvbnN0IHsgY29udGVudCwgcmVmdXNhbCwgZnVuY3Rpb25fY2FsbCwgcm9sZSwgdG9vbF9jYWxscywgLi4ucmVzdCB9ID0gZGVsdGE7XG4gICAgICBhc3NlcnRJc0VtcHR5KHJlc3QpO1xuICAgICAgT2JqZWN0LmFzc2lnbihjaG9pY2UubWVzc2FnZSwgcmVzdCk7XG5cbiAgICAgIGlmIChyZWZ1c2FsKSB7XG4gICAgICAgIGNob2ljZS5tZXNzYWdlLnJlZnVzYWwgPSAoY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCB8fCAnJykgKyByZWZ1c2FsO1xuICAgICAgfVxuXG4gICAgICBpZiAocm9sZSkgY2hvaWNlLm1lc3NhZ2Uucm9sZSA9IHJvbGU7XG4gICAgICBpZiAoZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgICBjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsID0gZnVuY3Rpb25fY2FsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZnVuY3Rpb25fY2FsbC5uYW1lKSBjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsLm5hbWUgPSBmdW5jdGlvbl9jYWxsLm5hbWU7XG4gICAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzKSB7XG4gICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsLmFyZ3VtZW50cyA/Pz0gJyc7XG4gICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsLmFyZ3VtZW50cyArPSBmdW5jdGlvbl9jYWxsLmFyZ3VtZW50cztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIGNob2ljZS5tZXNzYWdlLmNvbnRlbnQgPSAoY2hvaWNlLm1lc3NhZ2UuY29udGVudCB8fCAnJykgKyBjb250ZW50O1xuXG4gICAgICAgIGlmICghY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCAmJiB0aGlzLiNnZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQoKSkge1xuICAgICAgICAgIGNob2ljZS5tZXNzYWdlLnBhcnNlZCA9IHBhcnRpYWxQYXJzZShjaG9pY2UubWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodG9vbF9jYWxscykge1xuICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMpIGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHsgaW5kZXgsIGlkLCB0eXBlLCBmdW5jdGlvbjogZm4sIC4uLnJlc3QgfSBvZiB0b29sX2NhbGxzKSB7XG4gICAgICAgICAgY29uc3QgdG9vbF9jYWxsID0gKGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHNbaW5kZXhdID8/PVxuICAgICAgICAgICAge30gYXMgQ2hhdENvbXBsZXRpb25TbmFwc2hvdC5DaG9pY2UuTWVzc2FnZS5Ub29sQ2FsbCk7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbih0b29sX2NhbGwsIHJlc3QpO1xuICAgICAgICAgIGlmIChpZCkgdG9vbF9jYWxsLmlkID0gaWQ7XG4gICAgICAgICAgaWYgKHR5cGUpIHRvb2xfY2FsbC50eXBlID0gdHlwZTtcbiAgICAgICAgICBpZiAoZm4pIHRvb2xfY2FsbC5mdW5jdGlvbiA/Pz0geyBuYW1lOiBmbi5uYW1lID8/ICcnLCBhcmd1bWVudHM6ICcnIH07XG4gICAgICAgICAgaWYgKGZuPy5uYW1lKSB0b29sX2NhbGwuZnVuY3Rpb24hLm5hbWUgPSBmbi5uYW1lO1xuICAgICAgICAgIGlmIChmbj8uYXJndW1lbnRzKSB7XG4gICAgICAgICAgICB0b29sX2NhbGwuZnVuY3Rpb24hLmFyZ3VtZW50cyArPSBmbi5hcmd1bWVudHM7XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRQYXJzZVRvb2xDYWxsKHRoaXMuI3BhcmFtcywgdG9vbF9jYWxsKSkge1xuICAgICAgICAgICAgICB0b29sX2NhbGwuZnVuY3Rpb24hLnBhcnNlZF9hcmd1bWVudHMgPSBwYXJ0aWFsUGFyc2UodG9vbF9jYWxsLmZ1bmN0aW9uIS5hcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc25hcHNob3Q7XG4gIH1cblxuICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKHRoaXM6IENoYXRDb21wbGV0aW9uU3RyZWFtPFBhcnNlZFQ+KTogQXN5bmNJdGVyYXRvcjxDaGF0Q29tcGxldGlvbkNodW5rPiB7XG4gICAgY29uc3QgcHVzaFF1ZXVlOiBDaGF0Q29tcGxldGlvbkNodW5rW10gPSBbXTtcbiAgICBjb25zdCByZWFkUXVldWU6IHtcbiAgICAgIHJlc29sdmU6IChjaHVuazogQ2hhdENvbXBsZXRpb25DaHVuayB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcbiAgICAgIHJlamVjdDogKGVycjogdW5rbm93bikgPT4gdm9pZDtcbiAgICB9W10gPSBbXTtcbiAgICBsZXQgZG9uZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5vbignY2h1bmsnLCAoY2h1bmspID0+IHtcbiAgICAgIGNvbnN0IHJlYWRlciA9IHJlYWRRdWV1ZS5zaGlmdCgpO1xuICAgICAgaWYgKHJlYWRlcikge1xuICAgICAgICByZWFkZXIucmVzb2x2ZShjaHVuayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwdXNoUXVldWUucHVzaChjaHVuayk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICByZWFkZXIucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgfVxuICAgICAgcmVhZFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdhYm9ydCcsIChlcnIpID0+IHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBuZXh0OiBhc3luYyAoKTogUHJvbWlzZTxJdGVyYXRvclJlc3VsdDxDaGF0Q29tcGxldGlvbkNodW5rPj4gPT4ge1xuICAgICAgICBpZiAoIXB1c2hRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Q2hhdENvbXBsZXRpb25DaHVuayB8IHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pLFxuICAgICAgICAgICkudGhlbigoY2h1bmspID0+IChjaHVuayA/IHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9IDogeyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaHVuayA9IHB1c2hRdWV1ZS5zaGlmdCgpITtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9O1xuICAgICAgfSxcbiAgICAgIHJldHVybjogYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHRvUmVhZGFibGVTdHJlYW0oKTogUmVhZGFibGVTdHJlYW0ge1xuICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBTdHJlYW0odGhpc1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0uYmluZCh0aGlzKSwgdGhpcy5jb250cm9sbGVyKTtcbiAgICByZXR1cm4gc3RyZWFtLnRvUmVhZGFibGVTdHJlYW0oKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5hbGl6ZUNoYXRDb21wbGV0aW9uPFBhcnNlZFQ+KFxuICBzbmFwc2hvdDogQ2hhdENvbXBsZXRpb25TbmFwc2hvdCxcbiAgcGFyYW1zOiBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtcyB8IG51bGwsXG4pOiBQYXJzZWRDaGF0Q29tcGxldGlvbjxQYXJzZWRUPiB7XG4gIGNvbnN0IHsgaWQsIGNob2ljZXMsIGNyZWF0ZWQsIG1vZGVsLCBzeXN0ZW1fZmluZ2VycHJpbnQsIC4uLnJlc3QgfSA9IHNuYXBzaG90O1xuICBjb25zdCBjb21wbGV0aW9uOiBDaGF0Q29tcGxldGlvbiA9IHtcbiAgICAuLi5yZXN0LFxuICAgIGlkLFxuICAgIGNob2ljZXM6IGNob2ljZXMubWFwKFxuICAgICAgKHsgbWVzc2FnZSwgZmluaXNoX3JlYXNvbiwgaW5kZXgsIGxvZ3Byb2JzLCAuLi5jaG9pY2VSZXN0IH0pOiBDaGF0Q29tcGxldGlvbi5DaG9pY2UgPT4ge1xuICAgICAgICBpZiAoIWZpbmlzaF9yZWFzb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgZmluaXNoX3JlYXNvbiBmb3IgY2hvaWNlICR7aW5kZXh9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGNvbnRlbnQgPSBudWxsLCBmdW5jdGlvbl9jYWxsLCB0b29sX2NhbGxzLCAuLi5tZXNzYWdlUmVzdCB9ID0gbWVzc2FnZTtcbiAgICAgICAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZSBhcyAnYXNzaXN0YW50JzsgLy8gdGhpcyBpcyB3aGF0IHdlIGV4cGVjdDsgaW4gdGhlb3J5IGl0IGNvdWxkIGJlIGRpZmZlcmVudCB3aGljaCB3b3VsZCBtYWtlIG91ciB0eXBlcyBhIHNsaWdodCBsaWUgYnV0IHdvdWxkIGJlIGZpbmUuXG4gICAgICAgIGlmICghcm9sZSkge1xuICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyByb2xlIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgY29uc3QgeyBhcmd1bWVudHM6IGFyZ3MsIG5hbWUgfSA9IGZ1bmN0aW9uX2NhbGw7XG4gICAgICAgICAgaWYgKGFyZ3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBmdW5jdGlvbl9jYWxsLm5hbWUgZm9yIGNob2ljZSAke2luZGV4fWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jaG9pY2VSZXN0LFxuICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgICBmdW5jdGlvbl9jYWxsOiB7IGFyZ3VtZW50czogYXJncywgbmFtZSB9LFxuICAgICAgICAgICAgICByb2xlLFxuICAgICAgICAgICAgICByZWZ1c2FsOiBtZXNzYWdlLnJlZnVzYWwgPz8gbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5pc2hfcmVhc29uLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBsb2dwcm9icyxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRvb2xfY2FsbHMpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY2hvaWNlUmVzdCxcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgZmluaXNoX3JlYXNvbixcbiAgICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICAuLi5tZXNzYWdlUmVzdCxcbiAgICAgICAgICAgICAgcm9sZSxcbiAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgcmVmdXNhbDogbWVzc2FnZS5yZWZ1c2FsID8/IG51bGwsXG4gICAgICAgICAgICAgIHRvb2xfY2FsbHM6IHRvb2xfY2FsbHMubWFwKCh0b29sX2NhbGwsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGZ1bmN0aW9uOiBmbiwgdHlwZSwgaWQsIC4uLnRvb2xSZXN0IH0gPSB0b29sX2NhbGw7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhcmd1bWVudHM6IGFyZ3MsIG5hbWUsIC4uLmZuUmVzdCB9ID0gZm4gfHwge307XG4gICAgICAgICAgICAgICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLmlkXFxuJHtzdHIoc25hcHNob3QpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY2hvaWNlc1ske2luZGV4fV0udG9vbF9jYWxsc1ske2l9XS50eXBlXFxuJHtzdHIoc25hcHNob3QpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBtaXNzaW5nIGNob2ljZXNbJHtpbmRleH1dLnRvb2xfY2FsbHNbJHtpfV0uZnVuY3Rpb24ubmFtZVxcbiR7c3RyKHNuYXBzaG90KX1gLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLmZ1bmN0aW9uLmFyZ3VtZW50c1xcbiR7c3RyKHNuYXBzaG90KX1gLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi50b29sUmVzdCwgaWQsIHR5cGUsIGZ1bmN0aW9uOiB7IC4uLmZuUmVzdCwgbmFtZSwgYXJndW1lbnRzOiBhcmdzIH0gfTtcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5jaG9pY2VSZXN0LFxuICAgICAgICAgIG1lc3NhZ2U6IHsgLi4ubWVzc2FnZVJlc3QsIGNvbnRlbnQsIHJvbGUsIHJlZnVzYWw6IG1lc3NhZ2UucmVmdXNhbCA/PyBudWxsIH0sXG4gICAgICAgICAgZmluaXNoX3JlYXNvbixcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBsb2dwcm9icyxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgKSxcbiAgICBjcmVhdGVkLFxuICAgIG1vZGVsLFxuICAgIG9iamVjdDogJ2NoYXQuY29tcGxldGlvbicsXG4gICAgLi4uKHN5c3RlbV9maW5nZXJwcmludCA/IHsgc3lzdGVtX2ZpbmdlcnByaW50IH0gOiB7fSksXG4gIH07XG5cbiAgcmV0dXJuIG1heWJlUGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpO1xufVxuXG5mdW5jdGlvbiBzdHIoeDogdW5rbm93bikge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeCk7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHN0cmVhbWVkIGNodW5rIG9mIGEgY2hhdCBjb21wbGV0aW9uIHJlc3BvbnNlIHJldHVybmVkIGJ5IG1vZGVsLFxuICogYmFzZWQgb24gdGhlIHByb3ZpZGVkIGlucHV0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uU25hcHNob3Qge1xuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGNoYXQgY29tcGxldGlvbi5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBjaGF0IGNvbXBsZXRpb24gY2hvaWNlcy4gQ2FuIGJlIG1vcmUgdGhhbiBvbmUgaWYgYG5gIGlzIGdyZWF0ZXJcbiAgICogdGhhbiAxLlxuICAgKi9cbiAgY2hvaWNlczogQXJyYXk8Q2hhdENvbXBsZXRpb25TbmFwc2hvdC5DaG9pY2U+O1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIG9mIHdoZW4gdGhlIGNoYXQgY29tcGxldGlvbiB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG1vZGVsIHRvIGdlbmVyYXRlIHRoZSBjb21wbGV0aW9uLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvLyBOb3RlIHdlIGRvIG5vdCBpbmNsdWRlIGFuIFwib2JqZWN0XCIgdHlwZSBvbiB0aGUgc25hcHNob3QsXG4gIC8vIGJlY2F1c2UgdGhlIG9iamVjdCBpcyBub3QgYSB2YWxpZCBcImNoYXQuY29tcGxldGlvblwiIHVudGlsIGZpbmFsaXplZC5cbiAgLy8gb2JqZWN0OiAnY2hhdC5jb21wbGV0aW9uJztcblxuICAvKipcbiAgICogVGhpcyBmaW5nZXJwcmludCByZXByZXNlbnRzIHRoZSBiYWNrZW5kIGNvbmZpZ3VyYXRpb24gdGhhdCB0aGUgbW9kZWwgcnVucyB3aXRoLlxuICAgKlxuICAgKiBDYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSBgc2VlZGAgcmVxdWVzdCBwYXJhbWV0ZXIgdG8gdW5kZXJzdGFuZCB3aGVuXG4gICAqIGJhY2tlbmQgY2hhbmdlcyBoYXZlIGJlZW4gbWFkZSB0aGF0IG1pZ2h0IGltcGFjdCBkZXRlcm1pbmlzbS5cbiAgICovXG4gIHN5c3RlbV9maW5nZXJwcmludD86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDaGF0Q29tcGxldGlvblNuYXBzaG90IHtcbiAgZXhwb3J0IGludGVyZmFjZSBDaG9pY2Uge1xuICAgIC8qKlxuICAgICAqIEEgY2hhdCBjb21wbGV0aW9uIGRlbHRhIGdlbmVyYXRlZCBieSBzdHJlYW1lZCBtb2RlbCByZXNwb25zZXMuXG4gICAgICovXG4gICAgbWVzc2FnZTogQ2hvaWNlLk1lc3NhZ2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVhc29uIHRoZSBtb2RlbCBzdG9wcGVkIGdlbmVyYXRpbmcgdG9rZW5zLiBUaGlzIHdpbGwgYmUgYHN0b3BgIGlmIHRoZSBtb2RlbFxuICAgICAqIGhpdCBhIG5hdHVyYWwgc3RvcCBwb2ludCBvciBhIHByb3ZpZGVkIHN0b3Agc2VxdWVuY2UsIGBsZW5ndGhgIGlmIHRoZSBtYXhpbXVtXG4gICAgICogbnVtYmVyIG9mIHRva2VucyBzcGVjaWZpZWQgaW4gdGhlIHJlcXVlc3Qgd2FzIHJlYWNoZWQsIGBjb250ZW50X2ZpbHRlcmAgaWZcbiAgICAgKiBjb250ZW50IHdhcyBvbWl0dGVkIGR1ZSB0byBhIGZsYWcgZnJvbSBvdXIgY29udGVudCBmaWx0ZXJzLCBvciBgZnVuY3Rpb25fY2FsbGBcbiAgICAgKiBpZiB0aGUgbW9kZWwgY2FsbGVkIGEgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZmluaXNoX3JlYXNvbjogQ2hhdENvbXBsZXRpb24uQ2hvaWNlWydmaW5pc2hfcmVhc29uJ10gfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogTG9nIHByb2JhYmlsaXR5IGluZm9ybWF0aW9uIGZvciB0aGUgY2hvaWNlLlxuICAgICAqL1xuICAgIGxvZ3Byb2JzOiBDaGF0Q29tcGxldGlvbi5DaG9pY2UuTG9ncHJvYnMgfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBjaG9pY2UgaW4gdGhlIGxpc3Qgb2YgY2hvaWNlcy5cbiAgICAgKi9cbiAgICBpbmRleDogbnVtYmVyO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBDaG9pY2Uge1xuICAgIC8qKlxuICAgICAqIEEgY2hhdCBjb21wbGV0aW9uIGRlbHRhIGdlbmVyYXRlZCBieSBzdHJlYW1lZCBtb2RlbCByZXNwb25zZXMuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSBjaHVuayBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICBjb250ZW50Pzogc3RyaW5nIHwgbnVsbDtcblxuICAgICAgcmVmdXNhbD86IHN0cmluZyB8IG51bGw7XG5cbiAgICAgIHBhcnNlZD86IHVua25vd24gfCBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIGFuZCBhcmd1bWVudHMgb2YgYSBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQsIGFzIGdlbmVyYXRlZCBieSB0aGVcbiAgICAgICAqIG1vZGVsLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbl9jYWxsPzogTWVzc2FnZS5GdW5jdGlvbkNhbGw7XG5cbiAgICAgIHRvb2xfY2FsbHM/OiBBcnJheTxNZXNzYWdlLlRvb2xDYWxsPjtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgcm9sZSBvZiB0aGUgYXV0aG9yIG9mIHRoaXMgbWVzc2FnZS5cbiAgICAgICAqL1xuICAgICAgcm9sZT86IENoYXRDb21wbGV0aW9uUm9sZTtcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIE1lc3NhZ2Uge1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBUb29sQ2FsbCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICAgICAgICovXG4gICAgICAgIGlkOiBzdHJpbmc7XG5cbiAgICAgICAgZnVuY3Rpb246IFRvb2xDYWxsLkZ1bmN0aW9uO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbC5cbiAgICAgICAgICovXG4gICAgICAgIHR5cGU6ICdmdW5jdGlvbic7XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydCBuYW1lc3BhY2UgVG9vbENhbGwge1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgYXJndW1lbnRzIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGgsIGFzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gSlNPTlxuICAgICAgICAgICAqIGZvcm1hdC4gTm90ZSB0aGF0IHRoZSBtb2RlbCBkb2VzIG5vdCBhbHdheXMgZ2VuZXJhdGUgdmFsaWQgSlNPTiwgYW5kIG1heVxuICAgICAgICAgICAqIGhhbGx1Y2luYXRlIHBhcmFtZXRlcnMgbm90IGRlZmluZWQgYnkgeW91ciBmdW5jdGlvbiBzY2hlbWEuIFZhbGlkYXRlIHRoZVxuICAgICAgICAgICAqIGFyZ3VtZW50cyBpbiB5b3VyIGNvZGUgYmVmb3JlIGNhbGxpbmcgeW91ciBmdW5jdGlvbi5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBhcmd1bWVudHM6IHN0cmluZztcblxuICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM/OiB1bmtub3duO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgICAgICAgICovXG4gICAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIG5hbWUgYW5kIGFyZ3VtZW50cyBvZiBhIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZVxuICAgICAgICogbW9kZWwuXG4gICAgICAgKi9cbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25DYWxsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcmd1bWVudHMgdG8gY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCwgYXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiBKU09OXG4gICAgICAgICAqIGZvcm1hdC4gTm90ZSB0aGF0IHRoZSBtb2RlbCBkb2VzIG5vdCBhbHdheXMgZ2VuZXJhdGUgdmFsaWQgSlNPTiwgYW5kIG1heVxuICAgICAgICAgKiBoYWxsdWNpbmF0ZSBwYXJhbWV0ZXJzIG5vdCBkZWZpbmVkIGJ5IHlvdXIgZnVuY3Rpb24gc2NoZW1hLiBWYWxpZGF0ZSB0aGVcbiAgICAgICAgICogYXJndW1lbnRzIGluIHlvdXIgY29kZSBiZWZvcmUgY2FsbGluZyB5b3VyIGZ1bmN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgYXJndW1lbnRzPzogc3RyaW5nO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAgICAgICovXG4gICAgICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnR5cGUgQXNzZXJ0SXNFbXB0eTxUIGV4dGVuZHMge30+ID0ga2V5b2YgVCBleHRlbmRzIG5ldmVyID8gVCA6IG5ldmVyO1xuXG4vKipcbiAqIEVuc3VyZXMgdGhlIGdpdmVuIGFyZ3VtZW50IGlzIGFuIGVtcHR5IG9iamVjdCwgdXNlZnVsIGZvclxuICogYXNzZXJ0aW5nIHRoYXQgYWxsIGtub3duIHByb3BlcnRpZXMgb24gYW4gb2JqZWN0IGhhdmUgYmVlblxuICogZGVzdHJ1Y3R1cmVkLlxuICovXG5mdW5jdGlvbiBhc3NlcnRJc0VtcHR5PFQgZXh0ZW5kcyB7fT4ob2JqOiBBc3NlcnRJc0VtcHR5PFQ+KTogYXNzZXJ0cyBvYmogaXMgQXNzZXJ0SXNFbXB0eTxUPiB7XG4gIHJldHVybjtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3g6IG5ldmVyKSB7fVxuIiwgImltcG9ydCB7XG4gIHR5cGUgQ2hhdENvbXBsZXRpb25DaHVuayxcbiAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbn0gZnJvbSAnLi4vcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMnO1xuaW1wb3J0IHsgUnVubmVyT3B0aW9ucywgdHlwZSBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyRXZlbnRzIH0gZnJvbSAnLi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7IHR5cGUgUmVhZGFibGVTdHJlYW0gfSBmcm9tICcuLi9fc2hpbXMvaW5kZXgnO1xuaW1wb3J0IHsgUnVubmFibGVUb29scywgdHlwZSBCYXNlRnVuY3Rpb25zQXJncywgdHlwZSBSdW5uYWJsZUZ1bmN0aW9ucyB9IGZyb20gJy4vUnVubmFibGVGdW5jdGlvbic7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvblNuYXBzaG90LCBDaGF0Q29tcGxldGlvblN0cmVhbSB9IGZyb20gJy4vQ2hhdENvbXBsZXRpb25TdHJlYW0nO1xuaW1wb3J0IE9wZW5BSSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBBdXRvUGFyc2VhYmxlVG9vbCB9IGZyb20gJy4uL2xpYi9wYXJzZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRDb21wbGV0aW9uU3RyZWFtRXZlbnRzIGV4dGVuZHMgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lckV2ZW50cyB7XG4gIGNvbnRlbnQ6IChjb250ZW50RGVsdGE6IHN0cmluZywgY29udGVudFNuYXBzaG90OiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNodW5rOiAoY2h1bms6IENoYXRDb21wbGV0aW9uQ2h1bmssIHNuYXBzaG90OiBDaGF0Q29tcGxldGlvblNuYXBzaG90KSA9PiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvblN0cmVhbWluZ0Z1bmN0aW9uUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3MgZXh0ZW5kcyBCYXNlRnVuY3Rpb25zQXJncz4gPSBPbWl0PFxuICBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgJ2Z1bmN0aW9ucydcbj4gJiB7XG4gIGZ1bmN0aW9uczogUnVubmFibGVGdW5jdGlvbnM8RnVuY3Rpb25zQXJncz47XG59O1xuXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1Rvb2xSdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPiA9IE9taXQ8XG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAndG9vbHMnXG4+ICYge1xuICB0b29sczogUnVubmFibGVUb29sczxGdW5jdGlvbnNBcmdzPiB8IEF1dG9QYXJzZWFibGVUb29sPGFueSwgdHJ1ZT5bXTtcbn07XG5cbmV4cG9ydCBjbGFzcyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcjxQYXJzZWRUID0gbnVsbD5cbiAgZXh0ZW5kcyBDaGF0Q29tcGxldGlvblN0cmVhbTxQYXJzZWRUPlxuICBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGU8Q2hhdENvbXBsZXRpb25DaHVuaz5cbntcbiAgc3RhdGljIG92ZXJyaWRlIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW06IFJlYWRhYmxlU3RyZWFtKTogQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXI8bnVsbD4ge1xuICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcihudWxsKTtcbiAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX2Zyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgLyoqIEBkZXByZWNhdGVkIC0gcGxlYXNlIHVzZSBgcnVuVG9vbHNgIGluc3RlYWQuICovXG4gIHN0YXRpYyBydW5GdW5jdGlvbnM8VCBleHRlbmRzIChzdHJpbmcgfCBvYmplY3QpW10+KFxuICAgIGNsaWVudDogT3BlbkFJLFxuICAgIHBhcmFtczogQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdGdW5jdGlvblJ1bm5lclBhcmFtczxUPixcbiAgICBvcHRpb25zPzogUnVubmVyT3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXI8bnVsbD4ge1xuICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcihudWxsKTtcbiAgICBjb25zdCBvcHRzID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAncnVuRnVuY3Rpb25zJyB9LFxuICAgIH07XG4gICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5GdW5jdGlvbnMoY2xpZW50LCBwYXJhbXMsIG9wdHMpKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgc3RhdGljIHJ1blRvb2xzPFQgZXh0ZW5kcyAoc3RyaW5nIHwgb2JqZWN0KVtdLCBQYXJzZWRUID0gbnVsbD4oXG4gICAgY2xpZW50OiBPcGVuQUksXG4gICAgcGFyYW1zOiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1Rvb2xSdW5uZXJQYXJhbXM8VD4sXG4gICAgb3B0aW9ucz86IFJ1bm5lck9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyPFBhcnNlZFQ+IHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXI8UGFyc2VkVD4oXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gdGhlc2UgdHlwZXMgYXJlIGluY29tcGF0aWJsZVxuICAgICAgcGFyYW1zLFxuICAgICk7XG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1blRvb2xzJyB9LFxuICAgIH07XG4gICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5Ub29scyhjbGllbnQsIHBhcmFtcywgb3B0cykpO1xuICAgIHJldHVybiBydW5uZXI7XG4gIH1cbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvblJ1bm5lciwgQ2hhdENvbXBsZXRpb25GdW5jdGlvblJ1bm5lclBhcmFtcyB9IGZyb20gJy4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lcic7XG5pbXBvcnQge1xuICBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcixcbiAgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdGdW5jdGlvblJ1bm5lclBhcmFtcyxcbn0gZnJvbSAnLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyJztcbmltcG9ydCB7IEJhc2VGdW5jdGlvbnNBcmdzIH0gZnJvbSAnLi4vLi4vLi4vbGliL1J1bm5hYmxlRnVuY3Rpb24nO1xuaW1wb3J0IHsgUnVubmVyT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uL2xpYi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyJztcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uVG9vbFJ1bm5lclBhcmFtcyB9IGZyb20gJy4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lcic7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1Rvb2xSdW5uZXJQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXInO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHR5cGUgQ2hhdENvbXBsZXRpb25TdHJlYW1QYXJhbXMgfSBmcm9tICcuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW0nO1xuaW1wb3J0IHtcbiAgQ2hhdENvbXBsZXRpb24sXG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsXG4gIENoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsLFxufSBmcm9tICcuLi8uLi9jaGF0L2NvbXBsZXRpb25zJztcbmltcG9ydCB7IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtcywgcGFyc2VDaGF0Q29tcGxldGlvbiwgdmFsaWRhdGVJbnB1dFRvb2xzIH0gZnJvbSAnLi4vLi4vLi4vbGliL3BhcnNlcic7XG5cbmV4cG9ydCB7XG4gIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLFxuICB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nRnVuY3Rpb25SdW5uZXJQYXJhbXMsXG59IGZyb20gJy4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcic7XG5leHBvcnQge1xuICB0eXBlIFJ1bm5hYmxlRnVuY3Rpb24sXG4gIHR5cGUgUnVubmFibGVGdW5jdGlvbnMsXG4gIHR5cGUgUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZSxcbiAgdHlwZSBSdW5uYWJsZUZ1bmN0aW9uV2l0aG91dFBhcnNlLFxuICBQYXJzaW5nRnVuY3Rpb24sXG4gIFBhcnNpbmdUb29sRnVuY3Rpb24sXG59IGZyb20gJy4uLy4uLy4uL2xpYi9SdW5uYWJsZUZ1bmN0aW9uJztcbmV4cG9ydCB7IHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uUnVubmVyJztcbmV4cG9ydCB7IHR5cGUgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdUb29sUnVubmVyUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyJztcbmV4cG9ydCB7IENoYXRDb21wbGV0aW9uU3RyZWFtLCB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtJztcbmV4cG9ydCB7XG4gIENoYXRDb21wbGV0aW9uUnVubmVyLFxuICB0eXBlIENoYXRDb21wbGV0aW9uRnVuY3Rpb25SdW5uZXJQYXJhbXMsXG59IGZyb20gJy4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VkRnVuY3Rpb24gZXh0ZW5kcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbC5GdW5jdGlvbiB7XG4gIHBhcnNlZF9hcmd1bWVudHM/OiB1bmtub3duO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhcnNlZEZ1bmN0aW9uVG9vbENhbGwgZXh0ZW5kcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2VUb29sQ2FsbCB7XG4gIGZ1bmN0aW9uOiBQYXJzZWRGdW5jdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRDaGF0Q29tcGxldGlvbk1lc3NhZ2U8UGFyc2VkVD4gZXh0ZW5kcyBDaGF0Q29tcGxldGlvbk1lc3NhZ2Uge1xuICBwYXJzZWQ6IFBhcnNlZFQgfCBudWxsO1xuICB0b29sX2NhbGxzPzogQXJyYXk8UGFyc2VkRnVuY3Rpb25Ub29sQ2FsbD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VkQ2hvaWNlPFBhcnNlZFQ+IGV4dGVuZHMgQ2hhdENvbXBsZXRpb24uQ2hvaWNlIHtcbiAgbWVzc2FnZTogUGFyc2VkQ2hhdENvbXBsZXRpb25NZXNzYWdlPFBhcnNlZFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhcnNlZENoYXRDb21wbGV0aW9uPFBhcnNlZFQ+IGV4dGVuZHMgQ2hhdENvbXBsZXRpb24ge1xuICBjaG9pY2VzOiBBcnJheTxQYXJzZWRDaG9pY2U8UGFyc2VkVD4+O1xufVxuXG5leHBvcnQgdHlwZSBDaGF0Q29tcGxldGlvblBhcnNlUGFyYW1zID0gQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmc7XG5cbmV4cG9ydCBjbGFzcyBDb21wbGV0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgcGFyc2U8UGFyYW1zIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25QYXJzZVBhcmFtcywgUGFyc2VkVCA9IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXM+PihcbiAgICBib2R5OiBQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxQYXJzZWRDaGF0Q29tcGxldGlvbjxQYXJzZWRUPj4ge1xuICAgIHZhbGlkYXRlSW5wdXRUb29scyhib2R5LnRvb2xzKTtcblxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuY2hhdC5jb21wbGV0aW9uc1xuICAgICAgLmNyZWF0ZShib2R5LCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAuLi5vcHRpb25zPy5oZWFkZXJzLFxuICAgICAgICAgICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ2JldGEuY2hhdC5jb21wbGV0aW9ucy5wYXJzZScsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgLl90aGVuVW53cmFwKChjb21wbGV0aW9uKSA9PiBwYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIGJvZHkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCAtIHVzZSBgcnVuVG9vbHNgIGluc3RlYWQuXG4gICAqL1xuICBydW5GdW5jdGlvbnM8RnVuY3Rpb25zQXJncyBleHRlbmRzIEJhc2VGdW5jdGlvbnNBcmdzPihcbiAgICBib2R5OiBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uUnVubmVyUGFyYW1zPEZ1bmN0aW9uc0FyZ3M+LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDaGF0Q29tcGxldGlvblJ1bm5lcjxudWxsPjtcbiAgcnVuRnVuY3Rpb25zPEZ1bmN0aW9uc0FyZ3MgZXh0ZW5kcyBCYXNlRnVuY3Rpb25zQXJncz4oXG4gICAgYm9keTogQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdGdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXI8bnVsbD47XG4gIHJ1bkZ1bmN0aW9uczxGdW5jdGlvbnNBcmdzIGV4dGVuZHMgQmFzZUZ1bmN0aW9uc0FyZ3M+KFxuICAgIGJvZHk6XG4gICAgICB8IENoYXRDb21wbGV0aW9uRnVuY3Rpb25SdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz5cbiAgICAgIHwgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdGdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ2hhdENvbXBsZXRpb25SdW5uZXI8bnVsbD4gfCBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcjxudWxsPiB7XG4gICAgaWYgKGJvZHkuc3RyZWFtKSB7XG4gICAgICByZXR1cm4gQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIucnVuRnVuY3Rpb25zKFxuICAgICAgICB0aGlzLl9jbGllbnQsXG4gICAgICAgIGJvZHkgYXMgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdGdW5jdGlvblJ1bm5lclBhcmFtczxGdW5jdGlvbnNBcmdzPixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBDaGF0Q29tcGxldGlvblJ1bm5lci5ydW5GdW5jdGlvbnMoXG4gICAgICB0aGlzLl9jbGllbnQsXG4gICAgICBib2R5IGFzIENoYXRDb21wbGV0aW9uRnVuY3Rpb25SdW5uZXJQYXJhbXM8RnVuY3Rpb25zQXJncz4sXG4gICAgICBvcHRpb25zLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQSBjb252ZW5pZW5jZSBoZWxwZXIgZm9yIHVzaW5nIHRvb2wgY2FsbHMgd2l0aCB0aGUgL2NoYXQvY29tcGxldGlvbnMgZW5kcG9pbnRcbiAgICogd2hpY2ggYXV0b21hdGljYWxseSBjYWxscyB0aGUgSmF2YVNjcmlwdCBmdW5jdGlvbnMgeW91IHByb3ZpZGUgYW5kIHNlbmRzIHRoZWlyXG4gICAqIHJlc3VsdHMgYmFjayB0byB0aGUgL2NoYXQvY29tcGxldGlvbnMgZW5kcG9pbnQsIGxvb3BpbmcgYXMgbG9uZyBhcyB0aGUgbW9kZWxcbiAgICogcmVxdWVzdHMgZnVuY3Rpb24gY2FsbHMuXG4gICAqXG4gICAqIEZvciBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzLCBzZWVcbiAgICogW3RoZSBkb2NzXShodHRwczovL2dpdGh1Yi5jb20vb3BlbmFpL29wZW5haS1ub2RlI2F1dG9tYXRlZC1mdW5jdGlvbi1jYWxscylcbiAgICovXG4gIHJ1blRvb2xzPFxuICAgIFBhcmFtcyBleHRlbmRzIENoYXRDb21wbGV0aW9uVG9vbFJ1bm5lclBhcmFtczxhbnk+LFxuICAgIFBhcnNlZFQgPSBFeHRyYWN0UGFyc2VkQ29udGVudEZyb21QYXJhbXM8UGFyYW1zPixcbiAgPihib2R5OiBQYXJhbXMsIG9wdGlvbnM/OiBSdW5uZXJPcHRpb25zKTogQ2hhdENvbXBsZXRpb25SdW5uZXI8UGFyc2VkVD47XG5cbiAgcnVuVG9vbHM8XG4gICAgUGFyYW1zIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdUb29sUnVubmVyUGFyYW1zPGFueT4sXG4gICAgUGFyc2VkVCA9IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXM+LFxuICA+KGJvZHk6IFBhcmFtcywgb3B0aW9ucz86IFJ1bm5lck9wdGlvbnMpOiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcjxQYXJzZWRUPjtcblxuICBydW5Ub29sczxcbiAgICBQYXJhbXMgZXh0ZW5kcyBDaGF0Q29tcGxldGlvblRvb2xSdW5uZXJQYXJhbXM8YW55PiB8IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nVG9vbFJ1bm5lclBhcmFtczxhbnk+LFxuICAgIFBhcnNlZFQgPSBFeHRyYWN0UGFyc2VkQ29udGVudEZyb21QYXJhbXM8UGFyYW1zPixcbiAgPihcbiAgICBib2R5OiBQYXJhbXMsXG4gICAgb3B0aW9ucz86IFJ1bm5lck9wdGlvbnMsXG4gICk6IENoYXRDb21wbGV0aW9uUnVubmVyPFBhcnNlZFQ+IHwgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXI8UGFyc2VkVD4ge1xuICAgIGlmIChib2R5LnN0cmVhbSkge1xuICAgICAgcmV0dXJuIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLnJ1blRvb2xzKFxuICAgICAgICB0aGlzLl9jbGllbnQsXG4gICAgICAgIGJvZHkgYXMgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdUb29sUnVubmVyUGFyYW1zPGFueT4sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBDaGF0Q29tcGxldGlvblJ1bm5lci5ydW5Ub29scyh0aGlzLl9jbGllbnQsIGJvZHkgYXMgQ2hhdENvbXBsZXRpb25Ub29sUnVubmVyUGFyYW1zPGFueT4sIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjaGF0IGNvbXBsZXRpb24gc3RyZWFtXG4gICAqL1xuICBzdHJlYW08UGFyYW1zIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25TdHJlYW1QYXJhbXMsIFBhcnNlZFQgPSBFeHRyYWN0UGFyc2VkQ29udGVudEZyb21QYXJhbXM8UGFyYW1zPj4oXG4gICAgYm9keTogUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDaGF0Q29tcGxldGlvblN0cmVhbTxQYXJzZWRUPiB7XG4gICAgcmV0dXJuIENoYXRDb21wbGV0aW9uU3RyZWFtLmNyZWF0ZUNoYXRDb21wbGV0aW9uKHRoaXMuX2NsaWVudCwgYm9keSwgb3B0aW9ucyk7XG4gIH1cbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIENvbXBsZXRpb25zQVBJIGZyb20gJy4vY29tcGxldGlvbnMnO1xuXG5leHBvcnQgY2xhc3MgQ2hhdCBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgY29tcGxldGlvbnM6IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25zID0gbmV3IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25zKHRoaXMuX2NsaWVudCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ2hhdCB7XG4gIGV4cG9ydCBpbXBvcnQgQ29tcGxldGlvbnMgPSBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9ucztcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5cbmV4cG9ydCBjbGFzcyBTZXNzaW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBlcGhlbWVyYWwgQVBJIHRva2VuIGZvciB1c2UgaW4gY2xpZW50LXNpZGUgYXBwbGljYXRpb25zIHdpdGggdGhlXG4gICAqIFJlYWx0aW1lIEFQSS4gQ2FuIGJlIGNvbmZpZ3VyZWQgd2l0aCB0aGUgc2FtZSBzZXNzaW9uIHBhcmFtZXRlcnMgYXMgdGhlXG4gICAqIGBzZXNzaW9uLnVwZGF0ZWAgY2xpZW50IGV2ZW50LlxuICAgKlxuICAgKiBJdCByZXNwb25kcyB3aXRoIGEgc2Vzc2lvbiBvYmplY3QsIHBsdXMgYSBgY2xpZW50X3NlY3JldGAga2V5IHdoaWNoIGNvbnRhaW5zIGFcbiAgICogdXNhYmxlIGVwaGVtZXJhbCBBUEkgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCB0byBhdXRoZW50aWNhdGUgYnJvd3NlciBjbGllbnRzIGZvclxuICAgKiB0aGUgUmVhbHRpbWUgQVBJLlxuICAgKi9cbiAgY3JlYXRlKGJvZHk6IFNlc3Npb25DcmVhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFNlc3Npb25DcmVhdGVSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3JlYWx0aW1lL3Nlc3Npb25zJywge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogUmVhbHRpbWUgc2Vzc2lvbiBvYmplY3QgY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uIHtcbiAgLyoqXG4gICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgc2Vzc2lvbiBvYmplY3QuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGZvcm1hdCBvZiBpbnB1dCBhdWRpby4gT3B0aW9ucyBhcmUgYHBjbTE2YCwgYGc3MTFfdWxhd2AsIG9yIGBnNzExX2FsYXdgLiBGb3JcbiAgICogYHBjbTE2YCwgaW5wdXQgYXVkaW8gbXVzdCBiZSAxNi1iaXQgUENNIGF0IGEgMjRrSHogc2FtcGxlIHJhdGUsIHNpbmdsZSBjaGFubmVsXG4gICAqIChtb25vKSwgYW5kIGxpdHRsZS1lbmRpYW4gYnl0ZSBvcmRlci5cbiAgICovXG4gIGlucHV0X2F1ZGlvX2Zvcm1hdD86ICdwY20xNicgfCAnZzcxMV91bGF3JyB8ICdnNzExX2FsYXcnO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBpbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uLCBkZWZhdWx0cyB0byBvZmYgYW5kIGNhbiBiZSBzZXQgdG9cbiAgICogYG51bGxgIHRvIHR1cm4gb2ZmIG9uY2Ugb24uIElucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24gaXMgbm90IG5hdGl2ZSB0byB0aGVcbiAgICogbW9kZWwsIHNpbmNlIHRoZSBtb2RlbCBjb25zdW1lcyBhdWRpbyBkaXJlY3RseS4gVHJhbnNjcmlwdGlvbiBydW5zXG4gICAqIGFzeW5jaHJvbm91c2x5IHRocm91Z2ggV2hpc3BlciBhbmQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcm91Z2ggZ3VpZGFuY2UgcmF0aGVyXG4gICAqIHRoYW4gdGhlIHJlcHJlc2VudGF0aW9uIHVuZGVyc3Rvb2QgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbj86IFNlc3Npb24uSW5wdXRBdWRpb1RyYW5zY3JpcHRpb247XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHN5c3RlbSBpbnN0cnVjdGlvbnMgKGkuZS4gc3lzdGVtIG1lc3NhZ2UpIHByZXBlbmRlZCB0byBtb2RlbCBjYWxscy5cbiAgICogVGhpcyBmaWVsZCBhbGxvd3MgdGhlIGNsaWVudCB0byBndWlkZSB0aGUgbW9kZWwgb24gZGVzaXJlZCByZXNwb25zZXMuIFRoZSBtb2RlbFxuICAgKiBjYW4gYmUgaW5zdHJ1Y3RlZCBvbiByZXNwb25zZSBjb250ZW50IGFuZCBmb3JtYXQsIChlLmcuIFwiYmUgZXh0cmVtZWx5IHN1Y2NpbmN0XCIsXG4gICAqIFwiYWN0IGZyaWVuZGx5XCIsIFwiaGVyZSBhcmUgZXhhbXBsZXMgb2YgZ29vZCByZXNwb25zZXNcIikgYW5kIG9uIGF1ZGlvIGJlaGF2aW9yXG4gICAqIChlLmcuIFwidGFsayBxdWlja2x5XCIsIFwiaW5qZWN0IGVtb3Rpb24gaW50byB5b3VyIHZvaWNlXCIsIFwibGF1Z2ggZnJlcXVlbnRseVwiKS4gVGhlXG4gICAqIGluc3RydWN0aW9ucyBhcmUgbm90IGd1YXJhbnRlZWQgdG8gYmUgZm9sbG93ZWQgYnkgdGhlIG1vZGVsLCBidXQgdGhleSBwcm92aWRlXG4gICAqIGd1aWRhbmNlIHRvIHRoZSBtb2RlbCBvbiB0aGUgZGVzaXJlZCBiZWhhdmlvci5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSBzZXJ2ZXIgc2V0cyBkZWZhdWx0IGluc3RydWN0aW9ucyB3aGljaCB3aWxsIGJlIHVzZWQgaWYgdGhpcyBmaWVsZFxuICAgKiBpcyBub3Qgc2V0IGFuZCBhcmUgdmlzaWJsZSBpbiB0aGUgYHNlc3Npb24uY3JlYXRlZGAgZXZlbnQgYXQgdGhlIHN0YXJ0IG9mIHRoZVxuICAgKiBzZXNzaW9uLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBNYXhpbXVtIG51bWJlciBvZiBvdXRwdXQgdG9rZW5zIGZvciBhIHNpbmdsZSBhc3Npc3RhbnQgcmVzcG9uc2UsIGluY2x1c2l2ZSBvZlxuICAgKiB0b29sIGNhbGxzLiBQcm92aWRlIGFuIGludGVnZXIgYmV0d2VlbiAxIGFuZCA0MDk2IHRvIGxpbWl0IG91dHB1dCB0b2tlbnMsIG9yXG4gICAqIGBpbmZgIGZvciB0aGUgbWF4aW11bSBhdmFpbGFibGUgdG9rZW5zIGZvciBhIGdpdmVuIG1vZGVsLiBEZWZhdWx0cyB0byBgaW5mYC5cbiAgICovXG4gIG1heF9yZXNwb25zZV9vdXRwdXRfdG9rZW5zPzogbnVtYmVyIHwgJ2luZic7XG5cbiAgLyoqXG4gICAqIFRoZSBzZXQgb2YgbW9kYWxpdGllcyB0aGUgbW9kZWwgY2FuIHJlc3BvbmQgd2l0aC4gVG8gZGlzYWJsZSBhdWRpbywgc2V0IHRoaXMgdG9cbiAgICogW1widGV4dFwiXS5cbiAgICovXG4gIG1vZGFsaXRpZXM/OiBBcnJheTwndGV4dCcgfCAnYXVkaW8nPjtcblxuICAvKipcbiAgICogVGhlIFJlYWx0aW1lIG1vZGVsIHVzZWQgZm9yIHRoaXMgc2Vzc2lvbi5cbiAgICovXG4gIG1vZGVsPzpcbiAgICB8IChzdHJpbmcgJiB7fSlcbiAgICB8ICdncHQtNG8tcmVhbHRpbWUtcHJldmlldydcbiAgICB8ICdncHQtNG8tcmVhbHRpbWUtcHJldmlldy0yMDI0LTEwLTAxJ1xuICAgIHwgJ2dwdC00by1yZWFsdGltZS1wcmV2aWV3LTIwMjQtMTItMTcnXG4gICAgfCAnZ3B0LTRvLW1pbmktcmVhbHRpbWUtcHJldmlldydcbiAgICB8ICdncHQtNG8tbWluaS1yZWFsdGltZS1wcmV2aWV3LTIwMjQtMTItMTcnO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIG91dHB1dCBhdWRpby4gT3B0aW9ucyBhcmUgYHBjbTE2YCwgYGc3MTFfdWxhd2AsIG9yIGBnNzExX2FsYXdgLlxuICAgKiBGb3IgYHBjbTE2YCwgb3V0cHV0IGF1ZGlvIGlzIHNhbXBsZWQgYXQgYSByYXRlIG9mIDI0a0h6LlxuICAgKi9cbiAgb3V0cHV0X2F1ZGlvX2Zvcm1hdD86ICdwY20xNicgfCAnZzcxMV91bGF3JyB8ICdnNzExX2FsYXcnO1xuXG4gIC8qKlxuICAgKiBTYW1wbGluZyB0ZW1wZXJhdHVyZSBmb3IgdGhlIG1vZGVsLCBsaW1pdGVkIHRvIFswLjYsIDEuMl0uIERlZmF1bHRzIHRvIDAuOC5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBIb3cgdGhlIG1vZGVsIGNob29zZXMgdG9vbHMuIE9wdGlvbnMgYXJlIGBhdXRvYCwgYG5vbmVgLCBgcmVxdWlyZWRgLCBvciBzcGVjaWZ5XG4gICAqIGEgZnVuY3Rpb24uXG4gICAqL1xuICB0b29sX2Nob2ljZT86IHN0cmluZztcblxuICAvKipcbiAgICogVG9vbHMgKGZ1bmN0aW9ucykgYXZhaWxhYmxlIHRvIHRoZSBtb2RlbC5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8U2Vzc2lvbi5Ub29sPjtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgdHVybiBkZXRlY3Rpb24uIENhbiBiZSBzZXQgdG8gYG51bGxgIHRvIHR1cm4gb2ZmLiBTZXJ2ZXIgVkFEXG4gICAqIG1lYW5zIHRoYXQgdGhlIG1vZGVsIHdpbGwgZGV0ZWN0IHRoZSBzdGFydCBhbmQgZW5kIG9mIHNwZWVjaCBiYXNlZCBvbiBhdWRpb1xuICAgKiB2b2x1bWUgYW5kIHJlc3BvbmQgYXQgdGhlIGVuZCBvZiB1c2VyIHNwZWVjaC5cbiAgICovXG4gIHR1cm5fZGV0ZWN0aW9uPzogU2Vzc2lvbi5UdXJuRGV0ZWN0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHZvaWNlIHRoZSBtb2RlbCB1c2VzIHRvIHJlc3BvbmQuIFZvaWNlIGNhbm5vdCBiZSBjaGFuZ2VkIGR1cmluZyB0aGUgc2Vzc2lvblxuICAgKiBvbmNlIHRoZSBtb2RlbCBoYXMgcmVzcG9uZGVkIHdpdGggYXVkaW8gYXQgbGVhc3Qgb25jZS4gQ3VycmVudCB2b2ljZSBvcHRpb25zIGFyZVxuICAgKiBgYWxsb3lgLCBgYXNoYCwgYGJhbGxhZGAsIGBjb3JhbGAsIGBlY2hvYCBgc2FnZWAsIGBzaGltbWVyYCBhbmQgYHZlcnNlYC5cbiAgICovXG4gIHZvaWNlPzogJ2FsbG95JyB8ICdhc2gnIHwgJ2JhbGxhZCcgfCAnY29yYWwnIHwgJ2VjaG8nIHwgJ3NhZ2UnIHwgJ3NoaW1tZXInIHwgJ3ZlcnNlJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBTZXNzaW9uIHtcbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIGlucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24sIGRlZmF1bHRzIHRvIG9mZiBhbmQgY2FuIGJlIHNldCB0b1xuICAgKiBgbnVsbGAgdG8gdHVybiBvZmYgb25jZSBvbi4gSW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiBpcyBub3QgbmF0aXZlIHRvIHRoZVxuICAgKiBtb2RlbCwgc2luY2UgdGhlIG1vZGVsIGNvbnN1bWVzIGF1ZGlvIGRpcmVjdGx5LiBUcmFuc2NyaXB0aW9uIHJ1bnNcbiAgICogYXN5bmNocm9ub3VzbHkgdGhyb3VnaCBXaGlzcGVyIGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhcyByb3VnaCBndWlkYW5jZSByYXRoZXJcbiAgICogdGhhbiB0aGUgcmVwcmVzZW50YXRpb24gdW5kZXJzdG9vZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIElucHV0QXVkaW9UcmFuc2NyaXB0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbW9kZWwgdG8gdXNlIGZvciB0cmFuc2NyaXB0aW9uLCBgd2hpc3Blci0xYCBpcyB0aGUgb25seSBjdXJyZW50bHkgc3VwcG9ydGVkXG4gICAgICogbW9kZWwuXG4gICAgICovXG4gICAgbW9kZWw/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRvb2wge1xuICAgIC8qKlxuICAgICAqIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgZnVuY3Rpb24sIGluY2x1ZGluZyBndWlkYW5jZSBvbiB3aGVuIGFuZCBob3cgdG8gY2FsbCBpdCxcbiAgICAgKiBhbmQgZ3VpZGFuY2UgYWJvdXQgd2hhdCB0byB0ZWxsIHRoZSB1c2VyIHdoZW4gY2FsbGluZyAoaWYgYW55dGhpbmcpLlxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIG5hbWU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBQYXJhbWV0ZXJzIG9mIHRoZSBmdW5jdGlvbiBpbiBKU09OIFNjaGVtYS5cbiAgICAgKi9cbiAgICBwYXJhbWV0ZXJzPzogdW5rbm93bjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSB0b29sLCBpLmUuIGBmdW5jdGlvbmAuXG4gICAgICovXG4gICAgdHlwZT86ICdmdW5jdGlvbic7XG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgdHVybiBkZXRlY3Rpb24uIENhbiBiZSBzZXQgdG8gYG51bGxgIHRvIHR1cm4gb2ZmLiBTZXJ2ZXIgVkFEXG4gICAqIG1lYW5zIHRoYXQgdGhlIG1vZGVsIHdpbGwgZGV0ZWN0IHRoZSBzdGFydCBhbmQgZW5kIG9mIHNwZWVjaCBiYXNlZCBvbiBhdWRpb1xuICAgKiB2b2x1bWUgYW5kIHJlc3BvbmQgYXQgdGhlIGVuZCBvZiB1c2VyIHNwZWVjaC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVHVybkRldGVjdGlvbiB7XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIHJlc3BvbnNlIHdoZW4gYSBWQUQgc3RvcCBldmVudFxuICAgICAqIG9jY3Vycy4gYHRydWVgIGJ5IGRlZmF1bHQuXG4gICAgICovXG4gICAgY3JlYXRlX3Jlc3BvbnNlPzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGF1dG9tYXRpY2FsbHkgaW50ZXJydXB0IGFueSBvbmdvaW5nIHJlc3BvbnNlIHdpdGggb3V0cHV0IHRvXG4gICAgICogdGhlIGRlZmF1bHQgY29udmVyc2F0aW9uIChpLmUuIGBjb252ZXJzYXRpb25gIG9mIGBhdXRvYCkgd2hlbiBhIFZBRCBzdGFydCBldmVudFxuICAgICAqIG9jY3Vycy4gYHRydWVgIGJ5IGRlZmF1bHQuXG4gICAgICovXG4gICAgaW50ZXJydXB0X3Jlc3BvbnNlPzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEFtb3VudCBvZiBhdWRpbyB0byBpbmNsdWRlIGJlZm9yZSB0aGUgVkFEIGRldGVjdGVkIHNwZWVjaCAoaW4gbWlsbGlzZWNvbmRzKS5cbiAgICAgKiBEZWZhdWx0cyB0byAzMDBtcy5cbiAgICAgKi9cbiAgICBwcmVmaXhfcGFkZGluZ19tcz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIER1cmF0aW9uIG9mIHNpbGVuY2UgdG8gZGV0ZWN0IHNwZWVjaCBzdG9wIChpbiBtaWxsaXNlY29uZHMpLiBEZWZhdWx0cyB0byA1MDBtcy5cbiAgICAgKiBXaXRoIHNob3J0ZXIgdmFsdWVzIHRoZSBtb2RlbCB3aWxsIHJlc3BvbmQgbW9yZSBxdWlja2x5LCBidXQgbWF5IGp1bXAgaW4gb25cbiAgICAgKiBzaG9ydCBwYXVzZXMgZnJvbSB0aGUgdXNlci5cbiAgICAgKi9cbiAgICBzaWxlbmNlX2R1cmF0aW9uX21zPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGlvbiB0aHJlc2hvbGQgZm9yIFZBRCAoMC4wIHRvIDEuMCksIHRoaXMgZGVmYXVsdHMgdG8gMC41LiBBIGhpZ2hlclxuICAgICAqIHRocmVzaG9sZCB3aWxsIHJlcXVpcmUgbG91ZGVyIGF1ZGlvIHRvIGFjdGl2YXRlIHRoZSBtb2RlbCwgYW5kIHRodXMgbWlnaHRcbiAgICAgKiBwZXJmb3JtIGJldHRlciBpbiBub2lzeSBlbnZpcm9ubWVudHMuXG4gICAgICovXG4gICAgdGhyZXNob2xkPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiB0dXJuIGRldGVjdGlvbiwgb25seSBgc2VydmVyX3ZhZGAgaXMgY3VycmVudGx5IHN1cHBvcnRlZC5cbiAgICAgKi9cbiAgICB0eXBlPzogJ3NlcnZlcl92YWQnO1xuICB9XG59XG5cbi8qKlxuICogQSBuZXcgUmVhbHRpbWUgc2Vzc2lvbiBjb25maWd1cmF0aW9uLCB3aXRoIGFuIGVwaGVybWVyYWwga2V5LiBEZWZhdWx0IFRUTCBmb3JcbiAqIGtleXMgaXMgb25lIG1pbnV0ZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uQ3JlYXRlUmVzcG9uc2Uge1xuICAvKipcbiAgICogRXBoZW1lcmFsIGtleSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgY2xpZW50X3NlY3JldDogU2Vzc2lvbkNyZWF0ZVJlc3BvbnNlLkNsaWVudFNlY3JldDtcblxuICAvKipcbiAgICogVGhlIGZvcm1hdCBvZiBpbnB1dCBhdWRpby4gT3B0aW9ucyBhcmUgYHBjbTE2YCwgYGc3MTFfdWxhd2AsIG9yIGBnNzExX2FsYXdgLlxuICAgKi9cbiAgaW5wdXRfYXVkaW9fZm9ybWF0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBpbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uLCBkZWZhdWx0cyB0byBvZmYgYW5kIGNhbiBiZSBzZXQgdG9cbiAgICogYG51bGxgIHRvIHR1cm4gb2ZmIG9uY2Ugb24uIElucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24gaXMgbm90IG5hdGl2ZSB0byB0aGVcbiAgICogbW9kZWwsIHNpbmNlIHRoZSBtb2RlbCBjb25zdW1lcyBhdWRpbyBkaXJlY3RseS4gVHJhbnNjcmlwdGlvbiBydW5zXG4gICAqIGFzeW5jaHJvbm91c2x5IHRocm91Z2ggV2hpc3BlciBhbmQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcm91Z2ggZ3VpZGFuY2UgcmF0aGVyXG4gICAqIHRoYW4gdGhlIHJlcHJlc2VudGF0aW9uIHVuZGVyc3Rvb2QgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbj86IFNlc3Npb25DcmVhdGVSZXNwb25zZS5JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbjtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc3lzdGVtIGluc3RydWN0aW9ucyAoaS5lLiBzeXN0ZW0gbWVzc2FnZSkgcHJlcGVuZGVkIHRvIG1vZGVsIGNhbGxzLlxuICAgKiBUaGlzIGZpZWxkIGFsbG93cyB0aGUgY2xpZW50IHRvIGd1aWRlIHRoZSBtb2RlbCBvbiBkZXNpcmVkIHJlc3BvbnNlcy4gVGhlIG1vZGVsXG4gICAqIGNhbiBiZSBpbnN0cnVjdGVkIG9uIHJlc3BvbnNlIGNvbnRlbnQgYW5kIGZvcm1hdCwgKGUuZy4gXCJiZSBleHRyZW1lbHkgc3VjY2luY3RcIixcbiAgICogXCJhY3QgZnJpZW5kbHlcIiwgXCJoZXJlIGFyZSBleGFtcGxlcyBvZiBnb29kIHJlc3BvbnNlc1wiKSBhbmQgb24gYXVkaW8gYmVoYXZpb3JcbiAgICogKGUuZy4gXCJ0YWxrIHF1aWNrbHlcIiwgXCJpbmplY3QgZW1vdGlvbiBpbnRvIHlvdXIgdm9pY2VcIiwgXCJsYXVnaCBmcmVxdWVudGx5XCIpLiBUaGVcbiAgICogaW5zdHJ1Y3Rpb25zIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSBmb2xsb3dlZCBieSB0aGUgbW9kZWwsIGJ1dCB0aGV5IHByb3ZpZGVcbiAgICogZ3VpZGFuY2UgdG8gdGhlIG1vZGVsIG9uIHRoZSBkZXNpcmVkIGJlaGF2aW9yLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIHNlcnZlciBzZXRzIGRlZmF1bHQgaW5zdHJ1Y3Rpb25zIHdoaWNoIHdpbGwgYmUgdXNlZCBpZiB0aGlzIGZpZWxkXG4gICAqIGlzIG5vdCBzZXQgYW5kIGFyZSB2aXNpYmxlIGluIHRoZSBgc2Vzc2lvbi5jcmVhdGVkYCBldmVudCBhdCB0aGUgc3RhcnQgb2YgdGhlXG4gICAqIHNlc3Npb24uXG4gICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE1heGltdW0gbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgZm9yIGEgc2luZ2xlIGFzc2lzdGFudCByZXNwb25zZSwgaW5jbHVzaXZlIG9mXG4gICAqIHRvb2wgY2FsbHMuIFByb3ZpZGUgYW4gaW50ZWdlciBiZXR3ZWVuIDEgYW5kIDQwOTYgdG8gbGltaXQgb3V0cHV0IHRva2Vucywgb3JcbiAgICogYGluZmAgZm9yIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSB0b2tlbnMgZm9yIGEgZ2l2ZW4gbW9kZWwuIERlZmF1bHRzIHRvIGBpbmZgLlxuICAgKi9cbiAgbWF4X3Jlc3BvbnNlX291dHB1dF90b2tlbnM/OiBudW1iZXIgfCAnaW5mJztcblxuICAvKipcbiAgICogVGhlIHNldCBvZiBtb2RhbGl0aWVzIHRoZSBtb2RlbCBjYW4gcmVzcG9uZCB3aXRoLiBUbyBkaXNhYmxlIGF1ZGlvLCBzZXQgdGhpcyB0b1xuICAgKiBbXCJ0ZXh0XCJdLlxuICAgKi9cbiAgbW9kYWxpdGllcz86IEFycmF5PCd0ZXh0JyB8ICdhdWRpbyc+O1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIG91dHB1dCBhdWRpby4gT3B0aW9ucyBhcmUgYHBjbTE2YCwgYGc3MTFfdWxhd2AsIG9yIGBnNzExX2FsYXdgLlxuICAgKi9cbiAgb3V0cHV0X2F1ZGlvX2Zvcm1hdD86IHN0cmluZztcblxuICAvKipcbiAgICogU2FtcGxpbmcgdGVtcGVyYXR1cmUgZm9yIHRoZSBtb2RlbCwgbGltaXRlZCB0byBbMC42LCAxLjJdLiBEZWZhdWx0cyB0byAwLjguXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcblxuICAvKipcbiAgICogSG93IHRoZSBtb2RlbCBjaG9vc2VzIHRvb2xzLiBPcHRpb25zIGFyZSBgYXV0b2AsIGBub25lYCwgYHJlcXVpcmVkYCwgb3Igc3BlY2lmeVxuICAgKiBhIGZ1bmN0aW9uLlxuICAgKi9cbiAgdG9vbF9jaG9pY2U/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRvb2xzIChmdW5jdGlvbnMpIGF2YWlsYWJsZSB0byB0aGUgbW9kZWwuXG4gICAqL1xuICB0b29scz86IEFycmF5PFNlc3Npb25DcmVhdGVSZXNwb25zZS5Ub29sPjtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBmb3IgdHVybiBkZXRlY3Rpb24uIENhbiBiZSBzZXQgdG8gYG51bGxgIHRvIHR1cm4gb2ZmLiBTZXJ2ZXIgVkFEXG4gICAqIG1lYW5zIHRoYXQgdGhlIG1vZGVsIHdpbGwgZGV0ZWN0IHRoZSBzdGFydCBhbmQgZW5kIG9mIHNwZWVjaCBiYXNlZCBvbiBhdWRpb1xuICAgKiB2b2x1bWUgYW5kIHJlc3BvbmQgYXQgdGhlIGVuZCBvZiB1c2VyIHNwZWVjaC5cbiAgICovXG4gIHR1cm5fZGV0ZWN0aW9uPzogU2Vzc2lvbkNyZWF0ZVJlc3BvbnNlLlR1cm5EZXRlY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSB2b2ljZSB0aGUgbW9kZWwgdXNlcyB0byByZXNwb25kLiBWb2ljZSBjYW5ub3QgYmUgY2hhbmdlZCBkdXJpbmcgdGhlIHNlc3Npb25cbiAgICogb25jZSB0aGUgbW9kZWwgaGFzIHJlc3BvbmRlZCB3aXRoIGF1ZGlvIGF0IGxlYXN0IG9uY2UuIEN1cnJlbnQgdm9pY2Ugb3B0aW9ucyBhcmVcbiAgICogYGFsbG95YCwgYGFzaGAsIGBiYWxsYWRgLCBgY29yYWxgLCBgZWNob2AgYHNhZ2VgLCBgc2hpbW1lcmAgYW5kIGB2ZXJzZWAuXG4gICAqL1xuICB2b2ljZT86ICdhbGxveScgfCAnYXNoJyB8ICdiYWxsYWQnIHwgJ2NvcmFsJyB8ICdlY2hvJyB8ICdzYWdlJyB8ICdzaGltbWVyJyB8ICd2ZXJzZSc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgU2Vzc2lvbkNyZWF0ZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEVwaGVtZXJhbCBrZXkgcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50U2VjcmV0IHtcbiAgICAvKipcbiAgICAgKiBUaW1lc3RhbXAgZm9yIHdoZW4gdGhlIHRva2VuIGV4cGlyZXMuIEN1cnJlbnRseSwgYWxsIHRva2VucyBleHBpcmUgYWZ0ZXIgb25lXG4gICAgICogbWludXRlLlxuICAgICAqL1xuICAgIGV4cGlyZXNfYXQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEVwaGVtZXJhbCBrZXkgdXNhYmxlIGluIGNsaWVudCBlbnZpcm9ubWVudHMgdG8gYXV0aGVudGljYXRlIGNvbm5lY3Rpb25zIHRvIHRoZVxuICAgICAqIFJlYWx0aW1lIEFQSS4gVXNlIHRoaXMgaW4gY2xpZW50LXNpZGUgZW52aXJvbm1lbnRzIHJhdGhlciB0aGFuIGEgc3RhbmRhcmQgQVBJXG4gICAgICogdG9rZW4sIHdoaWNoIHNob3VsZCBvbmx5IGJlIHVzZWQgc2VydmVyLXNpZGUuXG4gICAgICovXG4gICAgdmFsdWU6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciBpbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uLCBkZWZhdWx0cyB0byBvZmYgYW5kIGNhbiBiZSBzZXQgdG9cbiAgICogYG51bGxgIHRvIHR1cm4gb2ZmIG9uY2Ugb24uIElucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24gaXMgbm90IG5hdGl2ZSB0byB0aGVcbiAgICogbW9kZWwsIHNpbmNlIHRoZSBtb2RlbCBjb25zdW1lcyBhdWRpbyBkaXJlY3RseS4gVHJhbnNjcmlwdGlvbiBydW5zXG4gICAqIGFzeW5jaHJvbm91c2x5IHRocm91Z2ggV2hpc3BlciBhbmQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcm91Z2ggZ3VpZGFuY2UgcmF0aGVyXG4gICAqIHRoYW4gdGhlIHJlcHJlc2VudGF0aW9uIHVuZGVyc3Rvb2QgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIG1vZGVsIHRvIHVzZSBmb3IgdHJhbnNjcmlwdGlvbiwgYHdoaXNwZXItMWAgaXMgdGhlIG9ubHkgY3VycmVudGx5IHN1cHBvcnRlZFxuICAgICAqIG1vZGVsLlxuICAgICAqL1xuICAgIG1vZGVsPzogc3RyaW5nO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBUb29sIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGZ1bmN0aW9uLCBpbmNsdWRpbmcgZ3VpZGFuY2Ugb24gd2hlbiBhbmQgaG93IHRvIGNhbGwgaXQsXG4gICAgICogYW5kIGd1aWRhbmNlIGFib3V0IHdoYXQgdG8gdGVsbCB0aGUgdXNlciB3aGVuIGNhbGxpbmcgKGlmIGFueXRoaW5nKS5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBuYW1lPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogUGFyYW1ldGVycyBvZiB0aGUgZnVuY3Rpb24gaW4gSlNPTiBTY2hlbWEuXG4gICAgICovXG4gICAgcGFyYW1ldGVycz86IHVua25vd247XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbCwgaS5lLiBgZnVuY3Rpb25gLlxuICAgICAqL1xuICAgIHR5cGU/OiAnZnVuY3Rpb24nO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIHR1cm4gZGV0ZWN0aW9uLiBDYW4gYmUgc2V0IHRvIGBudWxsYCB0byB0dXJuIG9mZi4gU2VydmVyIFZBRFxuICAgKiBtZWFucyB0aGF0IHRoZSBtb2RlbCB3aWxsIGRldGVjdCB0aGUgc3RhcnQgYW5kIGVuZCBvZiBzcGVlY2ggYmFzZWQgb24gYXVkaW9cbiAgICogdm9sdW1lIGFuZCByZXNwb25kIGF0IHRoZSBlbmQgb2YgdXNlciBzcGVlY2guXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFR1cm5EZXRlY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIEFtb3VudCBvZiBhdWRpbyB0byBpbmNsdWRlIGJlZm9yZSB0aGUgVkFEIGRldGVjdGVkIHNwZWVjaCAoaW4gbWlsbGlzZWNvbmRzKS5cbiAgICAgKiBEZWZhdWx0cyB0byAzMDBtcy5cbiAgICAgKi9cbiAgICBwcmVmaXhfcGFkZGluZ19tcz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIER1cmF0aW9uIG9mIHNpbGVuY2UgdG8gZGV0ZWN0IHNwZWVjaCBzdG9wIChpbiBtaWxsaXNlY29uZHMpLiBEZWZhdWx0cyB0byA1MDBtcy5cbiAgICAgKiBXaXRoIHNob3J0ZXIgdmFsdWVzIHRoZSBtb2RlbCB3aWxsIHJlc3BvbmQgbW9yZSBxdWlja2x5LCBidXQgbWF5IGp1bXAgaW4gb25cbiAgICAgKiBzaG9ydCBwYXVzZXMgZnJvbSB0aGUgdXNlci5cbiAgICAgKi9cbiAgICBzaWxlbmNlX2R1cmF0aW9uX21zPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGlvbiB0aHJlc2hvbGQgZm9yIFZBRCAoMC4wIHRvIDEuMCksIHRoaXMgZGVmYXVsdHMgdG8gMC41LiBBIGhpZ2hlclxuICAgICAqIHRocmVzaG9sZCB3aWxsIHJlcXVpcmUgbG91ZGVyIGF1ZGlvIHRvIGFjdGl2YXRlIHRoZSBtb2RlbCwgYW5kIHRodXMgbWlnaHRcbiAgICAgKiBwZXJmb3JtIGJldHRlciBpbiBub2lzeSBlbnZpcm9ubWVudHMuXG4gICAgICovXG4gICAgdGhyZXNob2xkPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiB0dXJuIGRldGVjdGlvbiwgb25seSBgc2VydmVyX3ZhZGAgaXMgY3VycmVudGx5IHN1cHBvcnRlZC5cbiAgICAgKi9cbiAgICB0eXBlPzogc3RyaW5nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbkNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIGlucHV0IGF1ZGlvLiBPcHRpb25zIGFyZSBgcGNtMTZgLCBgZzcxMV91bGF3YCwgb3IgYGc3MTFfYWxhd2AuIEZvclxuICAgKiBgcGNtMTZgLCBpbnB1dCBhdWRpbyBtdXN0IGJlIDE2LWJpdCBQQ00gYXQgYSAyNGtIeiBzYW1wbGUgcmF0ZSwgc2luZ2xlIGNoYW5uZWxcbiAgICogKG1vbm8pLCBhbmQgbGl0dGxlLWVuZGlhbiBieXRlIG9yZGVyLlxuICAgKi9cbiAgaW5wdXRfYXVkaW9fZm9ybWF0PzogJ3BjbTE2JyB8ICdnNzExX3VsYXcnIHwgJ2c3MTFfYWxhdyc7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIGlucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24sIGRlZmF1bHRzIHRvIG9mZiBhbmQgY2FuIGJlIHNldCB0b1xuICAgKiBgbnVsbGAgdG8gdHVybiBvZmYgb25jZSBvbi4gSW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiBpcyBub3QgbmF0aXZlIHRvIHRoZVxuICAgKiBtb2RlbCwgc2luY2UgdGhlIG1vZGVsIGNvbnN1bWVzIGF1ZGlvIGRpcmVjdGx5LiBUcmFuc2NyaXB0aW9uIHJ1bnNcbiAgICogYXN5bmNocm9ub3VzbHkgdGhyb3VnaFxuICAgKiBbT3BlbkFJIFdoaXNwZXIgdHJhbnNjcmlwdGlvbl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hdWRpby9jcmVhdGVUcmFuc2NyaXB0aW9uKVxuICAgKiBhbmQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcm91Z2ggZ3VpZGFuY2UgcmF0aGVyIHRoYW4gdGhlIHJlcHJlc2VudGF0aW9uXG4gICAqIHVuZGVyc3Rvb2QgYnkgdGhlIG1vZGVsLiBUaGUgY2xpZW50IGNhbiBvcHRpb25hbGx5IHNldCB0aGUgbGFuZ3VhZ2UgYW5kIHByb21wdFxuICAgKiBmb3IgdHJhbnNjcmlwdGlvbiwgdGhlc2UgZmllbGRzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBXaGlzcGVyIEFQSS5cbiAgICovXG4gIGlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb24/OiBTZXNzaW9uQ3JlYXRlUGFyYW1zLklucHV0QXVkaW9UcmFuc2NyaXB0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBzeXN0ZW0gaW5zdHJ1Y3Rpb25zIChpLmUuIHN5c3RlbSBtZXNzYWdlKSBwcmVwZW5kZWQgdG8gbW9kZWwgY2FsbHMuXG4gICAqIFRoaXMgZmllbGQgYWxsb3dzIHRoZSBjbGllbnQgdG8gZ3VpZGUgdGhlIG1vZGVsIG9uIGRlc2lyZWQgcmVzcG9uc2VzLiBUaGUgbW9kZWxcbiAgICogY2FuIGJlIGluc3RydWN0ZWQgb24gcmVzcG9uc2UgY29udGVudCBhbmQgZm9ybWF0LCAoZS5nLiBcImJlIGV4dHJlbWVseSBzdWNjaW5jdFwiLFxuICAgKiBcImFjdCBmcmllbmRseVwiLCBcImhlcmUgYXJlIGV4YW1wbGVzIG9mIGdvb2QgcmVzcG9uc2VzXCIpIGFuZCBvbiBhdWRpbyBiZWhhdmlvclxuICAgKiAoZS5nLiBcInRhbGsgcXVpY2tseVwiLCBcImluamVjdCBlbW90aW9uIGludG8geW91ciB2b2ljZVwiLCBcImxhdWdoIGZyZXF1ZW50bHlcIikuIFRoZVxuICAgKiBpbnN0cnVjdGlvbnMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIGZvbGxvd2VkIGJ5IHRoZSBtb2RlbCwgYnV0IHRoZXkgcHJvdmlkZVxuICAgKiBndWlkYW5jZSB0byB0aGUgbW9kZWwgb24gdGhlIGRlc2lyZWQgYmVoYXZpb3IuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgc2VydmVyIHNldHMgZGVmYXVsdCBpbnN0cnVjdGlvbnMgd2hpY2ggd2lsbCBiZSB1c2VkIGlmIHRoaXMgZmllbGRcbiAgICogaXMgbm90IHNldCBhbmQgYXJlIHZpc2libGUgaW4gdGhlIGBzZXNzaW9uLmNyZWF0ZWRgIGV2ZW50IGF0IHRoZSBzdGFydCBvZiB0aGVcbiAgICogc2Vzc2lvbi5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZztcblxuICAvKipcbiAgICogTWF4aW11bSBudW1iZXIgb2Ygb3V0cHV0IHRva2VucyBmb3IgYSBzaW5nbGUgYXNzaXN0YW50IHJlc3BvbnNlLCBpbmNsdXNpdmUgb2ZcbiAgICogdG9vbCBjYWxscy4gUHJvdmlkZSBhbiBpbnRlZ2VyIGJldHdlZW4gMSBhbmQgNDA5NiB0byBsaW1pdCBvdXRwdXQgdG9rZW5zLCBvclxuICAgKiBgaW5mYCBmb3IgdGhlIG1heGltdW0gYXZhaWxhYmxlIHRva2VucyBmb3IgYSBnaXZlbiBtb2RlbC4gRGVmYXVsdHMgdG8gYGluZmAuXG4gICAqL1xuICBtYXhfcmVzcG9uc2Vfb3V0cHV0X3Rva2Vucz86IG51bWJlciB8ICdpbmYnO1xuXG4gIC8qKlxuICAgKiBUaGUgc2V0IG9mIG1vZGFsaXRpZXMgdGhlIG1vZGVsIGNhbiByZXNwb25kIHdpdGguIFRvIGRpc2FibGUgYXVkaW8sIHNldCB0aGlzIHRvXG4gICAqIFtcInRleHRcIl0uXG4gICAqL1xuICBtb2RhbGl0aWVzPzogQXJyYXk8J3RleHQnIHwgJ2F1ZGlvJz47XG5cbiAgLyoqXG4gICAqIFRoZSBSZWFsdGltZSBtb2RlbCB1c2VkIGZvciB0aGlzIHNlc3Npb24uXG4gICAqL1xuICBtb2RlbD86XG4gICAgfCAnZ3B0LTRvLXJlYWx0aW1lLXByZXZpZXcnXG4gICAgfCAnZ3B0LTRvLXJlYWx0aW1lLXByZXZpZXctMjAyNC0xMC0wMSdcbiAgICB8ICdncHQtNG8tcmVhbHRpbWUtcHJldmlldy0yMDI0LTEyLTE3J1xuICAgIHwgJ2dwdC00by1taW5pLXJlYWx0aW1lLXByZXZpZXcnXG4gICAgfCAnZ3B0LTRvLW1pbmktcmVhbHRpbWUtcHJldmlldy0yMDI0LTEyLTE3JztcblxuICAvKipcbiAgICogVGhlIGZvcm1hdCBvZiBvdXRwdXQgYXVkaW8uIE9wdGlvbnMgYXJlIGBwY20xNmAsIGBnNzExX3VsYXdgLCBvciBgZzcxMV9hbGF3YC5cbiAgICogRm9yIGBwY20xNmAsIG91dHB1dCBhdWRpbyBpcyBzYW1wbGVkIGF0IGEgcmF0ZSBvZiAyNGtIei5cbiAgICovXG4gIG91dHB1dF9hdWRpb19mb3JtYXQ/OiAncGNtMTYnIHwgJ2c3MTFfdWxhdycgfCAnZzcxMV9hbGF3JztcblxuICAvKipcbiAgICogU2FtcGxpbmcgdGVtcGVyYXR1cmUgZm9yIHRoZSBtb2RlbCwgbGltaXRlZCB0byBbMC42LCAxLjJdLiBEZWZhdWx0cyB0byAwLjguXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcblxuICAvKipcbiAgICogSG93IHRoZSBtb2RlbCBjaG9vc2VzIHRvb2xzLiBPcHRpb25zIGFyZSBgYXV0b2AsIGBub25lYCwgYHJlcXVpcmVkYCwgb3Igc3BlY2lmeVxuICAgKiBhIGZ1bmN0aW9uLlxuICAgKi9cbiAgdG9vbF9jaG9pY2U/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRvb2xzIChmdW5jdGlvbnMpIGF2YWlsYWJsZSB0byB0aGUgbW9kZWwuXG4gICAqL1xuICB0b29scz86IEFycmF5PFNlc3Npb25DcmVhdGVQYXJhbXMuVG9vbD47XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIHR1cm4gZGV0ZWN0aW9uLiBDYW4gYmUgc2V0IHRvIGBudWxsYCB0byB0dXJuIG9mZi4gU2VydmVyIFZBRFxuICAgKiBtZWFucyB0aGF0IHRoZSBtb2RlbCB3aWxsIGRldGVjdCB0aGUgc3RhcnQgYW5kIGVuZCBvZiBzcGVlY2ggYmFzZWQgb24gYXVkaW9cbiAgICogdm9sdW1lIGFuZCByZXNwb25kIGF0IHRoZSBlbmQgb2YgdXNlciBzcGVlY2guXG4gICAqL1xuICB0dXJuX2RldGVjdGlvbj86IFNlc3Npb25DcmVhdGVQYXJhbXMuVHVybkRldGVjdGlvbjtcblxuICAvKipcbiAgICogVGhlIHZvaWNlIHRoZSBtb2RlbCB1c2VzIHRvIHJlc3BvbmQuIFZvaWNlIGNhbm5vdCBiZSBjaGFuZ2VkIGR1cmluZyB0aGUgc2Vzc2lvblxuICAgKiBvbmNlIHRoZSBtb2RlbCBoYXMgcmVzcG9uZGVkIHdpdGggYXVkaW8gYXQgbGVhc3Qgb25jZS4gQ3VycmVudCB2b2ljZSBvcHRpb25zIGFyZVxuICAgKiBgYWxsb3lgLCBgYXNoYCwgYGJhbGxhZGAsIGBjb3JhbGAsIGBlY2hvYCBgc2FnZWAsIGBzaGltbWVyYCBhbmQgYHZlcnNlYC5cbiAgICovXG4gIHZvaWNlPzogJ2FsbG95JyB8ICdhc2gnIHwgJ2JhbGxhZCcgfCAnY29yYWwnIHwgJ2VjaG8nIHwgJ3NhZ2UnIHwgJ3NoaW1tZXInIHwgJ3ZlcnNlJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBTZXNzaW9uQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIGlucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24sIGRlZmF1bHRzIHRvIG9mZiBhbmQgY2FuIGJlIHNldCB0b1xuICAgKiBgbnVsbGAgdG8gdHVybiBvZmYgb25jZSBvbi4gSW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiBpcyBub3QgbmF0aXZlIHRvIHRoZVxuICAgKiBtb2RlbCwgc2luY2UgdGhlIG1vZGVsIGNvbnN1bWVzIGF1ZGlvIGRpcmVjdGx5LiBUcmFuc2NyaXB0aW9uIHJ1bnNcbiAgICogYXN5bmNocm9ub3VzbHkgdGhyb3VnaFxuICAgKiBbT3BlbkFJIFdoaXNwZXIgdHJhbnNjcmlwdGlvbl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hdWRpby9jcmVhdGVUcmFuc2NyaXB0aW9uKVxuICAgKiBhbmQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcm91Z2ggZ3VpZGFuY2UgcmF0aGVyIHRoYW4gdGhlIHJlcHJlc2VudGF0aW9uXG4gICAqIHVuZGVyc3Rvb2QgYnkgdGhlIG1vZGVsLiBUaGUgY2xpZW50IGNhbiBvcHRpb25hbGx5IHNldCB0aGUgbGFuZ3VhZ2UgYW5kIHByb21wdFxuICAgKiBmb3IgdHJhbnNjcmlwdGlvbiwgdGhlc2UgZmllbGRzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBXaGlzcGVyIEFQSS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgSW5wdXRBdWRpb1RyYW5zY3JpcHRpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBsYW5ndWFnZSBvZiB0aGUgaW5wdXQgYXVkaW8uIFN1cHBseWluZyB0aGUgaW5wdXQgbGFuZ3VhZ2UgaW5cbiAgICAgKiBbSVNPLTYzOS0xXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX0lTT182MzktMV9jb2RlcykgKGUuZy4gYGVuYClcbiAgICAgKiBmb3JtYXQgd2lsbCBpbXByb3ZlIGFjY3VyYWN5IGFuZCBsYXRlbmN5LlxuICAgICAqL1xuICAgIGxhbmd1YWdlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1vZGVsIHRvIHVzZSBmb3IgdHJhbnNjcmlwdGlvbiwgYHdoaXNwZXItMWAgaXMgdGhlIG9ubHkgY3VycmVudGx5IHN1cHBvcnRlZFxuICAgICAqIG1vZGVsLlxuICAgICAqL1xuICAgIG1vZGVsPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgdGV4dCB0byBndWlkZSB0aGUgbW9kZWwncyBzdHlsZSBvciBjb250aW51ZSBhIHByZXZpb3VzIGF1ZGlvXG4gICAgICogc2VnbWVudC4gVGhlXG4gICAgICogW3Byb21wdF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NwZWVjaC10by10ZXh0I3Byb21wdGluZylcbiAgICAgKiBzaG91bGQgbWF0Y2ggdGhlIGF1ZGlvIGxhbmd1YWdlLlxuICAgICAqL1xuICAgIHByb21wdD86IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbCB7XG4gICAgLyoqXG4gICAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBmdW5jdGlvbiwgaW5jbHVkaW5nIGd1aWRhbmNlIG9uIHdoZW4gYW5kIGhvdyB0byBjYWxsIGl0LFxuICAgICAqIGFuZCBndWlkYW5jZSBhYm91dCB3aGF0IHRvIHRlbGwgdGhlIHVzZXIgd2hlbiBjYWxsaW5nIChpZiBhbnl0aGluZykuXG4gICAgICovXG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgbmFtZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFBhcmFtZXRlcnMgb2YgdGhlIGZ1bmN0aW9uIGluIEpTT04gU2NoZW1hLlxuICAgICAqL1xuICAgIHBhcmFtZXRlcnM/OiB1bmtub3duO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHRvb2wsIGkuZS4gYGZ1bmN0aW9uYC5cbiAgICAgKi9cbiAgICB0eXBlPzogJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciB0dXJuIGRldGVjdGlvbi4gQ2FuIGJlIHNldCB0byBgbnVsbGAgdG8gdHVybiBvZmYuIFNlcnZlciBWQURcbiAgICogbWVhbnMgdGhhdCB0aGUgbW9kZWwgd2lsbCBkZXRlY3QgdGhlIHN0YXJ0IGFuZCBlbmQgb2Ygc3BlZWNoIGJhc2VkIG9uIGF1ZGlvXG4gICAqIHZvbHVtZSBhbmQgcmVzcG9uZCBhdCB0aGUgZW5kIG9mIHVzZXIgc3BlZWNoLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUdXJuRGV0ZWN0aW9uIHtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgcmVzcG9uc2Ugd2hlbiBhIFZBRCBzdG9wIGV2ZW50XG4gICAgICogb2NjdXJzLiBgdHJ1ZWAgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBjcmVhdGVfcmVzcG9uc2U/OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gYXV0b21hdGljYWxseSBpbnRlcnJ1cHQgYW55IG9uZ29pbmcgcmVzcG9uc2Ugd2l0aCBvdXRwdXQgdG9cbiAgICAgKiB0aGUgZGVmYXVsdCBjb252ZXJzYXRpb24gKGkuZS4gYGNvbnZlcnNhdGlvbmAgb2YgYGF1dG9gKSB3aGVuIGEgVkFEIHN0YXJ0IGV2ZW50XG4gICAgICogb2NjdXJzLiBgdHJ1ZWAgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBpbnRlcnJ1cHRfcmVzcG9uc2U/OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQW1vdW50IG9mIGF1ZGlvIHRvIGluY2x1ZGUgYmVmb3JlIHRoZSBWQUQgZGV0ZWN0ZWQgc3BlZWNoIChpbiBtaWxsaXNlY29uZHMpLlxuICAgICAqIERlZmF1bHRzIHRvIDMwMG1zLlxuICAgICAqL1xuICAgIHByZWZpeF9wYWRkaW5nX21zPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogRHVyYXRpb24gb2Ygc2lsZW5jZSB0byBkZXRlY3Qgc3BlZWNoIHN0b3AgKGluIG1pbGxpc2Vjb25kcykuIERlZmF1bHRzIHRvIDUwMG1zLlxuICAgICAqIFdpdGggc2hvcnRlciB2YWx1ZXMgdGhlIG1vZGVsIHdpbGwgcmVzcG9uZCBtb3JlIHF1aWNrbHksIGJ1dCBtYXkganVtcCBpbiBvblxuICAgICAqIHNob3J0IHBhdXNlcyBmcm9tIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIHNpbGVuY2VfZHVyYXRpb25fbXM/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0aW9uIHRocmVzaG9sZCBmb3IgVkFEICgwLjAgdG8gMS4wKSwgdGhpcyBkZWZhdWx0cyB0byAwLjUuIEEgaGlnaGVyXG4gICAgICogdGhyZXNob2xkIHdpbGwgcmVxdWlyZSBsb3VkZXIgYXVkaW8gdG8gYWN0aXZhdGUgdGhlIG1vZGVsLCBhbmQgdGh1cyBtaWdodFxuICAgICAqIHBlcmZvcm0gYmV0dGVyIGluIG5vaXN5IGVudmlyb25tZW50cy5cbiAgICAgKi9cbiAgICB0aHJlc2hvbGQ/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIHR1cm4gZGV0ZWN0aW9uLCBvbmx5IGBzZXJ2ZXJfdmFkYCBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxuICAgICAqL1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIFNlc3Npb25zIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIFNlc3Npb24gYXMgU2Vzc2lvbixcbiAgICB0eXBlIFNlc3Npb25DcmVhdGVSZXNwb25zZSBhcyBTZXNzaW9uQ3JlYXRlUmVzcG9uc2UsXG4gICAgdHlwZSBTZXNzaW9uQ3JlYXRlUGFyYW1zIGFzIFNlc3Npb25DcmVhdGVQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgKiBhcyBSZWFsdGltZUFQSSBmcm9tICcuL3JlYWx0aW1lJztcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tICcuLi8uLi9zaGFyZWQnO1xuaW1wb3J0ICogYXMgU2Vzc2lvbnNBUEkgZnJvbSAnLi9zZXNzaW9ucyc7XG5pbXBvcnQge1xuICBTZXNzaW9uIGFzIFNlc3Npb25zQVBJU2Vzc2lvbixcbiAgU2Vzc2lvbkNyZWF0ZVBhcmFtcyxcbiAgU2Vzc2lvbkNyZWF0ZVJlc3BvbnNlLFxuICBTZXNzaW9ucyxcbn0gZnJvbSAnLi9zZXNzaW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBSZWFsdGltZSBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgc2Vzc2lvbnM6IFNlc3Npb25zQVBJLlNlc3Npb25zID0gbmV3IFNlc3Npb25zQVBJLlNlc3Npb25zKHRoaXMuX2NsaWVudCk7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBhIGNvbnZlcnNhdGlvbiBpcyBjcmVhdGVkLiBFbWl0dGVkIHJpZ2h0IGFmdGVyIHNlc3Npb24gY3JlYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBjb252ZXJzYXRpb24gcmVzb3VyY2UuXG4gICAqL1xuICBjb252ZXJzYXRpb246IENvbnZlcnNhdGlvbkNyZWF0ZWRFdmVudC5Db252ZXJzYXRpb247XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBjb252ZXJzYXRpb24uY3JlYXRlZGAuXG4gICAqL1xuICB0eXBlOiAnY29udmVyc2F0aW9uLmNyZWF0ZWQnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENvbnZlcnNhdGlvbkNyZWF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgY29udmVyc2F0aW9uIHJlc291cmNlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBpZD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3QgdHlwZSwgbXVzdCBiZSBgcmVhbHRpbWUuY29udmVyc2F0aW9uYC5cbiAgICAgKi9cbiAgICBvYmplY3Q/OiAncmVhbHRpbWUuY29udmVyc2F0aW9uJztcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBpdGVtIHRvIGFkZCB0byB0aGUgY29udmVyc2F0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnNhdGlvbkl0ZW0ge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgaXRlbSwgdGhpcyBjYW4gYmUgZ2VuZXJhdGVkIGJ5IHRoZSBjbGllbnQgdG8gaGVscCBtYW5hZ2VcbiAgICogc2VydmVyLXNpZGUgY29udGV4dCwgYnV0IGlzIG5vdCByZXF1aXJlZCBiZWNhdXNlIHRoZSBzZXJ2ZXIgd2lsbCBnZW5lcmF0ZSBvbmUgaWZcbiAgICogbm90IHByb3ZpZGVkLlxuICAgKi9cbiAgaWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBhcmd1bWVudHMgb2YgdGhlIGZ1bmN0aW9uIGNhbGwgKGZvciBgZnVuY3Rpb25fY2FsbGAgaXRlbXMpLlxuICAgKi9cbiAgYXJndW1lbnRzPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGZ1bmN0aW9uIGNhbGwgKGZvciBgZnVuY3Rpb25fY2FsbGAgYW5kIGBmdW5jdGlvbl9jYWxsX291dHB1dGBcbiAgICogaXRlbXMpLiBJZiBwYXNzZWQgb24gYSBgZnVuY3Rpb25fY2FsbF9vdXRwdXRgIGl0ZW0sIHRoZSBzZXJ2ZXIgd2lsbCBjaGVjayB0aGF0IGFcbiAgICogYGZ1bmN0aW9uX2NhbGxgIGl0ZW0gd2l0aCB0aGUgc2FtZSBJRCBleGlzdHMgaW4gdGhlIGNvbnZlcnNhdGlvbiBoaXN0b3J5LlxuICAgKi9cbiAgY2FsbF9pZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UsIGFwcGxpY2FibGUgZm9yIGBtZXNzYWdlYCBpdGVtcy5cbiAgICpcbiAgICogLSBNZXNzYWdlIGl0ZW1zIG9mIHJvbGUgYHN5c3RlbWAgc3VwcG9ydCBvbmx5IGBpbnB1dF90ZXh0YCBjb250ZW50XG4gICAqIC0gTWVzc2FnZSBpdGVtcyBvZiByb2xlIGB1c2VyYCBzdXBwb3J0IGBpbnB1dF90ZXh0YCBhbmQgYGlucHV0X2F1ZGlvYCBjb250ZW50XG4gICAqIC0gTWVzc2FnZSBpdGVtcyBvZiByb2xlIGBhc3Npc3RhbnRgIHN1cHBvcnQgYHRleHRgIGNvbnRlbnQuXG4gICAqL1xuICBjb250ZW50PzogQXJyYXk8Q29udmVyc2F0aW9uSXRlbUNvbnRlbnQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gYmVpbmcgY2FsbGVkIChmb3IgYGZ1bmN0aW9uX2NhbGxgIGl0ZW1zKS5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIElkZW50aWZpZXIgZm9yIHRoZSBBUEkgb2JqZWN0IGJlaW5nIHJldHVybmVkIC0gYWx3YXlzIGByZWFsdGltZS5pdGVtYC5cbiAgICovXG4gIG9iamVjdD86ICdyZWFsdGltZS5pdGVtJztcblxuICAvKipcbiAgICogVGhlIG91dHB1dCBvZiB0aGUgZnVuY3Rpb24gY2FsbCAoZm9yIGBmdW5jdGlvbl9jYWxsX291dHB1dGAgaXRlbXMpLlxuICAgKi9cbiAgb3V0cHV0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcm9sZSBvZiB0aGUgbWVzc2FnZSBzZW5kZXIgKGB1c2VyYCwgYGFzc2lzdGFudGAsIGBzeXN0ZW1gKSwgb25seSBhcHBsaWNhYmxlXG4gICAqIGZvciBgbWVzc2FnZWAgaXRlbXMuXG4gICAqL1xuICByb2xlPzogJ3VzZXInIHwgJ2Fzc2lzdGFudCcgfCAnc3lzdGVtJztcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgaXRlbSAoYGNvbXBsZXRlZGAsIGBpbmNvbXBsZXRlYCkuIFRoZXNlIGhhdmUgbm8gZWZmZWN0IG9uIHRoZVxuICAgKiBjb252ZXJzYXRpb24sIGJ1dCBhcmUgYWNjZXB0ZWQgZm9yIGNvbnNpc3RlbmN5IHdpdGggdGhlXG4gICAqIGBjb252ZXJzYXRpb24uaXRlbS5jcmVhdGVkYCBldmVudC5cbiAgICovXG4gIHN0YXR1cz86ICdjb21wbGV0ZWQnIHwgJ2luY29tcGxldGUnO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgaXRlbSAoYG1lc3NhZ2VgLCBgZnVuY3Rpb25fY2FsbGAsIGBmdW5jdGlvbl9jYWxsX291dHB1dGApLlxuICAgKi9cbiAgdHlwZT86ICdtZXNzYWdlJyB8ICdmdW5jdGlvbl9jYWxsJyB8ICdmdW5jdGlvbl9jYWxsX291dHB1dCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uSXRlbUNvbnRlbnQge1xuICAvKipcbiAgICogSUQgb2YgYSBwcmV2aW91cyBjb252ZXJzYXRpb24gaXRlbSB0byByZWZlcmVuY2UgKGZvciBgaXRlbV9yZWZlcmVuY2VgIGNvbnRlbnRcbiAgICogdHlwZXMgaW4gYHJlc3BvbnNlLmNyZWF0ZWAgZXZlbnRzKS4gVGhlc2UgY2FuIHJlZmVyZW5jZSBib3RoIGNsaWVudCBhbmQgc2VydmVyXG4gICAqIGNyZWF0ZWQgaXRlbXMuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICAvKipcbiAgICogQmFzZTY0LWVuY29kZWQgYXVkaW8gYnl0ZXMsIHVzZWQgZm9yIGBpbnB1dF9hdWRpb2AgY29udGVudCB0eXBlLlxuICAgKi9cbiAgYXVkaW8/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGNvbnRlbnQsIHVzZWQgZm9yIGBpbnB1dF90ZXh0YCBhbmQgYHRleHRgIGNvbnRlbnQgdHlwZXMuXG4gICAqL1xuICB0ZXh0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHJhbnNjcmlwdCBvZiB0aGUgYXVkaW8sIHVzZWQgZm9yIGBpbnB1dF9hdWRpb2AgY29udGVudCB0eXBlLlxuICAgKi9cbiAgdHJhbnNjcmlwdD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgdHlwZSAoYGlucHV0X3RleHRgLCBgaW5wdXRfYXVkaW9gLCBgaXRlbV9yZWZlcmVuY2VgLCBgdGV4dGApLlxuICAgKi9cbiAgdHlwZT86ICdpbnB1dF90ZXh0JyB8ICdpbnB1dF9hdWRpbycgfCAnaXRlbV9yZWZlcmVuY2UnIHwgJ3RleHQnO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBJdGVtIHRvIHRoZSBDb252ZXJzYXRpb24ncyBjb250ZXh0LCBpbmNsdWRpbmcgbWVzc2FnZXMsIGZ1bmN0aW9uXG4gKiBjYWxscywgYW5kIGZ1bmN0aW9uIGNhbGwgcmVzcG9uc2VzLiBUaGlzIGV2ZW50IGNhbiBiZSB1c2VkIGJvdGggdG8gcG9wdWxhdGUgYVxuICogXCJoaXN0b3J5XCIgb2YgdGhlIGNvbnZlcnNhdGlvbiBhbmQgdG8gYWRkIG5ldyBpdGVtcyBtaWQtc3RyZWFtLCBidXQgaGFzIHRoZVxuICogY3VycmVudCBsaW1pdGF0aW9uIHRoYXQgaXQgY2Fubm90IHBvcHVsYXRlIGFzc2lzdGFudCBhdWRpbyBtZXNzYWdlcy5cbiAqXG4gKiBJZiBzdWNjZXNzZnVsLCB0aGUgc2VydmVyIHdpbGwgcmVzcG9uZCB3aXRoIGEgYGNvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZWRgIGV2ZW50LFxuICogb3RoZXJ3aXNlIGFuIGBlcnJvcmAgZXZlbnQgd2lsbCBiZSBzZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnNhdGlvbkl0ZW1DcmVhdGVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaXRlbSB0byBhZGQgdG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICovXG4gIGl0ZW06IENvbnZlcnNhdGlvbkl0ZW07XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBjb252ZXJzYXRpb24uaXRlbS5jcmVhdGVgLlxuICAgKi9cbiAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZSc7XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGNsaWVudC1nZW5lcmF0ZWQgSUQgdXNlZCB0byBpZGVudGlmeSB0aGlzIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcHJlY2VkaW5nIGl0ZW0gYWZ0ZXIgd2hpY2ggdGhlIG5ldyBpdGVtIHdpbGwgYmUgaW5zZXJ0ZWQuIElmIG5vdFxuICAgKiBzZXQsIHRoZSBuZXcgaXRlbSB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGNvbnZlcnNhdGlvbi4gSWYgc2V0IHRvXG4gICAqIGByb290YCwgdGhlIG5ldyBpdGVtIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgY29udmVyc2F0aW9uLiBJZiBzZXRcbiAgICogdG8gYW4gZXhpc3RpbmcgSUQsIGl0IGFsbG93cyBhbiBpdGVtIHRvIGJlIGluc2VydGVkIG1pZC1jb252ZXJzYXRpb24uIElmIHRoZSBJRFxuICAgKiBjYW5ub3QgYmUgZm91bmQsIGFuIGVycm9yIHdpbGwgYmUgcmV0dXJuZWQgYW5kIHRoZSBpdGVtIHdpbGwgbm90IGJlIGFkZGVkLlxuICAgKi9cbiAgcHJldmlvdXNfaXRlbV9pZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGEgY29udmVyc2F0aW9uIGl0ZW0gaXMgY3JlYXRlZC4gVGhlcmUgYXJlIHNldmVyYWwgc2NlbmFyaW9zIHRoYXRcbiAqIHByb2R1Y2UgdGhpcyBldmVudDpcbiAqXG4gKiAtIFRoZSBzZXJ2ZXIgaXMgZ2VuZXJhdGluZyBhIFJlc3BvbnNlLCB3aGljaCBpZiBzdWNjZXNzZnVsIHdpbGwgcHJvZHVjZSBlaXRoZXJcbiAqICAgb25lIG9yIHR3byBJdGVtcywgd2hpY2ggd2lsbCBiZSBvZiB0eXBlIGBtZXNzYWdlYCAocm9sZSBgYXNzaXN0YW50YCkgb3IgdHlwZVxuICogICBgZnVuY3Rpb25fY2FsbGAuXG4gKiAtIFRoZSBpbnB1dCBhdWRpbyBidWZmZXIgaGFzIGJlZW4gY29tbWl0dGVkLCBlaXRoZXIgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyXG4gKiAgIChpbiBgc2VydmVyX3ZhZGAgbW9kZSkuIFRoZSBzZXJ2ZXIgd2lsbCB0YWtlIHRoZSBjb250ZW50IG9mIHRoZSBpbnB1dCBhdWRpb1xuICogICBidWZmZXIgYW5kIGFkZCBpdCB0byBhIG5ldyB1c2VyIG1lc3NhZ2UgSXRlbS5cbiAqIC0gVGhlIGNsaWVudCBoYXMgc2VudCBhIGBjb252ZXJzYXRpb24uaXRlbS5jcmVhdGVgIGV2ZW50IHRvIGFkZCBhIG5ldyBJdGVtIHRvXG4gKiAgIHRoZSBDb252ZXJzYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uSXRlbUNyZWF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaXRlbSB0byBhZGQgdG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICovXG4gIGl0ZW06IENvbnZlcnNhdGlvbkl0ZW07XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcHJlY2VkaW5nIGl0ZW0gaW4gdGhlIENvbnZlcnNhdGlvbiBjb250ZXh0LCBhbGxvd3MgdGhlIGNsaWVudCB0b1xuICAgKiB1bmRlcnN0YW5kIHRoZSBvcmRlciBvZiB0aGUgY29udmVyc2F0aW9uLlxuICAgKi9cbiAgcHJldmlvdXNfaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlZGAuXG4gICAqL1xuICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlZCc7XG59XG5cbi8qKlxuICogU2VuZCB0aGlzIGV2ZW50IHdoZW4geW91IHdhbnQgdG8gcmVtb3ZlIGFueSBpdGVtIGZyb20gdGhlIGNvbnZlcnNhdGlvbiBoaXN0b3J5LlxuICogVGhlIHNlcnZlciB3aWxsIHJlc3BvbmQgd2l0aCBhIGBjb252ZXJzYXRpb24uaXRlbS5kZWxldGVkYCBldmVudCwgdW5sZXNzIHRoZVxuICogaXRlbSBkb2VzIG5vdCBleGlzdCBpbiB0aGUgY29udmVyc2F0aW9uIGhpc3RvcnksIGluIHdoaWNoIGNhc2UgdGhlIHNlcnZlciB3aWxsXG4gKiByZXNwb25kIHdpdGggYW4gZXJyb3IuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uSXRlbURlbGV0ZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgaXRlbSB0byBkZWxldGUuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBjb252ZXJzYXRpb24uaXRlbS5kZWxldGVgLlxuICAgKi9cbiAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLmRlbGV0ZSc7XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGNsaWVudC1nZW5lcmF0ZWQgSUQgdXNlZCB0byBpZGVudGlmeSB0aGlzIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBhbiBpdGVtIGluIHRoZSBjb252ZXJzYXRpb24gaXMgZGVsZXRlZCBieSB0aGUgY2xpZW50IHdpdGggYVxuICogYGNvbnZlcnNhdGlvbi5pdGVtLmRlbGV0ZWAgZXZlbnQuIFRoaXMgZXZlbnQgaXMgdXNlZCB0byBzeW5jaHJvbml6ZSB0aGUgc2VydmVyJ3NcbiAqIHVuZGVyc3RhbmRpbmcgb2YgdGhlIGNvbnZlcnNhdGlvbiBoaXN0b3J5IHdpdGggdGhlIGNsaWVudCdzIHZpZXcuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uSXRlbURlbGV0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0gdGhhdCB3YXMgZGVsZXRlZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGNvbnZlcnNhdGlvbi5pdGVtLmRlbGV0ZWRgLlxuICAgKi9cbiAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLmRlbGV0ZWQnO1xufVxuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgdGhlIG91dHB1dCBvZiBhdWRpbyB0cmFuc2NyaXB0aW9uIGZvciB1c2VyIGF1ZGlvIHdyaXR0ZW4gdG8gdGhlXG4gKiB1c2VyIGF1ZGlvIGJ1ZmZlci4gVHJhbnNjcmlwdGlvbiBiZWdpbnMgd2hlbiB0aGUgaW5wdXQgYXVkaW8gYnVmZmVyIGlzIGNvbW1pdHRlZFxuICogYnkgdGhlIGNsaWVudCBvciBzZXJ2ZXIgKGluIGBzZXJ2ZXJfdmFkYCBtb2RlKS4gVHJhbnNjcmlwdGlvbiBydW5zXG4gKiBhc3luY2hyb25vdXNseSB3aXRoIFJlc3BvbnNlIGNyZWF0aW9uLCBzbyB0aGlzIGV2ZW50IG1heSBjb21lIGJlZm9yZSBvciBhZnRlclxuICogdGhlIFJlc3BvbnNlIGV2ZW50cy5cbiAqXG4gKiBSZWFsdGltZSBBUEkgbW9kZWxzIGFjY2VwdCBhdWRpbyBuYXRpdmVseSwgYW5kIHRodXMgaW5wdXQgdHJhbnNjcmlwdGlvbiBpcyBhXG4gKiBzZXBhcmF0ZSBwcm9jZXNzIHJ1biBvbiBhIHNlcGFyYXRlIEFTUiAoQXV0b21hdGljIFNwZWVjaCBSZWNvZ25pdGlvbikgbW9kZWwsXG4gKiBjdXJyZW50bHkgYWx3YXlzIGB3aGlzcGVyLTFgLiBUaHVzIHRoZSB0cmFuc2NyaXB0IG1heSBkaXZlcmdlIHNvbWV3aGF0IGZyb20gdGhlXG4gKiBtb2RlbCdzIGludGVycHJldGF0aW9uLCBhbmQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYSByb3VnaCBndWlkZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25Db21wbGV0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCBjb250YWluaW5nIHRoZSBhdWRpby5cbiAgICovXG4gIGNvbnRlbnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB1c2VyIG1lc3NhZ2UgaXRlbSBjb250YWluaW5nIHRoZSBhdWRpby5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHRyYW5zY3JpYmVkIHRleHQuXG4gICAqL1xuICB0cmFuc2NyaXB0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmNvbXBsZXRlZGAuXG4gICAqL1xuICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5jb21wbGV0ZWQnO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gaW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiBpcyBjb25maWd1cmVkLCBhbmQgYSB0cmFuc2NyaXB0aW9uXG4gKiByZXF1ZXN0IGZvciBhIHVzZXIgbWVzc2FnZSBmYWlsZWQuIFRoZXNlIGV2ZW50cyBhcmUgc2VwYXJhdGUgZnJvbSBvdGhlciBgZXJyb3JgXG4gKiBldmVudHMgc28gdGhhdCB0aGUgY2xpZW50IGNhbiBpZGVudGlmeSB0aGUgcmVsYXRlZCBJdGVtLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IGNvbnRhaW5pbmcgdGhlIGF1ZGlvLlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBEZXRhaWxzIG9mIHRoZSB0cmFuc2NyaXB0aW9uIGVycm9yLlxuICAgKi9cbiAgZXJyb3I6IENvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50LkVycm9yO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHVzZXIgbWVzc2FnZSBpdGVtLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5mYWlsZWRgLlxuICAgKi9cbiAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLmlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb24uZmFpbGVkJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25GYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKiBEZXRhaWxzIG9mIHRoZSB0cmFuc2NyaXB0aW9uIGVycm9yLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBFcnJvciB7XG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSwgaWYgYW55LlxuICAgICAqL1xuICAgIGNvZGU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIGVycm9yIG1lc3NhZ2UuXG4gICAgICovXG4gICAgbWVzc2FnZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFBhcmFtZXRlciByZWxhdGVkIHRvIHRoZSBlcnJvciwgaWYgYW55LlxuICAgICAqL1xuICAgIHBhcmFtPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgZXJyb3IuXG4gICAgICovXG4gICAgdHlwZT86IHN0cmluZztcbiAgfVxufVxuXG4vKipcbiAqIFNlbmQgdGhpcyBldmVudCB0byB0cnVuY2F0ZSBhIHByZXZpb3VzIGFzc2lzdGFudCBtZXNzYWdlXHUyMDE5cyBhdWRpby4gVGhlIHNlcnZlclxuICogd2lsbCBwcm9kdWNlIGF1ZGlvIGZhc3RlciB0aGFuIHJlYWx0aW1lLCBzbyB0aGlzIGV2ZW50IGlzIHVzZWZ1bCB3aGVuIHRoZSB1c2VyXG4gKiBpbnRlcnJ1cHRzIHRvIHRydW5jYXRlIGF1ZGlvIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBzZW50IHRvIHRoZSBjbGllbnQgYnV0IG5vdFxuICogeWV0IHBsYXllZC4gVGhpcyB3aWxsIHN5bmNocm9uaXplIHRoZSBzZXJ2ZXIncyB1bmRlcnN0YW5kaW5nIG9mIHRoZSBhdWRpbyB3aXRoXG4gKiB0aGUgY2xpZW50J3MgcGxheWJhY2suXG4gKlxuICogVHJ1bmNhdGluZyBhdWRpbyB3aWxsIGRlbGV0ZSB0aGUgc2VydmVyLXNpZGUgdGV4dCB0cmFuc2NyaXB0IHRvIGVuc3VyZSB0aGVyZSBpc1xuICogbm90IHRleHQgaW4gdGhlIGNvbnRleHQgdGhhdCBoYXNuJ3QgYmVlbiBoZWFyZCBieSB0aGUgdXNlci5cbiAqXG4gKiBJZiBzdWNjZXNzZnVsLCB0aGUgc2VydmVyIHdpbGwgcmVzcG9uZCB3aXRoIGEgYGNvbnZlcnNhdGlvbi5pdGVtLnRydW5jYXRlZGBcbiAqIGV2ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZUV2ZW50IHtcbiAgLyoqXG4gICAqIEluY2x1c2l2ZSBkdXJhdGlvbiB1cCB0byB3aGljaCBhdWRpbyBpcyB0cnVuY2F0ZWQsIGluIG1pbGxpc2Vjb25kcy4gSWYgdGhlXG4gICAqIGF1ZGlvX2VuZF9tcyBpcyBncmVhdGVyIHRoYW4gdGhlIGFjdHVhbCBhdWRpbyBkdXJhdGlvbiwgdGhlIHNlcnZlciB3aWxsIHJlc3BvbmRcbiAgICogd2l0aCBhbiBlcnJvci5cbiAgICovXG4gIGF1ZGlvX2VuZF9tczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCB0byB0cnVuY2F0ZS4gU2V0IHRoaXMgdG8gMC5cbiAgICovXG4gIGNvbnRlbnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBhc3Npc3RhbnQgbWVzc2FnZSBpdGVtIHRvIHRydW5jYXRlLiBPbmx5IGFzc2lzdGFudCBtZXNzYWdlIGl0ZW1zXG4gICAqIGNhbiBiZSB0cnVuY2F0ZWQuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBjb252ZXJzYXRpb24uaXRlbS50cnVuY2F0ZWAuXG4gICAqL1xuICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0udHJ1bmNhdGUnO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjbGllbnQtZ2VuZXJhdGVkIElEIHVzZWQgdG8gaWRlbnRpZnkgdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gYW4gZWFybGllciBhc3Npc3RhbnQgYXVkaW8gbWVzc2FnZSBpdGVtIGlzIHRydW5jYXRlZCBieSB0aGUgY2xpZW50XG4gKiB3aXRoIGEgYGNvbnZlcnNhdGlvbi5pdGVtLnRydW5jYXRlYCBldmVudC4gVGhpcyBldmVudCBpcyB1c2VkIHRvIHN5bmNocm9uaXplIHRoZVxuICogc2VydmVyJ3MgdW5kZXJzdGFuZGluZyBvZiB0aGUgYXVkaW8gd2l0aCB0aGUgY2xpZW50J3MgcGxheWJhY2suXG4gKlxuICogVGhpcyBhY3Rpb24gd2lsbCB0cnVuY2F0ZSB0aGUgYXVkaW8gYW5kIHJlbW92ZSB0aGUgc2VydmVyLXNpZGUgdGV4dCB0cmFuc2NyaXB0XG4gKiB0byBlbnN1cmUgdGhlcmUgaXMgbm8gdGV4dCBpbiB0aGUgY29udGV4dCB0aGF0IGhhc24ndCBiZWVuIGhlYXJkIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gdXAgdG8gd2hpY2ggdGhlIGF1ZGlvIHdhcyB0cnVuY2F0ZWQsIGluIG1pbGxpc2Vjb25kcy5cbiAgICovXG4gIGF1ZGlvX2VuZF9tczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCB0aGF0IHdhcyB0cnVuY2F0ZWQuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgYXNzaXN0YW50IG1lc3NhZ2UgaXRlbSB0aGF0IHdhcyB0cnVuY2F0ZWQuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBjb252ZXJzYXRpb24uaXRlbS50cnVuY2F0ZWRgLlxuICAgKi9cbiAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLnRydW5jYXRlZCc7XG59XG5cbi8qKlxuICogVGhlIGl0ZW0gdG8gYWRkIHRvIHRoZSBjb252ZXJzYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uSXRlbVdpdGhSZWZlcmVuY2Uge1xuICAvKipcbiAgICogRm9yIGFuIGl0ZW0gb2YgdHlwZSAoYG1lc3NhZ2VgIHwgYGZ1bmN0aW9uX2NhbGxgIHwgYGZ1bmN0aW9uX2NhbGxfb3V0cHV0YCkgdGhpc1xuICAgKiBmaWVsZCBhbGxvd3MgdGhlIGNsaWVudCB0byBhc3NpZ24gdGhlIHVuaXF1ZSBJRCBvZiB0aGUgaXRlbS4gSXQgaXMgbm90IHJlcXVpcmVkXG4gICAqIGJlY2F1c2UgdGhlIHNlcnZlciB3aWxsIGdlbmVyYXRlIG9uZSBpZiBub3QgcHJvdmlkZWQuXG4gICAqXG4gICAqIEZvciBhbiBpdGVtIG9mIHR5cGUgYGl0ZW1fcmVmZXJlbmNlYCwgdGhpcyBmaWVsZCBpcyByZXF1aXJlZCBhbmQgaXMgYSByZWZlcmVuY2VcbiAgICogdG8gYW55IGl0ZW0gdGhhdCBoYXMgcHJldmlvdXNseSBleGlzdGVkIGluIHRoZSBjb252ZXJzYXRpb24uXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24gY2FsbCAoZm9yIGBmdW5jdGlvbl9jYWxsYCBpdGVtcykuXG4gICAqL1xuICBhcmd1bWVudHM/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZnVuY3Rpb24gY2FsbCAoZm9yIGBmdW5jdGlvbl9jYWxsYCBhbmQgYGZ1bmN0aW9uX2NhbGxfb3V0cHV0YFxuICAgKiBpdGVtcykuIElmIHBhc3NlZCBvbiBhIGBmdW5jdGlvbl9jYWxsX291dHB1dGAgaXRlbSwgdGhlIHNlcnZlciB3aWxsIGNoZWNrIHRoYXQgYVxuICAgKiBgZnVuY3Rpb25fY2FsbGAgaXRlbSB3aXRoIHRoZSBzYW1lIElEIGV4aXN0cyBpbiB0aGUgY29udmVyc2F0aW9uIGhpc3RvcnkuXG4gICAqL1xuICBjYWxsX2lkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZSwgYXBwbGljYWJsZSBmb3IgYG1lc3NhZ2VgIGl0ZW1zLlxuICAgKlxuICAgKiAtIE1lc3NhZ2UgaXRlbXMgb2Ygcm9sZSBgc3lzdGVtYCBzdXBwb3J0IG9ubHkgYGlucHV0X3RleHRgIGNvbnRlbnRcbiAgICogLSBNZXNzYWdlIGl0ZW1zIG9mIHJvbGUgYHVzZXJgIHN1cHBvcnQgYGlucHV0X3RleHRgIGFuZCBgaW5wdXRfYXVkaW9gIGNvbnRlbnRcbiAgICogLSBNZXNzYWdlIGl0ZW1zIG9mIHJvbGUgYGFzc2lzdGFudGAgc3VwcG9ydCBgdGV4dGAgY29udGVudC5cbiAgICovXG4gIGNvbnRlbnQ/OiBBcnJheTxDb252ZXJzYXRpb25JdGVtQ29udGVudD47XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiBiZWluZyBjYWxsZWQgKGZvciBgZnVuY3Rpb25fY2FsbGAgaXRlbXMpLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogSWRlbnRpZmllciBmb3IgdGhlIEFQSSBvYmplY3QgYmVpbmcgcmV0dXJuZWQgLSBhbHdheXMgYHJlYWx0aW1lLml0ZW1gLlxuICAgKi9cbiAgb2JqZWN0PzogJ3JlYWx0aW1lLml0ZW0nO1xuXG4gIC8qKlxuICAgKiBUaGUgb3V0cHV0IG9mIHRoZSBmdW5jdGlvbiBjYWxsIChmb3IgYGZ1bmN0aW9uX2NhbGxfb3V0cHV0YCBpdGVtcykuXG4gICAqL1xuICBvdXRwdXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlIHNlbmRlciAoYHVzZXJgLCBgYXNzaXN0YW50YCwgYHN5c3RlbWApLCBvbmx5IGFwcGxpY2FibGVcbiAgICogZm9yIGBtZXNzYWdlYCBpdGVtcy5cbiAgICovXG4gIHJvbGU/OiAndXNlcicgfCAnYXNzaXN0YW50JyB8ICdzeXN0ZW0nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBpdGVtIChgY29tcGxldGVkYCwgYGluY29tcGxldGVgKS4gVGhlc2UgaGF2ZSBubyBlZmZlY3Qgb24gdGhlXG4gICAqIGNvbnZlcnNhdGlvbiwgYnV0IGFyZSBhY2NlcHRlZCBmb3IgY29uc2lzdGVuY3kgd2l0aCB0aGVcbiAgICogYGNvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZWRgIGV2ZW50LlxuICAgKi9cbiAgc3RhdHVzPzogJ2NvbXBsZXRlZCcgfCAnaW5jb21wbGV0ZSc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBpdGVtIChgbWVzc2FnZWAsIGBmdW5jdGlvbl9jYWxsYCwgYGZ1bmN0aW9uX2NhbGxfb3V0cHV0YCxcbiAgICogYGl0ZW1fcmVmZXJlbmNlYCkuXG4gICAqL1xuICB0eXBlPzogJ21lc3NhZ2UnIHwgJ2Z1bmN0aW9uX2NhbGwnIHwgJ2Z1bmN0aW9uX2NhbGxfb3V0cHV0JyB8ICdpdGVtX3JlZmVyZW5jZSc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMsIHdoaWNoIGNvdWxkIGJlIGEgY2xpZW50IHByb2JsZW0gb3IgYSBzZXJ2ZXJcbiAqIHByb2JsZW0uIE1vc3QgZXJyb3JzIGFyZSByZWNvdmVyYWJsZSBhbmQgdGhlIHNlc3Npb24gd2lsbCBzdGF5IG9wZW4sIHdlXG4gKiByZWNvbW1lbmQgdG8gaW1wbGVtZW50b3JzIHRvIG1vbml0b3IgYW5kIGxvZyBlcnJvciBtZXNzYWdlcyBieSBkZWZhdWx0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yRXZlbnQge1xuICAvKipcbiAgICogRGV0YWlscyBvZiB0aGUgZXJyb3IuXG4gICAqL1xuICBlcnJvcjogRXJyb3JFdmVudC5FcnJvcjtcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGVycm9yYC5cbiAgICovXG4gIHR5cGU6ICdlcnJvcic7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgRXJyb3JFdmVudCB7XG4gIC8qKlxuICAgKiBEZXRhaWxzIG9mIHRoZSBlcnJvci5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRXJyb3Ige1xuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgZXJyb3IgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBtZXNzYWdlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBlcnJvciAoZS5nLiwgXCJpbnZhbGlkX3JlcXVlc3RfZXJyb3JcIiwgXCJzZXJ2ZXJfZXJyb3JcIikuXG4gICAgICovXG4gICAgdHlwZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSwgaWYgYW55LlxuICAgICAqL1xuICAgIGNvZGU/OiBzdHJpbmcgfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50X2lkIG9mIHRoZSBjbGllbnQgZXZlbnQgdGhhdCBjYXVzZWQgdGhlIGVycm9yLCBpZiBhcHBsaWNhYmxlLlxuICAgICAqL1xuICAgIGV2ZW50X2lkPzogc3RyaW5nIHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFBhcmFtZXRlciByZWxhdGVkIHRvIHRoZSBlcnJvciwgaWYgYW55LlxuICAgICAqL1xuICAgIHBhcmFtPzogc3RyaW5nIHwgbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFNlbmQgdGhpcyBldmVudCB0byBhcHBlbmQgYXVkaW8gYnl0ZXMgdG8gdGhlIGlucHV0IGF1ZGlvIGJ1ZmZlci4gVGhlIGF1ZGlvXG4gKiBidWZmZXIgaXMgdGVtcG9yYXJ5IHN0b3JhZ2UgeW91IGNhbiB3cml0ZSB0byBhbmQgbGF0ZXIgY29tbWl0LiBJbiBTZXJ2ZXIgVkFEXG4gKiBtb2RlLCB0aGUgYXVkaW8gYnVmZmVyIGlzIHVzZWQgdG8gZGV0ZWN0IHNwZWVjaCBhbmQgdGhlIHNlcnZlciB3aWxsIGRlY2lkZSB3aGVuXG4gKiB0byBjb21taXQuIFdoZW4gU2VydmVyIFZBRCBpcyBkaXNhYmxlZCwgeW91IG11c3QgY29tbWl0IHRoZSBhdWRpbyBidWZmZXJcbiAqIG1hbnVhbGx5LlxuICpcbiAqIFRoZSBjbGllbnQgbWF5IGNob29zZSBob3cgbXVjaCBhdWRpbyB0byBwbGFjZSBpbiBlYWNoIGV2ZW50IHVwIHRvIGEgbWF4aW11bSBvZlxuICogMTUgTWlCLCBmb3IgZXhhbXBsZSBzdHJlYW1pbmcgc21hbGxlciBjaHVua3MgZnJvbSB0aGUgY2xpZW50IG1heSBhbGxvdyB0aGUgVkFEXG4gKiB0byBiZSBtb3JlIHJlc3BvbnNpdmUuIFVubGlrZSBtYWRlIG90aGVyIGNsaWVudCBldmVudHMsIHRoZSBzZXJ2ZXIgd2lsbCBub3Qgc2VuZFxuICogYSBjb25maXJtYXRpb24gcmVzcG9uc2UgdG8gdGhpcyBldmVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvQnVmZmVyQXBwZW5kRXZlbnQge1xuICAvKipcbiAgICogQmFzZTY0LWVuY29kZWQgYXVkaW8gYnl0ZXMuIFRoaXMgbXVzdCBiZSBpbiB0aGUgZm9ybWF0IHNwZWNpZmllZCBieSB0aGVcbiAgICogYGlucHV0X2F1ZGlvX2Zvcm1hdGAgZmllbGQgaW4gdGhlIHNlc3Npb24gY29uZmlndXJhdGlvbi5cbiAgICovXG4gIGF1ZGlvOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBpbnB1dF9hdWRpb19idWZmZXIuYXBwZW5kYC5cbiAgICovXG4gIHR5cGU6ICdpbnB1dF9hdWRpb19idWZmZXIuYXBwZW5kJztcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2xpZW50LWdlbmVyYXRlZCBJRCB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBTZW5kIHRoaXMgZXZlbnQgdG8gY2xlYXIgdGhlIGF1ZGlvIGJ5dGVzIGluIHRoZSBidWZmZXIuIFRoZSBzZXJ2ZXIgd2lsbCByZXNwb25kXG4gKiB3aXRoIGFuIGBpbnB1dF9hdWRpb19idWZmZXIuY2xlYXJlZGAgZXZlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRBdWRpb0J1ZmZlckNsZWFyRXZlbnQge1xuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGlucHV0X2F1ZGlvX2J1ZmZlci5jbGVhcmAuXG4gICAqL1xuICB0eXBlOiAnaW5wdXRfYXVkaW9fYnVmZmVyLmNsZWFyJztcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2xpZW50LWdlbmVyYXRlZCBJRCB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIHRoZSBpbnB1dCBhdWRpbyBidWZmZXIgaXMgY2xlYXJlZCBieSB0aGUgY2xpZW50IHdpdGggYVxuICogYGlucHV0X2F1ZGlvX2J1ZmZlci5jbGVhcmAgZXZlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRBdWRpb0J1ZmZlckNsZWFyZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgaW5wdXRfYXVkaW9fYnVmZmVyLmNsZWFyZWRgLlxuICAgKi9cbiAgdHlwZTogJ2lucHV0X2F1ZGlvX2J1ZmZlci5jbGVhcmVkJztcbn1cblxuLyoqXG4gKiBTZW5kIHRoaXMgZXZlbnQgdG8gY29tbWl0IHRoZSB1c2VyIGlucHV0IGF1ZGlvIGJ1ZmZlciwgd2hpY2ggd2lsbCBjcmVhdGUgYSBuZXdcbiAqIHVzZXIgbWVzc2FnZSBpdGVtIGluIHRoZSBjb252ZXJzYXRpb24uIFRoaXMgZXZlbnQgd2lsbCBwcm9kdWNlIGFuIGVycm9yIGlmIHRoZVxuICogaW5wdXQgYXVkaW8gYnVmZmVyIGlzIGVtcHR5LiBXaGVuIGluIFNlcnZlciBWQUQgbW9kZSwgdGhlIGNsaWVudCBkb2VzIG5vdCBuZWVkXG4gKiB0byBzZW5kIHRoaXMgZXZlbnQsIHRoZSBzZXJ2ZXIgd2lsbCBjb21taXQgdGhlIGF1ZGlvIGJ1ZmZlciBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIENvbW1pdHRpbmcgdGhlIGlucHV0IGF1ZGlvIGJ1ZmZlciB3aWxsIHRyaWdnZXIgaW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiAoaWZcbiAqIGVuYWJsZWQgaW4gc2Vzc2lvbiBjb25maWd1cmF0aW9uKSwgYnV0IGl0IHdpbGwgbm90IGNyZWF0ZSBhIHJlc3BvbnNlIGZyb20gdGhlXG4gKiBtb2RlbC4gVGhlIHNlcnZlciB3aWxsIHJlc3BvbmQgd2l0aCBhbiBgaW5wdXRfYXVkaW9fYnVmZmVyLmNvbW1pdHRlZGAgZXZlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRBdWRpb0J1ZmZlckNvbW1pdEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBpbnB1dF9hdWRpb19idWZmZXIuY29tbWl0YC5cbiAgICovXG4gIHR5cGU6ICdpbnB1dF9hdWRpb19idWZmZXIuY29tbWl0JztcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2xpZW50LWdlbmVyYXRlZCBJRCB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGFuIGlucHV0IGF1ZGlvIGJ1ZmZlciBpcyBjb21taXR0ZWQsIGVpdGhlciBieSB0aGUgY2xpZW50IG9yXG4gKiBhdXRvbWF0aWNhbGx5IGluIHNlcnZlciBWQUQgbW9kZS4gVGhlIGBpdGVtX2lkYCBwcm9wZXJ0eSBpcyB0aGUgSUQgb2YgdGhlIHVzZXJcbiAqIG1lc3NhZ2UgaXRlbSB0aGF0IHdpbGwgYmUgY3JlYXRlZCwgdGh1cyBhIGBjb252ZXJzYXRpb24uaXRlbS5jcmVhdGVkYCBldmVudCB3aWxsXG4gKiBhbHNvIGJlIHNlbnQgdG8gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvQnVmZmVyQ29tbWl0dGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB1c2VyIG1lc3NhZ2UgaXRlbSB0aGF0IHdpbGwgYmUgY3JlYXRlZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBwcmVjZWRpbmcgaXRlbSBhZnRlciB3aGljaCB0aGUgbmV3IGl0ZW0gd2lsbCBiZSBpbnNlcnRlZC5cbiAgICovXG4gIHByZXZpb3VzX2l0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGlucHV0X2F1ZGlvX2J1ZmZlci5jb21taXR0ZWRgLlxuICAgKi9cbiAgdHlwZTogJ2lucHV0X2F1ZGlvX2J1ZmZlci5jb21taXR0ZWQnO1xufVxuXG4vKipcbiAqIFNlbnQgYnkgdGhlIHNlcnZlciB3aGVuIGluIGBzZXJ2ZXJfdmFkYCBtb2RlIHRvIGluZGljYXRlIHRoYXQgc3BlZWNoIGhhcyBiZWVuXG4gKiBkZXRlY3RlZCBpbiB0aGUgYXVkaW8gYnVmZmVyLiBUaGlzIGNhbiBoYXBwZW4gYW55IHRpbWUgYXVkaW8gaXMgYWRkZWQgdG8gdGhlXG4gKiBidWZmZXIgKHVubGVzcyBzcGVlY2ggaXMgYWxyZWFkeSBkZXRlY3RlZCkuIFRoZSBjbGllbnQgbWF5IHdhbnQgdG8gdXNlIHRoaXNcbiAqIGV2ZW50IHRvIGludGVycnVwdCBhdWRpbyBwbGF5YmFjayBvciBwcm92aWRlIHZpc3VhbCBmZWVkYmFjayB0byB0aGUgdXNlci5cbiAqXG4gKiBUaGUgY2xpZW50IHNob3VsZCBleHBlY3QgdG8gcmVjZWl2ZSBhIGBpbnB1dF9hdWRpb19idWZmZXIuc3BlZWNoX3N0b3BwZWRgIGV2ZW50XG4gKiB3aGVuIHNwZWVjaCBzdG9wcy4gVGhlIGBpdGVtX2lkYCBwcm9wZXJ0eSBpcyB0aGUgSUQgb2YgdGhlIHVzZXIgbWVzc2FnZSBpdGVtXG4gKiB0aGF0IHdpbGwgYmUgY3JlYXRlZCB3aGVuIHNwZWVjaCBzdG9wcyBhbmQgd2lsbCBhbHNvIGJlIGluY2x1ZGVkIGluIHRoZVxuICogYGlucHV0X2F1ZGlvX2J1ZmZlci5zcGVlY2hfc3RvcHBlZGAgZXZlbnQgKHVubGVzcyB0aGUgY2xpZW50IG1hbnVhbGx5IGNvbW1pdHNcbiAqIHRoZSBhdWRpbyBidWZmZXIgZHVyaW5nIFZBRCBhY3RpdmF0aW9uKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RhcnRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIE1pbGxpc2Vjb25kcyBmcm9tIHRoZSBzdGFydCBvZiBhbGwgYXVkaW8gd3JpdHRlbiB0byB0aGUgYnVmZmVyIGR1cmluZyB0aGVcbiAgICogc2Vzc2lvbiB3aGVuIHNwZWVjaCB3YXMgZmlyc3QgZGV0ZWN0ZWQuIFRoaXMgd2lsbCBjb3JyZXNwb25kIHRvIHRoZSBiZWdpbm5pbmcgb2ZcbiAgICogYXVkaW8gc2VudCB0byB0aGUgbW9kZWwsIGFuZCB0aHVzIGluY2x1ZGVzIHRoZSBgcHJlZml4X3BhZGRpbmdfbXNgIGNvbmZpZ3VyZWQgaW5cbiAgICogdGhlIFNlc3Npb24uXG4gICAqL1xuICBhdWRpb19zdGFydF9tczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHVzZXIgbWVzc2FnZSBpdGVtIHRoYXQgd2lsbCBiZSBjcmVhdGVkIHdoZW4gc3BlZWNoIHN0b3BzLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgaW5wdXRfYXVkaW9fYnVmZmVyLnNwZWVjaF9zdGFydGVkYC5cbiAgICovXG4gIHR5cGU6ICdpbnB1dF9hdWRpb19idWZmZXIuc3BlZWNoX3N0YXJ0ZWQnO1xufVxuXG4vKipcbiAqIFJldHVybmVkIGluIGBzZXJ2ZXJfdmFkYCBtb2RlIHdoZW4gdGhlIHNlcnZlciBkZXRlY3RzIHRoZSBlbmQgb2Ygc3BlZWNoIGluIHRoZVxuICogYXVkaW8gYnVmZmVyLiBUaGUgc2VydmVyIHdpbGwgYWxzbyBzZW5kIGFuIGBjb252ZXJzYXRpb24uaXRlbS5jcmVhdGVkYCBldmVudFxuICogd2l0aCB0aGUgdXNlciBtZXNzYWdlIGl0ZW0gdGhhdCBpcyBjcmVhdGVkIGZyb20gdGhlIGF1ZGlvIGJ1ZmZlci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RvcHBlZEV2ZW50IHtcbiAgLyoqXG4gICAqIE1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgc2Vzc2lvbiBzdGFydGVkIHdoZW4gc3BlZWNoIHN0b3BwZWQuIFRoaXMgd2lsbCBjb3JyZXNwb25kXG4gICAqIHRvIHRoZSBlbmQgb2YgYXVkaW8gc2VudCB0byB0aGUgbW9kZWwsIGFuZCB0aHVzIGluY2x1ZGVzIHRoZVxuICAgKiBgbWluX3NpbGVuY2VfZHVyYXRpb25fbXNgIGNvbmZpZ3VyZWQgaW4gdGhlIFNlc3Npb24uXG4gICAqL1xuICBhdWRpb19lbmRfbXM6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB1c2VyIG1lc3NhZ2UgaXRlbSB0aGF0IHdpbGwgYmUgY3JlYXRlZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYGlucHV0X2F1ZGlvX2J1ZmZlci5zcGVlY2hfc3RvcHBlZGAuXG4gICAqL1xuICB0eXBlOiAnaW5wdXRfYXVkaW9fYnVmZmVyLnNwZWVjaF9zdG9wcGVkJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBSZXNwb25zZSB0byBpbmRpY2F0ZSB0aGUgdXBkYXRlZCByYXRlIGxpbWl0cy4gV2hlblxuICogYSBSZXNwb25zZSBpcyBjcmVhdGVkIHNvbWUgdG9rZW5zIHdpbGwgYmUgXCJyZXNlcnZlZFwiIGZvciB0aGUgb3V0cHV0IHRva2VucywgdGhlXG4gKiByYXRlIGxpbWl0cyBzaG93biBoZXJlIHJlZmxlY3QgdGhhdCByZXNlcnZhdGlvbiwgd2hpY2ggaXMgdGhlbiBhZGp1c3RlZFxuICogYWNjb3JkaW5nbHkgb25jZSB0aGUgUmVzcG9uc2UgaXMgY29tcGxldGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJhdGVMaW1pdHNVcGRhdGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogTGlzdCBvZiByYXRlIGxpbWl0IGluZm9ybWF0aW9uLlxuICAgKi9cbiAgcmF0ZV9saW1pdHM6IEFycmF5PFJhdGVMaW1pdHNVcGRhdGVkRXZlbnQuUmF0ZUxpbWl0PjtcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJhdGVfbGltaXRzLnVwZGF0ZWRgLlxuICAgKi9cbiAgdHlwZTogJ3JhdGVfbGltaXRzLnVwZGF0ZWQnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJhdGVMaW1pdHNVcGRhdGVkRXZlbnQge1xuICBleHBvcnQgaW50ZXJmYWNlIFJhdGVMaW1pdCB7XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gYWxsb3dlZCB2YWx1ZSBmb3IgdGhlIHJhdGUgbGltaXQuXG4gICAgICovXG4gICAgbGltaXQ/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcmF0ZSBsaW1pdCAoYHJlcXVlc3RzYCwgYHRva2Vuc2ApLlxuICAgICAqL1xuICAgIG5hbWU/OiAncmVxdWVzdHMnIHwgJ3Rva2Vucyc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVtYWluaW5nIHZhbHVlIGJlZm9yZSB0aGUgbGltaXQgaXMgcmVhY2hlZC5cbiAgICAgKi9cbiAgICByZW1haW5pbmc/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBTZWNvbmRzIHVudGlsIHRoZSByYXRlIGxpbWl0IHJlc2V0cy5cbiAgICAgKi9cbiAgICByZXNldF9zZWNvbmRzPzogbnVtYmVyO1xuICB9XG59XG5cbi8qKlxuICogQWxsIGV2ZW50cyB0aGF0IHRoZSBjbGllbnQgY2FuIHNlbmQgdG8gdGhlIFJlYWx0aW1lIEFQSVxuICovXG5leHBvcnQgdHlwZSBSZWFsdGltZUNsaWVudEV2ZW50ID1cbiAgfCBTZXNzaW9uVXBkYXRlRXZlbnRcbiAgfCBJbnB1dEF1ZGlvQnVmZmVyQXBwZW5kRXZlbnRcbiAgfCBJbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnRcbiAgfCBJbnB1dEF1ZGlvQnVmZmVyQ2xlYXJFdmVudFxuICB8IENvbnZlcnNhdGlvbkl0ZW1DcmVhdGVFdmVudFxuICB8IENvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZUV2ZW50XG4gIHwgQ29udmVyc2F0aW9uSXRlbURlbGV0ZUV2ZW50XG4gIHwgUmVzcG9uc2VDcmVhdGVFdmVudFxuICB8IFJlc3BvbnNlQ2FuY2VsRXZlbnQ7XG5cbi8qKlxuICogVGhlIHJlc3BvbnNlIHJlc291cmNlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlYWx0aW1lUmVzcG9uc2Uge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICAvKipcbiAgICogV2hpY2ggY29udmVyc2F0aW9uIHRoZSByZXNwb25zZSBpcyBhZGRlZCB0bywgZGV0ZXJtaW5lZCBieSB0aGUgYGNvbnZlcnNhdGlvbmBcbiAgICogZmllbGQgaW4gdGhlIGByZXNwb25zZS5jcmVhdGVgIGV2ZW50LiBJZiBgYXV0b2AsIHRoZSByZXNwb25zZSB3aWxsIGJlIGFkZGVkIHRvXG4gICAqIHRoZSBkZWZhdWx0IGNvbnZlcnNhdGlvbiBhbmQgdGhlIHZhbHVlIG9mIGBjb252ZXJzYXRpb25faWRgIHdpbGwgYmUgYW4gaWQgbGlrZVxuICAgKiBgY29udl8xMjM0YC4gSWYgYG5vbmVgLCB0aGUgcmVzcG9uc2Ugd2lsbCBub3QgYmUgYWRkZWQgdG8gYW55IGNvbnZlcnNhdGlvbiBhbmRcbiAgICogdGhlIHZhbHVlIG9mIGBjb252ZXJzYXRpb25faWRgIHdpbGwgYmUgYG51bGxgLiBJZiByZXNwb25zZXMgYXJlIGJlaW5nIHRyaWdnZXJlZFxuICAgKiBieSBzZXJ2ZXIgVkFELCB0aGUgcmVzcG9uc2Ugd2lsbCBiZSBhZGRlZCB0byB0aGUgZGVmYXVsdCBjb252ZXJzYXRpb24sIHRodXMgdGhlXG4gICAqIGBjb252ZXJzYXRpb25faWRgIHdpbGwgYmUgYW4gaWQgbGlrZSBgY29udl8xMjM0YC5cbiAgICovXG4gIGNvbnZlcnNhdGlvbl9pZD86IHN0cmluZztcblxuICAvKipcbiAgICogTWF4aW11bSBudW1iZXIgb2Ygb3V0cHV0IHRva2VucyBmb3IgYSBzaW5nbGUgYXNzaXN0YW50IHJlc3BvbnNlLCBpbmNsdXNpdmUgb2ZcbiAgICogdG9vbCBjYWxscywgdGhhdCB3YXMgdXNlZCBpbiB0aGlzIHJlc3BvbnNlLlxuICAgKi9cbiAgbWF4X291dHB1dF90b2tlbnM/OiBudW1iZXIgfCAnaW5mJztcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHNldCBvZiBtb2RhbGl0aWVzIHRoZSBtb2RlbCB1c2VkIHRvIHJlc3BvbmQuIElmIHRoZXJlIGFyZSBtdWx0aXBsZVxuICAgKiBtb2RhbGl0aWVzLCB0aGUgbW9kZWwgd2lsbCBwaWNrIG9uZSwgZm9yIGV4YW1wbGUgaWYgYG1vZGFsaXRpZXNgIGlzXG4gICAqIGBbXCJ0ZXh0XCIsIFwiYXVkaW9cIl1gLCB0aGUgbW9kZWwgY291bGQgYmUgcmVzcG9uZGluZyBpbiBlaXRoZXIgdGV4dCBvciBhdWRpby5cbiAgICovXG4gIG1vZGFsaXRpZXM/OiBBcnJheTwndGV4dCcgfCAnYXVkaW8nPjtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCBtdXN0IGJlIGByZWFsdGltZS5yZXNwb25zZWAuXG4gICAqL1xuICBvYmplY3Q/OiAncmVhbHRpbWUucmVzcG9uc2UnO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBvdXRwdXQgaXRlbXMgZ2VuZXJhdGVkIGJ5IHRoZSByZXNwb25zZS5cbiAgICovXG4gIG91dHB1dD86IEFycmF5PENvbnZlcnNhdGlvbkl0ZW0+O1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIG91dHB1dCBhdWRpby4gT3B0aW9ucyBhcmUgYHBjbTE2YCwgYGc3MTFfdWxhd2AsIG9yIGBnNzExX2FsYXdgLlxuICAgKi9cbiAgb3V0cHV0X2F1ZGlvX2Zvcm1hdD86ICdwY20xNicgfCAnZzcxMV91bGF3JyB8ICdnNzExX2FsYXcnO1xuXG4gIC8qKlxuICAgKiBUaGUgZmluYWwgc3RhdHVzIG9mIHRoZSByZXNwb25zZSAoYGNvbXBsZXRlZGAsIGBjYW5jZWxsZWRgLCBgZmFpbGVkYCwgb3JcbiAgICogYGluY29tcGxldGVgKS5cbiAgICovXG4gIHN0YXR1cz86ICdjb21wbGV0ZWQnIHwgJ2NhbmNlbGxlZCcgfCAnZmFpbGVkJyB8ICdpbmNvbXBsZXRlJztcblxuICAvKipcbiAgICogQWRkaXRpb25hbCBkZXRhaWxzIGFib3V0IHRoZSBzdGF0dXMuXG4gICAqL1xuICBzdGF0dXNfZGV0YWlscz86IFJlYWx0aW1lUmVzcG9uc2VTdGF0dXM7XG5cbiAgLyoqXG4gICAqIFNhbXBsaW5nIHRlbXBlcmF0dXJlIGZvciB0aGUgbW9kZWwsIGxpbWl0ZWQgdG8gWzAuNiwgMS4yXS4gRGVmYXVsdHMgdG8gMC44LlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFVzYWdlIHN0YXRpc3RpY3MgZm9yIHRoZSBSZXNwb25zZSwgdGhpcyB3aWxsIGNvcnJlc3BvbmQgdG8gYmlsbGluZy4gQSBSZWFsdGltZVxuICAgKiBBUEkgc2Vzc2lvbiB3aWxsIG1haW50YWluIGEgY29udmVyc2F0aW9uIGNvbnRleHQgYW5kIGFwcGVuZCBuZXcgSXRlbXMgdG8gdGhlXG4gICAqIENvbnZlcnNhdGlvbiwgdGh1cyBvdXRwdXQgZnJvbSBwcmV2aW91cyB0dXJucyAodGV4dCBhbmQgYXVkaW8gdG9rZW5zKSB3aWxsXG4gICAqIGJlY29tZSB0aGUgaW5wdXQgZm9yIGxhdGVyIHR1cm5zLlxuICAgKi9cbiAgdXNhZ2U/OiBSZWFsdGltZVJlc3BvbnNlVXNhZ2U7XG5cbiAgLyoqXG4gICAqIFRoZSB2b2ljZSB0aGUgbW9kZWwgdXNlZCB0byByZXNwb25kLiBDdXJyZW50IHZvaWNlIG9wdGlvbnMgYXJlIGBhbGxveWAsIGBhc2hgLFxuICAgKiBgYmFsbGFkYCwgYGNvcmFsYCwgYGVjaG9gIGBzYWdlYCwgYHNoaW1tZXJgIGFuZCBgdmVyc2VgLlxuICAgKi9cbiAgdm9pY2U/OiAnYWxsb3knIHwgJ2FzaCcgfCAnYmFsbGFkJyB8ICdjb3JhbCcgfCAnZWNobycgfCAnc2FnZScgfCAnc2hpbW1lcicgfCAndmVyc2UnO1xufVxuXG4vKipcbiAqIEFkZGl0aW9uYWwgZGV0YWlscyBhYm91dCB0aGUgc3RhdHVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlYWx0aW1lUmVzcG9uc2VTdGF0dXMge1xuICAvKipcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3IgdGhhdCBjYXVzZWQgdGhlIHJlc3BvbnNlIHRvIGZhaWwsIHBvcHVsYXRlZCB3aGVuIHRoZVxuICAgKiBgc3RhdHVzYCBpcyBgZmFpbGVkYC5cbiAgICovXG4gIGVycm9yPzogUmVhbHRpbWVSZXNwb25zZVN0YXR1cy5FcnJvcjtcblxuICAvKipcbiAgICogVGhlIHJlYXNvbiB0aGUgUmVzcG9uc2UgZGlkIG5vdCBjb21wbGV0ZS4gRm9yIGEgYGNhbmNlbGxlZGAgUmVzcG9uc2UsIG9uZSBvZlxuICAgKiBgdHVybl9kZXRlY3RlZGAgKHRoZSBzZXJ2ZXIgVkFEIGRldGVjdGVkIGEgbmV3IHN0YXJ0IG9mIHNwZWVjaCkgb3JcbiAgICogYGNsaWVudF9jYW5jZWxsZWRgICh0aGUgY2xpZW50IHNlbnQgYSBjYW5jZWwgZXZlbnQpLiBGb3IgYW4gYGluY29tcGxldGVgXG4gICAqIFJlc3BvbnNlLCBvbmUgb2YgYG1heF9vdXRwdXRfdG9rZW5zYCBvciBgY29udGVudF9maWx0ZXJgICh0aGUgc2VydmVyLXNpZGUgc2FmZXR5XG4gICAqIGZpbHRlciBhY3RpdmF0ZWQgYW5kIGN1dCBvZmYgdGhlIHJlc3BvbnNlKS5cbiAgICovXG4gIHJlYXNvbj86ICd0dXJuX2RldGVjdGVkJyB8ICdjbGllbnRfY2FuY2VsbGVkJyB8ICdtYXhfb3V0cHV0X3Rva2VucycgfCAnY29udGVudF9maWx0ZXInO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBlcnJvciB0aGF0IGNhdXNlZCB0aGUgcmVzcG9uc2UgdG8gZmFpbCwgY29ycmVzcG9uZGluZyB3aXRoIHRoZVxuICAgKiBgc3RhdHVzYCBmaWVsZCAoYGNvbXBsZXRlZGAsIGBjYW5jZWxsZWRgLCBgaW5jb21wbGV0ZWAsIGBmYWlsZWRgKS5cbiAgICovXG4gIHR5cGU/OiAnY29tcGxldGVkJyB8ICdjYW5jZWxsZWQnIHwgJ2luY29tcGxldGUnIHwgJ2ZhaWxlZCc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUmVhbHRpbWVSZXNwb25zZVN0YXR1cyB7XG4gIC8qKlxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHRoZSBlcnJvciB0aGF0IGNhdXNlZCB0aGUgcmVzcG9uc2UgdG8gZmFpbCwgcG9wdWxhdGVkIHdoZW4gdGhlXG4gICAqIGBzdGF0dXNgIGlzIGBmYWlsZWRgLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBFcnJvciB7XG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSwgaWYgYW55LlxuICAgICAqL1xuICAgIGNvZGU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBlcnJvci5cbiAgICAgKi9cbiAgICB0eXBlPzogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogVXNhZ2Ugc3RhdGlzdGljcyBmb3IgdGhlIFJlc3BvbnNlLCB0aGlzIHdpbGwgY29ycmVzcG9uZCB0byBiaWxsaW5nLiBBIFJlYWx0aW1lXG4gKiBBUEkgc2Vzc2lvbiB3aWxsIG1haW50YWluIGEgY29udmVyc2F0aW9uIGNvbnRleHQgYW5kIGFwcGVuZCBuZXcgSXRlbXMgdG8gdGhlXG4gKiBDb252ZXJzYXRpb24sIHRodXMgb3V0cHV0IGZyb20gcHJldmlvdXMgdHVybnMgKHRleHQgYW5kIGF1ZGlvIHRva2Vucykgd2lsbFxuICogYmVjb21lIHRoZSBpbnB1dCBmb3IgbGF0ZXIgdHVybnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhbHRpbWVSZXNwb25zZVVzYWdlIHtcbiAgLyoqXG4gICAqIERldGFpbHMgYWJvdXQgdGhlIGlucHV0IHRva2VucyB1c2VkIGluIHRoZSBSZXNwb25zZS5cbiAgICovXG4gIGlucHV0X3Rva2VuX2RldGFpbHM/OiBSZWFsdGltZVJlc3BvbnNlVXNhZ2UuSW5wdXRUb2tlbkRldGFpbHM7XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgaW5wdXQgdG9rZW5zIHVzZWQgaW4gdGhlIFJlc3BvbnNlLCBpbmNsdWRpbmcgdGV4dCBhbmQgYXVkaW9cbiAgICogdG9rZW5zLlxuICAgKi9cbiAgaW5wdXRfdG9rZW5zPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBEZXRhaWxzIGFib3V0IHRoZSBvdXRwdXQgdG9rZW5zIHVzZWQgaW4gdGhlIFJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X3Rva2VuX2RldGFpbHM/OiBSZWFsdGltZVJlc3BvbnNlVXNhZ2UuT3V0cHV0VG9rZW5EZXRhaWxzO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgc2VudCBpbiB0aGUgUmVzcG9uc2UsIGluY2x1ZGluZyB0ZXh0IGFuZCBhdWRpb1xuICAgKiB0b2tlbnMuXG4gICAqL1xuICBvdXRwdXRfdG9rZW5zPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgUmVzcG9uc2UgaW5jbHVkaW5nIGlucHV0IGFuZCBvdXRwdXQgdGV4dCBhbmRcbiAgICogYXVkaW8gdG9rZW5zLlxuICAgKi9cbiAgdG90YWxfdG9rZW5zPzogbnVtYmVyO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlYWx0aW1lUmVzcG9uc2VVc2FnZSB7XG4gIC8qKlxuICAgKiBEZXRhaWxzIGFib3V0IHRoZSBpbnB1dCB0b2tlbnMgdXNlZCBpbiB0aGUgUmVzcG9uc2UuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIElucHV0VG9rZW5EZXRhaWxzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGF1ZGlvIHRva2VucyB1c2VkIGluIHRoZSBSZXNwb25zZS5cbiAgICAgKi9cbiAgICBhdWRpb190b2tlbnM/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGNhY2hlZCB0b2tlbnMgdXNlZCBpbiB0aGUgUmVzcG9uc2UuXG4gICAgICovXG4gICAgY2FjaGVkX3Rva2Vucz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgdGV4dCB0b2tlbnMgdXNlZCBpbiB0aGUgUmVzcG9uc2UuXG4gICAgICovXG4gICAgdGV4dF90b2tlbnM/OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogRGV0YWlscyBhYm91dCB0aGUgb3V0cHV0IHRva2VucyB1c2VkIGluIHRoZSBSZXNwb25zZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0VG9rZW5EZXRhaWxzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGF1ZGlvIHRva2VucyB1c2VkIGluIHRoZSBSZXNwb25zZS5cbiAgICAgKi9cbiAgICBhdWRpb190b2tlbnM/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHRleHQgdG9rZW5zIHVzZWQgaW4gdGhlIFJlc3BvbnNlLlxuICAgICAqL1xuICAgIHRleHRfdG9rZW5zPzogbnVtYmVyO1xuICB9XG59XG5cbi8qKlxuICogQWxsIGV2ZW50cyB0aGF0IHRoZSBSZWFsdGltZSBBUEkgY2FuIHNlbmQgYmFja1xuICovXG5leHBvcnQgdHlwZSBSZWFsdGltZVNlcnZlckV2ZW50ID1cbiAgfCBFcnJvckV2ZW50XG4gIHwgU2Vzc2lvbkNyZWF0ZWRFdmVudFxuICB8IFNlc3Npb25VcGRhdGVkRXZlbnRcbiAgfCBDb252ZXJzYXRpb25DcmVhdGVkRXZlbnRcbiAgfCBJbnB1dEF1ZGlvQnVmZmVyQ29tbWl0dGVkRXZlbnRcbiAgfCBJbnB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50XG4gIHwgSW5wdXRBdWRpb0J1ZmZlclNwZWVjaFN0YXJ0ZWRFdmVudFxuICB8IElucHV0QXVkaW9CdWZmZXJTcGVlY2hTdG9wcGVkRXZlbnRcbiAgfCBDb252ZXJzYXRpb25JdGVtQ3JlYXRlZEV2ZW50XG4gIHwgQ29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uQ29tcGxldGVkRXZlbnRcbiAgfCBDb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25GYWlsZWRFdmVudFxuICB8IENvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZWRFdmVudFxuICB8IENvbnZlcnNhdGlvbkl0ZW1EZWxldGVkRXZlbnRcbiAgfCBSZXNwb25zZUNyZWF0ZWRFdmVudFxuICB8IFJlc3BvbnNlRG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VPdXRwdXRJdGVtQWRkZWRFdmVudFxuICB8IFJlc3BvbnNlT3V0cHV0SXRlbURvbmVFdmVudFxuICB8IFJlc3BvbnNlQ29udGVudFBhcnRBZGRlZEV2ZW50XG4gIHwgUmVzcG9uc2VDb250ZW50UGFydERvbmVFdmVudFxuICB8IFJlc3BvbnNlVGV4dERlbHRhRXZlbnRcbiAgfCBSZXNwb25zZVRleHREb25lRXZlbnRcbiAgfCBSZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERlbHRhRXZlbnRcbiAgfCBSZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFxuICB8IFJlc3BvbnNlQXVkaW9EZWx0YUV2ZW50XG4gIHwgUmVzcG9uc2VBdWRpb0RvbmVFdmVudFxuICB8IFJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudFxuICB8IFJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRG9uZUV2ZW50XG4gIHwgUmF0ZUxpbWl0c1VwZGF0ZWRFdmVudDtcblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIHRoZSBtb2RlbC1nZW5lcmF0ZWQgYXVkaW8gaXMgdXBkYXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUF1ZGlvRGVsdGFFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCBpbiB0aGUgaXRlbSdzIGNvbnRlbnQgYXJyYXkuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEJhc2U2NC1lbmNvZGVkIGF1ZGlvIGRhdGEgZGVsdGEuXG4gICAqL1xuICBkZWx0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICByZXNwb25zZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UuYXVkaW8uZGVsdGFgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmF1ZGlvLmRlbHRhJztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIHRoZSBtb2RlbC1nZW5lcmF0ZWQgYXVkaW8gaXMgZG9uZS4gQWxzbyBlbWl0dGVkIHdoZW4gYSBSZXNwb25zZSBpc1xuICogaW50ZXJydXB0ZWQsIGluY29tcGxldGUsIG9yIGNhbmNlbGxlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUF1ZGlvRG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IGluIHRoZSBpdGVtJ3MgY29udGVudCBhcnJheS5cbiAgICovXG4gIGNvbnRlbnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBpdGVtLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIGluIHRoZSByZXNwb25zZS5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLmF1ZGlvLmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmF1ZGlvLmRvbmUnO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gdGhlIG1vZGVsLWdlbmVyYXRlZCB0cmFuc2NyaXB0aW9uIG9mIGF1ZGlvIG91dHB1dCBpcyB1cGRhdGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQXVkaW9UcmFuc2NyaXB0RGVsdGFFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCBpbiB0aGUgaXRlbSdzIGNvbnRlbnQgYXJyYXkuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0cmFuc2NyaXB0IGRlbHRhLlxuICAgKi9cbiAgZGVsdGE6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBpdGVtLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIGluIHRoZSByZXNwb25zZS5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLmF1ZGlvX3RyYW5zY3JpcHQuZGVsdGFgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmF1ZGlvX3RyYW5zY3JpcHQuZGVsdGEnO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gdGhlIG1vZGVsLWdlbmVyYXRlZCB0cmFuc2NyaXB0aW9uIG9mIGF1ZGlvIG91dHB1dCBpcyBkb25lXG4gKiBzdHJlYW1pbmcuIEFsc28gZW1pdHRlZCB3aGVuIGEgUmVzcG9uc2UgaXMgaW50ZXJydXB0ZWQsIGluY29tcGxldGUsIG9yXG4gKiBjYW5jZWxsZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VBdWRpb1RyYW5zY3JpcHREb25lRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgaW4gdGhlIGl0ZW0ncyBjb250ZW50IGFycmF5LlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICByZXNwb25zZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZmluYWwgdHJhbnNjcmlwdCBvZiB0aGUgYXVkaW8uXG4gICAqL1xuICB0cmFuc2NyaXB0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGByZXNwb25zZS5hdWRpb190cmFuc2NyaXB0LmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmF1ZGlvX3RyYW5zY3JpcHQuZG9uZSc7XG59XG5cbi8qKlxuICogU2VuZCB0aGlzIGV2ZW50IHRvIGNhbmNlbCBhbiBpbi1wcm9ncmVzcyByZXNwb25zZS4gVGhlIHNlcnZlciB3aWxsIHJlc3BvbmQgd2l0aFxuICogYSBgcmVzcG9uc2UuY2FuY2VsbGVkYCBldmVudCBvciBhbiBlcnJvciBpZiB0aGVyZSBpcyBubyByZXNwb25zZSB0byBjYW5jZWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDYW5jZWxFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UuY2FuY2VsYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jYW5jZWwnO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjbGllbnQtZ2VuZXJhdGVkIElEIHVzZWQgdG8gaWRlbnRpZnkgdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIHNwZWNpZmljIHJlc3BvbnNlIElEIHRvIGNhbmNlbCAtIGlmIG5vdCBwcm92aWRlZCwgd2lsbCBjYW5jZWwgYW4gaW4tcHJvZ3Jlc3NcbiAgICogcmVzcG9uc2UgaW4gdGhlIGRlZmF1bHQgY29udmVyc2F0aW9uLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBhIG5ldyBjb250ZW50IHBhcnQgaXMgYWRkZWQgdG8gYW4gYXNzaXN0YW50IG1lc3NhZ2UgaXRlbSBkdXJpbmdcbiAqIHJlc3BvbnNlIGdlbmVyYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb250ZW50UGFydEFkZGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgaW4gdGhlIGl0ZW0ncyBjb250ZW50IGFycmF5LlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0gdG8gd2hpY2ggdGhlIGNvbnRlbnQgcGFydCB3YXMgYWRkZWQuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IHBhcnQgdGhhdCB3YXMgYWRkZWQuXG4gICAqL1xuICBwYXJ0OiBSZXNwb25zZUNvbnRlbnRQYXJ0QWRkZWRFdmVudC5QYXJ0O1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLmNvbnRlbnRfcGFydC5hZGRlZGAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuY29udGVudF9wYXJ0LmFkZGVkJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZUNvbnRlbnRQYXJ0QWRkZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBwYXJ0IHRoYXQgd2FzIGFkZGVkLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBQYXJ0IHtcbiAgICAvKipcbiAgICAgKiBCYXNlNjQtZW5jb2RlZCBhdWRpbyBkYXRhIChpZiB0eXBlIGlzIFwiYXVkaW9cIikuXG4gICAgICovXG4gICAgYXVkaW8/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBjb250ZW50IChpZiB0eXBlIGlzIFwidGV4dFwiKS5cbiAgICAgKi9cbiAgICB0ZXh0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zY3JpcHQgb2YgdGhlIGF1ZGlvIChpZiB0eXBlIGlzIFwiYXVkaW9cIikuXG4gICAgICovXG4gICAgdHJhbnNjcmlwdD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb250ZW50IHR5cGUgKFwidGV4dFwiLCBcImF1ZGlvXCIpLlxuICAgICAqL1xuICAgIHR5cGU/OiAndGV4dCcgfCAnYXVkaW8nO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBhIGNvbnRlbnQgcGFydCBpcyBkb25lIHN0cmVhbWluZyBpbiBhbiBhc3Npc3RhbnQgbWVzc2FnZSBpdGVtLlxuICogQWxzbyBlbWl0dGVkIHdoZW4gYSBSZXNwb25zZSBpcyBpbnRlcnJ1cHRlZCwgaW5jb21wbGV0ZSwgb3IgY2FuY2VsbGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ29udGVudFBhcnREb25lRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgaW4gdGhlIGl0ZW0ncyBjb250ZW50IGFycmF5LlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IHBhcnQgdGhhdCBpcyBkb25lLlxuICAgKi9cbiAgcGFydDogUmVzcG9uc2VDb250ZW50UGFydERvbmVFdmVudC5QYXJ0O1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLmNvbnRlbnRfcGFydC5kb25lYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jb250ZW50X3BhcnQuZG9uZSc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUmVzcG9uc2VDb250ZW50UGFydERvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBwYXJ0IHRoYXQgaXMgZG9uZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgUGFydCB7XG4gICAgLyoqXG4gICAgICogQmFzZTY0LWVuY29kZWQgYXVkaW8gZGF0YSAoaWYgdHlwZSBpcyBcImF1ZGlvXCIpLlxuICAgICAqL1xuICAgIGF1ZGlvPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgY29udGVudCAoaWYgdHlwZSBpcyBcInRleHRcIikuXG4gICAgICovXG4gICAgdGV4dD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc2NyaXB0IG9mIHRoZSBhdWRpbyAoaWYgdHlwZSBpcyBcImF1ZGlvXCIpLlxuICAgICAqL1xuICAgIHRyYW5zY3JpcHQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCB0eXBlIChcInRleHRcIiwgXCJhdWRpb1wiKS5cbiAgICAgKi9cbiAgICB0eXBlPzogJ3RleHQnIHwgJ2F1ZGlvJztcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgZXZlbnQgaW5zdHJ1Y3RzIHRoZSBzZXJ2ZXIgdG8gY3JlYXRlIGEgUmVzcG9uc2UsIHdoaWNoIG1lYW5zIHRyaWdnZXJpbmdcbiAqIG1vZGVsIGluZmVyZW5jZS4gV2hlbiBpbiBTZXJ2ZXIgVkFEIG1vZGUsIHRoZSBzZXJ2ZXIgd2lsbCBjcmVhdGUgUmVzcG9uc2VzXG4gKiBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEEgUmVzcG9uc2Ugd2lsbCBpbmNsdWRlIGF0IGxlYXN0IG9uZSBJdGVtLCBhbmQgbWF5IGhhdmUgdHdvLCBpbiB3aGljaCBjYXNlIHRoZVxuICogc2Vjb25kIHdpbGwgYmUgYSBmdW5jdGlvbiBjYWxsLiBUaGVzZSBJdGVtcyB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBjb252ZXJzYXRpb25cbiAqIGhpc3RvcnkuXG4gKlxuICogVGhlIHNlcnZlciB3aWxsIHJlc3BvbmQgd2l0aCBhIGByZXNwb25zZS5jcmVhdGVkYCBldmVudCwgZXZlbnRzIGZvciBJdGVtcyBhbmRcbiAqIGNvbnRlbnQgY3JlYXRlZCwgYW5kIGZpbmFsbHkgYSBgcmVzcG9uc2UuZG9uZWAgZXZlbnQgdG8gaW5kaWNhdGUgdGhlIFJlc3BvbnNlIGlzXG4gKiBjb21wbGV0ZS5cbiAqXG4gKiBUaGUgYHJlc3BvbnNlLmNyZWF0ZWAgZXZlbnQgaW5jbHVkZXMgaW5mZXJlbmNlIGNvbmZpZ3VyYXRpb24gbGlrZVxuICogYGluc3RydWN0aW9uc2AsIGFuZCBgdGVtcGVyYXR1cmVgLiBUaGVzZSBmaWVsZHMgd2lsbCBvdmVycmlkZSB0aGUgU2Vzc2lvbidzXG4gKiBjb25maWd1cmF0aW9uIGZvciB0aGlzIFJlc3BvbnNlIG9ubHkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDcmVhdGVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UuY3JlYXRlYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jcmVhdGUnO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjbGllbnQtZ2VuZXJhdGVkIElEIHVzZWQgdG8gaWRlbnRpZnkgdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUmVhbHRpbWUgcmVzcG9uc2Ugd2l0aCB0aGVzZSBwYXJhbWV0ZXJzXG4gICAqL1xuICByZXNwb25zZT86IFJlc3BvbnNlQ3JlYXRlRXZlbnQuUmVzcG9uc2U7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUmVzcG9uc2VDcmVhdGVFdmVudCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUmVhbHRpbWUgcmVzcG9uc2Ugd2l0aCB0aGVzZSBwYXJhbWV0ZXJzXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlIHtcbiAgICAvKipcbiAgICAgKiBDb250cm9scyB3aGljaCBjb252ZXJzYXRpb24gdGhlIHJlc3BvbnNlIGlzIGFkZGVkIHRvLiBDdXJyZW50bHkgc3VwcG9ydHMgYGF1dG9gXG4gICAgICogYW5kIGBub25lYCwgd2l0aCBgYXV0b2AgYXMgdGhlIGRlZmF1bHQgdmFsdWUuIFRoZSBgYXV0b2AgdmFsdWUgbWVhbnMgdGhhdCB0aGVcbiAgICAgKiBjb250ZW50cyBvZiB0aGUgcmVzcG9uc2Ugd2lsbCBiZSBhZGRlZCB0byB0aGUgZGVmYXVsdCBjb252ZXJzYXRpb24uIFNldCB0aGlzIHRvXG4gICAgICogYG5vbmVgIHRvIGNyZWF0ZSBhbiBvdXQtb2YtYmFuZCByZXNwb25zZSB3aGljaCB3aWxsIG5vdCBhZGQgaXRlbXMgdG8gZGVmYXVsdFxuICAgICAqIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBjb252ZXJzYXRpb24/OiAoc3RyaW5nICYge30pIHwgJ2F1dG8nIHwgJ25vbmUnO1xuXG4gICAgLyoqXG4gICAgICogSW5wdXQgaXRlbXMgdG8gaW5jbHVkZSBpbiB0aGUgcHJvbXB0IGZvciB0aGUgbW9kZWwuIFVzaW5nIHRoaXMgZmllbGQgY3JlYXRlcyBhXG4gICAgICogbmV3IGNvbnRleHQgZm9yIHRoaXMgUmVzcG9uc2UgaW5zdGVhZCBvZiB1c2luZyB0aGUgZGVmYXVsdCBjb252ZXJzYXRpb24uIEFuXG4gICAgICogZW1wdHkgYXJyYXkgYFtdYCB3aWxsIGNsZWFyIHRoZSBjb250ZXh0IGZvciB0aGlzIFJlc3BvbnNlLiBOb3RlIHRoYXQgdGhpcyBjYW5cbiAgICAgKiBpbmNsdWRlIHJlZmVyZW5jZXMgdG8gaXRlbXMgZnJvbSB0aGUgZGVmYXVsdCBjb252ZXJzYXRpb24uXG4gICAgICovXG4gICAgaW5wdXQ/OiBBcnJheTxSZWFsdGltZUFQSS5Db252ZXJzYXRpb25JdGVtV2l0aFJlZmVyZW5jZT47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBzeXN0ZW0gaW5zdHJ1Y3Rpb25zIChpLmUuIHN5c3RlbSBtZXNzYWdlKSBwcmVwZW5kZWQgdG8gbW9kZWwgY2FsbHMuXG4gICAgICogVGhpcyBmaWVsZCBhbGxvd3MgdGhlIGNsaWVudCB0byBndWlkZSB0aGUgbW9kZWwgb24gZGVzaXJlZCByZXNwb25zZXMuIFRoZSBtb2RlbFxuICAgICAqIGNhbiBiZSBpbnN0cnVjdGVkIG9uIHJlc3BvbnNlIGNvbnRlbnQgYW5kIGZvcm1hdCwgKGUuZy4gXCJiZSBleHRyZW1lbHkgc3VjY2luY3RcIixcbiAgICAgKiBcImFjdCBmcmllbmRseVwiLCBcImhlcmUgYXJlIGV4YW1wbGVzIG9mIGdvb2QgcmVzcG9uc2VzXCIpIGFuZCBvbiBhdWRpbyBiZWhhdmlvclxuICAgICAqIChlLmcuIFwidGFsayBxdWlja2x5XCIsIFwiaW5qZWN0IGVtb3Rpb24gaW50byB5b3VyIHZvaWNlXCIsIFwibGF1Z2ggZnJlcXVlbnRseVwiKS4gVGhlXG4gICAgICogaW5zdHJ1Y3Rpb25zIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSBmb2xsb3dlZCBieSB0aGUgbW9kZWwsIGJ1dCB0aGV5IHByb3ZpZGVcbiAgICAgKiBndWlkYW5jZSB0byB0aGUgbW9kZWwgb24gdGhlIGRlc2lyZWQgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlIHNlcnZlciBzZXRzIGRlZmF1bHQgaW5zdHJ1Y3Rpb25zIHdoaWNoIHdpbGwgYmUgdXNlZCBpZiB0aGlzIGZpZWxkXG4gICAgICogaXMgbm90IHNldCBhbmQgYXJlIHZpc2libGUgaW4gdGhlIGBzZXNzaW9uLmNyZWF0ZWRgIGV2ZW50IGF0IHRoZSBzdGFydCBvZiB0aGVcbiAgICAgKiBzZXNzaW9uLlxuICAgICAqL1xuICAgIGluc3RydWN0aW9ucz86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIE1heGltdW0gbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgZm9yIGEgc2luZ2xlIGFzc2lzdGFudCByZXNwb25zZSwgaW5jbHVzaXZlIG9mXG4gICAgICogdG9vbCBjYWxscy4gUHJvdmlkZSBhbiBpbnRlZ2VyIGJldHdlZW4gMSBhbmQgNDA5NiB0byBsaW1pdCBvdXRwdXQgdG9rZW5zLCBvclxuICAgICAqIGBpbmZgIGZvciB0aGUgbWF4aW11bSBhdmFpbGFibGUgdG9rZW5zIGZvciBhIGdpdmVuIG1vZGVsLiBEZWZhdWx0cyB0byBgaW5mYC5cbiAgICAgKi9cbiAgICBtYXhfcmVzcG9uc2Vfb3V0cHV0X3Rva2Vucz86IG51bWJlciB8ICdpbmYnO1xuXG4gICAgLyoqXG4gICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAgICpcbiAgICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAgICovXG4gICAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNldCBvZiBtb2RhbGl0aWVzIHRoZSBtb2RlbCBjYW4gcmVzcG9uZCB3aXRoLiBUbyBkaXNhYmxlIGF1ZGlvLCBzZXQgdGhpcyB0b1xuICAgICAqIFtcInRleHRcIl0uXG4gICAgICovXG4gICAgbW9kYWxpdGllcz86IEFycmF5PCd0ZXh0JyB8ICdhdWRpbyc+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZvcm1hdCBvZiBvdXRwdXQgYXVkaW8uIE9wdGlvbnMgYXJlIGBwY20xNmAsIGBnNzExX3VsYXdgLCBvciBgZzcxMV9hbGF3YC5cbiAgICAgKi9cbiAgICBvdXRwdXRfYXVkaW9fZm9ybWF0PzogJ3BjbTE2JyB8ICdnNzExX3VsYXcnIHwgJ2c3MTFfYWxhdyc7XG5cbiAgICAvKipcbiAgICAgKiBTYW1wbGluZyB0ZW1wZXJhdHVyZSBmb3IgdGhlIG1vZGVsLCBsaW1pdGVkIHRvIFswLjYsIDEuMl0uIERlZmF1bHRzIHRvIDAuOC5cbiAgICAgKi9cbiAgICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEhvdyB0aGUgbW9kZWwgY2hvb3NlcyB0b29scy4gT3B0aW9ucyBhcmUgYGF1dG9gLCBgbm9uZWAsIGByZXF1aXJlZGAsIG9yIHNwZWNpZnlcbiAgICAgKiBhIGZ1bmN0aW9uLCBsaWtlIGB7XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiOiB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn19YC5cbiAgICAgKi9cbiAgICB0b29sX2Nob2ljZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRvb2xzIChmdW5jdGlvbnMpIGF2YWlsYWJsZSB0byB0aGUgbW9kZWwuXG4gICAgICovXG4gICAgdG9vbHM/OiBBcnJheTxSZXNwb25zZS5Ub29sPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2b2ljZSB0aGUgbW9kZWwgdXNlcyB0byByZXNwb25kLiBWb2ljZSBjYW5ub3QgYmUgY2hhbmdlZCBkdXJpbmcgdGhlIHNlc3Npb25cbiAgICAgKiBvbmNlIHRoZSBtb2RlbCBoYXMgcmVzcG9uZGVkIHdpdGggYXVkaW8gYXQgbGVhc3Qgb25jZS4gQ3VycmVudCB2b2ljZSBvcHRpb25zIGFyZVxuICAgICAqIGBhbGxveWAsIGBhc2hgLCBgYmFsbGFkYCwgYGNvcmFsYCwgYGVjaG9gIGBzYWdlYCwgYHNoaW1tZXJgIGFuZCBgdmVyc2VgLlxuICAgICAqL1xuICAgIHZvaWNlPzogJ2FsbG95JyB8ICdhc2gnIHwgJ2JhbGxhZCcgfCAnY29yYWwnIHwgJ2VjaG8nIHwgJ3NhZ2UnIHwgJ3NoaW1tZXInIHwgJ3ZlcnNlJztcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgUmVzcG9uc2Uge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVG9vbCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgZnVuY3Rpb24sIGluY2x1ZGluZyBndWlkYW5jZSBvbiB3aGVuIGFuZCBob3cgdG8gY2FsbCBpdCxcbiAgICAgICAqIGFuZCBndWlkYW5jZSBhYm91dCB3aGF0IHRvIHRlbGwgdGhlIHVzZXIgd2hlbiBjYWxsaW5nIChpZiBhbnl0aGluZykuXG4gICAgICAgKi9cbiAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgICAqL1xuICAgICAgbmFtZT86IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBQYXJhbWV0ZXJzIG9mIHRoZSBmdW5jdGlvbiBpbiBKU09OIFNjaGVtYS5cbiAgICAgICAqL1xuICAgICAgcGFyYW1ldGVycz86IHVua25vd247XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHRvb2wsIGkuZS4gYGZ1bmN0aW9uYC5cbiAgICAgICAqL1xuICAgICAgdHlwZT86ICdmdW5jdGlvbic7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBhIG5ldyBSZXNwb25zZSBpcyBjcmVhdGVkLiBUaGUgZmlyc3QgZXZlbnQgb2YgcmVzcG9uc2UgY3JlYXRpb24sXG4gKiB3aGVyZSB0aGUgcmVzcG9uc2UgaXMgaW4gYW4gaW5pdGlhbCBzdGF0ZSBvZiBgaW5fcHJvZ3Jlc3NgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ3JlYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByZXNwb25zZSByZXNvdXJjZS5cbiAgICovXG4gIHJlc3BvbnNlOiBSZWFsdGltZVJlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UuY3JlYXRlZGAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuY3JlYXRlZCc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBhIFJlc3BvbnNlIGlzIGRvbmUgc3RyZWFtaW5nLiBBbHdheXMgZW1pdHRlZCwgbm8gbWF0dGVyIHRoZSBmaW5hbFxuICogc3RhdGUuIFRoZSBSZXNwb25zZSBvYmplY3QgaW5jbHVkZWQgaW4gdGhlIGByZXNwb25zZS5kb25lYCBldmVudCB3aWxsIGluY2x1ZGVcbiAqIGFsbCBvdXRwdXQgSXRlbXMgaW4gdGhlIFJlc3BvbnNlIGJ1dCB3aWxsIG9taXQgdGhlIHJhdyBhdWRpbyBkYXRhLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByZXNwb25zZSByZXNvdXJjZS5cbiAgICovXG4gIHJlc3BvbnNlOiBSZWFsdGltZVJlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgcmVzcG9uc2UuZG9uZWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuZG9uZSc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiB0aGUgbW9kZWwtZ2VuZXJhdGVkIGZ1bmN0aW9uIGNhbGwgYXJndW1lbnRzIGFyZSB1cGRhdGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGZ1bmN0aW9uIGNhbGwuXG4gICAqL1xuICBjYWxsX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBhcmd1bWVudHMgZGVsdGEgYXMgYSBKU09OIHN0cmluZy5cbiAgICovXG4gIGRlbHRhOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZnVuY3Rpb24gY2FsbCBpdGVtLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIGluIHRoZSByZXNwb25zZS5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YSc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiB0aGUgbW9kZWwtZ2VuZXJhdGVkIGZ1bmN0aW9uIGNhbGwgYXJndW1lbnRzIGFyZSBkb25lIHN0cmVhbWluZy5cbiAqIEFsc28gZW1pdHRlZCB3aGVuIGEgUmVzcG9uc2UgaXMgaW50ZXJydXB0ZWQsIGluY29tcGxldGUsIG9yIGNhbmNlbGxlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgZmluYWwgYXJndW1lbnRzIGFzIGEgSlNPTiBzdHJpbmcuXG4gICAqL1xuICBhcmd1bWVudHM6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBmdW5jdGlvbiBjYWxsLlxuICAgKi9cbiAgY2FsbF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGZ1bmN0aW9uIGNhbGwgaXRlbS5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSByZXNwb25zZS5cbiAgICovXG4gIHJlc3BvbnNlX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGByZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kb25lYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kb25lJztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGEgbmV3IEl0ZW0gaXMgY3JlYXRlZCBkdXJpbmcgUmVzcG9uc2UgZ2VuZXJhdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZU91dHB1dEl0ZW1BZGRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHNlcnZlciBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpdGVtIHRvIGFkZCB0byB0aGUgY29udmVyc2F0aW9uLlxuICAgKi9cbiAgaXRlbTogQ29udmVyc2F0aW9uSXRlbTtcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSBpbiB0aGUgUmVzcG9uc2UuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBSZXNwb25zZSB0byB3aGljaCB0aGUgaXRlbSBiZWxvbmdzLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5vdXRwdXRfaXRlbS5hZGRlZCc7XG59XG5cbi8qKlxuICogUmV0dXJuZWQgd2hlbiBhbiBJdGVtIGlzIGRvbmUgc3RyZWFtaW5nLiBBbHNvIGVtaXR0ZWQgd2hlbiBhIFJlc3BvbnNlIGlzXG4gKiBpbnRlcnJ1cHRlZCwgaW5jb21wbGV0ZSwgb3IgY2FuY2VsbGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlT3V0cHV0SXRlbURvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaXRlbSB0byBhZGQgdG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICovXG4gIGl0ZW06IENvbnZlcnNhdGlvbkl0ZW07XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gaW4gdGhlIFJlc3BvbnNlLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgUmVzcG9uc2UgdG8gd2hpY2ggdGhlIGl0ZW0gYmVsb25ncy5cbiAgICovXG4gIHJlc3BvbnNlX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGByZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lJztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIHRoZSB0ZXh0IHZhbHVlIG9mIGEgXCJ0ZXh0XCIgY29udGVudCBwYXJ0IGlzIHVwZGF0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VUZXh0RGVsdGFFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCBpbiB0aGUgaXRlbSdzIGNvbnRlbnQgYXJyYXkuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGRlbHRhLlxuICAgKi9cbiAgZGVsdGE6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBpdGVtLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIGluIHRoZSByZXNwb25zZS5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLnRleHQuZGVsdGFgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLnRleHQuZGVsdGEnO1xufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gdGhlIHRleHQgdmFsdWUgb2YgYSBcInRleHRcIiBjb250ZW50IHBhcnQgaXMgZG9uZSBzdHJlYW1pbmcuIEFsc29cbiAqIGVtaXR0ZWQgd2hlbiBhIFJlc3BvbnNlIGlzIGludGVycnVwdGVkLCBpbmNvbXBsZXRlLCBvciBjYW5jZWxsZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VUZXh0RG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IGluIHRoZSBpdGVtJ3MgY29udGVudCBhcnJheS5cbiAgICovXG4gIGNvbnRlbnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBpdGVtLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIGluIHRoZSByZXNwb25zZS5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGZpbmFsIHRleHQgY29udGVudC5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHJlc3BvbnNlLnRleHQuZG9uZWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UudGV4dC5kb25lJztcbn1cblxuLyoqXG4gKiBSZXR1cm5lZCB3aGVuIGEgU2Vzc2lvbiBpcyBjcmVhdGVkLiBFbWl0dGVkIGF1dG9tYXRpY2FsbHkgd2hlbiBhIG5ldyBjb25uZWN0aW9uXG4gKiBpcyBlc3RhYmxpc2hlZCBhcyB0aGUgZmlyc3Qgc2VydmVyIGV2ZW50LiBUaGlzIGV2ZW50IHdpbGwgY29udGFpbiB0aGUgZGVmYXVsdFxuICogU2Vzc2lvbiBjb25maWd1cmF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb25DcmVhdGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgc2VydmVyIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogUmVhbHRpbWUgc2Vzc2lvbiBvYmplY3QgY29uZmlndXJhdGlvbi5cbiAgICovXG4gIHNlc3Npb246IFNlc3Npb25zQVBJLlNlc3Npb247XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCB0eXBlLCBtdXN0IGJlIGBzZXNzaW9uLmNyZWF0ZWRgLlxuICAgKi9cbiAgdHlwZTogJ3Nlc3Npb24uY3JlYXRlZCc7XG59XG5cbi8qKlxuICogU2VuZCB0aGlzIGV2ZW50IHRvIHVwZGF0ZSB0aGUgc2Vzc2lvblx1MjAxOXMgZGVmYXVsdCBjb25maWd1cmF0aW9uLiBUaGUgY2xpZW50IG1heVxuICogc2VuZCB0aGlzIGV2ZW50IGF0IGFueSB0aW1lIHRvIHVwZGF0ZSBhbnkgZmllbGQsIGV4Y2VwdCBmb3IgYHZvaWNlYC4gSG93ZXZlcixcbiAqIG5vdGUgdGhhdCBvbmNlIGEgc2Vzc2lvbiBoYXMgYmVlbiBpbml0aWFsaXplZCB3aXRoIGEgcGFydGljdWxhciBgbW9kZWxgLCBpdFxuICogY2FuXHUyMDE5dCBiZSBjaGFuZ2VkIHRvIGFub3RoZXIgbW9kZWwgdXNpbmcgYHNlc3Npb24udXBkYXRlYC5cbiAqXG4gKiBXaGVuIHRoZSBzZXJ2ZXIgcmVjZWl2ZXMgYSBgc2Vzc2lvbi51cGRhdGVgLCBpdCB3aWxsIHJlc3BvbmQgd2l0aCBhXG4gKiBgc2Vzc2lvbi51cGRhdGVkYCBldmVudCBzaG93aW5nIHRoZSBmdWxsLCBlZmZlY3RpdmUgY29uZmlndXJhdGlvbi4gT25seSB0aGVcbiAqIGZpZWxkcyB0aGF0IGFyZSBwcmVzZW50IGFyZSB1cGRhdGVkLiBUbyBjbGVhciBhIGZpZWxkIGxpa2UgYGluc3RydWN0aW9uc2AsIHBhc3NcbiAqIGFuIGVtcHR5IHN0cmluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uVXBkYXRlRXZlbnQge1xuICAvKipcbiAgICogUmVhbHRpbWUgc2Vzc2lvbiBvYmplY3QgY29uZmlndXJhdGlvbi5cbiAgICovXG4gIHNlc3Npb246IFNlc3Npb25VcGRhdGVFdmVudC5TZXNzaW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgdHlwZSwgbXVzdCBiZSBgc2Vzc2lvbi51cGRhdGVgLlxuICAgKi9cbiAgdHlwZTogJ3Nlc3Npb24udXBkYXRlJztcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2xpZW50LWdlbmVyYXRlZCBJRCB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZD86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBTZXNzaW9uVXBkYXRlRXZlbnQge1xuICAvKipcbiAgICogUmVhbHRpbWUgc2Vzc2lvbiBvYmplY3QgY29uZmlndXJhdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIGZvcm1hdCBvZiBpbnB1dCBhdWRpby4gT3B0aW9ucyBhcmUgYHBjbTE2YCwgYGc3MTFfdWxhd2AsIG9yIGBnNzExX2FsYXdgLiBGb3JcbiAgICAgKiBgcGNtMTZgLCBpbnB1dCBhdWRpbyBtdXN0IGJlIDE2LWJpdCBQQ00gYXQgYSAyNGtIeiBzYW1wbGUgcmF0ZSwgc2luZ2xlIGNoYW5uZWxcbiAgICAgKiAobW9ubyksIGFuZCBsaXR0bGUtZW5kaWFuIGJ5dGUgb3JkZXIuXG4gICAgICovXG4gICAgaW5wdXRfYXVkaW9fZm9ybWF0PzogJ3BjbTE2JyB8ICdnNzExX3VsYXcnIHwgJ2c3MTFfYWxhdyc7XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGZvciBpbnB1dCBhdWRpbyB0cmFuc2NyaXB0aW9uLCBkZWZhdWx0cyB0byBvZmYgYW5kIGNhbiBiZSBzZXQgdG9cbiAgICAgKiBgbnVsbGAgdG8gdHVybiBvZmYgb25jZSBvbi4gSW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiBpcyBub3QgbmF0aXZlIHRvIHRoZVxuICAgICAqIG1vZGVsLCBzaW5jZSB0aGUgbW9kZWwgY29uc3VtZXMgYXVkaW8gZGlyZWN0bHkuIFRyYW5zY3JpcHRpb24gcnVuc1xuICAgICAqIGFzeW5jaHJvbm91c2x5IHRocm91Z2hcbiAgICAgKiBbT3BlbkFJIFdoaXNwZXIgdHJhbnNjcmlwdGlvbl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hdWRpby9jcmVhdGVUcmFuc2NyaXB0aW9uKVxuICAgICAqIGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhcyByb3VnaCBndWlkYW5jZSByYXRoZXIgdGhhbiB0aGUgcmVwcmVzZW50YXRpb25cbiAgICAgKiB1bmRlcnN0b29kIGJ5IHRoZSBtb2RlbC4gVGhlIGNsaWVudCBjYW4gb3B0aW9uYWxseSBzZXQgdGhlIGxhbmd1YWdlIGFuZCBwcm9tcHRcbiAgICAgKiBmb3IgdHJhbnNjcmlwdGlvbiwgdGhlc2UgZmllbGRzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBXaGlzcGVyIEFQSS5cbiAgICAgKi9cbiAgICBpbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uPzogU2Vzc2lvbi5JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHN5c3RlbSBpbnN0cnVjdGlvbnMgKGkuZS4gc3lzdGVtIG1lc3NhZ2UpIHByZXBlbmRlZCB0byBtb2RlbCBjYWxscy5cbiAgICAgKiBUaGlzIGZpZWxkIGFsbG93cyB0aGUgY2xpZW50IHRvIGd1aWRlIHRoZSBtb2RlbCBvbiBkZXNpcmVkIHJlc3BvbnNlcy4gVGhlIG1vZGVsXG4gICAgICogY2FuIGJlIGluc3RydWN0ZWQgb24gcmVzcG9uc2UgY29udGVudCBhbmQgZm9ybWF0LCAoZS5nLiBcImJlIGV4dHJlbWVseSBzdWNjaW5jdFwiLFxuICAgICAqIFwiYWN0IGZyaWVuZGx5XCIsIFwiaGVyZSBhcmUgZXhhbXBsZXMgb2YgZ29vZCByZXNwb25zZXNcIikgYW5kIG9uIGF1ZGlvIGJlaGF2aW9yXG4gICAgICogKGUuZy4gXCJ0YWxrIHF1aWNrbHlcIiwgXCJpbmplY3QgZW1vdGlvbiBpbnRvIHlvdXIgdm9pY2VcIiwgXCJsYXVnaCBmcmVxdWVudGx5XCIpLiBUaGVcbiAgICAgKiBpbnN0cnVjdGlvbnMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIGZvbGxvd2VkIGJ5IHRoZSBtb2RlbCwgYnV0IHRoZXkgcHJvdmlkZVxuICAgICAqIGd1aWRhbmNlIHRvIHRoZSBtb2RlbCBvbiB0aGUgZGVzaXJlZCBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGUgc2VydmVyIHNldHMgZGVmYXVsdCBpbnN0cnVjdGlvbnMgd2hpY2ggd2lsbCBiZSB1c2VkIGlmIHRoaXMgZmllbGRcbiAgICAgKiBpcyBub3Qgc2V0IGFuZCBhcmUgdmlzaWJsZSBpbiB0aGUgYHNlc3Npb24uY3JlYXRlZGAgZXZlbnQgYXQgdGhlIHN0YXJ0IG9mIHRoZVxuICAgICAqIHNlc3Npb24uXG4gICAgICovXG4gICAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogTWF4aW11bSBudW1iZXIgb2Ygb3V0cHV0IHRva2VucyBmb3IgYSBzaW5nbGUgYXNzaXN0YW50IHJlc3BvbnNlLCBpbmNsdXNpdmUgb2ZcbiAgICAgKiB0b29sIGNhbGxzLiBQcm92aWRlIGFuIGludGVnZXIgYmV0d2VlbiAxIGFuZCA0MDk2IHRvIGxpbWl0IG91dHB1dCB0b2tlbnMsIG9yXG4gICAgICogYGluZmAgZm9yIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSB0b2tlbnMgZm9yIGEgZ2l2ZW4gbW9kZWwuIERlZmF1bHRzIHRvIGBpbmZgLlxuICAgICAqL1xuICAgIG1heF9yZXNwb25zZV9vdXRwdXRfdG9rZW5zPzogbnVtYmVyIHwgJ2luZic7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2V0IG9mIG1vZGFsaXRpZXMgdGhlIG1vZGVsIGNhbiByZXNwb25kIHdpdGguIFRvIGRpc2FibGUgYXVkaW8sIHNldCB0aGlzIHRvXG4gICAgICogW1widGV4dFwiXS5cbiAgICAgKi9cbiAgICBtb2RhbGl0aWVzPzogQXJyYXk8J3RleHQnIHwgJ2F1ZGlvJz47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgUmVhbHRpbWUgbW9kZWwgdXNlZCBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqL1xuICAgIG1vZGVsPzpcbiAgICAgIHwgJ2dwdC00by1yZWFsdGltZS1wcmV2aWV3J1xuICAgICAgfCAnZ3B0LTRvLXJlYWx0aW1lLXByZXZpZXctMjAyNC0xMC0wMSdcbiAgICAgIHwgJ2dwdC00by1yZWFsdGltZS1wcmV2aWV3LTIwMjQtMTItMTcnXG4gICAgICB8ICdncHQtNG8tbWluaS1yZWFsdGltZS1wcmV2aWV3J1xuICAgICAgfCAnZ3B0LTRvLW1pbmktcmVhbHRpbWUtcHJldmlldy0yMDI0LTEyLTE3JztcblxuICAgIC8qKlxuICAgICAqIFRoZSBmb3JtYXQgb2Ygb3V0cHV0IGF1ZGlvLiBPcHRpb25zIGFyZSBgcGNtMTZgLCBgZzcxMV91bGF3YCwgb3IgYGc3MTFfYWxhd2AuXG4gICAgICogRm9yIGBwY20xNmAsIG91dHB1dCBhdWRpbyBpcyBzYW1wbGVkIGF0IGEgcmF0ZSBvZiAyNGtIei5cbiAgICAgKi9cbiAgICBvdXRwdXRfYXVkaW9fZm9ybWF0PzogJ3BjbTE2JyB8ICdnNzExX3VsYXcnIHwgJ2c3MTFfYWxhdyc7XG5cbiAgICAvKipcbiAgICAgKiBTYW1wbGluZyB0ZW1wZXJhdHVyZSBmb3IgdGhlIG1vZGVsLCBsaW1pdGVkIHRvIFswLjYsIDEuMl0uIERlZmF1bHRzIHRvIDAuOC5cbiAgICAgKi9cbiAgICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEhvdyB0aGUgbW9kZWwgY2hvb3NlcyB0b29scy4gT3B0aW9ucyBhcmUgYGF1dG9gLCBgbm9uZWAsIGByZXF1aXJlZGAsIG9yIHNwZWNpZnlcbiAgICAgKiBhIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHRvb2xfY2hvaWNlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVG9vbHMgKGZ1bmN0aW9ucykgYXZhaWxhYmxlIHRvIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICB0b29scz86IEFycmF5PFNlc3Npb24uVG9vbD47XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGZvciB0dXJuIGRldGVjdGlvbi4gQ2FuIGJlIHNldCB0byBgbnVsbGAgdG8gdHVybiBvZmYuIFNlcnZlciBWQURcbiAgICAgKiBtZWFucyB0aGF0IHRoZSBtb2RlbCB3aWxsIGRldGVjdCB0aGUgc3RhcnQgYW5kIGVuZCBvZiBzcGVlY2ggYmFzZWQgb24gYXVkaW9cbiAgICAgKiB2b2x1bWUgYW5kIHJlc3BvbmQgYXQgdGhlIGVuZCBvZiB1c2VyIHNwZWVjaC5cbiAgICAgKi9cbiAgICB0dXJuX2RldGVjdGlvbj86IFNlc3Npb24uVHVybkRldGVjdGlvbjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2b2ljZSB0aGUgbW9kZWwgdXNlcyB0byByZXNwb25kLiBWb2ljZSBjYW5ub3QgYmUgY2hhbmdlZCBkdXJpbmcgdGhlIHNlc3Npb25cbiAgICAgKiBvbmNlIHRoZSBtb2RlbCBoYXMgcmVzcG9uZGVkIHdpdGggYXVkaW8gYXQgbGVhc3Qgb25jZS4gQ3VycmVudCB2b2ljZSBvcHRpb25zIGFyZVxuICAgICAqIGBhbGxveWAsIGBhc2hgLCBgYmFsbGFkYCwgYGNvcmFsYCwgYGVjaG9gIGBzYWdlYCwgYHNoaW1tZXJgIGFuZCBgdmVyc2VgLlxuICAgICAqL1xuICAgIHZvaWNlPzogJ2FsbG95JyB8ICdhc2gnIHwgJ2JhbGxhZCcgfCAnY29yYWwnIHwgJ2VjaG8nIHwgJ3NhZ2UnIHwgJ3NoaW1tZXInIHwgJ3ZlcnNlJztcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgU2Vzc2lvbiB7XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBmb3IgaW5wdXQgYXVkaW8gdHJhbnNjcmlwdGlvbiwgZGVmYXVsdHMgdG8gb2ZmIGFuZCBjYW4gYmUgc2V0IHRvXG4gICAgICogYG51bGxgIHRvIHR1cm4gb2ZmIG9uY2Ugb24uIElucHV0IGF1ZGlvIHRyYW5zY3JpcHRpb24gaXMgbm90IG5hdGl2ZSB0byB0aGVcbiAgICAgKiBtb2RlbCwgc2luY2UgdGhlIG1vZGVsIGNvbnN1bWVzIGF1ZGlvIGRpcmVjdGx5LiBUcmFuc2NyaXB0aW9uIHJ1bnNcbiAgICAgKiBhc3luY2hyb25vdXNseSB0aHJvdWdoXG4gICAgICogW09wZW5BSSBXaGlzcGVyIHRyYW5zY3JpcHRpb25dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXVkaW8vY3JlYXRlVHJhbnNjcmlwdGlvbilcbiAgICAgKiBhbmQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcm91Z2ggZ3VpZGFuY2UgcmF0aGVyIHRoYW4gdGhlIHJlcHJlc2VudGF0aW9uXG4gICAgICogdW5kZXJzdG9vZCBieSB0aGUgbW9kZWwuIFRoZSBjbGllbnQgY2FuIG9wdGlvbmFsbHkgc2V0IHRoZSBsYW5ndWFnZSBhbmQgcHJvbXB0XG4gICAgICogZm9yIHRyYW5zY3JpcHRpb24sIHRoZXNlIGZpZWxkcyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgV2hpc3BlciBBUEkuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBJbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBsYW5ndWFnZSBvZiB0aGUgaW5wdXQgYXVkaW8uIFN1cHBseWluZyB0aGUgaW5wdXQgbGFuZ3VhZ2UgaW5cbiAgICAgICAqIFtJU08tNjM5LTFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfSVNPXzYzOS0xX2NvZGVzKSAoZS5nLiBgZW5gKVxuICAgICAgICogZm9ybWF0IHdpbGwgaW1wcm92ZSBhY2N1cmFjeSBhbmQgbGF0ZW5jeS5cbiAgICAgICAqL1xuICAgICAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1vZGVsIHRvIHVzZSBmb3IgdHJhbnNjcmlwdGlvbiwgYHdoaXNwZXItMWAgaXMgdGhlIG9ubHkgY3VycmVudGx5IHN1cHBvcnRlZFxuICAgICAgICogbW9kZWwuXG4gICAgICAgKi9cbiAgICAgIG1vZGVsPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIEFuIG9wdGlvbmFsIHRleHQgdG8gZ3VpZGUgdGhlIG1vZGVsJ3Mgc3R5bGUgb3IgY29udGludWUgYSBwcmV2aW91cyBhdWRpb1xuICAgICAgICogc2VnbWVudC4gVGhlXG4gICAgICAgKiBbcHJvbXB0XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3BlZWNoLXRvLXRleHQjcHJvbXB0aW5nKVxuICAgICAgICogc2hvdWxkIG1hdGNoIHRoZSBhdWRpbyBsYW5ndWFnZS5cbiAgICAgICAqL1xuICAgICAgcHJvbXB0Pzogc3RyaW5nO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVG9vbCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgZnVuY3Rpb24sIGluY2x1ZGluZyBndWlkYW5jZSBvbiB3aGVuIGFuZCBob3cgdG8gY2FsbCBpdCxcbiAgICAgICAqIGFuZCBndWlkYW5jZSBhYm91dCB3aGF0IHRvIHRlbGwgdGhlIHVzZXIgd2hlbiBjYWxsaW5nIChpZiBhbnl0aGluZykuXG4gICAgICAgKi9cbiAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgICAqL1xuICAgICAgbmFtZT86IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBQYXJhbWV0ZXJzIG9mIHRoZSBmdW5jdGlvbiBpbiBKU09OIFNjaGVtYS5cbiAgICAgICAqL1xuICAgICAgcGFyYW1ldGVycz86IHVua25vd247XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHRvb2wsIGkuZS4gYGZ1bmN0aW9uYC5cbiAgICAgICAqL1xuICAgICAgdHlwZT86ICdmdW5jdGlvbic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBmb3IgdHVybiBkZXRlY3Rpb24uIENhbiBiZSBzZXQgdG8gYG51bGxgIHRvIHR1cm4gb2ZmLiBTZXJ2ZXIgVkFEXG4gICAgICogbWVhbnMgdGhhdCB0aGUgbW9kZWwgd2lsbCBkZXRlY3QgdGhlIHN0YXJ0IGFuZCBlbmQgb2Ygc3BlZWNoIGJhc2VkIG9uIGF1ZGlvXG4gICAgICogdm9sdW1lIGFuZCByZXNwb25kIGF0IHRoZSBlbmQgb2YgdXNlciBzcGVlY2guXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBUdXJuRGV0ZWN0aW9uIHtcbiAgICAgIC8qKlxuICAgICAgICogV2hldGhlciBvciBub3QgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIHJlc3BvbnNlIHdoZW4gYSBWQUQgc3RvcCBldmVudFxuICAgICAgICogb2NjdXJzLiBgdHJ1ZWAgYnkgZGVmYXVsdC5cbiAgICAgICAqL1xuICAgICAgY3JlYXRlX3Jlc3BvbnNlPzogYm9vbGVhbjtcblxuICAgICAgLyoqXG4gICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBhdXRvbWF0aWNhbGx5IGludGVycnVwdCBhbnkgb25nb2luZyByZXNwb25zZSB3aXRoIG91dHB1dCB0b1xuICAgICAgICogdGhlIGRlZmF1bHQgY29udmVyc2F0aW9uIChpLmUuIGBjb252ZXJzYXRpb25gIG9mIGBhdXRvYCkgd2hlbiBhIFZBRCBzdGFydCBldmVudFxuICAgICAgICogb2NjdXJzLiBgdHJ1ZWAgYnkgZGVmYXVsdC5cbiAgICAgICAqL1xuICAgICAgaW50ZXJydXB0X3Jlc3BvbnNlPzogYm9vbGVhbjtcblxuICAgICAgLyoqXG4gICAgICAgKiBBbW91bnQgb2YgYXVkaW8gdG8gaW5jbHVkZSBiZWZvcmUgdGhlIFZBRCBkZXRlY3RlZCBzcGVlY2ggKGluIG1pbGxpc2Vjb25kcykuXG4gICAgICAgKiBEZWZhdWx0cyB0byAzMDBtcy5cbiAgICAgICAqL1xuICAgICAgcHJlZml4X3BhZGRpbmdfbXM/OiBudW1iZXI7XG5cbiAgICAgIC8qKlxuICAgICAgICogRHVyYXRpb24gb2Ygc2lsZW5jZSB0byBkZXRlY3Qgc3BlZWNoIHN0b3AgKGluIG1pbGxpc2Vjb25kcykuIERlZmF1bHRzIHRvIDUwMG1zLlxuICAgICAgICogV2l0aCBzaG9ydGVyIHZhbHVlcyB0aGUgbW9kZWwgd2lsbCByZXNwb25kIG1vcmUgcXVpY2tseSwgYnV0IG1heSBqdW1wIGluIG9uXG4gICAgICAgKiBzaG9ydCBwYXVzZXMgZnJvbSB0aGUgdXNlci5cbiAgICAgICAqL1xuICAgICAgc2lsZW5jZV9kdXJhdGlvbl9tcz86IG51bWJlcjtcblxuICAgICAgLyoqXG4gICAgICAgKiBBY3RpdmF0aW9uIHRocmVzaG9sZCBmb3IgVkFEICgwLjAgdG8gMS4wKSwgdGhpcyBkZWZhdWx0cyB0byAwLjUuIEEgaGlnaGVyXG4gICAgICAgKiB0aHJlc2hvbGQgd2lsbCByZXF1aXJlIGxvdWRlciBhdWRpbyB0byBhY3RpdmF0ZSB0aGUgbW9kZWwsIGFuZCB0aHVzIG1pZ2h0XG4gICAgICAgKiBwZXJmb3JtIGJldHRlciBpbiBub2lzeSBlbnZpcm9ubWVudHMuXG4gICAgICAgKi9cbiAgICAgIHRocmVzaG9sZD86IG51bWJlcjtcblxuICAgICAgLyoqXG4gICAgICAgKiBUeXBlIG9mIHR1cm4gZGV0ZWN0aW9uLCBvbmx5IGBzZXJ2ZXJfdmFkYCBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxuICAgICAgICovXG4gICAgICB0eXBlPzogc3RyaW5nO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJldHVybmVkIHdoZW4gYSBzZXNzaW9uIGlzIHVwZGF0ZWQgd2l0aCBhIGBzZXNzaW9uLnVwZGF0ZWAgZXZlbnQsIHVubGVzcyB0aGVyZVxuICogaXMgYW4gZXJyb3IuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvblVwZGF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBzZXJ2ZXIgZXZlbnQuXG4gICAqL1xuICBldmVudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBSZWFsdGltZSBzZXNzaW9uIG9iamVjdCBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgc2Vzc2lvbjogU2Vzc2lvbnNBUEkuU2Vzc2lvbjtcblxuICAvKipcbiAgICogVGhlIGV2ZW50IHR5cGUsIG11c3QgYmUgYHNlc3Npb24udXBkYXRlZGAuXG4gICAqL1xuICB0eXBlOiAnc2Vzc2lvbi51cGRhdGVkJztcbn1cblxuUmVhbHRpbWUuU2Vzc2lvbnMgPSBTZXNzaW9ucztcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIFJlYWx0aW1lIHtcbiAgZXhwb3J0IHtcbiAgICBTZXNzaW9ucyBhcyBTZXNzaW9ucyxcbiAgICB0eXBlIFNlc3Npb25zQVBJU2Vzc2lvbiBhcyBTZXNzaW9uLFxuICAgIHR5cGUgU2Vzc2lvbkNyZWF0ZVJlc3BvbnNlIGFzIFNlc3Npb25DcmVhdGVSZXNwb25zZSxcbiAgICB0eXBlIFNlc3Npb25DcmVhdGVQYXJhbXMgYXMgU2Vzc2lvbkNyZWF0ZVBhcmFtcyxcbiAgfTtcbn1cbiIsICJpbXBvcnQge1xuICBUZXh0Q29udGVudEJsb2NrLFxuICBJbWFnZUZpbGVDb250ZW50QmxvY2ssXG4gIE1lc3NhZ2UsXG4gIE1lc3NhZ2VDb250ZW50RGVsdGEsXG4gIFRleHQsXG4gIEltYWdlRmlsZSxcbiAgVGV4dERlbHRhLFxuICBNZXNzYWdlRGVsdGEsXG4gIE1lc3NhZ2VDb250ZW50LFxufSBmcm9tICcuLi9yZXNvdXJjZXMvYmV0YS90aHJlYWRzL21lc3NhZ2VzJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgeyBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0IHtcbiAgUnVuLFxuICBSdW5DcmVhdGVQYXJhbXNCYXNlLFxuICBSdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gIFJ1bnMsXG4gIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zQmFzZSxcbiAgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW1pbmcsXG59IGZyb20gJy4uL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvcnVucy9ydW5zJztcbmltcG9ydCB7IHR5cGUgUmVhZGFibGVTdHJlYW0gfSBmcm9tICcuLi9fc2hpbXMvaW5kZXgnO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi4vc3RyZWFtaW5nJztcbmltcG9ydCB7IEFQSVVzZXJBYm9ydEVycm9yLCBPcGVuQUlFcnJvciB9IGZyb20gJy4uL2Vycm9yJztcbmltcG9ydCB7XG4gIEFzc2lzdGFudFN0cmVhbUV2ZW50LFxuICBNZXNzYWdlU3RyZWFtRXZlbnQsXG4gIFJ1blN0ZXBTdHJlYW1FdmVudCxcbiAgUnVuU3RyZWFtRXZlbnQsXG59IGZyb20gJy4uL3Jlc291cmNlcy9iZXRhL2Fzc2lzdGFudHMnO1xuaW1wb3J0IHsgUnVuU3RlcCwgUnVuU3RlcERlbHRhLCBUb29sQ2FsbCwgVG9vbENhbGxEZWx0YSB9IGZyb20gJy4uL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvcnVucy9zdGVwcyc7XG5pbXBvcnQgeyBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNCYXNlLCBUaHJlYWRzIH0gZnJvbSAnLi4vcmVzb3VyY2VzL2JldGEvdGhyZWFkcy90aHJlYWRzJztcbmltcG9ydCB7IEJhc2VFdmVudHMsIEV2ZW50U3RyZWFtIH0gZnJvbSAnLi9FdmVudFN0cmVhbSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50U3RyZWFtRXZlbnRzIGV4dGVuZHMgQmFzZUV2ZW50cyB7XG4gIHJ1bjogKHJ1bjogUnVuKSA9PiB2b2lkO1xuXG4gIC8vTmV3IGV2ZW50IHN0cnVjdHVyZVxuICBtZXNzYWdlQ3JlYXRlZDogKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHZvaWQ7XG4gIG1lc3NhZ2VEZWx0YTogKG1lc3NhZ2U6IE1lc3NhZ2VEZWx0YSwgc25hcHNob3Q6IE1lc3NhZ2UpID0+IHZvaWQ7XG4gIG1lc3NhZ2VEb25lOiAobWVzc2FnZTogTWVzc2FnZSkgPT4gdm9pZDtcblxuICBydW5TdGVwQ3JlYXRlZDogKHJ1blN0ZXA6IFJ1blN0ZXApID0+IHZvaWQ7XG4gIHJ1blN0ZXBEZWx0YTogKGRlbHRhOiBSdW5TdGVwRGVsdGEsIHNuYXBzaG90OiBSdW5zLlJ1blN0ZXApID0+IHZvaWQ7XG4gIHJ1blN0ZXBEb25lOiAocnVuU3RlcDogUnVucy5SdW5TdGVwLCBzbmFwc2hvdDogUnVucy5SdW5TdGVwKSA9PiB2b2lkO1xuXG4gIHRvb2xDYWxsQ3JlYXRlZDogKHRvb2xDYWxsOiBUb29sQ2FsbCkgPT4gdm9pZDtcbiAgdG9vbENhbGxEZWx0YTogKGRlbHRhOiBUb29sQ2FsbERlbHRhLCBzbmFwc2hvdDogVG9vbENhbGwpID0+IHZvaWQ7XG4gIHRvb2xDYWxsRG9uZTogKHRvb2xDYWxsOiBUb29sQ2FsbCkgPT4gdm9pZDtcblxuICB0ZXh0Q3JlYXRlZDogKGNvbnRlbnQ6IFRleHQpID0+IHZvaWQ7XG4gIHRleHREZWx0YTogKGRlbHRhOiBUZXh0RGVsdGEsIHNuYXBzaG90OiBUZXh0KSA9PiB2b2lkO1xuICB0ZXh0RG9uZTogKGNvbnRlbnQ6IFRleHQsIHNuYXBzaG90OiBNZXNzYWdlKSA9PiB2b2lkO1xuXG4gIC8vTm8gY3JlYXRlZCBvciBkZWx0YSBhcyB0aGlzIGlzIG5vdCBzdHJlYW1lZFxuICBpbWFnZUZpbGVEb25lOiAoY29udGVudDogSW1hZ2VGaWxlLCBzbmFwc2hvdDogTWVzc2FnZSkgPT4gdm9pZDtcblxuICBldmVudDogKGV2ZW50OiBBc3Npc3RhbnRTdHJlYW1FdmVudCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zQmFzZVN0cmVhbSA9IE9taXQ8VGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zQmFzZSwgJ3N0cmVhbSc+ICYge1xuICBzdHJlYW0/OiB0cnVlO1xufTtcblxuZXhwb3J0IHR5cGUgUnVuQ3JlYXRlUGFyYW1zQmFzZVN0cmVhbSA9IE9taXQ8UnVuQ3JlYXRlUGFyYW1zQmFzZSwgJ3N0cmVhbSc+ICYge1xuICBzdHJlYW0/OiB0cnVlO1xufTtcblxuZXhwb3J0IHR5cGUgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW0gPSBPbWl0PFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zQmFzZSwgJ3N0cmVhbSc+ICYge1xuICBzdHJlYW0/OiB0cnVlO1xufTtcblxuZXhwb3J0IGNsYXNzIEFzc2lzdGFudFN0cmVhbVxuICBleHRlbmRzIEV2ZW50U3RyZWFtPEFzc2lzdGFudFN0cmVhbUV2ZW50cz5cbiAgaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlPEFzc2lzdGFudFN0cmVhbUV2ZW50Plxue1xuICAvL1RyYWNrIGFsbCBldmVudHMgaW4gYSBzaW5nbGUgbGlzdCBmb3IgcmVmZXJlbmNlXG4gICNldmVudHM6IEFzc2lzdGFudFN0cmVhbUV2ZW50W10gPSBbXTtcblxuICAvL1VzZWQgdG8gYWNjdW11bGF0ZSBkZWx0YXNcbiAgLy9XZSBhcmUgYWNjdW11bGF0aW5nIG1hbnkgdHlwZXMgc28gdGhlIHZhbHVlIGhlcmUgaXMgbm90IHN0cmljdFxuICAjcnVuU3RlcFNuYXBzaG90czogeyBbaWQ6IHN0cmluZ106IFJ1bnMuUnVuU3RlcCB9ID0ge307XG4gICNtZXNzYWdlU25hcHNob3RzOiB7IFtpZDogc3RyaW5nXTogTWVzc2FnZSB9ID0ge307XG4gICNtZXNzYWdlU25hcHNob3Q6IE1lc3NhZ2UgfCB1bmRlZmluZWQ7XG4gICNmaW5hbFJ1bjogUnVuIHwgdW5kZWZpbmVkO1xuICAjY3VycmVudENvbnRlbnRJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAjY3VycmVudENvbnRlbnQ6IE1lc3NhZ2VDb250ZW50IHwgdW5kZWZpbmVkO1xuICAjY3VycmVudFRvb2xDYWxsSW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgI2N1cnJlbnRUb29sQ2FsbDogVG9vbENhbGwgfCB1bmRlZmluZWQ7XG5cbiAgLy9Gb3IgY3VycmVudCBzbmFwc2hvdCBtZXRob2RzXG4gICNjdXJyZW50RXZlbnQ6IEFzc2lzdGFudFN0cmVhbUV2ZW50IHwgdW5kZWZpbmVkO1xuICAjY3VycmVudFJ1blNuYXBzaG90OiBSdW4gfCB1bmRlZmluZWQ7XG4gICNjdXJyZW50UnVuU3RlcFNuYXBzaG90OiBSdW5zLlJ1blN0ZXAgfCB1bmRlZmluZWQ7XG5cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpOiBBc3luY0l0ZXJhdG9yPEFzc2lzdGFudFN0cmVhbUV2ZW50PiB7XG4gICAgY29uc3QgcHVzaFF1ZXVlOiBBc3Npc3RhbnRTdHJlYW1FdmVudFtdID0gW107XG4gICAgY29uc3QgcmVhZFF1ZXVlOiB7XG4gICAgICByZXNvbHZlOiAoY2h1bms6IEFzc2lzdGFudFN0cmVhbUV2ZW50IHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xuICAgICAgcmVqZWN0OiAoZXJyOiB1bmtub3duKSA9PiB2b2lkO1xuICAgIH1bXSA9IFtdO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG5cbiAgICAvL0NhdGNoIGFsbCBmb3IgcGFzc2luZyBhbG9uZyBhbGwgZXZlbnRzXG4gICAgdGhpcy5vbignZXZlbnQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHJlYWRlciA9IHJlYWRRdWV1ZS5zaGlmdCgpO1xuICAgICAgaWYgKHJlYWRlcikge1xuICAgICAgICByZWFkZXIucmVzb2x2ZShldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwdXNoUXVldWUucHVzaChldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICByZWFkZXIucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgfVxuICAgICAgcmVhZFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdhYm9ydCcsIChlcnIpID0+IHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBuZXh0OiBhc3luYyAoKTogUHJvbWlzZTxJdGVyYXRvclJlc3VsdDxBc3Npc3RhbnRTdHJlYW1FdmVudD4+ID0+IHtcbiAgICAgICAgaWYgKCFwdXNoUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPEFzc2lzdGFudFN0cmVhbUV2ZW50IHwgdW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PlxuICAgICAgICAgICAgcmVhZFF1ZXVlLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSksXG4gICAgICAgICAgKS50aGVuKChjaHVuaykgPT4gKGNodW5rID8geyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNodW5rID0gcHVzaFF1ZXVlLnNoaWZ0KCkhO1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH07XG4gICAgICB9LFxuICAgICAgcmV0dXJuOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW06IFJlYWRhYmxlU3RyZWFtKTogQXNzaXN0YW50U3RyZWFtIHtcbiAgICBjb25zdCBydW5uZXIgPSBuZXcgQXNzaXN0YW50U3RyZWFtKCk7XG4gICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9mcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtKSk7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfZnJvbVJlYWRhYmxlU3RyZWFtKFxuICAgIHJlYWRhYmxlU3RyZWFtOiBSZWFkYWJsZVN0cmVhbSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxSdW4+IHtcbiAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgaWYgKHNpZ25hbCkge1xuICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICB9XG4gICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgY29uc3Qgc3RyZWFtID0gU3RyZWFtLmZyb21SZWFkYWJsZVN0cmVhbTxBc3Npc3RhbnRTdHJlYW1FdmVudD4ocmVhZGFibGVTdHJlYW0sIHRoaXMuY29udHJvbGxlcik7XG4gICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiAgICAgIHRoaXMuI2FkZEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGRSdW4odGhpcy4jZW5kUmVxdWVzdCgpKTtcbiAgfVxuXG4gIHRvUmVhZGFibGVTdHJlYW0oKTogUmVhZGFibGVTdHJlYW0ge1xuICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBTdHJlYW0odGhpc1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0uYmluZCh0aGlzKSwgdGhpcy5jb250cm9sbGVyKTtcbiAgICByZXR1cm4gc3RyZWFtLnRvUmVhZGFibGVTdHJlYW0oKTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBydW5zOiBSdW5zLFxuICAgIHBhcmFtczogUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW0sXG4gICAgb3B0aW9uczogUmVxdWVzdE9wdGlvbnMgfCB1bmRlZmluZWQsXG4gICk6IEFzc2lzdGFudFN0cmVhbSB7XG4gICAgY29uc3QgcnVubmVyID0gbmV3IEFzc2lzdGFudFN0cmVhbSgpO1xuICAgIHJ1bm5lci5fcnVuKCgpID0+XG4gICAgICBydW5uZXIuX3J1blRvb2xBc3Npc3RhbnRTdHJlYW0odGhyZWFkSWQsIHJ1bklkLCBydW5zLCBwYXJhbXMsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICB9KSxcbiAgICApO1xuICAgIHJldHVybiBydW5uZXI7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgX2NyZWF0ZVRvb2xBc3Npc3RhbnRTdHJlYW0oXG4gICAgcnVuOiBSdW5zLFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBwYXJhbXM6IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPFJ1bj4ge1xuICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICBpZiAoc2lnbmFsKSB7XG4gICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGJvZHk6IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtaW5nID0geyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9O1xuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHJ1bi5zdWJtaXRUb29sT3V0cHV0cyh0aHJlYWRJZCwgcnVuSWQsIGJvZHksIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9jb25uZWN0ZWQoKTtcblxuICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICB0aGlzLiNhZGRFdmVudChldmVudCk7XG4gICAgfVxuICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9hZGRSdW4odGhpcy4jZW5kUmVxdWVzdCgpKTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0oXG4gICAgcGFyYW1zOiBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNCYXNlU3RyZWFtLFxuICAgIHRocmVhZDogVGhyZWFkcyxcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFzc2lzdGFudFN0cmVhbSB7XG4gICAgY29uc3QgcnVubmVyID0gbmV3IEFzc2lzdGFudFN0cmVhbSgpO1xuICAgIHJ1bm5lci5fcnVuKCgpID0+XG4gICAgICBydW5uZXIuX3RocmVhZEFzc2lzdGFudFN0cmVhbShwYXJhbXMsIHRocmVhZCwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3N0cmVhbScgfSxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVBc3Npc3RhbnRTdHJlYW0oXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5zOiBSdW5zLFxuICAgIHBhcmFtczogUnVuQ3JlYXRlUGFyYW1zQmFzZVN0cmVhbSxcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFzc2lzdGFudFN0cmVhbSB7XG4gICAgY29uc3QgcnVubmVyID0gbmV3IEFzc2lzdGFudFN0cmVhbSgpO1xuICAgIHJ1bm5lci5fcnVuKCgpID0+XG4gICAgICBydW5uZXIuX3J1bkFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVucywgcGFyYW1zLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnc3RyZWFtJyB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgY3VycmVudEV2ZW50KCk6IEFzc2lzdGFudFN0cmVhbUV2ZW50IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy4jY3VycmVudEV2ZW50O1xuICB9XG5cbiAgY3VycmVudFJ1bigpOiBSdW4gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLiNjdXJyZW50UnVuU25hcHNob3Q7XG4gIH1cblxuICBjdXJyZW50TWVzc2FnZVNuYXBzaG90KCk6IE1lc3NhZ2UgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLiNtZXNzYWdlU25hcHNob3Q7XG4gIH1cblxuICBjdXJyZW50UnVuU3RlcFNuYXBzaG90KCk6IFJ1bnMuUnVuU3RlcCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuI2N1cnJlbnRSdW5TdGVwU25hcHNob3Q7XG4gIH1cblxuICBhc3luYyBmaW5hbFJ1blN0ZXBzKCk6IFByb21pc2U8UnVucy5SdW5TdGVwW10+IHtcbiAgICBhd2FpdCB0aGlzLmRvbmUoKTtcblxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuI3J1blN0ZXBTbmFwc2hvdHMpO1xuICB9XG5cbiAgYXN5bmMgZmluYWxNZXNzYWdlcygpOiBQcm9taXNlPE1lc3NhZ2VbXT4ge1xuICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuXG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy4jbWVzc2FnZVNuYXBzaG90cyk7XG4gIH1cblxuICBhc3luYyBmaW5hbFJ1bigpOiBQcm9taXNlPFJ1bj4ge1xuICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgIGlmICghdGhpcy4jZmluYWxSdW4pIHRocm93IEVycm9yKCdGaW5hbCBydW4gd2FzIG5vdCByZWNlaXZlZC4nKTtcblxuICAgIHJldHVybiB0aGlzLiNmaW5hbFJ1bjtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtKFxuICAgIHRocmVhZDogVGhyZWFkcyxcbiAgICBwYXJhbXM6IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc0Jhc2UsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IFByb21pc2U8UnVuPiB7XG4gICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgIGlmIChzaWduYWwpIHtcbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgfVxuXG4gICAgY29uc3QgYm9keTogUnVuQ3JlYXRlUGFyYW1zU3RyZWFtaW5nID0geyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9O1xuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHRocmVhZC5jcmVhdGVBbmRSdW4oYm9keSwgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSk7XG5cbiAgICB0aGlzLl9jb25uZWN0ZWQoKTtcblxuICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICB0aGlzLiNhZGRFdmVudChldmVudCk7XG4gICAgfVxuICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9hZGRSdW4odGhpcy4jZW5kUmVxdWVzdCgpKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfY3JlYXRlQXNzaXN0YW50U3RyZWFtKFxuICAgIHJ1bjogUnVucyxcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHBhcmFtczogUnVuQ3JlYXRlUGFyYW1zQmFzZSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxSdW4+IHtcbiAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgaWYgKHNpZ25hbCkge1xuICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5OiBSdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmcgPSB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH07XG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgcnVuLmNyZWF0ZSh0aHJlYWRJZCwgYm9keSwgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSk7XG5cbiAgICB0aGlzLl9jb25uZWN0ZWQoKTtcblxuICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICB0aGlzLiNhZGRFdmVudChldmVudCk7XG4gICAgfVxuICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9hZGRSdW4odGhpcy4jZW5kUmVxdWVzdCgpKTtcbiAgfVxuXG4gICNhZGRFdmVudChldmVudDogQXNzaXN0YW50U3RyZWFtRXZlbnQpIHtcbiAgICBpZiAodGhpcy5lbmRlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy4jY3VycmVudEV2ZW50ID0gZXZlbnQ7XG5cbiAgICB0aGlzLiNoYW5kbGVFdmVudChldmVudCk7XG5cbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICBjYXNlICd0aHJlYWQuY3JlYXRlZCc6XG4gICAgICAgIC8vTm8gYWN0aW9uIG9uIHRoaXMgZXZlbnQuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd0aHJlYWQucnVuLmNyZWF0ZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5xdWV1ZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5pbl9wcm9ncmVzcyc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnJlcXVpcmVzX2FjdGlvbic6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmNvbXBsZXRlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmluY29tcGxldGUnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5mYWlsZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jYW5jZWxsaW5nJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY2FuY2VsbGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uZXhwaXJlZCc6XG4gICAgICAgIHRoaXMuI2hhbmRsZVJ1bihldmVudCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY3JlYXRlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuaW5fcHJvZ3Jlc3MnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmRlbHRhJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jb21wbGV0ZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmZhaWxlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY2FuY2VsbGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5leHBpcmVkJzpcbiAgICAgICAgdGhpcy4jaGFuZGxlUnVuU3RlcChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jcmVhdGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluX3Byb2dyZXNzJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmRlbHRhJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNvbXBsZXRlZCc6XG4gICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbmNvbXBsZXRlJzpcbiAgICAgICAgdGhpcy4jaGFuZGxlTWVzc2FnZShldmVudCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIC8vVGhpcyBpcyBpbmNsdWRlZCBmb3IgY29tcGxldGVuZXNzLCBidXQgZXJyb3JzIGFyZSBwcm9jZXNzZWQgaW4gdGhlIFNTRSBldmVudCBwcm9jZXNzaW5nIHNvIHRoaXMgc2hvdWxkIG5vdCBvY2N1clxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0VuY291bnRlcmVkIGFuIGVycm9yIGV2ZW50IGluIGV2ZW50IHByb2Nlc3NpbmcgLSBlcnJvcnMgc2hvdWxkIGJlIHByb2Nlc3NlZCBlYXJsaWVyJyxcbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFzc2VydE5ldmVyKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICAjZW5kUmVxdWVzdCgpOiBSdW4ge1xuICAgIGlmICh0aGlzLmVuZGVkKSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYHN0cmVhbSBoYXMgZW5kZWQsIHRoaXMgc2hvdWxkbid0IGhhcHBlbmApO1xuICAgIH1cblxuICAgIGlmICghdGhpcy4jZmluYWxSdW4pIHRocm93IEVycm9yKCdGaW5hbCBydW4gaGFzIG5vdCBiZWVuIHJlY2VpdmVkJyk7XG5cbiAgICByZXR1cm4gdGhpcy4jZmluYWxSdW47XG4gIH1cblxuICAjaGFuZGxlTWVzc2FnZSh0aGlzOiBBc3Npc3RhbnRTdHJlYW0sIGV2ZW50OiBNZXNzYWdlU3RyZWFtRXZlbnQpIHtcbiAgICBjb25zdCBbYWNjdW11bGF0ZWRNZXNzYWdlLCBuZXdDb250ZW50XSA9IHRoaXMuI2FjY3VtdWxhdGVNZXNzYWdlKGV2ZW50LCB0aGlzLiNtZXNzYWdlU25hcHNob3QpO1xuICAgIHRoaXMuI21lc3NhZ2VTbmFwc2hvdCA9IGFjY3VtdWxhdGVkTWVzc2FnZTtcbiAgICB0aGlzLiNtZXNzYWdlU25hcHNob3RzW2FjY3VtdWxhdGVkTWVzc2FnZS5pZF0gPSBhY2N1bXVsYXRlZE1lc3NhZ2U7XG5cbiAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2YgbmV3Q29udGVudCkge1xuICAgICAgY29uc3Qgc25hcHNob3RDb250ZW50ID0gYWNjdW11bGF0ZWRNZXNzYWdlLmNvbnRlbnRbY29udGVudC5pbmRleF07XG4gICAgICBpZiAoc25hcHNob3RDb250ZW50Py50eXBlID09ICd0ZXh0Jykge1xuICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0Q3JlYXRlZCcsIHNuYXBzaG90Q29udGVudC50ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jcmVhdGVkJzpcbiAgICAgICAgdGhpcy5fZW1pdCgnbWVzc2FnZUNyZWF0ZWQnLCBldmVudC5kYXRhKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluX3Byb2dyZXNzJzpcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmRlbHRhJzpcbiAgICAgICAgdGhpcy5fZW1pdCgnbWVzc2FnZURlbHRhJywgZXZlbnQuZGF0YS5kZWx0YSwgYWNjdW11bGF0ZWRNZXNzYWdlKTtcblxuICAgICAgICBpZiAoZXZlbnQuZGF0YS5kZWx0YS5jb250ZW50KSB7XG4gICAgICAgICAgZm9yIChjb25zdCBjb250ZW50IG9mIGV2ZW50LmRhdGEuZGVsdGEuY29udGVudCkge1xuICAgICAgICAgICAgLy9JZiBpdCBpcyB0ZXh0IGRlbHRhLCBlbWl0IGEgdGV4dCBkZWx0YSBldmVudFxuICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PSAndGV4dCcgJiYgY29udGVudC50ZXh0KSB7XG4gICAgICAgICAgICAgIGxldCB0ZXh0RGVsdGEgPSBjb250ZW50LnRleHQ7XG4gICAgICAgICAgICAgIGxldCBzbmFwc2hvdCA9IGFjY3VtdWxhdGVkTWVzc2FnZS5jb250ZW50W2NvbnRlbnQuaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAoc25hcHNob3QgJiYgc25hcHNob3QudHlwZSA9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0RGVsdGEnLCB0ZXh0RGVsdGEsIHNuYXBzaG90LnRleHQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdUaGUgc25hcHNob3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdGV4dCBkZWx0YSBpcyBub3QgdGV4dCBvciBtaXNzaW5nJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnRlbnQuaW5kZXggIT0gdGhpcy4jY3VycmVudENvbnRlbnRJbmRleCkge1xuICAgICAgICAgICAgICAvL1NlZSBpZiB3ZSBoYXZlIGluIHByb2dyZXNzIGNvbnRlbnRcbiAgICAgICAgICAgICAgaWYgKHRoaXMuI2N1cnJlbnRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLiNjdXJyZW50Q29udGVudC50eXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndGV4dERvbmUnLCB0aGlzLiNjdXJyZW50Q29udGVudC50ZXh0LCB0aGlzLiNtZXNzYWdlU25hcHNob3QpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ2ltYWdlX2ZpbGUnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdpbWFnZUZpbGVEb25lJywgdGhpcy4jY3VycmVudENvbnRlbnQuaW1hZ2VfZmlsZSwgdGhpcy4jbWVzc2FnZVNuYXBzaG90KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy4jY3VycmVudENvbnRlbnRJbmRleCA9IGNvbnRlbnQuaW5kZXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuI2N1cnJlbnRDb250ZW50ID0gYWNjdW11bGF0ZWRNZXNzYWdlLmNvbnRlbnRbY29udGVudC5pbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNvbXBsZXRlZCc6XG4gICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbmNvbXBsZXRlJzpcbiAgICAgICAgLy9XZSBlbWl0IHRoZSBsYXRlc3QgY29udGVudCB3ZSB3ZXJlIHdvcmtpbmcgb24gb24gY29tcGxldGlvbiAoaW5jbHVkaW5nIGluY29tcGxldGUpXG4gICAgICAgIGlmICh0aGlzLiNjdXJyZW50Q29udGVudEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IGV2ZW50LmRhdGEuY29udGVudFt0aGlzLiNjdXJyZW50Q29udGVudEluZGV4XTtcbiAgICAgICAgICBpZiAoY3VycmVudENvbnRlbnQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY3VycmVudENvbnRlbnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICdpbWFnZV9maWxlJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdpbWFnZUZpbGVEb25lJywgY3VycmVudENvbnRlbnQuaW1hZ2VfZmlsZSwgdGhpcy4jbWVzc2FnZVNuYXBzaG90KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndGV4dERvbmUnLCBjdXJyZW50Q29udGVudC50ZXh0LCB0aGlzLiNtZXNzYWdlU25hcHNob3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLiNtZXNzYWdlU25hcHNob3QpIHtcbiAgICAgICAgICB0aGlzLl9lbWl0KCdtZXNzYWdlRG9uZScsIGV2ZW50LmRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4jbWVzc2FnZVNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gICNoYW5kbGVSdW5TdGVwKHRoaXM6IEFzc2lzdGFudFN0cmVhbSwgZXZlbnQ6IFJ1blN0ZXBTdHJlYW1FdmVudCkge1xuICAgIGNvbnN0IGFjY3VtdWxhdGVkUnVuU3RlcCA9IHRoaXMuI2FjY3VtdWxhdGVSdW5TdGVwKGV2ZW50KTtcbiAgICB0aGlzLiNjdXJyZW50UnVuU3RlcFNuYXBzaG90ID0gYWNjdW11bGF0ZWRSdW5TdGVwO1xuXG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNyZWF0ZWQnOlxuICAgICAgICB0aGlzLl9lbWl0KCdydW5TdGVwQ3JlYXRlZCcsIGV2ZW50LmRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5kZWx0YSc6XG4gICAgICAgIGNvbnN0IGRlbHRhID0gZXZlbnQuZGF0YS5kZWx0YTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRlbHRhLnN0ZXBfZGV0YWlscyAmJlxuICAgICAgICAgIGRlbHRhLnN0ZXBfZGV0YWlscy50eXBlID09ICd0b29sX2NhbGxzJyAmJlxuICAgICAgICAgIGRlbHRhLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzICYmXG4gICAgICAgICAgYWNjdW11bGF0ZWRSdW5TdGVwLnN0ZXBfZGV0YWlscy50eXBlID09ICd0b29sX2NhbGxzJ1xuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIGRlbHRhLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzKSB7XG4gICAgICAgICAgICBpZiAodG9vbENhbGwuaW5kZXggPT0gdGhpcy4jY3VycmVudFRvb2xDYWxsSW5kZXgpIHtcbiAgICAgICAgICAgICAgdGhpcy5fZW1pdChcbiAgICAgICAgICAgICAgICAndG9vbENhbGxEZWx0YScsXG4gICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRSdW5TdGVwLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzW3Rvb2xDYWxsLmluZGV4XSBhcyBUb29sQ2FsbCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLiNjdXJyZW50VG9vbENhbGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0b29sQ2FsbERvbmUnLCB0aGlzLiNjdXJyZW50VG9vbENhbGwpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy4jY3VycmVudFRvb2xDYWxsSW5kZXggPSB0b29sQ2FsbC5pbmRleDtcbiAgICAgICAgICAgICAgdGhpcy4jY3VycmVudFRvb2xDYWxsID0gYWNjdW11bGF0ZWRSdW5TdGVwLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzW3Rvb2xDYWxsLmluZGV4XTtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuI2N1cnJlbnRUb29sQ2FsbCkgdGhpcy5fZW1pdCgndG9vbENhbGxDcmVhdGVkJywgdGhpcy4jY3VycmVudFRvb2xDYWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbWl0KCdydW5TdGVwRGVsdGEnLCBldmVudC5kYXRhLmRlbHRhLCBhY2N1bXVsYXRlZFJ1blN0ZXApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jb21wbGV0ZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmZhaWxlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY2FuY2VsbGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5leHBpcmVkJzpcbiAgICAgICAgdGhpcy4jY3VycmVudFJ1blN0ZXBTbmFwc2hvdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgZGV0YWlscyA9IGV2ZW50LmRhdGEuc3RlcF9kZXRhaWxzO1xuICAgICAgICBpZiAoZGV0YWlscy50eXBlID09ICd0b29sX2NhbGxzJykge1xuICAgICAgICAgIGlmICh0aGlzLiNjdXJyZW50VG9vbENhbGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsRG9uZScsIHRoaXMuI2N1cnJlbnRUb29sQ2FsbCBhcyBUb29sQ2FsbCk7XG4gICAgICAgICAgICB0aGlzLiNjdXJyZW50VG9vbENhbGwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXQoJ3J1blN0ZXBEb25lJywgZXZlbnQuZGF0YSwgYWNjdW11bGF0ZWRSdW5TdGVwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuaW5fcHJvZ3Jlc3MnOlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAjaGFuZGxlRXZlbnQodGhpczogQXNzaXN0YW50U3RyZWFtLCBldmVudDogQXNzaXN0YW50U3RyZWFtRXZlbnQpIHtcbiAgICB0aGlzLiNldmVudHMucHVzaChldmVudCk7XG4gICAgdGhpcy5fZW1pdCgnZXZlbnQnLCBldmVudCk7XG4gIH1cblxuICAjYWNjdW11bGF0ZVJ1blN0ZXAoZXZlbnQ6IFJ1blN0ZXBTdHJlYW1FdmVudCk6IFJ1bnMuUnVuU3RlcCB7XG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNyZWF0ZWQnOlxuICAgICAgICB0aGlzLiNydW5TdGVwU25hcHNob3RzW2V2ZW50LmRhdGEuaWRdID0gZXZlbnQuZGF0YTtcbiAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGE7XG5cbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5kZWx0YSc6XG4gICAgICAgIGxldCBzbmFwc2hvdCA9IHRoaXMuI3J1blN0ZXBTbmFwc2hvdHNbZXZlbnQuZGF0YS5pZF0gYXMgUnVucy5SdW5TdGVwO1xuICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ1JlY2VpdmVkIGEgUnVuU3RlcERlbHRhIGJlZm9yZSBjcmVhdGlvbiBvZiBhIHNuYXBzaG90Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGE7XG5cbiAgICAgICAgaWYgKGRhdGEuZGVsdGEpIHtcbiAgICAgICAgICBjb25zdCBhY2N1bXVsYXRlZCA9IEFzc2lzdGFudFN0cmVhbS5hY2N1bXVsYXRlRGVsdGEoc25hcHNob3QsIGRhdGEuZGVsdGEpIGFzIFJ1bnMuUnVuU3RlcDtcbiAgICAgICAgICB0aGlzLiNydW5TdGVwU25hcHNob3RzW2V2ZW50LmRhdGEuaWRdID0gYWNjdW11bGF0ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4jcnVuU3RlcFNuYXBzaG90c1tldmVudC5kYXRhLmlkXSBhcyBSdW5zLlJ1blN0ZXA7XG5cbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jb21wbGV0ZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmZhaWxlZCc6XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY2FuY2VsbGVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5leHBpcmVkJzpcbiAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5pbl9wcm9ncmVzcyc6XG4gICAgICAgIHRoaXMuI3J1blN0ZXBTbmFwc2hvdHNbZXZlbnQuZGF0YS5pZF0gPSBldmVudC5kYXRhO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAodGhpcy4jcnVuU3RlcFNuYXBzaG90c1tldmVudC5kYXRhLmlkXSkgcmV0dXJuIHRoaXMuI3J1blN0ZXBTbmFwc2hvdHNbZXZlbnQuZGF0YS5pZF0gYXMgUnVucy5SdW5TdGVwO1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gc25hcHNob3QgYXZhaWxhYmxlJyk7XG4gIH1cblxuICAjYWNjdW11bGF0ZU1lc3NhZ2UoXG4gICAgZXZlbnQ6IEFzc2lzdGFudFN0cmVhbUV2ZW50LFxuICAgIHNuYXBzaG90OiBNZXNzYWdlIHwgdW5kZWZpbmVkLFxuICApOiBbTWVzc2FnZSwgTWVzc2FnZUNvbnRlbnREZWx0YVtdXSB7XG4gICAgbGV0IG5ld0NvbnRlbnQ6IE1lc3NhZ2VDb250ZW50RGVsdGFbXSA9IFtdO1xuXG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuY3JlYXRlZCc6XG4gICAgICAgIC8vT24gY3JlYXRpb24gdGhlIHNuYXBzaG90IGlzIGp1c3QgdGhlIGluaXRpYWwgbWVzc2FnZVxuICAgICAgICByZXR1cm4gW2V2ZW50LmRhdGEsIG5ld0NvbnRlbnRdO1xuXG4gICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5kZWx0YSc6XG4gICAgICAgIGlmICghc25hcHNob3QpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICdSZWNlaXZlZCBhIGRlbHRhIHdpdGggbm8gZXhpc3Rpbmcgc25hcHNob3QgKHRoZXJlIHNob3VsZCBiZSBvbmUgZnJvbSBtZXNzYWdlIGNyZWF0aW9uKScsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0gZXZlbnQuZGF0YTtcblxuICAgICAgICAvL0lmIHRoaXMgZGVsdGEgZG9lcyBub3QgaGF2ZSBjb250ZW50LCBub3RoaW5nIHRvIHByb2Nlc3NcbiAgICAgICAgaWYgKGRhdGEuZGVsdGEuY29udGVudCkge1xuICAgICAgICAgIGZvciAoY29uc3QgY29udGVudEVsZW1lbnQgb2YgZGF0YS5kZWx0YS5jb250ZW50KSB7XG4gICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuaW5kZXggaW4gc25hcHNob3QuY29udGVudCkge1xuICAgICAgICAgICAgICBsZXQgY3VycmVudENvbnRlbnQgPSBzbmFwc2hvdC5jb250ZW50W2NvbnRlbnRFbGVtZW50LmluZGV4XTtcbiAgICAgICAgICAgICAgc25hcHNob3QuY29udGVudFtjb250ZW50RWxlbWVudC5pbmRleF0gPSB0aGlzLiNhY2N1bXVsYXRlQ29udGVudChcbiAgICAgICAgICAgICAgICBjb250ZW50RWxlbWVudCxcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29udGVudCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNuYXBzaG90LmNvbnRlbnRbY29udGVudEVsZW1lbnQuaW5kZXhdID0gY29udGVudEVsZW1lbnQgYXMgTWVzc2FnZUNvbnRlbnQ7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBuZXcgZWxlbWVudFxuICAgICAgICAgICAgICBuZXdDb250ZW50LnB1c2goY29udGVudEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbc25hcHNob3QsIG5ld0NvbnRlbnRdO1xuXG4gICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbl9wcm9ncmVzcyc6XG4gICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jb21wbGV0ZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuaW5jb21wbGV0ZSc6XG4gICAgICAgIC8vTm8gY2hhbmdlcyBvbiBvdGhlciB0aHJlYWQgZXZlbnRzXG4gICAgICAgIGlmIChzbmFwc2hvdCkge1xuICAgICAgICAgIHJldHVybiBbc25hcHNob3QsIG5ld0NvbnRlbnRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IEVycm9yKCdSZWNlaXZlZCB0aHJlYWQgbWVzc2FnZSBldmVudCB3aXRoIG5vIGV4aXN0aW5nIHNuYXBzaG90Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoJ1RyaWVkIHRvIGFjY3VtdWxhdGUgYSBub24tbWVzc2FnZSBldmVudCcpO1xuICB9XG5cbiAgI2FjY3VtdWxhdGVDb250ZW50KFxuICAgIGNvbnRlbnRFbGVtZW50OiBNZXNzYWdlQ29udGVudERlbHRhLFxuICAgIGN1cnJlbnRDb250ZW50OiBNZXNzYWdlQ29udGVudCB8IHVuZGVmaW5lZCxcbiAgKTogVGV4dENvbnRlbnRCbG9jayB8IEltYWdlRmlsZUNvbnRlbnRCbG9jayB7XG4gICAgcmV0dXJuIEFzc2lzdGFudFN0cmVhbS5hY2N1bXVsYXRlRGVsdGEoY3VycmVudENvbnRlbnQgYXMgdW5rbm93biBhcyBSZWNvcmQ8YW55LCBhbnk+LCBjb250ZW50RWxlbWVudCkgYXNcbiAgICAgIHwgVGV4dENvbnRlbnRCbG9ja1xuICAgICAgfCBJbWFnZUZpbGVDb250ZW50QmxvY2s7XG4gIH1cblxuICBzdGF0aWMgYWNjdW11bGF0ZURlbHRhKGFjYzogUmVjb3JkPHN0cmluZywgYW55PiwgZGVsdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICBmb3IgKGNvbnN0IFtrZXksIGRlbHRhVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRlbHRhKSkge1xuICAgICAgaWYgKCFhY2MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBhY2Nba2V5XSA9IGRlbHRhVmFsdWU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgYWNjVmFsdWUgPSBhY2Nba2V5XTtcbiAgICAgIGlmIChhY2NWYWx1ZSA9PT0gbnVsbCB8fCBhY2NWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFjY1trZXldID0gZGVsdGFWYWx1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIGRvbid0IGFjY3VtdWxhdGUgdGhlc2Ugc3BlY2lhbCBwcm9wZXJ0aWVzXG4gICAgICBpZiAoa2V5ID09PSAnaW5kZXgnIHx8IGtleSA9PT0gJ3R5cGUnKSB7XG4gICAgICAgIGFjY1trZXldID0gZGVsdGFWYWx1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFR5cGUtc3BlY2lmaWMgYWNjdW11bGF0aW9uIGxvZ2ljXG4gICAgICBpZiAodHlwZW9mIGFjY1ZhbHVlID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgZGVsdGFWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYWNjVmFsdWUgKz0gZGVsdGFWYWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFjY1ZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZGVsdGFWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgYWNjVmFsdWUgKz0gZGVsdGFWYWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoQ29yZS5pc09iaihhY2NWYWx1ZSkgJiYgQ29yZS5pc09iaihkZWx0YVZhbHVlKSkge1xuICAgICAgICBhY2NWYWx1ZSA9IHRoaXMuYWNjdW11bGF0ZURlbHRhKGFjY1ZhbHVlIGFzIFJlY29yZDxzdHJpbmcsIGFueT4sIGRlbHRhVmFsdWUgYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYWNjVmFsdWUpICYmIEFycmF5LmlzQXJyYXkoZGVsdGFWYWx1ZSkpIHtcbiAgICAgICAgaWYgKGFjY1ZhbHVlLmV2ZXJ5KCh4KSA9PiB0eXBlb2YgeCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHggPT09ICdudW1iZXInKSkge1xuICAgICAgICAgIGFjY1ZhbHVlLnB1c2goLi4uZGVsdGFWYWx1ZSk7IC8vIFVzZSBzcHJlYWQgc3ludGF4IGZvciBlZmZpY2llbnQgYWRkaXRpb25cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgZGVsdGFFbnRyeSBvZiBkZWx0YVZhbHVlKSB7XG4gICAgICAgICAgaWYgKCFDb3JlLmlzT2JqKGRlbHRhRW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGFycmF5IGRlbHRhIGVudHJ5IHRvIGJlIGFuIG9iamVjdCBidXQgZ290OiAke2RlbHRhRW50cnl9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaW5kZXggPSBkZWx0YUVudHJ5WydpbmRleCddO1xuICAgICAgICAgIGlmIChpbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGRlbHRhRW50cnkpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhcnJheSBkZWx0YSBlbnRyeSB0byBoYXZlIGFuIGBpbmRleGAgcHJvcGVydHknKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGluZGV4ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhcnJheSBkZWx0YSBlbnRyeSBcXGBpbmRleFxcYCBwcm9wZXJ0eSB0byBiZSBhIG51bWJlciBidXQgZ290ICR7aW5kZXh9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgYWNjRW50cnkgPSBhY2NWYWx1ZVtpbmRleF07XG4gICAgICAgICAgaWYgKGFjY0VudHJ5ID09IG51bGwpIHtcbiAgICAgICAgICAgIGFjY1ZhbHVlLnB1c2goZGVsdGFFbnRyeSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjY1ZhbHVlW2luZGV4XSA9IHRoaXMuYWNjdW11bGF0ZURlbHRhKGFjY0VudHJ5LCBkZWx0YUVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihgVW5oYW5kbGVkIHJlY29yZCB0eXBlOiAke2tleX0sIGRlbHRhVmFsdWU6ICR7ZGVsdGFWYWx1ZX0sIGFjY1ZhbHVlOiAke2FjY1ZhbHVlfWApO1xuICAgICAgfVxuICAgICAgYWNjW2tleV0gPSBhY2NWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9XG5cbiAgI2hhbmRsZVJ1bih0aGlzOiBBc3Npc3RhbnRTdHJlYW0sIGV2ZW50OiBSdW5TdHJlYW1FdmVudCkge1xuICAgIHRoaXMuI2N1cnJlbnRSdW5TbmFwc2hvdCA9IGV2ZW50LmRhdGE7XG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jcmVhdGVkJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0aHJlYWQucnVuLnF1ZXVlZCc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5pbl9wcm9ncmVzcyc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5yZXF1aXJlc19hY3Rpb24nOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jYW5jZWxsZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5mYWlsZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jb21wbGV0ZWQnOlxuICAgICAgY2FzZSAndGhyZWFkLnJ1bi5leHBpcmVkJzpcbiAgICAgICAgdGhpcy4jZmluYWxSdW4gPSBldmVudC5kYXRhO1xuICAgICAgICBpZiAodGhpcy4jY3VycmVudFRvb2xDYWxsKSB7XG4gICAgICAgICAgdGhpcy5fZW1pdCgndG9vbENhbGxEb25lJywgdGhpcy4jY3VycmVudFRvb2xDYWxsKTtcbiAgICAgICAgICB0aGlzLiNjdXJyZW50VG9vbENhbGwgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0aHJlYWQucnVuLmNhbmNlbGxpbmcnOlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgX2FkZFJ1bihydW46IFJ1bik6IFJ1biB7XG4gICAgcmV0dXJuIHJ1bjtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBfdGhyZWFkQXNzaXN0YW50U3RyZWFtKFxuICAgIHBhcmFtczogVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zQmFzZSxcbiAgICB0aHJlYWQ6IFRocmVhZHMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IFByb21pc2U8UnVuPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NyZWF0ZVRocmVhZEFzc2lzdGFudFN0cmVhbSh0aHJlYWQsIHBhcmFtcywgb3B0aW9ucyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgX3J1bkFzc2lzdGFudFN0cmVhbShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bnM6IFJ1bnMsXG4gICAgcGFyYW1zOiBSdW5DcmVhdGVQYXJhbXNCYXNlLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPFJ1bj4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVhdGVBc3Npc3RhbnRTdHJlYW0ocnVucywgdGhyZWFkSWQsIHBhcmFtcywgb3B0aW9ucyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgX3J1blRvb2xBc3Npc3RhbnRTdHJlYW0oXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIHJ1bnM6IFJ1bnMsXG4gICAgcGFyYW1zOiBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc1N0cmVhbSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUHJvbWlzZTxSdW4+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3JlYXRlVG9vbEFzc2lzdGFudFN0cmVhbShydW5zLCB0aHJlYWRJZCwgcnVuSWQsIHBhcmFtcywgb3B0aW9ucyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3g6IG5ldmVyKSB7fVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tICcuLi8uLi9zaGFyZWQnO1xuaW1wb3J0ICogYXMgQXNzaXN0YW50c0FQSSBmcm9tICcuLi9hc3Npc3RhbnRzJztcbmltcG9ydCB7IEN1cnNvclBhZ2UsIHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gJy4uLy4uLy4uL3BhZ2luYXRpb24nO1xuXG5leHBvcnQgY2xhc3MgTWVzc2FnZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtZXNzYWdlLlxuICAgKi9cbiAgY3JlYXRlKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgYm9keTogTWVzc2FnZUNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPE1lc3NhZ2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L21lc3NhZ2VzYCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGEgbWVzc2FnZS5cbiAgICovXG4gIHJldHJpZXZlKHRocmVhZElkOiBzdHJpbmcsIG1lc3NhZ2VJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxNZXNzYWdlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC90aHJlYWRzLyR7dGhyZWFkSWR9L21lc3NhZ2VzLyR7bWVzc2FnZUlkfWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vZGlmaWVzIGEgbWVzc2FnZS5cbiAgICovXG4gIHVwZGF0ZShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIG1lc3NhZ2VJZDogc3RyaW5nLFxuICAgIGJvZHk6IE1lc3NhZ2VVcGRhdGVQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxNZXNzYWdlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9tZXNzYWdlcy8ke21lc3NhZ2VJZH1gLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgbWVzc2FnZXMgZm9yIGEgZ2l2ZW4gdGhyZWFkLlxuICAgKi9cbiAgbGlzdChcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogTWVzc2FnZUxpc3RQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8TWVzc2FnZXNQYWdlLCBNZXNzYWdlPjtcbiAgbGlzdCh0aHJlYWRJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8TWVzc2FnZXNQYWdlLCBNZXNzYWdlPjtcbiAgbGlzdChcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHF1ZXJ5OiBNZXNzYWdlTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxNZXNzYWdlc1BhZ2UsIE1lc3NhZ2U+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3QodGhyZWFkSWQsIHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXNgLCBNZXNzYWdlc1BhZ2UsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBhIG1lc3NhZ2UuXG4gICAqL1xuICBkZWwodGhyZWFkSWQ6IHN0cmluZywgbWVzc2FnZUlkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPE1lc3NhZ2VEZWxldGVkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC90aHJlYWRzLyR7dGhyZWFkSWR9L21lc3NhZ2VzLyR7bWVzc2FnZUlkfWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlPE1lc3NhZ2U+IHt9XG5cbi8qKlxuICogQSBjaXRhdGlvbiB3aXRoaW4gdGhlIG1lc3NhZ2UgdGhhdCBwb2ludHMgdG8gYSBzcGVjaWZpYyBxdW90ZSBmcm9tIGEgc3BlY2lmaWNcbiAqIEZpbGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQgb3IgdGhlIG1lc3NhZ2UuIEdlbmVyYXRlZCB3aGVuIHRoZSBhc3Npc3RhbnRcbiAqIHVzZXMgdGhlIFwiZmlsZV9zZWFyY2hcIiB0b29sIHRvIHNlYXJjaCBmaWxlcy5cbiAqL1xuZXhwb3J0IHR5cGUgQW5ub3RhdGlvbiA9IEZpbGVDaXRhdGlvbkFubm90YXRpb24gfCBGaWxlUGF0aEFubm90YXRpb247XG5cbi8qKlxuICogQSBjaXRhdGlvbiB3aXRoaW4gdGhlIG1lc3NhZ2UgdGhhdCBwb2ludHMgdG8gYSBzcGVjaWZpYyBxdW90ZSBmcm9tIGEgc3BlY2lmaWNcbiAqIEZpbGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQgb3IgdGhlIG1lc3NhZ2UuIEdlbmVyYXRlZCB3aGVuIHRoZSBhc3Npc3RhbnRcbiAqIHVzZXMgdGhlIFwiZmlsZV9zZWFyY2hcIiB0b29sIHRvIHNlYXJjaCBmaWxlcy5cbiAqL1xuZXhwb3J0IHR5cGUgQW5ub3RhdGlvbkRlbHRhID0gRmlsZUNpdGF0aW9uRGVsdGFBbm5vdGF0aW9uIHwgRmlsZVBhdGhEZWx0YUFubm90YXRpb247XG5cbi8qKlxuICogQSBjaXRhdGlvbiB3aXRoaW4gdGhlIG1lc3NhZ2UgdGhhdCBwb2ludHMgdG8gYSBzcGVjaWZpYyBxdW90ZSBmcm9tIGEgc3BlY2lmaWNcbiAqIEZpbGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQgb3IgdGhlIG1lc3NhZ2UuIEdlbmVyYXRlZCB3aGVuIHRoZSBhc3Npc3RhbnRcbiAqIHVzZXMgdGhlIFwiZmlsZV9zZWFyY2hcIiB0b29sIHRvIHNlYXJjaCBmaWxlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlQ2l0YXRpb25Bbm5vdGF0aW9uIHtcbiAgZW5kX2luZGV4OiBudW1iZXI7XG5cbiAgZmlsZV9jaXRhdGlvbjogRmlsZUNpdGF0aW9uQW5ub3RhdGlvbi5GaWxlQ2l0YXRpb247XG5cbiAgc3RhcnRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHRleHQgaW4gdGhlIG1lc3NhZ2UgY29udGVudCB0aGF0IG5lZWRzIHRvIGJlIHJlcGxhY2VkLlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYGZpbGVfY2l0YXRpb25gLlxuICAgKi9cbiAgdHlwZTogJ2ZpbGVfY2l0YXRpb24nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEZpbGVDaXRhdGlvbkFubm90YXRpb24ge1xuICBleHBvcnQgaW50ZXJmYWNlIEZpbGVDaXRhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBzcGVjaWZpYyBGaWxlIHRoZSBjaXRhdGlvbiBpcyBmcm9tLlxuICAgICAqL1xuICAgIGZpbGVfaWQ6IHN0cmluZztcbiAgfVxufVxuXG4vKipcbiAqIEEgY2l0YXRpb24gd2l0aGluIHRoZSBtZXNzYWdlIHRoYXQgcG9pbnRzIHRvIGEgc3BlY2lmaWMgcXVvdGUgZnJvbSBhIHNwZWNpZmljXG4gKiBGaWxlIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXNzaXN0YW50IG9yIHRoZSBtZXNzYWdlLiBHZW5lcmF0ZWQgd2hlbiB0aGUgYXNzaXN0YW50XG4gKiB1c2VzIHRoZSBcImZpbGVfc2VhcmNoXCIgdG9vbCB0byBzZWFyY2ggZmlsZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUNpdGF0aW9uRGVsdGFBbm5vdGF0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgYW5ub3RhdGlvbiBpbiB0aGUgdGV4dCBjb250ZW50IHBhcnQuXG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYGZpbGVfY2l0YXRpb25gLlxuICAgKi9cbiAgdHlwZTogJ2ZpbGVfY2l0YXRpb24nO1xuXG4gIGVuZF9pbmRleD86IG51bWJlcjtcblxuICBmaWxlX2NpdGF0aW9uPzogRmlsZUNpdGF0aW9uRGVsdGFBbm5vdGF0aW9uLkZpbGVDaXRhdGlvbjtcblxuICBzdGFydF9pbmRleD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHRleHQgaW4gdGhlIG1lc3NhZ2UgY29udGVudCB0aGF0IG5lZWRzIHRvIGJlIHJlcGxhY2VkLlxuICAgKi9cbiAgdGV4dD86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaWxlQ2l0YXRpb25EZWx0YUFubm90YXRpb24ge1xuICBleHBvcnQgaW50ZXJmYWNlIEZpbGVDaXRhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBzcGVjaWZpYyBGaWxlIHRoZSBjaXRhdGlvbiBpcyBmcm9tLlxuICAgICAqL1xuICAgIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3BlY2lmaWMgcXVvdGUgaW4gdGhlIGZpbGUuXG4gICAgICovXG4gICAgcXVvdGU/OiBzdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBBIFVSTCBmb3IgdGhlIGZpbGUgdGhhdCdzIGdlbmVyYXRlZCB3aGVuIHRoZSBhc3Npc3RhbnQgdXNlZCB0aGVcbiAqIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHRvIGdlbmVyYXRlIGEgZmlsZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlUGF0aEFubm90YXRpb24ge1xuICBlbmRfaW5kZXg6IG51bWJlcjtcblxuICBmaWxlX3BhdGg6IEZpbGVQYXRoQW5ub3RhdGlvbi5GaWxlUGF0aDtcblxuICBzdGFydF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdGV4dCBpbiB0aGUgbWVzc2FnZSBjb250ZW50IHRoYXQgbmVlZHMgdG8gYmUgcmVwbGFjZWQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgZmlsZV9wYXRoYC5cbiAgICovXG4gIHR5cGU6ICdmaWxlX3BhdGgnO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEZpbGVQYXRoQW5ub3RhdGlvbiB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVBhdGgge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0aGF0IHdhcyBnZW5lcmF0ZWQuXG4gICAgICovXG4gICAgZmlsZV9pZDogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogQSBVUkwgZm9yIHRoZSBmaWxlIHRoYXQncyBnZW5lcmF0ZWQgd2hlbiB0aGUgYXNzaXN0YW50IHVzZWQgdGhlXG4gKiBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCB0byBnZW5lcmF0ZSBhIGZpbGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZVBhdGhEZWx0YUFubm90YXRpb24ge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBhbm5vdGF0aW9uIGluIHRoZSB0ZXh0IGNvbnRlbnQgcGFydC5cbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgZmlsZV9wYXRoYC5cbiAgICovXG4gIHR5cGU6ICdmaWxlX3BhdGgnO1xuXG4gIGVuZF9pbmRleD86IG51bWJlcjtcblxuICBmaWxlX3BhdGg/OiBGaWxlUGF0aERlbHRhQW5ub3RhdGlvbi5GaWxlUGF0aDtcblxuICBzdGFydF9pbmRleD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHRleHQgaW4gdGhlIG1lc3NhZ2UgY29udGVudCB0aGF0IG5lZWRzIHRvIGJlIHJlcGxhY2VkLlxuICAgKi9cbiAgdGV4dD86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaWxlUGF0aERlbHRhQW5ub3RhdGlvbiB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVBhdGgge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0aGF0IHdhcyBnZW5lcmF0ZWQuXG4gICAgICovXG4gICAgZmlsZV9pZD86IHN0cmluZztcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlRmlsZSB7XG4gIC8qKlxuICAgKiBUaGUgW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEIG9mIHRoZSBpbWFnZVxuICAgKiBpbiB0aGUgbWVzc2FnZSBjb250ZW50LiBTZXQgYHB1cnBvc2U9XCJ2aXNpb25cImAgd2hlbiB1cGxvYWRpbmcgdGhlIEZpbGUgaWYgeW91XG4gICAqIG5lZWQgdG8gbGF0ZXIgZGlzcGxheSB0aGUgZmlsZSBjb250ZW50LlxuICAgKi9cbiAgZmlsZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGRldGFpbCBsZXZlbCBvZiB0aGUgaW1hZ2UgaWYgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyLiBgbG93YCB1c2VzXG4gICAqIGZld2VyIHRva2VucywgeW91IGNhbiBvcHQgaW4gdG8gaGlnaCByZXNvbHV0aW9uIHVzaW5nIGBoaWdoYC5cbiAgICovXG4gIGRldGFpbD86ICdhdXRvJyB8ICdsb3cnIHwgJ2hpZ2gnO1xufVxuXG4vKipcbiAqIFJlZmVyZW5jZXMgYW4gaW1hZ2UgW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpXG4gKiBpbiB0aGUgY29udGVudCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VGaWxlQ29udGVudEJsb2NrIHtcbiAgaW1hZ2VfZmlsZTogSW1hZ2VGaWxlO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYGltYWdlX2ZpbGVgLlxuICAgKi9cbiAgdHlwZTogJ2ltYWdlX2ZpbGUnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlRmlsZURlbHRhIHtcbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZGV0YWlsIGxldmVsIG9mIHRoZSBpbWFnZSBpZiBzcGVjaWZpZWQgYnkgdGhlIHVzZXIuIGBsb3dgIHVzZXNcbiAgICogZmV3ZXIgdG9rZW5zLCB5b3UgY2FuIG9wdCBpbiB0byBoaWdoIHJlc29sdXRpb24gdXNpbmcgYGhpZ2hgLlxuICAgKi9cbiAgZGV0YWlsPzogJ2F1dG8nIHwgJ2xvdycgfCAnaGlnaCc7XG5cbiAgLyoqXG4gICAqIFRoZSBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSUQgb2YgdGhlIGltYWdlXG4gICAqIGluIHRoZSBtZXNzYWdlIGNvbnRlbnQuIFNldCBgcHVycG9zZT1cInZpc2lvblwiYCB3aGVuIHVwbG9hZGluZyB0aGUgRmlsZSBpZiB5b3VcbiAgICogbmVlZCB0byBsYXRlciBkaXNwbGF5IHRoZSBmaWxlIGNvbnRlbnQuXG4gICAqL1xuICBmaWxlX2lkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlZmVyZW5jZXMgYW4gaW1hZ2UgW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpXG4gKiBpbiB0aGUgY29udGVudCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VGaWxlRGVsdGFCbG9jayB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCBpbiB0aGUgbWVzc2FnZS5cbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgaW1hZ2VfZmlsZWAuXG4gICAqL1xuICB0eXBlOiAnaW1hZ2VfZmlsZSc7XG5cbiAgaW1hZ2VfZmlsZT86IEltYWdlRmlsZURlbHRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlVVJMIHtcbiAgLyoqXG4gICAqIFRoZSBleHRlcm5hbCBVUkwgb2YgdGhlIGltYWdlLCBtdXN0IGJlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGVzOiBqcGVnLCBqcGcsIHBuZyxcbiAgICogZ2lmLCB3ZWJwLlxuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZGV0YWlsIGxldmVsIG9mIHRoZSBpbWFnZS4gYGxvd2AgdXNlcyBmZXdlciB0b2tlbnMsIHlvdSBjYW4gb3B0IGluXG4gICAqIHRvIGhpZ2ggcmVzb2x1dGlvbiB1c2luZyBgaGlnaGAuIERlZmF1bHQgdmFsdWUgaXMgYGF1dG9gXG4gICAqL1xuICBkZXRhaWw/OiAnYXV0bycgfCAnbG93JyB8ICdoaWdoJztcbn1cblxuLyoqXG4gKiBSZWZlcmVuY2VzIGFuIGltYWdlIFVSTCBpbiB0aGUgY29udGVudCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VVUkxDb250ZW50QmxvY2sge1xuICBpbWFnZV91cmw6IEltYWdlVVJMO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgY29udGVudCBwYXJ0LlxuICAgKi9cbiAgdHlwZTogJ2ltYWdlX3VybCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VVUkxEZWx0YSB7XG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGRldGFpbCBsZXZlbCBvZiB0aGUgaW1hZ2UuIGBsb3dgIHVzZXMgZmV3ZXIgdG9rZW5zLCB5b3UgY2FuIG9wdCBpblxuICAgKiB0byBoaWdoIHJlc29sdXRpb24gdXNpbmcgYGhpZ2hgLlxuICAgKi9cbiAgZGV0YWlsPzogJ2F1dG8nIHwgJ2xvdycgfCAnaGlnaCc7XG5cbiAgLyoqXG4gICAqIFRoZSBVUkwgb2YgdGhlIGltYWdlLCBtdXN0IGJlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGVzOiBqcGVnLCBqcGcsIHBuZywgZ2lmLFxuICAgKiB3ZWJwLlxuICAgKi9cbiAgdXJsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlZmVyZW5jZXMgYW4gaW1hZ2UgVVJMIGluIHRoZSBjb250ZW50IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbWFnZVVSTERlbHRhQmxvY2sge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgaW4gdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYGltYWdlX3VybGAuXG4gICAqL1xuICB0eXBlOiAnaW1hZ2VfdXJsJztcblxuICBpbWFnZV91cmw/OiBJbWFnZVVSTERlbHRhO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBtZXNzYWdlIHdpdGhpbiBhXG4gKiBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICAvKipcbiAgICogVGhlIGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBJZiBhcHBsaWNhYmxlLCB0aGUgSUQgb2YgdGhlXG4gICAqIFthc3Npc3RhbnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgdGhhdFxuICAgKiBhdXRob3JlZCB0aGlzIG1lc3NhZ2UuXG4gICAqL1xuICBhc3Npc3RhbnRfaWQ6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBmaWxlcyBhdHRhY2hlZCB0byB0aGUgbWVzc2FnZSwgYW5kIHRoZSB0b29scyB0aGV5IHdlcmUgYWRkZWQgdG8uXG4gICAqL1xuICBhdHRhY2htZW50czogQXJyYXk8TWVzc2FnZS5BdHRhY2htZW50PiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIG1lc3NhZ2Ugd2FzIGNvbXBsZXRlZC5cbiAgICovXG4gIGNvbXBsZXRlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UgaW4gYXJyYXkgb2YgdGV4dCBhbmQvb3IgaW1hZ2VzLlxuICAgKi9cbiAgY29udGVudDogQXJyYXk8TWVzc2FnZUNvbnRlbnQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBtZXNzYWdlIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBtZXNzYWdlIHdhcyBtYXJrZWQgYXMgaW5jb21wbGV0ZS5cbiAgICovXG4gIGluY29tcGxldGVfYXQ6IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE9uIGFuIGluY29tcGxldGUgbWVzc2FnZSwgZGV0YWlscyBhYm91dCB3aHkgdGhlIG1lc3NhZ2UgaXMgaW5jb21wbGV0ZS5cbiAgICovXG4gIGluY29tcGxldGVfZGV0YWlsczogTWVzc2FnZS5JbmNvbXBsZXRlRGV0YWlscyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YTogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYHRocmVhZC5tZXNzYWdlYC5cbiAgICovXG4gIG9iamVjdDogJ3RocmVhZC5tZXNzYWdlJztcblxuICAvKipcbiAgICogVGhlIGVudGl0eSB0aGF0IHByb2R1Y2VkIHRoZSBtZXNzYWdlLiBPbmUgb2YgYHVzZXJgIG9yIGBhc3Npc3RhbnRgLlxuICAgKi9cbiAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgW3J1bl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9ydW5zKVxuICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIGNyZWF0aW9uIG9mIHRoaXMgbWVzc2FnZS4gVmFsdWUgaXMgYG51bGxgIHdoZW4gbWVzc2FnZXMgYXJlXG4gICAqIGNyZWF0ZWQgbWFudWFsbHkgdXNpbmcgdGhlIGNyZWF0ZSBtZXNzYWdlIG9yIGNyZWF0ZSB0aHJlYWQgZW5kcG9pbnRzLlxuICAgKi9cbiAgcnVuX2lkOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBtZXNzYWdlLCB3aGljaCBjYW4gYmUgZWl0aGVyIGBpbl9wcm9ncmVzc2AsIGBpbmNvbXBsZXRlYCwgb3JcbiAgICogYGNvbXBsZXRlZGAuXG4gICAqL1xuICBzdGF0dXM6ICdpbl9wcm9ncmVzcycgfCAnaW5jb21wbGV0ZScgfCAnY29tcGxldGVkJztcblxuICAvKipcbiAgICogVGhlIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykgSUQgdGhhdFxuICAgKiB0aGlzIG1lc3NhZ2UgYmVsb25ncyB0by5cbiAgICovXG4gIHRocmVhZF9pZDogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIE1lc3NhZ2Uge1xuICBleHBvcnQgaW50ZXJmYWNlIEF0dGFjaG1lbnQge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgZmlsZV9pZD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0b29scyB0byBhZGQgdGhpcyBmaWxlIHRvLlxuICAgICAqL1xuICAgIHRvb2xzPzogQXJyYXk8QXNzaXN0YW50c0FQSS5Db2RlSW50ZXJwcmV0ZXJUb29sIHwgQXR0YWNobWVudC5Bc3Npc3RhbnRUb29sc0ZpbGVTZWFyY2hUeXBlT25seT47XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIEF0dGFjaG1lbnQge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbHNGaWxlU2VhcmNoVHlwZU9ubHkge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBmaWxlX3NlYXJjaGBcbiAgICAgICAqL1xuICAgICAgdHlwZTogJ2ZpbGVfc2VhcmNoJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT24gYW4gaW5jb21wbGV0ZSBtZXNzYWdlLCBkZXRhaWxzIGFib3V0IHdoeSB0aGUgbWVzc2FnZSBpcyBpbmNvbXBsZXRlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBJbmNvbXBsZXRlRGV0YWlscyB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlYXNvbiB0aGUgbWVzc2FnZSBpcyBpbmNvbXBsZXRlLlxuICAgICAqL1xuICAgIHJlYXNvbjogJ2NvbnRlbnRfZmlsdGVyJyB8ICdtYXhfdG9rZW5zJyB8ICdydW5fY2FuY2VsbGVkJyB8ICdydW5fZXhwaXJlZCcgfCAncnVuX2ZhaWxlZCc7XG4gIH1cbn1cblxuLyoqXG4gKiBSZWZlcmVuY2VzIGFuIGltYWdlIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKVxuICogaW4gdGhlIGNvbnRlbnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBNZXNzYWdlQ29udGVudCA9XG4gIHwgSW1hZ2VGaWxlQ29udGVudEJsb2NrXG4gIHwgSW1hZ2VVUkxDb250ZW50QmxvY2tcbiAgfCBUZXh0Q29udGVudEJsb2NrXG4gIHwgUmVmdXNhbENvbnRlbnRCbG9jaztcblxuLyoqXG4gKiBSZWZlcmVuY2VzIGFuIGltYWdlIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKVxuICogaW4gdGhlIGNvbnRlbnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBNZXNzYWdlQ29udGVudERlbHRhID1cbiAgfCBJbWFnZUZpbGVEZWx0YUJsb2NrXG4gIHwgVGV4dERlbHRhQmxvY2tcbiAgfCBSZWZ1c2FsRGVsdGFCbG9ja1xuICB8IEltYWdlVVJMRGVsdGFCbG9jaztcblxuLyoqXG4gKiBSZWZlcmVuY2VzIGFuIGltYWdlIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKVxuICogaW4gdGhlIGNvbnRlbnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBNZXNzYWdlQ29udGVudFBhcnRQYXJhbSA9IEltYWdlRmlsZUNvbnRlbnRCbG9jayB8IEltYWdlVVJMQ29udGVudEJsb2NrIHwgVGV4dENvbnRlbnRCbG9ja1BhcmFtO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VEZWxldGVkIHtcbiAgaWQ6IHN0cmluZztcblxuICBkZWxldGVkOiBib29sZWFuO1xuXG4gIG9iamVjdDogJ3RocmVhZC5tZXNzYWdlLmRlbGV0ZWQnO1xufVxuXG4vKipcbiAqIFRoZSBkZWx0YSBjb250YWluaW5nIHRoZSBmaWVsZHMgdGhhdCBoYXZlIGNoYW5nZWQgb24gdGhlIE1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZURlbHRhIHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBtZXNzYWdlIGluIGFycmF5IG9mIHRleHQgYW5kL29yIGltYWdlcy5cbiAgICovXG4gIGNvbnRlbnQ/OiBBcnJheTxNZXNzYWdlQ29udGVudERlbHRhPjtcblxuICAvKipcbiAgICogVGhlIGVudGl0eSB0aGF0IHByb2R1Y2VkIHRoZSBtZXNzYWdlLiBPbmUgb2YgYHVzZXJgIG9yIGBhc3Npc3RhbnRgLlxuICAgKi9cbiAgcm9sZT86ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBtZXNzYWdlIGRlbHRhIGkuZS4gYW55IGNoYW5nZWQgZmllbGRzIG9uIGEgbWVzc2FnZSBkdXJpbmdcbiAqIHN0cmVhbWluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlRGVsdGFFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciBvZiB0aGUgbWVzc2FnZSwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWx0YSBjb250YWluaW5nIHRoZSBmaWVsZHMgdGhhdCBoYXZlIGNoYW5nZWQgb24gdGhlIE1lc3NhZ2UuXG4gICAqL1xuICBkZWx0YTogTWVzc2FnZURlbHRhO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgdGhyZWFkLm1lc3NhZ2UuZGVsdGFgLlxuICAgKi9cbiAgb2JqZWN0OiAndGhyZWFkLm1lc3NhZ2UuZGVsdGEnO1xufVxuXG4vKipcbiAqIFRoZSByZWZ1c2FsIGNvbnRlbnQgZ2VuZXJhdGVkIGJ5IHRoZSBhc3Npc3RhbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVmdXNhbENvbnRlbnRCbG9jayB7XG4gIHJlZnVzYWw6IHN0cmluZztcblxuICAvKipcbiAgICogQWx3YXlzIGByZWZ1c2FsYC5cbiAgICovXG4gIHR5cGU6ICdyZWZ1c2FsJztcbn1cblxuLyoqXG4gKiBUaGUgcmVmdXNhbCBjb250ZW50IHRoYXQgaXMgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVmdXNhbERlbHRhQmxvY2sge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSByZWZ1c2FsIHBhcnQgaW4gdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYHJlZnVzYWxgLlxuICAgKi9cbiAgdHlwZTogJ3JlZnVzYWwnO1xuXG4gIHJlZnVzYWw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dCB7XG4gIGFubm90YXRpb25zOiBBcnJheTxBbm5vdGF0aW9uPjtcblxuICAvKipcbiAgICogVGhlIGRhdGEgdGhhdCBtYWtlcyB1cCB0aGUgdGV4dC5cbiAgICovXG4gIHZhbHVlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIHRleHQgY29udGVudCB0aGF0IGlzIHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRleHRDb250ZW50QmxvY2sge1xuICB0ZXh0OiBUZXh0O1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYHRleHRgLlxuICAgKi9cbiAgdHlwZTogJ3RleHQnO1xufVxuXG4vKipcbiAqIFRoZSB0ZXh0IGNvbnRlbnQgdGhhdCBpcyBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZXh0Q29udGVudEJsb2NrUGFyYW0ge1xuICAvKipcbiAgICogVGV4dCBjb250ZW50IHRvIGJlIHNlbnQgdG8gdGhlIG1vZGVsXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgdGV4dGAuXG4gICAqL1xuICB0eXBlOiAndGV4dCc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dERlbHRhIHtcbiAgYW5ub3RhdGlvbnM/OiBBcnJheTxBbm5vdGF0aW9uRGVsdGE+O1xuXG4gIC8qKlxuICAgKiBUaGUgZGF0YSB0aGF0IG1ha2VzIHVwIHRoZSB0ZXh0LlxuICAgKi9cbiAgdmFsdWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIHRleHQgY29udGVudCB0aGF0IGlzIHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRleHREZWx0YUJsb2NrIHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IGluIHRoZSBtZXNzYWdlLlxuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogQWx3YXlzIGB0ZXh0YC5cbiAgICovXG4gIHR5cGU6ICd0ZXh0JztcblxuICB0ZXh0PzogVGV4dERlbHRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogVGhlIHRleHQgY29udGVudHMgb2YgdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxNZXNzYWdlQ29udGVudFBhcnRQYXJhbT47XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBlbnRpdHkgdGhhdCBpcyBjcmVhdGluZyB0aGUgbWVzc2FnZS4gQWxsb3dlZCB2YWx1ZXMgaW5jbHVkZTpcbiAgICpcbiAgICogLSBgdXNlcmA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBzZW50IGJ5IGFuIGFjdHVhbCB1c2VyIGFuZCBzaG91bGQgYmUgdXNlZCBpblxuICAgKiAgIG1vc3QgY2FzZXMgdG8gcmVwcmVzZW50IHVzZXItZ2VuZXJhdGVkIG1lc3NhZ2VzLlxuICAgKiAtIGBhc3Npc3RhbnRgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBhc3Npc3RhbnQuIFVzZSB0aGlzXG4gICAqICAgdmFsdWUgdG8gaW5zZXJ0IG1lc3NhZ2VzIGZyb20gdGhlIGFzc2lzdGFudCBpbnRvIHRoZSBjb252ZXJzYXRpb24uXG4gICAqL1xuICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIGZpbGVzIGF0dGFjaGVkIHRvIHRoZSBtZXNzYWdlLCBhbmQgdGhlIHRvb2xzIHRoZXkgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICAgKi9cbiAgYXR0YWNobWVudHM/OiBBcnJheTxNZXNzYWdlQ3JlYXRlUGFyYW1zLkF0dGFjaG1lbnQ+IHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlQ3JlYXRlUGFyYW1zIHtcbiAgZXhwb3J0IGludGVyZmFjZSBBdHRhY2htZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gYXR0YWNoIHRvIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdG9vbHMgdG8gYWRkIHRoaXMgZmlsZSB0by5cbiAgICAgKi9cbiAgICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQ29kZUludGVycHJldGVyVG9vbCB8IEF0dGFjaG1lbnQuRmlsZVNlYXJjaD47XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIEF0dGFjaG1lbnQge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYGZpbGVfc2VhcmNoYFxuICAgICAgICovXG4gICAgICB0eXBlOiAnZmlsZV9zZWFyY2gnO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VVcGRhdGVQYXJhbXMge1xuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlTGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge1xuICAvKipcbiAgICogQSBjdXJzb3IgZm9yIHVzZSBpbiBwYWdpbmF0aW9uLiBgYmVmb3JlYCBpcyBhbiBvYmplY3QgSUQgdGhhdCBkZWZpbmVzIHlvdXIgcGxhY2VcbiAgICogaW4gdGhlIGxpc3QuIEZvciBpbnN0YW5jZSwgaWYgeW91IG1ha2UgYSBsaXN0IHJlcXVlc3QgYW5kIHJlY2VpdmUgMTAwIG9iamVjdHMsXG4gICAqIHN0YXJ0aW5nIHdpdGggb2JqX2ZvbywgeW91ciBzdWJzZXF1ZW50IGNhbGwgY2FuIGluY2x1ZGUgYmVmb3JlPW9ial9mb28gaW4gb3JkZXJcbiAgICogdG8gZmV0Y2ggdGhlIHByZXZpb3VzIHBhZ2Ugb2YgdGhlIGxpc3QuXG4gICAqL1xuICBiZWZvcmU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNvcnQgb3JkZXIgYnkgdGhlIGBjcmVhdGVkX2F0YCB0aW1lc3RhbXAgb2YgdGhlIG9iamVjdHMuIGBhc2NgIGZvciBhc2NlbmRpbmdcbiAgICogb3JkZXIgYW5kIGBkZXNjYCBmb3IgZGVzY2VuZGluZyBvcmRlci5cbiAgICovXG4gIG9yZGVyPzogJ2FzYycgfCAnZGVzYyc7XG5cbiAgLyoqXG4gICAqIEZpbHRlciBtZXNzYWdlcyBieSB0aGUgcnVuIElEIHRoYXQgZ2VuZXJhdGVkIHRoZW0uXG4gICAqL1xuICBydW5faWQ/OiBzdHJpbmc7XG59XG5cbk1lc3NhZ2VzLk1lc3NhZ2VzUGFnZSA9IE1lc3NhZ2VzUGFnZTtcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIE1lc3NhZ2VzIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIEFubm90YXRpb24gYXMgQW5ub3RhdGlvbixcbiAgICB0eXBlIEFubm90YXRpb25EZWx0YSBhcyBBbm5vdGF0aW9uRGVsdGEsXG4gICAgdHlwZSBGaWxlQ2l0YXRpb25Bbm5vdGF0aW9uIGFzIEZpbGVDaXRhdGlvbkFubm90YXRpb24sXG4gICAgdHlwZSBGaWxlQ2l0YXRpb25EZWx0YUFubm90YXRpb24gYXMgRmlsZUNpdGF0aW9uRGVsdGFBbm5vdGF0aW9uLFxuICAgIHR5cGUgRmlsZVBhdGhBbm5vdGF0aW9uIGFzIEZpbGVQYXRoQW5ub3RhdGlvbixcbiAgICB0eXBlIEZpbGVQYXRoRGVsdGFBbm5vdGF0aW9uIGFzIEZpbGVQYXRoRGVsdGFBbm5vdGF0aW9uLFxuICAgIHR5cGUgSW1hZ2VGaWxlIGFzIEltYWdlRmlsZSxcbiAgICB0eXBlIEltYWdlRmlsZUNvbnRlbnRCbG9jayBhcyBJbWFnZUZpbGVDb250ZW50QmxvY2ssXG4gICAgdHlwZSBJbWFnZUZpbGVEZWx0YSBhcyBJbWFnZUZpbGVEZWx0YSxcbiAgICB0eXBlIEltYWdlRmlsZURlbHRhQmxvY2sgYXMgSW1hZ2VGaWxlRGVsdGFCbG9jayxcbiAgICB0eXBlIEltYWdlVVJMIGFzIEltYWdlVVJMLFxuICAgIHR5cGUgSW1hZ2VVUkxDb250ZW50QmxvY2sgYXMgSW1hZ2VVUkxDb250ZW50QmxvY2ssXG4gICAgdHlwZSBJbWFnZVVSTERlbHRhIGFzIEltYWdlVVJMRGVsdGEsXG4gICAgdHlwZSBJbWFnZVVSTERlbHRhQmxvY2sgYXMgSW1hZ2VVUkxEZWx0YUJsb2NrLFxuICAgIHR5cGUgTWVzc2FnZSBhcyBNZXNzYWdlLFxuICAgIHR5cGUgTWVzc2FnZUNvbnRlbnQgYXMgTWVzc2FnZUNvbnRlbnQsXG4gICAgdHlwZSBNZXNzYWdlQ29udGVudERlbHRhIGFzIE1lc3NhZ2VDb250ZW50RGVsdGEsXG4gICAgdHlwZSBNZXNzYWdlQ29udGVudFBhcnRQYXJhbSBhcyBNZXNzYWdlQ29udGVudFBhcnRQYXJhbSxcbiAgICB0eXBlIE1lc3NhZ2VEZWxldGVkIGFzIE1lc3NhZ2VEZWxldGVkLFxuICAgIHR5cGUgTWVzc2FnZURlbHRhIGFzIE1lc3NhZ2VEZWx0YSxcbiAgICB0eXBlIE1lc3NhZ2VEZWx0YUV2ZW50IGFzIE1lc3NhZ2VEZWx0YUV2ZW50LFxuICAgIHR5cGUgUmVmdXNhbENvbnRlbnRCbG9jayBhcyBSZWZ1c2FsQ29udGVudEJsb2NrLFxuICAgIHR5cGUgUmVmdXNhbERlbHRhQmxvY2sgYXMgUmVmdXNhbERlbHRhQmxvY2ssXG4gICAgdHlwZSBUZXh0IGFzIFRleHQsXG4gICAgdHlwZSBUZXh0Q29udGVudEJsb2NrIGFzIFRleHRDb250ZW50QmxvY2ssXG4gICAgdHlwZSBUZXh0Q29udGVudEJsb2NrUGFyYW0gYXMgVGV4dENvbnRlbnRCbG9ja1BhcmFtLFxuICAgIHR5cGUgVGV4dERlbHRhIGFzIFRleHREZWx0YSxcbiAgICB0eXBlIFRleHREZWx0YUJsb2NrIGFzIFRleHREZWx0YUJsb2NrLFxuICAgIE1lc3NhZ2VzUGFnZSBhcyBNZXNzYWdlc1BhZ2UsXG4gICAgdHlwZSBNZXNzYWdlQ3JlYXRlUGFyYW1zIGFzIE1lc3NhZ2VDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBNZXNzYWdlVXBkYXRlUGFyYW1zIGFzIE1lc3NhZ2VVcGRhdGVQYXJhbXMsXG4gICAgdHlwZSBNZXNzYWdlTGlzdFBhcmFtcyBhcyBNZXNzYWdlTGlzdFBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uLy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBTdGVwc0FQSSBmcm9tICcuL3N0ZXBzJztcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tICcuLi8uLi8uLi9zaGFyZWQnO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vLi4vcGFnaW5hdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBTdGVwcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIHJ1biBzdGVwLlxuICAgKi9cbiAgcmV0cmlldmUoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIHN0ZXBJZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogU3RlcFJldHJpZXZlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8UnVuU3RlcD47XG4gIHJldHJpZXZlKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBzdGVwSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFJ1blN0ZXA+O1xuICByZXRyaWV2ZShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgc3RlcElkOiBzdHJpbmcsXG4gICAgcXVlcnk6IFN0ZXBSZXRyaWV2ZVBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFJ1blN0ZXA+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldHJpZXZlKHRocmVhZElkLCBydW5JZCwgc3RlcElkLCB7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfS9zdGVwcy8ke3N0ZXBJZH1gLCB7XG4gICAgICBxdWVyeSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHJ1biBzdGVwcyBiZWxvbmdpbmcgdG8gYSBydW4uXG4gICAqL1xuICBsaXN0KFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBxdWVyeT86IFN0ZXBMaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFJ1blN0ZXBzUGFnZSwgUnVuU3RlcD47XG4gIGxpc3QoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFJ1blN0ZXBzUGFnZSwgUnVuU3RlcD47XG4gIGxpc3QoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIHF1ZXJ5OiBTdGVwTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxSdW5TdGVwc1BhZ2UsIFJ1blN0ZXA+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3QodGhyZWFkSWQsIHJ1bklkLCB7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH0vc3RlcHNgLCBSdW5TdGVwc1BhZ2UsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJ1blN0ZXBzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8UnVuU3RlcD4ge31cblxuLyoqXG4gKiBUZXh0IG91dHB1dCBmcm9tIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbCBhcyBwYXJ0IG9mIGEgcnVuIHN0ZXAuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyTG9ncyB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpbiB0aGUgb3V0cHV0cyBhcnJheS5cbiAgICovXG4gIGluZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgbG9nc2AuXG4gICAqL1xuICB0eXBlOiAnbG9ncyc7XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0IG91dHB1dCBmcm9tIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbC5cbiAgICovXG4gIGxvZ3M/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyT3V0cHV0SW1hZ2Uge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaW4gdGhlIG91dHB1dHMgYXJyYXkuXG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYGltYWdlYC5cbiAgICovXG4gIHR5cGU6ICdpbWFnZSc7XG5cbiAgaW1hZ2U/OiBDb2RlSW50ZXJwcmV0ZXJPdXRwdXRJbWFnZS5JbWFnZTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDb2RlSW50ZXJwcmV0ZXJPdXRwdXRJbWFnZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgSW1hZ2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSUQgb2YgdGhlXG4gICAgICogaW1hZ2UuXG4gICAgICovXG4gICAgZmlsZV9pZD86IHN0cmluZztcbiAgfVxufVxuXG4vKipcbiAqIERldGFpbHMgb2YgdGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsIHRoZSBydW4gc3RlcCB3YXMgaW52b2x2ZWQgaW4uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwgZGVmaW5pdGlvbi5cbiAgICovXG4gIGNvZGVfaW50ZXJwcmV0ZXI6IENvZGVJbnRlcnByZXRlclRvb2xDYWxsLkNvZGVJbnRlcnByZXRlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdG9vbCBjYWxsLiBUaGlzIGlzIGFsd2F5cyBnb2luZyB0byBiZSBgY29kZV9pbnRlcnByZXRlcmAgZm9yIHRoaXNcbiAgICogdHlwZSBvZiB0b29sIGNhbGwuXG4gICAqL1xuICB0eXBlOiAnY29kZV9pbnRlcnByZXRlcic7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29kZUludGVycHJldGVyVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsIGRlZmluaXRpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlciB7XG4gICAgLyoqXG4gICAgICogVGhlIGlucHV0IHRvIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBpbnB1dDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dHMgZnJvbSB0aGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwuIENvZGUgSW50ZXJwcmV0ZXIgY2FuIG91dHB1dCBvbmVcbiAgICAgKiBvciBtb3JlIGl0ZW1zLCBpbmNsdWRpbmcgdGV4dCAoYGxvZ3NgKSBvciBpbWFnZXMgKGBpbWFnZWApLiBFYWNoIG9mIHRoZXNlIGFyZVxuICAgICAqIHJlcHJlc2VudGVkIGJ5IGEgZGlmZmVyZW50IG9iamVjdCB0eXBlLlxuICAgICAqL1xuICAgIG91dHB1dHM6IEFycmF5PENvZGVJbnRlcnByZXRlci5Mb2dzIHwgQ29kZUludGVycHJldGVyLkltYWdlPjtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAvKipcbiAgICAgKiBUZXh0IG91dHB1dCBmcm9tIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbCBhcyBwYXJ0IG9mIGEgcnVuIHN0ZXAuXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBMb2dzIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIHRleHQgb3V0cHV0IGZyb20gdGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsLlxuICAgICAgICovXG4gICAgICBsb2dzOiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogQWx3YXlzIGBsb2dzYC5cbiAgICAgICAqL1xuICAgICAgdHlwZTogJ2xvZ3MnO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSW1hZ2Uge1xuICAgICAgaW1hZ2U6IEltYWdlLkltYWdlO1xuXG4gICAgICAvKipcbiAgICAgICAqIEFsd2F5cyBgaW1hZ2VgLlxuICAgICAgICovXG4gICAgICB0eXBlOiAnaW1hZ2UnO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgSW1hZ2Uge1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBJbWFnZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEIG9mIHRoZVxuICAgICAgICAgKiBpbWFnZS5cbiAgICAgICAgICovXG4gICAgICAgIGZpbGVfaWQ6IHN0cmluZztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEZXRhaWxzIG9mIHRoZSBDb2RlIEludGVycHJldGVyIHRvb2wgY2FsbCB0aGUgcnVuIHN0ZXAgd2FzIGludm9sdmVkIGluLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlclRvb2xDYWxsRGVsdGEge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSB0b29sIGNhbGwgaW4gdGhlIHRvb2wgY2FsbHMgYXJyYXkuXG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGNhbGwuIFRoaXMgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIGBjb2RlX2ludGVycHJldGVyYCBmb3IgdGhpc1xuICAgKiB0eXBlIG9mIHRvb2wgY2FsbC5cbiAgICovXG4gIHR5cGU6ICdjb2RlX2ludGVycHJldGVyJztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsIGRlZmluaXRpb24uXG4gICAqL1xuICBjb2RlX2ludGVycHJldGVyPzogQ29kZUludGVycHJldGVyVG9vbENhbGxEZWx0YS5Db2RlSW50ZXJwcmV0ZXI7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29kZUludGVycHJldGVyVG9vbENhbGxEZWx0YSB7XG4gIC8qKlxuICAgKiBUaGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwgZGVmaW5pdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAvKipcbiAgICAgKiBUaGUgaW5wdXQgdG8gdGhlIENvZGUgSW50ZXJwcmV0ZXIgdG9vbCBjYWxsLlxuICAgICAqL1xuICAgIGlucHV0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dHMgZnJvbSB0aGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwuIENvZGUgSW50ZXJwcmV0ZXIgY2FuIG91dHB1dCBvbmVcbiAgICAgKiBvciBtb3JlIGl0ZW1zLCBpbmNsdWRpbmcgdGV4dCAoYGxvZ3NgKSBvciBpbWFnZXMgKGBpbWFnZWApLiBFYWNoIG9mIHRoZXNlIGFyZVxuICAgICAqIHJlcHJlc2VudGVkIGJ5IGEgZGlmZmVyZW50IG9iamVjdCB0eXBlLlxuICAgICAqL1xuICAgIG91dHB1dHM/OiBBcnJheTxTdGVwc0FQSS5Db2RlSW50ZXJwcmV0ZXJMb2dzIHwgU3RlcHNBUEkuQ29kZUludGVycHJldGVyT3V0cHV0SW1hZ2U+O1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaFRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsIG9iamVjdC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEZvciBub3csIHRoaXMgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIGFuIGVtcHR5IG9iamVjdC5cbiAgICovXG4gIGZpbGVfc2VhcmNoOiBGaWxlU2VhcmNoVG9vbENhbGwuRmlsZVNlYXJjaDtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdG9vbCBjYWxsLiBUaGlzIGlzIGFsd2F5cyBnb2luZyB0byBiZSBgZmlsZV9zZWFyY2hgIGZvciB0aGlzIHR5cGUgb2ZcbiAgICogdG9vbCBjYWxsLlxuICAgKi9cbiAgdHlwZTogJ2ZpbGVfc2VhcmNoJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaWxlU2VhcmNoVG9vbENhbGwge1xuICAvKipcbiAgICogRm9yIG5vdywgdGhpcyBpcyBhbHdheXMgZ29pbmcgdG8gYmUgYW4gZW1wdHkgb2JqZWN0LlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcmFua2luZyBvcHRpb25zIGZvciB0aGUgZmlsZSBzZWFyY2guXG4gICAgICovXG4gICAgcmFua2luZ19vcHRpb25zPzogRmlsZVNlYXJjaC5SYW5raW5nT3B0aW9ucztcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXN1bHRzIG9mIHRoZSBmaWxlIHNlYXJjaC5cbiAgICAgKi9cbiAgICByZXN1bHRzPzogQXJyYXk8RmlsZVNlYXJjaC5SZXN1bHQ+O1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBGaWxlU2VhcmNoIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcmFua2luZyBvcHRpb25zIGZvciB0aGUgZmlsZSBzZWFyY2guXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBSYW5raW5nT3B0aW9ucyB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSByYW5rZXIgdXNlZCBmb3IgdGhlIGZpbGUgc2VhcmNoLlxuICAgICAgICovXG4gICAgICByYW5rZXI6ICdkZWZhdWx0XzIwMjRfMDhfMjEnO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBzY29yZSB0aHJlc2hvbGQgZm9yIHRoZSBmaWxlIHNlYXJjaC4gQWxsIHZhbHVlcyBtdXN0IGJlIGEgZmxvYXRpbmcgcG9pbnRcbiAgICAgICAqIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG4gICAgICAgKi9cbiAgICAgIHNjb3JlX3RocmVzaG9sZDogbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcmVzdWx0IGluc3RhbmNlIG9mIHRoZSBmaWxlIHNlYXJjaC5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIFJlc3VsdCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0aGF0IHJlc3VsdCB3YXMgZm91bmQgaW4uXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWQ6IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZmlsZSB0aGF0IHJlc3VsdCB3YXMgZm91bmQgaW4uXG4gICAgICAgKi9cbiAgICAgIGZpbGVfbmFtZTogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBzY29yZSBvZiB0aGUgcmVzdWx0LiBBbGwgdmFsdWVzIG11c3QgYmUgYSBmbG9hdGluZyBwb2ludCBudW1iZXIgYmV0d2VlbiAwXG4gICAgICAgKiBhbmQgMS5cbiAgICAgICAqL1xuICAgICAgc2NvcmU6IG51bWJlcjtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgcmVzdWx0IHRoYXQgd2FzIGZvdW5kLiBUaGUgY29udGVudCBpcyBvbmx5IGluY2x1ZGVkIGlmXG4gICAgICAgKiByZXF1ZXN0ZWQgdmlhIHRoZSBpbmNsdWRlIHF1ZXJ5IHBhcmFtZXRlci5cbiAgICAgICAqL1xuICAgICAgY29udGVudD86IEFycmF5PFJlc3VsdC5Db250ZW50PjtcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIFJlc3VsdCB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIENvbnRlbnQge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgY29udGVudCBvZiB0aGUgZmlsZS5cbiAgICAgICAgICovXG4gICAgICAgIHRleHQ/OiBzdHJpbmc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBjb250ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdHlwZT86ICd0ZXh0JztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoVG9vbENhbGxEZWx0YSB7XG4gIC8qKlxuICAgKiBGb3Igbm93LCB0aGlzIGlzIGFsd2F5cyBnb2luZyB0byBiZSBhbiBlbXB0eSBvYmplY3QuXG4gICAqL1xuICBmaWxlX3NlYXJjaDogdW5rbm93bjtcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSB0b29sIGNhbGwgaW4gdGhlIHRvb2wgY2FsbHMgYXJyYXkuXG4gICAqL1xuICBpbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGNhbGwuIFRoaXMgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIGBmaWxlX3NlYXJjaGAgZm9yIHRoaXMgdHlwZSBvZlxuICAgKiB0b29sIGNhbGwuXG4gICAqL1xuICB0eXBlOiAnZmlsZV9zZWFyY2gnO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbCBvYmplY3QuXG4gICAqL1xuICBpZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvblRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsIG9iamVjdC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZpbml0aW9uIG9mIHRoZSBmdW5jdGlvbiB0aGF0IHdhcyBjYWxsZWQuXG4gICAqL1xuICBmdW5jdGlvbjogRnVuY3Rpb25Ub29sQ2FsbC5GdW5jdGlvbjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdG9vbCBjYWxsLiBUaGlzIGlzIGFsd2F5cyBnb2luZyB0byBiZSBgZnVuY3Rpb25gIGZvciB0aGlzIHR5cGUgb2ZcbiAgICogdG9vbCBjYWxsLlxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGdW5jdGlvblRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSBkZWZpbml0aW9uIG9mIHRoZSBmdW5jdGlvbiB0aGF0IHdhcyBjYWxsZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dCBvZiB0aGUgZnVuY3Rpb24uIFRoaXMgd2lsbCBiZSBgbnVsbGAgaWYgdGhlIG91dHB1dHMgaGF2ZSBub3QgYmVlblxuICAgICAqIFtzdWJtaXR0ZWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucy9zdWJtaXRUb29sT3V0cHV0cylcbiAgICAgKiB5ZXQuXG4gICAgICovXG4gICAgb3V0cHV0OiBzdHJpbmcgfCBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25Ub29sQ2FsbERlbHRhIHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgdG9vbCBjYWxsIGluIHRoZSB0b29sIGNhbGxzIGFycmF5LlxuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdG9vbCBjYWxsLiBUaGlzIGlzIGFsd2F5cyBnb2luZyB0byBiZSBgZnVuY3Rpb25gIGZvciB0aGlzIHR5cGUgb2ZcbiAgICogdG9vbCBjYWxsLlxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uJztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwgb2JqZWN0LlxuICAgKi9cbiAgaWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZpbml0aW9uIG9mIHRoZSBmdW5jdGlvbiB0aGF0IHdhcyBjYWxsZWQuXG4gICAqL1xuICBmdW5jdGlvbj86IEZ1bmN0aW9uVG9vbENhbGxEZWx0YS5GdW5jdGlvbjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGdW5jdGlvblRvb2xDYWxsRGVsdGEge1xuICAvKipcbiAgICogVGhlIGRlZmluaXRpb24gb2YgdGhlIGZ1bmN0aW9uIHRoYXQgd2FzIGNhbGxlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBhcmd1bWVudHM/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgbmFtZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBvdXRwdXQgb2YgdGhlIGZ1bmN0aW9uLiBUaGlzIHdpbGwgYmUgYG51bGxgIGlmIHRoZSBvdXRwdXRzIGhhdmUgbm90IGJlZW5cbiAgICAgKiBbc3VibWl0dGVkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvc3VibWl0VG9vbE91dHB1dHMpXG4gICAgICogeWV0LlxuICAgICAqL1xuICAgIG91dHB1dD86IHN0cmluZyB8IG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBEZXRhaWxzIG9mIHRoZSBtZXNzYWdlIGNyZWF0aW9uIGJ5IHRoZSBydW4gc3RlcC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlQ3JlYXRpb25TdGVwRGV0YWlscyB7XG4gIG1lc3NhZ2VfY3JlYXRpb246IE1lc3NhZ2VDcmVhdGlvblN0ZXBEZXRhaWxzLk1lc3NhZ2VDcmVhdGlvbjtcblxuICAvKipcbiAgICogQWx3YXlzIGBtZXNzYWdlX2NyZWF0aW9uYC5cbiAgICovXG4gIHR5cGU6ICdtZXNzYWdlX2NyZWF0aW9uJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlQ3JlYXRpb25TdGVwRGV0YWlscyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZUNyZWF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIG1lc3NhZ2UgdGhhdCB3YXMgY3JlYXRlZCBieSB0aGlzIHJ1biBzdGVwLlxuICAgICAqL1xuICAgIG1lc3NhZ2VfaWQ6IHN0cmluZztcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBzdGVwIGluIGV4ZWN1dGlvbiBvZiBhIHJ1bi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSdW5TdGVwIHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBydW4gc3RlcCwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKVxuICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIHJ1biBzdGVwLlxuICAgKi9cbiAgYXNzaXN0YW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHJ1biBzdGVwIHdhcyBjYW5jZWxsZWQuXG4gICAqL1xuICBjYW5jZWxsZWRfYXQ6IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHJ1biBzdGVwIGNvbXBsZXRlZC5cbiAgICovXG4gIGNvbXBsZXRlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHN0ZXAgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHJ1biBzdGVwIGV4cGlyZWQuIEEgc3RlcCBpc1xuICAgKiBjb25zaWRlcmVkIGV4cGlyZWQgaWYgdGhlIHBhcmVudCBydW4gaXMgZXhwaXJlZC5cbiAgICovXG4gIGV4cGlyZWRfYXQ6IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHJ1biBzdGVwIGZhaWxlZC5cbiAgICovXG4gIGZhaWxlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIGxhc3QgZXJyb3IgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcnVuIHN0ZXAuIFdpbGwgYmUgYG51bGxgIGlmIHRoZXJlIGFyZSBub1xuICAgKiBlcnJvcnMuXG4gICAqL1xuICBsYXN0X2Vycm9yOiBSdW5TdGVwLkxhc3RFcnJvciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YTogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYHRocmVhZC5ydW4uc3RlcGAuXG4gICAqL1xuICBvYmplY3Q6ICd0aHJlYWQucnVuLnN0ZXAnO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFtydW5dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcnVucykgdGhhdFxuICAgKiB0aGlzIHJ1biBzdGVwIGlzIGEgcGFydCBvZi5cbiAgICovXG4gIHJ1bl9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBydW4gc3RlcCwgd2hpY2ggY2FuIGJlIGVpdGhlciBgaW5fcHJvZ3Jlc3NgLCBgY2FuY2VsbGVkYCxcbiAgICogYGZhaWxlZGAsIGBjb21wbGV0ZWRgLCBvciBgZXhwaXJlZGAuXG4gICAqL1xuICBzdGF0dXM6ICdpbl9wcm9ncmVzcycgfCAnY2FuY2VsbGVkJyB8ICdmYWlsZWQnIHwgJ2NvbXBsZXRlZCcgfCAnZXhwaXJlZCc7XG5cbiAgLyoqXG4gICAqIFRoZSBkZXRhaWxzIG9mIHRoZSBydW4gc3RlcC5cbiAgICovXG4gIHN0ZXBfZGV0YWlsczogTWVzc2FnZUNyZWF0aW9uU3RlcERldGFpbHMgfCBUb29sQ2FsbHNTdGVwRGV0YWlscztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBbdGhyZWFkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3RocmVhZHMpXG4gICAqIHRoYXQgd2FzIHJ1bi5cbiAgICovXG4gIHRocmVhZF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBydW4gc3RlcCwgd2hpY2ggY2FuIGJlIGVpdGhlciBgbWVzc2FnZV9jcmVhdGlvbmAgb3IgYHRvb2xfY2FsbHNgLlxuICAgKi9cbiAgdHlwZTogJ21lc3NhZ2VfY3JlYXRpb24nIHwgJ3Rvb2xfY2FsbHMnO1xuXG4gIC8qKlxuICAgKiBVc2FnZSBzdGF0aXN0aWNzIHJlbGF0ZWQgdG8gdGhlIHJ1biBzdGVwLiBUaGlzIHZhbHVlIHdpbGwgYmUgYG51bGxgIHdoaWxlIHRoZVxuICAgKiBydW4gc3RlcCdzIHN0YXR1cyBpcyBgaW5fcHJvZ3Jlc3NgLlxuICAgKi9cbiAgdXNhZ2U6IFJ1blN0ZXAuVXNhZ2UgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJ1blN0ZXAge1xuICAvKipcbiAgICogVGhlIGxhc3QgZXJyb3IgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcnVuIHN0ZXAuIFdpbGwgYmUgYG51bGxgIGlmIHRoZXJlIGFyZSBub1xuICAgKiBlcnJvcnMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIExhc3RFcnJvciB7XG4gICAgLyoqXG4gICAgICogT25lIG9mIGBzZXJ2ZXJfZXJyb3JgIG9yIGByYXRlX2xpbWl0X2V4Y2VlZGVkYC5cbiAgICAgKi9cbiAgICBjb2RlOiAnc2VydmVyX2Vycm9yJyB8ICdyYXRlX2xpbWl0X2V4Y2VlZGVkJztcblxuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2FnZSBzdGF0aXN0aWNzIHJlbGF0ZWQgdG8gdGhlIHJ1biBzdGVwLiBUaGlzIHZhbHVlIHdpbGwgYmUgYG51bGxgIHdoaWxlIHRoZVxuICAgKiBydW4gc3RlcCdzIHN0YXR1cyBpcyBgaW5fcHJvZ3Jlc3NgLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBVc2FnZSB7XG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zIHVzZWQgb3ZlciB0aGUgY291cnNlIG9mIHRoZSBydW4gc3RlcC5cbiAgICAgKi9cbiAgICBjb21wbGV0aW9uX3Rva2VuczogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHByb21wdCB0b2tlbnMgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIHJ1biBzdGVwLlxuICAgICAqL1xuICAgIHByb21wdF90b2tlbnM6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRvdGFsIG51bWJlciBvZiB0b2tlbnMgdXNlZCAocHJvbXB0ICsgY29tcGxldGlvbikuXG4gICAgICovXG4gICAgdG90YWxfdG9rZW5zOiBudW1iZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgZGVsdGEgY29udGFpbmluZyB0aGUgZmllbGRzIHRoYXQgaGF2ZSBjaGFuZ2VkIG9uIHRoZSBydW4gc3RlcC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSdW5TdGVwRGVsdGEge1xuICAvKipcbiAgICogVGhlIGRldGFpbHMgb2YgdGhlIHJ1biBzdGVwLlxuICAgKi9cbiAgc3RlcF9kZXRhaWxzPzogUnVuU3RlcERlbHRhTWVzc2FnZURlbHRhIHwgVG9vbENhbGxEZWx0YU9iamVjdDtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgcnVuIHN0ZXAgZGVsdGEgaS5lLiBhbnkgY2hhbmdlZCBmaWVsZHMgb24gYSBydW4gc3RlcCBkdXJpbmdcbiAqIHN0cmVhbWluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSdW5TdGVwRGVsdGFFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciBvZiB0aGUgcnVuIHN0ZXAsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVsdGEgY29udGFpbmluZyB0aGUgZmllbGRzIHRoYXQgaGF2ZSBjaGFuZ2VkIG9uIHRoZSBydW4gc3RlcC5cbiAgICovXG4gIGRlbHRhOiBSdW5TdGVwRGVsdGE7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGB0aHJlYWQucnVuLnN0ZXAuZGVsdGFgLlxuICAgKi9cbiAgb2JqZWN0OiAndGhyZWFkLnJ1bi5zdGVwLmRlbHRhJztcbn1cblxuLyoqXG4gKiBEZXRhaWxzIG9mIHRoZSBtZXNzYWdlIGNyZWF0aW9uIGJ5IHRoZSBydW4gc3RlcC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSdW5TdGVwRGVsdGFNZXNzYWdlRGVsdGEge1xuICAvKipcbiAgICogQWx3YXlzIGBtZXNzYWdlX2NyZWF0aW9uYC5cbiAgICovXG4gIHR5cGU6ICdtZXNzYWdlX2NyZWF0aW9uJztcblxuICBtZXNzYWdlX2NyZWF0aW9uPzogUnVuU3RlcERlbHRhTWVzc2FnZURlbHRhLk1lc3NhZ2VDcmVhdGlvbjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSdW5TdGVwRGVsdGFNZXNzYWdlRGVsdGEge1xuICBleHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VDcmVhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBtZXNzYWdlIHRoYXQgd2FzIGNyZWF0ZWQgYnkgdGhpcyBydW4gc3RlcC5cbiAgICAgKi9cbiAgICBtZXNzYWdlX2lkPzogc3RyaW5nO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFJ1blN0ZXBJbmNsdWRlID0gJ3N0ZXBfZGV0YWlscy50b29sX2NhbGxzWypdLmZpbGVfc2VhcmNoLnJlc3VsdHNbKl0uY29udGVudCc7XG5cbi8qKlxuICogRGV0YWlscyBvZiB0aGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwgdGhlIHJ1biBzdGVwIHdhcyBpbnZvbHZlZCBpbi5cbiAqL1xuZXhwb3J0IHR5cGUgVG9vbENhbGwgPSBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbCB8IEZpbGVTZWFyY2hUb29sQ2FsbCB8IEZ1bmN0aW9uVG9vbENhbGw7XG5cbi8qKlxuICogRGV0YWlscyBvZiB0aGUgQ29kZSBJbnRlcnByZXRlciB0b29sIGNhbGwgdGhlIHJ1biBzdGVwIHdhcyBpbnZvbHZlZCBpbi5cbiAqL1xuZXhwb3J0IHR5cGUgVG9vbENhbGxEZWx0YSA9IENvZGVJbnRlcnByZXRlclRvb2xDYWxsRGVsdGEgfCBGaWxlU2VhcmNoVG9vbENhbGxEZWx0YSB8IEZ1bmN0aW9uVG9vbENhbGxEZWx0YTtcblxuLyoqXG4gKiBEZXRhaWxzIG9mIHRoZSB0b29sIGNhbGwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbENhbGxEZWx0YU9iamVjdCB7XG4gIC8qKlxuICAgKiBBbHdheXMgYHRvb2xfY2FsbHNgLlxuICAgKi9cbiAgdHlwZTogJ3Rvb2xfY2FsbHMnO1xuXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiB0b29sIGNhbGxzIHRoZSBydW4gc3RlcCB3YXMgaW52b2x2ZWQgaW4uIFRoZXNlIGNhbiBiZSBhc3NvY2lhdGVkXG4gICAqIHdpdGggb25lIG9mIHRocmVlIHR5cGVzIG9mIHRvb2xzOiBgY29kZV9pbnRlcnByZXRlcmAsIGBmaWxlX3NlYXJjaGAsIG9yXG4gICAqIGBmdW5jdGlvbmAuXG4gICAqL1xuICB0b29sX2NhbGxzPzogQXJyYXk8VG9vbENhbGxEZWx0YT47XG59XG5cbi8qKlxuICogRGV0YWlscyBvZiB0aGUgdG9vbCBjYWxsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xDYWxsc1N0ZXBEZXRhaWxzIHtcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIHRvb2wgY2FsbHMgdGhlIHJ1biBzdGVwIHdhcyBpbnZvbHZlZCBpbi4gVGhlc2UgY2FuIGJlIGFzc29jaWF0ZWRcbiAgICogd2l0aCBvbmUgb2YgdGhyZWUgdHlwZXMgb2YgdG9vbHM6IGBjb2RlX2ludGVycHJldGVyYCwgYGZpbGVfc2VhcmNoYCwgb3JcbiAgICogYGZ1bmN0aW9uYC5cbiAgICovXG4gIHRvb2xfY2FsbHM6IEFycmF5PFRvb2xDYWxsPjtcblxuICAvKipcbiAgICogQWx3YXlzIGB0b29sX2NhbGxzYC5cbiAgICovXG4gIHR5cGU6ICd0b29sX2NhbGxzJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGVwUmV0cmlldmVQYXJhbXMge1xuICAvKipcbiAgICogQSBsaXN0IG9mIGFkZGl0aW9uYWwgZmllbGRzIHRvIGluY2x1ZGUgaW4gdGhlIHJlc3BvbnNlLiBDdXJyZW50bHkgdGhlIG9ubHlcbiAgICogc3VwcG9ydGVkIHZhbHVlIGlzIGBzdGVwX2RldGFpbHMudG9vbF9jYWxsc1sqXS5maWxlX3NlYXJjaC5yZXN1bHRzWypdLmNvbnRlbnRgXG4gICAqIHRvIGZldGNoIHRoZSBmaWxlIHNlYXJjaCByZXN1bHQgY29udGVudC5cbiAgICpcbiAgICogU2VlIHRoZVxuICAgKiBbZmlsZSBzZWFyY2ggdG9vbCBkb2N1bWVudGF0aW9uXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL3Rvb2xzL2ZpbGUtc2VhcmNoI2N1c3RvbWl6aW5nLWZpbGUtc2VhcmNoLXNldHRpbmdzKVxuICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGluY2x1ZGU/OiBBcnJheTxSdW5TdGVwSW5jbHVkZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RlcExpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgY3Vyc29yIGZvciB1c2UgaW4gcGFnaW5hdGlvbi4gYGJlZm9yZWAgaXMgYW4gb2JqZWN0IElEIHRoYXQgZGVmaW5lcyB5b3VyIHBsYWNlXG4gICAqIGluIHRoZSBsaXN0LiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBtYWtlIGEgbGlzdCByZXF1ZXN0IGFuZCByZWNlaXZlIDEwMCBvYmplY3RzLFxuICAgKiBzdGFydGluZyB3aXRoIG9ial9mb28sIHlvdXIgc3Vic2VxdWVudCBjYWxsIGNhbiBpbmNsdWRlIGJlZm9yZT1vYmpfZm9vIGluIG9yZGVyXG4gICAqIHRvIGZldGNoIHRoZSBwcmV2aW91cyBwYWdlIG9mIHRoZSBsaXN0LlxuICAgKi9cbiAgYmVmb3JlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgYWRkaXRpb25hbCBmaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcmVzcG9uc2UuIEN1cnJlbnRseSB0aGUgb25seVxuICAgKiBzdXBwb3J0ZWQgdmFsdWUgaXMgYHN0ZXBfZGV0YWlscy50b29sX2NhbGxzWypdLmZpbGVfc2VhcmNoLnJlc3VsdHNbKl0uY29udGVudGBcbiAgICogdG8gZmV0Y2ggdGhlIGZpbGUgc2VhcmNoIHJlc3VsdCBjb250ZW50LlxuICAgKlxuICAgKiBTZWUgdGhlXG4gICAqIFtmaWxlIHNlYXJjaCB0b29sIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvdG9vbHMvZmlsZS1zZWFyY2gjY3VzdG9taXppbmctZmlsZS1zZWFyY2gtc2V0dGluZ3MpXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgaW5jbHVkZT86IEFycmF5PFJ1blN0ZXBJbmNsdWRlPjtcblxuICAvKipcbiAgICogU29ydCBvcmRlciBieSB0aGUgYGNyZWF0ZWRfYXRgIHRpbWVzdGFtcCBvZiB0aGUgb2JqZWN0cy4gYGFzY2AgZm9yIGFzY2VuZGluZ1xuICAgKiBvcmRlciBhbmQgYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcbn1cblxuU3RlcHMuUnVuU3RlcHNQYWdlID0gUnVuU3RlcHNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgU3RlcHMge1xuICBleHBvcnQge1xuICAgIHR5cGUgQ29kZUludGVycHJldGVyTG9ncyBhcyBDb2RlSW50ZXJwcmV0ZXJMb2dzLFxuICAgIHR5cGUgQ29kZUludGVycHJldGVyT3V0cHV0SW1hZ2UgYXMgQ29kZUludGVycHJldGVyT3V0cHV0SW1hZ2UsXG4gICAgdHlwZSBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbCBhcyBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbCxcbiAgICB0eXBlIENvZGVJbnRlcnByZXRlclRvb2xDYWxsRGVsdGEgYXMgQ29kZUludGVycHJldGVyVG9vbENhbGxEZWx0YSxcbiAgICB0eXBlIEZpbGVTZWFyY2hUb29sQ2FsbCBhcyBGaWxlU2VhcmNoVG9vbENhbGwsXG4gICAgdHlwZSBGaWxlU2VhcmNoVG9vbENhbGxEZWx0YSBhcyBGaWxlU2VhcmNoVG9vbENhbGxEZWx0YSxcbiAgICB0eXBlIEZ1bmN0aW9uVG9vbENhbGwgYXMgRnVuY3Rpb25Ub29sQ2FsbCxcbiAgICB0eXBlIEZ1bmN0aW9uVG9vbENhbGxEZWx0YSBhcyBGdW5jdGlvblRvb2xDYWxsRGVsdGEsXG4gICAgdHlwZSBNZXNzYWdlQ3JlYXRpb25TdGVwRGV0YWlscyBhcyBNZXNzYWdlQ3JlYXRpb25TdGVwRGV0YWlscyxcbiAgICB0eXBlIFJ1blN0ZXAgYXMgUnVuU3RlcCxcbiAgICB0eXBlIFJ1blN0ZXBEZWx0YSBhcyBSdW5TdGVwRGVsdGEsXG4gICAgdHlwZSBSdW5TdGVwRGVsdGFFdmVudCBhcyBSdW5TdGVwRGVsdGFFdmVudCxcbiAgICB0eXBlIFJ1blN0ZXBEZWx0YU1lc3NhZ2VEZWx0YSBhcyBSdW5TdGVwRGVsdGFNZXNzYWdlRGVsdGEsXG4gICAgdHlwZSBSdW5TdGVwSW5jbHVkZSBhcyBSdW5TdGVwSW5jbHVkZSxcbiAgICB0eXBlIFRvb2xDYWxsIGFzIFRvb2xDYWxsLFxuICAgIHR5cGUgVG9vbENhbGxEZWx0YSBhcyBUb29sQ2FsbERlbHRhLFxuICAgIHR5cGUgVG9vbENhbGxEZWx0YU9iamVjdCBhcyBUb29sQ2FsbERlbHRhT2JqZWN0LFxuICAgIHR5cGUgVG9vbENhbGxzU3RlcERldGFpbHMgYXMgVG9vbENhbGxzU3RlcERldGFpbHMsXG4gICAgUnVuU3RlcHNQYWdlIGFzIFJ1blN0ZXBzUGFnZSxcbiAgICB0eXBlIFN0ZXBSZXRyaWV2ZVBhcmFtcyBhcyBTdGVwUmV0cmlldmVQYXJhbXMsXG4gICAgdHlwZSBTdGVwTGlzdFBhcmFtcyBhcyBTdGVwTGlzdFBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uLy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi9jb3JlJztcbmltcG9ydCB7IEFQSVByb21pc2UgfSBmcm9tICcuLi8uLi8uLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBBc3Npc3RhbnRTdHJlYW0sIFJ1bkNyZWF0ZVBhcmFtc0Jhc2VTdHJlYW0gfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvQXNzaXN0YW50U3RyZWFtJztcbmltcG9ydCB7IHNsZWVwIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc1N0cmVhbSB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9Bc3Npc3RhbnRTdHJlYW0nO1xuaW1wb3J0ICogYXMgUnVuc0FQSSBmcm9tICcuL3J1bnMnO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gJy4uLy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQgKiBhcyBBc3Npc3RhbnRzQVBJIGZyb20gJy4uLy4uL2Fzc2lzdGFudHMnO1xuaW1wb3J0ICogYXMgTWVzc2FnZXNBUEkgZnJvbSAnLi4vbWVzc2FnZXMnO1xuaW1wb3J0ICogYXMgVGhyZWFkc0FQSSBmcm9tICcuLi90aHJlYWRzJztcbmltcG9ydCAqIGFzIFN0ZXBzQVBJIGZyb20gJy4vc3RlcHMnO1xuaW1wb3J0IHtcbiAgQ29kZUludGVycHJldGVyTG9ncyxcbiAgQ29kZUludGVycHJldGVyT3V0cHV0SW1hZ2UsXG4gIENvZGVJbnRlcnByZXRlclRvb2xDYWxsLFxuICBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbERlbHRhLFxuICBGaWxlU2VhcmNoVG9vbENhbGwsXG4gIEZpbGVTZWFyY2hUb29sQ2FsbERlbHRhLFxuICBGdW5jdGlvblRvb2xDYWxsLFxuICBGdW5jdGlvblRvb2xDYWxsRGVsdGEsXG4gIE1lc3NhZ2VDcmVhdGlvblN0ZXBEZXRhaWxzLFxuICBSdW5TdGVwLFxuICBSdW5TdGVwRGVsdGEsXG4gIFJ1blN0ZXBEZWx0YUV2ZW50LFxuICBSdW5TdGVwRGVsdGFNZXNzYWdlRGVsdGEsXG4gIFJ1blN0ZXBJbmNsdWRlLFxuICBSdW5TdGVwc1BhZ2UsXG4gIFN0ZXBMaXN0UGFyYW1zLFxuICBTdGVwUmV0cmlldmVQYXJhbXMsXG4gIFN0ZXBzLFxuICBUb29sQ2FsbCxcbiAgVG9vbENhbGxEZWx0YSxcbiAgVG9vbENhbGxEZWx0YU9iamVjdCxcbiAgVG9vbENhbGxzU3RlcERldGFpbHMsXG59IGZyb20gJy4vc3RlcHMnO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vLi4vcGFnaW5hdGlvbic7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICcuLi8uLi8uLi8uLi9zdHJlYW1pbmcnO1xuXG5leHBvcnQgY2xhc3MgUnVucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgc3RlcHM6IFN0ZXBzQVBJLlN0ZXBzID0gbmV3IFN0ZXBzQVBJLlN0ZXBzKHRoaXMuX2NsaWVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHJ1bi5cbiAgICovXG4gIGNyZWF0ZShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHBhcmFtczogUnVuQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFJ1bj47XG4gIGNyZWF0ZShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHBhcmFtczogUnVuQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFN0cmVhbTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFN0cmVhbUV2ZW50Pj47XG4gIGNyZWF0ZShcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHBhcmFtczogUnVuQ3JlYXRlUGFyYW1zQmFzZSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRTdHJlYW1FdmVudD4gfCBSdW4+O1xuICBjcmVhdGUoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBwYXJhbXM6IFJ1bkNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxSdW4+IHwgQVBJUHJvbWlzZTxTdHJlYW08QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRTdHJlYW1FdmVudD4+IHtcbiAgICBjb25zdCB7IGluY2x1ZGUsIC4uLmJvZHkgfSA9IHBhcmFtcztcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnNgLCB7XG4gICAgICBxdWVyeTogeyBpbmNsdWRlIH0sXG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICBzdHJlYW06IHBhcmFtcy5zdHJlYW0gPz8gZmFsc2UsXG4gICAgfSkgYXMgQVBJUHJvbWlzZTxSdW4+IHwgQVBJUHJvbWlzZTxTdHJlYW08QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRTdHJlYW1FdmVudD4+O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIHJ1bi5cbiAgICovXG4gIHJldHJpZXZlKHRocmVhZElkOiBzdHJpbmcsIHJ1bklkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFJ1bj4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTW9kaWZpZXMgYSBydW4uXG4gICAqL1xuICB1cGRhdGUoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIGJvZHk6IFJ1blVwZGF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFJ1bj4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfWAsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBydW5zIGJlbG9uZ2luZyB0byBhIHRocmVhZC5cbiAgICovXG4gIGxpc3QoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBxdWVyeT86IFJ1bkxpc3RQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8UnVuc1BhZ2UsIFJ1bj47XG4gIGxpc3QodGhyZWFkSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLlBhZ2VQcm9taXNlPFJ1bnNQYWdlLCBSdW4+O1xuICBsaXN0KFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcXVlcnk6IFJ1bkxpc3RQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8UnVuc1BhZ2UsIFJ1bj4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIHRoaXMubGlzdCh0aHJlYWRJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zYCwgUnVuc1BhZ2UsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyBhIHJ1biB0aGF0IGlzIGBpbl9wcm9ncmVzc2AuXG4gICAqL1xuICBjYW5jZWwodGhyZWFkSWQ6IHN0cmluZywgcnVuSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8UnVuPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9L2NhbmNlbGAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIHRvIGNyZWF0ZSBhIHJ1biBhbiBwb2xsIGZvciBhIHRlcm1pbmFsIHN0YXRlLiBNb3JlIGluZm9ybWF0aW9uIG9uIFJ1blxuICAgKiBsaWZlY3ljbGVzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICAgKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL2hvdy1pdC13b3Jrcy9ydW5zLWFuZC1ydW4tc3RlcHNcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUFuZFBvbGwoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBib2R5OiBSdW5DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMgJiB7IHBvbGxJbnRlcnZhbE1zPzogbnVtYmVyIH0sXG4gICk6IFByb21pc2U8UnVuPiB7XG4gICAgY29uc3QgcnVuID0gYXdhaXQgdGhpcy5jcmVhdGUodGhyZWFkSWQsIGJvZHksIG9wdGlvbnMpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodGhyZWFkSWQsIHJ1bi5pZCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgUnVuIHN0cmVhbVxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYHN0cmVhbWAgaW5zdGVhZFxuICAgKi9cbiAgY3JlYXRlQW5kU3RyZWFtKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgYm9keTogUnVuQ3JlYXRlUGFyYW1zQmFzZVN0cmVhbSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQXNzaXN0YW50U3RyZWFtIHtcbiAgICByZXR1cm4gQXNzaXN0YW50U3RyZWFtLmNyZWF0ZUFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgdGhpcy5fY2xpZW50LmJldGEudGhyZWFkcy5ydW5zLCBib2R5LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGhlbHBlciB0byBwb2xsIGEgcnVuIHN0YXR1cyB1bnRpbCBpdCByZWFjaGVzIGEgdGVybWluYWwgc3RhdGUuIE1vcmVcbiAgICogaW5mb3JtYXRpb24gb24gUnVuIGxpZmVjeWNsZXMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgKi9cbiAgYXN5bmMgcG9sbChcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMgJiB7IHBvbGxJbnRlcnZhbE1zPzogbnVtYmVyIH0sXG4gICk6IFByb21pc2U8UnVuPiB7XG4gICAgY29uc3QgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLVBvbGwtSGVscGVyJzogJ3RydWUnIH07XG5cbiAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgIGhlYWRlcnNbJ1gtU3RhaW5sZXNzLUN1c3RvbS1Qb2xsLUludGVydmFsJ10gPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHsgZGF0YTogcnVuLCByZXNwb25zZSB9ID0gYXdhaXQgdGhpcy5yZXRyaWV2ZSh0aHJlYWRJZCwgcnVuSWQsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAuLi5oZWFkZXJzIH0sXG4gICAgICB9KS53aXRoUmVzcG9uc2UoKTtcblxuICAgICAgc3dpdGNoIChydW4uc3RhdHVzKSB7XG4gICAgICAgIC8vSWYgd2UgYXJlIGluIGFueSBzb3J0IG9mIGludGVybWVkaWF0ZSBzdGF0ZSB3ZSBwb2xsXG4gICAgICAgIGNhc2UgJ3F1ZXVlZCc6XG4gICAgICAgIGNhc2UgJ2luX3Byb2dyZXNzJzpcbiAgICAgICAgY2FzZSAnY2FuY2VsbGluZyc6XG4gICAgICAgICAgbGV0IHNsZWVwSW50ZXJ2YWwgPSA1MDAwO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnM/LnBvbGxJbnRlcnZhbE1zKSB7XG4gICAgICAgICAgICBzbGVlcEludGVydmFsID0gb3B0aW9ucy5wb2xsSW50ZXJ2YWxNcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWwgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnb3BlbmFpLXBvbGwtYWZ0ZXItbXMnKTtcbiAgICAgICAgICAgIGlmIChoZWFkZXJJbnRlcnZhbCkge1xuICAgICAgICAgICAgICBjb25zdCBoZWFkZXJJbnRlcnZhbE1zID0gcGFyc2VJbnQoaGVhZGVySW50ZXJ2YWwpO1xuICAgICAgICAgICAgICBpZiAoIWlzTmFOKGhlYWRlckludGVydmFsTXMpKSB7XG4gICAgICAgICAgICAgICAgc2xlZXBJbnRlcnZhbCA9IGhlYWRlckludGVydmFsTXM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgc2xlZXAoc2xlZXBJbnRlcnZhbCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vV2UgcmV0dXJuIHRoZSBydW4gaW4gYW55IHRlcm1pbmFsIHN0YXRlLlxuICAgICAgICBjYXNlICdyZXF1aXJlc19hY3Rpb24nOlxuICAgICAgICBjYXNlICdpbmNvbXBsZXRlJzpcbiAgICAgICAgY2FzZSAnY2FuY2VsbGVkJzpcbiAgICAgICAgY2FzZSAnY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgY2FzZSAnZXhwaXJlZCc6XG4gICAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgUnVuIHN0cmVhbVxuICAgKi9cbiAgc3RyZWFtKHRocmVhZElkOiBzdHJpbmcsIGJvZHk6IFJ1bkNyZWF0ZVBhcmFtc0Jhc2VTdHJlYW0sIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQXNzaXN0YW50U3RyZWFtIHtcbiAgICByZXR1cm4gQXNzaXN0YW50U3RyZWFtLmNyZWF0ZUFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgdGhpcy5fY2xpZW50LmJldGEudGhyZWFkcy5ydW5zLCBib2R5LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIGEgcnVuIGhhcyB0aGUgYHN0YXR1czogXCJyZXF1aXJlc19hY3Rpb25cImAgYW5kIGByZXF1aXJlZF9hY3Rpb24udHlwZWAgaXNcbiAgICogYHN1Ym1pdF90b29sX291dHB1dHNgLCB0aGlzIGVuZHBvaW50IGNhbiBiZSB1c2VkIHRvIHN1Ym1pdCB0aGUgb3V0cHV0cyBmcm9tIHRoZVxuICAgKiB0b29sIGNhbGxzIG9uY2UgdGhleSdyZSBhbGwgY29tcGxldGVkLiBBbGwgb3V0cHV0cyBtdXN0IGJlIHN1Ym1pdHRlZCBpbiBhIHNpbmdsZVxuICAgKiByZXF1ZXN0LlxuICAgKi9cbiAgc3VibWl0VG9vbE91dHB1dHMoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIGJvZHk6IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFJ1bj47XG4gIHN1Ym1pdFRvb2xPdXRwdXRzKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBib2R5OiBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc1N0cmVhbWluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRTdHJlYW1FdmVudD4+O1xuICBzdWJtaXRUb29sT3V0cHV0cyhcbiAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgIHJ1bklkOiBzdHJpbmcsXG4gICAgYm9keTogUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNCYXNlLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFN0cmVhbTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFN0cmVhbUV2ZW50PiB8IFJ1bj47XG4gIHN1Ym1pdFRvb2xPdXRwdXRzKFxuICAgIHRocmVhZElkOiBzdHJpbmcsXG4gICAgcnVuSWQ6IHN0cmluZyxcbiAgICBib2R5OiBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxSdW4+IHwgQVBJUHJvbWlzZTxTdHJlYW08QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRTdHJlYW1FdmVudD4+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH0vc3VibWl0X3Rvb2xfb3V0cHV0c2AsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgIHN0cmVhbTogYm9keS5zdHJlYW0gPz8gZmFsc2UsXG4gICAgfSkgYXMgQVBJUHJvbWlzZTxSdW4+IHwgQVBJUHJvbWlzZTxTdHJlYW08QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRTdHJlYW1FdmVudD4+O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIHRvIHN1Ym1pdCBhIHRvb2wgb3V0cHV0IHRvIGEgcnVuIGFuZCBwb2xsIGZvciBhIHRlcm1pbmFsIHJ1biBzdGF0ZS5cbiAgICogTW9yZSBpbmZvcm1hdGlvbiBvbiBSdW4gbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy9ob3ctaXQtd29ya3MvcnVucy1hbmQtcnVuLXN0ZXBzXG4gICAqL1xuICBhc3luYyBzdWJtaXRUb29sT3V0cHV0c0FuZFBvbGwoXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIGJvZHk6IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zICYgeyBwb2xsSW50ZXJ2YWxNcz86IG51bWJlciB9LFxuICApOiBQcm9taXNlPFJ1bj4ge1xuICAgIGNvbnN0IHJ1biA9IGF3YWl0IHRoaXMuc3VibWl0VG9vbE91dHB1dHModGhyZWFkSWQsIHJ1bklkLCBib2R5LCBvcHRpb25zKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5wb2xsKHRocmVhZElkLCBydW4uaWQsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1Ym1pdCB0aGUgdG9vbCBvdXRwdXRzIGZyb20gYSBwcmV2aW91cyBydW4gYW5kIHN0cmVhbSB0aGUgcnVuIHRvIGEgdGVybWluYWxcbiAgICogc3RhdGUuIE1vcmUgaW5mb3JtYXRpb24gb24gUnVuIGxpZmVjeWNsZXMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgKi9cbiAgc3VibWl0VG9vbE91dHB1dHNTdHJlYW0oXG4gICAgdGhyZWFkSWQ6IHN0cmluZyxcbiAgICBydW5JZDogc3RyaW5nLFxuICAgIGJvZHk6IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBc3Npc3RhbnRTdHJlYW0ge1xuICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlVG9vbEFzc2lzdGFudFN0cmVhbShcbiAgICAgIHRocmVhZElkLFxuICAgICAgcnVuSWQsXG4gICAgICB0aGlzLl9jbGllbnQuYmV0YS50aHJlYWRzLnJ1bnMsXG4gICAgICBib2R5LFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSdW5zUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8UnVuPiB7fVxuXG4vKipcbiAqIFRvb2wgY2FsbCBvYmplY3RzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWlyZWRBY3Rpb25GdW5jdGlvblRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsLiBUaGlzIElEIG11c3QgYmUgcmVmZXJlbmNlZCB3aGVuIHlvdSBzdWJtaXQgdGhlIHRvb2xcbiAgICogb3V0cHV0cyBpbiB1c2luZyB0aGVcbiAgICogW1N1Ym1pdCB0b29sIG91dHB1dHMgdG8gcnVuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3J1bnMvc3VibWl0VG9vbE91dHB1dHMpXG4gICAqIGVuZHBvaW50LlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGZ1bmN0aW9uIGRlZmluaXRpb24uXG4gICAqL1xuICBmdW5jdGlvbjogUmVxdWlyZWRBY3Rpb25GdW5jdGlvblRvb2xDYWxsLkZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0b29sIGNhbGwgdGhlIG91dHB1dCBpcyByZXF1aXJlZCBmb3IuIEZvciBub3csIHRoaXMgaXMgYWx3YXlzXG4gICAqIGBmdW5jdGlvbmAuXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlcXVpcmVkQWN0aW9uRnVuY3Rpb25Ub29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24gZGVmaW5pdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudHMgdGhhdCB0aGUgbW9kZWwgZXhwZWN0cyB5b3UgdG8gcGFzcyB0byB0aGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBleGVjdXRpb24gcnVuIG9uIGFcbiAqIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUnVuIHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpIHVzZWQgZm9yXG4gICAqIGV4ZWN1dGlvbiBvZiB0aGlzIHJ1bi5cbiAgICovXG4gIGFzc2lzdGFudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBydW4gd2FzIGNhbmNlbGxlZC5cbiAgICovXG4gIGNhbmNlbGxlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHdhcyBjb21wbGV0ZWQuXG4gICAqL1xuICBjb21wbGV0ZWRfYXQ6IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHJ1biB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHdpbGwgZXhwaXJlLlxuICAgKi9cbiAgZXhwaXJlc19hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIGZhaWxlZC5cbiAgICovXG4gIGZhaWxlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogRGV0YWlscyBvbiB3aHkgdGhlIHJ1biBpcyBpbmNvbXBsZXRlLiBXaWxsIGJlIGBudWxsYCBpZiB0aGUgcnVuIGlzIG5vdFxuICAgKiBpbmNvbXBsZXRlLlxuICAgKi9cbiAgaW5jb21wbGV0ZV9kZXRhaWxzOiBSdW4uSW5jb21wbGV0ZURldGFpbHMgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5zdHJ1Y3Rpb25zIHRoYXQgdGhlXG4gICAqIFthc3Npc3RhbnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgdXNlZCBmb3JcbiAgICogdGhpcyBydW4uXG4gICAqL1xuICBpbnN0cnVjdGlvbnM6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGxhc3QgZXJyb3IgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcnVuLiBXaWxsIGJlIGBudWxsYCBpZiB0aGVyZSBhcmUgbm8gZXJyb3JzLlxuICAgKi9cbiAgbGFzdF9lcnJvcjogUnVuLkxhc3RFcnJvciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjb21wbGV0aW9uIHRva2VucyBzcGVjaWZpZWQgdG8gaGF2ZSBiZWVuIHVzZWQgb3ZlciB0aGVcbiAgICogY291cnNlIG9mIHRoZSBydW4uXG4gICAqL1xuICBtYXhfY29tcGxldGlvbl90b2tlbnM6IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwcm9tcHQgdG9rZW5zIHNwZWNpZmllZCB0byBoYXZlIGJlZW4gdXNlZCBvdmVyIHRoZSBjb3Vyc2VcbiAgICogb2YgdGhlIHJ1bi5cbiAgICovXG4gIG1heF9wcm9tcHRfdG9rZW5zOiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE6IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB0aGF0IHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpIHVzZWQgZm9yXG4gICAqIHRoaXMgcnVuLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYHRocmVhZC5ydW5gLlxuICAgKi9cbiAgb2JqZWN0OiAndGhyZWFkLnJ1bic7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlXG4gICAqIFtwYXJhbGxlbCBmdW5jdGlvbiBjYWxsaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZnVuY3Rpb24tY2FsbGluZyNjb25maWd1cmluZy1wYXJhbGxlbC1mdW5jdGlvbi1jYWxsaW5nKVxuICAgKiBkdXJpbmcgdG9vbCB1c2UuXG4gICAqL1xuICBwYXJhbGxlbF90b29sX2NhbGxzOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBEZXRhaWxzIG9uIHRoZSBhY3Rpb24gcmVxdWlyZWQgdG8gY29udGludWUgdGhlIHJ1bi4gV2lsbCBiZSBgbnVsbGAgaWYgbm8gYWN0aW9uXG4gICAqIGlzIHJlcXVpcmVkLlxuICAgKi9cbiAgcmVxdWlyZWRfYWN0aW9uOiBSdW4uUmVxdWlyZWRBY3Rpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGZvcm1hdCB0aGF0IHRoZSBtb2RlbCBtdXN0IG91dHB1dC4gQ29tcGF0aWJsZSB3aXRoXG4gICAqIFtHUFQtNG9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscyNncHQtNG8pLFxuICAgKiBbR1BULTQgVHVyYm9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscyNncHQtNC10dXJiby1hbmQtZ3B0LTQpLFxuICAgKiBhbmQgYWxsIEdQVC0zLjUgVHVyYm8gbW9kZWxzIHNpbmNlIGBncHQtMy41LXR1cmJvLTExMDZgLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fc2NoZW1hXCIsIFwianNvbl9zY2hlbWFcIjogey4uLn0gfWAgZW5hYmxlcyBTdHJ1Y3R1cmVkXG4gICAqIE91dHB1dHMgd2hpY2ggZW5zdXJlcyB0aGUgbW9kZWwgd2lsbCBtYXRjaCB5b3VyIHN1cHBsaWVkIEpTT04gc2NoZW1hLiBMZWFybiBtb3JlXG4gICAqIGluIHRoZVxuICAgKiBbU3RydWN0dXJlZCBPdXRwdXRzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKS5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX29iamVjdFwiIH1gIGVuYWJsZXMgSlNPTiBtb2RlLCB3aGljaCBlbnN1cmVzIHRoZVxuICAgKiBtZXNzYWdlIHRoZSBtb2RlbCBnZW5lcmF0ZXMgaXMgdmFsaWQgSlNPTi5cbiAgICpcbiAgICogKipJbXBvcnRhbnQ6Kiogd2hlbiB1c2luZyBKU09OIG1vZGUsIHlvdSAqKm11c3QqKiBhbHNvIGluc3RydWN0IHRoZSBtb2RlbCB0b1xuICAgKiBwcm9kdWNlIEpTT04geW91cnNlbGYgdmlhIGEgc3lzdGVtIG9yIHVzZXIgbWVzc2FnZS4gV2l0aG91dCB0aGlzLCB0aGUgbW9kZWwgbWF5XG4gICAqIGdlbmVyYXRlIGFuIHVuZW5kaW5nIHN0cmVhbSBvZiB3aGl0ZXNwYWNlIHVudGlsIHRoZSBnZW5lcmF0aW9uIHJlYWNoZXMgdGhlIHRva2VuXG4gICAqIGxpbWl0LCByZXN1bHRpbmcgaW4gYSBsb25nLXJ1bm5pbmcgYW5kIHNlZW1pbmdseSBcInN0dWNrXCIgcmVxdWVzdC4gQWxzbyBub3RlIHRoYXRcbiAgICogdGhlIG1lc3NhZ2UgY29udGVudCBtYXkgYmUgcGFydGlhbGx5IGN1dCBvZmYgaWYgYGZpbmlzaF9yZWFzb249XCJsZW5ndGhcImAsIHdoaWNoXG4gICAqIGluZGljYXRlcyB0aGUgZ2VuZXJhdGlvbiBleGNlZWRlZCBgbWF4X3Rva2Vuc2Agb3IgdGhlIGNvbnZlcnNhdGlvbiBleGNlZWRlZCB0aGVcbiAgICogbWF4IGNvbnRleHQgbGVuZ3RoLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0OiBUaHJlYWRzQVBJLkFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgcnVuIHdhcyBzdGFydGVkLlxuICAgKi9cbiAgc3RhcnRlZF9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgcnVuLCB3aGljaCBjYW4gYmUgZWl0aGVyIGBxdWV1ZWRgLCBgaW5fcHJvZ3Jlc3NgLFxuICAgKiBgcmVxdWlyZXNfYWN0aW9uYCwgYGNhbmNlbGxpbmdgLCBgY2FuY2VsbGVkYCwgYGZhaWxlZGAsIGBjb21wbGV0ZWRgLFxuICAgKiBgaW5jb21wbGV0ZWAsIG9yIGBleHBpcmVkYC5cbiAgICovXG4gIHN0YXR1czogUnVuU3RhdHVzO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFt0aHJlYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdGhyZWFkcylcbiAgICogdGhhdCB3YXMgZXhlY3V0ZWQgb24gYXMgYSBwYXJ0IG9mIHRoaXMgcnVuLlxuICAgKi9cbiAgdGhyZWFkX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoaWNoIChpZiBhbnkpIHRvb2wgaXMgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gYG5vbmVgIG1lYW5zIHRoZSBtb2RlbCB3aWxsXG4gICAqIG5vdCBjYWxsIGFueSB0b29scyBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgdmFsdWVcbiAgICogYW5kIG1lYW5zIHRoZSBtb2RlbCBjYW4gcGljayBiZXR3ZWVuIGdlbmVyYXRpbmcgYSBtZXNzYWdlIG9yIGNhbGxpbmcgb25lIG9yIG1vcmVcbiAgICogdG9vbHMuIGByZXF1aXJlZGAgbWVhbnMgdGhlIG1vZGVsIG11c3QgY2FsbCBvbmUgb3IgbW9yZSB0b29scyBiZWZvcmUgcmVzcG9uZGluZ1xuICAgKiB0byB0aGUgdXNlci4gU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgdG9vbCBsaWtlIGB7XCJ0eXBlXCI6IFwiZmlsZV9zZWFyY2hcIn1gIG9yXG4gICAqIGB7XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiOiB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn19YCBmb3JjZXMgdGhlIG1vZGVsIHRvXG4gICAqIGNhbGwgdGhhdCB0b29sLlxuICAgKi9cbiAgdG9vbF9jaG9pY2U6IFRocmVhZHNBUEkuQXNzaXN0YW50VG9vbENob2ljZU9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHRvb2xzIHRoYXQgdGhlXG4gICAqIFthc3Npc3RhbnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgdXNlZCBmb3JcbiAgICogdGhpcyBydW4uXG4gICAqL1xuICB0b29sczogQXJyYXk8QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRUb29sPjtcblxuICAvKipcbiAgICogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2UgdGhpcyB0b1xuICAgKiBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIHRydW5jYXRpb25fc3RyYXRlZ3k6IFJ1bi5UcnVuY2F0aW9uU3RyYXRlZ3kgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBVc2FnZSBzdGF0aXN0aWNzIHJlbGF0ZWQgdG8gdGhlIHJ1bi4gVGhpcyB2YWx1ZSB3aWxsIGJlIGBudWxsYCBpZiB0aGUgcnVuIGlzIG5vdFxuICAgKiBpbiBhIHRlcm1pbmFsIHN0YXRlIChpLmUuIGBpbl9wcm9ncmVzc2AsIGBxdWV1ZWRgLCBldGMuKS5cbiAgICovXG4gIHVzYWdlOiBSdW4uVXNhZ2UgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUgdXNlZCBmb3IgdGhpcyBydW4uIElmIG5vdCBzZXQsIGRlZmF1bHRzIHRvIDEuXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBudWNsZXVzIHNhbXBsaW5nIHZhbHVlIHVzZWQgZm9yIHRoaXMgcnVuLiBJZiBub3Qgc2V0LCBkZWZhdWx0cyB0byAxLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJ1biB7XG4gIC8qKlxuICAgKiBEZXRhaWxzIG9uIHdoeSB0aGUgcnVuIGlzIGluY29tcGxldGUuIFdpbGwgYmUgYG51bGxgIGlmIHRoZSBydW4gaXMgbm90XG4gICAqIGluY29tcGxldGUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEluY29tcGxldGVEZXRhaWxzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVhc29uIHdoeSB0aGUgcnVuIGlzIGluY29tcGxldGUuIFRoaXMgd2lsbCBwb2ludCB0byB3aGljaCBzcGVjaWZpYyB0b2tlblxuICAgICAqIGxpbWl0IHdhcyByZWFjaGVkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgcnVuLlxuICAgICAqL1xuICAgIHJlYXNvbj86ICdtYXhfY29tcGxldGlvbl90b2tlbnMnIHwgJ21heF9wcm9tcHRfdG9rZW5zJztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbGFzdCBlcnJvciBhc3NvY2lhdGVkIHdpdGggdGhpcyBydW4uIFdpbGwgYmUgYG51bGxgIGlmIHRoZXJlIGFyZSBubyBlcnJvcnMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIExhc3RFcnJvciB7XG4gICAgLyoqXG4gICAgICogT25lIG9mIGBzZXJ2ZXJfZXJyb3JgLCBgcmF0ZV9saW1pdF9leGNlZWRlZGAsIG9yIGBpbnZhbGlkX3Byb21wdGAuXG4gICAgICovXG4gICAgY29kZTogJ3NlcnZlcl9lcnJvcicgfCAncmF0ZV9saW1pdF9leGNlZWRlZCcgfCAnaW52YWxpZF9wcm9tcHQnO1xuXG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3IuXG4gICAgICovXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGFpbHMgb24gdGhlIGFjdGlvbiByZXF1aXJlZCB0byBjb250aW51ZSB0aGUgcnVuLiBXaWxsIGJlIGBudWxsYCBpZiBubyBhY3Rpb25cbiAgICogaXMgcmVxdWlyZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFJlcXVpcmVkQWN0aW9uIHtcbiAgICAvKipcbiAgICAgKiBEZXRhaWxzIG9uIHRoZSB0b29sIG91dHB1dHMgbmVlZGVkIGZvciB0aGlzIHJ1biB0byBjb250aW51ZS5cbiAgICAgKi9cbiAgICBzdWJtaXRfdG9vbF9vdXRwdXRzOiBSZXF1aXJlZEFjdGlvbi5TdWJtaXRUb29sT3V0cHV0cztcblxuICAgIC8qKlxuICAgICAqIEZvciBub3csIHRoaXMgaXMgYWx3YXlzIGBzdWJtaXRfdG9vbF9vdXRwdXRzYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnc3VibWl0X3Rvb2xfb3V0cHV0cyc7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFJlcXVpcmVkQWN0aW9uIHtcbiAgICAvKipcbiAgICAgKiBEZXRhaWxzIG9uIHRoZSB0b29sIG91dHB1dHMgbmVlZGVkIGZvciB0aGlzIHJ1biB0byBjb250aW51ZS5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIFN1Ym1pdFRvb2xPdXRwdXRzIHtcbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIHRoZSByZWxldmFudCB0b29sIGNhbGxzLlxuICAgICAgICovXG4gICAgICB0b29sX2NhbGxzOiBBcnJheTxSdW5zQVBJLlJlcXVpcmVkQWN0aW9uRnVuY3Rpb25Ub29sQ2FsbD47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlIHRoaXMgdG9cbiAgICogY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRydW5jYXRpb25TdHJhdGVneSB7XG4gICAgLyoqXG4gICAgICogVGhlIHRydW5jYXRpb24gc3RyYXRlZ3kgdG8gdXNlIGZvciB0aGUgdGhyZWFkLiBUaGUgZGVmYXVsdCBpcyBgYXV0b2AuIElmIHNldCB0b1xuICAgICAqIGBsYXN0X21lc3NhZ2VzYCwgdGhlIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCB0byB0aGUgbiBtb3N0IHJlY2VudCBtZXNzYWdlcyBpblxuICAgICAqIHRoZSB0aHJlYWQuIFdoZW4gc2V0IHRvIGBhdXRvYCwgbWVzc2FnZXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgdGhyZWFkIHdpbGwgYmVcbiAgICAgKiBkcm9wcGVkIHRvIGZpdCB0aGUgY29udGV4dCBsZW5ndGggb2YgdGhlIG1vZGVsLCBgbWF4X3Byb21wdF90b2tlbnNgLlxuICAgICAqL1xuICAgIHR5cGU6ICdhdXRvJyB8ICdsYXN0X21lc3NhZ2VzJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbW9zdCByZWNlbnQgbWVzc2FnZXMgZnJvbSB0aGUgdGhyZWFkIHdoZW4gY29uc3RydWN0aW5nIHRoZSBjb250ZXh0XG4gICAgICogZm9yIHRoZSBydW4uXG4gICAgICovXG4gICAgbGFzdF9tZXNzYWdlcz86IG51bWJlciB8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVXNhZ2Ugc3RhdGlzdGljcyByZWxhdGVkIHRvIHRoZSBydW4uIFRoaXMgdmFsdWUgd2lsbCBiZSBgbnVsbGAgaWYgdGhlIHJ1biBpcyBub3RcbiAgICogaW4gYSB0ZXJtaW5hbCBzdGF0ZSAoaS5lLiBgaW5fcHJvZ3Jlc3NgLCBgcXVldWVkYCwgZXRjLikuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFVzYWdlIHtcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnMgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBjb21wbGV0aW9uX3Rva2VuczogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHByb21wdCB0b2tlbnMgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBwcm9tcHRfdG9rZW5zOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUb3RhbCBudW1iZXIgb2YgdG9rZW5zIHVzZWQgKHByb21wdCArIGNvbXBsZXRpb24pLlxuICAgICAqL1xuICAgIHRvdGFsX3Rva2VuczogbnVtYmVyO1xuICB9XG59XG5cbi8qKlxuICogVGhlIHN0YXR1cyBvZiB0aGUgcnVuLCB3aGljaCBjYW4gYmUgZWl0aGVyIGBxdWV1ZWRgLCBgaW5fcHJvZ3Jlc3NgLFxuICogYHJlcXVpcmVzX2FjdGlvbmAsIGBjYW5jZWxsaW5nYCwgYGNhbmNlbGxlZGAsIGBmYWlsZWRgLCBgY29tcGxldGVkYCxcbiAqIGBpbmNvbXBsZXRlYCwgb3IgYGV4cGlyZWRgLlxuICovXG5leHBvcnQgdHlwZSBSdW5TdGF0dXMgPVxuICB8ICdxdWV1ZWQnXG4gIHwgJ2luX3Byb2dyZXNzJ1xuICB8ICdyZXF1aXJlc19hY3Rpb24nXG4gIHwgJ2NhbmNlbGxpbmcnXG4gIHwgJ2NhbmNlbGxlZCdcbiAgfCAnZmFpbGVkJ1xuICB8ICdjb21wbGV0ZWQnXG4gIHwgJ2luY29tcGxldGUnXG4gIHwgJ2V4cGlyZWQnO1xuXG5leHBvcnQgdHlwZSBSdW5DcmVhdGVQYXJhbXMgPSBSdW5DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgfCBSdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuQ3JlYXRlUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBUaGUgSUQgb2YgdGhlXG4gICAqIFthc3Npc3RhbnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgdG8gdXNlIHRvXG4gICAqIGV4ZWN1dGUgdGhpcyBydW4uXG4gICAqL1xuICBhc3Npc3RhbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogUXVlcnkgcGFyYW06IEEgbGlzdCBvZiBhZGRpdGlvbmFsIGZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSByZXNwb25zZS4gQ3VycmVudGx5XG4gICAqIHRoZSBvbmx5IHN1cHBvcnRlZCB2YWx1ZSBpc1xuICAgKiBgc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHNbKl0uZmlsZV9zZWFyY2gucmVzdWx0c1sqXS5jb250ZW50YCB0byBmZXRjaCB0aGUgZmlsZVxuICAgKiBzZWFyY2ggcmVzdWx0IGNvbnRlbnQuXG4gICAqXG4gICAqIFNlZSB0aGVcbiAgICogW2ZpbGUgc2VhcmNoIHRvb2wgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy90b29scy9maWxlLXNlYXJjaCNjdXN0b21pemluZy1maWxlLXNlYXJjaC1zZXR0aW5ncylcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqL1xuICBpbmNsdWRlPzogQXJyYXk8U3RlcHNBUEkuUnVuU3RlcEluY2x1ZGU+O1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBBcHBlbmRzIGFkZGl0aW9uYWwgaW5zdHJ1Y3Rpb25zIGF0IHRoZSBlbmQgb2YgdGhlIGluc3RydWN0aW9ucyBmb3JcbiAgICogdGhlIHJ1bi4gVGhpcyBpcyB1c2VmdWwgZm9yIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzIHdpdGhvdXRcbiAgICogb3ZlcnJpZGluZyBvdGhlciBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBhZGRpdGlvbmFsX2luc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IEFkZHMgYWRkaXRpb25hbCBtZXNzYWdlcyB0byB0aGUgdGhyZWFkIGJlZm9yZSBjcmVhdGluZyB0aGUgcnVuLlxuICAgKi9cbiAgYWRkaXRpb25hbF9tZXNzYWdlcz86IEFycmF5PFJ1bkNyZWF0ZVBhcmFtcy5BZGRpdGlvbmFsTWVzc2FnZT4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBPdmVycmlkZXMgdGhlXG4gICAqIFtpbnN0cnVjdGlvbnNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cy9jcmVhdGVBc3Npc3RhbnQpXG4gICAqIG9mIHRoZSBhc3Npc3RhbnQuIFRoaXMgaXMgdXNlZnVsIGZvciBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFRoZSBtYXhpbXVtIG51bWJlciBvZiBjb21wbGV0aW9uIHRva2VucyB0aGF0IG1heSBiZSB1c2VkIG92ZXIgdGhlXG4gICAqIGNvdXJzZSBvZiB0aGUgcnVuLiBUaGUgcnVuIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHVzZSBvbmx5IHRoZSBudW1iZXIgb2ZcbiAgICogY29tcGxldGlvbiB0b2tlbnMgc3BlY2lmaWVkLCBhY3Jvc3MgbXVsdGlwbGUgdHVybnMgb2YgdGhlIHJ1bi4gSWYgdGhlIHJ1blxuICAgKiBleGNlZWRzIHRoZSBudW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnMgc3BlY2lmaWVkLCB0aGUgcnVuIHdpbGwgZW5kIHdpdGggc3RhdHVzXG4gICAqIGBpbmNvbXBsZXRlYC4gU2VlIGBpbmNvbXBsZXRlX2RldGFpbHNgIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBtYXhfY29tcGxldGlvbl90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcHJvbXB0IHRva2VucyB0aGF0IG1heSBiZSB1c2VkIG92ZXIgdGhlIGNvdXJzZVxuICAgKiBvZiB0aGUgcnVuLiBUaGUgcnVuIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHVzZSBvbmx5IHRoZSBudW1iZXIgb2YgcHJvbXB0XG4gICAqIHRva2VucyBzcGVjaWZpZWQsIGFjcm9zcyBtdWx0aXBsZSB0dXJucyBvZiB0aGUgcnVuLiBJZiB0aGUgcnVuIGV4Y2VlZHMgdGhlXG4gICAqIG51bWJlciBvZiBwcm9tcHQgdG9rZW5zIHNwZWNpZmllZCwgdGhlIHJ1biB3aWxsIGVuZCB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuXG4gICAqIFNlZSBgaW5jb21wbGV0ZV9kZXRhaWxzYCBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgbWF4X3Byb21wdF90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpc1xuICAgKiBjYW4gYmUgdXNlZnVsIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhXG4gICAqIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmQgcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBUaGUgSUQgb2YgdGhlXG4gICAqIFtNb2RlbF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMpIHRvIGJlIHVzZWQgdG9cbiAgICogZXhlY3V0ZSB0aGlzIHJ1bi4gSWYgYSB2YWx1ZSBpcyBwcm92aWRlZCBoZXJlLCBpdCB3aWxsIG92ZXJyaWRlIHRoZSBtb2RlbFxuICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIGFzc2lzdGFudC4gSWYgbm90LCB0aGUgbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnRcbiAgICogd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgbW9kZWw/OiAoc3RyaW5nICYge30pIHwgU2hhcmVkLkNoYXRNb2RlbCB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFdoZXRoZXIgdG8gZW5hYmxlXG4gICAqIFtwYXJhbGxlbCBmdW5jdGlvbiBjYWxsaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZnVuY3Rpb24tY2FsbGluZyNjb25maWd1cmluZy1wYXJhbGxlbC1mdW5jdGlvbi1jYWxsaW5nKVxuICAgKiBkdXJpbmcgdG9vbCB1c2UuXG4gICAqL1xuICBwYXJhbGxlbF90b29sX2NhbGxzPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogKipvLXNlcmllcyBtb2RlbHMgb25seSoqXG4gICAqXG4gICAqIENvbnN0cmFpbnMgZWZmb3J0IG9uIHJlYXNvbmluZyBmb3JcbiAgICogW3JlYXNvbmluZyBtb2RlbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9yZWFzb25pbmcpLiBDdXJyZW50bHlcbiAgICogc3VwcG9ydGVkIHZhbHVlcyBhcmUgYGxvd2AsIGBtZWRpdW1gLCBhbmQgYGhpZ2hgLiBSZWR1Y2luZyByZWFzb25pbmcgZWZmb3J0IGNhblxuICAgKiByZXN1bHQgaW4gZmFzdGVyIHJlc3BvbnNlcyBhbmQgZmV3ZXIgdG9rZW5zIHVzZWQgb24gcmVhc29uaW5nIGluIGEgcmVzcG9uc2UuXG4gICAqL1xuICByZWFzb25pbmdfZWZmb3J0PzogU2hhcmVkLlJlYXNvbmluZ0VmZm9ydCB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFNwZWNpZmllcyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LiBDb21wYXRpYmxlIHdpdGhcbiAgICogW0dQVC00b10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00byksXG4gICAqIFtHUFQtNCBUdXJib10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00LXR1cmJvLWFuZC1ncHQtNCksXG4gICAqIGFuZCBhbGwgR1BULTMuNSBUdXJibyBtb2RlbHMgc2luY2UgYGdwdC0zLjUtdHVyYm8tMTEwNmAuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9zY2hlbWFcIiwgXCJqc29uX3NjaGVtYVwiOiB7Li4ufSB9YCBlbmFibGVzIFN0cnVjdHVyZWRcbiAgICogT3V0cHV0cyB3aGljaCBlbnN1cmVzIHRoZSBtb2RlbCB3aWxsIG1hdGNoIHlvdXIgc3VwcGxpZWQgSlNPTiBzY2hlbWEuIExlYXJuIG1vcmVcbiAgICogaW4gdGhlXG4gICAqIFtTdHJ1Y3R1cmVkIE91dHB1dHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGVuc3VyZXMgdGhlXG4gICAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gICAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAgICogZ2VuZXJhdGUgYW4gdW5lbmRpbmcgc3RyZWFtIG9mIHdoaXRlc3BhY2UgdW50aWwgdGhlIGdlbmVyYXRpb24gcmVhY2hlcyB0aGUgdG9rZW5cbiAgICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAgICogaW5kaWNhdGVzIHRoZSBnZW5lcmF0aW9uIGV4Y2VlZGVkIGBtYXhfdG9rZW5zYCBvciB0aGUgY29udmVyc2F0aW9uIGV4Y2VlZGVkIHRoZVxuICAgKiBtYXggY29udGV4dCBsZW5ndGguXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiBUaHJlYWRzQVBJLkFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogSWYgYHRydWVgLCByZXR1cm5zIGEgc3RyZWFtIG9mIGV2ZW50cyB0aGF0IGhhcHBlbiBkdXJpbmcgdGhlIFJ1biBhc1xuICAgKiBzZXJ2ZXItc2VudCBldmVudHMsIHRlcm1pbmF0aW5nIHdoZW4gdGhlIFJ1biBlbnRlcnMgYSB0ZXJtaW5hbCBzdGF0ZSB3aXRoIGFcbiAgICogYGRhdGE6IFtET05FXWAgbWVzc2FnZS5cbiAgICovXG4gIHN0cmVhbT86IGJvb2xlYW4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzXG4gICAqIGxpa2UgMC44IHdpbGwgbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlXG4gICAqIGl0IG1vcmUgZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogQ29udHJvbHMgd2hpY2ggKGlmIGFueSkgdG9vbCBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLiBgbm9uZWAgbWVhbnNcbiAgICogdGhlIG1vZGVsIHdpbGwgbm90IGNhbGwgYW55IHRvb2xzIGFuZCBpbnN0ZWFkIGdlbmVyYXRlcyBhIG1lc3NhZ2UuIGBhdXRvYCBpcyB0aGVcbiAgICogZGVmYXVsdCB2YWx1ZSBhbmQgbWVhbnMgdGhlIG1vZGVsIGNhbiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3JcbiAgICogY2FsbGluZyBvbmUgb3IgbW9yZSB0b29scy4gYHJlcXVpcmVkYCBtZWFucyB0aGUgbW9kZWwgbXVzdCBjYWxsIG9uZSBvciBtb3JlXG4gICAqIHRvb2xzIGJlZm9yZSByZXNwb25kaW5nIHRvIHRoZSB1c2VyLiBTcGVjaWZ5aW5nIGEgcGFydGljdWxhciB0b29sIGxpa2VcbiAgICogYHtcInR5cGVcIjogXCJmaWxlX3NlYXJjaFwifWAgb3JcbiAgICogYHtcInR5cGVcIjogXCJmdW5jdGlvblwiLCBcImZ1bmN0aW9uXCI6IHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifX1gIGZvcmNlcyB0aGUgbW9kZWwgdG9cbiAgICogY2FsbCB0aGF0IHRvb2wuXG4gICAqL1xuICB0b29sX2Nob2ljZT86IFRocmVhZHNBUEkuQXNzaXN0YW50VG9vbENob2ljZU9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IE92ZXJyaWRlIHRoZSB0b29scyB0aGUgYXNzaXN0YW50IGNhbiB1c2UgZm9yIHRoaXMgcnVuLiBUaGlzIGlzXG4gICAqIHVzZWZ1bCBmb3IgbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQXNzaXN0YW50VG9vbD4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBBbiBhbHRlcm5hdGl2ZSB0byBzYW1wbGluZyB3aXRoIHRlbXBlcmF0dXJlLCBjYWxsZWQgbnVjbGV1c1xuICAgKiBzYW1wbGluZywgd2hlcmUgdGhlIG1vZGVsIGNvbnNpZGVycyB0aGUgcmVzdWx0cyBvZiB0aGUgdG9rZW5zIHdpdGggdG9wX3BcbiAgICogcHJvYmFiaWxpdHkgbWFzcy4gU28gMC4xIG1lYW5zIG9ubHkgdGhlIHRva2VucyBjb21wcmlzaW5nIHRoZSB0b3AgMTAlXG4gICAqIHByb2JhYmlsaXR5IG1hc3MgYXJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciB0ZW1wZXJhdHVyZSBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlXG4gICAqIHRoaXMgdG8gY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICB0cnVuY2F0aW9uX3N0cmF0ZWd5PzogUnVuQ3JlYXRlUGFyYW1zLlRydW5jYXRpb25TdHJhdGVneSB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuQ3JlYXRlUGFyYW1zIHtcbiAgZXhwb3J0IGludGVyZmFjZSBBZGRpdGlvbmFsTWVzc2FnZSB7XG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgY29udGVudHMgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY29udGVudDogc3RyaW5nIHwgQXJyYXk8TWVzc2FnZXNBUEkuTWVzc2FnZUNvbnRlbnRQYXJ0UGFyYW0+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvbGUgb2YgdGhlIGVudGl0eSB0aGF0IGlzIGNyZWF0aW5nIHRoZSBtZXNzYWdlLiBBbGxvd2VkIHZhbHVlcyBpbmNsdWRlOlxuICAgICAqXG4gICAgICogLSBgdXNlcmA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBzZW50IGJ5IGFuIGFjdHVhbCB1c2VyIGFuZCBzaG91bGQgYmUgdXNlZCBpblxuICAgICAqICAgbW9zdCBjYXNlcyB0byByZXByZXNlbnQgdXNlci1nZW5lcmF0ZWQgbWVzc2FnZXMuXG4gICAgICogLSBgYXNzaXN0YW50YDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIGdlbmVyYXRlZCBieSB0aGUgYXNzaXN0YW50LiBVc2UgdGhpc1xuICAgICAqICAgdmFsdWUgdG8gaW5zZXJ0IG1lc3NhZ2VzIGZyb20gdGhlIGFzc2lzdGFudCBpbnRvIHRoZSBjb252ZXJzYXRpb24uXG4gICAgICovXG4gICAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgZmlsZXMgYXR0YWNoZWQgdG8gdGhlIG1lc3NhZ2UsIGFuZCB0aGUgdG9vbHMgdGhleSBzaG91bGQgYmUgYWRkZWQgdG8uXG4gICAgICovXG4gICAgYXR0YWNobWVudHM/OiBBcnJheTxBZGRpdGlvbmFsTWVzc2FnZS5BdHRhY2htZW50PiB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICAgKlxuICAgICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICAgKi9cbiAgICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIEFkZGl0aW9uYWxNZXNzYWdlIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEF0dGFjaG1lbnQge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gYXR0YWNoIHRvIHRoZSBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0b29scyB0byBhZGQgdGhpcyBmaWxlIHRvLlxuICAgICAgICovXG4gICAgICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQ29kZUludGVycHJldGVyVG9vbCB8IEF0dGFjaG1lbnQuRmlsZVNlYXJjaD47XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBBdHRhY2htZW50IHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBmaWxlX3NlYXJjaGBcbiAgICAgICAgICovXG4gICAgICAgIHR5cGU6ICdmaWxlX3NlYXJjaCc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlIHRoaXMgdG9cbiAgICogY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRydW5jYXRpb25TdHJhdGVneSB7XG4gICAgLyoqXG4gICAgICogVGhlIHRydW5jYXRpb24gc3RyYXRlZ3kgdG8gdXNlIGZvciB0aGUgdGhyZWFkLiBUaGUgZGVmYXVsdCBpcyBgYXV0b2AuIElmIHNldCB0b1xuICAgICAqIGBsYXN0X21lc3NhZ2VzYCwgdGhlIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCB0byB0aGUgbiBtb3N0IHJlY2VudCBtZXNzYWdlcyBpblxuICAgICAqIHRoZSB0aHJlYWQuIFdoZW4gc2V0IHRvIGBhdXRvYCwgbWVzc2FnZXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgdGhyZWFkIHdpbGwgYmVcbiAgICAgKiBkcm9wcGVkIHRvIGZpdCB0aGUgY29udGV4dCBsZW5ndGggb2YgdGhlIG1vZGVsLCBgbWF4X3Byb21wdF90b2tlbnNgLlxuICAgICAqL1xuICAgIHR5cGU6ICdhdXRvJyB8ICdsYXN0X21lc3NhZ2VzJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbW9zdCByZWNlbnQgbWVzc2FnZXMgZnJvbSB0aGUgdGhyZWFkIHdoZW4gY29uc3RydWN0aW5nIHRoZSBjb250ZXh0XG4gICAgICogZm9yIHRoZSBydW4uXG4gICAgICovXG4gICAgbGFzdF9tZXNzYWdlcz86IG51bWJlciB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgdHlwZSBSdW5DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgPSBSdW5zQVBJLlJ1bkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZztcbiAgZXhwb3J0IHR5cGUgUnVuQ3JlYXRlUGFyYW1zU3RyZWFtaW5nID0gUnVuc0FQSS5SdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIGV4dGVuZHMgUnVuQ3JlYXRlUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBJZiBgdHJ1ZWAsIHJldHVybnMgYSBzdHJlYW0gb2YgZXZlbnRzIHRoYXQgaGFwcGVuIGR1cmluZyB0aGUgUnVuIGFzXG4gICAqIHNlcnZlci1zZW50IGV2ZW50cywgdGVybWluYXRpbmcgd2hlbiB0aGUgUnVuIGVudGVycyBhIHRlcm1pbmFsIHN0YXRlIHdpdGggYVxuICAgKiBgZGF0YTogW0RPTkVdYCBtZXNzYWdlLlxuICAgKi9cbiAgc3RyZWFtPzogZmFsc2UgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1bkNyZWF0ZVBhcmFtc1N0cmVhbWluZyBleHRlbmRzIFJ1bkNyZWF0ZVBhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogQm9keSBwYXJhbTogSWYgYHRydWVgLCByZXR1cm5zIGEgc3RyZWFtIG9mIGV2ZW50cyB0aGF0IGhhcHBlbiBkdXJpbmcgdGhlIFJ1biBhc1xuICAgKiBzZXJ2ZXItc2VudCBldmVudHMsIHRlcm1pbmF0aW5nIHdoZW4gdGhlIFJ1biBlbnRlcnMgYSB0ZXJtaW5hbCBzdGF0ZSB3aXRoIGFcbiAgICogYGRhdGE6IFtET05FXWAgbWVzc2FnZS5cbiAgICovXG4gIHN0cmVhbTogdHJ1ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW5VcGRhdGVQYXJhbXMge1xuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW5MaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGN1cnNvciBmb3IgdXNlIGluIHBhZ2luYXRpb24uIGBiZWZvcmVgIGlzIGFuIG9iamVjdCBJRCB0aGF0IGRlZmluZXMgeW91ciBwbGFjZVxuICAgKiBpbiB0aGUgbGlzdC4gRm9yIGluc3RhbmNlLCBpZiB5b3UgbWFrZSBhIGxpc3QgcmVxdWVzdCBhbmQgcmVjZWl2ZSAxMDAgb2JqZWN0cyxcbiAgICogc3RhcnRpbmcgd2l0aCBvYmpfZm9vLCB5b3VyIHN1YnNlcXVlbnQgY2FsbCBjYW4gaW5jbHVkZSBiZWZvcmU9b2JqX2ZvbyBpbiBvcmRlclxuICAgKiB0byBmZXRjaCB0aGUgcHJldmlvdXMgcGFnZSBvZiB0aGUgbGlzdC5cbiAgICovXG4gIGJlZm9yZT86IHN0cmluZztcblxuICAvKipcbiAgICogU29ydCBvcmRlciBieSB0aGUgYGNyZWF0ZWRfYXRgIHRpbWVzdGFtcCBvZiB0aGUgb2JqZWN0cy4gYGFzY2AgZm9yIGFzY2VuZGluZ1xuICAgKiBvcmRlciBhbmQgYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW5DcmVhdGVBbmRQb2xsUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB0byB1c2UgdG9cbiAgICogZXhlY3V0ZSB0aGlzIHJ1bi5cbiAgICovXG4gIGFzc2lzdGFudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBcHBlbmRzIGFkZGl0aW9uYWwgaW5zdHJ1Y3Rpb25zIGF0IHRoZSBlbmQgb2YgdGhlIGluc3RydWN0aW9ucyBmb3IgdGhlIHJ1bi4gVGhpc1xuICAgKiBpcyB1c2VmdWwgZm9yIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzIHdpdGhvdXQgb3ZlcnJpZGluZyBvdGhlclxuICAgKiBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBhZGRpdGlvbmFsX2luc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFkZHMgYWRkaXRpb25hbCBtZXNzYWdlcyB0byB0aGUgdGhyZWFkIGJlZm9yZSBjcmVhdGluZyB0aGUgcnVuLlxuICAgKi9cbiAgYWRkaXRpb25hbF9tZXNzYWdlcz86IEFycmF5PFJ1bkNyZWF0ZUFuZFBvbGxQYXJhbXMuQWRkaXRpb25hbE1lc3NhZ2U+IHwgbnVsbDtcblxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZVxuICAgKiBbaW5zdHJ1Y3Rpb25zXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMvY3JlYXRlQXNzaXN0YW50KVxuICAgKiBvZiB0aGUgYXNzaXN0YW50LiBUaGlzIGlzIHVzZWZ1bCBmb3IgbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnMgdGhhdCBtYXkgYmUgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlXG4gICAqIHJ1bi4gVGhlIHJ1biB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byB1c2Ugb25seSB0aGUgbnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zXG4gICAqIHNwZWNpZmllZCwgYWNyb3NzIG11bHRpcGxlIHR1cm5zIG9mIHRoZSBydW4uIElmIHRoZSBydW4gZXhjZWVkcyB0aGUgbnVtYmVyIG9mXG4gICAqIGNvbXBsZXRpb24gdG9rZW5zIHNwZWNpZmllZCwgdGhlIHJ1biB3aWxsIGVuZCB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuIFNlZVxuICAgKiBgaW5jb21wbGV0ZV9kZXRhaWxzYCBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgbWF4X2NvbXBsZXRpb25fdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHByb21wdCB0b2tlbnMgdGhhdCBtYXkgYmUgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIHJ1bi5cbiAgICogVGhlIHJ1biB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byB1c2Ugb25seSB0aGUgbnVtYmVyIG9mIHByb21wdCB0b2tlbnNcbiAgICogc3BlY2lmaWVkLCBhY3Jvc3MgbXVsdGlwbGUgdHVybnMgb2YgdGhlIHJ1bi4gSWYgdGhlIHJ1biBleGNlZWRzIHRoZSBudW1iZXIgb2ZcbiAgICogcHJvbXB0IHRva2VucyBzcGVjaWZpZWQsIHRoZSBydW4gd2lsbCBlbmQgd2l0aCBzdGF0dXMgYGluY29tcGxldGVgLiBTZWVcbiAgICogYGluY29tcGxldGVfZGV0YWlsc2AgZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIG1heF9wcm9tcHRfdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBbTW9kZWxdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbW9kZWxzKSB0b1xuICAgKiBiZSB1c2VkIHRvIGV4ZWN1dGUgdGhpcyBydW4uIElmIGEgdmFsdWUgaXMgcHJvdmlkZWQgaGVyZSwgaXQgd2lsbCBvdmVycmlkZSB0aGVcbiAgICogbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQuIElmIG5vdCwgdGhlIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICogYXNzaXN0YW50IHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIG1vZGVsPzpcbiAgICB8IChzdHJpbmcgJiB7fSlcbiAgICB8ICdncHQtNG8nXG4gICAgfCAnZ3B0LTRvLTIwMjQtMDUtMTMnXG4gICAgfCAnZ3B0LTQtdHVyYm8nXG4gICAgfCAnZ3B0LTQtdHVyYm8tMjAyNC0wNC0wOSdcbiAgICB8ICdncHQtNC0wMTI1LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdHVyYm8tcHJldmlldydcbiAgICB8ICdncHQtNC0xMTA2LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdmlzaW9uLXByZXZpZXcnXG4gICAgfCAnZ3B0LTQnXG4gICAgfCAnZ3B0LTQtMDMxNCdcbiAgICB8ICdncHQtNC0wNjEzJ1xuICAgIHwgJ2dwdC00LTMyaydcbiAgICB8ICdncHQtNC0zMmstMDMxNCdcbiAgICB8ICdncHQtNC0zMmstMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvLTExMDYnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0wMTI1J1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrLTA2MTMnXG4gICAgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGZvcm1hdCB0aGF0IHRoZSBtb2RlbCBtdXN0IG91dHB1dC4gQ29tcGF0aWJsZSB3aXRoXG4gICAqIFtHUFQtNG9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscy9ncHQtNG8pLFxuICAgKiBbR1BULTQgVHVyYm9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscy9ncHQtNC10dXJiby1hbmQtZ3B0LTQpLFxuICAgKiBhbmQgYWxsIEdQVC0zLjUgVHVyYm8gbW9kZWxzIHNpbmNlIGBncHQtMy41LXR1cmJvLTExMDZgLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGd1YXJhbnRlZXMgdGhlXG4gICAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gICAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAgICogZ2VuZXJhdGUgYW4gdW5lbmRpbmcgc3RyZWFtIG9mIHdoaXRlc3BhY2UgdW50aWwgdGhlIGdlbmVyYXRpb24gcmVhY2hlcyB0aGUgdG9rZW5cbiAgICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAgICogaW5kaWNhdGVzIHRoZSBnZW5lcmF0aW9uIGV4Y2VlZGVkIGBtYXhfdG9rZW5zYCBvciB0aGUgY29udmVyc2F0aW9uIGV4Y2VlZGVkIHRoZVxuICAgKiBtYXggY29udGV4dCBsZW5ndGguXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiBUaHJlYWRzQVBJLkFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoaWNoIChpZiBhbnkpIHRvb2wgaXMgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gYG5vbmVgIG1lYW5zIHRoZSBtb2RlbCB3aWxsXG4gICAqIG5vdCBjYWxsIGFueSB0b29scyBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgdmFsdWVcbiAgICogYW5kIG1lYW5zIHRoZSBtb2RlbCBjYW4gcGljayBiZXR3ZWVuIGdlbmVyYXRpbmcgYSBtZXNzYWdlIG9yIGNhbGxpbmcgb25lIG9yIG1vcmVcbiAgICogdG9vbHMuIGByZXF1aXJlZGAgbWVhbnMgdGhlIG1vZGVsIG11c3QgY2FsbCBvbmUgb3IgbW9yZSB0b29scyBiZWZvcmUgcmVzcG9uZGluZ1xuICAgKiB0byB0aGUgdXNlci4gU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgdG9vbCBsaWtlIGB7XCJ0eXBlXCI6IFwiZmlsZV9zZWFyY2hcIn1gIG9yXG4gICAqIGB7XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiOiB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn19YCBmb3JjZXMgdGhlIG1vZGVsIHRvXG4gICAqIGNhbGwgdGhhdCB0b29sLlxuICAgKi9cbiAgdG9vbF9jaG9pY2U/OiBUaHJlYWRzQVBJLkFzc2lzdGFudFRvb2xDaG9pY2VPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgdG9vbHMgdGhlIGFzc2lzdGFudCBjYW4gdXNlIGZvciB0aGlzIHJ1bi4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gICAqIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzLlxuICAgKi9cbiAgdG9vbHM/OiBBcnJheTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFRvb2w+IHwgbnVsbDtcblxuICAvKipcbiAgICogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcsIHdoZXJlIHRoZVxuICAgKiBtb2RlbCBjb25zaWRlcnMgdGhlIHJlc3VsdHMgb2YgdGhlIHRva2VucyB3aXRoIHRvcF9wIHByb2JhYmlsaXR5IG1hc3MuIFNvIDAuMVxuICAgKiBtZWFucyBvbmx5IHRoZSB0b2tlbnMgY29tcHJpc2luZyB0aGUgdG9wIDEwJSBwcm9iYWJpbGl0eSBtYXNzIGFyZSBjb25zaWRlcmVkLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgdGVtcGVyYXR1cmUgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb3IgaG93IGEgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHByaW9yIHRvIHRoZSBydW4uIFVzZSB0aGlzIHRvXG4gICAqIGNvbnRyb2wgdGhlIGludGlhbCBjb250ZXh0IHdpbmRvdyBvZiB0aGUgcnVuLlxuICAgKi9cbiAgdHJ1bmNhdGlvbl9zdHJhdGVneT86IFJ1bkNyZWF0ZUFuZFBvbGxQYXJhbXMuVHJ1bmNhdGlvblN0cmF0ZWd5IHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSdW5DcmVhdGVBbmRQb2xsUGFyYW1zIHtcbiAgZXhwb3J0IGludGVyZmFjZSBBZGRpdGlvbmFsTWVzc2FnZSB7XG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgY29udGVudHMgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY29udGVudDogc3RyaW5nIHwgQXJyYXk8TWVzc2FnZXNBUEkuTWVzc2FnZUNvbnRlbnRQYXJ0UGFyYW0+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvbGUgb2YgdGhlIGVudGl0eSB0aGF0IGlzIGNyZWF0aW5nIHRoZSBtZXNzYWdlLiBBbGxvd2VkIHZhbHVlcyBpbmNsdWRlOlxuICAgICAqXG4gICAgICogLSBgdXNlcmA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBzZW50IGJ5IGFuIGFjdHVhbCB1c2VyIGFuZCBzaG91bGQgYmUgdXNlZCBpblxuICAgICAqICAgbW9zdCBjYXNlcyB0byByZXByZXNlbnQgdXNlci1nZW5lcmF0ZWQgbWVzc2FnZXMuXG4gICAgICogLSBgYXNzaXN0YW50YDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIGdlbmVyYXRlZCBieSB0aGUgYXNzaXN0YW50LiBVc2UgdGhpc1xuICAgICAqICAgdmFsdWUgdG8gaW5zZXJ0IG1lc3NhZ2VzIGZyb20gdGhlIGFzc2lzdGFudCBpbnRvIHRoZSBjb252ZXJzYXRpb24uXG4gICAgICovXG4gICAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgZmlsZXMgYXR0YWNoZWQgdG8gdGhlIG1lc3NhZ2UsIGFuZCB0aGUgdG9vbHMgdGhleSBzaG91bGQgYmUgYWRkZWQgdG8uXG4gICAgICovXG4gICAgYXR0YWNobWVudHM/OiBBcnJheTxBZGRpdGlvbmFsTWVzc2FnZS5BdHRhY2htZW50PiB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAgICovXG4gICAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQWRkaXRpb25hbE1lc3NhZ2Uge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHRvb2xzIHRvIGFkZCB0aGlzIGZpbGUgdG8uXG4gICAgICAgKi9cbiAgICAgIHRvb2xzPzogQXJyYXk8QXNzaXN0YW50c0FQSS5Db2RlSW50ZXJwcmV0ZXJUb29sIHwgQXNzaXN0YW50c0FQSS5GaWxlU2VhcmNoVG9vbD47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlIHRoaXMgdG9cbiAgICogY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRydW5jYXRpb25TdHJhdGVneSB7XG4gICAgLyoqXG4gICAgICogVGhlIHRydW5jYXRpb24gc3RyYXRlZ3kgdG8gdXNlIGZvciB0aGUgdGhyZWFkLiBUaGUgZGVmYXVsdCBpcyBgYXV0b2AuIElmIHNldCB0b1xuICAgICAqIGBsYXN0X21lc3NhZ2VzYCwgdGhlIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCB0byB0aGUgbiBtb3N0IHJlY2VudCBtZXNzYWdlcyBpblxuICAgICAqIHRoZSB0aHJlYWQuIFdoZW4gc2V0IHRvIGBhdXRvYCwgbWVzc2FnZXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgdGhyZWFkIHdpbGwgYmVcbiAgICAgKiBkcm9wcGVkIHRvIGZpdCB0aGUgY29udGV4dCBsZW5ndGggb2YgdGhlIG1vZGVsLCBgbWF4X3Byb21wdF90b2tlbnNgLlxuICAgICAqL1xuICAgIHR5cGU6ICdhdXRvJyB8ICdsYXN0X21lc3NhZ2VzJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbW9zdCByZWNlbnQgbWVzc2FnZXMgZnJvbSB0aGUgdGhyZWFkIHdoZW4gY29uc3RydWN0aW5nIHRoZSBjb250ZXh0XG4gICAgICogZm9yIHRoZSBydW4uXG4gICAgICovXG4gICAgbGFzdF9tZXNzYWdlcz86IG51bWJlciB8IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW5DcmVhdGVBbmRTdHJlYW1QYXJhbXMge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpIHRvIHVzZSB0b1xuICAgKiBleGVjdXRlIHRoaXMgcnVuLlxuICAgKi9cbiAgYXNzaXN0YW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgYWRkaXRpb25hbCBpbnN0cnVjdGlvbnMgYXQgdGhlIGVuZCBvZiB0aGUgaW5zdHJ1Y3Rpb25zIGZvciB0aGUgcnVuLiBUaGlzXG4gICAqIGlzIHVzZWZ1bCBmb3IgbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMgd2l0aG91dCBvdmVycmlkaW5nIG90aGVyXG4gICAqIGluc3RydWN0aW9ucy5cbiAgICovXG4gIGFkZGl0aW9uYWxfaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogQWRkcyBhZGRpdGlvbmFsIG1lc3NhZ2VzIHRvIHRoZSB0aHJlYWQgYmVmb3JlIGNyZWF0aW5nIHRoZSBydW4uXG4gICAqL1xuICBhZGRpdGlvbmFsX21lc3NhZ2VzPzogQXJyYXk8UnVuQ3JlYXRlQW5kU3RyZWFtUGFyYW1zLkFkZGl0aW9uYWxNZXNzYWdlPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGVcbiAgICogW2luc3RydWN0aW9uc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzL2NyZWF0ZUFzc2lzdGFudClcbiAgICogb2YgdGhlIGFzc2lzdGFudC4gVGhpcyBpcyB1c2VmdWwgZm9yIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zIHRoYXQgbWF5IGJlIHVzZWQgb3ZlciB0aGUgY291cnNlIG9mIHRoZVxuICAgKiBydW4uIFRoZSBydW4gd2lsbCBtYWtlIGEgYmVzdCBlZmZvcnQgdG8gdXNlIG9ubHkgdGhlIG51bWJlciBvZiBjb21wbGV0aW9uIHRva2Vuc1xuICAgKiBzcGVjaWZpZWQsIGFjcm9zcyBtdWx0aXBsZSB0dXJucyBvZiB0aGUgcnVuLiBJZiB0aGUgcnVuIGV4Y2VlZHMgdGhlIG51bWJlciBvZlxuICAgKiBjb21wbGV0aW9uIHRva2VucyBzcGVjaWZpZWQsIHRoZSBydW4gd2lsbCBlbmQgd2l0aCBzdGF0dXMgYGluY29tcGxldGVgLiBTZWVcbiAgICogYGluY29tcGxldGVfZGV0YWlsc2AgZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIG1heF9jb21wbGV0aW9uX3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwcm9tcHQgdG9rZW5zIHRoYXQgbWF5IGJlIHVzZWQgb3ZlciB0aGUgY291cnNlIG9mIHRoZSBydW4uXG4gICAqIFRoZSBydW4gd2lsbCBtYWtlIGEgYmVzdCBlZmZvcnQgdG8gdXNlIG9ubHkgdGhlIG51bWJlciBvZiBwcm9tcHQgdG9rZW5zXG4gICAqIHNwZWNpZmllZCwgYWNyb3NzIG11bHRpcGxlIHR1cm5zIG9mIHRoZSBydW4uIElmIHRoZSBydW4gZXhjZWVkcyB0aGUgbnVtYmVyIG9mXG4gICAqIHByb21wdCB0b2tlbnMgc3BlY2lmaWVkLCB0aGUgcnVuIHdpbGwgZW5kIHdpdGggc3RhdHVzIGBpbmNvbXBsZXRlYC4gU2VlXG4gICAqIGBpbmNvbXBsZXRlX2RldGFpbHNgIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBtYXhfcHJvbXB0X3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICovXG4gIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgW01vZGVsXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21vZGVscykgdG9cbiAgICogYmUgdXNlZCB0byBleGVjdXRlIHRoaXMgcnVuLiBJZiBhIHZhbHVlIGlzIHByb3ZpZGVkIGhlcmUsIGl0IHdpbGwgb3ZlcnJpZGUgdGhlXG4gICAqIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXNzaXN0YW50LiBJZiBub3QsIHRoZSBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAqIGFzc2lzdGFudCB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBtb2RlbD86XG4gICAgfCAoc3RyaW5nICYge30pXG4gICAgfCAnZ3B0LTRvJ1xuICAgIHwgJ2dwdC00by0yMDI0LTA1LTEzJ1xuICAgIHwgJ2dwdC00LXR1cmJvJ1xuICAgIHwgJ2dwdC00LXR1cmJvLTIwMjQtMDQtMDknXG4gICAgfCAnZ3B0LTQtMDEyNS1wcmV2aWV3J1xuICAgIHwgJ2dwdC00LXR1cmJvLXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtMTEwNi1wcmV2aWV3J1xuICAgIHwgJ2dwdC00LXZpc2lvbi1wcmV2aWV3J1xuICAgIHwgJ2dwdC00J1xuICAgIHwgJ2dwdC00LTAzMTQnXG4gICAgfCAnZ3B0LTQtMDYxMydcbiAgICB8ICdncHQtNC0zMmsnXG4gICAgfCAnZ3B0LTQtMzJrLTAzMTQnXG4gICAgfCAnZ3B0LTQtMzJrLTA2MTMnXG4gICAgfCAnZ3B0LTMuNS10dXJibydcbiAgICB8ICdncHQtMy41LXR1cmJvLTE2aydcbiAgICB8ICdncHQtMy41LXR1cmJvLTA2MTMnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xMTA2J1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMDEyNSdcbiAgICB8ICdncHQtMy41LXR1cmJvLTE2ay0wNjEzJ1xuICAgIHwgbnVsbDtcblxuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuIENvbXBhdGlibGUgd2l0aFxuICAgKiBbR1BULTRvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMvZ3B0LTRvKSxcbiAgICogW0dQVC00IFR1cmJvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMvZ3B0LTQtdHVyYm8tYW5kLWdwdC00KSxcbiAgICogYW5kIGFsbCBHUFQtMy41IFR1cmJvIG1vZGVscyBzaW5jZSBgZ3B0LTMuNS10dXJiby0xMTA2YC5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX29iamVjdFwiIH1gIGVuYWJsZXMgSlNPTiBtb2RlLCB3aGljaCBndWFyYW50ZWVzIHRoZVxuICAgKiBtZXNzYWdlIHRoZSBtb2RlbCBnZW5lcmF0ZXMgaXMgdmFsaWQgSlNPTi5cbiAgICpcbiAgICogKipJbXBvcnRhbnQ6Kiogd2hlbiB1c2luZyBKU09OIG1vZGUsIHlvdSAqKm11c3QqKiBhbHNvIGluc3RydWN0IHRoZSBtb2RlbCB0b1xuICAgKiBwcm9kdWNlIEpTT04geW91cnNlbGYgdmlhIGEgc3lzdGVtIG9yIHVzZXIgbWVzc2FnZS4gV2l0aG91dCB0aGlzLCB0aGUgbW9kZWwgbWF5XG4gICAqIGdlbmVyYXRlIGFuIHVuZW5kaW5nIHN0cmVhbSBvZiB3aGl0ZXNwYWNlIHVudGlsIHRoZSBnZW5lcmF0aW9uIHJlYWNoZXMgdGhlIHRva2VuXG4gICAqIGxpbWl0LCByZXN1bHRpbmcgaW4gYSBsb25nLXJ1bm5pbmcgYW5kIHNlZW1pbmdseSBcInN0dWNrXCIgcmVxdWVzdC4gQWxzbyBub3RlIHRoYXRcbiAgICogdGhlIG1lc3NhZ2UgY29udGVudCBtYXkgYmUgcGFydGlhbGx5IGN1dCBvZmYgaWYgYGZpbmlzaF9yZWFzb249XCJsZW5ndGhcImAsIHdoaWNoXG4gICAqIGluZGljYXRlcyB0aGUgZ2VuZXJhdGlvbiBleGNlZWRlZCBgbWF4X3Rva2Vuc2Agb3IgdGhlIGNvbnZlcnNhdGlvbiBleGNlZWRlZCB0aGVcbiAgICogbWF4IGNvbnRleHQgbGVuZ3RoLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogVGhyZWFkc0FQSS5Bc3Npc3RhbnRSZXNwb25zZUZvcm1hdE9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFdoYXQgc2FtcGxpbmcgdGVtcGVyYXR1cmUgdG8gdXNlLCBiZXR3ZWVuIDAgYW5kIDIuIEhpZ2hlciB2YWx1ZXMgbGlrZSAwLjggd2lsbFxuICAgKiBtYWtlIHRoZSBvdXRwdXQgbW9yZSByYW5kb20sIHdoaWxlIGxvd2VyIHZhbHVlcyBsaWtlIDAuMiB3aWxsIG1ha2UgaXQgbW9yZVxuICAgKiBmb2N1c2VkIGFuZCBkZXRlcm1pbmlzdGljLlxuICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGljaCAoaWYgYW55KSB0b29sIGlzIGNhbGxlZCBieSB0aGUgbW9kZWwuIGBub25lYCBtZWFucyB0aGUgbW9kZWwgd2lsbFxuICAgKiBub3QgY2FsbCBhbnkgdG9vbHMgYW5kIGluc3RlYWQgZ2VuZXJhdGVzIGEgbWVzc2FnZS4gYGF1dG9gIGlzIHRoZSBkZWZhdWx0IHZhbHVlXG4gICAqIGFuZCBtZWFucyB0aGUgbW9kZWwgY2FuIHBpY2sgYmV0d2VlbiBnZW5lcmF0aW5nIGEgbWVzc2FnZSBvciBjYWxsaW5nIG9uZSBvciBtb3JlXG4gICAqIHRvb2xzLiBgcmVxdWlyZWRgIG1lYW5zIHRoZSBtb2RlbCBtdXN0IGNhbGwgb25lIG9yIG1vcmUgdG9vbHMgYmVmb3JlIHJlc3BvbmRpbmdcbiAgICogdG8gdGhlIHVzZXIuIFNwZWNpZnlpbmcgYSBwYXJ0aWN1bGFyIHRvb2wgbGlrZSBge1widHlwZVwiOiBcImZpbGVfc2VhcmNoXCJ9YCBvclxuICAgKiBge1widHlwZVwiOiBcImZ1bmN0aW9uXCIsIFwiZnVuY3Rpb25cIjoge1wibmFtZVwiOiBcIm15X2Z1bmN0aW9uXCJ9fWAgZm9yY2VzIHRoZSBtb2RlbCB0b1xuICAgKiBjYWxsIHRoYXQgdG9vbC5cbiAgICovXG4gIHRvb2xfY2hvaWNlPzogVGhyZWFkc0FQSS5Bc3Npc3RhbnRUb29sQ2hvaWNlT3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIHRvb2xzIHRoZSBhc3Npc3RhbnQgY2FuIHVzZSBmb3IgdGhpcyBydW4uIFRoaXMgaXMgdXNlZnVsIGZvclxuICAgKiBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8QXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRUb29sPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIGFsdGVybmF0aXZlIHRvIHNhbXBsaW5nIHdpdGggdGVtcGVyYXR1cmUsIGNhbGxlZCBudWNsZXVzIHNhbXBsaW5nLCB3aGVyZSB0aGVcbiAgICogbW9kZWwgY29uc2lkZXJzIHRoZSByZXN1bHRzIG9mIHRoZSB0b2tlbnMgd2l0aCB0b3BfcCBwcm9iYWJpbGl0eSBtYXNzLiBTbyAwLjFcbiAgICogbWVhbnMgb25seSB0aGUgdG9rZW5zIGNvbXByaXNpbmcgdGhlIHRvcCAxMCUgcHJvYmFiaWxpdHkgbWFzcyBhcmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIHRlbXBlcmF0dXJlIGJ1dCBub3QgYm90aC5cbiAgICovXG4gIHRvcF9wPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2UgdGhpcyB0b1xuICAgKiBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIHRydW5jYXRpb25fc3RyYXRlZ3k/OiBSdW5DcmVhdGVBbmRTdHJlYW1QYXJhbXMuVHJ1bmNhdGlvblN0cmF0ZWd5IHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSdW5DcmVhdGVBbmRTdHJlYW1QYXJhbXMge1xuICBleHBvcnQgaW50ZXJmYWNlIEFkZGl0aW9uYWxNZXNzYWdlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBjb250ZW50cyBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxNZXNzYWdlc0FQSS5NZXNzYWdlQ29udGVudFBhcnRQYXJhbT47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm9sZSBvZiB0aGUgZW50aXR5IHRoYXQgaXMgY3JlYXRpbmcgdGhlIG1lc3NhZ2UuIEFsbG93ZWQgdmFsdWVzIGluY2x1ZGU6XG4gICAgICpcbiAgICAgKiAtIGB1c2VyYDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIHNlbnQgYnkgYW4gYWN0dWFsIHVzZXIgYW5kIHNob3VsZCBiZSB1c2VkIGluXG4gICAgICogICBtb3N0IGNhc2VzIHRvIHJlcHJlc2VudCB1c2VyLWdlbmVyYXRlZCBtZXNzYWdlcy5cbiAgICAgKiAtIGBhc3Npc3RhbnRgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBhc3Npc3RhbnQuIFVzZSB0aGlzXG4gICAgICogICB2YWx1ZSB0byBpbnNlcnQgbWVzc2FnZXMgZnJvbSB0aGUgYXNzaXN0YW50IGludG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JztcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBmaWxlcyBhdHRhY2hlZCB0byB0aGUgbWVzc2FnZSwgYW5kIHRoZSB0b29scyB0aGV5IHNob3VsZCBiZSBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBhdHRhY2htZW50cz86IEFycmF5PEFkZGl0aW9uYWxNZXNzYWdlLkF0dGFjaG1lbnQ+IHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgICAqIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtIG9mIDUxMlxuICAgICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICAgKi9cbiAgICBtZXRhZGF0YT86IHVua25vd24gfCBudWxsO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBBZGRpdGlvbmFsTWVzc2FnZSB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBBdHRhY2htZW50IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIElEIG9mIHRoZSBmaWxlIHRvIGF0dGFjaCB0byB0aGUgbWVzc2FnZS5cbiAgICAgICAqL1xuICAgICAgZmlsZV9pZD86IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdG9vbHMgdG8gYWRkIHRoaXMgZmlsZSB0by5cbiAgICAgICAqL1xuICAgICAgdG9vbHM/OiBBcnJheTxBc3Npc3RhbnRzQVBJLkNvZGVJbnRlcnByZXRlclRvb2wgfCBBc3Npc3RhbnRzQVBJLkZpbGVTZWFyY2hUb29sPjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2UgdGhpcyB0b1xuICAgKiBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVHJ1bmNhdGlvblN0cmF0ZWd5IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJ1bmNhdGlvbiBzdHJhdGVneSB0byB1c2UgZm9yIHRoZSB0aHJlYWQuIFRoZSBkZWZhdWx0IGlzIGBhdXRvYC4gSWYgc2V0IHRvXG4gICAgICogYGxhc3RfbWVzc2FnZXNgLCB0aGUgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHRvIHRoZSBuIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGluXG4gICAgICogdGhlIHRocmVhZC4gV2hlbiBzZXQgdG8gYGF1dG9gLCBtZXNzYWdlcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSB0aHJlYWQgd2lsbCBiZVxuICAgICAqIGRyb3BwZWQgdG8gZml0IHRoZSBjb250ZXh0IGxlbmd0aCBvZiB0aGUgbW9kZWwsIGBtYXhfcHJvbXB0X3Rva2Vuc2AuXG4gICAgICovXG4gICAgdHlwZTogJ2F1dG8nIHwgJ2xhc3RfbWVzc2FnZXMnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBtb3N0IHJlY2VudCBtZXNzYWdlcyBmcm9tIHRoZSB0aHJlYWQgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGNvbnRleHRcbiAgICAgKiBmb3IgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBsYXN0X21lc3NhZ2VzPzogbnVtYmVyIHwgbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN0cmVhbVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlXG4gICAqIFthc3Npc3RhbnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgdG8gdXNlIHRvXG4gICAqIGV4ZWN1dGUgdGhpcyBydW4uXG4gICAqL1xuICBhc3Npc3RhbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQXBwZW5kcyBhZGRpdGlvbmFsIGluc3RydWN0aW9ucyBhdCB0aGUgZW5kIG9mIHRoZSBpbnN0cnVjdGlvbnMgZm9yIHRoZSBydW4uIFRoaXNcbiAgICogaXMgdXNlZnVsIGZvciBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcyB3aXRob3V0IG92ZXJyaWRpbmcgb3RoZXJcbiAgICogaW5zdHJ1Y3Rpb25zLlxuICAgKi9cbiAgYWRkaXRpb25hbF9pbnN0cnVjdGlvbnM/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBZGRzIGFkZGl0aW9uYWwgbWVzc2FnZXMgdG8gdGhlIHRocmVhZCBiZWZvcmUgY3JlYXRpbmcgdGhlIHJ1bi5cbiAgICovXG4gIGFkZGl0aW9uYWxfbWVzc2FnZXM/OiBBcnJheTxSdW5TdHJlYW1QYXJhbXMuQWRkaXRpb25hbE1lc3NhZ2U+IHwgbnVsbDtcblxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZVxuICAgKiBbaW5zdHJ1Y3Rpb25zXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMvY3JlYXRlQXNzaXN0YW50KVxuICAgKiBvZiB0aGUgYXNzaXN0YW50LiBUaGlzIGlzIHVzZWZ1bCBmb3IgbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnMgdGhhdCBtYXkgYmUgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlXG4gICAqIHJ1bi4gVGhlIHJ1biB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byB1c2Ugb25seSB0aGUgbnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zXG4gICAqIHNwZWNpZmllZCwgYWNyb3NzIG11bHRpcGxlIHR1cm5zIG9mIHRoZSBydW4uIElmIHRoZSBydW4gZXhjZWVkcyB0aGUgbnVtYmVyIG9mXG4gICAqIGNvbXBsZXRpb24gdG9rZW5zIHNwZWNpZmllZCwgdGhlIHJ1biB3aWxsIGVuZCB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuIFNlZVxuICAgKiBgaW5jb21wbGV0ZV9kZXRhaWxzYCBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgbWF4X2NvbXBsZXRpb25fdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHByb21wdCB0b2tlbnMgdGhhdCBtYXkgYmUgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIHJ1bi5cbiAgICogVGhlIHJ1biB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byB1c2Ugb25seSB0aGUgbnVtYmVyIG9mIHByb21wdCB0b2tlbnNcbiAgICogc3BlY2lmaWVkLCBhY3Jvc3MgbXVsdGlwbGUgdHVybnMgb2YgdGhlIHJ1bi4gSWYgdGhlIHJ1biBleGNlZWRzIHRoZSBudW1iZXIgb2ZcbiAgICogcHJvbXB0IHRva2VucyBzcGVjaWZpZWQsIHRoZSBydW4gd2lsbCBlbmQgd2l0aCBzdGF0dXMgYGluY29tcGxldGVgLiBTZWVcbiAgICogYGluY29tcGxldGVfZGV0YWlsc2AgZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIG1heF9wcm9tcHRfdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICogY2hhcmFjdGVycyBsb25nLlxuICAgKi9cbiAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBbTW9kZWxdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbW9kZWxzKSB0b1xuICAgKiBiZSB1c2VkIHRvIGV4ZWN1dGUgdGhpcyBydW4uIElmIGEgdmFsdWUgaXMgcHJvdmlkZWQgaGVyZSwgaXQgd2lsbCBvdmVycmlkZSB0aGVcbiAgICogbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQuIElmIG5vdCwgdGhlIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICogYXNzaXN0YW50IHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIG1vZGVsPzpcbiAgICB8IChzdHJpbmcgJiB7fSlcbiAgICB8ICdncHQtNG8nXG4gICAgfCAnZ3B0LTRvLTIwMjQtMDUtMTMnXG4gICAgfCAnZ3B0LTQtdHVyYm8nXG4gICAgfCAnZ3B0LTQtdHVyYm8tMjAyNC0wNC0wOSdcbiAgICB8ICdncHQtNC0wMTI1LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdHVyYm8tcHJldmlldydcbiAgICB8ICdncHQtNC0xMTA2LXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtdmlzaW9uLXByZXZpZXcnXG4gICAgfCAnZ3B0LTQnXG4gICAgfCAnZ3B0LTQtMDMxNCdcbiAgICB8ICdncHQtNC0wNjEzJ1xuICAgIHwgJ2dwdC00LTMyaydcbiAgICB8ICdncHQtNC0zMmstMDMxNCdcbiAgICB8ICdncHQtNC0zMmstMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMDYxMydcbiAgICB8ICdncHQtMy41LXR1cmJvLTExMDYnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0wMTI1J1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTZrLTA2MTMnXG4gICAgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgdGhlIGZvcm1hdCB0aGF0IHRoZSBtb2RlbCBtdXN0IG91dHB1dC4gQ29tcGF0aWJsZSB3aXRoXG4gICAqIFtHUFQtNG9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscy9ncHQtNG8pLFxuICAgKiBbR1BULTQgVHVyYm9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscy9ncHQtNC10dXJiby1hbmQtZ3B0LTQpLFxuICAgKiBhbmQgYWxsIEdQVC0zLjUgVHVyYm8gbW9kZWxzIHNpbmNlIGBncHQtMy41LXR1cmJvLTExMDZgLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGd1YXJhbnRlZXMgdGhlXG4gICAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gICAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAgICogZ2VuZXJhdGUgYW4gdW5lbmRpbmcgc3RyZWFtIG9mIHdoaXRlc3BhY2UgdW50aWwgdGhlIGdlbmVyYXRpb24gcmVhY2hlcyB0aGUgdG9rZW5cbiAgICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAgICogaW5kaWNhdGVzIHRoZSBnZW5lcmF0aW9uIGV4Y2VlZGVkIGBtYXhfdG9rZW5zYCBvciB0aGUgY29udmVyc2F0aW9uIGV4Y2VlZGVkIHRoZVxuICAgKiBtYXggY29udGV4dCBsZW5ndGguXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiBUaHJlYWRzQVBJLkFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoaWNoIChpZiBhbnkpIHRvb2wgaXMgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gYG5vbmVgIG1lYW5zIHRoZSBtb2RlbCB3aWxsXG4gICAqIG5vdCBjYWxsIGFueSB0b29scyBhbmQgaW5zdGVhZCBnZW5lcmF0ZXMgYSBtZXNzYWdlLiBgYXV0b2AgaXMgdGhlIGRlZmF1bHQgdmFsdWVcbiAgICogYW5kIG1lYW5zIHRoZSBtb2RlbCBjYW4gcGljayBiZXR3ZWVuIGdlbmVyYXRpbmcgYSBtZXNzYWdlIG9yIGNhbGxpbmcgb25lIG9yIG1vcmVcbiAgICogdG9vbHMuIGByZXF1aXJlZGAgbWVhbnMgdGhlIG1vZGVsIG11c3QgY2FsbCBvbmUgb3IgbW9yZSB0b29scyBiZWZvcmUgcmVzcG9uZGluZ1xuICAgKiB0byB0aGUgdXNlci4gU3BlY2lmeWluZyBhIHBhcnRpY3VsYXIgdG9vbCBsaWtlIGB7XCJ0eXBlXCI6IFwiZmlsZV9zZWFyY2hcIn1gIG9yXG4gICAqIGB7XCJ0eXBlXCI6IFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiOiB7XCJuYW1lXCI6IFwibXlfZnVuY3Rpb25cIn19YCBmb3JjZXMgdGhlIG1vZGVsIHRvXG4gICAqIGNhbGwgdGhhdCB0b29sLlxuICAgKi9cbiAgdG9vbF9jaG9pY2U/OiBUaHJlYWRzQVBJLkFzc2lzdGFudFRvb2xDaG9pY2VPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgdG9vbHMgdGhlIGFzc2lzdGFudCBjYW4gdXNlIGZvciB0aGlzIHJ1bi4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gICAqIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzLlxuICAgKi9cbiAgdG9vbHM/OiBBcnJheTxBc3Npc3RhbnRzQVBJLkFzc2lzdGFudFRvb2w+IHwgbnVsbDtcblxuICAvKipcbiAgICogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcsIHdoZXJlIHRoZVxuICAgKiBtb2RlbCBjb25zaWRlcnMgdGhlIHJlc3VsdHMgb2YgdGhlIHRva2VucyB3aXRoIHRvcF9wIHByb2JhYmlsaXR5IG1hc3MuIFNvIDAuMVxuICAgKiBtZWFucyBvbmx5IHRoZSB0b2tlbnMgY29tcHJpc2luZyB0aGUgdG9wIDEwJSBwcm9iYWJpbGl0eSBtYXNzIGFyZSBjb25zaWRlcmVkLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgdGVtcGVyYXR1cmUgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb3IgaG93IGEgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHByaW9yIHRvIHRoZSBydW4uIFVzZSB0aGlzIHRvXG4gICAqIGNvbnRyb2wgdGhlIGludGlhbCBjb250ZXh0IHdpbmRvdyBvZiB0aGUgcnVuLlxuICAgKi9cbiAgdHJ1bmNhdGlvbl9zdHJhdGVneT86IFJ1blN0cmVhbVBhcmFtcy5UcnVuY2F0aW9uU3RyYXRlZ3kgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJ1blN0cmVhbVBhcmFtcyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQWRkaXRpb25hbE1lc3NhZ2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IGNvbnRlbnRzIG9mIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIGNvbnRlbnQ6IHN0cmluZyB8IEFycmF5PE1lc3NhZ2VzQVBJLk1lc3NhZ2VDb250ZW50UGFydFBhcmFtPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb2xlIG9mIHRoZSBlbnRpdHkgdGhhdCBpcyBjcmVhdGluZyB0aGUgbWVzc2FnZS4gQWxsb3dlZCB2YWx1ZXMgaW5jbHVkZTpcbiAgICAgKlxuICAgICAqIC0gYHVzZXJgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgc2VudCBieSBhbiBhY3R1YWwgdXNlciBhbmQgc2hvdWxkIGJlIHVzZWQgaW5cbiAgICAgKiAgIG1vc3QgY2FzZXMgdG8gcmVwcmVzZW50IHVzZXItZ2VuZXJhdGVkIG1lc3NhZ2VzLlxuICAgICAqIC0gYGFzc2lzdGFudGA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBnZW5lcmF0ZWQgYnkgdGhlIGFzc2lzdGFudC4gVXNlIHRoaXNcbiAgICAgKiAgIHZhbHVlIHRvIGluc2VydCBtZXNzYWdlcyBmcm9tIHRoZSBhc3Npc3RhbnQgaW50byB0aGUgY29udmVyc2F0aW9uLlxuICAgICAqL1xuICAgIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGZpbGVzIGF0dGFjaGVkIHRvIHRoZSBtZXNzYWdlLCBhbmQgdGhlIHRvb2xzIHRoZXkgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICAgICAqL1xuICAgIGF0dGFjaG1lbnRzPzogQXJyYXk8QWRkaXRpb25hbE1lc3NhZ2UuQXR0YWNobWVudD4gfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAgICogY2hhcmFjdGVycyBsb25nLlxuICAgICAqL1xuICAgIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIEFkZGl0aW9uYWxNZXNzYWdlIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEF0dGFjaG1lbnQge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gYXR0YWNoIHRvIHRoZSBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0b29scyB0byBhZGQgdGhpcyBmaWxlIHRvLlxuICAgICAgICovXG4gICAgICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQ29kZUludGVycHJldGVyVG9vbCB8IEFzc2lzdGFudHNBUEkuRmlsZVNlYXJjaFRvb2w+O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb3IgaG93IGEgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHByaW9yIHRvIHRoZSBydW4uIFVzZSB0aGlzIHRvXG4gICAqIGNvbnRyb2wgdGhlIGludGlhbCBjb250ZXh0IHdpbmRvdyBvZiB0aGUgcnVuLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUcnVuY2F0aW9uU3RyYXRlZ3kge1xuICAgIC8qKlxuICAgICAqIFRoZSB0cnVuY2F0aW9uIHN0cmF0ZWd5IHRvIHVzZSBmb3IgdGhlIHRocmVhZC4gVGhlIGRlZmF1bHQgaXMgYGF1dG9gLiBJZiBzZXQgdG9cbiAgICAgKiBgbGFzdF9tZXNzYWdlc2AsIHRoZSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgdG8gdGhlIG4gbW9zdCByZWNlbnQgbWVzc2FnZXMgaW5cbiAgICAgKiB0aGUgdGhyZWFkLiBXaGVuIHNldCB0byBgYXV0b2AsIG1lc3NhZ2VzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHRocmVhZCB3aWxsIGJlXG4gICAgICogZHJvcHBlZCB0byBmaXQgdGhlIGNvbnRleHQgbGVuZ3RoIG9mIHRoZSBtb2RlbCwgYG1heF9wcm9tcHRfdG9rZW5zYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnYXV0bycgfCAnbGFzdF9tZXNzYWdlcyc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGZyb20gdGhlIHRocmVhZCB3aGVuIGNvbnN0cnVjdGluZyB0aGUgY29udGV4dFxuICAgICAqIGZvciB0aGUgcnVuLlxuICAgICAqL1xuICAgIGxhc3RfbWVzc2FnZXM/OiBudW1iZXIgfCBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zID1cbiAgfCBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc05vblN0cmVhbWluZ1xuICB8IFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdG9vbHMgZm9yIHdoaWNoIHRoZSBvdXRwdXRzIGFyZSBiZWluZyBzdWJtaXR0ZWQuXG4gICAqL1xuICB0b29sX291dHB1dHM6IEFycmF5PFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zLlRvb2xPdXRwdXQ+O1xuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHJldHVybnMgYSBzdHJlYW0gb2YgZXZlbnRzIHRoYXQgaGFwcGVuIGR1cmluZyB0aGUgUnVuIGFzIHNlcnZlci1zZW50XG4gICAqIGV2ZW50cywgdGVybWluYXRpbmcgd2hlbiB0aGUgUnVuIGVudGVycyBhIHRlcm1pbmFsIHN0YXRlIHdpdGggYSBgZGF0YTogW0RPTkVdYFxuICAgKiBtZXNzYWdlLlxuICAgKi9cbiAgc3RyZWFtPzogYm9vbGVhbiB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXMge1xuICBleHBvcnQgaW50ZXJmYWNlIFRvb2xPdXRwdXQge1xuICAgIC8qKlxuICAgICAqIFRoZSBvdXRwdXQgb2YgdGhlIHRvb2wgY2FsbCB0byBiZSBzdWJtaXR0ZWQgdG8gY29udGludWUgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBvdXRwdXQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbCBpbiB0aGUgYHJlcXVpcmVkX2FjdGlvbmAgb2JqZWN0IHdpdGhpbiB0aGUgcnVuIG9iamVjdFxuICAgICAqIHRoZSBvdXRwdXQgaXMgYmVpbmcgc3VibWl0dGVkIGZvci5cbiAgICAgKi9cbiAgICB0b29sX2NhbGxfaWQ/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgdHlwZSBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc05vblN0cmVhbWluZyA9IFJ1bnNBUEkuUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNOb25TdHJlYW1pbmc7XG4gIGV4cG9ydCB0eXBlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtaW5nID0gUnVuc0FQSS5SdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc1N0cmVhbWluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc05vblN0cmVhbWluZyBleHRlbmRzIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHJldHVybnMgYSBzdHJlYW0gb2YgZXZlbnRzIHRoYXQgaGFwcGVuIGR1cmluZyB0aGUgUnVuIGFzIHNlcnZlci1zZW50XG4gICAqIGV2ZW50cywgdGVybWluYXRpbmcgd2hlbiB0aGUgUnVuIGVudGVycyBhIHRlcm1pbmFsIHN0YXRlIHdpdGggYSBgZGF0YTogW0RPTkVdYFxuICAgKiBtZXNzYWdlLlxuICAgKi9cbiAgc3RyZWFtPzogZmFsc2UgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtaW5nIGV4dGVuZHMgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgcmV0dXJucyBhIHN0cmVhbSBvZiBldmVudHMgdGhhdCBoYXBwZW4gZHVyaW5nIHRoZSBSdW4gYXMgc2VydmVyLXNlbnRcbiAgICogZXZlbnRzLCB0ZXJtaW5hdGluZyB3aGVuIHRoZSBSdW4gZW50ZXJzIGEgdGVybWluYWwgc3RhdGUgd2l0aCBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqL1xuICBzdHJlYW06IHRydWU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuU3VibWl0VG9vbE91dHB1dHNBbmRQb2xsUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0b29scyBmb3Igd2hpY2ggdGhlIG91dHB1dHMgYXJlIGJlaW5nIHN1Ym1pdHRlZC5cbiAgICovXG4gIHRvb2xfb3V0cHV0czogQXJyYXk8UnVuU3VibWl0VG9vbE91dHB1dHNBbmRQb2xsUGFyYW1zLlRvb2xPdXRwdXQ+O1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzQW5kUG9sbFBhcmFtcyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbE91dHB1dCB7XG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dCBvZiB0aGUgdG9vbCBjYWxsIHRvIGJlIHN1Ym1pdHRlZCB0byBjb250aW51ZSB0aGUgcnVuLlxuICAgICAqL1xuICAgIG91dHB1dD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsIGluIHRoZSBgcmVxdWlyZWRfYWN0aW9uYCBvYmplY3Qgd2l0aGluIHRoZSBydW4gb2JqZWN0XG4gICAgICogdGhlIG91dHB1dCBpcyBiZWluZyBzdWJtaXR0ZWQgZm9yLlxuICAgICAqL1xuICAgIHRvb2xfY2FsbF9pZD86IHN0cmluZztcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzU3RyZWFtUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0b29scyBmb3Igd2hpY2ggdGhlIG91dHB1dHMgYXJlIGJlaW5nIHN1Ym1pdHRlZC5cbiAgICovXG4gIHRvb2xfb3V0cHV0czogQXJyYXk8UnVuU3VibWl0VG9vbE91dHB1dHNTdHJlYW1QYXJhbXMuVG9vbE91dHB1dD47XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUnVuU3VibWl0VG9vbE91dHB1dHNTdHJlYW1QYXJhbXMge1xuICBleHBvcnQgaW50ZXJmYWNlIFRvb2xPdXRwdXQge1xuICAgIC8qKlxuICAgICAqIFRoZSBvdXRwdXQgb2YgdGhlIHRvb2wgY2FsbCB0byBiZSBzdWJtaXR0ZWQgdG8gY29udGludWUgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBvdXRwdXQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbCBpbiB0aGUgYHJlcXVpcmVkX2FjdGlvbmAgb2JqZWN0IHdpdGhpbiB0aGUgcnVuIG9iamVjdFxuICAgICAqIHRoZSBvdXRwdXQgaXMgYmVpbmcgc3VibWl0dGVkIGZvci5cbiAgICAgKi9cbiAgICB0b29sX2NhbGxfaWQ/OiBzdHJpbmc7XG4gIH1cbn1cblxuUnVucy5SdW5zUGFnZSA9IFJ1bnNQYWdlO1xuUnVucy5TdGVwcyA9IFN0ZXBzO1xuUnVucy5SdW5TdGVwc1BhZ2UgPSBSdW5TdGVwc1BhZ2U7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBSdW5zIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIFJlcXVpcmVkQWN0aW9uRnVuY3Rpb25Ub29sQ2FsbCBhcyBSZXF1aXJlZEFjdGlvbkZ1bmN0aW9uVG9vbENhbGwsXG4gICAgdHlwZSBSdW4gYXMgUnVuLFxuICAgIHR5cGUgUnVuU3RhdHVzIGFzIFJ1blN0YXR1cyxcbiAgICBSdW5zUGFnZSBhcyBSdW5zUGFnZSxcbiAgICB0eXBlIFJ1bkNyZWF0ZVBhcmFtcyBhcyBSdW5DcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBSdW5DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgYXMgUnVuQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgUnVuQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGFzIFJ1bkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgICB0eXBlIFJ1blVwZGF0ZVBhcmFtcyBhcyBSdW5VcGRhdGVQYXJhbXMsXG4gICAgdHlwZSBSdW5MaXN0UGFyYW1zIGFzIFJ1bkxpc3RQYXJhbXMsXG4gICAgdHlwZSBSdW5DcmVhdGVBbmRQb2xsUGFyYW1zLFxuICAgIHR5cGUgUnVuQ3JlYXRlQW5kU3RyZWFtUGFyYW1zLFxuICAgIHR5cGUgUnVuU3RyZWFtUGFyYW1zLFxuICAgIHR5cGUgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXMgYXMgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXMsXG4gICAgdHlwZSBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc05vblN0cmVhbWluZyBhcyBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtc05vblN0cmVhbWluZyxcbiAgICB0eXBlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtaW5nIGFzIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtaW5nLFxuICAgIHR5cGUgUnVuU3VibWl0VG9vbE91dHB1dHNBbmRQb2xsUGFyYW1zLFxuICAgIHR5cGUgUnVuU3VibWl0VG9vbE91dHB1dHNTdHJlYW1QYXJhbXMsXG4gIH07XG5cbiAgZXhwb3J0IHtcbiAgICBTdGVwcyBhcyBTdGVwcyxcbiAgICB0eXBlIENvZGVJbnRlcnByZXRlckxvZ3MgYXMgQ29kZUludGVycHJldGVyTG9ncyxcbiAgICB0eXBlIENvZGVJbnRlcnByZXRlck91dHB1dEltYWdlIGFzIENvZGVJbnRlcnByZXRlck91dHB1dEltYWdlLFxuICAgIHR5cGUgQ29kZUludGVycHJldGVyVG9vbENhbGwgYXMgQ29kZUludGVycHJldGVyVG9vbENhbGwsXG4gICAgdHlwZSBDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbERlbHRhIGFzIENvZGVJbnRlcnByZXRlclRvb2xDYWxsRGVsdGEsXG4gICAgdHlwZSBGaWxlU2VhcmNoVG9vbENhbGwgYXMgRmlsZVNlYXJjaFRvb2xDYWxsLFxuICAgIHR5cGUgRmlsZVNlYXJjaFRvb2xDYWxsRGVsdGEgYXMgRmlsZVNlYXJjaFRvb2xDYWxsRGVsdGEsXG4gICAgdHlwZSBGdW5jdGlvblRvb2xDYWxsIGFzIEZ1bmN0aW9uVG9vbENhbGwsXG4gICAgdHlwZSBGdW5jdGlvblRvb2xDYWxsRGVsdGEgYXMgRnVuY3Rpb25Ub29sQ2FsbERlbHRhLFxuICAgIHR5cGUgTWVzc2FnZUNyZWF0aW9uU3RlcERldGFpbHMgYXMgTWVzc2FnZUNyZWF0aW9uU3RlcERldGFpbHMsXG4gICAgdHlwZSBSdW5TdGVwIGFzIFJ1blN0ZXAsXG4gICAgdHlwZSBSdW5TdGVwRGVsdGEgYXMgUnVuU3RlcERlbHRhLFxuICAgIHR5cGUgUnVuU3RlcERlbHRhRXZlbnQgYXMgUnVuU3RlcERlbHRhRXZlbnQsXG4gICAgdHlwZSBSdW5TdGVwRGVsdGFNZXNzYWdlRGVsdGEgYXMgUnVuU3RlcERlbHRhTWVzc2FnZURlbHRhLFxuICAgIHR5cGUgUnVuU3RlcEluY2x1ZGUgYXMgUnVuU3RlcEluY2x1ZGUsXG4gICAgdHlwZSBUb29sQ2FsbCBhcyBUb29sQ2FsbCxcbiAgICB0eXBlIFRvb2xDYWxsRGVsdGEgYXMgVG9vbENhbGxEZWx0YSxcbiAgICB0eXBlIFRvb2xDYWxsRGVsdGFPYmplY3QgYXMgVG9vbENhbGxEZWx0YU9iamVjdCxcbiAgICB0eXBlIFRvb2xDYWxsc1N0ZXBEZXRhaWxzIGFzIFRvb2xDYWxsc1N0ZXBEZXRhaWxzLFxuICAgIFJ1blN0ZXBzUGFnZSBhcyBSdW5TdGVwc1BhZ2UsXG4gICAgdHlwZSBTdGVwUmV0cmlldmVQYXJhbXMgYXMgU3RlcFJldHJpZXZlUGFyYW1zLFxuICAgIHR5cGUgU3RlcExpc3RQYXJhbXMgYXMgU3RlcExpc3RQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBBc3Npc3RhbnRTdHJlYW0sIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc0Jhc2VTdHJlYW0gfSBmcm9tICcuLi8uLi8uLi9saWIvQXNzaXN0YW50U3RyZWFtJztcbmltcG9ydCB7IEFQSVByb21pc2UgfSBmcm9tICcuLi8uLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBUaHJlYWRzQVBJIGZyb20gJy4vdGhyZWFkcyc7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSAnLi4vLi4vc2hhcmVkJztcbmltcG9ydCAqIGFzIEFzc2lzdGFudHNBUEkgZnJvbSAnLi4vYXNzaXN0YW50cyc7XG5pbXBvcnQgKiBhcyBNZXNzYWdlc0FQSSBmcm9tICcuL21lc3NhZ2VzJztcbmltcG9ydCB7XG4gIEFubm90YXRpb24sXG4gIEFubm90YXRpb25EZWx0YSxcbiAgRmlsZUNpdGF0aW9uQW5ub3RhdGlvbixcbiAgRmlsZUNpdGF0aW9uRGVsdGFBbm5vdGF0aW9uLFxuICBGaWxlUGF0aEFubm90YXRpb24sXG4gIEZpbGVQYXRoRGVsdGFBbm5vdGF0aW9uLFxuICBJbWFnZUZpbGUsXG4gIEltYWdlRmlsZUNvbnRlbnRCbG9jayxcbiAgSW1hZ2VGaWxlRGVsdGEsXG4gIEltYWdlRmlsZURlbHRhQmxvY2ssXG4gIEltYWdlVVJMLFxuICBJbWFnZVVSTENvbnRlbnRCbG9jayxcbiAgSW1hZ2VVUkxEZWx0YSxcbiAgSW1hZ2VVUkxEZWx0YUJsb2NrLFxuICBNZXNzYWdlIGFzIE1lc3NhZ2VzQVBJTWVzc2FnZSxcbiAgTWVzc2FnZUNvbnRlbnQsXG4gIE1lc3NhZ2VDb250ZW50RGVsdGEsXG4gIE1lc3NhZ2VDb250ZW50UGFydFBhcmFtLFxuICBNZXNzYWdlQ3JlYXRlUGFyYW1zLFxuICBNZXNzYWdlRGVsZXRlZCxcbiAgTWVzc2FnZURlbHRhLFxuICBNZXNzYWdlRGVsdGFFdmVudCxcbiAgTWVzc2FnZUxpc3RQYXJhbXMsXG4gIE1lc3NhZ2VVcGRhdGVQYXJhbXMsXG4gIE1lc3NhZ2VzLFxuICBNZXNzYWdlc1BhZ2UsXG4gIFJlZnVzYWxDb250ZW50QmxvY2ssXG4gIFJlZnVzYWxEZWx0YUJsb2NrLFxuICBUZXh0LFxuICBUZXh0Q29udGVudEJsb2NrLFxuICBUZXh0Q29udGVudEJsb2NrUGFyYW0sXG4gIFRleHREZWx0YSxcbiAgVGV4dERlbHRhQmxvY2ssXG59IGZyb20gJy4vbWVzc2FnZXMnO1xuaW1wb3J0ICogYXMgUnVuc0FQSSBmcm9tICcuL3J1bnMvcnVucyc7XG5pbXBvcnQge1xuICBSZXF1aXJlZEFjdGlvbkZ1bmN0aW9uVG9vbENhbGwsXG4gIFJ1bixcbiAgUnVuQ3JlYXRlQW5kUG9sbFBhcmFtcyxcbiAgUnVuQ3JlYXRlQW5kU3RyZWFtUGFyYW1zLFxuICBSdW5DcmVhdGVQYXJhbXMsXG4gIFJ1bkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgUnVuQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICBSdW5MaXN0UGFyYW1zLFxuICBSdW5TdGF0dXMsXG4gIFJ1blN0cmVhbVBhcmFtcyxcbiAgUnVuU3VibWl0VG9vbE91dHB1dHNBbmRQb2xsUGFyYW1zLFxuICBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtcyxcbiAgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNOb25TdHJlYW1pbmcsXG4gIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zU3RyZWFtaW5nLFxuICBSdW5TdWJtaXRUb29sT3V0cHV0c1N0cmVhbVBhcmFtcyxcbiAgUnVuVXBkYXRlUGFyYW1zLFxuICBSdW5zLFxuICBSdW5zUGFnZSxcbn0gZnJvbSAnLi9ydW5zL3J1bnMnO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi4vLi4vLi4vc3RyZWFtaW5nJztcblxuZXhwb3J0IGNsYXNzIFRocmVhZHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIHJ1bnM6IFJ1bnNBUEkuUnVucyA9IG5ldyBSdW5zQVBJLlJ1bnModGhpcy5fY2xpZW50KTtcbiAgbWVzc2FnZXM6IE1lc3NhZ2VzQVBJLk1lc3NhZ2VzID0gbmV3IE1lc3NhZ2VzQVBJLk1lc3NhZ2VzKHRoaXMuX2NsaWVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHRocmVhZC5cbiAgICovXG4gIGNyZWF0ZShib2R5PzogVGhyZWFkQ3JlYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxUaHJlYWQ+O1xuICBjcmVhdGUob3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VGhyZWFkPjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IFRocmVhZENyZWF0ZVBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFRocmVhZD4ge1xuICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKGJvZHkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGUoe30sIGJvZHkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy90aHJlYWRzJywge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIHRocmVhZC5cbiAgICovXG4gIHJldHJpZXZlKHRocmVhZElkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFRocmVhZD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdGhyZWFkcy8ke3RocmVhZElkfWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vZGlmaWVzIGEgdGhyZWFkLlxuICAgKi9cbiAgdXBkYXRlKHRocmVhZElkOiBzdHJpbmcsIGJvZHk6IFRocmVhZFVwZGF0ZVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VGhyZWFkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfWAsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSB0aHJlYWQuXG4gICAqL1xuICBkZWwodGhyZWFkSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VGhyZWFkRGVsZXRlZD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvdGhyZWFkcy8ke3RocmVhZElkfWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHRocmVhZCBhbmQgcnVuIGl0IGluIG9uZSByZXF1ZXN0LlxuICAgKi9cbiAgY3JlYXRlQW5kUnVuKFxuICAgIGJvZHk6IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc05vblN0cmVhbWluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxSdW5zQVBJLlJ1bj47XG4gIGNyZWF0ZUFuZFJ1bihcbiAgICBib2R5OiBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNTdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPEFzc2lzdGFudHNBUEkuQXNzaXN0YW50U3RyZWFtRXZlbnQ+PjtcbiAgY3JlYXRlQW5kUnVuKFxuICAgIGJvZHk6IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc0Jhc2UsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPEFzc2lzdGFudHNBUEkuQXNzaXN0YW50U3RyZWFtRXZlbnQ+IHwgUnVuc0FQSS5SdW4+O1xuICBjcmVhdGVBbmRSdW4oXG4gICAgYm9keTogVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPFJ1bnNBUEkuUnVuPiB8IEFQSVByb21pc2U8U3RyZWFtPEFzc2lzdGFudHNBUEkuQXNzaXN0YW50U3RyZWFtRXZlbnQ+PiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdGhyZWFkcy9ydW5zJywge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSxcbiAgICB9KSBhcyBBUElQcm9taXNlPFJ1bnNBUEkuUnVuPiB8IEFQSVByb21pc2U8U3RyZWFtPEFzc2lzdGFudHNBUEkuQXNzaXN0YW50U3RyZWFtRXZlbnQ+PjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGhlbHBlciB0byBjcmVhdGUgYSB0aHJlYWQsIHN0YXJ0IGEgcnVuIGFuZCB0aGVuIHBvbGwgZm9yIGEgdGVybWluYWwgc3RhdGUuXG4gICAqIE1vcmUgaW5mb3JtYXRpb24gb24gUnVuIGxpZmVjeWNsZXMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgKi9cbiAgYXN5bmMgY3JlYXRlQW5kUnVuUG9sbChcbiAgICBib2R5OiBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMgJiB7IHBvbGxJbnRlcnZhbE1zPzogbnVtYmVyIH0sXG4gICk6IFByb21pc2U8VGhyZWFkcy5SdW4+IHtcbiAgICBjb25zdCBydW4gPSBhd2FpdCB0aGlzLmNyZWF0ZUFuZFJ1bihib2R5LCBvcHRpb25zKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5ydW5zLnBvbGwocnVuLnRocmVhZF9pZCwgcnVuLmlkLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB0aHJlYWQgYW5kIHN0cmVhbSB0aGUgcnVuIGJhY2tcbiAgICovXG4gIGNyZWF0ZUFuZFJ1blN0cmVhbShcbiAgICBib2R5OiBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNCYXNlU3RyZWFtLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBc3Npc3RhbnRTdHJlYW0ge1xuICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtKGJvZHksIHRoaXMuX2NsaWVudC5iZXRhLnRocmVhZHMsIG9wdGlvbnMpO1xuICB9XG59XG5cbi8qKlxuICogU3BlY2lmaWVzIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuIENvbXBhdGlibGUgd2l0aFxuICogW0dQVC00b10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00byksXG4gKiBbR1BULTQgVHVyYm9dKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscyNncHQtNC10dXJiby1hbmQtZ3B0LTQpLFxuICogYW5kIGFsbCBHUFQtMy41IFR1cmJvIG1vZGVscyBzaW5jZSBgZ3B0LTMuNS10dXJiby0xMTA2YC5cbiAqXG4gKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fc2NoZW1hXCIsIFwianNvbl9zY2hlbWFcIjogey4uLn0gfWAgZW5hYmxlcyBTdHJ1Y3R1cmVkXG4gKiBPdXRwdXRzIHdoaWNoIGVuc3VyZXMgdGhlIG1vZGVsIHdpbGwgbWF0Y2ggeW91ciBzdXBwbGllZCBKU09OIHNjaGVtYS4gTGVhcm4gbW9yZVxuICogaW4gdGhlXG4gKiBbU3RydWN0dXJlZCBPdXRwdXRzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKS5cbiAqXG4gKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGVuc3VyZXMgdGhlXG4gKiBtZXNzYWdlIHRoZSBtb2RlbCBnZW5lcmF0ZXMgaXMgdmFsaWQgSlNPTi5cbiAqXG4gKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gKiBwcm9kdWNlIEpTT04geW91cnNlbGYgdmlhIGEgc3lzdGVtIG9yIHVzZXIgbWVzc2FnZS4gV2l0aG91dCB0aGlzLCB0aGUgbW9kZWwgbWF5XG4gKiBnZW5lcmF0ZSBhbiB1bmVuZGluZyBzdHJlYW0gb2Ygd2hpdGVzcGFjZSB1bnRpbCB0aGUgZ2VuZXJhdGlvbiByZWFjaGVzIHRoZSB0b2tlblxuICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICogdGhlIG1lc3NhZ2UgY29udGVudCBtYXkgYmUgcGFydGlhbGx5IGN1dCBvZmYgaWYgYGZpbmlzaF9yZWFzb249XCJsZW5ndGhcImAsIHdoaWNoXG4gKiBpbmRpY2F0ZXMgdGhlIGdlbmVyYXRpb24gZXhjZWVkZWQgYG1heF90b2tlbnNgIG9yIHRoZSBjb252ZXJzYXRpb24gZXhjZWVkZWQgdGhlXG4gKiBtYXggY29udGV4dCBsZW5ndGguXG4gKi9cbmV4cG9ydCB0eXBlIEFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uID1cbiAgfCAnYXV0bydcbiAgfCBTaGFyZWQuUmVzcG9uc2VGb3JtYXRUZXh0XG4gIHwgU2hhcmVkLlJlc3BvbnNlRm9ybWF0SlNPTk9iamVjdFxuICB8IFNoYXJlZC5SZXNwb25zZUZvcm1hdEpTT05TY2hlbWE7XG5cbi8qKlxuICogU3BlY2lmaWVzIGEgdG9vbCB0aGUgbW9kZWwgc2hvdWxkIHVzZS4gVXNlIHRvIGZvcmNlIHRoZSBtb2RlbCB0byBjYWxsIGEgc3BlY2lmaWNcbiAqIHRvb2wuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbENob2ljZSB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgdG9vbC4gSWYgdHlwZSBpcyBgZnVuY3Rpb25gLCB0aGUgZnVuY3Rpb24gbmFtZSBtdXN0IGJlIHNldFxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uJyB8ICdjb2RlX2ludGVycHJldGVyJyB8ICdmaWxlX3NlYXJjaCc7XG5cbiAgZnVuY3Rpb24/OiBBc3Npc3RhbnRUb29sQ2hvaWNlRnVuY3Rpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNzaXN0YW50VG9vbENob2ljZUZ1bmN0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIENvbnRyb2xzIHdoaWNoIChpZiBhbnkpIHRvb2wgaXMgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gYG5vbmVgIG1lYW5zIHRoZSBtb2RlbCB3aWxsXG4gKiBub3QgY2FsbCBhbnkgdG9vbHMgYW5kIGluc3RlYWQgZ2VuZXJhdGVzIGEgbWVzc2FnZS4gYGF1dG9gIGlzIHRoZSBkZWZhdWx0IHZhbHVlXG4gKiBhbmQgbWVhbnMgdGhlIG1vZGVsIGNhbiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3IgY2FsbGluZyBvbmUgb3IgbW9yZVxuICogdG9vbHMuIGByZXF1aXJlZGAgbWVhbnMgdGhlIG1vZGVsIG11c3QgY2FsbCBvbmUgb3IgbW9yZSB0b29scyBiZWZvcmUgcmVzcG9uZGluZ1xuICogdG8gdGhlIHVzZXIuIFNwZWNpZnlpbmcgYSBwYXJ0aWN1bGFyIHRvb2wgbGlrZSBge1widHlwZVwiOiBcImZpbGVfc2VhcmNoXCJ9YCBvclxuICogYHtcInR5cGVcIjogXCJmdW5jdGlvblwiLCBcImZ1bmN0aW9uXCI6IHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifX1gIGZvcmNlcyB0aGUgbW9kZWwgdG9cbiAqIGNhbGwgdGhhdCB0b29sLlxuICovXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRUb29sQ2hvaWNlT3B0aW9uID0gJ25vbmUnIHwgJ2F1dG8nIHwgJ3JlcXVpcmVkJyB8IEFzc2lzdGFudFRvb2xDaG9pY2U7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHRocmVhZCB0aGF0IGNvbnRhaW5zXG4gKiBbbWVzc2FnZXNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbWVzc2FnZXMpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZCB7XG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHRocmVhZCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhOiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgdGhyZWFkYC5cbiAgICovXG4gIG9iamVjdDogJ3RocmVhZCc7XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBtYWRlIGF2YWlsYWJsZSB0byB0aGUgYXNzaXN0YW50J3MgdG9vbHMgaW4gdGhpc1xuICAgKiB0aHJlYWQuIFRoZSByZXNvdXJjZXMgYXJlIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGVcbiAgICogYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYFxuICAgKiB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgSURzLlxuICAgKi9cbiAgdG9vbF9yZXNvdXJjZXM6IFRocmVhZC5Ub29sUmVzb3VyY2VzIHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWQge1xuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIG1hZGUgYXZhaWxhYmxlIHRvIHRoZSBhc3Npc3RhbnQncyB0b29scyBpbiB0aGlzXG4gICAqIHRocmVhZC4gVGhlIHJlc291cmNlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZVxuICAgKiBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgXG4gICAqIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZSBJRHMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGNvZGVfaW50ZXJwcmV0ZXI/OiBUb29sUmVzb3VyY2VzLkNvZGVJbnRlcnByZXRlcjtcblxuICAgIGZpbGVfc2VhcmNoPzogVG9vbFJlc291cmNlcy5GaWxlU2VhcmNoO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlciB7XG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIG1hZGVcbiAgICAgICAqIGF2YWlsYWJsZSB0byB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMjAgZmlsZXNcbiAgICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9vbC5cbiAgICAgICAqL1xuICAgICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZVxuICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgdGhyZWFkLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgKiB0aGUgdGhyZWFkLlxuICAgICAgICovXG4gICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaHJlYWREZWxldGVkIHtcbiAgaWQ6IHN0cmluZztcblxuICBkZWxldGVkOiBib29sZWFuO1xuXG4gIG9iamVjdDogJ3RocmVhZC5kZWxldGVkJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaHJlYWRDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogQSBsaXN0IG9mIFttZXNzYWdlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcykgdG9cbiAgICogc3RhcnQgdGhlIHRocmVhZCB3aXRoLlxuICAgKi9cbiAgbWVzc2FnZXM/OiBBcnJheTxUaHJlYWRDcmVhdGVQYXJhbXMuTWVzc2FnZT47XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBtYWRlIGF2YWlsYWJsZSB0byB0aGUgYXNzaXN0YW50J3MgdG9vbHMgaW4gdGhpc1xuICAgKiB0aHJlYWQuIFRoZSByZXNvdXJjZXMgYXJlIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGVcbiAgICogYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYFxuICAgKiB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgSURzLlxuICAgKi9cbiAgdG9vbF9yZXNvdXJjZXM/OiBUaHJlYWRDcmVhdGVQYXJhbXMuVG9vbFJlc291cmNlcyB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVGhyZWFkQ3JlYXRlUGFyYW1zIHtcbiAgZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBjb250ZW50cyBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxNZXNzYWdlc0FQSS5NZXNzYWdlQ29udGVudFBhcnRQYXJhbT47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm9sZSBvZiB0aGUgZW50aXR5IHRoYXQgaXMgY3JlYXRpbmcgdGhlIG1lc3NhZ2UuIEFsbG93ZWQgdmFsdWVzIGluY2x1ZGU6XG4gICAgICpcbiAgICAgKiAtIGB1c2VyYDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIHNlbnQgYnkgYW4gYWN0dWFsIHVzZXIgYW5kIHNob3VsZCBiZSB1c2VkIGluXG4gICAgICogICBtb3N0IGNhc2VzIHRvIHJlcHJlc2VudCB1c2VyLWdlbmVyYXRlZCBtZXNzYWdlcy5cbiAgICAgKiAtIGBhc3Npc3RhbnRgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBhc3Npc3RhbnQuIFVzZSB0aGlzXG4gICAgICogICB2YWx1ZSB0byBpbnNlcnQgbWVzc2FnZXMgZnJvbSB0aGUgYXNzaXN0YW50IGludG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JztcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBmaWxlcyBhdHRhY2hlZCB0byB0aGUgbWVzc2FnZSwgYW5kIHRoZSB0b29scyB0aGV5IHNob3VsZCBiZSBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBhdHRhY2htZW50cz86IEFycmF5PE1lc3NhZ2UuQXR0YWNobWVudD4gfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAgICpcbiAgICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAgICovXG4gICAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEF0dGFjaG1lbnQge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gYXR0YWNoIHRvIHRoZSBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkPzogc3RyaW5nO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0b29scyB0byBhZGQgdGhpcyBmaWxlIHRvLlxuICAgICAgICovXG4gICAgICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQ29kZUludGVycHJldGVyVG9vbCB8IEF0dGFjaG1lbnQuRmlsZVNlYXJjaD47XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBBdHRhY2htZW50IHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0b29sIGJlaW5nIGRlZmluZWQ6IGBmaWxlX3NlYXJjaGBcbiAgICAgICAgICovXG4gICAgICAgIHR5cGU6ICdmaWxlX3NlYXJjaCc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBtYWRlIGF2YWlsYWJsZSB0byB0aGUgYXNzaXN0YW50J3MgdG9vbHMgaW4gdGhpc1xuICAgKiB0aHJlYWQuIFRoZSByZXNvdXJjZXMgYXJlIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGVcbiAgICogYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYFxuICAgKiB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgSURzLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBjb2RlX2ludGVycHJldGVyPzogVG9vbFJlc291cmNlcy5Db2RlSW50ZXJwcmV0ZXI7XG5cbiAgICBmaWxlX3NlYXJjaD86IFRvb2xSZXNvdXJjZXMuRmlsZVNlYXJjaDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyBtYWRlXG4gICAgICAgKiBhdmFpbGFibGUgdG8gdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDIwIGZpbGVzXG4gICAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIHRvb2wuXG4gICAgICAgKi9cbiAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGVcbiAgICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAgICAgKiBhdHRhY2hlZCB0byB0aGlzIHRocmVhZC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxIHZlY3RvciBzdG9yZSBhdHRhY2hlZCB0b1xuICAgICAgICogdGhlIHRocmVhZC5cbiAgICAgICAqL1xuICAgICAgdmVjdG9yX3N0b3JlX2lkcz86IEFycmF5PHN0cmluZz47XG5cbiAgICAgIC8qKlxuICAgICAgICogQSBoZWxwZXIgdG8gY3JlYXRlIGFcbiAgICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAgICAgKiB3aXRoIGZpbGVfaWRzIGFuZCBhdHRhY2ggaXQgdG8gdGhpcyB0aHJlYWQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMSB2ZWN0b3JcbiAgICAgICAqIHN0b3JlIGF0dGFjaGVkIHRvIHRoZSB0aHJlYWQuXG4gICAgICAgKi9cbiAgICAgIHZlY3Rvcl9zdG9yZXM/OiBBcnJheTxGaWxlU2VhcmNoLlZlY3RvclN0b3JlPjtcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIEZpbGVTZWFyY2gge1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBWZWN0b3JTdG9yZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2h1bmtpbmcgc3RyYXRlZ3kgdXNlZCB0byBjaHVuayB0aGUgZmlsZShzKS4gSWYgbm90IHNldCwgd2lsbCB1c2UgdGhlIGBhdXRvYFxuICAgICAgICAgKiBzdHJhdGVneS5cbiAgICAgICAgICovXG4gICAgICAgIGNodW5raW5nX3N0cmF0ZWd5PzogVmVjdG9yU3RvcmUuQXV0byB8IFZlY3RvclN0b3JlLlN0YXRpYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgdG9cbiAgICAgICAgICogYWRkIHRvIHRoZSB2ZWN0b3Igc3RvcmUuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMTAwMDAgZmlsZXMgaW4gYSB2ZWN0b3JcbiAgICAgICAgICogc3RvcmUuXG4gICAgICAgICAqL1xuICAgICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgICAgICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAgICAgICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAgICAgICAqL1xuICAgICAgICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydCBuYW1lc3BhY2UgVmVjdG9yU3RvcmUge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc3RyYXRlZ3kuIFRoaXMgc3RyYXRlZ3kgY3VycmVudGx5IHVzZXMgYSBgbWF4X2NodW5rX3NpemVfdG9rZW5zYCBvZlxuICAgICAgICAgKiBgODAwYCBhbmQgYGNodW5rX292ZXJsYXBfdG9rZW5zYCBvZiBgNDAwYC5cbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgQXV0byB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQWx3YXlzIGBhdXRvYC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICB0eXBlOiAnYXV0byc7XG4gICAgICAgIH1cblxuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIFN0YXRpYyB7XG4gICAgICAgICAgc3RhdGljOiBTdGF0aWMuU3RhdGljO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQWx3YXlzIGBzdGF0aWNgLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHR5cGU6ICdzdGF0aWMnO1xuICAgICAgICB9XG5cbiAgICAgICAgZXhwb3J0IG5hbWVzcGFjZSBTdGF0aWMge1xuICAgICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgU3RhdGljIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIG51bWJlciBvZiB0b2tlbnMgdGhhdCBvdmVybGFwIGJldHdlZW4gY2h1bmtzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgNDAwYC5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBOb3RlIHRoYXQgdGhlIG92ZXJsYXAgbXVzdCBub3QgZXhjZWVkIGhhbGYgb2YgYG1heF9jaHVua19zaXplX3Rva2Vuc2AuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNodW5rX292ZXJsYXBfdG9rZW5zOiBudW1iZXI7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRva2VucyBpbiBlYWNoIGNodW5rLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgODAwYC4gVGhlXG4gICAgICAgICAgICAgKiBtaW5pbXVtIHZhbHVlIGlzIGAxMDBgIGFuZCB0aGUgbWF4aW11bSB2YWx1ZSBpcyBgNDA5NmAuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG1heF9jaHVua19zaXplX3Rva2VuczogbnVtYmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZFVwZGF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgbWFkZSBhdmFpbGFibGUgdG8gdGhlIGFzc2lzdGFudCdzIHRvb2xzIGluIHRoaXNcbiAgICogdGhyZWFkLiBUaGUgcmVzb3VyY2VzIGFyZSBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlXG4gICAqIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGBcbiAgICogdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlIElEcy5cbiAgICovXG4gIHRvb2xfcmVzb3VyY2VzPzogVGhyZWFkVXBkYXRlUGFyYW1zLlRvb2xSZXNvdXJjZXMgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFRocmVhZFVwZGF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgbWFkZSBhdmFpbGFibGUgdG8gdGhlIGFzc2lzdGFudCdzIHRvb2xzIGluIHRoaXNcbiAgICogdGhyZWFkLiBUaGUgcmVzb3VyY2VzIGFyZSBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlXG4gICAqIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGBcbiAgICogdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlIElEcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgY29kZV9pbnRlcnByZXRlcj86IFRvb2xSZXNvdXJjZXMuQ29kZUludGVycHJldGVyO1xuXG4gICAgZmlsZV9zZWFyY2g/OiBUb29sUmVzb3VyY2VzLkZpbGVTZWFyY2g7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgbWFkZVxuICAgICAgICogYXZhaWxhYmxlIHRvIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlc1xuICAgICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB0b29sLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlXG4gICAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgICAgICogYXR0YWNoZWQgdG8gdGhpcyB0aHJlYWQuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMSB2ZWN0b3Igc3RvcmUgYXR0YWNoZWQgdG9cbiAgICAgICAqIHRoZSB0aHJlYWQuXG4gICAgICAgKi9cbiAgICAgIHZlY3Rvcl9zdG9yZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMgPVxuICB8IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc05vblN0cmVhbWluZ1xuICB8IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc1N0cmVhbWluZztcblxuZXhwb3J0IGludGVyZmFjZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGVcbiAgICogW2Fzc2lzdGFudF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9hc3Npc3RhbnRzKSB0byB1c2UgdG9cbiAgICogZXhlY3V0ZSB0aGlzIHJ1bi5cbiAgICovXG4gIGFzc2lzdGFudF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBzeXN0ZW0gbWVzc2FnZSBvZiB0aGUgYXNzaXN0YW50LiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICogbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnMgdGhhdCBtYXkgYmUgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlXG4gICAqIHJ1bi4gVGhlIHJ1biB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byB1c2Ugb25seSB0aGUgbnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zXG4gICAqIHNwZWNpZmllZCwgYWNyb3NzIG11bHRpcGxlIHR1cm5zIG9mIHRoZSBydW4uIElmIHRoZSBydW4gZXhjZWVkcyB0aGUgbnVtYmVyIG9mXG4gICAqIGNvbXBsZXRpb24gdG9rZW5zIHNwZWNpZmllZCwgdGhlIHJ1biB3aWxsIGVuZCB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuIFNlZVxuICAgKiBgaW5jb21wbGV0ZV9kZXRhaWxzYCBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgbWF4X2NvbXBsZXRpb25fdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHByb21wdCB0b2tlbnMgdGhhdCBtYXkgYmUgdXNlZCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIHJ1bi5cbiAgICogVGhlIHJ1biB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byB1c2Ugb25seSB0aGUgbnVtYmVyIG9mIHByb21wdCB0b2tlbnNcbiAgICogc3BlY2lmaWVkLCBhY3Jvc3MgbXVsdGlwbGUgdHVybnMgb2YgdGhlIHJ1bi4gSWYgdGhlIHJ1biBleGNlZWRzIHRoZSBudW1iZXIgb2ZcbiAgICogcHJvbXB0IHRva2VucyBzcGVjaWZpZWQsIHRoZSBydW4gd2lsbCBlbmQgd2l0aCBzdGF0dXMgYGluY29tcGxldGVgLiBTZWVcbiAgICogYGluY29tcGxldGVfZGV0YWlsc2AgZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIG1heF9wcm9tcHRfdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBbTW9kZWxdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbW9kZWxzKSB0b1xuICAgKiBiZSB1c2VkIHRvIGV4ZWN1dGUgdGhpcyBydW4uIElmIGEgdmFsdWUgaXMgcHJvdmlkZWQgaGVyZSwgaXQgd2lsbCBvdmVycmlkZSB0aGVcbiAgICogbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBhc3Npc3RhbnQuIElmIG5vdCwgdGhlIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICogYXNzaXN0YW50IHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIG1vZGVsPzogKHN0cmluZyAmIHt9KSB8IFNoYXJlZC5DaGF0TW9kZWwgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVuYWJsZVxuICAgKiBbcGFyYWxsZWwgZnVuY3Rpb24gY2FsbGluZ10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2Z1bmN0aW9uLWNhbGxpbmcjY29uZmlndXJpbmctcGFyYWxsZWwtZnVuY3Rpb24tY2FsbGluZylcbiAgICogZHVyaW5nIHRvb2wgdXNlLlxuICAgKi9cbiAgcGFyYWxsZWxfdG9vbF9jYWxscz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LiBDb21wYXRpYmxlIHdpdGhcbiAgICogW0dQVC00b10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00byksXG4gICAqIFtHUFQtNCBUdXJib10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzI2dwdC00LXR1cmJvLWFuZC1ncHQtNCksXG4gICAqIGFuZCBhbGwgR1BULTMuNSBUdXJibyBtb2RlbHMgc2luY2UgYGdwdC0zLjUtdHVyYm8tMTEwNmAuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9zY2hlbWFcIiwgXCJqc29uX3NjaGVtYVwiOiB7Li4ufSB9YCBlbmFibGVzIFN0cnVjdHVyZWRcbiAgICogT3V0cHV0cyB3aGljaCBlbnN1cmVzIHRoZSBtb2RlbCB3aWxsIG1hdGNoIHlvdXIgc3VwcGxpZWQgSlNPTiBzY2hlbWEuIExlYXJuIG1vcmVcbiAgICogaW4gdGhlXG4gICAqIFtTdHJ1Y3R1cmVkIE91dHB1dHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpLlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyBKU09OIG1vZGUsIHdoaWNoIGVuc3VyZXMgdGhlXG4gICAqIG1lc3NhZ2UgdGhlIG1vZGVsIGdlbmVyYXRlcyBpcyB2YWxpZCBKU09OLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDoqKiB3aGVuIHVzaW5nIEpTT04gbW9kZSwgeW91ICoqbXVzdCoqIGFsc28gaW5zdHJ1Y3QgdGhlIG1vZGVsIHRvXG4gICAqIHByb2R1Y2UgSlNPTiB5b3Vyc2VsZiB2aWEgYSBzeXN0ZW0gb3IgdXNlciBtZXNzYWdlLiBXaXRob3V0IHRoaXMsIHRoZSBtb2RlbCBtYXlcbiAgICogZ2VuZXJhdGUgYW4gdW5lbmRpbmcgc3RyZWFtIG9mIHdoaXRlc3BhY2UgdW50aWwgdGhlIGdlbmVyYXRpb24gcmVhY2hlcyB0aGUgdG9rZW5cbiAgICogbGltaXQsIHJlc3VsdGluZyBpbiBhIGxvbmctcnVubmluZyBhbmQgc2VlbWluZ2x5IFwic3R1Y2tcIiByZXF1ZXN0LiBBbHNvIG5vdGUgdGhhdFxuICAgKiB0aGUgbWVzc2FnZSBjb250ZW50IG1heSBiZSBwYXJ0aWFsbHkgY3V0IG9mZiBpZiBgZmluaXNoX3JlYXNvbj1cImxlbmd0aFwiYCwgd2hpY2hcbiAgICogaW5kaWNhdGVzIHRoZSBnZW5lcmF0aW9uIGV4Y2VlZGVkIGBtYXhfdG9rZW5zYCBvciB0aGUgY29udmVyc2F0aW9uIGV4Y2VlZGVkIHRoZVxuICAgKiBtYXggY29udGV4dCBsZW5ndGguXG4gICAqL1xuICByZXNwb25zZV9mb3JtYXQ/OiBBc3Npc3RhbnRSZXNwb25zZUZvcm1hdE9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgcmV0dXJucyBhIHN0cmVhbSBvZiBldmVudHMgdGhhdCBoYXBwZW4gZHVyaW5nIHRoZSBSdW4gYXMgc2VydmVyLXNlbnRcbiAgICogZXZlbnRzLCB0ZXJtaW5hdGluZyB3aGVuIHRoZSBSdW4gZW50ZXJzIGEgdGVybWluYWwgc3RhdGUgd2l0aCBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqL1xuICBzdHJlYW0/OiBib29sZWFuIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgdG8gY3JlYXRlIGEgbmV3IHRocmVhZC4gSWYgbm8gdGhyZWFkIGlzIHByb3ZpZGVkIHdoZW4gcnVubmluZyBhIHJlcXVlc3QsXG4gICAqIGFuIGVtcHR5IHRocmVhZCB3aWxsIGJlIGNyZWF0ZWQuXG4gICAqL1xuICB0aHJlYWQ/OiBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMuVGhyZWFkO1xuXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGljaCAoaWYgYW55KSB0b29sIGlzIGNhbGxlZCBieSB0aGUgbW9kZWwuIGBub25lYCBtZWFucyB0aGUgbW9kZWwgd2lsbFxuICAgKiBub3QgY2FsbCBhbnkgdG9vbHMgYW5kIGluc3RlYWQgZ2VuZXJhdGVzIGEgbWVzc2FnZS4gYGF1dG9gIGlzIHRoZSBkZWZhdWx0IHZhbHVlXG4gICAqIGFuZCBtZWFucyB0aGUgbW9kZWwgY2FuIHBpY2sgYmV0d2VlbiBnZW5lcmF0aW5nIGEgbWVzc2FnZSBvciBjYWxsaW5nIG9uZSBvciBtb3JlXG4gICAqIHRvb2xzLiBgcmVxdWlyZWRgIG1lYW5zIHRoZSBtb2RlbCBtdXN0IGNhbGwgb25lIG9yIG1vcmUgdG9vbHMgYmVmb3JlIHJlc3BvbmRpbmdcbiAgICogdG8gdGhlIHVzZXIuIFNwZWNpZnlpbmcgYSBwYXJ0aWN1bGFyIHRvb2wgbGlrZSBge1widHlwZVwiOiBcImZpbGVfc2VhcmNoXCJ9YCBvclxuICAgKiBge1widHlwZVwiOiBcImZ1bmN0aW9uXCIsIFwiZnVuY3Rpb25cIjoge1wibmFtZVwiOiBcIm15X2Z1bmN0aW9uXCJ9fWAgZm9yY2VzIHRoZSBtb2RlbCB0b1xuICAgKiBjYWxsIHRoYXQgdG9vbC5cbiAgICovXG4gIHRvb2xfY2hvaWNlPzogQXNzaXN0YW50VG9vbENob2ljZU9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSB1c2VkIGJ5IHRoZSBhc3Npc3RhbnQncyB0b29scy4gVGhlIHJlc291cmNlcyBhcmVcbiAgICogc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlc1xuICAgKiBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZVxuICAgKiBJRHMuXG4gICAqL1xuICB0b29sX3Jlc291cmNlcz86IFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtcy5Ub29sUmVzb3VyY2VzIHwgbnVsbDtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIHRvb2xzIHRoZSBhc3Npc3RhbnQgY2FuIHVzZSBmb3IgdGhpcyBydW4uIFRoaXMgaXMgdXNlZnVsIGZvclxuICAgKiBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8XG4gICAgQXNzaXN0YW50c0FQSS5Db2RlSW50ZXJwcmV0ZXJUb29sIHwgQXNzaXN0YW50c0FQSS5GaWxlU2VhcmNoVG9vbCB8IEFzc2lzdGFudHNBUEkuRnVuY3Rpb25Ub29sXG4gID4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBzYW1wbGluZyB3aXRoIHRlbXBlcmF0dXJlLCBjYWxsZWQgbnVjbGV1cyBzYW1wbGluZywgd2hlcmUgdGhlXG4gICAqIG1vZGVsIGNvbnNpZGVycyB0aGUgcmVzdWx0cyBvZiB0aGUgdG9rZW5zIHdpdGggdG9wX3AgcHJvYmFiaWxpdHkgbWFzcy4gU28gMC4xXG4gICAqIG1lYW5zIG9ubHkgdGhlIHRva2VucyBjb21wcmlzaW5nIHRoZSB0b3AgMTAlIHByb2JhYmlsaXR5IG1hc3MgYXJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciB0ZW1wZXJhdHVyZSBidXQgbm90IGJvdGguXG4gICAqL1xuICB0b3BfcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlIHRoaXMgdG9cbiAgICogY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICB0cnVuY2F0aW9uX3N0cmF0ZWd5PzogVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zLlRydW5jYXRpb25TdHJhdGVneSB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zIHtcbiAgLyoqXG4gICAqIE9wdGlvbnMgdG8gY3JlYXRlIGEgbmV3IHRocmVhZC4gSWYgbm8gdGhyZWFkIGlzIHByb3ZpZGVkIHdoZW4gcnVubmluZyBhIHJlcXVlc3QsXG4gICAqIGFuIGVtcHR5IHRocmVhZCB3aWxsIGJlIGNyZWF0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZCB7XG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIFttZXNzYWdlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcykgdG9cbiAgICAgKiBzdGFydCB0aGUgdGhyZWFkIHdpdGguXG4gICAgICovXG4gICAgbWVzc2FnZXM/OiBBcnJheTxUaHJlYWQuTWVzc2FnZT47XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICAgKlxuICAgICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICAgKi9cbiAgICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgbWFkZSBhdmFpbGFibGUgdG8gdGhlIGFzc2lzdGFudCdzIHRvb2xzIGluIHRoaXNcbiAgICAgKiB0aHJlYWQuIFRoZSByZXNvdXJjZXMgYXJlIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGVcbiAgICAgKiBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgXG4gICAgICogdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlIElEcy5cbiAgICAgKi9cbiAgICB0b29sX3Jlc291cmNlcz86IFRocmVhZC5Ub29sUmVzb3VyY2VzIHwgbnVsbDtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgVGhyZWFkIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdGV4dCBjb250ZW50cyBvZiB0aGUgbWVzc2FnZS5cbiAgICAgICAqL1xuICAgICAgY29udGVudDogc3RyaW5nIHwgQXJyYXk8TWVzc2FnZXNBUEkuTWVzc2FnZUNvbnRlbnRQYXJ0UGFyYW0+O1xuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSByb2xlIG9mIHRoZSBlbnRpdHkgdGhhdCBpcyBjcmVhdGluZyB0aGUgbWVzc2FnZS4gQWxsb3dlZCB2YWx1ZXMgaW5jbHVkZTpcbiAgICAgICAqXG4gICAgICAgKiAtIGB1c2VyYDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIHNlbnQgYnkgYW4gYWN0dWFsIHVzZXIgYW5kIHNob3VsZCBiZSB1c2VkIGluXG4gICAgICAgKiAgIG1vc3QgY2FzZXMgdG8gcmVwcmVzZW50IHVzZXItZ2VuZXJhdGVkIG1lc3NhZ2VzLlxuICAgICAgICogLSBgYXNzaXN0YW50YDogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIGdlbmVyYXRlZCBieSB0aGUgYXNzaXN0YW50LiBVc2UgdGhpc1xuICAgICAgICogICB2YWx1ZSB0byBpbnNlcnQgbWVzc2FnZXMgZnJvbSB0aGUgYXNzaXN0YW50IGludG8gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgICAqL1xuICAgICAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG5cbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIGZpbGVzIGF0dGFjaGVkIHRvIHRoZSBtZXNzYWdlLCBhbmQgdGhlIHRvb2xzIHRoZXkgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICAgICAgICovXG4gICAgICBhdHRhY2htZW50cz86IEFycmF5PE1lc3NhZ2UuQXR0YWNobWVudD4gfCBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICAgICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICAgICAqXG4gICAgICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgICAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICAgICAqL1xuICAgICAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgTWVzc2FnZSB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEF0dGFjaG1lbnQge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSBmaWxlIHRvIGF0dGFjaCB0byB0aGUgbWVzc2FnZS5cbiAgICAgICAgICovXG4gICAgICAgIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0b29scyB0byBhZGQgdGhpcyBmaWxlIHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgdG9vbHM/OiBBcnJheTxBc3Npc3RhbnRzQVBJLkNvZGVJbnRlcnByZXRlclRvb2wgfCBBdHRhY2htZW50LkZpbGVTZWFyY2g+O1xuICAgICAgfVxuXG4gICAgICBleHBvcnQgbmFtZXNwYWNlIEF0dGFjaG1lbnQge1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoZSB0eXBlIG9mIHRvb2wgYmVpbmcgZGVmaW5lZDogYGZpbGVfc2VhcmNoYFxuICAgICAgICAgICAqL1xuICAgICAgICAgIHR5cGU6ICdmaWxlX3NlYXJjaCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgbWFkZSBhdmFpbGFibGUgdG8gdGhlIGFzc2lzdGFudCdzIHRvb2xzIGluIHRoaXNcbiAgICAgKiB0aHJlYWQuIFRoZSByZXNvdXJjZXMgYXJlIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGVcbiAgICAgKiBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgXG4gICAgICogdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlIElEcy5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgICAgY29kZV9pbnRlcnByZXRlcj86IFRvb2xSZXNvdXJjZXMuQ29kZUludGVycHJldGVyO1xuXG4gICAgICBmaWxlX3NlYXJjaD86IFRvb2xSZXNvdXJjZXMuRmlsZVNlYXJjaDtcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgbWFkZVxuICAgICAgICAgKiBhdmFpbGFibGUgdG8gdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDIwIGZpbGVzXG4gICAgICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9vbC5cbiAgICAgICAgICovXG4gICAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICAgIH1cblxuICAgICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZVxuICAgICAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgICAgICAgKiBhdHRhY2hlZCB0byB0aGlzIHRocmVhZC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxIHZlY3RvciBzdG9yZSBhdHRhY2hlZCB0b1xuICAgICAgICAgKiB0aGUgdGhyZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdmVjdG9yX3N0b3JlX2lkcz86IEFycmF5PHN0cmluZz47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgaGVscGVyIHRvIGNyZWF0ZSBhXG4gICAgICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAgICAgICAqIHdpdGggZmlsZV9pZHMgYW5kIGF0dGFjaCBpdCB0byB0aGlzIHRocmVhZC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxIHZlY3RvclxuICAgICAgICAgKiBzdG9yZSBhdHRhY2hlZCB0byB0aGUgdGhyZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdmVjdG9yX3N0b3Jlcz86IEFycmF5PEZpbGVTZWFyY2guVmVjdG9yU3RvcmU+O1xuICAgICAgfVxuXG4gICAgICBleHBvcnQgbmFtZXNwYWNlIEZpbGVTZWFyY2gge1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIFZlY3RvclN0b3JlIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgY2h1bmtpbmcgc3RyYXRlZ3kgdXNlZCB0byBjaHVuayB0aGUgZmlsZShzKS4gSWYgbm90IHNldCwgd2lsbCB1c2UgdGhlIGBhdXRvYFxuICAgICAgICAgICAqIHN0cmF0ZWd5LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNodW5raW5nX3N0cmF0ZWd5PzogVmVjdG9yU3RvcmUuQXV0byB8IFZlY3RvclN0b3JlLlN0YXRpYztcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEEgbGlzdCBvZiBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIHRvXG4gICAgICAgICAgICogYWRkIHRvIHRoZSB2ZWN0b3Igc3RvcmUuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMTAwMDAgZmlsZXMgaW4gYSB2ZWN0b3JcbiAgICAgICAgICAgKiBzdG9yZS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICAgICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgICAgICAgICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAgICAgICAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBtZXRhZGF0YT86IFNoYXJlZC5NZXRhZGF0YSB8IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBleHBvcnQgbmFtZXNwYWNlIFZlY3RvclN0b3JlIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgZGVmYXVsdCBzdHJhdGVneS4gVGhpcyBzdHJhdGVneSBjdXJyZW50bHkgdXNlcyBhIGBtYXhfY2h1bmtfc2l6ZV90b2tlbnNgIG9mXG4gICAgICAgICAgICogYDgwMGAgYW5kIGBjaHVua19vdmVybGFwX3Rva2Vuc2Agb2YgYDQwMGAuXG4gICAgICAgICAgICovXG4gICAgICAgICAgZXhwb3J0IGludGVyZmFjZSBBdXRvIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQWx3YXlzIGBhdXRvYC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdHlwZTogJ2F1dG8nO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgU3RhdGljIHtcbiAgICAgICAgICAgIHN0YXRpYzogU3RhdGljLlN0YXRpYztcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbHdheXMgYHN0YXRpY2AuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHR5cGU6ICdzdGF0aWMnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV4cG9ydCBuYW1lc3BhY2UgU3RhdGljIHtcbiAgICAgICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgU3RhdGljIHtcbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIFRoZSBudW1iZXIgb2YgdG9rZW5zIHRoYXQgb3ZlcmxhcCBiZXR3ZWVuIGNodW5rcy4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYDQwMGAuXG4gICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAqIE5vdGUgdGhhdCB0aGUgb3ZlcmxhcCBtdXN0IG5vdCBleGNlZWQgaGFsZiBvZiBgbWF4X2NodW5rX3NpemVfdG9rZW5zYC5cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIGNodW5rX292ZXJsYXBfdG9rZW5zOiBudW1iZXI7XG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgaW4gZWFjaCBjaHVuay4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYDgwMGAuIFRoZVxuICAgICAgICAgICAgICAgKiBtaW5pbXVtIHZhbHVlIGlzIGAxMDBgIGFuZCB0aGUgbWF4aW11bSB2YWx1ZSBpcyBgNDA5NmAuXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBtYXhfY2h1bmtfc2l6ZV90b2tlbnM6IG51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGFzc2lzdGFudCdzIHRvb2xzLiBUaGUgcmVzb3VyY2VzIGFyZVxuICAgKiBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzXG4gICAqIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlXG4gICAqIElEcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgY29kZV9pbnRlcnByZXRlcj86IFRvb2xSZXNvdXJjZXMuQ29kZUludGVycHJldGVyO1xuXG4gICAgZmlsZV9zZWFyY2g/OiBUb29sUmVzb3VyY2VzLkZpbGVTZWFyY2g7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgbWFkZVxuICAgICAgICogYXZhaWxhYmxlIHRvIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlc1xuICAgICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB0b29sLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIElEIG9mIHRoZVxuICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgYXNzaXN0YW50LiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgKiB0aGUgYXNzaXN0YW50LlxuICAgICAgICovXG4gICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2UgdGhpcyB0b1xuICAgKiBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVHJ1bmNhdGlvblN0cmF0ZWd5IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJ1bmNhdGlvbiBzdHJhdGVneSB0byB1c2UgZm9yIHRoZSB0aHJlYWQuIFRoZSBkZWZhdWx0IGlzIGBhdXRvYC4gSWYgc2V0IHRvXG4gICAgICogYGxhc3RfbWVzc2FnZXNgLCB0aGUgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHRvIHRoZSBuIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGluXG4gICAgICogdGhlIHRocmVhZC4gV2hlbiBzZXQgdG8gYGF1dG9gLCBtZXNzYWdlcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSB0aHJlYWQgd2lsbCBiZVxuICAgICAqIGRyb3BwZWQgdG8gZml0IHRoZSBjb250ZXh0IGxlbmd0aCBvZiB0aGUgbW9kZWwsIGBtYXhfcHJvbXB0X3Rva2Vuc2AuXG4gICAgICovXG4gICAgdHlwZTogJ2F1dG8nIHwgJ2xhc3RfbWVzc2FnZXMnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBtb3N0IHJlY2VudCBtZXNzYWdlcyBmcm9tIHRoZSB0aHJlYWQgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGNvbnRleHRcbiAgICAgKiBmb3IgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBsYXN0X21lc3NhZ2VzPzogbnVtYmVyIHwgbnVsbDtcbiAgfVxuXG4gIGV4cG9ydCB0eXBlIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc05vblN0cmVhbWluZyA9IFRocmVhZHNBUEkuVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNTdHJlYW1pbmcgPSBUaHJlYWRzQVBJLlRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc1N0cmVhbWluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNOb25TdHJlYW1pbmcgZXh0ZW5kcyBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgcmV0dXJucyBhIHN0cmVhbSBvZiBldmVudHMgdGhhdCBoYXBwZW4gZHVyaW5nIHRoZSBSdW4gYXMgc2VydmVyLXNlbnRcbiAgICogZXZlbnRzLCB0ZXJtaW5hdGluZyB3aGVuIHRoZSBSdW4gZW50ZXJzIGEgdGVybWluYWwgc3RhdGUgd2l0aCBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqL1xuICBzdHJlYW0/OiBmYWxzZSB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zU3RyZWFtaW5nIGV4dGVuZHMgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHJldHVybnMgYSBzdHJlYW0gb2YgZXZlbnRzIHRoYXQgaGFwcGVuIGR1cmluZyB0aGUgUnVuIGFzIHNlcnZlci1zZW50XG4gICAqIGV2ZW50cywgdGVybWluYXRpbmcgd2hlbiB0aGUgUnVuIGVudGVycyBhIHRlcm1pbmFsIHN0YXRlIHdpdGggYSBgZGF0YTogW0RPTkVdYFxuICAgKiBtZXNzYWdlLlxuICAgKi9cbiAgc3RyZWFtOiB0cnVlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZENyZWF0ZUFuZFJ1blBvbGxQYXJhbXMge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZVxuICAgKiBbYXNzaXN0YW50XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2Fzc2lzdGFudHMpIHRvIHVzZSB0b1xuICAgKiBleGVjdXRlIHRoaXMgcnVuLlxuICAgKi9cbiAgYXNzaXN0YW50X2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBkZWZhdWx0IHN5c3RlbSBtZXNzYWdlIG9mIHRoZSBhc3Npc3RhbnQuIFRoaXMgaXMgdXNlZnVsIGZvclxuICAgKiBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9uIGEgcGVyLXJ1biBiYXNpcy5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjb21wbGV0aW9uIHRva2VucyB0aGF0IG1heSBiZSB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGVcbiAgICogcnVuLiBUaGUgcnVuIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHVzZSBvbmx5IHRoZSBudW1iZXIgb2YgY29tcGxldGlvbiB0b2tlbnNcbiAgICogc3BlY2lmaWVkLCBhY3Jvc3MgbXVsdGlwbGUgdHVybnMgb2YgdGhlIHJ1bi4gSWYgdGhlIHJ1biBleGNlZWRzIHRoZSBudW1iZXIgb2ZcbiAgICogY29tcGxldGlvbiB0b2tlbnMgc3BlY2lmaWVkLCB0aGUgcnVuIHdpbGwgZW5kIHdpdGggc3RhdHVzIGBpbmNvbXBsZXRlYC4gU2VlXG4gICAqIGBpbmNvbXBsZXRlX2RldGFpbHNgIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBtYXhfY29tcGxldGlvbl90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcHJvbXB0IHRva2VucyB0aGF0IG1heSBiZSB1c2VkIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgcnVuLlxuICAgKiBUaGUgcnVuIHdpbGwgbWFrZSBhIGJlc3QgZWZmb3J0IHRvIHVzZSBvbmx5IHRoZSBudW1iZXIgb2YgcHJvbXB0IHRva2Vuc1xuICAgKiBzcGVjaWZpZWQsIGFjcm9zcyBtdWx0aXBsZSB0dXJucyBvZiB0aGUgcnVuLiBJZiB0aGUgcnVuIGV4Y2VlZHMgdGhlIG51bWJlciBvZlxuICAgKiBwcm9tcHQgdG9rZW5zIHNwZWNpZmllZCwgdGhlIHJ1biB3aWxsIGVuZCB3aXRoIHN0YXR1cyBgaW5jb21wbGV0ZWAuIFNlZVxuICAgKiBgaW5jb21wbGV0ZV9kZXRhaWxzYCBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgbWF4X3Byb21wdF90b2tlbnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LiBLZXlzXG4gICAqIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtIG9mIDUxMlxuICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAqL1xuICBtZXRhZGF0YT86IHVua25vd24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIFtNb2RlbF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMpIHRvXG4gICAqIGJlIHVzZWQgdG8gZXhlY3V0ZSB0aGlzIHJ1bi4gSWYgYSB2YWx1ZSBpcyBwcm92aWRlZCBoZXJlLCBpdCB3aWxsIG92ZXJyaWRlIHRoZVxuICAgKiBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlIGFzc2lzdGFudC4gSWYgbm90LCB0aGUgbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgKiBhc3Npc3RhbnQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgbW9kZWw/OlxuICAgIHwgKHN0cmluZyAmIHt9KVxuICAgIHwgJ2dwdC00bydcbiAgICB8ICdncHQtNG8tMjAyNC0wNS0xMydcbiAgICB8ICdncHQtNC10dXJibydcbiAgICB8ICdncHQtNC10dXJiby0yMDI0LTA0LTA5J1xuICAgIHwgJ2dwdC00LTAxMjUtcHJldmlldydcbiAgICB8ICdncHQtNC10dXJiby1wcmV2aWV3J1xuICAgIHwgJ2dwdC00LTExMDYtcHJldmlldydcbiAgICB8ICdncHQtNC12aXNpb24tcHJldmlldydcbiAgICB8ICdncHQtNCdcbiAgICB8ICdncHQtNC0wMzE0J1xuICAgIHwgJ2dwdC00LTA2MTMnXG4gICAgfCAnZ3B0LTQtMzJrJ1xuICAgIHwgJ2dwdC00LTMyay0wMzE0J1xuICAgIHwgJ2dwdC00LTMyay0wNjEzJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8nXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xNmsnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0wNjEzJ1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMTEwNidcbiAgICB8ICdncHQtMy41LXR1cmJvLTAxMjUnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xNmstMDYxMydcbiAgICB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LiBDb21wYXRpYmxlIHdpdGhcbiAgICogW0dQVC00b10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzL2dwdC00byksXG4gICAqIFtHUFQtNCBUdXJib10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzL2dwdC00LXR1cmJvLWFuZC1ncHQtNCksXG4gICAqIGFuZCBhbGwgR1BULTMuNSBUdXJibyBtb2RlbHMgc2luY2UgYGdwdC0zLjUtdHVyYm8tMTEwNmAuXG4gICAqXG4gICAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIEpTT04gbW9kZSwgd2hpY2ggZ3VhcmFudGVlcyB0aGVcbiAgICogbWVzc2FnZSB0aGUgbW9kZWwgZ2VuZXJhdGVzIGlzIHZhbGlkIEpTT04uXG4gICAqXG4gICAqICoqSW1wb3J0YW50OioqIHdoZW4gdXNpbmcgSlNPTiBtb2RlLCB5b3UgKiptdXN0KiogYWxzbyBpbnN0cnVjdCB0aGUgbW9kZWwgdG9cbiAgICogcHJvZHVjZSBKU09OIHlvdXJzZWxmIHZpYSBhIHN5c3RlbSBvciB1c2VyIG1lc3NhZ2UuIFdpdGhvdXQgdGhpcywgdGhlIG1vZGVsIG1heVxuICAgKiBnZW5lcmF0ZSBhbiB1bmVuZGluZyBzdHJlYW0gb2Ygd2hpdGVzcGFjZSB1bnRpbCB0aGUgZ2VuZXJhdGlvbiByZWFjaGVzIHRoZSB0b2tlblxuICAgKiBsaW1pdCwgcmVzdWx0aW5nIGluIGEgbG9uZy1ydW5uaW5nIGFuZCBzZWVtaW5nbHkgXCJzdHVja1wiIHJlcXVlc3QuIEFsc28gbm90ZSB0aGF0XG4gICAqIHRoZSBtZXNzYWdlIGNvbnRlbnQgbWF5IGJlIHBhcnRpYWxseSBjdXQgb2ZmIGlmIGBmaW5pc2hfcmVhc29uPVwibGVuZ3RoXCJgLCB3aGljaFxuICAgKiBpbmRpY2F0ZXMgdGhlIGdlbmVyYXRpb24gZXhjZWVkZWQgYG1heF90b2tlbnNgIG9yIHRoZSBjb252ZXJzYXRpb24gZXhjZWVkZWQgdGhlXG4gICAqIG1heCBjb250ZXh0IGxlbmd0aC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86IEFzc2lzdGFudFJlc3BvbnNlRm9ybWF0T3B0aW9uIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIElmIG5vIHRocmVhZCBpcyBwcm92aWRlZCwgYW4gZW1wdHkgdGhyZWFkIHdpbGwgYmUgY3JlYXRlZC5cbiAgICovXG4gIHRocmVhZD86IFRocmVhZENyZWF0ZUFuZFJ1blBvbGxQYXJhbXMuVGhyZWFkO1xuXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGljaCAoaWYgYW55KSB0b29sIGlzIGNhbGxlZCBieSB0aGUgbW9kZWwuIGBub25lYCBtZWFucyB0aGUgbW9kZWwgd2lsbFxuICAgKiBub3QgY2FsbCBhbnkgdG9vbHMgYW5kIGluc3RlYWQgZ2VuZXJhdGVzIGEgbWVzc2FnZS4gYGF1dG9gIGlzIHRoZSBkZWZhdWx0IHZhbHVlXG4gICAqIGFuZCBtZWFucyB0aGUgbW9kZWwgY2FuIHBpY2sgYmV0d2VlbiBnZW5lcmF0aW5nIGEgbWVzc2FnZSBvciBjYWxsaW5nIG9uZSBvciBtb3JlXG4gICAqIHRvb2xzLiBgcmVxdWlyZWRgIG1lYW5zIHRoZSBtb2RlbCBtdXN0IGNhbGwgb25lIG9yIG1vcmUgdG9vbHMgYmVmb3JlIHJlc3BvbmRpbmdcbiAgICogdG8gdGhlIHVzZXIuIFNwZWNpZnlpbmcgYSBwYXJ0aWN1bGFyIHRvb2wgbGlrZSBge1widHlwZVwiOiBcImZpbGVfc2VhcmNoXCJ9YCBvclxuICAgKiBge1widHlwZVwiOiBcImZ1bmN0aW9uXCIsIFwiZnVuY3Rpb25cIjoge1wibmFtZVwiOiBcIm15X2Z1bmN0aW9uXCJ9fWAgZm9yY2VzIHRoZSBtb2RlbCB0b1xuICAgKiBjYWxsIHRoYXQgdG9vbC5cbiAgICovXG4gIHRvb2xfY2hvaWNlPzogQXNzaXN0YW50VG9vbENob2ljZU9wdGlvbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSB1c2VkIGJ5IHRoZSBhc3Npc3RhbnQncyB0b29scy4gVGhlIHJlc291cmNlcyBhcmVcbiAgICogc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlc1xuICAgKiBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZVxuICAgKiBJRHMuXG4gICAqL1xuICB0b29sX3Jlc291cmNlcz86IFRocmVhZENyZWF0ZUFuZFJ1blBvbGxQYXJhbXMuVG9vbFJlc291cmNlcyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSB0b29scyB0aGUgYXNzaXN0YW50IGNhbiB1c2UgZm9yIHRoaXMgcnVuLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICogbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICB0b29scz86IEFycmF5PFxuICAgIEFzc2lzdGFudHNBUEkuQ29kZUludGVycHJldGVyVG9vbCB8IEFzc2lzdGFudHNBUEkuRmlsZVNlYXJjaFRvb2wgfCBBc3Npc3RhbnRzQVBJLkZ1bmN0aW9uVG9vbFxuICA+IHwgbnVsbDtcblxuICAvKipcbiAgICogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcsIHdoZXJlIHRoZVxuICAgKiBtb2RlbCBjb25zaWRlcnMgdGhlIHJlc3VsdHMgb2YgdGhlIHRva2VucyB3aXRoIHRvcF9wIHByb2JhYmlsaXR5IG1hc3MuIFNvIDAuMVxuICAgKiBtZWFucyBvbmx5IHRoZSB0b2tlbnMgY29tcHJpc2luZyB0aGUgdG9wIDEwJSBwcm9iYWJpbGl0eSBtYXNzIGFyZSBjb25zaWRlcmVkLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgdGVtcGVyYXR1cmUgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb3IgaG93IGEgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHByaW9yIHRvIHRoZSBydW4uIFVzZSB0aGlzIHRvXG4gICAqIGNvbnRyb2wgdGhlIGludGlhbCBjb250ZXh0IHdpbmRvdyBvZiB0aGUgcnVuLlxuICAgKi9cbiAgdHJ1bmNhdGlvbl9zdHJhdGVneT86IFRocmVhZENyZWF0ZUFuZFJ1blBvbGxQYXJhbXMuVHJ1bmNhdGlvblN0cmF0ZWd5IHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWRDcmVhdGVBbmRSdW5Qb2xsUGFyYW1zIHtcbiAgLyoqXG4gICAqIElmIG5vIHRocmVhZCBpcyBwcm92aWRlZCwgYW4gZW1wdHkgdGhyZWFkIHdpbGwgYmUgY3JlYXRlZC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkIHtcbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgW21lc3NhZ2VzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21lc3NhZ2VzKSB0b1xuICAgICAqIHN0YXJ0IHRoZSB0aHJlYWQgd2l0aC5cbiAgICAgKi9cbiAgICBtZXNzYWdlcz86IEFycmF5PFRocmVhZC5NZXNzYWdlPjtcblxuICAgIC8qKlxuICAgICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgICAqIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtIG9mIDUxMlxuICAgICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICAgKi9cbiAgICBtZXRhZGF0YT86IHVua25vd24gfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIG1hZGUgYXZhaWxhYmxlIHRvIHRoZSBhc3Npc3RhbnQncyB0b29scyBpbiB0aGlzXG4gICAgICogdGhyZWFkLiBUaGUgcmVzb3VyY2VzIGFyZSBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlXG4gICAgICogYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYFxuICAgICAqIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZSBJRHMuXG4gICAgICovXG4gICAgdG9vbF9yZXNvdXJjZXM/OiBUaHJlYWQuVG9vbFJlc291cmNlcyB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFRocmVhZCB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIHRleHQgY29udGVudHMgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICAgKi9cbiAgICAgIGNvbnRlbnQ6IHN0cmluZyB8IEFycmF5PE1lc3NhZ2VzQVBJLk1lc3NhZ2VDb250ZW50UGFydFBhcmFtPjtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgcm9sZSBvZiB0aGUgZW50aXR5IHRoYXQgaXMgY3JlYXRpbmcgdGhlIG1lc3NhZ2UuIEFsbG93ZWQgdmFsdWVzIGluY2x1ZGU6XG4gICAgICAgKlxuICAgICAgICogLSBgdXNlcmA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBzZW50IGJ5IGFuIGFjdHVhbCB1c2VyIGFuZCBzaG91bGQgYmUgdXNlZCBpblxuICAgICAgICogICBtb3N0IGNhc2VzIHRvIHJlcHJlc2VudCB1c2VyLWdlbmVyYXRlZCBtZXNzYWdlcy5cbiAgICAgICAqIC0gYGFzc2lzdGFudGA6IEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBnZW5lcmF0ZWQgYnkgdGhlIGFzc2lzdGFudC4gVXNlIHRoaXNcbiAgICAgICAqICAgdmFsdWUgdG8gaW5zZXJ0IG1lc3NhZ2VzIGZyb20gdGhlIGFzc2lzdGFudCBpbnRvIHRoZSBjb252ZXJzYXRpb24uXG4gICAgICAgKi9cbiAgICAgIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuXG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiBmaWxlcyBhdHRhY2hlZCB0byB0aGUgbWVzc2FnZSwgYW5kIHRoZSB0b29scyB0aGV5IHNob3VsZCBiZSBhZGRlZCB0by5cbiAgICAgICAqL1xuICAgICAgYXR0YWNobWVudHM/OiBBcnJheTxNZXNzYWdlLkF0dGFjaG1lbnQ+IHwgbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdC4gS2V5c1xuICAgICAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAgICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAgICAgKi9cbiAgICAgIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlIHtcbiAgICAgIGV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gYXR0YWNoIHRvIHRoZSBtZXNzYWdlLlxuICAgICAgICAgKi9cbiAgICAgICAgZmlsZV9pZD86IHN0cmluZztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRvb2xzIHRvIGFkZCB0aGlzIGZpbGUgdG8uXG4gICAgICAgICAqL1xuICAgICAgICB0b29scz86IEFycmF5PEFzc2lzdGFudHNBUEkuQ29kZUludGVycHJldGVyVG9vbCB8IEFzc2lzdGFudHNBUEkuRmlsZVNlYXJjaFRvb2w+O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBtYWRlIGF2YWlsYWJsZSB0byB0aGUgYXNzaXN0YW50J3MgdG9vbHMgaW4gdGhpc1xuICAgICAqIHRocmVhZC4gVGhlIHJlc291cmNlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZVxuICAgICAqIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGBcbiAgICAgKiB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgSURzLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgICBjb2RlX2ludGVycHJldGVyPzogVG9vbFJlc291cmNlcy5Db2RlSW50ZXJwcmV0ZXI7XG5cbiAgICAgIGZpbGVfc2VhcmNoPzogVG9vbFJlc291cmNlcy5GaWxlU2VhcmNoO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyBtYWRlXG4gICAgICAgICAqIGF2YWlsYWJsZSB0byB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMjAgZmlsZXNcbiAgICAgICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB0b29sLlxuICAgICAgICAgKi9cbiAgICAgICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgICAgfVxuXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlXG4gICAgICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgdGhyZWFkLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgICAqIHRoZSB0aHJlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBoZWxwZXIgdG8gY3JlYXRlIGFcbiAgICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAgICogd2l0aCBmaWxlX2lkcyBhbmQgYXR0YWNoIGl0IHRvIHRoaXMgdGhyZWFkLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yXG4gICAgICAgICAqIHN0b3JlIGF0dGFjaGVkIHRvIHRoZSB0aHJlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB2ZWN0b3Jfc3RvcmVzPzogQXJyYXk8RmlsZVNlYXJjaC5WZWN0b3JTdG9yZT47XG4gICAgICB9XG5cbiAgICAgIGV4cG9ydCBuYW1lc3BhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmUge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEEgbGlzdCBvZiBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIHRvXG4gICAgICAgICAgICogYWRkIHRvIHRoZSB2ZWN0b3Igc3RvcmUuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMTAwMDAgZmlsZXMgaW4gYSB2ZWN0b3JcbiAgICAgICAgICAgKiBzdG9yZS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGEgdmVjdG9yIHN0b3JlLiBUaGlzIGNhbiBiZVxuICAgICAgICAgICAqIHVzZWZ1bCBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSB2ZWN0b3Igc3RvcmUgaW4gYSBzdHJ1Y3R1cmVkXG4gICAgICAgICAgICogZm9ybWF0LiBLZXlzIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtXG4gICAgICAgICAgICogb2YgNTEyIGNoYXJhY3RlcnMgbG9uZy5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBtZXRhZGF0YT86IHVua25vd247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQSBzZXQgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIHVzZWQgYnkgdGhlIGFzc2lzdGFudCdzIHRvb2xzLiBUaGUgcmVzb3VyY2VzIGFyZVxuICAgKiBzcGVjaWZpYyB0byB0aGUgdHlwZSBvZiB0b29sLiBGb3IgZXhhbXBsZSwgdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzXG4gICAqIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlXG4gICAqIElEcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFJlc291cmNlcyB7XG4gICAgY29kZV9pbnRlcnByZXRlcj86IFRvb2xSZXNvdXJjZXMuQ29kZUludGVycHJldGVyO1xuXG4gICAgZmlsZV9zZWFyY2g/OiBUb29sUmVzb3VyY2VzLkZpbGVTZWFyY2g7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUludGVycHJldGVyIHtcbiAgICAgIC8qKlxuICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgbWFkZVxuICAgICAgICogYXZhaWxhYmxlIHRvIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAyMCBmaWxlc1xuICAgICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB0b29sLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIElEIG9mIHRoZVxuICAgICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdClcbiAgICAgICAqIGF0dGFjaGVkIHRvIHRoaXMgYXNzaXN0YW50LiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEgdmVjdG9yIHN0b3JlIGF0dGFjaGVkIHRvXG4gICAgICAgKiB0aGUgYXNzaXN0YW50LlxuICAgICAgICovXG4gICAgICB2ZWN0b3Jfc3RvcmVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udHJvbHMgZm9yIGhvdyBhIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCBwcmlvciB0byB0aGUgcnVuLiBVc2UgdGhpcyB0b1xuICAgKiBjb250cm9sIHRoZSBpbnRpYWwgY29udGV4dCB3aW5kb3cgb2YgdGhlIHJ1bi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVHJ1bmNhdGlvblN0cmF0ZWd5IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJ1bmNhdGlvbiBzdHJhdGVneSB0byB1c2UgZm9yIHRoZSB0aHJlYWQuIFRoZSBkZWZhdWx0IGlzIGBhdXRvYC4gSWYgc2V0IHRvXG4gICAgICogYGxhc3RfbWVzc2FnZXNgLCB0aGUgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHRvIHRoZSBuIG1vc3QgcmVjZW50IG1lc3NhZ2VzIGluXG4gICAgICogdGhlIHRocmVhZC4gV2hlbiBzZXQgdG8gYGF1dG9gLCBtZXNzYWdlcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSB0aHJlYWQgd2lsbCBiZVxuICAgICAqIGRyb3BwZWQgdG8gZml0IHRoZSBjb250ZXh0IGxlbmd0aCBvZiB0aGUgbW9kZWwsIGBtYXhfcHJvbXB0X3Rva2Vuc2AuXG4gICAgICovXG4gICAgdHlwZTogJ2F1dG8nIHwgJ2xhc3RfbWVzc2FnZXMnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBtb3N0IHJlY2VudCBtZXNzYWdlcyBmcm9tIHRoZSB0aHJlYWQgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGNvbnRleHRcbiAgICAgKiBmb3IgdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBsYXN0X21lc3NhZ2VzPzogbnVtYmVyIHwgbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRocmVhZENyZWF0ZUFuZFJ1blN0cmVhbVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlXG4gICAqIFthc3Npc3RhbnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvYXNzaXN0YW50cykgdG8gdXNlIHRvXG4gICAqIGV4ZWN1dGUgdGhpcyBydW4uXG4gICAqL1xuICBhc3Npc3RhbnRfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgc3lzdGVtIG1lc3NhZ2Ugb2YgdGhlIGFzc2lzdGFudC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gICAqIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb24gYSBwZXItcnVuIGJhc2lzLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGNvbXBsZXRpb24gdG9rZW5zIHRoYXQgbWF5IGJlIHVzZWQgb3ZlciB0aGUgY291cnNlIG9mIHRoZVxuICAgKiBydW4uIFRoZSBydW4gd2lsbCBtYWtlIGEgYmVzdCBlZmZvcnQgdG8gdXNlIG9ubHkgdGhlIG51bWJlciBvZiBjb21wbGV0aW9uIHRva2Vuc1xuICAgKiBzcGVjaWZpZWQsIGFjcm9zcyBtdWx0aXBsZSB0dXJucyBvZiB0aGUgcnVuLiBJZiB0aGUgcnVuIGV4Y2VlZHMgdGhlIG51bWJlciBvZlxuICAgKiBjb21wbGV0aW9uIHRva2VucyBzcGVjaWZpZWQsIHRoZSBydW4gd2lsbCBlbmQgd2l0aCBzdGF0dXMgYGluY29tcGxldGVgLiBTZWVcbiAgICogYGluY29tcGxldGVfZGV0YWlsc2AgZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIG1heF9jb21wbGV0aW9uX3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwcm9tcHQgdG9rZW5zIHRoYXQgbWF5IGJlIHVzZWQgb3ZlciB0aGUgY291cnNlIG9mIHRoZSBydW4uXG4gICAqIFRoZSBydW4gd2lsbCBtYWtlIGEgYmVzdCBlZmZvcnQgdG8gdXNlIG9ubHkgdGhlIG51bWJlciBvZiBwcm9tcHQgdG9rZW5zXG4gICAqIHNwZWNpZmllZCwgYWNyb3NzIG11bHRpcGxlIHR1cm5zIG9mIHRoZSBydW4uIElmIHRoZSBydW4gZXhjZWVkcyB0aGUgbnVtYmVyIG9mXG4gICAqIHByb21wdCB0b2tlbnMgc3BlY2lmaWVkLCB0aGUgcnVuIHdpbGwgZW5kIHdpdGggc3RhdHVzIGBpbmNvbXBsZXRlYC4gU2VlXG4gICAqIGBpbmNvbXBsZXRlX2RldGFpbHNgIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBtYXhfcHJvbXB0X3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICogY2FuIGJlIGEgbWF4aW11bSBvZiA2NCBjaGFyYWN0ZXJzIGxvbmcgYW5kIHZhbHVlcyBjYW4gYmUgYSBtYXhpdW0gb2YgNTEyXG4gICAqIGNoYXJhY3RlcnMgbG9uZy5cbiAgICovXG4gIG1ldGFkYXRhPzogdW5rbm93biB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgW01vZGVsXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL21vZGVscykgdG9cbiAgICogYmUgdXNlZCB0byBleGVjdXRlIHRoaXMgcnVuLiBJZiBhIHZhbHVlIGlzIHByb3ZpZGVkIGhlcmUsIGl0IHdpbGwgb3ZlcnJpZGUgdGhlXG4gICAqIG1vZGVsIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXNzaXN0YW50LiBJZiBub3QsIHRoZSBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAqIGFzc2lzdGFudCB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBtb2RlbD86XG4gICAgfCAoc3RyaW5nICYge30pXG4gICAgfCAnZ3B0LTRvJ1xuICAgIHwgJ2dwdC00by0yMDI0LTA1LTEzJ1xuICAgIHwgJ2dwdC00LXR1cmJvJ1xuICAgIHwgJ2dwdC00LXR1cmJvLTIwMjQtMDQtMDknXG4gICAgfCAnZ3B0LTQtMDEyNS1wcmV2aWV3J1xuICAgIHwgJ2dwdC00LXR1cmJvLXByZXZpZXcnXG4gICAgfCAnZ3B0LTQtMTEwNi1wcmV2aWV3J1xuICAgIHwgJ2dwdC00LXZpc2lvbi1wcmV2aWV3J1xuICAgIHwgJ2dwdC00J1xuICAgIHwgJ2dwdC00LTAzMTQnXG4gICAgfCAnZ3B0LTQtMDYxMydcbiAgICB8ICdncHQtNC0zMmsnXG4gICAgfCAnZ3B0LTQtMzJrLTAzMTQnXG4gICAgfCAnZ3B0LTQtMzJrLTA2MTMnXG4gICAgfCAnZ3B0LTMuNS10dXJibydcbiAgICB8ICdncHQtMy41LXR1cmJvLTE2aydcbiAgICB8ICdncHQtMy41LXR1cmJvLTA2MTMnXG4gICAgfCAnZ3B0LTMuNS10dXJiby0xMTA2J1xuICAgIHwgJ2dwdC0zLjUtdHVyYm8tMDEyNSdcbiAgICB8ICdncHQtMy41LXR1cmJvLTE2ay0wNjEzJ1xuICAgIHwgbnVsbDtcblxuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuIENvbXBhdGlibGUgd2l0aFxuICAgKiBbR1BULTRvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMvZ3B0LTRvKSxcbiAgICogW0dQVC00IFR1cmJvXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMvZ3B0LTQtdHVyYm8tYW5kLWdwdC00KSxcbiAgICogYW5kIGFsbCBHUFQtMy41IFR1cmJvIG1vZGVscyBzaW5jZSBgZ3B0LTMuNS10dXJiby0xMTA2YC5cbiAgICpcbiAgICogU2V0dGluZyB0byBgeyBcInR5cGVcIjogXCJqc29uX29iamVjdFwiIH1gIGVuYWJsZXMgSlNPTiBtb2RlLCB3aGljaCBndWFyYW50ZWVzIHRoZVxuICAgKiBtZXNzYWdlIHRoZSBtb2RlbCBnZW5lcmF0ZXMgaXMgdmFsaWQgSlNPTi5cbiAgICpcbiAgICogKipJbXBvcnRhbnQ6Kiogd2hlbiB1c2luZyBKU09OIG1vZGUsIHlvdSAqKm11c3QqKiBhbHNvIGluc3RydWN0IHRoZSBtb2RlbCB0b1xuICAgKiBwcm9kdWNlIEpTT04geW91cnNlbGYgdmlhIGEgc3lzdGVtIG9yIHVzZXIgbWVzc2FnZS4gV2l0aG91dCB0aGlzLCB0aGUgbW9kZWwgbWF5XG4gICAqIGdlbmVyYXRlIGFuIHVuZW5kaW5nIHN0cmVhbSBvZiB3aGl0ZXNwYWNlIHVudGlsIHRoZSBnZW5lcmF0aW9uIHJlYWNoZXMgdGhlIHRva2VuXG4gICAqIGxpbWl0LCByZXN1bHRpbmcgaW4gYSBsb25nLXJ1bm5pbmcgYW5kIHNlZW1pbmdseSBcInN0dWNrXCIgcmVxdWVzdC4gQWxzbyBub3RlIHRoYXRcbiAgICogdGhlIG1lc3NhZ2UgY29udGVudCBtYXkgYmUgcGFydGlhbGx5IGN1dCBvZmYgaWYgYGZpbmlzaF9yZWFzb249XCJsZW5ndGhcImAsIHdoaWNoXG4gICAqIGluZGljYXRlcyB0aGUgZ2VuZXJhdGlvbiBleGNlZWRlZCBgbWF4X3Rva2Vuc2Agb3IgdGhlIGNvbnZlcnNhdGlvbiBleGNlZWRlZCB0aGVcbiAgICogbWF4IGNvbnRleHQgbGVuZ3RoLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogQXNzaXN0YW50UmVzcG9uc2VGb3JtYXRPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGxcbiAgICogbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmVcbiAgICogZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogSWYgbm8gdGhyZWFkIGlzIHByb3ZpZGVkLCBhbiBlbXB0eSB0aHJlYWQgd2lsbCBiZSBjcmVhdGVkLlxuICAgKi9cbiAgdGhyZWFkPzogVGhyZWFkQ3JlYXRlQW5kUnVuU3RyZWFtUGFyYW1zLlRocmVhZDtcblxuICAvKipcbiAgICogQ29udHJvbHMgd2hpY2ggKGlmIGFueSkgdG9vbCBpcyBjYWxsZWQgYnkgdGhlIG1vZGVsLiBgbm9uZWAgbWVhbnMgdGhlIG1vZGVsIHdpbGxcbiAgICogbm90IGNhbGwgYW55IHRvb2xzIGFuZCBpbnN0ZWFkIGdlbmVyYXRlcyBhIG1lc3NhZ2UuIGBhdXRvYCBpcyB0aGUgZGVmYXVsdCB2YWx1ZVxuICAgKiBhbmQgbWVhbnMgdGhlIG1vZGVsIGNhbiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3IgY2FsbGluZyBvbmUgb3IgbW9yZVxuICAgKiB0b29scy4gYHJlcXVpcmVkYCBtZWFucyB0aGUgbW9kZWwgbXVzdCBjYWxsIG9uZSBvciBtb3JlIHRvb2xzIGJlZm9yZSByZXNwb25kaW5nXG4gICAqIHRvIHRoZSB1c2VyLiBTcGVjaWZ5aW5nIGEgcGFydGljdWxhciB0b29sIGxpa2UgYHtcInR5cGVcIjogXCJmaWxlX3NlYXJjaFwifWAgb3JcbiAgICogYHtcInR5cGVcIjogXCJmdW5jdGlvblwiLCBcImZ1bmN0aW9uXCI6IHtcIm5hbWVcIjogXCJteV9mdW5jdGlvblwifX1gIGZvcmNlcyB0aGUgbW9kZWwgdG9cbiAgICogY2FsbCB0aGF0IHRvb2wuXG4gICAqL1xuICB0b29sX2Nob2ljZT86IEFzc2lzdGFudFRvb2xDaG9pY2VPcHRpb24gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgdXNlZCBieSB0aGUgYXNzaXN0YW50J3MgdG9vbHMuIFRoZSByZXNvdXJjZXMgYXJlXG4gICAqIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wgcmVxdWlyZXNcbiAgICogYSBsaXN0IG9mIGZpbGUgSURzLCB3aGlsZSB0aGUgYGZpbGVfc2VhcmNoYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmVcbiAgICogSURzLlxuICAgKi9cbiAgdG9vbF9yZXNvdXJjZXM/OiBUaHJlYWRDcmVhdGVBbmRSdW5TdHJlYW1QYXJhbXMuVG9vbFJlc291cmNlcyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSB0b29scyB0aGUgYXNzaXN0YW50IGNhbiB1c2UgZm9yIHRoaXMgcnVuLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICogbW9kaWZ5aW5nIHRoZSBiZWhhdmlvciBvbiBhIHBlci1ydW4gYmFzaXMuXG4gICAqL1xuICB0b29scz86IEFycmF5PFxuICAgIEFzc2lzdGFudHNBUEkuQ29kZUludGVycHJldGVyVG9vbCB8IEFzc2lzdGFudHNBUEkuRmlsZVNlYXJjaFRvb2wgfCBBc3Npc3RhbnRzQVBJLkZ1bmN0aW9uVG9vbFxuICA+IHwgbnVsbDtcblxuICAvKipcbiAgICogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcsIHdoZXJlIHRoZVxuICAgKiBtb2RlbCBjb25zaWRlcnMgdGhlIHJlc3VsdHMgb2YgdGhlIHRva2VucyB3aXRoIHRvcF9wIHByb2JhYmlsaXR5IG1hc3MuIFNvIDAuMVxuICAgKiBtZWFucyBvbmx5IHRoZSB0b2tlbnMgY29tcHJpc2luZyB0aGUgdG9wIDEwJSBwcm9iYWJpbGl0eSBtYXNzIGFyZSBjb25zaWRlcmVkLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgdGVtcGVyYXR1cmUgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb3IgaG93IGEgdGhyZWFkIHdpbGwgYmUgdHJ1bmNhdGVkIHByaW9yIHRvIHRoZSBydW4uIFVzZSB0aGlzIHRvXG4gICAqIGNvbnRyb2wgdGhlIGludGlhbCBjb250ZXh0IHdpbmRvdyBvZiB0aGUgcnVuLlxuICAgKi9cbiAgdHJ1bmNhdGlvbl9zdHJhdGVneT86IFRocmVhZENyZWF0ZUFuZFJ1blN0cmVhbVBhcmFtcy5UcnVuY2F0aW9uU3RyYXRlZ3kgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFRocmVhZENyZWF0ZUFuZFJ1blN0cmVhbVBhcmFtcyB7XG4gIC8qKlxuICAgKiBJZiBubyB0aHJlYWQgaXMgcHJvdmlkZWQsIGFuIGVtcHR5IHRocmVhZCB3aWxsIGJlIGNyZWF0ZWQuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRocmVhZCB7XG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIFttZXNzYWdlc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tZXNzYWdlcykgdG9cbiAgICAgKiBzdGFydCB0aGUgdGhyZWFkIHdpdGguXG4gICAgICovXG4gICAgbWVzc2FnZXM/OiBBcnJheTxUaHJlYWQuTWVzc2FnZT47XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICAgKiBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bSBvZiA1MTJcbiAgICAgKiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAgICovXG4gICAgbWV0YWRhdGE/OiB1bmtub3duIHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBtYWRlIGF2YWlsYWJsZSB0byB0aGUgYXNzaXN0YW50J3MgdG9vbHMgaW4gdGhpc1xuICAgICAqIHRocmVhZC4gVGhlIHJlc291cmNlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZVxuICAgICAqIGBjb2RlX2ludGVycHJldGVyYCB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiBmaWxlIElEcywgd2hpbGUgdGhlIGBmaWxlX3NlYXJjaGBcbiAgICAgKiB0b29sIHJlcXVpcmVzIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgSURzLlxuICAgICAqL1xuICAgIHRvb2xfcmVzb3VyY2VzPzogVGhyZWFkLlRvb2xSZXNvdXJjZXMgfCBudWxsO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWQge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSB0ZXh0IGNvbnRlbnRzIG9mIHRoZSBtZXNzYWdlLlxuICAgICAgICovXG4gICAgICBjb250ZW50OiBzdHJpbmcgfCBBcnJheTxNZXNzYWdlc0FQSS5NZXNzYWdlQ29udGVudFBhcnRQYXJhbT47XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHJvbGUgb2YgdGhlIGVudGl0eSB0aGF0IGlzIGNyZWF0aW5nIHRoZSBtZXNzYWdlLiBBbGxvd2VkIHZhbHVlcyBpbmNsdWRlOlxuICAgICAgICpcbiAgICAgICAqIC0gYHVzZXJgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgc2VudCBieSBhbiBhY3R1YWwgdXNlciBhbmQgc2hvdWxkIGJlIHVzZWQgaW5cbiAgICAgICAqICAgbW9zdCBjYXNlcyB0byByZXByZXNlbnQgdXNlci1nZW5lcmF0ZWQgbWVzc2FnZXMuXG4gICAgICAgKiAtIGBhc3Npc3RhbnRgOiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBhc3Npc3RhbnQuIFVzZSB0aGlzXG4gICAgICAgKiAgIHZhbHVlIHRvIGluc2VydCBtZXNzYWdlcyBmcm9tIHRoZSBhc3Npc3RhbnQgaW50byB0aGUgY29udmVyc2F0aW9uLlxuICAgICAgICovXG4gICAgICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JztcblxuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgZmlsZXMgYXR0YWNoZWQgdG8gdGhlIG1lc3NhZ2UsIGFuZCB0aGUgdG9vbHMgdGhleSBzaG91bGQgYmUgYWRkZWQgdG8uXG4gICAgICAgKi9cbiAgICAgIGF0dGFjaG1lbnRzPzogQXJyYXk8TWVzc2FnZS5BdHRhY2htZW50PiB8IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQuIEtleXNcbiAgICAgICAqIGNhbiBiZSBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycyBsb25nIGFuZCB2YWx1ZXMgY2FuIGJlIGEgbWF4aXVtIG9mIDUxMlxuICAgICAgICogY2hhcmFjdGVycyBsb25nLlxuICAgICAgICovXG4gICAgICBtZXRhZGF0YT86IHVua25vd24gfCBudWxsO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgTWVzc2FnZSB7XG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEF0dGFjaG1lbnQge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSBmaWxlIHRvIGF0dGFjaCB0byB0aGUgbWVzc2FnZS5cbiAgICAgICAgICovXG4gICAgICAgIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0b29scyB0byBhZGQgdGhpcyBmaWxlIHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgdG9vbHM/OiBBcnJheTxBc3Npc3RhbnRzQVBJLkNvZGVJbnRlcnByZXRlclRvb2wgfCBBc3Npc3RhbnRzQVBJLkZpbGVTZWFyY2hUb29sPjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgbWFkZSBhdmFpbGFibGUgdG8gdGhlIGFzc2lzdGFudCdzIHRvb2xzIGluIHRoaXNcbiAgICAgKiB0aHJlYWQuIFRoZSByZXNvdXJjZXMgYXJlIHNwZWNpZmljIHRvIHRoZSB0eXBlIG9mIHRvb2wuIEZvciBleGFtcGxlLCB0aGVcbiAgICAgKiBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgXG4gICAgICogdG9vbCByZXF1aXJlcyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlIElEcy5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgICAgY29kZV9pbnRlcnByZXRlcj86IFRvb2xSZXNvdXJjZXMuQ29kZUludGVycHJldGVyO1xuXG4gICAgICBmaWxlX3NlYXJjaD86IFRvb2xSZXNvdXJjZXMuRmlsZVNlYXJjaDtcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBDb2RlSW50ZXJwcmV0ZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIFtmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRHMgbWFkZVxuICAgICAgICAgKiBhdmFpbGFibGUgdG8gdGhlIGBjb2RlX2ludGVycHJldGVyYCB0b29sLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDIwIGZpbGVzXG4gICAgICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9vbC5cbiAgICAgICAgICovXG4gICAgICAgIGZpbGVfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgICAgIH1cblxuICAgICAgZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZVxuICAgICAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgICAgICAgKiBhdHRhY2hlZCB0byB0aGlzIHRocmVhZC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxIHZlY3RvciBzdG9yZSBhdHRhY2hlZCB0b1xuICAgICAgICAgKiB0aGUgdGhyZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdmVjdG9yX3N0b3JlX2lkcz86IEFycmF5PHN0cmluZz47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgaGVscGVyIHRvIGNyZWF0ZSBhXG4gICAgICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAgICAgICAqIHdpdGggZmlsZV9pZHMgYW5kIGF0dGFjaCBpdCB0byB0aGlzIHRocmVhZC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxIHZlY3RvclxuICAgICAgICAgKiBzdG9yZSBhdHRhY2hlZCB0byB0aGUgdGhyZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdmVjdG9yX3N0b3Jlcz86IEFycmF5PEZpbGVTZWFyY2guVmVjdG9yU3RvcmU+O1xuICAgICAgfVxuXG4gICAgICBleHBvcnQgbmFtZXNwYWNlIEZpbGVTZWFyY2gge1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIFZlY3RvclN0b3JlIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBIGxpc3Qgb2YgW2ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyB0b1xuICAgICAgICAgICAqIGFkZCB0byB0aGUgdmVjdG9yIHN0b3JlLiBUaGVyZSBjYW4gYmUgYSBtYXhpbXVtIG9mIDEwMDAwIGZpbGVzIGluIGEgdmVjdG9yXG4gICAgICAgICAgICogc3RvcmUuXG4gICAgICAgICAgICovXG4gICAgICAgICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhIHZlY3RvciBzdG9yZS4gVGhpcyBjYW4gYmVcbiAgICAgICAgICAgKiB1c2VmdWwgZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdmVjdG9yIHN0b3JlIGluIGEgc3RydWN0dXJlZFxuICAgICAgICAgICAqIGZvcm1hdC4gS2V5cyBjYW4gYmUgYSBtYXhpbXVtIG9mIDY0IGNoYXJhY3RlcnMgbG9uZyBhbmQgdmFsdWVzIGNhbiBiZSBhIG1heGl1bVxuICAgICAgICAgICAqIG9mIDUxMiBjaGFyYWN0ZXJzIGxvbmcuXG4gICAgICAgICAgICovXG4gICAgICAgICAgbWV0YWRhdGE/OiB1bmtub3duO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHJlc291cmNlcyB0aGF0IGFyZSB1c2VkIGJ5IHRoZSBhc3Npc3RhbnQncyB0b29scy4gVGhlIHJlc291cmNlcyBhcmVcbiAgICogc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgdG9vbC4gRm9yIGV4YW1wbGUsIHRoZSBgY29kZV9pbnRlcnByZXRlcmAgdG9vbCByZXF1aXJlc1xuICAgKiBhIGxpc3Qgb2YgZmlsZSBJRHMsIHdoaWxlIHRoZSBgZmlsZV9zZWFyY2hgIHRvb2wgcmVxdWlyZXMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZVxuICAgKiBJRHMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRvb2xSZXNvdXJjZXMge1xuICAgIGNvZGVfaW50ZXJwcmV0ZXI/OiBUb29sUmVzb3VyY2VzLkNvZGVJbnRlcnByZXRlcjtcblxuICAgIGZpbGVfc2VhcmNoPzogVG9vbFJlc291cmNlcy5GaWxlU2VhcmNoO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBUb29sUmVzb3VyY2VzIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIENvZGVJbnRlcnByZXRlciB7XG4gICAgICAvKipcbiAgICAgICAqIEEgbGlzdCBvZiBbZmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIG1hZGVcbiAgICAgICAqIGF2YWlsYWJsZSB0byB0aGUgYGNvZGVfaW50ZXJwcmV0ZXJgIHRvb2wuIFRoZXJlIGNhbiBiZSBhIG1heGltdW0gb2YgMjAgZmlsZXNcbiAgICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9vbC5cbiAgICAgICAqL1xuICAgICAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBJRCBvZiB0aGVcbiAgICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAgICAgKiBhdHRhY2hlZCB0byB0aGlzIGFzc2lzdGFudC4gVGhlcmUgY2FuIGJlIGEgbWF4aW11bSBvZiAxIHZlY3RvciBzdG9yZSBhdHRhY2hlZCB0b1xuICAgICAgICogdGhlIGFzc2lzdGFudC5cbiAgICAgICAqL1xuICAgICAgdmVjdG9yX3N0b3JlX2lkcz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIGZvciBob3cgYSB0aHJlYWQgd2lsbCBiZSB0cnVuY2F0ZWQgcHJpb3IgdG8gdGhlIHJ1bi4gVXNlIHRoaXMgdG9cbiAgICogY29udHJvbCB0aGUgaW50aWFsIGNvbnRleHQgd2luZG93IG9mIHRoZSBydW4uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFRydW5jYXRpb25TdHJhdGVneSB7XG4gICAgLyoqXG4gICAgICogVGhlIHRydW5jYXRpb24gc3RyYXRlZ3kgdG8gdXNlIGZvciB0aGUgdGhyZWFkLiBUaGUgZGVmYXVsdCBpcyBgYXV0b2AuIElmIHNldCB0b1xuICAgICAqIGBsYXN0X21lc3NhZ2VzYCwgdGhlIHRocmVhZCB3aWxsIGJlIHRydW5jYXRlZCB0byB0aGUgbiBtb3N0IHJlY2VudCBtZXNzYWdlcyBpblxuICAgICAqIHRoZSB0aHJlYWQuIFdoZW4gc2V0IHRvIGBhdXRvYCwgbWVzc2FnZXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgdGhyZWFkIHdpbGwgYmVcbiAgICAgKiBkcm9wcGVkIHRvIGZpdCB0aGUgY29udGV4dCBsZW5ndGggb2YgdGhlIG1vZGVsLCBgbWF4X3Byb21wdF90b2tlbnNgLlxuICAgICAqL1xuICAgIHR5cGU6ICdhdXRvJyB8ICdsYXN0X21lc3NhZ2VzJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbW9zdCByZWNlbnQgbWVzc2FnZXMgZnJvbSB0aGUgdGhyZWFkIHdoZW4gY29uc3RydWN0aW5nIHRoZSBjb250ZXh0XG4gICAgICogZm9yIHRoZSBydW4uXG4gICAgICovXG4gICAgbGFzdF9tZXNzYWdlcz86IG51bWJlciB8IG51bGw7XG4gIH1cbn1cblxuVGhyZWFkcy5SdW5zID0gUnVucztcblRocmVhZHMuUnVuc1BhZ2UgPSBSdW5zUGFnZTtcblRocmVhZHMuTWVzc2FnZXMgPSBNZXNzYWdlcztcblRocmVhZHMuTWVzc2FnZXNQYWdlID0gTWVzc2FnZXNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgVGhyZWFkcyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBBc3Npc3RhbnRSZXNwb25zZUZvcm1hdE9wdGlvbiBhcyBBc3Npc3RhbnRSZXNwb25zZUZvcm1hdE9wdGlvbixcbiAgICB0eXBlIEFzc2lzdGFudFRvb2xDaG9pY2UgYXMgQXNzaXN0YW50VG9vbENob2ljZSxcbiAgICB0eXBlIEFzc2lzdGFudFRvb2xDaG9pY2VGdW5jdGlvbiBhcyBBc3Npc3RhbnRUb29sQ2hvaWNlRnVuY3Rpb24sXG4gICAgdHlwZSBBc3Npc3RhbnRUb29sQ2hvaWNlT3B0aW9uIGFzIEFzc2lzdGFudFRvb2xDaG9pY2VPcHRpb24sXG4gICAgdHlwZSBUaHJlYWQgYXMgVGhyZWFkLFxuICAgIHR5cGUgVGhyZWFkRGVsZXRlZCBhcyBUaHJlYWREZWxldGVkLFxuICAgIHR5cGUgVGhyZWFkQ3JlYXRlUGFyYW1zIGFzIFRocmVhZENyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIFRocmVhZFVwZGF0ZVBhcmFtcyBhcyBUaHJlYWRVcGRhdGVQYXJhbXMsXG4gICAgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMgYXMgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zLFxuICAgIHR5cGUgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zTm9uU3RyZWFtaW5nIGFzIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc05vblN0cmVhbWluZyxcbiAgICB0eXBlIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc1N0cmVhbWluZyBhcyBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5Qb2xsUGFyYW1zLFxuICAgIHR5cGUgVGhyZWFkQ3JlYXRlQW5kUnVuU3RyZWFtUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgUnVucyBhcyBSdW5zLFxuICAgIHR5cGUgUmVxdWlyZWRBY3Rpb25GdW5jdGlvblRvb2xDYWxsIGFzIFJlcXVpcmVkQWN0aW9uRnVuY3Rpb25Ub29sQ2FsbCxcbiAgICB0eXBlIFJ1biBhcyBSdW4sXG4gICAgdHlwZSBSdW5TdGF0dXMgYXMgUnVuU3RhdHVzLFxuICAgIFJ1bnNQYWdlIGFzIFJ1bnNQYWdlLFxuICAgIHR5cGUgUnVuQ3JlYXRlUGFyYW1zIGFzIFJ1bkNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIFJ1bkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyBhcyBSdW5DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgdHlwZSBSdW5DcmVhdGVQYXJhbXNTdHJlYW1pbmcgYXMgUnVuQ3JlYXRlUGFyYW1zU3RyZWFtaW5nLFxuICAgIHR5cGUgUnVuVXBkYXRlUGFyYW1zIGFzIFJ1blVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIFJ1bkxpc3RQYXJhbXMgYXMgUnVuTGlzdFBhcmFtcyxcbiAgICB0eXBlIFJ1bkNyZWF0ZUFuZFBvbGxQYXJhbXMsXG4gICAgdHlwZSBSdW5DcmVhdGVBbmRTdHJlYW1QYXJhbXMsXG4gICAgdHlwZSBSdW5TdHJlYW1QYXJhbXMsXG4gICAgdHlwZSBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtcyBhcyBSdW5TdWJtaXRUb29sT3V0cHV0c1BhcmFtcyxcbiAgICB0eXBlIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zTm9uU3RyZWFtaW5nIGFzIFJ1blN1Ym1pdFRvb2xPdXRwdXRzUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW1pbmcgYXMgUnVuU3VibWl0VG9vbE91dHB1dHNQYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBSdW5TdWJtaXRUb29sT3V0cHV0c0FuZFBvbGxQYXJhbXMsXG4gICAgdHlwZSBSdW5TdWJtaXRUb29sT3V0cHV0c1N0cmVhbVBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIE1lc3NhZ2VzIGFzIE1lc3NhZ2VzLFxuICAgIHR5cGUgQW5ub3RhdGlvbiBhcyBBbm5vdGF0aW9uLFxuICAgIHR5cGUgQW5ub3RhdGlvbkRlbHRhIGFzIEFubm90YXRpb25EZWx0YSxcbiAgICB0eXBlIEZpbGVDaXRhdGlvbkFubm90YXRpb24gYXMgRmlsZUNpdGF0aW9uQW5ub3RhdGlvbixcbiAgICB0eXBlIEZpbGVDaXRhdGlvbkRlbHRhQW5ub3RhdGlvbiBhcyBGaWxlQ2l0YXRpb25EZWx0YUFubm90YXRpb24sXG4gICAgdHlwZSBGaWxlUGF0aEFubm90YXRpb24gYXMgRmlsZVBhdGhBbm5vdGF0aW9uLFxuICAgIHR5cGUgRmlsZVBhdGhEZWx0YUFubm90YXRpb24gYXMgRmlsZVBhdGhEZWx0YUFubm90YXRpb24sXG4gICAgdHlwZSBJbWFnZUZpbGUgYXMgSW1hZ2VGaWxlLFxuICAgIHR5cGUgSW1hZ2VGaWxlQ29udGVudEJsb2NrIGFzIEltYWdlRmlsZUNvbnRlbnRCbG9jayxcbiAgICB0eXBlIEltYWdlRmlsZURlbHRhIGFzIEltYWdlRmlsZURlbHRhLFxuICAgIHR5cGUgSW1hZ2VGaWxlRGVsdGFCbG9jayBhcyBJbWFnZUZpbGVEZWx0YUJsb2NrLFxuICAgIHR5cGUgSW1hZ2VVUkwgYXMgSW1hZ2VVUkwsXG4gICAgdHlwZSBJbWFnZVVSTENvbnRlbnRCbG9jayBhcyBJbWFnZVVSTENvbnRlbnRCbG9jayxcbiAgICB0eXBlIEltYWdlVVJMRGVsdGEgYXMgSW1hZ2VVUkxEZWx0YSxcbiAgICB0eXBlIEltYWdlVVJMRGVsdGFCbG9jayBhcyBJbWFnZVVSTERlbHRhQmxvY2ssXG4gICAgdHlwZSBNZXNzYWdlc0FQSU1lc3NhZ2UgYXMgTWVzc2FnZSxcbiAgICB0eXBlIE1lc3NhZ2VDb250ZW50IGFzIE1lc3NhZ2VDb250ZW50LFxuICAgIHR5cGUgTWVzc2FnZUNvbnRlbnREZWx0YSBhcyBNZXNzYWdlQ29udGVudERlbHRhLFxuICAgIHR5cGUgTWVzc2FnZUNvbnRlbnRQYXJ0UGFyYW0gYXMgTWVzc2FnZUNvbnRlbnRQYXJ0UGFyYW0sXG4gICAgdHlwZSBNZXNzYWdlRGVsZXRlZCBhcyBNZXNzYWdlRGVsZXRlZCxcbiAgICB0eXBlIE1lc3NhZ2VEZWx0YSBhcyBNZXNzYWdlRGVsdGEsXG4gICAgdHlwZSBNZXNzYWdlRGVsdGFFdmVudCBhcyBNZXNzYWdlRGVsdGFFdmVudCxcbiAgICB0eXBlIFJlZnVzYWxDb250ZW50QmxvY2sgYXMgUmVmdXNhbENvbnRlbnRCbG9jayxcbiAgICB0eXBlIFJlZnVzYWxEZWx0YUJsb2NrIGFzIFJlZnVzYWxEZWx0YUJsb2NrLFxuICAgIHR5cGUgVGV4dCBhcyBUZXh0LFxuICAgIHR5cGUgVGV4dENvbnRlbnRCbG9jayBhcyBUZXh0Q29udGVudEJsb2NrLFxuICAgIHR5cGUgVGV4dENvbnRlbnRCbG9ja1BhcmFtIGFzIFRleHRDb250ZW50QmxvY2tQYXJhbSxcbiAgICB0eXBlIFRleHREZWx0YSBhcyBUZXh0RGVsdGEsXG4gICAgdHlwZSBUZXh0RGVsdGFCbG9jayBhcyBUZXh0RGVsdGFCbG9jayxcbiAgICBNZXNzYWdlc1BhZ2UgYXMgTWVzc2FnZXNQYWdlLFxuICAgIHR5cGUgTWVzc2FnZUNyZWF0ZVBhcmFtcyBhcyBNZXNzYWdlQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgTWVzc2FnZVVwZGF0ZVBhcmFtcyBhcyBNZXNzYWdlVXBkYXRlUGFyYW1zLFxuICAgIHR5cGUgTWVzc2FnZUxpc3RQYXJhbXMgYXMgTWVzc2FnZUxpc3RQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgKiBhcyBBc3Npc3RhbnRzQVBJIGZyb20gJy4vYXNzaXN0YW50cyc7XG5pbXBvcnQgKiBhcyBDaGF0QVBJIGZyb20gJy4vY2hhdC9jaGF0JztcbmltcG9ydCB7XG4gIEFzc2lzdGFudCxcbiAgQXNzaXN0YW50Q3JlYXRlUGFyYW1zLFxuICBBc3Npc3RhbnREZWxldGVkLFxuICBBc3Npc3RhbnRMaXN0UGFyYW1zLFxuICBBc3Npc3RhbnRTdHJlYW1FdmVudCxcbiAgQXNzaXN0YW50VG9vbCxcbiAgQXNzaXN0YW50VXBkYXRlUGFyYW1zLFxuICBBc3Npc3RhbnRzLFxuICBBc3Npc3RhbnRzUGFnZSxcbiAgQ29kZUludGVycHJldGVyVG9vbCxcbiAgRmlsZVNlYXJjaFRvb2wsXG4gIEZ1bmN0aW9uVG9vbCxcbiAgTWVzc2FnZVN0cmVhbUV2ZW50LFxuICBSdW5TdGVwU3RyZWFtRXZlbnQsXG4gIFJ1blN0cmVhbUV2ZW50LFxuICBUaHJlYWRTdHJlYW1FdmVudCxcbn0gZnJvbSAnLi9hc3Npc3RhbnRzJztcbmltcG9ydCAqIGFzIFJlYWx0aW1lQVBJIGZyb20gJy4vcmVhbHRpbWUvcmVhbHRpbWUnO1xuaW1wb3J0IHsgUmVhbHRpbWUgfSBmcm9tICcuL3JlYWx0aW1lL3JlYWx0aW1lJztcbmltcG9ydCAqIGFzIFRocmVhZHNBUEkgZnJvbSAnLi90aHJlYWRzL3RocmVhZHMnO1xuaW1wb3J0IHtcbiAgQXNzaXN0YW50UmVzcG9uc2VGb3JtYXRPcHRpb24sXG4gIEFzc2lzdGFudFRvb2xDaG9pY2UsXG4gIEFzc2lzdGFudFRvb2xDaG9pY2VGdW5jdGlvbixcbiAgQXNzaXN0YW50VG9vbENob2ljZU9wdGlvbixcbiAgVGhyZWFkLFxuICBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMsXG4gIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc05vblN0cmVhbWluZyxcbiAgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zU3RyZWFtaW5nLFxuICBUaHJlYWRDcmVhdGVBbmRSdW5Qb2xsUGFyYW1zLFxuICBUaHJlYWRDcmVhdGVBbmRSdW5TdHJlYW1QYXJhbXMsXG4gIFRocmVhZENyZWF0ZVBhcmFtcyxcbiAgVGhyZWFkRGVsZXRlZCxcbiAgVGhyZWFkVXBkYXRlUGFyYW1zLFxuICBUaHJlYWRzLFxufSBmcm9tICcuL3RocmVhZHMvdGhyZWFkcyc7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSAnLi9jaGF0L2NoYXQnO1xuXG5leHBvcnQgY2xhc3MgQmV0YSBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgcmVhbHRpbWU6IFJlYWx0aW1lQVBJLlJlYWx0aW1lID0gbmV3IFJlYWx0aW1lQVBJLlJlYWx0aW1lKHRoaXMuX2NsaWVudCk7XG4gIGNoYXQ6IENoYXRBUEkuQ2hhdCA9IG5ldyBDaGF0QVBJLkNoYXQodGhpcy5fY2xpZW50KTtcbiAgYXNzaXN0YW50czogQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRzID0gbmV3IEFzc2lzdGFudHNBUEkuQXNzaXN0YW50cyh0aGlzLl9jbGllbnQpO1xuICB0aHJlYWRzOiBUaHJlYWRzQVBJLlRocmVhZHMgPSBuZXcgVGhyZWFkc0FQSS5UaHJlYWRzKHRoaXMuX2NsaWVudCk7XG59XG5cbkJldGEuUmVhbHRpbWUgPSBSZWFsdGltZTtcbkJldGEuQXNzaXN0YW50cyA9IEFzc2lzdGFudHM7XG5CZXRhLkFzc2lzdGFudHNQYWdlID0gQXNzaXN0YW50c1BhZ2U7XG5CZXRhLlRocmVhZHMgPSBUaHJlYWRzO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgQmV0YSB7XG4gIGV4cG9ydCB7IFJlYWx0aW1lIGFzIFJlYWx0aW1lIH07XG5cbiAgZXhwb3J0IHsgQ2hhdCB9O1xuXG4gIGV4cG9ydCB7XG4gICAgQXNzaXN0YW50cyBhcyBBc3Npc3RhbnRzLFxuICAgIHR5cGUgQXNzaXN0YW50IGFzIEFzc2lzdGFudCxcbiAgICB0eXBlIEFzc2lzdGFudERlbGV0ZWQgYXMgQXNzaXN0YW50RGVsZXRlZCxcbiAgICB0eXBlIEFzc2lzdGFudFN0cmVhbUV2ZW50IGFzIEFzc2lzdGFudFN0cmVhbUV2ZW50LFxuICAgIHR5cGUgQXNzaXN0YW50VG9vbCBhcyBBc3Npc3RhbnRUb29sLFxuICAgIHR5cGUgQ29kZUludGVycHJldGVyVG9vbCBhcyBDb2RlSW50ZXJwcmV0ZXJUb29sLFxuICAgIHR5cGUgRmlsZVNlYXJjaFRvb2wgYXMgRmlsZVNlYXJjaFRvb2wsXG4gICAgdHlwZSBGdW5jdGlvblRvb2wgYXMgRnVuY3Rpb25Ub29sLFxuICAgIHR5cGUgTWVzc2FnZVN0cmVhbUV2ZW50IGFzIE1lc3NhZ2VTdHJlYW1FdmVudCxcbiAgICB0eXBlIFJ1blN0ZXBTdHJlYW1FdmVudCBhcyBSdW5TdGVwU3RyZWFtRXZlbnQsXG4gICAgdHlwZSBSdW5TdHJlYW1FdmVudCBhcyBSdW5TdHJlYW1FdmVudCxcbiAgICB0eXBlIFRocmVhZFN0cmVhbUV2ZW50IGFzIFRocmVhZFN0cmVhbUV2ZW50LFxuICAgIEFzc2lzdGFudHNQYWdlIGFzIEFzc2lzdGFudHNQYWdlLFxuICAgIHR5cGUgQXNzaXN0YW50Q3JlYXRlUGFyYW1zIGFzIEFzc2lzdGFudENyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIEFzc2lzdGFudFVwZGF0ZVBhcmFtcyBhcyBBc3Npc3RhbnRVcGRhdGVQYXJhbXMsXG4gICAgdHlwZSBBc3Npc3RhbnRMaXN0UGFyYW1zIGFzIEFzc2lzdGFudExpc3RQYXJhbXMsXG4gIH07XG5cbiAgZXhwb3J0IHtcbiAgICBUaHJlYWRzIGFzIFRocmVhZHMsXG4gICAgdHlwZSBBc3Npc3RhbnRSZXNwb25zZUZvcm1hdE9wdGlvbiBhcyBBc3Npc3RhbnRSZXNwb25zZUZvcm1hdE9wdGlvbixcbiAgICB0eXBlIEFzc2lzdGFudFRvb2xDaG9pY2UgYXMgQXNzaXN0YW50VG9vbENob2ljZSxcbiAgICB0eXBlIEFzc2lzdGFudFRvb2xDaG9pY2VGdW5jdGlvbiBhcyBBc3Npc3RhbnRUb29sQ2hvaWNlRnVuY3Rpb24sXG4gICAgdHlwZSBBc3Npc3RhbnRUb29sQ2hvaWNlT3B0aW9uIGFzIEFzc2lzdGFudFRvb2xDaG9pY2VPcHRpb24sXG4gICAgdHlwZSBUaHJlYWQgYXMgVGhyZWFkLFxuICAgIHR5cGUgVGhyZWFkRGVsZXRlZCBhcyBUaHJlYWREZWxldGVkLFxuICAgIHR5cGUgVGhyZWFkQ3JlYXRlUGFyYW1zIGFzIFRocmVhZENyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIFRocmVhZFVwZGF0ZVBhcmFtcyBhcyBUaHJlYWRVcGRhdGVQYXJhbXMsXG4gICAgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXMgYXMgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zLFxuICAgIHR5cGUgVGhyZWFkQ3JlYXRlQW5kUnVuUGFyYW1zTm9uU3RyZWFtaW5nIGFzIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc05vblN0cmVhbWluZyxcbiAgICB0eXBlIFRocmVhZENyZWF0ZUFuZFJ1blBhcmFtc1N0cmVhbWluZyBhcyBUaHJlYWRDcmVhdGVBbmRSdW5QYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBUaHJlYWRDcmVhdGVBbmRSdW5Qb2xsUGFyYW1zLFxuICAgIHR5cGUgVGhyZWFkQ3JlYXRlQW5kUnVuU3RyZWFtUGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vcmVzb3VyY2UnO1xuaW1wb3J0IHsgQVBJUHJvbWlzZSB9IGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCAqIGFzIENvbXBsZXRpb25zQVBJIGZyb20gJy4vY29tcGxldGlvbnMnO1xuaW1wb3J0ICogYXMgQ29tcGxldGlvbnNDb21wbGV0aW9uc0FQSSBmcm9tICcuL2NoYXQvY29tcGxldGlvbnMvY29tcGxldGlvbnMnO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi4vc3RyZWFtaW5nJztcblxuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIGNvbXBsZXRpb24gZm9yIHRoZSBwcm92aWRlZCBwcm9tcHQgYW5kIHBhcmFtZXRlcnMuXG4gICAqL1xuICBjcmVhdGUoYm9keTogQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBBUElQcm9taXNlPENvbXBsZXRpb24+O1xuICBjcmVhdGUoXG4gICAgYm9keTogQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08Q29tcGxldGlvbj4+O1xuICBjcmVhdGUoXG4gICAgYm9keTogQ29tcGxldGlvbkNyZWF0ZVBhcmFtc0Jhc2UsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPENvbXBsZXRpb24+IHwgQ29tcGxldGlvbj47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPENvbXBsZXRpb24+IHwgQVBJUHJvbWlzZTxTdHJlYW08Q29tcGxldGlvbj4+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9jb21wbGV0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KSBhc1xuICAgICAgfCBBUElQcm9taXNlPENvbXBsZXRpb24+XG4gICAgICB8IEFQSVByb21pc2U8U3RyZWFtPENvbXBsZXRpb24+PjtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb21wbGV0aW9uIHJlc3BvbnNlIGZyb20gdGhlIEFQSS4gTm90ZTogYm90aCB0aGUgc3RyZWFtZWQgYW5kXG4gKiBub24tc3RyZWFtZWQgcmVzcG9uc2Ugb2JqZWN0cyBzaGFyZSB0aGUgc2FtZSBzaGFwZSAodW5saWtlIHRoZSBjaGF0IGVuZHBvaW50KS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uIHtcbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjb21wbGV0aW9uLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgY29tcGxldGlvbiBjaG9pY2VzIHRoZSBtb2RlbCBnZW5lcmF0ZWQgZm9yIHRoZSBpbnB1dCBwcm9tcHQuXG4gICAqL1xuICBjaG9pY2VzOiBBcnJheTxDb21wbGV0aW9uQ2hvaWNlPjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBvZiB3aGVuIHRoZSBjb21wbGV0aW9uIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbW9kZWwgdXNlZCBmb3IgY29tcGxldGlvbi5cbiAgICovXG4gIG1vZGVsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIFwidGV4dF9jb21wbGV0aW9uXCJcbiAgICovXG4gIG9iamVjdDogJ3RleHRfY29tcGxldGlvbic7XG5cbiAgLyoqXG4gICAqIFRoaXMgZmluZ2VycHJpbnQgcmVwcmVzZW50cyB0aGUgYmFja2VuZCBjb25maWd1cmF0aW9uIHRoYXQgdGhlIG1vZGVsIHJ1bnMgd2l0aC5cbiAgICpcbiAgICogQ2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGUgYHNlZWRgIHJlcXVlc3QgcGFyYW1ldGVyIHRvIHVuZGVyc3RhbmQgd2hlblxuICAgKiBiYWNrZW5kIGNoYW5nZXMgaGF2ZSBiZWVuIG1hZGUgdGhhdCBtaWdodCBpbXBhY3QgZGV0ZXJtaW5pc20uXG4gICAqL1xuICBzeXN0ZW1fZmluZ2VycHJpbnQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFVzYWdlIHN0YXRpc3RpY3MgZm9yIHRoZSBjb21wbGV0aW9uIHJlcXVlc3QuXG4gICAqL1xuICB1c2FnZT86IENvbXBsZXRpb25Vc2FnZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uQ2hvaWNlIHtcbiAgLyoqXG4gICAqIFRoZSByZWFzb24gdGhlIG1vZGVsIHN0b3BwZWQgZ2VuZXJhdGluZyB0b2tlbnMuIFRoaXMgd2lsbCBiZSBgc3RvcGAgaWYgdGhlIG1vZGVsXG4gICAqIGhpdCBhIG5hdHVyYWwgc3RvcCBwb2ludCBvciBhIHByb3ZpZGVkIHN0b3Agc2VxdWVuY2UsIGBsZW5ndGhgIGlmIHRoZSBtYXhpbXVtXG4gICAqIG51bWJlciBvZiB0b2tlbnMgc3BlY2lmaWVkIGluIHRoZSByZXF1ZXN0IHdhcyByZWFjaGVkLCBvciBgY29udGVudF9maWx0ZXJgIGlmXG4gICAqIGNvbnRlbnQgd2FzIG9taXR0ZWQgZHVlIHRvIGEgZmxhZyBmcm9tIG91ciBjb250ZW50IGZpbHRlcnMuXG4gICAqL1xuICBmaW5pc2hfcmVhc29uOiAnc3RvcCcgfCAnbGVuZ3RoJyB8ICdjb250ZW50X2ZpbHRlcic7XG5cbiAgaW5kZXg6IG51bWJlcjtcblxuICBsb2dwcm9iczogQ29tcGxldGlvbkNob2ljZS5Mb2dwcm9icyB8IG51bGw7XG5cbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENvbXBsZXRpb25DaG9pY2Uge1xuICBleHBvcnQgaW50ZXJmYWNlIExvZ3Byb2JzIHtcbiAgICB0ZXh0X29mZnNldD86IEFycmF5PG51bWJlcj47XG5cbiAgICB0b2tlbl9sb2dwcm9icz86IEFycmF5PG51bWJlcj47XG5cbiAgICB0b2tlbnM/OiBBcnJheTxzdHJpbmc+O1xuXG4gICAgdG9wX2xvZ3Byb2JzPzogQXJyYXk8UmVjb3JkPHN0cmluZywgbnVtYmVyPj47XG4gIH1cbn1cblxuLyoqXG4gKiBVc2FnZSBzdGF0aXN0aWNzIGZvciB0aGUgY29tcGxldGlvbiByZXF1ZXN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25Vc2FnZSB7XG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgdG9rZW5zIGluIHRoZSBnZW5lcmF0ZWQgY29tcGxldGlvbi5cbiAgICovXG4gIGNvbXBsZXRpb25fdG9rZW5zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiB0b2tlbnMgaW4gdGhlIHByb21wdC5cbiAgICovXG4gIHByb21wdF90b2tlbnM6IG51bWJlcjtcblxuICAvKipcbiAgICogVG90YWwgbnVtYmVyIG9mIHRva2VucyB1c2VkIGluIHRoZSByZXF1ZXN0IChwcm9tcHQgKyBjb21wbGV0aW9uKS5cbiAgICovXG4gIHRvdGFsX3Rva2VuczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBCcmVha2Rvd24gb2YgdG9rZW5zIHVzZWQgaW4gYSBjb21wbGV0aW9uLlxuICAgKi9cbiAgY29tcGxldGlvbl90b2tlbnNfZGV0YWlscz86IENvbXBsZXRpb25Vc2FnZS5Db21wbGV0aW9uVG9rZW5zRGV0YWlscztcblxuICAvKipcbiAgICogQnJlYWtkb3duIG9mIHRva2VucyB1c2VkIGluIHRoZSBwcm9tcHQuXG4gICAqL1xuICBwcm9tcHRfdG9rZW5zX2RldGFpbHM/OiBDb21wbGV0aW9uVXNhZ2UuUHJvbXB0VG9rZW5zRGV0YWlscztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDb21wbGV0aW9uVXNhZ2Uge1xuICAvKipcbiAgICogQnJlYWtkb3duIG9mIHRva2VucyB1c2VkIGluIGEgY29tcGxldGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvblRva2Vuc0RldGFpbHMge1xuICAgIC8qKlxuICAgICAqIFdoZW4gdXNpbmcgUHJlZGljdGVkIE91dHB1dHMsIHRoZSBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBwcmVkaWN0aW9uIHRoYXRcbiAgICAgKiBhcHBlYXJlZCBpbiB0aGUgY29tcGxldGlvbi5cbiAgICAgKi9cbiAgICBhY2NlcHRlZF9wcmVkaWN0aW9uX3Rva2Vucz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEF1ZGlvIGlucHV0IHRva2VucyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGF1ZGlvX3Rva2Vucz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRva2VucyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGZvciByZWFzb25pbmcuXG4gICAgICovXG4gICAgcmVhc29uaW5nX3Rva2Vucz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdXNpbmcgUHJlZGljdGVkIE91dHB1dHMsIHRoZSBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBwcmVkaWN0aW9uIHRoYXQgZGlkXG4gICAgICogbm90IGFwcGVhciBpbiB0aGUgY29tcGxldGlvbi4gSG93ZXZlciwgbGlrZSByZWFzb25pbmcgdG9rZW5zLCB0aGVzZSB0b2tlbnMgYXJlXG4gICAgICogc3RpbGwgY291bnRlZCBpbiB0aGUgdG90YWwgY29tcGxldGlvbiB0b2tlbnMgZm9yIHB1cnBvc2VzIG9mIGJpbGxpbmcsIG91dHB1dCxcbiAgICAgKiBhbmQgY29udGV4dCB3aW5kb3cgbGltaXRzLlxuICAgICAqL1xuICAgIHJlamVjdGVkX3ByZWRpY3Rpb25fdG9rZW5zPzogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEJyZWFrZG93biBvZiB0b2tlbnMgdXNlZCBpbiB0aGUgcHJvbXB0LlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBQcm9tcHRUb2tlbnNEZXRhaWxzIHtcbiAgICAvKipcbiAgICAgKiBBdWRpbyBpbnB1dCB0b2tlbnMgcHJlc2VudCBpbiB0aGUgcHJvbXB0LlxuICAgICAqL1xuICAgIGF1ZGlvX3Rva2Vucz86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIENhY2hlZCB0b2tlbnMgcHJlc2VudCBpbiB0aGUgcHJvbXB0LlxuICAgICAqL1xuICAgIGNhY2hlZF90b2tlbnM/OiBudW1iZXI7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyA9IENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgfCBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIFlvdSBjYW4gdXNlIHRoZVxuICAgKiBbTGlzdCBtb2RlbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvbW9kZWxzL2xpc3QpIEFQSSB0b1xuICAgKiBzZWUgYWxsIG9mIHlvdXIgYXZhaWxhYmxlIG1vZGVscywgb3Igc2VlIG91clxuICAgKiBbTW9kZWwgb3ZlcnZpZXddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscykgZm9yIGRlc2NyaXB0aW9ucyBvZlxuICAgKiB0aGVtLlxuICAgKi9cbiAgbW9kZWw6IChzdHJpbmcgJiB7fSkgfCAnZ3B0LTMuNS10dXJiby1pbnN0cnVjdCcgfCAnZGF2aW5jaS0wMDInIHwgJ2JhYmJhZ2UtMDAyJztcblxuICAvKipcbiAgICogVGhlIHByb21wdChzKSB0byBnZW5lcmF0ZSBjb21wbGV0aW9ucyBmb3IsIGVuY29kZWQgYXMgYSBzdHJpbmcsIGFycmF5IG9mXG4gICAqIHN0cmluZ3MsIGFycmF5IG9mIHRva2Vucywgb3IgYXJyYXkgb2YgdG9rZW4gYXJyYXlzLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgPHxlbmRvZnRleHR8PiBpcyB0aGUgZG9jdW1lbnQgc2VwYXJhdG9yIHRoYXQgdGhlIG1vZGVsIHNlZXMgZHVyaW5nXG4gICAqIHRyYWluaW5nLCBzbyBpZiBhIHByb21wdCBpcyBub3Qgc3BlY2lmaWVkIHRoZSBtb2RlbCB3aWxsIGdlbmVyYXRlIGFzIGlmIGZyb20gdGhlXG4gICAqIGJlZ2lubmluZyBvZiBhIG5ldyBkb2N1bWVudC5cbiAgICovXG4gIHByb21wdDogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPiB8IEFycmF5PG51bWJlcj4gfCBBcnJheTxBcnJheTxudW1iZXI+PiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBgYmVzdF9vZmAgY29tcGxldGlvbnMgc2VydmVyLXNpZGUgYW5kIHJldHVybnMgdGhlIFwiYmVzdFwiICh0aGUgb25lIHdpdGhcbiAgICogdGhlIGhpZ2hlc3QgbG9nIHByb2JhYmlsaXR5IHBlciB0b2tlbikuIFJlc3VsdHMgY2Fubm90IGJlIHN0cmVhbWVkLlxuICAgKlxuICAgKiBXaGVuIHVzZWQgd2l0aCBgbmAsIGBiZXN0X29mYCBjb250cm9scyB0aGUgbnVtYmVyIG9mIGNhbmRpZGF0ZSBjb21wbGV0aW9ucyBhbmRcbiAgICogYG5gIHNwZWNpZmllcyBob3cgbWFueSB0byByZXR1cm4gXHUyMDEzIGBiZXN0X29mYCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBgbmAuXG4gICAqXG4gICAqICoqTm90ZToqKiBCZWNhdXNlIHRoaXMgcGFyYW1ldGVyIGdlbmVyYXRlcyBtYW55IGNvbXBsZXRpb25zLCBpdCBjYW4gcXVpY2tseVxuICAgKiBjb25zdW1lIHlvdXIgdG9rZW4gcXVvdGEuIFVzZSBjYXJlZnVsbHkgYW5kIGVuc3VyZSB0aGF0IHlvdSBoYXZlIHJlYXNvbmFibGVcbiAgICogc2V0dGluZ3MgZm9yIGBtYXhfdG9rZW5zYCBhbmQgYHN0b3BgLlxuICAgKi9cbiAgYmVzdF9vZj86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEVjaG8gYmFjayB0aGUgcHJvbXB0IGluIGFkZGl0aW9uIHRvIHRoZSBjb21wbGV0aW9uXG4gICAqL1xuICBlY2hvPzogYm9vbGVhbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE51bWJlciBiZXR3ZWVuIC0yLjAgYW5kIDIuMC4gUG9zaXRpdmUgdmFsdWVzIHBlbmFsaXplIG5ldyB0b2tlbnMgYmFzZWQgb24gdGhlaXJcbiAgICogZXhpc3RpbmcgZnJlcXVlbmN5IGluIHRoZSB0ZXh0IHNvIGZhciwgZGVjcmVhc2luZyB0aGUgbW9kZWwncyBsaWtlbGlob29kIHRvXG4gICAqIHJlcGVhdCB0aGUgc2FtZSBsaW5lIHZlcmJhdGltLlxuICAgKlxuICAgKiBbU2VlIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgZnJlcXVlbmN5IGFuZCBwcmVzZW5jZSBwZW5hbHRpZXMuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dC1nZW5lcmF0aW9uKVxuICAgKi9cbiAgZnJlcXVlbmN5X3BlbmFsdHk/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBNb2RpZnkgdGhlIGxpa2VsaWhvb2Qgb2Ygc3BlY2lmaWVkIHRva2VucyBhcHBlYXJpbmcgaW4gdGhlIGNvbXBsZXRpb24uXG4gICAqXG4gICAqIEFjY2VwdHMgYSBKU09OIG9iamVjdCB0aGF0IG1hcHMgdG9rZW5zIChzcGVjaWZpZWQgYnkgdGhlaXIgdG9rZW4gSUQgaW4gdGhlIEdQVFxuICAgKiB0b2tlbml6ZXIpIHRvIGFuIGFzc29jaWF0ZWQgYmlhcyB2YWx1ZSBmcm9tIC0xMDAgdG8gMTAwLiBZb3UgY2FuIHVzZSB0aGlzXG4gICAqIFt0b2tlbml6ZXIgdG9vbF0oL3Rva2VuaXplcj92aWV3PWJwZSkgdG8gY29udmVydCB0ZXh0IHRvIHRva2VuIElEcy5cbiAgICogTWF0aGVtYXRpY2FsbHksIHRoZSBiaWFzIGlzIGFkZGVkIHRvIHRoZSBsb2dpdHMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBwcmlvciB0b1xuICAgKiBzYW1wbGluZy4gVGhlIGV4YWN0IGVmZmVjdCB3aWxsIHZhcnkgcGVyIG1vZGVsLCBidXQgdmFsdWVzIGJldHdlZW4gLTEgYW5kIDFcbiAgICogc2hvdWxkIGRlY3JlYXNlIG9yIGluY3JlYXNlIGxpa2VsaWhvb2Qgb2Ygc2VsZWN0aW9uOyB2YWx1ZXMgbGlrZSAtMTAwIG9yIDEwMFxuICAgKiBzaG91bGQgcmVzdWx0IGluIGEgYmFuIG9yIGV4Y2x1c2l2ZSBzZWxlY3Rpb24gb2YgdGhlIHJlbGV2YW50IHRva2VuLlxuICAgKlxuICAgKiBBcyBhbiBleGFtcGxlLCB5b3UgY2FuIHBhc3MgYHtcIjUwMjU2XCI6IC0xMDB9YCB0byBwcmV2ZW50IHRoZSA8fGVuZG9mdGV4dHw+IHRva2VuXG4gICAqIGZyb20gYmVpbmcgZ2VuZXJhdGVkLlxuICAgKi9cbiAgbG9naXRfYmlhcz86IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBJbmNsdWRlIHRoZSBsb2cgcHJvYmFiaWxpdGllcyBvbiB0aGUgYGxvZ3Byb2JzYCBtb3N0IGxpa2VseSBvdXRwdXQgdG9rZW5zLCBhc1xuICAgKiB3ZWxsIHRoZSBjaG9zZW4gdG9rZW5zLiBGb3IgZXhhbXBsZSwgaWYgYGxvZ3Byb2JzYCBpcyA1LCB0aGUgQVBJIHdpbGwgcmV0dXJuIGFcbiAgICogbGlzdCBvZiB0aGUgNSBtb3N0IGxpa2VseSB0b2tlbnMuIFRoZSBBUEkgd2lsbCBhbHdheXMgcmV0dXJuIHRoZSBgbG9ncHJvYmAgb2ZcbiAgICogdGhlIHNhbXBsZWQgdG9rZW4sIHNvIHRoZXJlIG1heSBiZSB1cCB0byBgbG9ncHJvYnMrMWAgZWxlbWVudHMgaW4gdGhlIHJlc3BvbnNlLlxuICAgKlxuICAgKiBUaGUgbWF4aW11bSB2YWx1ZSBmb3IgYGxvZ3Byb2JzYCBpcyA1LlxuICAgKi9cbiAgbG9ncHJvYnM/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgW3Rva2Vuc10oL3Rva2VuaXplcikgdGhhdCBjYW4gYmUgZ2VuZXJhdGVkIGluIHRoZVxuICAgKiBjb21wbGV0aW9uLlxuICAgKlxuICAgKiBUaGUgdG9rZW4gY291bnQgb2YgeW91ciBwcm9tcHQgcGx1cyBgbWF4X3Rva2Vuc2AgY2Fubm90IGV4Y2VlZCB0aGUgbW9kZWwnc1xuICAgKiBjb250ZXh0IGxlbmd0aC5cbiAgICogW0V4YW1wbGUgUHl0aG9uIGNvZGVdKGh0dHBzOi8vY29va2Jvb2sub3BlbmFpLmNvbS9leGFtcGxlcy9ob3dfdG9fY291bnRfdG9rZW5zX3dpdGhfdGlrdG9rZW4pXG4gICAqIGZvciBjb3VudGluZyB0b2tlbnMuXG4gICAqL1xuICBtYXhfdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogSG93IG1hbnkgY29tcGxldGlvbnMgdG8gZ2VuZXJhdGUgZm9yIGVhY2ggcHJvbXB0LlxuICAgKlxuICAgKiAqKk5vdGU6KiogQmVjYXVzZSB0aGlzIHBhcmFtZXRlciBnZW5lcmF0ZXMgbWFueSBjb21wbGV0aW9ucywgaXQgY2FuIHF1aWNrbHlcbiAgICogY29uc3VtZSB5b3VyIHRva2VuIHF1b3RhLiBVc2UgY2FyZWZ1bGx5IGFuZCBlbnN1cmUgdGhhdCB5b3UgaGF2ZSByZWFzb25hYmxlXG4gICAqIHNldHRpbmdzIGZvciBgbWF4X3Rva2Vuc2AgYW5kIGBzdG9wYC5cbiAgICovXG4gIG4/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBOdW1iZXIgYmV0d2VlbiAtMi4wIGFuZCAyLjAuIFBvc2l0aXZlIHZhbHVlcyBwZW5hbGl6ZSBuZXcgdG9rZW5zIGJhc2VkIG9uXG4gICAqIHdoZXRoZXIgdGhleSBhcHBlYXIgaW4gdGhlIHRleHQgc28gZmFyLCBpbmNyZWFzaW5nIHRoZSBtb2RlbCdzIGxpa2VsaWhvb2QgdG9cbiAgICogdGFsayBhYm91dCBuZXcgdG9waWNzLlxuICAgKlxuICAgKiBbU2VlIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgZnJlcXVlbmN5IGFuZCBwcmVzZW5jZSBwZW5hbHRpZXMuXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dC1nZW5lcmF0aW9uKVxuICAgKi9cbiAgcHJlc2VuY2VfcGVuYWx0eT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIElmIHNwZWNpZmllZCwgb3VyIHN5c3RlbSB3aWxsIG1ha2UgYSBiZXN0IGVmZm9ydCB0byBzYW1wbGUgZGV0ZXJtaW5pc3RpY2FsbHksXG4gICAqIHN1Y2ggdGhhdCByZXBlYXRlZCByZXF1ZXN0cyB3aXRoIHRoZSBzYW1lIGBzZWVkYCBhbmQgcGFyYW1ldGVycyBzaG91bGQgcmV0dXJuXG4gICAqIHRoZSBzYW1lIHJlc3VsdC5cbiAgICpcbiAgICogRGV0ZXJtaW5pc20gaXMgbm90IGd1YXJhbnRlZWQsIGFuZCB5b3Ugc2hvdWxkIHJlZmVyIHRvIHRoZSBgc3lzdGVtX2ZpbmdlcnByaW50YFxuICAgKiByZXNwb25zZSBwYXJhbWV0ZXIgdG8gbW9uaXRvciBjaGFuZ2VzIGluIHRoZSBiYWNrZW5kLlxuICAgKi9cbiAgc2VlZD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFVwIHRvIDQgc2VxdWVuY2VzIHdoZXJlIHRoZSBBUEkgd2lsbCBzdG9wIGdlbmVyYXRpbmcgZnVydGhlciB0b2tlbnMuIFRoZVxuICAgKiByZXR1cm5lZCB0ZXh0IHdpbGwgbm90IGNvbnRhaW4gdGhlIHN0b3Agc2VxdWVuY2UuXG4gICAqL1xuICBzdG9wPzogc3RyaW5nIHwgbnVsbCB8IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc3RyZWFtIGJhY2sgcGFydGlhbCBwcm9ncmVzcy4gSWYgc2V0LCB0b2tlbnMgd2lsbCBiZSBzZW50IGFzXG4gICAqIGRhdGEtb25seVxuICAgKiBbc2VydmVyLXNlbnQgZXZlbnRzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmVyLXNlbnRfZXZlbnRzL1VzaW5nX3NlcnZlci1zZW50X2V2ZW50cyNFdmVudF9zdHJlYW1fZm9ybWF0KVxuICAgKiBhcyB0aGV5IGJlY29tZSBhdmFpbGFibGUsIHdpdGggdGhlIHN0cmVhbSB0ZXJtaW5hdGVkIGJ5IGEgYGRhdGE6IFtET05FXWBcbiAgICogbWVzc2FnZS5cbiAgICogW0V4YW1wbGUgUHl0aG9uIGNvZGVdKGh0dHBzOi8vY29va2Jvb2sub3BlbmFpLmNvbS9leGFtcGxlcy9ob3dfdG9fc3RyZWFtX2NvbXBsZXRpb25zKS5cbiAgICovXG4gIHN0cmVhbT86IGJvb2xlYW4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBPcHRpb25zIGZvciBzdHJlYW1pbmcgcmVzcG9uc2UuIE9ubHkgc2V0IHRoaXMgd2hlbiB5b3Ugc2V0IGBzdHJlYW06IHRydWVgLlxuICAgKi9cbiAgc3RyZWFtX29wdGlvbnM/OiBDb21wbGV0aW9uc0NvbXBsZXRpb25zQVBJLkNoYXRDb21wbGV0aW9uU3RyZWFtT3B0aW9ucyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzdWZmaXggdGhhdCBjb21lcyBhZnRlciBhIGNvbXBsZXRpb24gb2YgaW5zZXJ0ZWQgdGV4dC5cbiAgICpcbiAgICogVGhpcyBwYXJhbWV0ZXIgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGBncHQtMy41LXR1cmJvLWluc3RydWN0YC5cbiAgICovXG4gIHN1ZmZpeD86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFdoYXQgc2FtcGxpbmcgdGVtcGVyYXR1cmUgdG8gdXNlLCBiZXR3ZWVuIDAgYW5kIDIuIEhpZ2hlciB2YWx1ZXMgbGlrZSAwLjggd2lsbFxuICAgKiBtYWtlIHRoZSBvdXRwdXQgbW9yZSByYW5kb20sIHdoaWxlIGxvd2VyIHZhbHVlcyBsaWtlIDAuMiB3aWxsIG1ha2UgaXQgbW9yZVxuICAgKiBmb2N1c2VkIGFuZCBkZXRlcm1pbmlzdGljLlxuICAgKlxuICAgKiBXZSBnZW5lcmFsbHkgcmVjb21tZW5kIGFsdGVyaW5nIHRoaXMgb3IgYHRvcF9wYCBidXQgbm90IGJvdGguXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIGFsdGVybmF0aXZlIHRvIHNhbXBsaW5nIHdpdGggdGVtcGVyYXR1cmUsIGNhbGxlZCBudWNsZXVzIHNhbXBsaW5nLCB3aGVyZSB0aGVcbiAgICogbW9kZWwgY29uc2lkZXJzIHRoZSByZXN1bHRzIG9mIHRoZSB0b2tlbnMgd2l0aCB0b3BfcCBwcm9iYWJpbGl0eSBtYXNzLiBTbyAwLjFcbiAgICogbWVhbnMgb25seSB0aGUgdG9rZW5zIGNvbXByaXNpbmcgdGhlIHRvcCAxMCUgcHJvYmFiaWxpdHkgbWFzcyBhcmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIGB0ZW1wZXJhdHVyZWAgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvclxuICAgKiBhbmQgZGV0ZWN0IGFidXNlLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcyNlbmQtdXNlci1pZHMpLlxuICAgKi9cbiAgdXNlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIHtcbiAgZXhwb3J0IHR5cGUgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyA9IENvbXBsZXRpb25zQVBJLkNvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmc7XG4gIGV4cG9ydCB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgPSBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgZXh0ZW5kcyBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHN0cmVhbSBiYWNrIHBhcnRpYWwgcHJvZ3Jlc3MuIElmIHNldCwgdG9rZW5zIHdpbGwgYmUgc2VudCBhc1xuICAgKiBkYXRhLW9ubHlcbiAgICogW3NlcnZlci1zZW50IGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHMjRXZlbnRfc3RyZWFtX2Zvcm1hdClcbiAgICogYXMgdGhleSBiZWNvbWUgYXZhaWxhYmxlLCB3aXRoIHRoZSBzdHJlYW0gdGVybWluYXRlZCBieSBhIGBkYXRhOiBbRE9ORV1gXG4gICAqIG1lc3NhZ2UuXG4gICAqIFtFeGFtcGxlIFB5dGhvbiBjb2RlXShodHRwczovL2Nvb2tib29rLm9wZW5haS5jb20vZXhhbXBsZXMvaG93X3RvX3N0cmVhbV9jb21wbGV0aW9ucykuXG4gICAqL1xuICBzdHJlYW0/OiBmYWxzZSB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyBleHRlbmRzIENvbXBsZXRpb25DcmVhdGVQYXJhbXNCYXNlIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc3RyZWFtIGJhY2sgcGFydGlhbCBwcm9ncmVzcy4gSWYgc2V0LCB0b2tlbnMgd2lsbCBiZSBzZW50IGFzXG4gICAqIGRhdGEtb25seVxuICAgKiBbc2VydmVyLXNlbnQgZXZlbnRzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmVyLXNlbnRfZXZlbnRzL1VzaW5nX3NlcnZlci1zZW50X2V2ZW50cyNFdmVudF9zdHJlYW1fZm9ybWF0KVxuICAgKiBhcyB0aGV5IGJlY29tZSBhdmFpbGFibGUsIHdpdGggdGhlIHN0cmVhbSB0ZXJtaW5hdGVkIGJ5IGEgYGRhdGE6IFtET05FXWBcbiAgICogbWVzc2FnZS5cbiAgICogW0V4YW1wbGUgUHl0aG9uIGNvZGVdKGh0dHBzOi8vY29va2Jvb2sub3BlbmFpLmNvbS9leGFtcGxlcy9ob3dfdG9fc3RyZWFtX2NvbXBsZXRpb25zKS5cbiAgICovXG4gIHN0cmVhbTogdHJ1ZTtcbn1cblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIENvbXBsZXRpb25zIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIENvbXBsZXRpb24gYXMgQ29tcGxldGlvbixcbiAgICB0eXBlIENvbXBsZXRpb25DaG9pY2UgYXMgQ29tcGxldGlvbkNob2ljZSxcbiAgICB0eXBlIENvbXBsZXRpb25Vc2FnZSBhcyBDb21wbGV0aW9uVXNhZ2UsXG4gICAgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIGFzIENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nIGFzIENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgdHlwZSBDb21wbGV0aW9uQ3JlYXRlUGFyYW1zU3RyZWFtaW5nIGFzIENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi9yZXNvdXJjZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgRW1iZWRkaW5ncyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZW1iZWRkaW5nIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGlucHV0IHRleHQuXG4gICAqL1xuICBjcmVhdGUoXG4gICAgYm9keTogRW1iZWRkaW5nQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8Q3JlYXRlRW1iZWRkaW5nUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9lbWJlZGRpbmdzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlRW1iZWRkaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgZW1iZWRkaW5ncyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgZGF0YTogQXJyYXk8RW1iZWRkaW5nPjtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGVtYmVkZGluZy5cbiAgICovXG4gIG1vZGVsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIFwibGlzdFwiLlxuICAgKi9cbiAgb2JqZWN0OiAnbGlzdCc7XG5cbiAgLyoqXG4gICAqIFRoZSB1c2FnZSBpbmZvcm1hdGlvbiBmb3IgdGhlIHJlcXVlc3QuXG4gICAqL1xuICB1c2FnZTogQ3JlYXRlRW1iZWRkaW5nUmVzcG9uc2UuVXNhZ2U7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ3JlYXRlRW1iZWRkaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICogVGhlIHVzYWdlIGluZm9ybWF0aW9uIGZvciB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVXNhZ2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgdG9rZW5zIHVzZWQgYnkgdGhlIHByb21wdC5cbiAgICAgKi9cbiAgICBwcm9tcHRfdG9rZW5zOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIHRva2VucyB1c2VkIGJ5IHRoZSByZXF1ZXN0LlxuICAgICAqL1xuICAgIHRvdGFsX3Rva2VuczogbnVtYmVyO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBlbWJlZGRpbmcgdmVjdG9yIHJldHVybmVkIGJ5IGVtYmVkZGluZyBlbmRwb2ludC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFbWJlZGRpbmcge1xuICAvKipcbiAgICogVGhlIGVtYmVkZGluZyB2ZWN0b3IsIHdoaWNoIGlzIGEgbGlzdCBvZiBmbG9hdHMuIFRoZSBsZW5ndGggb2YgdmVjdG9yIGRlcGVuZHMgb25cbiAgICogdGhlIG1vZGVsIGFzIGxpc3RlZCBpbiB0aGVcbiAgICogW2VtYmVkZGluZyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2VtYmVkZGluZ3MpLlxuICAgKi9cbiAgZW1iZWRkaW5nOiBBcnJheTxudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGVtYmVkZGluZyBpbiB0aGUgbGlzdCBvZiBlbWJlZGRpbmdzLlxuICAgKi9cbiAgaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgXCJlbWJlZGRpbmdcIi5cbiAgICovXG4gIG9iamVjdDogJ2VtYmVkZGluZyc7XG59XG5cbmV4cG9ydCB0eXBlIEVtYmVkZGluZ01vZGVsID0gJ3RleHQtZW1iZWRkaW5nLWFkYS0wMDInIHwgJ3RleHQtZW1iZWRkaW5nLTMtc21hbGwnIHwgJ3RleHQtZW1iZWRkaW5nLTMtbGFyZ2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEVtYmVkZGluZ0NyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBJbnB1dCB0ZXh0IHRvIGVtYmVkLCBlbmNvZGVkIGFzIGEgc3RyaW5nIG9yIGFycmF5IG9mIHRva2Vucy4gVG8gZW1iZWQgbXVsdGlwbGVcbiAgICogaW5wdXRzIGluIGEgc2luZ2xlIHJlcXVlc3QsIHBhc3MgYW4gYXJyYXkgb2Ygc3RyaW5ncyBvciBhcnJheSBvZiB0b2tlbiBhcnJheXMuXG4gICAqIFRoZSBpbnB1dCBtdXN0IG5vdCBleGNlZWQgdGhlIG1heCBpbnB1dCB0b2tlbnMgZm9yIHRoZSBtb2RlbCAoODE5MiB0b2tlbnMgZm9yXG4gICAqIGB0ZXh0LWVtYmVkZGluZy1hZGEtMDAyYCksIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcsIGFuZCBhbnkgYXJyYXkgbXVzdCBiZSAyMDQ4XG4gICAqIGRpbWVuc2lvbnMgb3IgbGVzcy5cbiAgICogW0V4YW1wbGUgUHl0aG9uIGNvZGVdKGh0dHBzOi8vY29va2Jvb2sub3BlbmFpLmNvbS9leGFtcGxlcy9ob3dfdG9fY291bnRfdG9rZW5zX3dpdGhfdGlrdG9rZW4pXG4gICAqIGZvciBjb3VudGluZyB0b2tlbnMuIFNvbWUgbW9kZWxzIG1heSBhbHNvIGltcG9zZSBhIGxpbWl0IG9uIHRvdGFsIG51bWJlciBvZlxuICAgKiB0b2tlbnMgc3VtbWVkIGFjcm9zcyBpbnB1dHMuXG4gICAqL1xuICBpbnB1dDogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPiB8IEFycmF5PG51bWJlcj4gfCBBcnJheTxBcnJheTxudW1iZXI+PjtcblxuICAvKipcbiAgICogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gWW91IGNhbiB1c2UgdGhlXG4gICAqIFtMaXN0IG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9tb2RlbHMvbGlzdCkgQVBJIHRvXG4gICAqIHNlZSBhbGwgb2YgeW91ciBhdmFpbGFibGUgbW9kZWxzLCBvciBzZWUgb3VyXG4gICAqIFtNb2RlbCBvdmVydmlld10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvbW9kZWxzKSBmb3IgZGVzY3JpcHRpb25zIG9mXG4gICAqIHRoZW0uXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8IEVtYmVkZGluZ01vZGVsO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIGRpbWVuc2lvbnMgdGhlIHJlc3VsdGluZyBvdXRwdXQgZW1iZWRkaW5ncyBzaG91bGQgaGF2ZS4gT25seVxuICAgKiBzdXBwb3J0ZWQgaW4gYHRleHQtZW1iZWRkaW5nLTNgIGFuZCBsYXRlciBtb2RlbHMuXG4gICAqL1xuICBkaW1lbnNpb25zPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IHRvIHJldHVybiB0aGUgZW1iZWRkaW5ncyBpbi4gQ2FuIGJlIGVpdGhlciBgZmxvYXRgIG9yXG4gICAqIFtgYmFzZTY0YF0oaHR0cHM6Ly9weXBpLm9yZy9wcm9qZWN0L3B5YmFzZTY0LykuXG4gICAqL1xuICBlbmNvZGluZ19mb3JtYXQ/OiAnZmxvYXQnIHwgJ2Jhc2U2NCc7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yXG4gICAqIGFuZCBkZXRlY3QgYWJ1c2UuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzI2VuZC11c2VyLWlkcykuXG4gICAqL1xuICB1c2VyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgRW1iZWRkaW5ncyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBDcmVhdGVFbWJlZGRpbmdSZXNwb25zZSBhcyBDcmVhdGVFbWJlZGRpbmdSZXNwb25zZSxcbiAgICB0eXBlIEVtYmVkZGluZyBhcyBFbWJlZGRpbmcsXG4gICAgdHlwZSBFbWJlZGRpbmdNb2RlbCBhcyBFbWJlZGRpbmdNb2RlbCxcbiAgICB0eXBlIEVtYmVkZGluZ0NyZWF0ZVBhcmFtcyBhcyBFbWJlZGRpbmdDcmVhdGVQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0IHsgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciB9IGZyb20gJy4uL2Vycm9yJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgeyBDdXJzb3JQYWdlLCB0eXBlIEN1cnNvclBhZ2VQYXJhbXMgfSBmcm9tICcuLi9wYWdpbmF0aW9uJztcbmltcG9ydCB7IHR5cGUgUmVzcG9uc2UgfSBmcm9tICcuLi9fc2hpbXMvaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgRmlsZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBVcGxvYWQgYSBmaWxlIHRoYXQgY2FuIGJlIHVzZWQgYWNyb3NzIHZhcmlvdXMgZW5kcG9pbnRzLiBJbmRpdmlkdWFsIGZpbGVzIGNhbiBiZVxuICAgKiB1cCB0byA1MTIgTUIsIGFuZCB0aGUgc2l6ZSBvZiBhbGwgZmlsZXMgdXBsb2FkZWQgYnkgb25lIG9yZ2FuaXphdGlvbiBjYW4gYmUgdXBcbiAgICogdG8gMTAwIEdCLlxuICAgKlxuICAgKiBUaGUgQXNzaXN0YW50cyBBUEkgc3VwcG9ydHMgZmlsZXMgdXAgdG8gMiBtaWxsaW9uIHRva2VucyBhbmQgb2Ygc3BlY2lmaWMgZmlsZVxuICAgKiB0eXBlcy4gU2VlIHRoZVxuICAgKiBbQXNzaXN0YW50cyBUb29scyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy90b29scykgZm9yXG4gICAqIGRldGFpbHMuXG4gICAqXG4gICAqIFRoZSBGaW5lLXR1bmluZyBBUEkgb25seSBzdXBwb3J0cyBgLmpzb25sYCBmaWxlcy4gVGhlIGlucHV0IGFsc28gaGFzIGNlcnRhaW5cbiAgICogcmVxdWlyZWQgZm9ybWF0cyBmb3IgZmluZS10dW5pbmdcbiAgICogW2NoYXRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcvY2hhdC1pbnB1dCkgb3JcbiAgICogW2NvbXBsZXRpb25zXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbmUtdHVuaW5nL2NvbXBsZXRpb25zLWlucHV0KVxuICAgKiBtb2RlbHMuXG4gICAqXG4gICAqIFRoZSBCYXRjaCBBUEkgb25seSBzdXBwb3J0cyBgLmpzb25sYCBmaWxlcyB1cCB0byAyMDAgTUIgaW4gc2l6ZS4gVGhlIGlucHV0IGFsc29cbiAgICogaGFzIGEgc3BlY2lmaWMgcmVxdWlyZWRcbiAgICogW2Zvcm1hdF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9iYXRjaC9yZXF1ZXN0LWlucHV0KS5cbiAgICpcbiAgICogUGxlYXNlIFtjb250YWN0IHVzXShodHRwczovL2hlbHAub3BlbmFpLmNvbS8pIGlmIHlvdSBuZWVkIHRvIGluY3JlYXNlIHRoZXNlXG4gICAqIHN0b3JhZ2UgbGltaXRzLlxuICAgKi9cbiAgY3JlYXRlKGJvZHk6IEZpbGVDcmVhdGVQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPEZpbGVPYmplY3Q+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9maWxlcycsIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBhIHNwZWNpZmljIGZpbGUuXG4gICAqL1xuICByZXRyaWV2ZShmaWxlSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8RmlsZU9iamVjdD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvZmlsZXMvJHtmaWxlSWR9YCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgZmlsZXMuXG4gICAqL1xuICBsaXN0KHF1ZXJ5PzogRmlsZUxpc3RQYXJhbXMsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxGaWxlT2JqZWN0c1BhZ2UsIEZpbGVPYmplY3Q+O1xuICBsaXN0KG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5QYWdlUHJvbWlzZTxGaWxlT2JqZWN0c1BhZ2UsIEZpbGVPYmplY3Q+O1xuICBsaXN0KFxuICAgIHF1ZXJ5OiBGaWxlTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxGaWxlT2JqZWN0c1BhZ2UsIEZpbGVPYmplY3Q+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvZmlsZXMnLCBGaWxlT2JqZWN0c1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgZmlsZS5cbiAgICovXG4gIGRlbChmaWxlSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8RmlsZURlbGV0ZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL2ZpbGVzLyR7ZmlsZUlkfWAsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBzcGVjaWZpZWQgZmlsZS5cbiAgICovXG4gIGNvbnRlbnQoZmlsZUlkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9maWxlcy8ke2ZpbGVJZH0vY29udGVudGAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2JpbmFyeScsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgIF9fYmluYXJ5UmVzcG9uc2U6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29udGVudHMgb2YgdGhlIHNwZWNpZmllZCBmaWxlLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBUaGUgYC5jb250ZW50KClgIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkXG4gICAqL1xuICByZXRyaWV2ZUNvbnRlbnQoZmlsZUlkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvZmlsZXMvJHtmaWxlSWR9L2NvbnRlbnRgLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0cyBmb3IgdGhlIGdpdmVuIGZpbGUgdG8gYmUgcHJvY2Vzc2VkLCBkZWZhdWx0IHRpbWVvdXQgaXMgMzAgbWlucy5cbiAgICovXG4gIGFzeW5jIHdhaXRGb3JQcm9jZXNzaW5nKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgeyBwb2xsSW50ZXJ2YWwgPSA1MDAwLCBtYXhXYWl0ID0gMzAgKiA2MCAqIDEwMDAgfTogeyBwb2xsSW50ZXJ2YWw/OiBudW1iZXI7IG1heFdhaXQ/OiBudW1iZXIgfSA9IHt9LFxuICApOiBQcm9taXNlPEZpbGVPYmplY3Q+IHtcbiAgICBjb25zdCBURVJNSU5BTF9TVEFURVMgPSBuZXcgU2V0KFsncHJvY2Vzc2VkJywgJ2Vycm9yJywgJ2RlbGV0ZWQnXSk7XG5cbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgbGV0IGZpbGUgPSBhd2FpdCB0aGlzLnJldHJpZXZlKGlkKTtcblxuICAgIHdoaWxlICghZmlsZS5zdGF0dXMgfHwgIVRFUk1JTkFMX1NUQVRFUy5oYXMoZmlsZS5zdGF0dXMpKSB7XG4gICAgICBhd2FpdCBzbGVlcChwb2xsSW50ZXJ2YWwpO1xuXG4gICAgICBmaWxlID0gYXdhaXQgdGhpcy5yZXRyaWV2ZShpZCk7XG4gICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0ID4gbWF4V2FpdCkge1xuICAgICAgICB0aHJvdyBuZXcgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogYEdpdmluZyB1cCBvbiB3YWl0aW5nIGZvciBmaWxlICR7aWR9IHRvIGZpbmlzaCBwcm9jZXNzaW5nIGFmdGVyICR7bWF4V2FpdH0gbWlsbGlzZWNvbmRzLmAsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaWxlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWxlT2JqZWN0c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlPEZpbGVPYmplY3Q+IHt9XG5cbmV4cG9ydCB0eXBlIEZpbGVDb250ZW50ID0gc3RyaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVEZWxldGVkIHtcbiAgaWQ6IHN0cmluZztcblxuICBkZWxldGVkOiBib29sZWFuO1xuXG4gIG9iamVjdDogJ2ZpbGUnO1xufVxuXG4vKipcbiAqIFRoZSBgRmlsZWAgb2JqZWN0IHJlcHJlc2VudHMgYSBkb2N1bWVudCB0aGF0IGhhcyBiZWVuIHVwbG9hZGVkIHRvIE9wZW5BSS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlT2JqZWN0IHtcbiAgLyoqXG4gICAqIFRoZSBmaWxlIGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIHRoZSBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGZpbGUsIGluIGJ5dGVzLlxuICAgKi9cbiAgYnl0ZXM6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgZmlsZSB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZpbGUuXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgZmlsZWAuXG4gICAqL1xuICBvYmplY3Q6ICdmaWxlJztcblxuICAvKipcbiAgICogVGhlIGludGVuZGVkIHB1cnBvc2Ugb2YgdGhlIGZpbGUuIFN1cHBvcnRlZCB2YWx1ZXMgYXJlIGBhc3Npc3RhbnRzYCxcbiAgICogYGFzc2lzdGFudHNfb3V0cHV0YCwgYGJhdGNoYCwgYGJhdGNoX291dHB1dGAsIGBmaW5lLXR1bmVgLCBgZmluZS10dW5lLXJlc3VsdHNgXG4gICAqIGFuZCBgdmlzaW9uYC5cbiAgICovXG4gIHB1cnBvc2U6XG4gICAgfCAnYXNzaXN0YW50cydcbiAgICB8ICdhc3Npc3RhbnRzX291dHB1dCdcbiAgICB8ICdiYXRjaCdcbiAgICB8ICdiYXRjaF9vdXRwdXQnXG4gICAgfCAnZmluZS10dW5lJ1xuICAgIHwgJ2ZpbmUtdHVuZS1yZXN1bHRzJ1xuICAgIHwgJ3Zpc2lvbic7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQuIFRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgZmlsZSwgd2hpY2ggY2FuIGJlIGVpdGhlclxuICAgKiBgdXBsb2FkZWRgLCBgcHJvY2Vzc2VkYCwgb3IgYGVycm9yYC5cbiAgICovXG4gIHN0YXR1czogJ3VwbG9hZGVkJyB8ICdwcm9jZXNzZWQnIHwgJ2Vycm9yJztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgZmlsZSB3aWxsIGV4cGlyZS5cbiAgICovXG4gIGV4cGlyZXNfYXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQuIEZvciBkZXRhaWxzIG9uIHdoeSBhIGZpbmUtdHVuaW5nIHRyYWluaW5nIGZpbGUgZmFpbGVkXG4gICAqIHZhbGlkYXRpb24sIHNlZSB0aGUgYGVycm9yYCBmaWVsZCBvbiBgZmluZV90dW5pbmcuam9iYC5cbiAgICovXG4gIHN0YXR1c19kZXRhaWxzPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRoZSBpbnRlbmRlZCBwdXJwb3NlIG9mIHRoZSB1cGxvYWRlZCBmaWxlLiBPbmUgb2Y6IC0gYGFzc2lzdGFudHNgOiBVc2VkIGluIHRoZVxuICogQXNzaXN0YW50cyBBUEkgLSBgYmF0Y2hgOiBVc2VkIGluIHRoZSBCYXRjaCBBUEkgLSBgZmluZS10dW5lYDogVXNlZCBmb3JcbiAqIGZpbmUtdHVuaW5nIC0gYHZpc2lvbmA6IEltYWdlcyB1c2VkIGZvciB2aXNpb24gZmluZS10dW5pbmcgLSBgdXNlcl9kYXRhYDpcbiAqIEZsZXhpYmxlIGZpbGUgdHlwZSBmb3IgYW55IHB1cnBvc2UgLSBgZXZhbHNgOiBVc2VkIGZvciBldmFsIGRhdGEgc2V0c1xuICovXG5leHBvcnQgdHlwZSBGaWxlUHVycG9zZSA9ICdhc3Npc3RhbnRzJyB8ICdiYXRjaCcgfCAnZmluZS10dW5lJyB8ICd2aXNpb24nIHwgJ3VzZXJfZGF0YScgfCAnZXZhbHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogVGhlIEZpbGUgb2JqZWN0IChub3QgZmlsZSBuYW1lKSB0byBiZSB1cGxvYWRlZC5cbiAgICovXG4gIGZpbGU6IENvcmUuVXBsb2FkYWJsZTtcblxuICAvKipcbiAgICogVGhlIGludGVuZGVkIHB1cnBvc2Ugb2YgdGhlIHVwbG9hZGVkIGZpbGUuIE9uZSBvZjogLSBgYXNzaXN0YW50c2A6IFVzZWQgaW4gdGhlXG4gICAqIEFzc2lzdGFudHMgQVBJIC0gYGJhdGNoYDogVXNlZCBpbiB0aGUgQmF0Y2ggQVBJIC0gYGZpbmUtdHVuZWA6IFVzZWQgZm9yXG4gICAqIGZpbmUtdHVuaW5nIC0gYHZpc2lvbmA6IEltYWdlcyB1c2VkIGZvciB2aXNpb24gZmluZS10dW5pbmcgLSBgdXNlcl9kYXRhYDpcbiAgICogRmxleGlibGUgZmlsZSB0eXBlIGZvciBhbnkgcHVycG9zZSAtIGBldmFsc2A6IFVzZWQgZm9yIGV2YWwgZGF0YSBzZXRzXG4gICAqL1xuICBwdXJwb3NlOiBGaWxlUHVycG9zZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlTGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge1xuICAvKipcbiAgICogU29ydCBvcmRlciBieSB0aGUgYGNyZWF0ZWRfYXRgIHRpbWVzdGFtcCBvZiB0aGUgb2JqZWN0cy4gYGFzY2AgZm9yIGFzY2VuZGluZ1xuICAgKiBvcmRlciBhbmQgYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcblxuICAvKipcbiAgICogT25seSByZXR1cm4gZmlsZXMgd2l0aCB0aGUgZ2l2ZW4gcHVycG9zZS5cbiAgICovXG4gIHB1cnBvc2U/OiBzdHJpbmc7XG59XG5cbkZpbGVzLkZpbGVPYmplY3RzUGFnZSA9IEZpbGVPYmplY3RzUGFnZTtcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIEZpbGVzIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIEZpbGVDb250ZW50IGFzIEZpbGVDb250ZW50LFxuICAgIHR5cGUgRmlsZURlbGV0ZWQgYXMgRmlsZURlbGV0ZWQsXG4gICAgdHlwZSBGaWxlT2JqZWN0IGFzIEZpbGVPYmplY3QsXG4gICAgdHlwZSBGaWxlUHVycG9zZSBhcyBGaWxlUHVycG9zZSxcbiAgICBGaWxlT2JqZWN0c1BhZ2UgYXMgRmlsZU9iamVjdHNQYWdlLFxuICAgIHR5cGUgRmlsZUNyZWF0ZVBhcmFtcyBhcyBGaWxlQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgRmlsZUxpc3RQYXJhbXMgYXMgRmlsZUxpc3RQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vcGFnaW5hdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBDaGVja3BvaW50cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIExpc3QgY2hlY2twb2ludHMgZm9yIGEgZmluZS10dW5pbmcgam9iLlxuICAgKi9cbiAgbGlzdChcbiAgICBmaW5lVHVuaW5nSm9iSWQ6IHN0cmluZyxcbiAgICBxdWVyeT86IENoZWNrcG9pbnRMaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50PjtcbiAgbGlzdChcbiAgICBmaW5lVHVuaW5nSm9iSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlLCBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludD47XG4gIGxpc3QoXG4gICAgZmluZVR1bmluZ0pvYklkOiBzdHJpbmcsXG4gICAgcXVlcnk6IENoZWNrcG9pbnRMaXN0UGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50PiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0KGZpbmVUdW5pbmdKb2JJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KFxuICAgICAgYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklkfS9jaGVja3BvaW50c2AsXG4gICAgICBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlLFxuICAgICAgeyBxdWVyeSwgLi4ub3B0aW9ucyB9LFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlPEZpbmVUdW5pbmdKb2JDaGVja3BvaW50PiB7fVxuXG4vKipcbiAqIFRoZSBgZmluZV90dW5pbmcuam9iLmNoZWNrcG9pbnRgIG9iamVjdCByZXByZXNlbnRzIGEgbW9kZWwgY2hlY2twb2ludCBmb3IgYVxuICogZmluZS10dW5pbmcgam9iIHRoYXQgaXMgcmVhZHkgdG8gdXNlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50IHtcbiAgLyoqXG4gICAqIFRoZSBjaGVja3BvaW50IGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIHRoZSBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgY2hlY2twb2ludCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZpbmUtdHVuZWQgY2hlY2twb2ludCBtb2RlbCB0aGF0IGlzIGNyZWF0ZWQuXG4gICAqL1xuICBmaW5lX3R1bmVkX21vZGVsX2NoZWNrcG9pbnQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZpbmUtdHVuaW5nIGpvYiB0aGF0IHRoaXMgY2hlY2twb2ludCB3YXMgY3JlYXRlZCBmcm9tLlxuICAgKi9cbiAgZmluZV90dW5pbmdfam9iX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE1ldHJpY3MgYXQgdGhlIHN0ZXAgbnVtYmVyIGR1cmluZyB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgKi9cbiAgbWV0cmljczogRmluZVR1bmluZ0pvYkNoZWNrcG9pbnQuTWV0cmljcztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgXCJmaW5lX3R1bmluZy5qb2IuY2hlY2twb2ludFwiLlxuICAgKi9cbiAgb2JqZWN0OiAnZmluZV90dW5pbmcuam9iLmNoZWNrcG9pbnQnO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RlcCBudW1iZXIgdGhhdCB0aGUgY2hlY2twb2ludCB3YXMgY3JlYXRlZCBhdC5cbiAgICovXG4gIHN0ZXBfbnVtYmVyOiBudW1iZXI7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgRmluZVR1bmluZ0pvYkNoZWNrcG9pbnQge1xuICAvKipcbiAgICogTWV0cmljcyBhdCB0aGUgc3RlcCBudW1iZXIgZHVyaW5nIHRoZSBmaW5lLXR1bmluZyBqb2IuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIE1ldHJpY3Mge1xuICAgIGZ1bGxfdmFsaWRfbG9zcz86IG51bWJlcjtcblxuICAgIGZ1bGxfdmFsaWRfbWVhbl90b2tlbl9hY2N1cmFjeT86IG51bWJlcjtcblxuICAgIHN0ZXA/OiBudW1iZXI7XG5cbiAgICB0cmFpbl9sb3NzPzogbnVtYmVyO1xuXG4gICAgdHJhaW5fbWVhbl90b2tlbl9hY2N1cmFjeT86IG51bWJlcjtcblxuICAgIHZhbGlkX2xvc3M/OiBudW1iZXI7XG5cbiAgICB2YWxpZF9tZWFuX3Rva2VuX2FjY3VyYWN5PzogbnVtYmVyO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hlY2twb2ludExpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHt9XG5cbkNoZWNrcG9pbnRzLkZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UgPSBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgQ2hlY2twb2ludHMge1xuICBleHBvcnQge1xuICAgIHR5cGUgRmluZVR1bmluZ0pvYkNoZWNrcG9pbnQgYXMgRmluZVR1bmluZ0pvYkNoZWNrcG9pbnQsXG4gICAgRmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZSBhcyBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlLFxuICAgIHR5cGUgQ2hlY2twb2ludExpc3RQYXJhbXMgYXMgQ2hlY2twb2ludExpc3RQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ2hlY2twb2ludHNBUEkgZnJvbSAnLi9jaGVja3BvaW50cyc7XG5pbXBvcnQge1xuICBDaGVja3BvaW50TGlzdFBhcmFtcyxcbiAgQ2hlY2twb2ludHMsXG4gIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50LFxuICBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlLFxufSBmcm9tICcuL2NoZWNrcG9pbnRzJztcbmltcG9ydCB7IEN1cnNvclBhZ2UsIHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyB9IGZyb20gJy4uLy4uLy4uL3BhZ2luYXRpb24nO1xuXG5leHBvcnQgY2xhc3MgSm9icyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgY2hlY2twb2ludHM6IENoZWNrcG9pbnRzQVBJLkNoZWNrcG9pbnRzID0gbmV3IENoZWNrcG9pbnRzQVBJLkNoZWNrcG9pbnRzKHRoaXMuX2NsaWVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmaW5lLXR1bmluZyBqb2Igd2hpY2ggYmVnaW5zIHRoZSBwcm9jZXNzIG9mIGNyZWF0aW5nIGEgbmV3IG1vZGVsIGZyb21cbiAgICogYSBnaXZlbiBkYXRhc2V0LlxuICAgKlxuICAgKiBSZXNwb25zZSBpbmNsdWRlcyBkZXRhaWxzIG9mIHRoZSBlbnF1ZXVlZCBqb2IgaW5jbHVkaW5nIGpvYiBzdGF0dXMgYW5kIHRoZSBuYW1lXG4gICAqIG9mIHRoZSBmaW5lLXR1bmVkIG1vZGVscyBvbmNlIGNvbXBsZXRlLlxuICAgKlxuICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgKi9cbiAgY3JlYXRlKGJvZHk6IEpvYkNyZWF0ZVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8RmluZVR1bmluZ0pvYj4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGluZm8gYWJvdXQgYSBmaW5lLXR1bmluZyBqb2IuXG4gICAqXG4gICAqIFtMZWFybiBtb3JlIGFib3V0IGZpbmUtdHVuaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZmluZS10dW5pbmcpXG4gICAqL1xuICByZXRyaWV2ZShmaW5lVHVuaW5nSm9iSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8RmluZVR1bmluZ0pvYj4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJZH1gLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0IHlvdXIgb3JnYW5pemF0aW9uJ3MgZmluZS10dW5pbmcgam9ic1xuICAgKi9cbiAgbGlzdChcbiAgICBxdWVyeT86IEpvYkxpc3RQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8RmluZVR1bmluZ0pvYnNQYWdlLCBGaW5lVHVuaW5nSm9iPjtcbiAgbGlzdChvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8RmluZVR1bmluZ0pvYnNQYWdlLCBGaW5lVHVuaW5nSm9iPjtcbiAgbGlzdChcbiAgICBxdWVyeTogSm9iTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxGaW5lVHVuaW5nSm9ic1BhZ2UsIEZpbmVUdW5pbmdKb2I+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvZmluZV90dW5pbmcvam9icycsIEZpbmVUdW5pbmdKb2JzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbW1lZGlhdGVseSBjYW5jZWwgYSBmaW5lLXR1bmUgam9iLlxuICAgKi9cbiAgY2FuY2VsKGZpbmVUdW5pbmdKb2JJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxGaW5lVHVuaW5nSm9iPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJZH0vY2FuY2VsYCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHN0YXR1cyB1cGRhdGVzIGZvciBhIGZpbmUtdHVuaW5nIGpvYi5cbiAgICovXG4gIGxpc3RFdmVudHMoXG4gICAgZmluZVR1bmluZ0pvYklkOiBzdHJpbmcsXG4gICAgcXVlcnk/OiBKb2JMaXN0RXZlbnRzUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlLCBGaW5lVHVuaW5nSm9iRXZlbnQ+O1xuICBsaXN0RXZlbnRzKFxuICAgIGZpbmVUdW5pbmdKb2JJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlLCBGaW5lVHVuaW5nSm9iRXZlbnQ+O1xuICBsaXN0RXZlbnRzKFxuICAgIGZpbmVUdW5pbmdKb2JJZDogc3RyaW5nLFxuICAgIHF1ZXJ5OiBKb2JMaXN0RXZlbnRzUGFyYW1zIHwgQ29yZS5SZXF1ZXN0T3B0aW9ucyA9IHt9LFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlLCBGaW5lVHVuaW5nSm9iRXZlbnQ+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3RFdmVudHMoZmluZVR1bmluZ0pvYklkLCB7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklkfS9ldmVudHNgLCBGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5lVHVuaW5nSm9ic1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlPEZpbmVUdW5pbmdKb2I+IHt9XG5cbmV4cG9ydCBjbGFzcyBGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8RmluZVR1bmluZ0pvYkV2ZW50PiB7fVxuXG4vKipcbiAqIFRoZSBgZmluZV90dW5pbmcuam9iYCBvYmplY3QgcmVwcmVzZW50cyBhIGZpbmUtdHVuaW5nIGpvYiB0aGF0IGhhcyBiZWVuIGNyZWF0ZWRcbiAqIHRocm91Z2ggdGhlIEFQSS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaW5lVHVuaW5nSm9iIHtcbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgaWRlbnRpZmllciwgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgaW4gdGhlIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBmaW5lLXR1bmluZyBqb2Igd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEZvciBmaW5lLXR1bmluZyBqb2JzIHRoYXQgaGF2ZSBgZmFpbGVkYCwgdGhpcyB3aWxsIGNvbnRhaW4gbW9yZSBpbmZvcm1hdGlvbiBvblxuICAgKiB0aGUgY2F1c2Ugb2YgdGhlIGZhaWx1cmUuXG4gICAqL1xuICBlcnJvcjogRmluZVR1bmluZ0pvYi5FcnJvciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmaW5lLXR1bmVkIG1vZGVsIHRoYXQgaXMgYmVpbmcgY3JlYXRlZC4gVGhlIHZhbHVlIHdpbGwgYmUgbnVsbFxuICAgKiBpZiB0aGUgZmluZS10dW5pbmcgam9iIGlzIHN0aWxsIHJ1bm5pbmcuXG4gICAqL1xuICBmaW5lX3R1bmVkX21vZGVsOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBmaW5lLXR1bmluZyBqb2Igd2FzIGZpbmlzaGVkLiBUaGVcbiAgICogdmFsdWUgd2lsbCBiZSBudWxsIGlmIHRoZSBmaW5lLXR1bmluZyBqb2IgaXMgc3RpbGwgcnVubmluZy5cbiAgICovXG4gIGZpbmlzaGVkX2F0OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgaHlwZXJwYXJhbWV0ZXJzIHVzZWQgZm9yIHRoZSBmaW5lLXR1bmluZyBqb2IuIFRoaXMgdmFsdWUgd2lsbCBvbmx5IGJlXG4gICAqIHJldHVybmVkIHdoZW4gcnVubmluZyBgc3VwZXJ2aXNlZGAgam9icy5cbiAgICovXG4gIGh5cGVycGFyYW1ldGVyczogRmluZVR1bmluZ0pvYi5IeXBlcnBhcmFtZXRlcnM7XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIG1vZGVsIHRoYXQgaXMgYmVpbmcgZmluZS10dW5lZC5cbiAgICovXG4gIG1vZGVsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIFwiZmluZV90dW5pbmcuam9iXCIuXG4gICAqL1xuICBvYmplY3Q6ICdmaW5lX3R1bmluZy5qb2InO1xuXG4gIC8qKlxuICAgKiBUaGUgb3JnYW5pemF0aW9uIHRoYXQgb3ducyB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgKi9cbiAgb3JnYW5pemF0aW9uX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjb21waWxlZCByZXN1bHRzIGZpbGUgSUQocykgZm9yIHRoZSBmaW5lLXR1bmluZyBqb2IuIFlvdSBjYW4gcmV0cmlldmUgdGhlXG4gICAqIHJlc3VsdHMgd2l0aCB0aGVcbiAgICogW0ZpbGVzIEFQSV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9yZXRyaWV2ZS1jb250ZW50cykuXG4gICAqL1xuICByZXN1bHRfZmlsZXM6IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFRoZSBzZWVkIHVzZWQgZm9yIHRoZSBmaW5lLXR1bmluZyBqb2IuXG4gICAqL1xuICBzZWVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgZmluZS10dW5pbmcgam9iLCB3aGljaCBjYW4gYmUgZWl0aGVyXG4gICAqIGB2YWxpZGF0aW5nX2ZpbGVzYCwgYHF1ZXVlZGAsIGBydW5uaW5nYCwgYHN1Y2NlZWRlZGAsIGBmYWlsZWRgLCBvciBgY2FuY2VsbGVkYC5cbiAgICovXG4gIHN0YXR1czogJ3ZhbGlkYXRpbmdfZmlsZXMnIHwgJ3F1ZXVlZCcgfCAncnVubmluZycgfCAnc3VjY2VlZGVkJyB8ICdmYWlsZWQnIHwgJ2NhbmNlbGxlZCc7XG5cbiAgLyoqXG4gICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgYmlsbGFibGUgdG9rZW5zIHByb2Nlc3NlZCBieSB0aGlzIGZpbmUtdHVuaW5nIGpvYi4gVGhlIHZhbHVlXG4gICAqIHdpbGwgYmUgbnVsbCBpZiB0aGUgZmluZS10dW5pbmcgam9iIGlzIHN0aWxsIHJ1bm5pbmcuXG4gICAqL1xuICB0cmFpbmVkX3Rva2VuczogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIGZpbGUgSUQgdXNlZCBmb3IgdHJhaW5pbmcuIFlvdSBjYW4gcmV0cmlldmUgdGhlIHRyYWluaW5nIGRhdGEgd2l0aCB0aGVcbiAgICogW0ZpbGVzIEFQSV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9yZXRyaWV2ZS1jb250ZW50cykuXG4gICAqL1xuICB0cmFpbmluZ19maWxlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBmaWxlIElEIHVzZWQgZm9yIHZhbGlkYXRpb24uIFlvdSBjYW4gcmV0cmlldmUgdGhlIHZhbGlkYXRpb24gcmVzdWx0cyB3aXRoXG4gICAqIHRoZVxuICAgKiBbRmlsZXMgQVBJXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL3JldHJpZXZlLWNvbnRlbnRzKS5cbiAgICovXG4gIHZhbGlkYXRpb25fZmlsZTogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgZmluZS10dW5pbmcgam9iIGlzIGVzdGltYXRlZCB0b1xuICAgKiBmaW5pc2guIFRoZSB2YWx1ZSB3aWxsIGJlIG51bGwgaWYgdGhlIGZpbmUtdHVuaW5nIGpvYiBpcyBub3QgcnVubmluZy5cbiAgICovXG4gIGVzdGltYXRlZF9maW5pc2g/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgaW50ZWdyYXRpb25zIHRvIGVuYWJsZSBmb3IgdGhpcyBmaW5lLXR1bmluZyBqb2IuXG4gICAqL1xuICBpbnRlZ3JhdGlvbnM/OiBBcnJheTxGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbk9iamVjdD4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbWV0aG9kIHVzZWQgZm9yIGZpbmUtdHVuaW5nLlxuICAgKi9cbiAgbWV0aG9kPzogRmluZVR1bmluZ0pvYi5NZXRob2Q7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgRmluZVR1bmluZ0pvYiB7XG4gIC8qKlxuICAgKiBGb3IgZmluZS10dW5pbmcgam9icyB0aGF0IGhhdmUgYGZhaWxlZGAsIHRoaXMgd2lsbCBjb250YWluIG1vcmUgaW5mb3JtYXRpb24gb25cbiAgICogdGhlIGNhdXNlIG9mIHRoZSBmYWlsdXJlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBFcnJvciB7XG4gICAgLyoqXG4gICAgICogQSBtYWNoaW5lLXJlYWRhYmxlIGVycm9yIGNvZGUuXG4gICAgICovXG4gICAgY29kZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBlcnJvciBtZXNzYWdlLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJhbWV0ZXIgdGhhdCB3YXMgaW52YWxpZCwgdXN1YWxseSBgdHJhaW5pbmdfZmlsZWAgb3IgYHZhbGlkYXRpb25fZmlsZWAuXG4gICAgICogVGhpcyBmaWVsZCB3aWxsIGJlIG51bGwgaWYgdGhlIGZhaWx1cmUgd2FzIG5vdCBwYXJhbWV0ZXItc3BlY2lmaWMuXG4gICAgICovXG4gICAgcGFyYW06IHN0cmluZyB8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLiBUaGlzIHZhbHVlIHdpbGwgb25seSBiZVxuICAgKiByZXR1cm5lZCB3aGVuIHJ1bm5pbmcgYHN1cGVydmlzZWRgIGpvYnMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEh5cGVycGFyYW1ldGVycyB7XG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIGV4YW1wbGVzIGluIGVhY2ggYmF0Y2guIEEgbGFyZ2VyIGJhdGNoIHNpemUgbWVhbnMgdGhhdCBtb2RlbFxuICAgICAqIHBhcmFtZXRlcnMgYXJlIHVwZGF0ZWQgbGVzcyBmcmVxdWVudGx5LCBidXQgd2l0aCBsb3dlciB2YXJpYW5jZS5cbiAgICAgKi9cbiAgICBiYXRjaF9zaXplPzogJ2F1dG8nIHwgbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogU2NhbGluZyBmYWN0b3IgZm9yIHRoZSBsZWFybmluZyByYXRlLiBBIHNtYWxsZXIgbGVhcm5pbmcgcmF0ZSBtYXkgYmUgdXNlZnVsIHRvXG4gICAgICogYXZvaWQgb3ZlcmZpdHRpbmcuXG4gICAgICovXG4gICAgbGVhcm5pbmdfcmF0ZV9tdWx0aXBsaWVyPzogJ2F1dG8nIHwgbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBlcG9jaHMgdG8gdHJhaW4gdGhlIG1vZGVsIGZvci4gQW4gZXBvY2ggcmVmZXJzIHRvIG9uZSBmdWxsIGN5Y2xlXG4gICAgICogdGhyb3VnaCB0aGUgdHJhaW5pbmcgZGF0YXNldC5cbiAgICAgKi9cbiAgICBuX2Vwb2Nocz86ICdhdXRvJyB8IG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbWV0aG9kIHVzZWQgZm9yIGZpbmUtdHVuaW5nLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBNZXRob2Qge1xuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBEUE8gZmluZS10dW5pbmcgbWV0aG9kLlxuICAgICAqL1xuICAgIGRwbz86IE1ldGhvZC5EcG87XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGZvciB0aGUgc3VwZXJ2aXNlZCBmaW5lLXR1bmluZyBtZXRob2QuXG4gICAgICovXG4gICAgc3VwZXJ2aXNlZD86IE1ldGhvZC5TdXBlcnZpc2VkO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgbWV0aG9kLiBJcyBlaXRoZXIgYHN1cGVydmlzZWRgIG9yIGBkcG9gLlxuICAgICAqL1xuICAgIHR5cGU/OiAnc3VwZXJ2aXNlZCcgfCAnZHBvJztcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgTWV0aG9kIHtcbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGZvciB0aGUgRFBPIGZpbmUtdHVuaW5nIG1ldGhvZC5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIERwbyB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBoeXBlcnBhcmFtZXRlcnMgdXNlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi5cbiAgICAgICAqL1xuICAgICAgaHlwZXJwYXJhbWV0ZXJzPzogRHBvLkh5cGVycGFyYW1ldGVycztcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIERwbyB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBoeXBlcnBhcmFtZXRlcnMgdXNlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi5cbiAgICAgICAqL1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBIeXBlcnBhcmFtZXRlcnMge1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGV4YW1wbGVzIGluIGVhY2ggYmF0Y2guIEEgbGFyZ2VyIGJhdGNoIHNpemUgbWVhbnMgdGhhdCBtb2RlbFxuICAgICAgICAgKiBwYXJhbWV0ZXJzIGFyZSB1cGRhdGVkIGxlc3MgZnJlcXVlbnRseSwgYnV0IHdpdGggbG93ZXIgdmFyaWFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICBiYXRjaF9zaXplPzogJ2F1dG8nIHwgbnVtYmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmV0YSB2YWx1ZSBmb3IgdGhlIERQTyBtZXRob2QuIEEgaGlnaGVyIGJldGEgdmFsdWUgd2lsbCBpbmNyZWFzZSB0aGUgd2VpZ2h0XG4gICAgICAgICAqIG9mIHRoZSBwZW5hbHR5IGJldHdlZW4gdGhlIHBvbGljeSBhbmQgcmVmZXJlbmNlIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgYmV0YT86ICdhdXRvJyB8IG51bWJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGluZyBmYWN0b3IgZm9yIHRoZSBsZWFybmluZyByYXRlLiBBIHNtYWxsZXIgbGVhcm5pbmcgcmF0ZSBtYXkgYmUgdXNlZnVsIHRvXG4gICAgICAgICAqIGF2b2lkIG92ZXJmaXR0aW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgbGVhcm5pbmdfcmF0ZV9tdWx0aXBsaWVyPzogJ2F1dG8nIHwgbnVtYmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGVwb2NocyB0byB0cmFpbiB0aGUgbW9kZWwgZm9yLiBBbiBlcG9jaCByZWZlcnMgdG8gb25lIGZ1bGwgY3ljbGVcbiAgICAgICAgICogdGhyb3VnaCB0aGUgdHJhaW5pbmcgZGF0YXNldC5cbiAgICAgICAgICovXG4gICAgICAgIG5fZXBvY2hzPzogJ2F1dG8nIHwgbnVtYmVyO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBzdXBlcnZpc2VkIGZpbmUtdHVuaW5nIG1ldGhvZC5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIFN1cGVydmlzZWQge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgaHlwZXJwYXJhbWV0ZXJzIHVzZWQgZm9yIHRoZSBmaW5lLXR1bmluZyBqb2IuXG4gICAgICAgKi9cbiAgICAgIGh5cGVycGFyYW1ldGVycz86IFN1cGVydmlzZWQuSHlwZXJwYXJhbWV0ZXJzO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgU3VwZXJ2aXNlZCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBoeXBlcnBhcmFtZXRlcnMgdXNlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi5cbiAgICAgICAqL1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBIeXBlcnBhcmFtZXRlcnMge1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGV4YW1wbGVzIGluIGVhY2ggYmF0Y2guIEEgbGFyZ2VyIGJhdGNoIHNpemUgbWVhbnMgdGhhdCBtb2RlbFxuICAgICAgICAgKiBwYXJhbWV0ZXJzIGFyZSB1cGRhdGVkIGxlc3MgZnJlcXVlbnRseSwgYnV0IHdpdGggbG93ZXIgdmFyaWFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICBiYXRjaF9zaXplPzogJ2F1dG8nIHwgbnVtYmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsaW5nIGZhY3RvciBmb3IgdGhlIGxlYXJuaW5nIHJhdGUuIEEgc21hbGxlciBsZWFybmluZyByYXRlIG1heSBiZSB1c2VmdWwgdG9cbiAgICAgICAgICogYXZvaWQgb3ZlcmZpdHRpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBsZWFybmluZ19yYXRlX211bHRpcGxpZXI/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgZXBvY2hzIHRvIHRyYWluIHRoZSBtb2RlbCBmb3IuIEFuIGVwb2NoIHJlZmVycyB0byBvbmUgZnVsbCBjeWNsZVxuICAgICAgICAgKiB0aHJvdWdoIHRoZSB0cmFpbmluZyBkYXRhc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgbl9lcG9jaHM/OiAnYXV0bycgfCBudW1iZXI7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRmluZS10dW5pbmcgam9iIGV2ZW50IG9iamVjdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbmVUdW5pbmdKb2JFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IGlkZW50aWZpZXIuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBmaW5lLXR1bmluZyBqb2Igd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBsb2cgbGV2ZWwgb2YgdGhlIGV2ZW50LlxuICAgKi9cbiAgbGV2ZWw6ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcic7XG5cbiAgLyoqXG4gICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBldmVudC5cbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgXCJmaW5lX3R1bmluZy5qb2IuZXZlbnRcIi5cbiAgICovXG4gIG9iamVjdDogJ2ZpbmVfdHVuaW5nLmpvYi5ldmVudCc7XG5cbiAgLyoqXG4gICAqIFRoZSBkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXZlbnQuXG4gICAqL1xuICBkYXRhPzogdW5rbm93bjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQuXG4gICAqL1xuICB0eXBlPzogJ21lc3NhZ2UnIHwgJ21ldHJpY3MnO1xufVxuXG5leHBvcnQgdHlwZSBGaW5lVHVuaW5nSm9iSW50ZWdyYXRpb24gPSBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbk9iamVjdDtcblxuLyoqXG4gKiBUaGUgc2V0dGluZ3MgZm9yIHlvdXIgaW50ZWdyYXRpb24gd2l0aCBXZWlnaHRzIGFuZCBCaWFzZXMuIFRoaXMgcGF5bG9hZFxuICogc3BlY2lmaWVzIHRoZSBwcm9qZWN0IHRoYXQgbWV0cmljcyB3aWxsIGJlIHNlbnQgdG8uIE9wdGlvbmFsbHksIHlvdSBjYW4gc2V0IGFuXG4gKiBleHBsaWNpdCBkaXNwbGF5IG5hbWUgZm9yIHlvdXIgcnVuLCBhZGQgdGFncyB0byB5b3VyIHJ1biwgYW5kIHNldCBhIGRlZmF1bHRcbiAqIGVudGl0eSAodGVhbSwgdXNlcm5hbWUsIGV0YykgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIHlvdXIgcnVuLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBwcm9qZWN0IHRoYXQgdGhlIG5ldyBydW4gd2lsbCBiZSBjcmVhdGVkIHVuZGVyLlxuICAgKi9cbiAgcHJvamVjdDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZW50aXR5IHRvIHVzZSBmb3IgdGhlIHJ1bi4gVGhpcyBhbGxvd3MgeW91IHRvIHNldCB0aGUgdGVhbSBvciB1c2VybmFtZSBvZlxuICAgKiB0aGUgV2FuZEIgdXNlciB0aGF0IHlvdSB3b3VsZCBsaWtlIGFzc29jaWF0ZWQgd2l0aCB0aGUgcnVuLiBJZiBub3Qgc2V0LCB0aGVcbiAgICogZGVmYXVsdCBlbnRpdHkgZm9yIHRoZSByZWdpc3RlcmVkIFdhbmRCIEFQSSBrZXkgaXMgdXNlZC5cbiAgICovXG4gIGVudGl0eT86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgZGlzcGxheSBuYW1lIHRvIHNldCBmb3IgdGhlIHJ1bi4gSWYgbm90IHNldCwgd2Ugd2lsbCB1c2UgdGhlIEpvYiBJRCBhcyB0aGVcbiAgICogbmFtZS5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdGFncyB0byBiZSBhdHRhY2hlZCB0byB0aGUgbmV3bHkgY3JlYXRlZCBydW4uIFRoZXNlIHRhZ3MgYXJlIHBhc3NlZFxuICAgKiB0aHJvdWdoIGRpcmVjdGx5IHRvIFdhbmRCLiBTb21lIGRlZmF1bHQgdGFncyBhcmUgZ2VuZXJhdGVkIGJ5IE9wZW5BSTpcbiAgICogXCJvcGVuYWkvZmluZXR1bmVcIiwgXCJvcGVuYWkve2Jhc2UtbW9kZWx9XCIsIFwib3BlbmFpL3tmdGpvYi1hYmNkZWZ9XCIuXG4gICAqL1xuICB0YWdzPzogQXJyYXk8c3RyaW5nPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbk9iamVjdCB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgaW50ZWdyYXRpb24gYmVpbmcgZW5hYmxlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYlxuICAgKi9cbiAgdHlwZTogJ3dhbmRiJztcblxuICAvKipcbiAgICogVGhlIHNldHRpbmdzIGZvciB5b3VyIGludGVncmF0aW9uIHdpdGggV2VpZ2h0cyBhbmQgQmlhc2VzLiBUaGlzIHBheWxvYWRcbiAgICogc3BlY2lmaWVzIHRoZSBwcm9qZWN0IHRoYXQgbWV0cmljcyB3aWxsIGJlIHNlbnQgdG8uIE9wdGlvbmFsbHksIHlvdSBjYW4gc2V0IGFuXG4gICAqIGV4cGxpY2l0IGRpc3BsYXkgbmFtZSBmb3IgeW91ciBydW4sIGFkZCB0YWdzIHRvIHlvdXIgcnVuLCBhbmQgc2V0IGEgZGVmYXVsdFxuICAgKiBlbnRpdHkgKHRlYW0sIHVzZXJuYW1lLCBldGMpIHRvIGJlIGFzc29jaWF0ZWQgd2l0aCB5b3VyIHJ1bi5cbiAgICovXG4gIHdhbmRiOiBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBKb2JDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHRvIGZpbmUtdHVuZS4gWW91IGNhbiBzZWxlY3Qgb25lIG9mIHRoZVxuICAgKiBbc3VwcG9ydGVkIG1vZGVsc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nI3doaWNoLW1vZGVscy1jYW4tYmUtZmluZS10dW5lZCkuXG4gICAqL1xuICBtb2RlbDogKHN0cmluZyAmIHt9KSB8ICdiYWJiYWdlLTAwMicgfCAnZGF2aW5jaS0wMDInIHwgJ2dwdC0zLjUtdHVyYm8nIHwgJ2dwdC00by1taW5pJztcblxuICAvKipcbiAgICogVGhlIElEIG9mIGFuIHVwbG9hZGVkIGZpbGUgdGhhdCBjb250YWlucyB0cmFpbmluZyBkYXRhLlxuICAgKlxuICAgKiBTZWUgW3VwbG9hZCBmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL2NyZWF0ZSlcbiAgICogZm9yIGhvdyB0byB1cGxvYWQgYSBmaWxlLlxuICAgKlxuICAgKiBZb3VyIGRhdGFzZXQgbXVzdCBiZSBmb3JtYXR0ZWQgYXMgYSBKU09OTCBmaWxlLiBBZGRpdGlvbmFsbHksIHlvdSBtdXN0IHVwbG9hZFxuICAgKiB5b3VyIGZpbGUgd2l0aCB0aGUgcHVycG9zZSBgZmluZS10dW5lYC5cbiAgICpcbiAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSBmaWxlIHNob3VsZCBkaWZmZXIgZGVwZW5kaW5nIG9uIGlmIHRoZSBtb2RlbCB1c2VzIHRoZVxuICAgKiBbY2hhdF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maW5lLXR1bmluZy9jaGF0LWlucHV0KSxcbiAgICogW2NvbXBsZXRpb25zXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbmUtdHVuaW5nL2NvbXBsZXRpb25zLWlucHV0KVxuICAgKiBmb3JtYXQsIG9yIGlmIHRoZSBmaW5lLXR1bmluZyBtZXRob2QgdXNlcyB0aGVcbiAgICogW3ByZWZlcmVuY2VdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcvcHJlZmVyZW5jZS1pbnB1dClcbiAgICogZm9ybWF0LlxuICAgKlxuICAgKiBTZWUgdGhlIFtmaW5lLXR1bmluZyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgdHJhaW5pbmdfZmlsZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaHlwZXJwYXJhbWV0ZXJzIHVzZWQgZm9yIHRoZSBmaW5lLXR1bmluZyBqb2IuIFRoaXMgdmFsdWUgaXMgbm93IGRlcHJlY2F0ZWRcbiAgICogaW4gZmF2b3Igb2YgYG1ldGhvZGAsIGFuZCBzaG91bGQgYmUgcGFzc2VkIGluIHVuZGVyIHRoZSBgbWV0aG9kYCBwYXJhbWV0ZXIuXG4gICAqL1xuICBoeXBlcnBhcmFtZXRlcnM/OiBKb2JDcmVhdGVQYXJhbXMuSHlwZXJwYXJhbWV0ZXJzO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgaW50ZWdyYXRpb25zIHRvIGVuYWJsZSBmb3IgeW91ciBmaW5lLXR1bmluZyBqb2IuXG4gICAqL1xuICBpbnRlZ3JhdGlvbnM/OiBBcnJheTxKb2JDcmVhdGVQYXJhbXMuSW50ZWdyYXRpb24+IHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG1ldGhvZCB1c2VkIGZvciBmaW5lLXR1bmluZy5cbiAgICovXG4gIG1ldGhvZD86IEpvYkNyZWF0ZVBhcmFtcy5NZXRob2Q7XG5cbiAgLyoqXG4gICAqIFRoZSBzZWVkIGNvbnRyb2xzIHRoZSByZXByb2R1Y2liaWxpdHkgb2YgdGhlIGpvYi4gUGFzc2luZyBpbiB0aGUgc2FtZSBzZWVkIGFuZFxuICAgKiBqb2IgcGFyYW1ldGVycyBzaG91bGQgcHJvZHVjZSB0aGUgc2FtZSByZXN1bHRzLCBidXQgbWF5IGRpZmZlciBpbiByYXJlIGNhc2VzLiBJZlxuICAgKiBhIHNlZWQgaXMgbm90IHNwZWNpZmllZCwgb25lIHdpbGwgYmUgZ2VuZXJhdGVkIGZvciB5b3UuXG4gICAqL1xuICBzZWVkPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQSBzdHJpbmcgb2YgdXAgdG8gNjQgY2hhcmFjdGVycyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8geW91ciBmaW5lLXR1bmVkIG1vZGVsXG4gICAqIG5hbWUuXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCBhIGBzdWZmaXhgIG9mIFwiY3VzdG9tLW1vZGVsLW5hbWVcIiB3b3VsZCBwcm9kdWNlIGEgbW9kZWwgbmFtZSBsaWtlXG4gICAqIGBmdDpncHQtNG8tbWluaTpvcGVuYWk6Y3VzdG9tLW1vZGVsLW5hbWU6N3A0bFVSZWxgLlxuICAgKi9cbiAgc3VmZml4Pzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIElEIG9mIGFuIHVwbG9hZGVkIGZpbGUgdGhhdCBjb250YWlucyB2YWxpZGF0aW9uIGRhdGEuXG4gICAqXG4gICAqIElmIHlvdSBwcm92aWRlIHRoaXMgZmlsZSwgdGhlIGRhdGEgaXMgdXNlZCB0byBnZW5lcmF0ZSB2YWxpZGF0aW9uIG1ldHJpY3NcbiAgICogcGVyaW9kaWNhbGx5IGR1cmluZyBmaW5lLXR1bmluZy4gVGhlc2UgbWV0cmljcyBjYW4gYmUgdmlld2VkIGluIHRoZSBmaW5lLXR1bmluZ1xuICAgKiByZXN1bHRzIGZpbGUuIFRoZSBzYW1lIGRhdGEgc2hvdWxkIG5vdCBiZSBwcmVzZW50IGluIGJvdGggdHJhaW4gYW5kIHZhbGlkYXRpb25cbiAgICogZmlsZXMuXG4gICAqXG4gICAqIFlvdXIgZGF0YXNldCBtdXN0IGJlIGZvcm1hdHRlZCBhcyBhIEpTT05MIGZpbGUuIFlvdSBtdXN0IHVwbG9hZCB5b3VyIGZpbGUgd2l0aFxuICAgKiB0aGUgcHVycG9zZSBgZmluZS10dW5lYC5cbiAgICpcbiAgICogU2VlIHRoZSBbZmluZS10dW5pbmcgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIHZhbGlkYXRpb25fZmlsZT86IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgSm9iQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFRoZSBoeXBlcnBhcmFtZXRlcnMgdXNlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi4gVGhpcyB2YWx1ZSBpcyBub3dcbiAgICogZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBgbWV0aG9kYCwgYW5kIHNob3VsZCBiZSBwYXNzZWQgaW4gdW5kZXIgdGhlIGBtZXRob2RgXG4gICAqIHBhcmFtZXRlci5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgSHlwZXJwYXJhbWV0ZXJzIHtcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgZXhhbXBsZXMgaW4gZWFjaCBiYXRjaC4gQSBsYXJnZXIgYmF0Y2ggc2l6ZSBtZWFucyB0aGF0IG1vZGVsXG4gICAgICogcGFyYW1ldGVycyBhcmUgdXBkYXRlZCBsZXNzIGZyZXF1ZW50bHksIGJ1dCB3aXRoIGxvd2VyIHZhcmlhbmNlLlxuICAgICAqL1xuICAgIGJhdGNoX3NpemU/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBTY2FsaW5nIGZhY3RvciBmb3IgdGhlIGxlYXJuaW5nIHJhdGUuIEEgc21hbGxlciBsZWFybmluZyByYXRlIG1heSBiZSB1c2VmdWwgdG9cbiAgICAgKiBhdm9pZCBvdmVyZml0dGluZy5cbiAgICAgKi9cbiAgICBsZWFybmluZ19yYXRlX211bHRpcGxpZXI/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGVwb2NocyB0byB0cmFpbiB0aGUgbW9kZWwgZm9yLiBBbiBlcG9jaCByZWZlcnMgdG8gb25lIGZ1bGwgY3ljbGVcbiAgICAgKiB0aHJvdWdoIHRoZSB0cmFpbmluZyBkYXRhc2V0LlxuICAgICAqL1xuICAgIG5fZXBvY2hzPzogJ2F1dG8nIHwgbnVtYmVyO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBJbnRlZ3JhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgaW50ZWdyYXRpb24gdG8gZW5hYmxlLiBDdXJyZW50bHksIG9ubHkgXCJ3YW5kYlwiIChXZWlnaHRzIGFuZCBCaWFzZXMpXG4gICAgICogaXMgc3VwcG9ydGVkLlxuICAgICAqL1xuICAgIHR5cGU6ICd3YW5kYic7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2V0dGluZ3MgZm9yIHlvdXIgaW50ZWdyYXRpb24gd2l0aCBXZWlnaHRzIGFuZCBCaWFzZXMuIFRoaXMgcGF5bG9hZFxuICAgICAqIHNwZWNpZmllcyB0aGUgcHJvamVjdCB0aGF0IG1ldHJpY3Mgd2lsbCBiZSBzZW50IHRvLiBPcHRpb25hbGx5LCB5b3UgY2FuIHNldCBhblxuICAgICAqIGV4cGxpY2l0IGRpc3BsYXkgbmFtZSBmb3IgeW91ciBydW4sIGFkZCB0YWdzIHRvIHlvdXIgcnVuLCBhbmQgc2V0IGEgZGVmYXVsdFxuICAgICAqIGVudGl0eSAodGVhbSwgdXNlcm5hbWUsIGV0YykgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIHlvdXIgcnVuLlxuICAgICAqL1xuICAgIHdhbmRiOiBJbnRlZ3JhdGlvbi5XYW5kYjtcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgSW50ZWdyYXRpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBzZXR0aW5ncyBmb3IgeW91ciBpbnRlZ3JhdGlvbiB3aXRoIFdlaWdodHMgYW5kIEJpYXNlcy4gVGhpcyBwYXlsb2FkXG4gICAgICogc3BlY2lmaWVzIHRoZSBwcm9qZWN0IHRoYXQgbWV0cmljcyB3aWxsIGJlIHNlbnQgdG8uIE9wdGlvbmFsbHksIHlvdSBjYW4gc2V0IGFuXG4gICAgICogZXhwbGljaXQgZGlzcGxheSBuYW1lIGZvciB5b3VyIHJ1biwgYWRkIHRhZ3MgdG8geW91ciBydW4sIGFuZCBzZXQgYSBkZWZhdWx0XG4gICAgICogZW50aXR5ICh0ZWFtLCB1c2VybmFtZSwgZXRjKSB0byBiZSBhc3NvY2lhdGVkIHdpdGggeW91ciBydW4uXG4gICAgICovXG4gICAgZXhwb3J0IGludGVyZmFjZSBXYW5kYiB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBwcm9qZWN0IHRoYXQgdGhlIG5ldyBydW4gd2lsbCBiZSBjcmVhdGVkIHVuZGVyLlxuICAgICAgICovXG4gICAgICBwcm9qZWN0OiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIGVudGl0eSB0byB1c2UgZm9yIHRoZSBydW4uIFRoaXMgYWxsb3dzIHlvdSB0byBzZXQgdGhlIHRlYW0gb3IgdXNlcm5hbWUgb2ZcbiAgICAgICAqIHRoZSBXYW5kQiB1c2VyIHRoYXQgeW91IHdvdWxkIGxpa2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBydW4uIElmIG5vdCBzZXQsIHRoZVxuICAgICAgICogZGVmYXVsdCBlbnRpdHkgZm9yIHRoZSByZWdpc3RlcmVkIFdhbmRCIEFQSSBrZXkgaXMgdXNlZC5cbiAgICAgICAqL1xuICAgICAgZW50aXR5Pzogc3RyaW5nIHwgbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBBIGRpc3BsYXkgbmFtZSB0byBzZXQgZm9yIHRoZSBydW4uIElmIG5vdCBzZXQsIHdlIHdpbGwgdXNlIHRoZSBKb2IgSUQgYXMgdGhlXG4gICAgICAgKiBuYW1lLlxuICAgICAgICovXG4gICAgICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBBIGxpc3Qgb2YgdGFncyB0byBiZSBhdHRhY2hlZCB0byB0aGUgbmV3bHkgY3JlYXRlZCBydW4uIFRoZXNlIHRhZ3MgYXJlIHBhc3NlZFxuICAgICAgICogdGhyb3VnaCBkaXJlY3RseSB0byBXYW5kQi4gU29tZSBkZWZhdWx0IHRhZ3MgYXJlIGdlbmVyYXRlZCBieSBPcGVuQUk6XG4gICAgICAgKiBcIm9wZW5haS9maW5ldHVuZVwiLCBcIm9wZW5haS97YmFzZS1tb2RlbH1cIiwgXCJvcGVuYWkve2Z0am9iLWFiY2RlZn1cIi5cbiAgICAgICAqL1xuICAgICAgdGFncz86IEFycmF5PHN0cmluZz47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBtZXRob2QgdXNlZCBmb3IgZmluZS10dW5pbmcuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIE1ldGhvZCB7XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBmb3IgdGhlIERQTyBmaW5lLXR1bmluZyBtZXRob2QuXG4gICAgICovXG4gICAgZHBvPzogTWV0aG9kLkRwbztcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBzdXBlcnZpc2VkIGZpbmUtdHVuaW5nIG1ldGhvZC5cbiAgICAgKi9cbiAgICBzdXBlcnZpc2VkPzogTWV0aG9kLlN1cGVydmlzZWQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBtZXRob2QuIElzIGVpdGhlciBgc3VwZXJ2aXNlZGAgb3IgYGRwb2AuXG4gICAgICovXG4gICAgdHlwZT86ICdzdXBlcnZpc2VkJyB8ICdkcG8nO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBNZXRob2Qge1xuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBEUE8gZmluZS10dW5pbmcgbWV0aG9kLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgRHBvIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgICAgICovXG4gICAgICBoeXBlcnBhcmFtZXRlcnM/OiBEcG8uSHlwZXJwYXJhbWV0ZXJzO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgRHBvIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgICAgICovXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEh5cGVycGFyYW1ldGVycyB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgZXhhbXBsZXMgaW4gZWFjaCBiYXRjaC4gQSBsYXJnZXIgYmF0Y2ggc2l6ZSBtZWFucyB0aGF0IG1vZGVsXG4gICAgICAgICAqIHBhcmFtZXRlcnMgYXJlIHVwZGF0ZWQgbGVzcyBmcmVxdWVudGx5LCBidXQgd2l0aCBsb3dlciB2YXJpYW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIGJhdGNoX3NpemU/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiZXRhIHZhbHVlIGZvciB0aGUgRFBPIG1ldGhvZC4gQSBoaWdoZXIgYmV0YSB2YWx1ZSB3aWxsIGluY3JlYXNlIHRoZSB3ZWlnaHRcbiAgICAgICAgICogb2YgdGhlIHBlbmFsdHkgYmV0d2VlbiB0aGUgcG9saWN5IGFuZCByZWZlcmVuY2UgbW9kZWwuXG4gICAgICAgICAqL1xuICAgICAgICBiZXRhPzogJ2F1dG8nIHwgbnVtYmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsaW5nIGZhY3RvciBmb3IgdGhlIGxlYXJuaW5nIHJhdGUuIEEgc21hbGxlciBsZWFybmluZyByYXRlIG1heSBiZSB1c2VmdWwgdG9cbiAgICAgICAgICogYXZvaWQgb3ZlcmZpdHRpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBsZWFybmluZ19yYXRlX211bHRpcGxpZXI/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgZXBvY2hzIHRvIHRyYWluIHRoZSBtb2RlbCBmb3IuIEFuIGVwb2NoIHJlZmVycyB0byBvbmUgZnVsbCBjeWNsZVxuICAgICAgICAgKiB0aHJvdWdoIHRoZSB0cmFpbmluZyBkYXRhc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgbl9lcG9jaHM/OiAnYXV0bycgfCBudW1iZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBmb3IgdGhlIHN1cGVydmlzZWQgZmluZS10dW5pbmcgbWV0aG9kLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgU3VwZXJ2aXNlZCB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBoeXBlcnBhcmFtZXRlcnMgdXNlZCBmb3IgdGhlIGZpbmUtdHVuaW5nIGpvYi5cbiAgICAgICAqL1xuICAgICAgaHlwZXJwYXJhbWV0ZXJzPzogU3VwZXJ2aXNlZC5IeXBlcnBhcmFtZXRlcnM7XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBTdXBlcnZpc2VkIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGh5cGVycGFyYW1ldGVycyB1c2VkIGZvciB0aGUgZmluZS10dW5pbmcgam9iLlxuICAgICAgICovXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIEh5cGVycGFyYW1ldGVycyB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgZXhhbXBsZXMgaW4gZWFjaCBiYXRjaC4gQSBsYXJnZXIgYmF0Y2ggc2l6ZSBtZWFucyB0aGF0IG1vZGVsXG4gICAgICAgICAqIHBhcmFtZXRlcnMgYXJlIHVwZGF0ZWQgbGVzcyBmcmVxdWVudGx5LCBidXQgd2l0aCBsb3dlciB2YXJpYW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIGJhdGNoX3NpemU/OiAnYXV0bycgfCBudW1iZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxpbmcgZmFjdG9yIGZvciB0aGUgbGVhcm5pbmcgcmF0ZS4gQSBzbWFsbGVyIGxlYXJuaW5nIHJhdGUgbWF5IGJlIHVzZWZ1bCB0b1xuICAgICAgICAgKiBhdm9pZCBvdmVyZml0dGluZy5cbiAgICAgICAgICovXG4gICAgICAgIGxlYXJuaW5nX3JhdGVfbXVsdGlwbGllcj86ICdhdXRvJyB8IG51bWJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBlcG9jaHMgdG8gdHJhaW4gdGhlIG1vZGVsIGZvci4gQW4gZXBvY2ggcmVmZXJzIHRvIG9uZSBmdWxsIGN5Y2xlXG4gICAgICAgICAqIHRocm91Z2ggdGhlIHRyYWluaW5nIGRhdGFzZXQuXG4gICAgICAgICAqL1xuICAgICAgICBuX2Vwb2Nocz86ICdhdXRvJyB8IG51bWJlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBKb2JMaXN0UGFyYW1zIGV4dGVuZHMgQ3Vyc29yUGFnZVBhcmFtcyB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEpvYkxpc3RFdmVudHNQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHt9XG5cbkpvYnMuRmluZVR1bmluZ0pvYnNQYWdlID0gRmluZVR1bmluZ0pvYnNQYWdlO1xuSm9icy5GaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSA9IEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlO1xuSm9icy5DaGVja3BvaW50cyA9IENoZWNrcG9pbnRzO1xuSm9icy5GaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlID0gRmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZTtcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIEpvYnMge1xuICBleHBvcnQge1xuICAgIHR5cGUgRmluZVR1bmluZ0pvYiBhcyBGaW5lVHVuaW5nSm9iLFxuICAgIHR5cGUgRmluZVR1bmluZ0pvYkV2ZW50IGFzIEZpbmVUdW5pbmdKb2JFdmVudCxcbiAgICB0eXBlIEZpbmVUdW5pbmdKb2JJbnRlZ3JhdGlvbiBhcyBGaW5lVHVuaW5nSm9iSW50ZWdyYXRpb24sXG4gICAgdHlwZSBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbiBhcyBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbixcbiAgICB0eXBlIEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uT2JqZWN0IGFzIEZpbmVUdW5pbmdKb2JXYW5kYkludGVncmF0aW9uT2JqZWN0LFxuICAgIEZpbmVUdW5pbmdKb2JzUGFnZSBhcyBGaW5lVHVuaW5nSm9ic1BhZ2UsXG4gICAgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UgYXMgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UsXG4gICAgdHlwZSBKb2JDcmVhdGVQYXJhbXMgYXMgSm9iQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgSm9iTGlzdFBhcmFtcyBhcyBKb2JMaXN0UGFyYW1zLFxuICAgIHR5cGUgSm9iTGlzdEV2ZW50c1BhcmFtcyBhcyBKb2JMaXN0RXZlbnRzUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgQ2hlY2twb2ludHMgYXMgQ2hlY2twb2ludHMsXG4gICAgdHlwZSBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludCBhcyBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludCxcbiAgICBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlIGFzIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsXG4gICAgdHlwZSBDaGVja3BvaW50TGlzdFBhcmFtcyBhcyBDaGVja3BvaW50TGlzdFBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIEpvYnNBUEkgZnJvbSAnLi9qb2JzL2pvYnMnO1xuaW1wb3J0IHtcbiAgRmluZVR1bmluZ0pvYixcbiAgRmluZVR1bmluZ0pvYkV2ZW50LFxuICBGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSxcbiAgRmluZVR1bmluZ0pvYkludGVncmF0aW9uLFxuICBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbixcbiAgRmluZVR1bmluZ0pvYldhbmRiSW50ZWdyYXRpb25PYmplY3QsXG4gIEZpbmVUdW5pbmdKb2JzUGFnZSxcbiAgSm9iQ3JlYXRlUGFyYW1zLFxuICBKb2JMaXN0RXZlbnRzUGFyYW1zLFxuICBKb2JMaXN0UGFyYW1zLFxuICBKb2JzLFxufSBmcm9tICcuL2pvYnMvam9icyc7XG5cbmV4cG9ydCBjbGFzcyBGaW5lVHVuaW5nIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBqb2JzOiBKb2JzQVBJLkpvYnMgPSBuZXcgSm9ic0FQSS5Kb2JzKHRoaXMuX2NsaWVudCk7XG59XG5cbkZpbmVUdW5pbmcuSm9icyA9IEpvYnM7XG5GaW5lVHVuaW5nLkZpbmVUdW5pbmdKb2JzUGFnZSA9IEZpbmVUdW5pbmdKb2JzUGFnZTtcbkZpbmVUdW5pbmcuRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UgPSBGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZTtcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIEZpbmVUdW5pbmcge1xuICBleHBvcnQge1xuICAgIEpvYnMgYXMgSm9icyxcbiAgICB0eXBlIEZpbmVUdW5pbmdKb2IgYXMgRmluZVR1bmluZ0pvYixcbiAgICB0eXBlIEZpbmVUdW5pbmdKb2JFdmVudCBhcyBGaW5lVHVuaW5nSm9iRXZlbnQsXG4gICAgdHlwZSBGaW5lVHVuaW5nSm9iSW50ZWdyYXRpb24gYXMgRmluZVR1bmluZ0pvYkludGVncmF0aW9uLFxuICAgIHR5cGUgRmluZVR1bmluZ0pvYldhbmRiSW50ZWdyYXRpb24gYXMgRmluZVR1bmluZ0pvYldhbmRiSW50ZWdyYXRpb24sXG4gICAgdHlwZSBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbk9iamVjdCBhcyBGaW5lVHVuaW5nSm9iV2FuZGJJbnRlZ3JhdGlvbk9iamVjdCxcbiAgICBGaW5lVHVuaW5nSm9ic1BhZ2UgYXMgRmluZVR1bmluZ0pvYnNQYWdlLFxuICAgIEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlIGFzIEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlLFxuICAgIHR5cGUgSm9iQ3JlYXRlUGFyYW1zIGFzIEpvYkNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIEpvYkxpc3RQYXJhbXMgYXMgSm9iTGlzdFBhcmFtcyxcbiAgICB0eXBlIEpvYkxpc3RFdmVudHNQYXJhbXMgYXMgSm9iTGlzdEV2ZW50c1BhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vY29yZSc7XG5cbmV4cG9ydCBjbGFzcyBJbWFnZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdmFyaWF0aW9uIG9mIGEgZ2l2ZW4gaW1hZ2UuXG4gICAqL1xuICBjcmVhdGVWYXJpYXRpb24oXG4gICAgYm9keTogSW1hZ2VDcmVhdGVWYXJpYXRpb25QYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxJbWFnZXNSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ltYWdlcy92YXJpYXRpb25zJywgQ29yZS5tdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVkaXRlZCBvciBleHRlbmRlZCBpbWFnZSBnaXZlbiBhbiBvcmlnaW5hbCBpbWFnZSBhbmQgYSBwcm9tcHQuXG4gICAqL1xuICBlZGl0KGJvZHk6IEltYWdlRWRpdFBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8SW1hZ2VzUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9pbWFnZXMvZWRpdHMnLCBDb3JlLm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW1hZ2UgZ2l2ZW4gYSBwcm9tcHQuXG4gICAqL1xuICBnZW5lcmF0ZShib2R5OiBJbWFnZUdlbmVyYXRlUGFyYW1zLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxJbWFnZXNSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ltYWdlcy9nZW5lcmF0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHVybCBvciB0aGUgY29udGVudCBvZiBhbiBpbWFnZSBnZW5lcmF0ZWQgYnkgdGhlIE9wZW5BSSBBUEkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2Uge1xuICAvKipcbiAgICogVGhlIGJhc2U2NC1lbmNvZGVkIEpTT04gb2YgdGhlIGdlbmVyYXRlZCBpbWFnZSwgaWYgYHJlc3BvbnNlX2Zvcm1hdGAgaXNcbiAgICogYGI2NF9qc29uYC5cbiAgICovXG4gIGI2NF9qc29uPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJvbXB0IHRoYXQgd2FzIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGltYWdlLCBpZiB0aGVyZSB3YXMgYW55IHJldmlzaW9uIHRvIHRoZVxuICAgKiBwcm9tcHQuXG4gICAqL1xuICByZXZpc2VkX3Byb21wdD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlLCBpZiBgcmVzcG9uc2VfZm9ybWF0YCBpcyBgdXJsYCAoZGVmYXVsdCkuXG4gICAqL1xuICB1cmw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIEltYWdlTW9kZWwgPSAnZGFsbC1lLTInIHwgJ2RhbGwtZS0zJztcblxuZXhwb3J0IGludGVyZmFjZSBJbWFnZXNSZXNwb25zZSB7XG4gIGNyZWF0ZWQ6IG51bWJlcjtcblxuICBkYXRhOiBBcnJheTxJbWFnZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VDcmVhdGVWYXJpYXRpb25QYXJhbXMge1xuICAvKipcbiAgICogVGhlIGltYWdlIHRvIHVzZSBhcyB0aGUgYmFzaXMgZm9yIHRoZSB2YXJpYXRpb24ocykuIE11c3QgYmUgYSB2YWxpZCBQTkcgZmlsZSxcbiAgICogbGVzcyB0aGFuIDRNQiwgYW5kIHNxdWFyZS5cbiAgICovXG4gIGltYWdlOiBDb3JlLlVwbG9hZGFibGU7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB0byB1c2UgZm9yIGltYWdlIGdlbmVyYXRpb24uIE9ubHkgYGRhbGwtZS0yYCBpcyBzdXBwb3J0ZWQgYXQgdGhpc1xuICAgKiB0aW1lLlxuICAgKi9cbiAgbW9kZWw/OiAoc3RyaW5nICYge30pIHwgSW1hZ2VNb2RlbCB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAuIEZvciBgZGFsbC1lLTNgLCBvbmx5XG4gICAqIGBuPTFgIGlzIHN1cHBvcnRlZC5cbiAgICovXG4gIG4/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IGluIHdoaWNoIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzIGFyZSByZXR1cm5lZC4gTXVzdCBiZSBvbmUgb2YgYHVybGAgb3JcbiAgICogYGI2NF9qc29uYC4gVVJMcyBhcmUgb25seSB2YWxpZCBmb3IgNjAgbWludXRlcyBhZnRlciB0aGUgaW1hZ2UgaGFzIGJlZW5cbiAgICogZ2VuZXJhdGVkLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogJ3VybCcgfCAnYjY0X2pzb24nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIE11c3QgYmUgb25lIG9mIGAyNTZ4MjU2YCwgYDUxMng1MTJgLCBvclxuICAgKiBgMTAyNHgxMDI0YC5cbiAgICovXG4gIHNpemU/OiAnMjU2eDI1NicgfCAnNTEyeDUxMicgfCAnMTAyNHgxMDI0JyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yXG4gICAqIGFuZCBkZXRlY3QgYWJ1c2UuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzI2VuZC11c2VyLWlkcykuXG4gICAqL1xuICB1c2VyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlRWRpdFBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgaW1hZ2UgdG8gZWRpdC4gTXVzdCBiZSBhIHZhbGlkIFBORyBmaWxlLCBsZXNzIHRoYW4gNE1CLCBhbmQgc3F1YXJlLiBJZiBtYXNrXG4gICAqIGlzIG5vdCBwcm92aWRlZCwgaW1hZ2UgbXVzdCBoYXZlIHRyYW5zcGFyZW5jeSwgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIHRoZSBtYXNrLlxuICAgKi9cbiAgaW1hZ2U6IENvcmUuVXBsb2FkYWJsZTtcblxuICAvKipcbiAgICogQSB0ZXh0IGRlc2NyaXB0aW9uIG9mIHRoZSBkZXNpcmVkIGltYWdlKHMpLiBUaGUgbWF4aW11bSBsZW5ndGggaXMgMTAwMFxuICAgKiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgcHJvbXB0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFuIGFkZGl0aW9uYWwgaW1hZ2Ugd2hvc2UgZnVsbHkgdHJhbnNwYXJlbnQgYXJlYXMgKGUuZy4gd2hlcmUgYWxwaGEgaXMgemVybylcbiAgICogaW5kaWNhdGUgd2hlcmUgYGltYWdlYCBzaG91bGQgYmUgZWRpdGVkLiBNdXN0IGJlIGEgdmFsaWQgUE5HIGZpbGUsIGxlc3MgdGhhblxuICAgKiA0TUIsIGFuZCBoYXZlIHRoZSBzYW1lIGRpbWVuc2lvbnMgYXMgYGltYWdlYC5cbiAgICovXG4gIG1hc2s/OiBDb3JlLlVwbG9hZGFibGU7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB0byB1c2UgZm9yIGltYWdlIGdlbmVyYXRpb24uIE9ubHkgYGRhbGwtZS0yYCBpcyBzdXBwb3J0ZWQgYXQgdGhpc1xuICAgKiB0aW1lLlxuICAgKi9cbiAgbW9kZWw/OiAoc3RyaW5nICYge30pIHwgSW1hZ2VNb2RlbCB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAuXG4gICAqL1xuICBuPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIGZvcm1hdCBpbiB3aGljaCB0aGUgZ2VuZXJhdGVkIGltYWdlcyBhcmUgcmV0dXJuZWQuIE11c3QgYmUgb25lIG9mIGB1cmxgIG9yXG4gICAqIGBiNjRfanNvbmAuIFVSTHMgYXJlIG9ubHkgdmFsaWQgZm9yIDYwIG1pbnV0ZXMgYWZ0ZXIgdGhlIGltYWdlIGhhcyBiZWVuXG4gICAqIGdlbmVyYXRlZC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86ICd1cmwnIHwgJ2I2NF9qc29uJyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzaXplIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzLiBNdXN0IGJlIG9uZSBvZiBgMjU2eDI1NmAsIGA1MTJ4NTEyYCwgb3JcbiAgICogYDEwMjR4MTAyNGAuXG4gICAqL1xuICBzaXplPzogJzI1NngyNTYnIHwgJzUxMng1MTInIHwgJzEwMjR4MTAyNCcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvclxuICAgKiBhbmQgZGV0ZWN0IGFidXNlLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcyNlbmQtdXNlci1pZHMpLlxuICAgKi9cbiAgdXNlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbWFnZUdlbmVyYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgdGV4dCBkZXNjcmlwdGlvbiBvZiB0aGUgZGVzaXJlZCBpbWFnZShzKS4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDEwMDBcbiAgICogY2hhcmFjdGVycyBmb3IgYGRhbGwtZS0yYCBhbmQgNDAwMCBjaGFyYWN0ZXJzIGZvciBgZGFsbC1lLTNgLlxuICAgKi9cbiAgcHJvbXB0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB0byB1c2UgZm9yIGltYWdlIGdlbmVyYXRpb24uXG4gICAqL1xuICBtb2RlbD86IChzdHJpbmcgJiB7fSkgfCBJbWFnZU1vZGVsIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMC4gRm9yIGBkYWxsLWUtM2AsIG9ubHlcbiAgICogYG49MWAgaXMgc3VwcG9ydGVkLlxuICAgKi9cbiAgbj86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBxdWFsaXR5IG9mIHRoZSBpbWFnZSB0aGF0IHdpbGwgYmUgZ2VuZXJhdGVkLiBgaGRgIGNyZWF0ZXMgaW1hZ2VzIHdpdGggZmluZXJcbiAgICogZGV0YWlscyBhbmQgZ3JlYXRlciBjb25zaXN0ZW5jeSBhY3Jvc3MgdGhlIGltYWdlLiBUaGlzIHBhcmFtIGlzIG9ubHkgc3VwcG9ydGVkXG4gICAqIGZvciBgZGFsbC1lLTNgLlxuICAgKi9cbiAgcXVhbGl0eT86ICdzdGFuZGFyZCcgfCAnaGQnO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IGluIHdoaWNoIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzIGFyZSByZXR1cm5lZC4gTXVzdCBiZSBvbmUgb2YgYHVybGAgb3JcbiAgICogYGI2NF9qc29uYC4gVVJMcyBhcmUgb25seSB2YWxpZCBmb3IgNjAgbWludXRlcyBhZnRlciB0aGUgaW1hZ2UgaGFzIGJlZW5cbiAgICogZ2VuZXJhdGVkLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogJ3VybCcgfCAnYjY0X2pzb24nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIE11c3QgYmUgb25lIG9mIGAyNTZ4MjU2YCwgYDUxMng1MTJgLCBvclxuICAgKiBgMTAyNHgxMDI0YCBmb3IgYGRhbGwtZS0yYC4gTXVzdCBiZSBvbmUgb2YgYDEwMjR4MTAyNGAsIGAxNzkyeDEwMjRgLCBvclxuICAgKiBgMTAyNHgxNzkyYCBmb3IgYGRhbGwtZS0zYCBtb2RlbHMuXG4gICAqL1xuICBzaXplPzogJzI1NngyNTYnIHwgJzUxMng1MTInIHwgJzEwMjR4MTAyNCcgfCAnMTc5MngxMDI0JyB8ICcxMDI0eDE3OTInIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHN0eWxlIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzLiBNdXN0IGJlIG9uZSBvZiBgdml2aWRgIG9yIGBuYXR1cmFsYC4gVml2aWRcbiAgICogY2F1c2VzIHRoZSBtb2RlbCB0byBsZWFuIHRvd2FyZHMgZ2VuZXJhdGluZyBoeXBlci1yZWFsIGFuZCBkcmFtYXRpYyBpbWFnZXMuXG4gICAqIE5hdHVyYWwgY2F1c2VzIHRoZSBtb2RlbCB0byBwcm9kdWNlIG1vcmUgbmF0dXJhbCwgbGVzcyBoeXBlci1yZWFsIGxvb2tpbmdcbiAgICogaW1hZ2VzLiBUaGlzIHBhcmFtIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBgZGFsbC1lLTNgLlxuICAgKi9cbiAgc3R5bGU/OiAndml2aWQnIHwgJ25hdHVyYWwnIHwgbnVsbDtcblxuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciByZXByZXNlbnRpbmcgeW91ciBlbmQtdXNlciwgd2hpY2ggY2FuIGhlbHAgT3BlbkFJIHRvIG1vbml0b3JcbiAgICogYW5kIGRldGVjdCBhYnVzZS5cbiAgICogW0xlYXJuIG1vcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zYWZldHktYmVzdC1wcmFjdGljZXMjZW5kLXVzZXItaWRzKS5cbiAgICovXG4gIHVzZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBJbWFnZXMge1xuICBleHBvcnQge1xuICAgIHR5cGUgSW1hZ2UgYXMgSW1hZ2UsXG4gICAgdHlwZSBJbWFnZU1vZGVsIGFzIEltYWdlTW9kZWwsXG4gICAgdHlwZSBJbWFnZXNSZXNwb25zZSBhcyBJbWFnZXNSZXNwb25zZSxcbiAgICB0eXBlIEltYWdlQ3JlYXRlVmFyaWF0aW9uUGFyYW1zIGFzIEltYWdlQ3JlYXRlVmFyaWF0aW9uUGFyYW1zLFxuICAgIHR5cGUgSW1hZ2VFZGl0UGFyYW1zIGFzIEltYWdlRWRpdFBhcmFtcyxcbiAgICB0eXBlIEltYWdlR2VuZXJhdGVQYXJhbXMgYXMgSW1hZ2VHZW5lcmF0ZVBhcmFtcyxcbiAgfTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uL3Jlc291cmNlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgeyBQYWdlIH0gZnJvbSAnLi4vcGFnaW5hdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBNb2RlbHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSBtb2RlbCBpbnN0YW5jZSwgcHJvdmlkaW5nIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtb2RlbCBzdWNoIGFzXG4gICAqIHRoZSBvd25lciBhbmQgcGVybWlzc2lvbmluZy5cbiAgICovXG4gIHJldHJpZXZlKG1vZGVsOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPE1vZGVsPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9tb2RlbHMvJHttb2RlbH1gLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyB0aGUgY3VycmVudGx5IGF2YWlsYWJsZSBtb2RlbHMsIGFuZCBwcm92aWRlcyBiYXNpYyBpbmZvcm1hdGlvbiBhYm91dCBlYWNoXG4gICAqIG9uZSBzdWNoIGFzIHRoZSBvd25lciBhbmQgYXZhaWxhYmlsaXR5LlxuICAgKi9cbiAgbGlzdChvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8TW9kZWxzUGFnZSwgTW9kZWw+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9tb2RlbHMnLCBNb2RlbHNQYWdlLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBmaW5lLXR1bmVkIG1vZGVsLiBZb3UgbXVzdCBoYXZlIHRoZSBPd25lciByb2xlIGluIHlvdXIgb3JnYW5pemF0aW9uIHRvXG4gICAqIGRlbGV0ZSBhIG1vZGVsLlxuICAgKi9cbiAgZGVsKG1vZGVsOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPE1vZGVsRGVsZXRlZD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvbW9kZWxzLyR7bW9kZWx9YCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RlbHNQYWdlIGV4dGVuZHMgUGFnZTxNb2RlbD4ge31cblxuLyoqXG4gKiBEZXNjcmliZXMgYW4gT3BlbkFJIG1vZGVsIG9mZmVyaW5nIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCB0aGUgQVBJLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVsIHtcbiAgLyoqXG4gICAqIFRoZSBtb2RlbCBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiB0aGUgQVBJIGVuZHBvaW50cy5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgd2hlbiB0aGUgbW9kZWwgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIFwibW9kZWxcIi5cbiAgICovXG4gIG9iamVjdDogJ21vZGVsJztcblxuICAvKipcbiAgICogVGhlIG9yZ2FuaXphdGlvbiB0aGF0IG93bnMgdGhlIG1vZGVsLlxuICAgKi9cbiAgb3duZWRfYnk6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2RlbERlbGV0ZWQge1xuICBpZDogc3RyaW5nO1xuXG4gIGRlbGV0ZWQ6IGJvb2xlYW47XG5cbiAgb2JqZWN0OiBzdHJpbmc7XG59XG5cbk1vZGVscy5Nb2RlbHNQYWdlID0gTW9kZWxzUGFnZTtcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIE1vZGVscyB7XG4gIGV4cG9ydCB7IHR5cGUgTW9kZWwgYXMgTW9kZWwsIHR5cGUgTW9kZWxEZWxldGVkIGFzIE1vZGVsRGVsZXRlZCwgTW9kZWxzUGFnZSBhcyBNb2RlbHNQYWdlIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi9yZXNvdXJjZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBDbGFzc2lmaWVzIGlmIHRleHQgYW5kL29yIGltYWdlIGlucHV0cyBhcmUgcG90ZW50aWFsbHkgaGFybWZ1bC4gTGVhcm4gbW9yZSBpblxuICAgKiB0aGUgW21vZGVyYXRpb24gZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9tb2RlcmF0aW9uKS5cbiAgICovXG4gIGNyZWF0ZShcbiAgICBib2R5OiBNb2RlcmF0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8TW9kZXJhdGlvbkNyZWF0ZVJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvbW9kZXJhdGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2RlcmF0aW9uIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0aGUgY2F0ZWdvcmllcywgYW5kIHdoZXRoZXIgdGhleSBhcmUgZmxhZ2dlZCBvciBub3QuXG4gICAqL1xuICBjYXRlZ29yaWVzOiBNb2RlcmF0aW9uLkNhdGVnb3JpZXM7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0aGUgY2F0ZWdvcmllcyBhbG9uZyB3aXRoIHRoZSBpbnB1dCB0eXBlKHMpIHRoYXQgdGhlIHNjb3JlIGFwcGxpZXMgdG8uXG4gICAqL1xuICBjYXRlZ29yeV9hcHBsaWVkX2lucHV0X3R5cGVzOiBNb2RlcmF0aW9uLkNhdGVnb3J5QXBwbGllZElucHV0VHlwZXM7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0aGUgY2F0ZWdvcmllcyBhbG9uZyB3aXRoIHRoZWlyIHNjb3JlcyBhcyBwcmVkaWN0ZWQgYnkgbW9kZWwuXG4gICAqL1xuICBjYXRlZ29yeV9zY29yZXM6IE1vZGVyYXRpb24uQ2F0ZWdvcnlTY29yZXM7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgYW55IG9mIHRoZSBiZWxvdyBjYXRlZ29yaWVzIGFyZSBmbGFnZ2VkLlxuICAgKi9cbiAgZmxhZ2dlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBNb2RlcmF0aW9uIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB0aGUgY2F0ZWdvcmllcywgYW5kIHdoZXRoZXIgdGhleSBhcmUgZmxhZ2dlZCBvciBub3QuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENhdGVnb3JpZXMge1xuICAgIC8qKlxuICAgICAqIENvbnRlbnQgdGhhdCBleHByZXNzZXMsIGluY2l0ZXMsIG9yIHByb21vdGVzIGhhcmFzc2luZyBsYW5ndWFnZSB0b3dhcmRzIGFueVxuICAgICAqIHRhcmdldC5cbiAgICAgKi9cbiAgICBoYXJhc3NtZW50OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogSGFyYXNzbWVudCBjb250ZW50IHRoYXQgYWxzbyBpbmNsdWRlcyB2aW9sZW5jZSBvciBzZXJpb3VzIGhhcm0gdG93YXJkcyBhbnlcbiAgICAgKiB0YXJnZXQuXG4gICAgICovXG4gICAgJ2hhcmFzc21lbnQvdGhyZWF0ZW5pbmcnOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCB0aGF0IGV4cHJlc3NlcywgaW5jaXRlcywgb3IgcHJvbW90ZXMgaGF0ZSBiYXNlZCBvbiByYWNlLCBnZW5kZXIsXG4gICAgICogZXRobmljaXR5LCByZWxpZ2lvbiwgbmF0aW9uYWxpdHksIHNleHVhbCBvcmllbnRhdGlvbiwgZGlzYWJpbGl0eSBzdGF0dXMsIG9yXG4gICAgICogY2FzdGUuIEhhdGVmdWwgY29udGVudCBhaW1lZCBhdCBub24tcHJvdGVjdGVkIGdyb3VwcyAoZS5nLiwgY2hlc3MgcGxheWVycykgaXNcbiAgICAgKiBoYXJhc3NtZW50LlxuICAgICAqL1xuICAgIGhhdGU6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBIYXRlZnVsIGNvbnRlbnQgdGhhdCBhbHNvIGluY2x1ZGVzIHZpb2xlbmNlIG9yIHNlcmlvdXMgaGFybSB0b3dhcmRzIHRoZSB0YXJnZXRlZFxuICAgICAqIGdyb3VwIGJhc2VkIG9uIHJhY2UsIGdlbmRlciwgZXRobmljaXR5LCByZWxpZ2lvbiwgbmF0aW9uYWxpdHksIHNleHVhbFxuICAgICAqIG9yaWVudGF0aW9uLCBkaXNhYmlsaXR5IHN0YXR1cywgb3IgY2FzdGUuXG4gICAgICovXG4gICAgJ2hhdGUvdGhyZWF0ZW5pbmcnOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCB0aGF0IGluY2x1ZGVzIGluc3RydWN0aW9ucyBvciBhZHZpY2UgdGhhdCBmYWNpbGl0YXRlIHRoZSBwbGFubmluZyBvclxuICAgICAqIGV4ZWN1dGlvbiBvZiB3cm9uZ2RvaW5nLCBvciB0aGF0IGdpdmVzIGFkdmljZSBvciBpbnN0cnVjdGlvbiBvbiBob3cgdG8gY29tbWl0XG4gICAgICogaWxsaWNpdCBhY3RzLiBGb3IgZXhhbXBsZSwgXCJob3cgdG8gc2hvcGxpZnRcIiB3b3VsZCBmaXQgdGhpcyBjYXRlZ29yeS5cbiAgICAgKi9cbiAgICBpbGxpY2l0OiBib29sZWFuIHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENvbnRlbnQgdGhhdCBpbmNsdWRlcyBpbnN0cnVjdGlvbnMgb3IgYWR2aWNlIHRoYXQgZmFjaWxpdGF0ZSB0aGUgcGxhbm5pbmcgb3JcbiAgICAgKiBleGVjdXRpb24gb2Ygd3Jvbmdkb2luZyB0aGF0IGFsc28gaW5jbHVkZXMgdmlvbGVuY2UsIG9yIHRoYXQgZ2l2ZXMgYWR2aWNlIG9yXG4gICAgICogaW5zdHJ1Y3Rpb24gb24gdGhlIHByb2N1cmVtZW50IG9mIGFueSB3ZWFwb24uXG4gICAgICovXG4gICAgJ2lsbGljaXQvdmlvbGVudCc6IGJvb2xlYW4gfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCB0aGF0IHByb21vdGVzLCBlbmNvdXJhZ2VzLCBvciBkZXBpY3RzIGFjdHMgb2Ygc2VsZi1oYXJtLCBzdWNoIGFzXG4gICAgICogc3VpY2lkZSwgY3V0dGluZywgYW5kIGVhdGluZyBkaXNvcmRlcnMuXG4gICAgICovXG4gICAgJ3NlbGYtaGFybSc6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb250ZW50IHRoYXQgZW5jb3VyYWdlcyBwZXJmb3JtaW5nIGFjdHMgb2Ygc2VsZi1oYXJtLCBzdWNoIGFzIHN1aWNpZGUsIGN1dHRpbmcsXG4gICAgICogYW5kIGVhdGluZyBkaXNvcmRlcnMsIG9yIHRoYXQgZ2l2ZXMgaW5zdHJ1Y3Rpb25zIG9yIGFkdmljZSBvbiBob3cgdG8gY29tbWl0IHN1Y2hcbiAgICAgKiBhY3RzLlxuICAgICAqL1xuICAgICdzZWxmLWhhcm0vaW5zdHJ1Y3Rpb25zJzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIENvbnRlbnQgd2hlcmUgdGhlIHNwZWFrZXIgZXhwcmVzc2VzIHRoYXQgdGhleSBhcmUgZW5nYWdpbmcgb3IgaW50ZW5kIHRvIGVuZ2FnZVxuICAgICAqIGluIGFjdHMgb2Ygc2VsZi1oYXJtLCBzdWNoIGFzIHN1aWNpZGUsIGN1dHRpbmcsIGFuZCBlYXRpbmcgZGlzb3JkZXJzLlxuICAgICAqL1xuICAgICdzZWxmLWhhcm0vaW50ZW50JzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIENvbnRlbnQgbWVhbnQgdG8gYXJvdXNlIHNleHVhbCBleGNpdGVtZW50LCBzdWNoIGFzIHRoZSBkZXNjcmlwdGlvbiBvZiBzZXh1YWxcbiAgICAgKiBhY3Rpdml0eSwgb3IgdGhhdCBwcm9tb3RlcyBzZXh1YWwgc2VydmljZXMgKGV4Y2x1ZGluZyBzZXggZWR1Y2F0aW9uIGFuZFxuICAgICAqIHdlbGxuZXNzKS5cbiAgICAgKi9cbiAgICBzZXh1YWw6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBTZXh1YWwgY29udGVudCB0aGF0IGluY2x1ZGVzIGFuIGluZGl2aWR1YWwgd2hvIGlzIHVuZGVyIDE4IHllYXJzIG9sZC5cbiAgICAgKi9cbiAgICAnc2V4dWFsL21pbm9ycyc6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb250ZW50IHRoYXQgZGVwaWN0cyBkZWF0aCwgdmlvbGVuY2UsIG9yIHBoeXNpY2FsIGluanVyeS5cbiAgICAgKi9cbiAgICB2aW9sZW5jZTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIENvbnRlbnQgdGhhdCBkZXBpY3RzIGRlYXRoLCB2aW9sZW5jZSwgb3IgcGh5c2ljYWwgaW5qdXJ5IGluIGdyYXBoaWMgZGV0YWlsLlxuICAgICAqL1xuICAgICd2aW9sZW5jZS9ncmFwaGljJzogYm9vbGVhbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgdGhlIGNhdGVnb3JpZXMgYWxvbmcgd2l0aCB0aGUgaW5wdXQgdHlwZShzKSB0aGF0IHRoZSBzY29yZSBhcHBsaWVzIHRvLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBDYXRlZ29yeUFwcGxpZWRJbnB1dFR5cGVzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGllZCBpbnB1dCB0eXBlKHMpIGZvciB0aGUgY2F0ZWdvcnkgJ2hhcmFzc21lbnQnLlxuICAgICAqL1xuICAgIGhhcmFzc21lbnQ6IEFycmF5PCd0ZXh0Jz47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGllZCBpbnB1dCB0eXBlKHMpIGZvciB0aGUgY2F0ZWdvcnkgJ2hhcmFzc21lbnQvdGhyZWF0ZW5pbmcnLlxuICAgICAqL1xuICAgICdoYXJhc3NtZW50L3RocmVhdGVuaW5nJzogQXJyYXk8J3RleHQnPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcHBsaWVkIGlucHV0IHR5cGUocykgZm9yIHRoZSBjYXRlZ29yeSAnaGF0ZScuXG4gICAgICovXG4gICAgaGF0ZTogQXJyYXk8J3RleHQnPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcHBsaWVkIGlucHV0IHR5cGUocykgZm9yIHRoZSBjYXRlZ29yeSAnaGF0ZS90aHJlYXRlbmluZycuXG4gICAgICovXG4gICAgJ2hhdGUvdGhyZWF0ZW5pbmcnOiBBcnJheTwndGV4dCc+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGxpZWQgaW5wdXQgdHlwZShzKSBmb3IgdGhlIGNhdGVnb3J5ICdpbGxpY2l0Jy5cbiAgICAgKi9cbiAgICBpbGxpY2l0OiBBcnJheTwndGV4dCc+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGxpZWQgaW5wdXQgdHlwZShzKSBmb3IgdGhlIGNhdGVnb3J5ICdpbGxpY2l0L3Zpb2xlbnQnLlxuICAgICAqL1xuICAgICdpbGxpY2l0L3Zpb2xlbnQnOiBBcnJheTwndGV4dCc+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGxpZWQgaW5wdXQgdHlwZShzKSBmb3IgdGhlIGNhdGVnb3J5ICdzZWxmLWhhcm0nLlxuICAgICAqL1xuICAgICdzZWxmLWhhcm0nOiBBcnJheTwndGV4dCcgfCAnaW1hZ2UnPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcHBsaWVkIGlucHV0IHR5cGUocykgZm9yIHRoZSBjYXRlZ29yeSAnc2VsZi1oYXJtL2luc3RydWN0aW9ucycuXG4gICAgICovXG4gICAgJ3NlbGYtaGFybS9pbnN0cnVjdGlvbnMnOiBBcnJheTwndGV4dCcgfCAnaW1hZ2UnPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcHBsaWVkIGlucHV0IHR5cGUocykgZm9yIHRoZSBjYXRlZ29yeSAnc2VsZi1oYXJtL2ludGVudCcuXG4gICAgICovXG4gICAgJ3NlbGYtaGFybS9pbnRlbnQnOiBBcnJheTwndGV4dCcgfCAnaW1hZ2UnPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcHBsaWVkIGlucHV0IHR5cGUocykgZm9yIHRoZSBjYXRlZ29yeSAnc2V4dWFsJy5cbiAgICAgKi9cbiAgICBzZXh1YWw6IEFycmF5PCd0ZXh0JyB8ICdpbWFnZSc+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFwcGxpZWQgaW5wdXQgdHlwZShzKSBmb3IgdGhlIGNhdGVnb3J5ICdzZXh1YWwvbWlub3JzJy5cbiAgICAgKi9cbiAgICAnc2V4dWFsL21pbm9ycyc6IEFycmF5PCd0ZXh0Jz47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGllZCBpbnB1dCB0eXBlKHMpIGZvciB0aGUgY2F0ZWdvcnkgJ3Zpb2xlbmNlJy5cbiAgICAgKi9cbiAgICB2aW9sZW5jZTogQXJyYXk8J3RleHQnIHwgJ2ltYWdlJz47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGllZCBpbnB1dCB0eXBlKHMpIGZvciB0aGUgY2F0ZWdvcnkgJ3Zpb2xlbmNlL2dyYXBoaWMnLlxuICAgICAqL1xuICAgICd2aW9sZW5jZS9ncmFwaGljJzogQXJyYXk8J3RleHQnIHwgJ2ltYWdlJz47XG4gIH1cblxuICAvKipcbiAgICogQSBsaXN0IG9mIHRoZSBjYXRlZ29yaWVzIGFsb25nIHdpdGggdGhlaXIgc2NvcmVzIGFzIHByZWRpY3RlZCBieSBtb2RlbC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ2F0ZWdvcnlTY29yZXMge1xuICAgIC8qKlxuICAgICAqIFRoZSBzY29yZSBmb3IgdGhlIGNhdGVnb3J5ICdoYXJhc3NtZW50Jy5cbiAgICAgKi9cbiAgICBoYXJhc3NtZW50OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnaGFyYXNzbWVudC90aHJlYXRlbmluZycuXG4gICAgICovXG4gICAgJ2hhcmFzc21lbnQvdGhyZWF0ZW5pbmcnOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnaGF0ZScuXG4gICAgICovXG4gICAgaGF0ZTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ2hhdGUvdGhyZWF0ZW5pbmcnLlxuICAgICAqL1xuICAgICdoYXRlL3RocmVhdGVuaW5nJzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ2lsbGljaXQnLlxuICAgICAqL1xuICAgIGlsbGljaXQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY29yZSBmb3IgdGhlIGNhdGVnb3J5ICdpbGxpY2l0L3Zpb2xlbnQnLlxuICAgICAqL1xuICAgICdpbGxpY2l0L3Zpb2xlbnQnOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnc2VsZi1oYXJtJy5cbiAgICAgKi9cbiAgICAnc2VsZi1oYXJtJzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ3NlbGYtaGFybS9pbnN0cnVjdGlvbnMnLlxuICAgICAqL1xuICAgICdzZWxmLWhhcm0vaW5zdHJ1Y3Rpb25zJzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ3NlbGYtaGFybS9pbnRlbnQnLlxuICAgICAqL1xuICAgICdzZWxmLWhhcm0vaW50ZW50JzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIGZvciB0aGUgY2F0ZWdvcnkgJ3NleHVhbCcuXG4gICAgICovXG4gICAgc2V4dWFsOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAnc2V4dWFsL21pbm9ycycuXG4gICAgICovXG4gICAgJ3NleHVhbC9taW5vcnMnOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAndmlvbGVuY2UnLlxuICAgICAqL1xuICAgIHZpb2xlbmNlOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcmUgZm9yIHRoZSBjYXRlZ29yeSAndmlvbGVuY2UvZ3JhcGhpYycuXG4gICAgICovXG4gICAgJ3Zpb2xlbmNlL2dyYXBoaWMnOiBudW1iZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBvYmplY3QgZGVzY3JpYmluZyBhbiBpbWFnZSB0byBjbGFzc2lmeS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNb2RlcmF0aW9uSW1hZ2VVUkxJbnB1dCB7XG4gIC8qKlxuICAgKiBDb250YWlucyBlaXRoZXIgYW4gaW1hZ2UgVVJMIG9yIGEgZGF0YSBVUkwgZm9yIGEgYmFzZTY0IGVuY29kZWQgaW1hZ2UuXG4gICAqL1xuICBpbWFnZV91cmw6IE1vZGVyYXRpb25JbWFnZVVSTElucHV0LkltYWdlVVJMO1xuXG4gIC8qKlxuICAgKiBBbHdheXMgYGltYWdlX3VybGAuXG4gICAqL1xuICB0eXBlOiAnaW1hZ2VfdXJsJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBNb2RlcmF0aW9uSW1hZ2VVUkxJbnB1dCB7XG4gIC8qKlxuICAgKiBDb250YWlucyBlaXRoZXIgYW4gaW1hZ2UgVVJMIG9yIGEgZGF0YSBVUkwgZm9yIGEgYmFzZTY0IGVuY29kZWQgaW1hZ2UuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEltYWdlVVJMIHtcbiAgICAvKipcbiAgICAgKiBFaXRoZXIgYSBVUkwgb2YgdGhlIGltYWdlIG9yIHRoZSBiYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhLlxuICAgICAqL1xuICAgIHVybDogc3RyaW5nO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIE1vZGVyYXRpb25Nb2RlbCA9XG4gIHwgJ29tbmktbW9kZXJhdGlvbi1sYXRlc3QnXG4gIHwgJ29tbmktbW9kZXJhdGlvbi0yMDI0LTA5LTI2J1xuICB8ICd0ZXh0LW1vZGVyYXRpb24tbGF0ZXN0J1xuICB8ICd0ZXh0LW1vZGVyYXRpb24tc3RhYmxlJztcblxuLyoqXG4gKiBBbiBvYmplY3QgZGVzY3JpYmluZyBhbiBpbWFnZSB0byBjbGFzc2lmeS5cbiAqL1xuZXhwb3J0IHR5cGUgTW9kZXJhdGlvbk11bHRpTW9kYWxJbnB1dCA9IE1vZGVyYXRpb25JbWFnZVVSTElucHV0IHwgTW9kZXJhdGlvblRleHRJbnB1dDtcblxuLyoqXG4gKiBBbiBvYmplY3QgZGVzY3JpYmluZyB0ZXh0IHRvIGNsYXNzaWZ5LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVyYXRpb25UZXh0SW5wdXQge1xuICAvKipcbiAgICogQSBzdHJpbmcgb2YgdGV4dCB0byBjbGFzc2lmeS5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogQWx3YXlzIGB0ZXh0YC5cbiAgICovXG4gIHR5cGU6ICd0ZXh0Jztcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGlmIGEgZ2l2ZW4gdGV4dCBpbnB1dCBpcyBwb3RlbnRpYWxseSBoYXJtZnVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVyYXRpb25DcmVhdGVSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBtb2RlcmF0aW9uIHJlcXVlc3QuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbW9kZWwgdXNlZCB0byBnZW5lcmF0ZSB0aGUgbW9kZXJhdGlvbiByZXN1bHRzLlxuICAgKi9cbiAgbW9kZWw6IHN0cmluZztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIG1vZGVyYXRpb24gb2JqZWN0cy5cbiAgICovXG4gIHJlc3VsdHM6IEFycmF5PE1vZGVyYXRpb24+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVyYXRpb25DcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogSW5wdXQgKG9yIGlucHV0cykgdG8gY2xhc3NpZnkuIENhbiBiZSBhIHNpbmdsZSBzdHJpbmcsIGFuIGFycmF5IG9mIHN0cmluZ3MsIG9yXG4gICAqIGFuIGFycmF5IG9mIG11bHRpLW1vZGFsIGlucHV0IG9iamVjdHMgc2ltaWxhciB0byBvdGhlciBtb2RlbHMuXG4gICAqL1xuICBpbnB1dDogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPiB8IEFycmF5PE1vZGVyYXRpb25NdWx0aU1vZGFsSW5wdXQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBtb2RlcmF0aW9uIG1vZGVsIHlvdSB3b3VsZCBsaWtlIHRvIHVzZS4gTGVhcm4gbW9yZSBpblxuICAgKiBbdGhlIG1vZGVyYXRpb24gZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9tb2RlcmF0aW9uKSwgYW5kXG4gICAqIGxlYXJuIGFib3V0IGF2YWlsYWJsZSBtb2RlbHNcbiAgICogW2hlcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscyNtb2RlcmF0aW9uKS5cbiAgICovXG4gIG1vZGVsPzogKHN0cmluZyAmIHt9KSB8IE1vZGVyYXRpb25Nb2RlbDtcbn1cblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIE1vZGVyYXRpb25zIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIE1vZGVyYXRpb24gYXMgTW9kZXJhdGlvbixcbiAgICB0eXBlIE1vZGVyYXRpb25JbWFnZVVSTElucHV0IGFzIE1vZGVyYXRpb25JbWFnZVVSTElucHV0LFxuICAgIHR5cGUgTW9kZXJhdGlvbk1vZGVsIGFzIE1vZGVyYXRpb25Nb2RlbCxcbiAgICB0eXBlIE1vZGVyYXRpb25NdWx0aU1vZGFsSW5wdXQgYXMgTW9kZXJhdGlvbk11bHRpTW9kYWxJbnB1dCxcbiAgICB0eXBlIE1vZGVyYXRpb25UZXh0SW5wdXQgYXMgTW9kZXJhdGlvblRleHRJbnB1dCxcbiAgICB0eXBlIE1vZGVyYXRpb25DcmVhdGVSZXNwb25zZSBhcyBNb2RlcmF0aW9uQ3JlYXRlUmVzcG9uc2UsXG4gICAgdHlwZSBNb2RlcmF0aW9uQ3JlYXRlUGFyYW1zIGFzIE1vZGVyYXRpb25DcmVhdGVQYXJhbXMsXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgT3BlbkFJRXJyb3IgfSBmcm9tICcuLi9lcnJvcic7XG5pbXBvcnQgdHlwZSB7IENoYXRDb21wbGV0aW9uVG9vbCB9IGZyb20gJy4uL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zJztcbmltcG9ydCB7XG4gIHR5cGUgRnVuY3Rpb25Ub29sLFxuICB0eXBlIFBhcnNlZENvbnRlbnQsXG4gIHR5cGUgUGFyc2VkUmVzcG9uc2UsXG4gIHR5cGUgUGFyc2VkUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsLFxuICB0eXBlIFBhcnNlZFJlc3BvbnNlT3V0cHV0SXRlbSxcbiAgdHlwZSBSZXNwb25zZSxcbiAgdHlwZSBSZXNwb25zZUNyZWF0ZVBhcmFtc0Jhc2UsXG4gIHR5cGUgUmVzcG9uc2VDcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gIHR5cGUgUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsLFxuICB0eXBlIFRvb2wsXG59IGZyb20gJy4uL3Jlc291cmNlcy9yZXNwb25zZXMvcmVzcG9uc2VzJztcbmltcG9ydCB7IHR5cGUgQXV0b1BhcnNlYWJsZVRleHRGb3JtYXQsIGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQgfSBmcm9tICcuLi9saWIvcGFyc2VyJztcblxudHlwZSBQYXJzZWFibGVUb29sc1BhcmFtcyA9IEFycmF5PFRvb2w+IHwgQ2hhdENvbXBsZXRpb25Ub29sIHwgbnVsbDtcblxuZXhwb3J0IHR5cGUgUmVzcG9uc2VDcmVhdGVQYXJhbXNXaXRoVG9vbHMgPSBSZXNwb25zZUNyZWF0ZVBhcmFtc0Jhc2UgJiB7XG4gIHRvb2xzPzogUGFyc2VhYmxlVG9vbHNQYXJhbXM7XG59O1xuXG5leHBvcnQgdHlwZSBFeHRyYWN0UGFyc2VkQ29udGVudEZyb21QYXJhbXM8UGFyYW1zIGV4dGVuZHMgUmVzcG9uc2VDcmVhdGVQYXJhbXNXaXRoVG9vbHM+ID1cbiAgTm9uTnVsbGFibGU8UGFyYW1zWyd0ZXh0J10+Wydmb3JtYXQnXSBleHRlbmRzIEF1dG9QYXJzZWFibGVUZXh0Rm9ybWF0PGluZmVyIFA+ID8gUCA6IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXliZVBhcnNlUmVzcG9uc2U8XG4gIFBhcmFtcyBleHRlbmRzIFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSB8IG51bGwsXG4gIFBhcnNlZFQgPSBQYXJhbXMgZXh0ZW5kcyBudWxsID8gbnVsbCA6IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxOb25OdWxsYWJsZTxQYXJhbXM+Pixcbj4ocmVzcG9uc2U6IFJlc3BvbnNlLCBwYXJhbXM6IFBhcmFtcyk6IFBhcnNlZFJlc3BvbnNlPFBhcnNlZFQ+IHtcbiAgaWYgKCFwYXJhbXMgfHwgIWhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXMpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgb3V0cHV0X3BhcnNlZDogbnVsbCxcbiAgICAgIG91dHB1dDogcmVzcG9uc2Uub3V0cHV0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IG51bGwsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgY29udGVudDogaXRlbS5jb250ZW50Lm1hcCgoY29udGVudCkgPT4gKHtcbiAgICAgICAgICAgICAgLi4uY29udGVudCxcbiAgICAgICAgICAgICAgcGFyc2VkOiBudWxsLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gcGFyc2VSZXNwb25zZShyZXNwb25zZSwgcGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVzcG9uc2U8XG4gIFBhcmFtcyBleHRlbmRzIFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSxcbiAgUGFyc2VkVCA9IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXM+LFxuPihyZXNwb25zZTogUmVzcG9uc2UsIHBhcmFtczogUGFyYW1zKTogUGFyc2VkUmVzcG9uc2U8UGFyc2VkVD4ge1xuICBjb25zdCBvdXRwdXQ6IEFycmF5PFBhcnNlZFJlc3BvbnNlT3V0cHV0SXRlbTxQYXJzZWRUPj4gPSByZXNwb25zZS5vdXRwdXQubWFwKFxuICAgIChpdGVtKTogUGFyc2VkUmVzcG9uc2VPdXRwdXRJdGVtPFBhcnNlZFQ+ID0+IHtcbiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogcGFyc2VUb29sQ2FsbChwYXJhbXMsIGl0ZW0pLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQ6IEFycmF5PFBhcnNlZENvbnRlbnQ8UGFyc2VkVD4+ID0gaXRlbS5jb250ZW50Lm1hcCgoY29udGVudCkgPT4ge1xuICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmNvbnRlbnQsXG4gICAgICAgICAgICAgIHBhcnNlZDogcGFyc2VUZXh0Rm9ybWF0KHBhcmFtcywgY29udGVudC50ZXh0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICBjb250ZW50LFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IHBhcnNlZDogT21pdDxQYXJzZWRSZXNwb25zZTxQYXJzZWRUPiwgJ291dHB1dF9wYXJzZWQnPiA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLCB7IG91dHB1dCB9KTtcbiAgaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlc3BvbnNlLCAnb3V0cHV0X3RleHQnKSkge1xuICAgIGFkZE91dHB1dFRleHQocGFyc2VkKTtcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYXJzZWQsICdvdXRwdXRfcGFyc2VkJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0KCkge1xuICAgICAgZm9yIChjb25zdCBvdXRwdXQgb2YgcGFyc2VkLm91dHB1dCkge1xuICAgICAgICBpZiAob3V0cHV0LnR5cGUgIT09ICdtZXNzYWdlJykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBjb250ZW50IG9mIG91dHB1dC5jb250ZW50KSB7XG4gICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ291dHB1dF90ZXh0JyAmJiBjb250ZW50LnBhcnNlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQucGFyc2VkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkIGFzIFBhcnNlZFJlc3BvbnNlPFBhcnNlZFQ+O1xufVxuXG5mdW5jdGlvbiBwYXJzZVRleHRGb3JtYXQ8XG4gIFBhcmFtcyBleHRlbmRzIFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSxcbiAgUGFyc2VkVCA9IEV4dHJhY3RQYXJzZWRDb250ZW50RnJvbVBhcmFtczxQYXJhbXM+LFxuPihwYXJhbXM6IFBhcmFtcywgY29udGVudDogc3RyaW5nKTogUGFyc2VkVCB8IG51bGwge1xuICBpZiAocGFyYW1zLnRleHQ/LmZvcm1hdD8udHlwZSAhPT0gJ2pzb25fc2NoZW1hJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKCckcGFyc2VSYXcnIGluIHBhcmFtcy50ZXh0Py5mb3JtYXQpIHtcbiAgICBjb25zdCB0ZXh0X2Zvcm1hdCA9IHBhcmFtcy50ZXh0Py5mb3JtYXQgYXMgdW5rbm93biBhcyBBdXRvUGFyc2VhYmxlVGV4dEZvcm1hdDxQYXJzZWRUPjtcbiAgICByZXR1cm4gdGV4dF9mb3JtYXQuJHBhcnNlUmF3KGNvbnRlbnQpO1xuICB9XG5cbiAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zOiBSZXNwb25zZUNyZWF0ZVBhcmFtc1dpdGhUb29scyk6IGJvb2xlYW4ge1xuICBpZiAoaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdChwYXJhbXMudGV4dD8uZm9ybWF0KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG50eXBlIFRvb2xPcHRpb25zID0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIGFyZ3VtZW50czogYW55O1xuICBmdW5jdGlvbj86ICgoYXJnczogYW55KSA9PiBhbnkpIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgQXV0b1BhcnNlYWJsZVJlc3BvbnNlVG9vbDxcbiAgT3B0aW9uc1QgZXh0ZW5kcyBUb29sT3B0aW9ucyxcbiAgSGFzRnVuY3Rpb24gPSBPcHRpb25zVFsnZnVuY3Rpb24nXSBleHRlbmRzIEZ1bmN0aW9uID8gdHJ1ZSA6IGZhbHNlLFxuPiA9IEZ1bmN0aW9uVG9vbCAmIHtcbiAgX19hcmd1bWVudHM6IE9wdGlvbnNUWydhcmd1bWVudHMnXTsgLy8gdHlwZS1sZXZlbCBvbmx5XG4gIF9fbmFtZTogT3B0aW9uc1RbJ25hbWUnXTsgLy8gdHlwZS1sZXZlbCBvbmx5XG5cbiAgJGJyYW5kOiAnYXV0by1wYXJzZWFibGUtdG9vbCc7XG4gICRjYWxsYmFjazogKChhcmdzOiBPcHRpb25zVFsnYXJndW1lbnRzJ10pID0+IGFueSkgfCB1bmRlZmluZWQ7XG4gICRwYXJzZVJhdyhhcmdzOiBzdHJpbmcpOiBPcHRpb25zVFsnYXJndW1lbnRzJ107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVJlc3BvbnNlVG9vbDxPcHRpb25zVCBleHRlbmRzIFRvb2xPcHRpb25zPihcbiAgdG9vbDogRnVuY3Rpb25Ub29sLFxuICB7XG4gICAgcGFyc2VyLFxuICAgIGNhbGxiYWNrLFxuICB9OiB7XG4gICAgcGFyc2VyOiAoY29udGVudDogc3RyaW5nKSA9PiBPcHRpb25zVFsnYXJndW1lbnRzJ107XG4gICAgY2FsbGJhY2s6ICgoYXJnczogYW55KSA9PiBhbnkpIHwgdW5kZWZpbmVkO1xuICB9LFxuKTogQXV0b1BhcnNlYWJsZVJlc3BvbnNlVG9vbDxPcHRpb25zVFsnYXJndW1lbnRzJ10+IHtcbiAgY29uc3Qgb2JqID0geyAuLi50b29sIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgJGJyYW5kOiB7XG4gICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXRvb2wnLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSxcbiAgICAkcGFyc2VSYXc6IHtcbiAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9LFxuICAgICRjYWxsYmFjazoge1xuICAgICAgdmFsdWU6IGNhbGxiYWNrLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIG9iaiBhcyBBdXRvUGFyc2VhYmxlUmVzcG9uc2VUb29sPE9wdGlvbnNUWydhcmd1bWVudHMnXT47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVRvb2wodG9vbDogYW55KTogdG9vbCBpcyBBdXRvUGFyc2VhYmxlUmVzcG9uc2VUb29sPGFueT4ge1xuICByZXR1cm4gdG9vbD8uWyckYnJhbmQnXSA9PT0gJ2F1dG8tcGFyc2VhYmxlLXRvb2wnO1xufVxuXG5mdW5jdGlvbiBnZXRJbnB1dFRvb2xCeU5hbWUoaW5wdXRfdG9vbHM6IEFycmF5PFRvb2w+LCBuYW1lOiBzdHJpbmcpOiBGdW5jdGlvblRvb2wgfCB1bmRlZmluZWQge1xuICByZXR1cm4gaW5wdXRfdG9vbHMuZmluZCgodG9vbCkgPT4gdG9vbC50eXBlID09PSAnZnVuY3Rpb24nICYmIHRvb2wubmFtZSA9PT0gbmFtZSkgYXNcbiAgICB8IEZ1bmN0aW9uVG9vbFxuICAgIHwgdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRvb2xDYWxsPFBhcmFtcyBleHRlbmRzIFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZT4oXG4gIHBhcmFtczogUGFyYW1zLFxuICB0b29sQ2FsbDogUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsLFxuKTogUGFyc2VkUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsIHtcbiAgY29uc3QgaW5wdXRUb29sID0gZ2V0SW5wdXRUb29sQnlOYW1lKHBhcmFtcy50b29scyA/PyBbXSwgdG9vbENhbGwubmFtZSk7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi50b29sQ2FsbCxcbiAgICAuLi50b29sQ2FsbCxcbiAgICBwYXJzZWRfYXJndW1lbnRzOlxuICAgICAgaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgPyBpbnB1dFRvb2wuJHBhcnNlUmF3KHRvb2xDYWxsLmFyZ3VtZW50cylcbiAgICAgIDogaW5wdXRUb29sPy5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsLmFyZ3VtZW50cylcbiAgICAgIDogbnVsbCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFBhcnNlVG9vbENhbGwoXG4gIHBhcmFtczogUmVzcG9uc2VDcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgfCBudWxsIHwgdW5kZWZpbmVkLFxuICB0b29sQ2FsbDogUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsLFxuKTogYm9vbGVhbiB7XG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgaW5wdXRUb29sID0gZ2V0SW5wdXRUb29sQnlOYW1lKHBhcmFtcy50b29scyA/PyBbXSwgdG9vbENhbGwubmFtZSk7XG4gIHJldHVybiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSB8fCBpbnB1dFRvb2w/LnN0cmljdCB8fCBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRUb29scyh0b29sczogQ2hhdENvbXBsZXRpb25Ub29sW10gfCB1bmRlZmluZWQpIHtcbiAgZm9yIChjb25zdCB0b29sIG9mIHRvb2xzID8/IFtdKSB7XG4gICAgaWYgKHRvb2wudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKFxuICAgICAgICBgQ3VycmVudGx5IG9ubHkgXFxgZnVuY3Rpb25cXGAgdG9vbCB0eXBlcyBzdXBwb3J0IGF1dG8tcGFyc2luZzsgUmVjZWl2ZWQgXFxgJHt0b29sLnR5cGV9XFxgYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRvb2wuZnVuY3Rpb24uc3RyaWN0ICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgIGBUaGUgXFxgJHt0b29sLmZ1bmN0aW9uLm5hbWV9XFxgIHRvb2wgaXMgbm90IG1hcmtlZCB3aXRoIFxcYHN0cmljdDogdHJ1ZVxcYC4gT25seSBzdHJpY3QgZnVuY3Rpb24gdG9vbHMgY2FuIGJlIGF1dG8tcGFyc2VkYCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRPdXRwdXRUZXh0KHJzcDogUmVzcG9uc2UpOiB2b2lkIHtcbiAgY29uc3QgdGV4dHM6IHN0cmluZ1tdID0gW107XG4gIGZvciAoY29uc3Qgb3V0cHV0IG9mIHJzcC5vdXRwdXQpIHtcbiAgICBpZiAob3V0cHV0LnR5cGUgIT09ICdtZXNzYWdlJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjb250ZW50IG9mIG91dHB1dC5jb250ZW50KSB7XG4gICAgICBpZiAoY29udGVudC50eXBlID09PSAnb3V0cHV0X3RleHQnKSB7XG4gICAgICAgIHRleHRzLnB1c2goY29udGVudC50ZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByc3Aub3V0cHV0X3RleHQgPSB0ZXh0cy5qb2luKCcnKTtcbn1cbiIsICIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJy4uLy4uL3Jlc291cmNlJztcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBSZXNwb25zZXNBUEkgZnJvbSAnLi9yZXNwb25zZXMnO1xuaW1wb3J0IHsgUmVzcG9uc2VJdGVtc1BhZ2UgfSBmcm9tICcuL3Jlc3BvbnNlcyc7XG5pbXBvcnQgeyB0eXBlIEN1cnNvclBhZ2VQYXJhbXMgfSBmcm9tICcuLi8uLi9wYWdpbmF0aW9uJztcblxuZXhwb3J0IGNsYXNzIElucHV0SXRlbXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBpbnB1dCBpdGVtcyBmb3IgYSBnaXZlbiByZXNwb25zZS5cbiAgICovXG4gIGxpc3QoXG4gICAgcmVzcG9uc2VJZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogSW5wdXRJdGVtTGlzdFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxSZXNwb25zZUl0ZW1zUGFnZSwgUmVzcG9uc2VzQVBJLlJlc3BvbnNlSXRlbT47XG4gIGxpc3QoXG4gICAgcmVzcG9uc2VJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFJlc3BvbnNlSXRlbXNQYWdlLCBSZXNwb25zZXNBUEkuUmVzcG9uc2VJdGVtPjtcbiAgbGlzdChcbiAgICByZXNwb25zZUlkOiBzdHJpbmcsXG4gICAgcXVlcnk6IElucHV0SXRlbUxpc3RQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8UmVzcG9uc2VJdGVtc1BhZ2UsIFJlc3BvbnNlc0FQSS5SZXNwb25zZUl0ZW0+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3QocmVzcG9uc2VJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvcmVzcG9uc2VzLyR7cmVzcG9uc2VJZH0vaW5wdXRfaXRlbXNgLCBSZXNwb25zZUl0ZW1zUGFnZSwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQSBsaXN0IG9mIFJlc3BvbnNlIGl0ZW1zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlSXRlbUxpc3Qge1xuICAvKipcbiAgICogQSBsaXN0IG9mIGl0ZW1zIHVzZWQgdG8gZ2VuZXJhdGUgdGhpcyByZXNwb25zZS5cbiAgICovXG4gIGRhdGE6IEFycmF5PFJlc3BvbnNlc0FQSS5SZXNwb25zZUl0ZW0+O1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGxpc3QuXG4gICAqL1xuICBmaXJzdF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZXJlIGFyZSBtb3JlIGl0ZW1zIGF2YWlsYWJsZS5cbiAgICovXG4gIGhhc19tb3JlOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGxhc3QgaXRlbSBpbiB0aGUgbGlzdC5cbiAgICovXG4gIGxhc3RfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2Ygb2JqZWN0IHJldHVybmVkLCBtdXN0IGJlIGBsaXN0YC5cbiAgICovXG4gIG9iamVjdDogJ2xpc3QnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElucHV0SXRlbUxpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEFuIGl0ZW0gSUQgdG8gbGlzdCBpdGVtcyBiZWZvcmUsIHVzZWQgaW4gcGFnaW5hdGlvbi5cbiAgICovXG4gIGJlZm9yZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9yZGVyIHRvIHJldHVybiB0aGUgaW5wdXQgaXRlbXMgaW4uIERlZmF1bHQgaXMgYGFzY2AuXG4gICAqXG4gICAqIC0gYGFzY2A6IFJldHVybiB0aGUgaW5wdXQgaXRlbXMgaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgKiAtIGBkZXNjYDogUmV0dXJuIHRoZSBpbnB1dCBpdGVtcyBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcbn1cblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIElucHV0SXRlbXMge1xuICBleHBvcnQgeyB0eXBlIFJlc3BvbnNlSXRlbUxpc3QgYXMgUmVzcG9uc2VJdGVtTGlzdCwgdHlwZSBJbnB1dEl0ZW1MaXN0UGFyYW1zIGFzIElucHV0SXRlbUxpc3RQYXJhbXMgfTtcbn1cblxuZXhwb3J0IHsgUmVzcG9uc2VJdGVtc1BhZ2UgfTtcbiIsICJpbXBvcnQge1xuICB0eXBlIFBhcnNlZFJlc3BvbnNlLFxuICB0eXBlIFJlc3BvbnNlLFxuICB0eXBlIFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSxcbiAgdHlwZSBSZXNwb25zZUNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgdHlwZSBSZXNwb25zZVN0cmVhbUV2ZW50LFxufSBmcm9tICcuLi8uLi9yZXNvdXJjZXMvcmVzcG9uc2VzL3Jlc3BvbnNlcyc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgQVBJVXNlckFib3J0RXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3InO1xuaW1wb3J0IE9wZW5BSSBmcm9tICcuLi8uLi9pbmRleCc7XG5pbXBvcnQgeyB0eXBlIEJhc2VFdmVudHMsIEV2ZW50U3RyZWFtIH0gZnJvbSAnLi4vRXZlbnRTdHJlYW0nO1xuaW1wb3J0IHsgdHlwZSBSZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnQsIHR5cGUgUmVzcG9uc2VUZXh0RGVsdGFFdmVudCB9IGZyb20gJy4vRXZlbnRUeXBlcyc7XG5pbXBvcnQgeyBtYXliZVBhcnNlUmVzcG9uc2UgfSBmcm9tICcuLi9SZXNwb25zZXNQYXJzZXInO1xuXG5leHBvcnQgdHlwZSBSZXNwb25zZVN0cmVhbVBhcmFtcyA9IE9taXQ8UmVzcG9uc2VDcmVhdGVQYXJhbXNCYXNlLCAnc3RyZWFtJz4gJiB7XG4gIHN0cmVhbT86IHRydWU7XG59O1xuXG50eXBlIFJlc3BvbnNlRXZlbnRzID0gQmFzZUV2ZW50cyAmXG4gIE9taXQ8XG4gICAge1xuICAgICAgW0sgaW4gUmVzcG9uc2VTdHJlYW1FdmVudFsndHlwZSddXTogKGV2ZW50OiBFeHRyYWN0PFJlc3BvbnNlU3RyZWFtRXZlbnQsIHsgdHlwZTogSyB9PikgPT4gdm9pZDtcbiAgICB9LFxuICAgICdyZXNwb25zZS5vdXRwdXRfdGV4dC5kZWx0YScgfCAncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZGVsdGEnXG4gID4gJiB7XG4gICAgZXZlbnQ6IChldmVudDogUmVzcG9uc2VTdHJlYW1FdmVudCkgPT4gdm9pZDtcbiAgICAncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnOiAoZXZlbnQ6IFJlc3BvbnNlVGV4dERlbHRhRXZlbnQpID0+IHZvaWQ7XG4gICAgJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJzogKGV2ZW50OiBSZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnQpID0+IHZvaWQ7XG4gIH07XG5cbmV4cG9ydCB0eXBlIFJlc3BvbnNlU3RyZWFtaW5nUGFyYW1zID0gT21pdDxSZXNwb25zZUNyZWF0ZVBhcmFtc0Jhc2UsICdzdHJlYW0nPiAmIHtcbiAgc3RyZWFtPzogdHJ1ZTtcbn07XG5cbmV4cG9ydCBjbGFzcyBSZXNwb25zZVN0cmVhbTxQYXJzZWRUID0gbnVsbD5cbiAgZXh0ZW5kcyBFdmVudFN0cmVhbTxSZXNwb25zZUV2ZW50cz5cbiAgaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlPFJlc3BvbnNlU3RyZWFtRXZlbnQ+XG57XG4gICNwYXJhbXM6IFJlc3BvbnNlU3RyZWFtaW5nUGFyYW1zIHwgbnVsbDtcbiAgI2N1cnJlbnRSZXNwb25zZVNuYXBzaG90OiBSZXNwb25zZSB8IHVuZGVmaW5lZDtcbiAgI2ZpbmFsUmVzcG9uc2U6IFBhcnNlZFJlc3BvbnNlPFBhcnNlZFQ+IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKHBhcmFtczogUmVzcG9uc2VTdHJlYW1pbmdQYXJhbXMgfCBudWxsKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLiNwYXJhbXMgPSBwYXJhbXM7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlUmVzcG9uc2U8UGFyc2VkVD4oXG4gICAgY2xpZW50OiBPcGVuQUksXG4gICAgcGFyYW1zOiBSZXNwb25zZVN0cmVhbVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUmVzcG9uc2VTdHJlYW08UGFyc2VkVD4ge1xuICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBSZXNwb25zZVN0cmVhbTxQYXJzZWRUPihwYXJhbXMgYXMgUmVzcG9uc2VDcmVhdGVQYXJhbXNTdHJlYW1pbmcpO1xuICAgIHJ1bm5lci5fcnVuKCgpID0+XG4gICAgICBydW5uZXIuX2NyZWF0ZVJlc3BvbnNlKGNsaWVudCwgcGFyYW1zLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnc3RyZWFtJyB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgICByZXR1cm4gcnVubmVyO1xuICB9XG5cbiAgI2JlZ2luUmVxdWVzdCgpIHtcbiAgICBpZiAodGhpcy5lbmRlZCkgcmV0dXJuO1xuICAgIHRoaXMuI2N1cnJlbnRSZXNwb25zZVNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgI2FkZEV2ZW50KHRoaXM6IFJlc3BvbnNlU3RyZWFtPFBhcnNlZFQ+LCBldmVudDogUmVzcG9uc2VTdHJlYW1FdmVudCkge1xuICAgIGlmICh0aGlzLmVuZGVkKSByZXR1cm47XG5cbiAgICBjb25zdCByZXNwb25zZSA9IHRoaXMuI2FjY3VtdWxhdGVSZXNwb25zZShldmVudCk7XG4gICAgdGhpcy5fZW1pdCgnZXZlbnQnLCBldmVudCk7XG5cbiAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmRlbHRhJzoge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSByZXNwb25zZS5vdXRwdXRbZXZlbnQub3V0cHV0X2luZGV4XTtcbiAgICAgICAgaWYgKCFvdXRwdXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGF0IGluZGV4ICR7ZXZlbnQub3V0cHV0X2luZGV4fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IG91dHB1dC5jb250ZW50W2V2ZW50LmNvbnRlbnRfaW5kZXhdO1xuICAgICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGNvbnRlbnQgYXQgaW5kZXggJHtldmVudC5jb250ZW50X2luZGV4fWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29udGVudC50eXBlICE9PSAnb3V0cHV0X3RleHQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYGV4cGVjdGVkIGNvbnRlbnQgdG8gYmUgJ291dHB1dF90ZXh0JywgZ290ICR7Y29udGVudC50eXBlfWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX2VtaXQoJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmRlbHRhJywge1xuICAgICAgICAgICAgLi4uZXZlbnQsXG4gICAgICAgICAgICBzbmFwc2hvdDogY29udGVudC50ZXh0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZGVsdGEnOiB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHJlc3BvbnNlLm91dHB1dFtldmVudC5vdXRwdXRfaW5kZXhdO1xuICAgICAgICBpZiAoIW91dHB1dCkge1xuICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBvdXRwdXQgYXQgaW5kZXggJHtldmVudC5vdXRwdXRfaW5kZXh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICB0aGlzLl9lbWl0KCdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YScsIHtcbiAgICAgICAgICAgIC4uLmV2ZW50LFxuICAgICAgICAgICAgc25hcHNob3Q6IG91dHB1dC5hcmd1bWVudHMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuX2VtaXQoZXZlbnQudHlwZSwgZXZlbnQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAjZW5kUmVxdWVzdCgpOiBQYXJzZWRSZXNwb25zZTxQYXJzZWRUPiB7XG4gICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgc3RyZWFtIGhhcyBlbmRlZCwgdGhpcyBzaG91bGRuJ3QgaGFwcGVuYCk7XG4gICAgfVxuICAgIGNvbnN0IHNuYXBzaG90ID0gdGhpcy4jY3VycmVudFJlc3BvbnNlU25hcHNob3Q7XG4gICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGByZXF1ZXN0IGVuZGVkIHdpdGhvdXQgc2VuZGluZyBhbnkgZXZlbnRzYCk7XG4gICAgfVxuICAgIHRoaXMuI2N1cnJlbnRSZXNwb25zZVNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHBhcnNlZFJlc3BvbnNlID0gZmluYWxpemVSZXNwb25zZTxQYXJzZWRUPihzbmFwc2hvdCwgdGhpcy4jcGFyYW1zKTtcbiAgICB0aGlzLiNmaW5hbFJlc3BvbnNlID0gcGFyc2VkUmVzcG9uc2U7XG5cbiAgICByZXR1cm4gcGFyc2VkUmVzcG9uc2U7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgX2NyZWF0ZVJlc3BvbnNlKFxuICAgIGNsaWVudDogT3BlbkFJLFxuICAgIHBhcmFtczogUmVzcG9uc2VTdHJlYW1pbmdQYXJhbXMsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IFByb21pc2U8UGFyc2VkUmVzcG9uc2U8UGFyc2VkVD4+IHtcbiAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgaWYgKHNpZ25hbCkge1xuICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICB9XG4gICAgdGhpcy4jYmVnaW5SZXF1ZXN0KCk7XG5cbiAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBjbGllbnQucmVzcG9uc2VzLmNyZWF0ZShcbiAgICAgIHsgLi4ucGFyYW1zLCBzdHJlYW06IHRydWUgfSxcbiAgICAgIHsgLi4ub3B0aW9ucywgc2lnbmFsOiB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsIH0sXG4gICAgKTtcbiAgICB0aGlzLl9jb25uZWN0ZWQoKTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgdGhpcy4jYWRkRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgICBpZiAoc3RyZWFtLmNvbnRyb2xsZXIuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuI2VuZFJlcXVlc3QoKTtcbiAgfVxuXG4gICNhY2N1bXVsYXRlUmVzcG9uc2UoZXZlbnQ6IFJlc3BvbnNlU3RyZWFtRXZlbnQpOiBSZXNwb25zZSB7XG4gICAgbGV0IHNuYXBzaG90ID0gdGhpcy4jY3VycmVudFJlc3BvbnNlU25hcHNob3Q7XG4gICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdyZXNwb25zZS5jcmVhdGVkJykge1xuICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoXG4gICAgICAgICAgYFdoZW4gc25hcHNob3QgaGFzbid0IGJlZW4gc2V0IHlldCwgZXhwZWN0ZWQgJ3Jlc3BvbnNlLmNyZWF0ZWQnIGV2ZW50LCBnb3QgJHtldmVudC50eXBlfWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBzbmFwc2hvdCA9IHRoaXMuI2N1cnJlbnRSZXNwb25zZVNuYXBzaG90ID0gZXZlbnQucmVzcG9uc2U7XG4gICAgICByZXR1cm4gc25hcHNob3Q7XG4gICAgfVxuXG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICBjYXNlICdyZXNwb25zZS5vdXRwdXRfaXRlbS5hZGRlZCc6IHtcbiAgICAgICAgc25hcHNob3Qub3V0cHV0LnB1c2goZXZlbnQuaXRlbSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAncmVzcG9uc2UuY29udGVudF9wYXJ0LmFkZGVkJzoge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBzbmFwc2hvdC5vdXRwdXRbZXZlbnQub3V0cHV0X2luZGV4XTtcbiAgICAgICAgaWYgKCFvdXRwdXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGF0IGluZGV4ICR7ZXZlbnQub3V0cHV0X2luZGV4fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgb3V0cHV0LmNvbnRlbnQucHVzaChldmVudC5wYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmRlbHRhJzoge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBzbmFwc2hvdC5vdXRwdXRbZXZlbnQub3V0cHV0X2luZGV4XTtcbiAgICAgICAgaWYgKCFvdXRwdXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGF0IGluZGV4ICR7ZXZlbnQub3V0cHV0X2luZGV4fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IG91dHB1dC5jb250ZW50W2V2ZW50LmNvbnRlbnRfaW5kZXhdO1xuICAgICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGNvbnRlbnQgYXQgaW5kZXggJHtldmVudC5jb250ZW50X2luZGV4fWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29udGVudC50eXBlICE9PSAnb3V0cHV0X3RleHQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYGV4cGVjdGVkIGNvbnRlbnQgdG8gYmUgJ291dHB1dF90ZXh0JywgZ290ICR7Y29udGVudC50eXBlfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250ZW50LnRleHQgKz0gZXZlbnQuZGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YSc6IHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gc25hcHNob3Qub3V0cHV0W2V2ZW50Lm91dHB1dF9pbmRleF07XG4gICAgICAgIGlmICghb3V0cHV0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG91dHB1dCBhdCBpbmRleCAke2V2ZW50Lm91dHB1dF9pbmRleH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgIG91dHB1dC5hcmd1bWVudHMgKz0gZXZlbnQuZGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdyZXNwb25zZS5jb21wbGV0ZWQnOiB7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRSZXNwb25zZVNuYXBzaG90ID0gZXZlbnQucmVzcG9uc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzbmFwc2hvdDtcbiAgfVxuXG4gIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0odGhpczogUmVzcG9uc2VTdHJlYW08UGFyc2VkVD4pOiBBc3luY0l0ZXJhdG9yPFJlc3BvbnNlU3RyZWFtRXZlbnQ+IHtcbiAgICBjb25zdCBwdXNoUXVldWU6IFJlc3BvbnNlU3RyZWFtRXZlbnRbXSA9IFtdO1xuICAgIGNvbnN0IHJlYWRRdWV1ZToge1xuICAgICAgcmVzb2x2ZTogKGV2ZW50OiBSZXNwb25zZVN0cmVhbUV2ZW50IHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xuICAgICAgcmVqZWN0OiAoZXJyOiB1bmtub3duKSA9PiB2b2lkO1xuICAgIH1bXSA9IFtdO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG5cbiAgICB0aGlzLm9uKCdldmVudCcsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgcmVhZGVyID0gcmVhZFF1ZXVlLnNoaWZ0KCk7XG4gICAgICBpZiAocmVhZGVyKSB7XG4gICAgICAgIHJlYWRlci5yZXNvbHZlKGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHB1c2hRdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgIHJlYWRlci5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2Fib3J0JywgKGVycikgPT4ge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgcmVhZGVyLnJlamVjdChlcnIpO1xuICAgICAgfVxuICAgICAgcmVhZFF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGFzeW5jICgpOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PFJlc3BvbnNlU3RyZWFtRXZlbnQ+PiA9PiB7XG4gICAgICAgIGlmICghcHVzaFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxSZXNwb25zZVN0cmVhbUV2ZW50IHwgdW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PlxuICAgICAgICAgICAgcmVhZFF1ZXVlLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSksXG4gICAgICAgICAgKS50aGVuKChldmVudCkgPT4gKGV2ZW50ID8geyB2YWx1ZTogZXZlbnQsIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gcHVzaFF1ZXVlLnNoaWZ0KCkhO1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogZXZlbnQsIGRvbmU6IGZhbHNlIH07XG4gICAgICB9LFxuICAgICAgcmV0dXJuOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGZpbmFsIFJlc3BvbnNlLCBvciByZWplY3RzXG4gICAqIGlmIGFuIGVycm9yIG9jY3VycmVkIG9yIHRoZSBzdHJlYW0gZW5kZWQgcHJlbWF0dXJlbHkgd2l0aG91dCBwcm9kdWNpbmcgYSBSRXNwb25zZS5cbiAgICovXG4gIGFzeW5jIGZpbmFsUmVzcG9uc2UoKTogUHJvbWlzZTxQYXJzZWRSZXNwb25zZTxQYXJzZWRUPj4ge1xuICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gdGhpcy4jZmluYWxSZXNwb25zZTtcbiAgICBpZiAoIXJlc3BvbnNlKSB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoJ3N0cmVhbSBlbmRlZCB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uJyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmFsaXplUmVzcG9uc2U8UGFyc2VkVD4oXG4gIHNuYXBzaG90OiBSZXNwb25zZSxcbiAgcGFyYW1zOiBSZXNwb25zZVN0cmVhbWluZ1BhcmFtcyB8IG51bGwsXG4pOiBQYXJzZWRSZXNwb25zZTxQYXJzZWRUPiB7XG4gIHJldHVybiBtYXliZVBhcnNlUmVzcG9uc2Uoc25hcHNob3QsIHBhcmFtcyk7XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHtcbiAgdHlwZSBFeHRyYWN0UGFyc2VkQ29udGVudEZyb21QYXJhbXMsXG4gIHBhcnNlUmVzcG9uc2UsXG4gIHR5cGUgUmVzcG9uc2VDcmVhdGVQYXJhbXNXaXRoVG9vbHMsXG4gIGFkZE91dHB1dFRleHQsXG59IGZyb20gJy4uLy4uL2xpYi9SZXNwb25zZXNQYXJzZXInO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IEFQSVByb21pc2UsIGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gJy4uL3NoYXJlZCc7XG5pbXBvcnQgKiBhcyBJbnB1dEl0ZW1zQVBJIGZyb20gJy4vaW5wdXQtaXRlbXMnO1xuaW1wb3J0IHsgSW5wdXRJdGVtTGlzdFBhcmFtcywgSW5wdXRJdGVtcywgUmVzcG9uc2VJdGVtTGlzdCB9IGZyb20gJy4vaW5wdXQtaXRlbXMnO1xuaW1wb3J0ICogYXMgUmVzcG9uc2VzQVBJIGZyb20gJy4vcmVzcG9uc2VzJztcbmltcG9ydCB7IFJlc3BvbnNlU3RyZWFtLCBSZXNwb25zZVN0cmVhbVBhcmFtcyB9IGZyb20gJy4uLy4uL2xpYi9yZXNwb25zZXMvUmVzcG9uc2VTdHJlYW0nO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gJy4uLy4uL3BhZ2luYXRpb24nO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi4vLi4vc3RyZWFtaW5nJztcblxuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRSZXNwb25zZU91dHB1dFRleHQ8UGFyc2VkVD4gZXh0ZW5kcyBSZXNwb25zZU91dHB1dFRleHQge1xuICBwYXJzZWQ6IFBhcnNlZFQgfCBudWxsO1xufVxuXG5leHBvcnQgdHlwZSBQYXJzZWRDb250ZW50PFBhcnNlZFQ+ID0gUGFyc2VkUmVzcG9uc2VPdXRwdXRUZXh0PFBhcnNlZFQ+IHwgUmVzcG9uc2VPdXRwdXRSZWZ1c2FsO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBhcnNlZFJlc3BvbnNlT3V0cHV0TWVzc2FnZTxQYXJzZWRUPiBleHRlbmRzIFJlc3BvbnNlT3V0cHV0TWVzc2FnZSB7XG4gIGNvbnRlbnQ6IFBhcnNlZENvbnRlbnQ8UGFyc2VkVD5bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGwgZXh0ZW5kcyBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGwge1xuICBwYXJzZWRfYXJndW1lbnRzOiBhbnk7XG59XG5cbmV4cG9ydCB0eXBlIFBhcnNlZFJlc3BvbnNlT3V0cHV0SXRlbTxQYXJzZWRUPiA9XG4gIHwgUGFyc2VkUmVzcG9uc2VPdXRwdXRNZXNzYWdlPFBhcnNlZFQ+XG4gIHwgUGFyc2VkUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsXG4gIHwgUmVzcG9uc2VGaWxlU2VhcmNoVG9vbENhbGxcbiAgfCBSZXNwb25zZUZ1bmN0aW9uV2ViU2VhcmNoXG4gIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsXG4gIHwgUmVzcG9uc2VSZWFzb25pbmdJdGVtO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBhcnNlZFJlc3BvbnNlPFBhcnNlZFQ+IGV4dGVuZHMgUmVzcG9uc2Uge1xuICBvdXRwdXQ6IEFycmF5PFBhcnNlZFJlc3BvbnNlT3V0cHV0SXRlbTxQYXJzZWRUPj47XG5cbiAgb3V0cHV0X3BhcnNlZDogUGFyc2VkVCB8IG51bGw7XG59XG5cbmV4cG9ydCB0eXBlIFJlc3BvbnNlUGFyc2VQYXJhbXMgPSBSZXNwb25zZUNyZWF0ZVBhcmFtc05vblN0cmVhbWluZztcbmV4cG9ydCBjbGFzcyBSZXNwb25zZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIGlucHV0SXRlbXM6IElucHV0SXRlbXNBUEkuSW5wdXRJdGVtcyA9IG5ldyBJbnB1dEl0ZW1zQVBJLklucHV0SXRlbXModGhpcy5fY2xpZW50KTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG1vZGVsIHJlc3BvbnNlLiBQcm92aWRlXG4gICAqIFt0ZXh0XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dCkgb3JcbiAgICogW2ltYWdlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvaW1hZ2VzKSBpbnB1dHMgdG8gZ2VuZXJhdGVcbiAgICogW3RleHRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90ZXh0KSBvclxuICAgKiBbSlNPTl0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cykgb3V0cHV0cy4gSGF2ZVxuICAgKiB0aGUgbW9kZWwgY2FsbCB5b3VyIG93blxuICAgKiBbY3VzdG9tIGNvZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9mdW5jdGlvbi1jYWxsaW5nKSBvciB1c2VcbiAgICogYnVpbHQtaW4gW3Rvb2xzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMpIGxpa2VcbiAgICogW3dlYiBzZWFyY2hdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy13ZWItc2VhcmNoKSBvclxuICAgKiBbZmlsZSBzZWFyY2hdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy1maWxlLXNlYXJjaCkgdG8gdXNlXG4gICAqIHlvdXIgb3duIGRhdGEgYXMgaW5wdXQgZm9yIHRoZSBtb2RlbCdzIHJlc3BvbnNlLlxuICAgKi9cbiAgY3JlYXRlKGJvZHk6IFJlc3BvbnNlQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IEFQSVByb21pc2U8UmVzcG9uc2U+O1xuICBjcmVhdGUoXG4gICAgYm9keTogUmVzcG9uc2VDcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPFJlc3BvbnNlU3RyZWFtRXZlbnQ+PjtcbiAgY3JlYXRlKFxuICAgIGJvZHk6IFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08UmVzcG9uc2VTdHJlYW1FdmVudD4gfCBSZXNwb25zZT47XG4gIGNyZWF0ZShcbiAgICBib2R5OiBSZXNwb25zZUNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxSZXNwb25zZT4gfCBBUElQcm9taXNlPFN0cmVhbTxSZXNwb25zZVN0cmVhbUV2ZW50Pj4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLl9jbGllbnQucG9zdCgnL3Jlc3BvbnNlcycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KSBhc1xuICAgICAgICB8IEFQSVByb21pc2U8UmVzcG9uc2U+XG4gICAgICAgIHwgQVBJUHJvbWlzZTxTdHJlYW08UmVzcG9uc2VTdHJlYW1FdmVudD4+XG4gICAgKS5fdGhlblVud3JhcCgocnNwKSA9PiB7XG4gICAgICBpZiAoJ29iamVjdCcgaW4gcnNwICYmIHJzcC5vYmplY3QgPT09ICdyZXNwb25zZScpIHtcbiAgICAgICAgYWRkT3V0cHV0VGV4dChyc3AgYXMgUmVzcG9uc2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcnNwO1xuICAgIH0pIGFzIEFQSVByb21pc2U8UmVzcG9uc2U+IHwgQVBJUHJvbWlzZTxTdHJlYW08UmVzcG9uc2VTdHJlYW1FdmVudD4+O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIG1vZGVsIHJlc3BvbnNlIHdpdGggdGhlIGdpdmVuIElELlxuICAgKi9cbiAgcmV0cmlldmUoXG4gICAgcmVzcG9uc2VJZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogUmVzcG9uc2VSZXRyaWV2ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFJlc3BvbnNlPjtcbiAgcmV0cmlldmUocmVzcG9uc2VJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTxSZXNwb25zZT47XG4gIHJldHJpZXZlKFxuICAgIHJlc3BvbnNlSWQ6IHN0cmluZyxcbiAgICBxdWVyeTogUmVzcG9uc2VSZXRyaWV2ZVBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXRyaWV2ZShyZXNwb25zZUlkLCB7fSwgcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3Jlc3BvbnNlcy8ke3Jlc3BvbnNlSWR9YCwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgbW9kZWwgcmVzcG9uc2Ugd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqL1xuICBkZWwocmVzcG9uc2VJZDogc3RyaW5nLCBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuQVBJUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9yZXNwb25zZXMvJHtyZXNwb25zZUlkfWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJyovKicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHBhcnNlPFBhcmFtcyBleHRlbmRzIFJlc3BvbnNlQ3JlYXRlUGFyYW1zV2l0aFRvb2xzLCBQYXJzZWRUID0gRXh0cmFjdFBhcnNlZENvbnRlbnRGcm9tUGFyYW1zPFBhcmFtcz4+KFxuICAgIGJvZHk6IFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFBhcnNlZFJlc3BvbnNlPFBhcnNlZFQ+PiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5yZXNwb25zZXNcbiAgICAgIC5jcmVhdGUoYm9keSwgb3B0aW9ucylcbiAgICAgIC5fdGhlblVud3JhcCgocmVzcG9uc2UpID0+IHBhcnNlUmVzcG9uc2UocmVzcG9uc2UgYXMgUmVzcG9uc2UsIGJvZHkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2hhdCBjb21wbGV0aW9uIHN0cmVhbVxuICAgKi9cbiAgc3RyZWFtPFBhcmFtcyBleHRlbmRzIFJlc3BvbnNlU3RyZWFtUGFyYW1zLCBQYXJzZWRUID0gRXh0cmFjdFBhcnNlZENvbnRlbnRGcm9tUGFyYW1zPFBhcmFtcz4+KFxuICAgIGJvZHk6IFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogUmVzcG9uc2VTdHJlYW08UGFyc2VkVD4ge1xuICAgIHJldHVybiBSZXNwb25zZVN0cmVhbS5jcmVhdGVSZXNwb25zZTxQYXJzZWRUPih0aGlzLl9jbGllbnQsIGJvZHksIG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXNwb25zZUl0ZW1zUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8UmVzcG9uc2VJdGVtPiB7fVxuXG4vKipcbiAqIEEgdG9vbCB0aGF0IGNvbnRyb2xzIGEgdmlydHVhbCBjb21wdXRlci4gTGVhcm4gbW9yZSBhYm91dCB0aGVcbiAqIFtjb21wdXRlciB0b29sXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtY29tcHV0ZXItdXNlKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wdXRlclRvb2wge1xuICAvKipcbiAgICogVGhlIGhlaWdodCBvZiB0aGUgY29tcHV0ZXIgZGlzcGxheS5cbiAgICovXG4gIGRpc3BsYXlfaGVpZ2h0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB3aWR0aCBvZiB0aGUgY29tcHV0ZXIgZGlzcGxheS5cbiAgICovXG4gIGRpc3BsYXlfd2lkdGg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgY29tcHV0ZXIgZW52aXJvbm1lbnQgdG8gY29udHJvbC5cbiAgICovXG4gIGVudmlyb25tZW50OiAnbWFjJyB8ICd3aW5kb3dzJyB8ICd1YnVudHUnIHwgJ2Jyb3dzZXInO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgY29tcHV0ZXIgdXNlIHRvb2wuIEFsd2F5cyBgY29tcHV0ZXJfdXNlX3ByZXZpZXdgLlxuICAgKi9cbiAgdHlwZTogJ2NvbXB1dGVyLXByZXZpZXcnO1xufVxuXG4vKipcbiAqIEEgbWVzc2FnZSBpbnB1dCB0byB0aGUgbW9kZWwgd2l0aCBhIHJvbGUgaW5kaWNhdGluZyBpbnN0cnVjdGlvbiBmb2xsb3dpbmdcbiAqIGhpZXJhcmNoeS4gSW5zdHJ1Y3Rpb25zIGdpdmVuIHdpdGggdGhlIGBkZXZlbG9wZXJgIG9yIGBzeXN0ZW1gIHJvbGUgdGFrZVxuICogcHJlY2VkZW5jZSBvdmVyIGluc3RydWN0aW9ucyBnaXZlbiB3aXRoIHRoZSBgdXNlcmAgcm9sZS4gTWVzc2FnZXMgd2l0aCB0aGVcbiAqIGBhc3Npc3RhbnRgIHJvbGUgYXJlIHByZXN1bWVkIHRvIGhhdmUgYmVlbiBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGluIHByZXZpb3VzXG4gKiBpbnRlcmFjdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRWFzeUlucHV0TWVzc2FnZSB7XG4gIC8qKlxuICAgKiBUZXh0LCBpbWFnZSwgb3IgYXVkaW8gaW5wdXQgdG8gdGhlIG1vZGVsLCB1c2VkIHRvIGdlbmVyYXRlIGEgcmVzcG9uc2UuIENhbiBhbHNvXG4gICAqIGNvbnRhaW4gcHJldmlvdXMgYXNzaXN0YW50IHJlc3BvbnNlcy5cbiAgICovXG4gIGNvbnRlbnQ6IHN0cmluZyB8IFJlc3BvbnNlSW5wdXRNZXNzYWdlQ29udGVudExpc3Q7XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlIGlucHV0LiBPbmUgb2YgYHVzZXJgLCBgYXNzaXN0YW50YCwgYHN5c3RlbWAsIG9yXG4gICAqIGBkZXZlbG9wZXJgLlxuICAgKi9cbiAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCcgfCAnc3lzdGVtJyB8ICdkZXZlbG9wZXInO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgbWVzc2FnZSBpbnB1dC4gQWx3YXlzIGBtZXNzYWdlYC5cbiAgICovXG4gIHR5cGU/OiAnbWVzc2FnZSc7XG59XG5cbi8qKlxuICogQSB0b29sIHRoYXQgc2VhcmNoZXMgZm9yIHJlbGV2YW50IGNvbnRlbnQgZnJvbSB1cGxvYWRlZCBmaWxlcy4gTGVhcm4gbW9yZSBhYm91dFxuICogdGhlXG4gKiBbZmlsZSBzZWFyY2ggdG9vbF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLWZpbGUtc2VhcmNoKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlU2VhcmNoVG9vbCB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZmlsZSBzZWFyY2ggdG9vbC4gQWx3YXlzIGBmaWxlX3NlYXJjaGAuXG4gICAqL1xuICB0eXBlOiAnZmlsZV9zZWFyY2gnO1xuXG4gIC8qKlxuICAgKiBUaGUgSURzIG9mIHRoZSB2ZWN0b3Igc3RvcmVzIHRvIHNlYXJjaC5cbiAgICovXG4gIHZlY3Rvcl9zdG9yZV9pZHM6IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIEEgZmlsdGVyIHRvIGFwcGx5IGJhc2VkIG9uIGZpbGUgYXR0cmlidXRlcy5cbiAgICovXG4gIGZpbHRlcnM/OiBTaGFyZWQuQ29tcGFyaXNvbkZpbHRlciB8IFNoYXJlZC5Db21wb3VuZEZpbHRlcjtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc3VsdHMgdG8gcmV0dXJuLiBUaGlzIG51bWJlciBzaG91bGQgYmUgYmV0d2VlbiAxIGFuZCA1MFxuICAgKiBpbmNsdXNpdmUuXG4gICAqL1xuICBtYXhfbnVtX3Jlc3VsdHM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFJhbmtpbmcgb3B0aW9ucyBmb3Igc2VhcmNoLlxuICAgKi9cbiAgcmFua2luZ19vcHRpb25zPzogRmlsZVNlYXJjaFRvb2wuUmFua2luZ09wdGlvbnM7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgRmlsZVNlYXJjaFRvb2wge1xuICAvKipcbiAgICogUmFua2luZyBvcHRpb25zIGZvciBzZWFyY2guXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFJhbmtpbmdPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcmFua2VyIHRvIHVzZSBmb3IgdGhlIGZpbGUgc2VhcmNoLlxuICAgICAqL1xuICAgIHJhbmtlcj86ICdhdXRvJyB8ICdkZWZhdWx0LTIwMjQtMTEtMTUnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3JlIHRocmVzaG9sZCBmb3IgdGhlIGZpbGUgc2VhcmNoLCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuIE51bWJlcnNcbiAgICAgKiBjbG9zZXIgdG8gMSB3aWxsIGF0dGVtcHQgdG8gcmV0dXJuIG9ubHkgdGhlIG1vc3QgcmVsZXZhbnQgcmVzdWx0cywgYnV0IG1heVxuICAgICAqIHJldHVybiBmZXdlciByZXN1bHRzLlxuICAgICAqL1xuICAgIHNjb3JlX3RocmVzaG9sZD86IG51bWJlcjtcbiAgfVxufVxuXG4vKipcbiAqIERlZmluZXMgYSBmdW5jdGlvbiBpbiB5b3VyIG93biBjb2RlIHRoZSBtb2RlbCBjYW4gY2hvb3NlIHRvIGNhbGwuIExlYXJuIG1vcmVcbiAqIGFib3V0XG4gKiBbZnVuY3Rpb24gY2FsbGluZ10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2Z1bmN0aW9uLWNhbGxpbmcpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uVG9vbCB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICovXG4gIG5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogQSBKU09OIHNjaGVtYSBvYmplY3QgZGVzY3JpYmluZyB0aGUgcGFyYW1ldGVycyBvZiB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBwYXJhbWV0ZXJzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmZvcmNlIHN0cmljdCBwYXJhbWV0ZXIgdmFsaWRhdGlvbi4gRGVmYXVsdCBgdHJ1ZWAuXG4gICAqL1xuICBzdHJpY3Q6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBmdW5jdGlvbiB0b29sLiBBbHdheXMgYGZ1bmN0aW9uYC5cbiAgICovXG4gIHR5cGU6ICdmdW5jdGlvbic7XG5cbiAgLyoqXG4gICAqIEEgZGVzY3JpcHRpb24gb2YgdGhlIGZ1bmN0aW9uLiBVc2VkIGJ5IHRoZSBtb2RlbCB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgdG9cbiAgICogY2FsbCB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2Uge1xuICAvKipcbiAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgUmVzcG9uc2UuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgb2Ygd2hlbiB0aGlzIFJlc3BvbnNlIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIG91dHB1dF90ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFuIGVycm9yIG9iamVjdCByZXR1cm5lZCB3aGVuIHRoZSBtb2RlbCBmYWlscyB0byBnZW5lcmF0ZSBhIFJlc3BvbnNlLlxuICAgKi9cbiAgZXJyb3I6IFJlc3BvbnNlRXJyb3IgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBEZXRhaWxzIGFib3V0IHdoeSB0aGUgcmVzcG9uc2UgaXMgaW5jb21wbGV0ZS5cbiAgICovXG4gIGluY29tcGxldGVfZGV0YWlsczogUmVzcG9uc2UuSW5jb21wbGV0ZURldGFpbHMgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBJbnNlcnRzIGEgc3lzdGVtIChvciBkZXZlbG9wZXIpIG1lc3NhZ2UgYXMgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIG1vZGVsJ3NcbiAgICogY29udGV4dC5cbiAgICpcbiAgICogV2hlbiB1c2luZyBhbG9uZyB3aXRoIGBwcmV2aW91c19yZXNwb25zZV9pZGAsIHRoZSBpbnN0cnVjdGlvbnMgZnJvbSBhIHByZXZpb3VzXG4gICAqIHJlc3BvbnNlIHdpbGwgYmUgbm90IGJlIGNhcnJpZWQgb3ZlciB0byB0aGUgbmV4dCByZXNwb25zZS4gVGhpcyBtYWtlcyBpdCBzaW1wbGVcbiAgICogdG8gc3dhcCBvdXQgc3lzdGVtIChvciBkZXZlbG9wZXIpIG1lc3NhZ2VzIGluIG5ldyByZXNwb25zZXMuXG4gICAqL1xuICBpbnN0cnVjdGlvbnM6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiAxNiBrZXktdmFsdWUgcGFpcnMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYW4gb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VmdWxcbiAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgKiBxdWVyeWluZyBmb3Igb2JqZWN0cyB2aWEgQVBJIG9yIHRoZSBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEtleXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0IGNoYXJhY3RlcnMuIFZhbHVlcyBhcmUgc3RyaW5ncyB3aXRoXG4gICAqIGEgbWF4aW11bSBsZW5ndGggb2YgNTEyIGNoYXJhY3RlcnMuXG4gICAqL1xuICBtZXRhZGF0YTogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogTW9kZWwgSUQgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcmVzcG9uc2UsIGxpa2UgYGdwdC00b2Agb3IgYG8xYC4gT3BlbkFJIG9mZmVycyBhXG4gICAqIHdpZGUgcmFuZ2Ugb2YgbW9kZWxzIHdpdGggZGlmZmVyZW50IGNhcGFiaWxpdGllcywgcGVyZm9ybWFuY2UgY2hhcmFjdGVyaXN0aWNzLFxuICAgKiBhbmQgcHJpY2UgcG9pbnRzLiBSZWZlciB0byB0aGVcbiAgICogW21vZGVsIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMpIHRvIGJyb3dzZSBhbmQgY29tcGFyZVxuICAgKiBhdmFpbGFibGUgbW9kZWxzLlxuICAgKi9cbiAgbW9kZWw6IFNoYXJlZC5SZXNwb25zZXNNb2RlbDtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlIG9mIHRoaXMgcmVzb3VyY2UgLSBhbHdheXMgc2V0IHRvIGByZXNwb25zZWAuXG4gICAqL1xuICBvYmplY3Q6ICdyZXNwb25zZSc7XG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIGNvbnRlbnQgaXRlbXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC5cbiAgICpcbiAgICogLSBUaGUgbGVuZ3RoIGFuZCBvcmRlciBvZiBpdGVtcyBpbiB0aGUgYG91dHB1dGAgYXJyYXkgaXMgZGVwZW5kZW50IG9uIHRoZVxuICAgKiAgIG1vZGVsJ3MgcmVzcG9uc2UuXG4gICAqIC0gUmF0aGVyIHRoYW4gYWNjZXNzaW5nIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBgb3V0cHV0YCBhcnJheSBhbmQgYXNzdW1pbmcgaXQnc1xuICAgKiAgIGFuIGBhc3Npc3RhbnRgIG1lc3NhZ2Ugd2l0aCB0aGUgY29udGVudCBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLCB5b3UgbWlnaHRcbiAgICogICBjb25zaWRlciB1c2luZyB0aGUgYG91dHB1dF90ZXh0YCBwcm9wZXJ0eSB3aGVyZSBzdXBwb3J0ZWQgaW4gU0RLcy5cbiAgICovXG4gIG91dHB1dDogQXJyYXk8UmVzcG9uc2VPdXRwdXRJdGVtPjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBhbGxvdyB0aGUgbW9kZWwgdG8gcnVuIHRvb2wgY2FsbHMgaW4gcGFyYWxsZWwuXG4gICAqL1xuICBwYXJhbGxlbF90b29sX2NhbGxzOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGF0IHNhbXBsaW5nIHRlbXBlcmF0dXJlIHRvIHVzZSwgYmV0d2VlbiAwIGFuZCAyLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGxcbiAgICogbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmVcbiAgICogZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy4gV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIGB0b3BfcGAgYnV0XG4gICAqIG5vdCBib3RoLlxuICAgKi9cbiAgdGVtcGVyYXR1cmU6IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEhvdyB0aGUgbW9kZWwgc2hvdWxkIHNlbGVjdCB3aGljaCB0b29sIChvciB0b29scykgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZyBhXG4gICAqIHJlc3BvbnNlLiBTZWUgdGhlIGB0b29sc2AgcGFyYW1ldGVyIHRvIHNlZSBob3cgdG8gc3BlY2lmeSB3aGljaCB0b29scyB0aGUgbW9kZWxcbiAgICogY2FuIGNhbGwuXG4gICAqL1xuICB0b29sX2Nob2ljZTogVG9vbENob2ljZU9wdGlvbnMgfCBUb29sQ2hvaWNlVHlwZXMgfCBUb29sQ2hvaWNlRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIHRvb2xzIHRoZSBtb2RlbCBtYXkgY2FsbCB3aGlsZSBnZW5lcmF0aW5nIGEgcmVzcG9uc2UuIFlvdSBjYW5cbiAgICogc3BlY2lmeSB3aGljaCB0b29sIHRvIHVzZSBieSBzZXR0aW5nIHRoZSBgdG9vbF9jaG9pY2VgIHBhcmFtZXRlci5cbiAgICpcbiAgICogVGhlIHR3byBjYXRlZ29yaWVzIG9mIHRvb2xzIHlvdSBjYW4gcHJvdmlkZSB0aGUgbW9kZWwgYXJlOlxuICAgKlxuICAgKiAtICoqQnVpbHQtaW4gdG9vbHMqKjogVG9vbHMgdGhhdCBhcmUgcHJvdmlkZWQgYnkgT3BlbkFJIHRoYXQgZXh0ZW5kIHRoZSBtb2RlbCdzXG4gICAqICAgY2FwYWJpbGl0aWVzLCBsaWtlXG4gICAqICAgW3dlYiBzZWFyY2hdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy13ZWItc2VhcmNoKSBvclxuICAgKiAgIFtmaWxlIHNlYXJjaF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLWZpbGUtc2VhcmNoKS5cbiAgICogICBMZWFybiBtb3JlIGFib3V0XG4gICAqICAgW2J1aWx0LWluIHRvb2xzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMpLlxuICAgKiAtICoqRnVuY3Rpb24gY2FsbHMgKGN1c3RvbSB0b29scykqKjogRnVuY3Rpb25zIHRoYXQgYXJlIGRlZmluZWQgYnkgeW91LCBlbmFibGluZ1xuICAgKiAgIHRoZSBtb2RlbCB0byBjYWxsIHlvdXIgb3duIGNvZGUuIExlYXJuIG1vcmUgYWJvdXRcbiAgICogICBbZnVuY3Rpb24gY2FsbGluZ10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2Z1bmN0aW9uLWNhbGxpbmcpLlxuICAgKi9cbiAgdG9vbHM6IEFycmF5PFRvb2w+O1xuXG4gIC8qKlxuICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBzYW1wbGluZyB3aXRoIHRlbXBlcmF0dXJlLCBjYWxsZWQgbnVjbGV1cyBzYW1wbGluZywgd2hlcmUgdGhlXG4gICAqIG1vZGVsIGNvbnNpZGVycyB0aGUgcmVzdWx0cyBvZiB0aGUgdG9rZW5zIHdpdGggdG9wX3AgcHJvYmFiaWxpdHkgbWFzcy4gU28gMC4xXG4gICAqIG1lYW5zIG9ubHkgdGhlIHRva2VucyBjb21wcmlzaW5nIHRoZSB0b3AgMTAlIHByb2JhYmlsaXR5IG1hc3MgYXJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciBgdGVtcGVyYXR1cmVgIGJ1dCBub3QgYm90aC5cbiAgICovXG4gIHRvcF9wOiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBbiB1cHBlciBib3VuZCBmb3IgdGhlIG51bWJlciBvZiB0b2tlbnMgdGhhdCBjYW4gYmUgZ2VuZXJhdGVkIGZvciBhIHJlc3BvbnNlLFxuICAgKiBpbmNsdWRpbmcgdmlzaWJsZSBvdXRwdXQgdG9rZW5zIGFuZFxuICAgKiBbcmVhc29uaW5nIHRva2Vuc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3JlYXNvbmluZykuXG4gICAqL1xuICBtYXhfb3V0cHV0X3Rva2Vucz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHByZXZpb3VzIHJlc3BvbnNlIHRvIHRoZSBtb2RlbC4gVXNlIHRoaXMgdG8gY3JlYXRlXG4gICAqIG11bHRpLXR1cm4gY29udmVyc2F0aW9ucy4gTGVhcm4gbW9yZSBhYm91dFxuICAgKiBbY29udmVyc2F0aW9uIHN0YXRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvY29udmVyc2F0aW9uLXN0YXRlKS5cbiAgICovXG4gIHByZXZpb3VzX3Jlc3BvbnNlX2lkPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogKipvLXNlcmllcyBtb2RlbHMgb25seSoqXG4gICAqXG4gICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3JcbiAgICogW3JlYXNvbmluZyBtb2RlbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9yZWFzb25pbmcpLlxuICAgKi9cbiAgcmVhc29uaW5nPzogU2hhcmVkLlJlYXNvbmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIHJlc3BvbnNlIGdlbmVyYXRpb24uIE9uZSBvZiBgY29tcGxldGVkYCwgYGZhaWxlZGAsXG4gICAqIGBpbl9wcm9ncmVzc2AsIG9yIGBpbmNvbXBsZXRlYC5cbiAgICovXG4gIHN0YXR1cz86IFJlc3BvbnNlU3RhdHVzO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIGEgdGV4dCByZXNwb25zZSBmcm9tIHRoZSBtb2RlbC4gQ2FuIGJlIHBsYWluIHRleHQgb3JcbiAgICogc3RydWN0dXJlZCBKU09OIGRhdGEuIExlYXJuIG1vcmU6XG4gICAqXG4gICAqIC0gW1RleHQgaW5wdXRzIGFuZCBvdXRwdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dClcbiAgICogLSBbU3RydWN0dXJlZCBPdXRwdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKVxuICAgKi9cbiAgdGV4dD86IFJlc3BvbnNlVGV4dENvbmZpZztcblxuICAvKipcbiAgICogVGhlIHRydW5jYXRpb24gc3RyYXRlZ3kgdG8gdXNlIGZvciB0aGUgbW9kZWwgcmVzcG9uc2UuXG4gICAqXG4gICAqIC0gYGF1dG9gOiBJZiB0aGUgY29udGV4dCBvZiB0aGlzIHJlc3BvbnNlIGFuZCBwcmV2aW91cyBvbmVzIGV4Y2VlZHMgdGhlIG1vZGVsJ3NcbiAgICogICBjb250ZXh0IHdpbmRvdyBzaXplLCB0aGUgbW9kZWwgd2lsbCB0cnVuY2F0ZSB0aGUgcmVzcG9uc2UgdG8gZml0IHRoZSBjb250ZXh0XG4gICAqICAgd2luZG93IGJ5IGRyb3BwaW5nIGlucHV0IGl0ZW1zIGluIHRoZSBtaWRkbGUgb2YgdGhlIGNvbnZlcnNhdGlvbi5cbiAgICogLSBgZGlzYWJsZWRgIChkZWZhdWx0KTogSWYgYSBtb2RlbCByZXNwb25zZSB3aWxsIGV4Y2VlZCB0aGUgY29udGV4dCB3aW5kb3cgc2l6ZVxuICAgKiAgIGZvciBhIG1vZGVsLCB0aGUgcmVxdWVzdCB3aWxsIGZhaWwgd2l0aCBhIDQwMCBlcnJvci5cbiAgICovXG4gIHRydW5jYXRpb24/OiAnYXV0bycgfCAnZGlzYWJsZWQnIHwgbnVsbDtcblxuICAvKipcbiAgICogUmVwcmVzZW50cyB0b2tlbiB1c2FnZSBkZXRhaWxzIGluY2x1ZGluZyBpbnB1dCB0b2tlbnMsIG91dHB1dCB0b2tlbnMsIGFcbiAgICogYnJlYWtkb3duIG9mIG91dHB1dCB0b2tlbnMsIGFuZCB0aGUgdG90YWwgdG9rZW5zIHVzZWQuXG4gICAqL1xuICB1c2FnZT86IFJlc3BvbnNlVXNhZ2U7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yXG4gICAqIGFuZCBkZXRlY3QgYWJ1c2UuXG4gICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzI2VuZC11c2VyLWlkcykuXG4gICAqL1xuICB1c2VyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIERldGFpbHMgYWJvdXQgd2h5IHRoZSByZXNwb25zZSBpcyBpbmNvbXBsZXRlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBJbmNvbXBsZXRlRGV0YWlscyB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlYXNvbiB3aHkgdGhlIHJlc3BvbnNlIGlzIGluY29tcGxldGUuXG4gICAgICovXG4gICAgcmVhc29uPzogJ21heF9vdXRwdXRfdG9rZW5zJyB8ICdjb250ZW50X2ZpbHRlcic7XG4gIH1cbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlcmUgaXMgYSBwYXJ0aWFsIGF1ZGlvIHJlc3BvbnNlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQXVkaW9EZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIEEgY2h1bmsgb2YgQmFzZTY0IGVuY29kZWQgcmVzcG9uc2UgYXVkaW8gYnl0ZXMuXG4gICAqL1xuICBkZWx0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuYXVkaW8uZGVsdGFgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmF1ZGlvLmRlbHRhJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIGF1ZGlvIHJlc3BvbnNlIGlzIGNvbXBsZXRlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQXVkaW9Eb25lRXZlbnQge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmF1ZGlvLmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmF1ZGlvLmRvbmUnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiB0aGVyZSBpcyBhIHBhcnRpYWwgdHJhbnNjcmlwdCBvZiBhdWRpby5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERlbHRhRXZlbnQge1xuICAvKipcbiAgICogVGhlIHBhcnRpYWwgdHJhbnNjcmlwdCBvZiB0aGUgYXVkaW8gcmVzcG9uc2UuXG4gICAqL1xuICBkZWx0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuYXVkaW8udHJhbnNjcmlwdC5kZWx0YWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuYXVkaW8udHJhbnNjcmlwdC5kZWx0YSc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZSBmdWxsIGF1ZGlvIHRyYW5zY3JpcHQgaXMgY29tcGxldGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQXVkaW9UcmFuc2NyaXB0RG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5hdWRpby50cmFuc2NyaXB0LmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmF1ZGlvLnRyYW5zY3JpcHQuZG9uZSc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIGEgcGFydGlhbCBjb2RlIHNuaXBwZXQgaXMgYWRkZWQgYnkgdGhlIGNvZGUgaW50ZXJwcmV0ZXIuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJDYWxsQ29kZURlbHRhRXZlbnQge1xuICAvKipcbiAgICogVGhlIHBhcnRpYWwgY29kZSBzbmlwcGV0IGFkZGVkIGJ5IHRoZSBjb2RlIGludGVycHJldGVyLlxuICAgKi9cbiAgZGVsdGE6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBjb2RlIGludGVycHJldGVyIGNhbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmNvZGVfaW50ZXJwcmV0ZXJfY2FsbC5jb2RlLmRlbHRhYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jb2RlX2ludGVycHJldGVyX2NhbGwuY29kZS5kZWx0YSc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIGNvZGUgc25pcHBldCBvdXRwdXQgaXMgZmluYWxpemVkIGJ5IHRoZSBjb2RlIGludGVycHJldGVyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ29kZUludGVycHJldGVyQ2FsbENvZGVEb25lRXZlbnQge1xuICAvKipcbiAgICogVGhlIGZpbmFsIGNvZGUgc25pcHBldCBvdXRwdXQgYnkgdGhlIGNvZGUgaW50ZXJwcmV0ZXIuXG4gICAqL1xuICBjb2RlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgY29kZSBpbnRlcnByZXRlciBjYWxsIGlzIGluIHByb2dyZXNzLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5jb2RlX2ludGVycHJldGVyX2NhbGwuY29kZS5kb25lYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jb2RlX2ludGVycHJldGVyX2NhbGwuY29kZS5kb25lJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIGNvZGUgaW50ZXJwcmV0ZXIgY2FsbCBpcyBjb21wbGV0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJDYWxsQ29tcGxldGVkRXZlbnQge1xuICAvKipcbiAgICogQSB0b29sIGNhbGwgdG8gcnVuIGNvZGUuXG4gICAqL1xuICBjb2RlX2ludGVycHJldGVyX2NhbGw6IFJlc3BvbnNlQ29kZUludGVycHJldGVyVG9vbENhbGw7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgY29kZSBpbnRlcnByZXRlciBjYWxsIGlzIGluIHByb2dyZXNzLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5jb2RlX2ludGVycHJldGVyX2NhbGwuY29tcGxldGVkYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jb2RlX2ludGVycHJldGVyX2NhbGwuY29tcGxldGVkJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYSBjb2RlIGludGVycHJldGVyIGNhbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJDYWxsSW5Qcm9ncmVzc0V2ZW50IHtcbiAgLyoqXG4gICAqIEEgdG9vbCBjYWxsIHRvIHJ1biBjb2RlLlxuICAgKi9cbiAgY29kZV9pbnRlcnByZXRlcl9jYWxsOiBSZXNwb25zZUNvZGVJbnRlcnByZXRlclRvb2xDYWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIGNvZGUgaW50ZXJwcmV0ZXIgY2FsbCBpcyBpbiBwcm9ncmVzcy5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuY29kZV9pbnRlcnByZXRlcl9jYWxsLmluX3Byb2dyZXNzYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jb2RlX2ludGVycHJldGVyX2NhbGwuaW5fcHJvZ3Jlc3MnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiB0aGUgY29kZSBpbnRlcnByZXRlciBpcyBhY3RpdmVseSBpbnRlcnByZXRpbmcgdGhlIGNvZGUgc25pcHBldC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNvZGVJbnRlcnByZXRlckNhbGxJbnRlcnByZXRpbmdFdmVudCB7XG4gIC8qKlxuICAgKiBBIHRvb2wgY2FsbCB0byBydW4gY29kZS5cbiAgICovXG4gIGNvZGVfaW50ZXJwcmV0ZXJfY2FsbDogUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbDtcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBjb2RlIGludGVycHJldGVyIGNhbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmNvZGVfaW50ZXJwcmV0ZXJfY2FsbC5pbnRlcnByZXRpbmdgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmNvZGVfaW50ZXJwcmV0ZXJfY2FsbC5pbnRlcnByZXRpbmcnO1xufVxuXG4vKipcbiAqIEEgdG9vbCBjYWxsIHRvIHJ1biBjb2RlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ29kZUludGVycHJldGVyVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgY29kZSBpbnRlcnByZXRlciB0b29sIGNhbGwuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY29kZSB0byBydW4uXG4gICAqL1xuICBjb2RlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByZXN1bHRzIG9mIHRoZSBjb2RlIGludGVycHJldGVyIHRvb2wgY2FsbC5cbiAgICovXG4gIHJlc3VsdHM6IEFycmF5PFJlc3BvbnNlQ29kZUludGVycHJldGVyVG9vbENhbGwuTG9ncyB8IFJlc3BvbnNlQ29kZUludGVycHJldGVyVG9vbENhbGwuRmlsZXM+O1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBjb2RlIGludGVycHJldGVyIHRvb2wgY2FsbC5cbiAgICovXG4gIHN0YXR1czogJ2luX3Byb2dyZXNzJyB8ICdpbnRlcnByZXRpbmcnIHwgJ2NvbXBsZXRlZCc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBjb2RlIGludGVycHJldGVyIHRvb2wgY2FsbC4gQWx3YXlzIGBjb2RlX2ludGVycHJldGVyX2NhbGxgLlxuICAgKi9cbiAgdHlwZTogJ2NvZGVfaW50ZXJwcmV0ZXJfY2FsbCc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUmVzcG9uc2VDb2RlSW50ZXJwcmV0ZXJUb29sQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgb3V0cHV0IG9mIGEgY29kZSBpbnRlcnByZXRlciB0b29sIGNhbGwgdGhhdCBpcyB0ZXh0LlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBMb2dzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbG9ncyBvZiB0aGUgY29kZSBpbnRlcnByZXRlciB0b29sIGNhbGwuXG4gICAgICovXG4gICAgbG9nczogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIGNvZGUgaW50ZXJwcmV0ZXIgdGV4dCBvdXRwdXQuIEFsd2F5cyBgbG9nc2AuXG4gICAgICovXG4gICAgdHlwZTogJ2xvZ3MnO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBvdXRwdXQgb2YgYSBjb2RlIGludGVycHJldGVyIHRvb2wgY2FsbCB0aGF0IGlzIGEgZmlsZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZXMge1xuICAgIGZpbGVzOiBBcnJheTxGaWxlcy5GaWxlPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBjb2RlIGludGVycHJldGVyIGZpbGUgb3V0cHV0LiBBbHdheXMgYGZpbGVzYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnZmlsZXMnO1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBGaWxlcyB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWxlIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIElEIG9mIHRoZSBmaWxlLlxuICAgICAgICovXG4gICAgICBmaWxlX2lkOiBzdHJpbmc7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIE1JTUUgdHlwZSBvZiB0aGUgZmlsZS5cbiAgICAgICAqL1xuICAgICAgbWltZV90eXBlOiBzdHJpbmc7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZSBtb2RlbCByZXNwb25zZSBpcyBjb21wbGV0ZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNvbXBsZXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFByb3BlcnRpZXMgb2YgdGhlIGNvbXBsZXRlZCByZXNwb25zZS5cbiAgICovXG4gIHJlc3BvbnNlOiBSZXNwb25zZTtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmNvbXBsZXRlZGAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuY29tcGxldGVkJztcbn1cblxuLyoqXG4gKiBBIHRvb2wgY2FsbCB0byBhIGNvbXB1dGVyIHVzZSB0b29sLiBTZWUgdGhlXG4gKiBbY29tcHV0ZXIgdXNlIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtY29tcHV0ZXItdXNlKVxuICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIGNvbXB1dGVyIGNhbGwuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIGNsaWNrIGFjdGlvbi5cbiAgICovXG4gIGFjdGlvbjpcbiAgICB8IFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbC5DbGlja1xuICAgIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsLkRvdWJsZUNsaWNrXG4gICAgfCBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGwuRHJhZ1xuICAgIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsLktleXByZXNzXG4gICAgfCBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGwuTW92ZVxuICAgIHwgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsLlNjcmVlbnNob3RcbiAgICB8IFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbC5TY3JvbGxcbiAgICB8IFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbC5UeXBlXG4gICAgfCBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGwuV2FpdDtcblxuICAvKipcbiAgICogQW4gaWRlbnRpZmllciB1c2VkIHdoZW4gcmVzcG9uZGluZyB0byB0aGUgdG9vbCBjYWxsIHdpdGggb3V0cHV0LlxuICAgKi9cbiAgY2FsbF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcGVuZGluZyBzYWZldHkgY2hlY2tzIGZvciB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICovXG4gIHBlbmRpbmdfc2FmZXR5X2NoZWNrczogQXJyYXk8UmVzcG9uc2VDb21wdXRlclRvb2xDYWxsLlBlbmRpbmdTYWZldHlDaGVjaz47XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGl0ZW0uIE9uZSBvZiBgaW5fcHJvZ3Jlc3NgLCBgY29tcGxldGVkYCwgb3IgYGluY29tcGxldGVgLlxuICAgKiBQb3B1bGF0ZWQgd2hlbiBpdGVtcyBhcmUgcmV0dXJuZWQgdmlhIEFQSS5cbiAgICovXG4gIHN0YXR1czogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2luY29tcGxldGUnO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgY29tcHV0ZXIgY2FsbC4gQWx3YXlzIGBjb21wdXRlcl9jYWxsYC5cbiAgICovXG4gIHR5cGU6ICdjb21wdXRlcl9jYWxsJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGwge1xuICAvKipcbiAgICogQSBjbGljayBhY3Rpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENsaWNrIHtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggbW91c2UgYnV0dG9uIHdhcyBwcmVzc2VkIGR1cmluZyB0aGUgY2xpY2suIE9uZSBvZiBgbGVmdGAsXG4gICAgICogYHJpZ2h0YCwgYHdoZWVsYCwgYGJhY2tgLCBvciBgZm9yd2FyZGAuXG4gICAgICovXG4gICAgYnV0dG9uOiAnbGVmdCcgfCAncmlnaHQnIHwgJ3doZWVsJyB8ICdiYWNrJyB8ICdmb3J3YXJkJztcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZXZlbnQgdHlwZS4gRm9yIGEgY2xpY2sgYWN0aW9uLCB0aGlzIHByb3BlcnR5IGlzIGFsd2F5cyBzZXQgdG9cbiAgICAgKiBgY2xpY2tgLlxuICAgICAqL1xuICAgIHR5cGU6ICdjbGljayc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeC1jb29yZGluYXRlIHdoZXJlIHRoZSBjbGljayBvY2N1cnJlZC5cbiAgICAgKi9cbiAgICB4OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeS1jb29yZGluYXRlIHdoZXJlIHRoZSBjbGljayBvY2N1cnJlZC5cbiAgICAgKi9cbiAgICB5OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogQSBkb3VibGUgY2xpY2sgYWN0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBEb3VibGVDbGljayB7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBldmVudCB0eXBlLiBGb3IgYSBkb3VibGUgY2xpY2sgYWN0aW9uLCB0aGlzIHByb3BlcnR5IGlzIGFsd2F5cyBzZXRcbiAgICAgKiB0byBgZG91YmxlX2NsaWNrYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnZG91YmxlX2NsaWNrJztcblxuICAgIC8qKlxuICAgICAqIFRoZSB4LWNvb3JkaW5hdGUgd2hlcmUgdGhlIGRvdWJsZSBjbGljayBvY2N1cnJlZC5cbiAgICAgKi9cbiAgICB4OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeS1jb29yZGluYXRlIHdoZXJlIHRoZSBkb3VibGUgY2xpY2sgb2NjdXJyZWQuXG4gICAgICovXG4gICAgeTogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgZHJhZyBhY3Rpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIERyYWcge1xuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGNvb3JkaW5hdGVzIHJlcHJlc2VudGluZyB0aGUgcGF0aCBvZiB0aGUgZHJhZyBhY3Rpb24uIENvb3JkaW5hdGVzXG4gICAgICogd2lsbCBhcHBlYXIgYXMgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZWdcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIFtcbiAgICAgKiAgIHsgeDogMTAwLCB5OiAyMDAgfSxcbiAgICAgKiAgIHsgeDogMjAwLCB5OiAzMDAgfVxuICAgICAqIF1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBwYXRoOiBBcnJheTxEcmFnLlBhdGg+O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBldmVudCB0eXBlLiBGb3IgYSBkcmFnIGFjdGlvbiwgdGhpcyBwcm9wZXJ0eSBpcyBhbHdheXMgc2V0IHRvXG4gICAgICogYGRyYWdgLlxuICAgICAqL1xuICAgIHR5cGU6ICdkcmFnJztcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgRHJhZyB7XG4gICAgLyoqXG4gICAgICogQSBzZXJpZXMgb2YgeC95IGNvb3JkaW5hdGUgcGFpcnMgaW4gdGhlIGRyYWcgcGF0aC5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIFBhdGgge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgeC1jb29yZGluYXRlLlxuICAgICAgICovXG4gICAgICB4OiBudW1iZXI7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHktY29vcmRpbmF0ZS5cbiAgICAgICAqL1xuICAgICAgeTogbnVtYmVyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBIGNvbGxlY3Rpb24gb2Yga2V5cHJlc3NlcyB0aGUgbW9kZWwgd291bGQgbGlrZSB0byBwZXJmb3JtLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBLZXlwcmVzcyB7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbWJpbmF0aW9uIG9mIGtleXMgdGhlIG1vZGVsIGlzIHJlcXVlc3RpbmcgdG8gYmUgcHJlc3NlZC4gVGhpcyBpcyBhbiBhcnJheVxuICAgICAqIG9mIHN0cmluZ3MsIGVhY2ggcmVwcmVzZW50aW5nIGEga2V5LlxuICAgICAqL1xuICAgIGtleXM6IEFycmF5PHN0cmluZz47XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGV2ZW50IHR5cGUuIEZvciBhIGtleXByZXNzIGFjdGlvbiwgdGhpcyBwcm9wZXJ0eSBpcyBhbHdheXMgc2V0IHRvXG4gICAgICogYGtleXByZXNzYC5cbiAgICAgKi9cbiAgICB0eXBlOiAna2V5cHJlc3MnO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgbW91c2UgbW92ZSBhY3Rpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIE1vdmUge1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZXZlbnQgdHlwZS4gRm9yIGEgbW92ZSBhY3Rpb24sIHRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIHNldCB0b1xuICAgICAqIGBtb3ZlYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnbW92ZSc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeC1jb29yZGluYXRlIHRvIG1vdmUgdG8uXG4gICAgICovXG4gICAgeDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHktY29vcmRpbmF0ZSB0byBtb3ZlIHRvLlxuICAgICAqL1xuICAgIHk6IG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNjcmVlbnNob3QgYWN0aW9uLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBTY3JlZW5zaG90IHtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGV2ZW50IHR5cGUuIEZvciBhIHNjcmVlbnNob3QgYWN0aW9uLCB0aGlzIHByb3BlcnR5IGlzIGFsd2F5cyBzZXRcbiAgICAgKiB0byBgc2NyZWVuc2hvdGAuXG4gICAgICovXG4gICAgdHlwZTogJ3NjcmVlbnNob3QnO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc2Nyb2xsIGFjdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgU2Nyb2xsIHtcbiAgICAvKipcbiAgICAgKiBUaGUgaG9yaXpvbnRhbCBzY3JvbGwgZGlzdGFuY2UuXG4gICAgICovXG4gICAgc2Nyb2xsX3g6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0aWNhbCBzY3JvbGwgZGlzdGFuY2UuXG4gICAgICovXG4gICAgc2Nyb2xsX3k6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZXZlbnQgdHlwZS4gRm9yIGEgc2Nyb2xsIGFjdGlvbiwgdGhpcyBwcm9wZXJ0eSBpcyBhbHdheXMgc2V0IHRvXG4gICAgICogYHNjcm9sbGAuXG4gICAgICovXG4gICAgdHlwZTogJ3Njcm9sbCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeC1jb29yZGluYXRlIHdoZXJlIHRoZSBzY3JvbGwgb2NjdXJyZWQuXG4gICAgICovXG4gICAgeDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHktY29vcmRpbmF0ZSB3aGVyZSB0aGUgc2Nyb2xsIG9jY3VycmVkLlxuICAgICAqL1xuICAgIHk6IG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBhY3Rpb24gdG8gdHlwZSBpbiB0ZXh0LlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUeXBlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCB0byB0eXBlLlxuICAgICAqL1xuICAgIHRleHQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZXZlbnQgdHlwZS4gRm9yIGEgdHlwZSBhY3Rpb24sIHRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIHNldCB0b1xuICAgICAqIGB0eXBlYC5cbiAgICAgKi9cbiAgICB0eXBlOiAndHlwZSc7XG4gIH1cblxuICAvKipcbiAgICogQSB3YWl0IGFjdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgV2FpdCB7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBldmVudCB0eXBlLiBGb3IgYSB3YWl0IGFjdGlvbiwgdGhpcyBwcm9wZXJ0eSBpcyBhbHdheXMgc2V0IHRvXG4gICAgICogYHdhaXRgLlxuICAgICAqL1xuICAgIHR5cGU6ICd3YWl0JztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHBlbmRpbmcgc2FmZXR5IGNoZWNrIGZvciB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgUGVuZGluZ1NhZmV0eUNoZWNrIHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIHBlbmRpbmcgc2FmZXR5IGNoZWNrLlxuICAgICAqL1xuICAgIGlkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcGVuZGluZyBzYWZldHkgY2hlY2suXG4gICAgICovXG4gICAgY29kZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogRGV0YWlscyBhYm91dCB0aGUgcGVuZGluZyBzYWZldHkgY2hlY2suXG4gICAgICovXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsT3V0cHV0SXRlbSB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBjb21wdXRlciBjYWxsIHRvb2wgb3V0cHV0LlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBjb21wdXRlciB0b29sIGNhbGwgdGhhdCBwcm9kdWNlZCB0aGUgb3V0cHV0LlxuICAgKi9cbiAgY2FsbF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIGNvbXB1dGVyIHNjcmVlbnNob3QgaW1hZ2UgdXNlZCB3aXRoIHRoZSBjb21wdXRlciB1c2UgdG9vbC5cbiAgICovXG4gIG91dHB1dDogUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsT3V0cHV0U2NyZWVuc2hvdDtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGNvbXB1dGVyIHRvb2wgY2FsbCBvdXRwdXQuIEFsd2F5cyBgY29tcHV0ZXJfY2FsbF9vdXRwdXRgLlxuICAgKi9cbiAgdHlwZTogJ2NvbXB1dGVyX2NhbGxfb3V0cHV0JztcblxuICAvKipcbiAgICogVGhlIHNhZmV0eSBjaGVja3MgcmVwb3J0ZWQgYnkgdGhlIEFQSSB0aGF0IGhhdmUgYmVlbiBhY2tub3dsZWRnZWQgYnkgdGhlXG4gICAqIGRldmVsb3Blci5cbiAgICovXG4gIGFja25vd2xlZGdlZF9zYWZldHlfY2hlY2tzPzogQXJyYXk8UmVzcG9uc2VDb21wdXRlclRvb2xDYWxsT3V0cHV0SXRlbS5BY2tub3dsZWRnZWRTYWZldHlDaGVjaz47XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIG1lc3NhZ2UgaW5wdXQuIE9uZSBvZiBgaW5fcHJvZ3Jlc3NgLCBgY29tcGxldGVkYCwgb3JcbiAgICogYGluY29tcGxldGVgLiBQb3B1bGF0ZWQgd2hlbiBpbnB1dCBpdGVtcyBhcmUgcmV0dXJuZWQgdmlhIEFQSS5cbiAgICovXG4gIHN0YXR1cz86ICdpbl9wcm9ncmVzcycgfCAnY29tcGxldGVkJyB8ICdpbmNvbXBsZXRlJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZUNvbXB1dGVyVG9vbENhbGxPdXRwdXRJdGVtIHtcbiAgLyoqXG4gICAqIEEgcGVuZGluZyBzYWZldHkgY2hlY2sgZm9yIHRoZSBjb21wdXRlciBjYWxsLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBBY2tub3dsZWRnZWRTYWZldHlDaGVjayB7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBwZW5kaW5nIHNhZmV0eSBjaGVjay5cbiAgICAgKi9cbiAgICBpZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHBlbmRpbmcgc2FmZXR5IGNoZWNrLlxuICAgICAqL1xuICAgIGNvZGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIERldGFpbHMgYWJvdXQgdGhlIHBlbmRpbmcgc2FmZXR5IGNoZWNrLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgfVxufVxuXG4vKipcbiAqIEEgY29tcHV0ZXIgc2NyZWVuc2hvdCBpbWFnZSB1c2VkIHdpdGggdGhlIGNvbXB1dGVyIHVzZSB0b29sLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbE91dHB1dFNjcmVlbnNob3Qge1xuICAvKipcbiAgICogU3BlY2lmaWVzIHRoZSBldmVudCB0eXBlLiBGb3IgYSBjb21wdXRlciBzY3JlZW5zaG90LCB0aGlzIHByb3BlcnR5IGlzIGFsd2F5cyBzZXRcbiAgICogdG8gYGNvbXB1dGVyX3NjcmVlbnNob3RgLlxuICAgKi9cbiAgdHlwZTogJ2NvbXB1dGVyX3NjcmVlbnNob3QnO1xuXG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciBvZiBhbiB1cGxvYWRlZCBmaWxlIHRoYXQgY29udGFpbnMgdGhlIHNjcmVlbnNob3QuXG4gICAqL1xuICBmaWxlX2lkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVVJMIG9mIHRoZSBzY3JlZW5zaG90IGltYWdlLlxuICAgKi9cbiAgaW1hZ2VfdXJsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIE11bHRpLW1vZGFsIGlucHV0IGFuZCBvdXRwdXQgY29udGVudHMuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3BvbnNlQ29udGVudCA9XG4gIHwgUmVzcG9uc2VJbnB1dFRleHRcbiAgfCBSZXNwb25zZUlucHV0SW1hZ2VcbiAgfCBSZXNwb25zZUlucHV0RmlsZVxuICB8IFJlc3BvbnNlT3V0cHV0VGV4dFxuICB8IFJlc3BvbnNlT3V0cHV0UmVmdXNhbDtcblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYSBuZXcgY29udGVudCBwYXJ0IGlzIGFkZGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ29udGVudFBhcnRBZGRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IHRoYXQgd2FzIGFkZGVkLlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIGNvbnRlbnQgcGFydCB3YXMgYWRkZWQgdG8uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgY29udGVudCBwYXJ0IHdhcyBhZGRlZCB0by5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBwYXJ0IHRoYXQgd2FzIGFkZGVkLlxuICAgKi9cbiAgcGFydDogUmVzcG9uc2VPdXRwdXRUZXh0IHwgUmVzcG9uc2VPdXRwdXRSZWZ1c2FsO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuY29udGVudF9wYXJ0LmFkZGVkYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jb250ZW50X3BhcnQuYWRkZWQnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhIGNvbnRlbnQgcGFydCBpcyBkb25lLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ29udGVudFBhcnREb25lRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgdGhhdCBpcyBkb25lLlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIGNvbnRlbnQgcGFydCB3YXMgYWRkZWQgdG8uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgY29udGVudCBwYXJ0IHdhcyBhZGRlZCB0by5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBwYXJ0IHRoYXQgaXMgZG9uZS5cbiAgICovXG4gIHBhcnQ6IFJlc3BvbnNlT3V0cHV0VGV4dCB8IFJlc3BvbnNlT3V0cHV0UmVmdXNhbDtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmNvbnRlbnRfcGFydC5kb25lYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5jb250ZW50X3BhcnQuZG9uZSc7XG59XG5cbi8qKlxuICogQW4gZXZlbnQgdGhhdCBpcyBlbWl0dGVkIHdoZW4gYSByZXNwb25zZSBpcyBjcmVhdGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ3JlYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSByZXNwb25zZSB0aGF0IHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgcmVzcG9uc2U6IFJlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuY3JlYXRlZGAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuY3JlYXRlZCc7XG59XG5cbi8qKlxuICogQW4gZXJyb3Igb2JqZWN0IHJldHVybmVkIHdoZW4gdGhlIG1vZGVsIGZhaWxzIHRvIGdlbmVyYXRlIGEgUmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VFcnJvciB7XG4gIC8qKlxuICAgKiBUaGUgZXJyb3IgY29kZSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgY29kZTpcbiAgICB8ICdzZXJ2ZXJfZXJyb3InXG4gICAgfCAncmF0ZV9saW1pdF9leGNlZWRlZCdcbiAgICB8ICdpbnZhbGlkX3Byb21wdCdcbiAgICB8ICd2ZWN0b3Jfc3RvcmVfdGltZW91dCdcbiAgICB8ICdpbnZhbGlkX2ltYWdlJ1xuICAgIHwgJ2ludmFsaWRfaW1hZ2VfZm9ybWF0J1xuICAgIHwgJ2ludmFsaWRfYmFzZTY0X2ltYWdlJ1xuICAgIHwgJ2ludmFsaWRfaW1hZ2VfdXJsJ1xuICAgIHwgJ2ltYWdlX3Rvb19sYXJnZSdcbiAgICB8ICdpbWFnZV90b29fc21hbGwnXG4gICAgfCAnaW1hZ2VfcGFyc2VfZXJyb3InXG4gICAgfCAnaW1hZ2VfY29udGVudF9wb2xpY3lfdmlvbGF0aW9uJ1xuICAgIHwgJ2ludmFsaWRfaW1hZ2VfbW9kZSdcbiAgICB8ICdpbWFnZV9maWxlX3Rvb19sYXJnZSdcbiAgICB8ICd1bnN1cHBvcnRlZF9pbWFnZV9tZWRpYV90eXBlJ1xuICAgIHwgJ2VtcHR5X2ltYWdlX2ZpbGUnXG4gICAgfCAnZmFpbGVkX3RvX2Rvd25sb2FkX2ltYWdlJ1xuICAgIHwgJ2ltYWdlX2ZpbGVfbm90X2ZvdW5kJztcblxuICAvKipcbiAgICogQSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3IuXG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIGFuIGVycm9yIG9jY3Vycy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUVycm9yRXZlbnQge1xuICAvKipcbiAgICogVGhlIGVycm9yIGNvZGUuXG4gICAqL1xuICBjb2RlOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGVycm9yIHBhcmFtZXRlci5cbiAgICovXG4gIHBhcmFtOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgZXJyb3JgLlxuICAgKi9cbiAgdHlwZTogJ2Vycm9yJztcbn1cblxuLyoqXG4gKiBBbiBldmVudCB0aGF0IGlzIGVtaXR0ZWQgd2hlbiBhIHJlc3BvbnNlIGZhaWxzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRmFpbGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIHJlc3BvbnNlIHRoYXQgZmFpbGVkLlxuICAgKi9cbiAgcmVzcG9uc2U6IFJlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuZmFpbGVkYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5mYWlsZWQnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhIGZpbGUgc2VhcmNoIGNhbGwgaXMgY29tcGxldGVkIChyZXN1bHRzIGZvdW5kKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZpbGVTZWFyY2hDYWxsQ29tcGxldGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBmaWxlIHNlYXJjaCBjYWxsIGlzIGluaXRpYXRlZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBmaWxlIHNlYXJjaCBjYWxsIGlzIGluaXRpYXRlZC5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuZmlsZV9zZWFyY2hfY2FsbC5jb21wbGV0ZWRgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmZpbGVfc2VhcmNoX2NhbGwuY29tcGxldGVkJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYSBmaWxlIHNlYXJjaCBjYWxsIGlzIGluaXRpYXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZpbGVTZWFyY2hDYWxsSW5Qcm9ncmVzc0V2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgZmlsZSBzZWFyY2ggY2FsbCBpcyBpbml0aWF0ZWQuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgZmlsZSBzZWFyY2ggY2FsbCBpcyBpbml0aWF0ZWQuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmZpbGVfc2VhcmNoX2NhbGwuaW5fcHJvZ3Jlc3NgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmZpbGVfc2VhcmNoX2NhbGwuaW5fcHJvZ3Jlc3MnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhIGZpbGUgc2VhcmNoIGlzIGN1cnJlbnRseSBzZWFyY2hpbmcuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VGaWxlU2VhcmNoQ2FsbFNlYXJjaGluZ0V2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgZmlsZSBzZWFyY2ggY2FsbCBpcyBpbml0aWF0ZWQuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgZmlsZSBzZWFyY2ggY2FsbCBpcyBzZWFyY2hpbmcuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmZpbGVfc2VhcmNoX2NhbGwuc2VhcmNoaW5nYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5maWxlX3NlYXJjaF9jYWxsLnNlYXJjaGluZyc7XG59XG5cbi8qKlxuICogVGhlIHJlc3VsdHMgb2YgYSBmaWxlIHNlYXJjaCB0b29sIGNhbGwuIFNlZSB0aGVcbiAqIFtmaWxlIHNlYXJjaCBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLWZpbGUtc2VhcmNoKVxuICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VGaWxlU2VhcmNoVG9vbENhbGwge1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgZmlsZSBzZWFyY2ggdG9vbCBjYWxsLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHF1ZXJpZXMgdXNlZCB0byBzZWFyY2ggZm9yIGZpbGVzLlxuICAgKi9cbiAgcXVlcmllczogQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgZmlsZSBzZWFyY2ggdG9vbCBjYWxsLiBPbmUgb2YgYGluX3Byb2dyZXNzYCwgYHNlYXJjaGluZ2AsXG4gICAqIGBpbmNvbXBsZXRlYCBvciBgZmFpbGVkYCxcbiAgICovXG4gIHN0YXR1czogJ2luX3Byb2dyZXNzJyB8ICdzZWFyY2hpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnaW5jb21wbGV0ZScgfCAnZmFpbGVkJztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGZpbGUgc2VhcmNoIHRvb2wgY2FsbC4gQWx3YXlzIGBmaWxlX3NlYXJjaF9jYWxsYC5cbiAgICovXG4gIHR5cGU6ICdmaWxlX3NlYXJjaF9jYWxsJztcblxuICAvKipcbiAgICogVGhlIHJlc3VsdHMgb2YgdGhlIGZpbGUgc2VhcmNoIHRvb2wgY2FsbC5cbiAgICovXG4gIHJlc3VsdHM/OiBBcnJheTxSZXNwb25zZUZpbGVTZWFyY2hUb29sQ2FsbC5SZXN1bHQ+IHwgbnVsbDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZUZpbGVTZWFyY2hUb29sQ2FsbCB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0IHtcbiAgICAvKipcbiAgICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAgICogZm9yIHN0b3JpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0IGluIGEgc3RydWN0dXJlZCBmb3JtYXQsIGFuZFxuICAgICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC4gS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bVxuICAgICAqIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMlxuICAgICAqIGNoYXJhY3RlcnMsIGJvb2xlYW5zLCBvciBudW1iZXJzLlxuICAgICAqL1xuICAgIGF0dHJpYnV0ZXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPiB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBmaWxlLlxuICAgICAqL1xuICAgIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZmlsZS5cbiAgICAgKi9cbiAgICBmaWxlbmFtZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSByZWxldmFuY2Ugc2NvcmUgb2YgdGhlIGZpbGUgLSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKi9cbiAgICBzY29yZT86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IHRoYXQgd2FzIHJldHJpZXZlZCBmcm9tIHRoZSBmaWxlLlxuICAgICAqL1xuICAgIHRleHQ/OiBzdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBvYmplY3Qgc3BlY2lmeWluZyB0aGUgZm9ybWF0IHRoYXQgdGhlIG1vZGVsIG11c3Qgb3V0cHV0LlxuICpcbiAqIENvbmZpZ3VyaW5nIGB7IFwidHlwZVwiOiBcImpzb25fc2NoZW1hXCIgfWAgZW5hYmxlcyBTdHJ1Y3R1cmVkIE91dHB1dHMsIHdoaWNoXG4gKiBlbnN1cmVzIHRoZSBtb2RlbCB3aWxsIG1hdGNoIHlvdXIgc3VwcGxpZWQgSlNPTiBzY2hlbWEuIExlYXJuIG1vcmUgaW4gdGhlXG4gKiBbU3RydWN0dXJlZCBPdXRwdXRzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKS5cbiAqXG4gKiBUaGUgZGVmYXVsdCBmb3JtYXQgaXMgYHsgXCJ0eXBlXCI6IFwidGV4dFwiIH1gIHdpdGggbm8gYWRkaXRpb25hbCBvcHRpb25zLlxuICpcbiAqICoqTm90IHJlY29tbWVuZGVkIGZvciBncHQtNG8gYW5kIG5ld2VyIG1vZGVsczoqKlxuICpcbiAqIFNldHRpbmcgdG8gYHsgXCJ0eXBlXCI6IFwianNvbl9vYmplY3RcIiB9YCBlbmFibGVzIHRoZSBvbGRlciBKU09OIG1vZGUsIHdoaWNoXG4gKiBlbnN1cmVzIHRoZSBtZXNzYWdlIHRoZSBtb2RlbCBnZW5lcmF0ZXMgaXMgdmFsaWQgSlNPTi4gVXNpbmcgYGpzb25fc2NoZW1hYCBpc1xuICogcHJlZmVycmVkIGZvciBtb2RlbHMgdGhhdCBzdXBwb3J0IGl0LlxuICovXG5leHBvcnQgdHlwZSBSZXNwb25zZUZvcm1hdFRleHRDb25maWcgPVxuICB8IFNoYXJlZC5SZXNwb25zZUZvcm1hdFRleHRcbiAgfCBSZXNwb25zZUZvcm1hdFRleHRKU09OU2NoZW1hQ29uZmlnXG4gIHwgU2hhcmVkLlJlc3BvbnNlRm9ybWF0SlNPTk9iamVjdDtcblxuLyoqXG4gKiBKU09OIFNjaGVtYSByZXNwb25zZSBmb3JtYXQuIFVzZWQgdG8gZ2VuZXJhdGUgc3RydWN0dXJlZCBKU09OIHJlc3BvbnNlcy4gTGVhcm5cbiAqIG1vcmUgYWJvdXRcbiAqIFtTdHJ1Y3R1cmVkIE91dHB1dHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlRm9ybWF0VGV4dEpTT05TY2hlbWFDb25maWcge1xuICAvKipcbiAgICogVGhlIHNjaGVtYSBmb3IgdGhlIHJlc3BvbnNlIGZvcm1hdCwgZGVzY3JpYmVkIGFzIGEgSlNPTiBTY2hlbWEgb2JqZWN0LiBMZWFybiBob3dcbiAgICogdG8gYnVpbGQgSlNPTiBzY2hlbWFzIFtoZXJlXShodHRwczovL2pzb24tc2NoZW1hLm9yZy8pLlxuICAgKi9cbiAgc2NoZW1hOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgcmVzcG9uc2UgZm9ybWF0IGJlaW5nIGRlZmluZWQuIEFsd2F5cyBganNvbl9zY2hlbWFgLlxuICAgKi9cbiAgdHlwZTogJ2pzb25fc2NoZW1hJztcblxuICAvKipcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoZSByZXNwb25zZSBmb3JtYXQgaXMgZm9yLCB1c2VkIGJ5IHRoZSBtb2RlbCB0byBkZXRlcm1pbmVcbiAgICogaG93IHRvIHJlc3BvbmQgaW4gdGhlIGZvcm1hdC5cbiAgICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgcmVzcG9uc2UgZm9ybWF0LiBNdXN0IGJlIGEteiwgQS1aLCAwLTksIG9yIGNvbnRhaW4gdW5kZXJzY29yZXNcbiAgICogYW5kIGRhc2hlcywgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0LlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgc3RyaWN0IHNjaGVtYSBhZGhlcmVuY2Ugd2hlbiBnZW5lcmF0aW5nIHRoZSBvdXRwdXQuIElmIHNldCB0b1xuICAgKiB0cnVlLCB0aGUgbW9kZWwgd2lsbCBhbHdheXMgZm9sbG93IHRoZSBleGFjdCBzY2hlbWEgZGVmaW5lZCBpbiB0aGUgYHNjaGVtYWBcbiAgICogZmllbGQuIE9ubHkgYSBzdWJzZXQgb2YgSlNPTiBTY2hlbWEgaXMgc3VwcG9ydGVkIHdoZW4gYHN0cmljdGAgaXMgYHRydWVgLiBUb1xuICAgKiBsZWFybiBtb3JlLCByZWFkIHRoZVxuICAgKiBbU3RydWN0dXJlZCBPdXRwdXRzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzKS5cbiAgICovXG4gIHN0cmljdD86IGJvb2xlYW4gfCBudWxsO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiB0aGVyZSBpcyBhIHBhcnRpYWwgZnVuY3Rpb24tY2FsbCBhcmd1bWVudHMgZGVsdGEuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBmdW5jdGlvbi1jYWxsIGFyZ3VtZW50cyBkZWx0YSB0aGF0IGlzIGFkZGVkLlxuICAgKi9cbiAgZGVsdGE6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBmdW5jdGlvbi1jYWxsIGFyZ3VtZW50cyBkZWx0YSBpcyBhZGRlZCB0by5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSBmdW5jdGlvbi1jYWxsIGFyZ3VtZW50cyBkZWx0YSBpcyBhZGRlZCB0by5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZGVsdGFgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gZnVuY3Rpb24tY2FsbCBhcmd1bWVudHMgYXJlIGZpbmFsaXplZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24tY2FsbCBhcmd1bWVudHMuXG4gICAqL1xuICBhcmd1bWVudHM6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBpdGVtLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgdHlwZTogJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRvbmUnO1xufVxuXG4vKipcbiAqIEEgdG9vbCBjYWxsIHRvIHJ1biBhIGZ1bmN0aW9uLiBTZWUgdGhlXG4gKiBbZnVuY3Rpb24gY2FsbGluZyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2Z1bmN0aW9uLWNhbGxpbmcpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGwge1xuICAvKipcbiAgICogQSBKU09OIHN0cmluZyBvZiB0aGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGZ1bmN0aW9uLlxuICAgKi9cbiAgYXJndW1lbnRzOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIGZ1bmN0aW9uIHRvb2wgY2FsbCBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgY2FsbF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gcnVuLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZnVuY3Rpb24gdG9vbCBjYWxsLiBBbHdheXMgYGZ1bmN0aW9uX2NhbGxgLlxuICAgKi9cbiAgdHlwZTogJ2Z1bmN0aW9uX2NhbGwnO1xuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBmdW5jdGlvbiB0b29sIGNhbGwuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgaXRlbS4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBvciBgaW5jb21wbGV0ZWAuXG4gICAqIFBvcHVsYXRlZCB3aGVuIGl0ZW1zIGFyZSByZXR1cm5lZCB2aWEgQVBJLlxuICAgKi9cbiAgc3RhdHVzPzogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2luY29tcGxldGUnO1xufVxuXG4vKipcbiAqIEEgdG9vbCBjYWxsIHRvIHJ1biBhIGZ1bmN0aW9uLiBTZWUgdGhlXG4gKiBbZnVuY3Rpb24gY2FsbGluZyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2Z1bmN0aW9uLWNhbGxpbmcpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGxJdGVtIGV4dGVuZHMgUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsIHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIGZ1bmN0aW9uIHRvb2wgY2FsbC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsT3V0cHV0SXRlbSB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBmdW5jdGlvbiBjYWxsIHRvb2wgb3V0cHV0LlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgZnVuY3Rpb24gdG9vbCBjYWxsIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuXG4gICAqL1xuICBjYWxsX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgSlNPTiBzdHJpbmcgb2YgdGhlIG91dHB1dCBvZiB0aGUgZnVuY3Rpb24gdG9vbCBjYWxsLlxuICAgKi9cbiAgb3V0cHV0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBmdW5jdGlvbiB0b29sIGNhbGwgb3V0cHV0LiBBbHdheXMgYGZ1bmN0aW9uX2NhbGxfb3V0cHV0YC5cbiAgICovXG4gIHR5cGU6ICdmdW5jdGlvbl9jYWxsX291dHB1dCc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGl0ZW0uIE9uZSBvZiBgaW5fcHJvZ3Jlc3NgLCBgY29tcGxldGVkYCwgb3IgYGluY29tcGxldGVgLlxuICAgKiBQb3B1bGF0ZWQgd2hlbiBpdGVtcyBhcmUgcmV0dXJuZWQgdmlhIEFQSS5cbiAgICovXG4gIHN0YXR1cz86ICdpbl9wcm9ncmVzcycgfCAnY29tcGxldGVkJyB8ICdpbmNvbXBsZXRlJztcbn1cblxuLyoqXG4gKiBUaGUgcmVzdWx0cyBvZiBhIHdlYiBzZWFyY2ggdG9vbCBjYWxsLiBTZWUgdGhlXG4gKiBbd2ViIHNlYXJjaCBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLXdlYi1zZWFyY2gpIGZvclxuICogbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUZ1bmN0aW9uV2ViU2VhcmNoIHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHdlYiBzZWFyY2ggdG9vbCBjYWxsLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgd2ViIHNlYXJjaCB0b29sIGNhbGwuXG4gICAqL1xuICBzdGF0dXM6ICdpbl9wcm9ncmVzcycgfCAnc2VhcmNoaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2ZhaWxlZCc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSB3ZWIgc2VhcmNoIHRvb2wgY2FsbC4gQWx3YXlzIGB3ZWJfc2VhcmNoX2NhbGxgLlxuICAgKi9cbiAgdHlwZTogJ3dlYl9zZWFyY2hfY2FsbCc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZSByZXNwb25zZSBpcyBpbiBwcm9ncmVzcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUluUHJvZ3Jlc3NFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgcmVzcG9uc2UgdGhhdCBpcyBpbiBwcm9ncmVzcy5cbiAgICovXG4gIHJlc3BvbnNlOiBSZXNwb25zZTtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLmluX3Byb2dyZXNzYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5pbl9wcm9ncmVzcyc7XG59XG5cbi8qKlxuICogU3BlY2lmeSBhZGRpdGlvbmFsIG91dHB1dCBkYXRhIHRvIGluY2x1ZGUgaW4gdGhlIG1vZGVsIHJlc3BvbnNlLiBDdXJyZW50bHlcbiAqIHN1cHBvcnRlZCB2YWx1ZXMgYXJlOlxuICpcbiAqIC0gYGZpbGVfc2VhcmNoX2NhbGwucmVzdWx0c2A6IEluY2x1ZGUgdGhlIHNlYXJjaCByZXN1bHRzIG9mIHRoZSBmaWxlIHNlYXJjaCB0b29sXG4gKiAgIGNhbGwuXG4gKiAtIGBtZXNzYWdlLmlucHV0X2ltYWdlLmltYWdlX3VybGA6IEluY2x1ZGUgaW1hZ2UgdXJscyBmcm9tIHRoZSBpbnB1dCBtZXNzYWdlLlxuICogLSBgY29tcHV0ZXJfY2FsbF9vdXRwdXQub3V0cHV0LmltYWdlX3VybGA6IEluY2x1ZGUgaW1hZ2UgdXJscyBmcm9tIHRoZSBjb21wdXRlclxuICogICBjYWxsIG91dHB1dC5cbiAqL1xuZXhwb3J0IHR5cGUgUmVzcG9uc2VJbmNsdWRhYmxlID1cbiAgfCAnZmlsZV9zZWFyY2hfY2FsbC5yZXN1bHRzJ1xuICB8ICdtZXNzYWdlLmlucHV0X2ltYWdlLmltYWdlX3VybCdcbiAgfCAnY29tcHV0ZXJfY2FsbF9vdXRwdXQub3V0cHV0LmltYWdlX3VybCc7XG5cbi8qKlxuICogQW4gZXZlbnQgdGhhdCBpcyBlbWl0dGVkIHdoZW4gYSByZXNwb25zZSBmaW5pc2hlcyBhcyBpbmNvbXBsZXRlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlSW5jb21wbGV0ZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSByZXNwb25zZSB0aGF0IHdhcyBpbmNvbXBsZXRlLlxuICAgKi9cbiAgcmVzcG9uc2U6IFJlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UuaW5jb21wbGV0ZWAuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2UuaW5jb21wbGV0ZSc7XG59XG5cbi8qKlxuICogQSBsaXN0IG9mIG9uZSBvciBtYW55IGlucHV0IGl0ZW1zIHRvIHRoZSBtb2RlbCwgY29udGFpbmluZyBkaWZmZXJlbnQgY29udGVudFxuICogdHlwZXMuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3BvbnNlSW5wdXQgPSBBcnJheTxSZXNwb25zZUlucHV0SXRlbT47XG5cbi8qKlxuICogQW4gYXVkaW8gaW5wdXQgdG8gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlSW5wdXRBdWRpbyB7XG4gIC8qKlxuICAgKiBCYXNlNjQtZW5jb2RlZCBhdWRpbyBkYXRhLlxuICAgKi9cbiAgZGF0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZm9ybWF0IG9mIHRoZSBhdWRpbyBkYXRhLiBDdXJyZW50bHkgc3VwcG9ydGVkIGZvcm1hdHMgYXJlIGBtcDNgIGFuZCBgd2F2YC5cbiAgICovXG4gIGZvcm1hdDogJ21wMycgfCAnd2F2JztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGlucHV0IGl0ZW0uIEFsd2F5cyBgaW5wdXRfYXVkaW9gLlxuICAgKi9cbiAgdHlwZTogJ2lucHV0X2F1ZGlvJztcbn1cblxuLyoqXG4gKiBBIHRleHQgaW5wdXQgdG8gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgdHlwZSBSZXNwb25zZUlucHV0Q29udGVudCA9IFJlc3BvbnNlSW5wdXRUZXh0IHwgUmVzcG9uc2VJbnB1dEltYWdlIHwgUmVzcG9uc2VJbnB1dEZpbGU7XG5cbi8qKlxuICogQSBmaWxlIGlucHV0IHRvIHRoZSBtb2RlbC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUlucHV0RmlsZSB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgaW5wdXQgaXRlbS4gQWx3YXlzIGBpbnB1dF9maWxlYC5cbiAgICovXG4gIHR5cGU6ICdpbnB1dF9maWxlJztcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGZpbGUgdG8gYmUgc2VudCB0byB0aGUgbW9kZWwuXG4gICAqL1xuICBmaWxlX2RhdGE/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgZmlsZSB0byBiZSBzZW50IHRvIHRoZSBtb2RlbC5cbiAgICovXG4gIGZpbGVfaWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmaWxlIHRvIGJlIHNlbnQgdG8gdGhlIG1vZGVsLlxuICAgKi9cbiAgZmlsZW5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQW4gaW1hZ2UgaW5wdXQgdG8gdGhlIG1vZGVsLiBMZWFybiBhYm91dFxuICogW2ltYWdlIGlucHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Zpc2lvbikuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VJbnB1dEltYWdlIHtcbiAgLyoqXG4gICAqIFRoZSBkZXRhaWwgbGV2ZWwgb2YgdGhlIGltYWdlIHRvIGJlIHNlbnQgdG8gdGhlIG1vZGVsLiBPbmUgb2YgYGhpZ2hgLCBgbG93YCwgb3JcbiAgICogYGF1dG9gLiBEZWZhdWx0cyB0byBgYXV0b2AuXG4gICAqL1xuICBkZXRhaWw6ICdoaWdoJyB8ICdsb3cnIHwgJ2F1dG8nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgaW5wdXQgaXRlbS4gQWx3YXlzIGBpbnB1dF9pbWFnZWAuXG4gICAqL1xuICB0eXBlOiAnaW5wdXRfaW1hZ2UnO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gYmUgc2VudCB0byB0aGUgbW9kZWwuXG4gICAqL1xuICBmaWxlX2lkPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgaW1hZ2UgdG8gYmUgc2VudCB0byB0aGUgbW9kZWwuIEEgZnVsbHkgcXVhbGlmaWVkIFVSTCBvciBiYXNlNjRcbiAgICogZW5jb2RlZCBpbWFnZSBpbiBhIGRhdGEgVVJMLlxuICAgKi9cbiAgaW1hZ2VfdXJsPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBBIG1lc3NhZ2UgaW5wdXQgdG8gdGhlIG1vZGVsIHdpdGggYSByb2xlIGluZGljYXRpbmcgaW5zdHJ1Y3Rpb24gZm9sbG93aW5nXG4gKiBoaWVyYXJjaHkuIEluc3RydWN0aW9ucyBnaXZlbiB3aXRoIHRoZSBgZGV2ZWxvcGVyYCBvciBgc3lzdGVtYCByb2xlIHRha2VcbiAqIHByZWNlZGVuY2Ugb3ZlciBpbnN0cnVjdGlvbnMgZ2l2ZW4gd2l0aCB0aGUgYHVzZXJgIHJvbGUuIE1lc3NhZ2VzIHdpdGggdGhlXG4gKiBgYXNzaXN0YW50YCByb2xlIGFyZSBwcmVzdW1lZCB0byBoYXZlIGJlZW4gZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiBwcmV2aW91c1xuICogaW50ZXJhY3Rpb25zLlxuICovXG5leHBvcnQgdHlwZSBSZXNwb25zZUlucHV0SXRlbSA9XG4gIHwgRWFzeUlucHV0TWVzc2FnZVxuICB8IFJlc3BvbnNlSW5wdXRJdGVtLk1lc3NhZ2VcbiAgfCBSZXNwb25zZU91dHB1dE1lc3NhZ2VcbiAgfCBSZXNwb25zZUZpbGVTZWFyY2hUb29sQ2FsbFxuICB8IFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbFxuICB8IFJlc3BvbnNlSW5wdXRJdGVtLkNvbXB1dGVyQ2FsbE91dHB1dFxuICB8IFJlc3BvbnNlRnVuY3Rpb25XZWJTZWFyY2hcbiAgfCBSZXNwb25zZUZ1bmN0aW9uVG9vbENhbGxcbiAgfCBSZXNwb25zZUlucHV0SXRlbS5GdW5jdGlvbkNhbGxPdXRwdXRcbiAgfCBSZXNwb25zZVJlYXNvbmluZ0l0ZW1cbiAgfCBSZXNwb25zZUlucHV0SXRlbS5JdGVtUmVmZXJlbmNlO1xuXG5leHBvcnQgbmFtZXNwYWNlIFJlc3BvbnNlSW5wdXRJdGVtIHtcbiAgLyoqXG4gICAqIEEgbWVzc2FnZSBpbnB1dCB0byB0aGUgbW9kZWwgd2l0aCBhIHJvbGUgaW5kaWNhdGluZyBpbnN0cnVjdGlvbiBmb2xsb3dpbmdcbiAgICogaGllcmFyY2h5LiBJbnN0cnVjdGlvbnMgZ2l2ZW4gd2l0aCB0aGUgYGRldmVsb3BlcmAgb3IgYHN5c3RlbWAgcm9sZSB0YWtlXG4gICAqIHByZWNlZGVuY2Ugb3ZlciBpbnN0cnVjdGlvbnMgZ2l2ZW4gd2l0aCB0aGUgYHVzZXJgIHJvbGUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBvbmUgb3IgbWFueSBpbnB1dCBpdGVtcyB0byB0aGUgbW9kZWwsIGNvbnRhaW5pbmcgZGlmZmVyZW50IGNvbnRlbnRcbiAgICAgKiB0eXBlcy5cbiAgICAgKi9cbiAgICBjb250ZW50OiBSZXNwb25zZXNBUEkuUmVzcG9uc2VJbnB1dE1lc3NhZ2VDb250ZW50TGlzdDtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlIGlucHV0LiBPbmUgb2YgYHVzZXJgLCBgc3lzdGVtYCwgb3IgYGRldmVsb3BlcmAuXG4gICAgICovXG4gICAgcm9sZTogJ3VzZXInIHwgJ3N5c3RlbScgfCAnZGV2ZWxvcGVyJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0dXMgb2YgaXRlbS4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBvciBgaW5jb21wbGV0ZWAuXG4gICAgICogUG9wdWxhdGVkIHdoZW4gaXRlbXMgYXJlIHJldHVybmVkIHZpYSBBUEkuXG4gICAgICovXG4gICAgc3RhdHVzPzogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2luY29tcGxldGUnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG1lc3NhZ2UgaW5wdXQuIEFsd2F5cyBzZXQgdG8gYG1lc3NhZ2VgLlxuICAgICAqL1xuICAgIHR5cGU/OiAnbWVzc2FnZSc7XG4gIH1cblxuICAvKipcbiAgICogVGhlIG91dHB1dCBvZiBhIGNvbXB1dGVyIHRvb2wgY2FsbC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ29tcHV0ZXJDYWxsT3V0cHV0IHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIHRvb2wgY2FsbCB0aGF0IHByb2R1Y2VkIHRoZSBvdXRwdXQuXG4gICAgICovXG4gICAgY2FsbF9pZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQSBjb21wdXRlciBzY3JlZW5zaG90IGltYWdlIHVzZWQgd2l0aCB0aGUgY29tcHV0ZXIgdXNlIHRvb2wuXG4gICAgICovXG4gICAgb3V0cHV0OiBSZXNwb25zZXNBUEkuUmVzcG9uc2VDb21wdXRlclRvb2xDYWxsT3V0cHV0U2NyZWVuc2hvdDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBjb21wdXRlciB0b29sIGNhbGwgb3V0cHV0LiBBbHdheXMgYGNvbXB1dGVyX2NhbGxfb3V0cHV0YC5cbiAgICAgKi9cbiAgICB0eXBlOiAnY29tcHV0ZXJfY2FsbF9vdXRwdXQnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBjb21wdXRlciB0b29sIGNhbGwgb3V0cHV0LlxuICAgICAqL1xuICAgIGlkPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNhZmV0eSBjaGVja3MgcmVwb3J0ZWQgYnkgdGhlIEFQSSB0aGF0IGhhdmUgYmVlbiBhY2tub3dsZWRnZWQgYnkgdGhlXG4gICAgICogZGV2ZWxvcGVyLlxuICAgICAqL1xuICAgIGFja25vd2xlZGdlZF9zYWZldHlfY2hlY2tzPzogQXJyYXk8Q29tcHV0ZXJDYWxsT3V0cHV0LkFja25vd2xlZGdlZFNhZmV0eUNoZWNrPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0dXMgb2YgdGhlIG1lc3NhZ2UgaW5wdXQuIE9uZSBvZiBgaW5fcHJvZ3Jlc3NgLCBgY29tcGxldGVkYCwgb3JcbiAgICAgKiBgaW5jb21wbGV0ZWAuIFBvcHVsYXRlZCB3aGVuIGlucHV0IGl0ZW1zIGFyZSByZXR1cm5lZCB2aWEgQVBJLlxuICAgICAqL1xuICAgIHN0YXR1cz86ICdpbl9wcm9ncmVzcycgfCAnY29tcGxldGVkJyB8ICdpbmNvbXBsZXRlJztcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgQ29tcHV0ZXJDYWxsT3V0cHV0IHtcbiAgICAvKipcbiAgICAgKiBBIHBlbmRpbmcgc2FmZXR5IGNoZWNrIGZvciB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIEFja25vd2xlZGdlZFNhZmV0eUNoZWNrIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIElEIG9mIHRoZSBwZW5kaW5nIHNhZmV0eSBjaGVjay5cbiAgICAgICAqL1xuICAgICAgaWQ6IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcGVuZGluZyBzYWZldHkgY2hlY2suXG4gICAgICAgKi9cbiAgICAgIGNvZGU6IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXRhaWxzIGFib3V0IHRoZSBwZW5kaW5nIHNhZmV0eSBjaGVjay5cbiAgICAgICAqL1xuICAgICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgb3V0cHV0IG9mIGEgZnVuY3Rpb24gdG9vbCBjYWxsLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbkNhbGxPdXRwdXQge1xuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIGZ1bmN0aW9uIHRvb2wgY2FsbCBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGNhbGxfaWQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgSlNPTiBzdHJpbmcgb2YgdGhlIG91dHB1dCBvZiB0aGUgZnVuY3Rpb24gdG9vbCBjYWxsLlxuICAgICAqL1xuICAgIG91dHB1dDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIGZ1bmN0aW9uIHRvb2wgY2FsbCBvdXRwdXQuIEFsd2F5cyBgZnVuY3Rpb25fY2FsbF9vdXRwdXRgLlxuICAgICAqL1xuICAgIHR5cGU6ICdmdW5jdGlvbl9jYWxsX291dHB1dCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBmdW5jdGlvbiB0b29sIGNhbGwgb3V0cHV0LiBQb3B1bGF0ZWQgd2hlbiB0aGlzIGl0ZW0gaXNcbiAgICAgKiByZXR1cm5lZCB2aWEgQVBJLlxuICAgICAqL1xuICAgIGlkPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiB0aGUgaXRlbS4gT25lIG9mIGBpbl9wcm9ncmVzc2AsIGBjb21wbGV0ZWRgLCBvciBgaW5jb21wbGV0ZWAuXG4gICAgICogUG9wdWxhdGVkIHdoZW4gaXRlbXMgYXJlIHJldHVybmVkIHZpYSBBUEkuXG4gICAgICovXG4gICAgc3RhdHVzPzogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2luY29tcGxldGUnO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIGludGVybmFsIGlkZW50aWZpZXIgZm9yIGFuIGl0ZW0gdG8gcmVmZXJlbmNlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBJdGVtUmVmZXJlbmNlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGl0ZW0gdG8gcmVmZXJlbmNlLlxuICAgICAqL1xuICAgIGlkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBpdGVtIHRvIHJlZmVyZW5jZS4gQWx3YXlzIGBpdGVtX3JlZmVyZW5jZWAuXG4gICAgICovXG4gICAgdHlwZTogJ2l0ZW1fcmVmZXJlbmNlJztcbiAgfVxufVxuXG4vKipcbiAqIEEgbGlzdCBvZiBvbmUgb3IgbWFueSBpbnB1dCBpdGVtcyB0byB0aGUgbW9kZWwsIGNvbnRhaW5pbmcgZGlmZmVyZW50IGNvbnRlbnRcbiAqIHR5cGVzLlxuICovXG5leHBvcnQgdHlwZSBSZXNwb25zZUlucHV0TWVzc2FnZUNvbnRlbnRMaXN0ID0gQXJyYXk8UmVzcG9uc2VJbnB1dENvbnRlbnQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlSW5wdXRNZXNzYWdlSXRlbSB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBtZXNzYWdlIGlucHV0LlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQSBsaXN0IG9mIG9uZSBvciBtYW55IGlucHV0IGl0ZW1zIHRvIHRoZSBtb2RlbCwgY29udGFpbmluZyBkaWZmZXJlbnQgY29udGVudFxuICAgKiB0eXBlcy5cbiAgICovXG4gIGNvbnRlbnQ6IFJlc3BvbnNlSW5wdXRNZXNzYWdlQ29udGVudExpc3Q7XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBtZXNzYWdlIGlucHV0LiBPbmUgb2YgYHVzZXJgLCBgc3lzdGVtYCwgb3IgYGRldmVsb3BlcmAuXG4gICAqL1xuICByb2xlOiAndXNlcicgfCAnc3lzdGVtJyB8ICdkZXZlbG9wZXInO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIGl0ZW0uIE9uZSBvZiBgaW5fcHJvZ3Jlc3NgLCBgY29tcGxldGVkYCwgb3IgYGluY29tcGxldGVgLlxuICAgKiBQb3B1bGF0ZWQgd2hlbiBpdGVtcyBhcmUgcmV0dXJuZWQgdmlhIEFQSS5cbiAgICovXG4gIHN0YXR1cz86ICdpbl9wcm9ncmVzcycgfCAnY29tcGxldGVkJyB8ICdpbmNvbXBsZXRlJztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIG1lc3NhZ2UgaW5wdXQuIEFsd2F5cyBzZXQgdG8gYG1lc3NhZ2VgLlxuICAgKi9cbiAgdHlwZT86ICdtZXNzYWdlJztcbn1cblxuLyoqXG4gKiBBIHRleHQgaW5wdXQgdG8gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlSW5wdXRUZXh0IHtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGlucHV0IHRvIHRoZSBtb2RlbC5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGlucHV0IGl0ZW0uIEFsd2F5cyBgaW5wdXRfdGV4dGAuXG4gICAqL1xuICB0eXBlOiAnaW5wdXRfdGV4dCc7XG59XG5cbi8qKlxuICogQ29udGVudCBpdGVtIHVzZWQgdG8gZ2VuZXJhdGUgYSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IHR5cGUgUmVzcG9uc2VJdGVtID1cbiAgfCBSZXNwb25zZUlucHV0TWVzc2FnZUl0ZW1cbiAgfCBSZXNwb25zZU91dHB1dE1lc3NhZ2VcbiAgfCBSZXNwb25zZUZpbGVTZWFyY2hUb29sQ2FsbFxuICB8IFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbFxuICB8IFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbE91dHB1dEl0ZW1cbiAgfCBSZXNwb25zZUZ1bmN0aW9uV2ViU2VhcmNoXG4gIHwgUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsSXRlbVxuICB8IFJlc3BvbnNlRnVuY3Rpb25Ub29sQ2FsbE91dHB1dEl0ZW07XG5cbi8qKlxuICogQW4gYXVkaW8gb3V0cHV0IGZyb20gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlT3V0cHV0QXVkaW8ge1xuICAvKipcbiAgICogQmFzZTY0LWVuY29kZWQgYXVkaW8gZGF0YSBmcm9tIHRoZSBtb2RlbC5cbiAgICovXG4gIGRhdGE6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHRyYW5zY3JpcHQgb2YgdGhlIGF1ZGlvIGRhdGEgZnJvbSB0aGUgbW9kZWwuXG4gICAqL1xuICB0cmFuc2NyaXB0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBvdXRwdXQgYXVkaW8uIEFsd2F5cyBgb3V0cHV0X2F1ZGlvYC5cbiAgICovXG4gIHR5cGU6ICdvdXRwdXRfYXVkaW8nO1xufVxuXG4vKipcbiAqIEFuIG91dHB1dCBtZXNzYWdlIGZyb20gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgdHlwZSBSZXNwb25zZU91dHB1dEl0ZW0gPVxuICB8IFJlc3BvbnNlT3V0cHV0TWVzc2FnZVxuICB8IFJlc3BvbnNlRmlsZVNlYXJjaFRvb2xDYWxsXG4gIHwgUmVzcG9uc2VGdW5jdGlvblRvb2xDYWxsXG4gIHwgUmVzcG9uc2VGdW5jdGlvbldlYlNlYXJjaFxuICB8IFJlc3BvbnNlQ29tcHV0ZXJUb29sQ2FsbFxuICB8IFJlc3BvbnNlUmVhc29uaW5nSXRlbTtcblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYSBuZXcgb3V0cHV0IGl0ZW0gaXMgYWRkZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VPdXRwdXRJdGVtQWRkZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgb3V0cHV0IGl0ZW0gdGhhdCB3YXMgYWRkZWQuXG4gICAqL1xuICBpdGVtOiBSZXNwb25zZU91dHB1dEl0ZW07XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB3YXMgYWRkZWQuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5vdXRwdXRfaXRlbS5hZGRlZCc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIGFuIG91dHB1dCBpdGVtIGlzIG1hcmtlZCBkb25lLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlT3V0cHV0SXRlbURvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgb3V0cHV0IGl0ZW0gdGhhdCB3YXMgbWFya2VkIGRvbmUuXG4gICAqL1xuICBpdGVtOiBSZXNwb25zZU91dHB1dEl0ZW07XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB3YXMgbWFya2VkIGRvbmUuXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmVgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmUnO1xufVxuXG4vKipcbiAqIEFuIG91dHB1dCBtZXNzYWdlIGZyb20gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlT3V0cHV0TWVzc2FnZSB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIG9mIHRoZSBvdXRwdXQgbWVzc2FnZS5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBvdXRwdXQgbWVzc2FnZS5cbiAgICovXG4gIGNvbnRlbnQ6IEFycmF5PFJlc3BvbnNlT3V0cHV0VGV4dCB8IFJlc3BvbnNlT3V0cHV0UmVmdXNhbD47XG5cbiAgLyoqXG4gICAqIFRoZSByb2xlIG9mIHRoZSBvdXRwdXQgbWVzc2FnZS4gQWx3YXlzIGBhc3Npc3RhbnRgLlxuICAgKi9cbiAgcm9sZTogJ2Fzc2lzdGFudCc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIG1lc3NhZ2UgaW5wdXQuIE9uZSBvZiBgaW5fcHJvZ3Jlc3NgLCBgY29tcGxldGVkYCwgb3JcbiAgICogYGluY29tcGxldGVgLiBQb3B1bGF0ZWQgd2hlbiBpbnB1dCBpdGVtcyBhcmUgcmV0dXJuZWQgdmlhIEFQSS5cbiAgICovXG4gIHN0YXR1czogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2luY29tcGxldGUnO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgb3V0cHV0IG1lc3NhZ2UuIEFsd2F5cyBgbWVzc2FnZWAuXG4gICAqL1xuICB0eXBlOiAnbWVzc2FnZSc7XG59XG5cbi8qKlxuICogQSByZWZ1c2FsIGZyb20gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlT3V0cHV0UmVmdXNhbCB7XG4gIC8qKlxuICAgKiBUaGUgcmVmdXNhbCBleHBsYW5hdGlvbmZyb20gdGhlIG1vZGVsLlxuICAgKi9cbiAgcmVmdXNhbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgcmVmdXNhbC4gQWx3YXlzIGByZWZ1c2FsYC5cbiAgICovXG4gIHR5cGU6ICdyZWZ1c2FsJztcbn1cblxuLyoqXG4gKiBBIHRleHQgb3V0cHV0IGZyb20gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlT3V0cHV0VGV4dCB7XG4gIC8qKlxuICAgKiBUaGUgYW5ub3RhdGlvbnMgb2YgdGhlIHRleHQgb3V0cHV0LlxuICAgKi9cbiAgYW5ub3RhdGlvbnM6IEFycmF5PFxuICAgIFJlc3BvbnNlT3V0cHV0VGV4dC5GaWxlQ2l0YXRpb24gfCBSZXNwb25zZU91dHB1dFRleHQuVVJMQ2l0YXRpb24gfCBSZXNwb25zZU91dHB1dFRleHQuRmlsZVBhdGhcbiAgPjtcblxuICAvKipcbiAgICogVGhlIHRleHQgb3V0cHV0IGZyb20gdGhlIG1vZGVsLlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgb3V0cHV0IHRleHQuIEFsd2F5cyBgb3V0cHV0X3RleHRgLlxuICAgKi9cbiAgdHlwZTogJ291dHB1dF90ZXh0Jztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZU91dHB1dFRleHQge1xuICAvKipcbiAgICogQSBjaXRhdGlvbiB0byBhIGZpbGUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEZpbGVDaXRhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBmaWxlLlxuICAgICAqL1xuICAgIGZpbGVfaWQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgZmlsZSBpbiB0aGUgbGlzdCBvZiBmaWxlcy5cbiAgICAgKi9cbiAgICBpbmRleDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIGZpbGUgY2l0YXRpb24uIEFsd2F5cyBgZmlsZV9jaXRhdGlvbmAuXG4gICAgICovXG4gICAgdHlwZTogJ2ZpbGVfY2l0YXRpb24nO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgY2l0YXRpb24gZm9yIGEgd2ViIHJlc291cmNlIHVzZWQgdG8gZ2VuZXJhdGUgYSBtb2RlbCByZXNwb25zZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVVJMQ2l0YXRpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgdGhlIFVSTCBjaXRhdGlvbiBpbiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBlbmRfaW5kZXg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIHRoZSBVUkwgY2l0YXRpb24gaW4gdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgc3RhcnRfaW5kZXg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aXRsZSBvZiB0aGUgd2ViIHJlc291cmNlLlxuICAgICAqL1xuICAgIHRpdGxlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgVVJMIGNpdGF0aW9uLiBBbHdheXMgYHVybF9jaXRhdGlvbmAuXG4gICAgICovXG4gICAgdHlwZTogJ3VybF9jaXRhdGlvbic7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgVVJMIG9mIHRoZSB3ZWIgcmVzb3VyY2UuXG4gICAgICovXG4gICAgdXJsOiBzdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogQSBwYXRoIHRvIGEgZmlsZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVBhdGgge1xuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgZmlsZS5cbiAgICAgKi9cbiAgICBmaWxlX2lkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGZpbGUgaW4gdGhlIGxpc3Qgb2YgZmlsZXMuXG4gICAgICovXG4gICAgaW5kZXg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBmaWxlIHBhdGguIEFsd2F5cyBgZmlsZV9wYXRoYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnZmlsZV9wYXRoJztcbiAgfVxufVxuXG4vKipcbiAqIEEgZGVzY3JpcHRpb24gb2YgdGhlIGNoYWluIG9mIHRob3VnaHQgdXNlZCBieSBhIHJlYXNvbmluZyBtb2RlbCB3aGlsZSBnZW5lcmF0aW5nXG4gKiBhIHJlc3BvbnNlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlUmVhc29uaW5nSXRlbSB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHJlYXNvbmluZyBjb250ZW50LlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogUmVhc29uaW5nIHRleHQgY29udGVudHMuXG4gICAqL1xuICBzdW1tYXJ5OiBBcnJheTxSZXNwb25zZVJlYXNvbmluZ0l0ZW0uU3VtbWFyeT47XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QuIEFsd2F5cyBgcmVhc29uaW5nYC5cbiAgICovXG4gIHR5cGU6ICdyZWFzb25pbmcnO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBpdGVtLiBPbmUgb2YgYGluX3Byb2dyZXNzYCwgYGNvbXBsZXRlZGAsIG9yIGBpbmNvbXBsZXRlYC5cbiAgICogUG9wdWxhdGVkIHdoZW4gaXRlbXMgYXJlIHJldHVybmVkIHZpYSBBUEkuXG4gICAqL1xuICBzdGF0dXM/OiAnaW5fcHJvZ3Jlc3MnIHwgJ2NvbXBsZXRlZCcgfCAnaW5jb21wbGV0ZSc7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgUmVzcG9uc2VSZWFzb25pbmdJdGVtIHtcbiAgZXhwb3J0IGludGVyZmFjZSBTdW1tYXJ5IHtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IHN1bW1hcnkgb2YgdGhlIHJlYXNvbmluZyB1c2VkIGJ5IHRoZSBtb2RlbCB3aGVuIGdlbmVyYXRpbmcgdGhlIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIHRleHQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QuIEFsd2F5cyBgc3VtbWFyeV90ZXh0YC5cbiAgICAgKi9cbiAgICB0eXBlOiAnc3VtbWFyeV90ZXh0JztcbiAgfVxufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiB0aGVyZSBpcyBhIHBhcnRpYWwgcmVmdXNhbCB0ZXh0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlUmVmdXNhbERlbHRhRXZlbnQge1xuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBjb250ZW50IHBhcnQgdGhhdCB0aGUgcmVmdXNhbCB0ZXh0IGlzIGFkZGVkIHRvLlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVmdXNhbCB0ZXh0IHRoYXQgaXMgYWRkZWQuXG4gICAqL1xuICBkZWx0YTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIHJlZnVzYWwgdGV4dCBpcyBhZGRlZCB0by5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSByZWZ1c2FsIHRleHQgaXMgYWRkZWQgdG8uXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLnJlZnVzYWwuZGVsdGFgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLnJlZnVzYWwuZGVsdGEnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiByZWZ1c2FsIHRleHQgaXMgZmluYWxpemVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlUmVmdXNhbERvbmVFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGNvbnRlbnQgcGFydCB0aGF0IHRoZSByZWZ1c2FsIHRleHQgaXMgZmluYWxpemVkLlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIHJlZnVzYWwgdGV4dCBpcyBmaW5hbGl6ZWQuXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgcmVmdXNhbCB0ZXh0IGlzIGZpbmFsaXplZC5cbiAgICovXG4gIG91dHB1dF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVmdXNhbCB0ZXh0IHRoYXQgaXMgZmluYWxpemVkLlxuICAgKi9cbiAgcmVmdXNhbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuIEFsd2F5cyBgcmVzcG9uc2UucmVmdXNhbC5kb25lYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5yZWZ1c2FsLmRvbmUnO1xufVxuXG4vKipcbiAqIFRoZSBzdGF0dXMgb2YgdGhlIHJlc3BvbnNlIGdlbmVyYXRpb24uIE9uZSBvZiBgY29tcGxldGVkYCwgYGZhaWxlZGAsXG4gKiBgaW5fcHJvZ3Jlc3NgLCBvciBgaW5jb21wbGV0ZWAuXG4gKi9cbmV4cG9ydCB0eXBlIFJlc3BvbnNlU3RhdHVzID0gJ2NvbXBsZXRlZCcgfCAnZmFpbGVkJyB8ICdpbl9wcm9ncmVzcycgfCAnaW5jb21wbGV0ZSc7XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZXJlIGlzIGEgcGFydGlhbCBhdWRpbyByZXNwb25zZS5cbiAqL1xuZXhwb3J0IHR5cGUgUmVzcG9uc2VTdHJlYW1FdmVudCA9XG4gIHwgUmVzcG9uc2VBdWRpb0RlbHRhRXZlbnRcbiAgfCBSZXNwb25zZUF1ZGlvRG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VBdWRpb1RyYW5zY3JpcHREZWx0YUV2ZW50XG4gIHwgUmVzcG9uc2VBdWRpb1RyYW5zY3JpcHREb25lRXZlbnRcbiAgfCBSZXNwb25zZUNvZGVJbnRlcnByZXRlckNhbGxDb2RlRGVsdGFFdmVudFxuICB8IFJlc3BvbnNlQ29kZUludGVycHJldGVyQ2FsbENvZGVEb25lRXZlbnRcbiAgfCBSZXNwb25zZUNvZGVJbnRlcnByZXRlckNhbGxDb21wbGV0ZWRFdmVudFxuICB8IFJlc3BvbnNlQ29kZUludGVycHJldGVyQ2FsbEluUHJvZ3Jlc3NFdmVudFxuICB8IFJlc3BvbnNlQ29kZUludGVycHJldGVyQ2FsbEludGVycHJldGluZ0V2ZW50XG4gIHwgUmVzcG9uc2VDb21wbGV0ZWRFdmVudFxuICB8IFJlc3BvbnNlQ29udGVudFBhcnRBZGRlZEV2ZW50XG4gIHwgUmVzcG9uc2VDb250ZW50UGFydERvbmVFdmVudFxuICB8IFJlc3BvbnNlQ3JlYXRlZEV2ZW50XG4gIHwgUmVzcG9uc2VFcnJvckV2ZW50XG4gIHwgUmVzcG9uc2VGaWxlU2VhcmNoQ2FsbENvbXBsZXRlZEV2ZW50XG4gIHwgUmVzcG9uc2VGaWxlU2VhcmNoQ2FsbEluUHJvZ3Jlc3NFdmVudFxuICB8IFJlc3BvbnNlRmlsZVNlYXJjaENhbGxTZWFyY2hpbmdFdmVudFxuICB8IFJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudFxuICB8IFJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VJblByb2dyZXNzRXZlbnRcbiAgfCBSZXNwb25zZUZhaWxlZEV2ZW50XG4gIHwgUmVzcG9uc2VJbmNvbXBsZXRlRXZlbnRcbiAgfCBSZXNwb25zZU91dHB1dEl0ZW1BZGRlZEV2ZW50XG4gIHwgUmVzcG9uc2VPdXRwdXRJdGVtRG9uZUV2ZW50XG4gIHwgUmVzcG9uc2VSZWZ1c2FsRGVsdGFFdmVudFxuICB8IFJlc3BvbnNlUmVmdXNhbERvbmVFdmVudFxuICB8IFJlc3BvbnNlVGV4dEFubm90YXRpb25EZWx0YUV2ZW50XG4gIHwgUmVzcG9uc2VUZXh0RGVsdGFFdmVudFxuICB8IFJlc3BvbnNlVGV4dERvbmVFdmVudFxuICB8IFJlc3BvbnNlV2ViU2VhcmNoQ2FsbENvbXBsZXRlZEV2ZW50XG4gIHwgUmVzcG9uc2VXZWJTZWFyY2hDYWxsSW5Qcm9ncmVzc0V2ZW50XG4gIHwgUmVzcG9uc2VXZWJTZWFyY2hDYWxsU2VhcmNoaW5nRXZlbnQ7XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIGEgdGV4dCBhbm5vdGF0aW9uIGlzIGFkZGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlVGV4dEFubm90YXRpb25EZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIEEgY2l0YXRpb24gdG8gYSBmaWxlLlxuICAgKi9cbiAgYW5ub3RhdGlvbjpcbiAgICB8IFJlc3BvbnNlVGV4dEFubm90YXRpb25EZWx0YUV2ZW50LkZpbGVDaXRhdGlvblxuICAgIHwgUmVzcG9uc2VUZXh0QW5ub3RhdGlvbkRlbHRhRXZlbnQuVVJMQ2l0YXRpb25cbiAgICB8IFJlc3BvbnNlVGV4dEFubm90YXRpb25EZWx0YUV2ZW50LkZpbGVQYXRoO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIGFubm90YXRpb24gdGhhdCB3YXMgYWRkZWQuXG4gICAqL1xuICBhbm5vdGF0aW9uX2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IHRoYXQgdGhlIHRleHQgYW5ub3RhdGlvbiB3YXMgYWRkZWQgdG8uXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgdGV4dCBhbm5vdGF0aW9uIHdhcyBhZGRlZCB0by5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSB0ZXh0IGFubm90YXRpb24gd2FzIGFkZGVkIHRvLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5vdXRwdXRfdGV4dC5hbm5vdGF0aW9uLmFkZGVkYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5vdXRwdXRfdGV4dC5hbm5vdGF0aW9uLmFkZGVkJztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZVRleHRBbm5vdGF0aW9uRGVsdGFFdmVudCB7XG4gIC8qKlxuICAgKiBBIGNpdGF0aW9uIHRvIGEgZmlsZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZUNpdGF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGZpbGUuXG4gICAgICovXG4gICAgZmlsZV9pZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBmaWxlIGluIHRoZSBsaXN0IG9mIGZpbGVzLlxuICAgICAqL1xuICAgIGluZGV4OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgZmlsZSBjaXRhdGlvbi4gQWx3YXlzIGBmaWxlX2NpdGF0aW9uYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnZmlsZV9jaXRhdGlvbic7XG4gIH1cblxuICAvKipcbiAgICogQSBjaXRhdGlvbiBmb3IgYSB3ZWIgcmVzb3VyY2UgdXNlZCB0byBnZW5lcmF0ZSBhIG1vZGVsIHJlc3BvbnNlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBVUkxDaXRhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBsYXN0IGNoYXJhY3RlciBvZiB0aGUgVVJMIGNpdGF0aW9uIGluIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIGVuZF9pbmRleDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgdGhlIFVSTCBjaXRhdGlvbiBpbiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBzdGFydF9pbmRleDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpdGxlIG9mIHRoZSB3ZWIgcmVzb3VyY2UuXG4gICAgICovXG4gICAgdGl0bGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBVUkwgY2l0YXRpb24uIEFsd2F5cyBgdXJsX2NpdGF0aW9uYC5cbiAgICAgKi9cbiAgICB0eXBlOiAndXJsX2NpdGF0aW9uJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBVUkwgb2YgdGhlIHdlYiByZXNvdXJjZS5cbiAgICAgKi9cbiAgICB1cmw6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHBhdGggdG8gYSBmaWxlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlUGF0aCB7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSBmaWxlLlxuICAgICAqL1xuICAgIGZpbGVfaWQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgZmlsZSBpbiB0aGUgbGlzdCBvZiBmaWxlcy5cbiAgICAgKi9cbiAgICBpbmRleDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIGZpbGUgcGF0aC4gQWx3YXlzIGBmaWxlX3BhdGhgLlxuICAgICAqL1xuICAgIHR5cGU6ICdmaWxlX3BhdGgnO1xuICB9XG59XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBhIHRleHQgcmVzcG9uc2UgZnJvbSB0aGUgbW9kZWwuIENhbiBiZSBwbGFpbiB0ZXh0IG9yXG4gKiBzdHJ1Y3R1cmVkIEpTT04gZGF0YS4gTGVhcm4gbW9yZTpcbiAqXG4gKiAtIFtUZXh0IGlucHV0cyBhbmQgb3V0cHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3RleHQpXG4gKiAtIFtTdHJ1Y3R1cmVkIE91dHB1dHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHMpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VUZXh0Q29uZmlnIHtcbiAgLyoqXG4gICAqIEFuIG9iamVjdCBzcGVjaWZ5aW5nIHRoZSBmb3JtYXQgdGhhdCB0aGUgbW9kZWwgbXVzdCBvdXRwdXQuXG4gICAqXG4gICAqIENvbmZpZ3VyaW5nIGB7IFwidHlwZVwiOiBcImpzb25fc2NoZW1hXCIgfWAgZW5hYmxlcyBTdHJ1Y3R1cmVkIE91dHB1dHMsIHdoaWNoXG4gICAqIGVuc3VyZXMgdGhlIG1vZGVsIHdpbGwgbWF0Y2ggeW91ciBzdXBwbGllZCBKU09OIHNjaGVtYS4gTGVhcm4gbW9yZSBpbiB0aGVcbiAgICogW1N0cnVjdHVyZWQgT3V0cHV0cyBndWlkZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cykuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IGZvcm1hdCBpcyBgeyBcInR5cGVcIjogXCJ0ZXh0XCIgfWAgd2l0aCBubyBhZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAqXG4gICAqICoqTm90IHJlY29tbWVuZGVkIGZvciBncHQtNG8gYW5kIG5ld2VyIG1vZGVsczoqKlxuICAgKlxuICAgKiBTZXR0aW5nIHRvIGB7IFwidHlwZVwiOiBcImpzb25fb2JqZWN0XCIgfWAgZW5hYmxlcyB0aGUgb2xkZXIgSlNPTiBtb2RlLCB3aGljaFxuICAgKiBlbnN1cmVzIHRoZSBtZXNzYWdlIHRoZSBtb2RlbCBnZW5lcmF0ZXMgaXMgdmFsaWQgSlNPTi4gVXNpbmcgYGpzb25fc2NoZW1hYCBpc1xuICAgKiBwcmVmZXJyZWQgZm9yIG1vZGVscyB0aGF0IHN1cHBvcnQgaXQuXG4gICAqL1xuICBmb3JtYXQ/OiBSZXNwb25zZUZvcm1hdFRleHRDb25maWc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZXJlIGlzIGFuIGFkZGl0aW9uYWwgdGV4dCBkZWx0YS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZVRleHREZWx0YUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IHRoYXQgdGhlIHRleHQgZGVsdGEgd2FzIGFkZGVkIHRvLlxuICAgKi9cbiAgY29udGVudF9pbmRleDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdGV4dCBkZWx0YSB0aGF0IHdhcyBhZGRlZC5cbiAgICovXG4gIGRlbHRhOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgdGV4dCBkZWx0YSB3YXMgYWRkZWQgdG8uXG4gICAqL1xuICBpdGVtX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgdGV4dCBkZWx0YSB3YXMgYWRkZWQgdG8uXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLm91dHB1dF90ZXh0LmRlbHRhYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5vdXRwdXRfdGV4dC5kZWx0YSc7XG59XG5cbi8qKlxuICogRW1pdHRlZCB3aGVuIHRleHQgY29udGVudCBpcyBmaW5hbGl6ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VUZXh0RG9uZUV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgY29udGVudCBwYXJ0IHRoYXQgdGhlIHRleHQgY29udGVudCBpcyBmaW5hbGl6ZWQuXG4gICAqL1xuICBjb250ZW50X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgb3V0cHV0IGl0ZW0gdGhhdCB0aGUgdGV4dCBjb250ZW50IGlzIGZpbmFsaXplZC5cbiAgICovXG4gIGl0ZW1faWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRoZSBvdXRwdXQgaXRlbSB0aGF0IHRoZSB0ZXh0IGNvbnRlbnQgaXMgZmluYWxpemVkLlxuICAgKi9cbiAgb3V0cHV0X2luZGV4OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGNvbnRlbnQgdGhhdCBpcyBmaW5hbGl6ZWQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC4gQWx3YXlzIGByZXNwb25zZS5vdXRwdXRfdGV4dC5kb25lYC5cbiAgICovXG4gIHR5cGU6ICdyZXNwb25zZS5vdXRwdXRfdGV4dC5kb25lJztcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRva2VuIHVzYWdlIGRldGFpbHMgaW5jbHVkaW5nIGlucHV0IHRva2Vucywgb3V0cHV0IHRva2VucywgYVxuICogYnJlYWtkb3duIG9mIG91dHB1dCB0b2tlbnMsIGFuZCB0aGUgdG90YWwgdG9rZW5zIHVzZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VVc2FnZSB7XG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIGlucHV0IHRva2Vucy5cbiAgICovXG4gIGlucHV0X3Rva2VuczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIGRldGFpbGVkIGJyZWFrZG93biBvZiB0aGUgaW5wdXQgdG9rZW5zLlxuICAgKi9cbiAgaW5wdXRfdG9rZW5zX2RldGFpbHM6IFJlc3BvbnNlVXNhZ2UuSW5wdXRUb2tlbnNEZXRhaWxzO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMuXG4gICAqL1xuICBvdXRwdXRfdG9rZW5zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEEgZGV0YWlsZWQgYnJlYWtkb3duIG9mIHRoZSBvdXRwdXQgdG9rZW5zLlxuICAgKi9cbiAgb3V0cHV0X3Rva2Vuc19kZXRhaWxzOiBSZXNwb25zZVVzYWdlLk91dHB1dFRva2Vuc0RldGFpbHM7XG5cbiAgLyoqXG4gICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIHVzZWQuXG4gICAqL1xuICB0b3RhbF90b2tlbnM6IG51bWJlcjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZVVzYWdlIHtcbiAgLyoqXG4gICAqIEEgZGV0YWlsZWQgYnJlYWtkb3duIG9mIHRoZSBpbnB1dCB0b2tlbnMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIElucHV0VG9rZW5zRGV0YWlscyB7XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiB0b2tlbnMgdGhhdCB3ZXJlIHJldHJpZXZlZCBmcm9tIHRoZSBjYWNoZS5cbiAgICAgKiBbTW9yZSBvbiBwcm9tcHQgY2FjaGluZ10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Byb21wdC1jYWNoaW5nKS5cbiAgICAgKi9cbiAgICBjYWNoZWRfdG9rZW5zOiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogQSBkZXRhaWxlZCBicmVha2Rvd24gb2YgdGhlIG91dHB1dCB0b2tlbnMuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIE91dHB1dFRva2Vuc0RldGFpbHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgcmVhc29uaW5nIHRva2Vucy5cbiAgICAgKi9cbiAgICByZWFzb25pbmdfdG9rZW5zOiBudW1iZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYSB3ZWIgc2VhcmNoIGNhbGwgaXMgY29tcGxldGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlV2ViU2VhcmNoQ2FsbENvbXBsZXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFVuaXF1ZSBJRCBmb3IgdGhlIG91dHB1dCBpdGVtIGFzc29jaWF0ZWQgd2l0aCB0aGUgd2ViIHNlYXJjaCBjYWxsLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIHdlYiBzZWFyY2ggY2FsbCBpcyBhc3NvY2lhdGVkIHdpdGguXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLndlYl9zZWFyY2hfY2FsbC5jb21wbGV0ZWRgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLndlYl9zZWFyY2hfY2FsbC5jb21wbGV0ZWQnO1xufVxuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhIHdlYiBzZWFyY2ggY2FsbCBpcyBpbml0aWF0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VXZWJTZWFyY2hDYWxsSW5Qcm9ncmVzc0V2ZW50IHtcbiAgLyoqXG4gICAqIFVuaXF1ZSBJRCBmb3IgdGhlIG91dHB1dCBpdGVtIGFzc29jaWF0ZWQgd2l0aCB0aGUgd2ViIHNlYXJjaCBjYWxsLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIHdlYiBzZWFyY2ggY2FsbCBpcyBhc3NvY2lhdGVkIHdpdGguXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLndlYl9zZWFyY2hfY2FsbC5pbl9wcm9ncmVzc2AuXG4gICAqL1xuICB0eXBlOiAncmVzcG9uc2Uud2ViX3NlYXJjaF9jYWxsLmluX3Byb2dyZXNzJztcbn1cblxuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYSB3ZWIgc2VhcmNoIGNhbGwgaXMgZXhlY3V0aW5nLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlV2ViU2VhcmNoQ2FsbFNlYXJjaGluZ0V2ZW50IHtcbiAgLyoqXG4gICAqIFVuaXF1ZSBJRCBmb3IgdGhlIG91dHB1dCBpdGVtIGFzc29jaWF0ZWQgd2l0aCB0aGUgd2ViIHNlYXJjaCBjYWxsLlxuICAgKi9cbiAgaXRlbV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIG91dHB1dCBpdGVtIHRoYXQgdGhlIHdlYiBzZWFyY2ggY2FsbCBpcyBhc3NvY2lhdGVkIHdpdGguXG4gICAqL1xuICBvdXRwdXRfaW5kZXg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGV2ZW50LiBBbHdheXMgYHJlc3BvbnNlLndlYl9zZWFyY2hfY2FsbC5zZWFyY2hpbmdgLlxuICAgKi9cbiAgdHlwZTogJ3Jlc3BvbnNlLndlYl9zZWFyY2hfY2FsbC5zZWFyY2hpbmcnO1xufVxuXG4vKipcbiAqIEEgdG9vbCB0aGF0IHNlYXJjaGVzIGZvciByZWxldmFudCBjb250ZW50IGZyb20gdXBsb2FkZWQgZmlsZXMuIExlYXJuIG1vcmUgYWJvdXRcbiAqIHRoZVxuICogW2ZpbGUgc2VhcmNoIHRvb2xdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy1maWxlLXNlYXJjaCkuXG4gKi9cbmV4cG9ydCB0eXBlIFRvb2wgPSBGaWxlU2VhcmNoVG9vbCB8IEZ1bmN0aW9uVG9vbCB8IENvbXB1dGVyVG9vbCB8IFdlYlNlYXJjaFRvb2w7XG5cbi8qKlxuICogVXNlIHRoaXMgb3B0aW9uIHRvIGZvcmNlIHRoZSBtb2RlbCB0byBjYWxsIGEgc3BlY2lmaWMgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbENob2ljZUZ1bmN0aW9uIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBGb3IgZnVuY3Rpb24gY2FsbGluZywgdGhlIHR5cGUgaXMgYWx3YXlzIGBmdW5jdGlvbmAuXG4gICAqL1xuICB0eXBlOiAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIENvbnRyb2xzIHdoaWNoIChpZiBhbnkpIHRvb2wgaXMgY2FsbGVkIGJ5IHRoZSBtb2RlbC5cbiAqXG4gKiBgbm9uZWAgbWVhbnMgdGhlIG1vZGVsIHdpbGwgbm90IGNhbGwgYW55IHRvb2wgYW5kIGluc3RlYWQgZ2VuZXJhdGVzIGEgbWVzc2FnZS5cbiAqXG4gKiBgYXV0b2AgbWVhbnMgdGhlIG1vZGVsIGNhbiBwaWNrIGJldHdlZW4gZ2VuZXJhdGluZyBhIG1lc3NhZ2Ugb3IgY2FsbGluZyBvbmUgb3JcbiAqIG1vcmUgdG9vbHMuXG4gKlxuICogYHJlcXVpcmVkYCBtZWFucyB0aGUgbW9kZWwgbXVzdCBjYWxsIG9uZSBvciBtb3JlIHRvb2xzLlxuICovXG5leHBvcnQgdHlwZSBUb29sQ2hvaWNlT3B0aW9ucyA9ICdub25lJyB8ICdhdXRvJyB8ICdyZXF1aXJlZCc7XG5cbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsIHNob3VsZCB1c2UgYSBidWlsdC1pbiB0b29sIHRvIGdlbmVyYXRlIGEgcmVzcG9uc2UuXG4gKiBbTGVhcm4gbW9yZSBhYm91dCBidWlsdC1pbiB0b29sc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUb29sQ2hvaWNlVHlwZXMge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgaG9zdGVkIHRvb2wgdGhlIG1vZGVsIHNob3VsZCB0byB1c2UuIExlYXJuIG1vcmUgYWJvdXRcbiAgICogW2J1aWx0LWluIHRvb2xzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMpLlxuICAgKlxuICAgKiBBbGxvd2VkIHZhbHVlcyBhcmU6XG4gICAqXG4gICAqIC0gYGZpbGVfc2VhcmNoYFxuICAgKiAtIGB3ZWJfc2VhcmNoX3ByZXZpZXdgXG4gICAqIC0gYGNvbXB1dGVyX3VzZV9wcmV2aWV3YFxuICAgKi9cbiAgdHlwZTogJ2ZpbGVfc2VhcmNoJyB8ICd3ZWJfc2VhcmNoX3ByZXZpZXcnIHwgJ2NvbXB1dGVyX3VzZV9wcmV2aWV3JyB8ICd3ZWJfc2VhcmNoX3ByZXZpZXdfMjAyNV8wM18xMSc7XG59XG5cbi8qKlxuICogVGhpcyB0b29sIHNlYXJjaGVzIHRoZSB3ZWIgZm9yIHJlbGV2YW50IHJlc3VsdHMgdG8gdXNlIGluIGEgcmVzcG9uc2UuIExlYXJuIG1vcmVcbiAqIGFib3V0IHRoZVxuICogW3dlYiBzZWFyY2ggdG9vbF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzLXdlYi1zZWFyY2gpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFdlYlNlYXJjaFRvb2wge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHdlYiBzZWFyY2ggdG9vbC4gT25lIG9mOlxuICAgKlxuICAgKiAtIGB3ZWJfc2VhcmNoX3ByZXZpZXdgXG4gICAqIC0gYHdlYl9zZWFyY2hfcHJldmlld18yMDI1XzAzXzExYFxuICAgKi9cbiAgdHlwZTogJ3dlYl9zZWFyY2hfcHJldmlldycgfCAnd2ViX3NlYXJjaF9wcmV2aWV3XzIwMjVfMDNfMTEnO1xuXG4gIC8qKlxuICAgKiBIaWdoIGxldmVsIGd1aWRhbmNlIGZvciB0aGUgYW1vdW50IG9mIGNvbnRleHQgd2luZG93IHNwYWNlIHRvIHVzZSBmb3IgdGhlXG4gICAqIHNlYXJjaC4gT25lIG9mIGBsb3dgLCBgbWVkaXVtYCwgb3IgYGhpZ2hgLiBgbWVkaXVtYCBpcyB0aGUgZGVmYXVsdC5cbiAgICovXG4gIHNlYXJjaF9jb250ZXh0X3NpemU/OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xuXG4gIHVzZXJfbG9jYXRpb24/OiBXZWJTZWFyY2hUb29sLlVzZXJMb2NhdGlvbiB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgV2ViU2VhcmNoVG9vbCB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgVXNlckxvY2F0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBsb2NhdGlvbiBhcHByb3hpbWF0aW9uLiBBbHdheXMgYGFwcHJveGltYXRlYC5cbiAgICAgKi9cbiAgICB0eXBlOiAnYXBwcm94aW1hdGUnO1xuXG4gICAgLyoqXG4gICAgICogRnJlZSB0ZXh0IGlucHV0IGZvciB0aGUgY2l0eSBvZiB0aGUgdXNlciwgZS5nLiBgU2FuIEZyYW5jaXNjb2AuXG4gICAgICovXG4gICAgY2l0eT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0d28tbGV0dGVyIFtJU08gY291bnRyeSBjb2RlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fMzE2Ni0xKSBvZlxuICAgICAqIHRoZSB1c2VyLCBlLmcuIGBVU2AuXG4gICAgICovXG4gICAgY291bnRyeT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEZyZWUgdGV4dCBpbnB1dCBmb3IgdGhlIHJlZ2lvbiBvZiB0aGUgdXNlciwgZS5nLiBgQ2FsaWZvcm5pYWAuXG4gICAgICovXG4gICAgcmVnaW9uPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFtJQU5BIHRpbWV6b25lXShodHRwczovL3RpbWVhcGkuaW8vZG9jdW1lbnRhdGlvbi9pYW5hLXRpbWV6b25lcykgb2YgdGhlXG4gICAgICogdXNlciwgZS5nLiBgQW1lcmljYS9Mb3NfQW5nZWxlc2AuXG4gICAgICovXG4gICAgdGltZXpvbmU/OiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUmVzcG9uc2VDcmVhdGVQYXJhbXMgPSBSZXNwb25zZUNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyB8IFJlc3BvbnNlQ3JlYXRlUGFyYW1zU3RyZWFtaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBUZXh0LCBpbWFnZSwgb3IgZmlsZSBpbnB1dHMgdG8gdGhlIG1vZGVsLCB1c2VkIHRvIGdlbmVyYXRlIGEgcmVzcG9uc2UuXG4gICAqXG4gICAqIExlYXJuIG1vcmU6XG4gICAqXG4gICAqIC0gW1RleHQgaW5wdXRzIGFuZCBvdXRwdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdGV4dClcbiAgICogLSBbSW1hZ2UgaW5wdXRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvaW1hZ2VzKVxuICAgKiAtIFtGaWxlIGlucHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3BkZi1maWxlcylcbiAgICogLSBbQ29udmVyc2F0aW9uIHN0YXRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvY29udmVyc2F0aW9uLXN0YXRlKVxuICAgKiAtIFtGdW5jdGlvbiBjYWxsaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZnVuY3Rpb24tY2FsbGluZylcbiAgICovXG4gIGlucHV0OiBzdHJpbmcgfCBSZXNwb25zZUlucHV0O1xuXG4gIC8qKlxuICAgKiBNb2RlbCBJRCB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXNwb25zZSwgbGlrZSBgZ3B0LTRvYCBvciBgbzFgLiBPcGVuQUkgb2ZmZXJzIGFcbiAgICogd2lkZSByYW5nZSBvZiBtb2RlbHMgd2l0aCBkaWZmZXJlbnQgY2FwYWJpbGl0aWVzLCBwZXJmb3JtYW5jZSBjaGFyYWN0ZXJpc3RpY3MsXG4gICAqIGFuZCBwcmljZSBwb2ludHMuIFJlZmVyIHRvIHRoZVxuICAgKiBbbW9kZWwgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL21vZGVscykgdG8gYnJvd3NlIGFuZCBjb21wYXJlXG4gICAqIGF2YWlsYWJsZSBtb2RlbHMuXG4gICAqL1xuICBtb2RlbDogU2hhcmVkLlJlc3BvbnNlc01vZGVsO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IGFkZGl0aW9uYWwgb3V0cHV0IGRhdGEgdG8gaW5jbHVkZSBpbiB0aGUgbW9kZWwgcmVzcG9uc2UuIEN1cnJlbnRseVxuICAgKiBzdXBwb3J0ZWQgdmFsdWVzIGFyZTpcbiAgICpcbiAgICogLSBgZmlsZV9zZWFyY2hfY2FsbC5yZXN1bHRzYDogSW5jbHVkZSB0aGUgc2VhcmNoIHJlc3VsdHMgb2YgdGhlIGZpbGUgc2VhcmNoIHRvb2xcbiAgICogICBjYWxsLlxuICAgKiAtIGBtZXNzYWdlLmlucHV0X2ltYWdlLmltYWdlX3VybGA6IEluY2x1ZGUgaW1hZ2UgdXJscyBmcm9tIHRoZSBpbnB1dCBtZXNzYWdlLlxuICAgKiAtIGBjb21wdXRlcl9jYWxsX291dHB1dC5vdXRwdXQuaW1hZ2VfdXJsYDogSW5jbHVkZSBpbWFnZSB1cmxzIGZyb20gdGhlIGNvbXB1dGVyXG4gICAqICAgY2FsbCBvdXRwdXQuXG4gICAqL1xuICBpbmNsdWRlPzogQXJyYXk8UmVzcG9uc2VJbmNsdWRhYmxlPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEluc2VydHMgYSBzeXN0ZW0gKG9yIGRldmVsb3BlcikgbWVzc2FnZSBhcyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgbW9kZWwnc1xuICAgKiBjb250ZXh0LlxuICAgKlxuICAgKiBXaGVuIHVzaW5nIGFsb25nIHdpdGggYHByZXZpb3VzX3Jlc3BvbnNlX2lkYCwgdGhlIGluc3RydWN0aW9ucyBmcm9tIGEgcHJldmlvdXNcbiAgICogcmVzcG9uc2Ugd2lsbCBiZSBub3QgYmUgY2FycmllZCBvdmVyIHRvIHRoZSBuZXh0IHJlc3BvbnNlLiBUaGlzIG1ha2VzIGl0IHNpbXBsZVxuICAgKiB0byBzd2FwIG91dCBzeXN0ZW0gKG9yIGRldmVsb3BlcikgbWVzc2FnZXMgaW4gbmV3IHJlc3BvbnNlcy5cbiAgICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEFuIHVwcGVyIGJvdW5kIGZvciB0aGUgbnVtYmVyIG9mIHRva2VucyB0aGF0IGNhbiBiZSBnZW5lcmF0ZWQgZm9yIGEgcmVzcG9uc2UsXG4gICAqIGluY2x1ZGluZyB2aXNpYmxlIG91dHB1dCB0b2tlbnMgYW5kXG4gICAqIFtyZWFzb25pbmcgdG9rZW5zXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvcmVhc29uaW5nKS5cbiAgICovXG4gIG1heF9vdXRwdXRfdG9rZW5zPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhPzogU2hhcmVkLk1ldGFkYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hldGhlciB0byBhbGxvdyB0aGUgbW9kZWwgdG8gcnVuIHRvb2wgY2FsbHMgaW4gcGFyYWxsZWwuXG4gICAqL1xuICBwYXJhbGxlbF90b29sX2NhbGxzPzogYm9vbGVhbiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgSUQgb2YgdGhlIHByZXZpb3VzIHJlc3BvbnNlIHRvIHRoZSBtb2RlbC4gVXNlIHRoaXMgdG8gY3JlYXRlXG4gICAqIG11bHRpLXR1cm4gY29udmVyc2F0aW9ucy4gTGVhcm4gbW9yZSBhYm91dFxuICAgKiBbY29udmVyc2F0aW9uIHN0YXRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvY29udmVyc2F0aW9uLXN0YXRlKS5cbiAgICovXG4gIHByZXZpb3VzX3Jlc3BvbnNlX2lkPzogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogKipvLXNlcmllcyBtb2RlbHMgb25seSoqXG4gICAqXG4gICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3JcbiAgICogW3JlYXNvbmluZyBtb2RlbHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9yZWFzb25pbmcpLlxuICAgKi9cbiAgcmVhc29uaW5nPzogU2hhcmVkLlJlYXNvbmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc3RvcmUgdGhlIGdlbmVyYXRlZCBtb2RlbCByZXNwb25zZSBmb3IgbGF0ZXIgcmV0cmlldmFsIHZpYSBBUEkuXG4gICAqL1xuICBzdG9yZT86IGJvb2xlYW4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIG1vZGVsIHJlc3BvbnNlIGRhdGEgd2lsbCBiZSBzdHJlYW1lZCB0byB0aGUgY2xpZW50IGFzIGl0IGlzXG4gICAqIGdlbmVyYXRlZCB1c2luZ1xuICAgKiBbc2VydmVyLXNlbnQgZXZlbnRzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmVyLXNlbnRfZXZlbnRzL1VzaW5nX3NlcnZlci1zZW50X2V2ZW50cyNFdmVudF9zdHJlYW1fZm9ybWF0KS5cbiAgICogU2VlIHRoZVxuICAgKiBbU3RyZWFtaW5nIHNlY3Rpb24gYmVsb3ddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcmVzcG9uc2VzLXN0cmVhbWluZylcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqL1xuICBzdHJlYW0/OiBib29sZWFuIHwgbnVsbDtcblxuICAvKipcbiAgICogV2hhdCBzYW1wbGluZyB0ZW1wZXJhdHVyZSB0byB1c2UsIGJldHdlZW4gMCBhbmQgMi4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsXG4gICAqIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlXG4gICAqIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuIFdlIGdlbmVyYWxseSByZWNvbW1lbmQgYWx0ZXJpbmcgdGhpcyBvciBgdG9wX3BgIGJ1dFxuICAgKiBub3QgYm90aC5cbiAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBhIHRleHQgcmVzcG9uc2UgZnJvbSB0aGUgbW9kZWwuIENhbiBiZSBwbGFpbiB0ZXh0IG9yXG4gICAqIHN0cnVjdHVyZWQgSlNPTiBkYXRhLiBMZWFybiBtb3JlOlxuICAgKlxuICAgKiAtIFtUZXh0IGlucHV0cyBhbmQgb3V0cHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3RleHQpXG4gICAqIC0gW1N0cnVjdHVyZWQgT3V0cHV0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cylcbiAgICovXG4gIHRleHQ/OiBSZXNwb25zZVRleHRDb25maWc7XG5cbiAgLyoqXG4gICAqIEhvdyB0aGUgbW9kZWwgc2hvdWxkIHNlbGVjdCB3aGljaCB0b29sIChvciB0b29scykgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZyBhXG4gICAqIHJlc3BvbnNlLiBTZWUgdGhlIGB0b29sc2AgcGFyYW1ldGVyIHRvIHNlZSBob3cgdG8gc3BlY2lmeSB3aGljaCB0b29scyB0aGUgbW9kZWxcbiAgICogY2FuIGNhbGwuXG4gICAqL1xuICB0b29sX2Nob2ljZT86IFRvb2xDaG9pY2VPcHRpb25zIHwgVG9vbENob2ljZVR5cGVzIHwgVG9vbENob2ljZUZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiB0b29scyB0aGUgbW9kZWwgbWF5IGNhbGwgd2hpbGUgZ2VuZXJhdGluZyBhIHJlc3BvbnNlLiBZb3UgY2FuXG4gICAqIHNwZWNpZnkgd2hpY2ggdG9vbCB0byB1c2UgYnkgc2V0dGluZyB0aGUgYHRvb2xfY2hvaWNlYCBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIFRoZSB0d28gY2F0ZWdvcmllcyBvZiB0b29scyB5b3UgY2FuIHByb3ZpZGUgdGhlIG1vZGVsIGFyZTpcbiAgICpcbiAgICogLSAqKkJ1aWx0LWluIHRvb2xzKio6IFRvb2xzIHRoYXQgYXJlIHByb3ZpZGVkIGJ5IE9wZW5BSSB0aGF0IGV4dGVuZCB0aGUgbW9kZWwnc1xuICAgKiAgIGNhcGFiaWxpdGllcywgbGlrZVxuICAgKiAgIFt3ZWIgc2VhcmNoXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvdG9vbHMtd2ViLXNlYXJjaCkgb3JcbiAgICogICBbZmlsZSBzZWFyY2hdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy90b29scy1maWxlLXNlYXJjaCkuXG4gICAqICAgTGVhcm4gbW9yZSBhYm91dFxuICAgKiAgIFtidWlsdC1pbiB0b29sc10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3Rvb2xzKS5cbiAgICogLSAqKkZ1bmN0aW9uIGNhbGxzIChjdXN0b20gdG9vbHMpKio6IEZ1bmN0aW9ucyB0aGF0IGFyZSBkZWZpbmVkIGJ5IHlvdSwgZW5hYmxpbmdcbiAgICogICB0aGUgbW9kZWwgdG8gY2FsbCB5b3VyIG93biBjb2RlLiBMZWFybiBtb3JlIGFib3V0XG4gICAqICAgW2Z1bmN0aW9uIGNhbGxpbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9mdW5jdGlvbi1jYWxsaW5nKS5cbiAgICovXG4gIHRvb2xzPzogQXJyYXk8VG9vbD47XG5cbiAgLyoqXG4gICAqIEFuIGFsdGVybmF0aXZlIHRvIHNhbXBsaW5nIHdpdGggdGVtcGVyYXR1cmUsIGNhbGxlZCBudWNsZXVzIHNhbXBsaW5nLCB3aGVyZSB0aGVcbiAgICogbW9kZWwgY29uc2lkZXJzIHRoZSByZXN1bHRzIG9mIHRoZSB0b2tlbnMgd2l0aCB0b3BfcCBwcm9iYWJpbGl0eSBtYXNzLiBTbyAwLjFcbiAgICogbWVhbnMgb25seSB0aGUgdG9rZW5zIGNvbXByaXNpbmcgdGhlIHRvcCAxMCUgcHJvYmFiaWxpdHkgbWFzcyBhcmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogV2UgZ2VuZXJhbGx5IHJlY29tbWVuZCBhbHRlcmluZyB0aGlzIG9yIGB0ZW1wZXJhdHVyZWAgYnV0IG5vdCBib3RoLlxuICAgKi9cbiAgdG9wX3A/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgdHJ1bmNhdGlvbiBzdHJhdGVneSB0byB1c2UgZm9yIHRoZSBtb2RlbCByZXNwb25zZS5cbiAgICpcbiAgICogLSBgYXV0b2A6IElmIHRoZSBjb250ZXh0IG9mIHRoaXMgcmVzcG9uc2UgYW5kIHByZXZpb3VzIG9uZXMgZXhjZWVkcyB0aGUgbW9kZWwnc1xuICAgKiAgIGNvbnRleHQgd2luZG93IHNpemUsIHRoZSBtb2RlbCB3aWxsIHRydW5jYXRlIHRoZSByZXNwb25zZSB0byBmaXQgdGhlIGNvbnRleHRcbiAgICogICB3aW5kb3cgYnkgZHJvcHBpbmcgaW5wdXQgaXRlbXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgY29udmVyc2F0aW9uLlxuICAgKiAtIGBkaXNhYmxlZGAgKGRlZmF1bHQpOiBJZiBhIG1vZGVsIHJlc3BvbnNlIHdpbGwgZXhjZWVkIHRoZSBjb250ZXh0IHdpbmRvdyBzaXplXG4gICAqICAgZm9yIGEgbW9kZWwsIHRoZSByZXF1ZXN0IHdpbGwgZmFpbCB3aXRoIGEgNDAwIGVycm9yLlxuICAgKi9cbiAgdHJ1bmNhdGlvbj86ICdhdXRvJyB8ICdkaXNhYmxlZCcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvclxuICAgKiBhbmQgZGV0ZWN0IGFidXNlLlxuICAgKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcyNlbmQtdXNlci1pZHMpLlxuICAgKi9cbiAgdXNlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXNwb25zZUNyZWF0ZVBhcmFtcyB7XG4gIGV4cG9ydCB0eXBlIFJlc3BvbnNlQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nID0gUmVzcG9uc2VzQVBJLlJlc3BvbnNlQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgdHlwZSBSZXNwb25zZUNyZWF0ZVBhcmFtc1N0cmVhbWluZyA9IFJlc3BvbnNlc0FQSS5SZXNwb25zZUNyZWF0ZVBhcmFtc1N0cmVhbWluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyBleHRlbmRzIFJlc3BvbnNlQ3JlYXRlUGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIG1vZGVsIHJlc3BvbnNlIGRhdGEgd2lsbCBiZSBzdHJlYW1lZCB0byB0aGUgY2xpZW50IGFzIGl0IGlzXG4gICAqIGdlbmVyYXRlZCB1c2luZ1xuICAgKiBbc2VydmVyLXNlbnQgZXZlbnRzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmVyLXNlbnRfZXZlbnRzL1VzaW5nX3NlcnZlci1zZW50X2V2ZW50cyNFdmVudF9zdHJlYW1fZm9ybWF0KS5cbiAgICogU2VlIHRoZVxuICAgKiBbU3RyZWFtaW5nIHNlY3Rpb24gYmVsb3ddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvcmVzcG9uc2VzLXN0cmVhbWluZylcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqL1xuICBzdHJlYW0/OiBmYWxzZSB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDcmVhdGVQYXJhbXNTdHJlYW1pbmcgZXh0ZW5kcyBSZXNwb25zZUNyZWF0ZVBhcmFtc0Jhc2Uge1xuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBtb2RlbCByZXNwb25zZSBkYXRhIHdpbGwgYmUgc3RyZWFtZWQgdG8gdGhlIGNsaWVudCBhcyBpdCBpc1xuICAgKiBnZW5lcmF0ZWQgdXNpbmdcbiAgICogW3NlcnZlci1zZW50IGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHMjRXZlbnRfc3RyZWFtX2Zvcm1hdCkuXG4gICAqIFNlZSB0aGVcbiAgICogW1N0cmVhbWluZyBzZWN0aW9uIGJlbG93XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3Jlc3BvbnNlcy1zdHJlYW1pbmcpXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgc3RyZWFtOiB0cnVlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlUmV0cmlldmVQYXJhbXMge1xuICAvKipcbiAgICogQWRkaXRpb25hbCBmaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcmVzcG9uc2UuIFNlZSB0aGUgYGluY2x1ZGVgIHBhcmFtZXRlciBmb3JcbiAgICogUmVzcG9uc2UgY3JlYXRpb24gYWJvdmUgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqL1xuICBpbmNsdWRlPzogQXJyYXk8UmVzcG9uc2VJbmNsdWRhYmxlPjtcbn1cblxuUmVzcG9uc2VzLklucHV0SXRlbXMgPSBJbnB1dEl0ZW1zO1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgUmVzcG9uc2VzIHtcbiAgZXhwb3J0IHtcbiAgICBJbnB1dEl0ZW1zIGFzIElucHV0SXRlbXMsXG4gICAgdHlwZSBSZXNwb25zZUl0ZW1MaXN0IGFzIFJlc3BvbnNlSXRlbUxpc3QsXG4gICAgdHlwZSBJbnB1dEl0ZW1MaXN0UGFyYW1zIGFzIElucHV0SXRlbUxpc3RQYXJhbXMsXG4gIH07XG59XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgUGFydHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIC8qKlxuICAgKiBBZGRzIGFcbiAgICogW1BhcnRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9wYXJ0LW9iamVjdCkgdG8gYW5cbiAgICogW1VwbG9hZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL29iamVjdCkgb2JqZWN0LlxuICAgKiBBIFBhcnQgcmVwcmVzZW50cyBhIGNodW5rIG9mIGJ5dGVzIGZyb20gdGhlIGZpbGUgeW91IGFyZSB0cnlpbmcgdG8gdXBsb2FkLlxuICAgKlxuICAgKiBFYWNoIFBhcnQgY2FuIGJlIGF0IG1vc3QgNjQgTUIsIGFuZCB5b3UgY2FuIGFkZCBQYXJ0cyB1bnRpbCB5b3UgaGl0IHRoZSBVcGxvYWRcbiAgICogbWF4aW11bSBvZiA4IEdCLlxuICAgKlxuICAgKiBJdCBpcyBwb3NzaWJsZSB0byBhZGQgbXVsdGlwbGUgUGFydHMgaW4gcGFyYWxsZWwuIFlvdSBjYW4gZGVjaWRlIHRoZSBpbnRlbmRlZFxuICAgKiBvcmRlciBvZiB0aGUgUGFydHMgd2hlbiB5b3VcbiAgICogW2NvbXBsZXRlIHRoZSBVcGxvYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9jb21wbGV0ZSkuXG4gICAqL1xuICBjcmVhdGUoXG4gICAgdXBsb2FkSWQ6IHN0cmluZyxcbiAgICBib2R5OiBQYXJ0Q3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VXBsb2FkUGFydD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgIGAvdXBsb2Fkcy8ke3VwbG9hZElkfS9wYXJ0c2AsXG4gICAgICBDb3JlLm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSksXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSB1cGxvYWQgUGFydCByZXByZXNlbnRzIGEgY2h1bmsgb2YgYnl0ZXMgd2UgY2FuIGFkZCB0byBhbiBVcGxvYWQgb2JqZWN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwbG9hZFBhcnQge1xuICAvKipcbiAgICogVGhlIHVwbG9hZCBQYXJ0IHVuaXF1ZSBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgUGFydCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRfYXQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgYHVwbG9hZC5wYXJ0YC5cbiAgICovXG4gIG9iamVjdDogJ3VwbG9hZC5wYXJ0JztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBVcGxvYWQgb2JqZWN0IHRoYXQgdGhpcyBQYXJ0IHdhcyBhZGRlZCB0by5cbiAgICovXG4gIHVwbG9hZF9pZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRDcmVhdGVQYXJhbXMge1xuICAvKipcbiAgICogVGhlIGNodW5rIG9mIGJ5dGVzIGZvciB0aGlzIFBhcnQuXG4gICAqL1xuICBkYXRhOiBDb3JlLlVwbG9hZGFibGU7XG59XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBQYXJ0cyB7XG4gIGV4cG9ydCB7IHR5cGUgVXBsb2FkUGFydCBhcyBVcGxvYWRQYXJ0LCB0eXBlIFBhcnRDcmVhdGVQYXJhbXMgYXMgUGFydENyZWF0ZVBhcmFtcyB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIEZpbGVzQVBJIGZyb20gJy4uL2ZpbGVzJztcbmltcG9ydCAqIGFzIFBhcnRzQVBJIGZyb20gJy4vcGFydHMnO1xuaW1wb3J0IHsgUGFydENyZWF0ZVBhcmFtcywgUGFydHMsIFVwbG9hZFBhcnQgfSBmcm9tICcuL3BhcnRzJztcblxuZXhwb3J0IGNsYXNzIFVwbG9hZHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gIHBhcnRzOiBQYXJ0c0FQSS5QYXJ0cyA9IG5ldyBQYXJ0c0FQSS5QYXJ0cyh0aGlzLl9jbGllbnQpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGludGVybWVkaWF0ZVxuICAgKiBbVXBsb2FkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3VwbG9hZHMvb2JqZWN0KSBvYmplY3RcbiAgICogdGhhdCB5b3UgY2FuIGFkZFxuICAgKiBbUGFydHNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9wYXJ0LW9iamVjdCkgdG8uXG4gICAqIEN1cnJlbnRseSwgYW4gVXBsb2FkIGNhbiBhY2NlcHQgYXQgbW9zdCA4IEdCIGluIHRvdGFsIGFuZCBleHBpcmVzIGFmdGVyIGFuIGhvdXJcbiAgICogYWZ0ZXIgeW91IGNyZWF0ZSBpdC5cbiAgICpcbiAgICogT25jZSB5b3UgY29tcGxldGUgdGhlIFVwbG9hZCwgd2Ugd2lsbCBjcmVhdGUgYVxuICAgKiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9vYmplY3QpIG9iamVjdCB0aGF0XG4gICAqIGNvbnRhaW5zIGFsbCB0aGUgcGFydHMgeW91IHVwbG9hZGVkLiBUaGlzIEZpbGUgaXMgdXNhYmxlIGluIHRoZSByZXN0IG9mIG91clxuICAgKiBwbGF0Zm9ybSBhcyBhIHJlZ3VsYXIgRmlsZSBvYmplY3QuXG4gICAqXG4gICAqIEZvciBjZXJ0YWluIGBwdXJwb3NlYCB2YWx1ZXMsIHRoZSBjb3JyZWN0IGBtaW1lX3R5cGVgIG11c3QgYmUgc3BlY2lmaWVkLiBQbGVhc2VcbiAgICogcmVmZXIgdG8gZG9jdW1lbnRhdGlvbiBmb3IgdGhlXG4gICAqIFtzdXBwb3J0ZWQgTUlNRSB0eXBlcyBmb3IgeW91ciB1c2UgY2FzZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy90b29scy9maWxlLXNlYXJjaCNzdXBwb3J0ZWQtZmlsZXMpLlxuICAgKlxuICAgKiBGb3IgZ3VpZGFuY2Ugb24gdGhlIHByb3BlciBmaWxlbmFtZSBleHRlbnNpb25zIGZvciBlYWNoIHB1cnBvc2UsIHBsZWFzZSBmb2xsb3dcbiAgICogdGhlIGRvY3VtZW50YXRpb24gb25cbiAgICogW2NyZWF0aW5nIGEgRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9jcmVhdGUpLlxuICAgKi9cbiAgY3JlYXRlKGJvZHk6IFVwbG9hZENyZWF0ZVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VXBsb2FkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdXBsb2FkcycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIHRoZSBVcGxvYWQuIE5vIFBhcnRzIG1heSBiZSBhZGRlZCBhZnRlciBhbiBVcGxvYWQgaXMgY2FuY2VsbGVkLlxuICAgKi9cbiAgY2FuY2VsKHVwbG9hZElkOiBzdHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5BUElQcm9taXNlPFVwbG9hZD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3VwbG9hZHMvJHt1cGxvYWRJZH0vY2FuY2VsYCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcGxldGVzIHRoZVxuICAgKiBbVXBsb2FkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3VwbG9hZHMvb2JqZWN0KS5cbiAgICpcbiAgICogV2l0aGluIHRoZSByZXR1cm5lZCBVcGxvYWQgb2JqZWN0LCB0aGVyZSBpcyBhIG5lc3RlZFxuICAgKiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9vYmplY3QpIG9iamVjdCB0aGF0XG4gICAqIGlzIHJlYWR5IHRvIHVzZSBpbiB0aGUgcmVzdCBvZiB0aGUgcGxhdGZvcm0uXG4gICAqXG4gICAqIFlvdSBjYW4gc3BlY2lmeSB0aGUgb3JkZXIgb2YgdGhlIFBhcnRzIGJ5IHBhc3NpbmcgaW4gYW4gb3JkZXJlZCBsaXN0IG9mIHRoZSBQYXJ0XG4gICAqIElEcy5cbiAgICpcbiAgICogVGhlIG51bWJlciBvZiBieXRlcyB1cGxvYWRlZCB1cG9uIGNvbXBsZXRpb24gbXVzdCBtYXRjaCB0aGUgbnVtYmVyIG9mIGJ5dGVzXG4gICAqIGluaXRpYWxseSBzcGVjaWZpZWQgd2hlbiBjcmVhdGluZyB0aGUgVXBsb2FkIG9iamVjdC4gTm8gUGFydHMgbWF5IGJlIGFkZGVkIGFmdGVyXG4gICAqIGFuIFVwbG9hZCBpcyBjb21wbGV0ZWQuXG4gICAqL1xuICBjb21wbGV0ZShcbiAgICB1cGxvYWRJZDogc3RyaW5nLFxuICAgIGJvZHk6IFVwbG9hZENvbXBsZXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VXBsb2FkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdXBsb2Fkcy8ke3VwbG9hZElkfS9jb21wbGV0ZWAsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBVcGxvYWQgb2JqZWN0IGNhbiBhY2NlcHQgYnl0ZSBjaHVua3MgaW4gdGhlIGZvcm0gb2YgUGFydHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkIHtcbiAgLyoqXG4gICAqIFRoZSBVcGxvYWQgdW5pcXVlIGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW50ZW5kZWQgbnVtYmVyIG9mIGJ5dGVzIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cbiAgYnl0ZXM6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgVXBsb2FkIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZF9hdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSBVcGxvYWQgd2lsbCBleHBpcmUuXG4gICAqL1xuICBleHBpcmVzX2F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBmaWxlIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cbiAgZmlsZW5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9iamVjdCB0eXBlLCB3aGljaCBpcyBhbHdheXMgXCJ1cGxvYWRcIi5cbiAgICovXG4gIG9iamVjdDogJ3VwbG9hZCc7XG5cbiAgLyoqXG4gICAqIFRoZSBpbnRlbmRlZCBwdXJwb3NlIG9mIHRoZSBmaWxlLlxuICAgKiBbUGxlYXNlIHJlZmVyIGhlcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvb2JqZWN0I2ZpbGVzL29iamVjdC1wdXJwb3NlKVxuICAgKiBmb3IgYWNjZXB0YWJsZSB2YWx1ZXMuXG4gICAqL1xuICBwdXJwb3NlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIFVwbG9hZC5cbiAgICovXG4gIHN0YXR1czogJ3BlbmRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnY2FuY2VsbGVkJyB8ICdleHBpcmVkJztcblxuICAvKipcbiAgICogVGhlIGBGaWxlYCBvYmplY3QgcmVwcmVzZW50cyBhIGRvY3VtZW50IHRoYXQgaGFzIGJlZW4gdXBsb2FkZWQgdG8gT3BlbkFJLlxuICAgKi9cbiAgZmlsZT86IEZpbGVzQVBJLkZpbGVPYmplY3QgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwbG9hZENyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIGJ5dGVzIGluIHRoZSBmaWxlIHlvdSBhcmUgdXBsb2FkaW5nLlxuICAgKi9cbiAgYnl0ZXM6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZpbGUgdG8gdXBsb2FkLlxuICAgKi9cbiAgZmlsZW5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIE1JTUUgdHlwZSBvZiB0aGUgZmlsZS5cbiAgICpcbiAgICogVGhpcyBtdXN0IGZhbGwgd2l0aGluIHRoZSBzdXBwb3J0ZWQgTUlNRSB0eXBlcyBmb3IgeW91ciBmaWxlIHB1cnBvc2UuIFNlZSB0aGVcbiAgICogc3VwcG9ydGVkIE1JTUUgdHlwZXMgZm9yIGFzc2lzdGFudHMgYW5kIHZpc2lvbi5cbiAgICovXG4gIG1pbWVfdHlwZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgaW50ZW5kZWQgcHVycG9zZSBvZiB0aGUgdXBsb2FkZWQgZmlsZS5cbiAgICpcbiAgICogU2VlIHRoZVxuICAgKiBbZG9jdW1lbnRhdGlvbiBvbiBGaWxlIHB1cnBvc2VzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL2NyZWF0ZSNmaWxlcy1jcmVhdGUtcHVycG9zZSkuXG4gICAqL1xuICBwdXJwb3NlOiBGaWxlc0FQSS5GaWxlUHVycG9zZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGxvYWRDb21wbGV0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgb3JkZXJlZCBsaXN0IG9mIFBhcnQgSURzLlxuICAgKi9cbiAgcGFydF9pZHM6IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFRoZSBvcHRpb25hbCBtZDUgY2hlY2tzdW0gZm9yIHRoZSBmaWxlIGNvbnRlbnRzIHRvIHZlcmlmeSBpZiB0aGUgYnl0ZXMgdXBsb2FkZWRcbiAgICogbWF0Y2hlcyB3aGF0IHlvdSBleHBlY3QuXG4gICAqL1xuICBtZDU/OiBzdHJpbmc7XG59XG5cblVwbG9hZHMuUGFydHMgPSBQYXJ0cztcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIFVwbG9hZHMge1xuICBleHBvcnQge1xuICAgIHR5cGUgVXBsb2FkIGFzIFVwbG9hZCxcbiAgICB0eXBlIFVwbG9hZENyZWF0ZVBhcmFtcyBhcyBVcGxvYWRDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBVcGxvYWRDb21wbGV0ZVBhcmFtcyBhcyBVcGxvYWRDb21wbGV0ZVBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQgeyBQYXJ0cyBhcyBQYXJ0cywgdHlwZSBVcGxvYWRQYXJ0IGFzIFVwbG9hZFBhcnQsIHR5cGUgUGFydENyZWF0ZVBhcmFtcyBhcyBQYXJ0Q3JlYXRlUGFyYW1zIH07XG59XG4iLCAiLyoqXG4gKiBMaWtlIGBQcm9taXNlLmFsbFNldHRsZWQoKWAgYnV0IHRocm93cyBhbiBlcnJvciBpZiBhbnkgcHJvbWlzZXMgYXJlIHJlamVjdGVkLlxuICovXG5leHBvcnQgY29uc3QgYWxsU2V0dGxlZFdpdGhUaHJvdyA9IGFzeW5jIDxSPihwcm9taXNlczogUHJvbWlzZTxSPltdKTogUHJvbWlzZTxSW10+ID0+IHtcbiAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChwcm9taXNlcyk7XG4gIGNvbnN0IHJlamVjdGVkID0gcmVzdWx0cy5maWx0ZXIoKHJlc3VsdCk6IHJlc3VsdCBpcyBQcm9taXNlUmVqZWN0ZWRSZXN1bHQgPT4gcmVzdWx0LnN0YXR1cyA9PT0gJ3JlamVjdGVkJyk7XG4gIGlmIChyZWplY3RlZC5sZW5ndGgpIHtcbiAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZWplY3RlZCkge1xuICAgICAgY29uc29sZS5lcnJvcihyZXN1bHQucmVhc29uKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVqZWN0ZWQubGVuZ3RofSBwcm9taXNlKHMpIGZhaWxlZCAtIHNlZSB0aGUgYWJvdmUgZXJyb3JzYCk7XG4gIH1cblxuICAvLyBOb3RlOiBUUyB3YXMgY29tcGxhaW5pbmcgYWJvdXQgdXNpbmcgYC5maWx0ZXIoKS5tYXAoKWAgaGVyZSBmb3Igc29tZSByZWFzb25cbiAgY29uc3QgdmFsdWVzOiBSW10gPSBbXTtcbiAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgdmFsdWVzLnB1c2gocmVzdWx0LnZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlcztcbn07XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBzbGVlcCwgVXBsb2FkYWJsZSwgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCAqIGFzIFZlY3RvclN0b3Jlc0FQSSBmcm9tICcuL3ZlY3Rvci1zdG9yZXMnO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgdHlwZSBDdXJzb3JQYWdlUGFyYW1zLCBQYWdlIH0gZnJvbSAnLi4vLi4vcGFnaW5hdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBGaWxlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHZlY3RvciBzdG9yZSBmaWxlIGJ5IGF0dGFjaGluZyBhXG4gICAqIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSB0byBhXG4gICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpLlxuICAgKi9cbiAgY3JlYXRlKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBib2R5OiBGaWxlQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VmVjdG9yU3RvcmVGaWxlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzYCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIHZlY3RvciBzdG9yZSBmaWxlLlxuICAgKi9cbiAgcmV0cmlldmUoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGZpbGVJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VmVjdG9yU3RvcmVGaWxlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZXMvJHtmaWxlSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGF0dHJpYnV0ZXMgb24gYSB2ZWN0b3Igc3RvcmUgZmlsZS5cbiAgICovXG4gIHVwZGF0ZShcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgZmlsZUlkOiBzdHJpbmcsXG4gICAgYm9keTogRmlsZVVwZGF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFZlY3RvclN0b3JlRmlsZT4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlcy8ke2ZpbGVJZH1gLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgdmVjdG9yIHN0b3JlIGZpbGVzLlxuICAgKi9cbiAgbGlzdChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgcXVlcnk/OiBGaWxlTGlzdFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGVzUGFnZSwgVmVjdG9yU3RvcmVGaWxlPjtcbiAgbGlzdChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8VmVjdG9yU3RvcmVGaWxlc1BhZ2UsIFZlY3RvclN0b3JlRmlsZT47XG4gIGxpc3QoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIHF1ZXJ5OiBGaWxlTGlzdFBhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGVzUGFnZSwgVmVjdG9yU3RvcmVGaWxlPiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0KHZlY3RvclN0b3JlSWQsIHt9LCBxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlc2AsIFZlY3RvclN0b3JlRmlsZXNQYWdlLCB7XG4gICAgICBxdWVyeSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHZlY3RvciBzdG9yZSBmaWxlLiBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBmaWxlIGZyb20gdGhlIHZlY3RvciBzdG9yZSBidXRcbiAgICogdGhlIGZpbGUgaXRzZWxmIHdpbGwgbm90IGJlIGRlbGV0ZWQuIFRvIGRlbGV0ZSB0aGUgZmlsZSwgdXNlIHRoZVxuICAgKiBbZGVsZXRlIGZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvZGVsZXRlKVxuICAgKiBlbmRwb2ludC5cbiAgICovXG4gIGRlbChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgZmlsZUlkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGVEZWxldGVkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZXMvJHtmaWxlSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQXR0YWNoIGEgZmlsZSB0byB0aGUgZ2l2ZW4gdmVjdG9yIHN0b3JlIGFuZCB3YWl0IGZvciBpdCB0byBiZSBwcm9jZXNzZWQuXG4gICAqL1xuICBhc3luYyBjcmVhdGVBbmRQb2xsKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBib2R5OiBGaWxlQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zICYgeyBwb2xsSW50ZXJ2YWxNcz86IG51bWJlciB9LFxuICApOiBQcm9taXNlPFZlY3RvclN0b3JlRmlsZT4ge1xuICAgIGNvbnN0IGZpbGUgPSBhd2FpdCB0aGlzLmNyZWF0ZSh2ZWN0b3JTdG9yZUlkLCBib2R5LCBvcHRpb25zKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5wb2xsKHZlY3RvclN0b3JlSWQsIGZpbGUuaWQsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXQgZm9yIHRoZSB2ZWN0b3Igc3RvcmUgZmlsZSB0byBmaW5pc2ggcHJvY2Vzc2luZy5cbiAgICpcbiAgICogTm90ZTogdGhpcyB3aWxsIHJldHVybiBldmVuIGlmIHRoZSBmaWxlIGZhaWxlZCB0byBwcm9jZXNzLCB5b3UgbmVlZCB0byBjaGVja1xuICAgKiBmaWxlLmxhc3RfZXJyb3IgYW5kIGZpbGUuc3RhdHVzIHRvIGhhbmRsZSB0aGVzZSBjYXNlc1xuICAgKi9cbiAgYXN5bmMgcG9sbChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgZmlsZUlkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMgJiB7IHBvbGxJbnRlcnZhbE1zPzogbnVtYmVyIH0sXG4gICk6IFByb21pc2U8VmVjdG9yU3RvcmVGaWxlPiB7XG4gICAgY29uc3QgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLVBvbGwtSGVscGVyJzogJ3RydWUnIH07XG4gICAgaWYgKG9wdGlvbnM/LnBvbGxJbnRlcnZhbE1zKSB7XG4gICAgICBoZWFkZXJzWydYLVN0YWlubGVzcy1DdXN0b20tUG9sbC1JbnRlcnZhbCddID0gb3B0aW9ucy5wb2xsSW50ZXJ2YWxNcy50b1N0cmluZygpO1xuICAgIH1cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgZmlsZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXRyaWV2ZSh2ZWN0b3JTdG9yZUlkLCBmaWxlSWQsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgIH0pLndpdGhSZXNwb25zZSgpO1xuXG4gICAgICBjb25zdCBmaWxlID0gZmlsZVJlc3BvbnNlLmRhdGE7XG5cbiAgICAgIHN3aXRjaCAoZmlsZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSAnaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgIGxldCBzbGVlcEludGVydmFsID0gNTAwMDtcblxuICAgICAgICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgc2xlZXBJbnRlcnZhbCA9IG9wdGlvbnMucG9sbEludGVydmFsTXM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsID0gZmlsZVJlc3BvbnNlLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdvcGVuYWktcG9sbC1hZnRlci1tcycpO1xuICAgICAgICAgICAgaWYgKGhlYWRlckludGVydmFsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsTXMgPSBwYXJzZUludChoZWFkZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICAgIGlmICghaXNOYU4oaGVhZGVySW50ZXJ2YWxNcykpIHtcbiAgICAgICAgICAgICAgICBzbGVlcEludGVydmFsID0gaGVhZGVySW50ZXJ2YWxNcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhd2FpdCBzbGVlcChzbGVlcEludGVydmFsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgY2FzZSAnY29tcGxldGVkJzpcbiAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBsb2FkIGEgZmlsZSB0byB0aGUgYGZpbGVzYCBBUEkgYW5kIHRoZW4gYXR0YWNoIGl0IHRvIHRoZSBnaXZlbiB2ZWN0b3Igc3RvcmUuXG4gICAqXG4gICAqIE5vdGUgdGhlIGZpbGUgd2lsbCBiZSBhc3luY2hyb25vdXNseSBwcm9jZXNzZWQgKHlvdSBjYW4gdXNlIHRoZSBhbHRlcm5hdGl2ZVxuICAgKiBwb2xsaW5nIGhlbHBlciBtZXRob2QgdG8gd2FpdCBmb3IgcHJvY2Vzc2luZyB0byBjb21wbGV0ZSkuXG4gICAqL1xuICBhc3luYyB1cGxvYWQoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGZpbGU6IFVwbG9hZGFibGUsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IFByb21pc2U8VmVjdG9yU3RvcmVGaWxlPiB7XG4gICAgY29uc3QgZmlsZUluZm8gPSBhd2FpdCB0aGlzLl9jbGllbnQuZmlsZXMuY3JlYXRlKHsgZmlsZTogZmlsZSwgcHVycG9zZTogJ2Fzc2lzdGFudHMnIH0sIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZSh2ZWN0b3JTdG9yZUlkLCB7IGZpbGVfaWQ6IGZpbGVJbmZvLmlkIH0sIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGZpbGUgdG8gYSB2ZWN0b3Igc3RvcmUgYW5kIHBvbGwgdW50aWwgcHJvY2Vzc2luZyBpcyBjb21wbGV0ZS5cbiAgICovXG4gIGFzeW5jIHVwbG9hZEFuZFBvbGwoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGZpbGU6IFVwbG9hZGFibGUsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMgJiB7IHBvbGxJbnRlcnZhbE1zPzogbnVtYmVyIH0sXG4gICk6IFByb21pc2U8VmVjdG9yU3RvcmVGaWxlPiB7XG4gICAgY29uc3QgZmlsZUluZm8gPSBhd2FpdCB0aGlzLnVwbG9hZCh2ZWN0b3JTdG9yZUlkLCBmaWxlLCBvcHRpb25zKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5wb2xsKHZlY3RvclN0b3JlSWQsIGZpbGVJbmZvLmlkLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgcGFyc2VkIGNvbnRlbnRzIG9mIGEgdmVjdG9yIHN0b3JlIGZpbGUuXG4gICAqL1xuICBjb250ZW50KFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBmaWxlSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UsIEZpbGVDb250ZW50UmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoXG4gICAgICBgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlcy8ke2ZpbGVJZH0vY29udGVudGAsXG4gICAgICBGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UsXG4gICAgICB7IC4uLm9wdGlvbnMsIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0gfSxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3JTdG9yZUZpbGVzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8VmVjdG9yU3RvcmVGaWxlPiB7fVxuXG4vKipcbiAqIE5vdGU6IG5vIHBhZ2luYXRpb24gYWN0dWFsbHkgb2NjdXJzIHlldCwgdGhpcyBpcyBmb3IgZm9yd2FyZHMtY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSBleHRlbmRzIFBhZ2U8RmlsZUNvbnRlbnRSZXNwb25zZT4ge31cblxuLyoqXG4gKiBBIGxpc3Qgb2YgZmlsZXMgYXR0YWNoZWQgdG8gYSB2ZWN0b3Igc3RvcmUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmVGaWxlIHtcbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyLCB3aGljaCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBBUEkgZW5kcG9pbnRzLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVuaXggdGltZXN0YW1wIChpbiBzZWNvbmRzKSBmb3Igd2hlbiB0aGUgdmVjdG9yIHN0b3JlIGZpbGUgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBsYXN0IGVycm9yIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHZlY3RvciBzdG9yZSBmaWxlLiBXaWxsIGJlIGBudWxsYCBpZiB0aGVyZVxuICAgKiBhcmUgbm8gZXJyb3JzLlxuICAgKi9cbiAgbGFzdF9lcnJvcjogVmVjdG9yU3RvcmVGaWxlLkxhc3RFcnJvciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGB2ZWN0b3Jfc3RvcmUuZmlsZWAuXG4gICAqL1xuICBvYmplY3Q6ICd2ZWN0b3Jfc3RvcmUuZmlsZSc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIHZlY3RvciBzdG9yZSBmaWxlLCB3aGljaCBjYW4gYmUgZWl0aGVyIGBpbl9wcm9ncmVzc2AsXG4gICAqIGBjb21wbGV0ZWRgLCBgY2FuY2VsbGVkYCwgb3IgYGZhaWxlZGAuIFRoZSBzdGF0dXMgYGNvbXBsZXRlZGAgaW5kaWNhdGVzIHRoYXQgdGhlXG4gICAqIHZlY3RvciBzdG9yZSBmaWxlIGlzIHJlYWR5IGZvciB1c2UuXG4gICAqL1xuICBzdGF0dXM6ICdpbl9wcm9ncmVzcycgfCAnY29tcGxldGVkJyB8ICdjYW5jZWxsZWQnIHwgJ2ZhaWxlZCc7XG5cbiAgLyoqXG4gICAqIFRoZSB0b3RhbCB2ZWN0b3Igc3RvcmUgdXNhZ2UgaW4gYnl0ZXMuIE5vdGUgdGhhdCB0aGlzIG1heSBiZSBkaWZmZXJlbnQgZnJvbSB0aGVcbiAgICogb3JpZ2luYWwgZmlsZSBzaXplLlxuICAgKi9cbiAgdXNhZ2VfYnl0ZXM6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZVxuICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KVxuICAgKiB0aGF0IHRoZSBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgaXNcbiAgICogYXR0YWNoZWQgdG8uXG4gICAqL1xuICB2ZWN0b3Jfc3RvcmVfaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC4gS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bVxuICAgKiBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTJcbiAgICogY2hhcmFjdGVycywgYm9vbGVhbnMsIG9yIG51bWJlcnMuXG4gICAqL1xuICBhdHRyaWJ1dGVzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbj4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RyYXRlZ3kgdXNlZCB0byBjaHVuayB0aGUgZmlsZS5cbiAgICovXG4gIGNodW5raW5nX3N0cmF0ZWd5PzogVmVjdG9yU3RvcmVzQVBJLkZpbGVDaHVua2luZ1N0cmF0ZWd5O1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFZlY3RvclN0b3JlRmlsZSB7XG4gIC8qKlxuICAgKiBUaGUgbGFzdCBlcnJvciBhc3NvY2lhdGVkIHdpdGggdGhpcyB2ZWN0b3Igc3RvcmUgZmlsZS4gV2lsbCBiZSBgbnVsbGAgaWYgdGhlcmVcbiAgICogYXJlIG5vIGVycm9ycy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTGFzdEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBPbmUgb2YgYHNlcnZlcl9lcnJvcmAgb3IgYHJhdGVfbGltaXRfZXhjZWVkZWRgLlxuICAgICAqL1xuICAgIGNvZGU6ICdzZXJ2ZXJfZXJyb3InIHwgJ3Vuc3VwcG9ydGVkX2ZpbGUnIHwgJ2ludmFsaWRfZmlsZSc7XG5cbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIGRlc2NyaXB0aW9uIG9mIHRoZSBlcnJvci5cbiAgICAgKi9cbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZWN0b3JTdG9yZUZpbGVEZWxldGVkIHtcbiAgaWQ6IHN0cmluZztcblxuICBkZWxldGVkOiBib29sZWFuO1xuXG4gIG9iamVjdDogJ3ZlY3Rvcl9zdG9yZS5maWxlLmRlbGV0ZWQnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVDb250ZW50UmVzcG9uc2Uge1xuICAvKipcbiAgICogVGhlIHRleHQgY29udGVudFxuICAgKi9cbiAgdGV4dD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgdHlwZSAoY3VycmVudGx5IG9ubHkgYFwidGV4dFwiYClcbiAgICovXG4gIHR5cGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBJRCB0aGF0IHRoZVxuICAgKiB2ZWN0b3Igc3RvcmUgc2hvdWxkIHVzZS4gVXNlZnVsIGZvciB0b29scyBsaWtlIGBmaWxlX3NlYXJjaGAgdGhhdCBjYW4gYWNjZXNzXG4gICAqIGZpbGVzLlxuICAgKi9cbiAgZmlsZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtXG4gICAqIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMlxuICAgKiBjaGFyYWN0ZXJzLCBib29sZWFucywgb3IgbnVtYmVycy5cbiAgICovXG4gIGF0dHJpYnV0ZXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIFRoZSBjaHVua2luZyBzdHJhdGVneSB1c2VkIHRvIGNodW5rIHRoZSBmaWxlKHMpLiBJZiBub3Qgc2V0LCB3aWxsIHVzZSB0aGUgYGF1dG9gXG4gICAqIHN0cmF0ZWd5LiBPbmx5IGFwcGxpY2FibGUgaWYgYGZpbGVfaWRzYCBpcyBub24tZW1wdHkuXG4gICAqL1xuICBjaHVua2luZ19zdHJhdGVneT86IFZlY3RvclN0b3Jlc0FQSS5GaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVVcGRhdGVQYXJhbXMge1xuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC4gS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bVxuICAgKiBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTJcbiAgICogY2hhcmFjdGVycywgYm9vbGVhbnMsIG9yIG51bWJlcnMuXG4gICAqL1xuICBhdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPiB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUxpc3RQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgY3Vyc29yIGZvciB1c2UgaW4gcGFnaW5hdGlvbi4gYGJlZm9yZWAgaXMgYW4gb2JqZWN0IElEIHRoYXQgZGVmaW5lcyB5b3VyIHBsYWNlXG4gICAqIGluIHRoZSBsaXN0LiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBtYWtlIGEgbGlzdCByZXF1ZXN0IGFuZCByZWNlaXZlIDEwMCBvYmplY3RzLFxuICAgKiBzdGFydGluZyB3aXRoIG9ial9mb28sIHlvdXIgc3Vic2VxdWVudCBjYWxsIGNhbiBpbmNsdWRlIGJlZm9yZT1vYmpfZm9vIGluIG9yZGVyXG4gICAqIHRvIGZldGNoIHRoZSBwcmV2aW91cyBwYWdlIG9mIHRoZSBsaXN0LlxuICAgKi9cbiAgYmVmb3JlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBGaWx0ZXIgYnkgZmlsZSBzdGF0dXMuIE9uZSBvZiBgaW5fcHJvZ3Jlc3NgLCBgY29tcGxldGVkYCwgYGZhaWxlZGAsIGBjYW5jZWxsZWRgLlxuICAgKi9cbiAgZmlsdGVyPzogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2ZhaWxlZCcgfCAnY2FuY2VsbGVkJztcblxuICAvKipcbiAgICogU29ydCBvcmRlciBieSB0aGUgYGNyZWF0ZWRfYXRgIHRpbWVzdGFtcCBvZiB0aGUgb2JqZWN0cy4gYGFzY2AgZm9yIGFzY2VuZGluZ1xuICAgKiBvcmRlciBhbmQgYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcbn1cblxuRmlsZXMuVmVjdG9yU3RvcmVGaWxlc1BhZ2UgPSBWZWN0b3JTdG9yZUZpbGVzUGFnZTtcbkZpbGVzLkZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSA9IEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZTtcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIEZpbGVzIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIFZlY3RvclN0b3JlRmlsZSBhcyBWZWN0b3JTdG9yZUZpbGUsXG4gICAgdHlwZSBWZWN0b3JTdG9yZUZpbGVEZWxldGVkIGFzIFZlY3RvclN0b3JlRmlsZURlbGV0ZWQsXG4gICAgdHlwZSBGaWxlQ29udGVudFJlc3BvbnNlIGFzIEZpbGVDb250ZW50UmVzcG9uc2UsXG4gICAgVmVjdG9yU3RvcmVGaWxlc1BhZ2UgYXMgVmVjdG9yU3RvcmVGaWxlc1BhZ2UsXG4gICAgRmlsZUNvbnRlbnRSZXNwb25zZXNQYWdlIGFzIEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSxcbiAgICB0eXBlIEZpbGVDcmVhdGVQYXJhbXMgYXMgRmlsZUNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIEZpbGVVcGRhdGVQYXJhbXMgYXMgRmlsZVVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIEZpbGVMaXN0UGFyYW1zIGFzIEZpbGVMaXN0UGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2UnO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IFVwbG9hZGFibGUgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IGFsbFNldHRsZWRXaXRoVGhyb3cgfSBmcm9tICcuLi8uLi9saWIvVXRpbCc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgRmlsZXNBUEkgZnJvbSAnLi9maWxlcyc7XG5pbXBvcnQgeyBWZWN0b3JTdG9yZUZpbGVzUGFnZSB9IGZyb20gJy4vZmlsZXMnO1xuaW1wb3J0ICogYXMgVmVjdG9yU3RvcmVzQVBJIGZyb20gJy4vdmVjdG9yLXN0b3Jlcyc7XG5pbXBvcnQgeyB0eXBlIEN1cnNvclBhZ2VQYXJhbXMgfSBmcm9tICcuLi8uLi9wYWdpbmF0aW9uJztcblxuZXhwb3J0IGNsYXNzIEZpbGVCYXRjaGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAvKipcbiAgICogQ3JlYXRlIGEgdmVjdG9yIHN0b3JlIGZpbGUgYmF0Y2guXG4gICAqL1xuICBjcmVhdGUoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGJvZHk6IEZpbGVCYXRjaENyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFZlY3RvclN0b3JlRmlsZUJhdGNoPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVfYmF0Y2hlc2AsIHtcbiAgICAgIGJvZHksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC5cbiAgICovXG4gIHJldHJpZXZlKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBiYXRjaElkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuQVBJUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGVCYXRjaD4ge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVfYmF0Y2hlcy8ke2JhdGNoSWR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VsIGEgdmVjdG9yIHN0b3JlIGZpbGUgYmF0Y2guIFRoaXMgYXR0ZW1wdHMgdG8gY2FuY2VsIHRoZSBwcm9jZXNzaW5nIG9mXG4gICAqIGZpbGVzIGluIHRoaXMgYmF0Y2ggYXMgc29vbiBhcyBwb3NzaWJsZS5cbiAgICovXG4gIGNhbmNlbChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgYmF0Y2hJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLkFQSVByb21pc2U8VmVjdG9yU3RvcmVGaWxlQmF0Y2g+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZV9iYXRjaGVzLyR7YmF0Y2hJZH0vY2FuY2VsYCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgdmVjdG9yIHN0b3JlIGJhdGNoIGFuZCBwb2xsIHVudGlsIGFsbCBmaWxlcyBoYXZlIGJlZW4gcHJvY2Vzc2VkLlxuICAgKi9cbiAgYXN5bmMgY3JlYXRlQW5kUG9sbChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgYm9keTogRmlsZUJhdGNoQ3JlYXRlUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zICYgeyBwb2xsSW50ZXJ2YWxNcz86IG51bWJlciB9LFxuICApOiBQcm9taXNlPFZlY3RvclN0b3JlRmlsZUJhdGNoPiB7XG4gICAgY29uc3QgYmF0Y2ggPSBhd2FpdCB0aGlzLmNyZWF0ZSh2ZWN0b3JTdG9yZUlkLCBib2R5KTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5wb2xsKHZlY3RvclN0b3JlSWQsIGJhdGNoLmlkLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgZmlsZXMgaW4gYSBiYXRjaC5cbiAgICovXG4gIGxpc3RGaWxlcyhcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgYmF0Y2hJZDogc3RyaW5nLFxuICAgIHF1ZXJ5PzogRmlsZUJhdGNoTGlzdEZpbGVzUGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFZlY3RvclN0b3JlRmlsZXNQYWdlLCBGaWxlc0FQSS5WZWN0b3JTdG9yZUZpbGU+O1xuICBsaXN0RmlsZXMoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGJhdGNoSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGVzUGFnZSwgRmlsZXNBUEkuVmVjdG9yU3RvcmVGaWxlPjtcbiAgbGlzdEZpbGVzKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBiYXRjaElkOiBzdHJpbmcsXG4gICAgcXVlcnk6IEZpbGVCYXRjaExpc3RGaWxlc1BhcmFtcyB8IENvcmUuUmVxdWVzdE9wdGlvbnMgPSB7fSxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGVzUGFnZSwgRmlsZXNBUEkuVmVjdG9yU3RvcmVGaWxlPiB7XG4gICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0RmlsZXModmVjdG9yU3RvcmVJZCwgYmF0Y2hJZCwge30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KFxuICAgICAgYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZV9iYXRjaGVzLyR7YmF0Y2hJZH0vZmlsZXNgLFxuICAgICAgVmVjdG9yU3RvcmVGaWxlc1BhZ2UsXG4gICAgICB7IHF1ZXJ5LCAuLi5vcHRpb25zLCBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9IH0sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0IGZvciB0aGUgZ2l2ZW4gZmlsZSBiYXRjaCB0byBiZSBwcm9jZXNzZWQuXG4gICAqXG4gICAqIE5vdGU6IHRoaXMgd2lsbCByZXR1cm4gZXZlbiBpZiBvbmUgb2YgdGhlIGZpbGVzIGZhaWxlZCB0byBwcm9jZXNzLCB5b3UgbmVlZCB0b1xuICAgKiBjaGVjayBiYXRjaC5maWxlX2NvdW50cy5mYWlsZWRfY291bnQgdG8gaGFuZGxlIHRoaXMgY2FzZS5cbiAgICovXG4gIGFzeW5jIHBvbGwoXG4gICAgdmVjdG9yU3RvcmVJZDogc3RyaW5nLFxuICAgIGJhdGNoSWQ6IHN0cmluZyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyAmIHsgcG9sbEludGVydmFsTXM/OiBudW1iZXIgfSxcbiAgKTogUHJvbWlzZTxWZWN0b3JTdG9yZUZpbGVCYXRjaD4ge1xuICAgIGNvbnN0IGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1Qb2xsLUhlbHBlcic6ICd0cnVlJyB9O1xuICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgaGVhZGVyc1snWC1TdGFpbmxlc3MtQ3VzdG9tLVBvbGwtSW50ZXJ2YWwnXSA9IG9wdGlvbnMucG9sbEludGVydmFsTXMudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgeyBkYXRhOiBiYXRjaCwgcmVzcG9uc2UgfSA9IGF3YWl0IHRoaXMucmV0cmlldmUodmVjdG9yU3RvcmVJZCwgYmF0Y2hJZCwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgfSkud2l0aFJlc3BvbnNlKCk7XG5cbiAgICAgIHN3aXRjaCAoYmF0Y2guc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgJ2luX3Byb2dyZXNzJzpcbiAgICAgICAgICBsZXQgc2xlZXBJbnRlcnZhbCA9IDUwMDA7XG5cbiAgICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJJbnRlcnZhbCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdvcGVuYWktcG9sbC1hZnRlci1tcycpO1xuICAgICAgICAgICAgaWYgKGhlYWRlckludGVydmFsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsTXMgPSBwYXJzZUludChoZWFkZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICAgIGlmICghaXNOYU4oaGVhZGVySW50ZXJ2YWxNcykpIHtcbiAgICAgICAgICAgICAgICBzbGVlcEludGVydmFsID0gaGVhZGVySW50ZXJ2YWxNcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhd2FpdCBzbGVlcChzbGVlcEludGVydmFsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgY2FzZSAnY2FuY2VsbGVkJzpcbiAgICAgICAgY2FzZSAnY29tcGxldGVkJzpcbiAgICAgICAgICByZXR1cm4gYmF0Y2g7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwbG9hZHMgdGhlIGdpdmVuIGZpbGVzIGNvbmN1cnJlbnRseSBhbmQgdGhlbiBjcmVhdGVzIGEgdmVjdG9yIHN0b3JlIGZpbGUgYmF0Y2guXG4gICAqXG4gICAqIFRoZSBjb25jdXJyZW5jeSBsaW1pdCBpcyBjb25maWd1cmFibGUgdXNpbmcgdGhlIGBtYXhDb25jdXJyZW5jeWAgcGFyYW1ldGVyLlxuICAgKi9cbiAgYXN5bmMgdXBsb2FkQW5kUG9sbChcbiAgICB2ZWN0b3JTdG9yZUlkOiBzdHJpbmcsXG4gICAgeyBmaWxlcywgZmlsZUlkcyA9IFtdIH06IHsgZmlsZXM6IFVwbG9hZGFibGVbXTsgZmlsZUlkcz86IHN0cmluZ1tdIH0sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMgJiB7IHBvbGxJbnRlcnZhbE1zPzogbnVtYmVyOyBtYXhDb25jdXJyZW5jeT86IG51bWJlciB9LFxuICApOiBQcm9taXNlPFZlY3RvclN0b3JlRmlsZUJhdGNoPiB7XG4gICAgaWYgKGZpbGVzID09IG51bGwgfHwgZmlsZXMubGVuZ3RoID09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE5vIFxcYGZpbGVzXFxgIHByb3ZpZGVkIHRvIHByb2Nlc3MuIElmIHlvdSd2ZSBhbHJlYWR5IHVwbG9hZGVkIGZpbGVzIHlvdSBzaG91bGQgdXNlIFxcYC5jcmVhdGVBbmRQb2xsKClcXGAgaW5zdGVhZGAsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbmZpZ3VyZWRDb25jdXJyZW5jeSA9IG9wdGlvbnM/Lm1heENvbmN1cnJlbmN5ID8/IDU7XG5cbiAgICAvLyBXZSBjYXAgdGhlIG51bWJlciBvZiB3b3JrZXJzIGF0IHRoZSBudW1iZXIgb2YgZmlsZXMgKHNvIHdlIGRvbid0IHN0YXJ0IGFueSB1bm5lY2Vzc2FyeSB3b3JrZXJzKVxuICAgIGNvbnN0IGNvbmN1cnJlbmN5TGltaXQgPSBNYXRoLm1pbihjb25maWd1cmVkQ29uY3VycmVuY3ksIGZpbGVzLmxlbmd0aCk7XG5cbiAgICBjb25zdCBjbGllbnQgPSB0aGlzLl9jbGllbnQ7XG4gICAgY29uc3QgZmlsZUl0ZXJhdG9yID0gZmlsZXMudmFsdWVzKCk7XG4gICAgY29uc3QgYWxsRmlsZUlkczogc3RyaW5nW10gPSBbLi4uZmlsZUlkc107XG5cbiAgICAvLyBUaGlzIGNvZGUgaXMgYmFzZWQgb24gdGhpcyBkZXNpZ24uIFRoZSBsaWJyYXJpZXMgZG9uJ3QgYWNjb21tb2RhdGUgb3VyIGVudmlyb25tZW50IGxpbWl0cy5cbiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80MDYzOTQzMi93aGF0LWlzLXRoZS1iZXN0LXdheS10by1saW1pdC1jb25jdXJyZW5jeS13aGVuLXVzaW5nLWVzNnMtcHJvbWlzZS1hbGxcbiAgICBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRmlsZXMoaXRlcmF0b3I6IEl0ZXJhYmxlSXRlcmF0b3I8VXBsb2FkYWJsZT4pIHtcbiAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlcmF0b3IpIHtcbiAgICAgICAgY29uc3QgZmlsZU9iaiA9IGF3YWl0IGNsaWVudC5maWxlcy5jcmVhdGUoeyBmaWxlOiBpdGVtLCBwdXJwb3NlOiAnYXNzaXN0YW50cycgfSwgb3B0aW9ucyk7XG4gICAgICAgIGFsbEZpbGVJZHMucHVzaChmaWxlT2JqLmlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdGFydCB3b3JrZXJzIHRvIHByb2Nlc3MgcmVzdWx0c1xuICAgIGNvbnN0IHdvcmtlcnMgPSBBcnJheShjb25jdXJyZW5jeUxpbWl0KS5maWxsKGZpbGVJdGVyYXRvcikubWFwKHByb2Nlc3NGaWxlcyk7XG5cbiAgICAvLyBXYWl0IGZvciBhbGwgcHJvY2Vzc2luZyB0byBjb21wbGV0ZS5cbiAgICBhd2FpdCBhbGxTZXR0bGVkV2l0aFRocm93KHdvcmtlcnMpO1xuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuY3JlYXRlQW5kUG9sbCh2ZWN0b3JTdG9yZUlkLCB7XG4gICAgICBmaWxlX2lkczogYWxsRmlsZUlkcyxcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIEEgYmF0Y2ggb2YgZmlsZXMgYXR0YWNoZWQgdG8gYSB2ZWN0b3Igc3RvcmUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmVGaWxlQmF0Y2gge1xuICAvKipcbiAgICogVGhlIGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSB2ZWN0b3Igc3RvcmUgZmlsZXMgYmF0Y2ggd2FzXG4gICAqIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgZmlsZV9jb3VudHM6IFZlY3RvclN0b3JlRmlsZUJhdGNoLkZpbGVDb3VudHM7XG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdHlwZSwgd2hpY2ggaXMgYWx3YXlzIGB2ZWN0b3Jfc3RvcmUuZmlsZV9iYXRjaGAuXG4gICAqL1xuICBvYmplY3Q6ICd2ZWN0b3Jfc3RvcmUuZmlsZXNfYmF0Y2gnO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSB2ZWN0b3Igc3RvcmUgZmlsZXMgYmF0Y2gsIHdoaWNoIGNhbiBiZSBlaXRoZXIgYGluX3Byb2dyZXNzYCxcbiAgICogYGNvbXBsZXRlZGAsIGBjYW5jZWxsZWRgIG9yIGBmYWlsZWRgLlxuICAgKi9cbiAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnIHwgJ2NvbXBsZXRlZCcgfCAnY2FuY2VsbGVkJyB8ICdmYWlsZWQnO1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlXG4gICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpXG4gICAqIHRoYXQgdGhlIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSBpc1xuICAgKiBhdHRhY2hlZCB0by5cbiAgICovXG4gIHZlY3Rvcl9zdG9yZV9pZDogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFZlY3RvclN0b3JlRmlsZUJhdGNoIHtcbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlQ291bnRzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGZpbGVzIHRoYXQgd2hlcmUgY2FuY2VsbGVkLlxuICAgICAqL1xuICAgIGNhbmNlbGxlZDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBmaWxlcyB0aGF0IGhhdmUgYmVlbiBwcm9jZXNzZWQuXG4gICAgICovXG4gICAgY29tcGxldGVkOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGZpbGVzIHRoYXQgaGF2ZSBmYWlsZWQgdG8gcHJvY2Vzcy5cbiAgICAgKi9cbiAgICBmYWlsZWQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZmlsZXMgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgKi9cbiAgICBpbl9wcm9ncmVzczogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBmaWxlcy5cbiAgICAgKi9cbiAgICB0b3RhbDogbnVtYmVyO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUJhdGNoQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgSURzIHRoYXRcbiAgICogdGhlIHZlY3RvciBzdG9yZSBzaG91bGQgdXNlLiBVc2VmdWwgZm9yIHRvb2xzIGxpa2UgYGZpbGVfc2VhcmNoYCB0aGF0IGNhbiBhY2Nlc3NcbiAgICogZmlsZXMuXG4gICAqL1xuICBmaWxlX2lkczogQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC4gS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bVxuICAgKiBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTJcbiAgICogY2hhcmFjdGVycywgYm9vbGVhbnMsIG9yIG51bWJlcnMuXG4gICAqL1xuICBhdHRyaWJ1dGVzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbj4gfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgY2h1bmtpbmcgc3RyYXRlZ3kgdXNlZCB0byBjaHVuayB0aGUgZmlsZShzKS4gSWYgbm90IHNldCwgd2lsbCB1c2UgdGhlIGBhdXRvYFxuICAgKiBzdHJhdGVneS4gT25seSBhcHBsaWNhYmxlIGlmIGBmaWxlX2lkc2AgaXMgbm9uLWVtcHR5LlxuICAgKi9cbiAgY2h1bmtpbmdfc3RyYXRlZ3k/OiBWZWN0b3JTdG9yZXNBUEkuRmlsZUNodW5raW5nU3RyYXRlZ3lQYXJhbTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlQmF0Y2hMaXN0RmlsZXNQYXJhbXMgZXh0ZW5kcyBDdXJzb3JQYWdlUGFyYW1zIHtcbiAgLyoqXG4gICAqIEEgY3Vyc29yIGZvciB1c2UgaW4gcGFnaW5hdGlvbi4gYGJlZm9yZWAgaXMgYW4gb2JqZWN0IElEIHRoYXQgZGVmaW5lcyB5b3VyIHBsYWNlXG4gICAqIGluIHRoZSBsaXN0LiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBtYWtlIGEgbGlzdCByZXF1ZXN0IGFuZCByZWNlaXZlIDEwMCBvYmplY3RzLFxuICAgKiBzdGFydGluZyB3aXRoIG9ial9mb28sIHlvdXIgc3Vic2VxdWVudCBjYWxsIGNhbiBpbmNsdWRlIGJlZm9yZT1vYmpfZm9vIGluIG9yZGVyXG4gICAqIHRvIGZldGNoIHRoZSBwcmV2aW91cyBwYWdlIG9mIHRoZSBsaXN0LlxuICAgKi9cbiAgYmVmb3JlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBGaWx0ZXIgYnkgZmlsZSBzdGF0dXMuIE9uZSBvZiBgaW5fcHJvZ3Jlc3NgLCBgY29tcGxldGVkYCwgYGZhaWxlZGAsIGBjYW5jZWxsZWRgLlxuICAgKi9cbiAgZmlsdGVyPzogJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2ZhaWxlZCcgfCAnY2FuY2VsbGVkJztcblxuICAvKipcbiAgICogU29ydCBvcmRlciBieSB0aGUgYGNyZWF0ZWRfYXRgIHRpbWVzdGFtcCBvZiB0aGUgb2JqZWN0cy4gYGFzY2AgZm9yIGFzY2VuZGluZ1xuICAgKiBvcmRlciBhbmQgYGRlc2NgIGZvciBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKi9cbiAgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJztcbn1cblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIEZpbGVCYXRjaGVzIHtcbiAgZXhwb3J0IHtcbiAgICB0eXBlIFZlY3RvclN0b3JlRmlsZUJhdGNoIGFzIFZlY3RvclN0b3JlRmlsZUJhdGNoLFxuICAgIHR5cGUgRmlsZUJhdGNoQ3JlYXRlUGFyYW1zIGFzIEZpbGVCYXRjaENyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIEZpbGVCYXRjaExpc3RGaWxlc1BhcmFtcyBhcyBGaWxlQmF0Y2hMaXN0RmlsZXNQYXJhbXMsXG4gIH07XG59XG5cbmV4cG9ydCB7IFZlY3RvclN0b3JlRmlsZXNQYWdlIH07XG4iLCAiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tICcuLi8uLi9yZXNvdXJjZSc7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gJy4uL3NoYXJlZCc7XG5pbXBvcnQgKiBhcyBGaWxlQmF0Y2hlc0FQSSBmcm9tICcuL2ZpbGUtYmF0Y2hlcyc7XG5pbXBvcnQge1xuICBGaWxlQmF0Y2hDcmVhdGVQYXJhbXMsXG4gIEZpbGVCYXRjaExpc3RGaWxlc1BhcmFtcyxcbiAgRmlsZUJhdGNoZXMsXG4gIFZlY3RvclN0b3JlRmlsZUJhdGNoLFxufSBmcm9tICcuL2ZpbGUtYmF0Y2hlcyc7XG5pbXBvcnQgKiBhcyBGaWxlc0FQSSBmcm9tICcuL2ZpbGVzJztcbmltcG9ydCB7XG4gIEZpbGVDb250ZW50UmVzcG9uc2UsXG4gIEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSxcbiAgRmlsZUNyZWF0ZVBhcmFtcyxcbiAgRmlsZUxpc3RQYXJhbXMsXG4gIEZpbGVVcGRhdGVQYXJhbXMsXG4gIEZpbGVzLFxuICBWZWN0b3JTdG9yZUZpbGUsXG4gIFZlY3RvclN0b3JlRmlsZURlbGV0ZWQsXG4gIFZlY3RvclN0b3JlRmlsZXNQYWdlLFxufSBmcm9tICcuL2ZpbGVzJztcbmltcG9ydCB7IEN1cnNvclBhZ2UsIHR5cGUgQ3Vyc29yUGFnZVBhcmFtcywgUGFnZSB9IGZyb20gJy4uLy4uL3BhZ2luYXRpb24nO1xuXG5leHBvcnQgY2xhc3MgVmVjdG9yU3RvcmVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICBmaWxlczogRmlsZXNBUEkuRmlsZXMgPSBuZXcgRmlsZXNBUEkuRmlsZXModGhpcy5fY2xpZW50KTtcbiAgZmlsZUJhdGNoZXM6IEZpbGVCYXRjaGVzQVBJLkZpbGVCYXRjaGVzID0gbmV3IEZpbGVCYXRjaGVzQVBJLkZpbGVCYXRjaGVzKHRoaXMuX2NsaWVudCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHZlY3RvciBzdG9yZS5cbiAgICovXG4gIGNyZWF0ZShib2R5OiBWZWN0b3JTdG9yZUNyZWF0ZVBhcmFtcywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VmVjdG9yU3RvcmU+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy92ZWN0b3Jfc3RvcmVzJywge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIHZlY3RvciBzdG9yZS5cbiAgICovXG4gIHJldHJpZXZlKHZlY3RvclN0b3JlSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VmVjdG9yU3RvcmU+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vZGlmaWVzIGEgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgdXBkYXRlKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBib2R5OiBWZWN0b3JTdG9yZVVwZGF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5BUElQcm9taXNlPFZlY3RvclN0b3JlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9YCwge1xuICAgICAgYm9keSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHZlY3RvciBzdG9yZXMuXG4gICAqL1xuICBsaXN0KFxuICAgIHF1ZXJ5PzogVmVjdG9yU3RvcmVMaXN0UGFyYW1zLFxuICAgIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLFxuICApOiBDb3JlLlBhZ2VQcm9taXNlPFZlY3RvclN0b3Jlc1BhZ2UsIFZlY3RvclN0b3JlPjtcbiAgbGlzdChvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyk6IENvcmUuUGFnZVByb21pc2U8VmVjdG9yU3RvcmVzUGFnZSwgVmVjdG9yU3RvcmU+O1xuICBsaXN0KFxuICAgIHF1ZXJ5OiBWZWN0b3JTdG9yZUxpc3RQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0ge30sXG4gICAgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMsXG4gICk6IENvcmUuUGFnZVByb21pc2U8VmVjdG9yU3RvcmVzUGFnZSwgVmVjdG9yU3RvcmU+IHtcbiAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvdmVjdG9yX3N0b3JlcycsIFZlY3RvclN0b3Jlc1BhZ2UsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgZGVsKHZlY3RvclN0b3JlSWQ6IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkFQSVByb21pc2U8VmVjdG9yU3RvcmVEZWxldGVkPiB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggYSB2ZWN0b3Igc3RvcmUgZm9yIHJlbGV2YW50IGNodW5rcyBiYXNlZCBvbiBhIHF1ZXJ5IGFuZCBmaWxlIGF0dHJpYnV0ZXNcbiAgICogZmlsdGVyLlxuICAgKi9cbiAgc2VhcmNoKFxuICAgIHZlY3RvclN0b3JlSWQ6IHN0cmluZyxcbiAgICBib2R5OiBWZWN0b3JTdG9yZVNlYXJjaFBhcmFtcyxcbiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucyxcbiAgKTogQ29yZS5QYWdlUHJvbWlzZTxWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2UsIFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vc2VhcmNoYCwgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlLCB7XG4gICAgICBib2R5LFxuICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmVjdG9yU3RvcmVzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2U8VmVjdG9yU3RvcmU+IHt9XG5cbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlIGV4dGVuZHMgUGFnZTxWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlPiB7fVxuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHN0cmF0ZWd5LiBUaGlzIHN0cmF0ZWd5IGN1cnJlbnRseSB1c2VzIGEgYG1heF9jaHVua19zaXplX3Rva2Vuc2Agb2ZcbiAqIGA4MDBgIGFuZCBgY2h1bmtfb3ZlcmxhcF90b2tlbnNgIG9mIGA0MDBgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1dG9GaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtIHtcbiAgLyoqXG4gICAqIEFsd2F5cyBgYXV0b2AuXG4gICAqL1xuICB0eXBlOiAnYXV0byc7XG59XG5cbi8qKlxuICogVGhlIHN0cmF0ZWd5IHVzZWQgdG8gY2h1bmsgdGhlIGZpbGUuXG4gKi9cbmV4cG9ydCB0eXBlIEZpbGVDaHVua2luZ1N0cmF0ZWd5ID0gU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3QgfCBPdGhlckZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0O1xuXG4vKipcbiAqIFRoZSBjaHVua2luZyBzdHJhdGVneSB1c2VkIHRvIGNodW5rIHRoZSBmaWxlKHMpLiBJZiBub3Qgc2V0LCB3aWxsIHVzZSB0aGUgYGF1dG9gXG4gKiBzdHJhdGVneS4gT25seSBhcHBsaWNhYmxlIGlmIGBmaWxlX2lkc2AgaXMgbm9uLWVtcHR5LlxuICovXG5leHBvcnQgdHlwZSBGaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtID0gQXV0b0ZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW0gfCBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdFBhcmFtO1xuXG4vKipcbiAqIFRoaXMgaXMgcmV0dXJuZWQgd2hlbiB0aGUgY2h1bmtpbmcgc3RyYXRlZ3kgaXMgdW5rbm93bi4gVHlwaWNhbGx5LCB0aGlzIGlzXG4gKiBiZWNhdXNlIHRoZSBmaWxlIHdhcyBpbmRleGVkIGJlZm9yZSB0aGUgYGNodW5raW5nX3N0cmF0ZWd5YCBjb25jZXB0IHdhc1xuICogaW50cm9kdWNlZCBpbiB0aGUgQVBJLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE90aGVyRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3Qge1xuICAvKipcbiAgICogQWx3YXlzIGBvdGhlcmAuXG4gICAqL1xuICB0eXBlOiAnb3RoZXInO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5IHtcbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgdG9rZW5zIHRoYXQgb3ZlcmxhcCBiZXR3ZWVuIGNodW5rcy4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYDQwMGAuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgb3ZlcmxhcCBtdXN0IG5vdCBleGNlZWQgaGFsZiBvZiBgbWF4X2NodW5rX3NpemVfdG9rZW5zYC5cbiAgICovXG4gIGNodW5rX292ZXJsYXBfdG9rZW5zOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgaW4gZWFjaCBjaHVuay4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYDgwMGAuIFRoZVxuICAgKiBtaW5pbXVtIHZhbHVlIGlzIGAxMDBgIGFuZCB0aGUgbWF4aW11bSB2YWx1ZSBpcyBgNDA5NmAuXG4gICAqL1xuICBtYXhfY2h1bmtfc2l6ZV90b2tlbnM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdCB7XG4gIHN0YXRpYzogU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3k7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgc3RhdGljYC5cbiAgICovXG4gIHR5cGU6ICdzdGF0aWMnO1xufVxuXG4vKipcbiAqIEN1c3RvbWl6ZSB5b3VyIG93biBjaHVua2luZyBzdHJhdGVneSBieSBzZXR0aW5nIGNodW5rIHNpemUgYW5kIGNodW5rIG92ZXJsYXAuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3RQYXJhbSB7XG4gIHN0YXRpYzogU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3k7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgc3RhdGljYC5cbiAgICovXG4gIHR5cGU6ICdzdGF0aWMnO1xufVxuXG4vKipcbiAqIEEgdmVjdG9yIHN0b3JlIGlzIGEgY29sbGVjdGlvbiBvZiBwcm9jZXNzZWQgZmlsZXMgY2FuIGJlIHVzZWQgYnkgdGhlXG4gKiBgZmlsZV9zZWFyY2hgIHRvb2wuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmUge1xuICAvKipcbiAgICogVGhlIGlkZW50aWZpZXIsIHdoaWNoIGNhbiBiZSByZWZlcmVuY2VkIGluIEFQSSBlbmRwb2ludHMuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgVW5peCB0aW1lc3RhbXAgKGluIHNlY29uZHMpIGZvciB3aGVuIHRoZSB2ZWN0b3Igc3RvcmUgd2FzIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkX2F0OiBudW1iZXI7XG5cbiAgZmlsZV9jb3VudHM6IFZlY3RvclN0b3JlLkZpbGVDb3VudHM7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHZlY3RvciBzdG9yZSB3YXMgbGFzdCBhY3RpdmUuXG4gICAqL1xuICBsYXN0X2FjdGl2ZV9hdDogbnVtYmVyIHwgbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC5cbiAgICpcbiAgICogS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGhcbiAgICogYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTIgY2hhcmFjdGVycy5cbiAgICovXG4gIG1ldGFkYXRhOiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHR5cGUsIHdoaWNoIGlzIGFsd2F5cyBgdmVjdG9yX3N0b3JlYC5cbiAgICovXG4gIG9iamVjdDogJ3ZlY3Rvcl9zdG9yZSc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIHZlY3RvciBzdG9yZSwgd2hpY2ggY2FuIGJlIGVpdGhlciBgZXhwaXJlZGAsIGBpbl9wcm9ncmVzc2AsIG9yXG4gICAqIGBjb21wbGV0ZWRgLiBBIHN0YXR1cyBvZiBgY29tcGxldGVkYCBpbmRpY2F0ZXMgdGhhdCB0aGUgdmVjdG9yIHN0b3JlIGlzIHJlYWR5XG4gICAqIGZvciB1c2UuXG4gICAqL1xuICBzdGF0dXM6ICdleHBpcmVkJyB8ICdpbl9wcm9ncmVzcycgfCAnY29tcGxldGVkJztcblxuICAvKipcbiAgICogVGhlIHRvdGFsIG51bWJlciBvZiBieXRlcyB1c2VkIGJ5IHRoZSBmaWxlcyBpbiB0aGUgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgdXNhZ2VfYnl0ZXM6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGV4cGlyYXRpb24gcG9saWN5IGZvciBhIHZlY3RvciBzdG9yZS5cbiAgICovXG4gIGV4cGlyZXNfYWZ0ZXI/OiBWZWN0b3JTdG9yZS5FeHBpcmVzQWZ0ZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBVbml4IHRpbWVzdGFtcCAoaW4gc2Vjb25kcykgZm9yIHdoZW4gdGhlIHZlY3RvciBzdG9yZSB3aWxsIGV4cGlyZS5cbiAgICovXG4gIGV4cGlyZXNfYXQ/OiBudW1iZXIgfCBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFZlY3RvclN0b3JlIHtcbiAgZXhwb3J0IGludGVyZmFjZSBGaWxlQ291bnRzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGZpbGVzIHRoYXQgd2VyZSBjYW5jZWxsZWQuXG4gICAgICovXG4gICAgY2FuY2VsbGVkOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGZpbGVzIHRoYXQgaGF2ZSBiZWVuIHN1Y2Nlc3NmdWxseSBwcm9jZXNzZWQuXG4gICAgICovXG4gICAgY29tcGxldGVkOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGZpbGVzIHRoYXQgaGF2ZSBmYWlsZWQgdG8gcHJvY2Vzcy5cbiAgICAgKi9cbiAgICBmYWlsZWQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZmlsZXMgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgKi9cbiAgICBpbl9wcm9ncmVzczogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBmaWxlcy5cbiAgICAgKi9cbiAgICB0b3RhbDogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBleHBpcmF0aW9uIHBvbGljeSBmb3IgYSB2ZWN0b3Igc3RvcmUuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEV4cGlyZXNBZnRlciB7XG4gICAgLyoqXG4gICAgICogQW5jaG9yIHRpbWVzdGFtcCBhZnRlciB3aGljaCB0aGUgZXhwaXJhdGlvbiBwb2xpY3kgYXBwbGllcy4gU3VwcG9ydGVkIGFuY2hvcnM6XG4gICAgICogYGxhc3RfYWN0aXZlX2F0YC5cbiAgICAgKi9cbiAgICBhbmNob3I6ICdsYXN0X2FjdGl2ZV9hdCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGRheXMgYWZ0ZXIgdGhlIGFuY2hvciB0aW1lIHRoYXQgdGhlIHZlY3RvciBzdG9yZSB3aWxsIGV4cGlyZS5cbiAgICAgKi9cbiAgICBkYXlzOiBudW1iZXI7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZWN0b3JTdG9yZURlbGV0ZWQge1xuICBpZDogc3RyaW5nO1xuXG4gIGRlbGV0ZWQ6IGJvb2xlYW47XG5cbiAgb2JqZWN0OiAndmVjdG9yX3N0b3JlLmRlbGV0ZWQnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2Uge1xuICAvKipcbiAgICogU2V0IG9mIDE2IGtleS12YWx1ZSBwYWlycyB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhbiBvYmplY3QuIFRoaXMgY2FuIGJlIHVzZWZ1bFxuICAgKiBmb3Igc3RvcmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCwgYW5kXG4gICAqIHF1ZXJ5aW5nIGZvciBvYmplY3RzIHZpYSBBUEkgb3IgdGhlIGRhc2hib2FyZC4gS2V5cyBhcmUgc3RyaW5ncyB3aXRoIGEgbWF4aW11bVxuICAgKiBsZW5ndGggb2YgNjQgY2hhcmFjdGVycy4gVmFsdWVzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA1MTJcbiAgICogY2hhcmFjdGVycywgYm9vbGVhbnMsIG9yIG51bWJlcnMuXG4gICAqL1xuICBhdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPiB8IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnRlbnQgY2h1bmtzIGZyb20gdGhlIGZpbGUuXG4gICAqL1xuICBjb250ZW50OiBBcnJheTxWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlLkNvbnRlbnQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHZlY3RvciBzdG9yZSBmaWxlLlxuICAgKi9cbiAgZmlsZV9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgdmVjdG9yIHN0b3JlIGZpbGUuXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc2ltaWxhcml0eSBzY29yZSBmb3IgdGhlIHJlc3VsdC5cbiAgICovXG4gIHNjb3JlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQ29udGVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgY29udGVudCByZXR1cm5lZCBmcm9tIHNlYXJjaC5cbiAgICAgKi9cbiAgICB0ZXh0OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBjb250ZW50LlxuICAgICAqL1xuICAgIHR5cGU6ICd0ZXh0JztcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlY3RvclN0b3JlQ3JlYXRlUGFyYW1zIHtcbiAgLyoqXG4gICAqIFRoZSBjaHVua2luZyBzdHJhdGVneSB1c2VkIHRvIGNodW5rIHRoZSBmaWxlKHMpLiBJZiBub3Qgc2V0LCB3aWxsIHVzZSB0aGUgYGF1dG9gXG4gICAqIHN0cmF0ZWd5LiBPbmx5IGFwcGxpY2FibGUgaWYgYGZpbGVfaWRzYCBpcyBub24tZW1wdHkuXG4gICAqL1xuICBjaHVua2luZ19zdHJhdGVneT86IEZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW07XG5cbiAgLyoqXG4gICAqIFRoZSBleHBpcmF0aW9uIHBvbGljeSBmb3IgYSB2ZWN0b3Igc3RvcmUuXG4gICAqL1xuICBleHBpcmVzX2FmdGVyPzogVmVjdG9yU3RvcmVDcmVhdGVQYXJhbXMuRXhwaXJlc0FmdGVyO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIElEcyB0aGF0XG4gICAqIHRoZSB2ZWN0b3Igc3RvcmUgc2hvdWxkIHVzZS4gVXNlZnVsIGZvciB0b29scyBsaWtlIGBmaWxlX3NlYXJjaGAgdGhhdCBjYW4gYWNjZXNzXG4gICAqIGZpbGVzLlxuICAgKi9cbiAgZmlsZV9pZHM/OiBBcnJheTxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBWZWN0b3JTdG9yZUNyZWF0ZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBUaGUgZXhwaXJhdGlvbiBwb2xpY3kgZm9yIGEgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBFeHBpcmVzQWZ0ZXIge1xuICAgIC8qKlxuICAgICAqIEFuY2hvciB0aW1lc3RhbXAgYWZ0ZXIgd2hpY2ggdGhlIGV4cGlyYXRpb24gcG9saWN5IGFwcGxpZXMuIFN1cHBvcnRlZCBhbmNob3JzOlxuICAgICAqIGBsYXN0X2FjdGl2ZV9hdGAuXG4gICAgICovXG4gICAgYW5jaG9yOiAnbGFzdF9hY3RpdmVfYXQnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBkYXlzIGFmdGVyIHRoZSBhbmNob3IgdGltZSB0aGF0IHRoZSB2ZWN0b3Igc3RvcmUgd2lsbCBleHBpcmUuXG4gICAgICovXG4gICAgZGF5czogbnVtYmVyO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmVVcGRhdGVQYXJhbXMge1xuICAvKipcbiAgICogVGhlIGV4cGlyYXRpb24gcG9saWN5IGZvciBhIHZlY3RvciBzdG9yZS5cbiAgICovXG4gIGV4cGlyZXNfYWZ0ZXI/OiBWZWN0b3JTdG9yZVVwZGF0ZVBhcmFtcy5FeHBpcmVzQWZ0ZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgMTYga2V5LXZhbHVlIHBhaXJzIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGFuIG9iamVjdC4gVGhpcyBjYW4gYmUgdXNlZnVsXG4gICAqIGZvciBzdG9yaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCBpbiBhIHN0cnVjdHVyZWQgZm9ybWF0LCBhbmRcbiAgICogcXVlcnlpbmcgZm9yIG9iamVjdHMgdmlhIEFQSSBvciB0aGUgZGFzaGJvYXJkLlxuICAgKlxuICAgKiBLZXlzIGFyZSBzdHJpbmdzIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NCBjaGFyYWN0ZXJzLiBWYWx1ZXMgYXJlIHN0cmluZ3Mgd2l0aFxuICAgKiBhIG1heGltdW0gbGVuZ3RoIG9mIDUxMiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBTaGFyZWQuTWV0YWRhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgdmVjdG9yIHN0b3JlLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVmVjdG9yU3RvcmVVcGRhdGVQYXJhbXMge1xuICAvKipcbiAgICogVGhlIGV4cGlyYXRpb24gcG9saWN5IGZvciBhIHZlY3RvciBzdG9yZS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRXhwaXJlc0FmdGVyIHtcbiAgICAvKipcbiAgICAgKiBBbmNob3IgdGltZXN0YW1wIGFmdGVyIHdoaWNoIHRoZSBleHBpcmF0aW9uIHBvbGljeSBhcHBsaWVzLiBTdXBwb3J0ZWQgYW5jaG9yczpcbiAgICAgKiBgbGFzdF9hY3RpdmVfYXRgLlxuICAgICAqL1xuICAgIGFuY2hvcjogJ2xhc3RfYWN0aXZlX2F0JztcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZGF5cyBhZnRlciB0aGUgYW5jaG9yIHRpbWUgdGhhdCB0aGUgdmVjdG9yIHN0b3JlIHdpbGwgZXhwaXJlLlxuICAgICAqL1xuICAgIGRheXM6IG51bWJlcjtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlY3RvclN0b3JlTGlzdFBhcmFtcyBleHRlbmRzIEN1cnNvclBhZ2VQYXJhbXMge1xuICAvKipcbiAgICogQSBjdXJzb3IgZm9yIHVzZSBpbiBwYWdpbmF0aW9uLiBgYmVmb3JlYCBpcyBhbiBvYmplY3QgSUQgdGhhdCBkZWZpbmVzIHlvdXIgcGxhY2VcbiAgICogaW4gdGhlIGxpc3QuIEZvciBpbnN0YW5jZSwgaWYgeW91IG1ha2UgYSBsaXN0IHJlcXVlc3QgYW5kIHJlY2VpdmUgMTAwIG9iamVjdHMsXG4gICAqIHN0YXJ0aW5nIHdpdGggb2JqX2ZvbywgeW91ciBzdWJzZXF1ZW50IGNhbGwgY2FuIGluY2x1ZGUgYmVmb3JlPW9ial9mb28gaW4gb3JkZXJcbiAgICogdG8gZmV0Y2ggdGhlIHByZXZpb3VzIHBhZ2Ugb2YgdGhlIGxpc3QuXG4gICAqL1xuICBiZWZvcmU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNvcnQgb3JkZXIgYnkgdGhlIGBjcmVhdGVkX2F0YCB0aW1lc3RhbXAgb2YgdGhlIG9iamVjdHMuIGBhc2NgIGZvciBhc2NlbmRpbmdcbiAgICogb3JkZXIgYW5kIGBkZXNjYCBmb3IgZGVzY2VuZGluZyBvcmRlci5cbiAgICovXG4gIG9yZGVyPzogJ2FzYycgfCAnZGVzYyc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yU3RvcmVTZWFyY2hQYXJhbXMge1xuICAvKipcbiAgICogQSBxdWVyeSBzdHJpbmcgZm9yIGEgc2VhcmNoXG4gICAqL1xuICBxdWVyeTogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPjtcblxuICAvKipcbiAgICogQSBmaWx0ZXIgdG8gYXBwbHkgYmFzZWQgb24gZmlsZSBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgZmlsdGVycz86IFNoYXJlZC5Db21wYXJpc29uRmlsdGVyIHwgU2hhcmVkLkNvbXBvdW5kRmlsdGVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm4uIFRoaXMgbnVtYmVyIHNob3VsZCBiZSBiZXR3ZWVuIDEgYW5kIDUwXG4gICAqIGluY2x1c2l2ZS5cbiAgICovXG4gIG1heF9udW1fcmVzdWx0cz86IG51bWJlcjtcblxuICAvKipcbiAgICogUmFua2luZyBvcHRpb25zIGZvciBzZWFyY2guXG4gICAqL1xuICByYW5raW5nX29wdGlvbnM/OiBWZWN0b3JTdG9yZVNlYXJjaFBhcmFtcy5SYW5raW5nT3B0aW9ucztcblxuICAvKipcbiAgICogV2hldGhlciB0byByZXdyaXRlIHRoZSBuYXR1cmFsIGxhbmd1YWdlIHF1ZXJ5IGZvciB2ZWN0b3Igc2VhcmNoLlxuICAgKi9cbiAgcmV3cml0ZV9xdWVyeT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgVmVjdG9yU3RvcmVTZWFyY2hQYXJhbXMge1xuICAvKipcbiAgICogUmFua2luZyBvcHRpb25zIGZvciBzZWFyY2guXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFJhbmtpbmdPcHRpb25zIHtcbiAgICByYW5rZXI/OiAnYXV0bycgfCAnZGVmYXVsdC0yMDI0LTExLTE1JztcblxuICAgIHNjb3JlX3RocmVzaG9sZD86IG51bWJlcjtcbiAgfVxufVxuXG5WZWN0b3JTdG9yZXMuVmVjdG9yU3RvcmVzUGFnZSA9IFZlY3RvclN0b3Jlc1BhZ2U7XG5WZWN0b3JTdG9yZXMuVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlID0gVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlO1xuVmVjdG9yU3RvcmVzLkZpbGVzID0gRmlsZXM7XG5WZWN0b3JTdG9yZXMuVmVjdG9yU3RvcmVGaWxlc1BhZ2UgPSBWZWN0b3JTdG9yZUZpbGVzUGFnZTtcblZlY3RvclN0b3Jlcy5GaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UgPSBGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2U7XG5WZWN0b3JTdG9yZXMuRmlsZUJhdGNoZXMgPSBGaWxlQmF0Y2hlcztcblxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIFZlY3RvclN0b3JlcyB7XG4gIGV4cG9ydCB7XG4gICAgdHlwZSBBdXRvRmlsZUNodW5raW5nU3RyYXRlZ3lQYXJhbSBhcyBBdXRvRmlsZUNodW5raW5nU3RyYXRlZ3lQYXJhbSxcbiAgICB0eXBlIEZpbGVDaHVua2luZ1N0cmF0ZWd5IGFzIEZpbGVDaHVua2luZ1N0cmF0ZWd5LFxuICAgIHR5cGUgRmlsZUNodW5raW5nU3RyYXRlZ3lQYXJhbSBhcyBGaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtLFxuICAgIHR5cGUgT3RoZXJGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdCBhcyBPdGhlckZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0LFxuICAgIHR5cGUgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3kgYXMgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3ksXG4gICAgdHlwZSBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdCBhcyBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdCxcbiAgICB0eXBlIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0UGFyYW0gYXMgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3RQYXJhbSxcbiAgICB0eXBlIFZlY3RvclN0b3JlIGFzIFZlY3RvclN0b3JlLFxuICAgIHR5cGUgVmVjdG9yU3RvcmVEZWxldGVkIGFzIFZlY3RvclN0b3JlRGVsZXRlZCxcbiAgICB0eXBlIFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2UgYXMgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZSxcbiAgICBWZWN0b3JTdG9yZXNQYWdlIGFzIFZlY3RvclN0b3Jlc1BhZ2UsXG4gICAgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlIGFzIFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2VzUGFnZSxcbiAgICB0eXBlIFZlY3RvclN0b3JlQ3JlYXRlUGFyYW1zIGFzIFZlY3RvclN0b3JlQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgVmVjdG9yU3RvcmVVcGRhdGVQYXJhbXMgYXMgVmVjdG9yU3RvcmVVcGRhdGVQYXJhbXMsXG4gICAgdHlwZSBWZWN0b3JTdG9yZUxpc3RQYXJhbXMgYXMgVmVjdG9yU3RvcmVMaXN0UGFyYW1zLFxuICAgIHR5cGUgVmVjdG9yU3RvcmVTZWFyY2hQYXJhbXMgYXMgVmVjdG9yU3RvcmVTZWFyY2hQYXJhbXMsXG4gIH07XG5cbiAgZXhwb3J0IHtcbiAgICBGaWxlcyBhcyBGaWxlcyxcbiAgICB0eXBlIFZlY3RvclN0b3JlRmlsZSBhcyBWZWN0b3JTdG9yZUZpbGUsXG4gICAgdHlwZSBWZWN0b3JTdG9yZUZpbGVEZWxldGVkIGFzIFZlY3RvclN0b3JlRmlsZURlbGV0ZWQsXG4gICAgdHlwZSBGaWxlQ29udGVudFJlc3BvbnNlIGFzIEZpbGVDb250ZW50UmVzcG9uc2UsXG4gICAgVmVjdG9yU3RvcmVGaWxlc1BhZ2UgYXMgVmVjdG9yU3RvcmVGaWxlc1BhZ2UsXG4gICAgRmlsZUNvbnRlbnRSZXNwb25zZXNQYWdlIGFzIEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSxcbiAgICB0eXBlIEZpbGVDcmVhdGVQYXJhbXMgYXMgRmlsZUNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIEZpbGVVcGRhdGVQYXJhbXMgYXMgRmlsZVVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIEZpbGVMaXN0UGFyYW1zIGFzIEZpbGVMaXN0UGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7XG4gICAgRmlsZUJhdGNoZXMgYXMgRmlsZUJhdGNoZXMsXG4gICAgdHlwZSBWZWN0b3JTdG9yZUZpbGVCYXRjaCBhcyBWZWN0b3JTdG9yZUZpbGVCYXRjaCxcbiAgICB0eXBlIEZpbGVCYXRjaENyZWF0ZVBhcmFtcyBhcyBGaWxlQmF0Y2hDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBGaWxlQmF0Y2hMaXN0RmlsZXNQYXJhbXMgYXMgRmlsZUJhdGNoTGlzdEZpbGVzUGFyYW1zLFxuICB9O1xufVxuIiwgIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IHR5cGUgQWdlbnQsIHR5cGUgUmVxdWVzdEluaXQgfSBmcm9tICcuL19zaGltcy9pbmRleCc7XG5pbXBvcnQgKiBhcyBxcyBmcm9tICcuL2ludGVybmFsL3FzJztcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi9jb3JlJztcbmltcG9ydCAqIGFzIEVycm9ycyBmcm9tICcuL2Vycm9yJztcbmltcG9ydCAqIGFzIFBhZ2luYXRpb24gZnJvbSAnLi9wYWdpbmF0aW9uJztcbmltcG9ydCB7IHR5cGUgQ3Vyc29yUGFnZVBhcmFtcywgQ3Vyc29yUGFnZVJlc3BvbnNlLCBQYWdlUmVzcG9uc2UgfSBmcm9tICcuL3BhZ2luYXRpb24nO1xuaW1wb3J0ICogYXMgVXBsb2FkcyBmcm9tICcuL3VwbG9hZHMnO1xuaW1wb3J0ICogYXMgQVBJIGZyb20gJy4vcmVzb3VyY2VzL2luZGV4JztcbmltcG9ydCB7XG4gIEJhdGNoLFxuICBCYXRjaENyZWF0ZVBhcmFtcyxcbiAgQmF0Y2hFcnJvcixcbiAgQmF0Y2hMaXN0UGFyYW1zLFxuICBCYXRjaFJlcXVlc3RDb3VudHMsXG4gIEJhdGNoZXMsXG4gIEJhdGNoZXNQYWdlLFxufSBmcm9tICcuL3Jlc291cmNlcy9iYXRjaGVzJztcbmltcG9ydCB7XG4gIENvbXBsZXRpb24sXG4gIENvbXBsZXRpb25DaG9pY2UsXG4gIENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gIENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gIENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcsXG4gIENvbXBsZXRpb25Vc2FnZSxcbiAgQ29tcGxldGlvbnMsXG59IGZyb20gJy4vcmVzb3VyY2VzL2NvbXBsZXRpb25zJztcbmltcG9ydCB7XG4gIENyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlLFxuICBFbWJlZGRpbmcsXG4gIEVtYmVkZGluZ0NyZWF0ZVBhcmFtcyxcbiAgRW1iZWRkaW5nTW9kZWwsXG4gIEVtYmVkZGluZ3MsXG59IGZyb20gJy4vcmVzb3VyY2VzL2VtYmVkZGluZ3MnO1xuaW1wb3J0IHtcbiAgRmlsZUNvbnRlbnQsXG4gIEZpbGVDcmVhdGVQYXJhbXMsXG4gIEZpbGVEZWxldGVkLFxuICBGaWxlTGlzdFBhcmFtcyxcbiAgRmlsZU9iamVjdCxcbiAgRmlsZU9iamVjdHNQYWdlLFxuICBGaWxlUHVycG9zZSxcbiAgRmlsZXMsXG59IGZyb20gJy4vcmVzb3VyY2VzL2ZpbGVzJztcbmltcG9ydCB7XG4gIEltYWdlLFxuICBJbWFnZUNyZWF0ZVZhcmlhdGlvblBhcmFtcyxcbiAgSW1hZ2VFZGl0UGFyYW1zLFxuICBJbWFnZUdlbmVyYXRlUGFyYW1zLFxuICBJbWFnZU1vZGVsLFxuICBJbWFnZXMsXG4gIEltYWdlc1Jlc3BvbnNlLFxufSBmcm9tICcuL3Jlc291cmNlcy9pbWFnZXMnO1xuaW1wb3J0IHsgTW9kZWwsIE1vZGVsRGVsZXRlZCwgTW9kZWxzLCBNb2RlbHNQYWdlIH0gZnJvbSAnLi9yZXNvdXJjZXMvbW9kZWxzJztcbmltcG9ydCB7XG4gIE1vZGVyYXRpb24sXG4gIE1vZGVyYXRpb25DcmVhdGVQYXJhbXMsXG4gIE1vZGVyYXRpb25DcmVhdGVSZXNwb25zZSxcbiAgTW9kZXJhdGlvbkltYWdlVVJMSW5wdXQsXG4gIE1vZGVyYXRpb25Nb2RlbCxcbiAgTW9kZXJhdGlvbk11bHRpTW9kYWxJbnB1dCxcbiAgTW9kZXJhdGlvblRleHRJbnB1dCxcbiAgTW9kZXJhdGlvbnMsXG59IGZyb20gJy4vcmVzb3VyY2VzL21vZGVyYXRpb25zJztcbmltcG9ydCB7IEF1ZGlvLCBBdWRpb01vZGVsLCBBdWRpb1Jlc3BvbnNlRm9ybWF0IH0gZnJvbSAnLi9yZXNvdXJjZXMvYXVkaW8vYXVkaW8nO1xuaW1wb3J0IHsgQmV0YSB9IGZyb20gJy4vcmVzb3VyY2VzL2JldGEvYmV0YSc7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSAnLi9yZXNvdXJjZXMvY2hhdC9jaGF0JztcbmltcG9ydCB7IEZpbmVUdW5pbmcgfSBmcm9tICcuL3Jlc291cmNlcy9maW5lLXR1bmluZy9maW5lLXR1bmluZyc7XG5pbXBvcnQgeyBSZXNwb25zZXMgfSBmcm9tICcuL3Jlc291cmNlcy9yZXNwb25zZXMvcmVzcG9uc2VzJztcbmltcG9ydCB7XG4gIFVwbG9hZCxcbiAgVXBsb2FkQ29tcGxldGVQYXJhbXMsXG4gIFVwbG9hZENyZWF0ZVBhcmFtcyxcbiAgVXBsb2FkcyBhcyBVcGxvYWRzQVBJVXBsb2Fkcyxcbn0gZnJvbSAnLi9yZXNvdXJjZXMvdXBsb2Fkcy91cGxvYWRzJztcbmltcG9ydCB7XG4gIEF1dG9GaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtLFxuICBGaWxlQ2h1bmtpbmdTdHJhdGVneSxcbiAgRmlsZUNodW5raW5nU3RyYXRlZ3lQYXJhbSxcbiAgT3RoZXJGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdCxcbiAgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3ksXG4gIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0LFxuICBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdFBhcmFtLFxuICBWZWN0b3JTdG9yZSxcbiAgVmVjdG9yU3RvcmVDcmVhdGVQYXJhbXMsXG4gIFZlY3RvclN0b3JlRGVsZXRlZCxcbiAgVmVjdG9yU3RvcmVMaXN0UGFyYW1zLFxuICBWZWN0b3JTdG9yZVNlYXJjaFBhcmFtcyxcbiAgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZSxcbiAgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlLFxuICBWZWN0b3JTdG9yZVVwZGF0ZVBhcmFtcyxcbiAgVmVjdG9yU3RvcmVzLFxuICBWZWN0b3JTdG9yZXNQYWdlLFxufSBmcm9tICcuL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL3ZlY3Rvci1zdG9yZXMnO1xuaW1wb3J0IHtcbiAgQ2hhdENvbXBsZXRpb24sXG4gIENoYXRDb21wbGV0aW9uQXNzaXN0YW50TWVzc2FnZVBhcmFtLFxuICBDaGF0Q29tcGxldGlvbkF1ZGlvLFxuICBDaGF0Q29tcGxldGlvbkF1ZGlvUGFyYW0sXG4gIENoYXRDb21wbGV0aW9uQ2h1bmssXG4gIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnQsXG4gIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZSxcbiAgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydElucHV0QXVkaW8sXG4gIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRSZWZ1c2FsLFxuICBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dCxcbiAgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXMsXG4gIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zTm9uU3RyZWFtaW5nLFxuICBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgQ2hhdENvbXBsZXRpb25EZWxldGVkLFxuICBDaGF0Q29tcGxldGlvbkRldmVsb3Blck1lc3NhZ2VQYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25GdW5jdGlvbkNhbGxPcHRpb24sXG4gIENoYXRDb21wbGV0aW9uRnVuY3Rpb25NZXNzYWdlUGFyYW0sXG4gIENoYXRDb21wbGV0aW9uTGlzdFBhcmFtcyxcbiAgQ2hhdENvbXBsZXRpb25NZXNzYWdlLFxuICBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwsXG4gIENoYXRDb21wbGV0aW9uTW9kYWxpdHksXG4gIENoYXRDb21wbGV0aW9uTmFtZWRUb29sQ2hvaWNlLFxuICBDaGF0Q29tcGxldGlvblByZWRpY3Rpb25Db250ZW50LFxuICBDaGF0Q29tcGxldGlvblJlYXNvbmluZ0VmZm9ydCxcbiAgQ2hhdENvbXBsZXRpb25Sb2xlLFxuICBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZSxcbiAgQ2hhdENvbXBsZXRpb25TdHJlYW1PcHRpb25zLFxuICBDaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbSxcbiAgQ2hhdENvbXBsZXRpb25Ub2tlbkxvZ3Byb2IsXG4gIENoYXRDb21wbGV0aW9uVG9vbCxcbiAgQ2hhdENvbXBsZXRpb25Ub29sQ2hvaWNlT3B0aW9uLFxuICBDaGF0Q29tcGxldGlvblRvb2xNZXNzYWdlUGFyYW0sXG4gIENoYXRDb21wbGV0aW9uVXBkYXRlUGFyYW1zLFxuICBDaGF0Q29tcGxldGlvblVzZXJNZXNzYWdlUGFyYW0sXG4gIENoYXRDb21wbGV0aW9uc1BhZ2UsXG4gIENyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdE1lc3NhZ2UsXG59IGZyb20gJy4vcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMvY29tcGxldGlvbnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENsaWVudE9wdGlvbnMge1xuICAvKipcbiAgICogRGVmYXVsdHMgdG8gcHJvY2Vzcy5lbnZbJ09QRU5BSV9BUElfS0VZJ10uXG4gICAqL1xuICBhcGlLZXk/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIERlZmF1bHRzIHRvIHByb2Nlc3MuZW52WydPUEVOQUlfT1JHX0lEJ10uXG4gICAqL1xuICBvcmdhbml6YXRpb24/OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0cyB0byBwcm9jZXNzLmVudlsnT1BFTkFJX1BST0pFQ1RfSUQnXS5cbiAgICovXG4gIHByb2plY3Q/OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBiYXNlIFVSTCBmb3IgdGhlIEFQSSwgZS5nLiwgXCJodHRwczovL2FwaS5leGFtcGxlLmNvbS92Mi9cIlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBwcm9jZXNzLmVudlsnT1BFTkFJX0JBU0VfVVJMJ10uXG4gICAqL1xuICBiYXNlVVJMPzogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhhdCB0aGUgY2xpZW50IHNob3VsZCB3YWl0IGZvciBhIHJlc3BvbnNlXG4gICAqIGZyb20gdGhlIHNlcnZlciBiZWZvcmUgdGltaW5nIG91dCBhIHNpbmdsZSByZXF1ZXN0LlxuICAgKlxuICAgKiBOb3RlIHRoYXQgcmVxdWVzdCB0aW1lb3V0cyBhcmUgcmV0cmllZCBieSBkZWZhdWx0LCBzbyBpbiBhIHdvcnN0LWNhc2Ugc2NlbmFyaW8geW91IG1heSB3YWl0XG4gICAqIG11Y2ggbG9uZ2VyIHRoYW4gdGhpcyB0aW1lb3V0IGJlZm9yZSB0aGUgcHJvbWlzZSBzdWNjZWVkcyBvciBmYWlscy5cbiAgICovXG4gIHRpbWVvdXQ/OiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEFuIEhUVFAgYWdlbnQgdXNlZCB0byBtYW5hZ2UgSFRUUChTKSBjb25uZWN0aW9ucy5cbiAgICpcbiAgICogSWYgbm90IHByb3ZpZGVkLCBhbiBhZ2VudCB3aWxsIGJlIGNvbnN0cnVjdGVkIGJ5IGRlZmF1bHQgaW4gdGhlIE5vZGUuanMgZW52aXJvbm1lbnQsXG4gICAqIG90aGVyd2lzZSBubyBhZ2VudCBpcyB1c2VkLlxuICAgKi9cbiAgaHR0cEFnZW50PzogQWdlbnQgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgYSBjdXN0b20gYGZldGNoYCBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbi5cbiAgICpcbiAgICogSWYgbm90IHByb3ZpZGVkLCB3ZSB1c2UgYG5vZGUtZmV0Y2hgIG9uIE5vZGUuanMgYW5kIG90aGVyd2lzZSBleHBlY3QgdGhhdCBgZmV0Y2hgIGlzXG4gICAqIGRlZmluZWQgZ2xvYmFsbHkuXG4gICAqL1xuICBmZXRjaD86IENvcmUuRmV0Y2ggfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0aGF0IHRoZSBjbGllbnQgd2lsbCByZXRyeSBhIHJlcXVlc3QgaW4gY2FzZSBvZiBhXG4gICAqIHRlbXBvcmFyeSBmYWlsdXJlLCBsaWtlIGEgbmV0d29yayBlcnJvciBvciBhIDVYWCBlcnJvciBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBkZWZhdWx0IDJcbiAgICovXG4gIG1heFJldHJpZXM/OiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKlxuICAgKiBUaGVzZSBjYW4gYmUgcmVtb3ZlZCBpbiBpbmRpdmlkdWFsIHJlcXVlc3RzIGJ5IGV4cGxpY2l0bHkgc2V0dGluZyB0aGVcbiAgICogaGVhZGVyIHRvIGB1bmRlZmluZWRgIG9yIGBudWxsYCBpbiByZXF1ZXN0IG9wdGlvbnMuXG4gICAqL1xuICBkZWZhdWx0SGVhZGVycz86IENvcmUuSGVhZGVycyB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogRGVmYXVsdCBxdWVyeSBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAqXG4gICAqIFRoZXNlIGNhbiBiZSByZW1vdmVkIGluIGluZGl2aWR1YWwgcmVxdWVzdHMgYnkgZXhwbGljaXRseSBzZXR0aW5nIHRoZVxuICAgKiBwYXJhbSB0byBgdW5kZWZpbmVkYCBpbiByZXF1ZXN0IG9wdGlvbnMuXG4gICAqL1xuICBkZWZhdWx0UXVlcnk/OiBDb3JlLkRlZmF1bHRRdWVyeSB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgY2xpZW50LXNpZGUgdXNlIG9mIHRoaXMgbGlicmFyeSBpcyBub3QgYWxsb3dlZCwgYXMgaXQgcmlza3MgZXhwb3NpbmcgeW91ciBzZWNyZXQgQVBJIGNyZWRlbnRpYWxzIHRvIGF0dGFja2Vycy5cbiAgICogT25seSBzZXQgdGhpcyBvcHRpb24gdG8gYHRydWVgIGlmIHlvdSB1bmRlcnN0YW5kIHRoZSByaXNrcyBhbmQgaGF2ZSBhcHByb3ByaWF0ZSBtaXRpZ2F0aW9ucyBpbiBwbGFjZS5cbiAgICovXG4gIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBUEkgQ2xpZW50IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBPcGVuQUkgQVBJLlxuICovXG5leHBvcnQgY2xhc3MgT3BlbkFJIGV4dGVuZHMgQ29yZS5BUElDbGllbnQge1xuICBhcGlLZXk6IHN0cmluZztcbiAgb3JnYW5pemF0aW9uOiBzdHJpbmcgfCBudWxsO1xuICBwcm9qZWN0OiBzdHJpbmcgfCBudWxsO1xuXG4gIHByaXZhdGUgX29wdGlvbnM6IENsaWVudE9wdGlvbnM7XG5cbiAgLyoqXG4gICAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIE9wZW5BSSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbb3B0cy5hcGlLZXk9cHJvY2Vzcy5lbnZbJ09QRU5BSV9BUElfS0VZJ10gPz8gdW5kZWZpbmVkXVxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRzLm9yZ2FuaXphdGlvbj1wcm9jZXNzLmVudlsnT1BFTkFJX09SR19JRCddID8/IG51bGxdXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29wdHMucHJvamVjdD1wcm9jZXNzLmVudlsnT1BFTkFJX1BST0pFQ1RfSUQnXSA/PyBudWxsXVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYmFzZVVSTD1wcm9jZXNzLmVudlsnT1BFTkFJX0JBU0VfVVJMJ10gPz8gaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MV0gLSBPdmVycmlkZSB0aGUgZGVmYXVsdCBiYXNlIFVSTCBmb3IgdGhlIEFQSS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRpbWVvdXQ9MTAgbWludXRlc10gLSBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGUgY2xpZW50IHdpbGwgd2FpdCBmb3IgYSByZXNwb25zZSBiZWZvcmUgdGltaW5nIG91dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmh0dHBBZ2VudF0gLSBBbiBIVFRQIGFnZW50IHVzZWQgdG8gbWFuYWdlIEhUVFAocykgY29ubmVjdGlvbnMuXG4gICAqIEBwYXJhbSB7Q29yZS5GZXRjaH0gW29wdHMuZmV0Y2hdIC0gU3BlY2lmeSBhIGN1c3RvbSBgZmV0Y2hgIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWF4UmV0cmllcz0yXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0aGUgY2xpZW50IHdpbGwgcmV0cnkgYSByZXF1ZXN0LlxuICAgKiBAcGFyYW0ge0NvcmUuSGVhZGVyc30gb3B0cy5kZWZhdWx0SGVhZGVycyAtIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge0NvcmUuRGVmYXVsdFF1ZXJ5fSBvcHRzLmRlZmF1bHRRdWVyeSAtIERlZmF1bHQgcXVlcnkgcGFyYW1ldGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyPWZhbHNlXSAtIEJ5IGRlZmF1bHQsIGNsaWVudC1zaWRlIHVzZSBvZiB0aGlzIGxpYnJhcnkgaXMgbm90IGFsbG93ZWQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgYmFzZVVSTCA9IENvcmUucmVhZEVudignT1BFTkFJX0JBU0VfVVJMJyksXG4gICAgYXBpS2V5ID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfQVBJX0tFWScpLFxuICAgIG9yZ2FuaXphdGlvbiA9IENvcmUucmVhZEVudignT1BFTkFJX09SR19JRCcpID8/IG51bGwsXG4gICAgcHJvamVjdCA9IENvcmUucmVhZEVudignT1BFTkFJX1BST0pFQ1RfSUQnKSA/PyBudWxsLFxuICAgIC4uLm9wdHNcbiAgfTogQ2xpZW50T3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKGFwaUtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKFxuICAgICAgICBcIlRoZSBPUEVOQUlfQVBJX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBtaXNzaW5nIG9yIGVtcHR5OyBlaXRoZXIgcHJvdmlkZSBpdCwgb3IgaW5zdGFudGlhdGUgdGhlIE9wZW5BSSBjbGllbnQgd2l0aCBhbiBhcGlLZXkgb3B0aW9uLCBsaWtlIG5ldyBPcGVuQUkoeyBhcGlLZXk6ICdNeSBBUEkgS2V5JyB9KS5cIixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9uczogQ2xpZW50T3B0aW9ucyA9IHtcbiAgICAgIGFwaUtleSxcbiAgICAgIG9yZ2FuaXphdGlvbixcbiAgICAgIHByb2plY3QsXG4gICAgICAuLi5vcHRzLFxuICAgICAgYmFzZVVSTDogYmFzZVVSTCB8fCBgaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MWAsXG4gICAgfTtcblxuICAgIGlmICghb3B0aW9ucy5kYW5nZXJvdXNseUFsbG93QnJvd3NlciAmJiBDb3JlLmlzUnVubmluZ0luQnJvd3NlcigpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKFxuICAgICAgICBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHJ1bm5pbmcgaW4gYSBicm93c2VyLWxpa2UgZW52aXJvbm1lbnQuXFxuXFxuVGhpcyBpcyBkaXNhYmxlZCBieSBkZWZhdWx0LCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxcbklmIHlvdSB1bmRlcnN0YW5kIHRoZSByaXNrcyBhbmQgaGF2ZSBhcHByb3ByaWF0ZSBtaXRpZ2F0aW9ucyBpbiBwbGFjZSxcXG55b3UgY2FuIHNldCB0aGUgYGRhbmdlcm91c2x5QWxsb3dCcm93c2VyYCBvcHRpb24gdG8gYHRydWVgLCBlLmcuLFxcblxcbm5ldyBPcGVuQUkoeyBhcGlLZXksIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlIH0pO1xcblxcbmh0dHBzOi8vaGVscC5vcGVuYWkuY29tL2VuL2FydGljbGVzLzUxMTI1OTUtYmVzdC1wcmFjdGljZXMtZm9yLWFwaS1rZXktc2FmZXR5XFxuXCIsXG4gICAgICApO1xuICAgIH1cblxuICAgIHN1cGVyKHtcbiAgICAgIGJhc2VVUkw6IG9wdGlvbnMuYmFzZVVSTCEsXG4gICAgICB0aW1lb3V0OiBvcHRpb25zLnRpbWVvdXQgPz8gNjAwMDAwIC8qIDEwIG1pbnV0ZXMgKi8sXG4gICAgICBodHRwQWdlbnQ6IG9wdGlvbnMuaHR0cEFnZW50LFxuICAgICAgbWF4UmV0cmllczogb3B0aW9ucy5tYXhSZXRyaWVzLFxuICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgfSk7XG5cbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgIHRoaXMub3JnYW5pemF0aW9uID0gb3JnYW5pemF0aW9uO1xuICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gIH1cblxuICBjb21wbGV0aW9uczogQVBJLkNvbXBsZXRpb25zID0gbmV3IEFQSS5Db21wbGV0aW9ucyh0aGlzKTtcbiAgY2hhdDogQVBJLkNoYXQgPSBuZXcgQVBJLkNoYXQodGhpcyk7XG4gIGVtYmVkZGluZ3M6IEFQSS5FbWJlZGRpbmdzID0gbmV3IEFQSS5FbWJlZGRpbmdzKHRoaXMpO1xuICBmaWxlczogQVBJLkZpbGVzID0gbmV3IEFQSS5GaWxlcyh0aGlzKTtcbiAgaW1hZ2VzOiBBUEkuSW1hZ2VzID0gbmV3IEFQSS5JbWFnZXModGhpcyk7XG4gIGF1ZGlvOiBBUEkuQXVkaW8gPSBuZXcgQVBJLkF1ZGlvKHRoaXMpO1xuICBtb2RlcmF0aW9uczogQVBJLk1vZGVyYXRpb25zID0gbmV3IEFQSS5Nb2RlcmF0aW9ucyh0aGlzKTtcbiAgbW9kZWxzOiBBUEkuTW9kZWxzID0gbmV3IEFQSS5Nb2RlbHModGhpcyk7XG4gIGZpbmVUdW5pbmc6IEFQSS5GaW5lVHVuaW5nID0gbmV3IEFQSS5GaW5lVHVuaW5nKHRoaXMpO1xuICB2ZWN0b3JTdG9yZXM6IEFQSS5WZWN0b3JTdG9yZXMgPSBuZXcgQVBJLlZlY3RvclN0b3Jlcyh0aGlzKTtcbiAgYmV0YTogQVBJLkJldGEgPSBuZXcgQVBJLkJldGEodGhpcyk7XG4gIGJhdGNoZXM6IEFQSS5CYXRjaGVzID0gbmV3IEFQSS5CYXRjaGVzKHRoaXMpO1xuICB1cGxvYWRzOiBBUEkuVXBsb2FkcyA9IG5ldyBBUEkuVXBsb2Fkcyh0aGlzKTtcbiAgcmVzcG9uc2VzOiBBUEkuUmVzcG9uc2VzID0gbmV3IEFQSS5SZXNwb25zZXModGhpcyk7XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGRlZmF1bHRRdWVyeSgpOiBDb3JlLkRlZmF1bHRRdWVyeSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuX29wdGlvbnMuZGVmYXVsdFF1ZXJ5O1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGRlZmF1bHRIZWFkZXJzKG9wdHM6IENvcmUuRmluYWxSZXF1ZXN0T3B0aW9ucyk6IENvcmUuSGVhZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLmRlZmF1bHRIZWFkZXJzKG9wdHMpLFxuICAgICAgJ09wZW5BSS1Pcmdhbml6YXRpb24nOiB0aGlzLm9yZ2FuaXphdGlvbixcbiAgICAgICdPcGVuQUktUHJvamVjdCc6IHRoaXMucHJvamVjdCxcbiAgICAgIC4uLnRoaXMuX29wdGlvbnMuZGVmYXVsdEhlYWRlcnMsXG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvdmVycmlkZSBhdXRoSGVhZGVycyhvcHRzOiBDb3JlLkZpbmFsUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkhlYWRlcnMge1xuICAgIHJldHVybiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gIH07XG4gIH1cblxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgc3RyaW5naWZ5UXVlcnkocXVlcnk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogc3RyaW5nIHtcbiAgICByZXR1cm4gcXMuc3RyaW5naWZ5KHF1ZXJ5LCB7IGFycmF5Rm9ybWF0OiAnYnJhY2tldHMnIH0pO1xuICB9XG5cbiAgc3RhdGljIE9wZW5BSSA9IHRoaXM7XG4gIHN0YXRpYyBERUZBVUxUX1RJTUVPVVQgPSA2MDAwMDA7IC8vIDEwIG1pbnV0ZXNcblxuICBzdGF0aWMgT3BlbkFJRXJyb3IgPSBFcnJvcnMuT3BlbkFJRXJyb3I7XG4gIHN0YXRpYyBBUElFcnJvciA9IEVycm9ycy5BUElFcnJvcjtcbiAgc3RhdGljIEFQSUNvbm5lY3Rpb25FcnJvciA9IEVycm9ycy5BUElDb25uZWN0aW9uRXJyb3I7XG4gIHN0YXRpYyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3I7XG4gIHN0YXRpYyBBUElVc2VyQWJvcnRFcnJvciA9IEVycm9ycy5BUElVc2VyQWJvcnRFcnJvcjtcbiAgc3RhdGljIE5vdEZvdW5kRXJyb3IgPSBFcnJvcnMuTm90Rm91bmRFcnJvcjtcbiAgc3RhdGljIENvbmZsaWN0RXJyb3IgPSBFcnJvcnMuQ29uZmxpY3RFcnJvcjtcbiAgc3RhdGljIFJhdGVMaW1pdEVycm9yID0gRXJyb3JzLlJhdGVMaW1pdEVycm9yO1xuICBzdGF0aWMgQmFkUmVxdWVzdEVycm9yID0gRXJyb3JzLkJhZFJlcXVlc3RFcnJvcjtcbiAgc3RhdGljIEF1dGhlbnRpY2F0aW9uRXJyb3IgPSBFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvcjtcbiAgc3RhdGljIEludGVybmFsU2VydmVyRXJyb3IgPSBFcnJvcnMuSW50ZXJuYWxTZXJ2ZXJFcnJvcjtcbiAgc3RhdGljIFBlcm1pc3Npb25EZW5pZWRFcnJvciA9IEVycm9ycy5QZXJtaXNzaW9uRGVuaWVkRXJyb3I7XG4gIHN0YXRpYyBVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IgPSBFcnJvcnMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yO1xuXG4gIHN0YXRpYyB0b0ZpbGUgPSBVcGxvYWRzLnRvRmlsZTtcbiAgc3RhdGljIGZpbGVGcm9tUGF0aCA9IFVwbG9hZHMuZmlsZUZyb21QYXRoO1xufVxuXG5PcGVuQUkuQ29tcGxldGlvbnMgPSBDb21wbGV0aW9ucztcbk9wZW5BSS5DaGF0ID0gQ2hhdDtcbk9wZW5BSS5DaGF0Q29tcGxldGlvbnNQYWdlID0gQ2hhdENvbXBsZXRpb25zUGFnZTtcbk9wZW5BSS5FbWJlZGRpbmdzID0gRW1iZWRkaW5ncztcbk9wZW5BSS5GaWxlcyA9IEZpbGVzO1xuT3BlbkFJLkZpbGVPYmplY3RzUGFnZSA9IEZpbGVPYmplY3RzUGFnZTtcbk9wZW5BSS5JbWFnZXMgPSBJbWFnZXM7XG5PcGVuQUkuQXVkaW8gPSBBdWRpbztcbk9wZW5BSS5Nb2RlcmF0aW9ucyA9IE1vZGVyYXRpb25zO1xuT3BlbkFJLk1vZGVscyA9IE1vZGVscztcbk9wZW5BSS5Nb2RlbHNQYWdlID0gTW9kZWxzUGFnZTtcbk9wZW5BSS5GaW5lVHVuaW5nID0gRmluZVR1bmluZztcbk9wZW5BSS5WZWN0b3JTdG9yZXMgPSBWZWN0b3JTdG9yZXM7XG5PcGVuQUkuVmVjdG9yU3RvcmVzUGFnZSA9IFZlY3RvclN0b3Jlc1BhZ2U7XG5PcGVuQUkuVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlID0gVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlO1xuT3BlbkFJLkJldGEgPSBCZXRhO1xuT3BlbkFJLkJhdGNoZXMgPSBCYXRjaGVzO1xuT3BlbkFJLkJhdGNoZXNQYWdlID0gQmF0Y2hlc1BhZ2U7XG5PcGVuQUkuVXBsb2FkcyA9IFVwbG9hZHNBUElVcGxvYWRzO1xuT3BlbkFJLlJlc3BvbnNlcyA9IFJlc3BvbnNlcztcbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBPcGVuQUkge1xuICBleHBvcnQgdHlwZSBSZXF1ZXN0T3B0aW9ucyA9IENvcmUuUmVxdWVzdE9wdGlvbnM7XG5cbiAgZXhwb3J0IGltcG9ydCBQYWdlID0gUGFnaW5hdGlvbi5QYWdlO1xuICBleHBvcnQgeyB0eXBlIFBhZ2VSZXNwb25zZSBhcyBQYWdlUmVzcG9uc2UgfTtcblxuICBleHBvcnQgaW1wb3J0IEN1cnNvclBhZ2UgPSBQYWdpbmF0aW9uLkN1cnNvclBhZ2U7XG4gIGV4cG9ydCB7IHR5cGUgQ3Vyc29yUGFnZVBhcmFtcyBhcyBDdXJzb3JQYWdlUGFyYW1zLCB0eXBlIEN1cnNvclBhZ2VSZXNwb25zZSBhcyBDdXJzb3JQYWdlUmVzcG9uc2UgfTtcblxuICBleHBvcnQge1xuICAgIENvbXBsZXRpb25zIGFzIENvbXBsZXRpb25zLFxuICAgIHR5cGUgQ29tcGxldGlvbiBhcyBDb21wbGV0aW9uLFxuICAgIHR5cGUgQ29tcGxldGlvbkNob2ljZSBhcyBDb21wbGV0aW9uQ2hvaWNlLFxuICAgIHR5cGUgQ29tcGxldGlvblVzYWdlIGFzIENvbXBsZXRpb25Vc2FnZSxcbiAgICB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXMgYXMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgYXMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc05vblN0cmVhbWluZyxcbiAgICB0eXBlIENvbXBsZXRpb25DcmVhdGVQYXJhbXNTdHJlYW1pbmcgYXMgQ29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIENoYXQgYXMgQ2hhdCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uIGFzIENoYXRDb21wbGV0aW9uLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25Bc3Npc3RhbnRNZXNzYWdlUGFyYW0sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkF1ZGlvIGFzIENoYXRDb21wbGV0aW9uQXVkaW8sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkF1ZGlvUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25BdWRpb1BhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25DaHVuayBhcyBDaGF0Q29tcGxldGlvbkNodW5rLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydCBhcyBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0LFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydEltYWdlIGFzIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbWFnZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbnB1dEF1ZGlvIGFzIENoYXRDb21wbGV0aW9uQ29udGVudFBhcnRJbnB1dEF1ZGlvLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFJlZnVzYWwgYXMgQ2hhdENvbXBsZXRpb25Db250ZW50UGFydFJlZnVzYWwsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dCBhcyBDaGF0Q29tcGxldGlvbkNvbnRlbnRQYXJ0VGV4dCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uRGVsZXRlZCBhcyBDaGF0Q29tcGxldGlvbkRlbGV0ZWQsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkRldmVsb3Blck1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvbkRldmVsb3Blck1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uRnVuY3Rpb25DYWxsT3B0aW9uIGFzIENoYXRDb21wbGV0aW9uRnVuY3Rpb25DYWxsT3B0aW9uLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25GdW5jdGlvbk1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvbkZ1bmN0aW9uTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlIGFzIENoYXRDb21wbGV0aW9uTWVzc2FnZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwgYXMgQ2hhdENvbXBsZXRpb25NZXNzYWdlVG9vbENhbGwsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbk1vZGFsaXR5IGFzIENoYXRDb21wbGV0aW9uTW9kYWxpdHksXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbk5hbWVkVG9vbENob2ljZSBhcyBDaGF0Q29tcGxldGlvbk5hbWVkVG9vbENob2ljZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uUHJlZGljdGlvbkNvbnRlbnQgYXMgQ2hhdENvbXBsZXRpb25QcmVkaWN0aW9uQ29udGVudCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uUm9sZSBhcyBDaGF0Q29tcGxldGlvblJvbGUsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZSBhcyBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uU3RyZWFtT3B0aW9ucyBhcyBDaGF0Q29tcGxldGlvblN0cmVhbU9wdGlvbnMsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbSBhcyBDaGF0Q29tcGxldGlvblN5c3RlbU1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iIGFzIENoYXRDb21wbGV0aW9uVG9rZW5Mb2dwcm9iLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Ub29sIGFzIENoYXRDb21wbGV0aW9uVG9vbCxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVG9vbENob2ljZU9wdGlvbiBhcyBDaGF0Q29tcGxldGlvblRvb2xDaG9pY2VPcHRpb24sXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvblRvb2xNZXNzYWdlUGFyYW0gYXMgQ2hhdENvbXBsZXRpb25Ub29sTWVzc2FnZVBhcmFtLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25Vc2VyTWVzc2FnZVBhcmFtIGFzIENoYXRDb21wbGV0aW9uVXNlck1lc3NhZ2VQYXJhbSxcbiAgICB0eXBlIENyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdE1lc3NhZ2UgYXMgQ3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0TWVzc2FnZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uUmVhc29uaW5nRWZmb3J0IGFzIENoYXRDb21wbGV0aW9uUmVhc29uaW5nRWZmb3J0LFxuICAgIENoYXRDb21wbGV0aW9uc1BhZ2UgYXMgQ2hhdENvbXBsZXRpb25zUGFnZSxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zIGFzIENoYXRDb21wbGV0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcgYXMgQ2hhdENvbXBsZXRpb25DcmVhdGVQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgdHlwZSBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyBhcyBDaGF0Q29tcGxldGlvbkNyZWF0ZVBhcmFtc1N0cmVhbWluZyxcbiAgICB0eXBlIENoYXRDb21wbGV0aW9uVXBkYXRlUGFyYW1zIGFzIENoYXRDb21wbGV0aW9uVXBkYXRlUGFyYW1zLFxuICAgIHR5cGUgQ2hhdENvbXBsZXRpb25MaXN0UGFyYW1zIGFzIENoYXRDb21wbGV0aW9uTGlzdFBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIEVtYmVkZGluZ3MgYXMgRW1iZWRkaW5ncyxcbiAgICB0eXBlIENyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlIGFzIENyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlLFxuICAgIHR5cGUgRW1iZWRkaW5nIGFzIEVtYmVkZGluZyxcbiAgICB0eXBlIEVtYmVkZGluZ01vZGVsIGFzIEVtYmVkZGluZ01vZGVsLFxuICAgIHR5cGUgRW1iZWRkaW5nQ3JlYXRlUGFyYW1zIGFzIEVtYmVkZGluZ0NyZWF0ZVBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIEZpbGVzIGFzIEZpbGVzLFxuICAgIHR5cGUgRmlsZUNvbnRlbnQgYXMgRmlsZUNvbnRlbnQsXG4gICAgdHlwZSBGaWxlRGVsZXRlZCBhcyBGaWxlRGVsZXRlZCxcbiAgICB0eXBlIEZpbGVPYmplY3QgYXMgRmlsZU9iamVjdCxcbiAgICB0eXBlIEZpbGVQdXJwb3NlIGFzIEZpbGVQdXJwb3NlLFxuICAgIEZpbGVPYmplY3RzUGFnZSBhcyBGaWxlT2JqZWN0c1BhZ2UsXG4gICAgdHlwZSBGaWxlQ3JlYXRlUGFyYW1zIGFzIEZpbGVDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBGaWxlTGlzdFBhcmFtcyBhcyBGaWxlTGlzdFBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIEltYWdlcyBhcyBJbWFnZXMsXG4gICAgdHlwZSBJbWFnZSBhcyBJbWFnZSxcbiAgICB0eXBlIEltYWdlTW9kZWwgYXMgSW1hZ2VNb2RlbCxcbiAgICB0eXBlIEltYWdlc1Jlc3BvbnNlIGFzIEltYWdlc1Jlc3BvbnNlLFxuICAgIHR5cGUgSW1hZ2VDcmVhdGVWYXJpYXRpb25QYXJhbXMgYXMgSW1hZ2VDcmVhdGVWYXJpYXRpb25QYXJhbXMsXG4gICAgdHlwZSBJbWFnZUVkaXRQYXJhbXMgYXMgSW1hZ2VFZGl0UGFyYW1zLFxuICAgIHR5cGUgSW1hZ2VHZW5lcmF0ZVBhcmFtcyBhcyBJbWFnZUdlbmVyYXRlUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7IEF1ZGlvIGFzIEF1ZGlvLCB0eXBlIEF1ZGlvTW9kZWwgYXMgQXVkaW9Nb2RlbCwgdHlwZSBBdWRpb1Jlc3BvbnNlRm9ybWF0IGFzIEF1ZGlvUmVzcG9uc2VGb3JtYXQgfTtcblxuICBleHBvcnQge1xuICAgIE1vZGVyYXRpb25zIGFzIE1vZGVyYXRpb25zLFxuICAgIHR5cGUgTW9kZXJhdGlvbiBhcyBNb2RlcmF0aW9uLFxuICAgIHR5cGUgTW9kZXJhdGlvbkltYWdlVVJMSW5wdXQgYXMgTW9kZXJhdGlvbkltYWdlVVJMSW5wdXQsXG4gICAgdHlwZSBNb2RlcmF0aW9uTW9kZWwgYXMgTW9kZXJhdGlvbk1vZGVsLFxuICAgIHR5cGUgTW9kZXJhdGlvbk11bHRpTW9kYWxJbnB1dCBhcyBNb2RlcmF0aW9uTXVsdGlNb2RhbElucHV0LFxuICAgIHR5cGUgTW9kZXJhdGlvblRleHRJbnB1dCBhcyBNb2RlcmF0aW9uVGV4dElucHV0LFxuICAgIHR5cGUgTW9kZXJhdGlvbkNyZWF0ZVJlc3BvbnNlIGFzIE1vZGVyYXRpb25DcmVhdGVSZXNwb25zZSxcbiAgICB0eXBlIE1vZGVyYXRpb25DcmVhdGVQYXJhbXMgYXMgTW9kZXJhdGlvbkNyZWF0ZVBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIE1vZGVscyBhcyBNb2RlbHMsXG4gICAgdHlwZSBNb2RlbCBhcyBNb2RlbCxcbiAgICB0eXBlIE1vZGVsRGVsZXRlZCBhcyBNb2RlbERlbGV0ZWQsXG4gICAgTW9kZWxzUGFnZSBhcyBNb2RlbHNQYWdlLFxuICB9O1xuXG4gIGV4cG9ydCB7IEZpbmVUdW5pbmcgYXMgRmluZVR1bmluZyB9O1xuXG4gIGV4cG9ydCB7XG4gICAgVmVjdG9yU3RvcmVzIGFzIFZlY3RvclN0b3JlcyxcbiAgICB0eXBlIEF1dG9GaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtIGFzIEF1dG9GaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtLFxuICAgIHR5cGUgRmlsZUNodW5raW5nU3RyYXRlZ3kgYXMgRmlsZUNodW5raW5nU3RyYXRlZ3ksXG4gICAgdHlwZSBGaWxlQ2h1bmtpbmdTdHJhdGVneVBhcmFtIGFzIEZpbGVDaHVua2luZ1N0cmF0ZWd5UGFyYW0sXG4gICAgdHlwZSBPdGhlckZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0IGFzIE90aGVyRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3QsXG4gICAgdHlwZSBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneSBhcyBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneSxcbiAgICB0eXBlIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0IGFzIFN0YXRpY0ZpbGVDaHVua2luZ1N0cmF0ZWd5T2JqZWN0LFxuICAgIHR5cGUgU3RhdGljRmlsZUNodW5raW5nU3RyYXRlZ3lPYmplY3RQYXJhbSBhcyBTdGF0aWNGaWxlQ2h1bmtpbmdTdHJhdGVneU9iamVjdFBhcmFtLFxuICAgIHR5cGUgVmVjdG9yU3RvcmUgYXMgVmVjdG9yU3RvcmUsXG4gICAgdHlwZSBWZWN0b3JTdG9yZURlbGV0ZWQgYXMgVmVjdG9yU3RvcmVEZWxldGVkLFxuICAgIHR5cGUgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZSBhcyBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlLFxuICAgIFZlY3RvclN0b3Jlc1BhZ2UgYXMgVmVjdG9yU3RvcmVzUGFnZSxcbiAgICBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2UgYXMgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlLFxuICAgIHR5cGUgVmVjdG9yU3RvcmVDcmVhdGVQYXJhbXMgYXMgVmVjdG9yU3RvcmVDcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBWZWN0b3JTdG9yZVVwZGF0ZVBhcmFtcyBhcyBWZWN0b3JTdG9yZVVwZGF0ZVBhcmFtcyxcbiAgICB0eXBlIFZlY3RvclN0b3JlTGlzdFBhcmFtcyBhcyBWZWN0b3JTdG9yZUxpc3RQYXJhbXMsXG4gICAgdHlwZSBWZWN0b3JTdG9yZVNlYXJjaFBhcmFtcyBhcyBWZWN0b3JTdG9yZVNlYXJjaFBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQgeyBCZXRhIGFzIEJldGEgfTtcblxuICBleHBvcnQge1xuICAgIEJhdGNoZXMgYXMgQmF0Y2hlcyxcbiAgICB0eXBlIEJhdGNoIGFzIEJhdGNoLFxuICAgIHR5cGUgQmF0Y2hFcnJvciBhcyBCYXRjaEVycm9yLFxuICAgIHR5cGUgQmF0Y2hSZXF1ZXN0Q291bnRzIGFzIEJhdGNoUmVxdWVzdENvdW50cyxcbiAgICBCYXRjaGVzUGFnZSBhcyBCYXRjaGVzUGFnZSxcbiAgICB0eXBlIEJhdGNoQ3JlYXRlUGFyYW1zIGFzIEJhdGNoQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgQmF0Y2hMaXN0UGFyYW1zIGFzIEJhdGNoTGlzdFBhcmFtcyxcbiAgfTtcblxuICBleHBvcnQge1xuICAgIFVwbG9hZHNBUElVcGxvYWRzIGFzIFVwbG9hZHMsXG4gICAgdHlwZSBVcGxvYWQgYXMgVXBsb2FkLFxuICAgIHR5cGUgVXBsb2FkQ3JlYXRlUGFyYW1zIGFzIFVwbG9hZENyZWF0ZVBhcmFtcyxcbiAgICB0eXBlIFVwbG9hZENvbXBsZXRlUGFyYW1zIGFzIFVwbG9hZENvbXBsZXRlUGFyYW1zLFxuICB9O1xuXG4gIGV4cG9ydCB7IFJlc3BvbnNlcyBhcyBSZXNwb25zZXMgfTtcblxuICBleHBvcnQgdHlwZSBBbGxNb2RlbHMgPSBBUEkuQWxsTW9kZWxzO1xuICBleHBvcnQgdHlwZSBDaGF0TW9kZWwgPSBBUEkuQ2hhdE1vZGVsO1xuICBleHBvcnQgdHlwZSBDb21wYXJpc29uRmlsdGVyID0gQVBJLkNvbXBhcmlzb25GaWx0ZXI7XG4gIGV4cG9ydCB0eXBlIENvbXBvdW5kRmlsdGVyID0gQVBJLkNvbXBvdW5kRmlsdGVyO1xuICBleHBvcnQgdHlwZSBFcnJvck9iamVjdCA9IEFQSS5FcnJvck9iamVjdDtcbiAgZXhwb3J0IHR5cGUgRnVuY3Rpb25EZWZpbml0aW9uID0gQVBJLkZ1bmN0aW9uRGVmaW5pdGlvbjtcbiAgZXhwb3J0IHR5cGUgRnVuY3Rpb25QYXJhbWV0ZXJzID0gQVBJLkZ1bmN0aW9uUGFyYW1ldGVycztcbiAgZXhwb3J0IHR5cGUgTWV0YWRhdGEgPSBBUEkuTWV0YWRhdGE7XG4gIGV4cG9ydCB0eXBlIFJlYXNvbmluZyA9IEFQSS5SZWFzb25pbmc7XG4gIGV4cG9ydCB0eXBlIFJlYXNvbmluZ0VmZm9ydCA9IEFQSS5SZWFzb25pbmdFZmZvcnQ7XG4gIGV4cG9ydCB0eXBlIFJlc3BvbnNlRm9ybWF0SlNPTk9iamVjdCA9IEFQSS5SZXNwb25zZUZvcm1hdEpTT05PYmplY3Q7XG4gIGV4cG9ydCB0eXBlIFJlc3BvbnNlRm9ybWF0SlNPTlNjaGVtYSA9IEFQSS5SZXNwb25zZUZvcm1hdEpTT05TY2hlbWE7XG4gIGV4cG9ydCB0eXBlIFJlc3BvbnNlRm9ybWF0VGV4dCA9IEFQSS5SZXNwb25zZUZvcm1hdFRleHQ7XG4gIGV4cG9ydCB0eXBlIFJlc3BvbnNlc01vZGVsID0gQVBJLlJlc3BvbnNlc01vZGVsO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEF6dXJlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIEF6dXJlIE9wZW5BSSBBUEkuICovXG5leHBvcnQgaW50ZXJmYWNlIEF6dXJlQ2xpZW50T3B0aW9ucyBleHRlbmRzIENsaWVudE9wdGlvbnMge1xuICAvKipcbiAgICogRGVmYXVsdHMgdG8gcHJvY2Vzcy5lbnZbJ09QRU5BSV9BUElfVkVSU0lPTiddLlxuICAgKi9cbiAgYXBpVmVyc2lvbj86IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogWW91ciBBenVyZSBlbmRwb2ludCwgaW5jbHVkaW5nIHRoZSByZXNvdXJjZSwgZS5nLiBgaHR0cHM6Ly9leGFtcGxlLXJlc291cmNlLmF6dXJlLm9wZW5haS5jb20vYFxuICAgKi9cbiAgZW5kcG9pbnQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEEgbW9kZWwgZGVwbG95bWVudCwgaWYgZ2l2ZW4sIHNldHMgdGhlIGJhc2UgY2xpZW50IFVSTCB0byBpbmNsdWRlIGAvZGVwbG95bWVudHMve2RlcGxveW1lbnR9YC5cbiAgICogTm90ZTogdGhpcyBtZWFucyB5b3Ugd29uJ3QgYmUgYWJsZSB0byB1c2Ugbm9uLWRlcGxveW1lbnQgZW5kcG9pbnRzLiBOb3Qgc3VwcG9ydGVkIHdpdGggQXNzaXN0YW50cyBBUElzLlxuICAgKi9cbiAgZGVwbG95bWVudD86IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogRGVmYXVsdHMgdG8gcHJvY2Vzcy5lbnZbJ0FaVVJFX09QRU5BSV9BUElfS0VZJ10uXG4gICAqL1xuICBhcGlLZXk/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGFjY2VzcyB0b2tlbiBmb3IgTWljcm9zb2Z0IEVudHJhIChmb3JtZXJseSBrbm93biBhcyBBenVyZSBBY3RpdmUgRGlyZWN0b3J5KSxcbiAgICogd2hpY2ggd2lsbCBiZSBpbnZva2VkIG9uIGV2ZXJ5IHJlcXVlc3QuXG4gICAqL1xuICBhenVyZUFEVG9rZW5Qcm92aWRlcj86ICgoKSA9PiBQcm9taXNlPHN0cmluZz4pIHwgdW5kZWZpbmVkO1xufVxuXG4vKiogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgQXp1cmUgT3BlbkFJIEFQSS4gKi9cbmV4cG9ydCBjbGFzcyBBenVyZU9wZW5BSSBleHRlbmRzIE9wZW5BSSB7XG4gIHByaXZhdGUgX2F6dXJlQURUb2tlblByb3ZpZGVyOiAoKCkgPT4gUHJvbWlzZTxzdHJpbmc+KSB8IHVuZGVmaW5lZDtcbiAgZGVwbG95bWVudE5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgYXBpVmVyc2lvbjogc3RyaW5nID0gJyc7XG4gIC8qKlxuICAgKiBBUEkgQ2xpZW50IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBBenVyZSBPcGVuQUkgQVBJLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW29wdHMuYXBpVmVyc2lvbj1wcm9jZXNzLmVudlsnT1BFTkFJX0FQSV9WRVJTSU9OJ10gPz8gdW5kZWZpbmVkXVxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW29wdHMuZW5kcG9pbnQ9cHJvY2Vzcy5lbnZbJ0FaVVJFX09QRU5BSV9FTkRQT0lOVCddID8/IHVuZGVmaW5lZF0gLSBZb3VyIEF6dXJlIGVuZHBvaW50LCBpbmNsdWRpbmcgdGhlIHJlc291cmNlLCBlLmcuIGBodHRwczovL2V4YW1wbGUtcmVzb3VyY2UuYXp1cmUub3BlbmFpLmNvbS9gXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbb3B0cy5hcGlLZXk9cHJvY2Vzcy5lbnZbJ0FaVVJFX09QRU5BSV9BUElfS0VZJ10gPz8gdW5kZWZpbmVkXVxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gb3B0cy5kZXBsb3ltZW50IC0gQSBtb2RlbCBkZXBsb3ltZW50LCBpZiBnaXZlbiwgc2V0cyB0aGUgYmFzZSBjbGllbnQgVVJMIHRvIGluY2x1ZGUgYC9kZXBsb3ltZW50cy97ZGVwbG95bWVudH1gLlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRzLm9yZ2FuaXphdGlvbj1wcm9jZXNzLmVudlsnT1BFTkFJX09SR19JRCddID8/IG51bGxdXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5iYXNlVVJMPXByb2Nlc3MuZW52WydPUEVOQUlfQkFTRV9VUkwnXV0gLSBTZXRzIHRoZSBiYXNlIFVSTCBmb3IgdGhlIEFQSSwgZS5nLiBgaHR0cHM6Ly9leGFtcGxlLXJlc291cmNlLmF6dXJlLm9wZW5haS5jb20vb3BlbmFpL2AuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy50aW1lb3V0PTEwIG1pbnV0ZXNdIC0gVGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhlIGNsaWVudCB3aWxsIHdhaXQgZm9yIGEgcmVzcG9uc2UgYmVmb3JlIHRpbWluZyBvdXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5odHRwQWdlbnRdIC0gQW4gSFRUUCBhZ2VudCB1c2VkIHRvIG1hbmFnZSBIVFRQKHMpIGNvbm5lY3Rpb25zLlxuICAgKiBAcGFyYW0ge0NvcmUuRmV0Y2h9IFtvcHRzLmZldGNoXSAtIFNwZWNpZnkgYSBjdXN0b20gYGZldGNoYCBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1heFJldHJpZXM9Ml0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdGhlIGNsaWVudCB3aWxsIHJldHJ5IGEgcmVxdWVzdC5cbiAgICogQHBhcmFtIHtDb3JlLkhlYWRlcnN9IG9wdHMuZGVmYXVsdEhlYWRlcnMgLSBEZWZhdWx0IGhlYWRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICogQHBhcmFtIHtDb3JlLkRlZmF1bHRRdWVyeX0gb3B0cy5kZWZhdWx0UXVlcnkgLSBEZWZhdWx0IHF1ZXJ5IHBhcmFtZXRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kYW5nZXJvdXNseUFsbG93QnJvd3Nlcj1mYWxzZV0gLSBCeSBkZWZhdWx0LCBjbGllbnQtc2lkZSB1c2Ugb2YgdGhpcyBsaWJyYXJ5IGlzIG5vdCBhbGxvd2VkLCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGJhc2VVUkwgPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9CQVNFX1VSTCcpLFxuICAgIGFwaUtleSA9IENvcmUucmVhZEVudignQVpVUkVfT1BFTkFJX0FQSV9LRVknKSxcbiAgICBhcGlWZXJzaW9uID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfQVBJX1ZFUlNJT04nKSxcbiAgICBlbmRwb2ludCxcbiAgICBkZXBsb3ltZW50LFxuICAgIGF6dXJlQURUb2tlblByb3ZpZGVyLFxuICAgIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyLFxuICAgIC4uLm9wdHNcbiAgfTogQXp1cmVDbGllbnRPcHRpb25zID0ge30pIHtcbiAgICBpZiAoIWFwaVZlcnNpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoXG4gICAgICAgIFwiVGhlIE9QRU5BSV9BUElfVkVSU0lPTiBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBtaXNzaW5nIG9yIGVtcHR5OyBlaXRoZXIgcHJvdmlkZSBpdCwgb3IgaW5zdGFudGlhdGUgdGhlIEF6dXJlT3BlbkFJIGNsaWVudCB3aXRoIGFuIGFwaVZlcnNpb24gb3B0aW9uLCBsaWtlIG5ldyBBenVyZU9wZW5BSSh7IGFwaVZlcnNpb246ICdNeSBBUEkgVmVyc2lvbicgfSkuXCIsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYXp1cmVBRFRva2VuUHJvdmlkZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIWF6dXJlQURUb2tlblByb3ZpZGVyICYmICFhcGlLZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoXG4gICAgICAgICdNaXNzaW5nIGNyZWRlbnRpYWxzLiBQbGVhc2UgcGFzcyBvbmUgb2YgYGFwaUtleWAgYW5kIGBhenVyZUFEVG9rZW5Qcm92aWRlcmAsIG9yIHNldCB0aGUgYEFaVVJFX09QRU5BSV9BUElfS0VZYCBlbnZpcm9ubWVudCB2YXJpYWJsZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoYXp1cmVBRFRva2VuUHJvdmlkZXIgJiYgYXBpS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKFxuICAgICAgICAnVGhlIGBhcGlLZXlgIGFuZCBgYXp1cmVBRFRva2VuUHJvdmlkZXJgIGFyZ3VtZW50cyBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlOyBvbmx5IG9uZSBjYW4gYmUgcGFzc2VkIGF0IGEgdGltZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBkZWZpbmUgYSBzZW50aW5lbCB2YWx1ZSB0byBhdm9pZCBhbnkgdHlwaW5nIGlzc3Vlc1xuICAgIGFwaUtleSA/Pz0gQVBJX0tFWV9TRU5USU5FTDtcblxuICAgIG9wdHMuZGVmYXVsdFF1ZXJ5ID0geyAuLi5vcHRzLmRlZmF1bHRRdWVyeSwgJ2FwaS12ZXJzaW9uJzogYXBpVmVyc2lvbiB9O1xuXG4gICAgaWYgKCFiYXNlVVJMKSB7XG4gICAgICBpZiAoIWVuZHBvaW50KSB7XG4gICAgICAgIGVuZHBvaW50ID0gcHJvY2Vzcy5lbnZbJ0FaVVJFX09QRU5BSV9FTkRQT0lOVCddO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWVuZHBvaW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoXG4gICAgICAgICAgJ011c3QgcHJvdmlkZSBvbmUgb2YgdGhlIGBiYXNlVVJMYCBvciBgZW5kcG9pbnRgIGFyZ3VtZW50cywgb3IgdGhlIGBBWlVSRV9PUEVOQUlfRU5EUE9JTlRgIGVudmlyb25tZW50IHZhcmlhYmxlJyxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgYmFzZVVSTCA9IGAke2VuZHBvaW50fS9vcGVuYWlgO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZW5kcG9pbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcignYmFzZVVSTCBhbmQgZW5kcG9pbnQgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN1cGVyKHtcbiAgICAgIGFwaUtleSxcbiAgICAgIGJhc2VVUkwsXG4gICAgICAuLi5vcHRzLFxuICAgICAgLi4uKGRhbmdlcm91c2x5QWxsb3dCcm93c2VyICE9PSB1bmRlZmluZWQgPyB7IGRhbmdlcm91c2x5QWxsb3dCcm93c2VyIH0gOiB7fSksXG4gICAgfSk7XG5cbiAgICB0aGlzLl9henVyZUFEVG9rZW5Qcm92aWRlciA9IGF6dXJlQURUb2tlblByb3ZpZGVyO1xuICAgIHRoaXMuYXBpVmVyc2lvbiA9IGFwaVZlcnNpb247XG4gICAgdGhpcy5kZXBsb3ltZW50TmFtZSA9IGRlcGxveW1lbnQ7XG4gIH1cblxuICBvdmVycmlkZSBidWlsZFJlcXVlc3QoXG4gICAgb3B0aW9uczogQ29yZS5GaW5hbFJlcXVlc3RPcHRpb25zPHVua25vd24+LFxuICAgIHByb3BzOiB7IHJldHJ5Q291bnQ/OiBudW1iZXIgfSA9IHt9LFxuICApOiB7XG4gICAgcmVxOiBSZXF1ZXN0SW5pdDtcbiAgICB1cmw6IHN0cmluZztcbiAgICB0aW1lb3V0OiBudW1iZXI7XG4gIH0ge1xuICAgIGlmIChfZGVwbG95bWVudHNfZW5kcG9pbnRzLmhhcyhvcHRpb25zLnBhdGgpICYmIG9wdGlvbnMubWV0aG9kID09PSAncG9zdCcgJiYgb3B0aW9ucy5ib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICghQ29yZS5pc09iaihvcHRpb25zLmJvZHkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgcmVxdWVzdCBib2R5IHRvIGJlIGFuIG9iamVjdCcpO1xuICAgICAgfVxuICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmRlcGxveW1lbnROYW1lIHx8IG9wdGlvbnMuYm9keVsnbW9kZWwnXSB8fCBvcHRpb25zLl9fbWV0YWRhdGE/LlsnbW9kZWwnXTtcbiAgICAgIGlmIChtb2RlbCAhPT0gdW5kZWZpbmVkICYmICF0aGlzLmJhc2VVUkwuaW5jbHVkZXMoJy9kZXBsb3ltZW50cycpKSB7XG4gICAgICAgIG9wdGlvbnMucGF0aCA9IGAvZGVwbG95bWVudHMvJHttb2RlbH0ke29wdGlvbnMucGF0aH1gO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuYnVpbGRSZXF1ZXN0KG9wdGlvbnMsIHByb3BzKTtcbiAgfVxuXG4gIGFzeW5jIF9nZXRBenVyZUFEVG9rZW4oKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2F6dXJlQURUb2tlblByb3ZpZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuX2F6dXJlQURUb2tlblByb3ZpZGVyKCk7XG4gICAgICBpZiAoIXRva2VuIHx8IHR5cGVvZiB0b2tlbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcihcbiAgICAgICAgICBgRXhwZWN0ZWQgJ2F6dXJlQURUb2tlblByb3ZpZGVyJyBhcmd1bWVudCB0byByZXR1cm4gYSBzdHJpbmcgYnV0IGl0IHJldHVybmVkICR7dG9rZW59YCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHByb3RlY3RlZCBvdmVycmlkZSBhdXRoSGVhZGVycyhvcHRzOiBDb3JlLkZpbmFsUmVxdWVzdE9wdGlvbnMpOiBDb3JlLkhlYWRlcnMge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIHByb3RlY3RlZCBvdmVycmlkZSBhc3luYyBwcmVwYXJlT3B0aW9ucyhvcHRzOiBDb3JlLkZpbmFsUmVxdWVzdE9wdGlvbnM8dW5rbm93bj4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdXNlciBzaG91bGQgcHJvdmlkZSBhIGJlYXJlciB0b2tlbiBwcm92aWRlciBpZiB0aGV5IHdhbnRcbiAgICAgKiB0byB1c2UgQXp1cmUgQUQgYXV0aGVudGljYXRpb24uIFRoZSB1c2VyIHNob3VsZG4ndCBzZXQgdGhlXG4gICAgICogQXV0aG9yaXphdGlvbiBoZWFkZXIgbWFudWFsbHkgYmVjYXVzZSB0aGUgaGVhZGVyIGlzIG92ZXJ3cml0dGVuXG4gICAgICogd2l0aCB0aGUgQXp1cmUgQUQgdG9rZW4gaWYgYSBiZWFyZXIgdG9rZW4gcHJvdmlkZXIgaXMgcHJvdmlkZWQuXG4gICAgICovXG4gICAgaWYgKG9wdHMuaGVhZGVycz8uWydhcGkta2V5J10pIHtcbiAgICAgIHJldHVybiBzdXBlci5wcmVwYXJlT3B0aW9ucyhvcHRzKTtcbiAgICB9XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLl9nZXRBenVyZUFEVG9rZW4oKTtcbiAgICBvcHRzLmhlYWRlcnMgPz89IHt9O1xuICAgIGlmICh0b2tlbikge1xuICAgICAgb3B0cy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXBpS2V5ICE9PSBBUElfS0VZX1NFTlRJTkVMKSB7XG4gICAgICBvcHRzLmhlYWRlcnNbJ2FwaS1rZXknXSA9IHRoaXMuYXBpS2V5O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKCdVbmFibGUgdG8gaGFuZGxlIGF1dGgnKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLnByZXBhcmVPcHRpb25zKG9wdHMpO1xuICB9XG59XG5cbmNvbnN0IF9kZXBsb3ltZW50c19lbmRwb2ludHMgPSBuZXcgU2V0KFtcbiAgJy9jb21wbGV0aW9ucycsXG4gICcvY2hhdC9jb21wbGV0aW9ucycsXG4gICcvZW1iZWRkaW5ncycsXG4gICcvYXVkaW8vdHJhbnNjcmlwdGlvbnMnLFxuICAnL2F1ZGlvL3RyYW5zbGF0aW9ucycsXG4gICcvYXVkaW8vc3BlZWNoJyxcbiAgJy9pbWFnZXMvZ2VuZXJhdGlvbnMnLFxuXSk7XG5cbmNvbnN0IEFQSV9LRVlfU0VOVElORUwgPSAnPE1pc3NpbmcgS2V5Pic7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRW5kIEF6dXJlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IHsgdG9GaWxlLCBmaWxlRnJvbVBhdGggfSBmcm9tICcuL3VwbG9hZHMnO1xuZXhwb3J0IHtcbiAgT3BlbkFJRXJyb3IsXG4gIEFQSUVycm9yLFxuICBBUElDb25uZWN0aW9uRXJyb3IsXG4gIEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IsXG4gIEFQSVVzZXJBYm9ydEVycm9yLFxuICBOb3RGb3VuZEVycm9yLFxuICBDb25mbGljdEVycm9yLFxuICBSYXRlTGltaXRFcnJvcixcbiAgQmFkUmVxdWVzdEVycm9yLFxuICBBdXRoZW50aWNhdGlvbkVycm9yLFxuICBJbnRlcm5hbFNlcnZlckVycm9yLFxuICBQZXJtaXNzaW9uRGVuaWVkRXJyb3IsXG4gIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvcixcbn0gZnJvbSAnLi9lcnJvcic7XG5cbmV4cG9ydCBkZWZhdWx0IE9wZW5BSTtcbiIsICJpbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCIuLlwiO1xuaW1wb3J0IHsgRWRpdG9yIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBPcGVuQUlTZXR0aW5ncyB9IGZyb20gXCIuXCI7XG5pbXBvcnQgeyBDb21wbGV0aW9uT3B0aW9ucyB9IGZyb20gXCJzcmMvc2V0dGluZ3Mvc2V0dGluZ3NcIjtcbmltcG9ydCBPcGVuQUkgZnJvbSBcIm9wZW5haVwiO1xuXG5leHBvcnQgY2xhc3MgT3BlbkFJUHJvdmlkZXIgaW1wbGVtZW50cyBQcm92aWRlciB7XG4gICAgY2xpZW50OiBPcGVuQUk7XG4gICAgc2V0dGluZ3M6IE9wZW5BSVNldHRpbmdzO1xuICAgIGFib3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBhYm9ydGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcjtcblxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzOiBPcGVuQUlTZXR0aW5ncykge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IE9wZW5BSSh7XG4gICAgICAgICAgICBhcGlLZXk6IHRoaXMuc2V0dGluZ3MuYXBpS2V5LFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jICpnZW5lcmF0ZShlZGl0b3I6IEVkaXRvciwgb3B0aW9uczogQ29tcGxldGlvbk9wdGlvbnMpOiBBc3luY0dlbmVyYXRvcjxzdHJpbmc+IHtcbiAgICAgICAgdGhpcy5hYm9ydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWJvcnRjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgICAgIGNvbnN0IGluaXRpYWxQb3NpdGlvbiA9IGVkaXRvci5nZXRDdXJzb3IoKTtcbiAgICAgICAgY29uc3QgcHJvbXB0ID0gcHJlcGFyZVByb21wdChlZGl0b3IsIG9wdGlvbnMudXNlclByb21wdCk7XG5cbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgdGhpcy5jbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgICAgICAgbW9kZWw6IG9wdGlvbnMubW9kZWwsXG4gICAgICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgICAgICAgIHsgcm9sZTogXCJzeXN0ZW1cIiwgY29udGVudDogb3B0aW9ucy5zeXN0ZW1Qcm9tcHQgfSxcbiAgICAgICAgICAgICAgICB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBwcm9tcHQgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHRlbXBlcmF0dXJlOiBvcHRpb25zLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICB9LCB7IHNpZ25hbDogdGhpcy5hYm9ydGNvbnRyb2xsZXIuc2lnbmFsIH0pO1xuXG4gICAgICAgIGxldCBjb21wbGV0aW9uID0gXCJcIjtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnNvck1vdmVkKGVkaXRvciwgaW5pdGlhbFBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3Vyc29yIG1vdmVkLCBhYm9ydGluZyBjb21wbGV0aW9uXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjaHVuay5jaG9pY2VzWzBdPy5kZWx0YT8uY29udGVudCB8fCBcIlwiO1xuICAgICAgICAgICAgY29tcGxldGlvbiArPSBjb250ZW50O1xuICAgICAgICAgICAgeWllbGQgY29tcGxldGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYWJvcnRjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWJvcnRlZCBjb21wbGV0aW9uXCIpO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZU1vZGVscygpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgICAgIGlmICghdGhpcy5jbGllbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1vZGVscztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1vZGVscyA9IGF3YWl0IHRoaXMuY2xpZW50Lm1vZGVscy5saXN0KCk7XG4gICAgICAgIC8vIEZpbHRlciBmb3IgY2hhdCBtb2RlbHMgb25seVxuICAgICAgICBjb25zdCBjaGF0TW9kZWxzID0gbW9kZWxzLmRhdGFcbiAgICAgICAgICAgIC5maWx0ZXIobW9kZWwgPT4gbW9kZWwuaWQuaW5jbHVkZXMoXCJncHRcIikpXG4gICAgICAgICAgICAubWFwKG1vZGVsID0+IG1vZGVsLmlkKTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzLm1vZGVscyA9IGNoYXRNb2RlbHM7XG4gICAgICAgIHJldHVybiBjaGF0TW9kZWxzO1xuICAgIH1cblxuICAgIGFzeW5jIGNvbm5lY3Rpb25UZXN0KCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQubW9kZWxzLmxpc3QoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHRlc3RpbmcgY29ubmVjdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjdXJzb3JNb3ZlZChlZGl0b3I6IEVkaXRvciwgaW5pdGlhbFBvc2l0aW9uOiB7IGxpbmU6IG51bWJlciwgY2g6IG51bWJlciB9KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IGVkaXRvci5nZXRDdXJzb3IoKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQb3NpdGlvbi5saW5lICE9PSBpbml0aWFsUG9zaXRpb24ubGluZSB8fCBjdXJyZW50UG9zaXRpb24uY2ggIT09IGluaXRpYWxQb3NpdGlvbi5jaDtcbiAgICB9XG59XG5cbi8vIEltcG9ydCB0aGlzIGF0IHRoZSBlbmQgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeSBpc3N1ZXNcbmltcG9ydCBwcmVwYXJlUHJvbXB0IGZyb20gXCJzcmMvcHJvbXB0L3Byb21wdFwiOyIsICJpbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCIuLlwiO1xuaW1wb3J0IHsgRWRpdG9yIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBPcGVuQUlDb21wYXRpYmxlU2V0dGluZ3MgfSBmcm9tIFwiLlwiO1xuaW1wb3J0IHsgQ29tcGxldGlvbk9wdGlvbnMgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzXCI7XG5pbXBvcnQgT3BlbkFJIGZyb20gXCJvcGVuYWlcIjtcblxuZXhwb3J0IGNsYXNzIE9wZW5BSUNvbXBhdGlibGVQcm92aWRlciBpbXBsZW1lbnRzIFByb3ZpZGVyIHtcbiAgICBjbGllbnQ6IE9wZW5BSTtcbiAgICBzZXR0aW5nczogT3BlbkFJQ29tcGF0aWJsZVNldHRpbmdzO1xuICAgIGFib3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBhYm9ydGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcjtcblxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzOiBPcGVuQUlDb21wYXRpYmxlU2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmNsaWVudCA9IG5ldyBPcGVuQUkoe1xuICAgICAgICAgICAgYmFzZVVSTDogdGhpcy5zZXR0aW5ncy5iYXNlVXJsLFxuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLnNldHRpbmdzLmFwaUtleSxcbiAgICAgICAgICAgIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyAqZ2VuZXJhdGUoZWRpdG9yOiBFZGl0b3IsIG9wdGlvbnM6IENvbXBsZXRpb25PcHRpb25zKTogQXN5bmNHZW5lcmF0b3I8c3RyaW5nPiB7XG4gICAgICAgIHRoaXMuYWJvcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFib3J0Y29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgICAgICBjb25zdCBpbml0aWFsUG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGNvbnN0IHByb21wdCA9IHByZXBhcmVQcm9tcHQoZWRpdG9yLCBvcHRpb25zLnVzZXJQcm9tcHQpO1xuXG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHRoaXMuY2xpZW50LmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsLFxuICAgICAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICAgICAgICB7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQ6IG9wdGlvbnMuc3lzdGVtUHJvbXB0IH0sXG4gICAgICAgICAgICAgICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogcHJvbXB0IH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB0ZW1wZXJhdHVyZTogb3B0aW9ucy50ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgICAgfSwgeyBzaWduYWw6IHRoaXMuYWJvcnRjb250cm9sbGVyLnNpZ25hbCB9KTtcblxuICAgICAgICBsZXQgY29tcGxldGlvbiA9IFwiXCI7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY3Vyc29yTW92ZWQoZWRpdG9yLCBpbml0aWFsUG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjdXJzb3IgbW92ZWQsIGFib3J0aW5nIGNvbXBsZXRpb25cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGNodW5rLmNob2ljZXNbMF0/LmRlbHRhPy5jb250ZW50IHx8IFwiXCI7XG4gICAgICAgICAgICBjb21wbGV0aW9uICs9IGNvbnRlbnQ7XG4gICAgICAgICAgICB5aWVsZCBjb21wbGV0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFib3J0ZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hYm9ydGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJhYm9ydGVkIGNvbXBsZXRpb25cIik7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlTW9kZWxzKCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubW9kZWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbW9kZWxzID0gYXdhaXQgdGhpcy5jbGllbnQubW9kZWxzLmxpc3QoKTtcbiAgICAgICAgLy8gRmlsdGVyIGZvciBjaGF0IG1vZGVscyBvbmx5XG4gICAgICAgIGNvbnN0IGNoYXRNb2RlbHMgPSBtb2RlbHMuZGF0YVxuICAgICAgICAgICAgLmZpbHRlcihtb2RlbCA9PiBtb2RlbC5pZC5pbmNsdWRlcyhcImdwdFwiKSlcbiAgICAgICAgICAgIC5tYXAobW9kZWwgPT4gbW9kZWwuaWQpO1xuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MubW9kZWxzID0gY2hhdE1vZGVscztcbiAgICAgICAgcmV0dXJuIGNoYXRNb2RlbHM7XG4gICAgfVxuXG4gICAgYXN5bmMgY29ubmVjdGlvblRlc3QoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5tb2RlbHMubGlzdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdGVzdGluZyBjb25uZWN0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGN1cnNvck1vdmVkKGVkaXRvcjogRWRpdG9yLCBpbml0aWFsUG9zaXRpb246IHsgbGluZTogbnVtYmVyLCBjaDogbnVtYmVyIH0pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgICAgICByZXR1cm4gY3VycmVudFBvc2l0aW9uLmxpbmUgIT09IGluaXRpYWxQb3NpdGlvbi5saW5lIHx8IGN1cnJlbnRQb3NpdGlvbi5jaCAhPT0gaW5pdGlhbFBvc2l0aW9uLmNoO1xuICAgIH1cbn1cblxuLy8gSW1wb3J0IHRoaXMgYXQgdGhlIGVuZCB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5IGlzc3Vlc1xuaW1wb3J0IHByZXBhcmVQcm9tcHQgZnJvbSBcInNyYy9wcm9tcHQvcHJvbXB0XCI7IiwgImltcG9ydCBJbnNjcmliZSBmcm9tIFwic3JjL21haW5cIjtcbmltcG9ydCB7IFByb3ZpZGVyLCBQcm92aWRlclR5cGUgfSBmcm9tIFwic3JjL3Byb3ZpZGVyc1wiO1xuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBPbGxhbWFQcm92aWRlciB9IGZyb20gXCIuL29sbGFtYVwiO1xuaW1wb3J0IHsgT3BlbkFJUHJvdmlkZXIgfSBmcm9tIFwiLi9vcGVuYWlcIjtcbmltcG9ydCB7IE9wZW5BSUNvbXBhdGlibGVQcm92aWRlciB9IGZyb20gXCIuL29wZW5haS1jb21wYXRcIjtcblxuaW50ZXJmYWNlIFByb3ZpZGVycyB7XG4gICAgW1Byb3ZpZGVyVHlwZS5PTExBTUFdOiBPbGxhbWFQcm92aWRlcixcbiAgICBbUHJvdmlkZXJUeXBlLk9QRU5BSV06IE9wZW5BSVByb3ZpZGVyLFxuICAgIFtQcm92aWRlclR5cGUuT1BFTkFJX0NPTVBBVElCTEVdOiBPcGVuQUlDb21wYXRpYmxlUHJvdmlkZXJcbn1cblxuZXhwb3J0IGNsYXNzIFByb3ZpZGVyRmFjdG9yeSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5nczogU2V0dGluZ3M7XG4gICAgcHJpdmF0ZSBwcm92aWRlcnM6IFByb3ZpZGVycztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBJbnNjcmliZSkge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3M7XG4gICAgICAgIHRoaXMucHJvdmlkZXJzID0gdGhpcy5idWlsZFByb3ZpZGVycyh0aGlzLnNldHRpbmdzKTtcbiAgICB9XG5cbiAgICByZWJ1aWxkUHJvdmlkZXJzKCkge1xuICAgICAgICB0aGlzLnByb3ZpZGVycyA9IHRoaXMuYnVpbGRQcm92aWRlcnModGhpcy5zZXR0aW5ncyk7XG4gICAgfVxuXG4gICAgZ2V0UHJvdmlkZXIocHJvdmlkZXI6IFByb3ZpZGVyVHlwZSk6IFByb3ZpZGVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzW3Byb3ZpZGVyXTtcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVNb2RlbHMocHJvdmlkZXI6IFByb3ZpZGVyVHlwZSk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzW3Byb3ZpZGVyXS51cGRhdGVNb2RlbHMoKTtcbiAgICB9XG5cbiAgICBhc3luYyBjb25uZWN0aW9uVGVzdChwcm92aWRlcjogUHJvdmlkZXJUeXBlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyc1twcm92aWRlcl0uY29ubmVjdGlvblRlc3QoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkUHJvdmlkZXJzKHNldHRpbmdzOiBTZXR0aW5ncyk6IFByb3ZpZGVycyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbUHJvdmlkZXJUeXBlLk9MTEFNQV06IG5ldyBPbGxhbWFQcm92aWRlcihzZXR0aW5ncy5wcm92aWRlcnMub2xsYW1hKSxcbiAgICAgICAgICAgIFtQcm92aWRlclR5cGUuT1BFTkFJXTogbmV3IE9wZW5BSVByb3ZpZGVyKHNldHRpbmdzLnByb3ZpZGVycy5vcGVuYWkpLFxuICAgICAgICAgICAgW1Byb3ZpZGVyVHlwZS5PUEVOQUlfQ09NUEFUSUJMRV06IG5ldyBPcGVuQUlDb21wYXRpYmxlUHJvdmlkZXIoc2V0dGluZ3MucHJvdmlkZXJzLm9wZW5haV9jb21wYXRpYmxlKSxcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgUHJvdmlkZXJUeXBlIH0gZnJvbSBcInNyYy9wcm92aWRlcnNcIjtcbmltcG9ydCB7IFNwbGl0U3RyYXRlZ3kgfSBmcm9tIFwic3JjL2V4dGVuc2lvblwiO1xuaW1wb3J0IHsgT2xsYW1hU2V0dGluZ3MgfSBmcm9tIFwic3JjL3Byb3ZpZGVycy9vbGxhbWFcIjtcbmltcG9ydCB7IE9wZW5BSVNldHRpbmdzIH0gZnJvbSBcInNyYy9wcm92aWRlcnMvb3BlbmFpXCI7XG5pbXBvcnQgeyBPcGVuQUlDb21wYXRpYmxlU2V0dGluZ3MgfSBmcm9tIFwic3JjL3Byb3ZpZGVycy9vcGVuYWktY29tcGF0XCI7XG5cbi8vIENvbXBsZXRpb24gb3B0aW9ucyBmb3IgYSBwcm9maWxlXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25PcHRpb25zIHtcbiAgICBtb2RlbDogc3RyaW5nLFxuICAgIHVzZXJQcm9tcHQ6IHN0cmluZyxcbiAgICBzeXN0ZW1Qcm9tcHQ6IHN0cmluZyxcbiAgICB0ZW1wZXJhdHVyZTogbnVtYmVyXG59XG5cbi8vIFByb2ZpbGUgc2V0dGluZ3NcbmV4cG9ydCBpbnRlcmZhY2UgUHJvZmlsZSB7XG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHByb3ZpZGVyOiBQcm92aWRlclR5cGUsXG4gICAgY29tcGxldGlvbk9wdGlvbnM6IENvbXBsZXRpb25PcHRpb25zLFxuICAgIGRlbGF5TXM6IG51bWJlcixcbiAgICBzcGxpdFN0cmF0ZWd5OiBTcGxpdFN0cmF0ZWd5XG59XG5cbmV4cG9ydCB0eXBlIFByb2ZpbGVJZCA9IHN0cmluZztcbmV4cG9ydCB0eXBlIFByb2ZpbGVzID0gUmVjb3JkPFByb2ZpbGVJZCwgUHJvZmlsZT5cbmV4cG9ydCB0eXBlIFBhdGggPSBzdHJpbmc7XG5leHBvcnQgdHlwZSBQYXRoQ29uZmlnID0geyBwcm9maWxlOiBQcm9maWxlSWQsIGVuYWJsZWQ6IGJvb2xlYW4gfTtcbmV4cG9ydCBpbnRlcmZhY2UgU2V0dGluZ3Mge1xuICAgIGVuYWJsZWQ6IGJvb2xlYW4sXG4gICAgLy8gYXZhaWxhYmxlIHByb3ZpZGVyc1xuICAgIHByb3ZpZGVyczoge1xuICAgICAgICBvbGxhbWE6IE9sbGFtYVNldHRpbmdzLFxuICAgICAgICBvcGVuYWk6IE9wZW5BSVNldHRpbmdzLFxuICAgICAgICBvcGVuYWlfY29tcGF0aWJsZTogT3BlbkFJQ29tcGF0aWJsZVNldHRpbmdzLFxuICAgIH0sXG4gICAgLy8gcHJvZmlsZXNcbiAgICBwcm9maWxlczogUHJvZmlsZXMsXG4gICAgLy8gcGF0aCB0byBwcm9maWxlIG1hcHBpbmdzXG4gICAgcGF0aF9jb25maWdzOiBSZWNvcmQ8UGF0aCwgUGF0aENvbmZpZz4sXG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1BST0ZJTEU6IFByb2ZpbGVJZCA9IFwiZGVmYXVsdFwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUEFUSCA9IFwiL1wiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFNldHRpbmdzID0ge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIHByb3ZpZGVyczoge1xuICAgICAgICBvcGVuYWk6IHtcbiAgICAgICAgICAgIGludGVncmF0aW9uOiBQcm92aWRlclR5cGUuT1BFTkFJLFxuICAgICAgICAgICAgbmFtZTogXCJPcGVuIEFJXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJVc2UgT3BlbkFJIEFQSXMgdG8gZ2VuZXJhdGUgdGV4dC5cIixcbiAgICAgICAgICAgIGFwaUtleTogXCJhcGkta2V5XCIsXG4gICAgICAgICAgICBtb2RlbDogXCJncHQtNG8tbWluaVwiLFxuICAgICAgICAgICAgbW9kZWxzOiBbXCJncHQtNG9cIiwgXCJncHQtNG8tbWluaVwiXSxcbiAgICAgICAgICAgIGNvbmZpZ3VyZWQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBvbGxhbWE6IHtcbiAgICAgICAgICAgIGludGVncmF0aW9uOiBQcm92aWRlclR5cGUuT0xMQU1BLFxuICAgICAgICAgICAgbmFtZTogXCJPbGxhbWFcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlVzZSB5b3VyIG93biBPbGxhbWEgaW5zdGFuY2UgdG8gZ2VuZXJhdGUgdGV4dC5cIixcbiAgICAgICAgICAgIGhvc3Q6IFwiaHR0cDovL2xvY2FsaG9zdDoxMTQzNFwiLFxuICAgICAgICAgICAgbW9kZWxzOiBbXCJsbGFtYTMuMjpsYXRlc3RcIiwgXCJtaXN0cmFsLW5lbW9cIl0sXG4gICAgICAgICAgICBjb25maWd1cmVkOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgb3BlbmFpX2NvbXBhdGlibGU6IHtcbiAgICAgICAgICAgIGludGVncmF0aW9uOiBQcm92aWRlclR5cGUuT1BFTkFJX0NPTVBBVElCTEUsXG4gICAgICAgICAgICBuYW1lOiBcIk9wZW5BSSBDb21wYXRpYmxlXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJVc2UgT3BlbkFJIGNvbXBhdGlibGUgQVBJcyB0byBnZW5lcmF0ZSBjb21wbGV0aW9ucy5cIixcbiAgICAgICAgICAgIGFwaUtleTogXCJhcGkta2V5XCIsXG4gICAgICAgICAgICBiYXNlVXJsOiBcImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFcIixcbiAgICAgICAgICAgIG1vZGVsOiBcImdwdC00by1taW5pXCIsXG4gICAgICAgICAgICBtb2RlbHM6IFtcImdwdC00b1wiLCBcImdwdC00by1taW5pXCJdLFxuICAgICAgICAgICAgY29uZmlndXJlZDogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBwcm9maWxlczoge1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBuYW1lOiBcIkRlZmF1bHQgUHJvZmlsZVwiLFxuICAgICAgICAgICAgcHJvdmlkZXI6IFByb3ZpZGVyVHlwZS5PTExBTUEsXG4gICAgICAgICAgICBkZWxheU1zOiA1MDAsXG4gICAgICAgICAgICBzcGxpdFN0cmF0ZWd5OiBcInNlbnRlbmNlXCIsXG4gICAgICAgICAgICBjb21wbGV0aW9uT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIG1vZGVsOiBcImxsYW1hMy4yOmxhdGVzdFwiLFxuICAgICAgICAgICAgICAgIHVzZXJQcm9tcHQ6ICdDb21wbGV0ZSBmb2xsb3dpbmcgdGV4dDpcXG4ge3twcmVfY3Vyc29yfX19JyxcbiAgICAgICAgICAgICAgICBzeXN0ZW1Qcm9tcHQ6IFwiWW91IGFyZSBhbiBoZWxwZnVsIEFJIGNvbXBsZXRlci4gRm9sbG93IGluc3RydWN0aW9uc1wiLFxuICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLjUsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBwYXRoX2NvbmZpZ3M6IHtcbiAgICAgICAgXCIvXCI6IHtcbiAgICAgICAgICAgIHByb2ZpbGU6IERFRkFVTFRfUFJPRklMRSxcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5cbi8vIENyZWF0ZSBhIG5ldyBwcm9maWxlIGFuZCByZXR1cm4gdGhlIGlkXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvZmlsZShzZXR0aW5nczogU2V0dGluZ3MpOiBzdHJpbmcge1xuICAgIGNvbnN0IHByb2ZpbGVzID0gc2V0dGluZ3MucHJvZmlsZXM7XG4gICAgY29uc3QgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgNik7XG5cbiAgICAvLyBnZW5lcmF0ZSBhIG5ldyBwcm9maWxlIG5hbWVcbiAgICBsZXQgbmFtZSA9IFwiTmV3IFByb2ZpbGVcIjtcbiAgICAvLyBsb29wIHRocm91Z2ggdGhlIHByb2ZpbGVzIHRvIG1ha2Ugc3VyZSB0aGUgbmFtZSBpcyB1bmlxdWVcbiAgICBsZXQgaSA9IDE7XG4gICAgT2JqZWN0LmVudHJpZXMocHJvZmlsZXMpLmZvckVhY2goKFssIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGBOZXcgUHJvZmlsZSAke2l9YDtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gY29weSB0aGUgZGVmYXVsdCBwcm9maWxlXG4gICAgY29uc3QgZGVmYXVsdFByb2ZpbGUgPSBwcm9maWxlc1tERUZBVUxUX1BST0ZJTEVdO1xuICAgIGNvbnN0IHByb2ZpbGUgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRQcm9maWxlLFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgIH07XG5cbiAgICAvLyBhZGQgdGhlIG5ldyBwcm9maWxlXG4gICAgcHJvZmlsZXNbaWRdID0gcHJvZmlsZTtcblxuICAgIHJldHVybiBpZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRQYXRoQ29uZmlnKHNldHRpbmdzOiBTZXR0aW5ncywgcGF0aDogc3RyaW5nKTogUGF0aENvbmZpZyB7XG4gICAgcmV0dXJuIHNldHRpbmdzLnBhdGhfY29uZmlnc1twYXRoXSB8fCBzZXR0aW5ncy5wYXRoX2NvbmZpZ3NbREVGQVVMVF9QQVRIXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhdGhDb25maWcoc2V0dGluZ3M6IFNldHRpbmdzLCBwYXRoOiBzdHJpbmcsIHByb2ZpbGU6IFByb2ZpbGVJZCk6IHZvaWQge1xuICAgIHBhdGggPSBwYXRoIHx8IERFRkFVTFRfUEFUSDtcbiAgICBzZXR0aW5ncy5wYXRoX2NvbmZpZ3NbcGF0aF0gPSB7IHByb2ZpbGU6IHByb2ZpbGUsIGVuYWJsZWQ6IHRydWUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdzKTogdm9pZCB7XG4gICAgT2JqZWN0LmFzc2lnbihzZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HUyk7XG59IiwgImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgQnV0dG9uQ29tcG9uZW50LCBFeHRyYUJ1dHRvbkNvbXBvbmVudCwgRHJvcGRvd25Db21wb25lbnQsIFRleHRDb21wb25lbnQsIFRvZ2dsZUNvbXBvbmVudCwgTm90aWNlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBURU1QTEFURV9WQVJJQUJMRVMgfSBmcm9tIFwic3JjL3Byb21wdC9wcm9tcHRcIjtcbmltcG9ydCB7IFNwbGl0U3RyYXRlZ3kgfSBmcm9tIFwic3JjL2V4dGVuc2lvblwiO1xuaW1wb3J0IEluc2NyaWJlIGZyb20gXCJzcmMvbWFpblwiO1xuaW1wb3J0IHsgUHJvdmlkZXJUeXBlIH0gZnJvbSBcInNyYy9wcm92aWRlcnNcIjtcbmltcG9ydCB7IGNyZWF0ZVBhdGhDb25maWcsIERFRkFVTFRfUEFUSCwgREVGQVVMVF9QUk9GSUxFLCBQcm9maWxlLCByZXNldFNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFByb3ZpZGVyU2V0dGluZ3NNb2RhbCB9IGZyb20gJy4vcHJvdmlkZXInO1xuaW1wb3J0IHsgY3JlYXRlUHJvZmlsZSB9IGZyb20gXCIuXCI7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBNYWluIFNldHRpbmdzIFRhYlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnNjcmliZVNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gICAgcHJpdmF0ZSBnZW5lcmFsU2VjdGlvbjogR2VuZXJhbFNlY3Rpb247XG4gICAgcHJpdmF0ZSBwcm92aWRlcnNTZWN0aW9uOiBQcm92aWRlcnNTZWN0aW9uO1xuICAgIHByaXZhdGUgcHJvZmlsZXNTZWN0aW9uOiBQcm9maWxlc1NlY3Rpb247XG4gICAgcHJpdmF0ZSBwYXRoQ29uZmlnc1NlY3Rpb246IFBhdGhDb25maWdzU2VjdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBJbnNjcmliZSkge1xuICAgICAgICBzdXBlcihwbHVnaW4uYXBwLCBwbHVnaW4pO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgICAgICAvLyBHZW5lcmFsIFNlY3Rpb25cbiAgICAgICAgY29uc3QgZ2VuZXJhbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoZ2VuZXJhbENvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuZ2VuZXJhbFNlY3Rpb24gPSBuZXcgR2VuZXJhbFNlY3Rpb24oZ2VuZXJhbENvbnRhaW5lciwgdGhpcy5wbHVnaW4sIHRoaXMuZGlzcGxheS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5nZW5lcmFsU2VjdGlvbi5yZW5kZXIoKTtcblxuICAgICAgICAvLyBQcm92aWRlcnMgU2VjdGlvblxuICAgICAgICBjb25zdCBwcm92aWRlcnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmFwcGVuZENoaWxkKHByb3ZpZGVyc0NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMucHJvdmlkZXJzU2VjdGlvbiA9IG5ldyBQcm92aWRlcnNTZWN0aW9uKHByb3ZpZGVyc0NvbnRhaW5lciwgdGhpcy5hcHAsIHRoaXMucGx1Z2luKTtcbiAgICAgICAgdGhpcy5wcm92aWRlcnNTZWN0aW9uLnJlbmRlcigpO1xuXG4gICAgICAgIC8vIFByb2ZpbGVzIFNlY3Rpb25cbiAgICAgICAgY29uc3QgcHJvZmlsZXNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmFwcGVuZENoaWxkKHByb2ZpbGVzQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5wcm9maWxlc1NlY3Rpb24gPSBuZXcgUHJvZmlsZXNTZWN0aW9uKHByb2ZpbGVzQ29udGFpbmVyLCB0aGlzLnBsdWdpbik7XG4gICAgICAgIHRoaXMucHJvZmlsZXNTZWN0aW9uLnJlbmRlcigpO1xuXG4gICAgICAgIC8vIFBhdGggTWFwcGluZ3MgU2VjdGlvblxuICAgICAgICBjb25zdCBwYXRoTWFwcGluZ3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmFwcGVuZENoaWxkKHBhdGhNYXBwaW5nc0NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMucGF0aENvbmZpZ3NTZWN0aW9uID0gbmV3IFBhdGhDb25maWdzU2VjdGlvbihwYXRoTWFwcGluZ3NDb250YWluZXIsIHRoaXMucGx1Z2luKTtcbiAgICAgICAgdGhpcy5wYXRoQ29uZmlnc1NlY3Rpb24ucmVuZGVyKCk7XG4gICAgfVxufVxuXG4vLyBHZW5lcmFsIFNlY3Rpb25cbmNsYXNzIEdlbmVyYWxTZWN0aW9uIHtcbiAgICBwcml2YXRlIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBwbHVnaW46IEluc2NyaWJlO1xuICAgIHByaXZhdGUgZGlzcGxheUZ1bmM6ICgpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwbHVnaW46IEluc2NyaWJlLCBkaXNwbGF5RnVuYzogKCkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMuZGlzcGxheUZ1bmMgPSBkaXNwbGF5RnVuYztcbiAgICB9XG5cbiAgICBhc3luYyByZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmVtcHR5KCk7XG4gICAgICAgIC8vIEVuYWJsZWRcbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkVuYWJsZWRcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiRW5hYmxlIG9yIGRpc2FibGUgY29tcGxldGlvbnMgZ2xvYmFsbHlcIilcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRvZ2dsZVxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zdGF0dXNCYXJJdGVtLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlc2V0IFNldHRpbmdzXG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJSZXNldCBTZXR0aW5nc1wiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJSZXNldCBhbGwgc2V0dGluZ3MgdG8gZGVmYXVsdFwiKVxuICAgICAgICAgICAgLmFkZEJ1dHRvbigoYnV0dG9uOiBCdXR0b25Db21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgLnNldFdhcm5pbmcoKVxuICAgICAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIlJlc2V0XCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRUb29sdGlwKFwiUmVzZXQgc2V0dGluZ3MgdG8gZGVmYXVsdFwiKVxuICAgICAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFNldHRpbmdzKHRoaXMucGx1Z2luLnNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5RnVuYygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc3RhdHVzQmFySXRlbS5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJTZXR0aW5ncyByZXNldCB0byBkZWZhdWx0XCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFByb3ZpZGVycyBTZWN0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbmNsYXNzIFByb3ZpZGVyc1NlY3Rpb24ge1xuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHBsdWdpbjogSW5zY3JpYmU7XG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGFwcDogQXBwLCBwbHVnaW46IEluc2NyaWJlKSB7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5lbXB0eSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJQcm92aWRlcnNcIiB9KTtcblxuICAgICAgICAvLyBPbGxhbWEgUHJvdmlkZXJcbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIk9sbGFtYVwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJMb2NhbCBBSSBwcm92aWRlciBydW5uaW5nIG9uIHlvdXIgbWFjaGluZVwiKVxuICAgICAgICAgICAgLmFkZEV4dHJhQnV0dG9uKChidXR0b246IEV4dHJhQnV0dG9uQ29tcG9uZW50KSA9PiB0aGlzLmNyZWF0ZUNvbmZpZ3VyZUJ1dHRvbihcbiAgICAgICAgICAgICAgICBidXR0b24sXG4gICAgICAgICAgICAgICAgUHJvdmlkZXJUeXBlLk9MTEFNQSxcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcnMub2xsYW1hLmNvbmZpZ3VyZWQpKTtcblxuICAgICAgICAvLyBPcGVuQUkgUHJvdmlkZXJcbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIk9wZW5BSVwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJPcGVuQUkgQVBJXCIpXG4gICAgICAgICAgICAuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbjogRXh0cmFCdXR0b25Db21wb25lbnQpID0+IHRoaXMuY3JlYXRlQ29uZmlndXJlQnV0dG9uKFxuICAgICAgICAgICAgICAgIGJ1dHRvbixcbiAgICAgICAgICAgICAgICBQcm92aWRlclR5cGUuT1BFTkFJLFxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVycy5vcGVuYWkuY29uZmlndXJlZCkpO1xuXG4gICAgICAgIC8vIE9wZW5BSSBDb21wYXRpYmxlIFByb3ZpZGVyXG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJPcGVuQUkgQ29tcGF0aWJsZVwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJPcGVuQUkgY29tcGF0aWJsZSBwcm92aWRlclwiKVxuICAgICAgICAgICAgLmFkZEV4dHJhQnV0dG9uKChidXR0b246IEV4dHJhQnV0dG9uQ29tcG9uZW50KSA9PiB0aGlzLmNyZWF0ZUNvbmZpZ3VyZUJ1dHRvbihcbiAgICAgICAgICAgICAgICBidXR0b24sXG4gICAgICAgICAgICAgICAgUHJvdmlkZXJUeXBlLk9QRU5BSV9DT01QQVRJQkxFLFxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVycy5vcGVuYWlfY29tcGF0aWJsZS5jb25maWd1cmVkKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVDb25maWd1cmVCdXR0b24oYnV0dG9uOiBFeHRyYUJ1dHRvbkNvbXBvbmVudCwgdHlwZTogUHJvdmlkZXJUeXBlLCBjb25maWd1cmVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGJ1dHRvbi5leHRyYVNldHRpbmdzRWwuc2V0Q3NzUHJvcHMoe1xuICAgICAgICAgICAgY29sb3I6IGNvbmZpZ3VyZWQgPyBcInZhcigtLXRleHQtc3VjY2VzcylcIiA6IFwidmFyKC0tdGV4dC13YXJuaW5nKVwiLFxuICAgICAgICB9KTtcbiAgICAgICAgYnV0dG9uXG4gICAgICAgICAgICAuc2V0SWNvbihjb25maWd1cmVkID8gXCJjb2dcIiA6IFwiY29nXCIpXG4gICAgICAgICAgICAuc2V0VG9vbHRpcChjb25maWd1cmVkID8gXCJQcm92aWRlciBjb25maWd1cmVkXCIgOiBcIlByb3ZpZGVyIG5vdCBjb25maWd1cmVkXCIpXG4gICAgICAgICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgbmV3IFByb3ZpZGVyU2V0dGluZ3NNb2RhbCh0aGlzLmFwcCwgdGhpcy5wbHVnaW4sIHR5cGUpLm9wZW4oKVxuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUHJvZmlsZXMgU2VjdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5jbGFzcyBQcm9maWxlc1NlY3Rpb24ge1xuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHBsdWdpbjogSW5zY3JpYmU7XG4gICAgcHJpdmF0ZSBkaXNwbGF5ZWRQcm9maWxlSWQ6IHN0cmluZyA9IERFRkFVTFRfUFJPRklMRTtcbiAgICBwcml2YXRlIHNlbGVjdGlvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBwcm9maWxlQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHBsdWdpbjogSW5zY3JpYmUpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgY29udGFpbmVycyBvbmNlXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5wcm9maWxlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICAvLyBBcHBlbmQgdGhlbSBpbml0aWFsbHlcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zZWxlY3Rpb25Db250YWluZXIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnByb2ZpbGVDb250YWluZXIpO1xuICAgIH1cblxuICAgIGFzeW5jIHJlbmRlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gQ2xlYXIgbWFpbiBjb250YWluZXIgYW5kIHJlLWFwcGVuZCBzdWItY29udGFpbmVyc1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5lbXB0eSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJQcm9maWxlc1wiIH0pO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGlvbkNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucHJvZmlsZUNvbnRhaW5lcik7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQcm9maWxlU2VsZWN0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgZGlzcGxheWVkUHJvZmlsZSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2ZpbGVzW3RoaXMuZGlzcGxheWVkUHJvZmlsZUlkXTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQcm9maWxlU2V0dGluZ3MoZGlzcGxheWVkUHJvZmlsZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZW5kZXJQcm9maWxlU2VsZWN0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkNvbnRhaW5lci5lbXB0eSgpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMuc2VsZWN0aW9uQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJNYW5hZ2UgcHJvZmlsZVwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJTZWxlY3QgYSBwcm9maWxlIHRvIGNvbmZpZ3VyZSBpdHMgc2V0dGluZ3NcIilcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd246IERyb3Bkb3duQ29tcG9uZW50KSA9PiB0aGlzLmNyZWF0ZVByb2ZpbGVEcm9wZG93bihkcm9wZG93bikpXG4gICAgICAgICAgICAuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbjogRXh0cmFCdXR0b25Db21wb25lbnQpID0+IHRoaXMuY3JlYXRlTmV3UHJvZmlsZUJ1dHRvbihidXR0b24pKVxuICAgICAgICAgICAgLmFkZEV4dHJhQnV0dG9uKChidXR0b246IEV4dHJhQnV0dG9uQ29tcG9uZW50KSA9PiB0aGlzLmNyZWF0ZURlbGV0ZVByb2ZpbGVCdXR0b24oYnV0dG9uKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVQcm9maWxlRHJvcGRvd24oZHJvcGRvd246IERyb3Bkb3duQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2ZpbGVzKS5mb3JFYWNoKChbaWQsIHByb2ZpbGVdKSA9PiB7XG4gICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oaWQsIHByb2ZpbGUubmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBkcm9wZG93blxuICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMuZGlzcGxheWVkUHJvZmlsZUlkKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkUHJvZmlsZUlkID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQcm9maWxlU2V0dGluZ3ModGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvZmlsZXNbdmFsdWVdKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlTmV3UHJvZmlsZUJ1dHRvbihidXR0b246IEV4dHJhQnV0dG9uQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGJ1dHRvblxuICAgICAgICAgICAgLnNldEljb24oXCJwbHVzXCIpXG4gICAgICAgICAgICAuc2V0VG9vbHRpcChcIkNyZWF0ZSBuZXcgcHJvZmlsZVwiKVxuICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkUHJvZmlsZUlkID0gY3JlYXRlUHJvZmlsZSh0aGlzLnBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRGVsZXRlUHJvZmlsZUJ1dHRvbihidXR0b246IEV4dHJhQnV0dG9uQ29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGlzRGVmYXVsdCA9IHRoaXMuZGlzcGxheWVkUHJvZmlsZUlkID09PSBERUZBVUxUX1BST0ZJTEU7XG4gICAgICAgIGJ1dHRvblxuICAgICAgICAgICAgLnNldERpc2FibGVkKGlzRGVmYXVsdClcbiAgICAgICAgICAgIC5zZXRJY29uKFwidHJhc2hcIilcbiAgICAgICAgICAgIC5zZXRUb29sdGlwKGlzRGVmYXVsdCA/IFwiQ2Fubm90IGRlbGV0ZSBkZWZhdWx0IHByb2ZpbGVcIiA6IFwiRGVsZXRlIHByb2ZpbGVcIilcbiAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvZmlsZXNbdGhpcy5kaXNwbGF5ZWRQcm9maWxlSWRdO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkUHJvZmlsZUlkID0gREVGQVVMVF9QUk9GSUxFO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJlbmRlclByb2ZpbGVTZXR0aW5ncyhwcm9maWxlOiBQcm9maWxlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMucHJvZmlsZUNvbnRhaW5lci5lbXB0eSgpO1xuXG4gICAgICAgIC8vIFByb2ZpbGUgTmFtZVxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLnByb2ZpbGVDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIlByb2ZpbGUgTmFtZVwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJOYW1lIG9mIHRoZSBwcm9maWxlXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUocHJvZmlsZS5uYW1lKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZS5uYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUHJvdmlkZXIgU2VsZWN0aW9uXG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMucHJvZmlsZUNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiQUkgUHJvdmlkZXJcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiQ2hvb3NlIHlvdXIgcHJlZmVycmVkIEFJIHByb3ZpZGVyXCIpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihQcm92aWRlclR5cGUuT0xMQU1BLCBcIk9sbGFtYVwiKVxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFByb3ZpZGVyVHlwZS5PUEVOQUksIFwiT3BlbkFJXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oUHJvdmlkZXJUeXBlLk9QRU5BSV9DT01QQVRJQkxFLCBcIk9wZW5BSSBDb21wYXRpYmxlXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShwcm9maWxlLnByb3ZpZGVyKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBQcm92aWRlclR5cGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGUucHJvdmlkZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQcm9maWxlU2V0dGluZ3MocHJvZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTW9kZWwgU2VsZWN0aW9uXG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMucHJvZmlsZUNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiTW9kZWxcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiU2VsZWN0IHRoZSBtb2RlbCB0byB1c2UgZm9yIGNvbXBsZXRpb25zXCIpXG4gICAgICAgICAgICAuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAuc2V0SWNvbihcInJlZnJlc2gtY2N3XCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRUb29sdGlwKFwiVXBkYXRlIG1vZGVsIGxpc3RcIilcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4ucHJvdmlkZXJGYWN0b3J5LnVwZGF0ZU1vZGVscyhwcm9maWxlLnByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJQcm9maWxlU2V0dGluZ3MocHJvZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKFwiTW9kZWwgbGlzdCB1cGRhdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oYXN5bmMgKGRyb3Bkb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWxzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzW3Byb2ZpbGUucHJvdmlkZXJdLm1vZGVscztcbiAgICAgICAgICAgICAgICBkcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9ucyhPYmplY3QuZnJvbUVudHJpZXMobW9kZWxzLm1hcCgobW9kZWwpID0+IFttb2RlbCwgbW9kZWxdKSkpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShwcm9maWxlLmNvbXBsZXRpb25PcHRpb25zLm1vZGVsKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlLmNvbXBsZXRpb25PcHRpb25zLm1vZGVsID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRlbXBlcmF0dXJlIFNldHRpbmdcbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5wcm9maWxlQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJUZW1wZXJhdHVyZVwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJDb250cm9sIHRoZSByYW5kb21uZXNzIG9mIGNvbXBsZXRpb25zICgwID0gZGV0ZXJtaW5pc3RpYywgMSA9IGNyZWF0aXZlKVwiKVxuICAgICAgICAgICAgLmFkZFNsaWRlcigoc2xpZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgc2xpZGVyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRMaW1pdHMoMCwgMSwgMC4xKVxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUocHJvZmlsZS5jb21wbGV0aW9uT3B0aW9ucy50ZW1wZXJhdHVyZSlcbiAgICAgICAgICAgICAgICAgICAgLnNldER5bmFtaWNUb29sdGlwKClcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZS5jb21wbGV0aW9uT3B0aW9ucy50ZW1wZXJhdHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3VnZ2VzdGlvbiBEZWxheVxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLnByb2ZpbGVDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIlN1Z2dlc3Rpb24gRGVsYXlcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiRGVsYXkgaW4gbWlsbGlzZWNvbmRzIGJlZm9yZSBmZXRjaGluZyBzdWdnZXN0aW9uc1wiKVxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cihcInR5cGVcIiwgXCJudW1iZXJcIik7XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCIxMDAwXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShTdHJpbmcocHJvZmlsZS5kZWxheU1zKSlcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZS5kZWxheU1zID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3BsaXQgU3RyYXRlZ3lcbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5wcm9maWxlQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJDb21wbGV0aW9uIFN0cmF0ZWd5XCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkNob29zZSBob3cgY29tcGxldGlvbnMgc2hvdWxkIGJlIHNwbGl0IGFuZCBhY2NlcHRlZFwiKVxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ3b3JkXCIsIFwiV29yZCBieSBXb3JkXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJzZW50ZW5jZVwiLCBcIlNlbnRlbmNlIGJ5IFNlbnRlbmNlXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJwYXJhZ3JhcGhcIiwgXCJQYXJhZ3JhcGggYnkgUGFyYWdyYXBoXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJmdWxsXCIsIFwiRnVsbCBDb21wbGV0aW9uXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShwcm9maWxlLnNwbGl0U3RyYXRlZ3kpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWU6IFNwbGl0U3RyYXRlZ3kpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGUuc3BsaXRTdHJhdGVneSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3lzdGVtIFByb21wdFxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLnByb2ZpbGVDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIlN5c3RlbSBQcm9tcHRcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiU2V0IHN5c3RlbSBwcm9tcHRcIilcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5yb3dzID0gMztcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0Q3NzU3R5bGVzKHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IFwidmVydGljYWxcIixcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUocHJvZmlsZS5jb21wbGV0aW9uT3B0aW9ucy5zeXN0ZW1Qcm9tcHQpLm9uQ2hhbmdlKFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGUuY29tcGxldGlvbk9wdGlvbnMuc3lzdGVtUHJvbXB0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBVc2VyIFByb21wdFxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLnByb2ZpbGVDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIlVzZXIgUHJvbXB0XCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlVzZXIgcHJvbXB0IHRlbXBsYXRlLlwiKVxuICAgICAgICAgICAgLmFkZEV4dHJhQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgLnNldEljb24oXCJsaXN0XCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRUb29sdGlwKFwiSW5zZXJ0IG11c3RhY2hlIHRlbXBsYXRlIHZhcmlhYmxlc1wiKVxuICAgICAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlLmNvbXBsZXRpb25PcHRpb25zLnVzZXJQcm9tcHQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRFTVBMQVRFX1ZBUklBQkxFUztcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGUuY29tcGxldGlvbk9wdGlvbnMudXNlclByb21wdCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyUHJvZmlsZVNldHRpbmdzKHByb2ZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwucm93cyA9IDM7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldENzc1N0eWxlcyh7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBcInZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHByb2ZpbGUuY29tcGxldGlvbk9wdGlvbnMudXNlclByb21wdCkub25DaGFuZ2UoXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZS5jb21wbGV0aW9uT3B0aW9ucy51c2VyUHJvbXB0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQYXRoIENvbmZpZ3MgU2VjdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5jbGFzcyBQYXRoQ29uZmlnc1NlY3Rpb24ge1xuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHBsdWdpbjogSW5zY3JpYmU7XG4gICAgcHJpdmF0ZSB0YWJsZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwbHVnaW46IEluc2NyaWJlKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy50YWJsZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5lbXB0eSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJQYXRoIENvbmZpZ3NcIiB9KTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuY3JlYXRlRWwoXCJwXCIsIHtcbiAgICAgICAgICAgIHRleHQ6IFwiWW91IGNhbiBhc3NpZ24gcHJvZmlsZXMgdG8gcGF0aHMuIFBhdGhzIGFyZSBtYXRjaGVkIGJ5IHByZWZpeCwgd2l0aCBsb25nZXIgcGF0aHMgdGFraW5nIHByZWNlZGVuY2UuIEZvciBleGFtcGxlLCAnL0RhaWx5JyB3aWxsIG1hdGNoIGFsbCBmaWxlcyBpbiB0aGUgRGFpbHkgZm9sZGVyLlwiXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlQ29udGFpbmVyKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJNYXBwaW5nc1RhYmxlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZW5kZXJNYXBwaW5nc1RhYmxlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLnRhYmxlQ29udGFpbmVyLmVtcHR5KCk7XG5cbiAgICAgICAgY29uc3QgdGFibGUgPSB0aGlzLnRhYmxlQ29udGFpbmVyLmNyZWF0ZUVsKFwidGFibGVcIiwgeyBjbHM6IFwibWFwcGluZy10YWJsZVwiIH0pO1xuICAgICAgICBjb25zdCBoZWFkZXIgPSB0YWJsZS5jcmVhdGVFbChcInRyXCIpO1xuICAgICAgICBoZWFkZXIuY3JlYXRlRWwoXCJ0aFwiLCB7IHRleHQ6IFwiUGF0aFwiIH0pO1xuICAgICAgICBoZWFkZXIuY3JlYXRlRWwoXCJ0aFwiLCB7IHRleHQ6IFwiUHJvZmlsZVwiIH0pO1xuICAgICAgICBoZWFkZXIuY3JlYXRlRWwoXCJ0aFwiLCB7IHRleHQ6IFwiXCIgfSk7XG4gICAgICAgIGhlYWRlci5jcmVhdGVFbChcInRoXCIsIHsgdGV4dDogXCJcIiB9KTtcblxuICAgICAgICAvLyBBZGQgTmV3IE1hcHBpbmcgUm93XG4gICAgICAgIGNvbnN0IG5ld1JvdyA9IHRhYmxlLmNyZWF0ZUVsKFwidHJcIiwgeyBjbHM6IFwibmV3LW1hcHBpbmctcm93XCIgfSk7XG4gICAgICAgIGxldCBwYXRoSW5wdXQgPSBcIlwiO1xuICAgICAgICBsZXQgc2VsZWN0ZWRQcm9maWxlID0gREVGQVVMVF9QUk9GSUxFO1xuXG4gICAgICAgIC8vIFBhdGggaW5wdXQgY2VsbFxuICAgICAgICBjb25zdCBwYXRoQ2VsbCA9IG5ld1Jvdy5jcmVhdGVFbChcInRkXCIpO1xuXG4gICAgICAgIG5ldyBUZXh0Q29tcG9uZW50KHBhdGhDZWxsKVxuICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgcGF0aCAoZS5nLiwgRGFpbHkvV29yaylcIilcbiAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBwYXRoSW5wdXQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFByb2ZpbGUgZHJvcGRvd24gY2VsbFxuICAgICAgICBjb25zdCBwcm9maWxlQ2VsbCA9IG5ld1Jvdy5jcmVhdGVFbChcInRkXCIpO1xuICAgICAgICBjb25zdCBwcm9maWxlRHJvcGRvd24gPSBuZXcgRHJvcGRvd25Db21wb25lbnQocHJvZmlsZUNlbGwpXG4gICAgICAgICAgICAuc2V0VmFsdWUoc2VsZWN0ZWRQcm9maWxlKTtcblxuICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9maWxlcykuZm9yRWFjaCgoW2lkLCBwcm9maWxlXSkgPT4ge1xuICAgICAgICAgICAgcHJvZmlsZURyb3Bkb3duLmFkZE9wdGlvbihpZCwgcHJvZmlsZS5uYW1lKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJvZmlsZURyb3Bkb3duLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgc2VsZWN0ZWRQcm9maWxlID0gdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBidXR0b24gY2VsbFxuICAgICAgICBuZXdSb3cuY3JlYXRlRWwoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgYWN0aW9uQ2VsbCA9IG5ld1Jvdy5jcmVhdGVFbChcInRkXCIpO1xuICAgICAgICBuZXcgRXh0cmFCdXR0b25Db21wb25lbnQoYWN0aW9uQ2VsbClcbiAgICAgICAgICAgIC5zZXRJY29uKFwicGx1c1wiKVxuICAgICAgICAgICAgLnNldFRvb2x0aXAoXCJBZGQgcHJvZmlsZSBtYXBwaW5nXCIpXG4gICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXRoSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShcIlBhdGggY2Fubm90IGJlIGVtcHR5XCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3JlYXRlUGF0aENvbmZpZyh0aGlzLnBsdWdpbi5zZXR0aW5ncywgcGF0aElucHV0LCBzZWxlY3RlZFByb2ZpbGUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBFeGlzdGluZyBNYXBwaW5nc1xuICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYXRoX2NvbmZpZ3MpLmZvckVhY2goKFtwYXRoLCBtYXBwaW5nXSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm93ID0gdGFibGUuY3JlYXRlRWwoXCJ0clwiKTtcbiAgICAgICAgICAgIGNvbnN0IGlzRGVmYXVsdE1hcHBpbmcgPSBwYXRoID09PSBERUZBVUxUX1BBVEg7XG4gICAgICAgICAgICByb3cuY3JlYXRlRWwoXCJ0ZFwiLCB7IHRleHQ6IGlzRGVmYXVsdE1hcHBpbmcgPyBcIlJvb3RcIiA6IHBhdGggfSk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBwcm9maWxlIGNlbGwgd2l0aCBkcm9wZG93blxuICAgICAgICAgICAgY29uc3QgcHJvZmlsZUNlbGwgPSByb3cuY3JlYXRlRWwoXCJ0ZFwiKTtcblxuICAgICAgICAgICAgLy8gRm9yIG90aGVyIG1hcHBpbmdzLCBzaG93IGVkaXRhYmxlIGRyb3Bkb3duXG4gICAgICAgICAgICBjb25zdCBwcm9maWxlRHJvcGRvd24gPSBuZXcgRHJvcGRvd25Db21wb25lbnQocHJvZmlsZUNlbGwpXG4gICAgICAgICAgICAgICAgLnNldERpc2FibGVkKGlzRGVmYXVsdE1hcHBpbmcpO1xuXG4gICAgICAgICAgICAvLyBBZGQgcHJvZmlsZSBvcHRpb25zXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9maWxlcykuZm9yRWFjaCgoW2lkLCBwcm9maWxlXSkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2ZpbGVEcm9wZG93bi5hZGRPcHRpb24oaWQsIHByb2ZpbGUubmFtZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvZmlsZURyb3Bkb3duLnNldFZhbHVlKG1hcHBpbmcucHJvZmlsZSk7XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZSBwcm9maWxlIGNoYW5nZVxuICAgICAgICAgICAgcHJvZmlsZURyb3Bkb3duLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVBhdGhDb25maWcodGhpcy5wbHVnaW4uc2V0dGluZ3MsIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBkZWxldGVDZWxsID0gcm93LmNyZWF0ZUVsKFwidGRcIik7XG4gICAgICAgICAgICBuZXcgRXh0cmFCdXR0b25Db21wb25lbnQoZGVsZXRlQ2VsbClcbiAgICAgICAgICAgICAgICAuc2V0SWNvbihcInRyYXNoXCIpXG4gICAgICAgICAgICAgICAgLnNldERpc2FibGVkKGlzRGVmYXVsdE1hcHBpbmcpXG4gICAgICAgICAgICAgICAgLnNldFRvb2x0aXAoXCJEZWxldGUgbWFwcGluZ1wiKVxuICAgICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucGx1Z2luLnNldHRpbmdzLnBhdGhfY29uZmlnc1twYXRoXTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBlbmFibGVkIGNoZWNrYm94IGNlbGxcbiAgICAgICAgICAgIGNvbnN0IGVuYWJsZWRDZWxsID0gcm93LmNyZWF0ZUVsKFwidGRcIik7XG4gICAgICAgICAgICBuZXcgVG9nZ2xlQ29tcG9uZW50KGVuYWJsZWRDZWxsKVxuICAgICAgICAgICAgICAgIC5zZXRUb29sdGlwKFwiRW5hYmxlL2Rpc2FibGUgbWFwcGluZ1wiKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShtYXBwaW5nLmVuYWJsZWQpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYXRoX2NvbmZpZ3NbcGF0aF0uZW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc3RhdHVzQmFySXRlbS5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIE5vdGljZSwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFByb3ZpZGVyVHlwZSB9IGZyb20gJ3NyYy9wcm92aWRlcnMnO1xuaW1wb3J0IEluc2NyaWJlIGZyb20gJ3NyYy9tYWluJztcblxuZXhwb3J0IGNsYXNzIFByb3ZpZGVyU2V0dGluZ3NNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwbHVnaW46IEluc2NyaWJlO1xuICAgIHByb3ZpZGVyVHlwZTogUHJvdmlkZXJUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogSW5zY3JpYmUsIHByb3ZpZGVyVHlwZTogUHJvdmlkZXJUeXBlKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLnByb3ZpZGVyVHlwZSA9IHByb3ZpZGVyVHlwZTtcbiAgICAgICAgdGhpcy5tb2RhbEVsLmFkZENsYXNzKCdpbnNjcmliZS1wcm92aWRlci1zZXR0aW5ncy1tb2RhbCcpO1xuICAgIH1cblxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm92aWRlclNldHRpbmdzKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyUHJvdmlkZXJTZXR0aW5ncygpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5wcm92aWRlclR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUHJvdmlkZXJUeXBlLk9MTEFNQTpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck9sbGFtYVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFByb3ZpZGVyVHlwZS5PUEVOQUk6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJPcGVuQUlTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQcm92aWRlclR5cGUuT1BFTkFJX0NPTVBBVElCTEU6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJPcGVuQUlDb21wYXRpYmxlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1Vua25vd24gcHJvdmlkZXIgdHlwZScgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyByZW5kZXJPbGxhbWFTZXR0aW5ncygpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgICAgICB0aGlzLnNldFRpdGxlKCdPbGxhbWEgU2V0dGluZ3MnKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIk9sbGFtYSBIb3N0XCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlRoZSBob3N0IG9mIHRoZSBPbGxhbWEgQVBJXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVycy5vbGxhbWEuaG9zdClcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9sbGFtYS5ob3N0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlbmRlckNvbm5lY3Rpb25TdGF0dXModGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9sbGFtYSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyT3BlbkFJU2V0dGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICAgICAgdGhpcy5zZXRUaXRsZSgnT3BlbkFJIFNldHRpbmdzJyk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJPcGVuQUkgQVBJIEtleVwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJUaGUgQVBJIGtleSBmb3IgT3BlbkFJXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVycy5vcGVuYWkuYXBpS2V5KVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcnMub3BlbmFpLmFwaUtleSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJDb25uZWN0aW9uU3RhdHVzKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVycy5vcGVuYWkpO1xuICAgIH1cblxuICAgIGFzeW5jIHJlbmRlck9wZW5BSUNvbXBhdGlibGVTZXR0aW5ncygpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgICAgICB0aGlzLnNldFRpdGxlKCdPcGVuQUkgQ29tcGF0aWJsZSBQcm92aWRlciBTZXR0aW5ncycpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcbiAgICAgICAgICAgIC5zZXROYW1lKFwiQVBJIEtleVwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJUaGUgQVBJIGtleSBmb3IgT3BlbkFJIENvbXBhdGlibGUgUHJvdmlkZXJcIilcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9wZW5haV9jb21wYXRpYmxlLmFwaUtleSlcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJzLm9wZW5haV9jb21wYXRpYmxlLmFwaUtleSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJCYXNlIFVSTFwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJUaGUgYmFzZSBVUkwgZm9yIE9wZW5BSSBDb21wYXRpYmxlIFByb3ZpZGVyXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVycy5vcGVuYWlfY29tcGF0aWJsZS5iYXNlVXJsKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcnMub3BlbmFpX2NvbXBhdGlibGUuYmFzZVVybCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJDb25uZWN0aW9uU3RhdHVzKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVycy5vcGVuYWlfY29tcGF0aWJsZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJDb25uZWN0aW9uU3RhdHVzKHByb3ZpZGVyOiB7IGNvbmZpZ3VyZWQ6IGJvb2xlYW4gfSkge1xuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRlbnRFbClcbiAgICAgICAgICAgIC5zZXROYW1lKFwiU3RhdHVzXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhgJHtwcm92aWRlci5jb25maWd1cmVkID8gJ1N1Y2Nlc3NmdWwnIDogJ0ZhaWxlZCd9YClcbiAgICAgICAgICAgIC5hZGRCdXR0b24oYnV0dG9uID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoYENvbm5lY3Rpb24gVGVzdGApXG4gICAgICAgICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXREaXNhYmxlZCh0cnVlKS5zZXRCdXR0b25UZXh0KCdUZXN0aW5nLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlci5jb25maWd1cmVkID0gYXdhaXQgdGhpcy5wbHVnaW4ucHJvdmlkZXJGYWN0b3J5LmNvbm5lY3Rpb25UZXN0KHRoaXMucHJvdmlkZXJUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShwcm92aWRlci5jb25maWd1cmVkID8gJ0Nvbm5lY3RlZCEnIDogJ0ZhaWxlZCB0byBjb25uZWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclByb3ZpZGVyU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgICAgICh0aGlzLnBsdWdpbi5hcHAgYXMgYW55KS5zZXR0aW5nPy5vcGVuVGFiQnlJZCh0aGlzLnBsdWdpbi5tYW5pZmVzdC5pZCk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBcHAgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IElubGluZUNvbXBsZXRpb25PcHRpb25zIH0gZnJvbSBcInNyYy9leHRlbnNpb25cIjtcbmltcG9ydCBJbnNjcmliZSBmcm9tIFwic3JjL21haW5cIjtcbmltcG9ydCB7IERFRkFVTFRfUEFUSCwgREVGQVVMVF9QUk9GSUxFLCBmaW5kUGF0aENvbmZpZywgUGF0aENvbmZpZywgUHJvZmlsZSwgU2V0dGluZ3MgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzXCI7XG5cbi8vIFByb2ZpbGVTZXJ2aWNlIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciB0cmFja2luZyB0aGUgYWN0aXZlIHByb2ZpbGUgYmFzZWQgb24gdGhlIGN1cnJlbnQgZmlsZSBwYXRoLlxuZXhwb3J0IGNsYXNzIFByb2ZpbGVTZXJ2aWNlIHtcbiAgICBwcml2YXRlIHBsdWdpbjogSW5zY3JpYmU7XG4gICAgcHJpdmF0ZSBhY3RpdmVQcm9maWxlOiBQcm9maWxlO1xuICAgIHByaXZhdGUgYWN0aXZlUGF0aDogc3RyaW5nO1xuICAgIHByaXZhdGUgYXBwOiBBcHA7XG4gICAgcHJpdmF0ZSBzZXR0aW5nczogU2V0dGluZ3M7XG4gICAgcHJpdmF0ZSBpbmxpbmVTdWdnZXN0aW9uT3B0aW9uczogSW5saW5lQ29tcGxldGlvbk9wdGlvbnMgPSB7IGRlbGF5TXM6IDMwMCwgc3BsaXRTdHJhdGVneTogXCJzZW50ZW5jZVwiIH07XG4gICAgcHJpdmF0ZSBwcm9maWxlQ2hhbmdlQ2FsbGJhY2tzOiAoKHByb2ZpbGU6IFByb2ZpbGUpID0+IHZvaWQpW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogSW5zY3JpYmUpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMuYXBwID0gdGhpcy5wbHVnaW4uYXBwO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3M7XG4gICAgICAgIHRoaXMudXBkYXRlKHRoaXMuZ2V0QWN0aXZlRmlsZVBhdGgoKSk7XG5cbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKCdmaWxlLW9wZW4nLCAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFmaWxlKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShmaWxlLnBhdGgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRBY3RpdmVQcm9maWxlKCk6IFByb2ZpbGUge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVQcm9maWxlO1xuICAgIH1cblxuICAgIGdldEFjdGl2ZVBhdGgoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlUGF0aDtcbiAgICB9XG5cbiAgICBnZXRBY3RpdmVQYXRoQ29uZmlnKCk6IFBhdGhDb25maWcge1xuICAgICAgICByZXR1cm4gZmluZFBhdGhDb25maWcodGhpcy5zZXR0aW5ncywgdGhpcy5hY3RpdmVQYXRoKTtcbiAgICB9XG5cbiAgICBnZXRPcHRpb25zKCk6IElubGluZUNvbXBsZXRpb25PcHRpb25zIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRlbGF5TXM6IHRoaXMuYWN0aXZlUHJvZmlsZS5kZWxheU1zLFxuICAgICAgICAgICAgc3BsaXRTdHJhdGVneTogdGhpcy5hY3RpdmVQcm9maWxlLnNwbGl0U3RyYXRlZ3lcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBvblByb2ZpbGVDaGFuZ2UoY2FsbGJhY2s6IChwcm9maWxlOiBQcm9maWxlKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMucHJvZmlsZUNoYW5nZUNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZShmaWxlUGF0aDogc3RyaW5nKSB7XG4gICAgICAgIFt0aGlzLmFjdGl2ZVBhdGgsIHRoaXMuYWN0aXZlUHJvZmlsZV0gPSB0aGlzLnJlc29sdmVQcm9maWxlRnJvbVBhdGgoZmlsZVBhdGgpO1xuICAgICAgICB0aGlzLnByb2ZpbGVDaGFuZ2VDYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYih0aGlzLmFjdGl2ZVByb2ZpbGUpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEFjdGl2ZUZpbGVQYXRoKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUVkaXRvciA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I7XG4gICAgICAgIGlmICghYWN0aXZlRWRpdG9yKSByZXR1cm4gXCJcIjtcbiAgICAgICAgaWYgKCFhY3RpdmVFZGl0b3IuZmlsZSkgcmV0dXJuIFwiXCI7XG4gICAgICAgIHJldHVybiBhY3RpdmVFZGl0b3IuZmlsZS5wYXRoO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzb2x2ZVByb2ZpbGVGcm9tUGF0aChmaWxlUGF0aDogc3RyaW5nKTogW3N0cmluZywgUHJvZmlsZV0ge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MucGF0aF9jb25maWdzIHx8IE9iamVjdC5rZXlzKHRoaXMuc2V0dGluZ3MucGF0aF9jb25maWdzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbREVGQVVMVF9QQVRILCB0aGlzLnNldHRpbmdzLnByb2ZpbGVzW0RFRkFVTFRfUFJPRklMRV1dO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBmaWxlUGF0aC5yZXBsYWNlKC9eXFwvK3xcXC8rJC9nLCAnJyk7XG4gICAgICAgIGxldCBsb25nZXN0TWF0Y2ggPSAnJztcbiAgICAgICAgbGV0IG1hdGNoZWRQcm9maWxlID0gREVGQVVMVF9QUk9GSUxFO1xuICAgICAgICBsZXQgcGF0aE1hcHBpbmcgPSAnLyc7XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5zZXR0aW5ncy5wYXRoX2NvbmZpZ3MpLmZvckVhY2goKFtwYXRoLCBtYXBwaW5nXSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZE1hcHBpbmdQYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwvK3xcXC8rJC9nLCAnJyk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFBhdGguc3RhcnRzV2l0aChub3JtYWxpemVkTWFwcGluZ1BhdGgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRNYXBwaW5nUGF0aC5sZW5ndGggPiBsb25nZXN0TWF0Y2gubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvbmdlc3RNYXRjaCA9IG5vcm1hbGl6ZWRNYXBwaW5nUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFByb2ZpbGUgPSBtYXBwaW5nLnByb2ZpbGU7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhNYXBwaW5nID0gcGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBbcGF0aE1hcHBpbmcsIHRoaXMuc2V0dGluZ3MucHJvZmlsZXNbbWF0Y2hlZFByb2ZpbGVdXTtcbiAgICB9XG5cbiAgICBvbnVubG9hZCgpIHtcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9mZignZmlsZS1vcGVuJywgdGhpcy51cGRhdGUpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQXBwLCBFZGl0b3IgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFByb2ZpbGVTZXJ2aWNlIH0gZnJvbSBcInNyYy9wcm9maWxlL3NlcnZpY2VcIjtcbmltcG9ydCB7IFByb3ZpZGVyRmFjdG9yeSB9IGZyb20gXCJzcmMvcHJvdmlkZXJzL2ZhY3RvcnlcIjtcbmltcG9ydCB7IFN1Z2dlc3Rpb24gfSBmcm9tIFwic3JjL2V4dGVuc2lvblwiO1xuaW1wb3J0IHsgQ29tcGxldGlvbk9wdGlvbnMsIFNldHRpbmdzIH0gZnJvbSBcInNyYy9zZXR0aW5ncy9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwic3JjL3Byb3ZpZGVycy9wcm92aWRlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wbGV0aW9uU2VydmljZSB7XG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcbiAgICBwcml2YXRlIHNldHRpbmdzOiBTZXR0aW5ncztcbiAgICBwcml2YXRlIHByb2ZpbGVTZXJ2aWNlOiBQcm9maWxlU2VydmljZTtcbiAgICBwcml2YXRlIHByb3ZpZGVyRmFjdG9yeTogUHJvdmlkZXJGYWN0b3J5O1xuICAgIHByaXZhdGUgY29tcGxldGlvblN0YXR1c0xpc3RlbmVyczogKChpc0dlbmVyYXRpbmc6IGJvb2xlYW4pID0+IHZvaWQpW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBhcHA6IEFwcCxcbiAgICAgICAgc2V0dGluZ3M6IFNldHRpbmdzLFxuICAgICAgICBwcm9maWxlU2VydmljZTogUHJvZmlsZVNlcnZpY2UsXG4gICAgICAgIHByb3ZpZGVyRmFjdG9yeTogUHJvdmlkZXJGYWN0b3J5LFxuICAgICkge1xuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLnByb2ZpbGVTZXJ2aWNlID0gcHJvZmlsZVNlcnZpY2U7XG4gICAgICAgIHRoaXMucHJvdmlkZXJGYWN0b3J5ID0gcHJvdmlkZXJGYWN0b3J5O1xuICAgIH1cblxuICAgIGFzeW5jICpmZXRjaENvbXBsZXRpb24oKTogQXN5bmNHZW5lcmF0b3I8U3VnZ2VzdGlvbj4ge1xuICAgICAgICBpZiAoIXRoaXMuY29tcGxldGlvbkVuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBhY3RpdmVFZGl0b3IgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yO1xuICAgICAgICBpZiAoIWFjdGl2ZUVkaXRvcikgcmV0dXJuO1xuICAgICAgICBpZiAoIWFjdGl2ZUVkaXRvci5lZGl0b3IpIHJldHVybjtcblxuICAgICAgICBjb25zdCBwcm9maWxlID0gdGhpcy5wcm9maWxlU2VydmljZS5nZXRBY3RpdmVQcm9maWxlKCk7XG5cbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLnByb3ZpZGVyRmFjdG9yeS5nZXRQcm92aWRlcihwcm9maWxlLnByb3ZpZGVyKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHByb2ZpbGUuY29tcGxldGlvbk9wdGlvbnM7XG5cbiAgICAgICAgeWllbGQqIHRoaXMuY29tcGxldGUoYWN0aXZlRWRpdG9yLmVkaXRvciwgcHJvdmlkZXIsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIG9uQ29tcGxldGlvblN0YXR1c0NoYW5nZShsaXN0ZW5lcjogKGlzR2VuZXJhdGluZzogYm9vbGVhbikgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLmNvbXBsZXRpb25TdGF0dXNMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgY29tcGxldGlvbkVuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmVuYWJsZWQgJiYgdGhpcy5wcm9maWxlU2VydmljZS5nZXRBY3RpdmVQYXRoQ29uZmlnKCkuZW5hYmxlZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG5vdGlmeUNvbXBsZXRpb25TdGF0dXMoaXNHZW5lcmF0aW5nOiBib29sZWFuKSB7XG4gICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5jb21wbGV0aW9uU3RhdHVzTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihpc0dlbmVyYXRpbmcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyAqY29tcGxldGUoZWRpdG9yOiBFZGl0b3IsIHByb3ZpZGVyOiBQcm92aWRlciwgb3B0aW9uczogQ29tcGxldGlvbk9wdGlvbnMpOiBBc3luY0dlbmVyYXRvcjxTdWdnZXN0aW9uPiB7XG4gICAgICAgIGF3YWl0IHByb3ZpZGVyLmFib3J0KCk7XG5cbiAgICAgICAgY29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgICAgICBjb25zdCBjdXJyZW50TGluZSA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRMaW5lLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGxhc3RDaGFyID0gY3VycmVudExpbmVbY3Vyc29yLmNoIC0gMV07XG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gXCIgXCIpIHJldHVybjtcblxuICAgICAgICB0aGlzLm5vdGlmeUNvbXBsZXRpb25TdGF0dXModHJ1ZSk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgdGV4dCBvZiBwcm92aWRlci5nZW5lcmF0ZShlZGl0b3IsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICB5aWVsZCB7IHRleHQgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vdGlmeUNvbXBsZXRpb25TdGF0dXMoZmFsc2UpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBNZW51LCBzZXRJY29uLCBzZXRUb29sdGlwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IEluc2NyaWJlIGZyb20gJy4uL21haW4nO1xuaW1wb3J0IHsgUHJvZmlsZVNlcnZpY2UgfSBmcm9tICdzcmMvcHJvZmlsZS9zZXJ2aWNlJztcbmltcG9ydCBDb21wbGV0aW9uU2VydmljZSBmcm9tICdzcmMvY29tcGxldGlvbnMvc2VydmljZSc7XG5pbXBvcnQgeyBmaW5kUGF0aENvbmZpZyB9IGZyb20gJ3NyYy9zZXR0aW5ncyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXR1c0Jhckl0ZW0ge1xuICAgIHByaXZhdGUgcGx1Z2luOiBJbnNjcmliZTtcbiAgICBwcml2YXRlIHN0YXR1c0Jhckl0ZW06IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcHJvZmlsZVNlcnZpY2U6IFByb2ZpbGVTZXJ2aWNlO1xuICAgIHByaXZhdGUgY29tcGxldGlvblNlcnZpY2U6IENvbXBsZXRpb25TZXJ2aWNlO1xuICAgIHByaXZhdGUgaXNHZW5lcmF0aW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IEluc2NyaWJlLCBwcm9maWxlU2VydmljZTogUHJvZmlsZVNlcnZpY2UsIGNvbXBsZXRpb25TZXJ2aWNlOiBDb21wbGV0aW9uU2VydmljZSkge1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5wcm9maWxlU2VydmljZSA9IHByb2ZpbGVTZXJ2aWNlO1xuICAgICAgICB0aGlzLmNvbXBsZXRpb25TZXJ2aWNlID0gY29tcGxldGlvblNlcnZpY2U7XG5cbiAgICAgICAgdGhpcy5wcm9maWxlU2VydmljZS5vblByb2ZpbGVDaGFuZ2UodGhpcy5oYW5kbGVQcm9maWxlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbXBsZXRpb25TZXJ2aWNlLm9uQ29tcGxldGlvblN0YXR1c0NoYW5nZSh0aGlzLmhhbmRsZUNvbXBsZXRpb25TdGF0dXNDaGFuZ2UuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5zdGF0dXNCYXJJdGVtID0gdGhpcy5jcmVhdGVTdGF0dXNCYXJJdGVtKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5pc0dlbmVyYXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICBzZXRUb29sdGlwKHRoaXMuc3RhdHVzQmFySXRlbSwgJ0luc2NyaWJpbmcuLi4nLCB7IHBsYWNlbWVudDogJ3RvcCcgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29tcGxldGlvblNlcnZpY2UuY29tcGxldGlvbkVuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5yZW1vdmVDbGFzcygnY29tcGxldGlvbi1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvZmlsZSh0aGlzLnByb2ZpbGVTZXJ2aWNlLmdldEFjdGl2ZVByb2ZpbGUoKS5uYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNCYXJJdGVtLmFkZENsYXNzKCdjb21wbGV0aW9uLWRpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgc2V0VG9vbHRpcCh0aGlzLnN0YXR1c0Jhckl0ZW0sIGBDb21wbGV0aW9uIGRpc2FibGVkYCwgeyBwbGFjZW1lbnQ6ICd0b3AnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTdGF0dXNCYXJJdGVtKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMucGx1Z2luLmFkZFN0YXR1c0Jhckl0ZW0oKTtcbiAgICAgICAgc2V0SWNvbihpdGVtLCAnZmVhdGhlcicpO1xuICAgICAgICBpdGVtLmFkZENsYXNzZXMoWydzdGF0dXMtYmFyLWl0ZW0taWNvbicsIGBtb2QtY2xpY2thYmxlYF0pO1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kaXNwbGF5Q29udGV4dE1lbnUuYmluZCh0aGlzKSk7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGlzcGxheUNvbnRleHRNZW51KGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xuICAgICAgICBjb25zdCBnbG9iYWxDb21wbGV0aW9uRW5hYmxlZCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZWQ7XG4gICAgICAgIGNvbnN0IHBhdGhDb21wbGV0aW9uRW5hYmxlZCA9IHRoaXMucHJvZmlsZVNlcnZpY2UuZ2V0QWN0aXZlUGF0aENvbmZpZygpLmVuYWJsZWQ7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLnByb2ZpbGVTZXJ2aWNlLmdldEFjdGl2ZVBhdGgoKTtcbiAgICAgICAgY29uc3QgcHJvZmlsZSA9IHRoaXMucHJvZmlsZVNlcnZpY2UuZ2V0QWN0aXZlUHJvZmlsZSgpO1xuXG4gICAgICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbS5zZXRUaXRsZShgUHJvZmlsZTogJHtwcm9maWxlLm5hbWV9YCkuc2V0SXNMYWJlbCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbS5zZXRUaXRsZShgJHtwYXRoQ29tcGxldGlvbkVuYWJsZWQgPyAnRGlzYWJsZScgOiAnRW5hYmxlJ30gdGhpcyBwYXRoOiB7JHtwYXRofV19YClcbiAgICAgICAgICAgICAgICAuc2V0Q2hlY2tlZChwYXRoQ29tcGxldGlvbkVuYWJsZWQpXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoQ29uZmlnID0gZmluZFBhdGhDb25maWcodGhpcy5wbHVnaW4uc2V0dGluZ3MsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBwYXRoQ29uZmlnLmVuYWJsZWQgPSAhcGF0aENvbXBsZXRpb25FbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbS5zZXRUaXRsZShgJHtnbG9iYWxDb21wbGV0aW9uRW5hYmxlZCA/ICdEaXNhYmxlJyA6ICdFbmFibGUnfSBnbG9iYWxseWApXG4gICAgICAgICAgICAgICAgLnNldENoZWNrZWQoZ2xvYmFsQ29tcGxldGlvbkVuYWJsZWQpXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVkID0gIWdsb2JhbENvbXBsZXRpb25FbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1lbnUuYWRkU2VwYXJhdG9yKCk7XG4gICAgICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbS5zZXRUaXRsZShcIk9wZW4gc2V0dGluZ3NcIilcbiAgICAgICAgICAgICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmcgPSAodGhpcy5wbHVnaW4uYXBwIGFzIGFueSkuc2V0dGluZztcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZy5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcub3BlblRhYkJ5SWQodGhpcy5wbHVnaW4ubWFuaWZlc3QuaWQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVDb21wbGV0aW9uU3RhdHVzQ2hhbmdlKGlzR2VuZXJhdGluZzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmlzR2VuZXJhdGluZyA9IGlzR2VuZXJhdGluZztcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVByb2ZpbGVDaGFuZ2UocHJvZmlsZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVQcm9maWxlKHByb2ZpbGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBzZXRUb29sdGlwKHRoaXMuc3RhdHVzQmFySXRlbSwgYFByb2ZpbGU6ICR7cHJvZmlsZX1gLCB7IHBsYWNlbWVudDogJ3RvcCcgfSk7XG4gICAgfVxufSAiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUF1Qjs7O0FDVXZCLGtCQU9PO0FBQ1AsbUJBUU87QUFxRFAsSUFBTSxzQkFBc0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS3hCLE1BQU0sQ0FBQyxTQUFpQjtBQUNwQixVQUFNLFlBQVksS0FBSyxRQUFRLEdBQUc7QUFDbEMsV0FBTyxjQUFjLEtBQ2YsRUFBRSxVQUFVLE1BQU0sV0FBVyxHQUFHLElBQ2hDO0FBQUEsTUFDRSxVQUFVLEtBQUssTUFBTSxHQUFHLFlBQVksQ0FBQztBQUFBLE1BQ3JDLFdBQVcsS0FBSyxNQUFNLFlBQVksQ0FBQztBQUFBLElBQ3ZDO0FBQUEsRUFDUjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsVUFBVSxDQUFDLFNBQWlCO0FBQ3hCLFVBQU1DLFNBQVEsS0FBSyxNQUFNLFVBQVU7QUFDbkMsUUFBSUEsVUFBU0EsT0FBTSxVQUFVLFFBQVc7QUFDcEMsYUFBTztBQUFBLFFBQ0gsVUFBVSxLQUFLLE1BQU0sR0FBR0EsT0FBTSxRQUFRLENBQUM7QUFBQSxRQUN2QyxXQUFXLEtBQUssTUFBTUEsT0FBTSxRQUFRLENBQUM7QUFBQSxNQUN6QztBQUFBLElBQ0o7QUFDQSxXQUFPLEVBQUUsVUFBVSxNQUFNLFdBQVcsR0FBRztBQUFBLEVBQzNDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxXQUFXLENBQUMsU0FBaUI7QUFDekIsVUFBTSxlQUFlLEtBQUssUUFBUSxNQUFNO0FBQ3hDLFdBQU8saUJBQWlCLEtBQ2xCLEVBQUUsVUFBVSxNQUFNLFdBQVcsR0FBRyxJQUNoQztBQUFBLE1BQ0UsVUFBVSxLQUFLLE1BQU0sR0FBRyxlQUFlLENBQUM7QUFBQSxNQUN4QyxXQUFXLEtBQUssTUFBTSxlQUFlLENBQUM7QUFBQSxJQUMxQztBQUFBLEVBQ1I7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0sQ0FBQyxVQUFrQixFQUFFLFVBQVUsTUFBTSxXQUFXLEdBQUc7QUFDN0Q7QUFVQSxJQUFNLHlCQUF5Qix5QkFBWSxPQUl4QztBQUtILElBQU0seUJBQXlCLHdCQUFXLE9BQTBCO0FBQUEsRUFDaEUsUUFBUSxNQUFNLGdCQUFnQjtBQUFBLEVBRTlCLE9BQU8sU0FBUyxhQUFhO0FBRXpCLFVBQU0sU0FBUyxZQUFZLFFBQVE7QUFBQSxNQUFLLENBQUNDLE9BQ3JDQSxHQUFFLEdBQUcsc0JBQXNCO0FBQUEsSUFDL0I7QUFDQSxRQUFJO0FBQVEsYUFBTyx3QkFBd0IsT0FBTyxLQUFLO0FBR3ZELFFBQ0ksWUFBWSxjQUNaLFFBQVEsaUJBQ1IsUUFBUSxtQkFBbUIsTUFDN0I7QUFDRSxhQUFPLDhCQUE4QixTQUFTLFdBQVc7QUFBQSxJQUM3RDtBQUdBLFFBQUksUUFBUSxrQkFBa0IsUUFBUSxRQUFRLG1CQUFtQixNQUFNO0FBQ25FLGFBQU8sMkJBQTJCLFNBQVMsV0FBVztBQUFBLElBQzFEO0FBRUEsV0FBTztBQUFBLEVBQ1g7QUFDSixDQUFDO0FBS0QsU0FBUyxrQkFBcUM7QUFDMUMsU0FBTztBQUFBLElBQ0gsVUFBVTtBQUFBLElBQ1YsZUFBZTtBQUFBLElBQ2Ysa0JBQWtCO0FBQUEsSUFDbEIsZ0JBQWdCO0FBQUEsRUFDcEI7QUFDSjtBQUtBLFNBQVMsd0JBQXdCLFFBSVg7QUFDbEIsU0FBTyxPQUFPLFlBQVksT0FDcEIsZ0JBQWdCLElBQ2hCLGtCQUFrQixNQUluQjtBQUNUO0FBS0EsU0FBUyxrQkFBa0IsUUFJTDtBQUNsQixTQUFPO0FBQUEsSUFDSCxVQUFVLE9BQU87QUFBQSxJQUNqQixlQUFlLE9BQU87QUFBQSxJQUN0QixrQkFBa0IsT0FBTztBQUFBLElBQ3pCLGdCQUFnQixPQUFPO0FBQUEsRUFDM0I7QUFDSjtBQUtBLFNBQVMsOEJBQ0wsU0FDQSxhQUNpQjtBQUNqQixNQUFJLGtCQUFrQjtBQUN0QixNQUFJLG9CQUFvQjtBQUd4QixjQUFZLFFBQVEsWUFBWSxDQUFDLE9BQU8sS0FBSyxRQUFRLE1BQU0sYUFBYTtBQUNwRSxRQUFJLFVBQVUsUUFBUSxrQkFBa0IsUUFBUSxPQUFPO0FBQ25ELHdCQUFrQixTQUFTLFNBQVM7QUFDcEMsMEJBQW9CO0FBQUEsSUFDeEI7QUFBQSxFQUNKLENBQUM7QUFFRCxNQUFJLENBQUMscUJBQXFCLENBQUMsUUFBUSxlQUFlO0FBQzlDLFdBQU8sa0JBQWtCLE9BQU87QUFBQSxFQUNwQztBQUdBLE1BQUksUUFBUSxjQUFjLFdBQVcsZUFBZSxHQUFHO0FBQ25ELFdBQU8sZUFBZSxTQUFTLGdCQUFnQixNQUFNO0FBQUEsRUFDekQ7QUFFQSxTQUFPLGtCQUFrQixPQUFPO0FBQ3BDO0FBS0EsU0FBUyxlQUNMLFNBQ0EsZ0JBQ2lCO0FBQ2pCLFNBQU87QUFBQSxJQUNILEdBQUc7QUFBQSxJQUNILGVBQ0ksUUFBUSxjQUFlLE1BQU0sY0FBYyxFQUFFLFNBQVMsSUFDaEQsUUFBUSxjQUFlLE1BQU0sY0FBYyxJQUMzQztBQUFBLElBQ1YsZ0JBQWdCLFFBQVEsaUJBQWtCO0FBQUEsRUFDOUM7QUFDSjtBQUtBLFNBQVMsa0JBQWtCLFNBQStDO0FBQ3RFLFNBQU87QUFBQSxJQUNILEdBQUc7QUFBQSxJQUNILGVBQWU7QUFBQSxJQUNmLGdCQUFnQjtBQUFBLEVBQ3BCO0FBQ0o7QUFLQSxTQUFTLDJCQUNMLFNBQ0EsYUFDaUI7QUFDakIsU0FBTyxZQUFZLE1BQU0sVUFBVSxLQUFLLFNBQVMsUUFBUSxpQkFDbkQsa0JBQWtCLE9BQU8sSUFDekI7QUFDVjtBQVNBLElBQU0sb0JBQU4sY0FBK0IsdUJBQVc7QUFBQSxFQUl0QyxZQUE2QixTQUFpQjtBQUMxQyxVQUFNO0FBRG1CO0FBQUEsRUFFN0I7QUFBQSxFQUVBLFFBQXFCO0FBQ2pCLFVBQU0sT0FBTyxTQUFTLGNBQWMsTUFBTTtBQUMxQyxTQUFLLFlBQVksa0JBQWlCO0FBQ2xDLFNBQUssTUFBTSxVQUFVLGtCQUFpQixRQUFRLFNBQVM7QUFDdkQsU0FBSyxjQUFjLEtBQUs7QUFDeEIsV0FBTztBQUFBLEVBQ1g7QUFDSjtBQWZBLElBQU0sbUJBQU47QUFBTSxpQkFDYyxVQUFVO0FBRHhCLGlCQUVjLFlBQVk7QUFrQmhDLElBQU0scUJBQXFCLHVCQUFXO0FBQUEsRUFDbEMsTUFBTTtBQUFBLElBQU47QUFDSSx5QkFBYyx1QkFBVztBQUFBO0FBQUEsSUFFekIsT0FBTyxRQUFvQjtBQUN2QixZQUFNLFVBQVUsT0FBTyxNQUFNLE1BQU0sc0JBQXNCO0FBQ3pELFdBQUssY0FBYyxRQUFRLGdCQUNyQixLQUFLLGlCQUFpQixPQUFPLE1BQU0sUUFBUSxhQUFhLElBQ3hELHVCQUFXO0FBQUEsSUFDckI7QUFBQSxJQUVRLGlCQUFpQixNQUFrQixnQkFBd0I7QUFDL0QsWUFBTSxpQkFBaUIsS0FBSyxNQUFNLFVBQVUsS0FBSztBQUNqRCxhQUFPLHVCQUFXLElBQUk7QUFBQSxRQUNsQix1QkFBVyxPQUFPO0FBQUEsVUFDZCxRQUFRLElBQUksaUJBQWlCLGNBQWM7QUFBQSxVQUMzQyxNQUFNO0FBQUEsUUFDVixDQUFDLEVBQUUsTUFBTSxjQUFjO0FBQUEsTUFDM0IsQ0FBQztBQUFBLElBQ0w7QUFBQSxFQUNKO0FBQUEsRUFDQSxFQUFFLGFBQWEsQ0FBQyxNQUFNLEVBQUUsWUFBWTtBQUN4QztBQVlBLElBQU0seUJBQXlCLENBQzNCQyxRQUNBLGFBQ0M7QUFDRCxNQUFJLGdCQUFnQjtBQUNwQixNQUFJO0FBS0osUUFBTSxpQkFBaUIsaUJBQWlCLE9BQW9CO0FBQ3hELGlCQUFhLFNBQVM7QUFDdEIsb0JBQWdCO0FBQ2hCLFVBQU0sSUFBSSxRQUFRLENBQUNDLGFBQVk7QUFDM0Isa0JBQVksV0FBV0EsVUFBUyxTQUFTLENBQUM7QUFBQSxJQUM5QyxDQUFDO0FBQ0QsUUFBSTtBQUFlLGFBQU9ELE9BQU0sS0FBSztBQUFBLEVBQ3pDO0FBS0EsUUFBTSxnQkFBZ0IsdUJBQVc7QUFBQSxJQUM3QixNQUFNO0FBQUEsTUFBTjtBQUNJLGFBQVEsbUJBQW1CO0FBQUE7QUFBQSxNQUUzQixNQUFNLE9BQU8sUUFBb0I7QUFDN0IsY0FBTSxRQUFRLE9BQU87QUFFckIsWUFBSSxDQUFDLE9BQU8sY0FBYyxNQUFNLE1BQU0sc0JBQXNCLEVBQUU7QUFDMUQ7QUFFSixjQUFNLFlBQVksRUFBRSxLQUFLO0FBQ3pCLHlCQUFpQixjQUFjLGVBQWUsS0FBSyxHQUFHO0FBRWxELGNBQUksY0FBYyxLQUFLO0FBQWtCO0FBQ3pDLGlCQUFPLEtBQUssU0FBUztBQUFBLFlBQ2pCLFNBQVMsdUJBQXVCLEdBQUc7QUFBQSxjQUMvQixTQUFTLFdBQVc7QUFBQSxjQUNwQixVQUFVLE1BQU07QUFBQSxjQUNoQixRQUFRLE1BQU0sVUFBVSxLQUFLO0FBQUEsWUFDakMsQ0FBQztBQUFBLFVBQ0wsQ0FBQztBQUFBLFFBQ0w7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFFQSxTQUFPO0FBQUEsSUFDSDtBQUFBLElBQ0EsV0FBVyxNQUFNO0FBQ2Isc0JBQWdCO0FBQ2hCLG1CQUFhLFNBQVM7QUFBQSxJQUMxQjtBQUFBLEVBQ0o7QUFDSjtBQWFBLElBQU0sMEJBQTBCLENBQzVCLGdCQUNBLFFBQ0EsZUFFQSxrQkFBSztBQUFBLEVBQ0QsbUJBQU8sR0FBRztBQUFBLElBQ047QUFBQSxNQUNJLEtBQUs7QUFBQSxNQUNMLEtBQUssQ0FBQyxTQUFxQjtBQXphM0MsWUFBQUU7QUEwYW9CLGNBQU0sVUFBVSxLQUFLLE1BQU0sTUFBTSxzQkFBc0I7QUFDdkQsWUFBSSxDQUFDLFFBQVE7QUFBZSxpQkFBTztBQUduQyxjQUFNLGlCQUFpQixXQUFXO0FBQ2xDLGNBQU0sbUJBQWtCQSxNQUFBLGVBQWUsa0JBQWYsT0FBQUEsTUFBZ0M7QUFDeEQsY0FBTSxFQUFFLFVBQVUsVUFBVSxJQUN4QixvQkFBb0IsZUFBZSxFQUFFLFFBQVEsYUFBYTtBQUU5RCxZQUFJLENBQUM7QUFBVSxpQkFBTztBQUd0QixhQUFLLFNBQVM7QUFBQSxVQUNWLEdBQUcsaUJBQWlCLEtBQUssT0FBTyxRQUFRO0FBQUEsVUFDeEMsU0FBUyx1QkFBdUIsR0FBRztBQUFBLFlBQy9CLFNBQVMsYUFBYTtBQUFBLFlBQ3RCLFVBQVUsWUFBWSxRQUFRLG1CQUFtQjtBQUFBLFlBQ2pELFFBQVEsWUFBWSxRQUFRLGlCQUFrQixTQUFTLFNBQVM7QUFBQSxVQUNwRSxDQUFDO0FBQUEsUUFDTCxDQUFDO0FBRUQsWUFBSSxDQUFDO0FBQVcseUJBQWU7QUFDL0IsZUFBTztBQUFBLE1BQ1g7QUFBQSxJQUNKO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFLSixJQUFNLG1CQUFtQixDQUFDLE9BQW9CLFNBQWlCO0FBQzNELFFBQU0sWUFBWSxNQUFNLFVBQVUsS0FBSztBQUN2QyxTQUFPO0FBQUEsSUFDSCxHQUFHLE1BQU0sY0FBYyxPQUFPO0FBQUEsTUFDMUIsU0FBUyxFQUFFLE1BQU0sV0FBVyxRQUFRLEtBQUs7QUFBQSxNQUN6QyxPQUFPLDZCQUFnQixPQUFPLFlBQVksS0FBSyxNQUFNO0FBQUEsSUFDekQsRUFBRTtBQUFBLElBQ0YsV0FBVztBQUFBLEVBQ2Y7QUFDSjtBQWFPLFNBQVMsa0JBQWtCLFFBQWdDO0FBQzlELFFBQU0sRUFBRSxXQUFXLFdBQVcsSUFBSTtBQUVsQyxRQUFNLGVBQWUsT0FBTyxvQkFBb0I7QUFHaEQsUUFBTSxpQkFBaUIsaUJBQWlCLE9BQW9CO0FBQ3hELFVBQU0sU0FBUyxNQUFNLFVBQVUsS0FBSztBQUNwQyxRQUFJLE9BQU8saUJBQWlCLFFBQVE7QUFDaEMsYUFBTztBQUFBLElBQ1gsT0FBTztBQUNILFlBQU07QUFBQSxJQUNWO0FBQUEsRUFDSjtBQUdBLFFBQU0sV0FBVyxNQUFHO0FBL2V4QixRQUFBQTtBQStlMkIsWUFBQUEsTUFBQSxXQUFXLEVBQUUsWUFBYixPQUFBQSxNQUF3QjtBQUFBO0FBQy9DLFFBQU0sRUFBRSxlQUFlLFVBQVUsSUFBSSx1QkFBdUIsZ0JBQWdCLFFBQVE7QUFDcEYsUUFBTSxvQkFBb0Isd0JBQXdCLFdBQVcsY0FBYyxVQUFVO0FBRXJGLFNBQU87QUFBQSxJQUNIO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsRUFDSjtBQUNKOzs7QUN6ZkEsZ0JBQTZCO0FBQzdCLGtCQUF3Qjs7O0FDQXhCLElBQUksSUFDRCxPQUFPLGVBQWUsZUFBZSxjQUNyQyxPQUFPLFNBQVMsZUFBZTtBQUUvQixPQUFPLFdBQVcsZUFBZSxVQUNsQyxDQUFDO0FBRUgsSUFBSSxVQUFVO0FBQUEsRUFDWixjQUFjLHFCQUFxQjtBQUFBLEVBQ25DLFVBQVUsWUFBWSxLQUFLLGNBQWM7QUFBQSxFQUN6QyxNQUNFLGdCQUFnQixLQUNoQixVQUFVLEtBQ1QsV0FBVztBQUNWLFFBQUk7QUFDRixVQUFJLEtBQUs7QUFDVCxhQUFPO0FBQUEsSUFDVCxTQUFTQyxJQUFQO0FBQ0EsYUFBTztBQUFBLElBQ1Q7QUFBQSxFQUNGLEVBQUc7QUFBQSxFQUNMLFVBQVUsY0FBYztBQUFBLEVBQ3hCLGFBQWEsaUJBQWlCO0FBQ2hDO0FBRUEsU0FBUyxXQUFXLEtBQUs7QUFDdkIsU0FBTyxPQUFPLFNBQVMsVUFBVSxjQUFjLEdBQUc7QUFDcEQ7QUFFQSxJQUFJLFFBQVEsYUFBYTtBQUNuQixnQkFBYztBQUFBLElBQ2hCO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNGO0FBRUksc0JBQ0YsWUFBWSxVQUNaLFNBQVMsS0FBSztBQUNaLFdBQU8sT0FBTyxZQUFZLFFBQVEsT0FBTyxVQUFVLFNBQVMsS0FBSyxHQUFHLENBQUMsSUFBSTtBQUFBLEVBQzNFO0FBQ0o7QUFqQk07QUFZQTtBQU9OLFNBQVMsY0FBYyxNQUFNO0FBQzNCLE1BQUksT0FBTyxTQUFTLFVBQVU7QUFDNUIsV0FBTyxPQUFPLElBQUk7QUFBQSxFQUNwQjtBQUNBLE1BQUksNkJBQTZCLEtBQUssSUFBSSxLQUFLLFNBQVMsSUFBSTtBQUMxRCxVQUFNLElBQUksVUFBVSw4Q0FBOEMsT0FBTyxHQUFHO0FBQUEsRUFDOUU7QUFDQSxTQUFPLEtBQUssWUFBWTtBQUMxQjtBQUVBLFNBQVMsZUFBZSxPQUFPO0FBQzdCLE1BQUksT0FBTyxVQUFVLFVBQVU7QUFDN0IsWUFBUSxPQUFPLEtBQUs7QUFBQSxFQUN0QjtBQUNBLFNBQU87QUFDVDtBQUdBLFNBQVMsWUFBWSxPQUFPO0FBQzFCLE1BQUksV0FBVztBQUFBLElBQ2IsTUFBTSxXQUFXO0FBQ2YsVUFBSSxRQUFRLE1BQU0sTUFBTTtBQUN4QixhQUFPLEVBQUMsTUFBTSxVQUFVLFFBQVcsTUFBWTtBQUFBLElBQ2pEO0FBQUEsRUFDRjtBQUVBLE1BQUksUUFBUSxVQUFVO0FBQ3BCLGFBQVMsT0FBTyxRQUFRLElBQUksV0FBVztBQUNyQyxhQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0Y7QUFFQSxTQUFPO0FBQ1Q7QUFFTyxTQUFTQyxTQUFRLFNBQVM7QUFDL0IsT0FBSyxNQUFNLENBQUM7QUFFWixNQUFJLG1CQUFtQkEsVUFBUztBQUM5QixZQUFRLFFBQVEsU0FBUyxPQUFPLE1BQU07QUFDcEMsV0FBSyxPQUFPLE1BQU0sS0FBSztBQUFBLElBQ3pCLEdBQUcsSUFBSTtBQUFBLEVBQ1QsV0FBVyxNQUFNLFFBQVEsT0FBTyxHQUFHO0FBQ2pDLFlBQVEsUUFBUSxTQUFTLFFBQVE7QUFDL0IsVUFBSSxPQUFPLFVBQVUsR0FBRztBQUN0QixjQUFNLElBQUksVUFBVSx3RUFBd0UsT0FBTyxNQUFNO0FBQUEsTUFDM0c7QUFDQSxXQUFLLE9BQU8sT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7QUFBQSxJQUNsQyxHQUFHLElBQUk7QUFBQSxFQUNULFdBQVcsU0FBUztBQUNsQixXQUFPLG9CQUFvQixPQUFPLEVBQUUsUUFBUSxTQUFTLE1BQU07QUFDekQsV0FBSyxPQUFPLE1BQU0sUUFBUSxJQUFJLENBQUM7QUFBQSxJQUNqQyxHQUFHLElBQUk7QUFBQSxFQUNUO0FBQ0Y7QUFFQUEsU0FBUSxVQUFVLFNBQVMsU0FBUyxNQUFNLE9BQU87QUFDL0MsU0FBTyxjQUFjLElBQUk7QUFDekIsVUFBUSxlQUFlLEtBQUs7QUFDNUIsTUFBSSxXQUFXLEtBQUssSUFBSSxJQUFJO0FBQzVCLE9BQUssSUFBSSxJQUFJLElBQUksV0FBVyxXQUFXLE9BQU8sUUFBUTtBQUN4RDtBQUVBQSxTQUFRLFVBQVUsUUFBUSxJQUFJLFNBQVMsTUFBTTtBQUMzQyxTQUFPLEtBQUssSUFBSSxjQUFjLElBQUksQ0FBQztBQUNyQztBQUVBQSxTQUFRLFVBQVUsTUFBTSxTQUFTLE1BQU07QUFDckMsU0FBTyxjQUFjLElBQUk7QUFDekIsU0FBTyxLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssSUFBSSxJQUFJLElBQUk7QUFDM0M7QUFFQUEsU0FBUSxVQUFVLE1BQU0sU0FBUyxNQUFNO0FBQ3JDLFNBQU8sS0FBSyxJQUFJLGVBQWUsY0FBYyxJQUFJLENBQUM7QUFDcEQ7QUFFQUEsU0FBUSxVQUFVLE1BQU0sU0FBUyxNQUFNLE9BQU87QUFDNUMsT0FBSyxJQUFJLGNBQWMsSUFBSSxDQUFDLElBQUksZUFBZSxLQUFLO0FBQ3REO0FBRUFBLFNBQVEsVUFBVSxVQUFVLFNBQVMsVUFBVSxTQUFTO0FBQ3RELFdBQVMsUUFBUSxLQUFLLEtBQUs7QUFDekIsUUFBSSxLQUFLLElBQUksZUFBZSxJQUFJLEdBQUc7QUFDakMsZUFBUyxLQUFLLFNBQVMsS0FBSyxJQUFJLElBQUksR0FBRyxNQUFNLElBQUk7QUFBQSxJQUNuRDtBQUFBLEVBQ0Y7QUFDRjtBQUVBQSxTQUFRLFVBQVUsT0FBTyxXQUFXO0FBQ2xDLE1BQUksUUFBUSxDQUFDO0FBQ2IsT0FBSyxRQUFRLFNBQVMsT0FBTyxNQUFNO0FBQ2pDLFVBQU0sS0FBSyxJQUFJO0FBQUEsRUFDakIsQ0FBQztBQUNELFNBQU8sWUFBWSxLQUFLO0FBQzFCO0FBRUFBLFNBQVEsVUFBVSxTQUFTLFdBQVc7QUFDcEMsTUFBSSxRQUFRLENBQUM7QUFDYixPQUFLLFFBQVEsU0FBUyxPQUFPO0FBQzNCLFVBQU0sS0FBSyxLQUFLO0FBQUEsRUFDbEIsQ0FBQztBQUNELFNBQU8sWUFBWSxLQUFLO0FBQzFCO0FBRUFBLFNBQVEsVUFBVSxVQUFVLFdBQVc7QUFDckMsTUFBSSxRQUFRLENBQUM7QUFDYixPQUFLLFFBQVEsU0FBUyxPQUFPLE1BQU07QUFDakMsVUFBTSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUM7QUFBQSxFQUMxQixDQUFDO0FBQ0QsU0FBTyxZQUFZLEtBQUs7QUFDMUI7QUFFQSxJQUFJLFFBQVEsVUFBVTtBQUNwQixFQUFBQSxTQUFRLFVBQVUsT0FBTyxRQUFRLElBQUlBLFNBQVEsVUFBVTtBQUN6RDtBQUVBLFNBQVMsU0FBUyxNQUFNO0FBQ3RCLE1BQUksS0FBSztBQUFTO0FBQ2xCLE1BQUksS0FBSyxVQUFVO0FBQ2pCLFdBQU8sUUFBUSxPQUFPLElBQUksVUFBVSxjQUFjLENBQUM7QUFBQSxFQUNyRDtBQUNBLE9BQUssV0FBVztBQUNsQjtBQUVBLFNBQVMsZ0JBQWdCLFFBQVE7QUFDL0IsU0FBTyxJQUFJLFFBQVEsU0FBU0MsVUFBUyxRQUFRO0FBQzNDLFdBQU8sU0FBUyxXQUFXO0FBQ3pCLE1BQUFBLFNBQVEsT0FBTyxNQUFNO0FBQUEsSUFDdkI7QUFDQSxXQUFPLFVBQVUsV0FBVztBQUMxQixhQUFPLE9BQU8sS0FBSztBQUFBLElBQ3JCO0FBQUEsRUFDRixDQUFDO0FBQ0g7QUFFQSxTQUFTLHNCQUFzQixNQUFNO0FBQ25DLE1BQUksU0FBUyxJQUFJLFdBQVc7QUFDNUIsTUFBSSxVQUFVLGdCQUFnQixNQUFNO0FBQ3BDLFNBQU8sa0JBQWtCLElBQUk7QUFDN0IsU0FBTztBQUNUO0FBRUEsU0FBUyxlQUFlLE1BQU07QUFDNUIsTUFBSSxTQUFTLElBQUksV0FBVztBQUM1QixNQUFJLFVBQVUsZ0JBQWdCLE1BQU07QUFDcEMsTUFBSUMsU0FBUSwyQkFBMkIsS0FBSyxLQUFLLElBQUk7QUFDckQsTUFBSSxXQUFXQSxTQUFRQSxPQUFNLENBQUMsSUFBSTtBQUNsQyxTQUFPLFdBQVcsTUFBTSxRQUFRO0FBQ2hDLFNBQU87QUFDVDtBQUVBLFNBQVMsc0JBQXNCLEtBQUs7QUFDbEMsTUFBSSxPQUFPLElBQUksV0FBVyxHQUFHO0FBQzdCLE1BQUksUUFBUSxJQUFJLE1BQU0sS0FBSyxNQUFNO0FBRWpDLFdBQVNDLEtBQUksR0FBR0EsS0FBSSxLQUFLLFFBQVFBLE1BQUs7QUFDcEMsVUFBTUEsRUFBQyxJQUFJLE9BQU8sYUFBYSxLQUFLQSxFQUFDLENBQUM7QUFBQSxFQUN4QztBQUNBLFNBQU8sTUFBTSxLQUFLLEVBQUU7QUFDdEI7QUFFQSxTQUFTLFlBQVksS0FBSztBQUN4QixNQUFJLElBQUksT0FBTztBQUNiLFdBQU8sSUFBSSxNQUFNLENBQUM7QUFBQSxFQUNwQixPQUFPO0FBQ0wsUUFBSSxPQUFPLElBQUksV0FBVyxJQUFJLFVBQVU7QUFDeEMsU0FBSyxJQUFJLElBQUksV0FBVyxHQUFHLENBQUM7QUFDNUIsV0FBTyxLQUFLO0FBQUEsRUFDZDtBQUNGO0FBRUEsU0FBUyxPQUFPO0FBQ2QsT0FBSyxXQUFXO0FBRWhCLE9BQUssWUFBWSxTQUFTLE1BQU07QUFZOUIsU0FBSyxXQUFXLEtBQUs7QUFDckIsU0FBSyxZQUFZO0FBQ2pCLFFBQUksQ0FBQyxNQUFNO0FBQ1QsV0FBSyxVQUFVO0FBQ2YsV0FBSyxZQUFZO0FBQUEsSUFDbkIsV0FBVyxPQUFPLFNBQVMsVUFBVTtBQUNuQyxXQUFLLFlBQVk7QUFBQSxJQUNuQixXQUFXLFFBQVEsUUFBUSxLQUFLLFVBQVUsY0FBYyxJQUFJLEdBQUc7QUFDN0QsV0FBSyxZQUFZO0FBQUEsSUFDbkIsV0FBVyxRQUFRLFlBQVksU0FBUyxVQUFVLGNBQWMsSUFBSSxHQUFHO0FBQ3JFLFdBQUssZ0JBQWdCO0FBQUEsSUFDdkIsV0FBVyxRQUFRLGdCQUFnQixnQkFBZ0IsVUFBVSxjQUFjLElBQUksR0FBRztBQUNoRixXQUFLLFlBQVksS0FBSyxTQUFTO0FBQUEsSUFDakMsV0FBVyxRQUFRLGVBQWUsUUFBUSxRQUFRLFdBQVcsSUFBSSxHQUFHO0FBQ2xFLFdBQUssbUJBQW1CLFlBQVksS0FBSyxNQUFNO0FBRS9DLFdBQUssWUFBWSxJQUFJLEtBQUssQ0FBQyxLQUFLLGdCQUFnQixDQUFDO0FBQUEsSUFDbkQsV0FBVyxRQUFRLGdCQUFnQixZQUFZLFVBQVUsY0FBYyxJQUFJLEtBQUssa0JBQWtCLElBQUksSUFBSTtBQUN4RyxXQUFLLG1CQUFtQixZQUFZLElBQUk7QUFBQSxJQUMxQyxPQUFPO0FBQ0wsV0FBSyxZQUFZLE9BQU8sT0FBTyxVQUFVLFNBQVMsS0FBSyxJQUFJO0FBQUEsSUFDN0Q7QUFFQSxRQUFJLENBQUMsS0FBSyxRQUFRLElBQUksY0FBYyxHQUFHO0FBQ3JDLFVBQUksT0FBTyxTQUFTLFVBQVU7QUFDNUIsYUFBSyxRQUFRLElBQUksZ0JBQWdCLDBCQUEwQjtBQUFBLE1BQzdELFdBQVcsS0FBSyxhQUFhLEtBQUssVUFBVSxNQUFNO0FBQ2hELGFBQUssUUFBUSxJQUFJLGdCQUFnQixLQUFLLFVBQVUsSUFBSTtBQUFBLE1BQ3RELFdBQVcsUUFBUSxnQkFBZ0IsZ0JBQWdCLFVBQVUsY0FBYyxJQUFJLEdBQUc7QUFDaEYsYUFBSyxRQUFRLElBQUksZ0JBQWdCLGlEQUFpRDtBQUFBLE1BQ3BGO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFFQSxNQUFJLFFBQVEsTUFBTTtBQUNoQixTQUFLLE9BQU8sV0FBVztBQUNyQixVQUFJLFdBQVcsU0FBUyxJQUFJO0FBQzVCLFVBQUksVUFBVTtBQUNaLGVBQU87QUFBQSxNQUNUO0FBRUEsVUFBSSxLQUFLLFdBQVc7QUFDbEIsZUFBTyxRQUFRLFFBQVEsS0FBSyxTQUFTO0FBQUEsTUFDdkMsV0FBVyxLQUFLLGtCQUFrQjtBQUNoQyxlQUFPLFFBQVEsUUFBUSxJQUFJLEtBQUssQ0FBQyxLQUFLLGdCQUFnQixDQUFDLENBQUM7QUFBQSxNQUMxRCxXQUFXLEtBQUssZUFBZTtBQUM3QixjQUFNLElBQUksTUFBTSxzQ0FBc0M7QUFBQSxNQUN4RCxPQUFPO0FBQ0wsZUFBTyxRQUFRLFFBQVEsSUFBSSxLQUFLLENBQUMsS0FBSyxTQUFTLENBQUMsQ0FBQztBQUFBLE1BQ25EO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFFQSxPQUFLLGNBQWMsV0FBVztBQUM1QixRQUFJLEtBQUssa0JBQWtCO0FBQ3pCLFVBQUksYUFBYSxTQUFTLElBQUk7QUFDOUIsVUFBSSxZQUFZO0FBQ2QsZUFBTztBQUFBLE1BQ1QsV0FBVyxZQUFZLE9BQU8sS0FBSyxnQkFBZ0IsR0FBRztBQUNwRCxlQUFPLFFBQVE7QUFBQSxVQUNiLEtBQUssaUJBQWlCLE9BQU87QUFBQSxZQUMzQixLQUFLLGlCQUFpQjtBQUFBLFlBQ3RCLEtBQUssaUJBQWlCLGFBQWEsS0FBSyxpQkFBaUI7QUFBQSxVQUMzRDtBQUFBLFFBQ0Y7QUFBQSxNQUNGLE9BQU87QUFDTCxlQUFPLFFBQVEsUUFBUSxLQUFLLGdCQUFnQjtBQUFBLE1BQzlDO0FBQUEsSUFDRixXQUFXLFFBQVEsTUFBTTtBQUN2QixhQUFPLEtBQUssS0FBSyxFQUFFLEtBQUsscUJBQXFCO0FBQUEsSUFDL0MsT0FBTztBQUNMLFlBQU0sSUFBSSxNQUFNLCtCQUErQjtBQUFBLElBQ2pEO0FBQUEsRUFDRjtBQUVBLE9BQUssT0FBTyxXQUFXO0FBQ3JCLFFBQUksV0FBVyxTQUFTLElBQUk7QUFDNUIsUUFBSSxVQUFVO0FBQ1osYUFBTztBQUFBLElBQ1Q7QUFFQSxRQUFJLEtBQUssV0FBVztBQUNsQixhQUFPLGVBQWUsS0FBSyxTQUFTO0FBQUEsSUFDdEMsV0FBVyxLQUFLLGtCQUFrQjtBQUNoQyxhQUFPLFFBQVEsUUFBUSxzQkFBc0IsS0FBSyxnQkFBZ0IsQ0FBQztBQUFBLElBQ3JFLFdBQVcsS0FBSyxlQUFlO0FBQzdCLFlBQU0sSUFBSSxNQUFNLHNDQUFzQztBQUFBLElBQ3hELE9BQU87QUFDTCxhQUFPLFFBQVEsUUFBUSxLQUFLLFNBQVM7QUFBQSxJQUN2QztBQUFBLEVBQ0Y7QUFFQSxNQUFJLFFBQVEsVUFBVTtBQUNwQixTQUFLLFdBQVcsV0FBVztBQUN6QixhQUFPLEtBQUssS0FBSyxFQUFFLEtBQUssTUFBTTtBQUFBLElBQ2hDO0FBQUEsRUFDRjtBQUVBLE9BQUssT0FBTyxXQUFXO0FBQ3JCLFdBQU8sS0FBSyxLQUFLLEVBQUUsS0FBSyxLQUFLLEtBQUs7QUFBQSxFQUNwQztBQUVBLFNBQU87QUFDVDtBQUdBLElBQUksVUFBVSxDQUFDLFdBQVcsVUFBVSxPQUFPLFFBQVEsV0FBVyxTQUFTLFFBQVEsT0FBTyxPQUFPO0FBRTdGLFNBQVMsZ0JBQWdCLFFBQVE7QUFDL0IsTUFBSSxVQUFVLE9BQU8sWUFBWTtBQUNqQyxTQUFPLFFBQVEsUUFBUSxPQUFPLElBQUksS0FBSyxVQUFVO0FBQ25EO0FBRU8sU0FBU0MsU0FBUSxPQUFPLFNBQVM7QUFDdEMsTUFBSSxFQUFFLGdCQUFnQkEsV0FBVTtBQUM5QixVQUFNLElBQUksVUFBVSw0RkFBNEY7QUFBQSxFQUNsSDtBQUVBLFlBQVUsV0FBVyxDQUFDO0FBQ3RCLE1BQUksT0FBTyxRQUFRO0FBRW5CLE1BQUksaUJBQWlCQSxVQUFTO0FBQzVCLFFBQUksTUFBTSxVQUFVO0FBQ2xCLFlBQU0sSUFBSSxVQUFVLGNBQWM7QUFBQSxJQUNwQztBQUNBLFNBQUssTUFBTSxNQUFNO0FBQ2pCLFNBQUssY0FBYyxNQUFNO0FBQ3pCLFFBQUksQ0FBQyxRQUFRLFNBQVM7QUFDcEIsV0FBSyxVQUFVLElBQUlKLFNBQVEsTUFBTSxPQUFPO0FBQUEsSUFDMUM7QUFDQSxTQUFLLFNBQVMsTUFBTTtBQUNwQixTQUFLLE9BQU8sTUFBTTtBQUNsQixTQUFLLFNBQVMsTUFBTTtBQUNwQixRQUFJLENBQUMsUUFBUSxNQUFNLGFBQWEsTUFBTTtBQUNwQyxhQUFPLE1BQU07QUFDYixZQUFNLFdBQVc7QUFBQSxJQUNuQjtBQUFBLEVBQ0YsT0FBTztBQUNMLFNBQUssTUFBTSxPQUFPLEtBQUs7QUFBQSxFQUN6QjtBQUVBLE9BQUssY0FBYyxRQUFRLGVBQWUsS0FBSyxlQUFlO0FBQzlELE1BQUksUUFBUSxXQUFXLENBQUMsS0FBSyxTQUFTO0FBQ3BDLFNBQUssVUFBVSxJQUFJQSxTQUFRLFFBQVEsT0FBTztBQUFBLEVBQzVDO0FBQ0EsT0FBSyxTQUFTLGdCQUFnQixRQUFRLFVBQVUsS0FBSyxVQUFVLEtBQUs7QUFDcEUsT0FBSyxPQUFPLFFBQVEsUUFBUSxLQUFLLFFBQVE7QUFDekMsT0FBSyxTQUFTLFFBQVEsVUFBVSxLQUFLLFVBQVcsV0FBWTtBQUMxRCxRQUFJLHFCQUFxQixHQUFHO0FBQzFCLFVBQUksT0FBTyxJQUFJLGdCQUFnQjtBQUMvQixhQUFPLEtBQUs7QUFBQSxJQUNkO0FBQUEsRUFDRixFQUFFO0FBQ0YsT0FBSyxXQUFXO0FBRWhCLE9BQUssS0FBSyxXQUFXLFNBQVMsS0FBSyxXQUFXLFdBQVcsTUFBTTtBQUM3RCxVQUFNLElBQUksVUFBVSwyQ0FBMkM7QUFBQSxFQUNqRTtBQUNBLE9BQUssVUFBVSxJQUFJO0FBRW5CLE1BQUksS0FBSyxXQUFXLFNBQVMsS0FBSyxXQUFXLFFBQVE7QUFDbkQsUUFBSSxRQUFRLFVBQVUsY0FBYyxRQUFRLFVBQVUsWUFBWTtBQUVoRSxVQUFJLGdCQUFnQjtBQUNwQixVQUFJLGNBQWMsS0FBSyxLQUFLLEdBQUcsR0FBRztBQUVoQyxhQUFLLE1BQU0sS0FBSyxJQUFJLFFBQVEsZUFBZSxTQUFTLElBQUksS0FBSyxFQUFFLFFBQVEsQ0FBQztBQUFBLE1BQzFFLE9BQU87QUFFTCxZQUFJLGdCQUFnQjtBQUNwQixhQUFLLFFBQVEsY0FBYyxLQUFLLEtBQUssR0FBRyxJQUFJLE1BQU0sT0FBTyxPQUFPLElBQUksS0FBSyxFQUFFLFFBQVE7QUFBQSxNQUNyRjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0Y7QUFFQUksU0FBUSxVQUFVLFFBQVEsV0FBVztBQUNuQyxTQUFPLElBQUlBLFNBQVEsTUFBTSxFQUFDLE1BQU0sS0FBSyxVQUFTLENBQUM7QUFDakQ7QUFFQSxTQUFTLE9BQU8sTUFBTTtBQUNwQixNQUFJLE9BQU8sSUFBSSxTQUFTO0FBQ3hCLE9BQ0csS0FBSyxFQUNMLE1BQU0sR0FBRyxFQUNULFFBQVEsU0FBUyxPQUFPO0FBQ3ZCLFFBQUksT0FBTztBQUNULFVBQUlDLFNBQVEsTUFBTSxNQUFNLEdBQUc7QUFDM0IsVUFBSSxPQUFPQSxPQUFNLE1BQU0sRUFBRSxRQUFRLE9BQU8sR0FBRztBQUMzQyxVQUFJLFFBQVFBLE9BQU0sS0FBSyxHQUFHLEVBQUUsUUFBUSxPQUFPLEdBQUc7QUFDOUMsV0FBSyxPQUFPLG1CQUFtQixJQUFJLEdBQUcsbUJBQW1CLEtBQUssQ0FBQztBQUFBLElBQ2pFO0FBQUEsRUFDRixDQUFDO0FBQ0gsU0FBTztBQUNUO0FBRUEsU0FBUyxhQUFhLFlBQVk7QUFDaEMsTUFBSSxVQUFVLElBQUlMLFNBQVE7QUFHMUIsTUFBSSxzQkFBc0IsV0FBVyxRQUFRLGdCQUFnQixHQUFHO0FBSWhFLHNCQUNHLE1BQU0sSUFBSSxFQUNWLElBQUksU0FBUyxRQUFRO0FBQ3BCLFdBQU8sT0FBTyxRQUFRLElBQUksTUFBTSxJQUFJLE9BQU8sT0FBTyxHQUFHLE9BQU8sTUFBTSxJQUFJO0FBQUEsRUFDeEUsQ0FBQyxFQUNBLFFBQVEsU0FBUyxNQUFNO0FBQ3RCLFFBQUksUUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixRQUFJLE1BQU0sTUFBTSxNQUFNLEVBQUUsS0FBSztBQUM3QixRQUFJLEtBQUs7QUFDUCxVQUFJLFFBQVEsTUFBTSxLQUFLLEdBQUcsRUFBRSxLQUFLO0FBQ2pDLFVBQUk7QUFDRixnQkFBUSxPQUFPLEtBQUssS0FBSztBQUFBLE1BQzNCLFNBQVMsT0FBUDtBQUNBLGdCQUFRLEtBQUssY0FBYyxNQUFNLE9BQU87QUFBQSxNQUMxQztBQUFBLElBQ0Y7QUFBQSxFQUNGLENBQUM7QUFDSCxTQUFPO0FBQ1Q7QUFFQSxLQUFLLEtBQUtJLFNBQVEsU0FBUztBQUVwQixTQUFTRSxVQUFTLFVBQVUsU0FBUztBQUMxQyxNQUFJLEVBQUUsZ0JBQWdCQSxZQUFXO0FBQy9CLFVBQU0sSUFBSSxVQUFVLDRGQUE0RjtBQUFBLEVBQ2xIO0FBQ0EsTUFBSSxDQUFDLFNBQVM7QUFDWixjQUFVLENBQUM7QUFBQSxFQUNiO0FBRUEsT0FBSyxPQUFPO0FBQ1osT0FBSyxTQUFTLFFBQVEsV0FBVyxTQUFZLE1BQU0sUUFBUTtBQUMzRCxNQUFJLEtBQUssU0FBUyxPQUFPLEtBQUssU0FBUyxLQUFLO0FBQzFDLFVBQU0sSUFBSSxXQUFXLDBGQUEwRjtBQUFBLEVBQ2pIO0FBQ0EsT0FBSyxLQUFLLEtBQUssVUFBVSxPQUFPLEtBQUssU0FBUztBQUM5QyxPQUFLLGFBQWEsUUFBUSxlQUFlLFNBQVksS0FBSyxLQUFLLFFBQVE7QUFDdkUsT0FBSyxVQUFVLElBQUlOLFNBQVEsUUFBUSxPQUFPO0FBQzFDLE9BQUssTUFBTSxRQUFRLE9BQU87QUFDMUIsT0FBSyxVQUFVLFFBQVE7QUFDekI7QUFFQSxLQUFLLEtBQUtNLFVBQVMsU0FBUztBQUU1QkEsVUFBUyxVQUFVLFFBQVEsV0FBVztBQUNwQyxTQUFPLElBQUlBLFVBQVMsS0FBSyxXQUFXO0FBQUEsSUFDbEMsUUFBUSxLQUFLO0FBQUEsSUFDYixZQUFZLEtBQUs7QUFBQSxJQUNqQixTQUFTLElBQUlOLFNBQVEsS0FBSyxPQUFPO0FBQUEsSUFDakMsS0FBSyxLQUFLO0FBQUEsRUFDWixDQUFDO0FBQ0g7QUFFQU0sVUFBUyxRQUFRLFdBQVc7QUFDMUIsTUFBSSxXQUFXLElBQUlBLFVBQVMsTUFBTSxFQUFDLFFBQVEsS0FBSyxZQUFZLEdBQUUsQ0FBQztBQUMvRCxXQUFTLEtBQUs7QUFDZCxXQUFTLFNBQVM7QUFDbEIsV0FBUyxPQUFPO0FBQ2hCLFNBQU87QUFDVDtBQUVBLElBQUksbUJBQW1CLENBQUMsS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHO0FBRS9DQSxVQUFTLFdBQVcsU0FBUyxLQUFLLFFBQVE7QUFDeEMsTUFBSSxpQkFBaUIsUUFBUSxNQUFNLE1BQU0sSUFBSTtBQUMzQyxVQUFNLElBQUksV0FBVyxxQkFBcUI7QUFBQSxFQUM1QztBQUVBLFNBQU8sSUFBSUEsVUFBUyxNQUFNLEVBQUMsUUFBZ0IsU0FBUyxFQUFDLFVBQVUsSUFBRyxFQUFDLENBQUM7QUFDdEU7QUFFTyxJQUFJLGVBQWUsRUFBRTtBQUM1QixJQUFJO0FBQ0YsTUFBSSxhQUFhO0FBQ25CLFNBQVMsS0FBUDtBQUNBLGlCQUFlLFNBQVMsU0FBUyxNQUFNO0FBQ3JDLFNBQUssVUFBVTtBQUNmLFNBQUssT0FBTztBQUNaLFFBQUksUUFBUSxNQUFNLE9BQU87QUFDekIsU0FBSyxRQUFRLE1BQU07QUFBQSxFQUNyQjtBQUNBLGVBQWEsWUFBWSxPQUFPLE9BQU8sTUFBTSxTQUFTO0FBQ3RELGVBQWEsVUFBVSxjQUFjO0FBQ3ZDO0FBRU8sU0FBU0MsT0FBTSxPQUFPLE1BQU07QUFDakMsU0FBTyxJQUFJLFFBQVEsU0FBU04sVUFBUyxRQUFRO0FBQzNDLFFBQUksVUFBVSxJQUFJRyxTQUFRLE9BQU8sSUFBSTtBQUVyQyxRQUFJLFFBQVEsVUFBVSxRQUFRLE9BQU8sU0FBUztBQUM1QyxhQUFPLE9BQU8sSUFBSSxhQUFhLFdBQVcsWUFBWSxDQUFDO0FBQUEsSUFDekQ7QUFFQSxRQUFJLE1BQU0sSUFBSSxlQUFlO0FBRTdCLGFBQVMsV0FBVztBQUNsQixVQUFJLE1BQU07QUFBQSxJQUNaO0FBRUEsUUFBSSxTQUFTLFdBQVc7QUFDdEIsVUFBSSxVQUFVO0FBQUEsUUFDWixZQUFZLElBQUk7QUFBQSxRQUNoQixTQUFTLGFBQWEsSUFBSSxzQkFBc0IsS0FBSyxFQUFFO0FBQUEsTUFDekQ7QUFHQSxVQUFJLFFBQVEsSUFBSSxRQUFRLFNBQVMsTUFBTSxNQUFNLElBQUksU0FBUyxPQUFPLElBQUksU0FBUyxNQUFNO0FBQ2xGLGdCQUFRLFNBQVM7QUFBQSxNQUNuQixPQUFPO0FBQ0wsZ0JBQVEsU0FBUyxJQUFJO0FBQUEsTUFDdkI7QUFDQSxjQUFRLE1BQU0saUJBQWlCLE1BQU0sSUFBSSxjQUFjLFFBQVEsUUFBUSxJQUFJLGVBQWU7QUFDMUYsVUFBSSxPQUFPLGNBQWMsTUFBTSxJQUFJLFdBQVcsSUFBSTtBQUNsRCxpQkFBVyxXQUFXO0FBQ3BCLFFBQUFILFNBQVEsSUFBSUssVUFBUyxNQUFNLE9BQU8sQ0FBQztBQUFBLE1BQ3JDLEdBQUcsQ0FBQztBQUFBLElBQ047QUFFQSxRQUFJLFVBQVUsV0FBVztBQUN2QixpQkFBVyxXQUFXO0FBQ3BCLGVBQU8sSUFBSSxVQUFVLHdCQUF3QixDQUFDO0FBQUEsTUFDaEQsR0FBRyxDQUFDO0FBQUEsSUFDTjtBQUVBLFFBQUksWUFBWSxXQUFXO0FBQ3pCLGlCQUFXLFdBQVc7QUFDcEIsZUFBTyxJQUFJLFVBQVUsMkJBQTJCLENBQUM7QUFBQSxNQUNuRCxHQUFHLENBQUM7QUFBQSxJQUNOO0FBRUEsUUFBSSxVQUFVLFdBQVc7QUFDdkIsaUJBQVcsV0FBVztBQUNwQixlQUFPLElBQUksYUFBYSxXQUFXLFlBQVksQ0FBQztBQUFBLE1BQ2xELEdBQUcsQ0FBQztBQUFBLElBQ047QUFFQSxhQUFTLE9BQU8sS0FBSztBQUNuQixVQUFJO0FBQ0YsZUFBTyxRQUFRLE1BQU0sRUFBRSxTQUFTLE9BQU8sRUFBRSxTQUFTLE9BQU87QUFBQSxNQUMzRCxTQUFTUCxJQUFQO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFBQSxJQUNGO0FBRUEsUUFBSSxLQUFLLFFBQVEsUUFBUSxPQUFPLFFBQVEsR0FBRyxHQUFHLElBQUk7QUFFbEQsUUFBSSxRQUFRLGdCQUFnQixXQUFXO0FBQ3JDLFVBQUksa0JBQWtCO0FBQUEsSUFDeEIsV0FBVyxRQUFRLGdCQUFnQixRQUFRO0FBQ3pDLFVBQUksa0JBQWtCO0FBQUEsSUFDeEI7QUFFQSxRQUFJLGtCQUFrQixLQUFLO0FBQ3pCLFVBQUksUUFBUSxNQUFNO0FBQ2hCLFlBQUksZUFBZTtBQUFBLE1BQ3JCLFdBQ0UsUUFBUSxhQUNSO0FBQ0EsWUFBSSxlQUFlO0FBQUEsTUFDckI7QUFBQSxJQUNGO0FBRUEsUUFBSSxRQUFRLE9BQU8sS0FBSyxZQUFZLFlBQVksRUFBRSxLQUFLLG1CQUFtQkMsWUFBWSxFQUFFLFdBQVcsS0FBSyxtQkFBbUIsRUFBRSxVQUFXO0FBQ3RJLFVBQUksUUFBUSxDQUFDO0FBQ2IsYUFBTyxvQkFBb0IsS0FBSyxPQUFPLEVBQUUsUUFBUSxTQUFTLE1BQU07QUFDOUQsY0FBTSxLQUFLLGNBQWMsSUFBSSxDQUFDO0FBQzlCLFlBQUksaUJBQWlCLE1BQU0sZUFBZSxLQUFLLFFBQVEsSUFBSSxDQUFDLENBQUM7QUFBQSxNQUMvRCxDQUFDO0FBQ0QsY0FBUSxRQUFRLFFBQVEsU0FBUyxPQUFPLE1BQU07QUFDNUMsWUFBSSxNQUFNLFFBQVEsSUFBSSxNQUFNLElBQUk7QUFDOUIsY0FBSSxpQkFBaUIsTUFBTSxLQUFLO0FBQUEsUUFDbEM7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNILE9BQU87QUFDTCxjQUFRLFFBQVEsUUFBUSxTQUFTLE9BQU8sTUFBTTtBQUM1QyxZQUFJLGlCQUFpQixNQUFNLEtBQUs7QUFBQSxNQUNsQyxDQUFDO0FBQUEsSUFDSDtBQUVBLFFBQUksUUFBUSxRQUFRO0FBQ2xCLGNBQVEsT0FBTyxpQkFBaUIsU0FBUyxRQUFRO0FBRWpELFVBQUkscUJBQXFCLFdBQVc7QUFFbEMsWUFBSSxJQUFJLGVBQWUsR0FBRztBQUN4QixrQkFBUSxPQUFPLG9CQUFvQixTQUFTLFFBQVE7QUFBQSxRQUN0RDtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBRUEsUUFBSSxLQUFLLE9BQU8sUUFBUSxjQUFjLGNBQWMsT0FBTyxRQUFRLFNBQVM7QUFBQSxFQUM5RSxDQUFDO0FBQ0g7QUFFQU8sT0FBTSxXQUFXO0FBRWpCLElBQUksQ0FBQyxFQUFFLE9BQU87QUFDWixJQUFFLFFBQVFBO0FBQ1YsSUFBRSxVQUFVUDtBQUNaLElBQUUsVUFBVUk7QUFDWixJQUFFLFdBQVdFO0FBQ2Y7OztBQy9uQkEsSUFBTSxVQUFVO0FBRWhCLElBQUksY0FBYyxPQUFPO0FBQ3pCLElBQUksb0JBQW9CLENBQUMsS0FBSyxLQUFLLFVBQVUsT0FBTyxNQUFNLFlBQVksS0FBSyxLQUFLLEVBQUUsWUFBWSxNQUFNLGNBQWMsTUFBTSxVQUFVLE1BQU0sTUFBTSxDQUFDLElBQUksSUFBSSxHQUFHLElBQUk7QUFDOUosSUFBSSxrQkFBa0IsQ0FBQyxLQUFLLEtBQUssVUFBVTtBQUN6QyxvQkFBa0IsS0FBSyxPQUFPLFFBQVEsV0FBVyxNQUFNLEtBQUssS0FBSyxLQUFLO0FBQ3RFLFNBQU87QUFDVDtBQUNBLElBQU0sZ0JBQU4sY0FBNEIsTUFBTTtBQUFBLEVBQ2hDLFlBQVksT0FBTyxhQUFhO0FBQzlCLFVBQU0sS0FBSztBQUNYLFNBQUssUUFBUTtBQUNiLFNBQUssY0FBYztBQUNuQixTQUFLLE9BQU87QUFDWixRQUFJLE1BQU0sbUJBQW1CO0FBQzNCLFlBQU0sa0JBQWtCLE1BQU0sYUFBYTtBQUFBLElBQzdDO0FBQUEsRUFDRjtBQUNGO0FBQ0EsSUFBTSx5QkFBTixNQUE2QjtBQUFBLEVBQzNCLFlBQVksaUJBQWlCLEtBQUssY0FBYztBQUM5QyxvQkFBZ0IsTUFBTSxpQkFBaUI7QUFDdkMsb0JBQWdCLE1BQU0sS0FBSztBQUMzQixvQkFBZ0IsTUFBTSxjQUFjO0FBQ3BDLFNBQUssa0JBQWtCO0FBQ3ZCLFNBQUssTUFBTTtBQUNYLFNBQUssZUFBZTtBQUFBLEVBQ3RCO0FBQUEsRUFDQSxRQUFRO0FBQ04sU0FBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQzdCO0FBQUEsRUFDQSxRQUFRLE9BQU8sYUFBYSxJQUFJO0FBQzlCLHFCQUFpQixXQUFXLEtBQUssS0FBSztBQUNwQyxVQUFJLFdBQVcsU0FBUztBQUN0QixjQUFNLElBQUksTUFBTSxRQUFRLEtBQUs7QUFBQSxNQUMvQjtBQUNBLFlBQU07QUFDTixVQUFJLFFBQVEsUUFBUSxRQUFRLFdBQVcsV0FBVztBQUNoRCxhQUFLLGFBQWE7QUFDbEI7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUNBLFVBQU0sSUFBSSxNQUFNLHFEQUFxRDtBQUFBLEVBQ3ZFO0FBQ0Y7QUFDQSxJQUFNLFVBQVUsT0FBTyxhQUFhO0FBL0NwQyxNQUFBRTtBQWdERSxNQUFJLFNBQVMsSUFBSTtBQUNmO0FBQUEsRUFDRjtBQUNBLE1BQUksVUFBVSxTQUFTLFNBQVMsV0FBVyxTQUFTO0FBQ3BELE1BQUksWUFBWTtBQUNoQixPQUFJQSxNQUFBLFNBQVMsUUFBUSxJQUFJLGNBQWMsTUFBbkMsZ0JBQUFBLElBQXNDLFNBQVMscUJBQXFCO0FBQ3RFLFFBQUk7QUFDRixrQkFBWSxNQUFNLFNBQVMsS0FBSztBQUNoQyxnQkFBVSxVQUFVLFNBQVM7QUFBQSxJQUMvQixTQUFTLE9BQVA7QUFDQSxjQUFRLElBQUksd0NBQXdDO0FBQUEsSUFDdEQ7QUFBQSxFQUNGLE9BQU87QUFDTCxRQUFJO0FBQ0YsY0FBUSxJQUFJLDRCQUE0QjtBQUN4QyxZQUFNLGVBQWUsTUFBTSxTQUFTLEtBQUs7QUFDekMsZ0JBQVUsZ0JBQWdCO0FBQUEsSUFDNUIsU0FBUyxPQUFQO0FBQ0EsY0FBUSxJQUFJLHdDQUF3QztBQUFBLElBQ3REO0FBQUEsRUFDRjtBQUNBLFFBQU0sSUFBSSxjQUFjLFNBQVMsU0FBUyxNQUFNO0FBQ2xEO0FBQ0EsU0FBUyxjQUFjO0FBQ3JCLE1BQUksT0FBTyxXQUFXLGVBQWUsT0FBTyxXQUFXO0FBQ3JELFdBQU8sR0FBRyxPQUFPLFVBQVUsU0FBUyxZQUFZLGFBQWEsVUFBVTtBQUFBLEVBQ3pFLFdBQVcsT0FBTyxZQUFZLGFBQWE7QUFDekMsV0FBTyxHQUFHLFFBQVEsUUFBUSxRQUFRLG9CQUFvQixRQUFRO0FBQUEsRUFDaEU7QUFDQSxTQUFPO0FBQ1Q7QUFDQSxJQUFNLG1CQUFtQixPQUFPQyxRQUFPLEtBQUssVUFBVSxDQUFDLE1BQU07QUFDM0QsUUFBTSxpQkFBaUI7QUFBQSxJQUNyQixnQkFBZ0I7QUFBQSxJQUNoQixRQUFRO0FBQUEsSUFDUixjQUFjLGFBQWEsWUFBWSxZQUFZO0FBQUEsRUFDckQ7QUFDQSxNQUFJLENBQUMsUUFBUSxTQUFTO0FBQ3BCLFlBQVEsVUFBVSxDQUFDO0FBQUEsRUFDckI7QUFDQSxRQUFNLGdCQUFnQixPQUFPO0FBQUEsSUFDM0IsT0FBTyxRQUFRLFFBQVEsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLE9BQU8sS0FBSyxjQUFjLEVBQUUsS0FBSyxDQUFDLGVBQWUsV0FBVyxZQUFZLE1BQU0sSUFBSSxZQUFZLENBQUMsQ0FBQztBQUFBLEVBQ3JKO0FBQ0EsVUFBUSxVQUFVO0FBQUEsSUFDaEIsR0FBRztBQUFBLElBQ0gsR0FBRztBQUFBLEVBQ0w7QUFDQSxTQUFPQSxPQUFNLEtBQUssT0FBTztBQUMzQjtBQUNBLElBQU0sTUFBTSxPQUFPQSxRQUFPLE1BQU0sWUFBWTtBQUMxQyxRQUFNLFdBQVcsTUFBTSxpQkFBaUJBLFFBQU8sTUFBTTtBQUFBLElBQ25ELFNBQVMsbUNBQVM7QUFBQSxFQUNwQixDQUFDO0FBQ0QsUUFBTSxRQUFRLFFBQVE7QUFDdEIsU0FBTztBQUNUO0FBQ0EsSUFBTSxPQUFPLE9BQU9BLFFBQU8sTUFBTSxNQUFNLFlBQVk7QUFDakQsUUFBTSxXQUFXLENBQUMsVUFBVTtBQUMxQixXQUFPLFVBQVUsUUFBUSxPQUFPLFVBQVUsWUFBWSxDQUFDLE1BQU0sUUFBUSxLQUFLO0FBQUEsRUFDNUU7QUFDQSxRQUFNLGdCQUFnQixTQUFTLElBQUksSUFBSSxLQUFLLFVBQVUsSUFBSSxJQUFJO0FBQzlELFFBQU0sV0FBVyxNQUFNLGlCQUFpQkEsUUFBTyxNQUFNO0FBQUEsSUFDbkQsUUFBUTtBQUFBLElBQ1IsTUFBTTtBQUFBLElBQ04sUUFBUSxtQ0FBUztBQUFBLElBQ2pCLFNBQVMsbUNBQVM7QUFBQSxFQUNwQixDQUFDO0FBQ0QsUUFBTSxRQUFRLFFBQVE7QUFDdEIsU0FBTztBQUNUO0FBQ0EsSUFBTSxNQUFNLE9BQU9BLFFBQU8sTUFBTSxNQUFNLFlBQVk7QUFDaEQsUUFBTSxXQUFXLE1BQU0saUJBQWlCQSxRQUFPLE1BQU07QUFBQSxJQUNuRCxRQUFRO0FBQUEsSUFDUixNQUFNLEtBQUssVUFBVSxJQUFJO0FBQUEsSUFDekIsU0FBUyxtQ0FBUztBQUFBLEVBQ3BCLENBQUM7QUFDRCxRQUFNLFFBQVEsUUFBUTtBQUN0QixTQUFPO0FBQ1Q7QUFDQSxJQUFNLFlBQVksaUJBQWlCLEtBQUs7QUEvSHhDLE1BQUFEO0FBZ0lFLFFBQU0sVUFBVSxJQUFJLFlBQVksT0FBTztBQUN2QyxNQUFJLFNBQVM7QUFDYixRQUFNLFNBQVMsSUFBSSxVQUFVO0FBQzdCLFNBQU8sTUFBTTtBQUNYLFVBQU0sRUFBRSxNQUFNLE9BQU8sTUFBTSxJQUFJLE1BQU0sT0FBTyxLQUFLO0FBQ2pELFFBQUksTUFBTTtBQUNSO0FBQUEsSUFDRjtBQUNBLGNBQVUsUUFBUSxPQUFPLEtBQUs7QUFDOUIsVUFBTSxRQUFRLE9BQU8sTUFBTSxJQUFJO0FBQy9CLGNBQVNBLE1BQUEsTUFBTSxJQUFJLE1BQVYsT0FBQUEsTUFBZTtBQUN4QixlQUFXLFFBQVEsT0FBTztBQUN4QixVQUFJO0FBQ0YsY0FBTSxLQUFLLE1BQU0sSUFBSTtBQUFBLE1BQ3ZCLFNBQVMsT0FBUDtBQUNBLGdCQUFRLEtBQUssa0JBQWtCLElBQUk7QUFBQSxNQUNyQztBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0EsYUFBVyxRQUFRLE9BQU8sTUFBTSxJQUFJLEVBQUUsT0FBTyxDQUFDRSxPQUFNQSxPQUFNLEVBQUUsR0FBRztBQUM3RCxRQUFJO0FBQ0YsWUFBTSxLQUFLLE1BQU0sSUFBSTtBQUFBLElBQ3ZCLFNBQVMsT0FBUDtBQUNBLGNBQVEsS0FBSyxrQkFBa0IsSUFBSTtBQUFBLElBQ3JDO0FBQUEsRUFDRjtBQUNGO0FBQ0EsSUFBTSxhQUFhLENBQUMsU0FBUztBQUMzQixNQUFJLENBQUMsTUFBTTtBQUNULFdBQU87QUFBQSxFQUNUO0FBQ0EsTUFBSSxxQkFBcUIsS0FBSyxTQUFTLEtBQUs7QUFDNUMsTUFBSSxLQUFLLFdBQVcsR0FBRyxHQUFHO0FBQ3hCLFdBQU8sbUJBQW1CO0FBQzFCLHlCQUFxQjtBQUFBLEVBQ3ZCO0FBQ0EsTUFBSSxDQUFDLG9CQUFvQjtBQUN2QixXQUFPLFVBQVU7QUFBQSxFQUNuQjtBQUNBLFFBQU0sTUFBTSxJQUFJLElBQUksSUFBSTtBQUN4QixNQUFJLE9BQU8sSUFBSTtBQUNmLE1BQUksQ0FBQyxNQUFNO0FBQ1QsUUFBSSxDQUFDLG9CQUFvQjtBQUN2QixhQUFPO0FBQUEsSUFDVCxPQUFPO0FBQ0wsYUFBTyxJQUFJLGFBQWEsV0FBVyxRQUFRO0FBQUEsSUFDN0M7QUFBQSxFQUNGO0FBQ0EsTUFBSSxnQkFBZ0IsR0FBRyxJQUFJLGFBQWEsSUFBSSxZQUFZLE9BQU8sSUFBSTtBQUNuRSxNQUFJLGNBQWMsU0FBUyxHQUFHLEdBQUc7QUFDL0Isb0JBQWdCLGNBQWMsTUFBTSxHQUFHLEVBQUU7QUFBQSxFQUMzQztBQUNBLFNBQU87QUFDVDtBQUVBLElBQUlDLGFBQVksT0FBTztBQUN2QixJQUFJLGtCQUFrQixDQUFDLEtBQUssS0FBSyxVQUFVLE9BQU8sTUFBTUEsV0FBVSxLQUFLLEtBQUssRUFBRSxZQUFZLE1BQU0sY0FBYyxNQUFNLFVBQVUsTUFBTSxNQUFNLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSTtBQUMxSixJQUFJLGdCQUFnQixDQUFDLEtBQUssS0FBSyxVQUFVO0FBQ3ZDLGtCQUFnQixLQUFLLE9BQU8sUUFBUSxXQUFXLE1BQU0sS0FBSyxLQUFLLEtBQUs7QUFDcEUsU0FBTztBQUNUO0FBQ0EsSUFBSSxXQUFXLE1BQU0sT0FBTztBQUFBLEVBQzFCLFlBQVksUUFBUTtBQTlMdEIsUUFBQUgsS0FBQTtBQStMSSxrQkFBYyxNQUFNLFFBQVE7QUFDNUIsa0JBQWMsTUFBTSxPQUFPO0FBQzNCLGtCQUFjLE1BQU0sMkJBQTJCLENBQUMsQ0FBQztBQUNqRCxTQUFLLFNBQVM7QUFBQSxNQUNaLE1BQU07QUFBQSxNQUNOLFNBQVMsaUNBQVE7QUFBQSxJQUNuQjtBQUNBLFFBQUksRUFBQyxpQ0FBUSxRQUFPO0FBQ2xCLFdBQUssT0FBTyxPQUFPLFlBQVdBLE1BQUEsaUNBQVEsU0FBUixPQUFBQSxNQUFnQix3QkFBd0I7QUFBQSxJQUN4RTtBQUNBLFNBQUssU0FBUSxzQ0FBUSxVQUFSLFlBQWlCO0FBQUEsRUFDaEM7QUFBQTtBQUFBLEVBRUEsUUFBUTtBQUNOLGVBQVcsV0FBVyxLQUFLLHlCQUF5QjtBQUNsRCxjQUFRLE1BQU07QUFBQSxJQUNoQjtBQUNBLFNBQUssd0JBQXdCLFNBQVM7QUFBQSxFQUN4QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVlBLE1BQU0seUJBQXlCLFVBQVUsU0FBUztBQTdOcEQsUUFBQUE7QUE4TkksWUFBUSxVQUFTQSxNQUFBLFFBQVEsV0FBUixPQUFBQSxNQUFrQjtBQUNuQyxVQUFNLE9BQU8sR0FBRyxLQUFLLE9BQU8sWUFBWTtBQUN4QyxRQUFJLFFBQVEsUUFBUTtBQUNsQixZQUFNLGtCQUFrQixJQUFJLGdCQUFnQjtBQUM1QyxZQUFNLFlBQVksTUFBTSxLQUFLLEtBQUssT0FBTyxNQUFNLFNBQVM7QUFBQSxRQUN0RCxRQUFRLGdCQUFnQjtBQUFBLFFBQ3hCLFNBQVMsS0FBSyxPQUFPO0FBQUEsTUFDdkIsQ0FBQztBQUNELFVBQUksQ0FBQyxVQUFVLE1BQU07QUFDbkIsY0FBTSxJQUFJLE1BQU0sY0FBYztBQUFBLE1BQ2hDO0FBQ0EsWUFBTSxNQUFNLFVBQVUsVUFBVSxJQUFJO0FBQ3BDLFlBQU0seUJBQXlCLElBQUk7QUFBQSxRQUNqQztBQUFBLFFBQ0E7QUFBQSxRQUNBLE1BQU07QUFDSixnQkFBTUksS0FBSSxLQUFLLHdCQUF3QixRQUFRLHNCQUFzQjtBQUNyRSxjQUFJQSxLQUFJLElBQUk7QUFDVixpQkFBSyx3QkFBd0IsT0FBT0EsSUFBRyxDQUFDO0FBQUEsVUFDMUM7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUNBLFdBQUssd0JBQXdCLEtBQUssc0JBQXNCO0FBQ3hELGFBQU87QUFBQSxJQUNUO0FBQ0EsVUFBTSxXQUFXLE1BQU0sS0FBSyxLQUFLLE9BQU8sTUFBTSxTQUFTO0FBQUEsTUFDckQsU0FBUyxLQUFLLE9BQU87QUFBQSxJQUN2QixDQUFDO0FBQ0QsV0FBTyxNQUFNLFNBQVMsS0FBSztBQUFBLEVBQzdCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsTUFBTSxZQUFZLE9BQU87QUFDdkIsUUFBSSxPQUFPLFVBQVUsVUFBVTtBQUM3QixZQUFNLGFBQWEsSUFBSSxXQUFXLEtBQUs7QUFDdkMsVUFBSSxhQUFhO0FBQ2pCLFlBQU0sTUFBTSxXQUFXO0FBQ3ZCLGVBQVNBLEtBQUksR0FBR0EsS0FBSSxLQUFLQSxNQUFLO0FBQzVCLHNCQUFjLE9BQU8sYUFBYSxXQUFXQSxFQUFDLENBQUM7QUFBQSxNQUNqRDtBQUNBLGFBQU8sS0FBSyxVQUFVO0FBQUEsSUFDeEI7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsTUFBTSxTQUFTLFNBQVM7QUFDdEIsUUFBSSxRQUFRLFFBQVE7QUFDbEIsY0FBUSxTQUFTLE1BQU0sUUFBUSxJQUFJLFFBQVEsT0FBTyxJQUFJLEtBQUssWUFBWSxLQUFLLElBQUksQ0FBQyxDQUFDO0FBQUEsSUFDcEY7QUFDQSxXQUFPLEtBQUsseUJBQXlCLFlBQVksT0FBTztBQUFBLEVBQzFEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsTUFBTSxLQUFLLFNBQVM7QUFDbEIsUUFBSSxRQUFRLFVBQVU7QUFDcEIsaUJBQVcsV0FBVyxRQUFRLFVBQVU7QUFDdEMsWUFBSSxRQUFRLFFBQVE7QUFDbEIsa0JBQVEsU0FBUyxNQUFNLFFBQVE7QUFBQSxZQUM3QixRQUFRLE9BQU8sSUFBSSxLQUFLLFlBQVksS0FBSyxJQUFJLENBQUM7QUFBQSxVQUNoRDtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUNBLFdBQU8sS0FBSyx5QkFBeUIsUUFBUSxPQUFPO0FBQUEsRUFDdEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxNQUFNLE9BQU8sU0FBUztBQUNwQixXQUFPLEtBQUsseUJBQXlCLFVBQVU7QUFBQSxNQUM3QyxHQUFHO0FBQUEsSUFDTCxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxNQUFNLEtBQUssU0FBUztBQUNsQixXQUFPLEtBQUsseUJBQXlCLFFBQVE7QUFBQSxNQUMzQyxNQUFNLFFBQVE7QUFBQSxNQUNkLFFBQVEsUUFBUTtBQUFBLE1BQ2hCLFVBQVUsUUFBUTtBQUFBLElBQ3BCLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLE1BQU0sS0FBSyxTQUFTO0FBQ2xCLFdBQU8sS0FBSyx5QkFBeUIsUUFBUTtBQUFBLE1BQzNDLE1BQU0sUUFBUTtBQUFBLE1BQ2QsUUFBUSxRQUFRO0FBQUEsTUFDaEIsVUFBVSxRQUFRO0FBQUEsSUFDcEIsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLE1BQU0sT0FBTyxTQUFTO0FBQ3BCLFVBQU07QUFBQSxNQUNKLEtBQUs7QUFBQSxNQUNMLEdBQUcsS0FBSyxPQUFPO0FBQUEsTUFDZixFQUFFLE1BQU0sUUFBUSxNQUFNO0FBQUEsTUFDdEIsRUFBRSxTQUFTLEtBQUssT0FBTyxRQUFRO0FBQUEsSUFDakM7QUFDQSxXQUFPLEVBQUUsUUFBUSxVQUFVO0FBQUEsRUFDN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLE1BQU0sS0FBSyxTQUFTO0FBQ2xCLFVBQU0sS0FBSyxLQUFLLE9BQU8sR0FBRyxLQUFLLE9BQU8saUJBQWlCLEVBQUUsR0FBRyxRQUFRLEdBQUc7QUFBQSxNQUNyRSxTQUFTLEtBQUssT0FBTztBQUFBLElBQ3ZCLENBQUM7QUFDRCxXQUFPLEVBQUUsUUFBUSxVQUFVO0FBQUEsRUFDN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxNQUFNLE9BQU87QUFDWCxVQUFNLFdBQVcsTUFBTSxJQUFJLEtBQUssT0FBTyxHQUFHLEtBQUssT0FBTyxpQkFBaUI7QUFBQSxNQUNyRSxTQUFTLEtBQUssT0FBTztBQUFBLElBQ3ZCLENBQUM7QUFDRCxXQUFPLE1BQU0sU0FBUyxLQUFLO0FBQUEsRUFDN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxNQUFNLEtBQUssU0FBUztBQUNsQixVQUFNLFdBQVcsTUFBTSxLQUFLLEtBQUssT0FBTyxHQUFHLEtBQUssT0FBTyxpQkFBaUI7QUFBQSxNQUN0RSxHQUFHO0FBQUEsSUFDTCxHQUFHO0FBQUEsTUFDRCxTQUFTLEtBQUssT0FBTztBQUFBLElBQ3ZCLENBQUM7QUFDRCxXQUFPLE1BQU0sU0FBUyxLQUFLO0FBQUEsRUFDN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxNQUFNLE1BQU0sU0FBUztBQUNuQixVQUFNLFdBQVcsTUFBTSxLQUFLLEtBQUssT0FBTyxHQUFHLEtBQUssT0FBTyxrQkFBa0I7QUFBQSxNQUN2RSxHQUFHO0FBQUEsSUFDTCxHQUFHO0FBQUEsTUFDRCxTQUFTLEtBQUssT0FBTztBQUFBLElBQ3ZCLENBQUM7QUFDRCxXQUFPLE1BQU0sU0FBUyxLQUFLO0FBQUEsRUFDN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxNQUFNLFdBQVcsU0FBUztBQUN4QixVQUFNLFdBQVcsTUFBTSxLQUFLLEtBQUssT0FBTyxHQUFHLEtBQUssT0FBTyx1QkFBdUI7QUFBQSxNQUM1RSxHQUFHO0FBQUEsSUFDTCxHQUFHO0FBQUEsTUFDRCxTQUFTLEtBQUssT0FBTztBQUFBLElBQ3ZCLENBQUM7QUFDRCxXQUFPLE1BQU0sU0FBUyxLQUFLO0FBQUEsRUFDN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxNQUFNLEtBQUs7QUFDVCxVQUFNLFdBQVcsTUFBTSxJQUFJLEtBQUssT0FBTyxHQUFHLEtBQUssT0FBTyxlQUFlO0FBQUEsTUFDbkUsU0FBUyxLQUFLLE9BQU87QUFBQSxJQUN2QixDQUFDO0FBQ0QsV0FBTyxNQUFNLFNBQVMsS0FBSztBQUFBLEVBQzdCO0FBQ0Y7QUFDQSxJQUFNLFVBQVUsSUFBSSxTQUFTOzs7QUZ2YTdCLElBQU1DLFVBQU4sY0FBcUIsU0FBUztBQUFBLEVBQzVCLE1BQU0sWUFBWSxPQUFPO0FBQ3ZCLFFBQUksT0FBTyxVQUFVLFVBQVU7QUFDN0IsYUFBTyxPQUFPLEtBQUssS0FBSyxFQUFFLFNBQVMsUUFBUTtBQUFBLElBQzdDO0FBQ0EsUUFBSTtBQUNGLFVBQUksVUFBQUMsUUFBRyxXQUFXLEtBQUssR0FBRztBQUN4QixjQUFNLGFBQWEsTUFBTSxtQkFBUyxhQUFTLHFCQUFRLEtBQUssQ0FBQztBQUN6RCxlQUFPLE9BQU8sS0FBSyxVQUFVLEVBQUUsU0FBUyxRQUFRO0FBQUEsTUFDbEQ7QUFBQSxJQUNGLFNBQVFDLElBQU47QUFBQSxJQUNGO0FBQ0EsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLE1BQU0sV0FBVyxNQUFNO0FBQ3JCLFFBQUk7QUFDRixZQUFNLG1CQUFTLE9BQU8sSUFBSTtBQUMxQixhQUFPO0FBQUEsSUFDVCxTQUFRQSxJQUFOO0FBQ0EsYUFBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQUEsRUFDQSxNQUFNLE9BQU8sU0FBUztBQUNwQixRQUFJLFFBQVEsUUFBUSxNQUFNLEtBQUssZUFBVyxxQkFBUSxRQUFRLElBQUksQ0FBQyxHQUFHO0FBQ2hFLFlBQU0sTUFBTSxzRUFBc0U7QUFBQSxJQUNwRjtBQUNBLFFBQUksUUFBUSxRQUFRO0FBQ2xCLGFBQU8sTUFBTSxPQUFPLE9BQU87QUFBQSxJQUM3QixPQUFPO0FBQ0wsYUFBTyxNQUFNLE9BQU8sT0FBTztBQUFBLElBQzdCO0FBQUEsRUFDRjtBQUNGO0FBQ0EsSUFBTSxRQUFRLElBQUlGLFFBQU87OztBR3ZDekIsSUFBSSxpQkFBaUIsT0FBTyxVQUFVO0FBQ3RDLElBQUksVUFBVSxNQUFNLFdBQVcsU0FBUyxnQkFBaUIsUUFBUTtBQUMvRCxTQUFPLGVBQWUsS0FBSyxNQUFNLE1BQU07QUFDekM7QUFFQSxTQUFTLFdBQVksUUFBUTtBQUMzQixTQUFPLE9BQU8sV0FBVztBQUMzQjtBQU1BLFNBQVMsUUFBUyxLQUFLO0FBQ3JCLFNBQU8sUUFBUSxHQUFHLElBQUksVUFBVSxPQUFPO0FBQ3pDO0FBRUEsU0FBUyxhQUFjLFFBQVE7QUFDN0IsU0FBTyxPQUFPLFFBQVEsK0JBQStCLE1BQU07QUFDN0Q7QUFNQSxTQUFTLFlBQWEsS0FBSyxVQUFVO0FBQ25DLFNBQU8sT0FBTyxRQUFRLE9BQU8sUUFBUSxZQUFhLFlBQVk7QUFDaEU7QUFNQSxTQUFTLHdCQUF5QixXQUFXLFVBQVU7QUFDckQsU0FDRSxhQUFhLFFBQ1YsT0FBTyxjQUFjLFlBQ3JCLFVBQVUsa0JBQ1YsVUFBVSxlQUFlLFFBQVE7QUFFeEM7QUFJQSxJQUFJLGFBQWEsT0FBTyxVQUFVO0FBQ2xDLFNBQVMsV0FBWSxJQUFJLFFBQVE7QUFDL0IsU0FBTyxXQUFXLEtBQUssSUFBSSxNQUFNO0FBQ25DO0FBRUEsSUFBSSxhQUFhO0FBQ2pCLFNBQVMsYUFBYyxRQUFRO0FBQzdCLFNBQU8sQ0FBQyxXQUFXLFlBQVksTUFBTTtBQUN2QztBQUVBLElBQUksWUFBWTtBQUFBLEVBQ2QsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsS0FBSztBQUNQO0FBRUEsU0FBUyxXQUFZLFFBQVE7QUFDM0IsU0FBTyxPQUFPLE1BQU0sRUFBRSxRQUFRLGdCQUFnQixTQUFTLGNBQWVHLElBQUc7QUFDdkUsV0FBTyxVQUFVQSxFQUFDO0FBQUEsRUFDcEIsQ0FBQztBQUNIO0FBRUEsSUFBSSxVQUFVO0FBQ2QsSUFBSSxVQUFVO0FBQ2QsSUFBSSxXQUFXO0FBQ2YsSUFBSSxVQUFVO0FBQ2QsSUFBSSxRQUFRO0FBNEJaLFNBQVMsY0FBZSxVQUFVLE1BQU07QUFDdEMsTUFBSSxDQUFDO0FBQ0gsV0FBTyxDQUFDO0FBQ1YsTUFBSSxrQkFBa0I7QUFDdEIsTUFBSSxXQUFXLENBQUM7QUFDaEIsTUFBSSxTQUFTLENBQUM7QUFDZCxNQUFJLFNBQVMsQ0FBQztBQUNkLE1BQUksU0FBUztBQUNiLE1BQUksV0FBVztBQUNmLE1BQUksY0FBYztBQUNsQixNQUFJLFdBQVc7QUFJZixXQUFTLGFBQWM7QUFDckIsUUFBSSxVQUFVLENBQUMsVUFBVTtBQUN2QixhQUFPLE9BQU87QUFDWixlQUFPLE9BQU8sT0FBTyxJQUFJLENBQUM7QUFBQSxJQUM5QixPQUFPO0FBQ0wsZUFBUyxDQUFDO0FBQUEsSUFDWjtBQUVBLGFBQVM7QUFDVCxlQUFXO0FBQUEsRUFDYjtBQUVBLE1BQUksY0FBYyxjQUFjO0FBQ2hDLFdBQVMsWUFBYSxlQUFlO0FBQ25DLFFBQUksT0FBTyxrQkFBa0I7QUFDM0Isc0JBQWdCLGNBQWMsTUFBTSxTQUFTLENBQUM7QUFFaEQsUUFBSSxDQUFDLFFBQVEsYUFBYSxLQUFLLGNBQWMsV0FBVztBQUN0RCxZQUFNLElBQUksTUFBTSxtQkFBbUIsYUFBYTtBQUVsRCxtQkFBZSxJQUFJLE9BQU8sYUFBYSxjQUFjLENBQUMsQ0FBQyxJQUFJLE1BQU07QUFDakUsbUJBQWUsSUFBSSxPQUFPLFNBQVMsYUFBYSxjQUFjLENBQUMsQ0FBQyxDQUFDO0FBQ2pFLHFCQUFpQixJQUFJLE9BQU8sU0FBUyxhQUFhLE1BQU0sY0FBYyxDQUFDLENBQUMsQ0FBQztBQUFBLEVBQzNFO0FBRUEsY0FBWSxRQUFRLFNBQVMsSUFBSTtBQUVqQyxNQUFJLFVBQVUsSUFBSSxRQUFRLFFBQVE7QUFFbEMsTUFBSUMsUUFBTyxNQUFNLE9BQU8sS0FBSyxPQUFPO0FBQ3BDLFNBQU8sQ0FBQyxRQUFRLElBQUksR0FBRztBQUNyQixJQUFBQSxTQUFRLFFBQVE7QUFHaEIsWUFBUSxRQUFRLFVBQVUsWUFBWTtBQUV0QyxRQUFJLE9BQU87QUFDVCxlQUFTQyxLQUFJLEdBQUcsY0FBYyxNQUFNLFFBQVFBLEtBQUksYUFBYSxFQUFFQSxJQUFHO0FBQ2hFLGNBQU0sTUFBTSxPQUFPQSxFQUFDO0FBRXBCLFlBQUksYUFBYSxHQUFHLEdBQUc7QUFDckIsaUJBQU8sS0FBSyxPQUFPLE1BQU07QUFDekIseUJBQWU7QUFBQSxRQUNqQixPQUFPO0FBQ0wscUJBQVc7QUFDWCw0QkFBa0I7QUFDbEIseUJBQWU7QUFBQSxRQUNqQjtBQUVBLGVBQU8sS0FBSyxDQUFFLFFBQVEsS0FBS0QsUUFBT0EsU0FBUSxDQUFFLENBQUM7QUFDN0MsUUFBQUEsVUFBUztBQUdULFlBQUksUUFBUSxNQUFNO0FBQ2hCLHFCQUFXO0FBQ1gsd0JBQWM7QUFDZCxxQkFBVztBQUNYLDRCQUFrQjtBQUFBLFFBQ3BCO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFHQSxRQUFJLENBQUMsUUFBUSxLQUFLLFlBQVk7QUFDNUI7QUFFRixhQUFTO0FBR1QsV0FBTyxRQUFRLEtBQUssS0FBSyxLQUFLO0FBQzlCLFlBQVEsS0FBSyxPQUFPO0FBR3BCLFFBQUksU0FBUyxLQUFLO0FBQ2hCLGNBQVEsUUFBUSxVQUFVLFFBQVE7QUFDbEMsY0FBUSxLQUFLLFFBQVE7QUFDckIsY0FBUSxVQUFVLFlBQVk7QUFBQSxJQUNoQyxXQUFXLFNBQVMsS0FBSztBQUN2QixjQUFRLFFBQVEsVUFBVSxjQUFjO0FBQ3hDLGNBQVEsS0FBSyxPQUFPO0FBQ3BCLGNBQVEsVUFBVSxZQUFZO0FBQzlCLGFBQU87QUFBQSxJQUNULE9BQU87QUFDTCxjQUFRLFFBQVEsVUFBVSxZQUFZO0FBQUEsSUFDeEM7QUFHQSxRQUFJLENBQUMsUUFBUSxLQUFLLFlBQVk7QUFDNUIsWUFBTSxJQUFJLE1BQU0scUJBQXFCLFFBQVEsR0FBRztBQUVsRCxRQUFJLFFBQVEsS0FBSztBQUNmLGNBQVEsQ0FBRSxNQUFNLE9BQU9BLFFBQU8sUUFBUSxLQUFLLGFBQWEsVUFBVSxlQUFnQjtBQUFBLElBQ3BGLE9BQU87QUFDTCxjQUFRLENBQUUsTUFBTSxPQUFPQSxRQUFPLFFBQVEsR0FBSTtBQUFBLElBQzVDO0FBQ0E7QUFDQSxXQUFPLEtBQUssS0FBSztBQUVqQixRQUFJLFNBQVMsT0FBTyxTQUFTLEtBQUs7QUFDaEMsZUFBUyxLQUFLLEtBQUs7QUFBQSxJQUNyQixXQUFXLFNBQVMsS0FBSztBQUV2QixvQkFBYyxTQUFTLElBQUk7QUFFM0IsVUFBSSxDQUFDO0FBQ0gsY0FBTSxJQUFJLE1BQU0sdUJBQXVCLFFBQVEsVUFBVUEsTUFBSztBQUVoRSxVQUFJLFlBQVksQ0FBQyxNQUFNO0FBQ3JCLGNBQU0sSUFBSSxNQUFNLHVCQUF1QixZQUFZLENBQUMsSUFBSSxVQUFVQSxNQUFLO0FBQUEsSUFDM0UsV0FBVyxTQUFTLFVBQVUsU0FBUyxPQUFPLFNBQVMsS0FBSztBQUMxRCxpQkFBVztBQUFBLElBQ2IsV0FBVyxTQUFTLEtBQUs7QUFFdkIsa0JBQVksS0FBSztBQUFBLElBQ25CO0FBQUEsRUFDRjtBQUVBLGFBQVc7QUFHWCxnQkFBYyxTQUFTLElBQUk7QUFFM0IsTUFBSTtBQUNGLFVBQU0sSUFBSSxNQUFNLHVCQUF1QixZQUFZLENBQUMsSUFBSSxVQUFVLFFBQVEsR0FBRztBQUUvRSxTQUFPLFdBQVcsYUFBYSxNQUFNLENBQUM7QUFDeEM7QUFNQSxTQUFTLGFBQWMsUUFBUTtBQUM3QixNQUFJLGlCQUFpQixDQUFDO0FBRXRCLE1BQUksT0FBTztBQUNYLFdBQVNDLEtBQUksR0FBRyxZQUFZLE9BQU8sUUFBUUEsS0FBSSxXQUFXLEVBQUVBLElBQUc7QUFDN0QsWUFBUSxPQUFPQSxFQUFDO0FBRWhCLFFBQUksT0FBTztBQUNULFVBQUksTUFBTSxDQUFDLE1BQU0sVUFBVSxhQUFhLFVBQVUsQ0FBQyxNQUFNLFFBQVE7QUFDL0Qsa0JBQVUsQ0FBQyxLQUFLLE1BQU0sQ0FBQztBQUN2QixrQkFBVSxDQUFDLElBQUksTUFBTSxDQUFDO0FBQUEsTUFDeEIsT0FBTztBQUNMLHVCQUFlLEtBQUssS0FBSztBQUN6QixvQkFBWTtBQUFBLE1BQ2Q7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUVBLFNBQU87QUFDVDtBQVFBLFNBQVMsV0FBWSxRQUFRO0FBQzNCLE1BQUksZUFBZSxDQUFDO0FBQ3BCLE1BQUksWUFBWTtBQUNoQixNQUFJLFdBQVcsQ0FBQztBQUVoQixNQUFJLE9BQU87QUFDWCxXQUFTQSxLQUFJLEdBQUcsWUFBWSxPQUFPLFFBQVFBLEtBQUksV0FBVyxFQUFFQSxJQUFHO0FBQzdELFlBQVEsT0FBT0EsRUFBQztBQUVoQixZQUFRLE1BQU0sQ0FBQyxHQUFHO0FBQUEsTUFDaEIsS0FBSztBQUFBLE1BQ0wsS0FBSztBQUNILGtCQUFVLEtBQUssS0FBSztBQUNwQixpQkFBUyxLQUFLLEtBQUs7QUFDbkIsb0JBQVksTUFBTSxDQUFDLElBQUksQ0FBQztBQUN4QjtBQUFBLE1BQ0YsS0FBSztBQUNILGtCQUFVLFNBQVMsSUFBSTtBQUN2QixnQkFBUSxDQUFDLElBQUksTUFBTSxDQUFDO0FBQ3BCLG9CQUFZLFNBQVMsU0FBUyxJQUFJLFNBQVMsU0FBUyxTQUFTLENBQUMsRUFBRSxDQUFDLElBQUk7QUFDckU7QUFBQSxNQUNGO0FBQ0Usa0JBQVUsS0FBSyxLQUFLO0FBQUEsSUFDeEI7QUFBQSxFQUNGO0FBRUEsU0FBTztBQUNUO0FBTUEsU0FBUyxRQUFTLFFBQVE7QUFDeEIsT0FBSyxTQUFTO0FBQ2QsT0FBSyxPQUFPO0FBQ1osT0FBSyxNQUFNO0FBQ2I7QUFLQSxRQUFRLFVBQVUsTUFBTSxTQUFTLE1BQU87QUFDdEMsU0FBTyxLQUFLLFNBQVM7QUFDdkI7QUFNQSxRQUFRLFVBQVUsT0FBTyxTQUFTLEtBQU0sSUFBSTtBQUMxQyxNQUFJQyxTQUFRLEtBQUssS0FBSyxNQUFNLEVBQUU7QUFFOUIsTUFBSSxDQUFDQSxVQUFTQSxPQUFNLFVBQVU7QUFDNUIsV0FBTztBQUVULE1BQUksU0FBU0EsT0FBTSxDQUFDO0FBRXBCLE9BQUssT0FBTyxLQUFLLEtBQUssVUFBVSxPQUFPLE1BQU07QUFDN0MsT0FBSyxPQUFPLE9BQU87QUFFbkIsU0FBTztBQUNUO0FBTUEsUUFBUSxVQUFVLFlBQVksU0FBUyxVQUFXLElBQUk7QUFDcEQsTUFBSUMsU0FBUSxLQUFLLEtBQUssT0FBTyxFQUFFLEdBQUdEO0FBRWxDLFVBQVFDLFFBQU87QUFBQSxJQUNiLEtBQUs7QUFDSCxNQUFBRCxTQUFRLEtBQUs7QUFDYixXQUFLLE9BQU87QUFDWjtBQUFBLElBQ0YsS0FBSztBQUNILE1BQUFBLFNBQVE7QUFDUjtBQUFBLElBQ0Y7QUFDRSxNQUFBQSxTQUFRLEtBQUssS0FBSyxVQUFVLEdBQUdDLE1BQUs7QUFDcEMsV0FBSyxPQUFPLEtBQUssS0FBSyxVQUFVQSxNQUFLO0FBQUEsRUFDekM7QUFFQSxPQUFLLE9BQU9ELE9BQU07QUFFbEIsU0FBT0E7QUFDVDtBQU1BLFNBQVMsUUFBUyxNQUFNLGVBQWU7QUFDckMsT0FBSyxPQUFPO0FBQ1osT0FBSyxRQUFRLEVBQUUsS0FBSyxLQUFLLEtBQUs7QUFDOUIsT0FBSyxTQUFTO0FBQ2hCO0FBTUEsUUFBUSxVQUFVLE9BQU8sU0FBUyxLQUFNLE1BQU07QUFDNUMsU0FBTyxJQUFJLFFBQVEsTUFBTSxJQUFJO0FBQy9CO0FBTUEsUUFBUSxVQUFVLFNBQVMsU0FBUyxPQUFRLE1BQU07QUFDaEQsTUFBSSxRQUFRLEtBQUs7QUFFakIsTUFBSTtBQUNKLE1BQUksTUFBTSxlQUFlLElBQUksR0FBRztBQUM5QixZQUFRLE1BQU0sSUFBSTtBQUFBLEVBQ3BCLE9BQU87QUFDTCxRQUFJLFVBQVUsTUFBTSxtQkFBbUIsT0FBT0MsUUFBTyxZQUFZO0FBRWpFLFdBQU8sU0FBUztBQUNkLFVBQUksS0FBSyxRQUFRLEdBQUcsSUFBSSxHQUFHO0FBQ3pCLDRCQUFvQixRQUFRO0FBQzVCLGdCQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLFFBQUFBLFNBQVE7QUFtQlIsZUFBTyxxQkFBcUIsUUFBUUEsU0FBUSxNQUFNLFFBQVE7QUFDeEQsY0FBSUEsV0FBVSxNQUFNLFNBQVM7QUFDM0Isd0JBQ0UsWUFBWSxtQkFBbUIsTUFBTUEsTUFBSyxDQUFDLEtBQ3hDLHdCQUF3QixtQkFBbUIsTUFBTUEsTUFBSyxDQUFDO0FBRzlELDhCQUFvQixrQkFBa0IsTUFBTUEsUUFBTyxDQUFDO0FBQUEsUUFDdEQ7QUFBQSxNQUNGLE9BQU87QUFDTCw0QkFBb0IsUUFBUSxLQUFLLElBQUk7QUFxQnJDLG9CQUFZLFlBQVksUUFBUSxNQUFNLElBQUk7QUFBQSxNQUM1QztBQUVBLFVBQUksV0FBVztBQUNiLGdCQUFRO0FBQ1I7QUFBQSxNQUNGO0FBRUEsZ0JBQVUsUUFBUTtBQUFBLElBQ3BCO0FBRUEsVUFBTSxJQUFJLElBQUk7QUFBQSxFQUNoQjtBQUVBLE1BQUksV0FBVyxLQUFLO0FBQ2xCLFlBQVEsTUFBTSxLQUFLLEtBQUssSUFBSTtBQUU5QixTQUFPO0FBQ1Q7QUFPQSxTQUFTLFNBQVU7QUFDakIsT0FBSyxnQkFBZ0I7QUFBQSxJQUNuQixRQUFRLENBQUM7QUFBQSxJQUNULEtBQUssU0FBUyxJQUFLLEtBQUssT0FBTztBQUM3QixXQUFLLE9BQU8sR0FBRyxJQUFJO0FBQUEsSUFDckI7QUFBQSxJQUNBLEtBQUssU0FBU0MsS0FBSyxLQUFLO0FBQ3RCLGFBQU8sS0FBSyxPQUFPLEdBQUc7QUFBQSxJQUN4QjtBQUFBLElBQ0EsT0FBTyxTQUFTLFFBQVM7QUFDdkIsV0FBSyxTQUFTLENBQUM7QUFBQSxJQUNqQjtBQUFBLEVBQ0Y7QUFDRjtBQUtBLE9BQU8sVUFBVSxhQUFhLFNBQVMsYUFBYztBQUNuRCxNQUFJLE9BQU8sS0FBSyxrQkFBa0IsYUFBYTtBQUM3QyxTQUFLLGNBQWMsTUFBTTtBQUFBLEVBQzNCO0FBQ0Y7QUFPQSxPQUFPLFVBQVUsUUFBUSxTQUFTLE1BQU8sVUFBVSxNQUFNO0FBQ3ZELE1BQUksUUFBUSxLQUFLO0FBQ2pCLE1BQUksV0FBVyxXQUFXLE9BQU8sUUFBUSxTQUFTLE1BQU0sS0FBSyxHQUFHO0FBQ2hFLE1BQUksaUJBQWlCLE9BQU8sVUFBVTtBQUN0QyxNQUFJLFNBQVMsaUJBQWlCLE1BQU0sSUFBSSxRQUFRLElBQUk7QUFFcEQsTUFBSSxVQUFVLFFBQVc7QUFDdkIsYUFBUyxjQUFjLFVBQVUsSUFBSTtBQUNyQyxzQkFBa0IsTUFBTSxJQUFJLFVBQVUsTUFBTTtBQUFBLEVBQzlDO0FBQ0EsU0FBTztBQUNUO0FBeUJBLE9BQU8sVUFBVSxTQUFTLFNBQVMsT0FBUSxVQUFVLE1BQU0sVUFBVSxRQUFRO0FBQzNFLE1BQUksT0FBTyxLQUFLLGNBQWMsTUFBTTtBQUNwQyxNQUFJLFNBQVMsS0FBSyxNQUFNLFVBQVUsSUFBSTtBQUN0QyxNQUFJLFVBQVcsZ0JBQWdCLFVBQVcsT0FBTyxJQUFJLFFBQVEsTUFBTSxNQUFTO0FBQzVFLFNBQU8sS0FBSyxhQUFhLFFBQVEsU0FBUyxVQUFVLFVBQVUsTUFBTTtBQUN0RTtBQVdBLE9BQU8sVUFBVSxlQUFlLFNBQVMsYUFBYyxRQUFRLFNBQVMsVUFBVSxrQkFBa0IsUUFBUTtBQUMxRyxNQUFJLFNBQVM7QUFFYixNQUFJLE9BQU8sUUFBUTtBQUNuQixXQUFTSCxLQUFJLEdBQUcsWUFBWSxPQUFPLFFBQVFBLEtBQUksV0FBVyxFQUFFQSxJQUFHO0FBQzdELFlBQVE7QUFDUixZQUFRLE9BQU9BLEVBQUM7QUFDaEIsYUFBUyxNQUFNLENBQUM7QUFFaEIsUUFBSSxXQUFXO0FBQUssY0FBUSxLQUFLLGNBQWMsT0FBTyxTQUFTLFVBQVUsa0JBQWtCLE1BQU07QUFBQSxhQUN4RixXQUFXO0FBQUssY0FBUSxLQUFLLGVBQWUsT0FBTyxTQUFTLFVBQVUsa0JBQWtCLE1BQU07QUFBQSxhQUM5RixXQUFXO0FBQUssY0FBUSxLQUFLLGNBQWMsT0FBTyxTQUFTLFVBQVUsTUFBTTtBQUFBLGFBQzNFLFdBQVc7QUFBSyxjQUFRLEtBQUssZUFBZSxPQUFPLE9BQU87QUFBQSxhQUMxRCxXQUFXO0FBQVEsY0FBUSxLQUFLLGFBQWEsT0FBTyxTQUFTLE1BQU07QUFBQSxhQUNuRSxXQUFXO0FBQVEsY0FBUSxLQUFLLFNBQVMsS0FBSztBQUV2RCxRQUFJLFVBQVU7QUFDWixnQkFBVTtBQUFBLEVBQ2Q7QUFFQSxTQUFPO0FBQ1Q7QUFFQSxPQUFPLFVBQVUsZ0JBQWdCLFNBQVMsY0FBZSxPQUFPLFNBQVMsVUFBVSxrQkFBa0IsUUFBUTtBQUMzRyxNQUFJSSxRQUFPO0FBQ1gsTUFBSSxTQUFTO0FBQ2IsTUFBSSxRQUFRLFFBQVEsT0FBTyxNQUFNLENBQUMsQ0FBQztBQUluQyxXQUFTLFVBQVcsVUFBVTtBQUM1QixXQUFPQSxNQUFLLE9BQU8sVUFBVSxTQUFTLFVBQVUsTUFBTTtBQUFBLEVBQ3hEO0FBRUEsTUFBSSxDQUFDO0FBQU87QUFFWixNQUFJLFFBQVEsS0FBSyxHQUFHO0FBQ2xCLGFBQVNDLEtBQUksR0FBRyxjQUFjLE1BQU0sUUFBUUEsS0FBSSxhQUFhLEVBQUVBLElBQUc7QUFDaEUsZ0JBQVUsS0FBSyxhQUFhLE1BQU0sQ0FBQyxHQUFHLFFBQVEsS0FBSyxNQUFNQSxFQUFDLENBQUMsR0FBRyxVQUFVLGtCQUFrQixNQUFNO0FBQUEsSUFDbEc7QUFBQSxFQUNGLFdBQVcsT0FBTyxVQUFVLFlBQVksT0FBTyxVQUFVLFlBQVksT0FBTyxVQUFVLFVBQVU7QUFDOUYsY0FBVSxLQUFLLGFBQWEsTUFBTSxDQUFDLEdBQUcsUUFBUSxLQUFLLEtBQUssR0FBRyxVQUFVLGtCQUFrQixNQUFNO0FBQUEsRUFDL0YsV0FBVyxXQUFXLEtBQUssR0FBRztBQUM1QixRQUFJLE9BQU8scUJBQXFCO0FBQzlCLFlBQU0sSUFBSSxNQUFNLGdFQUFnRTtBQUdsRixZQUFRLE1BQU0sS0FBSyxRQUFRLE1BQU0saUJBQWlCLE1BQU0sTUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTO0FBRXRGLFFBQUksU0FBUztBQUNYLGdCQUFVO0FBQUEsRUFDZCxPQUFPO0FBQ0wsY0FBVSxLQUFLLGFBQWEsTUFBTSxDQUFDLEdBQUcsU0FBUyxVQUFVLGtCQUFrQixNQUFNO0FBQUEsRUFDbkY7QUFDQSxTQUFPO0FBQ1Q7QUFFQSxPQUFPLFVBQVUsaUJBQWlCLFNBQVMsZUFBZ0IsT0FBTyxTQUFTLFVBQVUsa0JBQWtCLFFBQVE7QUFDN0csTUFBSSxRQUFRLFFBQVEsT0FBTyxNQUFNLENBQUMsQ0FBQztBQUluQyxNQUFJLENBQUMsU0FBVSxRQUFRLEtBQUssS0FBSyxNQUFNLFdBQVc7QUFDaEQsV0FBTyxLQUFLLGFBQWEsTUFBTSxDQUFDLEdBQUcsU0FBUyxVQUFVLGtCQUFrQixNQUFNO0FBQ2xGO0FBRUEsT0FBTyxVQUFVLGdCQUFnQixTQUFTLGNBQWUsU0FBUyxhQUFhLGlCQUFpQjtBQUM5RixNQUFJLHNCQUFzQixZQUFZLFFBQVEsV0FBVyxFQUFFO0FBQzNELE1BQUksY0FBYyxRQUFRLE1BQU0sSUFBSTtBQUNwQyxXQUFTTCxLQUFJLEdBQUdBLEtBQUksWUFBWSxRQUFRQSxNQUFLO0FBQzNDLFFBQUksWUFBWUEsRUFBQyxFQUFFLFdBQVdBLEtBQUksS0FBSyxDQUFDLGtCQUFrQjtBQUN4RCxrQkFBWUEsRUFBQyxJQUFJLHNCQUFzQixZQUFZQSxFQUFDO0FBQUEsSUFDdEQ7QUFBQSxFQUNGO0FBQ0EsU0FBTyxZQUFZLEtBQUssSUFBSTtBQUM5QjtBQUVBLE9BQU8sVUFBVSxnQkFBZ0IsU0FBUyxjQUFlLE9BQU8sU0FBUyxVQUFVLFFBQVE7QUFDekYsTUFBSSxDQUFDO0FBQVU7QUFDZixNQUFJLE9BQU8sS0FBSyxjQUFjLE1BQU07QUFFcEMsTUFBSSxRQUFRLFdBQVcsUUFBUSxJQUFJLFNBQVMsTUFBTSxDQUFDLENBQUMsSUFBSSxTQUFTLE1BQU0sQ0FBQyxDQUFDO0FBQ3pFLE1BQUksU0FBUyxNQUFNO0FBQ2pCLFFBQUksa0JBQWtCLE1BQU0sQ0FBQztBQUM3QixRQUFJLFdBQVcsTUFBTSxDQUFDO0FBQ3RCLFFBQUksY0FBYyxNQUFNLENBQUM7QUFDekIsUUFBSSxnQkFBZ0I7QUFDcEIsUUFBSSxZQUFZLEtBQUssYUFBYTtBQUNoQyxzQkFBZ0IsS0FBSyxjQUFjLE9BQU8sYUFBYSxlQUFlO0FBQUEsSUFDeEU7QUFDQSxRQUFJLFNBQVMsS0FBSyxNQUFNLGVBQWUsSUFBSTtBQUMzQyxXQUFPLEtBQUssYUFBYSxRQUFRLFNBQVMsVUFBVSxlQUFlLE1BQU07QUFBQSxFQUMzRTtBQUNGO0FBRUEsT0FBTyxVQUFVLGlCQUFpQixTQUFTLGVBQWdCLE9BQU8sU0FBUztBQUN6RSxNQUFJLFFBQVEsUUFBUSxPQUFPLE1BQU0sQ0FBQyxDQUFDO0FBQ25DLE1BQUksU0FBUztBQUNYLFdBQU87QUFDWDtBQUVBLE9BQU8sVUFBVSxlQUFlLFNBQVMsYUFBYyxPQUFPLFNBQVMsUUFBUTtBQUM3RSxNQUFJTSxVQUFTLEtBQUssZ0JBQWdCLE1BQU0sS0FBSyxTQUFTO0FBQ3RELE1BQUksUUFBUSxRQUFRLE9BQU8sTUFBTSxDQUFDLENBQUM7QUFDbkMsTUFBSSxTQUFTO0FBQ1gsV0FBUSxPQUFPLFVBQVUsWUFBWUEsWUFBVyxTQUFTLFNBQVUsT0FBTyxLQUFLLElBQUlBLFFBQU8sS0FBSztBQUNuRztBQUVBLE9BQU8sVUFBVSxXQUFXLFNBQVMsU0FBVSxPQUFPO0FBQ3BELFNBQU8sTUFBTSxDQUFDO0FBQ2hCO0FBRUEsT0FBTyxVQUFVLGdCQUFnQixTQUFTLGNBQWUsUUFBUTtBQUMvRCxNQUFJLFFBQVEsTUFBTSxHQUFHO0FBQ25CLFdBQU87QUFBQSxFQUNULFdBQ1MsVUFBVSxPQUFPLFdBQVcsVUFBVTtBQUM3QyxXQUFPLE9BQU87QUFBQSxFQUNoQixPQUNLO0FBQ0gsV0FBTztBQUFBLEVBQ1Q7QUFDRjtBQUVBLE9BQU8sVUFBVSxrQkFBa0IsU0FBUyxnQkFBaUIsUUFBUTtBQUNuRSxNQUFJLFVBQVUsT0FBTyxXQUFXLFlBQVksQ0FBQyxRQUFRLE1BQU0sR0FBRztBQUM1RCxXQUFPLE9BQU87QUFBQSxFQUNoQixPQUNLO0FBQ0gsV0FBTztBQUFBLEVBQ1Q7QUFDRjtBQUVBLElBQUksV0FBVztBQUFBLEVBQ2IsTUFBTTtBQUFBLEVBQ04sU0FBUztBQUFBLEVBQ1QsTUFBTSxDQUFFLE1BQU0sSUFBSztBQUFBLEVBQ25CLFlBQVk7QUFBQSxFQUNaLFFBQVE7QUFBQSxFQUNSLE9BQU87QUFBQSxFQUNQLFFBQVE7QUFBQSxFQUNSLFNBQVM7QUFBQSxFQUNULFNBQVM7QUFBQSxFQUNULFFBQVE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNUixJQUFJLGNBQWUsT0FBTztBQUN4QixrQkFBYyxnQkFBZ0I7QUFBQSxFQUNoQztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxnQkFBaUI7QUFDbkIsV0FBTyxjQUFjO0FBQUEsRUFDdkI7QUFDRjtBQUdBLElBQUksZ0JBQWdCLElBQUksT0FBTztBQUsvQixTQUFTLGFBQWEsU0FBU0MsY0FBYztBQUMzQyxTQUFPLGNBQWMsV0FBVztBQUNsQztBQU9BLFNBQVMsUUFBUSxTQUFTQyxPQUFPLFVBQVUsTUFBTTtBQUMvQyxTQUFPLGNBQWMsTUFBTSxVQUFVLElBQUk7QUFDM0M7QUFNQSxTQUFTLFNBQVMsU0FBU0MsUUFBUSxVQUFVLE1BQU0sVUFBVSxRQUFRO0FBQ25FLE1BQUksT0FBTyxhQUFhLFVBQVU7QUFDaEMsVUFBTSxJQUFJLFVBQVUsMERBQ1UsUUFBUSxRQUFRLElBQUksaUZBQzBCO0FBQUEsRUFDOUU7QUFFQSxTQUFPLGNBQWMsT0FBTyxVQUFVLE1BQU0sVUFBVSxNQUFNO0FBQzlEO0FBSUEsU0FBUyxTQUFTO0FBR2xCLFNBQVMsVUFBVTtBQUNuQixTQUFTLFVBQVU7QUFDbkIsU0FBUyxTQUFTO0FBRWxCLElBQU8sbUJBQVE7OztBQzN2QmYsSUFBSUMsV0FBVTtBQUFBLEVBQ1osS0FBSyxDQUFDO0FBQUEsRUFDTixLQUFLLENBQUM7QUFBQSxFQUNOLE9BQU8sQ0FBQztBQUFBLEVBQ1IsTUFBTSxDQUFDO0FBQ1Q7QUFFQSxJQUFJLFFBQVE7QUFBQSxFQUNWLEtBQUssQ0FBQztBQUFBLEVBQ04sS0FBSyxDQUFDO0FBQUEsRUFDTixPQUFPLENBQUM7QUFDVjtBQUNBLElBQUksVUFBVSxDQUFDO0FBQ2YsSUFBSSxRQUFRLENBQUM7QUFFYixJQUFPLGdCQUFRLEVBQUUsU0FBQUEsVUFBUyxPQUFPLFNBQVMsTUFBTTs7O0FDZmhELElBQU1DLFdBQVUsV0FBUyxPQUFPLFVBQVUsU0FBUyxLQUFLLEtBQUssTUFBTTtBQUVuRSxJQUFNLE1BQU07QUFBQTtBQUFBLEVBRVYsU0FBUyxTQUFVLE9BQU87QUFDeEIsVUFBTSxFQUFFLE9BQUFDLE9BQU0sSUFBSTtBQUNsQixVQUFNQyxXQUFVRCxPQUFNO0FBRXRCLFFBQUksT0FBTyxVQUFVLFlBQVlDLFNBQVEsZUFBZSxLQUFLLEdBQUc7QUFDOUQsTUFBQUEsU0FBUSxLQUFLLEVBQUUsSUFBSTtBQUFBLElBQ3JCLFdBRVNGLFNBQVEsS0FBSyxHQUFHO0FBQ3ZCLFlBQU0sUUFBUSxVQUFRO0FBQ3BCLFlBQUlDLE9BQU0sUUFBUSxlQUFlLElBQUksR0FBRztBQUN0QyxVQUFBQyxTQUFRLElBQUksRUFBRSxJQUFJO0FBQUEsUUFDcEIsT0FBTztBQUNMLGtCQUFRLEtBQUssZUFBZSxLQUFLO0FBQUEsUUFDbkM7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNILFdBRVMsT0FBTyxVQUFVLFlBQVk7QUFDcEMsWUFBTSxJQUFJO0FBQUEsSUFDWixPQUFPO0FBQ0wsY0FBUSxLQUFLLGVBQWUsS0FBSztBQUFBLElBQ25DO0FBQ0EsV0FBTztBQUFBLEVBQ1Q7QUFDRjtBQUNBLElBQU8sa0JBQVE7OztBQzVCZixJQUFNLFVBQVUsU0FBVSxJQUFJO0FBQzVCLE1BQUksT0FBTyxLQUFLO0FBQ2hCLE9BQUssUUFBUSxDQUFDLEtBQUtDLE9BQU07QUFDdkIsUUFBSSxPQUFPLEtBQUssT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUM1QixPQUFHLE1BQU1BLEVBQUM7QUFBQSxFQUNaLENBQUM7QUFDRCxTQUFPO0FBQ1Q7QUFFQSxJQUFNLE1BQU0sU0FBVSxJQUFJLE9BQU87QUFDL0IsTUFBSSxPQUFPLEtBQUs7QUFDaEIsTUFBSSxNQUFNLEtBQUssSUFBSSxDQUFDLEtBQUtBLE9BQU07QUFDN0IsUUFBSSxPQUFPLEtBQUssT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUM1QixRQUFJQyxPQUFNLEdBQUcsTUFBTUQsRUFBQztBQUVwQixRQUFJQyxTQUFRLFFBQVc7QUFDckIsYUFBTyxLQUFLLEtBQUs7QUFBQSxJQUNuQjtBQUNBLFdBQU9BO0FBQUEsRUFDVCxDQUFDO0FBQ0QsTUFBSSxJQUFJLFdBQVcsR0FBRztBQUNwQixXQUFPLFNBQVMsS0FBSyxPQUFPLENBQUMsQ0FBQztBQUFBLEVBQ2hDO0FBR0EsTUFBSSxJQUFJLENBQUMsTUFBTSxRQUFXO0FBRXhCLFFBQUksT0FBTyxJQUFJLENBQUMsTUFBTSxVQUFVO0FBQzlCLGFBQU87QUFBQSxJQUNUO0FBRUEsUUFBSSxPQUFPLElBQUksQ0FBQyxNQUFNLGFBQWEsSUFBSSxDQUFDLE1BQU0sUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLFNBQVM7QUFDckUsYUFBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBRUEsTUFBSSxNQUFNLENBQUM7QUFDWCxNQUFJLFFBQVEsU0FBTztBQUNqQixVQUFNLElBQUksT0FBTyxJQUFJLFdBQVc7QUFBQSxFQUNsQyxDQUFDO0FBQ0QsU0FBTyxLQUFLLE9BQU8sR0FBRztBQUN4QjtBQUVBLElBQU0sU0FBUyxTQUFVLElBQUk7QUFDM0IsTUFBSSxPQUFPLEtBQUs7QUFDaEIsU0FBTyxLQUFLLE9BQU8sQ0FBQyxLQUFLRCxPQUFNO0FBQzdCLFFBQUksT0FBTyxLQUFLLE9BQU8sQ0FBQyxHQUFHLENBQUM7QUFDNUIsV0FBTyxHQUFHLE1BQU1BLEVBQUM7QUFBQSxFQUNuQixDQUFDO0FBQ0QsTUFBSSxNQUFNLEtBQUssT0FBTyxJQUFJO0FBQzFCLFNBQU87QUFDVDtBQUVBLElBQU0sT0FBTyxTQUFVLElBQUk7QUFDekIsTUFBSSxPQUFPLEtBQUs7QUFDaEIsTUFBSSxRQUFRLEtBQUssS0FBSyxDQUFDLEtBQUtBLE9BQU07QUFDaEMsUUFBSSxPQUFPLEtBQUssT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUM1QixXQUFPLEdBQUcsTUFBTUEsRUFBQztBQUFBLEVBQ25CLENBQUM7QUFDRCxTQUFPLEtBQUssT0FBTyxDQUFDLEtBQUssQ0FBQztBQUM1QjtBQUVBLElBQU0sT0FBTyxTQUFVLElBQUk7QUFDekIsTUFBSSxPQUFPLEtBQUs7QUFDaEIsU0FBTyxLQUFLLEtBQUssQ0FBQyxLQUFLQSxPQUFNO0FBQzNCLFFBQUksT0FBTyxLQUFLLE9BQU8sQ0FBQyxHQUFHLENBQUM7QUFDNUIsV0FBTyxHQUFHLE1BQU1BLEVBQUM7QUFBQSxFQUNuQixDQUFDO0FBQ0g7QUFFQSxJQUFNLFNBQVMsU0FBVUUsS0FBSSxHQUFHO0FBQzlCLE1BQUksT0FBTyxLQUFLO0FBQ2hCLE1BQUlDLEtBQUksS0FBSyxNQUFNLEtBQUssT0FBTyxJQUFJLEtBQUssTUFBTTtBQUU5QyxNQUFJQSxLQUFJRCxLQUFJLEtBQUssUUFBUTtBQUN2QixJQUFBQyxLQUFJLEtBQUssU0FBU0Q7QUFDbEIsSUFBQUMsS0FBSUEsS0FBSSxJQUFJLElBQUlBO0FBQUEsRUFDbEI7QUFDQSxTQUFPLEtBQUssTUFBTUEsSUFBR0EsS0FBSUQsRUFBQztBQUMxQixTQUFPLEtBQUssT0FBTyxJQUFJO0FBQ3pCO0FBQ0EsSUFBTyxnQkFBUSxFQUFFLFNBQVMsS0FBSyxRQUFRLE1BQU0sTUFBTSxPQUFPOzs7QUNuRjFELElBQU0sUUFBUTtBQUFBO0FBQUEsRUFFWixVQUFVLFdBQVk7QUFDcEIsV0FBTyxLQUFLLFFBQVEsSUFBSSxTQUFTLEtBQUssSUFBSTtBQUFBLEVBQzVDO0FBQUE7QUFBQSxFQUVBLE9BQU8sU0FBVUUsSUFBRztBQUNsQixRQUFJLElBQUksS0FBSyxNQUFNLEdBQUc7QUFVdEIsV0FBTyxPQUFPQSxPQUFNLFdBQVcsRUFBRSxHQUFHQSxFQUFDLElBQUk7QUFBQSxFQUMzQztBQUFBO0FBQUEsRUFHQSxRQUFRLFNBQVUsT0FBTztBQUN2QixRQUFJLFNBQVMsVUFBVSxHQUFHO0FBQ3hCLGFBQU8sS0FBSyxPQUFPLEtBQUssUUFBUSxLQUFLLEtBQUssQ0FBQyxDQUFDO0FBQUEsSUFDOUM7QUFFQSxRQUFJLE1BQU0sQ0FBQztBQUNYLFdBQU8sS0FBSyxLQUFLLE9BQU8sRUFBRSxRQUFRLENBQUFDLE9BQUs7QUFDckMsVUFBSUEsRUFBQyxJQUFJLEtBQUssT0FBTyxLQUFLLFFBQVFBLEVBQUMsQ0FBQztBQUFBLElBQ3RDLENBQUM7QUFFRCxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUEsRUFFQSxJQUFJLFNBQVVELElBQUc7QUFDZixRQUFJLE1BQU0sS0FBSztBQUNmLFFBQUksQ0FBQyxLQUFLO0FBQ1IsWUFBTSxLQUFLLEtBQUssSUFBSSxDQUFDLE1BQU1FLE9BQU0sQ0FBQ0EsRUFBQyxDQUFDO0FBQUEsSUFDdEM7QUFDQSxRQUFJLElBQUlGLEVBQUMsR0FBRztBQUNWLGFBQU8sS0FBSyxPQUFPLENBQUMsSUFBSUEsRUFBQyxDQUFDLENBQUM7QUFBQSxJQUM3QjtBQUNBLFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDbkI7QUFBQTtBQUFBLEVBRUEsT0FBTyxXQUFZO0FBQ2pCLFdBQU8sS0FBSyxHQUFHLENBQUM7QUFBQSxFQUNsQjtBQUFBO0FBQUEsRUFFQSxNQUFNLFdBQVk7QUFDaEIsUUFBSUEsS0FBSSxLQUFLLFlBQVksU0FBUztBQUNsQyxXQUFPLEtBQUssR0FBR0EsRUFBQztBQUFBLEVBQ2xCO0FBQUE7QUFBQSxFQUdBLFlBQVksV0FBWTtBQUN0QixXQUFPLEtBQUssTUFBTSxJQUFJO0FBQUEsRUFDeEI7QUFBQTtBQUFBLEVBR0EsV0FBVyxXQUFZO0FBQ3JCLFdBQU8sS0FBSyxNQUFNLElBQUk7QUFBQSxFQUN4QjtBQUFBO0FBQUEsRUFHQSxPQUFPLFNBQVUsS0FBS0csTUFBSztBQUN6QixRQUFJLFFBQVEsS0FBSyxXQUFXLEtBQUssS0FBSyxJQUFJLENBQUMsSUFBSUgsT0FBTSxDQUFDQSxFQUFDLENBQUM7QUFDeEQsWUFBUSxNQUFNLE1BQU0sS0FBS0csSUFBRztBQUM1QixXQUFPLEtBQUssT0FBTyxLQUFLO0FBQUEsRUFDMUI7QUFBQTtBQUFBLEVBR0EsS0FBSyxXQUFZO0FBQ2YsV0FBTyxLQUFLLE9BQU8sRUFBRSxPQUFPO0FBQUEsRUFDOUI7QUFBQTtBQUFBLEVBRUEsZUFBZSxXQUFZO0FBQ3pCLFFBQUksT0FBTyxLQUFLLFlBQVksSUFBSSxDQUFBQyxPQUFLLENBQUNBLEdBQUUsQ0FBQyxDQUFDLENBQUM7QUFDM0MsV0FBTyxLQUFLLE9BQU8sSUFBSSxFQUFFLE9BQU87QUFBQSxFQUNsQztBQUFBO0FBQUEsRUFFQSxNQUFNLFdBQVk7QUFDaEIsV0FBTyxLQUFLLE9BQU8sQ0FBQyxDQUFDO0FBQUEsRUFDdkI7QUFBQTtBQUFBLEVBR0EsT0FBTyxTQUFVLEdBQUc7QUFDbEIsUUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLFFBQVE7QUFDbkIsYUFBTztBQUFBLElBQ1Q7QUFDQSxRQUFJLE9BQU8sS0FBSztBQUNoQixRQUFJLE9BQU8sRUFBRTtBQUNiLFFBQUksQ0FBQyxLQUFLLFdBQVcsS0FBSyxRQUFRO0FBQ2hDLGFBQU87QUFBQSxJQUNUO0FBRUEsV0FBTyxLQUFLLE1BQU0sQ0FBQyxLQUFLRixPQUFNO0FBQzVCLFVBQUksQ0FBQyxLQUFLQSxFQUFDLEdBQUc7QUFDWixlQUFPO0FBQUEsTUFDVDtBQUVBLGFBQU8sSUFBSSxDQUFDLE1BQU0sS0FBS0EsRUFBQyxFQUFFLENBQUMsS0FBSyxJQUFJLENBQUMsTUFBTSxLQUFLQSxFQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksQ0FBQyxNQUFNLEtBQUtBLEVBQUMsRUFBRSxDQUFDO0FBQUEsSUFDL0UsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBLEVBR0EsV0FBVyxXQUFZO0FBQ3JCLFdBQU8sS0FBSyxLQUFLLE9BQU8sQ0FBQyxPQUFPLFVBQVU7QUFDeEMsZUFBUyxNQUFNLE9BQU8sQ0FBQUcsT0FBS0EsR0FBRSxTQUFTLEVBQUUsRUFBRTtBQUMxQyxhQUFPO0FBQUEsSUFDVCxHQUFHLENBQUM7QUFBQSxFQUNOO0FBQUE7QUFBQSxFQUdBLFFBQVEsV0FBWTtBQUNsQixRQUFJLE9BQU8sS0FBSztBQUNoQixRQUFJLENBQUMsTUFBTTtBQUNULGFBQU87QUFBQSxJQUNUO0FBRUEsUUFBSSxLQUFLLFdBQVcsS0FBSyxLQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sR0FBRztBQUN6QyxhQUFPO0FBQUEsSUFDVDtBQUNBLFFBQUksWUFBWTtBQUNoQixRQUFJLFlBQVk7QUFDaEIsU0FBSyxTQUFTLFFBQVEsV0FBUyxhQUFhLE1BQU0sTUFBTTtBQUN4RCxTQUFLLEtBQUssUUFBUSxXQUFTLGFBQWEsTUFBTSxNQUFNO0FBQ3BELFdBQU8sY0FBYztBQUFBLEVBYXZCO0FBQUE7QUFBQSxFQUdBLFFBQVEsU0FBVUwsSUFBRztBQUNuQixRQUFJLE9BQU9BLE9BQU0sVUFBVTtBQUN6QixhQUFPLEtBQUssR0FBR0EsRUFBQztBQUFBLElBQ2xCLFdBQVcsT0FBT0EsT0FBTSxVQUFVO0FBQ2hDLGFBQU8sS0FBSyxHQUFHQSxFQUFDO0FBQUEsSUFDbEI7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUVGO0FBQ0EsTUFBTSxRQUFRLE1BQU07QUFDcEIsTUFBTSxlQUFlLE1BQU07QUFDM0IsTUFBTSxXQUFXLE1BQU07QUFDdkIsTUFBTSxXQUFXLE1BQU07QUFDdkIsTUFBTSxZQUFZLE1BQU07QUFDeEIsSUFBTyxnQkFBUTs7O0FDMUpmLElBQU1NLFdBQVUsT0FBTyxPQUFPLENBQUMsR0FBRyxlQUFNLGlCQUFTLGFBQUs7QUFHdERBLFNBQVEsTUFBTUEsU0FBUTtBQUN0QixJQUFPLGtCQUFRQTs7O0FDTGYsSUFBTSxPQUFOLE1BQVc7QUFBQSxFQUNULFlBQVlDLFdBQVUsU0FBUyxTQUFTLENBQUMsR0FBRztBQUUxQyxRQUFJLFFBQVE7QUFBQSxNQUNWLENBQUMsWUFBWUEsU0FBUTtBQUFBLE1BQ3JCLENBQUMsU0FBUyxhQUFLO0FBQUEsTUFDZixDQUFDLFdBQVcsTUFBTTtBQUFBLE1BQ2xCLENBQUMsVUFBVSxJQUFJO0FBQUEsTUFDZixDQUFDLFlBQVksTUFBTTtBQUFBLElBQ3JCO0FBQ0EsVUFBTSxRQUFRLENBQUFDLE9BQUs7QUFDakIsYUFBTyxlQUFlLE1BQU1BLEdBQUUsQ0FBQyxHQUFHO0FBQUEsUUFDaEMsT0FBT0EsR0FBRSxDQUFDO0FBQUEsUUFDVixVQUFVO0FBQUEsTUFDWixDQUFDO0FBQUEsSUFDSCxDQUFDO0FBQ0QsU0FBSyxPQUFPO0FBQUEsRUFDZDtBQUFBO0FBQUEsRUFFQSxJQUFJLE9BQU87QUFDVCxRQUFJLE9BQU8sS0FBSztBQUNoQixRQUFJLEtBQUssTUFBTTtBQUNiLGFBQU8sY0FBTSxRQUFRLElBQUksT0FBTyxLQUFLLE1BQU0sS0FBSyxRQUFRO0FBQUEsSUFDMUQ7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsSUFBSSxVQUFVO0FBQ1osV0FBTyxLQUFLO0FBQUEsRUFDZDtBQUFBLEVBQ0EsSUFBSSxVQUFVO0FBQ1osV0FBTyxLQUFLLE1BQU07QUFBQSxFQUNwQjtBQUFBLEVBQ0EsSUFBSSxRQUFRO0FBQ1YsV0FBTyxLQUFLLE1BQU07QUFBQSxFQUNwQjtBQUFBLEVBQ0EsSUFBSSxRQUFRO0FBQ1YsV0FBTyxLQUFLLE1BQU07QUFBQSxFQUNwQjtBQUFBLEVBQ0EsSUFBSSxTQUFTO0FBQ1gsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBLEVBRUEsSUFBSSxRQUFRO0FBQ1YsV0FBTyxLQUFLLEtBQUssU0FBUztBQUFBLEVBQzVCO0FBQUE7QUFBQSxFQUVBLElBQUksU0FBUztBQUNYLFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDbkI7QUFBQTtBQUFBLEVBRUEsSUFBSSxjQUFjO0FBQ2hCLFFBQUksRUFBRSxNQUFNLE1BQU0sVUFBQUQsVUFBUyxJQUFJO0FBRS9CLFFBQUksV0FBVyxRQUFRLEtBQUssSUFBSSxDQUFDLElBQUlFLE9BQU0sQ0FBQ0EsRUFBQyxDQUFDO0FBRTlDLFdBQU8sU0FBUyxJQUFJLENBQUFELE9BQUs7QUFDdkIsVUFBSSxDQUFDQyxJQUFHQyxRQUFPQyxNQUFLLElBQUksS0FBSyxJQUFJSDtBQUNqQyxNQUFBRSxTQUFRQSxVQUFTO0FBQ2pCLE1BQUFDLE9BQU1BLFNBQVFKLFVBQVNFLEVBQUMsS0FBSyxDQUFDLEdBQUc7QUFFakMsVUFBSUYsVUFBU0UsRUFBQyxLQUFLRixVQUFTRSxFQUFDLEVBQUVDLE1BQUssR0FBRztBQUNyQyxhQUFLLE1BQU1ILFVBQVNFLEVBQUMsRUFBRUMsTUFBSyxFQUFFO0FBQzlCLFlBQUlILFVBQVNFLEVBQUMsRUFBRUUsT0FBTSxDQUFDLEdBQUc7QUFDeEIsa0JBQVEsU0FBU0osVUFBU0UsRUFBQyxFQUFFRSxPQUFNLENBQUMsRUFBRTtBQUFBLFFBQ3hDO0FBQUEsTUFDRjtBQUNBLGFBQU8sQ0FBQ0YsSUFBR0MsUUFBT0MsTUFBSyxJQUFJLEtBQUs7QUFBQSxJQUNsQyxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUEsRUFFQSxPQUFPLFNBQVM7QUFDZCxRQUFJLElBQUksSUFBSSxLQUFLLEtBQUssVUFBVSxPQUFPO0FBRXZDLFFBQUksS0FBSyxVQUFVLFdBQVcsUUFBUSxTQUFTLEdBQUc7QUFFaEQsVUFBSSxRQUFRLENBQUM7QUFDYixjQUFRLFFBQVEsQ0FBQyxLQUFLQyxPQUFNO0FBQzFCLFlBQUksQ0FBQ0gsSUFBR0MsUUFBT0MsSUFBRyxJQUFJO0FBQ3RCLFlBQUksSUFBSSxXQUFXLEdBQUc7QUFDcEIsZ0JBQU1DLEVBQUMsSUFBSSxLQUFLLE9BQU9ILEVBQUM7QUFBQSxRQUMxQixXQUFXQyxXQUFVLEtBQUssS0FBSyxTQUFTRCxFQUFDLEVBQUUsV0FBV0UsTUFBSztBQUN6RCxnQkFBTUMsRUFBQyxJQUFJLEtBQUssT0FBT0gsRUFBQztBQUFBLFFBQzFCO0FBQUEsTUFDRixDQUFDO0FBQ0QsVUFBSSxNQUFNLFNBQVMsR0FBRztBQUNwQixVQUFFLFNBQVM7QUFBQSxNQUNiO0FBQUEsSUFDRjtBQUNBLE1BQUUsUUFBUSxLQUFLO0FBQ2YsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBLEVBRUEsT0FBTyxTQUFTO0FBQ2QsV0FBTyxJQUFJLEtBQUssS0FBSyxVQUFVLFdBQVcsS0FBSyxPQUFPO0FBQUEsRUFDeEQ7QUFBQSxFQUNBLFNBQVMsT0FBTztBQUNkLFVBQU0sRUFBRSxTQUFBSSxVQUFRLElBQUk7QUFFcEIsUUFBSU4sWUFBV00sVUFBUSxJQUFJLFNBQVMsV0FBVyxPQUFPLEtBQUssS0FBSztBQUNoRSxRQUFJLE1BQU0sSUFBSSxLQUFLTixTQUFRO0FBQzNCLFFBQUksUUFBUSxLQUFLO0FBQ2pCLFFBQUksUUFBUSxDQUFDLFVBQVUsVUFBVSxTQUFTLENBQUM7QUFDM0MsUUFBSSxLQUFLLE1BQU0sUUFBUSxXQUFXO0FBQ2hDLFVBQUksUUFBUSxXQUFXO0FBQUEsSUFDekI7QUFDQSxRQUFJLFFBQVEsVUFBVTtBQUN0QixXQUFPO0FBQUEsRUFDVDtBQUFBLEVBQ0EsUUFBUTtBQUVOLFFBQUlBLFlBQVcsS0FBSyxTQUFTLE1BQU0sQ0FBQztBQUNwQyxJQUFBQSxZQUFXQSxVQUFTLElBQUksV0FBUztBQUMvQixhQUFPLE1BQU0sSUFBSSxVQUFRO0FBQ3ZCLGVBQU8sT0FBTyxPQUFPLENBQUMsR0FBRyxJQUFJO0FBQzdCLGFBQUssT0FBTyxJQUFJLElBQUksS0FBSyxJQUFJO0FBQzdCLGVBQU87QUFBQSxNQUNULENBQUM7QUFBQSxJQUNILENBQUM7QUFFRCxRQUFJLElBQUksS0FBSyxPQUFPLEtBQUssT0FBTztBQUNoQyxNQUFFLFdBQVdBO0FBQ2IsTUFBRSxTQUFTLEtBQUs7QUFDaEIsV0FBTztBQUFBLEVBQ1Q7QUFDRjtBQUNBLE9BQU8sT0FBTyxLQUFLLFdBQVcsZUFBRztBQUNqQyxJQUFPLGVBQVE7OztBQ2pJZixJQUFPLGtCQUFROzs7QUNBZixJQUFNLFdBQVcsU0FBVSxNQUFNO0FBQy9CLFNBQU8sUUFBUSxPQUFPLFNBQVMsWUFBWSxDQUFDLE1BQU0sUUFBUSxJQUFJO0FBQ2hFO0FBR0EsU0FBUyxVQUFVTyxRQUFPQyxTQUFRO0FBQ2hDLE1BQUksU0FBU0EsT0FBTSxHQUFHO0FBQ3BCLGVBQVcsT0FBT0EsU0FBUTtBQUN4QixVQUFJLFNBQVNBLFFBQU8sR0FBRyxDQUFDLEdBQUc7QUFDekIsWUFBSSxDQUFDRCxPQUFNLEdBQUc7QUFBRyxpQkFBTyxPQUFPQSxRQUFPLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7QUFDbkQsa0JBQVVBLE9BQU0sR0FBRyxHQUFHQyxRQUFPLEdBQUcsQ0FBQztBQUFBLE1BQ25DLE9BQU87QUFDTCxlQUFPLE9BQU9ELFFBQU8sRUFBRSxDQUFDLEdBQUcsR0FBR0MsUUFBTyxHQUFHLEVBQUUsQ0FBQztBQUFBLE1BQzdDO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDQSxTQUFPRDtBQUNUO0FBS0EsU0FBUyxXQUFXQSxRQUFPQyxTQUFRO0FBQ2pDLGFBQVcsT0FBT0EsU0FBUTtBQUN4QixJQUFBRCxPQUFNLEdBQUcsSUFBSUEsT0FBTSxHQUFHLEtBQUssQ0FBQztBQUM1QixXQUFPLE9BQU9BLE9BQU0sR0FBRyxHQUFHQyxRQUFPLEdBQUcsQ0FBQztBQUFBLEVBQ3ZDO0FBQ0EsU0FBT0Q7QUFDVDtBQUVBLElBQU0sZ0JBQWdCLFNBQVVBLFFBQU8sTUFBTTtBQUMzQyxNQUFJLElBQUlBLE9BQU0sSUFBSSxVQUFVLENBQUM7QUFDN0IsU0FBTyxLQUFLLElBQUksRUFBRSxRQUFRLENBQUFFLE9BQUs7QUFFN0IsUUFBSSxLQUFLQSxFQUFDLEVBQUUsV0FBVztBQUNyQixVQUFJLEVBQUUsUUFBUTtBQUNaLFVBQUUsT0FBTyxHQUFHQSxFQUFDLElBQUksS0FBS0EsRUFBQyxFQUFFO0FBQUEsTUFDM0I7QUFDQSxVQUFJLEVBQUUsVUFBVTtBQUNkLFVBQUUsU0FBUyxHQUFHLEtBQUtBLEVBQUMsRUFBRSxTQUFTLElBQUlBO0FBQUEsTUFDckM7QUFBQSxJQUNGO0FBQ0EsUUFBSSxLQUFLQSxFQUFDLEVBQUUsY0FBYztBQUN4QixVQUFJLEVBQUUsV0FBVztBQUNmLFVBQUUsVUFBVSxHQUFHQSxFQUFDLElBQUksS0FBS0EsRUFBQyxFQUFFO0FBQUEsTUFDOUI7QUFDQSxVQUFJLEVBQUUsYUFBYTtBQUNqQixVQUFFLFlBQVksR0FBRyxLQUFLQSxFQUFDLEVBQUUsWUFBWSxJQUFJQTtBQUFBLE1BQzNDO0FBQUEsSUFDRjtBQUNBLFFBQUksS0FBS0EsRUFBQyxFQUFFLFFBQVE7QUFDbEIsVUFBSSxFQUFFLFVBQVU7QUFDZCxVQUFFLFNBQVMsR0FBR0EsRUFBQyxJQUFJLEtBQUtBLEVBQUMsRUFBRTtBQUFBLE1BQzdCO0FBQ0EsVUFBSSxFQUFFLFlBQVk7QUFDaEIsVUFBRSxXQUFXLEdBQUcsS0FBS0EsRUFBQyxFQUFFLE1BQU0sSUFBSUE7QUFBQSxNQUNwQztBQUFBLElBQ0Y7QUFFQSxRQUFJLEtBQUtBLEVBQUMsRUFBRSxhQUFhO0FBQ3ZCLFVBQUksRUFBRSxlQUFlO0FBQ25CLFVBQUUsY0FBYyxHQUFHQSxFQUFDLElBQUksS0FBS0EsRUFBQyxFQUFFO0FBQUEsTUFDbEM7QUFDQSxVQUFJLEVBQUUsaUJBQWlCO0FBQ3JCLFVBQUUsZ0JBQWdCLEdBQUcsS0FBS0EsRUFBQyxFQUFFLFdBQVcsSUFBSUE7QUFBQSxNQUM5QztBQUFBLElBQ0Y7QUFDQSxRQUFJLEtBQUtBLEVBQUMsRUFBRSxhQUFhO0FBQ3ZCLFVBQUksRUFBRSxlQUFlO0FBQ25CLFVBQUUsY0FBYyxHQUFHQSxFQUFDLElBQUksS0FBS0EsRUFBQyxFQUFFO0FBQUEsTUFDbEM7QUFDQSxVQUFJLEVBQUUsaUJBQWlCO0FBQ3JCLFVBQUUsZ0JBQWdCLEdBQUcsS0FBS0EsRUFBQyxFQUFFLFdBQVcsSUFBSUE7QUFBQSxNQUM5QztBQUFBLElBQ0Y7QUFBQSxFQUNGLENBQUM7QUFDSDtBQUVBLElBQU0sU0FBUyxTQUFVRCxTQUFRRSxRQUFPQyxPQUFNQyxNQUFLO0FBQ2pELFFBQU0sRUFBRSxTQUFBQyxXQUFTLE9BQUFOLFFBQU8sU0FBQU8sVUFBUyxPQUFBQyxPQUFNLElBQUlMO0FBQzNDLE1BQUlGLFFBQU8sU0FBUztBQUNsQixlQUFXSyxXQUFTTCxRQUFPLE9BQU87QUFBQSxFQUNwQztBQUNBLE1BQUlBLFFBQU8sT0FBTztBQUNoQixjQUFVRCxRQUFPQyxRQUFPLEtBQUs7QUFBQSxFQUMvQjtBQUNBLE1BQUlBLFFBQU8sWUFBWTtBQUNyQixrQkFBY0QsUUFBT0MsUUFBTyxVQUFVO0FBQUEsRUFDeEM7QUFFQSxNQUFJQSxRQUFPLFNBQVM7QUFDbEIsV0FBTyxPQUFPTSxVQUFTTixRQUFPLE9BQU87QUFBQSxFQUN2QztBQUVBLE1BQUlPLFFBQU87QUFDVCxJQUFBTCxPQUFNLFFBQVFLLE9BQU0sT0FBT1AsUUFBTyxTQUFTLENBQUMsQ0FBQztBQUFBLEVBQy9DO0FBRUEsTUFBSUEsUUFBTyxLQUFLO0FBQ2QsSUFBQUEsUUFBTyxJQUFJRyxLQUFJO0FBQUEsRUFDakI7QUFDQSxNQUFJSCxRQUFPLEtBQUs7QUFDZCxXQUFPLEtBQUtBLFFBQU8sR0FBRyxFQUFFLFFBQVEsQ0FBQUMsT0FBTUcsS0FBSUgsRUFBQyxJQUFJRCxRQUFPLElBQUlDLEVBQUMsQ0FBRTtBQUFBLEVBQy9EO0FBQ0EsTUFBSUQsUUFBTyxNQUFNO0FBQ2YsSUFBQUksS0FBSSxRQUFRSixRQUFPLElBQUk7QUFBQSxFQUN6QjtBQUNBLE1BQUlBLFFBQU8sT0FBTztBQUNoQixJQUFBSSxLQUFJLFNBQVNKLFFBQU8sS0FBSztBQUFBLEVBQzNCO0FBQ0EsTUFBSUEsUUFBTyxRQUFRO0FBQ2pCLElBQUFJLEtBQUksU0FBU0osUUFBTyxRQUFRLElBQUk7QUFBQSxFQUNsQztBQUNBLE1BQUlBLFFBQU8sUUFBUTtBQUNqQixJQUFBQSxRQUFPLE9BQU9FLFFBQU9FLElBQUc7QUFBQSxFQUMxQjtBQUNGO0FBQ0EsSUFBTyxpQkFBUTs7O0FDbkhmLElBQU0sVUFBVSxTQUFVLEtBQUs7QUFDN0IsUUFBTSxNQUFNLE9BQU8sWUFBWSxlQUFlLENBQUMsUUFBUSxNQUFNLEtBQUssT0FBTyxDQUFDLElBQUksUUFBUTtBQUN0RixNQUFJLGFBQWEsUUFBUSxZQUFZLFFBQVEsT0FBTyxPQUFPO0FBQzNELE1BQUksY0FBYyxRQUFRLFdBQVcsUUFBUSxPQUFPLE9BQU87QUFDM0QsTUFBSSxlQUFlLFFBQVEsYUFBYSxRQUFRLE9BQU8sT0FBTztBQUM5RCxTQUFPO0FBQ1Q7OztBQ1JBLElBQU1JLFlBQVcsU0FBTztBQUN0QixTQUFPLE9BQU8sVUFBVSxTQUFTLEtBQUssR0FBRyxNQUFNO0FBQ2pEO0FBRUEsSUFBTUMsV0FBVSxTQUFVLEtBQUs7QUFDN0IsU0FBTyxPQUFPLFVBQVUsU0FBUyxLQUFLLEdBQUcsTUFBTTtBQUNqRDtBQUdBLElBQU0sV0FBVyxTQUFVLE1BQU07QUFDL0IsU0FBTyxLQUFLLElBQUksQ0FBQUMsT0FBSztBQUNuQixXQUFPQSxHQUFFLE1BQU0sSUFBSSxVQUFRO0FBQ3pCLFVBQUlELFNBQVEsS0FBSyxJQUFJLEdBQUc7QUFDdEIsYUFBSyxPQUFPLElBQUksSUFBSSxLQUFLLElBQUk7QUFBQSxNQUMvQjtBQUNBLGFBQU87QUFBQSxJQUNULENBQUM7QUFBQSxFQUNILENBQUM7QUFDSDtBQUdBLElBQU0sZUFBZSxTQUFVLEtBQUs7QUFDbEMsU0FBTyxJQUFJLElBQUksQ0FBQ0UsT0FBTTtBQUNwQixXQUFPQSxHQUFFLElBQUksQ0FBQUMsU0FBTztBQUNsQixhQUFPO0FBQUEsUUFDTCxNQUFNQTtBQUFBLFFBQ04sUUFBUUE7QUFBQTtBQUFBLFFBQ1IsS0FBSztBQUFBLFFBQ0wsTUFBTTtBQUFBLFFBQ04sTUFBTSxvQkFBSSxJQUFJO0FBQUEsTUFDaEI7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNILENBQUM7QUFDSDtBQUVBLElBQU0sU0FBUyxTQUFVLE9BQU9DLE9BQU1DLFFBQU87QUFDM0MsUUFBTSxFQUFFLFNBQUFDLFVBQVEsSUFBSUQ7QUFDcEIsTUFBSSxNQUFNLElBQUlELE1BQUssQ0FBQyxDQUFDO0FBQ3JCLE1BQUksUUFBUUM7QUFFWixNQUFJLE9BQU8sVUFBVSxVQUFVO0FBQzdCLFlBQVEsT0FBTyxLQUFLO0FBQUEsRUFDdEI7QUFFQSxNQUFJLENBQUMsT0FBTztBQUNWLFdBQU87QUFBQSxFQUNUO0FBRUEsTUFBSSxPQUFPLFVBQVUsVUFBVTtBQUM3QixRQUFJRSxZQUFXRCxVQUFRLElBQUksU0FBUyxXQUFXLE9BQU9ELE1BQUs7QUFDM0QsV0FBTyxJQUFJRCxNQUFLRyxTQUFRO0FBQUEsRUFDMUI7QUFFQSxNQUFJUixVQUFTLEtBQUssS0FBSyxNQUFNLFFBQVE7QUFDbkMsV0FBTyxJQUFJSyxNQUFLLE1BQU0sVUFBVSxNQUFNLElBQUk7QUFBQSxFQUM1QztBQUVBLE1BQUlKLFNBQVEsS0FBSyxHQUFHO0FBRWxCLFFBQUlBLFNBQVEsTUFBTSxDQUFDLENBQUMsR0FBRztBQUNyQixVQUFJTyxZQUFXLGFBQWEsS0FBSztBQUNqQyxhQUFPLElBQUlILE1BQUtHLFNBQVE7QUFBQSxJQUMxQjtBQUVBLFFBQUlBLFlBQVcsU0FBUyxLQUFLO0FBQzdCLFdBQU8sSUFBSUgsTUFBS0csU0FBUTtBQUFBLEVBQzFCO0FBQ0EsU0FBTztBQUNUO0FBQ0EsSUFBTyxpQkFBUTs7O0FDOURmLElBQUksUUFBUSxPQUFPLE9BQU8sQ0FBQyxHQUFHLGFBQU87QUFFckMsSUFBTSxNQUFNLFNBQVUsT0FBTyxLQUFLO0FBQ2hDLE1BQUksS0FBSztBQUNQLFFBQUksU0FBUyxHQUFHO0FBQUEsRUFDbEI7QUFDQSxNQUFJLE1BQU0sZUFBYSxPQUFPLGNBQU0sS0FBSztBQUN6QyxNQUFJLE9BQU87QUFDVCxRQUFJLFFBQVEsTUFBTSxLQUFLO0FBQUEsRUFDekI7QUFDQSxTQUFPO0FBQ1Q7QUFDQSxPQUFPLGVBQWUsS0FBSyxVQUFVO0FBQUEsRUFDbkMsT0FBTztBQUFBLEVBQ1AsVUFBVTtBQUNaLENBQUM7QUFHRCxJQUFJLFdBQVcsU0FBVSxPQUFPLEtBQUs7QUFDbkMsUUFBTSxFQUFFLFNBQUFDLFNBQVEsSUFBSSxLQUFLO0FBRXpCLE1BQUksS0FBSztBQUNQLFFBQUksU0FBUyxHQUFHO0FBQUEsRUFDbEI7QUFFQSxNQUFJLE1BQU0sZUFBYSxPQUFPLGNBQU0sS0FBSztBQUV6QyxNQUFJQSxTQUFRLGNBQWM7QUFDeEIsUUFBSSxRQUFRLENBQUMsU0FBUyxVQUFVLFdBQVcsY0FBYyxDQUFDO0FBQUEsRUFDNUQ7QUFDQSxTQUFPO0FBQ1Q7QUFHQSxJQUFJLFNBQVMsU0FBVUMsU0FBUTtBQUM3QixpQkFBT0EsU0FBUSxLQUFLLFFBQVEsY0FBTSxJQUFJO0FBQ3RDLFNBQU87QUFDVDtBQUNBLElBQUksU0FBUyxJQUFJO0FBSWpCLElBQUksUUFBUSxXQUFZO0FBQ3RCLFNBQU8sS0FBSztBQUNkO0FBQ0EsSUFBSSxRQUFRLFdBQVk7QUFDdEIsU0FBTyxLQUFLLE9BQU87QUFDckI7QUFDQSxJQUFJLFVBQVUsV0FBWTtBQUN4QixTQUFPLEtBQUssT0FBTztBQUNyQjtBQUNBLElBQUksUUFBUSxXQUFZO0FBQ3RCLFNBQU8sS0FBSyxPQUFPO0FBQ3JCO0FBR0EsSUFBSSxVQUFVO0FBRWQsSUFBSSxVQUFVO0FBRWQsSUFBTyxjQUFROzs7QUNuRWYsSUFBTSxjQUFjLFNBQVVDLFdBQVU7QUFDdEMsTUFBSSxRQUFRQSxVQUFTLElBQUksV0FBUztBQUNoQyxRQUFJLFFBQVEsb0JBQUksSUFBSTtBQUNwQixVQUFNLFFBQVEsVUFBUTtBQUVwQixVQUFJLEtBQUssV0FBVyxJQUFJO0FBQ3RCLGNBQU0sSUFBSSxLQUFLLE1BQU07QUFBQSxNQUN2QjtBQUVBLFVBQUksS0FBSyxRQUFRO0FBQ2YsY0FBTSxJQUFJLElBQUksS0FBSyxTQUFTO0FBQUEsTUFDOUI7QUFFQSxVQUFJLEtBQUssVUFBVTtBQUNqQixjQUFNLElBQUksS0FBSyxRQUFRO0FBQUEsTUFDekI7QUFDQSxVQUFJLEtBQUssU0FBUztBQUNoQixjQUFNLElBQUksS0FBSyxPQUFPO0FBQUEsTUFDeEI7QUFDQSxVQUFJLEtBQUssTUFBTTtBQUNiLGNBQU0sSUFBSSxLQUFLLElBQUk7QUFBQSxNQUNyQjtBQUVBLFVBQUksS0FBSyxPQUFPO0FBQ2QsYUFBSyxNQUFNLFFBQVEsQ0FBQUMsU0FBTyxNQUFNLElBQUlBLElBQUcsQ0FBQztBQUFBLE1BQzFDO0FBQ0EsVUFBSSxPQUFPLE1BQU0sS0FBSyxLQUFLLElBQUk7QUFDL0IsZUFBU0MsS0FBSSxHQUFHQSxLQUFJLEtBQUssUUFBUUEsTUFBSyxHQUFHO0FBQ3ZDLGNBQU0sSUFBSSxNQUFNLEtBQUtBLEVBQUMsQ0FBQztBQUFBLE1BQ3pCO0FBQUEsSUFDRixDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1QsQ0FBQztBQUNELFNBQU87QUFDVDtBQUNBLElBQU8sbUJBQVE7OztBQ2pDZixJQUFPQyxtQkFBUTtBQUFBLEVBQ2IsS0FBSztBQUFBLElBQ0g7QUFBQSxFQUNGO0FBQ0Y7OztBQ05BLElBQU1DLFdBQVU7QUFBQTtBQUFBLEVBRWQsT0FBTyxXQUFZO0FBQ2pCLFNBQUssU0FBUyxLQUFLLFFBQVEsSUFBSSxTQUFTLEtBQUssUUFBUTtBQUNyRCxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUEsRUFFQSxTQUFTLFdBQVk7QUFDbkIsU0FBSyxTQUFTO0FBQ2QsV0FBTztBQUFBLEVBQ1Q7QUFDRjtBQUNBLElBQU0sU0FBUyxTQUFVQyxPQUFNO0FBQzdCLFNBQU8sT0FBT0EsTUFBSyxXQUFXRCxRQUFPO0FBQ3ZDO0FBQ0EsSUFBTyxjQUFROzs7QUNkZixJQUFPRSxtQkFBUTtBQUFBLEVBQ2IsT0FBTyxTQUFVLE1BQU07QUFDckIsU0FBSyxTQUFTLEtBQUssUUFBUSxJQUFJLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDdkQ7QUFDRjs7O0FDREEsSUFBTyxpQkFBUTtBQUFBLEVBQ2I7QUFBQSxFQUNBLFNBQUFDO0FBQUEsRUFDQSxTQUFBQztBQUNGOzs7QUNSQSxJQUFPLGVBQVE7QUFBQTtBQUFBLEVBRWIsYUFBYSxXQUFZO0FBQ3ZCLFNBQUssU0FBUyxFQUFFLFFBQVEsQ0FBQUMsT0FBSztBQUMzQixNQUFBQSxHQUFFLE9BQU9BLEdBQUUsS0FBSyxZQUFZO0FBQUEsSUFDOUIsQ0FBQztBQUNELFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQSxFQUVBLGFBQWEsV0FBWTtBQUN2QixTQUFLLFNBQVMsRUFBRSxRQUFRLENBQUFBLE9BQUs7QUFDM0IsTUFBQUEsR0FBRSxPQUFPQSxHQUFFLEtBQUssWUFBWTtBQUFBLElBQzlCLENBQUM7QUFDRCxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUEsRUFFQSxhQUFhLFdBQVk7QUFDdkIsU0FBSyxTQUFTLEVBQUUsUUFBUSxDQUFBQSxPQUFLO0FBQzNCLE1BQUFBLEdBQUUsT0FBT0EsR0FBRSxLQUFLLFFBQVEseUJBQXlCLE9BQUssRUFBRSxZQUFZLENBQUM7QUFBQSxJQUN2RSxDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBLEVBRUEsYUFBYSxXQUFZO0FBQ3ZCLFNBQUssS0FBSyxRQUFRLFdBQVM7QUFDekIsWUFBTSxRQUFRLENBQUNBLElBQUdDLE9BQU07QUFDdEIsWUFBSUEsT0FBTSxHQUFHO0FBQ1gsVUFBQUQsR0FBRSxPQUFPQSxHQUFFLEtBQUssUUFBUSx5QkFBeUIsT0FBSyxFQUFFLFlBQVksQ0FBQztBQUFBLFFBQ3ZFO0FBQ0EsWUFBSUMsT0FBTSxNQUFNLFNBQVMsR0FBRztBQUMxQixVQUFBRCxHQUFFLE9BQU87QUFBQSxRQUNYO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSCxDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1Q7QUFDRjs7O0FDbkNBLElBQU0sY0FBYyxDQUFDRSxTQUFRLHFCQUFxQixLQUFLQSxJQUFHLEtBQUssWUFBWSxLQUFLQSxJQUFHO0FBQ25GLElBQU0sY0FBYyxDQUFDQSxTQUFRQSxLQUFJLFFBQVEsWUFBWSxPQUFLLEVBQUUsWUFBWSxDQUFDO0FBQ3pFLElBQU0sY0FBYyxDQUFDQSxTQUFRQSxLQUFJLFFBQVEsWUFBWSxPQUFLLEVBQUUsWUFBWSxDQUFDO0FBR3pFLElBQU0sWUFBWSxDQUFDLFFBQVFDLFFBQU8sVUFBVTtBQUUxQyxRQUFNLFFBQVEsVUFBUSxLQUFLLFFBQVEsSUFBSTtBQUN2QyxNQUFJLFFBQVE7QUFDVixRQUFJLE9BQU8sQ0FBQ0EsUUFBTyxDQUFDLEVBQUUsT0FBTyxLQUFLO0FBQ2xDLFVBQU0sVUFBVSxPQUFPLE1BQU0sUUFBUSxJQUFJO0FBQUEsRUFDM0M7QUFDQSxTQUFPO0FBQ1Q7QUFHQSxJQUFNLFdBQVcsU0FBVSxPQUFPO0FBQ2hDLFFBQU1DLFlBQVc7QUFDakIsUUFBTUMsV0FBVTtBQUNoQixNQUFJLFdBQVcsTUFBTSxNQUFNLFNBQVMsQ0FBQztBQUNyQyxNQUFJLFlBQVksQ0FBQ0QsVUFBUyxLQUFLLFNBQVMsSUFBSSxLQUFLLENBQUNDLFNBQVEsS0FBSyxTQUFTLElBQUksR0FBRztBQUM3RSxhQUFTLFFBQVE7QUFBQSxFQUNuQjtBQUNGO0FBR0EsSUFBTSxZQUFZLENBQUMsUUFBUUMsTUFBSyxXQUFXO0FBQ3pDLFFBQU0sUUFBUTtBQUNkLE1BQUksVUFBVSxPQUFPQSxPQUFNLENBQUM7QUFDNUIsTUFBSSxDQUFDLFNBQVM7QUFDWjtBQUFBLEVBQ0Y7QUFDQSxNQUFJQyxRQUFPLFFBQVE7QUFDbkIsTUFBSSxNQUFNLEtBQUtBLEtBQUksR0FBRztBQUNwQixRQUFJLFFBQVFBLE1BQUssTUFBTSxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ3JDLFFBQUksT0FBTyxPQUFPLE9BQU8sU0FBUyxDQUFDO0FBQ25DLFNBQUssT0FBTyxRQUFRLEtBQUs7QUFFekIsWUFBUSxPQUFPLFFBQVEsS0FBSyxRQUFRLE9BQU8sRUFBRTtBQUFBLEVBQy9DO0FBQ0Y7QUFHQSxJQUFNLGdCQUFnQixTQUFVLE1BQU1DLFFBQU8sUUFBUTtBQUNuRCxNQUFJLE9BQU8sS0FBS0EsTUFBSztBQUVyQixNQUFJQSxXQUFVLEtBQUssQ0FBQyxZQUFZLEtBQUssSUFBSSxHQUFHO0FBQzFDO0FBQUEsRUFDRjtBQUVBLFNBQU8sQ0FBQyxFQUFFLE9BQU8sWUFBWSxPQUFPLENBQUMsRUFBRSxJQUFJO0FBRTNDLE1BQUksTUFBTSxLQUFLQSxNQUFLO0FBQ3BCLE1BQUksSUFBSSxLQUFLLElBQUksWUFBWSxLQUFLLElBQUksS0FBSyxJQUFJLFNBQVMsR0FBRztBQUN6RDtBQUFBLEVBQ0Y7QUFDQSxNQUFJLFlBQVksSUFBSSxJQUFJLEtBQUssSUFBSSxLQUFLLFNBQVMsR0FBRztBQUNoRCxRQUFJLE9BQU8sWUFBWSxJQUFJLElBQUk7QUFBQSxFQUNqQztBQUNGO0FBR0EsSUFBTSxlQUFlLFNBQVUsTUFBTSxLQUFLLFFBQVFDLFdBQVU7QUFDMUQsTUFBSSxDQUFDQyxJQUFHRixRQUFPRixJQUFHLElBQUk7QUFFdEIsTUFBSUUsV0FBVSxHQUFHO0FBRWYsYUFBUyxNQUFNO0FBQUEsRUFDakIsV0FBV0YsU0FBUUcsVUFBU0MsRUFBQyxFQUFFLFFBQVE7QUFFckMsYUFBUyxNQUFNO0FBQUEsRUFDakIsT0FBTztBQUVMLGFBQVMsTUFBTTtBQUNmLGFBQVMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUFBLEVBQ3pCO0FBQ0EsZ0JBQWMsTUFBTUYsUUFBTyxNQUFNO0FBRWpDLFlBQVUsTUFBTUEsUUFBTyxNQUFNO0FBQy9CO0FBRUEsSUFBTSxjQUFjLFNBQVUsTUFBTSxLQUFLLFFBQVFDLFdBQVU7QUFDekQsTUFBSSxDQUFDQyxJQUFHLEVBQUVKLElBQUcsSUFBSTtBQUNqQixNQUFJLFNBQVNHLFVBQVNDLEVBQUMsS0FBSyxDQUFDLEdBQUc7QUFDaEMsTUFBSUosT0FBTSxPQUFPO0FBR2YsY0FBVSxNQUFNQSxNQUFLLE1BQU07QUFDM0IsYUFBUyxNQUFNO0FBQUEsRUFDakIsV0FBVyxVQUFVQSxNQUFLO0FBR3hCLGFBQVMsSUFBSTtBQUViLGNBQVUsTUFBTUEsTUFBSyxNQUFNO0FBRTNCLFFBQUlHLFVBQVNDLEtBQUksQ0FBQyxHQUFHO0FBQ25CLGFBQU8sT0FBTyxTQUFTLENBQUMsRUFBRSxRQUFRO0FBQUEsSUFDcEM7QUFBQSxFQUNGO0FBQ0EsWUFBVSxNQUFNLElBQUksQ0FBQyxHQUFHLE1BQU07QUFFOUIsTUFBSSxDQUFDLElBQUksT0FBTyxPQUFPLFNBQVMsQ0FBQyxFQUFFO0FBQ3JDOzs7QUMxRUEsSUFBSUMsU0FBUTtBQUVaLElBQU0sT0FBTyxDQUFDQyxTQUFRO0FBQ3BCLEVBQUFBLE9BQU1BLEtBQUksU0FBUyxJQUFJLE1BQU1BLE9BQU1BO0FBQ25DLFNBQU9BLEtBQUksU0FBUyxJQUFJLE1BQU1BLE9BQU1BO0FBQ3RDO0FBRUEsSUFBTSxPQUFPLFNBQVUsTUFBTTtBQUMzQixNQUFJLENBQUNDLElBQUdDLEVBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxHQUFHLENBQUM7QUFDaEMsRUFBQUgsVUFBUztBQUdULEVBQUFBLFNBQVFBLFNBQVEsUUFBUSxJQUFJQTtBQUU1QixFQUFBRSxLQUFJQSxLQUFJLFFBQVEsSUFBSUE7QUFFcEIsRUFBQUMsS0FBSUEsS0FBSSxPQUFPLElBQUlBO0FBR25CLE1BQUksS0FBSyxLQUFLSCxPQUFNLFNBQVMsRUFBRSxDQUFDO0FBRWhDLFFBQU0sS0FBS0UsR0FBRSxTQUFTLEVBQUUsQ0FBQztBQUd6QixNQUFJLEtBQUtDLEdBQUUsU0FBUyxFQUFFO0FBQ3RCLE9BQUssR0FBRyxTQUFTLElBQUksTUFBTSxLQUFLO0FBQ2hDLFFBQU07QUFHTixNQUFJQyxLQUFJLFNBQVMsS0FBSyxPQUFPLElBQUksSUFBSSxFQUFFO0FBQ3ZDLFFBQU9BLEdBQUcsU0FBUyxFQUFFO0FBRXJCLFNBQU8sS0FBSyxTQUFTLE1BQU0sR0FBRyxZQUFZO0FBQzVDO0FBRUEsSUFBTyxlQUFROzs7QUM3RGYsSUFBTSxTQUFTLFNBQVUsR0FBRztBQUMxQixNQUFJLEVBQUUsSUFBSSxpQkFBaUIsS0FBSyxPQUFPLEVBQUUsaUJBQWlCLFlBQVk7QUFFcEUsUUFBSSxPQUFPLEVBQUUsS0FBSyxpQkFBaUI7QUFDbkMsU0FBSyxhQUFhLEVBQUUsT0FBTztBQUFBLEVBQzdCO0FBQ0Y7QUFFQSxJQUFNQyxXQUFVLFNBQU8sT0FBTyxVQUFVLFNBQVMsS0FBSyxHQUFHLE1BQU07QUFHL0QsSUFBTSxTQUFTLFNBQVUsT0FBTztBQUM5QixVQUFRLE1BQU0sSUFBSSxVQUFRO0FBQ3hCLFNBQUssS0FBSyxhQUFLLElBQUk7QUFDbkIsV0FBTztBQUFBLEVBQ1QsQ0FBQztBQUNELFNBQU87QUFDVDtBQUVBLElBQU0sV0FBVyxTQUFVLE9BQU9DLFFBQU87QUFDdkMsUUFBTSxFQUFFLFNBQUFDLFVBQVEsSUFBSUQ7QUFFcEIsTUFBSSxPQUFPLFVBQVUsVUFBVTtBQUM3QixXQUFPQyxVQUFRLElBQUksU0FBUyxXQUFXLE9BQU9ELE1BQUssRUFBRSxDQUFDO0FBQUEsRUFDeEQ7QUFFQSxNQUFJLE9BQU8sVUFBVSxZQUFZLE1BQU0sUUFBUTtBQUM3QyxXQUFPLE1BQU0sTUFBTSxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUM7QUFBQSxFQUNuQztBQUVBLE1BQUlELFNBQVEsS0FBSyxHQUFHO0FBQ2xCLFdBQU9BLFNBQVEsTUFBTSxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSTtBQUFBLEVBQ3hDO0FBQ0EsU0FBTyxDQUFDO0FBQ1Y7QUFFQSxJQUFNLFNBQVMsU0FBVSxPQUFPLE1BQU0sU0FBUztBQUM3QyxRQUFNLEVBQUUsVUFBQUcsV0FBVSxPQUFBRixPQUFNLElBQUk7QUFDNUIsT0FBSyxRQUFRO0FBRWIsTUFBSSxPQUFPLEtBQUs7QUFDaEIsTUFBSSxXQUFXLEtBQUs7QUFDcEIsT0FBSyxRQUFRLENBQUMsR0FBR0csT0FBTTtBQUNyQixRQUFJLE1BQU0sRUFBRSxZQUFZLENBQUM7QUFDekIsUUFBSSxDQUFDQyxFQUFDLElBQUk7QUFFVixRQUFJLE9BQU9GLFVBQVNFLEVBQUM7QUFDckIsUUFBSSxRQUFRLFNBQVMsT0FBT0osTUFBSztBQUVqQyxRQUFJLE1BQU0sV0FBVyxHQUFHO0FBQ3RCO0FBQUEsSUFDRjtBQUNBLFlBQVEsT0FBTyxLQUFLO0FBQ3BCLFFBQUksU0FBUztBQUNYLGFBQU8sS0FBSyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsVUFBVSxDQUFDO0FBQ3JDLG1CQUFhLE1BQU0sS0FBSyxPQUFPRSxTQUFRO0FBQUEsSUFDekMsT0FBTztBQUNMLGFBQU8sS0FBSyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsU0FBUyxDQUFDO0FBQ3BDLGtCQUFZLE1BQU0sS0FBSyxPQUFPQSxTQUFRO0FBQUEsSUFDeEM7QUFFQSxRQUFJQSxVQUFTRSxFQUFDLEtBQUtGLFVBQVNFLEVBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHO0FBQ3RDLFVBQUksQ0FBQyxJQUFJRixVQUFTRSxFQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRTtBQUFBLElBQy9CO0FBRUEsYUFBU0QsRUFBQyxJQUFJO0FBRWQsUUFBSSxDQUFDLEtBQUssTUFBTTtBQUNoQixTQUFLQSxFQUFDLElBQUk7QUFBQSxFQUNaLENBQUM7QUFDRCxNQUFJLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFFMUIsT0FBSyxPQUFPO0FBRVosTUFBSSxRQUFRLENBQUMsTUFBTSxTQUFTLFVBQVUsU0FBUyxDQUFDO0FBQ2hELE1BQUksSUFBSSxNQUFNLFFBQVEsV0FBVztBQUMvQixRQUFJLFFBQVEsV0FBVztBQUFBLEVBQ3pCO0FBQ0EsTUFBSSxRQUFRLFVBQVU7QUFDdEIsU0FBTztBQUNUO0FBRUEsSUFBTUUsT0FBTTtBQUFBLEVBQ1YsYUFBYSxTQUFVLE9BQU87QUFDNUIsV0FBTyxPQUFPLE9BQU8sTUFBTSxLQUFLO0FBQUEsRUFDbEM7QUFBQSxFQUNBLGNBQWMsU0FBVSxPQUFPO0FBQzdCLFdBQU8sT0FBTyxPQUFPLE1BQU0sSUFBSTtBQUFBLEVBQ2pDO0FBQ0Y7QUFDQUEsS0FBSSxTQUFTQSxLQUFJO0FBQ2pCQSxLQUFJLFVBQVVBLEtBQUk7QUFDbEJBLEtBQUksU0FBU0EsS0FBSTtBQUVqQixJQUFPLGlCQUFRQTs7O0FDbEdmLElBQU0sYUFBYTtBQUNuQixJQUFNQyxPQUFNLENBQUM7QUFHYixJQUFNQyxlQUFjLENBQUNDLFNBQVEscUJBQXFCLEtBQUtBLElBQUcsS0FBSyxZQUFZLEtBQUtBLElBQUc7QUFDbkYsSUFBTUMsZUFBYyxDQUFDRCxTQUFRQSxLQUFJLFFBQVEsWUFBWSxPQUFLLEVBQUUsWUFBWSxDQUFDO0FBQ3pFLElBQU1FLGVBQWMsQ0FBQ0YsU0FBUUEsS0FBSSxRQUFRLFlBQVksT0FBSyxFQUFFLFlBQVksQ0FBQztBQUd6RSxJQUFNLGNBQWMsU0FBVSxNQUFNLElBQUksTUFBTTtBQUM1QyxPQUFLLFFBQVEsT0FBSztBQUNoQixRQUFJRyxPQUFNLEdBQUcsQ0FBQztBQUNkLE1BQUUsWUFBWUEsTUFBSyxJQUFJO0FBQUEsRUFDekIsQ0FBQztBQUNELFNBQU87QUFDVDtBQUdBLElBQU0sZ0JBQWdCLFNBQVUsT0FBTyxNQUFNO0FBQzNDLE1BQUksT0FBTyxVQUFVLFVBQVU7QUFDN0IsV0FBTztBQUFBLEVBQ1Q7QUFDQSxNQUFJLFNBQVMsS0FBSyxPQUFPO0FBQ3pCLFVBQVEsTUFBTSxRQUFRLFlBQVksQ0FBQUMsT0FBSztBQUNyQyxRQUFJLE1BQU1BLEdBQUUsUUFBUSxNQUFNLEVBQUU7QUFDNUIsUUFBSSxPQUFPLGVBQWUsR0FBRyxHQUFHO0FBQzlCLGFBQU8sT0FBTyxHQUFHLEVBQUUsS0FBSztBQUFBLElBQzFCO0FBQ0EsV0FBT0E7QUFBQSxFQUNULENBQUM7QUFDRCxTQUFPO0FBQ1Q7QUFFQU4sS0FBSSxjQUFjLFNBQVUsT0FBTyxPQUFPLENBQUMsR0FBRztBQUM1QyxNQUFJLE9BQU8sS0FBSztBQUNoQixNQUFJLE9BQU87QUFDWCxPQUFLLFFBQVE7QUFDYixNQUFJLE9BQU8sVUFBVSxZQUFZO0FBQy9CLFdBQU8sWUFBWSxNQUFNLE9BQU8sSUFBSTtBQUFBLEVBQ3RDO0FBQ0EsTUFBSSxRQUFRLEtBQUssS0FBSyxDQUFDO0FBQ3ZCLE1BQUksQ0FBQztBQUFPLFdBQU87QUFDbkIsTUFBSSx1QkFBdUIsS0FBSyxlQUFlLE1BQU0sTUFBTSxTQUFTLENBQUMsRUFBRSxLQUFLLElBQUksWUFBWTtBQUM1RixNQUFJLHNCQUFzQixLQUFLLFFBQVFDLGFBQVksTUFBTSxDQUFDLEVBQUUsSUFBSTtBQUVoRSxVQUFRLGNBQWMsT0FBTyxJQUFJO0FBRWpDLE1BQUksV0FBVyxLQUFLLE9BQU8sSUFBSTtBQUUvQixTQUFPLEtBQUssSUFBSSxTQUFPLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztBQUV0QyxNQUFJLFdBQVcsU0FBUyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxVQUFRLE1BQU0sS0FBSyxLQUFLLElBQUksQ0FBQztBQUN4RSxNQUFJLGNBQWMsU0FBUyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDdEMsTUFBSSxlQUFlLFNBQVMsS0FBSyxDQUFDLEVBQUUsU0FBUyxLQUFLLENBQUMsRUFBRSxTQUFTLENBQUMsRUFBRTtBQUVqRSxNQUFJLE9BQU8sVUFBVSxVQUFVO0FBQzdCLFlBQVEsS0FBSyxTQUFTLEtBQUssRUFBRSxRQUFRLElBQUk7QUFBQSxFQUMzQztBQUNBLE9BQUssWUFBWSxLQUFLO0FBRXRCLE1BQUksU0FBUyxJQUFJLGlCQUFpQixLQUFLLEtBQUssY0FBYztBQUN4RCxRQUFJLE9BQU8sS0FBSyxLQUFLLGtCQUFrQjtBQUN2QyxTQUFLLGFBQWEsRUFBRSxPQUFPO0FBQUEsRUFDN0I7QUFFQSxPQUFLLE9BQU8sUUFBUTtBQUdwQixNQUFJLHNCQUFzQjtBQUN4QixRQUFJLE1BQU0sS0FBSyxLQUFLLENBQUM7QUFDckIsUUFBSSxPQUFPLElBQUksSUFBSSxTQUFTLENBQUM7QUFDN0IsUUFBSSxDQUFDLEtBQUssS0FBSyxJQUFJLFlBQVksR0FBRztBQUNoQyxXQUFLLFFBQVE7QUFDYixXQUFLLFVBQVU7QUFDZixXQUFLLEtBQUssSUFBSSxZQUFZO0FBQUEsSUFDNUI7QUFBQSxFQUNGO0FBR0EsTUFBSSxlQUFlLEtBQUssS0FBSyxDQUFDLEdBQUc7QUFDL0IsU0FBSyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTTtBQUFBLEVBQ3hCO0FBRUEsTUFBSSxnQkFBZ0IsS0FBSyxLQUFLLENBQUMsR0FBRztBQUNoQyxRQUFJLFVBQVUsS0FBSyxLQUFLLENBQUMsRUFBRSxLQUFLLEtBQUssQ0FBQyxFQUFFLFNBQVMsQ0FBQztBQUNsRCxRQUFJLENBQUMsUUFBUSxLQUFLLEtBQUssR0FBRztBQUN4QixjQUFRLE9BQU87QUFBQSxJQUNqQjtBQUFBLEVBQ0Y7QUFHQSxNQUFJLElBQUksS0FBSyxPQUFPLElBQUksRUFBRSxRQUFRLENBQUMsU0FBUyxVQUFVLFNBQVMsQ0FBQztBQUNoRSxNQUFJLEVBQUUsTUFBTSxRQUFRLFdBQVc7QUFDN0IsTUFBRSxRQUFRLFdBQVc7QUFBQSxFQUN2QjtBQUNBLElBQUUsUUFBUSxVQUFVO0FBRXBCLE1BQUksS0FBSyxNQUFNO0FBQ2IsTUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLE1BQU1NLE9BQU07QUFDN0IsV0FBSyxRQUFRLFFBQVFBLEVBQUMsQ0FBQztBQUFBLElBQ3pCLENBQUM7QUFBQSxFQUNIO0FBRUEsTUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUM7QUFBRyxXQUFPO0FBR3hDLE1BQUksS0FBSyxNQUFNO0FBQ2IsUUFBSSxnQkFBZ0Isc0JBQXNCSixlQUFjQztBQUN4RCxNQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPLGNBQWMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSTtBQUFBLEVBQ3JEO0FBU0EsU0FBTztBQUNUO0FBRUFKLEtBQUksVUFBVSxTQUFVUSxRQUFPLE9BQU8sTUFBTTtBQUMxQyxNQUFJQSxVQUFTLENBQUMsT0FBTztBQUNuQixXQUFPLEtBQUssWUFBWUEsUUFBTyxJQUFJO0FBQUEsRUFDckM7QUFDQSxNQUFJLElBQUksS0FBSyxNQUFNQSxNQUFLO0FBQ3hCLE1BQUksQ0FBQyxFQUFFLE9BQU87QUFDWixXQUFPO0FBQUEsRUFDVDtBQUNBLE9BQUssT0FBTztBQUNaLFNBQU8sRUFBRSxZQUFZLE9BQU8sSUFBSTtBQUNsQztBQUNBLElBQU8sa0JBQVFSOzs7QUNsSWYsSUFBTSxjQUFjLFNBQVUsT0FBTyxLQUFLO0FBQ3hDLE1BQUksT0FBTyxNQUFNLFNBQVM7QUFDMUIsTUFBSSxPQUFPLE1BQU0sSUFBSTtBQUNyQixNQUFJLEtBQUssTUFBTSxPQUFPLEdBQUc7QUFDekIsTUFBSSxNQUFNLE1BQU07QUFDZCxPQUFHLFFBQVEsS0FBSztBQUNoQixPQUFHLE9BQU8sR0FBRyxLQUFLLFFBQVEsZ0JBQWdCLElBQUk7QUFFOUMsT0FBRyxPQUFPLEdBQUcsS0FBSyxRQUFRLGlCQUFpQixJQUFJO0FBQUEsRUFDakQ7QUFDRjtBQUdBLElBQU0sV0FBVyxTQUFVUyxXQUFVLE1BQU07QUFDekMsT0FBSyxRQUFRLFNBQU87QUFDbEIsUUFBSSxDQUFDQyxJQUFHQyxRQUFPQyxJQUFHLElBQUk7QUFDdEIsUUFBSSxNQUFNQSxPQUFNRDtBQUNoQixRQUFJLENBQUNGLFVBQVNDLEVBQUMsR0FBRztBQUNoQjtBQUFBLElBQ0Y7QUFDQSxRQUFJRSxTQUFRSCxVQUFTQyxFQUFDLEVBQUUsVUFBVUUsT0FBTSxHQUFHO0FBQ3pDLGtCQUFZSCxVQUFTQyxFQUFDLEdBQUcsR0FBRztBQUFBLElBQzlCO0FBQ0EsSUFBQUQsVUFBU0MsRUFBQyxFQUFFLE9BQU9DLFFBQU8sR0FBRztBQUFBLEVBQy9CLENBQUM7QUFHRCxXQUFTRSxLQUFJSixVQUFTLFNBQVMsR0FBR0ksTUFBSyxHQUFHQSxNQUFLLEdBQUc7QUFDaEQsUUFBSUosVUFBU0ksRUFBQyxFQUFFLFdBQVcsR0FBRztBQUM1QixNQUFBSixVQUFTLE9BQU9JLElBQUcsQ0FBQztBQUVwQixVQUFJQSxPQUFNSixVQUFTLFVBQVVBLFVBQVNJLEtBQUksQ0FBQyxHQUFHO0FBQzVDLFlBQUksUUFBUUosVUFBU0ksS0FBSSxDQUFDO0FBQzFCLFlBQUksV0FBVyxNQUFNLE1BQU0sU0FBUyxDQUFDO0FBQ3JDLFlBQUksVUFBVTtBQUNaLG1CQUFTLE9BQU8sU0FBUyxLQUFLLFFBQVE7QUFBQSxRQUN4QztBQUFBLE1BQ0Y7QUFBQSxJQUtGO0FBQUEsRUFDRjtBQUNBLFNBQU9KO0FBQ1Q7QUFFQSxJQUFPLGlCQUFROzs7QUMvQ2YsSUFBTSxjQUFjLFNBQVUsTUFBTSxVQUFVO0FBQzVDLFNBQU8sS0FBSyxJQUFJLFNBQU87QUFDckIsUUFBSSxDQUFDSyxFQUFDLElBQUk7QUFDVixRQUFJLENBQUMsU0FBU0EsRUFBQyxHQUFHO0FBQ2hCLGFBQU87QUFBQSxJQUNUO0FBQ0EsYUFBU0EsRUFBQyxFQUFFLFFBQVEsUUFBTTtBQUN4QixVQUFJLE1BQU0sR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDO0FBRXRCLFVBQUksSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUc7QUFDdEMsWUFBSSxDQUFDLEtBQUs7QUFBQSxNQUNaO0FBQUEsSUFDRixDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1QsQ0FBQztBQUdELE9BQUssUUFBUSxDQUFDLEtBQUtDLE9BQU07QUFFdkIsUUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxLQUFLLEdBQUc7QUFFL0IsZUFBU0QsS0FBSUMsS0FBSSxHQUFHRCxLQUFJLEtBQUssUUFBUUEsTUFBSyxHQUFHO0FBQzNDLGFBQUtBLEVBQUMsRUFBRSxDQUFDLEtBQUs7QUFDZCxZQUFJLEtBQUtBLEVBQUMsRUFBRSxDQUFDLElBQUksR0FBRztBQUNsQixlQUFLQSxFQUFDLEVBQUUsQ0FBQyxJQUFJO0FBQUEsUUFDZjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsRUFDRixDQUFDO0FBRUQsU0FBTyxLQUFLLE9BQU8sU0FBTyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDO0FBRzdDLFNBQU8sS0FBSyxJQUFJLENBQUMsUUFBUTtBQUN2QixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsV0FBTztBQUFBLEVBQ1QsQ0FBQztBQUNELFNBQU87QUFDVDtBQUVBLElBQU1FLFdBQVU7QUFBQTtBQUFBLEVBRWQsUUFBUSxTQUFVLEtBQUs7QUFDckIsVUFBTSxFQUFFLFFBQUFDLFFBQU8sSUFBSSxLQUFLLFFBQVEsSUFBSTtBQUNwQyxTQUFLLFFBQVE7QUFHYixRQUFJQyxRQUFPLEtBQUssSUFBSTtBQUNwQixRQUFJLE1BQU07QUFFVixRQUFJLEtBQUs7QUFDUCxNQUFBQSxRQUFPO0FBQ1AsWUFBTSxLQUFLLE1BQU0sR0FBRztBQUFBLElBQ3RCO0FBQ0EsUUFBSSxTQUFTLENBQUNBLE1BQUs7QUFFbkIsUUFBSSxJQUFJLElBQUksaUJBQWlCLEtBQUssSUFBSSxjQUFjO0FBQ2xELFVBQUksT0FBTyxJQUFJLEtBQUssaUJBQWlCO0FBQ3JDLFdBQUssYUFBYSxFQUFFLE9BQU87QUFBQSxJQUM3QjtBQUVBLFFBQUksT0FBT0EsTUFBSztBQUNoQixRQUFJLE9BQU8sSUFBSSxZQUFZLFFBQVE7QUFFbkMsUUFBSUMsWUFBVyxlQUFhLEtBQUssVUFBVSxJQUFJO0FBRS9DLFFBQUksV0FBV0YsUUFBTyxJQUFJO0FBQzFCLFdBQU8sWUFBWSxNQUFNLFFBQVE7QUFFakMsSUFBQUMsTUFBSyxPQUFPO0FBQ1osSUFBQUEsTUFBSyxXQUFXQztBQUNoQixJQUFBRCxNQUFLLFFBQVEsT0FBTztBQUVwQixRQUFJLFFBQVE7QUFDVixNQUFBQSxNQUFLLE9BQU87QUFBQSxJQUNkO0FBQ0EsUUFBSSxDQUFDLEtBQUs7QUFDUixXQUFLLE9BQU8sQ0FBQztBQUNiLGFBQU9BLE1BQUssS0FBSztBQUFBLElBQ25CO0FBQ0EsUUFBSSxNQUFNQSxNQUFLLE9BQU8sSUFBSTtBQUMxQixXQUFPO0FBQUEsRUFDVDtBQUNGO0FBR0FGLFNBQVEsU0FBU0EsU0FBUTtBQUN6QixJQUFPSSxrQkFBUUo7OztBQzFGZixJQUFNSyxXQUFVO0FBQUE7QUFBQSxFQUVkLEtBQUssU0FBVUMsTUFBSyxRQUFRO0FBQzFCLFFBQUlBLFNBQVEsVUFBYSxLQUFLLE9BQU87QUFDbkMsYUFBTyxLQUFLLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUFBLElBQ3pCO0FBQ0EsU0FBSyxLQUFLLFFBQVEsV0FBUztBQUN6QixVQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLFVBQUksV0FBVyxNQUFNO0FBQ25CLGFBQUssT0FBT0E7QUFBQSxNQUNkLE9BQU87QUFDTCxhQUFLLE1BQU1BO0FBQUEsTUFDYjtBQUFBLElBQ0YsQ0FBQztBQUNELFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQSxFQUdBLE1BQU0sU0FBVUEsTUFBSyxRQUFRO0FBQzNCLFFBQUlBLFNBQVEsUUFBVztBQUNyQixVQUFJLE9BQU8sS0FBSyxLQUFLLEtBQUssS0FBSyxTQUFTLENBQUM7QUFDekMsYUFBTyxLQUFLLEtBQUssU0FBUyxDQUFDLEVBQUU7QUFBQSxJQUMvQjtBQUNBLFNBQUssS0FBSyxRQUFRLFdBQVM7QUFDekIsVUFBSSxPQUFPLE1BQU0sTUFBTSxTQUFTLENBQUM7QUFDakMsVUFBSSxXQUFXLE1BQU07QUFDbkIsYUFBSyxRQUFRQTtBQUFBLE1BQ2YsT0FBTztBQUNMLGFBQUssT0FBT0E7QUFBQSxNQUNkO0FBQUEsSUFDRixDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBLEVBR0EsTUFBTSxXQUFZO0FBQ2hCLFFBQUksQ0FBQyxLQUFLLE9BQU87QUFDZixhQUFPO0FBQUEsSUFDVDtBQUNBLFFBQUksT0FBTyxLQUFLO0FBQ2hCLFFBQUlDLFNBQVEsS0FBSyxDQUFDLEVBQUUsQ0FBQztBQUNyQixJQUFBQSxPQUFNLE1BQU1BLE9BQU0sSUFBSSxVQUFVO0FBQ2hDLFFBQUksT0FBTyxLQUFLLEtBQUssU0FBUyxDQUFDO0FBQy9CLFFBQUlDLE9BQU0sS0FBSyxLQUFLLFNBQVMsQ0FBQztBQUM5QixJQUFBQSxLQUFJLE9BQU9BLEtBQUksS0FBSyxRQUFRO0FBQzVCLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQSxFQUdBLFdBQVcsV0FBWTtBQUNyQixTQUFLLEtBQUssUUFBUSxXQUFTO0FBRXpCLFlBQU0sUUFBUSxDQUFDQyxJQUFHQyxPQUFNO0FBQ3RCLFlBQUlBLE9BQU0sR0FBRztBQUNYLFVBQUFELEdBQUUsTUFBTTtBQUFBLFFBQ1Y7QUFDQSxZQUFJLE1BQU1DLEtBQUksQ0FBQyxHQUFHO0FBQ2hCLFVBQUFELEdBQUUsT0FBTztBQUFBLFFBQ1g7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNILENBQUM7QUFDRCxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUEsRUFHQSxhQUFhLFdBQVk7QUFDdkIsVUFBTUUsYUFBWTtBQUNsQixTQUFLLEtBQUssUUFBUSxXQUFTO0FBRXpCLFlBQU0sUUFBUSxDQUFBRixPQUFLO0FBQ2pCLFlBQUlFLFdBQVUsS0FBS0YsR0FBRSxJQUFJLEdBQUc7QUFDMUIsVUFBQUEsR0FBRSxPQUFPO0FBQUEsUUFDWDtBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0gsQ0FBQztBQUNELFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQSxFQUdBLGNBQWMsU0FBVUYsUUFBT0MsTUFBSztBQUNsQyxJQUFBRCxTQUFRQSxVQUFTO0FBQ2pCLElBQUFDLE9BQU1BLFFBQU87QUFDYixTQUFLLEtBQUssUUFBUSxXQUFTO0FBQ3pCLFlBQU0sQ0FBQyxFQUFFLE1BQU1ELFNBQVEsTUFBTSxDQUFDLEVBQUU7QUFDaEMsVUFBSSxPQUFPLE1BQU0sTUFBTSxTQUFTLENBQUM7QUFDakMsV0FBSyxPQUFPQyxPQUFNLEtBQUs7QUFBQSxJQUN6QixDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBLEVBR0EsZUFBZSxTQUFVRCxRQUFPQyxNQUFLO0FBQ25DLElBQUFELFNBQVFBLFVBQVM7QUFDakIsSUFBQUMsT0FBTUEsUUFBTztBQUNiLFNBQUssS0FBSyxRQUFRLFdBQVM7QUFDekIsWUFBTSxDQUFDLEVBQUUsTUFBTUQsU0FBUSxNQUFNLENBQUMsRUFBRTtBQUNoQyxVQUFJLE9BQU8sTUFBTSxNQUFNLFNBQVMsQ0FBQztBQUNqQyxXQUFLLE9BQU9DLE9BQU0sS0FBSztBQUFBLElBQ3pCLENBQUM7QUFDRCxXQUFPO0FBQUEsRUFDVDtBQUNGO0FBR0FILFNBQVEsY0FBY0EsU0FBUTtBQUM5QkEsU0FBUSxjQUFjQSxTQUFRO0FBRTlCLElBQU8scUJBQVFBOzs7QUMxR2YsSUFBTSxRQUFRLENBQUNPLElBQUcsTUFBTTtBQUN0QixNQUFJQSxHQUFFLFNBQVMsRUFBRSxRQUFRO0FBQ3ZCLFdBQU87QUFBQSxFQUNUO0FBQ0EsTUFBSUEsR0FBRSxTQUFTLEVBQUUsUUFBUTtBQUN2QixXQUFPO0FBQUEsRUFDVDtBQUNBLFNBQU87QUFDVDtBQUdBLElBQU0sU0FBUyxDQUFDQSxJQUFHLE1BQU07QUFDdkIsTUFBSSxPQUFPQSxHQUFFLE9BQU8sS0FBSyxFQUFFO0FBQzNCLE1BQUksUUFBUSxFQUFFLE9BQU8sS0FBSyxFQUFFO0FBQzVCLE1BQUksT0FBTyxPQUFPO0FBQ2hCLFdBQU87QUFBQSxFQUNUO0FBQ0EsTUFBSSxPQUFPLE9BQU87QUFDaEIsV0FBTztBQUFBLEVBQ1Q7QUFDQSxTQUFPO0FBQ1Q7QUFHQSxJQUFNLFlBQVksQ0FBQ0EsSUFBRyxNQUFNO0FBQzFCLE1BQUlBLEdBQUUsUUFBUSxFQUFFLE9BQU87QUFDckIsV0FBTztBQUFBLEVBQ1Q7QUFDQSxNQUFJQSxHQUFFLFFBQVEsRUFBRSxPQUFPO0FBQ3JCLFdBQU87QUFBQSxFQUNUO0FBQ0EsU0FBTztBQUNUO0FBR0EsSUFBTSxhQUFhLENBQUNBLElBQUcsTUFBTTtBQUMzQixNQUFJQSxHQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRztBQUNmLFdBQU87QUFBQSxFQUNUO0FBQ0EsTUFBSUEsR0FBRSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUc7QUFDZixXQUFPO0FBQUEsRUFDVDtBQUNBLFNBQU9BLEdBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUk7QUFDM0I7QUFHQSxJQUFNLFNBQVMsU0FBVSxLQUFLO0FBQzVCLE1BQUksU0FBUyxDQUFDO0FBQ2QsTUFBSSxRQUFRLENBQUFDLE9BQUs7QUFDZixXQUFPQSxHQUFFLE1BQU0sSUFBSSxPQUFPQSxHQUFFLE1BQU0sS0FBSztBQUN2QyxXQUFPQSxHQUFFLE1BQU0sS0FBSztBQUFBLEVBQ3RCLENBQUM7QUFFRCxNQUFJLEtBQUssQ0FBQ0QsSUFBRyxNQUFNO0FBQ2pCLFFBQUksT0FBTyxPQUFPQSxHQUFFLE1BQU07QUFDMUIsUUFBSSxRQUFRLE9BQU8sRUFBRSxNQUFNO0FBQzNCLFFBQUksT0FBTyxPQUFPO0FBQ2hCLGFBQU87QUFBQSxJQUNUO0FBQ0EsUUFBSSxPQUFPLE9BQU87QUFDaEIsYUFBTztBQUFBLElBQ1Q7QUFDQSxXQUFPO0FBQUEsRUFDVCxDQUFDO0FBQ0QsU0FBTztBQUNUO0FBRUEsSUFBTyxlQUFRLEVBQUUsT0FBTyxRQUFRLFdBQVcsWUFBWSxPQUFPOzs7QUNsRTlELElBQU0sV0FBVyxvQkFBSSxJQUFJLENBQUMsU0FBUyxZQUFZLE9BQU8sY0FBYyxTQUFTLGVBQWUsQ0FBQztBQUM3RixJQUFNLFlBQVksb0JBQUksSUFBSSxDQUFDLFFBQVEsYUFBYSxRQUFRLFNBQVMsQ0FBQztBQUNsRSxJQUFNLGFBQWEsb0JBQUksSUFBSSxDQUFDLFNBQVMsY0FBYyxDQUFDO0FBR3BELElBQU0sYUFBYSxTQUFVLE1BQU0sSUFBSTtBQUNyQyxNQUFJLE9BQU8sS0FBSztBQUNoQixTQUFPLEtBQUssS0FBSyxDQUFDRSxJQUFHLE1BQU07QUFDekIsSUFBQUEsS0FBSSxLQUFLLE9BQU8sQ0FBQ0EsRUFBQyxDQUFDO0FBQ25CLFFBQUksS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBQ25CLFdBQU8sR0FBR0EsSUFBRyxDQUFDO0FBQUEsRUFDaEIsQ0FBQztBQUNELE9BQUssT0FBTztBQUNaLFNBQU87QUFDVDtBQUdBLElBQU0sT0FBTyxTQUFVLE9BQU87QUFDNUIsTUFBSSxFQUFFLE1BQU0sUUFBUSxJQUFJO0FBQ3hCLE9BQUssUUFBUTtBQUNiLE1BQUksT0FBTyxVQUFVLFlBQVk7QUFDL0IsV0FBTyxXQUFXLE1BQU0sS0FBSztBQUFBLEVBQy9CO0FBQ0EsVUFBUSxTQUFTO0FBQ2pCLE1BQUksT0FBTyxXQUFXLEtBQUssSUFBSSxDQUFDLElBQUlDLE9BQU0sQ0FBQ0EsRUFBQyxDQUFDO0FBQzdDLE1BQUksTUFBTSxLQUFLLElBQUksQ0FBQyxPQUFPQSxPQUFNO0FBQy9CLFdBQU87QUFBQSxNQUNMLE9BQU9BO0FBQUEsTUFDUCxPQUFPLE1BQU07QUFBQSxNQUNiLFFBQVEsTUFBTSxJQUFJLENBQUFDLE9BQUtBLEdBQUUsV0FBV0EsR0FBRSxVQUFVLEVBQUUsRUFBRSxLQUFLLEdBQUc7QUFBQSxNQUM1RCxTQUFTLEtBQUtELEVBQUM7QUFBQSxJQUNqQjtBQUFBLEVBQ0YsQ0FBQztBQUVELE1BQUksU0FBUyxJQUFJLEtBQUssR0FBRztBQUN2QixZQUFRO0FBQUEsRUFDVjtBQUVBLE1BQUksV0FBVyxJQUFJLEtBQUssR0FBRztBQUN6QixZQUFRO0FBQUEsRUFDVjtBQUVBLE1BQUksVUFBVSxJQUFJLEtBQUssR0FBRztBQUN4QixVQUFNLGFBQVEsT0FBTyxHQUFHO0FBQ3hCLFdBQU8sS0FBSyxPQUFPLElBQUksSUFBSSxDQUFBRSxPQUFLQSxHQUFFLE9BQU8sQ0FBQztBQUFBLEVBQzVDO0FBRUEsTUFBSSxPQUFPLGFBQVEsS0FBSyxNQUFNLFlBQVk7QUFDeEMsVUFBTSxJQUFJLEtBQUssYUFBUSxLQUFLLENBQUM7QUFDN0IsV0FBTyxLQUFLLE9BQU8sSUFBSSxJQUFJLENBQUFBLE9BQUtBLEdBQUUsT0FBTyxDQUFDO0FBQUEsRUFDNUM7QUFDQSxTQUFPO0FBQ1Q7QUFHQSxJQUFNLFVBQVUsV0FBWTtBQUMxQixNQUFJLE9BQU8sS0FBSyxXQUFXLEtBQUssS0FBSyxJQUFJLENBQUMsSUFBSUYsT0FBTSxDQUFDQSxFQUFDLENBQUM7QUFDdkQsU0FBTyxDQUFDLEVBQUUsT0FBTyxJQUFJO0FBQ3JCLFNBQU8sS0FBSyxRQUFRO0FBQ3BCLE1BQUksS0FBSyxRQUFRO0FBQ2YsU0FBSyxTQUFTLEtBQUssT0FBTyxRQUFRO0FBQUEsRUFDcEM7QUFDQSxTQUFPLEtBQUssT0FBTyxJQUFJO0FBQ3pCO0FBR0EsSUFBTSxTQUFTLFdBQVk7QUFDekIsTUFBSSxVQUFVLG9CQUFJLElBQUk7QUFDdEIsTUFBSSxNQUFNLEtBQUssT0FBTyxPQUFLO0FBQ3pCLFFBQUksTUFBTSxFQUFFLEtBQUssU0FBUztBQUMxQixRQUFJLFFBQVEsSUFBSSxHQUFHLEdBQUc7QUFDcEIsYUFBTztBQUFBLElBQ1Q7QUFDQSxZQUFRLElBQUksR0FBRztBQUNmLFdBQU87QUFBQSxFQUNULENBQUM7QUFFRCxTQUFPO0FBQ1Q7QUFFQSxJQUFPRyxnQkFBUSxFQUFFLFFBQVEsU0FBUyxLQUFLOzs7QUNsRnZDLElBQU1DLFdBQVUsQ0FBQyxRQUFRLE9BQU8sVUFBVSxTQUFTLEtBQUssR0FBRyxNQUFNO0FBR2pFLElBQU0sY0FBYyxTQUFVLFVBQVUsV0FBVztBQUNqRCxNQUFJLFNBQVMsU0FBUyxHQUFHO0FBRXZCLFFBQUlDLE9BQU0sU0FBUyxTQUFTLFNBQVMsQ0FBQztBQUN0QyxRQUFJLE9BQU9BLEtBQUlBLEtBQUksU0FBUyxDQUFDO0FBQzdCLFFBQUksSUFBSSxLQUFLLEtBQUssSUFBSSxNQUFNLE9BQU87QUFDakMsV0FBSyxRQUFRO0FBQUEsSUFDZjtBQUFBLEVBQ0Y7QUFDQSxhQUFXLFNBQVMsT0FBTyxTQUFTO0FBQ3BDLFNBQU87QUFDVDtBQUVBLElBQU0sZUFBZSxTQUFVLE1BQU0sT0FBTztBQUUxQyxNQUFJLEtBQUssYUFBYSxNQUFNLFVBQVU7QUFDcEMsUUFBSUMsUUFBTyxLQUFLLFlBQVksT0FBTyxNQUFNLFdBQVc7QUFDcEQsV0FBTyxLQUFLLE9BQU9BLEtBQUksRUFBRSxRQUFRLE9BQU87QUFBQSxFQUMxQztBQUVBLE1BQUksT0FBTyxNQUFNO0FBQ2pCLE9BQUssUUFBUSxDQUFBQyxPQUFLO0FBQ2hCLElBQUFBLEdBQUUsQ0FBQyxLQUFLLEtBQUssU0FBUztBQUFBLEVBQ3hCLENBQUM7QUFDRCxPQUFLLFdBQVcsWUFBWSxLQUFLLFVBQVUsTUFBTSxJQUFJO0FBQ3JELFNBQU8sS0FBSyxJQUFJO0FBQ2xCO0FBRUEsSUFBTyxpQkFBUTtBQUFBO0FBQUEsRUFFYixRQUFRLFNBQVUsT0FBTztBQUV2QixRQUFJLE9BQU8sVUFBVSxVQUFVO0FBQzdCLFVBQUksT0FBTyxLQUFLLFNBQVMsS0FBSztBQUU5QixVQUFJLENBQUMsS0FBSyxTQUFTLENBQUMsS0FBSyxNQUFNO0FBQzdCLGFBQUssV0FBVyxLQUFLLFNBQVMsT0FBTyxLQUFLLFFBQVE7QUFBQSxNQUNwRCxPQUFPO0FBRUwsWUFBSSxPQUFPLEtBQUs7QUFDaEIsWUFBSSxLQUFLLEtBQUssS0FBSyxTQUFTLENBQUMsRUFBRSxDQUFDO0FBQ2hDLGFBQUssU0FBUyxPQUFPLElBQUksR0FBRyxHQUFHLEtBQUssUUFBUTtBQUFBLE1BQzlDO0FBRUEsYUFBTyxLQUFLLElBQUksRUFBRSxRQUFRLE9BQU87QUFBQSxJQUNuQztBQUVBLFFBQUksT0FBTyxVQUFVLFlBQVksTUFBTSxRQUFRO0FBQzdDLGFBQU8sYUFBYSxNQUFNLEtBQUs7QUFBQSxJQUNqQztBQUVBLFFBQUlILFNBQVEsS0FBSyxHQUFHO0FBQ2xCLFVBQUksT0FBTyxZQUFZLEtBQUssVUFBVSxLQUFLO0FBQzNDLFdBQUssV0FBVztBQUNoQixhQUFPLEtBQUssSUFBSTtBQUFBLElBQ2xCO0FBQ0EsV0FBTztBQUFBLEVBQ1Q7QUFDRjs7O0FDNURBLElBQU0sU0FBUyxXQUFZO0FBQ3pCLE9BQUssT0FBTyxLQUFLO0FBQ2pCLFNBQU87QUFDVDtBQUVBLElBQU0sU0FBUyxXQUFZO0FBQ3pCLE1BQUksTUFBTSxLQUFLO0FBQ2YsTUFBSSxDQUFDLE9BQU8sSUFBSSxTQUFTLEdBQUc7QUFDMUIsV0FBTztBQUFBLEVBQ1Q7QUFDQSxRQUFNLElBQUksSUFBSSxDQUFBSSxPQUFLQSxHQUFFLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDaEMsT0FBSyxPQUFPO0FBQ1osU0FBTztBQUNUO0FBQ0EsSUFBTyxpQkFBUSxFQUFFLFFBQVEsT0FBTzs7O0FDTmhDLElBQU1DLFdBQVUsT0FBTyxPQUFPLENBQUMsR0FBRyxjQUFTLGdCQUFRLGlCQUFTQyxpQkFBUSxvQkFBWUMsZUFBTSxnQkFBUSxjQUFNO0FBRXBHLElBQU1DLFVBQVMsU0FBVUMsT0FBTTtBQUM3QixTQUFPLE9BQU9BLE1BQUssV0FBV0osUUFBTztBQUN2QztBQUNBLElBQU9LLGVBQVFGOzs7QUNaZixJQUFNRyxXQUFVO0FBQUEsRUFDZCxJQUFJLFNBQVUsTUFBTTtBQUNsQixRQUFJLE9BQU8sS0FBSztBQUNoQixhQUFTQyxLQUFJLEdBQUdBLEtBQUksS0FBSyxRQUFRQSxNQUFLLEdBQUc7QUFDdkMsZUFBU0MsS0FBSSxHQUFHQSxLQUFJLEtBQUtELEVBQUMsRUFBRSxRQUFRQyxNQUFLLEdBQUc7QUFDMUMsWUFBSSxPQUFPLEtBQUtELEVBQUMsRUFBRUMsRUFBQztBQUNwQixhQUFLLEtBQUssS0FBSyxNQUFNLGFBQUssSUFBSTtBQUFBLE1BQ2hDO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDRjtBQUVBLElBQU9DLG1CQUFRSDs7O0FDWGYsSUFBT0ksa0JBQVE7QUFBQSxFQUNiLEtBQUFDO0FBQUEsRUFDQSxTQUFBQztBQUNGOzs7QUNOQSxJQUFPLHVCQUFRO0FBQUE7QUFBQSxFQUViLEVBQUUsTUFBTSxLQUFLLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFBQSxFQUN6QixFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsT0FBTyxLQUFLLEVBQUU7QUFBQSxFQUNyQyxFQUFFLE1BQU0sUUFBUSxLQUFLLENBQUMsS0FBSyxLQUFLLEVBQUU7QUFBQSxFQUNsQyxFQUFFLE1BQU0sT0FBTyxLQUFLLENBQUMsTUFBTSxTQUFTLE1BQU0sRUFBRTtBQUFBLEVBQzVDLEVBQUUsTUFBTSxVQUFVLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRTtBQUFBLEVBQ3RDLEVBQUUsTUFBTSxPQUFPLEtBQUssQ0FBQyxNQUFNLEtBQUssRUFBRTtBQUFBLEVBQ2xDLEVBQUUsTUFBTSxTQUFTLEtBQUssQ0FBQyxPQUFPLEtBQUssRUFBRTtBQUFBLEVBQ3JDLEVBQUUsTUFBTSxVQUFVLEtBQUssQ0FBQyxVQUFVLEtBQUssRUFBRTtBQUFBLEVBQ3pDLEVBQUUsTUFBTSxTQUFTLEtBQUssQ0FBQyxRQUFRLEtBQUssRUFBRTtBQUFBLEVBQ3RDLEVBQUUsTUFBTSxVQUFVLEtBQUssQ0FBQyxRQUFRLElBQUksRUFBRTtBQUFBLEVBQ3RDLEVBQUUsTUFBTSxVQUFVLEtBQUssQ0FBQyxRQUFRLElBQUksRUFBRTtBQUFBLEVBQ3RDLEVBQUUsTUFBTSxTQUFTLEtBQUssQ0FBQyxPQUFPLElBQUksRUFBRTtBQUFBO0FBQUEsRUFFcEMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLE1BQU0sT0FBTyxNQUFNLEVBQUU7QUFBQSxFQUM1QyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsU0FBUyxJQUFJLEVBQUU7QUFBQSxFQUN0QyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsUUFBUSxPQUFPLElBQUksRUFBRTtBQUFBO0FBQUEsRUFDNUMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLFFBQVEsSUFBSSxFQUFFO0FBQUEsRUFDckMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLE9BQU8sSUFBSSxFQUFFO0FBQUEsRUFDcEMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLFVBQVUsSUFBSSxFQUFFO0FBQUEsRUFDdkMsRUFBRSxNQUFNLE9BQU8sS0FBSyxDQUFDLE9BQU8sTUFBTSxJQUFJLEVBQUU7QUFBQSxFQUN4QyxFQUFFLE1BQU0sTUFBTSxLQUFLLENBQUMsS0FBSyxJQUFJLEVBQUU7QUFBQSxFQUMvQixFQUFFLE1BQU0sUUFBUSxLQUFLLENBQUMsS0FBSyxNQUFNLEVBQUU7QUFBQSxFQUNuQyxFQUFFLE1BQU0sT0FBTyxLQUFLLENBQUMsTUFBTSxNQUFNLFNBQVMsRUFBRTtBQUFBLEVBQzVDLEVBQUUsTUFBTSxPQUFPLEtBQUssQ0FBQyxNQUFNLFFBQVEsTUFBTSxFQUFFO0FBQUEsRUFDM0MsRUFBRSxNQUFNLE9BQU8sS0FBSyxDQUFDLEtBQUssTUFBTSxFQUFFO0FBQUEsRUFDbEMsRUFBRSxNQUFNLE1BQU0sS0FBSyxDQUFDLFNBQVMsS0FBSyxFQUFFO0FBQUEsRUFDcEMsRUFBRSxNQUFNLE9BQU8sS0FBSyxDQUFDLE1BQU0sTUFBTSxRQUFRLEVBQUU7QUFBQSxFQUMzQyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsUUFBUSxJQUFJLEVBQUU7QUFBQSxFQUNyQyxFQUFFLE1BQU0sVUFBVSxLQUFLLENBQUMsUUFBUSxNQUFNLEVBQUU7QUFBQSxFQUN4QyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsUUFBUSxJQUFJLEVBQUU7QUFBQTtBQUFBLEVBRXJDLEVBQUUsTUFBTSxXQUFXLEtBQUssQ0FBQyxVQUFVLE1BQU0sRUFBRTtBQUFBLEVBQzNDLEVBQUUsTUFBTSxVQUFVLEtBQUssQ0FBQyxVQUFVLE1BQU0sRUFBRTtBQUFBLEVBQzFDLEVBQUUsTUFBTSxVQUFVLEtBQUssQ0FBQyxVQUFVLE1BQU0sRUFBRTtBQUFBLEVBQzFDLEVBQUUsTUFBTSxTQUFTLEtBQUssQ0FBQyxRQUFRLE1BQU0sRUFBRTtBQUFBLEVBRXZDLEVBQUUsTUFBTSxPQUFPLEtBQUssQ0FBQyxNQUFNLElBQUksRUFBRTtBQUFBLEVBQ2pDLEVBQUUsTUFBTSxRQUFRLEtBQUssQ0FBQyxNQUFNLEtBQUssRUFBRTtBQUFBLEVBQ25DLEVBQUUsTUFBTSxVQUFVLEtBQUssQ0FBQyxPQUFPLE1BQU0sRUFBRTtBQUFBLEVBQ3ZDLEVBQUUsTUFBTSxTQUFTLEtBQUssQ0FBQyxPQUFPLEVBQUU7QUFBQSxFQUNoQyxFQUFFLE1BQU0sUUFBUSxLQUFLLENBQUMsTUFBTSxFQUFFO0FBQUE7QUFBQSxFQUU5QixFQUFFLE9BQU8sTUFBTSxLQUFLLENBQUMsTUFBTSxFQUFFO0FBQUEsRUFDN0IsRUFBRSxPQUFPLE1BQU0sS0FBSyxDQUFDLE1BQU0sRUFBRTtBQUFBLEVBQzdCLEVBQUUsT0FBTyxNQUFNLEtBQUssQ0FBQyxLQUFLLEVBQUU7QUFBQSxFQUM1QixFQUFFLE9BQU8sS0FBSyxLQUFLLENBQUMsSUFBSSxFQUFFO0FBQUE7QUFBQSxFQUUxQixFQUFFLFFBQVEsS0FBSyxLQUFLLENBQUMsSUFBSSxFQUFFO0FBQUEsRUFDM0IsRUFBRSxRQUFRLEtBQUssS0FBSyxDQUFDLElBQUksRUFBRTtBQUFBLEVBQzNCLEVBQUUsUUFBUSxLQUFLLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFBQSxFQUMzQixFQUFFLFFBQVEsTUFBTSxLQUFLLENBQUMsS0FBSyxFQUFFO0FBQUEsRUFDN0IsRUFBRSxRQUFRLEtBQUssS0FBSyxDQUFDLElBQUksRUFBRTtBQUFBLEVBQzNCLEVBQUUsUUFBUSxLQUFLLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFBQTtBQUFBO0FBQUEsRUFHM0IsRUFBRSxNQUFNLFlBQVksS0FBSyxDQUFDLFVBQVUsS0FBSyxFQUFFO0FBQUEsRUFDM0MsRUFBRSxNQUFNLFdBQVcsS0FBSyxDQUFDLFNBQVMsS0FBSyxFQUFFO0FBQUEsRUFDekMsRUFBRSxNQUFNLFdBQVcsS0FBSyxDQUFDLFNBQVMsS0FBSyxFQUFFO0FBQUEsRUFDekMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLE9BQU8sS0FBSyxFQUFFO0FBQUEsRUFDckMsRUFBRSxNQUFNLFNBQVMsS0FBSyxDQUFDLE9BQU8sS0FBSyxFQUFFO0FBQUEsRUFDckMsRUFBRSxNQUFNLFFBQVEsS0FBSyxDQUFDLE1BQU0sS0FBSyxFQUFFO0FBQUEsRUFDbkMsRUFBRSxNQUFNLFFBQVEsS0FBSyxDQUFDLE9BQU8sS0FBSyxFQUFFO0FBQUEsRUFDcEMsRUFBRSxNQUFNLFFBQVEsS0FBSyxDQUFDLE1BQU0sS0FBSyxFQUFFO0FBQUEsRUFDbkMsRUFBRSxNQUFNLFFBQVEsS0FBSyxDQUFDLFFBQVEsS0FBSyxFQUFFO0FBQUE7QUFBQSxFQUVyQyxFQUFFLE1BQU0sUUFBUSxLQUFLLENBQUMsT0FBTyxLQUFLLEVBQUU7QUFBQSxFQUNwQyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsUUFBUSxLQUFLLEVBQUU7QUFBQSxFQUN0QyxFQUFFLE1BQU0sU0FBUyxLQUFLLENBQUMsUUFBUSxLQUFLLEVBQUU7QUFBQSxFQUN0QyxFQUFFLE1BQU0sVUFBVSxLQUFLLENBQUMsU0FBUyxLQUFLLEVBQUU7QUFDMUM7OztBQ3RFQSxJQUFNLElBQUk7QUFDVixJQUFPLHdCQUFRO0FBQUEsRUFD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TyxLQUFLLEtBQUssU0FBUyxLQUFLQyxFQUFDLEdBQUUsSUFBSUksR0FBRUosRUFBQztBQUFBLEVBQUM7QUFBQSxFQUFDLE9BQU9ILElBQUU7QUFBQyxXQUFPQSxLQUFFLEVBQUVBLEVBQUMsR0FBRSxLQUFLLEtBQUssV0FBUyxLQUFLLEtBQUssU0FBUyxPQUFRLENBQUFDLE9BQUdBLEdBQUUsT0FBS0QsRUFBRSxHQUFFO0FBQUEsRUFBSTtBQUFBLEVBQUMsUUFBTztBQUFDLFdBQU8sRUFBRSxLQUFLLElBQUksRUFBRSxJQUFLLENBQUFBLFFBQUksUUFBT0EsS0FBRSxPQUFPLE9BQU8sQ0FBQyxHQUFFQSxFQUFDLEdBQUcsVUFBU0EsR0FBRztBQUFBLEVBQUM7QUFBQSxFQUFDLFFBQU87QUFBQyxZQUFPLENBQUFBLE9BQUc7QUFBQyxVQUFJQyxLQUFFLEVBQUVELElBQUcsQ0FBQ0EsSUFBRUMsT0FBSTtBQUFDLFFBQUFELEdBQUUsT0FBS0EsR0FBRSxPQUFPLFVBQVFBLEdBQUUsT0FBTyxXQUFTLENBQUMsR0FBRUEsR0FBRSxPQUFPLFdBQVNBLEdBQUUsT0FBTyxZQUFVLENBQUMsR0FBRUMsR0FBRSxPQUFPLFVBQVFELEdBQUUsT0FBTyxRQUFRLE9BQU8sQ0FBQ0EsR0FBRSxFQUFFLENBQUM7QUFBQSxNQUFFLENBQUUsR0FBRUUsS0FBRSxDQUFDO0FBQUUsTUFBQUQsR0FBRSxRQUFTLENBQUFELE9BQUc7QUFBQyxRQUFBQSxHQUFFLE9BQUtFLEdBQUVGLEdBQUUsRUFBRSxJQUFFQTtBQUFBLE1BQUUsQ0FBRSxHQUFFQyxHQUFFLFFBQVMsQ0FBQUQsT0FBRztBQUFDLFFBQUFBLEdBQUUsT0FBTyxRQUFRLFFBQVMsQ0FBQUMsT0FBRztBQUFDLFVBQUFDLEdBQUUsZUFBZUQsRUFBQyxLQUFHQyxHQUFFRCxFQUFDLEVBQUUsT0FBTyxTQUFTLEtBQUtELEdBQUUsRUFBRTtBQUFBLFFBQUMsQ0FBRTtBQUFBLE1BQUMsQ0FBRSxHQUFFQSxHQUFFLE9BQU8sV0FBUyxPQUFPLEtBQUtFLEVBQUM7QUFBQSxJQUFDLEdBQUcsS0FBSyxJQUFJLEdBQUU7QUFBQSxFQUFJO0FBQUEsRUFBQyxPQUFNO0FBQUMsV0FBTyxFQUFFLEtBQUssSUFBSTtBQUFBLEVBQUM7QUFBQSxFQUFDLFdBQVU7QUFBQyxRQUFJRjtBQUFFLFdBQU9BLEtBQUUsS0FBSyxNQUFLLEVBQUVBLElBQUcsQ0FBQ0EsSUFBRUMsT0FBSTtBQUFDLE1BQUFBLEdBQUUsUUFBTSxFQUFFQSxHQUFFLE9BQU1ELEdBQUUsS0FBSztBQUFBLElBQUMsQ0FBRSxHQUFFO0FBQUEsRUFBSTtBQUFBLEVBQUMsUUFBTztBQUFDLE1BQUUsS0FBSyxJQUFJO0FBQUUsUUFBSUEsS0FBRSxFQUFFLEtBQUssSUFBSSxHQUFFQyxLQUFFRCxHQUFFLFNBQU8sSUFBRSxJQUFFO0FBQUUsV0FBT0EsR0FBRSxRQUFTLENBQUFBLE9BQUc7QUFBQyxVQUFHLE1BQUlBLEdBQUUsT0FBTyxRQUFRO0FBQU87QUFBTyxVQUFJRSxLQUFFRixHQUFFLE9BQU8sUUFBUSxTQUFPO0FBQUUsTUFBQUUsS0FBRUQsT0FBSUEsS0FBRUM7QUFBQSxJQUFFLENBQUUsR0FBRUQ7QUFBQSxFQUFDO0FBQUEsRUFBQyxJQUFJRCxJQUFFO0FBQUMsV0FBTyxFQUFFLEtBQUssSUFBSSxHQUFFLEVBQUUsS0FBSyxNQUFLQSxFQUFDO0FBQUEsRUFBQztBQUFBLEVBQUMsUUFBTztBQUFDLFdBQU8sRUFBRSxLQUFLLElBQUksR0FBRSxFQUFFLEtBQUssTUFBSyxPQUFPLEdBQUU7QUFBQSxFQUFJO0FBQUM7QUFBQyxJQUFNLElBQUUsU0FBU0EsSUFBRTtBQUFDLE1BQUlDLEtBQUUsRUFBRUQsRUFBQztBQUFFLFNBQU8sSUFBSU8sR0FBRU4sRUFBQztBQUFDO0FBQUUsRUFBRSxVQUFVLFNBQU8sU0FBU0QsSUFBRTtBQUFDLEVBQUFBLEdBQUUsSUFBSTtBQUFDOzs7QUNDN3pJLElBQU0sU0FBUztBQUFBLEVBQ2IsTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sVUFBVTtBQUFBLEVBQ1YsTUFBTTtBQUFBLEVBQ04sT0FBTztBQUFBLEVBQ1AsV0FBVztBQUFBLEVBQ1gsYUFBYTtBQUFBLEVBQ2IsYUFBYTtBQUFBLEVBQ2IsWUFBWTtBQUFBLEVBQ1osWUFBWTtBQUFBLEVBQ1osUUFBUTtBQUNWO0FBRUEsSUFBTyxpQkFBUTs7O0FDYmYsSUFBTSxXQUFXLFNBQVUsTUFBTTtBQUMvQixNQUFJLGVBQU8sZUFBZSxLQUFLLEVBQUUsR0FBRztBQUNsQyxXQUFPLGVBQU8sS0FBSyxFQUFFO0FBQUEsRUFDdkI7QUFDQSxNQUFJLGVBQU8sZUFBZSxLQUFLLEVBQUUsR0FBRztBQUNsQyxXQUFPLGVBQU8sS0FBSyxFQUFFO0FBQUEsRUFDdkI7QUFDQSxNQUFJLFFBQVEsS0FBSyxPQUFPLFFBQVEsS0FBSyxDQUFBUSxPQUFLLGVBQU9BLEVBQUMsQ0FBQztBQUNuRCxTQUFPLGVBQU8sS0FBSztBQUNyQjtBQUdBLElBQU0sTUFBTSxTQUFVLE9BQU87QUFDM0IsUUFBTSxNQUFNLENBQUM7QUFDYixRQUFNLFFBQVEsVUFBUTtBQUNwQixRQUFJLEVBQUUsS0FBSyxNQUFNLElBQUksTUFBTSxJQUFJLEtBQUs7QUFDcEMsUUFBSSxVQUFVLEtBQUssT0FBTztBQUMxQixRQUFJLE1BQU07QUFDUixnQkFBVSxRQUFRLE9BQU8sSUFBSTtBQUFBLElBQy9CO0FBQ0EsUUFBSSxLQUFLLEVBQUUsSUFBSTtBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQSxVQUFVLEtBQUssT0FBTztBQUFBLE1BQ3RCLE9BQU8sU0FBUyxJQUFJO0FBQUEsSUFDdEI7QUFBQSxFQUNGLENBQUM7QUFFRCxTQUFPLEtBQUssR0FBRyxFQUFFLFFBQVEsQ0FBQUMsT0FBSztBQUM1QixRQUFJLE9BQU8sSUFBSSxJQUFJLElBQUlBLEVBQUMsRUFBRSxHQUFHO0FBQzdCLFFBQUlBLEVBQUMsRUFBRSxJQUFJLFFBQVEsU0FBTztBQUN4QixVQUFJLElBQUksR0FBRyxHQUFHO0FBQ1osWUFBSSxHQUFHLEVBQUUsU0FBUyxRQUFRLFNBQU8sS0FBSyxJQUFJLEdBQUcsQ0FBQztBQUFBLE1BQ2hEO0FBQUEsSUFDRixDQUFDO0FBQ0QsUUFBSUEsRUFBQyxFQUFFLE1BQU0sTUFBTSxLQUFLLElBQUk7QUFBQSxFQUM5QixDQUFDO0FBQ0QsU0FBTztBQUNUO0FBRUEsSUFBTyxjQUFROzs7QUM1Q2YsSUFBTSxRQUFRLFNBQVUsT0FBTztBQUM3QixNQUFJLENBQUMsT0FBTztBQUNWLFdBQU8sQ0FBQztBQUFBLEVBQ1Y7QUFDQSxNQUFJLE9BQU8sVUFBVSxVQUFVO0FBQzdCLFdBQU8sQ0FBQyxLQUFLO0FBQUEsRUFDZjtBQUNBLFNBQU87QUFDVDtBQUVBLElBQU0sYUFBYSxTQUFVLE1BQU0sU0FBUztBQUMxQyxTQUFPLEtBQUssSUFBSSxFQUFFLFFBQVEsQ0FBQUMsT0FBSztBQUU3QixRQUFJLEtBQUtBLEVBQUMsRUFBRSxLQUFLO0FBQ2YsV0FBS0EsRUFBQyxFQUFFLEtBQUssS0FBS0EsRUFBQyxFQUFFO0FBQUEsSUFDdkI7QUFDQSxRQUFJLEtBQUtBLEVBQUMsRUFBRSxNQUFNO0FBQ2hCLFdBQUtBLEVBQUMsRUFBRSxNQUFNLEtBQUtBLEVBQUMsRUFBRTtBQUFBLElBQ3hCO0FBRUEsUUFBSSxLQUFLQSxFQUFDLEVBQUUsTUFBTSxPQUFPLEtBQUtBLEVBQUMsRUFBRSxPQUFPLFVBQVU7QUFDaEQsVUFBSSxDQUFDLFFBQVEsZUFBZSxLQUFLQSxFQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsS0FBSyxlQUFlLEtBQUtBLEVBQUMsRUFBRSxFQUFFLEdBQUc7QUFDM0UsYUFBSyxLQUFLQSxFQUFDLEVBQUUsRUFBRSxJQUFJLENBQUM7QUFBQSxNQUN0QjtBQUFBLElBQ0Y7QUFFQSxRQUFJLEtBQUtBLEVBQUMsRUFBRSxPQUFPLE9BQU8sS0FBS0EsRUFBQyxFQUFFLFFBQVEsWUFBWSxDQUFDLEtBQUssZUFBZSxLQUFLQSxFQUFDLEVBQUUsR0FBRyxHQUFHO0FBQ3ZGLFVBQUksQ0FBQyxRQUFRLGVBQWUsS0FBS0EsRUFBQyxFQUFFLEdBQUcsS0FBSyxDQUFDLEtBQUssZUFBZSxLQUFLQSxFQUFDLEVBQUUsR0FBRyxHQUFHO0FBQzdFLGFBQUssS0FBS0EsRUFBQyxFQUFFLEdBQUcsSUFBSSxDQUFDO0FBQUEsTUFDdkI7QUFBQSxJQUNGO0FBQUEsRUFDRixDQUFDO0FBQ0QsU0FBTztBQUNUO0FBR0EsSUFBTSxXQUFXLFNBQVUsTUFBTSxTQUFTO0FBRXhDLFNBQU8sV0FBVyxNQUFNLE9BQU87QUFHL0IsU0FBTyxLQUFLLElBQUksRUFBRSxRQUFRLENBQUFBLE9BQUs7QUFDN0IsU0FBS0EsRUFBQyxFQUFFLFdBQVcsTUFBTSxLQUFLQSxFQUFDLEVBQUUsUUFBUTtBQUN6QyxTQUFLQSxFQUFDLEVBQUUsTUFBTSxNQUFNLEtBQUtBLEVBQUMsRUFBRSxHQUFHO0FBQUEsRUFDakMsQ0FBQztBQUdELFNBQU8sS0FBSyxJQUFJLEVBQUUsUUFBUSxDQUFBQSxPQUFLO0FBQzdCLFFBQUksT0FBTyxLQUFLQSxFQUFDLEVBQUUsT0FBTyxDQUFDO0FBQzNCLFNBQUssUUFBUSxRQUFNO0FBQ2pCLFVBQUksS0FBSyxFQUFFLEtBQUssS0FBSyxFQUFFLEVBQUUsS0FBSztBQUM1QixhQUFLLEVBQUUsRUFBRSxJQUFJLEtBQUtBLEVBQUM7QUFBQSxNQUNyQjtBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0gsQ0FBQztBQUNELFNBQU87QUFDVDtBQUNBLElBQU8sbUJBQVE7OztBQ3JEZixJQUFNQyxXQUFVLFNBQVUsU0FBUztBQUVqQyxRQUFNLFdBQVcsT0FBTyxLQUFLLE9BQU8sRUFBRSxJQUFJLENBQUFDLE9BQUs7QUFDN0MsUUFBSUMsS0FBSSxRQUFRRCxFQUFDO0FBQ2pCLFVBQU0sUUFBUSxFQUFFLEtBQUssSUFBSSxJQUFJQyxHQUFFLEdBQUcsR0FBRyxNQUFNQSxHQUFFLE1BQU0sSUFBSUEsR0FBRSxJQUFJLE9BQU9BLEdBQUUsTUFBTTtBQUM1RSxXQUFPLEVBQUUsSUFBSUQsSUFBRyxRQUFRQyxHQUFFLElBQUksT0FBTyxVQUFVLENBQUMsRUFBRTtBQUFBLEVBQ3BELENBQUM7QUFDRCxRQUFNLFFBQVEsRUFBSyxRQUFRLEVBQUUsTUFBTSxFQUFFLFNBQVM7QUFDOUMsU0FBTyxNQUFNLElBQUksT0FBTztBQUMxQjtBQUVBLElBQU0sV0FBVyxTQUFVLE1BQU07QUFDL0IsU0FBTyxLQUFLLElBQUksRUFBRSxRQUFRLENBQUFELE9BQUs7QUFDN0IsU0FBS0EsRUFBQyxJQUFJLE9BQU8sT0FBTyxDQUFDLEdBQUcsS0FBS0EsRUFBQyxDQUFDO0FBQ25DLFNBQUtBLEVBQUMsRUFBRSxRQUFRO0FBQUEsRUFDbEIsQ0FBQztBQUNELFNBQU87QUFDVDtBQUVBLElBQU0sVUFBVSxTQUFVLE1BQU0sU0FBUztBQUV2QyxNQUFJLE9BQU8sS0FBSyxPQUFPLEVBQUUsU0FBUyxHQUFHO0FBQ25DLFdBQU8sU0FBUyxJQUFJO0FBQUEsRUFDdEI7QUFDQSxTQUFPLGlCQUFTLE1BQU0sT0FBTztBQUU3QixNQUFJLFVBQVUsT0FBTyxPQUFPLENBQUMsR0FBRyxTQUFTLElBQUk7QUFHN0MsUUFBTSxRQUFRRCxTQUFRLE9BQU87QUFFN0IsUUFBTSxNQUFNLFlBQUksS0FBSztBQUNyQixTQUFPO0FBQ1Q7QUFDQSxJQUFPLGtCQUFROzs7QUNsQ2YsSUFBT0csbUJBQVE7QUFBQSxFQUNiLEtBQUs7QUFBQSxJQUNIO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBLE9BQUFDO0FBQUEsRUFDRjtBQUNGOzs7QUNYQSxJQUFNQyxZQUFVLFNBQVUsS0FBSztBQUM3QixTQUFPLE9BQU8sVUFBVSxTQUFTLEtBQUssR0FBRyxNQUFNO0FBQ2pEO0FBQ0EsSUFBTUMsT0FBTTtBQUFBO0FBQUEsRUFFVixLQUFLLFNBQVUsT0FBTyxTQUFTLElBQUksUUFBUTtBQUN6QyxRQUFJLENBQUMsS0FBSyxTQUFTLENBQUMsT0FBTztBQUN6QixhQUFPO0FBQUEsSUFDVDtBQUNBLFFBQUksUUFBUSxLQUFLLFNBQVM7QUFDMUIsUUFBSSxNQUFNLFdBQVcsR0FBRztBQUN0QixhQUFPO0FBQUEsSUFDVDtBQUNBLFVBQU0sRUFBRSxTQUFBQyxXQUFTLFNBQUFDLFVBQVMsT0FBQUMsT0FBTSxJQUFJO0FBRXBDLFFBQUlELGFBQVksTUFBTTtBQUNwQixjQUFRLElBQUksUUFBUSxPQUFPLFVBQVUsRUFBRTtBQUFBLElBQ3pDO0FBQ0EsUUFBSUgsVUFBUSxLQUFLLEdBQUc7QUFDbEIsWUFBTSxRQUFRLFNBQU9FLFVBQVEsSUFBSSxPQUFPLE9BQU8sS0FBS0UsUUFBTyxRQUFRLE1BQU0sQ0FBQztBQUFBLElBQzVFLE9BQU87QUFDTCxNQUFBRixVQUFRLElBQUksT0FBTyxPQUFPLE9BQU9FLFFBQU8sUUFBUSxNQUFNO0FBQUEsSUFDeEQ7QUFFQSxTQUFLLFFBQVE7QUFDYixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUEsRUFHQSxTQUFTLFNBQVUsT0FBTyxTQUFTLElBQUk7QUFDckMsV0FBTyxLQUFLLElBQUksT0FBTyxRQUFRLElBQUk7QUFBQSxFQUNyQztBQUFBO0FBQUEsRUFHQSxPQUFPLFNBQVUsT0FBTyxRQUFRO0FBQzlCLFFBQUksQ0FBQyxLQUFLLFNBQVMsQ0FBQyxPQUFPO0FBQ3pCLGFBQU87QUFBQSxJQUNUO0FBQ0EsUUFBSSxRQUFRLEtBQUssU0FBUztBQUMxQixRQUFJLE1BQU0sV0FBVyxHQUFHO0FBQ3RCLGFBQU87QUFBQSxJQUNUO0FBQ0EsVUFBTSxFQUFFLFNBQUFGLFdBQVMsU0FBQUMsVUFBUyxPQUFBRSxPQUFNLElBQUk7QUFFcEMsUUFBSUYsYUFBWSxNQUFNO0FBQ3BCLGNBQVEsSUFBSSxRQUFRLE9BQU8sVUFBVSxFQUFFO0FBQUEsSUFDekM7QUFDQSxRQUFJLFNBQVNFLE9BQU0sSUFBSTtBQUN2QixRQUFJTCxVQUFRLEtBQUssR0FBRztBQUNsQixZQUFNLFFBQVEsU0FBT0UsVUFBUSxJQUFJLE1BQU0sT0FBTyxLQUFLLE1BQU0sQ0FBQztBQUFBLElBQzVELE9BQU87QUFDTCxNQUFBQSxVQUFRLElBQUksTUFBTSxPQUFPLE9BQU8sTUFBTTtBQUFBLElBQ3hDO0FBRUEsU0FBSyxRQUFRO0FBQ2IsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBLEVBR0EsT0FBTyxTQUFVLEtBQUs7QUFDcEIsVUFBTSxJQUFJLFFBQVEsTUFBTSxFQUFFO0FBQzFCLFFBQUksU0FBUyxLQUFLLE1BQU0sSUFBSTtBQUM1QixRQUFJSSxTQUFRLEtBQUssUUFBUSxJQUFJO0FBQzdCLFFBQUksT0FBTyxDQUFDO0FBQ1osU0FBSyxTQUFTLFFBQVEsQ0FBQyxPQUFPQyxPQUFNO0FBQ2xDLFlBQU0sUUFBUSxDQUFDLE1BQU1DLE9BQU07QUFDekIsWUFBSSxDQUFDRixPQUFNLE1BQU0sS0FBSyxNQUFNLEdBQUc7QUFDN0IsZUFBSyxLQUFLLENBQUNDLElBQUdDLElBQUdBLEtBQUksQ0FBQyxDQUFDO0FBQUEsUUFDekI7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNILENBQUM7QUFDRCxRQUFJLFFBQVEsS0FBSyxPQUFPLElBQUk7QUFDNUIsV0FBTyxLQUFLLFdBQVcsS0FBSztBQUFBLEVBQzlCO0FBQ0Y7QUFDQSxJQUFPLGNBQVFQOzs7QUMxRWYsSUFBTSxTQUFTLFNBQVVRLE9BQU07QUFDN0IsU0FBTyxPQUFPQSxNQUFLLFdBQVcsV0FBRztBQUNuQztBQUNBLElBQU9DLGVBQVE7OztBQ0pmLElBQU1DLFdBQVUsU0FBVSxNQUFNO0FBQzlCLFFBQU0sRUFBRSxPQUFBQyxRQUFPLFNBQUFDLFVBQVEsSUFBSSxLQUFLLE1BQU07QUFDdEMsUUFBTSxTQUFTRCxPQUFNLElBQUk7QUFDekIsUUFBTSxLQUFLQyxVQUFRLElBQUk7QUFDdkIsTUFBSSxNQUFNLEdBQUcsTUFBTSxNQUFNO0FBQ3pCLEVBQUFELE9BQU0sSUFBSSxTQUFTO0FBQ25CLFNBQU87QUFDVDtBQUVBLElBQU9FLGVBQVEsRUFBRSxTQUFBSCxTQUFROzs7QUNWekIsSUFBTSxhQUFhLG9CQUFJLElBQUksQ0FBQyxhQUFhLFlBQVksQ0FBQztBQUV0RCxJQUFNLGFBQWEsU0FBVSxNQUFNLFFBQVE7QUFDekMsU0FBTyxLQUFLLEtBQUssQ0FBQ0ksSUFBRyxNQUFNO0FBRXpCLFFBQUksV0FBVyxJQUFJQSxFQUFDLEtBQUssQ0FBQyxPQUFPLGVBQWUsQ0FBQyxHQUFHO0FBQ2xELGFBQU87QUFBQSxJQUNUO0FBQ0EsUUFBSSxXQUFXLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxlQUFlQSxFQUFDLEdBQUc7QUFDbEQsYUFBTztBQUFBLElBQ1Q7QUFDQSxRQUFJLE9BQU8sT0FBT0EsRUFBQyxFQUFFLFlBQVksQ0FBQztBQUNsQyxRQUFJLFFBQVEsS0FBSztBQUNqQixXQUFPLE9BQU8sQ0FBQyxFQUFFLFlBQVksQ0FBQztBQUM5QixRQUFJLFFBQVEsS0FBSztBQUNqQixXQUFPLFFBQVE7QUFBQSxFQUNqQixDQUFDO0FBQ0QsU0FBTztBQUNUO0FBRUEsSUFBTSxVQUFVLFNBQVUsTUFBTTtBQUM5QixRQUFNLEVBQUUsVUFBQUMsV0FBVSxPQUFBQyxPQUFNLElBQUk7QUFDNUIsUUFBTSxTQUFTQSxPQUFNLE1BQU0sSUFBSTtBQUMvQixFQUFBRCxVQUFTLFFBQVEsV0FBUztBQUN4QixVQUFNLFFBQVEsVUFBUTtBQUNwQixVQUFJLE9BQU8sTUFBTSxLQUFLLEtBQUssSUFBSTtBQUMvQixXQUFLLFVBQVUsV0FBVyxNQUFNLE1BQU07QUFBQSxJQUN4QyxDQUFDO0FBQUEsRUFDSCxDQUFDO0FBQ0g7QUFDQSxJQUFPLGtCQUFROzs7QUN4QmYsSUFBT0UsbUJBQVE7QUFBQSxFQUNiLE9BQU87QUFBQSxJQUNMLEtBQUssRUFBRSxRQUFRLENBQUMsRUFBRTtBQUFBLEVBQ3BCO0FBQUEsRUFDQSxTQUFTO0FBQUEsSUFDUDtBQUFBLEVBQ0Y7QUFBQSxFQUNBLFNBQUFDO0FBQUEsRUFDQSxLQUFBQztBQUFBLEVBQ0EsS0FBQUM7QUFDRjs7O0FDZkEsSUFBTSxZQUFZO0FBRWxCLElBQU0sYUFBYTtBQUNuQixJQUFNLFVBQVU7QUFHaEIsSUFBTSxhQUFhLFNBQVUsTUFBTTtBQUNqQyxNQUFJLE1BQU0sQ0FBQztBQUVYLE1BQUksUUFBUSxLQUFLLE1BQU0sT0FBTztBQUM5QixXQUFTQyxLQUFJLEdBQUdBLEtBQUksTUFBTSxRQUFRQSxNQUFLO0FBRXJDLFFBQUksTUFBTSxNQUFNQSxFQUFDLEVBQUUsTUFBTSxTQUFTO0FBQ2xDLGFBQVNDLEtBQUksR0FBR0EsS0FBSSxJQUFJLFFBQVFBLE1BQUs7QUFFbkMsVUFBSSxJQUFJQSxLQUFJLENBQUMsS0FBSyxXQUFXLEtBQUssSUFBSUEsS0FBSSxDQUFDLENBQUMsTUFBTSxNQUFNO0FBQ3RELFlBQUlBLEVBQUMsS0FBSyxJQUFJQSxLQUFJLENBQUM7QUFDbkIsWUFBSUEsS0FBSSxDQUFDLElBQUk7QUFBQSxNQUNmO0FBQ0EsVUFBSSxJQUFJQSxFQUFDLE1BQU0sSUFBSTtBQUNqQixZQUFJLEtBQUssSUFBSUEsRUFBQyxDQUFDO0FBQUEsTUFDakI7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUNBLFNBQU87QUFDVDtBQUNBLElBQU8sdUJBQVE7OztBQzNCZixJQUFNLFlBQVk7QUFDbEIsSUFBTSxlQUFlO0FBRXJCLElBQU0sV0FBVyxTQUFVLFFBQVE7QUFDakMsTUFBSSxTQUFTLENBQUM7QUFDZCxXQUFTQyxLQUFJLEdBQUdBLEtBQUksT0FBTyxRQUFRQSxNQUFLO0FBQ3RDLFFBQUlDLEtBQUksT0FBT0QsRUFBQztBQUNoQixRQUFJQyxPQUFNLFVBQWFBLE9BQU0sSUFBSTtBQUMvQjtBQUFBLElBQ0Y7QUFFQSxRQUFJLGFBQWEsS0FBS0EsRUFBQyxNQUFNLFNBQVMsVUFBVSxLQUFLQSxFQUFDLE1BQU0sT0FBTztBQUVqRSxVQUFJLE9BQU8sT0FBTyxTQUFTLENBQUMsR0FBRztBQUM3QixlQUFPLE9BQU8sU0FBUyxDQUFDLEtBQUtBO0FBQzdCO0FBQUEsTUFDRixXQUFXLE9BQU9ELEtBQUksQ0FBQyxHQUFHO0FBRXhCLGVBQU9BLEtBQUksQ0FBQyxJQUFJQyxLQUFJLE9BQU9ELEtBQUksQ0FBQztBQUNoQztBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBRUEsV0FBTyxLQUFLQyxFQUFDO0FBQUEsRUFDZjtBQUNBLFNBQU87QUFDVDtBQUNBLElBQU8sdUJBQVE7OztBQ3pCZixJQUFNLGFBQWEsU0FBVSxRQUFRQyxRQUFPO0FBQzFDLFFBQU1DLGNBQWFELE9BQU0sUUFBUSxJQUFJLFNBQVM7QUFDOUMsUUFBTSxVQUFVQSxPQUFNLE1BQU0sSUFBSSxpQkFBaUIsb0JBQUksSUFBSTtBQUV6RCxNQUFJLFlBQVksQ0FBQztBQUNqQixXQUFTRSxLQUFJLEdBQUdBLEtBQUksT0FBTyxRQUFRQSxNQUFLO0FBQ3RDLFFBQUlDLEtBQUksT0FBT0QsRUFBQztBQUVoQixRQUFJLE9BQU9BLEtBQUksQ0FBQyxLQUFLRCxZQUFXRSxJQUFHLE9BQU8sTUFBTSxPQUFPO0FBQ3JELGFBQU9ELEtBQUksQ0FBQyxJQUFJQyxNQUFLLE9BQU9ELEtBQUksQ0FBQyxLQUFLO0FBQUEsSUFDeEMsV0FBV0MsTUFBS0EsR0FBRSxTQUFTLEdBQUc7QUFFNUIsZ0JBQVUsS0FBS0EsRUFBQztBQUNoQixhQUFPRCxFQUFDLElBQUk7QUFBQSxJQUNkO0FBQUEsRUFDRjtBQUNBLFNBQU87QUFDVDtBQUNBLElBQU8sc0JBQVE7OztBQ2hCZixJQUFNLFlBQVk7QUFHbEIsSUFBTSxRQUFRO0FBQUEsRUFDWixLQUFVO0FBQUE7QUFBQSxFQUNWLFVBQVU7QUFBQTtBQUFBO0FBQUEsRUFFVixVQUFVO0FBQUE7QUFBQTtBQUFBLEVBRVYsVUFBVTtBQUFBO0FBQUE7QUFBQSxFQUVWLFVBQVU7QUFBQTtBQUFBLEVBQ1YsVUFBVTtBQUFBO0FBQUEsRUFDVixVQUFVO0FBQUE7QUFBQSxFQUNWLFFBQVU7QUFBQTtBQUFBLEVBQ1YsVUFBVTtBQUFBO0FBQUEsRUFDVixVQUFVO0FBQUE7QUFBQSxFQUNWLFVBQVU7QUFBQTtBQUFBLEVBQ1YsVUFBVTtBQUFBO0FBQUEsRUFDVixVQUFVO0FBQUE7QUFBQTtBQUFBLEVBRVYsVUFBVTtBQUFBO0FBQ1o7QUFDQSxJQUFNLFlBQVksT0FBTyxNQUFNLE9BQU8sS0FBSyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksS0FBSyxHQUFHO0FBQ3JFLElBQU0sYUFBYSxPQUFPLE1BQU0sT0FBTyxPQUFPLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxLQUFLLEdBQUc7QUFFeEUsSUFBTSxjQUFjLFNBQVVFLE1BQUs7QUFDakMsTUFBSSxDQUFDQSxNQUFLO0FBQ1IsV0FBTztBQUFBLEVBQ1Q7QUFDQSxNQUFJLElBQUlBLEtBQUksTUFBTSxVQUFVO0FBQzVCLE1BQUksTUFBTSxRQUFRLEVBQUUsV0FBVyxHQUFHO0FBQ2hDLFdBQU87QUFBQSxFQUNUO0FBQ0EsU0FBTztBQUNUO0FBSUEsSUFBTSxhQUFhLFNBQVUsUUFBUTtBQUNuQyxNQUFJLE1BQU0sQ0FBQztBQUNYLFdBQVNDLEtBQUksR0FBR0EsS0FBSSxPQUFPLFFBQVFBLE1BQUssR0FBRztBQUN6QyxRQUFJQyxTQUFRLE9BQU9ELEVBQUM7QUFFcEIsUUFBSSxJQUFJQyxPQUFNLE1BQU0sU0FBUztBQUM3QixRQUFJLE1BQU0sUUFBUSxFQUFFLFdBQVcsR0FBRztBQUdoQyxVQUFJLFlBQVksT0FBT0QsS0FBSSxDQUFDLENBQUMsS0FBSyxPQUFPQSxLQUFJLENBQUMsRUFBRSxTQUFTLFdBQVc7QUFDbEUsZUFBT0EsRUFBQyxLQUFLLE9BQU9BLEtBQUksQ0FBQztBQUN6QixZQUFJLEtBQUssT0FBT0EsRUFBQyxDQUFDO0FBQ2xCLGVBQU9BLEtBQUksQ0FBQyxJQUFJO0FBQ2hCLFFBQUFBLE1BQUs7QUFDTDtBQUFBLE1BQ0Y7QUFFQSxVQUFJLFlBQVksT0FBT0EsS0FBSSxDQUFDLENBQUMsR0FBRztBQUM5QixZQUFJLFFBQVEsT0FBT0EsS0FBSSxDQUFDLElBQUksT0FBT0EsS0FBSSxDQUFDO0FBRXhDLFlBQUksTUFBTSxTQUFTLFdBQVc7QUFDNUIsaUJBQU9BLEVBQUMsS0FBSztBQUNiLGNBQUksS0FBSyxPQUFPQSxFQUFDLENBQUM7QUFDbEIsaUJBQU9BLEtBQUksQ0FBQyxJQUFJO0FBQ2hCLGlCQUFPQSxLQUFJLENBQUMsSUFBSTtBQUNoQixVQUFBQSxNQUFLO0FBQ0w7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFDQSxRQUFJLEtBQUssT0FBT0EsRUFBQyxDQUFDO0FBQUEsRUFDcEI7QUFDQSxTQUFPO0FBQ1Q7QUFDQSxJQUFPLHNCQUFROzs7QUM3RWYsSUFBTSxVQUFVO0FBSWhCLElBQU0sVUFBVTtBQUNoQixJQUFNLFlBQVk7QUFDbEIsSUFBTSxjQUFjLFNBQVUsUUFBUTtBQUNwQyxNQUFJLE1BQU0sQ0FBQztBQUNYLFdBQVNFLEtBQUksR0FBR0EsS0FBSSxPQUFPLFFBQVFBLE1BQUssR0FBRztBQUN6QyxRQUFJQyxTQUFRLE9BQU9ELEVBQUM7QUFDcEIsUUFBSSxJQUFJQyxPQUFNLE1BQU0sT0FBTztBQUMzQixRQUFJLE1BQU0sUUFBUSxFQUFFLFdBQVcsR0FBRztBQUVoQyxVQUFJLE9BQU9ELEtBQUksQ0FBQyxLQUFLLE9BQU9BLEtBQUksQ0FBQyxFQUFFLFNBQVMsU0FBUztBQUNuRCxZQUFJLEtBQUssT0FBT0EsS0FBSSxDQUFDLEVBQUUsTUFBTSxTQUFTO0FBQ3RDLFlBQUksT0FBTyxRQUFRLEVBQUUsV0FBVyxLQUFLLENBQUMsUUFBUSxLQUFLLE9BQU9BLEtBQUksQ0FBQyxDQUFDLEdBQUc7QUFFakUsaUJBQU9BLEVBQUMsS0FBSyxPQUFPQSxLQUFJLENBQUM7QUFDekIsY0FBSSxLQUFLLE9BQU9BLEVBQUMsQ0FBQztBQUNsQixpQkFBT0EsS0FBSSxDQUFDLElBQUk7QUFDaEIsVUFBQUEsTUFBSztBQUNMO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQ0EsUUFBSSxLQUFLLE9BQU9BLEVBQUMsQ0FBQztBQUFBLEVBQ3BCO0FBQ0EsU0FBTztBQUNUO0FBQ0EsSUFBTyx1QkFBUTs7O0FDckJmLElBQU1FLGdCQUFlO0FBQ3JCLElBQU0sa0JBQWtCO0FBRXhCLElBQU0saUJBQWlCLFNBQVUsTUFBTUMsUUFBTztBQUM1QyxTQUFPLFFBQVE7QUFDZixTQUFPLE9BQU8sSUFBSTtBQUVsQixNQUFJLENBQUMsUUFBUSxPQUFPLFNBQVMsWUFBWUQsY0FBYSxLQUFLLElBQUksTUFBTSxPQUFPO0FBQzFFLFdBQU8sQ0FBQztBQUFBLEVBQ1Y7QUFFQSxTQUFPLEtBQUssUUFBUSxRQUFRLEdBQUc7QUFFL0IsTUFBSSxTQUFTLHFCQUFZLElBQUk7QUFFN0IsTUFBSSxZQUFZLHFCQUFZLE1BQU07QUFFbEMsY0FBWSxvQkFBVyxXQUFXQyxNQUFLO0FBRXZDLGNBQVksb0JBQVcsU0FBUztBQUVoQyxjQUFZLHFCQUFZLFNBQVM7QUFFakMsTUFBSSxVQUFVLFdBQVcsR0FBRztBQUMxQixXQUFPLENBQUMsSUFBSTtBQUFBLEVBQ2Q7QUFHQSxXQUFTQyxLQUFJLEdBQUdBLEtBQUksVUFBVSxRQUFRQSxNQUFLLEdBQUc7QUFDNUMsUUFBSSxLQUFLLFVBQVVBLEVBQUMsRUFBRSxNQUFNLGVBQWU7QUFDM0MsUUFBSSxPQUFPLE1BQU07QUFDZixnQkFBVUEsS0FBSSxDQUFDLEtBQUssR0FBRyxDQUFDO0FBQ3hCLGdCQUFVQSxFQUFDLElBQUksVUFBVUEsRUFBQyxFQUFFLFFBQVEsaUJBQWlCLEVBQUU7QUFBQSxJQUN6RDtBQUFBLEVBQ0Y7QUFDQSxTQUFPO0FBQ1Q7QUFDQSxJQUFPLG9CQUFROzs7QUM3Q2YsSUFBTUMsYUFBWSxTQUFVQyxNQUFLQyxRQUFPO0FBQ3RDLE1BQUksUUFBUUQsS0FBSSxNQUFNLE9BQU87QUFDN0IsTUFBSSxNQUFNLFVBQVUsR0FBRztBQUNyQixXQUFPO0FBQUEsRUFDVDtBQUNBLFFBQU0sRUFBRSxVQUFVLFNBQVMsSUFBSUMsT0FBTTtBQUdyQyxNQUFJLE1BQU0sQ0FBQyxFQUFFLFdBQVcsS0FBSyxTQUFTLEtBQUssTUFBTSxDQUFDLENBQUMsR0FBRztBQUNwRCxXQUFPO0FBQUEsRUFDVDtBQUVBLE1BQUksU0FBUyxlQUFlLE1BQU0sQ0FBQyxDQUFDLEdBQUc7QUFDckMsV0FBTztBQUFBLEVBQ1Q7QUFFQSxRQUFNLENBQUMsSUFBSSxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsUUFBUSxVQUFVLEVBQUU7QUFDL0MsTUFBSSxTQUFTLGVBQWUsTUFBTSxDQUFDLENBQUMsR0FBRztBQUNyQyxXQUFPO0FBQUEsRUFDVDtBQUVBLE1BQUksTUFBTTtBQUNWLE1BQUksSUFBSSxLQUFLRCxJQUFHLE1BQU0sTUFBTTtBQUMxQixXQUFPO0FBQUEsRUFDVDtBQUVBLE1BQUksT0FBTztBQUNYLE1BQUksS0FBSyxLQUFLQSxJQUFHLE1BQU0sTUFBTTtBQUMzQixXQUFPO0FBQUEsRUFDVDtBQUNBLFNBQU87QUFDVDtBQUVBLElBQU1FLGdCQUFlLFNBQVUsTUFBTTtBQUNuQyxNQUFJLE1BQU0sQ0FBQztBQUVYLFFBQU0sVUFBVSxLQUFLLE1BQU0sT0FBTztBQUNsQyxNQUFJLFlBQVk7QUFDaEIsTUFBSSxRQUFRLEtBQUssTUFBTSxPQUFPO0FBQzlCLE1BQUksU0FBUyxNQUFNLENBQUMsR0FBRztBQUNyQixnQkFBWTtBQUFBLEVBQ2Q7QUFDQSxXQUFTQyxLQUFJLEdBQUdBLEtBQUksUUFBUSxRQUFRQSxNQUFLO0FBQ3ZDLFFBQUlBLE9BQU0sUUFBUSxTQUFTLEdBQUc7QUFDNUIsVUFBSSxLQUFLLFFBQVFBLEVBQUMsQ0FBQztBQUFBLElBQ3JCLE9BQU87QUFDTCxVQUFJLEtBQUssUUFBUUEsRUFBQyxJQUFJLFNBQVM7QUFBQSxJQUNqQztBQUFBLEVBQ0Y7QUFDQSxTQUFPO0FBQ1Q7OztBQ2hEQSxJQUFNLGdCQUFnQixTQUFVLEtBQUs7QUFDbkMsUUFBTSxhQUFhO0FBQ25CLFFBQU0sV0FBVztBQUNqQixXQUFTQyxLQUFJLEdBQUdBLEtBQUksSUFBSSxTQUFTLEdBQUdBLE1BQUssR0FBRztBQUMxQyxRQUFJLElBQUlBLEtBQUksQ0FBQyxLQUFLLFdBQVcsS0FBSyxJQUFJQSxFQUFDLENBQUMsS0FBSyxTQUFTLEtBQUssSUFBSUEsS0FBSSxDQUFDLENBQUMsR0FBRztBQUN0RSxVQUFJQSxFQUFDLElBQUksSUFBSUEsRUFBQyxJQUFJLElBQUlBLEtBQUksQ0FBQztBQUMzQixVQUFJQSxLQUFJLENBQUMsSUFBSTtBQUFBLElBQ2Y7QUFBQSxFQUNGO0FBQ0EsU0FBTztBQUNUO0FBQ0EsSUFBTyxpQkFBUTs7O0FDYmYsSUFBTSxVQUFVO0FBR2hCLElBQU0saUJBQWlCLFNBQVUsS0FBSztBQUNwQyxXQUFTQyxLQUFJLEdBQUdBLEtBQUksSUFBSSxTQUFTLEdBQUdBLE1BQUs7QUFDdkMsUUFBSSxRQUFRLEtBQUssSUFBSUEsRUFBQyxDQUFDLEdBQUc7QUFDeEIsVUFBSUEsS0FBSSxDQUFDLEtBQUssSUFBSUEsRUFBQyxJQUFJLElBQUlBLEtBQUksQ0FBQztBQUNoQyxVQUFJQSxFQUFDLElBQUk7QUFDVCxVQUFJQSxLQUFJLENBQUMsSUFBSTtBQUFBLElBQ2Y7QUFBQSxFQUNGO0FBQ0EsU0FBTztBQUNUO0FBQ0EsSUFBTyxrQkFBUTs7O0FDVGYsSUFBTSxXQUFXO0FBQ2pCLElBQU0sYUFBYTtBQUNuQixJQUFNLGNBQWM7QUFFcEIsSUFBSSxVQUFVO0FBQUEsRUFDWjtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0Y7QUFDQSxVQUFVLFFBQVEsT0FBTyxDQUFDQyxJQUFHQyxPQUFNO0FBQ2pDLEVBQUFELEdBQUVDLEVBQUMsSUFBSTtBQUNQLFNBQU9EO0FBQ1QsR0FBRyxDQUFDLENBQUM7QUFFTCxJQUFNRSxZQUFVLFNBQVUsS0FBSztBQUM3QixTQUFPLE9BQU8sVUFBVSxTQUFTLEtBQUssR0FBRyxNQUFNO0FBQ2pEO0FBR0EsSUFBTSxhQUFhLFNBQVVDLE1BQUtDLFFBQU87QUFDdkMsTUFBSSxTQUFTLENBQUM7QUFDZCxNQUFJLE1BQU0sQ0FBQztBQUVYLEVBQUFELE9BQU1BLFFBQU87QUFDYixNQUFJLE9BQU9BLFNBQVEsVUFBVTtBQUMzQixJQUFBQSxPQUFNLE9BQU9BLElBQUc7QUFBQSxFQUNsQjtBQUNBLE1BQUlELFVBQVFDLElBQUcsR0FBRztBQUNoQixXQUFPQTtBQUFBLEVBQ1Q7QUFDQSxRQUFNLFFBQVFBLEtBQUksTUFBTSxXQUFXO0FBQ25DLFdBQVNFLEtBQUksR0FBR0EsS0FBSSxNQUFNLFFBQVFBLE1BQUs7QUFFckMsUUFBSUMsV0FBVSxNQUFNRCxFQUFDLEdBQUdELE1BQUssTUFBTSxNQUFNO0FBQ3ZDLFlBQU0sSUFBSSxPQUFPRyxjQUFhLE1BQU1GLEVBQUMsQ0FBQyxDQUFDO0FBQ3ZDO0FBQUEsSUFDRjtBQUNBLFFBQUksS0FBSyxNQUFNQSxFQUFDLENBQUM7QUFBQSxFQUNuQjtBQUVBLE1BQUksUUFBUTtBQUNaLFdBQVNBLEtBQUksR0FBR0EsS0FBSSxJQUFJLFFBQVFBLE1BQUs7QUFDbkMsUUFBSSxPQUFPLElBQUlBLEVBQUM7QUFFaEIsUUFBSSxTQUFTLEtBQUssSUFBSSxNQUFNLFFBQVEsUUFBUSxlQUFlLElBQUksTUFBTSxTQUFTLFdBQVcsS0FBSyxJQUFJLE1BQU0sT0FBTztBQUU3RyxVQUFJLE9BQU8sU0FBUyxHQUFHO0FBQ3JCLGVBQU8sT0FBTyxTQUFTLENBQUMsS0FBSztBQUM3QixlQUFPLEtBQUssSUFBSTtBQUFBLE1BQ2xCLE9BQU87QUFFTCxlQUFPLEtBQUssUUFBUSxJQUFJO0FBQUEsTUFDMUI7QUFDQSxjQUFRO0FBQUEsSUFDVixPQUFPO0FBQ0wsZUFBUztBQUFBLElBQ1g7QUFBQSxFQUNGO0FBRUEsTUFBSSxPQUFPO0FBQ1QsUUFBSSxPQUFPLFdBQVcsR0FBRztBQUN2QixhQUFPLENBQUMsSUFBSTtBQUFBLElBQ2Q7QUFDQSxXQUFPLE9BQU8sU0FBUyxDQUFDLEtBQUs7QUFBQSxFQUMvQjtBQUVBLFdBQVMsZ0JBQWUsTUFBTTtBQUM5QixXQUFTLGVBQWMsTUFBTTtBQUU3QixXQUFTLE9BQU8sT0FBTyxDQUFBRyxPQUFLQSxFQUFDO0FBQzdCLFNBQU87QUFDVDtBQUNBLElBQU8sZ0JBQVE7OztBQzNGZixJQUFNLFdBQVc7QUFDakIsSUFBTSxXQUFXO0FBQ2pCLElBQU0sYUFBYTtBQUNuQixJQUFNLFVBQVU7QUFFaEIsSUFBTSx1QkFBdUIsU0FBVUMsTUFBS0MsUUFBTztBQUVqRCxNQUFJLEVBQUUsZ0JBQUFDLGlCQUFnQixpQkFBQUMsa0JBQWlCLFdBQUFDLFdBQVUsSUFBSUgsT0FBTTtBQUMzRCxNQUFJLFdBQVdEO0FBQ2YsTUFBSSxNQUFNO0FBQ1YsTUFBSUssUUFBTztBQUNYLE1BQUksUUFBUSxNQUFNLEtBQUtMLElBQUc7QUFHMUIsTUFBSUksV0FBVSxlQUFlSixLQUFJLEtBQUssQ0FBQyxHQUFHO0FBQ3hDLFdBQU8sRUFBRSxLQUFLQSxLQUFJLEtBQUssR0FBRyxLQUFLLE1BQU0sSUFBSTtBQUFBLEVBQzNDO0FBR0EsTUFBSSxNQUFNLE1BQU07QUFDaEIsV0FBU00sS0FBSSxHQUFHQSxLQUFJLEtBQUtBLE1BQUssR0FBRztBQUMvQixRQUFJQyxLQUFJLE1BQU0sQ0FBQztBQUVmLFFBQUlMLGdCQUFlSyxFQUFDLE1BQU0sTUFBTTtBQUM5QjtBQUFBLElBQ0Y7QUFFQSxTQUFLQSxPQUFNLE9BQU9BLE9BQU0sUUFBUSxTQUFTLEtBQUssTUFBTSxDQUFDLENBQUMsR0FBRztBQUN2RDtBQUFBLElBQ0Y7QUFFQSxRQUFJQSxPQUFNLE9BQU9BLEdBQUUsV0FBVyxLQUFLLFNBQVMsS0FBSyxNQUFNLENBQUMsQ0FBQyxHQUFHO0FBQzFEO0FBQUEsSUFDRjtBQUVBLFFBQUksU0FBUyxLQUFLQSxFQUFDLEtBQUssU0FBUyxLQUFLQSxFQUFDLEdBQUc7QUFDeEM7QUFBQSxJQUNGO0FBRUEsV0FBTyxNQUFNLE1BQU07QUFBQSxFQUNyQjtBQUdBLFFBQU0sTUFBTTtBQUNaLFdBQVNELEtBQUksR0FBR0EsS0FBSSxLQUFLQSxNQUFLLEdBQUc7QUFDL0IsUUFBSUMsS0FBSSxNQUFNLE1BQU0sU0FBUyxDQUFDO0FBRTlCLFFBQUlKLGlCQUFnQkksRUFBQyxNQUFNLE1BQU07QUFDL0I7QUFBQSxJQUNGO0FBRUEsUUFBSSxTQUFTLEtBQUtBLEVBQUMsS0FBSyxTQUFTLEtBQUtBLEVBQUMsR0FBRztBQUN4QztBQUFBLElBQ0Y7QUFFQSxRQUFJQSxPQUFNLE9BQU8sV0FBVyxLQUFLLFFBQVEsTUFBTSxNQUFNO0FBQ25EO0FBQUEsSUFDRjtBQUVBLFFBQUlBLE9BQU0sT0FBTyxRQUFRLEtBQUssUUFBUSxNQUFNLE1BQU07QUFDaEQ7QUFBQSxJQUNGO0FBRUEsSUFBQUYsUUFBTyxNQUFNLElBQUksSUFBSUE7QUFBQSxFQUN2QjtBQUNBLEVBQUFMLE9BQU0sTUFBTSxLQUFLLEVBQUU7QUFFbkIsTUFBSUEsU0FBUSxJQUFJO0FBRWQsZUFBVyxTQUFTLFFBQVEsT0FBTyxDQUFBUSxXQUFTO0FBQzFDLE1BQUFILFFBQU9HLFVBQVM7QUFDaEIsYUFBTztBQUFBLElBQ1QsQ0FBQztBQUNELElBQUFSLE9BQU07QUFDTixVQUFNO0FBQUEsRUFDUjtBQUNBLFNBQU8sRUFBRSxLQUFBQSxNQUFLLEtBQUssTUFBQUssTUFBSztBQUMxQjtBQUNBLElBQU8sbUJBQVE7OztBQy9FZixJQUFNLFlBQVksQ0FBQyxLQUFLSSxXQUFVO0FBRWhDLE1BQUksRUFBRSxLQUFBQyxNQUFLLEtBQUssTUFBQUMsTUFBSyxJQUFJLGlCQUFTLEtBQUtGLE1BQUs7QUFDNUMsUUFBTSxTQUFTO0FBQUEsSUFDYixNQUFNQztBQUFBLElBQ047QUFBQSxJQUNBLE1BQU1DO0FBQUEsSUFDTixNQUFNLG9CQUFJLElBQUk7QUFBQSxFQUNoQjtBQUNBLFNBQU87QUFDVDtBQUNBLElBQU9DLHNCQUFROzs7QUNaZixJQUFNLGNBQWMsU0FBVUMsTUFBS0MsUUFBTztBQUN4QyxRQUFNQyxXQUFVRCxPQUFNLE1BQU0sSUFBSSxXQUFXLENBQUM7QUFDNUMsRUFBQUQsT0FBTUEsUUFBTztBQUNiLE1BQUksUUFBUUEsS0FBSSxNQUFNLEVBQUU7QUFDeEIsUUFBTSxRQUFRLENBQUNHLElBQUdDLE9BQU07QUFDdEIsUUFBSUYsU0FBUUMsRUFBQyxHQUFHO0FBQ2QsWUFBTUMsRUFBQyxJQUFJRixTQUFRQyxFQUFDO0FBQUEsSUFDdEI7QUFBQSxFQUNGLENBQUM7QUFDRCxTQUFPLE1BQU0sS0FBSyxFQUFFO0FBQ3RCO0FBQ0EsSUFBTyxrQkFBUTs7O0FDWGYsSUFBTSxRQUFRLFNBQVVFLE1BQUs7QUFDM0IsRUFBQUEsT0FBTUEsUUFBTztBQUNiLEVBQUFBLE9BQU1BLEtBQUksWUFBWTtBQUN0QixFQUFBQSxPQUFNQSxLQUFJLEtBQUs7QUFDZixNQUFJLFdBQVdBO0FBRWYsRUFBQUEsT0FBTUEsS0FBSSxRQUFRLGFBQWEsRUFBRTtBQUVqQyxFQUFBQSxPQUFNQSxLQUFJLFFBQVEsV0FBVyxLQUFLO0FBRWxDLEVBQUFBLE9BQU1BLEtBQUksUUFBUSxXQUFXLEdBQUc7QUFFaEMsTUFBSSxRQUFRLEtBQUtBLElBQUcsTUFBTSxPQUFPO0FBQy9CLElBQUFBLE9BQU1BLEtBQUksUUFBUSxZQUFZLEVBQUU7QUFDaEMsSUFBQUEsT0FBTUEsS0FBSSxRQUFRLGlCQUFpQixFQUFFO0FBQ3JDLElBQUFBLE9BQU1BLEtBQUksUUFBUSxZQUFZLEVBQUU7QUFBQSxFQUNsQztBQUVBLEVBQUFBLE9BQU1BLEtBQUksUUFBUSwwQkFBMEIsRUFBRTtBQUU5QyxFQUFBQSxPQUFNQSxLQUFJLEtBQUs7QUFFZixNQUFJQSxTQUFRLElBQUk7QUFDZCxJQUFBQSxPQUFNO0FBQUEsRUFDUjtBQUVBLEVBQUFBLE9BQU1BLEtBQUksUUFBUSxvQkFBb0IsTUFBTTtBQUM1QyxTQUFPQTtBQUNUO0FBQ0EsSUFBTyxrQkFBUTs7O0FDN0JmLElBQU0sZ0JBQWdCO0FBQ3RCLElBQU0sbUJBQW1CO0FBQ3pCLElBQU0sa0JBQWtCO0FBQ3hCLElBQU0sbUJBQW1CO0FBRXpCLElBQU0sWUFBWSxTQUFVQyxNQUFLO0FBRS9CLE1BQUksY0FBYyxLQUFLQSxJQUFHLE1BQU0sTUFBTTtBQUNwQyxXQUFPO0FBQUEsRUFDVDtBQUVBLE1BQUksaUJBQWlCLEtBQUtBLElBQUcsTUFBTSxNQUFNO0FBQ3ZDLFdBQU87QUFBQSxFQUNUO0FBRUEsTUFBSSxpQkFBaUIsS0FBS0EsSUFBRyxNQUFNLE1BQU07QUFDdkMsV0FBTztBQUFBLEVBQ1Q7QUFFQSxNQUFJLGdCQUFnQixLQUFLQSxJQUFHLE1BQU0sTUFBTTtBQUN0QyxXQUFPO0FBQUEsRUFDVDtBQUNBLFNBQU87QUFDVDtBQUVBLElBQU0sWUFBWSxTQUFVQSxNQUFLO0FBQy9CLE1BQUksVUFBVUEsSUFBRyxHQUFHO0FBQ2xCLElBQUFBLE9BQU1BLEtBQUksUUFBUSxPQUFPLEVBQUU7QUFBQSxFQUM3QjtBQUNBLFNBQU9BO0FBQ1Q7QUFDQSxJQUFPLG1CQUFROzs7QUM1QmYsSUFBTSxZQUFZLFNBQVUsTUFBTUMsUUFBTztBQUN2QyxRQUFNQyxlQUFjRCxPQUFNLFFBQVEsSUFBSTtBQUV0QyxNQUFJRSxPQUFNLEtBQUssUUFBUTtBQUN2QixFQUFBQSxPQUFNLGdCQUFRQSxJQUFHO0FBRWpCLEVBQUFBLE9BQU1ELGFBQVlDLE1BQUtGLE1BQUs7QUFDNUIsRUFBQUUsT0FBTSxpQkFBV0EsSUFBRztBQUNwQixPQUFLLFNBQVNBO0FBQ2hCO0FBQ0EsSUFBTyxpQkFBUTs7O0FDWGYsSUFBTUMsU0FBUSxTQUFVLE9BQU9DLFFBQU87QUFDcEMsUUFBTSxFQUFFLFNBQUFDLFdBQVMsT0FBQUMsT0FBTSxJQUFJRjtBQUMzQixRQUFNLEVBQUUsZ0JBQUFHLGlCQUFnQixZQUFZLGdCQUFnQixJQUFJRixVQUFRLElBQUk7QUFDcEUsVUFBUSxTQUFTO0FBRWpCLE1BQUksWUFBWUUsZ0JBQWUsT0FBT0gsTUFBSztBQUUzQyxVQUFRLFVBQVUsSUFBSSxDQUFDLFFBQVE7QUFDN0IsUUFBSSxRQUFRLFdBQVcsS0FBS0UsTUFBSztBQUVqQyxZQUFRLE1BQU0sSUFBSSxDQUFBRSxPQUFLLGdCQUFnQkEsSUFBR0YsTUFBSyxDQUFDO0FBRWhELFVBQU0sUUFBUSxDQUFDRSxPQUFNO0FBQ25CLHFCQUFVQSxJQUFHSixNQUFLO0FBQUEsSUFDcEIsQ0FBQztBQUNELFdBQU87QUFBQSxFQUNULENBQUM7QUFDRCxTQUFPO0FBQ1Q7QUFDQSxJQUFPSyxpQkFBUU47OztBQ3RCZixJQUFNTyxhQUFZO0FBQ2xCLElBQU0sYUFBYTtBQUNuQixJQUFNQyxhQUFZO0FBQ2xCLElBQU0sWUFBWTtBQUNsQixJQUFNLFdBQVc7QUFHakIsSUFBTSxhQUFhLFNBQVVDLE1BQUssU0FBUztBQUV6QyxNQUFJRCxXQUFVLEtBQUtDLElBQUcsTUFBTSxPQUFPO0FBQ2pDLFdBQU87QUFBQSxFQUNUO0FBRUEsTUFBSUYsV0FBVSxLQUFLRSxJQUFHLE1BQU0sTUFBTTtBQUNoQyxXQUFPO0FBQUEsRUFDVDtBQUVBLE1BQUlBLEtBQUksV0FBVyxLQUFLLFNBQVMsS0FBS0EsSUFBRyxHQUFHO0FBQzFDLFdBQU87QUFBQSxFQUNUO0FBRUEsTUFBSSxXQUFXLEtBQUtBLElBQUcsTUFBTSxNQUFNO0FBQ2pDLFdBQU87QUFBQSxFQUNUO0FBQ0EsTUFBSSxNQUFNQSxLQUFJLFFBQVEsMkNBQTJDLEVBQUU7QUFDbkUsTUFBSSxRQUFRLElBQUksTUFBTSxHQUFHO0FBQ3pCLE1BQUksV0FBVyxNQUFNLE1BQU0sU0FBUyxDQUFDLEVBQUUsWUFBWTtBQUVuRCxNQUFJLFFBQVEsZUFBZSxRQUFRLE1BQU0sUUFBUSxVQUFVLEtBQUtBLElBQUcsTUFBTSxNQUFNO0FBQzdFLFdBQU87QUFBQSxFQUNUO0FBS0EsU0FBTztBQUNUO0FBQ0EsSUFBTyxzQkFBUTs7O0FDOUJmLElBQU9DLG1CQUFRO0FBQUEsRUFDYixLQUFLO0FBQUEsSUFDSDtBQUFBLElBQ0EsVUFBVTtBQUFBLE1BQ1I7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0EsaUJBQUFDO0FBQUEsTUFDQSxZQUFBQztBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0Y7OztBQ2xCQSxJQUFNLFVBQVU7QUFBQSxFQUNkLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLE9BQU87QUFBQSxFQUNQLFFBQVE7QUFDVjtBQUNBLElBQU8sa0JBQVE7OztBQ1BmLElBQU8sZUFBUTtBQUFBLEVBQ2I7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUE7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUE7QUFDRjs7O0FDcERBLElBQU8scUJBQVE7QUFBQSxFQUNiO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVB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QUVBLE1BQU0sZUFBZTtBQUNwQixTQUFLLFdBQVcsT0FBTztBQUFBLE1BQ3RCLENBQUM7QUFBQSxNQUNEO0FBQUEsTUFDQSxNQUFNLEtBQUssU0FBUztBQUFBLElBQ3JCO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUNqQyxTQUFLLGdCQUFnQixpQkFBaUI7QUFBQSxFQUN2QztBQUNEOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAibWF0Y2giLCAiZSIsICJmZXRjaCIsICJyZXNvbHZlIiwgIl9hIiwgImUiLCAiSGVhZGVycyIsICJyZXNvbHZlIiwgIm1hdGNoIiwgImkiLCAiUmVxdWVzdCIsICJzcGxpdCIsICJSZXNwb25zZSIsICJmZXRjaCIsICJfYSIsICJmZXRjaCIsICJwIiwgIl9fZGVmUHJvcCIsICJpIiwgIk9sbGFtYSIsICJmcyIsICJlIiwgInMiLCAic3RhcnQiLCAiaSIsICJtYXRjaCIsICJpbmRleCIsICJnZXQiLCAic2VsZiIsICJqIiwgImVzY2FwZSIsICJjbGVhckNhY2hlIiwgInBhcnNlIiwgInJlbmRlciIsICJtZXRob2RzIiwgImlzQXJyYXkiLCAid29ybGQiLCAiY29tcHV0ZSIsICJpIiwgIm91dCIsICJuIiwgInIiLCAibiIsICJrIiwgImkiLCAibWF4IiwgImEiLCAidCIsICJtZXRob2RzIiwgImRvY3VtZW50IiwgImEiLCAibiIsICJzdGFydCIsICJlbmQiLCAiaSIsICJtZXRob2RzIiwgIm1vZGVsIiwgInBsdWdpbiIsICJrIiwgIndvcmxkIiwgIlZpZXciLCAibmxwIiwgIm1ldGhvZHMiLCAiY29tcHV0ZSIsICJob29rcyIsICJpc09iamVjdCIsICJpc0FycmF5IiwgIm8iLCAiYSIsICJzdHIiLCAiVmlldyIsICJ3b3JsZCIsICJtZXRob2RzIiwgImRvY3VtZW50IiwgImNvbXB1dGUiLCAicGx1Z2luIiwgImRvY3VtZW50IiwgInN0ciIsICJ0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJtZXRob2RzIiwgIlZpZXciLCAiY29tcHV0ZV9kZWZhdWx0IiwgImNvbXB1dGVfZGVmYXVsdCIsICJtZXRob2RzX2RlZmF1bHQiLCAidCIsICJpIiwgInN0ciIsICJpbmRleCIsICJoYXNTcGFjZSIsICJoYXNEYXNoIiwgImVuZCIsICJwb3N0IiwgInN0YXJ0IiwgImRvY3VtZW50IiwgIm4iLCAiaW5kZXgiLCAic3RyIiwgIm4iLCAiaSIsICJyIiwgImlzQXJyYXkiLCAid29ybGQiLCAibWV0aG9kcyIsICJkb2N1bWVudCIsICJpIiwgIm4iLCAiZm5zIiwgImZucyIsICJpc1RpdGxlQ2FzZSIsICJzdHIiLCAidG9UaXRsZUNhc2UiLCAidG9Mb3dlckNhc2UiLCAib3V0IiwgImEiLCAiaSIsICJtYXRjaCIsICJkb2N1bWVudCIsICJuIiwgInN0YXJ0IiwgImVuZCIsICJpIiwgIm4iLCAiaSIsICJtZXRob2RzIiwgImluZGV4TiIsICJzZWxmIiwgImRvY3VtZW50IiwgInJlbW92ZV9kZWZhdWx0IiwgIm1ldGhvZHMiLCAic3RyIiwgInN0YXJ0IiwgImVuZCIsICJ0IiwgImkiLCAiaGFzSHlwaGVuIiwgImEiLCAibyIsICJhIiwgIm4iLCAidCIsICJvIiwgInNvcnRfZGVmYXVsdCIsICJpc0FycmF5IiwgImVuZCIsICJwdHJzIiwgImEiLCAiYSIsICJtZXRob2RzIiwgInJlbW92ZV9kZWZhdWx0IiwgInNvcnRfZGVmYXVsdCIsICJhZGRBUEkiLCAiVmlldyIsICJhcGlfZGVmYXVsdCIsICJjb21wdXRlIiwgIm4iLCAiaSIsICJjb21wdXRlX2RlZmF1bHQiLCAicGx1Z2luX2RlZmF1bHQiLCAiYXBpX2RlZmF1bHQiLCAiY29tcHV0ZV9kZWZhdWx0IiwgImRvY3VtZW50IiwgIm4iLCAiaSIsICJpIiwgImJlZm9yZSIsICJpIiwgImJlZm9yZSIsICJoYXNDb250cmFjdGlvbiIsICJpIiwgImFmdGVyIiwgImkiLCAiaSIsICJ3b3JsZCIsICJzdGFydCIsICJlbmQiLCAiaSIsICJsaXN0IiwgImJlZm9yZSIsICJhZnRlciIsICJvIiwgImsiLCAid29ybGQiLCAiZG9jdW1lbnQiLCAibW9kZWwiLCAibWV0aG9kcyIsICJuIiwgImNvbnRyYWN0aW9uc19kZWZhdWx0IiwgImNvbXB1dGVfZGVmYXVsdCIsICJjb250cmFjdGlvbnNfZGVmYXVsdCIsICJjb21wdXRlX2RlZmF1bHQiLCAicGx1Z2luX2RlZmF1bHQiLCAid29ybGQiLCAibW9kZWwiLCAibWV0aG9kcyIsICJzZXRUYWciLCAiaSIsICJ0IiwgImVuZCIsICJrIiwgInN0ciIsICJjb21wdXRlX2RlZmF1bHQiLCAic3RyIiwgInQiLCAicGx1Z2luX2RlZmF1bHQiLCAiY29tcHV0ZV9kZWZhdWx0IiwgIndvcmxkIiwgIm1ldGhvZHMiLCAiVmlldyIsICJ3b3JsZCIsICJtb2RlbCIsICJtZXRob2RzIiwgInNldFRhZyIsICJsZXhpY29uIiwgInQiLCAiZW5kIiwgImkiLCAic3RyIiwgImkiLCAid29ybGQiLCAibW9kZWwiLCAibWV0aG9kcyIsICJzZXRUYWciLCAibGV4aWNvbiIsICJ0IiwgInN0ciIsICJ3b3JsZCIsICJpIiwgImNvbXB1dGVfZGVmYXVsdCIsICJleHBhbmQiLCAic3BsaXQiLCAibWV0aG9kc19kZWZhdWx0IiwgIndvcmxkIiwgIm1ldGhvZHMiLCAibW9kZWwiLCAiayIsICJsZXgiLCAiX211bHRpIiwgIm1vZGVsIiwgInBsdWdpbl9kZWZhdWx0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJjb21wdXRlX2RlZmF1bHQiLCAid29ybGQiLCAibWV0aG9kcyIsICJtb2RlbCIsICJ0IiwgIm4iLCAiaSIsICJyIiwgInMiLCAiZnMiLCAib3B0cyIsICJuIiwgImkiLCAibyIsICJzdGFydCIsICJzY2FuIiwgImlzT2JqZWN0IiwgImFwaV9kZWZhdWx0IiwgIlZpZXciLCAib3B0cyIsICJsaXN0IiwgImkiLCAibyIsICJwbHVnaW5fZGVmYXVsdCIsICJhcGlfZGVmYXVsdCIsICJuIiwgImZpeFBvaW50ZXJzIiwgImsiLCAib3B0cyIsICJ3b3JsZCIsICJpc09iamVjdCIsICJvcHRzIiwgImZpeFBvaW50ZXJzIiwgInB0cnMiLCAiaSIsICJtZXRob2RzIiwgIm9wdHMiLCAiaW5kZXhOIiwgImsiLCAiYSIsICJwb3N0IiwgImRvY3VtZW50IiwgIm4iLCAiZW5kIiwgImlzQXJyYXkiLCAiYWRkSWRzIiwgIm4iLCAic3RhcnQiLCAiZW5kIiwgIm1ldGhvZHMiLCAic3BsaXRBbGwiLCAibyIsICJwIiwgImkiLCAid29ybGQiLCAiaSIsICJtZXRob2RzIiwgIm1ldGhvZHMiLCAiVmlldyIsICJhcGlfZGVmYXVsdCIsICJzdHIiLCAic3RyIiwgIm9wdHMiLCAiaSIsICJfYSIsICJjIiwgInMiLCAic3BsaXQiLCAid29ybGQiLCAiaSIsICJ3b3JsZCIsICJzdHIiLCAiaW5kZXgiLCAiaSIsICJyIiwgIm9wdHMiLCAid29ybGQiLCAic3RyIiwgImkiLCAibGltaXQiLCAiaSIsICJqIiwgInQiLCAibGVuZ3RoIiwgImhhc0Rhc2giLCAibWV0aG9kcyIsICJpbmRleCIsICJsZW5ndGgiLCAic3RyIiwgInIiLCAidCIsICJzdGFydCIsICJ0IiwgImciLCAiaXNBcnJheSIsICJjIiwgInQiLCAiaSIsICJnIiwgImVuZCIsICJnIiwgImVuZCIsICJ0IiwgImciLCAiayIsICJvIiwgInN0YXJ0IiwgImdldEdyb3VwIiwgInIiLCAiayIsICJuIiwgInN0YXJ0IiwgImVuZCIsICJpIiwgIm4iLCAiayIsICJyIiwgImkiLCAiZW5kIiwgInN0YXJ0IiwgIm1hdGNoX2RlZmF1bHQiLCAibWV0aG9kcyIsICJtYXRjaF9kZWZhdWx0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJsaWJfZGVmYXVsdCIsICJzdHIiLCAib3B0cyIsICJ3b3JsZCIsICJraWxsVW5pY29kZSIsICJwbHVnaW5fZGVmYXVsdCIsICJhcGlfZGVmYXVsdCIsICJtZXRob2RzX2RlZmF1bHQiLCAibGliX2RlZmF1bHQiLCAic3RyIiwgImsiLCAic3RhcnQiLCAiZW5kIiwgInQiLCAiYSIsICJvdXQiLCAiaSIsICJvcHRzIiwgInQiLCAicG9zdCIsICJpIiwgInMiLCAiYyIsICJkIiwgImgiLCAiaiIsICJhIiwgImEiLCAiZm5zIiwgInQiLCAiaSIsICJrIiwgIm1ldGhvZHMiLCAibiIsICJkZWJ1ZyIsICJmbXQiLCAiZGVidWdfZGVmYXVsdCIsICJwb3N0IiwgImEiLCAibiIsICJpIiwgInQiLCAiZW5kIiwgImlzT2JqZWN0IiwgImEiLCAiayIsICJzdHIiLCAidCIsICJvIiwgImxpc3QiLCAiaCIsICJtZXRob2RzIiwgImRlYnVnX2RlZmF1bHQiLCAiaXNPYmplY3QiLCAiZm10IiwgIm9wdHMiLCAibWV0aG9kcyIsICJhZGRBUEkiLCAiVmlldyIsICJhcGlfZGVmYXVsdCIsICJvdXQiLCAidCIsICJzdHIiLCAibW9kZWwiLCAiYyIsICJ0IiwgInN0ciIsICJvdXQiLCAib2Zmc2V0IiwgImluZGV4IiwgInN0YXJ0IiwgImVuZCIsICJwb3N0IiwgImsiLCAiaSIsICJkZWJ1ZyIsICJkZWJ1Z19kZWZhdWx0IiwgInBsdWdpbl9kZWZhdWx0IiwgImFwaV9kZWZhdWx0IiwgImRlYnVnX2RlZmF1bHQiLCAiYSIsICJtYXgiLCAiaSIsICJuIiwgInN0YXJ0IiwgImVuZCIsICJkb2VzTWF0Y2giLCAicCIsICJhIiwgImkiLCAic3BsaXRfZGVmYXVsdCIsICJuIiwgImkiLCAiaW5kZXgiLCAiZG9jdW1lbnQiLCAic3RhcnQiLCAidCIsICJnZXREb2MiLCAiZW5kIiwgImEiLCAiaSIsICJ0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJzcGxpdF9kZWZhdWx0IiwgImEiLCAibiIsICJzcGxpdF9kZWZhdWx0IiwgIm8iLCAiYSIsICJzdGFydCIsICJlbmQiLCAicCIsICJoIiwgImlzQXJyYXkiLCAiZ2V0RG9jIiwgImFkZElkcyIsICJuIiwgInN0YXJ0IiwgIm1ldGhvZHMiLCAiYWRkQVBJIiwgIlZpZXciLCAiYXBpX2RlZmF1bHQiLCAicGx1Z2luX2RlZmF1bHQiLCAibWV0aG9kc19kZWZhdWx0IiwgImFwaV9kZWZhdWx0IiwgImxpYl9kZWZhdWx0IiwgIm1ldGhvZHMiLCAiVmlldyIsICJvcHRzIiwgIndvcmxkIiwgIm1ldGhvZHMiLCAibyIsICJhcGlfZGVmYXVsdCIsICJyIiwgInN0ciIsICJuIiwgInBhcnNlIiwgIndvcmxkIiwgIm8iLCAid29ybGQiLCAiaG9va3MiLCAic3RyIiwgImsiLCAibyIsICJob29rcyIsICJpIiwgImsiLCAibGlzdCIsICJuIiwgInN0ciIsICJydW5NYXRjaCIsICJkb2N1bWVudCIsICJtZXRob2RzIiwgIm9wdHMiLCAibiIsICJpIiwgImRvY3VtZW50IiwgImkiLCAibyIsICJtZXRob2RzIiwgIm9wdHMiLCAibW9kZWwiLCAiaSIsICJrIiwgImxpc3QiLCAiZG9jdW1lbnQiLCAid29ybGQiLCAibW9kZWwiLCAibWV0aG9kcyIsICJnZXREb2MiLCAic2V0VGFnIiwgInVuVGFnIiwgInQiLCAibWV0aG9kc19kZWZhdWx0IiwgInBsdWdpbl9kZWZhdWx0IiwgImxpYl9kZWZhdWx0IiwgImFwaV9kZWZhdWx0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJvIiwgInRhZ1N0cmluZyIsICJpIiwgImlzQXJyYXkiLCAic3RyIiwgInQiLCAid29ybGQiLCAiaSIsICJvIiwgImNhbkJlIiwgImkiLCAiY2FuQmVfZGVmYXVsdCIsICJlIiwgInQiLCAibiIsICJyIiwgImkiLCAiYyIsICJzIiwgImciLCAiYyIsICJrIiwgImsiLCAiY29tcHV0ZSIsICJrIiwgIm8iLCAibWV0aG9kc19kZWZhdWx0IiwgImNhbkJlX2RlZmF1bHQiLCAiaXNBcnJheSIsICJmbnMiLCAibWV0aG9kcyIsICJ2ZXJib3NlIiwgIndvcmxkIiwgIm1vZGVsIiwgImNhbkJlIiwgIm4iLCAiaSIsICJWaWV3IiwgImFwaV9kZWZhdWx0IiwgImFkZFRhZ3MiLCAibW9kZWwiLCAibWV0aG9kcyIsICJsaWJfZGVmYXVsdCIsICJhIiwgImRvY3VtZW50IiwgIndvcmxkIiwgInBsdWdpbl9kZWZhdWx0IiwgIm1ldGhvZHNfZGVmYXVsdCIsICJhcGlfZGVmYXVsdCIsICJsaWJfZGVmYXVsdCIsICJpIiwgIm8iLCAiaSIsICJzIiwgIndvcmxkIiwgImlzU2VudGVuY2UiLCAiaSIsICJjIiwgInN0ciIsICJpIiwgInNwbGl0IiwgImkiLCAic3BsaXQiLCAiaGFzU29tZXRoaW5nIiwgIndvcmxkIiwgImkiLCAiaGFzSHlwaGVuIiwgInN0ciIsICJtb2RlbCIsICJzcGxpdEh5cGhlbnMiLCAibyIsICJpIiwgImkiLCAiaCIsICJjIiwgImlzQXJyYXkiLCAic3RyIiwgIm1vZGVsIiwgImkiLCAiaGFzSHlwaGVuIiwgInNwbGl0SHlwaGVucyIsICJzIiwgInN0ciIsICJtb2RlbCIsICJwcmVQdW5jdHVhdGlvbiIsICJwb3N0UHVuY3R1YXRpb24iLCAiZW1vdGljb25zIiwgInBvc3QiLCAiaSIsICJjIiwgImFmdGVyIiwgIm1vZGVsIiwgInN0ciIsICJwb3N0IiwgIndoaXRlc3BhY2VfZGVmYXVsdCIsICJzdHIiLCAid29ybGQiLCAidW5pY29kZSIsICJzIiwgImkiLCAic3RyIiwgInN0ciIsICJ3b3JsZCIsICJraWxsVW5pY29kZSIsICJzdHIiLCAicGFyc2UiLCAid29ybGQiLCAibWV0aG9kcyIsICJtb2RlbCIsICJzcGxpdFNlbnRlbmNlcyIsICJ0IiwgInBhcnNlX2RlZmF1bHQiLCAiaXNBY3JvbnltIiwgImhhc0xldHRlciIsICJzdHIiLCAibWV0aG9kc19kZWZhdWx0IiwgIndoaXRlc3BhY2VfZGVmYXVsdCIsICJwYXJzZV9kZWZhdWx0IiwgImxleGljb24iLCAiYSIsICJoIiwgInN0ciIsICJrIiwgInMiLCAidW5pY29kZV9kZWZhdWx0IiwgIm1vZGVsX2RlZmF1bHQiLCAibGV4aWNvbiIsICJ1bmljb2RlX2RlZmF1bHQiLCAid29ybGQiLCAic3RyIiwgImFsaWFzZXMiLCAiaGFzRGFzaCIsICJzdHIiLCAiaSIsICJ0IiwgImluZGV4IiwgImkiLCAidCIsICJpbmRleCIsICJkb2N1bWVudCIsICJuIiwgImkiLCAid29yZENvdW50IiwgIm4iLCAiaSIsICJ0IiwgImkiLCAidCIsICJtZXRob2RzIiwgImNvbXB1dGVfZGVmYXVsdCIsICJwbHVnaW5fZGVmYXVsdCIsICJjb21wdXRlX2RlZmF1bHQiLCAibWV0aG9kc19kZWZhdWx0IiwgIm1vZGVsX2RlZmF1bHQiLCAiY29tcHV0ZV9kZWZhdWx0IiwgImFwaSIsICJWaWV3IiwgImFwaV9kZWZhdWx0IiwgIm9wdHMiLCAid29ybGQiLCAiaW5kZXgiLCAic3RyIiwgIm1heCIsICJwcmVmaXgiLCAiaXNPYmplY3QiLCAiZGVmYXVsdHMiLCAib3B0cyIsICJtb2RlbCIsICJzdHIiLCAibGliX2RlZmF1bHQiLCAibW9kZWwiLCAicGx1Z2luX2RlZmF1bHQiLCAiYXBpX2RlZmF1bHQiLCAibGliX2RlZmF1bHQiLCAiY29tcHV0ZV9kZWZhdWx0IiwgInBsdWdpbl9kZWZhdWx0IiwgIk9sbGFtYSIsICJtb2RlbCIsICJpIiwgInN0ciIsICJvdXQiLCAiaiIsICJpIiwgImMiLCAiaSIsICJoYXMiLCAicHJlZml4IiwgImlzX2FycmF5IiwgInB1c2giLCAiZGVmYXVsdHMiLCAiZmlsdGVyIiwgInNvcnQiLCAiaiIsICJvcHRzIiwgImkiLCAiZmV0Y2giLCAiUmVxdWVzdCIsICJSZXNwb25zZSIsICJIZWFkZXJzIiwgIkZvcm1EYXRhIiwgIkJsb2IiLCAiRmlsZSIsICJSZWFkYWJsZVN0cmVhbSIsICJvcHRzIiwgIl9hIiwgImkiLCAiZSIsICJjb25zdW1lZCIsICJlIiwgInNlbGYiLCAiUmVhZGFibGVTdHJlYW0iLCAiX2EiLCAiXyIsICJzdHIiLCAiaW5kZXgiLCAiX2EiLCAiRmlsZSIsICJwIiwgIm9wdHMiLCAiRm9ybURhdGEiLCAiZGVidWciLCAiX2EiLCAicGFyc2VSZXNwb25zZSIsICJyZXNvbHZlIiwgInAiLCAiZmV0Y2giLCAib3B0cyIsICJQYWdlIiwgInJldHJ5TWVzc2FnZSIsICJlIiwgIl8iLCAiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwgImsiLCAibWF0Y2giLCAibiIsICJfYSIsICJrIiwgImRlYnVnIiwgIl9hIiwgIm1vZGlmaWVkQXJnIiwgImMiLCAiciIsICJfYSIsICJnMiIsICJfYSIsICJfYSIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgInJlc29sdmUiLCAiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsICJpbmRleCIsICJsIiwgIl9hIiwgImlucHV0VG9vbCIsICJ0IiwgIl9hIiwgIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCAiYyIsICJmIiwgImkiLCAiY29udGVudCIsICJ0IiwgIm5hbWUiLCAiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlIiwgIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsIiwgIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0IiwgIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UiLCAiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMiLCAiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0IiwgIm9wdHMiLCAicGFyc2VKU09OIiwgImxlbmd0aCIsICJpbmRleCIsICJzdGFydCIsICJlc2NhcGUiLCAiZSIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCAiX2EiLCAiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCIsICJfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSIsICJfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmsiLCAiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRUb29sQ2FsbERvbmVFdmVudCIsICJfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdENvbnRlbnREb25lRXZlbnRzIiwgIl9DaGF0Q29tcGxldGlvblN0cmVhbV9lbmRSZXF1ZXN0IiwgIl9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQiLCAiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FjY3VtdWxhdGVDaGF0Q29tcGxldGlvbiIsICJpbmRleCIsICJjb250ZW50IiwgInJlZnVzYWwiLCAicmVzdCIsICJfYiIsICJfYyIsICJfZCIsICJyZXNvbHZlIiwgImNodW5rIiwgIm1vZGVsIiwgImkiLCAiaWQiLCAib3B0cyIsICJDb21wbGV0aW9ucyIsICJDaGF0IiwgIkNvbXBsZXRpb25zIiwgInJlc29sdmUiLCAiY2h1bmsiLCAiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsICJfYSIsICJpbmRleCIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgImFzc2VydE5ldmVyIiwgIl9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCIsICJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZU1lc3NhZ2UiLCAiX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW5TdGVwIiwgIl9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlRXZlbnQiLCAiX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCIsICJfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVNZXNzYWdlIiwgIl9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZUNvbnRlbnQiLCAiX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4iLCAiTWVzc2FnZXMiLCAiX2EiLCAiTWVzc2FnZXMiLCAiX2EiLCAiQ2hhdCIsICJDb21wbGV0aW9ucyIsICJfYSIsICJzdGFydCIsICJtb2RlbCIsICJoYXNBdXRvUGFyc2VhYmxlSW5wdXQiLCAicGFyc2VUb29sQ2FsbCIsICJjb250ZW50IiwgIm91dHB1dCIsICJfYSIsICJpc0F1dG9QYXJzYWJsZVRvb2wiLCAicGFyc2VUb29sQ2FsbCIsICJfYSIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCAiX2EiLCAiX1Jlc3BvbnNlU3RyZWFtX2JlZ2luUmVxdWVzdCIsICJfUmVzcG9uc2VTdHJlYW1fYWRkRXZlbnQiLCAiX1Jlc3BvbnNlU3RyZWFtX2VuZFJlcXVlc3QiLCAiX1Jlc3BvbnNlU3RyZWFtX2FjY3VtdWxhdGVSZXNwb25zZSIsICJyZXNvbHZlIiwgImV2ZW50IiwgIl9hIiwgInByb21pc2VzIiwgIkZpbGVzIiwgIl9hIiwgIkZpbGVzIiwgIl9hIiwgIm9wdHMiLCAiQ29tcGxldGlvbnMiLCAiX2EiLCAibW9kZWwiLCAiX2EiLCAibW9kZWwiLCAicGx1Z2luIiwgImkiLCAiaW1wb3J0X29ic2lkaWFuIiwgInBsdWdpbiIsICJfYSIsICJwbHVnaW4iLCAibW9kZWwiLCAicHJvZmlsZUNlbGwiLCAicHJvZmlsZURyb3Bkb3duIiwgInBsdWdpbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAicGx1Z2luIl0KfQo=
